
# $Id: setup.py.in,v 1.3 2002/12/30 18:59:35 grisha Exp $

APXS = r"@APXS@"
VER = "@MP_VERSION@"

from distutils.core import setup

import sys

if len(sys.argv) > 1 and sys.argv[1] == "bdist_wininst":
    moddir = ""
    mpso = "mod_python.so"

    setup(name="mod_python",
          version=VER,
          description="Apache/Python Integration",
          author="Gregory Trubetskoy et al",
          author_email="mod_python@modpython.org",
          url="http://www.modpython.org/",
          packages=["mod_python"],
          package_dir = {"mod_python":"../lib/python/mod_python"},
          scripts=["win32_postinstall.py"],
          data_files=[(moddir, ["mod_python.so"])])

else:
    import commands
    moddir = commands.getoutput("%s -q LIBEXECDIR" % APXS)
    mpso = "../src/mod_python.so"

    setup(name="mod_python",
          version=VER,
          description="Apache/Python Integration",
          author="Gregory Trubetskoy et al",
          author_email="mod_python@modpython.org",
          url="http://www.modpython.org/",
          packages=["mod_python"])


# makes emacs go into python mode
### Local Variables:
### mode:python
### End:
