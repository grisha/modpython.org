<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">

<html>
  <head>
    <title>Mod_Python Installation in Windows</title>
  </head>

  <body bgcolor=white>
    <h1>Installation in Windows</h1>

Enrique Vaamonde 
    <a href="mailto:evaamo@loquesea.com">
&lt;evaamo@loquesea.com&gt;</a>

<p>
The installation involves the following steps:

    <ul>
      <li><a href="#prerequisites">0. Prerequisites</a>
      <li><a href="#python">1. Installing mod_python libraries</a>
      <li><a href="#integration">2. Integrating it with Apache</a>
      <li><a href="#testing">3. Testing</a>
      <li><a href="#trouble">4. Troubleshooting</a>
    </ul>

    <blockquote>


      <a name="prerequisites"><h2>0. Prerequisites</h2></a>

      You need to have the following packages properly installed and
      configured in your system:
 
      <ul>
	<li> Python 1.5.2
	<li> Apache 1.3
	<li> Winzip 6.x or later.
      </ul>
      
      You need to download both the <code>mod_python.dll </code>and the <code>mod_python-2.x.tgz </code>
      (where x is the version number) files from the <a href="http://www.modpython.org">main page.</a><br>
      Once you have all the things above mentioned we're good to go.
      
      <a name="python"><h2>1. Installing mod_python libraries</h2></a>

      <ul>
	<li> Use Winzip to extract the distribution file (<code>mod_python-2.x.tgz</code>) into a temporary folder (i.e <code>C:\temp</code>):<br>
	<p><em>NOTE: If Winzip shows this warning "Archive contains one file, should Winzip decompress it to a
	temporary folder?" just click on <code>Yes</code>, the content of the file should appear in Winzip right after.</em></p>
	<li>Select all the files in Winzip and click on the Extract button, then type-in the path or just browse 
	your way to the temporary folder and click <code>extract</code>. 
	<li>Open your Windows Explorer and locate the temporary folder where you extracted the distribution file,
	  you should have a new folder in your temporary folder (<code>C:\temp\mod_python-2.x</code> ).<br>
	<li>Move (or just drag & drop) the <code>mod_python-2.x</code> folder into the Python lib folder (i.e <code>C:\Program Files\Python\lib</code>).
	<li>Move the files in the folder <code>lib</code> inside the <code>mod_python</code> folder (<code>C:\Program Files\Python\lib\mod_python-2.x\lib\mod_python</code> )
	to the <code>C:\Program Files\Python\lib\mod_python-2.x</code> folder. It's safe to delete these folders we just emptied.
      </ul>

      <a name="integration"><h2>2. Integrating it with Apache</h2></a>
      
      Once the distribution file is correctly extracted and later moved into the Python directory, it's time to modify 
      your Apache configuration (<code>httpd.conf</code>) and integrate the server with mod_python.
      
      These are a few steps we must do first: 
      <ul>
      	<li>Locate the file <code>mod_python.dll</code> that you downloaded before and move it to Apache's <code>modules</code> folder<br>
      	(i.e <code>C:\Program Files\Apache Group\Apache\modules</code>).
	<li>Go to the Apache configuration folder (i.e <code>C:\Program Files\Apache Group\Apache\conf\</code>) and edit the <code>httpd.conf</code> file.
	<li>Add the following line in the section <code>"Dynamic Shared Object (DSO) Support"</code> of the httpd.conf file:
      
	<pre>
		LoadModule python_module modules/mod_python.dll
	</pre>
	<li>Add the following lines in the section <code>ScriptAlias and CGI</code> of the <code>httpd.conf</code>:
	<pre>
		&lt;Directory "<em>&lt;Your Document Root&gt;</em>/python"&gt;
    		AddHandler python-program .py
    		PythonHandler test
    		PythonDebug on
		&lt;/Directory&gt;
	
	<em>NOTE: Replace the &lt;Your Document Root&gt; above with the Document Root you specified on the 
	<code>DocumentRoot</code> directive in the Apache's <code>httpd.conf</code> file.</em>
	</pre>
	<li>Last, create a folder under your Document Root called <code>python</code>.
	</ul>

      <a name="testing"><h2>3. Testing</h2></a>

      <ul>
	<li>Create a text file in the folder we created above and call it <code>test.py</code> (you can use Notepad for this).
	<li>Insert the following lines and save the file (Make sure it gets saved with the <code>.py</code> extension): 
	<pre>
	from mod_python import apache
	def handler(req):
	  req.content_type = "text/plain" 
          req.send_http_header()
          req.write("Hello World!")
          return apache.OK
       </pre>
      <li> Make sure Apache is running (or launch it!) and then point your browser to the URL referring to the test.py, you should
	  see <code>"Hello World!"</code>. That's it, you're ready to roll!!
	  If you don't see the "Hello World!" message, the next section is for you.
      </ul>

      <a name="trouble"><h2>4. Troubleshooting</h2></a>

      There are a couple things you can try to identify the problem:

      <ul>
	<li> Carefully study the error output, if any.
	<li> Check the error_log file, it may contain useful clues.
	<li> Make sure Python and the mod_python files are correctly installed/extracted
	<li> Ask on the mod_python list. Make sure to provide 
	  specifics such as:<br>
	  . Your Windows version.<br>
	  . Your Apache version.<br>
	  . Relevant parts of the Apache config, .htaccess.<br>
	  . Relevant parts of the Python code.<br>
      </ul>
	  
	

    </blockquote>


      </pre>
    </blockquote>

    <hr>
<!-- Created: Mon Sep 11 22:00:00 EDT 2000 -->
<!-- hhmts start -->
Last modified: Wed Oct 11 20:37:57 EDT 2000
<!-- hhmts end -->
  </body>
</html>
