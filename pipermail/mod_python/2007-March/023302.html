<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] RE: Mod_python Digest, Vol 48, Issue 23
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20RE%3A%20Mod_python%20Digest%2C%20Vol%2048%2C%20Issue%2023&In-Reply-To=200703201431.l2KEV9Zq032754%40modpython.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023298.html">
   <LINK REL="Next"  HREF="023309.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] RE: Mod_python Digest, Vol 48, Issue 23</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Posey, Jake E</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20RE%3A%20Mod_python%20Digest%2C%20Vol%2048%2C%20Issue%2023&In-Reply-To=200703201431.l2KEV9Zq032754%40modpython.org"
       TITLE="[mod_python] RE: Mod_python Digest, Vol 48, Issue 23">Jake.E.Posey at boeing.com
       </A><BR>
    <I>Tue Mar 20 11:53:37 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023298.html">[mod_python] Detecting Back Button Usage
</A></li>
        <LI>Next message: <A HREF="023309.html">[mod_python] RE: Mod_python Digest, Vol 48, Issue 23
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23302">[ date ]</a>
              <a href="thread.html#23302">[ thread ]</a>
              <a href="subject.html#23302">[ subject ]</a>
              <a href="author.html#23302">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have the same problem with compiling mod_python on 64bit Red Hat with apache 2.2.4 and even after recompiling python 2.5 with --enable-shared everything configures, compiles, and install without any errors but when I run python -V I get the following error:

[<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">root at lcas204</A> ~]# /usr/local/bin/python -V
/usr/local/bin/python: error while loading shared libraries: libpython2.5.so.1.0: cannot open shared object file: No such file or directory
[<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">root at lcas204</A> ~]#

However the file does exist and it is in my path.

[<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">root at lcas204</A> lib]# pwd
/usr/local/lib
[<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">root at lcas204</A> lib]# ls -ld *python*
lrwxrwxrwx   1 root root      19 Mar 20 09:02 libpython2.5.so -&gt; libpython2.5.so.1.0
-r-xr-xr-x   1 root root 5001973 Mar 20 09:02 libpython2.5.so.1.0
lrwxrwxrwx   1 root root      19 Mar 20 09:14 libpython.so -&gt; libpython2.5.so.1.0
drwxr-xr-x  21 root root   20480 Mar 20 09:02 python2.5
[<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">root at lcas204</A> lib]#

[<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">root at lcas204</A> ~]# echo $PATH
/usr/kerberos/sbin:/usr/kerberos/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/usr/X11R6/bin:/root/bin:/usr/local:/usr/local/lib:/usr/local/lib/python2.5
[<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">root at lcas204</A> ~]#

But if I just run ./configure with no options it configure, compiles, and installs with no errors and I'm able to run python -V to check the version and make sure it is working but when I go to compile mod_python I'm back to the original problem.

Any other ideas?

Thanks in advance,

Jake

-----Original Message-----
From: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python-request at modpython.org</A> [mailto:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python-request at modpython.org</A>] 
Sent: Tuesday, March 20, 2007 7:31 AM
To: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
Subject: Mod_python Digest, Vol 48, Issue 23

Send Mod_python mailing list submissions to
	<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>

To subscribe or unsubscribe via the World Wide Web, visit
	<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
or, via email, send a message with subject or body 'help' to
	<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python-request at modpython.org</A>

You can reach the person managing the list at
	<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python-owner at modpython.org</A>

When replying, please edit your Subject line so it is more specific
than &quot;Re: Contents of Mod_python digest...&quot;


Today's Topics:

   1. Object cleanup with child process scaling (Nicholas Milkovits)
   2. Re: Object cleanup with child process scaling (Graham Dumpleton)
   3. Compiling mod_python (Gabriele Farina)
   4. Re: Compiling mod_python (Roberto C. S?nchez)
   5. Re: Compiling mod_python (Graham Dumpleton)
   6. Detecting Back Button Usage (Kenneth Loafman)
   7. Re: Detecting Back Button Usage (Clodoaldo)
   8. Re: Detecting Back Button Usage (Jorey Bump)
   9. Re: Detecting Back Button Usage (Jorey Bump)


----------------------------------------------------------------------

Message: 1
Date: Mon, 19 Mar 2007 13:24:33 -0400
From: &quot;Nicholas Milkovits&quot; &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">nmilkovits at gmail.com</A>&gt;
Subject: [mod_python] Object cleanup with child process scaling
To: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
Message-ID:
	&lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">71a75690703191024o7faa4fe8yfb0b77c04f0dba07 at mail.gmail.com</A>&gt;
Content-Type: text/plain; charset=ISO-8859-1; format=flowed

Hello all,

I have a quick question about how apache2 and mod python work. When
apache (running in prefork mode) decides to scale back the number of
running child processes running because of a low request volume, does
mod python ensure that all objects have their __del__ methods called
or does apache just kill it and release the memory back to the system?
I am running across a problem where my oracle db has to many sessions
open (although they are marked as idle/invalid) and it appears to be
because the client application is never explicity telling oracle to
close the sessions before exiting. Is there any way to ensure a chunk
of code gets run before apache kills the process?

Thanks,
Nick M.


------------------------------

Message: 2
Date: Tue, 20 Mar 2007 07:57:02 +1100
From: &quot;Graham Dumpleton&quot; &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">graham.dumpleton at gmail.com</A>&gt;
Subject: Re: [mod_python] Object cleanup with child process scaling
To: &quot;Nicholas Milkovits&quot; &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">nmilkovits at gmail.com</A>&gt;
Cc: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
Message-ID:
	&lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">88e286470703191357n4f49e44am479406632e0a2077 at mail.gmail.com</A>&gt;
Content-Type: text/plain; charset=ISO-8859-1; format=flowed

On 20/03/07, Nicholas Milkovits &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">nmilkovits at gmail.com</A>&gt; wrote:
&gt;<i> Hello all,
</I>&gt;<i>
</I>&gt;<i> I have a quick question about how apache2 and mod python work. When
</I>&gt;<i> apache (running in prefork mode) decides to scale back the number of
</I>&gt;<i> running child processes running because of a low request volume, does
</I>&gt;<i> mod python ensure that all objects have their __del__ methods called
</I>
No it doesn't currently ensure that __del__ methods are called.

&gt;<i> or does apache just kill it and release the memory back to the system?
</I>
Yes and no. See below.

&gt;<i> I am running across a problem where my oracle db has to many sessions
</I>&gt;<i> open (although they are marked as idle/invalid) and it appears to be
</I>&gt;<i> because the client application is never explicity telling oracle to
</I>&gt;<i> close the sessions before exiting. Is there any way to ensure a chunk
</I>&gt;<i> of code gets run before apache kills the process?
</I>
When an Apache child process is killed the socket will be closed off.
The Oracle server side should detect this and recycle the connection
automatically. Because of this fact, I would suggest the problem might
lie elsewhere.

That said, look at the apache.register_cleanup() method.

  <A HREF="http://www.modpython.org/live/current/doc-html/pyapi-apmeth.html">http://www.modpython.org/live/current/doc-html/pyapi-apmeth.html</A>

This allows registration of callback to be called when Apache child
process is being shutdown. Note though that it is not guaranteed that
the callback will be called as various things could cause shutdown to
hang and parent Apache process will forcibly kill off child processes
if this occurs. Child process could also just die of their own accord
as well which would also mean that this would not be triggered.

Graham


------------------------------

Message: 3
Date: Tue, 20 Mar 2007 09:35:14 +0100
From: Gabriele Farina &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">g.farina at pharaondev.com</A>&gt;
Subject: [mod_python] Compiling mod_python
To: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
Message-ID: &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">5EB03EC6-9F5B-4DDA-8AC1-8778161CA0EC at pharaondev.com</A>&gt;
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed

Hi,

today I'm trying to compile mod_python on a Debian Linux box.
I installed correctly apache 2.2.4 and Python 2.5 from sources and  
then tried to compile mod_python. I get this error:

...
/config -Xlinker -export-dynamic -lm -lpython2.5 -lpthread -ldl - 
lutil -lm
/usr/bin/ld: /usr/local/lib/python2.5/config/libpython2.5.a 
(abstract.o): relocation R_X86_64_32 against `a local symbol' can not  
be used when making a shared object; recompile with -fPIC
/usr/local/lib/python2.5/config/libpython2.5.a: could not read  
symbols: Bad value
collect2: ld returned 1 exit status
apxs:Error: Command failed with rc=65536
.
make[1]: *** [mod_python.so] Error 1
make[1]: Leaving directory `/usr/local/src/mod_python-3.3.1/src'
make: *** [do_dso] Error 2

Anyone can help me understand where is the problem ?

Gabriele



------------------------------

Message: 4
Date: Tue, 20 Mar 2007 04:44:39 -0400
From: Roberto C. S?nchez &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">roberto at connexer.com</A>&gt;
Subject: Re: [mod_python] Compiling mod_python
To: Gabriele Farina &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">g.farina at pharaondev.com</A>&gt;
Cc: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
Message-ID: &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">20070320084439.GB8104 at santiago.connexer.com</A>&gt;
Content-Type: text/plain; charset=&quot;iso-8859-1&quot;

On Tue, Mar 20, 2007 at 09:35:14AM +0100, Gabriele Farina wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> today I'm trying to compile mod_python on a Debian Linux box.
</I>&gt;<i> I installed correctly apache 2.2.4 and Python 2.5 from sources and  
</I>&gt;<i> then tried to compile mod_python. I get this error:
</I>&gt;<i> 
</I>Umm, why on Earth would you install Apache *and* Python from sources on
Debian?  Just use aptitude.  Besides, mod_python is also packaged for
Debian.

Regards,

-Roberto

-- 
Roberto C. S&#225;nchez
<A HREF="http://people.connexer.com/~roberto">http://people.connexer.com/~roberto</A>
<A HREF="http://www.connexer.com">http://www.connexer.com</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: Digital signature
Url : <A HREF="http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20070320/c5973d52/attachment-0001.bin">http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20070320/c5973d52/attachment-0001.bin</A>

------------------------------

Message: 5
Date: Tue, 20 Mar 2007 21:27:45 +1100
From: &quot;Graham Dumpleton&quot; &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">graham.dumpleton at gmail.com</A>&gt;
Subject: Re: [mod_python] Compiling mod_python
To: &quot; Roberto C. S?nchez &quot; &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">roberto at connexer.com</A>&gt;,	&quot;Gabriele Farina&quot;
	&lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">g.farina at pharaondev.com</A>&gt;, <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
Message-ID:
	&lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">88e286470703200327n31c2eba6t46f320effad6b790 at mail.gmail.com</A>&gt;
Content-Type: text/plain; charset=ISO-8859-1; format=flowed

On 20/03/07, Roberto C. S&#225;nchez &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">roberto at connexer.com</A>&gt; wrote:
&gt;<i> On Tue, Mar 20, 2007 at 09:35:14AM +0100, Gabriele Farina wrote:
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; today I'm trying to compile mod_python on a Debian Linux box.
</I>&gt;<i> &gt; I installed correctly apache 2.2.4 and Python 2.5 from sources and
</I>&gt;<i> &gt; then tried to compile mod_python. I get this error:
</I>&gt;<i> &gt;
</I>&gt;<i> Umm, why on Earth would you install Apache *and* Python from sources on
</I>&gt;<i> Debian?  Just use aptitude.  Besides, mod_python is also packaged for
</I>&gt;<i> Debian.
</I>
One reason for recompiling Python is because the prepackaged binary
distributions of Python are generally never built with the
--enabled-shared option. This means you only have a static libpython.a
file and on 64 bit platforms when recompiling mod_python like above
this presents problems sometimes as Python packages are only built as
32 bit binaries. Also, that there is only a static libpython.a and not
a libpython.so means that the static Python library has to be embedded
within the mod_python.so file to work. This means that instead of your
mod_python.so being in the order of a few hundred KBytes it is over
1MB in size. Because the Python library part of this is not
relocatable object files, when it gets loaded into memory it
potentially has to have address relocations done on it resulting in
the mod_python.so no longer being shared between processes and instead
each of your Apache child processes ends up with up to 1.5MB of extra
private memory in use. In the end your Python web application is going
to probably take a lot more memory than that but it doesn't make the
situation any better.

Thus, to the OP, rebuild your Python installation from source first
and ensure that --enable-shared is used when configure is run. After
you have that reinstalled, then try rebuilding mod_python and see if
the error goes away. To save trashing the existing Python installation
you might install new version of Python elsewhere. Be warned that you
may have to ensure location of  'python' executable for new version is
in PATH before standard one for user that Apache runs as. See how it
goes without doing that first though. Not sure if rebuilding Apache is
actually necessary.

Graham



------------------------------

Message: 6
Date: Tue, 20 Mar 2007 08:32:58 -0500
From: Kenneth Loafman &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">kenneth at loafman.com</A>&gt;
Subject: [mod_python] Detecting Back Button Usage
To: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
Message-ID: &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">45FFE28A.7010104 at loafman.com</A>&gt;
Content-Type: text/plain; charset=ISO-8859-1; format=flowed

Hi,

This may not be the list I need, but here goes.  I'm new at this whole 
user interface thing, by nature a low-level systems guy, so be kind.

I'm using mod_python under Ubuntu Edgy 64, doing some basic plots of 
data and allowing users to select a point to center on a region and gen 
the next plot.  All of that works as long as the user moves forward. 
The problem comes in the use of the back button.  The browser merely 
displays the last page rather than rebuilding it, or at least restoring 
the variables.  This leads to a lot of confusion because the server is 
on one set of plot values and the browser is now on another.  This seems 
to be a common problem.  Is there a solution, or should I just warn the 
user not to use the browser back button?

...Thanks,
...Ken


------------------------------

Message: 7
Date: Tue, 20 Mar 2007 11:03:05 -0300
From: Clodoaldo &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">clodoaldo.pinto.neto at gmail.com</A>&gt;
Subject: Re: [mod_python] Detecting Back Button Usage
To: &quot;Kenneth Loafman&quot; &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">kenneth at loafman.com</A>&gt;
Cc: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
Message-ID:
	&lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">a595de7a0703200703m1e43c581y78990bd71d511166 at mail.gmail.com</A>&gt;
Content-Type: text/plain; charset=UTF-8; format=flowed

2007/3/20, Kenneth Loafman &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">kenneth at loafman.com</A>&gt;:
&gt;<i> I'm using mod_python under Ubuntu Edgy 64, doing some basic plots of
</I>&gt;<i> data and allowing users to select a point to center on a region and gen
</I>&gt;<i> the next plot.  All of that works as long as the user moves forward.
</I>&gt;<i> The problem comes in the use of the back button.  The browser merely
</I>&gt;<i> displays the last page rather than rebuilding it, or at least restoring
</I>&gt;<i> the variables.  This leads to a lot of confusion because the server is
</I>&gt;<i> on one set of plot values and the browser is now on another.  This seems
</I>&gt;<i> to be a common problem.  Is there a solution, or should I just warn the
</I>&gt;<i> user not to use the browser back button?
</I>
How does the user select the point? Entering it in a form field? If so
save the plot values (the page state) on the page using a hidden field
inside the form:
&lt;input type=&quot;hidden&quot; name=&quot;variable_1&quot; value=&quot;99.9&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;variable_2&quot; value=&quot;33.3&quot;&gt;

When the form is submitted those values will be available to your script.

If you are using some Ajax scripting to let the user select the point
then adapt it to also send the current page state.

I could not find the correct words to google. It would be something
like &quot;page state maintenance in HTML (or HTTP)&quot;. Can someone create
the correct search words?

Regards,
-- 
Clodoaldo Pinto Neto


------------------------------

Message: 8
Date: Tue, 20 Mar 2007 10:03:30 -0400
From: Jorey Bump &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">list at joreybump.com</A>&gt;
Subject: Re: [mod_python] Detecting Back Button Usage
To: Kenneth Loafman &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">kenneth at loafman.com</A>&gt;
Cc: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
Message-ID: &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">45FFE9B2.7040300 at joreybump.com</A>&gt;
Content-Type: text/plain; charset=ISO-8859-1; format=flowed

Kenneth Loafman wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> This may not be the list I need, but here goes.  I'm new at this whole 
</I>&gt;<i> user interface thing, by nature a low-level systems guy, so be kind.
</I>&gt;<i> 
</I>&gt;<i> I'm using mod_python under Ubuntu Edgy 64, doing some basic plots of 
</I>&gt;<i> data and allowing users to select a point to center on a region and gen 
</I>&gt;<i> the next plot.  All of that works as long as the user moves forward. The 
</I>&gt;<i> problem comes in the use of the back button.  The browser merely 
</I>&gt;<i> displays the last page rather than rebuilding it, or at least restoring 
</I>&gt;<i> the variables.  This leads to a lot of confusion because the server is 
</I>&gt;<i> on one set of plot values and the browser is now on another.  This seems 
</I>&gt;<i> to be a common problem.  Is there a solution, or should I just warn the 
</I>&gt;<i> user not to use the browser back button?
</I>
By default, your application has no way of knowing how the client 
requested the URL (other than the unreliable HTTP_REFERER environment 
variable), so it will need to know how to handle all requests, no matter 
what. You can maintain/simulate some sort of state in a variety of 
(somewhat limited) ways on the server side, and everyone has their own 
favorite approach. In any case, you need to expect the unexpected in the 
application itself.

After securing your application, you can add client-side scripting for 
potentially finer control over the requests sent by the client under 
certain circumstances. Typically, you'll use JavaScript, but there are 
other options, depending on your needs. Be aware that while you can 
require that your users depend on this to get use from your application, 
you can't force an arbitrary client to follow such rules, so you do need 
to be prepared when a visitor arrives without JavaScript enabled (for 
example).

Since you're correct that this isn't a mod_python issue, you're most 
likely to get more useful answers in a JavaScript or DHTML forum. There 
are also a number of JavaScript frameworks springing up, due to the AJAX 
craze, and some of these might have useful libraries, so you don't have 
to reinvent the wheel.



------------------------------

Message: 9
Date: Tue, 20 Mar 2007 10:30:19 -0400
From: Jorey Bump &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">list at joreybump.com</A>&gt;
Subject: Re: [mod_python] Detecting Back Button Usage
To: Clodoaldo &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">clodoaldo.pinto.neto at gmail.com</A>&gt;
Cc: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
Message-ID: &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">45FFEFFB.5030208 at joreybump.com</A>&gt;
Content-Type: text/plain; charset=UTF-8; format=flowed

Clodoaldo wrote:
&gt;<i> 2007/3/20, Kenneth Loafman &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">kenneth at loafman.com</A>&gt;:
</I>&gt;&gt;<i> The problem comes in the use of the back button.  The browser merely
</I>&gt;&gt;<i> displays the last page rather than rebuilding it, or at least restoring
</I>&gt;&gt;<i> the variables.  
</I>&gt;<i> 
</I>&gt;<i> How does the user select the point? Entering it in a form field? If so
</I>&gt;<i> save the plot values (the page state) on the page using a hidden field
</I>&gt;<i> inside the form:
</I>&gt;<i> &lt;input type=&quot;hidden&quot; name=&quot;variable_1&quot; value=&quot;99.9&quot;&gt;
</I>&gt;<i> &lt;input type=&quot;hidden&quot; name=&quot;variable_2&quot; value=&quot;33.3&quot;&gt;
</I>&gt;<i> 
</I>&gt;<i> When the form is submitted those values will be available to your script.
</I>
These days, all bets are off concerning the default behaviour of the 
back button on the variety of browsers one will encounter. There's no 
way to enforce sending form variables without client side scripting...

&gt;<i> If you are using some Ajax scripting to let the user select the point
</I>&gt;<i> then adapt it to also send the current page state.
</I>
...as you suggest here. Even so, exhaustive testing is recommended 
before you assume it works for all browsers, as well as preparing for 
browsers with DHTML features disabled or crippled. The most foolproof 
design will maintain state on the server, perhaps using a database. It's 
  a lot of work up front, but has a number of payoffs, as long as the 
application warrants it. Of course, since the OP seems to be describing 
a graphical application, he may get a lot of mileage out of AJAX or 
something like it.


------------------------------

_______________________________________________
Mod_python mailing list
<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>


End of Mod_python Digest, Vol 48, Issue 23
******************************************

</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023298.html">[mod_python] Detecting Back Button Usage
</A></li>
	<LI>Next message: <A HREF="023309.html">[mod_python] RE: Mod_python Digest, Vol 48, Issue 23
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23302">[ date ]</a>
              <a href="thread.html#23302">[ thread ]</a>
              <a href="subject.html#23302">[ subject ]</a>
              <a href="author.html#23302">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
