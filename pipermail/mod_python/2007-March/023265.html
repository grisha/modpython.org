<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] First mod_python project design teething problems
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20First%20mod_python%20project%20design%20teething%20problems&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023274.html">
   <LINK REL="Next"  HREF="023266.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] First mod_python project design teething problems</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>PETER BARKER</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20First%20mod_python%20project%20design%20teething%20problems&In-Reply-To="
       TITLE="[mod_python] First mod_python project design teething problems">newbarker at btinternet.com
       </A><BR>
    <I>Sat Mar 10 03:19:35 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023274.html">[mod_python] Session persistence issues and interpereter
	wiedness...
</A></li>
        <LI>Next message: <A HREF="023266.html">[mod_python] Error in running configure in RHEL4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23265">[ date ]</a>
              <a href="thread.html#23265">[ thread ]</a>
              <a href="subject.html#23265">[ subject ]</a>
              <a href="author.html#23265">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello all,
   
  BACKGROUND
  ----------
  I have a set of PSP pages; index.psp, about.psp, etc. These call into sub-templates to get the page header, footer, etc. They only really difffer in the &quot;content&quot; area and I like this maintainability. These are served by Apache and the mod_python.psp handler (PythonHandler mod_python.psp | .psp).
   
  I have a another page called client.psp. This template is used by a &quot;Client Area&quot; of the website which is a Python module; ClientArea.py. This allows the user to login to the site to do more stuff in the Client Area. client.psp looks similar to index.psp, etc. to maintain the consistent appearance of the site, but is given it's content by the ClientArea.py module:
   
  def _mergeWithTemplate(req,txt):
  pathname = os.path.join(os.path.dirname(req.filename),'client.psp')
  template = psp.PSP(req,filename=pathname)
  return template.run({'theContent':txt})

  The content is very dynamic; it'll be a login form, or a table showing database information, etc.
   
  PROBLEM
  -------
  When a user's logged into the site I want to display a &quot;Sign Out/Logoff&quot; link at the top of every page. Not only on client.psp which is templated within the Python module, but index.psp and about.psp too. I had a bright idea - I can use req.session and check it within the psp templates. However, this is only going to be set for client.psp as the other pages get served from Apache directly. Do I really want to add session grabbing logic to the PSP pages and make them more complicated? 
   
  QUESTION
  --------
  Taking a step back from my actual problem, I'd like some criticism on my approach to this development. What's the best practice/standard/canonical way of employing mod_python to develop a site with a handful of quasi-static pages which look very similar and the content is known in advance (but I might want to add logoff link or similar), and a page which has the same look as the other pages but the content is very fluid?
   
  Regards,
   
  Pete
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20070310/12626341/attachment.html">http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20070310/12626341/attachment.html</A>
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023274.html">[mod_python] Session persistence issues and interpereter
	wiedness...
</A></li>
	<LI>Next message: <A HREF="023266.html">[mod_python] Error in running configure in RHEL4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23265">[ date ]</a>
              <a href="thread.html#23265">[ thread ]</a>
              <a href="subject.html#23265">[ subject ]</a>
              <a href="author.html#23265">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
