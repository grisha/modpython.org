<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] session variable value (partially) dissapearing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20session%20variable%20value%20%28partially%29%20dissapearing&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023382.html">
   <LINK REL="Next"  HREF="023390.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] session variable value (partially) dissapearing</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Martijn Moeling</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20session%20variable%20value%20%28partially%29%20dissapearing&In-Reply-To="
       TITLE="[mod_python] session variable value (partially) dissapearing">martijn at xs4us.nu
       </A><BR>
    <I>Fri Mar 30 08:28:30 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023382.html">[SPAM] Re: [mod_python] Need Help ...Please!!!
</A></li>
        <LI>Next message: <A HREF="023390.html">[mod_python] Form variables question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23389">[ date ]</a>
              <a href="thread.html#23389">[ thread ]</a>
              <a href="subject.html#23389">[ subject ]</a>
              <a href="author.html#23389">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Well you are welcome,

I found this mailinglist usefull especially in the beginning, but still
I see solutions/techniques I start using.

I have been Involved in opensource projects since the Linux kernel 
Had no tcp/ip stack and I contributed to that.
And one of the main things is that people should help each other.

I keep reading all posts and If I think I can help someone I will,
trying to keep the workload of Graham and Jim (and others) somewhat
lighter.

I also try to contribute by sending parts of my work to people who need
it. I am developing a application framework with a desktop in a browser,
which is way from done yet but in order to get my system working on
multiple servers (load balancing) I needed a way to store Sessions
differently so I wrote a replacement for Session.py which stores the
sessions in MySQL (using MySQLdb), unfortunately this relies to much on
3rd party software to become part of mod_python, but for the Interested
it is available as a replacement for the standard session.py

So it is useful to keep reading this mailinglist, even if you know
everything to do your project(s), and help others by sharing your
knowledge, In my eyes the only way to keep mod_python (or similar Open
Source projects) alive and kicking

So thank us by helping others, with that you free up time for the
developers and Graham can leave his laptop home next time he goes away
for the holidays (if he wishes too). But more important for you, you
keep yourself being informed end educated in the process.

Anyway thanks for at least taking the time to thank, it is appreciated.

Martijn 

-----Oorspronkelijk bericht-----
Van: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python-bounces at modpython.org</A>
[mailto:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python-bounces at modpython.org</A>] Namens Detmar Meurers
Verzonden: Thursday, March 29, 2007 9:03 PM
Aan: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
Onderwerp: Re: [mod_python] session variable value (partially)
dissapearing

Dear Martijn (et al.),

I think I found what the problem was - and the loss of session data
apparently was related to properly saving it, as you and Graham had
suggested: For some of the possible paths through my code doing
partial page updates, the session did not get saved - i.e., I was
missing some req.session.save() calls in the sub-functions handling
those AJAX requests. 

Thanks for the replies - it's great to know there is a community one
can discuss such issues with!

Best,
Detmar

--
Detmar Meurers, Associate Professor, Dept. of Linguistics, OSU
201a Oxley Hall, 1712 Neil Avenue, Columbus OH 43210-1298, USA
<A HREF="http://ling.osu.edu/~dm/">http://ling.osu.edu/~dm/</A>                 GnuPG key on web page


On Thu, Mar 29, 2007 at 02:12:11PM +0200, Martijn Moeling wrote:
    Are you properly saving the session at every request?
    Like:
    
    # Created session like this:
    # req.session = Session.Session(req)
    
    Req.session.save()
    
    Martijn
    
    -----Oorspronkelijk bericht-----
    Van: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python-bounces at modpython.org</A>
    [mailto:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python-bounces at modpython.org</A>] Namens Jim Gallacher
    Verzonden: Wednesday, March 28, 2007 3:00 AM
    Aan: Detmar Meurers
    CC: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>; Graham Dumpleton
    Onderwerp: Re: [mod_python] session variable value (partially)
    dissapearing
    
    Detmar Meurers wrote:
    &gt; Hi Graham,
    &gt; 
    &gt; Thanks for the very quick reply.
    &gt; 
    &gt; The page showing the problem actually is using the publisher
handler
    &gt; (so no special exception handling etc.)
    &gt; 
    &gt; I tried the FileSession and the problem occurs there too - and I'm
    &gt; not doing any calling of unlock().
    &gt; 
    &gt; I am calling req.session.save() - one question about that though:
    &gt; Can it possibly cause problems when calling the save() several
times
    &gt; when handling one request?
    
    It shouldn't matter. The session store is locked so only one request
can
    
    read or write at a time. This is the case even if you have session 
    locking turned off, or unlock the session manually.
    
    Jim
    _______________________________________________
    Mod_python mailing list
    <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
    <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
_______________________________________________
Mod_python mailing list
<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023382.html">[SPAM] Re: [mod_python] Need Help ...Please!!!
</A></li>
	<LI>Next message: <A HREF="023390.html">[mod_python] Form variables question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23389">[ date ]</a>
              <a href="thread.html#23389">[ thread ]</a>
              <a href="subject.html#23389">[ subject ]</a>
              <a href="author.html#23389">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
