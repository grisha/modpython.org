<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] mod_python on / and authentication on /login (using
	trac)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20on%20/%20and%20authentication%20on%20/login%20%28using%0A%09trac%29&In-Reply-To=20070321230732.GA20251%40neu.nirvana">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023322.html">
   <LINK REL="Next"  HREF="023324.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] mod_python on / and authentication on /login (using
	trac)</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20on%20/%20and%20authentication%20on%20/login%20%28using%0A%09trac%29&In-Reply-To=20070321230732.GA20251%40neu.nirvana"
       TITLE="[mod_python] mod_python on / and authentication on /login (using
	trac)">graham.dumpleton at gmail.com
       </A><BR>
    <I>Wed Mar 21 19:12:30 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023322.html">[mod_python] mod_python on / and authentication on /login (using
	trac)
</A></li>
        <LI>Next message: <A HREF="023324.html">[mod_python] mod_python on / and authentication on /login (using
	trac)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23323">[ date ]</a>
              <a href="thread.html#23323">[ thread ]</a>
              <a href="subject.html#23323">[ subject ]</a>
              <a href="author.html#23323">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Do you have any Alias, ScriptAlias or Location directives (normal or
match type) defined outside of the VirtualHost containers? Do you have
any other Auth type or mod_python directives outside of the
VirtualHost container?

If you are only running one VirtualHost, can you see what happens if
you put the definitions outside of the VirtualHost container.

On 22/03/07, Axel Thimm &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Axel.Thimm at atrpms.net</A>&gt; wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> On Thu, Mar 22, 2007 at 08:38:21AM +1100, Graham Dumpleton wrote:
</I>&gt;<i> &gt; On 22/03/07, Axel Thimm &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Axel.Thimm at atrpms.net</A>&gt; wrote:
</I>&gt;<i> &gt; &gt;Hi,
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;I'm fighting against a strange issue with a setup that involves having
</I>&gt;<i> &gt; &gt;mod_python on Location &quot;/&quot; and authenticating only on certain URLs
</I>&gt;<i> &gt; &gt;like /login. This is for example the typical setup for a trac
</I>&gt;<i> &gt; &gt;dedicated site, see
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;<A HREF="http://trac.edgewall.org/ticket/3821">http://trac.edgewall.org/ticket/3821</A>
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;for the background. It doesn't happen if mod_python/trac is hooked on
</I>&gt;<i> &gt; &gt;&quot;/trac&quot; and the authentication on &quot;/trac/login&quot;.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;The combinations that are known to exhibit or not this error are
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;httpd modpython trac     works
</I>&gt;<i> &gt; &gt;2.2.3 3.6.20    0.10     no
</I>&gt;<i> &gt; &gt;2.2.2 3.3.1     0.10.3   no
</I>&gt;<i> &gt; &gt;2.2.3 3.2.8     0.10.3.1 yes
</I>&gt;<i> &gt; &gt;2.2.2 3.2.10    0.10.3   no
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;Any ideas what's going wrong or how I could debug this further?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I'm not surprised it doesn't work with mod_python 3.6.20 as no such
</I>&gt;<i> &gt; version exists.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Have you tried setting your DocumentRoot to somewhere outside of your
</I>&gt;<i> &gt; Trac instance. I'd suggest doing that what would be a bad idea to
</I>&gt;<i> &gt; start with as the presence of directories/files in there can sometimes
</I>&gt;<i> &gt; interfere with Apache's matching algorithms for locations. Set it
</I>&gt;<i> &gt; instead to some empty directory elsewhere if you aren't going to serve
</I>&gt;<i> &gt; any static files out of document root.
</I>&gt;<i>
</I>&gt;<i> Yes, that's how the setup already was. It was pointing to a folder
</I>&gt;<i> with only favicon.ico inside.
</I>&gt;<i>
</I>&gt;<i> &gt; Also, have you tried changing the order of the two Location
</I>&gt;<i> &gt; directives, ie., those for '/' and '/login' so the later is actually
</I>&gt;<i> &gt; first. It shouldn't in practice matter, but some Apache configuration
</I>&gt;<i> &gt; entries are order dependent.
</I>&gt;<i>
</I>&gt;<i> Yes, I tried that, I even replicated the /login section before and
</I>&gt;<i> after the / section. The only way I can get it to work is to move the
</I>&gt;<i> trac instance further into the URL space, e.g. /trac and /trac/login
</I>&gt;<i> instead of / and /login.
</I>&gt;<i> --
</I>&gt;<i> Axel.Thimm at ATrpms.net
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023322.html">[mod_python] mod_python on / and authentication on /login (using
	trac)
</A></li>
	<LI>Next message: <A HREF="023324.html">[mod_python] mod_python on / and authentication on /login (using
	trac)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23323">[ date ]</a>
              <a href="thread.html#23323">[ thread ]</a>
              <a href="subject.html#23323">[ subject ]</a>
              <a href="author.html#23323">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
