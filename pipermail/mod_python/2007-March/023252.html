<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] mod_python and .pyo files
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20and%20.pyo%20files&In-Reply-To=45F04A6F.8090503%40bham.lib.al.us">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023245.html">
   <LINK REL="Next"  HREF="023246.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] mod_python and .pyo files</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20and%20.pyo%20files&In-Reply-To=45F04A6F.8090503%40bham.lib.al.us"
       TITLE="[mod_python] mod_python and .pyo files">graham.dumpleton at gmail.com
       </A><BR>
    <I>Thu Mar  8 16:05:04 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023245.html">[mod_python] mod_python and .pyo files
</A></li>
        <LI>Next message: <A HREF="023246.html">[mod_python] publisher - variable processing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23252">[ date ]</a>
              <a href="thread.html#23252">[ thread ]</a>
              <a href="subject.html#23252">[ subject ]</a>
              <a href="author.html#23252">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 09/03/07, Tobin Cataldo &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">tcataldo at bham.lib.al.us</A>&gt; wrote:
&gt;<i> Greetings,
</I>&gt;<i>
</I>&gt;<i> I would like to ship only .pyo files to a website and use those with
</I>&gt;<i> mod_python. I have seen this question in the archives but haven't seen a
</I>&gt;<i> clear answer.
</I>&gt;<i>
</I>&gt;<i> I believe the Python Interpreter will choose a .pyc or .pyo file if
</I>&gt;<i> available, but I want to only have the .pyo files in my target directory.
</I>&gt;<i>
</I>&gt;<i> Apache conf:
</I>&gt;<i> DirectoryIndex index.pyo index.py ...
</I>&gt;<i> ...
</I>&gt;<i> AddHander mod_python .pyo
</I>&gt;<i> ...
</I>&gt;<i> SetHandler mod_python
</I>&gt;<i>
</I>&gt;<i> This Apache configuration still requires .py in the target directory or
</I>&gt;<i> the page can't be found.
</I>&gt;<i>
</I>&gt;<i> I am applying mod_python against a directory which Graham says will
</I>&gt;<i> translate to a request against index.py
</I>&gt;<i> (<A HREF="http://www.dscpl.com.au/wiki/ModPython/Articles/SetHandlerVersusAddHandler">http://www.dscpl.com.au/wiki/ModPython/Articles/SetHandlerVersusAddHandler</A>).
</I>&gt;<i>
</I>&gt;<i> How do I overwrite this behavior? I suppose I could do it via Location
</I>&gt;<i> directives, but how to do this with DirectoryIndex and the Directory
</I>&gt;<i> directives?
</I>
For code files which are managed by the mod_python module importer you
cannot do that as it doesn't use .pyc or .pyo files nor generate them.

This has been the case for mod_python.publisher since mod_python 3.2.7
and for all module imports managed by mod_python since 3.3.1.

Note that where a module import cannot be done by mod_python and it
defers to the standard Python module importer, the standard Python
module importer will still make use of .pyc/.pyo files if they exist,
although, for .pyo files you would need to have specified the
directive:

 PythonOptimize On

Graham
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023245.html">[mod_python] mod_python and .pyo files
</A></li>
	<LI>Next message: <A HREF="023246.html">[mod_python] publisher - variable processing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23252">[ date ]</a>
              <a href="thread.html#23252">[ thread ]</a>
              <a href="subject.html#23252">[ subject ]</a>
              <a href="author.html#23252">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
