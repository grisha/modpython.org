<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Compiling mod_python
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Compiling%20mod_python&In-Reply-To=20070320161924.GA17686%40santiago.connexer.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023301.html">
   <LINK REL="Next"  HREF="023310.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Compiling mod_python</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Compiling%20mod_python&In-Reply-To=20070320161924.GA17686%40santiago.connexer.com"
       TITLE="[mod_python] Compiling mod_python">graham.dumpleton at gmail.com
       </A><BR>
    <I>Tue Mar 20 15:54:34 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023301.html">[mod_python] Compiling mod_python
</A></li>
        <LI>Next message: <A HREF="023310.html">[mod_python] Compiling mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23308">[ date ]</a>
              <a href="thread.html#23308">[ thread ]</a>
              <a href="subject.html#23308">[ subject ]</a>
              <a href="author.html#23308">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 21/03/07, Roberto C. S&#225;nchez &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">roberto at connexer.com</A>&gt; wrote:
&gt;<i> On Tue, Mar 20, 2007 at 09:27:45PM +1100, Graham Dumpleton wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; One reason for recompiling Python is because the prepackaged binary
</I>&gt;<i> &gt; distributions of Python are generally never built with the
</I>&gt;<i> &gt; --enabled-shared option. This means you only have a static libpython.a
</I>&gt;<i>
</I>&gt;<i> This is not the case on Debian.  From a stock Sarge install:
</I>&gt;<i>
</I>&gt;<i> ldd /usr/lib/apache2/modules/mod_python.so
</I>&gt;<i>         libpython2.3.so.1.0 =&gt; /usr/lib/libpython2.3.so.1.0 (0x4001b000)
</I>&gt;<i>         libpthread.so.0 =&gt; /lib/libpthread.so.0 (0x40124000)
</I>&gt;<i>         libdl.so.2 =&gt; /lib/libdl.so.2 (0x40175000)
</I>&gt;<i>         libutil.so.1 =&gt; /lib/libutil.so.1 (0x40179000)
</I>&gt;<i>         libm.so.6 =&gt; /lib/libm.so.6 (0x4017c000)
</I>&gt;<i>         libc.so.6 =&gt; /lib/libc.so.6 (0x4019e000)
</I>&gt;<i>         /lib/ld-linux.so.2 =&gt; /lib/ld-linux.so.2 (0x80000000)
</I>
Then we can only assume then that OP compiled his Python from source
code as his doesn't use a shared library. Quoting his original email:

...
/config -Xlinker -export-dynamic -lm -lpython2.5 -lpthread -ldl -
lutil -lm
/usr/bin/ld: /usr/local/lib/python2.5/config/libpython2.5.a
(abstract.o): relocation R_X86_64_32 against `a local symbol' can not
be used when making a shared object; recompile with -fPIC
/usr/local/lib/python2.5/config/libpython2.5.a: could not read
symbols: Bad value
collect2: ld returned 1 exit status
apxs:Error: Command failed with rc=65536

As can be seen, trying to use libpython2.5.a. Therefore suggestion
still stands if for some reason he wants to continue to use version of
Python compiled from source code.

As far as debian binaries using --enable-shared that is good to hear.
If others can comment on whether binary distributions for other Linux
distributions use --enable-shared for Python build, would love to hear
so I know how common a practice it may or may not be across
distributions. If it is common, I can stop grumbling about it. ;-)

Thanks.

Graham

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023301.html">[mod_python] Compiling mod_python
</A></li>
	<LI>Next message: <A HREF="023310.html">[mod_python] Compiling mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23308">[ date ]</a>
              <a href="thread.html#23308">[ thread ]</a>
              <a href="subject.html#23308">[ subject ]</a>
              <a href="author.html#23308">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
