<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] When using PSP is request object persistent?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20When%20using%20PSP%20is%20request%20object%20persistent%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023268.html">
   <LINK REL="Next"  HREF="023270.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] When using PSP is request object persistent?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>PETER BARKER</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20When%20using%20PSP%20is%20request%20object%20persistent%3F&In-Reply-To="
       TITLE="[mod_python] When using PSP is request object persistent?">newbarker at btinternet.com
       </A><BR>
    <I>Sun Mar 11 04:21:57 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023268.html">[mod_python] assert error &quot;have_pysqlite &gt; 0&quot;
</A></li>
        <LI>Next message: <A HREF="023270.html">[mod_python] When using PSP is request object persistent?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23269">[ date ]</a>
              <a href="thread.html#23269">[ thread ]</a>
              <a href="subject.html#23269">[ subject ]</a>
              <a href="author.html#23269">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,
   
  See below for the stripped-down code to my problem/query. Note that I do not save the session anywhere.
   
  With the two PSP template lines commented, the session is always new (because I'm not saving it). When the templating code is uncommented, the session is remembered across requests. Why is this?
   
  APACHE CONFIG:
  &lt;Directory &quot;C:/Program Files/Apache Software Foundation/Apache2.2/htdocs/pypublish&quot;&gt;
    SetHandler mod_python
    PythonDebug On
    PythonHandler mod_python.publisher
&lt;/Directory&gt;

  INDEX.HTML:
  &lt;html&gt;
&lt;head&gt;&lt;title&gt;hello&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;
&lt;/body&gt;
&lt;/html&gt;
   
  THETEST.PY:
  from mod_python import Session, psp
import os
  def entry(req):
  req.session = Session.Session(req)
  if req.session.is_new():
    returnedDoc = &quot;Newly created session: &quot; + req.session.id()
  else:
    returnedDoc = 'Existing session:' + req.session.id()
    #pathname = os.path.join(os.path.dirname(req.filename),'index.html')
  #psp.PSP(req,filename=pathname).run()
    req.content_type = 'text/html'
  return returnedDoc

  Regards,
   
  Pete
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20070311/db6eb7a9/attachment.html">http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20070311/db6eb7a9/attachment.html</A>
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023268.html">[mod_python] assert error &quot;have_pysqlite &gt; 0&quot;
</A></li>
	<LI>Next message: <A HREF="023270.html">[mod_python] When using PSP is request object persistent?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23269">[ date ]</a>
              <a href="thread.html#23269">[ thread ]</a>
              <a href="subject.html#23269">[ subject ]</a>
              <a href="author.html#23269">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
