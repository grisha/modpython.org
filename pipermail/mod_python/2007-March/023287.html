<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Session Freezing using mod_python.Session
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Session%20Freezing%20using%20mod_python.Session&In-Reply-To=45F87DAF.4060700%40loafman.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023286.html">
   <LINK REL="Next"  HREF="023288.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Session Freezing using mod_python.Session</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Session%20Freezing%20using%20mod_python.Session&In-Reply-To=45F87DAF.4060700%40loafman.com"
       TITLE="[mod_python] Session Freezing using mod_python.Session">graham.dumpleton at gmail.com
       </A><BR>
    <I>Wed Mar 14 18:04:52 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023286.html">[mod_python] Session Freezing using mod_python.Session
</A></li>
        <LI>Next message: <A HREF="023288.html">[mod_python] Session Freezing using mod_python.Session
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23287">[ date ]</a>
              <a href="thread.html#23287">[ thread ]</a>
              <a href="subject.html#23287">[ subject ]</a>
              <a href="author.html#23287">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 15/03/07, Kenneth Loafman &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">kenneth at loafman.com</A>&gt; wrote:
&gt;<i> Graham Dumpleton wrote:
</I>&gt;<i> &gt; On 15/03/07, Kenneth Loafman &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">kenneth at loafman.com</A>&gt; wrote:
</I>&gt;<i> &gt;&gt; Hi,
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; The small snippet of code below freezes if there is an existing pysid
</I>&gt;<i> &gt;&gt; cookie (sample straight out of the manual).  If there is no pysid
</I>&gt;<i> &gt;&gt; cookie, then index() displays, but show() hangs.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Yet you don't show us the code in show() which is the important bit.
</I>&gt;<i>
</I>&gt;<i> It turns out that I did show the important bit, a blind request to get a
</I>&gt;<i> new session.
</I>&gt;<i>
</I>&gt;<i> &gt; Normal practice is to always use:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     if not hasattr(req,'session'):
</I>&gt;<i> &gt;       req.session = Session.Session(req)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     if req.session.is_new():
</I>&gt;<i> &gt;       ...
</I>&gt;<i>
</I>&gt;<i> This is exactly what I needed.  index() got the session, then called
</I>&gt;<i> show() which tried to get a new session.  The docs seem to imply that
</I>&gt;<i> Session(req) should look to see if a session exists, then use it.
</I>&gt;<i> Obviously, that implication is not valid.
</I>
Hmmm, the code example you posted does not show index() calling
show(). That the form had it as the target of the action doesn't
result in index() calling show() within the code.

What the docs is referring to is that the Session object will look in
the session database to see if an existing persistent session entry is
there from a previous request, not that it will look to see if a prior
Session object instance has been created for the current request.

Graham
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023286.html">[mod_python] Session Freezing using mod_python.Session
</A></li>
	<LI>Next message: <A HREF="023288.html">[mod_python] Session Freezing using mod_python.Session
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23287">[ date ]</a>
              <a href="thread.html#23287">[ thread ]</a>
              <a href="subject.html#23287">[ subject ]</a>
              <a href="author.html#23287">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
