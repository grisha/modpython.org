From nick at dd.revealed.net  Wed Dec  1 09:56:02 2004
From: nick at dd.revealed.net (Nick)
Date: Wed Dec  1 09:56:11 2004
Subject: [mod_python] module caching problem
In-Reply-To: <41ACFC2F.60006@earthlink.net>
References: <20041130214857.BAD74B705@fiona.siteprotect.com>
	<41ACFC2F.60006@earthlink.net>
Message-ID: <41ADDB82.6000600@dd.revealed.net>

Running debian?  Boy, that sure is the hard way.  Try apt-get install 
apache2-mpm-worker.  If you're running woody, use backports.org.

Nick

Chris Curvey wrote:
> 1) build your apache server with mpm_worker (./configure 
> -with-mpm=worker)  (this only works with Apache 2.x)
> 
> 2) in httpd.conf  (all values of "150" in this example should be set to 
> the max number of concurrent requests)
> 
> ThreadLimit 150
> ServerLimit 1
> StartServers 1
> MaxClients 150
> MinSpareThreads 1
> MaxSpareThreads 150
> ThreadsPerChild 150
> MaxRequestsPerChild 0
> 
> I have not tested this a whole bunch, but it should work, according to 
> http://httpd.apache.org/docs-2.0/mod/worker.html
> 
> I'm also not sure of the knock-on effects on performance of doing this.  
> YMMV.  If anyone knows of a good reason *not* to do this, please speak up.
> 
> -Chris
> 
> P.S.  Even in prefork mode, if an apache process needs a module that has 
> already been loaded into memory *by that process*, it will be re-used 
> and not reloaded.
> 
> Huzaifa Tapal wrote:
> 
>> Yes I am using linux on a debian OS.  How can I configure apache to 
>> not run
>> with mpm_prefork?  Pretty much I want to use Shared Memory with 
>> mod_python
>> so that for simultaneous requests it uses any modules that are already
>> loaded in memory rather than instantiating new processes.
>>
>> Any ideas?
>>
>> Hozi 
>> -----Original Message-----
>> From: mod_python-bounces@modpython.org
>> [mailto:mod_python-bounces@modpython.org] On Behalf Of Damjan
>> Sent: Tuesday, November 23, 2004 6:49 PM
>> To: mod_python@modpython.org
>> Subject: Re: [mod_python] module caching problem
>>
>>  
>>
>>> I am running into a problem with mod_python in that, I am importing a
>>>   
>>
>> module
>>  
>>
>>> in the handler which creates a singleton in memory.  I am using the 
>>> module
>>> to hold cache information for any other modules that import the same
>>>   
>>
>> module.
>>  
>>
>>> I started testing the cache mechanism when I noticed that the module was
>>> being imported multiple times and not just once after the first request
>>> after apache had started.  To test this, I put a few lines of code in 
>>> the
>>> module to write to a file the time it was last imported.  I noticed that
>>> after restarting apache, the first time it writes to the file.  If I hit
>>> refresh on my page immediately, multiple times, it doesn't write.  If I
>>>   
>>
>> wait
>>  
>>
>>> like 10 seconds or more and then hit refresh again, it reimports that
>>>   
>>
>> module
>>  
>>
>>> that should have been cached.
>>>
>>> Also, If I make a request for a page from two different clients, it
>>> reimports the module from each client.  Am I mistaken in thinking 
>>> that any
>>> module imported in the handler then is cached in mod_python's module 
>>> cache
>>> and subsequent imports of that module then are simply served up from the
>>> cache.  Under what conditions then would the same module get 
>>> reimported if
>>> no modifications were made to that module?
>>>   
>>
>>
>> I guess your are runnig Apache with mpm_prefork? In that case there's 
>> a completely different python interpreter for each
>> Apache process, so your caching module is loaded in each of them.
>>
>> Your testing showed how apache processes get to serve requests, if it 
>> gets
>> two simultaneus requests two apache processes will be active, each
>> serving one of the request. But if you only generate one request after
>> another, its most likely that the same process will serve  both
>> requests... of course this depends on OS implementation... I think you
>> are running on Linux, no?
>>
>>  
>>
> 
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python

From isofroni at cc.uoi.gr  Wed Dec  1 10:05:35 2004
From: isofroni at cc.uoi.gr (John)
Date: Wed Dec  1 10:07:31 2004
Subject: [mod_python] python & chrooted area
Message-ID: <000801c4d7b7$3f3a7840$747882c3@jonsof>

I have install the python and mod_python.

So what are the exact files that should i copy to the chrooted area?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20041201/6b4f41c0/attachment.html
From nick at dd.revealed.net  Wed Dec  1 10:18:02 2004
From: nick at dd.revealed.net (Nick)
Date: Wed Dec  1 10:18:28 2004
Subject: [mod_python] python & chrooted area
In-Reply-To: <000801c4d7b7$3f3a7840$747882c3@jonsof>
References: <000801c4d7b7$3f3a7840$747882c3@jonsof>
Message-ID: <41ADE0AA.7040909@dd.revealed.net>

If it's an option for you, you may want to consider mod_chroot 
(http://core.segfault.pl/~hobbit/mod_chroot/).

Nick

John wrote:
> I have install the python and mod_python.
> 
> So what are the exact files that should i copy to the chrooted area?
From isofroni at cc.uoi.gr  Wed Dec  1 10:21:56 2004
From: isofroni at cc.uoi.gr (John)
Date: Wed Dec  1 10:23:45 2004
Subject: [mod_python] python & chrooted area
References: <000801c4d7b7$3f3a7840$747882c3@jonsof>
	<41ADE0AA.7040909@dd.revealed.net>
Message-ID: <000501c4d7b9$840d6b10$747882c3@jonsof>


----- Original Message ----- 
From: "Nick" <nick@dd.revealed.net>
To: "John" <isofroni@cc.uoi.gr>
Cc: <mod_python@modpython.org>
Sent: Wednesday, December 01, 2004 5:18 PM
Subject: Re: [mod_python] python & chrooted area


> If it's an option for you, you may want to consider mod_chroot
> (http://core.segfault.pl/~hobbit/mod_chroot/).
>
> Nick
>
> John wrote:
> > I have install the python and mod_python.
> >
> > So what are the exact files that should i copy to the chrooted area?
>

Thank you for the advice but i have already a chrooted area and i lately
installed the mod_python. (to a non chrooted apache in the same system). Now
i have to copy the /usr/local/apache/bin to the chrooted are and (possibly)
the mod_python.so and some files from the python installation.

Any ideas on what files?


From nick at dd.revealed.net  Wed Dec  1 10:37:35 2004
From: nick at dd.revealed.net (Nick)
Date: Wed Dec  1 10:37:43 2004
Subject: [mod_python] python & chrooted area
In-Reply-To: <000501c4d7b9$840d6b10$747882c3@jonsof>
References: <000801c4d7b7$3f3a7840$747882c3@jonsof>	<41ADE0AA.7040909@dd.revealed.net>
	<000501c4d7b9$840d6b10$747882c3@jonsof>
Message-ID: <41ADE53F.40700@dd.revealed.net>

John wrote:
> Thank you for the advice but i have already a chrooted area and i lately
> installed the mod_python. (to a non chrooted apache in the same system). Now
> i have to copy the /usr/local/apache/bin to the chrooted are and (possibly)
> the mod_python.so and some files from the python installation.
> 
> Any ideas on what files?

I imagine you'd need libpython2.X.so mainly just to get it running at all. 
You're going to need most if not all of the modules in /usr/lib/python (or 
perhaps in your case /usr/local/python/lib?) to do anything interesting.

Nick
From amarrero at mitre.org  Wed Dec  1 11:13:04 2004
From: amarrero at mitre.org (=?ISO-8859-1?Q?Alexis_Marrero-Narv=E1ez?=)
Date: Wed Dec  1 11:13:05 2004
Subject: [mod_python] [error] make_obcallback: could not import
	mod_python.apache
Message-ID: <E14D13C1-43B3-11D9-B819-000393D153BC@mitre.org>

I'm trying to get mod_python running under the following configuration:

OS: Mac OS X 10.3.6
Apache: 2.0.50
mod_python: 3.1.3
python: 2.3.4

When importing the mod_python module from the Python interpreter I get:

[GCC 3.3 20030304 (Apple Computer, Inc. build 1666)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
 >>> import mod_python.apache
Traceback (most recent call last):
   File "<stdin>", line 1, in ?
   File "/usr/local/lib/python2.3/site-packages/mod_python/apache.py", 
line 28, in ?
     import _apache
ImportError: No module named _apache


Which at least it tells me that it is installed. I already read this 
entry:
http://www.modpython.org/pipermail/mod_python/2004-November/016815.html

But don't know anything else to do make it work. This is the line I get 
in the  error_log:

[Wed Dec 01 10:39:41 2004] [error] make_obcallback: could not import 
mod_python.apache.\n


Any hints for troubleshooting this problem?

I built mod_python doing: ./configure; make clean; make dso, make 
install ... dance


Regards
/amn


From david.christian at gmail.com  Wed Dec  1 11:16:09 2004
From: david.christian at gmail.com (David Christian)
Date: Wed Dec  1 11:16:12 2004
Subject: [mod_python] Error using mod_python, Python2.4, and pyexpat
Message-ID: <63940b004120108161d37323e@mail.gmail.com>

Hello,
I recently upgraded to python2.4, and rebuilt/reinstalled mod_python,
and after doing this, scripts running in mod_python segfaults when
importing pyexpat.

Note that this segfault doesn't happen outside of mod python, and the
pyexpat test suite passes.

Has anyone else seen this behavior?

Thanks,
David
From jgentil at sebistar.net  Wed Dec  1 13:18:33 2004
From: jgentil at sebistar.net (Jon-Pierre Gentil)
Date: Wed Dec  1 13:18:37 2004
Subject: [mod_python] python & chrooted area
In-Reply-To: <41ADE53F.40700@dd.revealed.net>
References: <000801c4d7b7$3f3a7840$747882c3@jonsof>	<41ADE0AA.7040909@dd.revealed.net>	<000501c4d7b9$840d6b10$747882c3@jonsof>
	<41ADE53F.40700@dd.revealed.net>
Message-ID: <41AE0AF9.7040304@sebistar.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: RIPEMD160

Nick wrote:

>> Thank you for the advice but i have already a chrooted area and i lately
>> installed the mod_python. (to a non chrooted apache in the same
>> system). Now
>> i have to copy the /usr/local/apache/bin to the chrooted are and
>> (possibly)
>> the mod_python.so and some files from the python installation.
>>
>> Any ideas on what files?
> 
> 
> I imagine you'd need libpython2.X.so mainly just to get it running at
> all. You're going to need most if not all of the modules in
> /usr/lib/python (or perhaps in your case /usr/local/python/lib?) to do
> anything interesting.

Python itself doesn't work very well chrooted, especially with apache.
 I tried several times to get it working, but overall, python just has
too many dependancies to really successfully work in a chroot environment.

But, good luck!  Let us know if you accomplish it.
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.5 (GNU/Linux)

iEYEAREDAAYFAkGuCvkACgkQOrVFmaIbww4MjACdFE1caafVnqlfBcBZnqlPcAAd
fAsAoKhRw4RsMSk+vBk2mXEg6nq38Ix8
=01/4
-----END PGP SIGNATURE-----
From kmag at hol.gr  Wed Dec  1 14:24:11 2004
From: kmag at hol.gr (Kostis Magh)
Date: Wed Dec  1 14:24:35 2004
Subject: [mod_python] problem installing mod_python-3.1.3 with  Python 2.4
Message-ID: <005b01c4d7db$63ead300$9cfc263e@kostisxp9erfpv>


I 'm a newbie in Python. I 'm interesting mainly in Web Devellopement. 
I work in PHP, and I should like to explore PSP with mod_Python etc. 
(maybe to migrate, I don't know yet...)
I had installed Python 2.3.x  and also mod_python-3.1.3.win32-py2.3
and worked OK. 
I uninstalled Python 2.3.4, and I installed Python 2.4 , but now I cannot 
install mod_python-3.1.3...

Anyone got any ideas?

Thanks,

Kostis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20041201/b6120a0b/attachment.html
From bray at sent.com  Wed Dec  1 15:34:20 2004
From: bray at sent.com (Brian Ray)
Date: Wed Dec  1 15:34:33 2004
Subject: [mod_python] problem installing mod_python-3.1.3 with Python 2.4
In-Reply-To: <005b01c4d7db$63ead300$9cfc263e@kostisxp9erfpv>
References: <005b01c4d7db$63ead300$9cfc263e@kostisxp9erfpv>
Message-ID: <6148F1F4-43D8-11D9-9479-000A95BF3560@sent.com>


On Dec 1, 2004, at 1:24 PM, Kostis Magh wrote:

> ?
> I 'm a newbie in Python. I 'm interesting mainly in Web Devellopement.?
> I work in PHP, and I should like to explore PSP with?mod_Python?etc.
>  (maybe to migrate, I don't know yet...)
> I had installed Python 2.3.x? and also mod_python-3.1.3.win32-py2.3
> and worked OK.
>  I uninstalled Python 2.3.4, and I installed Python 2.4 , but now I 
> cannot
>  install mod_python-3.1.3...
>
>

Can you send more details? What happens when you try to install 
mod_python with python 2.4? I tried with the Beta and did not have a 
problem. But 2.4 was just release yesterday and I have not tried yet. 
Python does not release as often and usually is not the cause of the 
problem, just my opinion.

Can you dump here some errors?


From Administrator at leebrown.org  Wed Dec  1 17:00:37 2004
From: Administrator at leebrown.org (Lee E. Brown)
Date: Wed Dec  1 17:00:47 2004
Subject: [mod_python] problem installing mod_python-3.1.3 with Python 2.4
References: <005b01c4d7db$63ead300$9cfc263e@kostisxp9erfpv>
	<6148F1F4-43D8-11D9-9479-000A95BF3560@sent.com>
Message-ID: <001101c4d7f1$312a1c30$0202a8c0@UberBox>

Greetings!

The Windows Binary release of Mod Python 3.1.3 will not install over the 
Windows Binary release of Python 2.4 - I've tried it.  I suspect that Grisha 
will have to tell us why.

Best Regards,
Lee E. Brown

----- Original Message ----- 
From: "Brian Ray" <bray@sent.com>
To: "Kostis Magh" <kmag@hol.gr>
Cc: <Mod_python@modpython.org>
Sent: Wednesday, December 01, 2004 3:34 PM
Subject: Re: [mod_python] problem installing mod_python-3.1.3 with Python 
2.4



On Dec 1, 2004, at 1:24 PM, Kostis Magh wrote:

>
> I 'm a newbie in Python. I 'm interesting mainly in Web Devellopement. I 
> work in PHP, and I should like to explore PSP with mod_Python etc.
>  (maybe to migrate, I don't know yet...)
> I had installed Python 2.3.x and also mod_python-3.1.3.win32-py2.3
> and worked OK.
>  I uninstalled Python 2.3.4, and I installed Python 2.4 , but now I cannot
>  install mod_python-3.1.3...
>
>

Can you send more details? What happens when you try to install
mod_python with python 2.4? I tried with the Beta and did not have a
problem. But 2.4 was just release yesterday and I have not tried yet.
Python does not release as often and usually is not the cause of the
problem, just my opinion.

Can you dump here some errors?


_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://mailman.modpython.org/mailman/listinfo/mod_python 

From gnb at itga.com.au  Wed Dec  1 17:29:49 2004
From: gnb at itga.com.au (Gregory Bond)
Date: Wed Dec  1 17:29:58 2004
Subject: [mod_python] [error] make_obcallback: could not
	import	mod_python.apache
In-Reply-To: <E14D13C1-43B3-11D9-B819-000393D153BC@mitre.org>
References: <E14D13C1-43B3-11D9-B819-000393D153BC@mitre.org>
Message-ID: <41AE45DD.1060500@itga.com.au>

Alexis Marrero-Narv?ez wrote:

> ImportError: No module named _apache
>
This is normal.  See FAQ 
http://www.modpython.org/FAQ/faqw.py?req=show&file=faq02.002.htp

> [Wed Dec 01 10:39:41 2004] [error] make_obcallback: could not import 
> mod_python.apache.\n

http://www.modpython.org/FAQ/faqw.py?req=show&file=faq02.001.htp
From amarrero at mitre.org  Wed Dec  1 20:33:58 2004
From: amarrero at mitre.org (=?ISO-8859-1?Q?Alexis_Marrero-Narv=E1ez?=)
Date: Wed Dec  1 20:34:04 2004
Subject: [mod_python] Execution Order of Handlers & MVC in mod_python
Message-ID: <3C988A02-4402-11D9-B819-000393D153BC@mitre.org>

I need enlightenment with this subject. I have the following 
configuration.
	
Alias /python/ "/Users/amarre/Sites/web-app/"
<Directory "/Users/amarre/Sites/web-app/">
     AddHandler mod_python .py
     PythonHandler hello
     AddHandler mod_python .psp
     PythonHandler mod_python.psp
     PythonDebug On
</Directory>

In my /Users/amarre/Sites/web-app/ I have two files hello.py and 
hello_a.psp. If I visit the url http://localhost/python/hello_a.psp I 
display the ouput of hello.py concatenated with the output of 
hello_a.psp. This tells me that one (hello.py) was executed before the 
other one (hello_a.psp).
  I understand that if I define more than one handle they executed in 
the order they are added but, the first handler was added for ".py" 
files and the second one for ".psp". And that's what is confusing me.

How can I change the configuration to have both files coexist in the 
same directory while executing just the one being addressed by the URL?

The next question is regarding how to implement the MVC pattern. How 
does this two options compare:

Combining mod_python.publisher with PSP templates vs. mod_python 
generic handler and mod_python.psp handler. By the second I mean doing 
all the business logic in the generic handler and using the req object 
as a container of anything that needs to be passed on to the psp. For 
instance:

def handler(req):
	#do all logic
	#now add any data to the req object
	req.name = 'name'
	req.greeting = 'hello'
	return apache.OK

Then in the psp, we can use req.name and req.greeting as we please. To 
be more fancy I could create a Container object that I then put it in 
the request object for later use in the PSP.

One of the disadvantages that I see by implementing by using publisher 
+ psp is that you don't have the great power of doing 
http://example.com/mypsp.psp_ (underscore for debbuging).

How does this two options compare and why should I go for one rather 
than the other?

The last question is (related to the first one), how can I configure 
httpd.conf so I could have multiple python scripts in the same 
directory and be able to address them separately. For instance:
/python_scripts/hello.py
/python_script/bye.py

Access each one independently of the other one.

I hope that anyone can understand all this!

Cheers,
/amn


From davidf at sjsoft.com  Thu Dec  2 02:43:42 2004
From: davidf at sjsoft.com (David Fraser)
Date: Thu Dec  2 02:43:48 2004
Subject: [mod_python] problem installing mod_python-3.1.3 with Python 2.4
In-Reply-To: <001101c4d7f1$312a1c30$0202a8c0@UberBox>
References: <005b01c4d7db$63ead300$9cfc263e@kostisxp9erfpv>	<6148F1F4-43D8-11D9-9479-000A95BF3560@sent.com>
	<001101c4d7f1$312a1c30$0202a8c0@UberBox>
Message-ID: <41AEC7AE.6040107@sjsoft.com>

The Windows installer for mod Python 3.1.3 is only for Python 2.3 - you 
can tell that because it's called mod_python-3.1.3.win32-py2.3.exe 
<http://apache.is.co.za/dist/httpd/modpython/win/3.1.3/mod_python-3.1.3.win32-py2.3.exe>

In general Python extensions written in C have to be compiled for the 
version of Python they are used with, so a new binary would be needed 
for 2.4

Anyone is welcome to try build this, I plan to myself when I get a 
chance. But simply using the existing installer won't work...

David

Lee E. Brown wrote:

> Greetings!
>
> The Windows Binary release of Mod Python 3.1.3 will not install over 
> the Windows Binary release of Python 2.4 - I've tried it.  I suspect 
> that Grisha will have to tell us why.
>
> Best Regards,
> Lee E. Brown
>
> ----- Original Message ----- From: "Brian Ray" <bray@sent.com>
> To: "Kostis Magh" <kmag@hol.gr>
> Cc: <Mod_python@modpython.org>
> Sent: Wednesday, December 01, 2004 3:34 PM
> Subject: Re: [mod_python] problem installing mod_python-3.1.3 with 
> Python 2.4
>
>
>
> On Dec 1, 2004, at 1:24 PM, Kostis Magh wrote:
>
>>
>> I 'm a newbie in Python. I 'm interesting mainly in Web 
>> Devellopement. I work in PHP, and I should like to explore PSP with 
>> mod_Python etc.
>>  (maybe to migrate, I don't know yet...)
>> I had installed Python 2.3.x and also mod_python-3.1.3.win32-py2.3
>> and worked OK.
>>  I uninstalled Python 2.3.4, and I installed Python 2.4 , but now I 
>> cannot
>>  install mod_python-3.1.3...
>>
>>
>
> Can you send more details? What happens when you try to install
> mod_python with python 2.4? I tried with the Beta and did not have a
> problem. But 2.4 was just release yesterday and I have not tried yet.
> Python does not release as often and usually is not the cause of the
> problem, just my opinion.
>
> Can you dump here some errors?


From isofroni at cc.uoi.gr  Thu Dec  2 03:18:40 2004
From: isofroni at cc.uoi.gr (John)
Date: Thu Dec  2 03:20:24 2004
Subject: [mod_python] python & chrooted area
References: <000801c4d7b7$3f3a7840$747882c3@jonsof>	<41ADE0AA.7040909@dd.revealed.net>	<000501c4d7b9$840d6b10$747882c3@jonsof><41ADE53F.40700@dd.revealed.net>
	<41AE0AF9.7040304@sebistar.net>
Message-ID: <00d901c4d847$8aede2a0$747882c3@jonsof>

What about if you copy all the python related files to the chroot area?


----- Original Message ----- 
From: "Jon-Pierre Gentil" <jgentil@sebistar.net>
To: <mod_python@modpython.org>
Sent: Wednesday, December 01, 2004 8:18 PM
Subject: Re: [mod_python] python & chrooted area


> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: RIPEMD160
>
> Nick wrote:
>
> >> Thank you for the advice but i have already a chrooted area and i
lately
> >> installed the mod_python. (to a non chrooted apache in the same
> >> system). Now
> >> i have to copy the /usr/local/apache/bin to the chrooted are and
> >> (possibly)
> >> the mod_python.so and some files from the python installation.
> >>
> >> Any ideas on what files?
> >
> >
> > I imagine you'd need libpython2.X.so mainly just to get it running at
> > all. You're going to need most if not all of the modules in
> > /usr/lib/python (or perhaps in your case /usr/local/python/lib?) to do
> > anything interesting.
>
> Python itself doesn't work very well chrooted, especially with apache.
>  I tried several times to get it working, but overall, python just has
> too many dependancies to really successfully work in a chroot environment.
>
> But, good luck!  Let us know if you accomplish it.
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.2.5 (GNU/Linux)
>
> iEYEAREDAAYFAkGuCvkACgkQOrVFmaIbww4MjACdFE1caafVnqlfBcBZnqlPcAAd
> fAsAoKhRw4RsMSk+vBk2mXEg6nq38Ix8
> =01/4
> -----END PGP SIGNATURE-----
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python


From isofroni at cc.uoi.gr  Thu Dec  2 07:42:03 2004
From: isofroni at cc.uoi.gr (John)
Date: Thu Dec  2 07:43:52 2004
Subject: [mod_python] cg-bin files execution
Message-ID: <001601c4d86c$566eb520$747882c3@jonsof>

The following is in the section "testing " in the mod_python tutorial


<Directory /some/directory/htdocs/test>
  AddHandler python-program .py
  PythonHandler mptest
  PythonDebug On
</Directory>
Should i put the PythonHandler mptest for every script filename? Becauseit's too exhausting for so many files.And what about the psp files?Thanks
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20041202/da9c7095/attachment.html
From Administrator at leebrown.org  Thu Dec  2 08:22:10 2004
From: Administrator at leebrown.org (Lee E. Brown)
Date: Thu Dec  2 08:22:24 2004
Subject: [mod_python] Execution Order of Handlers & MVC in mod_python
References: <3C988A02-4402-11D9-B819-000393D153BC@mitre.org>
Message-ID: <003801c4d871$edfab0b0$0202a8c0@UberBox>

Greetings!

Try this:

    <Directory "/Users/amarre/Sites/web-app/">
        AddHandler mod_python .py .psp
        PythonDebug On
        <Files "*.py">
            PythonHandler hello
        </Files>
        <Files "*.psp">
            PythonHandler mod_python.psp
        </Files>
    </Directory>

Best Regards,
Lee E. Brown

----- Original Message ----- 
From: "Alexis Marrero-Narv?ez" <amarrero@mitre.org>
To: <mod_python@modpython.org>
Sent: Wednesday, December 01, 2004 8:33 PM
Subject: [mod_python] Execution Order of Handlers & MVC in mod_python


>I need enlightenment with this subject. I have the following configuration.
>
> Alias /python/ "/Users/amarre/Sites/web-app/"
> <Directory "/Users/amarre/Sites/web-app/">
>     AddHandler mod_python .py
>     PythonHandler hello
>     AddHandler mod_python .psp
>     PythonHandler mod_python.psp
>     PythonDebug On
> </Directory>
>
> In my /Users/amarre/Sites/web-app/ I have two files hello.py and 
> hello_a.psp. If I visit the url http://localhost/python/hello_a.psp I 
> display the ouput of hello.py concatenated with the output of hello_a.psp. 
> This tells me that one (hello.py) was executed before the other one 
> (hello_a.psp).
>  I understand that if I define more than one handle they executed in the 
> order they are added but, the first handler was added for ".py" files and 
> the second one for ".psp". And that's what is confusing me.
>
> How can I change the configuration to have both files coexist in the same 
> directory while executing just the one being addressed by the URL? 

From py at topmusic.ch  Thu Dec  2 08:31:05 2004
From: py at topmusic.ch (Francois)
Date: Thu Dec  2 08:31:15 2004
Subject: [mod_python] cg-bin files execution
In-Reply-To: <001601c4d86c$566eb520$747882c3@jonsof>
Message-ID: <NHBBJIKGILMEKGJNGPPBCEMAGBAA.py@topmusic.ch>

> The following is in the section "testing " in the mod_python tutorial
> <Directory /some/directory/htdocs/test>
>   AddHandler python-program .py
>   PythonHandler mptest
>   PythonDebug On
> </Directory>
> Should i put the PythonHandler mptest for every script filename?
> Because
> it's too exhausting for so many files.
> And what about the psp files?

Personnaly, I use mod_python.publisher with this configuration in .htaccess
file :

#/your/www/directory/.htaccess
AuthType Basic
DirectoryIndex index.py
AddHandler python-program .py
PythonHandler mod_python.publisher
PythonDebug On
Allow from all

So, when you type the url :
http://mywebsite/
python call the function 'index' in then file
/your/www/directory/index.py

and
http://mywebsite/test.py/myfunction
python call the function 'myfunction' in then file
/your/www/directory/test.py

Best regards
Francois

From nicolas at lehuen.com  Thu Dec  2 08:49:54 2004
From: nicolas at lehuen.com (Nicolas Lehuen)
Date: Thu Dec  2 08:50:13 2004
Subject: [mod_python] Execution Order of Handlers & MVC in mod_python
In-Reply-To: <003801c4d871$edfab0b0$0202a8c0@UberBox>
Message-ID: <200412021350.iB2DoCVj004464@modpython.org>

Hi,

This works on my Apache server :

LoadModule python_module python/mod_python.so
AddHandler mod_python .py .psp
PythonHandler mod_python.publisher | .py
PythonHandler mod_python.psp | .psp

In your config, you have multiple "AddHandler" directives. My config only
has one, with multiple "PythonHandler" directives which have an extension
restriction (using the pipe symbol).

Regards,

Nicolas


> -----Message d'origine-----
> De : mod_python-bounces@modpython.org 
> [mailto:mod_python-bounces@modpython.org] De la part de Lee E. Brown
> Envoy? : jeudi 2 d?cembre 2004 14:22
> ? : mod_python@modpython.org
> Objet : Re: [mod_python] Execution Order of Handlers & MVC in 
> mod_python
> 
> Greetings!
> 
> Try this:
> 
>     <Directory "/Users/amarre/Sites/web-app/">
>         AddHandler mod_python .py .psp
>         PythonDebug On
>         <Files "*.py">
>             PythonHandler hello
>         </Files>
>         <Files "*.psp">
>             PythonHandler mod_python.psp
>         </Files>
>     </Directory>
> 
> Best Regards,
> Lee E. Brown
> 
> ----- Original Message -----
> From: "Alexis Marrero-Narv?ez" <amarrero@mitre.org>
> To: <mod_python@modpython.org>
> Sent: Wednesday, December 01, 2004 8:33 PM
> Subject: [mod_python] Execution Order of Handlers & MVC in mod_python
> 
> 
> >I need enlightenment with this subject. I have the following 
> configuration.
> >
> > Alias /python/ "/Users/amarre/Sites/web-app/"
> > <Directory "/Users/amarre/Sites/web-app/">
> >     AddHandler mod_python .py
> >     PythonHandler hello
> >     AddHandler mod_python .psp
> >     PythonHandler mod_python.psp
> >     PythonDebug On
> > </Directory>
> >
> > In my /Users/amarre/Sites/web-app/ I have two files hello.py and 
> > hello_a.psp. If I visit the url 
> http://localhost/python/hello_a.psp I 
> > display the ouput of hello.py concatenated with the output 
> of hello_a.psp. 
> > This tells me that one (hello.py) was executed before the other one 
> > (hello_a.psp).
> >  I understand that if I define more than one handle they 
> executed in the 
> > order they are added but, the first handler was added for 
> ".py" files and 
> > the second one for ".psp". And that's what is confusing me.
> >
> > How can I change the configuration to have both files 
> coexist in the same 
> > directory while executing just the one being addressed by the URL? 
> 
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
> 


From isofroni at cc.uoi.gr  Thu Dec  2 10:00:41 2004
From: isofroni at cc.uoi.gr (John)
Date: Thu Dec  2 10:02:28 2004
Subject: [mod_python] cg-bin files execution
References: <NHBBJIKGILMEKGJNGPPBCEMAGBAA.py@topmusic.ch>
Message-ID: <000d01c4d87f$b45d8310$747882c3@jonsof>


----- Original Message ----- 
From: "Francois" <py@topmusic.ch>
To: "John" <isofroni@cc.uoi.gr>
Cc: "Mod_Python" <mod_python@modpython.org>
Sent: Thursday, December 02, 2004 3:31 PM
Subject: RE: [mod_python] cg-bin files execution


> > The following is in the section "testing " in the mod_python tutorial
> > <Directory /some/directory/htdocs/test>
> >   AddHandler python-program .py
> >   PythonHandler mptest
> >   PythonDebug On
> > </Directory>
> > Should i put the PythonHandler mptest for every script filename?
> > Because
> > it's too exhausting for so many files.
> > And what about the psp files?
>
> Personnaly, I use mod_python.publisher with this configuration in
.htaccess
> file :
>
> #/your/www/directory/.htaccess
> AuthType Basic
> DirectoryIndex index.py
> AddHandler python-program .py
> PythonHandler mod_python.publisher
> PythonDebug On
> Allow from all
>
> So, when you type the url :
> http://mywebsite/
> python call the function 'index' in then file
> /your/www/directory/index.py
>
> and
> http://mywebsite/test.py/myfunction
> python call the function 'myfunction' in then file
> /your/www/directory/test.py
>
> Best regards
> Francois
>
>


I put that in my httpd.conf

<Directory /a/dir/>
AddHandler python-program .py
PythonHandler mod_python.publisher
PythonDebug On
</Directory>


But now i cannot lunch any .py file.

Could you tell me what is going on with mod_python as far as i am a php
programmer and there (mod_php4.so) every .php file works without any furthet
configuration.


From nick at dd.revealed.net  Thu Dec  2 10:18:29 2004
From: nick at dd.revealed.net (Nick)
Date: Thu Dec  2 10:18:50 2004
Subject: [mod_python] python & chrooted area
In-Reply-To: <00d901c4d847$8aede2a0$747882c3@jonsof>
References: <000801c4d7b7$3f3a7840$747882c3@jonsof>	<41ADE0AA.7040909@dd.revealed.net>	<000501c4d7b9$840d6b10$747882c3@jonsof><41ADE53F.40700@dd.revealed.net>	<41AE0AF9.7040304@sebistar.net>
	<00d901c4d847$8aede2a0$747882c3@jonsof>
Message-ID: <41AF3245.4080909@dd.revealed.net>

Type ldd libpython2.3.so, then ldd lib/lib-dynload/*, and you'll see the 
scope of the problem.

Nick

John wrote:
> What about if you copy all the python related files to the chroot area?
> 
> 
> ----- Original Message ----- 
> From: "Jon-Pierre Gentil" <jgentil@sebistar.net>
> To: <mod_python@modpython.org>
> Sent: Wednesday, December 01, 2004 8:18 PM
> Subject: Re: [mod_python] python & chrooted area
> 
> 
> 
>>-----BEGIN PGP SIGNED MESSAGE-----
>>Hash: RIPEMD160
>>
>>Nick wrote:
>>
>>
>>>>Thank you for the advice but i have already a chrooted area and i
> 
> lately
> 
>>>>installed the mod_python. (to a non chrooted apache in the same
>>>>system). Now
>>>>i have to copy the /usr/local/apache/bin to the chrooted are and
>>>>(possibly)
>>>>the mod_python.so and some files from the python installation.
>>>>
>>>>Any ideas on what files?
>>>
>>>
>>>I imagine you'd need libpython2.X.so mainly just to get it running at
>>>all. You're going to need most if not all of the modules in
>>>/usr/lib/python (or perhaps in your case /usr/local/python/lib?) to do
>>>anything interesting.
>>
>>Python itself doesn't work very well chrooted, especially with apache.
>> I tried several times to get it working, but overall, python just has
>>too many dependancies to really successfully work in a chroot environment.
>>
>>But, good luck!  Let us know if you accomplish it.
>>-----BEGIN PGP SIGNATURE-----
>>Version: GnuPG v1.2.5 (GNU/Linux)
>>
>>iEYEAREDAAYFAkGuCvkACgkQOrVFmaIbww4MjACdFE1caafVnqlfBcBZnqlPcAAd
>>fAsAoKhRw4RsMSk+vBk2mXEg6nq38Ix8
>>=01/4
>>-----END PGP SIGNATURE-----
>>_______________________________________________
>>Mod_python mailing list
>>Mod_python@modpython.org
>>http://mailman.modpython.org/mailman/listinfo/mod_python
> 
> 
> 
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python

From py at topmusic.ch  Thu Dec  2 10:50:46 2004
From: py at topmusic.ch (Francois)
Date: Thu Dec  2 10:50:53 2004
Subject: [mod_python] cg-bin files execution
In-Reply-To: <000d01c4d87f$b45d8310$747882c3@jonsof>
Message-ID: <NHBBJIKGILMEKGJNGPPBAEMJGBAA.py@topmusic.ch>

> I put that in my httpd.conf
> <Directory /a/dir/>
> AddHandler python-program .py
> PythonHandler mod_python.publisher
> PythonDebug On
> </Directory>
>
> But now i cannot lunch any .py file.

Do you have any error message ? What's your *.py file ? Did you restart
apache ?

From isofroni at cc.uoi.gr  Thu Dec  2 12:45:34 2004
From: isofroni at cc.uoi.gr (John)
Date: Thu Dec  2 12:47:21 2004
Subject: [mod_python] python & chrooted area
References: <000801c4d7b7$3f3a7840$747882c3@jonsof>	<41ADE0AA.7040909@dd.revealed.net>	<000501c4d7b9$840d6b10$747882c3@jonsof><41ADE53F.40700@dd.revealed.net>	<41AE0AF9.7040304@sebistar.net>
	<00d901c4d847$8aede2a0$747882c3@jonsof>
	<41AF3245.4080909@dd.revealed.net>
Message-ID: <001001c4d896$bcf0acc0$747882c3@jonsof>


----- Original Message ----- 
From: "Nick" <nick@dd.revealed.net>
To: "John" <isofroni@cc.uoi.gr>; <mod_python@modpython.org>
Sent: Thursday, December 02, 2004 5:18 PM
Subject: Re: [mod_python] python & chrooted area


> Type ldd libpython2.3.so, then ldd lib/lib-dynload/*, and you'll see the
> scope of the problem.
>
> Nick
>
> John wrote:
> > What about if you copy all the python related files to the chroot area?
> >
> >
> > ----- Original Message ----- 
> > From: "Jon-Pierre Gentil" <jgentil@sebistar.net>
> > To: <mod_python@modpython.org>
> > Sent: Wednesday, December 01, 2004 8:18 PM
> > Subject: Re: [mod_python] python & chrooted area
> >
> >
> >
> >>-----BEGIN PGP SIGNED MESSAGE-----
> >>Hash: RIPEMD160
> >>
> >>Nick wrote:
> >>
> >>
> >>>>Thank you for the advice but i have already a chrooted area and i
> >
> > lately
> >
> >>>>installed the mod_python. (to a non chrooted apache in the same
> >>>>system). Now
> >>>>i have to copy the /usr/local/apache/bin to the chrooted are and
> >>>>(possibly)
> >>>>the mod_python.so and some files from the python installation.
> >>>>
> >>>>Any ideas on what files?
> >>>
> >>>
> >>>I imagine you'd need libpython2.X.so mainly just to get it running at
> >>>all. You're going to need most if not all of the modules in
> >>>/usr/lib/python (or perhaps in your case /usr/local/python/lib?) to do
> >>>anything interesting.
> >>
> >>Python itself doesn't work very well chrooted, especially with apache.
> >> I tried several times to get it working, but overall, python just has
> >>too many dependancies to really successfully work in a chroot
environment.
> >>
> >>But, good luck!  Let us know if you accomplish it.
> >>-----BEGIN PGP SIGNATURE-----
> >>Version: GnuPG v1.2.5 (GNU/Linux)
> >>
> >>iEYEAREDAAYFAkGuCvkACgkQOrVFmaIbww4MjACdFE1caafVnqlfBcBZnqlPcAAd
> >>fAsAoKhRw4RsMSk+vBk2mXEg6nq38Ix8
> >>=01/4
> >>-----END PGP SIGNATURE-----
> >>_______________________________________________
> >>Mod_python mailing list
> >>Mod_python@modpython.org
> >>http://mailman.modpython.org/mailman/listinfo/mod_python
> >
> >
> >
> > _______________________________________________
> > Mod_python mailing list
> > Mod_python@modpython.org
> > http://mailman.modpython.org/mailman/listinfo/mod_python
>
>

Ok, i managed to chroot apache, by monitoring the open files (lsof) during a
py script execution.


From isofroni at cc.uoi.gr  Thu Dec  2 12:53:01 2004
From: isofroni at cc.uoi.gr (John)
Date: Thu Dec  2 12:55:03 2004
Subject: [mod_python] cg-bin files execution
References: <NHBBJIKGILMEKGJNGPPBAEMJGBAA.py@topmusic.ch>
Message-ID: <000001c4d897$d16ba2d0$747882c3@jonsof>


----- Original Message ----- 
From: "Francois" <py@topmusic.ch>
To: "Mod_Python" <mod_python@modpython.org>
Sent: Thursday, December 02, 2004 5:50 PM
Subject: RE: [mod_python] cg-bin files execution


> > I put that in my httpd.conf
> > <Directory /a/dir/>
> > AddHandler python-program .py
> > PythonHandler mod_python.publisher
> > PythonDebug On
> > </Directory>
> >
> > But now i cannot lunch any .py file.
>
> Do you have any error message ? What's your *.py file ? Did you restart
> apache ?
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>


Here is my error_log

[Thu Dec  2 19:50:39 2004] [notice] mod_python: (Re)importing
mod_python.publisher from None
[Thu Dec  2 19:51:27 2004] [notice] mod_python: (Re)importing
mod_python.publisher from None


When i try to lunch the *.py files i receive and 404 error (page does not
exist)


From list at joreybump.com  Thu Dec  2 14:32:35 2004
From: list at joreybump.com (Jorey Bump)
Date: Thu Dec  2 14:32:39 2004
Subject: [mod_python] cg-bin files execution
In-Reply-To: <000001c4d897$d16ba2d0$747882c3@jonsof>
References: <NHBBJIKGILMEKGJNGPPBAEMJGBAA.py@topmusic.ch>
	<000001c4d897$d16ba2d0$747882c3@jonsof>
Message-ID: <41AF6DD3.3050206@joreybump.com>

John wrote:

> Here is my error_log
> 
> [Thu Dec  2 19:50:39 2004] [notice] mod_python: (Re)importing
> mod_python.publisher from None
> [Thu Dec  2 19:51:27 2004] [notice] mod_python: (Re)importing
> mod_python.publisher from None

Normal.

> When i try to lunch the *.py files i receive and 404 error (page does not
> exist)

Publisher expects you to point to a function *within* the module:

  http://host/module.py/somefunction

Here's a very easy way to test Publisher:

<Directory /var/www/documentroot>
    AddHandler python-program .py
    PythonHandler mod_python.publisher
    PythonDebug On
</Directory>

Create test.py:

def hello(req):
     x = "Hello, world!"
     return x

Restart apache (if you modified httpd.conf), point your browser to:

  http://localhost/test.py/hello

Furthermore, if you add the directive:

  Options MultiViews

to your directory section, you should be able to hide the extension 
(assuming there is no conflict with another test.* file):

  http://localhost/test/hello

From alain at onesite.org  Thu Dec  2 14:45:22 2004
From: alain at onesite.org (Alain Tesio)
Date: Thu Dec  2 14:45:34 2004
Subject: [mod_python] python & chrooted area
In-Reply-To: <41AF3245.4080909@dd.revealed.net>
References: <000801c4d7b7$3f3a7840$747882c3@jonsof>
	<41ADE0AA.7040909@dd.revealed.net>
	<000501c4d7b9$840d6b10$747882c3@jonsof>
	<41ADE53F.40700@dd.revealed.net> <41AE0AF9.7040304@sebistar.net>
	<00d901c4d847$8aede2a0$747882c3@jonsof>
	<41AF3245.4080909@dd.revealed.net>
Message-ID: <20041202204522.67a1a258@alain>

Have a look at makejail here: http://www.floc.net/makejail/

It's a helper script to setup a chroot, it copies the files it can guess automatically.

Recursively, it adds these files:

- any list you provide
- a library used by an added dynamic executable (uses ldd)
- a file accessed by test commands (using strace -e open)

There is a sample apache configuration file, add a test command from
outside the chroot to access a url using modpython.

If you have a running apache in chroot, test it on an empty directory so
it doesn't overwrite the existing files and look at what's copied.

Alain
From rune.hansen at scanmine.com  Thu Dec  2 15:19:21 2004
From: rune.hansen at scanmine.com (Rune Hansen)
Date: Thu Dec  2 15:19:25 2004
Subject: [mod_python] gdbm and reorganize...
Message-ID: <73A9DEC6-449F-11D9-B909-000A956CC60E@scanmine.com>

What has this got to do with mod_python you might ask. Good question. I 
found that gdbm is faster that dbhash - the app won't be running on 
windows anyway...

Python 2.3.4 (#1, Dec  1 2004, 15:27:31)
[GCC 3.2.3 20030502 (Red Hat Linux 3.2.3-42)] on linux2
Type "help", "copyright", "credits" or "license" for more information.
 >>> import gdbm
 >>> db = gdbm.open("test.dmb","w")
 >>> db["a"] = "rune"
 >>> del db["a"]
 >>> db.reorganize()
 >>> db.close()

Python 2.3.4 (#1, Dec  1 2004, 15:27:31)
[GCC 3.2.3 20030502 (Red Hat Linux 3.2.3-42)] on linux2
Type "help", "copyright", "credits" or "license" for more information.
 >>> import gdbm
 >>> db = gdbm.open("mp_session.dbm","w")
 >>> db.reorganize()
Traceback (most recent call last):
   File "<stdin>", line 1, in ?
gdbm.error: Reorganize failed
 >>> import whichdb
 >>> whichdb.whichdb("mp_session.dbm")
'gdbm'

Anyone got any idea why reorganize() fails on a gdbm database created 
by Session.Dbmsession() ?

regards

/rune

From pf_moore at yahoo.co.uk  Thu Dec  2 17:53:26 2004
From: pf_moore at yahoo.co.uk (Paul Moore)
Date: Thu Dec  2 17:53:31 2004
Subject: [mod_python] Re: problem installing mod_python-3.1.3 with Python 2.4
References: <005b01c4d7db$63ead300$9cfc263e@kostisxp9erfpv>
	<6148F1F4-43D8-11D9-9479-000A95BF3560@sent.com>
	<001101c4d7f1$312a1c30$0202a8c0@UberBox> <41AEC7AE.6040107@sjsoft.com>
Message-ID: <ueki85n2x.fsf@yahoo.co.uk>

David Fraser <davidf@sjsoft.com> writes:

> The Windows installer for mod Python 3.1.3 is only for Python 2.3 - you 
> can tell that because it's called mod_python-3.1.3.win32-py2.3.exe 
> <http://apache.is.co.za/dist/httpd/modpython/win/3.1.3/mod_python-3.1.3.win32-py2.3.exe>
>
> In general Python extensions written in C have to be compiled for the 
> version of Python they are used with, so a new binary would be needed 
> for 2.4
>
> Anyone is welcome to try build this, I plan to myself when I get a 
> chance. But simply using the existing installer won't work...

The biggest difficulty I hit was that Python 2.4 (the standard
binary) is built with MSVC 7.1, so extensions also have to be built
with that version (or with mingw, which can build MSVC-7.1 compatible
binaries).

As I don't have MSVC 7.1, and can't work out how to build Apache, or
at least enough of it to compile mod_python, with mingw, I'm stuck.

I would *really* appreciate a Python 2.4 binary of mod_python...

Paul.

PS Actually, I'm not 100% clear how binary compatibility works here.
   The very strong message on python-dev is that extensions *must* be
   built to use a compatible CRT. But mod_python bridges the Python
   and Apache binaries, and Python uses the MSVC 7.1 CRT, where
   (AFAIK) Apache uses the MSVC 6 CRT. So isn't there an
   incompatibility on one side or the other whatever compiler is used
   to build mod_python?
-- 
Never keep up with the Joneses. Drag them down to your level. --
Quentin Crisp

From anthony at opensource-strategies.com  Thu Dec  2 22:07:24 2004
From: anthony at opensource-strategies.com (Anthony M. Saffer)
Date: Thu Dec  2 22:08:31 2004
Subject: [mod_python] Still displaying source instead of results...
Message-ID: <001601c4d8e5$3a19db60$d91abfd0@saffers>

Hello Everyone,

I asked this question a few weeks ago and didn't receive any answer aside
from "well, did you read the docs". So, before someone asks that again: yes
I did read the docs here and I have done as they've told me and it still
isn't working.

Here's my setup:

mod_python 2.7
apache 1.3
RH Linux Advanced Server (Current Version)

I followed the following procedure to install mod_python:

./configure
make
make install

All standard stuff...The installation process told me all was well and that
I should point add LoadModule python_module /usr/lib/apache/mod_python.so to
the LoadModule list and AddModule mod_python.c to my AddModule list since I
do use the ClearModuleList directive.

Additionally, I added the following lines to my httpd.conf file right under
the AddModule list:

AddHandler mod_python .py
PythonHandler mptest
PythonDebug On

This is ALL that the docs tell me to do and, yet, when I run the following
script I get a dump of the source. The script is not executing even though
I've gone as far as to chmod +x the script.

from mod_python import apache

def handler(req):
    req.send_http_header()
    req.write("Hello World!")
    return apache.OK

Can anyone help me out here? I am fairly new to installing new Apache
modules and would greatly appreciate it.

Thanks,
Anthony


From list at joreybump.com  Thu Dec  2 22:51:55 2004
From: list at joreybump.com (Jorey Bump)
Date: Thu Dec  2 22:51:59 2004
Subject: [mod_python] Still displaying source instead of results...
In-Reply-To: <001601c4d8e5$3a19db60$d91abfd0@saffers>
References: <001601c4d8e5$3a19db60$d91abfd0@saffers>
Message-ID: <41AFE2DB.7070905@joreybump.com>

Anthony M. Saffer wrote:

> Additionally, I added the following lines to my httpd.conf file right under
> the AddModule list:
> 
> AddHandler mod_python .py
> PythonHandler mptest
> PythonDebug On

This is incorrect. Do this:

  <Directory /some/directory/htdocs/test>
   AddHandler python-program .py
   PythonHandler mptest
   PythonDebug On
</Directory>

> This is ALL that the docs tell me to do and, yet, when I run the following

You're not reading the right manual:

  http://www.modpython.org/live/mod_python-2.7.8/doc-html/

> script I get a dump of the source. The script is not executing even though
> I've gone as far as to chmod +x the script.

It's not a script, it's a module. It doesn't execute like a CGI, it gets 
loaded into the interpreter. Therefore it doesn't need to be made 
executable, only readable.
From anthony at opensource-strategies.com  Thu Dec  2 23:25:19 2004
From: anthony at opensource-strategies.com (Anthony M. Saffer)
Date: Thu Dec  2 23:26:29 2004
Subject: [mod_python] Still displaying source instead of results...
References: <001601c4d8e5$3a19db60$d91abfd0@saffers>
	<41AFE2DB.7070905@joreybump.com>
Message-ID: <002d01c4d8f0$1b5dcfa0$d91abfd0@saffers>

>   <Directory /some/directory/htdocs/test>
>    AddHandler python-program .py
>    PythonHandler mptest
>    PythonDebug On
> </Directory>

Okay, I've done that. Now, the request at least seems to actually GET to
mod_python. But it is telling me it can't find the mptest module. I
installed mod_python from source. Did I forget to download something that
was not part of the source package?

> You're not reading the right manual:
>
>   http://www.modpython.org/live/mod_python-2.7.8/doc-html/

This is the manual I am reading. I've read the entire "configuring apache"
section and, with the exception of having to recompile apache, I've followed
it to the best of my understanding. Did I miss something?

> It's not a script, it's a module. It doesn't execute like a CGI, it gets
> loaded into the interpreter. Therefore it doesn't need to be made
> executable, only readable.

I didn't mean I chmod +x the module. I meant that I did that to the .py
script (I don't know why, it just was a last ditch effort I suppose). But I
do understand what you are saying here.


Thank you for your help!
Anthony

From nicolas at lehuen.com  Fri Dec  3 02:11:51 2004
From: nicolas at lehuen.com (Nicolas Lehuen)
Date: Fri Dec  3 02:12:05 2004
Subject: [mod_python] Re: problem installing mod_python-3.1.3 with Python
	2.4
In-Reply-To: <ueki85n2x.fsf@yahoo.co.uk>
Message-ID: <20041203071201.6CD8723C9B2@postfix4-2.free.fr>

Paul wrote :
> The biggest difficulty I hit was that Python 2.4 (the standard
> binary) is built with MSVC 7.1, so extensions also have to be 
> built with that version (or with mingw, which can build 
> MSVC-7.1 compatible binaries).
> 
> As I don't have MSVC 7.1, and can't work out how to build 
> Apache, or at least enough of it to compile mod_python, with 
> mingw, I'm stuck.
> 
> I would *really* appreciate a Python 2.4 binary of mod_python...
> 
> Paul.
> 
> PS Actually, I'm not 100% clear how binary compatibility works here.
>    The very strong message on python-dev is that extensions *must* be
>    built to use a compatible CRT. But mod_python bridges the Python
>    and Apache binaries, and Python uses the MSVC 7.1 CRT, where
>    (AFAIK) Apache uses the MSVC 6 CRT. So isn't there an
>    incompatibility on one side or the other whatever compiler is used
>    to build mod_python?

I'm maintaining a Win32 build of Apache 2.0.52 + mod_ssl + mod_svn 1.1 +
mod_python 3.1.3 with a few patches + a lot of other things (a simplistic
subversion front-end built with mod_python, PHP 4.3.9 etc.), the whole being
built with MSVC 7.1. I'm using it in production with Python 2.3.4 without
any problem, even though I have a MSVC 7.1 build on one side and MSVC 6 on
the other.

I have not yet tried to build it with Python 2.4, but I may try this
week-end.

I'm thinking about putting this binary build somewhere on the web ; right
now I have a somewhat rough distribution with an Inno Setup installer (the
rough part is mostly that upgrading must be done carefully because the
installer tends to overwrite httpd.conf without worrying about the changes
you've made). What worries me a bit is whether it is OK to bundle a bunch of
open source software with different licensing schemes. I can't bother to
read all the license files involved and check whether it is OK or not...

Regards,

Nicolas Lehuen
http://nicolas.lehuen.com/


From isofroni at cc.uoi.gr  Thu Dec  2 16:32:35 2004
From: isofroni at cc.uoi.gr (John)
Date: Fri Dec  3 03:55:39 2004
Subject: [mod_python] cg-bin files execution
References: <NHBBJIKGILMEKGJNGPPBAEMJGBAA.py@topmusic.ch><000001c4d897$d16ba2d0$747882c3@jonsof>
	<41AF6DD3.3050206@joreybump.com>
Message-ID: <000001c4d915$9f355670$747882c3@jonsof>


----- Original Message ----- 
From: "Jorey Bump" <list@joreybump.com>
To: "Mod_Python" <mod_python@modpython.org>
Sent: Thursday, December 02, 2004 9:32 PM
Subject: Re: [mod_python] cg-bin files execution


> John wrote:
>
> > Here is my error_log
> >
> > [Thu Dec  2 19:50:39 2004] [notice] mod_python: (Re)importing
> > mod_python.publisher from None
> > [Thu Dec  2 19:51:27 2004] [notice] mod_python: (Re)importing
> > mod_python.publisher from None
>
> Normal.
>
> > When i try to lunch the *.py files i receive and 404 error (page does
not
> > exist)
>
> Publisher expects you to point to a function *within* the module:
>
>   http://host/module.py/somefunction
>
> Here's a very easy way to test Publisher:
>
> <Directory /var/www/documentroot>
>     AddHandler python-program .py
>     PythonHandler mod_python.publisher
>     PythonDebug On
> </Directory>
>
> Create test.py:
>
> def hello(req):
>      x = "Hello, world!"
>      return x
>
> Restart apache (if you modified httpd.conf), point your browser to:
>
>   http://localhost/test.py/hello
>
> Furthermore, if you add the directive:
>
>   Options MultiViews
>
> to your directory section, you should be able to hide the extension
> (assuming there is no conflict with another test.* file):
>
>   http://localhost/test/hello
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>

Well i enter that url http://myserver/mptest.py/handler


And i received the following

Hello World!HTTP/1.1 200 OK
Date: Thu, 02 Dec 2004 21:31:42 GMT
Server: Apache/1.3.27 (Unix) mod_python/2.7.10 Python/2.3.4 PHP/4.3.0
AuthMySQL/2.20 DAV/1.0.3 mod_ssl/2.8.12 OpenSSL/0.9.7b
Connection: close
Transfer-Encoding: chunked
Content-Type: text/html; charset=iso-8859-1

<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<HTML><HEAD>
<TITLE>200 OK</TITLE>
</HEAD><BODY>
<H1>OK</H1>
The server encountered an internal error or
misconfiguration and was unable to complete
your request.<P>
Please contact the server administrator,
 admin@server and inform them of the time the error occurred,
and anything you might have done that may have
caused the error.<P>
More information about this error may be available
in the server error log.<P>
</BODY></HTML>
What is the internal error? Does it work correctly?


From py at topmusic.ch  Fri Dec  3 05:54:05 2004
From: py at topmusic.ch (=?iso-8859-1?Q?Fran=E7ois?=)
Date: Fri Dec  3 05:54:28 2004
Subject: [mod_python] cg-bin files execution
In-Reply-To: <000001c4d915$9f355670$747882c3@jonsof>
Message-ID: <NHBBJIKGILMEKGJNGPPBKEOBGBAA.py@topmusic.ch>

> Well i enter that url http://myserver/mptest.py/handler
> And i received the following
>
> Hello World!HTTP/1.1 200 OK
> Date: Thu, 02 Dec 2004 21:31:42 GMT
(...)

It's OK. With mod_python.publisher the return parameter is the text you want
to display :

Good:
#test.py
def good-function(req):
	return "<html><body>My Text</body></html>"

http://mysite/test.py/good-function
will display 'My Text'

Bad:
#test.py
def bad-function(req):
	req.write("<html><body>My Text</body></html>")
	return apache.OK

http://mysite/test.py/bad-function
will display 'My Text' + your error message

Fran?ois

From ale at unixmania.net  Fri Dec  3 05:57:34 2004
From: ale at unixmania.net (Alessandro de Manzano)
Date: Fri Dec  3 05:57:38 2004
Subject: [mod_python] sharing data among handlers in the same script
Message-ID: <20041203115733.A35912@libero.sunshine.ale>

Hi!

I'm using mod_python 2.7.10 with Apache 1.3.31 and Python 2.3.4 under
FreeBSD 4.10.

All works fine but now I need to share some data among handler
functions.

I've a single python script (not using publisher handler) which
"exports" two functions, one as autentication handler and one as main
CGI entry point.

I read on mod_python's docs that the req object (which both functions
obtain as parameter) is a normal, extensibile python object.

So is this a correct way to share a variable between them ? :


def authenhandler(req):
 # bla bla
 do something..
 req.mydummy = True

..

def main(req):
 # bla bla
 do something else
 if req.mydummy == True:
  # foobar
 else:
  req.myotherdummy = 42 # some data
  # barfoo


I mean, Apache should call first the authenhandler (the script is in a
authbasic-only directory, can't access without authentication) and
then the "normal" CGI entry point as URL specifies, right ?

Are there, maybe, problems with concurrent accesses ? (I guess not,
since a single Apache process execute just a single python interpreter
instance with my script, if I understand correctly)


Any hints and suggestions are more than welcome! :-)

Thanks in advance!


-- 

bye!

Alessandro de Manzano
Milano, Italy


From AJDENSTONE at BKB.com.br  Fri Dec  3 08:23:50 2004
From: AJDENSTONE at BKB.com.br (AJDENSTONE@BKB.com.br)
Date: Fri Dec  3 07:24:46 2004
Subject: RES: [mod_python] Re: problem installing mod_python-3.1.3 with Py
	thon 2.4
Message-ID: <DBBA2C22AB83D711BBBC0008C75DC954152F5AEF@BRSAOMXMP02.sp.bra.bkb.com>

If you want the MSVC 7.1 get it here:

http://www.vrplumber.com/programming/mstoolkit/

Regards,

Alexandre Jara Denstone
* ajdenstone@bkb.com.br


-----Mensagem original-----
De: Paul Moore [mailto:pf_moore@yahoo.co.uk] 
Enviada em: quinta-feira, 2 de dezembro de 2004 19:53
Para: mod_python@modpython.org
Assunto: [mod_python] Re: problem installing mod_python-3.1.3 with Python
2.4


David Fraser <davidf@sjsoft.com> writes:

> The Windows installer for mod Python 3.1.3 is only for Python 2.3 - 
> you
> can tell that because it's called mod_python-3.1.3.win32-py2.3.exe 
>
<http://apache.is.co.za/dist/httpd/modpython/win/3.1.3/mod_python-3.1.3.win3
2-py2.3.exe>
>
> In general Python extensions written in C have to be compiled for the
> version of Python they are used with, so a new binary would be needed 
> for 2.4
>
> Anyone is welcome to try build this, I plan to myself when I get a
> chance. But simply using the existing installer won't work...

The biggest difficulty I hit was that Python 2.4 (the standard
binary) is built with MSVC 7.1, so extensions also have to be built with
that version (or with mingw, which can build MSVC-7.1 compatible binaries).

As I don't have MSVC 7.1, and can't work out how to build Apache, or at
least enough of it to compile mod_python, with mingw, I'm stuck.

I would *really* appreciate a Python 2.4 binary of mod_python...

Paul.

PS Actually, I'm not 100% clear how binary compatibility works here.
   The very strong message on python-dev is that extensions *must* be
   built to use a compatible CRT. But mod_python bridges the Python
   and Apache binaries, and Python uses the MSVC 7.1 CRT, where
   (AFAIK) Apache uses the MSVC 6 CRT. So isn't there an
   incompatibility on one side or the other whatever compiler is used
   to build mod_python?
-- 
Never keep up with the Joneses. Drag them down to your level. -- Quentin
Crisp

_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://mailman.modpython.org/mailman/listinfo/mod_python


Esta mensagem, incluindo seus anexos, pode conter informacao confidencial
e/ou privilegiada. Se voce recebeu este e-mail por engano, nao utilize,
copie ou divulgue as informacoes nele contidas. E, por favor, avise
imediatamente o remetente, respondendo ao e-mail, e em seguida apague-o.
Este e-mail possui conteudo informativo e nao transacional. Caso necessite
de atendimento imediato, recomendamos utilizar um dos canais disponiveis:
Internet Banking <http://www.bankboston.com.br>  , BankBoston por telefone
<http://www.bankboston.com.br/bpt>  ou agencia/representante de atendimento
de sua conveniencia. Agradecemos sua colaboracao.
This message, including its attachments, may contain confidential and/or
privileged information. If you received this email by mistake, do not use,
copy or disseminate any information herein contained. Please notify us
immediately by replying to the sender and then delete it. This email is for
information purposes only, not for transactions. In case you need immediate
assistance, please use one of the following channels: Internet Banking
<http://www.bankboston.com.br>  ,  BankBoston by phone
<http://www.bankboston.com.br/bpt>  or branch/relationship manager at your
convenience. Thank you for your cooperation.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20041203/e9f51fe5/attachment.html
From sadrejeb at gmx.ch  Fri Dec  3 07:58:45 2004
From: sadrejeb at gmx.ch (Sadruddin Rejeb)
Date: Fri Dec  3 07:59:02 2004
Subject: [mod_python] Segmentation fault with xmlrpclib
Message-ID: <200412031358.46272.sadrejeb@gmx.ch>

Hello,

Since I've upgraded to Python2.4, I'm getting a segmentation fault in 
mod_python when using the standard xmlrpclib module. I'm using a handler 
similar to publisher, that imports the .py script including the "import 
xlmrpclib" statement. As soon as I try to access the webpage published by 
this script, the Apache child process dies...

I'm running the latest version of all software, that is Apache 2.0.52, Python 
2.4 and mod_python 3.1.3, and everything is compiled from source.

Does anyone else have this problem?

Best regards,
Sad

From david.christian at gmail.com  Fri Dec  3 08:12:34 2004
From: david.christian at gmail.com (David Christian)
Date: Fri Dec  3 08:12:37 2004
Subject: [mod_python] Segmentation fault with xmlrpclib
In-Reply-To: <200412031358.46272.sadrejeb@gmx.ch>
References: <200412031358.46272.sadrejeb@gmx.ch>
Message-ID: <63940b004120305124aeac292@mail.gmail.com>

> As soon as I try to access the webpage published by
> this script, the Apache child process dies...
> 
> Does anyone else have this problem?
> 

Hi Sad,
Although I haven't solved it, I wanted to confirm that yes,
I also have that problem.  I have narrowed it down to importing of
pyexpat module, imported from within xmlrpclib.  I haven't debugged
any further.

David
From isofroni at cc.uoi.gr  Fri Dec  3 08:39:26 2004
From: isofroni at cc.uoi.gr (John)
Date: Fri Dec  3 08:41:13 2004
Subject: [mod_python] cg-bin files execution
References: <NHBBJIKGILMEKGJNGPPBKEOBGBAA.py@topmusic.ch>
Message-ID: <001c01c4d93d$84f70470$747882c3@jonsof>


----- Original Message ----- 
From: "Fran?ois" <py@topmusic.ch>
To: "John" <isofroni@cc.uoi.gr>
Cc: "Mod_Python" <mod_python@modpython.org>
Sent: Friday, December 03, 2004 12:54 PM
Subject: RE: [mod_python] cg-bin files execution


> > Well i enter that url http://myserver/mptest.py/handler
> > And i received the following
> >
> > Hello World!HTTP/1.1 200 OK
> > Date: Thu, 02 Dec 2004 21:31:42 GMT
> (...)
>
> It's OK. With mod_python.publisher the return parameter is the text you
want
> to display :
>
> Good:
> #test.py
> def good-function(req):
> return "<html><body>My Text</body></html>"
>
> http://mysite/test.py/good-function
> will display 'My Text'
>
> Bad:
> #test.py
> def bad-function(req):
> req.write("<html><body>My Text</body></html>")
> return apache.OK
>
> http://mysite/test.py/bad-function
> will display 'My Text' + your error message
>
> Fran?ois
>
>


Well the good script gave me a syntax error.
Where is the fault?


From list at joreybump.com  Fri Dec  3 09:27:15 2004
From: list at joreybump.com (Jorey Bump)
Date: Fri Dec  3 09:27:19 2004
Subject: [mod_python] Still displaying source instead of results...
In-Reply-To: <002d01c4d8f0$1b5dcfa0$d91abfd0@saffers>
References: <001601c4d8e5$3a19db60$d91abfd0@saffers>
	<41AFE2DB.7070905@joreybump.com>
	<002d01c4d8f0$1b5dcfa0$d91abfd0@saffers>
Message-ID: <41B077C3.6020009@joreybump.com>

Anthony M. Saffer wrote:
>>  <Directory /some/directory/htdocs/test>
>>   AddHandler python-program .py
>>   PythonHandler mptest
>>   PythonDebug On
>></Directory>
> 
> 
> Okay, I've done that. Now, the request at least seems to actually GET to
> mod_python. But it is telling me it can't find the mptest module. I
> installed mod_python from source. Did I forget to download something that
> was not part of the source package?

You need to create mptest.py yourself, after the example in the manual.

>>You're not reading the right manual:
>>
>>  http://www.modpython.org/live/mod_python-2.7.8/doc-html/
> 
> 
> This is the manual I am reading. I've read the entire "configuring apache"
> section and, with the exception of having to recompile apache, I've followed
> it to the best of my understanding. Did I miss something?

The lines you listed are from the 3.1 manual. You're using 2.7.

>>It's not a script, it's a module. It doesn't execute like a CGI, it gets
>>loaded into the interpreter. Therefore it doesn't need to be made
>>executable, only readable.
> 
> I didn't mean I chmod +x the module. I meant that I did that to the .py
> script (I don't know why, it just was a last ditch effort I suppose). But I
> do understand what you are saying here.

I know it sounds like quibbling, but any code you run with mod_python is 
imported by python and treated as a module (with its own namespace). 
Therefore, mptest.py becomes the module mptest. This is in contrast with 
a python script that is made executable and run from the command line. 
Such a script has its own interpreter and automatically runs as the 
module __main__.

So, your .py applications are actually modules that will most likely 
share an interpreter and not run as individual scripts. This is very 
important to remember! If you grasp this at the beginning, you will 
spare yourself attempts to force apache and mod_python to behave the way 
you *think* it should.

I mention this to you in anticipation of future roadblocks you may 
encounter, especially if you are approaching this from a php or perl 
standpoint. Give your modules (files ending with .py) unique names 
*everywhere*, because they are imported into python like any other 
module in your path, with the directory names stripped.

Fortunately, there are advanced programming techniques that allow you to 
customize your environment to suit your style, including creating 
packages, and using frameworks.

Grisha's been kind enough to include a lot of technical details in the 
manual, and it merits a thourough reading. But I find that beginners get 
hung up on trying to create their own handlers and customizing apache, 
when the real gem is the Publisher handler. Here is a simple example to 
test your installation and get you started:

In httpd.conf:

<Directory /var/www/documentroot>
    AddHandler python-program .py
    PythonHandler mod_python.publisher
    PythonDebug On
</Directory>

Create test.py in your DocumentRoot:

def hello(req):
     x = "Hello, world!"
     return x

Restart apache (if you modified httpd.conf), point your browser at:

  http://localhost/test.py/hello

Note that I use AddHandler, unlike the example in the manual, which uses 
SetHandler. SetHandler forces all files in the directory to be handled 
by the PythonHandler. AddHandler limits this behaviour to a specific 
extension, allowing other types of files to peacefully coexist in the 
same directory:

  http://httpd.apache.org/docs/mod/mod_mime.html

This information is somewhat biased towards mod_python 2.7 and apache 
1.3. There may be important changes in recent versions. Good luck!

From list at joreybump.com  Fri Dec  3 09:39:46 2004
From: list at joreybump.com (Jorey Bump)
Date: Fri Dec  3 09:39:52 2004
Subject: [mod_python] cg-bin files execution
In-Reply-To: <001c01c4d93d$84f70470$747882c3@jonsof>
References: <NHBBJIKGILMEKGJNGPPBKEOBGBAA.py@topmusic.ch>
	<001c01c4d93d$84f70470$747882c3@jonsof>
Message-ID: <41B07AB2.2050105@joreybump.com>

John wrote:

> Well the good script gave me a syntax error.
> Where is the fault?

I think you may not have followed my example *exactly*. Apart from 
loading the modules, there should be no other mod_python configuration 
directives in httpd.conf than those found in the Directory container 
example I gave. Also, don't use mptest.py, but create test.py as 
instructed and use that. Then, just to be safe, restart apache to get a 
fresh interpreter (normally unnecessary, but you might as well start 
with a clean slate).

Don't be discouraged, your mod_python is working fine and doing exactly 
what you tell it to do. Now, tell it to do something else!  ;)
From digital.spy at gmx.net  Sat Dec  4 05:39:47 2004
From: digital.spy at gmx.net (Lars M.)
Date: Sat Dec  4 05:39:04 2004
Subject: [mod_python] Apache caching / reloading / restarting solution
Message-ID: <6.2.0.14.0.20041204112151.01c8dda0@pop.gmx.net>

Hi,

My problem always was that modules were cached and I couldn't call 
functions that were newly added to them without restarting Apache. This 
procedure takes ages here (XP Pro SP2). I tried various Apache directives 
to work around it, without any success, and was already considering PHP.

Then I gave the built-in Python function "reload(module)" a try - and it 
works flawlessly! I simply replaced all...

import module

...statements with...

import module
reload(module)

...statements and it seems changes to modules are reflected instantly. You 
could of course construct a conditional statement to only reload the 
modules during development.

BTW, as much as I like mailing lists, I think WWW-forums are much superior. 
The new beta version of "Google Groups" allows you to easily add new groups 
- wouldn't it be a good alternative?

Mailing lists feel a little clumsy.

Cheers,

-Lars

From digital.spy at gmx.net  Sat Dec  4 05:45:50 2004
From: digital.spy at gmx.net (Lars M.)
Date: Sat Dec  4 05:45:03 2004
Subject: [mod_python] Beta Google groups vs. mailing list
Message-ID: <6.2.0.14.0.20041204114416.01d37db0@pop.gmx.net>

Hi,

I created a google group called "mod_python" at

http://groups-beta.google.com/group/mod_python

I think the new version of Google Groups is much superior to any mailing 
list system, they always feel clumsy and it's difficult to find messages in 
the archives.

What do you think?

-Lars

From isofroni at cc.uoi.gr  Sat Dec  4 07:28:49 2004
From: isofroni at cc.uoi.gr (isofroni@cc.uoi.gr)
Date: Sat Dec  4 07:28:57 2004
Subject: [mod_python] Apache crashes every day after installing mod_python
Message-ID: <1102163329.41b1ad81141fa@webmail.uoi.gr>

Hello to all

I have experienced 2 crashes in two days after mod_python installation.

I feel that u should compile mod_python with -DEAPI.

Can anyone give me instructions on how to do the above compilation?
How to erase the current mod_pyton 2.7.10 installation?

From davidf at sjsoft.com  Sat Dec  4 08:53:38 2004
From: davidf at sjsoft.com (David Fraser)
Date: Sat Dec  4 08:53:42 2004
Subject: [mod_python] Beta Google groups vs. mailing list
In-Reply-To: <6.2.0.14.0.20041204114416.01d37db0@pop.gmx.net>
References: <6.2.0.14.0.20041204114416.01d37db0@pop.gmx.net>
Message-ID: <41B1C162.1000302@sjsoft.com>

Lars M. wrote:

> Hi,
>
> I created a google group called "mod_python" at
>
> http://groups-beta.google.com/group/mod_python
>
> I think the new version of Google Groups is much superior to any 
> mailing list system, they always feel clumsy and it's difficult to 
> find messages in the archives.
>
> What do you think?

Stick to the mailing list, and register the modpython list at gmane :-)

David
From digital.spy at gmx.net  Sat Dec  4 10:24:47 2004
From: digital.spy at gmx.net (Lars M.)
Date: Sat Dec  4 10:24:33 2004
Subject: [mod_python] Beta Google groups vs. mailing list
In-Reply-To: <41B1C162.1000302@sjsoft.com>
References: <6.2.0.14.0.20041204114416.01d37db0@pop.gmx.net>
	<41B1C162.1000302@sjsoft.com>
Message-ID: <6.2.0.14.0.20041204162353.01d62e40@pop.gmx.net>

I tried to, but it gives me an error message:

http://news.gmane.org/gmane.comp.python.mod_python

Seems someone else already submitted it. Did you? I nevertheless think 
Google Groups is better. :)

Lars

At 02:53 PM 12/4/2004, David Fraser wrote:
>Lars M. wrote:
>
>>Hi,
>>
>>I created a google group called "mod_python" at
>>
>>http://groups-beta.google.com/group/mod_python
>>
>>I think the new version of Google Groups is much superior to any mailing 
>>list system, they always feel clumsy and it's difficult to find messages 
>>in the archives.
>>
>>What do you think?
>
>Stick to the mailing list, and register the modpython list at gmane :-)
>
>David

From leejd80 at gmail.com  Sat Dec  4 10:46:56 2004
From: leejd80 at gmail.com (Lee jundong)
Date: Sat Dec  4 10:47:04 2004
Subject: [mod_python] HTML POST handle
Message-ID: <7dbf822f0412040746f52ec11@mail.gmail.com>

Hi,

    I am newbie for Mod_Python.Today, i write code to handle HTML
requst.But i failed.
    Follow code block is my python code:
----------------------------------------------
from mod_python import util

def Login (req):
    data = util.FieldStorage(req)
    return "login:", data.keys()
----------------------------------------------
    HTML code is following:
----------------------------------------------
<form method="POST" action="login.py/Login">
              <table border="1" width="100%">
                <tr>
                  <td width="100%" colspan="2">
                    <p align="center">Login</p>
                  </td>
                </tr>
                <tr>
                  <td width="39%">User</td>
                  <td width="61%"><input type="text" name="User" size="30"></td>
                </tr>
                <tr>
                  <td width="39%">Password:</td>
                  <td width="61%"><input type="password"
name="Password" size="30"></td>
                </tr>
                <tr>
                  <td width="100%" colspan="2">
              <p align="center">
              <input type="submit" value="Login" name="B1"></p>
                  </td>
                </tr>
              </table>
            </form>
------------------------------------

The code execute result follow:
---------------------------------------------
('login:', [])


   The python code can't get HTML request varible from result.How to do?

-- 
My Blog >> http://leejd.cndev.org
My QQ >> 9847243
From gustavo.cordova at q-voz.com  Sat Dec  4 11:37:55 2004
From: gustavo.cordova at q-voz.com (=?ISO-8859-1?Q?Gustavo_C=F3rdova_Avila?=)
Date: Sat Dec  4 11:31:07 2004
Subject: [mod_python] Still displaying source instead of results...
In-Reply-To: <001601c4d8e5$3a19db60$d91abfd0@saffers>
References: <001601c4d8e5$3a19db60$d91abfd0@saffers>
Message-ID: <41B1E7E3.8030301@q-voz.com>

Anthony M. Saffer wrote:

>Hello Everyone,
>
>I asked this question a few weeks ago and didn't receive any answer aside
>from "well, did you read the docs". So, before someone asks that again: yes
>I did read the docs here and I have done as they've told me and it still
>isn't working.
>
>Here's my setup:
>
>mod_python 2.7
>apache 1.3
>RH Linux Advanced Server (Current Version)
>
>I followed the following procedure to install mod_python:
>
>./configure
>make
>make install
>
>All standard stuff...The installation process told me all was well and that
>I should point add LoadModule python_module /usr/lib/apache/mod_python.so to
>the LoadModule list and AddModule mod_python.c to my AddModule list since I
>do use the ClearModuleList directive.
>
>Additionally, I added the following lines to my httpd.conf file right under
>the AddModule list:
>
>AddHandler mod_python .py
>PythonHandler mptest
>PythonDebug On
>
>This is ALL that the docs tell me to do and, yet, when I run the following
>script I get a dump of the source. The script is not executing even though
>I've gone as far as to chmod +x the script.
>
>from mod_python import apache
>
>def handler(req):
>    req.send_http_header()
>    req.write("Hello World!")
>    return apache.OK
>
>Can anyone help me out here? I am fairly new to installing new Apache
>modules and would greatly appreciate it.
>
>Thanks,
>Anthony
>
Did you set PythonPath to the location where your test
module is?

Try this apache setup, it's my preferred way of using python
modules, because of the nicer urls; I use Apache 2.x and
mod_python 3.1.3, but the setup isn't much different:

<Location /py-test>
    SetHandler python-program
    PythonPath "[\"/path/to/where/your/module/is\"]+sys.path"
    PythonInterpreter py_test
    PythonHandler name_of_your_module
    PythonAutoReload On
    PythonDebug On
</Location>

When you try to access any location inside /py-test from your
browser, your module gets invoked.

It's wierd, working with locations instead of directories,
but in the end it's much more flexible. IMO, of course.

Good luck with your installation.

-gus

From davidf at sjsoft.com  Sat Dec  4 12:09:00 2004
From: davidf at sjsoft.com (David Fraser)
Date: Sat Dec  4 12:09:06 2004
Subject: [mod_python] Beta Google groups vs. mailing list
In-Reply-To: <6.2.0.14.0.20041204162353.01d62e40@pop.gmx.net>
References: <6.2.0.14.0.20041204114416.01d37db0@pop.gmx.net>	<41B1C162.1000302@sjsoft.com>
	<6.2.0.14.0.20041204162353.01d62e40@pop.gmx.net>
Message-ID: <41B1EF2C.5080508@sjsoft.com>

I tried to a while ago, not sure what the problem is.

You may like Google Groups more but this is the official mailing list 
for the project ...
As a relative newcomer to the list I would leave it up to the project 
admins (and I'm not one) to decide how communication should work. Of 
course if you want to have discussions in the Google Group thats up to 
you :-)


David

Lars M. wrote:

> I tried to, but it gives me an error message:
>
> http://news.gmane.org/gmane.comp.python.mod_python
>
> Seems someone else already submitted it. Did you? I nevertheless think 
> Google Groups is better. :)
>
> Lars
>
> At 02:53 PM 12/4/2004, David Fraser wrote:
>
>> Lars M. wrote:
>>
>>> Hi,
>>>
>>> I created a google group called "mod_python" at
>>>
>>> http://groups-beta.google.com/group/mod_python
>>>
>>> I think the new version of Google Groups is much superior to any 
>>> mailing list system, they always feel clumsy and it's difficult to 
>>> find messages in the archives.
>>>
>>> What do you think?
>>
>>
>> Stick to the mailing list, and register the modpython list at gmane :-)
>>
>> David
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>

From digital.spy at gmx.net  Sat Dec  4 12:40:23 2004
From: digital.spy at gmx.net (Lars M.)
Date: Sat Dec  4 12:39:18 2004
Subject: [mod_python] Beta Google groups vs. mailing list
In-Reply-To: <41B1EF2C.5080508@sjsoft.com>
References: <6.2.0.14.0.20041204114416.01d37db0@pop.gmx.net>
	<41B1C162.1000302@sjsoft.com>
	<6.2.0.14.0.20041204162353.01d62e40@pop.gmx.net>
	<41B1EF2C.5080508@sjsoft.com>
Message-ID: <6.2.0.14.0.20041204184003.01c04168@pop.gmx.net>

Heh, I know this is the official mailing list and that it's up to the 
project admins - I'm just suggesting alternatives :) The beta version (of 
Google Groups) is relatively new, most have probably not heard of its new 
features (your own groups!) yet.

Don't think you must have posted a certain number of messages before you 
can start suggesting improvements.

Lars

At 06:09 PM 12/4/2004, David Fraser wrote:
>I tried to a while ago, not sure what the problem is.
>
>You may like Google Groups more but this is the official mailing list for 
>the project ...
>As a relative newcomer to the list I would leave it up to the project 
>admins (and I'm not one) to decide how communication should work. Of 
>course if you want to have discussions in the Google Group thats up to you :-)
>
>
>David
>
>Lars M. wrote:
>
>>I tried to, but it gives me an error message:
>>
>>http://news.gmane.org/gmane.comp.python.mod_python
>>
>>Seems someone else already submitted it. Did you? I nevertheless think 
>>Google Groups is better. :)
>>
>>Lars
>>
>>At 02:53 PM 12/4/2004, David Fraser wrote:
>>
>>>Lars M. wrote:
>>>
>>>>Hi,
>>>>
>>>>I created a google group called "mod_python" at
>>>>
>>>>http://groups-beta.google.com/group/mod_python
>>>>
>>>>I think the new version of Google Groups is much superior to any 
>>>>mailing list system, they always feel clumsy and it's difficult to find 
>>>>messages in the archives.
>>>>
>>>>What do you think?
>>>
>>>
>>>Stick to the mailing list, and register the modpython list at gmane :-)
>>>
>>>David
>>
>>
>>_______________________________________________
>>Mod_python mailing list
>>Mod_python@modpython.org
>>http://mailman.modpython.org/mailman/listinfo/mod_python

From jgentil at sebistar.net  Sat Dec  4 12:47:58 2004
From: jgentil at sebistar.net (Jon-Pierre Gentil)
Date: Sat Dec  4 12:48:07 2004
Subject: [mod_python] Beta Google groups vs. mailing list
In-Reply-To: <6.2.0.14.0.20041204162353.01d62e40@pop.gmx.net>
References: <6.2.0.14.0.20041204114416.01d37db0@pop.gmx.net>	<41B1C162.1000302@sjsoft.com>
	<6.2.0.14.0.20041204162353.01d62e40@pop.gmx.net>
Message-ID: <41B1F84E.9000004@sebistar.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: RIPEMD160

Lars M. wrote:
> I tried to, but it gives me an error message:
> 
> http://news.gmane.org/gmane.comp.python.mod_python
> 
> Seems someone else already submitted it. Did you? I nevertheless think
> Google Groups is better. :)

Better is a relative term.

I personally don't care for using web interfaces for stuff.  Not my
cup of tea.  Email has been a wonderful medium for a very long time,
and serves its purpose for mailing lists very well.  If you don't
like it, hook your email account up to a web-based email reader like
Google's.  Then you'll feel right at home.  :)


- --
_________________________________________________________

  Jon-Pierre Gentil               PGP: 0xA21BC30E
  jabber: jgentil@sebistar.net    web: www.sebistar.net
  "If you think education is expensive, try ignorance."
_________________________________________________________
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.5 (GNU/Linux)

iEYEAREDAAYFAkGx+E4ACgkQOrVFmaIbww63aQCglF7ZQSP9R2PMfjmDDkYA06uA
sbIAoKW+sZHouVnC2YUkvVGMSuisuxpa
=RV29
-----END PGP SIGNATURE-----
From list at joreybump.com  Sat Dec  4 14:28:33 2004
From: list at joreybump.com (Jorey Bump)
Date: Sat Dec  4 14:28:38 2004
Subject: [mod_python] HTML POST handle
In-Reply-To: <7dbf822f0412040746f52ec11@mail.gmail.com>
References: <7dbf822f0412040746f52ec11@mail.gmail.com>
Message-ID: <41B20FE1.8040307@joreybump.com>

Lee jundong wrote:
> Hi,
> 
>     I am newbie for Mod_Python.Today, i write code to handle HTML
> requst.But i failed.

Are you using Publisher, or another handler?

>     Follow code block is my python code:
> ----------------------------------------------
> from mod_python import util
> 
> def Login (req):
>     data = util.FieldStorage(req)
>     return "login:", data.keys()

If you're using the Publisher handler, you can simply do this:

def Login(req):
     return "login:", req.form.keys()



> ----------------------------------------------
>     HTML code is following:
> ----------------------------------------------
> <form method="POST" action="login.py/Login">
>               <table border="1" width="100%">
>                 <tr>
>                   <td width="100%" colspan="2">
>                     <p align="center">Login</p>
>                   </td>
>                 </tr>
>                 <tr>
>                   <td width="39%">User</td>
>                   <td width="61%"><input type="text" name="User" size="30"></td>
>                 </tr>
>                 <tr>
>                   <td width="39%">Password:</td>
>                   <td width="61%"><input type="password"
> name="Password" size="30"></td>
>                 </tr>
>                 <tr>
>                   <td width="100%" colspan="2">
>               <p align="center">
>               <input type="submit" value="Login" name="B1"></p>
>                   </td>
>                 </tr>
>               </table>
>             </form>
> ------------------------------------
> 
> The code execute result follow:
> ---------------------------------------------
> ('login:', [])
> 
> 
>    The python code can't get HTML request varible from result.How to do?
> 

From chad at zetaweb.com  Sat Dec  4 17:40:26 2004
From: chad at zetaweb.com (Chad Whitacre)
Date: Sat Dec  4 17:50:37 2004
Subject: [mod_python] Re: Beta Google groups vs. mailing list
In-Reply-To: <6.2.0.14.0.20041204162353.01d62e40@pop.gmx.net>
References: <6.2.0.14.0.20041204114416.01d37db0@pop.gmx.net>	<41B1C162.1000302@sjsoft.com>
	<6.2.0.14.0.20041204162353.01d62e40@pop.gmx.net>
Message-ID: <41B23CDA.40608@zetaweb.com>

Not sure who signed it up but the list is indeed registered w/ Gmane. 
I've been using it successfully from Thunderbird for about a week now, 
despite the TTW error. Does Google Groups support NNTP? I can't tell 
that it does. This would be a net loss IMO, as it means less UI choice. 
I would recommend filing a bug report w/ Gmane.


chad

P.S. Don't get me wrong, I'm an avid gmail user and fan of Google's UI 
design. I would use gmail exclusively if they let me set the From 
header. Choice trumps personal preference for a public list though.


Lars M. wrote:
> I tried to, but it gives me an error message:
> 
> http://news.gmane.org/gmane.comp.python.mod_python
> 
> Seems someone else already submitted it. Did you? I nevertheless think 
> Google Groups is better. :)
> 
> Lars
> 
> At 02:53 PM 12/4/2004, David Fraser wrote:
> 
>> Lars M. wrote:
>>
>>> Hi,
>>>
>>> I created a google group called "mod_python" at
>>>
>>> http://groups-beta.google.com/group/mod_python
>>>
>>> I think the new version of Google Groups is much superior to any 
>>> mailing list system, they always feel clumsy and it's difficult to 
>>> find messages in the archives.
>>>
>>> What do you think?
>>
>>
>> Stick to the mailing list, and register the modpython list at gmane :-)
>>
>> David

From conrad at hep.caltech.edu  Sun Dec  5 06:58:24 2004
From: conrad at hep.caltech.edu (Conrad Steenberg)
Date: Sun Dec  5 07:01:09 2004
Subject: [mod_python] Request.read() bug + PATCH
Message-ID: <1102247905.3603.4.camel@pb-d-128-141-36-171.cern.ch>

Skipped content of type multipart/mixed-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3740 bytes
Desc: not available
Url : http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20041205/78ff0421/smime.bin
From isofroni at cc.uoi.gr  Sun Dec  5 09:21:12 2004
From: isofroni at cc.uoi.gr (isofroni@cc.uoi.gr)
Date: Sun Dec  5 09:21:16 2004
Subject: [mod_python] mod_python (with -DEAPI) compiled problem
Message-ID: <1102256472.41b31958678db@webmail.uoi.gr>

After re-installing mod_python with the -DEAPI option i am facing a weird
problem.

apache creates many procesess (and these processes are not killed when nobody is
connected to my webserver). Therefore, the number of processes gets increasing
and so forth.
After that the number of processes might be 400 (apache processes) and then
apache doesn't respond to
any further requests.

Apache version is 1.3.27

Does anyone know why that is happening?
From rmfendt at web.de  Sun Dec  5 10:37:51 2004
From: rmfendt at web.de (Robert Fendt)
Date: Sun Dec  5 10:37:55 2004
Subject: [mod_python] gaps in the documentation
Message-ID: <20041205163751.5b79f7c3@vulcan>

Hi,

I am trying to get PSP to work as a templating mechanism. I have had
problems getting it to do what I want, and this is mainly due to poor
documentation. While the concept is very nice (the alternative would be to
use PHP), it seriously needs to be better documented. This also applies to
other parts of mod_python:

1) The session management part needs to be fleshed out. Especially the
lock/unlock thing: when do I need it (it says, most often I do not, but I
have to be able to answer that myself), how do I use it and so on.
load/save should be explained in more detail (why is there a load()
function, anyway?)

2) PSP is (excuse my french) a pain in the ass at the moment. Why does it
have to rebind session and form without checking if they are already
bound, e.g. by the Publisher handler function? This totally screwed my
session handling and it really took some detective work to find out why.
And bigger still as the question of 'why does it behave like that' is the
question of 'why is it not documented'. Same applies to content type
handling, though I already posted a patch sugestion to mod-python-dev for
that one.

3) I brought up a while ago that PSP writing directly to the req object
when __str()__ is invoked (i.e., when you use PSP as a templating
mechanism like I do) is _very_ irritating. While I do not agree with the
reasons, I can live with it, however. What I cannot live with is that this
behaviour is (again) not documented at all.

In most of the cases I am only feeling my way here without complete
understanding, so I do not think I am suited for completing the
documentation. But someone really, really should get at it.

Regards,
Robert
From isofroni at cc.uoi.gr  Sun Dec  5 07:25:11 2004
From: isofroni at cc.uoi.gr (John)
Date: Sun Dec  5 13:01:07 2004
Subject: [mod_python] mod_python (with -DEAPI) compiled problem
Message-ID: <000001c4daf4$27779400$747882c3@jonsof>

After re-installing mod_python with the -DEAPI option i am facing a weird problem.

apache creates many procesess (and these processes are not killed when nobody is connected to my webserver). Therefore, the number of processes gets increasing and so forth.
After that the number of processes might be 400 (apache processes) and then apache doesn't respond to
any further requests.

Apache version is 1.3.27

Does anyone know why that is happening?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20041205/1e74450b/attachment.html
From grisha at modpython.org  Sun Dec  5 13:05:08 2004
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Sun Dec  5 13:05:17 2004
Subject: [mod_python] Beta Google groups vs. mailing list
In-Reply-To: <6.2.0.14.0.20041204184003.01c04168@pop.gmx.net>
References: <6.2.0.14.0.20041204114416.01d37db0@pop.gmx.net>
	<41B1C162.1000302@sjsoft.com>
	<6.2.0.14.0.20041204162353.01d62e40@pop.gmx.net>
	<41B1EF2C.5080508@sjsoft.com>
	<6.2.0.14.0.20041204184003.01c04168@pop.gmx.net>
Message-ID: <20041205130412.E46421@grisha.dyndns.org>


I think the best thing is to keep it as it is and to figure out how to 
also send stuff to google - this what the Python list does.

Grisha

On Sat, 4 Dec 2004, Lars M. wrote:

> Heh, I know this is the official mailing list and that it's up to the project 
> admins - I'm just suggesting alternatives :) The beta version (of Google 
> Groups) is relatively new, most have probably not heard of its new features 
> (your own groups!) yet.
>
> Don't think you must have posted a certain number of messages before you can 
> start suggesting improvements.
>
> Lars
>
> At 06:09 PM 12/4/2004, David Fraser wrote:
>> I tried to a while ago, not sure what the problem is.
>> 
>> You may like Google Groups more but this is the official mailing list for 
>> the project ...
>> As a relative newcomer to the list I would leave it up to the project 
>> admins (and I'm not one) to decide how communication should work. Of 
>> course if you want to have discussions in the Google Group thats up to you 
>> :-)
>> 
>> 
>> David
>> 
>> Lars M. wrote:
>> 
>>> I tried to, but it gives me an error message:
>>> 
>>> http://news.gmane.org/gmane.comp.python.mod_python
>>> 
>>> Seems someone else already submitted it. Did you? I nevertheless think 
>>> Google Groups is better. :)
>>> 
>>> Lars
>>> 
>>> At 02:53 PM 12/4/2004, David Fraser wrote:
>>> 
>>>> Lars M. wrote:
>>>> 
>>>>> Hi,
>>>>> 
>>>>> I created a google group called "mod_python" at
>>>>> 
>>>>> http://groups-beta.google.com/group/mod_python
>>>>> 
>>>>> I think the new version of Google Groups is much superior to any 
>>>>> mailing list system, they always feel clumsy and it's difficult to 
>>>>> find messages in the archives.
>>>>> 
>>>>> What do you think?
>>>> 
>>>> 
>>>> Stick to the mailing list, and register the modpython list at gmane 
>>>> :-)
>>>> 
>>>> David
>>> 
>>> 
>>> _______________________________________________
>>> Mod_python mailing list
>>> Mod_python@modpython.org
>>> http://mailman.modpython.org/mailman/listinfo/mod_python
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>
From nicolas at lehuen.com  Sun Dec  5 15:36:30 2004
From: nicolas at lehuen.com (Nicolas Lehuen)
Date: Sun Dec  5 15:36:33 2004
Subject: [mod_python] Re: problem installing mod_python-3.1.3 with Python
	2.4
In-Reply-To: <DBBA2C22AB83D711BBBC0008C75DC954152F5AEF@BRSAOMXMP02.sp.bra.bkb.com>
Message-ID: <20041205203630.AE7531FA96F@postfix4-1.free.fr>

> The biggest difficulty I hit was that Python 2.4 (the standard 
> binary) is built with MSVC 7.1, so extensions also have to be built with
that version (or with mingw, which can build MSVC-7.1 compatible binaries).
> As I don't have MSVC 7.1, and can't work out how to build Apache, or at
least enough of it to compile
> mod_python, with mingw, I'm stuck.
>
> I would *really* appreciate a Python 2.4 binary of mod_python... 
>
> Paul. 

OK, I've managed to rebuild mod_python.so for Win32 with Python 2.4 support,
and it seems to work properly. If you want the binary version, write me and
I'll send it to you. Note that I've tried it on Apache 2.0.52 compiled with
VC 7.1 too, so your mileage may vary if you have the standard build of
Apache.

The problem is that I could not rebuild _psp.pyd, so PSP pages are not
working for now. Until now, I only needed to rebuild mod_python.so since the
patches I wrote were targeting this module, so I've just noticed that
building _psp.pyd is not as straightforward as building mod_python.so,
mainly because there are no project file or setup.py for this. It seems that
the subversion repository misses something there. Grisha, can you tell us
how to rebuild _psp.pyd ?

Best regards,
Nicolas

From davidf at sjsoft.com  Mon Dec  6 02:12:29 2004
From: davidf at sjsoft.com (David Fraser)
Date: Mon Dec  6 02:12:36 2004
Subject: [mod_python] Re: problem installing mod_python-3.1.3 with Python
	2.4
In-Reply-To: <20041205203630.AE7531FA96F@postfix4-1.free.fr>
References: <20041205203630.AE7531FA96F@postfix4-1.free.fr>
Message-ID: <41B4065D.3090302@sjsoft.com>

Nicolas Lehuen wrote:

>>The biggest difficulty I hit was that Python 2.4 (the standard 
>>binary) is built with MSVC 7.1, so extensions also have to be built with
>>    
>>
>that version (or with mingw, which can build MSVC-7.1 compatible binaries).
>  
>
>>As I don't have MSVC 7.1, and can't work out how to build Apache, or at
>>    
>>
>least enough of it to compile
>  
>
>>mod_python, with mingw, I'm stuck.
>>
>>I would *really* appreciate a Python 2.4 binary of mod_python... 
>>
>>Paul. 
>>    
>>
>
>OK, I've managed to rebuild mod_python.so for Win32 with Python 2.4 support,
>and it seems to work properly. If you want the binary version, write me and
>I'll send it to you. Note that I've tried it on Apache 2.0.52 compiled with
>VC 7.1 too, so your mileage may vary if you have the standard build of
>Apache.
>
>The problem is that I could not rebuild _psp.pyd, so PSP pages are not
>working for now. Until now, I only needed to rebuild mod_python.so since the
>patches I wrote were targeting this module, so I've just noticed that
>building _psp.pyd is not as straightforward as building mod_python.so,
>mainly because there are no project file or setup.py for this. It seems that
>the subversion repository misses something there. Grisha, can you tell us
>how to rebuild _psp.pyd ?
>  
>
Glad someone has done this. Could you include the details of how you 
built it?

You may also want to try the modifications I did to setup.py.in which 
enables it to build the extensions

It's in the mailing list archives but I've attached my latest version 
here in case.

David

-------------- next part --------------
 # Copyright 2004 Apache Software Foundation
 #
 #  Licensed under the Apache License, Version 2.0 (the "License");
 #  you may not use this file except in compliance with the License.
 #  You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 #  Unless required by applicable law or agreed to in writing, software
 #  distributed under the License is distributed on an "AS IS" BASIS,
 #  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 #  See the License for the specific language governing permissions and
 #  limitations under the License.
 #
 #
 # $Id: setup.py.in,v 1.6 2004/04/30 19:33:59 grisha Exp $

from distutils.core import setup, Extension

import sys
import re
import os.path

# TODO: improve the intelligence here...
winbuild = (len(sys.argv) > 1 and sys.argv[1] == "bdist_wininst") or (os.name == "nt")

def getmp_rootdir():
    """gets the root directory of the mod_python source tree..."""
    return os.path.abspath(os.path.join(os.path.dirname(__file__), '..'))

def getmp_srcdir():
    """gets the src subdirectory of the mod_python source tree..."""
    return os.path.join(getmp_rootdir(), 'src')

def getmp_includedir():
    """gets the src subdirectory of the mod_python source tree..."""
    return os.path.join(getmp_rootdir(), 'src', 'include')

def getconfigure_option(option_name):
    """gets an option from the config.status file"""
    config_status_file = os.path.join(getmp_rootdir(), 'config.status')
    if not os.path.exists(config_status_file):
        raise AssertionError("config.status not found in expected location (%s)" % config_status_file)
    header = open(config_status_file,'r')
    r = re.compile('s,@%s@,(?P<OPTION_STRING>[^,]+),' % (option_name))
    for line in header.readlines():
        m = r.search(line)
        if m is not None:
            return m.group('OPTION_STRING')
    raise AssertionError("unable to find @%s@ definition in %s" % (option_name, config_status_file))

def getmp_version():
    """finds out the version of mod_python"""
    # if that fails, read it from the source file ourselves...
    mpversion_file = os.path.join(getmp_includedir(), 'mpversion.h')
    if not os.path.exists(mpversion_file):
        raise AssertionError("mpversion.h not found in expected location (%s)" % mpversion_file)
    header = open(mpversion_file,'r')
    r = re.compile('#define\s+MPV_STRING\s+"(?P<MPV_STRING>[^"]+)"')
    for line in header.readlines():
        m = r.search(line)
        if m is not None:
            return m.group('MPV_STRING')
    raise AssertionError("unable to find MPV_STRING in %s", mpversion_file)

def getapxs_location():
    """finds the location of apxs from the config.status file"""
    return getconfigure_option("APXS")

def getapxs_option(option):
    APXS = getapxs_location()
    import commands
    return commands.getoutput("%s -q %s" % (APXS, option))

def getapache_srcdir():
    """returns apache src directory"""
    return os.getenv("APACHESRC")

def getapache_includedir():
    """returns apache include directory"""
    apache_srcdir = getapache_srcdir()
    if apache_srcdir is None:
        return getapxs_option("INCLUDEDIR")
    else:
        return os.path.join(getapache_srcdir(), "include")

def getapache_libdir():
    """returns apache lib directory"""
    apache_srcdir = getapache_srcdir()
    if apache_srcdir is None:
        return ""
    else:
        return os.path.join(apache_srcdir, "lib")

class PSPExtension(Extension):
    """a class that helps build the PSP extension"""
    def __init__(self, source_dir=None, include_dirs=None):
        if source_dir is None:
            source_dir = getmp_srcdir()
        if include_dirs is None:
            include_dirs = [getmp_includedir()]
        Extension.__init__(self, "mod_python._psp",
                               [os.path.join(source_dir, source_file) for source_file in
                                    ("psp_string.c", "psp_parser.c", "_pspmodule.c")],
                                include_dirs=include_dirs
                           )

modpy_src_files = ("mod_python.c", "_apachemodule.c", "connobject.c", "filterobject.c",
                   "hlist.c", "hlistobject.c", "requestobject.c", "serverobject.c", "tableobject.c",
                   "util.c")

class finallist(list):
  """this represents a list that cannot be appended to..."""
  def append(self, object):
      return

class ModPyExtension(Extension):
    """a class that actually builds the mod_python.so extension for Apache (yikes)"""
    def __init__(self, source_dir=None, include_dirs=None, library_dirs=None):
        if source_dir is None:
            source_dir = getmp_srcdir()
        if include_dirs is None:
            include_dirs = [getmp_includedir(), getapache_includedir()]
        if library_dirs is None:
            if winbuild:
                library_dirs = [getapache_libdir()]
            else:
                library_dirs = []
        if winbuild:
            libraries = ['libhttpd', 'libapr', 'libaprutil', 'ws2_32']
        else:
            libraries = ['apr-0', 'aprutil-0', 'python2.3']
            library_dirs.append('/usr/lib/python2.3/config')
        sources = [os.path.join(source_dir, source_file) for source_file in modpy_src_files]
        Extension.__init__(self, "mod_python_so",
            sources=sources, include_dirs=include_dirs, libraries=libraries, library_dirs=library_dirs)
        if winbuild:
            self.define_macros.extend([('WIN32',None),('NDEBUG',None),('_WINDOWS',None)])
            self.sources.append(os.path.join(source_dir, "Version.rc"))
        else:
            # TODO: fix this to autodetect if required...
            self.include_dirs.append("/usr/include/apr-0")
        # this is a hack to prevent build_ext from trying to append "initmod_python" to the export symbols
        self.export_symbols = finallist(self.export_symbols)

if winbuild:
    scripts = ["win32_postinstall.py"]
    # put the mod_python.so file in the Python root ...
    # win32_postinstall.py will pick it up from there...
    # data_files = [("", [(os.path.join(getmp_srcdir(), 'Release', 'mod_python.so'))])]
    data_files = []
else:
    # mpso = "../src/mod_python.so"
    scripts = []
    data_files = []

if __name__ == "__main__":
    VER = getmp_version()
    ModPyModule = ModPyExtension()
    PSPModule = PSPExtension()
    setup(name="mod_python",
        version=VER,
        description="Apache/Python Integration",
        author="Gregory Trubetskoy et al",
        author_email="mod_python@modpython.org",
        url="http://www.modpython.org/",
        packages=["mod_python"],
        package_dir={'mod_python': os.path.join(getmp_rootdir(), 'lib', 'python', 'mod_python')},
        scripts=scripts,
        data_files=data_files,
        ext_modules=[ModPyModule, PSPModule],
        options={'bdist_wininst':{'install_script':'win32_postinstall.py'}})

# makes emacs go into python mode
### Local Variables:
### mode:python
### End:
From nicolas at lehuen.com  Mon Dec  6 03:49:14 2004
From: nicolas at lehuen.com (Nicolas Lehuen)
Date: Mon Dec  6 03:49:32 2004
Subject: [mod_python] Re: problem installing mod_python-3.1.3 with Python
	2.4
In-Reply-To: <41B4065D.3090302@sjsoft.com>
Message-ID: <200412060849.iB68nUOG006358@modpython.org>

> -----Message d'origine-----
> De : David Fraser [mailto:davidf@sjsoft.com] 
> Envoy? : lundi 6 d?cembre 2004 08:12

[...]

> >OK, I've managed to rebuild mod_python.so for Win32 with Python 2.4 
> >support, and it seems to work properly. If you want the 
> binary version, 
> >write me and I'll send it to you. Note that I've tried it on Apache 
> >2.0.52 compiled with VC 7.1 too, so your mileage may vary if 
> you have 
> >the standard build of Apache.
> >
> >The problem is that I could not rebuild _psp.pyd, so PSP 
> pages are not 
> >working for now. Until now, I only needed to rebuild mod_python.so 
> >since the patches I wrote were targeting this module, so I've just 
> >noticed that building _psp.pyd is not as straightforward as building 
> >mod_python.so, mainly because there are no project file or 
> setup.py for 
> >this. It seems that the subversion repository misses 
> something there. 
> >Grisha, can you tell us how to rebuild _psp.pyd ?
> >  
> >
> Glad someone has done this. Could you include the details of 
> how you built it?
> 
> You may also want to try the modifications I did to 
> setup.py.in which enables it to build the extensions
> 
> It's in the mailing list archives but I've attached my latest 
> version here in case.
> 
> David

Well, actually rebuilding mod_python.so using Visual Studio .NET 2003 is
quite easy, you just have to open the .vcproj file which is in the
subversion repository, convert it to a VC 7.1 project, fiddle with the path
setting to point to the Python 2.4 installation and you're done. You get a
bunch of warnings (about 50 warning related to "inconsistent DLL reference"
or something like that) but the final binary is usable. Well, at least the
Python 2.3 version that I've built in the same way is usable since I've been
using it in production for a few months now ; I have just made a few tests
with the Python 2.4 version and it seems OK.

I'll give a try to your setup.py.in modifications since I'd rather find a
way to build a win32 version without using the .vcproj file, which requires
the full Visual Studio .NET 2003 I think... Being able to use the free
Microsoft compiler or MinGW is much more democratic.

Regards,
Nicolas



From sadrejeb at gmx.ch  Mon Dec  6 06:39:53 2004
From: sadrejeb at gmx.ch (Sadruddin Rejeb)
Date: Mon Dec  6 06:34:45 2004
Subject: [mod_python] Segmentation fault with xmlrpclib
In-Reply-To: <63940b004120305124aeac292@mail.gmail.com>
References: <200412031358.46272.sadrejeb@gmx.ch>
	<63940b004120305124aeac292@mail.gmail.com>
Message-ID: <200412061239.53541.sadrejeb@gmx.ch>

On Friday 03 December 2004 14.12, David Christian wrote:
> Although I haven't solved it, I wanted to confirm that yes,
> I also have that problem.  I have narrowed it down to importing of
> pyexpat module, imported from within xmlrpclib.  I haven't debugged
> any further.
Hi David,

Well, it appears that the error was due to the fact that Apache was linked 
with a old (<1.95.8) version of expat, while the pyexpat module in the stdlib 
now includes the 1.95.8 version. When I recompiled Apache against this 
version, everything was fine again.

Thanks for your help,
Sad
From chad at zetaweb.com  Mon Dec  6 07:04:07 2004
From: chad at zetaweb.com (Chad Whitacre)
Date: Mon Dec  6 07:05:45 2004
Subject: [mod_python] Re: Beta Google groups vs. mailing list
In-Reply-To: <20041205130412.E46421@grisha.dyndns.org>
References: <6.2.0.14.0.20041204114416.01d37db0@pop.gmx.net>	<41B1C162.1000302@sjsoft.com>	<6.2.0.14.0.20041204162353.01d62e40@pop.gmx.net>	<41B1EF2C.5080508@sjsoft.com>	<6.2.0.14.0.20041204184003.01c04168@pop.gmx.net>
	<20041205130412.E46421@grisha.dyndns.org>
Message-ID: <41B44AB7.6070209@zetaweb.com>

Just subscribe to the list from mod_python@googlegroups.com. You'll 
prolly want some boilerplate on the GG front page so people know what's 
going on. Do you have a link to the python list on GG?


chad




Should just be able to

Gregory (Grisha) Trubetskoy wrote:
> 
> I think the best thing is to keep it as it is and to figure out how to 
> also send stuff to google - this what the Python list does.
> 
> Grisha
> 
> On Sat, 4 Dec 2004, Lars M. wrote:
> 
>> Heh, I know this is the official mailing list and that it's up to the 
>> project admins - I'm just suggesting alternatives :) The beta version 
>> (of Google Groups) is relatively new, most have probably not heard of 
>> its new features (your own groups!) yet.
>>
>> Don't think you must have posted a certain number of messages before 
>> you can start suggesting improvements.
>>
>> Lars
>>
>> At 06:09 PM 12/4/2004, David Fraser wrote:
>>
>>> I tried to a while ago, not sure what the problem is.
>>>
>>> You may like Google Groups more but this is the official mailing list 
>>> for the project ...
>>> As a relative newcomer to the list I would leave it up to the project 
>>> admins (and I'm not one) to decide how communication should work. Of 
>>> course if you want to have discussions in the Google Group thats up 
>>> to you :-)
>>>
>>>
>>> David
>>>
>>> Lars M. wrote:
>>>
>>>> I tried to, but it gives me an error message:
>>>>
>>>> http://news.gmane.org/gmane.comp.python.mod_python
>>>>
>>>> Seems someone else already submitted it. Did you? I nevertheless 
>>>> think Google Groups is better. :)
>>>>
>>>> Lars
>>>>
>>>> At 02:53 PM 12/4/2004, David Fraser wrote:
>>>>
>>>>> Lars M. wrote:
>>>>>
>>>>>> Hi,
>>>>>>
>>>>>> I created a google group called "mod_python" at
>>>>>>
>>>>>> http://groups-beta.google.com/group/mod_python
>>>>>>
>>>>>> I think the new version of Google Groups is much superior to any 
>>>>>> mailing list system, they always feel clumsy and it's difficult to 
>>>>>> find messages in the archives.
>>>>>>
>>>>>> What do you think?
>>>>>
>>>>>
>>>>>
>>>>> Stick to the mailing list, and register the modpython list at gmane 
>>>>> :-)
>>>>>
>>>>> David
>>>>
>>>>
>>>>
>>>> _______________________________________________
>>>> Mod_python mailing list
>>>> Mod_python@modpython.org
>>>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>
>>
>> _______________________________________________
>> Mod_python mailing list
>> Mod_python@modpython.org
>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>

From grisha at modpython.org  Mon Dec  6 10:39:33 2004
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Mon Dec  6 10:39:49 2004
Subject: [mod_python] Re: Beta Google groups vs. mailing list
In-Reply-To: <41B44AB7.6070209@zetaweb.com>
References: <6.2.0.14.0.20041204114416.01d37db0@pop.gmx.net>
	<41B1C162.1000302@sjsoft.com>
	<6.2.0.14.0.20041204162353.01d62e40@pop.gmx.net>
	<41B1EF2C.5080508@sjsoft.com>
	<6.2.0.14.0.20041204184003.01c04168@pop.gmx.net>
	<20041205130412.E46421@grisha.dyndns.org>
	<41B44AB7.6070209@zetaweb.com>
Message-ID: <20041206103625.H46421@grisha.dyndns.org>


On Mon, 6 Dec 2004, Chad Whitacre wrote:

> Just subscribe to the list from mod_python@googlegroups.com.

In other words - you mean all I need to do is add 
mod_python@googlegroups.com as a subscriber and everything else is 
already taken care of (by you or someone)?

> You'll prolly want some boilerplate on the GG front page so people know 
> what's going on. Do you have a link to the python list on GG?

This is a bit over my head - what link?

Grisha

>
>
> chad
>
>
>
>
> Should just be able to
>
> Gregory (Grisha) Trubetskoy wrote:
>> 
>> I think the best thing is to keep it as it is and to figure out how to 
>> also send stuff to google - this what the Python list does.
>> 
>> Grisha
>> 
>> On Sat, 4 Dec 2004, Lars M. wrote:
>> 
>>> Heh, I know this is the official mailing list and that it's up to the 
>>> project admins - I'm just suggesting alternatives :) The beta version 
>>> (of Google Groups) is relatively new, most have probably not heard of 
>>> its new features (your own groups!) yet.
>>> 
>>> Don't think you must have posted a certain number of messages before you 
>>> can start suggesting improvements.
>>> 
>>> Lars
>>> 
>>> At 06:09 PM 12/4/2004, David Fraser wrote:
>>> 
>>>> I tried to a while ago, not sure what the problem is.
>>>> 
>>>> You may like Google Groups more but this is the official mailing list 
>>>> for the project ...
>>>> As a relative newcomer to the list I would leave it up to the project 
>>>> admins (and I'm not one) to decide how communication should work. Of 
>>>> course if you want to have discussions in the Google Group thats up to 
>>>> you :-)
>>>> 
>>>> 
>>>> David
>>>> 
>>>> Lars M. wrote:
>>>> 
>>>>> I tried to, but it gives me an error message:
>>>>> 
>>>>> http://news.gmane.org/gmane.comp.python.mod_python
>>>>> 
>>>>> Seems someone else already submitted it. Did you? I nevertheless 
>>>>> think Google Groups is better. :)
>>>>> 
>>>>> Lars
>>>>> 
>>>>> At 02:53 PM 12/4/2004, David Fraser wrote:
>>>>> 
>>>>>> Lars M. wrote:
>>>>>> 
>>>>>>> Hi,
>>>>>>> 
>>>>>>> I created a google group called "mod_python" at
>>>>>>> 
>>>>>>> http://groups-beta.google.com/group/mod_python
>>>>>>> 
>>>>>>> I think the new version of Google Groups is much superior to any 
>>>>>>> mailing list system, they always feel clumsy and it's difficult 
>>>>>>> to find messages in the archives.
>>>>>>> 
>>>>>>> What do you think?
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> Stick to the mailing list, and register the modpython list at 
>>>>>> gmane :-)
>>>>>> 
>>>>>> David
>>>>> 
>>>>> 
>>>>> 
>>>>> _______________________________________________
>>>>> Mod_python mailing list
>>>>> Mod_python@modpython.org
>>>>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>> 
>>> 
>>> _______________________________________________
>>> Mod_python mailing list
>>> Mod_python@modpython.org
>>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>> 
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>
From grisha at modpython.org  Mon Dec  6 12:00:21 2004
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Mon Dec  6 12:00:34 2004
Subject: [mod_python] Re: Beta Google groups vs. mailing list
In-Reply-To: <41B48DB1.6080701@zetaweb.com>
References: <6.2.0.14.0.20041204114416.01d37db0@pop.gmx.net>
	<41B1C162.1000302@sjsoft.com>
	<6.2.0.14.0.20041204162353.01d62e40@pop.gmx.net>
	<41B1EF2C.5080508@sjsoft.com>
	<6.2.0.14.0.20041204184003.01c04168@pop.gmx.net>
	<20041205130412.E46421@grisha.dyndns.org>
	<41B44AB7.6070209@zetaweb.com>
	<20041206103625.H46421@grisha.dyndns.org>
	<41B48DB1.6080701@zetaweb.com>
Message-ID: <20041206115532.F65140@grisha.dyndns.org>


On Mon, 6 Dec 2004, Chad Whitacre wrote:

> AFAICT, yes. It is taken care of by by Lars and by Google. That is, Lars has 
> created a mod_python Google Group, and Google allows you to post to their 
> groups via email. For more info see:
>
>  http://groups-beta.google.com/group/mod_python

OK, I see now... I don't know if I like this - I'm not very excited about 
Google, Inc. having all control (mod_python predates google and how knows 
- may outlive it).

> You said:
>
>>>> I think the best thing is <snip> to figure out how
>>>> to also send stuff to google - this what the Python list does.

I think what they do is send stuff via NNTP, which makes it available via 
google groups. I'm not a usenet expert, but if someone could figure out 
how to register a group and go ahead and create it, I can look into 
configuring mailman to gateway the postings to it. This IMO would be the 
best set up.

Grisha

From grahamd at dscpl.com.au  Mon Dec  6 16:21:57 2004
From: grahamd at dscpl.com.au (Graham Dumpleton)
Date: Mon Dec  6 16:22:04 2004
Subject: [mod_python] Re: Beta Google groups vs. mailing list
In-Reply-To: <20041206115532.F65140@grisha.dyndns.org>
Message-ID: <1102368113.86406@dscpl.com.au>

On Dec 06 12:00, "Gregory (Grisha) Trubetskoy" <grisha@modpython.org> wrote:
>
> Subject: Re: [mod_python] Re: Beta Google groups vs. mailing list
>
> 
> On Mon, 6 Dec 2004, Chad Whitacre wrote:
> 
> > AFAICT, yes. It is taken care of by by Lars and by Google. That is, Lars has 
> > created a mod_python Google Group, and Google allows you to post to their 
> > groups via email. For more info see:
> >
> >  http://groups-beta.google.com/group/mod_python
> 
> OK, I see now... I don't know if I like this - I'm not very excited about 
> Google, Inc. having all control (mod_python predates google and how knows 
> - may outlive it).
> 
> > You said:
> >
> >>>> I think the best thing is <snip> to figure out how
> >>>> to also send stuff to google - this what the Python list does.
> 
> I think what they do is send stuff via NNTP, which makes it available via 
> google groups. I'm not a usenet expert, but if someone could figure out 
> how to register a group and go ahead and create it, I can look into 
> configuring mailman to gateway the postings to it. This IMO would be the 
> best set up.
> 
> Grisha

Unless there is a way to gateway postings made via GG back onto the mailing list,
I would recommend against doing it. The reason being that although GG would
see all mailing list traffic, if someone does a followup to a message using GG, those
on the mailing list wouldn't see the followup.

This was a big problem with the XML-RPC discussion group whose original home
is at www.xmlrpc.com. At one point posts there started to be forwarded through to
a Yahoo group, but anything posted via Yahoo groups never got seen back on the
www.xmlrpc.com site. It mean't you effectively had to use the Yahoo group if
you wanted to see all traffic.

I don't know if this problem was ever solved for the XML-RPC discussion group and
whether GG has a way to facilitate bidirectional gateways. I know that for the main
Python mailing list and USENET newsgroup things are bidirectional, but I don't think
that is facilitated using GG interface, but at USENET level.

--
Graham Dumpleton (grahamd@dscpl.com.au)
From grisha at modpython.org  Mon Dec  6 17:40:05 2004
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Mon Dec  6 17:40:10 2004
Subject: [mod_python] Re: Beta Google groups vs. mailing list
In-Reply-To: <1102368113.86406@dscpl.com.au>
References: <1102368113.86406@dscpl.com.au>
Message-ID: <20041206173534.D69738@grisha.dyndns.org>



On Mon, 6 Dec 2004, Graham Dumpleton wrote:

> On Dec 06 12:00, "Gregory (Grisha) Trubetskoy" <grisha@modpython.org> wrote:
>>
>> I think what they do is send stuff via NNTP, which makes it available via
>> google groups. I'm not a usenet expert, but if someone could figure out
>> how to register a group and go ahead and create it, I can look into
>> configuring mailman to gateway the postings to it. This IMO would be the
>> best set up.
>>
>> Grisha
>
> Unless there is a way to gateway postings made via GG back onto the mailing list,
> I would recommend against doing it. The reason being that although GG would
> see all mailing list traffic, if someone does a followup to a message using GG, those
> on the mailing list wouldn't see the followup.

I think that with the old GG anything posted via google would go out to 
usenet, then the mailing list would pick it up, which is exactly as we 
would want it. However, with the new google group changes this week, I 
don't know if this is usenet anymore, and their ability to just flip 
things like this at their discretion is what worries me the most... 
Perhaps someone more GG-aware could chime in?

Grisha


From reed at intersiege.com  Mon Dec  6 23:59:43 2004
From: reed at intersiege.com (Reed L. O'Brien)
Date: Mon Dec  6 23:59:43 2004
Subject: [mod_python] Re: Beta Google groups vs. mailing list
In-Reply-To: <20041206103625.H46421@grisha.dyndns.org>
References: <6.2.0.14.0.20041204114416.01d37db0@pop.gmx.net>	<41B1C162.1000302@sjsoft.com>	<6.2.0.14.0.20041204162353.01d62e40@pop.gmx.net>	<41B1EF2C.5080508@sjsoft.com>	<6.2.0.14.0.20041204184003.01c04168@pop.gmx.net>	<20041205130412.E46421@grisha.dyndns.org>	<41B44AB7.6070209@zetaweb.com>
	<20041206103625.H46421@grisha.dyndns.org>
Message-ID: <41B538BF.90005@intersiege.com>

Grisha adds mod_python@googlegroups.com to the mod_python mailing list
Someone (Maybe group owner) adds a user to googlegroups that recieves 
mail at mod_python@modpython.org
then any posts to the list go to the group and any posts to the group go 
to the list. 

I don't know if threads will be come  fractured or anything. 

cheers,
reed


Gregory (Grisha) Trubetskoy wrote:

>
> On Mon, 6 Dec 2004, Chad Whitacre wrote:
>
>> Just subscribe to the list from mod_python@googlegroups.com.
>
>
> In other words - you mean all I need to do is add 
> mod_python@googlegroups.com as a subscriber and everything else is 
> already taken care of (by you or someone)?
>
>> You'll prolly want some boilerplate on the GG front page so people 
>> know what's going on. Do you have a link to the python list on GG?
>
>
> This is a bit over my head - what link?
>
> Grisha
>
>>
>>
>> chad
>>
>>
>>
>>
>> Should just be able to
>>
>> Gregory (Grisha) Trubetskoy wrote:
>>
>>>
>>> I think the best thing is to keep it as it is and to figure out how 
>>> to also send stuff to google - this what the Python list does.
>>>
>>> Grisha
>>>
>>> On Sat, 4 Dec 2004, Lars M. wrote:
>>>
>>>> Heh, I know this is the official mailing list and that it's up to 
>>>> the project admins - I'm just suggesting alternatives :) The beta 
>>>> version (of Google Groups) is relatively new, most have probably 
>>>> not heard of its new features (your own groups!) yet.
>>>>
>>>> Don't think you must have posted a certain number of messages 
>>>> before you can start suggesting improvements.
>>>>
>>>> Lars
>>>>
>>>> At 06:09 PM 12/4/2004, David Fraser wrote:
>>>>
>>>>> I tried to a while ago, not sure what the problem is.
>>>>>
>>>>> You may like Google Groups more but this is the official mailing 
>>>>> list for the project ...
>>>>> As a relative newcomer to the list I would leave it up to the 
>>>>> project admins (and I'm not one) to decide how communication 
>>>>> should work. Of course if you want to have discussions in the 
>>>>> Google Group thats up to you :-)
>>>>>
>>>>>
>>>>> David
>>>>>
>>>>> Lars M. wrote:
>>>>>
>>>>>> I tried to, but it gives me an error message:
>>>>>>
>>>>>> http://news.gmane.org/gmane.comp.python.mod_python
>>>>>>
>>>>>> Seems someone else already submitted it. Did you? I nevertheless 
>>>>>> think Google Groups is better. :)
>>>>>>
>>>>>> Lars
>>>>>>
>>>>>> At 02:53 PM 12/4/2004, David Fraser wrote:
>>>>>>
>>>>>>> Lars M. wrote:
>>>>>>>
>>>>>>>> Hi,
>>>>>>>>
>>>>>>>> I created a google group called "mod_python" at
>>>>>>>>
>>>>>>>> http://groups-beta.google.com/group/mod_python
>>>>>>>>
>>>>>>>> I think the new version of Google Groups is much superior to 
>>>>>>>> any mailing list system, they always feel clumsy and it's 
>>>>>>>> difficult to find messages in the archives.
>>>>>>>>
>>>>>>>> What do you think?
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> Stick to the mailing list, and register the modpython list at 
>>>>>>> gmane :-)
>>>>>>>
>>>>>>> David
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>> _______________________________________________
>>>>>> Mod_python mailing list
>>>>>> Mod_python@modpython.org
>>>>>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>>>>
>>>>
>>>>
>>>> _______________________________________________
>>>> Mod_python mailing list
>>>> Mod_python@modpython.org
>>>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>>>
>>
>> _______________________________________________
>> Mod_python mailing list
>> Mod_python@modpython.org
>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python


-- 
4.6692016090
'cmVlZEBpbnRlcnNpZWdlLmNvbQ==\n'.decode('base64')
http://www.spreadfirefox.com/?q=affiliates&amp;id=16474&amp;t=1

From grahamd at dscpl.com.au  Tue Dec  7 00:21:08 2004
From: grahamd at dscpl.com.au (Graham Dumpleton)
Date: Tue Dec  7 00:21:12 2004
Subject: [mod_python] Re: Beta Google groups vs. mailing list
In-Reply-To: <41B538BF.90005@intersiege.com>
Message-ID: <1102396864.33993@dscpl.com.au>

And hope that each end will drop a message it has already seen, ie.,
originated from there, else you get a nice loop. Although each end
may check for headers it has previously injected into the message
to stop loops, if the other half doesn't pass them through unmodified
it may not be able to detect that it has actually seen the message
before.

I'd rather not have my inbox fill up with thousands of copies of the
same message, just finished getting rid of the 2500 SPAM messages
that accumulated while I was on holidays. ;-)

Please tread carefully.

On Dec 06 23:59, "Reed L. O'Brien" <reed@intersiege.com> wrote:
>
> Subject: Re: [mod_python] Re: Beta Google groups vs. mailing list
>
> Grisha adds mod_python@googlegroups.com to the mod_python mailing list
> Someone (Maybe group owner) adds a user to googlegroups that recieves 
> mail at mod_python@modpython.org
> then any posts to the list go to the group and any posts to the group go 
> to the list. 
> 
> I don't know if threads will be come  fractured or anything. 
> 
> cheers,
> reed
> 
> 
> Gregory (Grisha) Trubetskoy wrote:
> 
> >
> > On Mon, 6 Dec 2004, Chad Whitacre wrote:
> >
> >> Just subscribe to the list from mod_python@googlegroups.com.
> >
> >
> > In other words - you mean all I need to do is add 
> > mod_python@googlegroups.com as a subscriber and everything else is 
> > already taken care of (by you or someone)?
> >
> >> You'll prolly want some boilerplate on the GG front page so people 
> >> know what's going on. Do you have a link to the python list on GG?
> >
> >
> > This is a bit over my head - what link?
> >
> > Grisha
> >
> >>
> >>
> >> chad
> >>
> >>
> >>
> >>
> >> Should just be able to
> >>
> >> Gregory (Grisha) Trubetskoy wrote:
> >>
> >>>
> >>> I think the best thing is to keep it as it is and to figure out how 
> >>> to also send stuff to google - this what the Python list does.
> >>>
> >>> Grisha
> >>>
> >>> On Sat, 4 Dec 2004, Lars M. wrote:
> >>>
> >>>> Heh, I know this is the official mailing list and that it's up to 
> >>>> the project admins - I'm just suggesting alternatives :) The beta 
> >>>> version (of Google Groups) is relatively new, most have probably 
> >>>> not heard of its new features (your own groups!) yet.
> >>>>
> >>>> Don't think you must have posted a certain number of messages 
> >>>> before you can start suggesting improvements.
> >>>>
> >>>> Lars
> >>>>
> >>>> At 06:09 PM 12/4/2004, David Fraser wrote:
> >>>>
> >>>>> I tried to a while ago, not sure what the problem is.
> >>>>>
> >>>>> You may like Google Groups more but this is the official mailing 
> >>>>> list for the project ...
> >>>>> As a relative newcomer to the list I would leave it up to the 
> >>>>> project admins (and I'm not one) to decide how communication 
> >>>>> should work. Of course if you want to have discussions in the 
> >>>>> Google Group thats up to you :-)
> >>>>>
> >>>>>
> >>>>> David
> >>>>>
> >>>>> Lars M. wrote:
> >>>>>
> >>>>>> I tried to, but it gives me an error message:
> >>>>>>
> >>>>>> http://news.gmane.org/gmane.comp.python.mod_python
> >>>>>>
> >>>>>> Seems someone else already submitted it. Did you? I nevertheless 
> >>>>>> think Google Groups is better. :)
> >>>>>>
> >>>>>> Lars
> >>>>>>
> >>>>>> At 02:53 PM 12/4/2004, David Fraser wrote:
> >>>>>>
> >>>>>>> Lars M. wrote:
> >>>>>>>
> >>>>>>>> Hi,
> >>>>>>>>
> >>>>>>>> I created a google group called "mod_python" at
> >>>>>>>>
> >>>>>>>> http://groups-beta.google.com/group/mod_python
> >>>>>>>>
> >>>>>>>> I think the new version of Google Groups is much superior to 
> >>>>>>>> any mailing list system, they always feel clumsy and it's 
> >>>>>>>> difficult to find messages in the archives.
> >>>>>>>>
> >>>>>>>> What do you think?
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>> Stick to the mailing list, and register the modpython list at 
> >>>>>>> gmane :-)
> >>>>>>>
> >>>>>>> David
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>> _______________________________________________
> >>>>>> Mod_python mailing list
> >>>>>> Mod_python@modpython.org
> >>>>>> http://mailman.modpython.org/mailman/listinfo/mod_python
> >>>>>
> >>>>
> >>>>
> >>>> _______________________________________________
> >>>> Mod_python mailing list
> >>>> Mod_python@modpython.org
> >>>> http://mailman.modpython.org/mailman/listinfo/mod_python
> >>>>
> >>
> >> _______________________________________________
> >> Mod_python mailing list
> >> Mod_python@modpython.org
> >> http://mailman.modpython.org/mailman/listinfo/mod_python
> >>
> > _______________________________________________
> > Mod_python mailing list
> > Mod_python@modpython.org
> > http://mailman.modpython.org/mailman/listinfo/mod_python
> 
> 
> -- 
> 4.6692016090
> 'cmVlZEBpbnRlcnNpZWdlLmNvbQ==\n'.decode('base64')
> http://www.spreadfirefox.com/?q=affiliates&amp;id=16474&amp;t=1
> 
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
> 

--
Graham Dumpleton (grahamd@dscpl.com.au)
From aplisson-modpython at stochastique.net  Tue Dec  7 04:01:13 2004
From: aplisson-modpython at stochastique.net (Adrien Plisson)
Date: Tue Dec  7 03:57:43 2004
Subject: [mod_python] Re: Beta Google groups vs. mailing list
In-Reply-To: <20041206173534.D69738@grisha.dyndns.org>
References: <1102368113.86406@dscpl.com.au>
	<20041206173534.D69738@grisha.dyndns.org>
Message-ID: <41B57159.3090308@stochastique.net>

Gregory (Grisha) Trubetskoy wrote:
> I think that with the old GG anything posted via google would go out to 
> usenet, then the mailing list would pick it up, which is exactly as we 
> would want it. However, with the new google group changes this week, I 
> don't know if this is usenet anymore, and their ability to just flip 
> things like this at their discretion is what worries me the most... 
> Perhaps someone more GG-aware could chime in?

it seems to still be usenet, since some newsgroups i'm following are mirrored 
on GG (nice when my news server is down). also we receive a LOT of spam on 
usenet posted from GG, and google does not seem to take it seriously.

hope it will not open the list for spammers...

-- 
rien


From rune.hansen at scanmine.com  Tue Dec  7 07:55:48 2004
From: rune.hansen at scanmine.com (Rune Hansen)
Date: Tue Dec  7 07:55:52 2004
Subject: [mod_python] Error using mod_python, Python2.4, and pyexpat
In-Reply-To: <63940b004120108161d37323e@mail.gmail.com>
References: <63940b004120108161d37323e@mail.gmail.com>
Message-ID: <5168DCDE-484F-11D9-B854-000A956CC60E@scanmine.com>

Hi David,
Did you solve this? I just tried to move to Python2.4 and I get the 
same segfault as you describe.

I did try to build mod_python from cvs, but it fails on flex and my 
flex scanner doesn't seem to have the "-R" option....

regards
/rune

On 1. des 2004, at 17.16, David Christian wrote:

> Hello,
> I recently upgraded to python2.4, and rebuilt/reinstalled mod_python,
> and after doing this, scripts running in mod_python segfaults when
> importing pyexpat.
>
> Note that this segfault doesn't happen outside of mod python, and the
> pyexpat test suite passes.
>
> Has anyone else seen this behavior?
>
> Thanks,
> David
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>

From rune.hansen at scanmine.com  Tue Dec  7 09:46:22 2004
From: rune.hansen at scanmine.com (Rune Hansen)
Date: Tue Dec  7 09:46:25 2004
Subject: [mod_python] Error using mod_python, Python2.4, and pyexpat
In-Reply-To: <63940b0041207062129e448cb@mail.gmail.com>
References: <63940b004120108161d37323e@mail.gmail.com>
	<5168DCDE-484F-11D9-B854-000A956CC60E@scanmine.com>
	<63940b00412070602a714582@mail.gmail.com>
	<63940b0041207062129e448cb@mail.gmail.com>
Message-ID: <C34650FD-485E-11D9-B854-000A956CC60E@scanmine.com>

Hi David,
And it all becomes clear..as ink :) Thanks. I'm on RedHat ES 3.0v3 - 
struggling to maintain the integrity of the system. I'll see if I can 
manage to build the expat library without breaking the rest of the 
system.

regards

/rune

On 7. des 2004, at 15.21, David Christian wrote:

> Sorry, let me make that just the tiniest bit more clear:
>
> You must upgrade expat to 1.95.8, and then rebuild apache.
>
> David
>
>
> On Tue, 7 Dec 2004 09:02:36 -0500, David Christian
> <david.christian@gmail.com> wrote:
>> Yes, I went through that same process.
>>
>> Python2.4 comes with the newest version of expat -- you must rebuild
>> apache after upgrading.
>>
>> HTH,
>> David
>>
>>
>>
>>
>> On Tue, 7 Dec 2004 13:55:48 +0100, Rune Hansen 
>> <rune.hansen@scanmine.com> wrote:
>>> Hi David,
>>> Did you solve this? I just tried to move to Python2.4 and I get the
>>> same segfault as you describe.
>>>
>>> I did try to build mod_python from cvs, but it fails on flex and my
>>> flex scanner doesn't seem to have the "-R" option....
>>>
>>> regards
>>> /rune
>>>
>>>
>>>
>>> On 1. des 2004, at 17.16, David Christian wrote:
>>>
>>>> Hello,
>>>> I recently upgraded to python2.4, and rebuilt/reinstalled 
>>>> mod_python,
>>>> and after doing this, scripts running in mod_python segfaults when
>>>> importing pyexpat.
>>>>
>>>> Note that this segfault doesn't happen outside of mod python, and 
>>>> the
>>>> pyexpat test suite passes.
>>>>
>>>> Has anyone else seen this behavior?
>>>>
>>>> Thanks,
>>>> David
>>>> _______________________________________________
>>>> Mod_python mailing list
>>>> Mod_python@modpython.org
>>>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>>>
>>>
>>>
>>
>>
"So as far as I'm concerned, SOAP is not XML, nor is it useful to even a
fraction of the degree to which it is destructive."
- Uche Ogbuji

From grisha at modpython.org  Wed Dec  8 00:13:22 2004
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Wed Dec  8 00:13:27 2004
Subject: [mod_python] Python experts sought by Google
Message-ID: <20041208000813.X96633@grisha.dyndns.org>


If anyone is interested, contact Marianne Dove at mdove@google.com. These 
jobs do require relocation.

Grisha


Senior Software Engineer, Google.com (SRE)
Positions based in Dublin Ireland.

Are you part ace coder, part adrenalin junkie? Do you have a knack for 
seeing a problem and immediately discerning the likely solution? Maybe 
you've been coding for years, are bored with the old 
design-build-review-test-ship-repeat routine, and yearn for some 
faster-paced challenges? Or perhaps you're a seasoned software engineer 
who is also a genius at jockeying networks and administering UNIX 
clusters.

We're looking for top-notch thrill seeking, software engineers to join the 
Google.com team. Google.com engineers are in the thick of everything 
involved with keeping Google running, from code-level troubleshooting of 
traffic anomalies to maintenance of our most cutting edge services; from 
monitoring and alerts to building new automation infrastructure. We are 
aggressively building this elite team of high level engineers in this 
mission critical environment. All team members must have strong analytical 
and troubleshooting skills, fluency in coding, good communication skills, 
and most of all enthusiasm for tackling the complex problems of scale 
which are uniquely Google. Google.com engineers tackle challenging, novel 
situations every day, and work with just about every other engineering and 
operations team in the process.

Qualifications:

.Strong programming/scripting skills in any of the following: Python, C,
  C++, Java, Perl
.BA/BS in CS, or equivalent experience.
.In-depth knowledge of Unix (preferably Linux), networking, and shell
  scripting.
.Proven technical troubleshooting experience.
.Excellent analytic ability, strong communication skills, and a strong sense
  of urgency.
.Ability to handle periodic on-call duty as well as out-of-band requests.
.5+ years experience in a similar position a big plus.
.Experience with Unix system administration a plus.

For immediate consideration, please send a text (ASCII) or HTML or PDF
version of your resume to:

  mdove@google.com

Important: The subject field of your email must include Senior Software
Engineer, Google, Dublin





Engineering Hands-On Manager/Director Google.com (SRE)
Positions based in Dublin, Ireland.

We're looking for a highly technical, hands-on Engineering or Operations 
Manager to lead a team of 4-10+ Google software engineers and systems 
administrators for the Google.com group. The Google.com teams are directly 
responsible for Google's stellar uptime record, and act as the guardians 
and custodians of Google's user-visible services. In this leadership role, 
you will be responsible for ensuring that Google users can always reach 
and use all of the services under your team's care.

Requirements:
.Strong programming/scripting skills in any of the following: Python, C,
  C++, Java, Perl
.Very high technical competence and strong academic record.
.4+ years of relevant hands-on technical experience, and a record of
  individual technical achievement.
.3-10+ years of relevant experience managing software development and/or
  operations teams.
.Strong project management skills, especially in deploying live end-user
  systems.
.That rare mix of intelligence, integrity, domain knowledge, verbal 
agility, and diplomacy which allows you to rapidly earn the trust of 
.BA/BS in CS preferred; MS / Ph.D. a plus.
technically-astute teams across the company.

For immediate consideration, please send a text (ASCII) or HTML or PDF
version of your resume to:

mdove@google.com.













From gstein at lyra.org  Wed Dec  8 01:37:32 2004
From: gstein at lyra.org (Greg Stein)
Date: Wed Dec  8 01:34:26 2004
Subject: [mod_python] Python experts sought by Google
In-Reply-To: <20041208000813.X96633@grisha.dyndns.org>
References: <20041208000813.X96633@grisha.dyndns.org>
Message-ID: <20041208063732.GB31568@lyra.org>

If you're interested in any of the engineering jobs at Google (at any
of our offices), then I'd be happy to help. Resumes entered by
employees (like myself) are prioritized higher than "cold" resumes
that arrive to our recruiters. That said, I'll be looking for some
kind of participation/background in the open source community rather
than passing along every resume that drops into my inbox. I'm more
than happy to help people, but I'd much prefer to see resumes from
people who have some community/code experience that I can see.

Cheers,
-g

On Wed, Dec 08, 2004 at 12:13:22AM -0500, Gregory (Grisha) Trubetskoy wrote:
> 
> If anyone is interested, contact Marianne Dove at mdove@google.com. These 
> jobs do require relocation.
> 
> Grisha
> 
> 
> Senior Software Engineer, Google.com (SRE)
> Positions based in Dublin Ireland.
> 
> Are you part ace coder, part adrenalin junkie? Do you have a knack for 
> seeing a problem and immediately discerning the likely solution? Maybe 
> you've been coding for years, are bored with the old 
> design-build-review-test-ship-repeat routine, and yearn for some 
> faster-paced challenges? Or perhaps you're a seasoned software engineer 
> who is also a genius at jockeying networks and administering UNIX 
> clusters.
> 
> We're looking for top-notch thrill seeking, software engineers to join the 
> Google.com team. Google.com engineers are in the thick of everything 
> involved with keeping Google running, from code-level troubleshooting of 
> traffic anomalies to maintenance of our most cutting edge services; from 
> monitoring and alerts to building new automation infrastructure. We are 
> aggressively building this elite team of high level engineers in this 
> mission critical environment. All team members must have strong analytical 
> and troubleshooting skills, fluency in coding, good communication skills, 
> and most of all enthusiasm for tackling the complex problems of scale 
> which are uniquely Google. Google.com engineers tackle challenging, novel 
> situations every day, and work with just about every other engineering and 
> operations team in the process.
> 
> Qualifications:
> 
> .Strong programming/scripting skills in any of the following: Python, C,
>  C++, Java, Perl
> .BA/BS in CS, or equivalent experience.
> .In-depth knowledge of Unix (preferably Linux), networking, and shell
>  scripting.
> .Proven technical troubleshooting experience.
> .Excellent analytic ability, strong communication skills, and a strong sense
>  of urgency.
> .Ability to handle periodic on-call duty as well as out-of-band requests.
> .5+ years experience in a similar position a big plus.
> .Experience with Unix system administration a plus.
> 
> For immediate consideration, please send a text (ASCII) or HTML or PDF
> version of your resume to:
> 
>  mdove@google.com
> 
> Important: The subject field of your email must include Senior Software
> Engineer, Google, Dublin
> 
> 
> 
> 
> 
> Engineering Hands-On Manager/Director Google.com (SRE)
> Positions based in Dublin, Ireland.
> 
> We're looking for a highly technical, hands-on Engineering or Operations 
> Manager to lead a team of 4-10+ Google software engineers and systems 
> administrators for the Google.com group. The Google.com teams are directly 
> responsible for Google's stellar uptime record, and act as the guardians 
> and custodians of Google's user-visible services. In this leadership role, 
> you will be responsible for ensuring that Google users can always reach 
> and use all of the services under your team's care.
> 
> Requirements:
> .Strong programming/scripting skills in any of the following: Python, C,
>  C++, Java, Perl
> .Very high technical competence and strong academic record.
> .4+ years of relevant hands-on technical experience, and a record of
>  individual technical achievement.
> .3-10+ years of relevant experience managing software development and/or
>  operations teams.
> .Strong project management skills, especially in deploying live end-user
>  systems.
> .That rare mix of intelligence, integrity, domain knowledge, verbal 
> agility, and diplomacy which allows you to rapidly earn the trust of 
> .BA/BS in CS preferred; MS / Ph.D. a plus.
> technically-astute teams across the company.
> 
> For immediate consideration, please send a text (ASCII) or HTML or PDF
> version of your resume to:
> 
> mdove@google.com.
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python

-- 
-- 
Greg Stein, http://www.lyra.org/
From jesper.hedin at gmail.com  Wed Dec  8 11:55:07 2004
From: jesper.hedin at gmail.com (Jesper Hedin)
Date: Wed Dec  8 11:55:10 2004
Subject: [mod_python] Can't find symbol
Message-ID: <5989b4f4041208085534769334@mail.gmail.com>

Hello. I am getting this error when i try to start apache with mod_python:

$ ./apachectl configtest
Syntax error on line 270 of /usr/local/apache2/conf/httpd.conf:
Can't locate API module structure `pyhton_module' in file
/usr/local/apache2/modules/mod_python.so: ld.so.1:
/usr/local/apache2/bin/httpd: fatal: pyhton_module: can't find symbol

I have searched but can not find any sollution to this problem. I hope
someone ut there can help. Here are some details:

Output of `httpd -V:`

   Server version: Apache/2.0.52 
   Server built:   Oct 12 2004 03:56:01 
   Server's Module Magic Number: 20020903:9
   Architecture:   32-bit
   Server compiled with....
    -D APACHE_MPM_DIR="server/mpm/prefork"
    -D APR_HAS_SENDFILE
    -D APR_HAS_MMAP
    -D APR_HAVE_IPV6 (IPv4-mapped addresses enabled) 
    -D APR_USE_FCNTL_SERIALIZE
    -D APR_USE_PTHREAD_SERIALIZE
    -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT
    -D APR_HAS_OTHER_CHILD
    -D AP_HAVE_RELIABLE_PIPED_LOGS
    -D HTTPD_ROOT="/usr/local/apache2"
    -D SUEXEC_BIN="/usr/local/apache2/bin/suexec"
    -D DEFAULT_PIDLOG="logs/httpd.pid"
    -D DEFAULT_SCOREBOARD="logs/apache_runtime_status"
    -D DEFAULT_LOCKFILE="logs/accept.lock"
    -D DEFAULT_ERRORLOG="logs/error_log"
    -D AP_TYPES_CONFIG_FILE="conf/mime.types"
    -D SERVER_CONFIG_FILE="conf/httpd.conf"

output of `/usr/local/bin/python -V`:

   Python 2.3.3

output of `uname -a`:

   SunOS cvs 5.9 Generic_117171-12 sun4u sparc SUNW,Sun-Fire-V210

output of `cat apache/bin/envvars`:

   LD_LIBRARY_PATH=/usr/local/apache2/lib:/usr/lib:/usr/local/lib:/usr/local/lib/sparcv9:$LD_LIBRARY_PATH
export LD_LIBRARY_PATH

output of `grep python /usr/local/apache2/conf/httpd.conf `

   LoadModule pyhton_module modules/mod_python.so

My mod_python is configured and make'd with:

   ./configure --with-apxs=/usr/local/apache2/bin/apxs
   make
   make install (as root)

Output of `gcc -v`:

   Reading specs from /usr/local/lib/gcc/sparc-sun-solaris2.9/3.4.2/specs
   Configured with: ../configure --with-as=/usr/ccs/bin/as
--with-ld=/usr/ccs/bin/ld --disable-nls
   Thread model: posix 
   gcc version 3.4.2

The apache package was downloaded from sunfreeware.com, I did not
build it myself. Python was built by me with the following commands:

   ./configure
   make
   make test
   make install (as root)

The make test part resulted in the message:
   226 tests OK.
   29 tests skipped:
       test_aepack test_al test_bsddb185 test_bsddb3 test_cd test_cl
       test_curses test_email_codecs test_gl test_imgfile
       test_linuxaudiodev test_locale test_macfs test_macostools test_mpz
       test_nis test_normalization test_ossaudiodev test_pep277
       test_plistlib test_scriptpackages test_socket_ssl
       test_socketserver test_sunaudiodev test_timeout test_unicode_file
       test_urllibnet test_winreg test_winsound
   3 skips unexpected on sunos5:
       test_sunaudiodev test_locale test_nis


I found no way to  `make test` the mod_python, but I saw no alarming
error messages (I would probably not recognise them if I did see
them).

The file ld.so.1 is the standard solaris version.

I guess that's as much as i can provide at the moment. I really hope
there is someone that can make sense out of this. Thanks in advance.


   ...Jesper
From Administrator at leebrown.org  Wed Dec  8 12:25:49 2004
From: Administrator at leebrown.org (Lee E. Brown)
Date: Wed Dec  8 12:26:13 2004
Subject: [mod_python] Can't find symbol
References: <5989b4f4041208085534769334@mail.gmail.com>
Message-ID: <008801c4dd4a$f6169510$0202a8c0@UberBox>

----- Original Message ----- 
From: "Jesper Hedin" <jesper.hedin@gmail.com>
To: <mod_python@modpython.org>
Sent: Wednesday, December 08, 2004 11:55 AM
Subject: [mod_python] Can't find symbol


> Hello. I am getting this error when i try to start apache with mod_python:
>
> $ ./apachectl configtest
> Syntax error on line 270 of /usr/local/apache2/conf/httpd.conf:
> Can't locate API module structure `pyhton_module' in file
> /usr/local/apache2/modules/mod_python.so: ld.so.1:
> /usr/local/apache2/bin/httpd: fatal: pyhton_module: can't find symbol

You may already have thought of this, but "python_module" is probably 
misspelled in your httpd.conf file.

(Side note: I have this problem all the time.  mod_speling is nice, but what 
~I~ really need is a "mod_lysdexia.")


From jubafre at atlas.ucpel.tche.br  Wed Dec  8 15:34:30 2004
From: jubafre at atlas.ucpel.tche.br (Juliano Freitas)
Date: Wed Dec  8 15:33:09 2004
Subject: [mod_python] send email via Web
Message-ID: <1102538070.9165.0.camel@swdb>

hello!!

how can i send a email using a html form??

Juliano Freitas

From sanders at apache.org  Wed Dec  8 15:50:44 2004
From: sanders at apache.org (Scott Sanders)
Date: Wed Dec  8 15:50:49 2004
Subject: [mod_python] send email via Web
In-Reply-To: <1102538070.9165.0.camel@swdb>
References: <1102538070.9165.0.camel@swdb>
Message-ID: <D45462B2-495A-11D9-AE7E-000A95D2D288@apache.org>

http://www.modpython.org/live/current/doc-html/tut-pub.html

Cheers,
Scott

On Dec 8, 2004, at 12:34 PM, Juliano Freitas wrote:

> hello!!
>
> how can i send a email using a html form??
>
> Juliano Freitas
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python

From list at joreybump.com  Wed Dec  8 16:23:04 2004
From: list at joreybump.com (Jorey Bump)
Date: Wed Dec  8 16:23:08 2004
Subject: [mod_python] send email via Web
In-Reply-To: <1102538070.9165.0.camel@swdb>
References: <1102538070.9165.0.camel@swdb>
Message-ID: <41B770B8.8040407@joreybump.com>

Juliano Freitas wrote:

> how can i send a email using a html form??

There's an example in the 2.7 manual using Publisher:

http://www.modpython.org/live/mod_python-2.7.8/doc-html/tut-pub.html
From jesper.hedin at gmail.com  Wed Dec  8 17:40:39 2004
From: jesper.hedin at gmail.com (Jesper Hedin)
Date: Wed Dec  8 17:40:41 2004
Subject: [mod_python] Can't find symbol (resolved)q
Message-ID: <5989b4f40412081440304da88a@mail.gmail.com>

I am ashamed... Sorry guys, I just found the problem. I had misspelled
python as "pyhton". Well no wonder it didn't find a symbol of that
name. Sigh... Good news is I learned a lot about symbols... ;)
From chad at zetaweb.com  Thu Dec  9 11:12:29 2004
From: chad at zetaweb.com (Chad Whitacre)
Date: Thu Dec  9 11:13:14 2004
Subject: [mod_python] gmane link
Message-ID: <cp9tik$bdt$1@sea.gmane.org>

Hey all,

I pinged the gmane folks and learned that the underscore character is 
the prob. Archive is available at:

   http://news.gmane.org/gmane.comp.python.mod-python

(rather than http://...mod_python)


chad

From leejd80 at gmail.com  Sat Dec 11 03:02:26 2004
From: leejd80 at gmail.com (Lee jundong)
Date: Sat Dec 11 03:02:31 2004
Subject: [mod_python] about use session
Message-ID: <7dbf822f0412110002129016fa@mail.gmail.com>

I use session in mod_python. Unfortunately, I can't success.
My code is:
-----------------------------------------------------------------------------
#coding: UTF-8
from mod_python import apache
from mod_python.Session import Session

def Login (req):
    user = req.form["user"]
    password = req.form["password"]
    s = Session(req, timeout = 1)
    #if sess.is_new():
    #    util.redirect(req, 'http://www.mysite.com/login')
    return user,password
-----------------------------------------------------------------------------
Debug information display in browse:
-----------------------------------------------------------------------------
Mod_python error: "PythonHandler mod_python.publisher"

Traceback (most recent call last):

  File "E:\Zope\Python\Lib\site-packages\mod_python\apache.py", line
299, in HandlerDispatch
    result = object(req)

  File "E:\Zope\Python\Lib\site-packages\mod_python\publisher.py",
line 136, in handler
    result = util.apply_fs_data(object, req.form, req=req)

  File "E:\Zope\Python\Lib\site-packages\mod_python\util.py", line
361, in apply_fs_data
    return object(**args)

  File "E:/Project/GridGate/Source/sms\login.py", line 10, in Login
    # redirect to login

  File "E:\Zope\Python\Lib\site-packages\mod_python\Session.py", line
386, in Session
    timeout=timeout, lock=lock)

  File "E:\Zope\Python\Lib\site-packages\mod_python\Session.py", line
358, in __init__
    timeout=timeout, lock=lock)

  File "E:\Zope\Python\Lib\site-packages\mod_python\Session.py", line
132, in __init__
    Cookie.add_cookie(self._req, self.make_cookie())

  File "E:\Zope\Python\Lib\site-packages\mod_python\Session.py", line
165, in make_cookie
    if os.name == 'nt' and c.path[-1] == '\\':

IndexError: string index out of range

-----------------------------------------------------------------------------
-- 
My Blog >> http://leejd.cndev.org
My QQ >> 9847243
From leejd80 at gmail.com  Sun Dec 12 02:32:45 2004
From: leejd80 at gmail.com (Lee jundong)
Date: Sun Dec 12 02:32:47 2004
Subject: [mod_python] how to import current dir other module
Message-ID: <7dbf822f041211233256e6da06@mail.gmail.com>

I write a module:sqlconn.py.This module is used to connect to mysql
server.I put this module into current dir. This path have many other
module,example: login.py. Import sqlconn in login.py, log outputting
is can't find module.When i move sqlconn.py to Python path,import ok.
How to import current dir module???

-- 
My Blog >> http://leejd.cndev.org
My QQ >> 9847243
From lekktu at gmail.com  Mon Dec 13 06:09:28 2004
From: lekktu at gmail.com (Juanma Barranquero)
Date: Mon Dec 13 06:09:31 2004
Subject: [mod_python] PythonOptimize does -OO, not -O
Message-ID: <f7ccd24b041213030933759057@mail.gmail.com>

According to documentation for mod_python 3.1 (at
http://www.modpython.org/live/current/doc-html/dir-other-pomz.html),
the PythonOptimize directive functionality is:

  Enables Python optimization. Same as the Python -O option.

However, it is doing the same that Python -OO option, i.e., it is
removing docstrings from Python bytecode files. Is that a docs or
implementation bug?

-- 
                    /L/e/k/t/u
From jedirunner at gmail.com  Mon Dec 13 10:51:50 2004
From: jedirunner at gmail.com (Kevin White)
Date: Mon Dec 13 10:51:57 2004
Subject: [mod_python] how to access url parameters?
Message-ID: <9de08210412130751489f5ce5@mail.gmail.com>

Hi,

I'm new to mod_python (and python itself, to be honest).  But I've
programmed in many other languages (java, c#, VB.Net, PHP, ASP, etc.).

What I'm trying to figure out is how to access GET (querystring) and
POST (form) parameters from a PSP page.

So, given the following URL, 
http://www.mydomain.com?param=value&param2=value

How would I access param1 and param2 in my PSP page?

Also, how do I do the same thing in a form?  For example, if my form has:
<form method="POST" action="test2.psp">
<input type="text" name="param" />
<input type="text" name="param2" />
<input type="submit" />
</form>

How would I access param and param2 in that case?

Thank you very much for your help with this,  

Kevin
-- 
Kevin White
jedirunner@gmail.com
From chad at zetaweb.com  Mon Dec 13 11:43:37 2004
From: chad at zetaweb.com (Chad Whitacre)
Date: Mon Dec 13 11:45:18 2004
Subject: [mod_python] Re: how to access url parameters?
In-Reply-To: <9de08210412130751489f5ce5@mail.gmail.com>
References: <9de08210412130751489f5ce5@mail.gmail.com>
Message-ID: <41BDC6B9.1030602@zetaweb.com>

> I'm new to mod_python (and python itself, to be honest).  But I've
> programmed in many other languages (java, c#, VB.Net, PHP, ASP, etc.).

Welcome :-)


> What I'm trying to figure out is how to access GET (querystring) and
> POST (form) parameters from a PSP page.

The object representing your HTTP request is documented here:

   http://modpython.org/live/current/doc-html/pyapi-mprequest.html

Check out add_common_vars under "Methods" and subprocess_env and args 
under "Members". Not sure about any PSP-specific steps needed though.


hth,
chad

From chad at zetaweb.com  Mon Dec 13 14:27:03 2004
From: chad at zetaweb.com (Chad Whitacre)
Date: Mon Dec 13 14:27:14 2004
Subject: [mod_python] Re: how to access url parameters?
In-Reply-To: <9de0821041213093275e08f94@mail.gmail.com>
References: <9de08210412130751489f5ce5@mail.gmail.com>	
	<41BDC6B9.1030602@zetaweb.com>
	<9de0821041213093275e08f94@mail.gmail.com>
Message-ID: <41BDED07.3070307@zetaweb.com>

Kevin,

Cool. I hadn't found parse_qsl yet but I imagine it just gives you the 
qs in a dict?

I've never actually used PSP so I'm not sure what it provides in terms 
of debugging. mod_python itself is somewhat lower level than PHP so you 
have to be more explicit, e.g., req.write(sys.exec_info()). Your errors 
also show up in the Apache error log, of course.

RE: my web apps ... they're all in Zope/Plone atm, so debugging means 
digging through about 18 layers of cruft. ;-)


chad




Kevin White wrote:
> chad,
> 
> I'll take a look at what you recommended.  In the meantime, I had
> found an example using util.parse_qsl(req.args or '') and I've been
> trying that with some success.
> 
> My frustration now is that I cannot seem to debug the program. :(  PHP
> gives quite good information when problems occur, but mod_python does
> not seem to be quite as friendly.  How do you debug your web apps?
> 
> Thanks again,
> 
> Kevin
> 
> 
> On Mon, 13 Dec 2004 11:43:37 -0500, Chad Whitacre <chad@zetaweb.com> wrote:
> 
>>>I'm new to mod_python (and python itself, to be honest).  But I've
>>>programmed in many other languages (java, c#, VB.Net, PHP, ASP, etc.).
>>
>>Welcome :-)
>>
>>
>>
>>>What I'm trying to figure out is how to access GET (querystring) and
>>>POST (form) parameters from a PSP page.
>>
>>The object representing your HTTP request is documented here:
>>
>>   http://modpython.org/live/current/doc-html/pyapi-mprequest.html
>>
>>Check out add_common_vars under "Methods" and subprocess_env and args
>>under "Members". Not sure about any PSP-specific steps needed though.
>>
>>hth,
>>chad
>>
>>_______________________________________________
>>Mod_python mailing list
>>Mod_python@modpython.org
>>http://mailman.modpython.org/mailman/listinfo/mod_python
>>
> 
> 
> 

From chad at zetaweb.com  Mon Dec 13 16:24:11 2004
From: chad at zetaweb.com (Chad Whitacre)
Date: Mon Dec 13 16:24:23 2004
Subject: [mod_python] Re: how to access url parameters?
In-Reply-To: <9de0821041213113062f22a45@mail.gmail.com>
References: <9de08210412130751489f5ce5@mail.gmail.com>	
	<41BDC6B9.1030602@zetaweb.com>	
	<9de0821041213093275e08f94@mail.gmail.com>	
	<41BDED07.3070307@zetaweb.com>
	<9de0821041213113062f22a45@mail.gmail.com>
Message-ID: <41BE087B.1060605@zetaweb.com>

> parse_qsl appears to give a list, while parse_qs gives a dictionary. 
> The dictionary appears to return the values as lists.  So a key
> "param" will have a list "['value']".  I guess this must be to allow
> for multiple values per key (i.e.: form controls that allow for this).
>  For me it seems simpler to use parse_qsl (the list version) and turn
> it into a dictionary, so that I have single-value values.  Make sense?

Yes, good to know.


> Anyway, now I'm on to form values, and experimenting with why some
> form fields don't come through. :(  I'm on the trail, though. :)

Cool, good luck!


> Kevin
> 
> 
> On Mon, 13 Dec 2004 14:27:03 -0500, Chad Whitacre <chad@zetaweb.com> wrote:
> 
>>Kevin,
>>
>>Cool. I hadn't found parse_qsl yet but I imagine it just gives you the
>>qs in a dict?
>>
>>I've never actually used PSP so I'm not sure what it provides in terms
>>of debugging. mod_python itself is somewhat lower level than PHP so you
>>have to be more explicit, e.g., req.write(sys.exec_info()). Your errors
>>also show up in the Apache error log, of course.
>>
>>RE: my web apps ... they're all in Zope/Plone atm, so debugging means
>>digging through about 18 layers of cruft. ;-)
>>
>>
>>chad
>>
>>
>>
>>
>>Kevin White wrote:
>>
>>>chad,
>>>
>>>I'll take a look at what you recommended.  In the meantime, I had
>>>found an example using util.parse_qsl(req.args or '') and I've been
>>>trying that with some success.
>>>
>>>My frustration now is that I cannot seem to debug the program. :(  PHP
>>>gives quite good information when problems occur, but mod_python does
>>>not seem to be quite as friendly.  How do you debug your web apps?
>>>
>>>Thanks again,
>>>
>>>Kevin
>>>
>>>
>>>On Mon, 13 Dec 2004 11:43:37 -0500, Chad Whitacre <chad@zetaweb.com> wrote:
>>>
>>>
>>>>>I'm new to mod_python (and python itself, to be honest).  But I've
>>>>>programmed in many other languages (java, c#, VB.Net, PHP, ASP, etc.).
>>>>
>>>>Welcome :-)
>>>>
>>>>
>>>>
>>>>
>>>>>What I'm trying to figure out is how to access GET (querystring) and
>>>>>POST (form) parameters from a PSP page.
>>>>
>>>>The object representing your HTTP request is documented here:
>>>>
>>>>  http://modpython.org/live/current/doc-html/pyapi-mprequest.html
>>>>
>>>>Check out add_common_vars under "Methods" and subprocess_env and args
>>>>under "Members". Not sure about any PSP-specific steps needed though.
>>>>
>>>>hth,
>>>>chad
>>>>
>>>>_______________________________________________
>>>>Mod_python mailing list
>>>>Mod_python@modpython.org
>>>>http://mailman.modpython.org/mailman/listinfo/mod_python
>>>>
>>>
>>>
>>>
> 
> 

From jedirunner at gmail.com  Mon Dec 13 17:58:24 2004
From: jedirunner at gmail.com (Kevin White)
Date: Mon Dec 13 17:58:28 2004
Subject: [mod_python] How to sanitize input?
Message-ID: <9de082104121314584ff03a5c@mail.gmail.com>

Hi,

Before I take form data and start putting it into an sql statement for
updating/inserting to a database, I assume I will need to clean it up.
That is, in PHP, I used to addslashes() to each field before inserting
to the database, in case it has characters that would mess up the sql.

How do I sanitize my input in python?

Thanks,

Kevin
-- 
Kevin White
jedirunner@gmail.com
From modpython at holovaty.com  Mon Dec 13 18:15:53 2004
From: modpython at holovaty.com (Adrian Holovaty)
Date: Mon Dec 13 18:17:29 2004
Subject: [mod_python] How to sanitize input?
In-Reply-To: <9de082104121314584ff03a5c@mail.gmail.com>
References: <9de082104121314584ff03a5c@mail.gmail.com>
Message-ID: <200412131715.53797.modpython@holovaty.com>

Kevin White wrote:
> Before I take form data and start putting it into an sql statement for
> updating/inserting to a database, I assume I will need to clean it up.
> That is, in PHP, I used to addslashes() to each field before inserting
> to the database, in case it has characters that would mess up the sql.
>
> How do I sanitize my input in python?

Hey Kevin,

Kiss addslashes() goodbye. In Python, it's handled for you automatically, by 
the database module you're using (e.g. psycopg for PostgreSQL), in the 
cursor.execute() method:

baz = '"blah\'s quotes"'
cursor = db.cursor()
cursor.execute("SELECT foo FROM bar WHERE baz=%s", [baz])

Check out the Python-DBI PEP for full information on this:

http://www.python.org/peps/pep-0249.html

Adrian
From sanders at apache.org  Mon Dec 13 19:52:30 2004
From: sanders at apache.org (Scott Sanders)
Date: Mon Dec 13 19:52:32 2004
Subject: [mod_python] Bug tracking is now set up for mod_python
Message-ID: <6EDE12D5-4D6A-11D9-8A3E-000A95D2D288@apache.org>

http://nagoya.apache.org/jira/browse/MODPYTHON

Developers, just let me know your username in JIRA, and I will add you 
to the project.

I have set up security to allow any registered user to 
post/comment/attach issues, everything else requires a developer role.

Notifications will be sent to python-dev@apache.

Let me know if there is anything else.

If no one gets to it soon, I will start adding the issues that Grisha 
highlighted this weekend.

Thanks
Scott

From jedirunner at gmail.com  Mon Dec 13 22:56:24 2004
From: jedirunner at gmail.com (Kevin White)
Date: Mon Dec 13 22:56:26 2004
Subject: [mod_python] Some questions
Message-ID: <9de0821041213195674c38b1d@mail.gmail.com>

Ok, so I have a few questions for you python programmers:

1- What text editor do you use?  I have been using vim/gvim but it
frustrates me in a couple areas.  It gets all confused with its smart
indenting in some cases and I have to undo what it does.  Also, I
can't just put my cursor somewhere and hit 'i' (to go into insert
mode) and start backspacing.  I have to delete from the left of the
text rather than backspacing from the right.  Anyway, so what text
editor do you all use?   Is anyone out there using a good text editor
for PSP files, and if so what editor?

2- Where are the best places to find official and unofficial
documentation for python and mod_python?  I don't know where to look
before posting questions, and there appears to be various types of
docs in various places.

3- What is a "PEP"?

That aught to do it for now. :)

Thanks!

Kevin
-- 
Kevin White
jedirunner@gmail.com
From bje at apnic.net  Tue Dec 14 00:45:09 2004
From: bje at apnic.net (Byron Ellacott)
Date: Tue Dec 14 00:43:07 2004
Subject: [mod_python] How to sanitize input?
In-Reply-To: <9de082104121314584ff03a5c@mail.gmail.com>
References: <9de082104121314584ff03a5c@mail.gmail.com>
Message-ID: <41BE7DE5.1010701@apnic.net>

Kevin White wrote:
> Before I take form data and start putting it into an sql statement for
> updating/inserting to a database, I assume I will need to clean it up.
> That is, in PHP, I used to addslashes() to each field before inserting
> to the database, in case it has characters that would mess up the sql.

I work the other way around -- ensuring user input has all valid 
characters, rather than any invalid characters.  The reason for doing 
this is that I cannot overlook anything - I'm clearly defining what's 
allowed.

> How do I sanitize my input in python?

A simple approach would be:

OK_CHARS = "abcdefghijklmnopqrstuvwxyz0123456789 .,!?:"

def is_safe(str):
     return [x for x in str if x.lower() not in OK_CHARS] == []

Not necessarily very processor friendly; Python 2.4's set operations 
would make this even more trivial, and probably a fair bit faster.  I 
don't know if mod_python is capable of being built with Python 2.4, however.

-- 
bje
From davidf at sjsoft.com  Tue Dec 14 03:22:00 2004
From: davidf at sjsoft.com (David Fraser)
Date: Tue Dec 14 03:22:04 2004
Subject: [mod_python] Some questions
In-Reply-To: <9de0821041213195674c38b1d@mail.gmail.com>
References: <9de0821041213195674c38b1d@mail.gmail.com>
Message-ID: <41BEA2A8.40209@sjsoft.com>

Kevin White wrote:

>Ok, so I have a few questions for you python programmers:
>
>1- What text editor do you use?  I have been using vim/gvim but it
>frustrates me in a couple areas.  It gets all confused with its smart
>indenting in some cases and I have to undo what it does.  Also, I
>can't just put my cursor somewhere and hit 'i' (to go into insert
>mode) and start backspacing.  I have to delete from the left of the
>text rather than backspacing from the right.  Anyway, so what text
>editor do you all use?   Is anyone out there using a good text editor
>for PSP files, and if so what editor?
>  
>
I use vim, but there are loads of others. It is possible to customize 
its behaviour, but you may prefer something else.

>2- Where are the best places to find official and unofficial
>documentation for python and mod_python?  I don't know where to look
>before posting questions, and there appears to be various types of
>docs in various places.
>  
>
http://docs.python.org/ for python
http://www.modpython.org/live/current/doc-html/ for mod python

>3- What is a "PEP"?
>  
>
A "PEP" is a "Python Enhancement Proposal", the way new features / 
changes for the language are proposed and handled. Similar to RFCs on 
the internet

>That aught to do it for now. :)
>
>Thanks!
>
>Kevin
>  
>
Hope that helps
David
From gustavo.cordova at q-voz.com  Tue Dec 14 10:01:41 2004
From: gustavo.cordova at q-voz.com (=?ISO-8859-1?Q?Gustavo_C=F3rdova_Avila?=)
Date: Tue Dec 14 09:55:31 2004
Subject: [mod_python] Some questions
In-Reply-To: <9de0821041213195674c38b1d@mail.gmail.com>
References: <9de0821041213195674c38b1d@mail.gmail.com>
Message-ID: <41BF0055.30006@q-voz.com>

Kevin White wrote:

>Ok, so I have a few questions for you python programmers:
>
>1- What text editor do you use?  I have been using vim/gvim but it
>frustrates me in a couple areas.  It gets all confused with its smart
>indenting in some cases and I have to undo what it does.  Also, I
>can't just put my cursor somewhere and hit 'i' (to go into insert
>mode) and start backspacing.  I have to delete from the left of the
>text rather than backspacing from the right.  Anyway, so what text
>editor do you all use?   Is anyone out there using a good text editor
>for PSP files, and if so what editor?
>
I use vim/gvim for 99.44% of all my editing, and I'm also in the
process of finding out *HOW* to make vim/gvim undent when I press
backspace on an indented line, instead of "<esc><bs>....C",
which I find a bit cumbersome.

You can check out "cream", it's a gvim configuration profile with
about, say, A TON of enhancements over plain gvim, which correctly
undents when backspacing at the end of an indented line, it just
"does the right thing".

It has a hideous showstopper *FOR*ME*, which is it's inability to
cope with spanish accented chars, most probably with it's current
configuration which is hackable, make no mistake; so it's surely
a temporary showstopper.

>2- Where are the best places to find official and unofficial
>documentation for python and mod_python?  I don't know where to look
>before posting questions, and there appears to be various types of
>docs in various places.
>
Like someone previously said:

http://www.python.org/doc/2.3.4/
http://www.modpython.org/live/current/doc-html/

>3- What is a "PEP"?
>
A PEP is a PEP is a PEP... :-)

It's a "Python Enhancement Proposal", like an RFC, but for Python.

>
>That aught to do it for now. :)
>
>Thanks!
>
>Kevin
>
your welcome...

-gustavo

From eric at ericwalstad.com  Tue Dec 14 11:38:46 2004
From: eric at ericwalstad.com (Eric Walstad)
Date: Tue Dec 14 11:38:56 2004
Subject: [mod_python] Some questions
In-Reply-To: <9de0821041213195674c38b1d@mail.gmail.com>
References: <9de0821041213195674c38b1d@mail.gmail.com>
Message-ID: <200412140838.47022.eric@ericwalstad.com>

On Monday 13 December 2004 07:56 pm, Kevin White wrote:
> Ok, so I have a few questions for you python programmers:
>
> 1- What text editor do you use?  I have been using vim/gvim but it
> frustrates me in a couple areas.  It gets all confused with its
> smart indenting in some cases and I have to undo what it does. 
> Also, I can't just put my cursor somewhere and hit 'i' (to go into
> insert mode) and start backspacing.  I have to delete from the left
> of the text rather than backspacing from the right.  Anyway, so
> what text editor do you all use?   Is anyone out there using a good
> text editor for PSP files, and if so what editor?
On linux, I like Kate.  Kate has a Python code browser plugin that 
allows you to browse the class structure in the left pane while 
editing the code in the right pane.  Kate also handles Python syntax 
coloring nicely.
<http://kate.kde.org/>

Best regards,

Eric.
From jedirunner at gmail.com  Tue Dec 14 12:17:25 2004
From: jedirunner at gmail.com (Kevin White)
Date: Tue Dec 14 12:17:27 2004
Subject: [mod_python] Some questions
In-Reply-To: <200412140838.47022.eric@ericwalstad.com>
References: <9de0821041213195674c38b1d@mail.gmail.com>
	<200412140838.47022.eric@ericwalstad.com>
Message-ID: <9de08210412140917309bcdc@mail.gmail.com>

Have you tried Kate with PSP files?  Just wondering if it knows how to
handle the python embedded in the html.

Thanks,

Kevin


On Tue, 14 Dec 2004 08:38:46 -0800, Eric Walstad <eric@ericwalstad.com> wrote:
> On Monday 13 December 2004 07:56 pm, Kevin White wrote:
> > Ok, so I have a few questions for you python programmers:
> >
> > 1- What text editor do you use?  I have been using vim/gvim but it
> > frustrates me in a couple areas.  It gets all confused with its
> > smart indenting in some cases and I have to undo what it does.
> > Also, I can't just put my cursor somewhere and hit 'i' (to go into
> > insert mode) and start backspacing.  I have to delete from the left
> > of the text rather than backspacing from the right.  Anyway, so
> > what text editor do you all use?   Is anyone out there using a good
> > text editor for PSP files, and if so what editor?
> On linux, I like Kate.  Kate has a Python code browser plugin that
> allows you to browse the class structure in the left pane while
> editing the code in the right pane.  Kate also handles Python syntax
> coloring nicely.
> <http://kate.kde.org/>
> 
> Best regards,
> 
> Eric.
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
> 


-- 
Kevin White
jedirunner@gmail.com
From eric at ericwalstad.com  Tue Dec 14 12:32:55 2004
From: eric at ericwalstad.com (Eric Walstad)
Date: Tue Dec 14 12:33:01 2004
Subject: [mod_python] Some questions
In-Reply-To: <9de08210412140917309bcdc@mail.gmail.com>
References: <9de0821041213195674c38b1d@mail.gmail.com>
	<200412140838.47022.eric@ericwalstad.com>
	<9de08210412140917309bcdc@mail.gmail.com>
Message-ID: <200412140932.57281.eric@ericwalstad.com>

On Tuesday 14 December 2004 09:17 am, Kevin White wrote:
> Have you tried Kate with PSP files?  Just wondering if it knows how
> to handle the python embedded in the html.
No, I haven't tried it with PSP.  I've only used SimpleTAL 
<http://www.owlfish.com/software/simpleTAL/> with mod_python.  When 
editing SimpleTAL templates I have set up kate to "colorize" them as 
though they are HTML.  It works well for me.

Best,

Eric.
From rmfendt at web.de  Tue Dec 14 14:47:18 2004
From: rmfendt at web.de (Robert Fendt)
Date: Tue Dec 14 14:47:35 2004
Subject: [mod_python] Some questions
In-Reply-To: <9de0821041213195674c38b1d@mail.gmail.com>
References: <9de0821041213195674c38b1d@mail.gmail.com>
Message-ID: <20041214204718.1a66787c@vulcan>

And thus spake Kevin White <jedirunner@gmail.com>
Mon, 13 Dec 2004 20:56:24 -0700:

> Ok, so I have a few questions for you python programmers:
> 
> 1- What text editor do you use?  I have been using vim/gvim but it
> frustrates me in a couple areas.  It gets all confused with its smart
> indenting in some cases and I have to undo what it does.  Also, I
> can't just put my cursor somewhere and hit 'i' (to go into insert
> mode) and start backspacing.  I have to delete from the left of the
> text rather than backspacing from the right.  Anyway, so what text
> editor do you all use?   Is anyone out there using a good text editor
> for PSP files, and if so what editor?

Well, as an old Emacs junkie, of course I use it for coding Python. There
is a well-working CPython mode for Emacs, and the editor does a pretty
good job at HTML/XML derivatives, too. Of course, this is bound to trigger
another "emacs<->vim" flamewar...

> 2- Where are the best places to find official and unofficial
> documentation for python and mod_python?  I don't know where to look
> before posting questions, and there appears to be various types of
> docs in various places.

http://www.python.org/ is a very good starting place. It also features a
large list of Python-related projects. For mod_python, its docs can be
found at http://www.modpython.org/, although I do find the docs a bit thin
at times. Of course, you can have a look through the mod_python list
archives.

> 3- What is a "PEP"?

A Python Enhancement Proposal, as someone else already explained.

Regards,
Robert
From leejd80 at gmail.com  Wed Dec 15 10:17:30 2004
From: leejd80 at gmail.com (Lee jundong)
Date: Wed Dec 15 10:17:32 2004
Subject: [mod_python] unsupported format character '"' (0x22) at index 30
Message-ID: <7dbf822f041215071759000bcf@mail.gmail.com>

I find a matter.In case of using "%" symbol to link string,like:print
str1%str2.It can't work  with Modpython.But it can work ok with pure
python.How to do it?
My code is:
--------------welcome.py------------------
def welcome (req):
    content = """
<table border="0" width="100%">
  <tr>
    <td width="15%" valign="top">%s<!--Menu-->
    </td>
    <td width="85%" valign="top">WELCOME!</td>
  </tr>
</table>
"""
    return content%frame.Menu()
--------------frame.py----------------
def Menu ():
    content = """
    <table border="1" width="100%">
        <tr>
          <td width="100%"><a href="../user.py/Show">User Management</a></td>
        </tr>
        <tr>
          <td width="100%"><a href="../custom.py/Show">Custom
Management</a></td>
        </tr>
        <tr>
          <td width="100%">Group Management</td>
        </tr>
        <tr>
          <td width="100%"><a href="../sendsms.py/Ready">Send SMS</a></td>
        </tr>
      </table>
"""
    return content
-----------------------------------
The above code execute result is :

Mod_python error: "PythonHandler mod_python.publisher"

Traceback (most recent call last):

  File "E:\Zope\Python\Lib\site-packages\mod_python\apache.py", line
299, in HandlerDispatch
    result = object(req)

  File "E:\Zope\Python\Lib\site-packages\mod_python\publisher.py",
line 136, in handler
    result = util.apply_fs_data(object, req.form, req=req)

  File "E:\Zope\Python\Lib\site-packages\mod_python\util.py", line
361, in apply_fs_data
    return object(**args)

  File "E:/Project/GridGate/Source/sms\welcome.py", line 19, in welcome
    return content%frame.Menu()

ValueError: unsupported format character '"' (0x22) at index 30


-- 
My Blog >> http://leejd.cndev.org
My QQ >> 9847243
From fumanchu at amor.org  Wed Dec 15 10:43:15 2004
From: fumanchu at amor.org (Robert Brewer)
Date: Wed Dec 15 10:45:30 2004
Subject: [mod_python] unsupported format character '"' (0x22) at index 30
Message-ID: <3A81C87DC164034AA4E2DDFE11D258E3398049@exchange.hqamor.amorhq.net>

Lee jundong wrote:
> I find a matter.In case of using "%" symbol to link string,like:print
> str1%str2.It can't work  with Modpython.But it can work ok with pure
> python.How to do it?

The width values in your HTML have % characters. These need to be
escaped when using string formatting:
http://docs.python.org/lib/typesseq-strings.html

The quickest way to get yours to work is to simply double every
extraneous % in your content:

--------------welcome.py------------------
def welcome (req):
    content = """
<table border="0" width="100%%">
  <tr>
    <td width="15%%" valign="top">%s<!--Menu-->
    </td>
    <td width="85%%" valign="top">WELCOME!</td>
  </tr>
</table>
"""
    return content % frame.Menu()


Robert Brewer
MIS
Amor Ministris
fumanchu@amor.org

From leejd80 at gmail.com  Wed Dec 15 10:47:57 2004
From: leejd80 at gmail.com (Lee jundong)
Date: Wed Dec 15 10:47:59 2004
Subject: [mod_python] Re: unsupported format character '"' (0x22) at index 30
In-Reply-To: <7dbf822f041215071759000bcf@mail.gmail.com>
References: <7dbf822f041215071759000bcf@mail.gmail.com>
Message-ID: <7dbf822f04121507472e032442@mail.gmail.com>

Sorry, It's a formatting string problem. Outlying to
modpython,sorry.But I can't resolve it. Who can tell me how to do
it?For reserve "%" symbol, I already try to:%%, \% and so on.


On Wed, 15 Dec 2004 23:17:30 +0800, Lee jundong <leejd80@gmail.com> wrote:
> I find a matter.In case of using "%" symbol to link string,like:print
> str1%str2.It can't work  with Modpython.But it can work ok with pure
> python.How to do it?

-- 
My Blog >> http://leejd.cndev.org
My QQ >> 9847243
From leejd80 at gmail.com  Wed Dec 15 11:01:57 2004
From: leejd80 at gmail.com (Lee jundong)
Date: Wed Dec 15 11:02:00 2004
Subject: [mod_python] unsupported format character '"' (0x22) at index 30
In-Reply-To: <3A81C87DC164034AA4E2DDFE11D258E3398049@exchange.hqamor.amorhq.net>
References: <3A81C87DC164034AA4E2DDFE11D258E3398049@exchange.hqamor.amorhq.net>
Message-ID: <7dbf822f0412150801739d8c0b@mail.gmail.com>

Yes, It's my error. I omit at least one .Now ,it can work OK.Thank you.

I apologized to everybody because of my error mail.Sorry.


On Wed, 15 Dec 2004 07:43:15 -0800, Robert Brewer <fumanchu@amor.org> wrote:
> Lee jundong wrote:
From arnaudsj at mac.com  Wed Dec 15 21:29:17 2004
From: arnaudsj at mac.com (=?ISO-8859-1?Q?S=E9bastien_Arnaud?=)
Date: Wed Dec 15 21:29:26 2004
Subject: [mod_python] Some questions
In-Reply-To: <9de0821041213195674c38b1d@mail.gmail.com>
References: <9de0821041213195674c38b1d@mail.gmail.com>
Message-ID: <48C02D83-4F0A-11D9-BE1E-000A958E5670@mac.com>

Hi Kevin,

I personally use Eclipse 3.0 (http://www.eclipse.org/). I have searched 
a long time for a "dream" environment that can save me time and 
Eclipse, even if not perfect, is the closest I found yet.

I recommend the following plugins (among the hundreds available)

- PYDEV (Python syntax validation and coloring, code refactoring, auto 
completion, debugging)
http://pydev.sf.net/updates/

- Oxygen (commercial)
http://www.oxygenxml.com/InstData/Eclipse/site.xml
Amazing XML/XSLT editor that works within Eclipse. You can use it also 
to edit HTML/XHTML files as well, it has auto completion, validation 
built in and so much more. Well worth the money if you need to edit a 
lot of HTML, XML files!

- Subclipse (Allows you to check in/out from Subversion repository)
http://subclipse.tigris.org/update
Eclipse has built in support for CVS, but I highly recommend moving to 
SVN for source control as it addresses so many caveats that CVS had.

- SFTP
This way you can push live your files to your server(s) with one click, 
compare the files on your live enviromnent, etc... Eclipse supports by 
default FTP and WebDAV

It is true that Eclipse is a monster app (java based), definitely not a 
small weight nice editor. But if you have the CPU power, the 
environment is wonderful to work with and can save you a lot of time! I 
work most of the time with other developers and sharing the same IDE to 
develop is a blessing - Eclipse runs on pretty much any OS that has a 
JVM.

Hope this helps!

S?bastien

On Dec 13, 2004, at 9:56 PM, Kevin White wrote:

> Ok, so I have a few questions for you python programmers:
>
> 1- What text editor do you use?  I have been using vim/gvim but it
> frustrates me in a couple areas.  It gets all confused with its smart
> indenting in some cases and I have to undo what it does.  Also, I
> can't just put my cursor somewhere and hit 'i' (to go into insert
> mode) and start backspacing.  I have to delete from the left of the
> text rather than backspacing from the right.  Anyway, so what text
> editor do you all use?   Is anyone out there using a good text editor
> for PSP files, and if so what editor?
>
> 2- Where are the best places to find official and unofficial
> documentation for python and mod_python?  I don't know where to look
> before posting questions, and there appears to be various types of
> docs in various places.
>
> 3- What is a "PEP"?
>
> That aught to do it for now. :)
>
> Thanks!
>
> Kevin
> -- 
> Kevin White
> jedirunner@gmail.com
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
-------------- next part --------------
A non-text attachment was scrubbed...
Name: PGP.sig
Type: application/pgp-signature
Size: 155 bytes
Desc: This is a digitally signed message part
Url : http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20041215/4f58c27f/PGP.bin
From cow133 at btinternet.com  Thu Dec 16 15:23:51 2004
From: cow133 at btinternet.com (Jim McNeill)
Date: Thu Dec 16 15:23:58 2004
Subject: [mod_python] Bad penny returns
Message-ID: <200412162023.iBGKNvcG010949@modpython.org>

Evening all,

Just downloaded mod_python 3.1.3.win32 and Python 2.3.4, installed with
Apache 2 on an XP machine running Norton Internet Security. Test pages came
up just dandy, thanks to Rolfe Dlugy-Hegwer's instuctions in the FAQ (thanks
Rolfe).

I tried mod_python out some time back when cookie and session handling was a
major effort, and connection pooling was just off the menu for a hobbyist
such as me. Glad to see those questions have been addressed. I must admit
that I've no real reason for using mod_python, I just like coding for the
web and Python is fun!

So. Next steps I'm gonna do an xhtml page dumping everything I can find out
about the request, then I'm for knocking up a wee mysql user/group
administration thing. Got Komodo personal for the coding. Anyone got a
better suggestion?

In fact, anyone got a piece of work they want doing with mod_python (bearing
in mind that it will arrive at hobbyist speeds)?

Regards,
Jim


From isofroni at cc.uoi.gr  Fri Dec 17 04:33:45 2004
From: isofroni at cc.uoi.gr (John)
Date: Fri Dec 17 04:35:35 2004
Subject: [mod_python] mod_python crashes apache in chroot enviroment.
Message-ID: <000a01c4e41b$84295e10$747882c3@jonsof>

I can run python in chrooted.



/usr/sbin/chroot /chroot /usr/local/bin/python



but when i try to integrate python with apache through mod_python then apache crashes after creating many idle servers (140 approximately).

I have also copied the mod_python.so and the libraries that ldd indecates concerning mod_python.so
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20041217/b5f34ec1/attachment.html
From chad at zetaweb.com  Fri Dec 17 23:36:08 2004
From: chad at zetaweb.com (Chad Whitacre)
Date: Fri Dec 17 23:37:17 2004
Subject: [mod_python] Re: Bad penny returns
In-Reply-To: <200412162023.iBGKNvcG010949@modpython.org>
References: <200412162023.iBGKNvcG010949@modpython.org>
Message-ID: <41C3B3B8.8020701@zetaweb.com>

> In fact, anyone got a piece of work they want doing with mod_python (bearing
> in mind that it will arrive at hobbyist speeds)?

Well heck, since you asked ... ;-)

Here's a simple little project for you: write a web front end for 
htpasswd. Htpasswd is a utility for managing Unix passwd(5) files; it 
comes with Apache (inline docs are below). I need a web front end for it 
so that users of my svn server can change their password themselves.

The mini-app should really just need one web page, a form with these fields:

   - username

   - current (old) password

   - new password

   - new password confirmation

Should be pretty straightforward to take these in a script ttw and 
manipulate htpasswd on the back end. My preference would be to have the 
whole transaction handled by a single script, htpasswd.py (and I would 
use SimpleTAL for templating, but suit yourself of course). This would 
post to itself, so the user's url never changes while using the app.

I've actually been looking for a little mod_python starter project 
myself, and this is what I came up with. And I'll need to write it 
myself in the next couple weeks if you're not interested. If you are 
interested I'd be happy to host it in my svn repo for you ... once 
you're done. ;-)

Ok, take it or leave it, just thought I'd throw that out there!


chad


============================

# htpasswd
Usage:
         htpasswd [-cmdpsD] passwordfile username
         htpasswd -b[cmdpsD] passwordfile username password

         htpasswd -n[mdps] username
         htpasswd -nb[mdps] username password
  -c  Create a new file.
  -n  Don't update file; display results on stdout.
  -m  Force MD5 encryption of the password.
  -d  Force CRYPT encryption of the password (default).
  -p  Do not encrypt the password (plaintext).
  -s  Force SHA encryption of the password.
  -b  Use the password from the command line rather than prompting for it.
  -D  Delete the specified user.
On Windows, NetWare and TPF systems the '-m' flag is used by default.
On all other systems, the '-p' flag will probably not work.

From list at joreybump.com  Sat Dec 18 08:08:48 2004
From: list at joreybump.com (Jorey Bump)
Date: Sat Dec 18 08:08:53 2004
Subject: [mod_python] Re: Bad penny returns
In-Reply-To: <41C3B3B8.8020701@zetaweb.com>
References: <200412162023.iBGKNvcG010949@modpython.org>
	<41C3B3B8.8020701@zetaweb.com>
Message-ID: <41C42BE0.3060301@joreybump.com>

Chad Whitacre wrote:

> Here's a simple little project for you: write a web front end for 
> htpasswd. Htpasswd is a utility for managing Unix passwd(5) files; it 
> comes with Apache (inline docs are below). I need a web front end for it 
> so that users of my svn server can change their password themselves.

htpasswd is used to create/manage user authentication files used with 
various http authentication schemes for apache.

It does *not* manipulate  Unix passwd files. For that, you can run a 
daemon like poppassd (or write one, if you're up to it) and create a web 
frontend for it.

Although security for the htpasswd is important, security for a frontend 
to passwd is critical. Both would certainly be a good exercise for any 
program. I wouldn't use a newbie's first effort for a million zillion 
dollars/euros/GHz/Kbs. :)
From chad at zetaweb.com  Sat Dec 18 13:58:16 2004
From: chad at zetaweb.com (Chad Whitacre)
Date: Sat Dec 18 13:59:37 2004
Subject: [mod_python] Re: Bad penny returns
In-Reply-To: <41C42BE0.3060301@joreybump.com>
References: <200412162023.iBGKNvcG010949@modpython.org>	<41C3B3B8.8020701@zetaweb.com>
	<41C42BE0.3060301@joreybump.com>
Message-ID: <41C47DC8.2080601@zetaweb.com>

Jorey,

> It does *not* manipulate  Unix passwd files. For that, you can run a 
> daemon like poppassd (or write one, if you're up to it) and create a web 
> frontend for it.

By "Unix passwd(5) files" I meant files in passwd(5) format, not files 
used by passwd(1). The poppassd suggestion makes me think you were 
conflating the two, perhaps?

However, I was also imprecise (sorry). Htpasswd's file format appears to 
be derived from passwd(5), but it only includes the first two fields, 
and afaict all fields in passwd(5) files are required.


> Although security for the htpasswd is important, security for a frontend 
> to passwd is critical.

True dat! Not touching passwd(1).


> I wouldn't use a newbie's first effort for a million zillion 
> dollars/euros/GHz/Kbs. :)

Well obviously not without review. :-p



chad

From amarrero at mitre.org  Mon Dec 20 11:42:24 2004
From: amarrero at mitre.org (=?ISO-8859-1?Q?Alexis_Marrero-Narv=E1ez?=)
Date: Mon Dec 20 11:42:31 2004
Subject: [mod_python] One index.py for all subdirectories
Message-ID: <2010A7A0-52A6-11D9-BE66-000393D153BC@mitre.org>

All,

How can I setup Apache2, in such way that I only need one index.py for 
all subdirectories. For instance here is a directory structure:
/persons
	/john
		/daughters
			/anna
			/alicia
	/mary
	index.py

I want the index.py in /persons to be used everytime the user access 
any URI under /persons. So if the user GET 
http://host.com/persons/john/daugthers/ apache handles the request by 
sending it to index.py inside /persons instead of trying to get 
/persons/john/daughters/index.py?

Are there any tricks other than using mod_rewrite?

Thanks,
/amn


From nick at dd.revealed.net  Mon Dec 20 11:48:12 2004
From: nick at dd.revealed.net (Nick)
Date: Mon Dec 20 11:48:26 2004
Subject: [mod_python] One index.py for all subdirectories
In-Reply-To: <2010A7A0-52A6-11D9-BE66-000393D153BC@mitre.org>
References: <2010A7A0-52A6-11D9-BE66-000393D153BC@mitre.org>
Message-ID: <41C7024C.7020107@dd.revealed.net>

You could try using a wildcard in a Location directive.

Nick

Alexis Marrero-Narv?ez wrote:
> All,
> 
> How can I setup Apache2, in such way that I only need one index.py for 
> all subdirectories. For instance here is a directory structure:
> /persons
>     /john
>         /daughters
>             /anna
>             /alicia
>     /mary
>     index.py
> 
> I want the index.py in /persons to be used everytime the user access any 
> URI under /persons. So if the user GET 
> http://host.com/persons/john/daugthers/ apache handles the request by 
> sending it to index.py inside /persons instead of trying to get 
> /persons/john/daughters/index.py?
> 
> Are there any tricks other than using mod_rewrite?
> 
> Thanks,
> /amn
> 
> 
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python

From manfred.stienstra at dwerg.net  Mon Dec 20 12:29:05 2004
From: manfred.stienstra at dwerg.net (Manfred Stienstra)
Date: Mon Dec 20 12:29:12 2004
Subject: [mod_python] One index.py for all subdirectories
In-Reply-To: <2010A7A0-52A6-11D9-BE66-000393D153BC@mitre.org>
References: <2010A7A0-52A6-11D9-BE66-000393D153BC@mitre.org>
Message-ID: <1103563746.16647.47.camel@ack.dwerg.net>

On Mon, 2004-12-20 at 11:42 -0500, Alexis Marrero-Narv?ez wrote:
> All,
> 
> How can I setup Apache2, in such way that I only need one index.py for 
> all subdirectories. For instance here is a directory structure:
> /persons
> 	/john
> 		/daughters
> 			/anna
> 			/alicia
> 	/mary
> 	index.py
> 
> I want the index.py in /persons to be used everytime the user access 
> any URI under /persons. So if the user GET 
> http://host.com/persons/john/daugthers/ apache handles the request by 
> sending it to index.py inside /persons instead of trying to get 
> /persons/john/daughters/index.py?
> 
> Are there any tricks other than using mod_rewrite?

Remember, introspection is your friend. Something like this:

handler.py:

import stuff

def handler(req):
  parts = req.request_uri.split('/')
  try:
    getattr(stuff, "handle_%s" % parts[1])(req, parts[1:])
  except AttributeError:
    stuff.handle_error(req, parts)

stuff.py:

def handle_john(req, parts):
  pass

def handle_mary(req, parts):
  pass

def handle_error(req, parts):
  req.content_type='text/plain'
  req.status = 404
  req.write("you done screwed up!")


From manfred.stienstra at dwerg.net  Mon Dec 20 13:20:59 2004
From: manfred.stienstra at dwerg.net (Manfred Stienstra)
Date: Mon Dec 20 13:21:05 2004
Subject: [mod_python] One index.py for all subdirectories
In-Reply-To: <1103563746.16647.47.camel@ack.dwerg.net>
References: <2010A7A0-52A6-11D9-BE66-000393D153BC@mitre.org>
	<1103563746.16647.47.camel@ack.dwerg.net>
Message-ID: <1103566859.16647.52.camel@ack.dwerg.net>

On Mon, 2004-12-20 at 18:29 +0100, Manfred Stienstra wrote:
> On Mon, 2004-12-20 at 11:42 -0500, Alexis Marrero-Narv?ez wrote:
> > All,
> > 
> > How can I setup Apache2, in such way that I only need one index.py for 
> > all subdirectories. For instance here is a directory structure:
> > /persons
> > 	/john
> > 		/daughters
> > 			/anna
> > 			/alicia
> > 	/mary
> > 	index.py
> > 
> > I want the index.py in /persons to be used everytime the user access 
> > any URI under /persons. So if the user GET 
> > http://host.com/persons/john/daugthers/ apache handles the request by 
> > sending it to index.py inside /persons instead of trying to get 
> > /persons/john/daughters/index.py?
> > 
> > Are there any tricks other than using mod_rewrite?

Oops I misunderstood. You can set a handler for a directory:

<Directory "/var/www/app/persons">
        SetHandler python-program
        PythonHandler handler::handler
	PythonPath "sys.path+['/var/www/app/lib']"
</Directory>

This assumes there is a handler.py somewhere in the sys.path with a
function handler defined. All the requests for this directory will be
handled by the PythonHandler.

Manfred

From sanders at apache.org  Mon Dec 20 13:47:08 2004
From: sanders at apache.org (Scott Sanders)
Date: Mon Dec 20 13:47:09 2004
Subject: [mod_python] One index.py for all subdirectories
In-Reply-To: <1103566859.16647.52.camel@ack.dwerg.net>
References: <2010A7A0-52A6-11D9-BE66-000393D153BC@mitre.org>
	<1103563746.16647.47.camel@ack.dwerg.net>
	<1103566859.16647.52.camel@ack.dwerg.net>
Message-ID: <8D33DA20-52B7-11D9-8240-000A95D2D288@apache.org>

>>> I want the index.py in /persons to be used everytime the user access
>>> any URI under /persons. So if the user GET
>>> http://host.com/persons/john/daugthers/ apache handles the request by
>>> sending it to index.py inside /persons instead of trying to get
>>> /persons/john/daughters/index.py?
>>>
>>> Are there any tricks other than using mod_rewrite?
>
> Oops I misunderstood. You can set a handler for a directory:
>
> <Directory "/var/www/app/persons">
>         SetHandler python-program
>         PythonHandler handler::handler
> 	PythonPath "sys.path+['/var/www/app/lib']"
> </Directory>
>
> This assumes there is a handler.py somewhere in the sys.path with a
> function handler defined. All the requests for this directory will be
> handled by the PythonHandler.

I am using the SetHandler directive to do this now in my application.

Scott

From amarrero at mitre.org  Wed Dec 22 10:54:21 2004
From: amarrero at mitre.org (=?ISO-8859-1?Q?Alexis_Marrero-Narv=E1ez?=)
Date: Wed Dec 22 10:54:34 2004
Subject: [mod_python] Revisiting ImportError: cannot import name psp
Message-ID: <BED9BB2C-5431-11D9-9CEA-000393D153BC@mitre.org>

All,

I'm getting an intermittent ImportError when I access a index.py.

I'm using mod_python.publisher and psp to do templates. The first line  
in index.py is from mod_python import apache, psp.

The first time that I access the URL it brings the page back  
successfully. However if I keep reloading the page it might fail or it  
might succeed.

mod_python 3.1.3

My http.conf (Apache2) has:
        AddHandler python-program .py
         PythonHandler mod_python.publisher

My OS is OS X (10.3.7).

Traceback is:
Mod_python error: "PythonHandler mod_python.publisher"

Traceback (most recent call last):

   File  
"/System/Library/Frameworks/Python.framework/Versions/2.3/lib/ 
python2.3/site-packages/mod_python/apache.py", line 299, in  
HandlerDispatch
     result = object(req)

   File  
"/System/Library/Frameworks/Python.framework/Versions/2.3/lib/ 
python2.3/site-packages/mod_python/publisher.py", line 98, in handler
     path=[path])

   File  
"/System/Library/Frameworks/Python.framework/Versions/2.3/lib/ 
python2.3/site-packages/mod_python/apache.py", line 457, in  
import_module
     module = imp.load_module(mname, f, p, d)

   File "/www/assets/new-albums/2004/index.py", line 1, in ?
     from mod_python import apache, psp

ImportError: cannot import name psp

Any feedback?

/amn
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 1349 bytes
Desc: not available
Url : http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20041222/f89c099d/attachment.bin
From python at dan-olsen.net  Wed Dec 22 15:15:53 2004
From: python at dan-olsen.net (Dan R. Olsen III)
Date: Wed Dec 22 15:16:24 2004
Subject: [mod_python] Minidom parse error
Message-ID: <41C9D5F9.7050007@dan-olsen.net>

I am trying to parse a file that I am getting from a url. However, I 
keep getting an error saying that a module does not have an attribute 
parse. Here is the code followed by the error:

----- BEGIN CODE -----

import xml.dom.minidom
#from xml.dom import minidom
from mod_python import apache
from dbxml import *
import urllib


### GET ALL THE URLS FROM THE OPML FILE
#######################################
def get_urls(req, url):
    #req.write(url + "\n")
    xmlfile = 
urllib.urlopen('http://www.windley.com/gems/mySubscriptions.opml')
    #req.write(xmlfile + "Great!!")
    filedoc = xml.dom.minidom.parse(xmlfile)
    req.write("HOW ABOUT HERE\n")
    feeds = []
    text = filedoc.getElementsByTagName("outline")
    for nodes in text:
        for (name, value) in nodes.attributes.items():
            if name == 'xmlUrl':
                feeds.append(value)
    return feeds

### SPLIT THE ARGUMENTS PASSED TO THE URL
#########################################
def split_args(args):
    rose_args = {}
    if args == None:
        return rose_args

    arglist = args.split('&')

    for arg in arglist:
        tmp = arg.split('=')
        if len(tmp) == 1:
            rose_args[tmp[0]] = None
        else:
            rose_args[tmp[0].upper()] = tmp[1]
    return rose_args

### SEND ERROR IF SOMETHING GOES WRONG
######################################
def send_html_error(req, s, status):
    req.content_type = 'text/html'
    req.send_http_header()
    req.write('<p>' + s + '</p>')
    raise apache.SERVER_RETURN, status

### MAIN HANDLER METHOD WHERE ARE THE MAIN CALLS ARE MADE
#########################################################
def handler(req):
    req.send_http_header()

    request = req.args
    rose_args = split_args(req.args)
    if len(rose_args) == 0:
        send_html_error(req, 'No parameters found', apache.HTTP_BAD_REQUEST)
    if len(rose_args) != 2:
        send_html_error(req, '<strong><font color=\"RED\">You must have 
two parameters, one for \nyour OPML file and one for the 
FLAVOR</font></strong>', apache.HTTP_PRECONDITION_FAILED)

    url = rose_args.get('URL', None)
    flavor = rose_args.get('FLAVOR', None)
    if url == None:
        send_html_error(req, '<strong><font color=\"RED\">No URL 
parameter found</font></strong>', apache.HTTP_PRECONDITION_FAILED)
    else:
        req.write("OPML: " + url + "\n")

    if flavor == None:
        send_html_error(req, '<strong><font color=\"RED\">No FLAVOR 
parameter found</font></strong>', apache.HTTP_PRECONDITION_FAILED)
    else:
        flavor = flavor.upper()
        if(flavor != 'RSS' and flavor != 'ATOM'):
            req.write("FLAVOR: " + flavor + "\n")
            send_html_error(req, '<strong><font color=\"RED\">The FLAVOR 
you entered is not a valid flavor</font></strong>', 
apache.HTTP_PRECONDITION_FAILED)
        else:
            req.write("FLAVOR: " + flavor + "\n")

    rose_urls = get_urls(req, url)   
    req.write(rose_urls[0])
    mgr = XmlManager()
    container = mgr.openContainer("/web/htdocs/dev/danolsencreatedme.dbxml")

    return apache.OK

----- END CODE -----

----- BEGIN OUTPUT ------

OPML: http://www.windley.com/gems/mySubscriptions.opml
FLAVOR: RSS

Mod_python error: "PythonHandler rose"

Traceback (most recent call last):

  File "/usr/lib/python2.3/site-packages/mod_python/apache.py", line 193, in Dispatch
    result = object(req)

  File "/web/htdocs/dev/rose.py", line 78, in handler
    rose_urls = get_urls(req, url)

  File "/web/htdocs/dev/rose.py", line 14, in get_urls
    filedoc = xml.dom.minidom.parse(xmlfile)

  File "/usr/lib/python2.3/site-packages/_xmlplus/dom/minidom.py", line 1908, in parse
    return expatbuilder.parse(file)

AttributeError: 'module' object has no attribute 'parse'

----- END OUTPUT -----

If anyone can clue me in on why this is happening that would be great!

Dan Olsen
From jason at pengale.com  Wed Dec 22 23:11:53 2004
From: jason at pengale.com (Jason Stitt)
Date: Wed Dec 22 23:12:04 2004
Subject: [mod_python] With OS X and Python 2.4 - installed but not working
Message-ID: <C70ED904-5498-11D9-9805-000D93AF8AD2@pengale.com>

I am trying to get fresh source builds of Apache 2.0.52, Python 2.4 and 
Mod Python 3.1.3 -- that is, all the latest stable versions -- working 
on my Mac (OS X 10.3.7). I'm putting them in a separate directory 
~/server (so as not to mess around with the factory-default 
installations). It's not quite working.

Apache went in fine. I tried to install Python normally, but it refused 
to create a libpython for me (which mod_python said it needed), even 
with the --enable-shared configuration flag. So I made it a framework 
under ~/server/frameworks. In both cases, the python interpreter itself 
worked fine.

Then came mod_python. Once I did the framework install of python, it 
compiled OK. I gave it a --with-python flag pointing at the executable 
in my framework install. I have added the LoadModule to my config file, 
which looks like this:

LoadModule python_module 
/Users/jason/server/apache2/modules/mod_python.so
<Directory /Users/jason/server/apache2/htdocs>
         AddHandler mod_python .py
         PythonHandler mod_python.publisher
         PythonDebug On
</Directory>

The server string reads:
Apache/2.0.52 (Unix) mod_python/3.1.3 Python/2.3 Server at localhost 
Port 8000

Note the odd inclusion of Python/2.3. I checked mod_python's makefile 
and it references only my shiny new python 2.4 directory.

Anyway, whenever I try to actually visit a python page, it either 
hangs/times out, or gives me a 500 internal server error. Nothing is 
written to the error_log.

Anyone experienced with this type of build on OS X? Any ideas?

Thanks much,
Jason

From grahamd at dscpl.com.au  Wed Dec 22 23:40:51 2004
From: grahamd at dscpl.com.au (Graham Dumpleton)
Date: Wed Dec 22 23:40:53 2004
Subject: [mod_python] With OS X and Python 2.4 - installed but not working
In-Reply-To: <C70ED904-5498-11D9-9805-000D93AF8AD2@pengale.com>
Message-ID: <1103776848.88830@dscpl.com.au>

For ideas, run something like:

  otool -L /usr/local/apache-2.0/modules/mod_python.so

What does it output for you?

For me it generates:

/usr/local/apache-2.0/modules/mod_python.so:
        /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 71.1.1)
        /System/Library/Frameworks/Python.framework/Versions/2.3/Python (compatibility version 
2.3.0, current version 2.3.0)

But then that is correct in my case as I patched mod_python so it will
work with standard Python 2.3 shipped with Mac OS X, thus avoiding
building Python 2.4 and trying to get it to work. :-)

Then look at the dyld manual page. You might find you have to set the
DYLD_FRAMEWORK_PATH environment variable so that otool/httpd
will look in the correct place for your framework for Python 2.4. It
is probably simply ignoring your new version and still using the old.

BTW, the patches required for mod_python so it will work with Python
2.3 shipped with Mac OS X can be found amongst other patches at:

  http://www.dscpl.com.au/projects/vampire/PATCHES



On Dec 22 22:11, Jason Stitt <jason@pengale.com> wrote:
>
> Subject: [mod_python] With OS X and Python 2.4 - installed but not working
>
> I am trying to get fresh source builds of Apache 2.0.52, Python 2.4 and 
> Mod Python 3.1.3 -- that is, all the latest stable versions -- working 
> on my Mac (OS X 10.3.7). I'm putting them in a separate directory 
> ~/server (so as not to mess around with the factory-default 
> installations). It's not quite working.
> 
> Apache went in fine. I tried to install Python normally, but it refused 
> to create a libpython for me (which mod_python said it needed), even 
> with the --enable-shared configuration flag. So I made it a framework 
> under ~/server/frameworks. In both cases, the python interpreter itself 
> worked fine.
> 
> Then came mod_python. Once I did the framework install of python, it 
> compiled OK. I gave it a --with-python flag pointing at the executable 
> in my framework install. I have added the LoadModule to my config file, 
> which looks like this:
> 
> LoadModule python_module 
> /Users/jason/server/apache2/modules/mod_python.so
> <Directory /Users/jason/server/apache2/htdocs>
>          AddHandler mod_python .py
>          PythonHandler mod_python.publisher
>          PythonDebug On
> </Directory>
> 
> The server string reads:
> Apache/2.0.52 (Unix) mod_python/3.1.3 Python/2.3 Server at localhost 
> Port 8000
> 
> Note the odd inclusion of Python/2.3. I checked mod_python's makefile 
> and it references only my shiny new python 2.4 directory.
> 
> Anyway, whenever I try to actually visit a python page, it either 
> hangs/times out, or gives me a 500 internal server error. Nothing is 
> written to the error_log.
> 
> Anyone experienced with this type of build on OS X? Any ideas?
> 
> Thanks much,
> Jason
> 
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
> 

--
Graham Dumpleton (grahamd@dscpl.com.au)
From ron at udel.edu  Thu Dec 23 09:33:11 2004
From: ron at udel.edu (Ron Reisor)
Date: Thu Dec 23 09:33:18 2004
Subject: [mod_python] With OS X and Python 2.4 - installed but not working
In-Reply-To: <C70ED904-5498-11D9-9805-000D93AF8AD2@pengale.com>
References: <C70ED904-5498-11D9-9805-000D93AF8AD2@pengale.com>
Message-ID: <Pine.OSX.4.61.0412230925380.398@zim.nss.udel.edu>

Jason,

    Check that the mod_python-3.1.3 configure script found the python 
executable you want.  Here's part of what configure prints for me as it 
runs:

checking for --with-python... no
checking for python... /usr/local/bin/python
checking Python version... 2.4
checking Python install prefix... /Library/Frameworks/Python.framework/Versions/2.4
checking what libraries Python was linked with... -framework  Python    -ldl 
checking linker flags used to link Python... 
checking where Python include files are... -I/Library/Frameworks/Python.framework/Versions/2.4/include/python2.4

    Make sure the mod_python.so apache module is linked to the python 
framework you intend:

[zim:~] ron% otool -L /usr/local/modules/mod_python.so
/usr/local/modules/mod_python.so:
         /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current 
version 71.1.1)
         /Library/Frameworks/Python.framework/Versions/2.4/Python 
(compatibility version 2.4.0, current version 2.4.0)


    Notice I just build python2.4 using --enable-framework and it builds in 
/Library/Frameworks instead of /System/Frameworks and puts the python 
executable in /usr/local/bin instead of /usr/bin.  That's out of the way 
enough for me, and lots of things build to /usr/local/bin without too much 
work.

cheers,

Ron


On Wed, 22 Dec 2004, Jason Stitt wrote:

> I am trying to get fresh source builds of Apache 2.0.52, Python 2.4 and Mod 
> Python 3.1.3 -- that is, all the latest stable versions -- working on my Mac 
> (OS X 10.3.7). I'm putting them in a separate directory ~/server (so as not 
> to mess around with the factory-default installations). It's not quite 
> working.
>
> Apache went in fine. I tried to install Python normally, but it refused to 
> create a libpython for me (which mod_python said it needed), even with the 
> --enable-shared configuration flag. So I made it a framework under 
> ~/server/frameworks. In both cases, the python interpreter itself worked 
> fine.
>
> Then came mod_python. Once I did the framework install of python, it compiled 
> OK. I gave it a --with-python flag pointing at the executable in my framework 
> install. I have added the LoadModule to my config file, which looks like 
> this:
>
> LoadModule python_module /Users/jason/server/apache2/modules/mod_python.so
> <Directory /Users/jason/server/apache2/htdocs>
>        AddHandler mod_python .py
>        PythonHandler mod_python.publisher
>        PythonDebug On
> </Directory>
>
> The server string reads:
> Apache/2.0.52 (Unix) mod_python/3.1.3 Python/2.3 Server at localhost Port 
> 8000
>
> Note the odd inclusion of Python/2.3. I checked mod_python's makefile and it 
> references only my shiny new python 2.4 directory.
>
> Anyway, whenever I try to actually visit a python page, it either hangs/times 
> out, or gives me a 500 internal server error. Nothing is written to the 
> error_log.
>
> Anyone experienced with this type of build on OS X? Any ideas?
>
> Thanks much,
> Jason
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>

Ron Reisor <ron@udel.edu> (RWR3)
University of Delaware Information Technologies/Network and Systems Services
Computing Center/192 South Chapel Street/Newark DE, 19716
pgp finger print: 0D 73 06 6F D3 6A 99 D3  F5 D5 6E FF 3B B9 7C 2C
From jason at pengale.com  Thu Dec 23 09:45:12 2004
From: jason at pengale.com (Jason Stitt)
Date: Thu Dec 23 09:45:21 2004
Subject: [mod_python] With OS X and Python 2.4 - installed but not working
In-Reply-To: <1103776848.88830@dscpl.com.au>
References: <1103776848.88830@dscpl.com.au>
Message-ID: <40539FDD-54F1-11D9-97F6-000D93AF8AD2@pengale.com>

I ended up dropping my grand plans of installing everything in an 
out-of-the-way location. I installed Python 2.4 as a framework its 
default install dir under /Library. It went pretty smoothly. A readline 
hack is no longer necessary, for example.

On Dec 22, 2004, at 10:40 PM, Graham Dumpleton wrote:
> But then that is correct in my case as I patched mod_python so it will
> work with standard Python 2.3 shipped with Mac OS X, thus avoiding
> building Python 2.4 and trying to get it to work. :-)

Nor was this ;)  Once I had python in a 'normal' location, mod_python 
built with nothing more than a --with-apxs. And my server string is 
showing Python/2.4 now instead of Python/2.3, so it probably was a 
problem mixing frameworks.

Lesson learned: do things they way you're supposed to. Hey, it's OS X. 
What did I expect? ;)

Thanks,

Jason

From python at dan-olsen.net  Thu Dec 23 11:08:27 2004
From: python at dan-olsen.net (Dan R. Olsen III)
Date: Thu Dec 23 11:09:26 2004
Subject: [mod_python] Minidom parse error
In-Reply-To: <41C9D5F9.7050007@dan-olsen.net>
References: <41C9D5F9.7050007@dan-olsen.net>
Message-ID: <41CAED7B.3020708@dan-olsen.net>

As I have been looking at it, I actually get two different error 
messages to the code listed below. The first error is at the bottom of 
this message and the other error is:

----- BEGIN OUTPUT -----

Mod_python error: "PythonHandler rose"

Traceback (most recent call last):

  File "/usr/lib/python2.3/site-packages/mod_python/apache.py", line 193, in Dispatch
    result = object(req)

  File "/web/htdocs/dev/rose.py", line 7, in handler
    filedoc = xml.dom.minidom.parse(xmlfile)

  File "/usr/lib/python2.3/site-packages/_xmlplus/dom/minidom.py", line 1907, in parse
    from xml.dom import expatbuilder

  File "/usr/lib/python2.3/site-packages/_xmlplus/dom/expatbuilder.py", line 32, in ?
    from xml.parsers import expat

  File "/usr/lib/python2.3/site-packages/_xmlplus/parsers/expat.py", line 4, in ?
    from pyexpat import *

ImportError: /usr/lib/python2.3/site-packages/_xmlplus/parsers/pyexpat.so: undefined symbol: PyUnicodeUCS4_Decode

----- END OUTPUT -----

I haven't found anything when I Google for these errors. Can anyone help?



Dan R. Olsen III wrote:

> I am trying to parse a file that I am getting from a url. However, I 
> keep getting an error saying that a module does not have an attribute 
> parse. Here is the code followed by the error:
>
> ----- BEGIN CODE -----
>
> import xml.dom.minidom
> #from xml.dom import minidom
> from mod_python import apache
> from dbxml import *
> import urllib
>
>
> ### GET ALL THE URLS FROM THE OPML FILE
> #######################################
> def get_urls(req, url):
>    #req.write(url + "\n")
>    xmlfile = 
> urllib.urlopen('http://www.windley.com/gems/mySubscriptions.opml')
>    #req.write(xmlfile + "Great!!")
>    filedoc = xml.dom.minidom.parse(xmlfile)
>    req.write("HOW ABOUT HERE\n")
>    feeds = []
>    text = filedoc.getElementsByTagName("outline")
>    for nodes in text:
>        for (name, value) in nodes.attributes.items():
>            if name == 'xmlUrl':
>                feeds.append(value)
>    return feeds
>
> ### SPLIT THE ARGUMENTS PASSED TO THE URL
> #########################################
> def split_args(args):
>    rose_args = {}
>    if args == None:
>        return rose_args
>
>    arglist = args.split('&')
>
>    for arg in arglist:
>        tmp = arg.split('=')
>        if len(tmp) == 1:
>            rose_args[tmp[0]] = None
>        else:
>            rose_args[tmp[0].upper()] = tmp[1]
>    return rose_args
>
> ### SEND ERROR IF SOMETHING GOES WRONG
> ######################################
> def send_html_error(req, s, status):
>    req.content_type = 'text/html'
>    req.send_http_header()
>    req.write('<p>' + s + '</p>')
>    raise apache.SERVER_RETURN, status
>
> ### MAIN HANDLER METHOD WHERE ARE THE MAIN CALLS ARE MADE
> #########################################################
> def handler(req):
>    req.send_http_header()
>
>    request = req.args
>    rose_args = split_args(req.args)
>    if len(rose_args) == 0:
>        send_html_error(req, 'No parameters found', 
> apache.HTTP_BAD_REQUEST)
>    if len(rose_args) != 2:
>        send_html_error(req, '<strong><font color=\"RED\">You must have 
> two parameters, one for \nyour OPML file and one for the 
> FLAVOR</font></strong>', apache.HTTP_PRECONDITION_FAILED)
>
>    url = rose_args.get('URL', None)
>    flavor = rose_args.get('FLAVOR', None)
>    if url == None:
>        send_html_error(req, '<strong><font color=\"RED\">No URL 
> parameter found</font></strong>', apache.HTTP_PRECONDITION_FAILED)
>    else:
>        req.write("OPML: " + url + "\n")
>
>    if flavor == None:
>        send_html_error(req, '<strong><font color=\"RED\">No FLAVOR 
> parameter found</font></strong>', apache.HTTP_PRECONDITION_FAILED)
>    else:
>        flavor = flavor.upper()
>        if(flavor != 'RSS' and flavor != 'ATOM'):
>            req.write("FLAVOR: " + flavor + "\n")
>            send_html_error(req, '<strong><font color=\"RED\">The 
> FLAVOR you entered is not a valid flavor</font></strong>', 
> apache.HTTP_PRECONDITION_FAILED)
>        else:
>            req.write("FLAVOR: " + flavor + "\n")
>
>    rose_urls = get_urls(req, url)      req.write(rose_urls[0])
>    mgr = XmlManager()
>    container = 
> mgr.openContainer("/web/htdocs/dev/danolsencreatedme.dbxml")
>
>    return apache.OK
>
> ----- END CODE -----
>
> ----- BEGIN OUTPUT ------
>
> OPML: http://www.windley.com/gems/mySubscriptions.opml
> FLAVOR: RSS
>
> Mod_python error: "PythonHandler rose"
>
> Traceback (most recent call last):
>
>  File "/usr/lib/python2.3/site-packages/mod_python/apache.py", line 
> 193, in Dispatch
>    result = object(req)
>
>  File "/web/htdocs/dev/rose.py", line 78, in handler
>    rose_urls = get_urls(req, url)
>
>  File "/web/htdocs/dev/rose.py", line 14, in get_urls
>    filedoc = xml.dom.minidom.parse(xmlfile)
>
>  File "/usr/lib/python2.3/site-packages/_xmlplus/dom/minidom.py", line 
> 1908, in parse
>    return expatbuilder.parse(file)
>
> AttributeError: 'module' object has no attribute 'parse'
>
> ----- END OUTPUT -----
>
> If anyone can clue me in on why this is happening that would be great!
>
> Dan Olsen
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20041223/28dc98e4/attachment-0001.html
From craig.warren at encorp.com  Thu Dec 23 13:18:58 2004
From: craig.warren at encorp.com (Craig Warren)
Date: Thu Dec 23 13:19:03 2004
Subject: [mod_python] DefaultHandler and DirectoryIndex
Message-ID: <1103825938.4445.16.camel@lapbob>


I have been using mod_python for a few months now, and it is working
great.  

I was wondering if there is a way to call a default handler and/or a
DirectoryIndex handler?

I have few directories that I have set the handler to mod_python and
every request that comes in, goes through my handler.  I do this because
I pass the request through a "authentication" handler (mod_webauth)
first (it looks at a cookie that I set when the user logs in) and if not
valid then redirects them to a login page, if not it passes the request
to either mod_python.psp or for now to another handler that I wrote that
just servers up the file (mod_webauth.default)
Here is my configuration below

<Directory ~  "^/var/www/html/(main|admin|webapi)">
      SetHandler mod_python 
      PythonHandler mod_webauth.authen mod_python.psp|.psp
      PythonHandler mod_webauth.authen mod_python.publisher|.py
      PythonHandler mod_webauth.authen mod_webauth.default 
      PythonDebug On
      PythonOption PSPDbmCache "/tmp/pspcache.dbm"	  
      PythonOption  ApplicationPath '/'
      PythonOption DBPath '/tmp/authen.db'
</Directory> 



If I didn't have the mod_webauth.default the request never gets server. 
If the user goes to the directory, my default handler could return a
directory listing, but if there is a way to call the DirectoryIndex
handler after it goes through my mod_webauth.authen handler, then I
wouldn't have to write the code, same thing for serving all other files,
like png's,gif's,css's...I would like to call Apache's default handler.

Is there any way to do that?  I have looked around and haven't seen any
handlers or ways do call other handlers after I call my handler.

I really like how you the request go through multiple handlers!

Thanks,
Craig 



-- 
Craig Warren
Senior Programmer	
Encorp
craig.warren@encorp.com
From mamading at gmail.com  Fri Dec 24 20:49:47 2004
From: mamading at gmail.com (Mamading Ceesay)
Date: Fri Dec 24 20:49:50 2004
Subject: [mod_python] Calling Experienced UK-based mod_python/PostgreSQL Web
	Developers
Message-ID: <57a9359704122417491096d83c@mail.gmail.com>

Merry Christmas folks,

I'm looking to hear from experienced UK-based mod_python/PostgreSQL
web developers to work alongside myself as part of a team on a project
in the New Year.  We'll be looking to pay a negotiated rate to
suitable developers as well as a share of future revenues generated as
a result of the project:

We are looking for developers with the following profile:
* solid experience of building high-performance, scalable
mod_python/PostgreSQL-based web applications required
* excellent PostgreSQL database design and development skills required
* high level of Python programming proficiency required
* expertise in production-level mod_python web applications required
* ability to review existing codebase, architecture and database
schemas required
* familiarity with pyunit/doctest highly desired
* experience of Clearsilver templating desired

Please contact me directly offlist with a copy of your CV and details
of your availability.

We are not in a position to provide visas/permits, so EU residents only please.

Regards,
Mamading Ceesay
From jason at jasonpratt.org  Sun Dec 26 06:51:18 2004
From: jason at jasonpratt.org (Jason Pratt)
Date: Sun Dec 26 06:46:40 2004
Subject: [mod_python] psp.parsestring() hangs httpd
Message-ID: <6.1.2.0.0.20041226061341.01ba7730@mail.messagingengine.com>


Hello.  I'm new to the list.

I'm experiencing a problem where calling psp.parsestring() will hang the 
httpd process every time it's called, with any string whatsoever.  I'm not 
using psp as a handler; I have my own custom handler and am simply calling 
psp.parsestring( myString ).  psp.parse( filename ), where filename is the 
path to a file containing the exact same text as myString, works 
perfectly.  After the hang, the httpd process that handled this request 
sits at about 30% cpu usage, and no appreciable memory gain.  It doesn't 
respond to SIGTERM.  I have to kill -9 it.

To be clear, this works:

def handler( req=None ):
         req.content_type = "text/html"
         file = open( "/tmp/test.psp", "w" )
         file.write( "Hello World" )
         file.close()
         exec psp.parse( "/tmp/test.psp" )
         return apache.OK

and this hangs:

def handler( req=None ):
         req.content_type = "text/html"
         exec psp.parsestring( "Hello World" )
         return apache.OK

I dug around in the code, and didn't see any obvious potential infinite 
loops.  I can only guess that something's going wrong in the scanner or parser.

Relevant system details:
httpd-2.0.51-2.7
python-2.3.3-6
mod_python-3.1.3-1.fc2.1


Any ideas?


___________________________
Jason Pratt
jason@jasonpratt.org

From grisha at modpython.org  Mon Dec 27 13:58:25 2004
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Mon Dec 27 13:58:32 2004
Subject: [mod_python] psp.parsestring() hangs httpd
In-Reply-To: <6.1.2.0.0.20041226061341.01ba7730@mail.messagingengine.com>
References: <6.1.2.0.0.20041226061341.01ba7730@mail.messagingengine.com>
Message-ID: <20041227135725.R7848@grisha.dyndns.org>



On Sun, 26 Dec 2004, Jason Pratt wrote:

> def handler( req=None ):
>        req.content_type = "text/html"
>        exec psp.parsestring( "Hello World" )
>        return apache.OK
>

I wonder if it insists on a newline at the end. That'd still make it a 
bug, of course.

Grisha
From jason at jasonpratt.org  Mon Dec 27 16:59:41 2004
From: jason at jasonpratt.org (Jason Pratt)
Date: Mon Dec 27 17:08:15 2004
Subject: [mod_python] psp.parsestring() hangs httpd
In-Reply-To: <20041227135725.R7848@grisha.dyndns.org>
References: <6.1.2.0.0.20041226061341.01ba7730@mail.messagingengine.com>
	<20041227135725.R7848@grisha.dyndns.org>
Message-ID: <6.1.1.1.0.20041227151932.01ba3008@mail.messagingengine.com>

At 12/27/2004 01:58 PM, Gregory (Grisha) Trubetskoy wrote:

>On Sun, 26 Dec 2004, Jason Pratt wrote:
>
>>def handler( req=None ):
>>        req.content_type = "text/html"
>>        exec psp.parsestring( "Hello World" )
>>        return apache.OK
>
>I wonder if it insists on a newline at the end. That'd still make it a 
>bug, of course.


Good thought, but that doesn't seem to be it.  I tried a bunch of crazy 
stuff like \n, \r\n, \000, and full length documents.  None of it works.

I learned some more, though.  The process is not actually hanging in 
parsestring().  parsestring() actually returns the correct code (and 
identical to what parse() returns).  The process hangs when exec is 
called.  The one exception is if you pass an empty string to parsestring(), 
in which case the httpd process dies immediately rather than hanging.  And 
that actually does happen in parsestring().

You can put additional code before the exec and that code will run 
(including a time.sleep(), so it's not a time-delayed reaction).  You can 
omit the exec and the process still hangs, so it's not as if the generated 
code is bad.  At first I thought it was dying as soon as control was 
getting back to apache (i.e. it died in exec because req.write() was being 
called).  Remarkably, though, it dies whenever any code is execed.  It 
hangs on exec "x = 1 + 1".  This doesn't make any sense to me.


I've got to believe that something in _psp_module_parsestring() is writing 
to memory it shouldn't, or leaving something behind that it shouldn't, but 
the code looks correct.  I'm guessing the empty string problem may be 
because the "code = PyString_FromString(parser->pycode.blob);" line isn't 
wrapped in a check as it is in _psp_module_parse().  But that doesn't 
explain the hanging problem.



___________________________
Jason Pratt
jason@jasonpratt.org


From jbward at berkeley.edu  Wed Dec 29 01:38:59 2004
From: jbward at berkeley.edu (John Ward)
Date: Wed Dec 29 01:39:06 2004
Subject: [mod_python] Newbie Publisher Handler questions
Message-ID: <521C6E5D-5964-11D9-A6F9-000393798102@berkeley.edu>

Hi,

I'm just getting starting with mod_python and I have a few questions.  
First of all, mod_python seems like a wonderful package so I'd like to 
thank Gregory (Grisha) Trubetskoy (and other contributors) for writing 
it.  I'm looking forward to doing more with it.

In particular, I'd like to learn how to use the Publisher Handler to 
handle certain tasks that I used to handle using 'old school' CGI 
techniques.

In the online manual in section 3.1, A Quick Start with the Publisher 
Handler (http://www.modpython.org/live/current/doc-html/tut-pub.html), 
there's an example of how to process form data and send it in an email 
message.   If I were doing this the traditional CGI way, I'd probably 
do the following:
1) For security reasons, I'd limit the path available to the CGI script 
(e.g., os.environ['PATH'] = '/bin:/usr/bin')
2) I'd try to sanitize the form input in some way, probably using a 
regular expression.
3) I'd then open a pipe to sendmail (or another MTA) and add the 
message to the mail queue.  I've found that adding messages to the mail 
queue (as opposed to immediately sending messages) causes CGI scripts 
to run much faster.

Here are my questions:
1. With mod_python, do I no longer have to worry about limiting the 
path available to the script?  (I do my best to maintain an appropriate 
level of paranoia, so one thing I'd like to learn is what security 
mod_python handles for me and what security I need to write into my 
scripts.)
2. How do mod_python programmers typically handle sanitizing form input?
3. Assuming one has an SMTP server listening on localhost, what is the 
recommended way to add messages to the mail queue?
4. When writing CGI scripts in Perl using CGI.pm, one has the option of 
limiting the size of POSTs by setting a value for the '$MAX_POST' 
variable.  Is there a way to do this using mod_python?  Or is this even 
something I need to worry about?

Any thoughts or feedback would greatly appreciated.

Thanks.

John


Below is a simplified 'old school' CGI script that processes an HTML 
form.  Though I'm not a CGI expert, this script shows what I'm trying 
to do.

### 'Old School' Python CGI Script ###

        1 #!/usr/bin/python
        2
        3 # Import the necessary modules.
        4 import cgi, re, os
        5
        6 # For security reasons, limit the path available to this 
script.
        7 os.environ['PATH'] = '/bin:/usr/bin'
        8
        9 # Define and compile a regular expression that we can use to 
remove potentially dangerous characters.
      10 # To allow for names, addresses, telephone numbers, and email 
addresses, we need to allow numbers,
      11 # underscores, letters, spaces, periods, the @ character, and 
hyphens. The regular expression
      12 # below matches characters that are *not* in our list of 
allowed characters.
      13 charpat = re.compile(r'[^\w\s.@-]')
      14
      15 # The function below makes use of the regular expression 
defined above.  It takes a value
      16 # as an argument and uses the re module's sub method to replace 
special characters with empty strings.
      17 # It returns a 'sanitized' version of the original value.
      18 def sanitize(value):
      19    sanitized = charpat.sub("",value)
      20    return sanitized
      21
      22 # Function to display HTML if the web user submits the form 
successfully.
      23 def success():
      24    print '''Content-type: text/html\n\n
      25 <html>
      26 <head>
      27 <title>Thank you!</title>
      28 </head>
      29 <body>
      30 <h1>Thank You!</h1>
      31 <p>Thank you for submitting your form.</p>
      32 </body>
      33 </html>'''
      34
      35 # The mail function below starts by opening a pipe to sendmail 
for writing. (Note: The options passed
      36 # to sendmail are specific to the Sendmail MTA. The -t option 
tells sendmail to look for the 'To:'
      38 # and 'Subject:' headers in the text of the message.  This 
enables us to avoid passing this information
      38 # through the shell. The -i tells sendmail to ignore the '.' 
character if it appears on its own line in the
      39 # body of the message.  The -odq tells sendmail to add the 
message to the mail queue, as opposed to sending
      40 # the message immediately. I've found that queuing messages 
makes CGI scripts run *much* faster.)
      41 def mail(message):
      42    m = os.popen('/usr/sbin/sendmail -t -i -odq', 'w')
      43    print >> m, 'To: webmaster@example.com'
      44    print >> m, 'Subject: Information submitted by Web User\n'
      45    print >> m, message
      46    m.close()
      47
      48 # End of function definitions
      49
      50
      51 # Take in information entered by the web user and create a 
FieldStorage object.
      52 f = cgi.FieldStorage()
      53
      54 # Display HTML to the web user to show that the form submission 
was successful.
      55 success()
      56
      57 # Sanitize user input and store it as a list in 'info'.
      58 info = [sanitize(f[i].value) for i in f.keys()]
      59
      60 # Mail the list stored in 'info' to the selected recipient.
      61 mail(info)
      62
      63 # End of script

From list at joreybump.com  Wed Dec 29 11:20:56 2004
From: list at joreybump.com (Jorey Bump)
Date: Wed Dec 29 11:20:59 2004
Subject: [mod_python] Newbie Publisher Handler questions
In-Reply-To: <521C6E5D-5964-11D9-A6F9-000393798102@berkeley.edu>
References: <521C6E5D-5964-11D9-A6F9-000393798102@berkeley.edu>
Message-ID: <41D2D968.6050703@joreybump.com>

John Ward wrote:

> 1. With mod_python, do I no longer have to worry about limiting the path 
> available to the script?  (I do my best to maintain an appropriate level 
> of paranoia, so one thing I'd like to learn is what security mod_python 
> handles for me and what security I need to write into my scripts.)

Frankly, I'd leave the path alone. Depending on your environment, it 
could affect other users or applications. For example, if I set the 
environment path using mod_python in a virtual host, it also changes the 
path for perl CGI scripts, where the correct path is more likely to 
matter. It may seem fine in an environment you control, but makes your 
application less portable. If you must use popen, set up a variable that 
contains the complete path to your binary,  and change that when you 
deploy it somewhere else. With that said, your mod_python applications 
will have the same rights as the apache user, so plan accordingly.

For mod_python newbies, here's a simple module to show your path, using 
the publisher handler:

# path.py
import os
	
def show(req):
	# uncomment to set path
         # os.environ['PATH'] = '/usr/bin:/bin'
         return os.environ['PATH']

Access it via http://host/path.py/show

> 2. How do mod_python programmers typically handle sanitizing form input?

For me, this depends on the intended use of the data, and also partly on 
the version of python. For simple validation, I might turn the input 
into a list and check the members for illegal characters. The sets 
module introduced in python 2.3 is now a built-in in 2.4, making this a 
trivial task. But if your application might run under older versions of 
python, you'll have to use something a bit more universal.

For database input, I use placeholders, somewhere along these lines:

     query = """INSERT INTO users ( name, quest ) VALUES ( %s, %s )"""
     cursor = dbh.cursor()
     cursor.execute(query, (req.formdata['name'], req.formdata['quest']))

Note that this is *not* typical python string replacement. This 
construct allows you to send any VALUE string to the database, with 
necessary escapes inserted behind the scenes. It's very handy. You are 
encouraged to find out more about python and placeholders for your db 
and test it on your platform (I found a lot of misleading info, but the 
form above works best for me when using MySQLdb).

> 3. Assuming one has an SMTP server listening on localhost, what is the 
> recommended way to add messages to the mail queue?

I prefer smtplib because it's portable, powerful, and offers excellent 
error handling. Of course, if you want the message queued instead of 
sent immediately, you'll need to configure your SMTP daemon to do so. 
You could do this for the MSA on port 587 to avoid running a separate 
instance.

> 4. When writing CGI scripts in Perl using CGI.pm, one has the option of 
> limiting the size of POSTs by setting a value for the '$MAX_POST' 
> variable.  Is there a way to do this using mod_python?  Or is this even 
> something I need to worry about?

I haven't run into a need for this, but I do have some textarea form 
inputs that I'm concerned about, so I'd be interested if this is 
possible, as well.


From craig.warren at encorp.com  Wed Dec 29 14:29:13 2004
From: craig.warren at encorp.com (Craig Warren)
Date: Wed Dec 29 14:29:18 2004
Subject: [mod_python] Python2.4 and expat Info
Message-ID: <1104348552.7095.18.camel@lapbob>

We just moved to python2.4 and discovered a problem with posting XML
data.  If you posted XML data to a handler, you would get a Segmentation
fault(11).  Turns out that our expat library was not correct.
Error happened with expat 1.95.7
and we upgraded to 
expat-1.95.8-4
and it fixed the problem.


-- 
Craig Warren
Senior Programmer	
Encorp
craig.warren@encorp.com
From dr.martinson at gmail.com  Thu Dec 30 08:30:59 2004
From: dr.martinson at gmail.com (Jacob Martinson)
Date: Thu Dec 30 08:31:01 2004
Subject: [mod_python] Problem getting mptest.py to work
Message-ID: <ca7c5080412300530dea3445@mail.gmail.com>

Hello All,

I'm not a python or apache expert but have set up modpython versions 2
and 3 in the past with varying degrees of success...

mptest.py is generating the "Hello World" message, but apache is
sending a file named "mptest.py" with "hello world" in it, rather than
sending it in a form where the browser will recognize it directly.

Firefox, Internet Explorer and lynx will not display it directly, but
will offer to open it with "less".  Another text browser "links" opens
it directly.

Details of my system:

debian linux (sarge)
apache - 2.0.52 
python - 2.3.4
modpython - 3.1.3 

At the end of my apache2.conf, I have this from the install guide:

<Directory /var/www/py>
   AddHandler mod_python .py
   PythonHandler mptest
   PythonDebug On
</Directory>

The module is getting loaded from a string of config file includes,
but I'm pretty sure it is loading because I get this line in the error
log:

[Thu Dec 30 06:44:00 2004] [notice] mod_python: (Re)importing module 'mptest'

Am I missing something?

Thanks!!!

-jacob
From charlie at cknudsen.net  Thu Dec 30 20:02:36 2004
From: charlie at cknudsen.net (charlie knudsen)
Date: Thu Dec 30 20:03:50 2004
Subject: [mod_python] odd error : Invalid or incomplete multibyte or wide
	character
Message-ID: <200412301902.37362.charlie@cknudsen.net>

I have mod_python 2.7.10 running with python 2.3.4 and am getting an odd
error.??The?error?is?happening?on?the?production?machine,?and?not?on?my
development machine.

I am using the publisher handler and am calling the index function with this
code:
----------------------------------
from mod_python import apache
import random

def index(req):
????return?"hello?world"
--------------------------------------
I am getting the following error sent to the browser (with debugging on):
----------------------------------------
?Mod_python error: "PythonHandler mod_python.publisher"

Traceback (most recent call last):

  File "/usr/local/python/lib/python2.3/site-packages/mod_python/apache.py", 
line 193, in Dispatch
    result = object(req)

  File 
"/usr/local/python/lib/python2.3/site-packages/mod_python/publisher.py", line 
130, in handler
    module = apache.import_module(module_name, _req, [path])

  File "/usr/local/python/lib/python2.3/site-packages/mod_python/apache.py", 
line 335, in import_module
    module = imp.load_module(mname, f, p, d)

  File "/var/www/html/test.py", line 2, in ?
    import random

  File "/usr/local/python/lib/python2.3/random.py", line 54, in ?
    LOG4 = _log(4.0)

ValueError: (84, 'Invalid or incomplete multibyte or wide character')
------------------------------------------------

Does anybody know what may cause this???I?have?searched?the?error?via?google
and have little success.??I?am?thinking?it?is?some?sort?of?encoding?error, but 
I don't know why this is only happening in production.  I have tried to use 
the random.py file that is on my development machine, but this did not change 
anything.

Note that this error is only occuring when I import the random module, and
if I comment that out everything works fine.??However?I?need?the?random
module for some of my other code, and used this as a minimal example.

Also I am able to "import random" on the python command line with no problems.

I don't know if it matters but I am running:
apache 1.3.27
redhat 7.2

Thanks,

Charlie

From dr.martinson at gmail.com  Fri Dec 31 00:41:09 2004
From: dr.martinson at gmail.com (Jacob Martinson)
Date: Fri Dec 31 00:41:12 2004
Subject: [mod_python] Problem getting mptest.py to work
In-Reply-To: <BB8ADDF8-5A6A-11D9-8E7F-000393A6AE96@banta-im.com>
References: <ca7c5080412300530dea3445@mail.gmail.com>
	<BB8ADDF8-5A6A-11D9-8E7F-000393A6AE96@banta-im.com>
Message-ID: <ca7c50804123021417c458dc5@mail.gmail.com>

I copied & paisted from the manual...

root@batman:/var/www/py
$ cat mptest.py 
from mod_python import apache

def handler(req):
    req.write("Hello World!")
    return apache.OK
root@batman:/var/www/py
$ ls -lh mptest.py 
-rwxr-xr-x  1 root root 100 2004-12-30 06:10 mptest.py


On Thu, 30 Dec 2004 08:57:24 -0500, Matthew Krom <mkrom@banta-im.com> wrote:
> I had a similar problem yesterday -- Apache was displaying the source
> of the file when I asked for it (sounds similar to your symptom).
> 
> The cause in my case was that my py file (mptest.py in your case) did
> not have a method "def handler(req):".  In my case, I mis-spelled it as
> "def handle(req)".
> 
> Perhaps if mod_python cannot find a handler method, it gives up, and
> Apache takes over and just serves the source file?
> 
> Matt
> 
> 
> > Hello All,
> >
> > I'm not a python or apache expert but have set up modpython versions 2
> > and 3 in the past with varying degrees of success...
> >
> > mptest.py is generating the "Hello World" message, but apache is
> > sending a file named "mptest.py" with "hello world" in it, rather than
> > sending it in a form where the browser will recognize it directly.
> >
> > Firefox, Internet Explorer and lynx will not display it directly, but
> > will offer to open it with "less".  Another text browser "links" opens
> > it directly.
> >
> > Details of my system:
> >
> > debian linux (sarge)
> > apache - 2.0.52
> > python - 2.3.4
> > modpython - 3.1.3
> >
> > At the end of my apache2.conf, I have this from the install guide:
> >
> > <Directory /var/www/py>
> >    AddHandler mod_python .py
> >    PythonHandler mptest
> >    PythonDebug On
> > </Directory>
> >
> > The module is getting loaded from a string of config file includes,
> > but I'm pretty sure it is loading because I get this line in the error
> > log:
> >
> > [Thu Dec 30 06:44:00 2004] [notice] mod_python: (Re)importing module
> > 'mptest'
> >
> > Am I missing something?
> >
> > Thanks!!!
> >
> > -jacob
> > _______________________________________________
> > Mod_python mailing list
> > Mod_python@modpython.org
> > http://mailman.modpython.org/mailman/listinfo/mod_python
> >
> 
>
