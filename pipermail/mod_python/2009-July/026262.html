<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Question about write method of mp_request objects
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Question%20about%20write%20method%20of%20mp_request%20objects&In-Reply-To=ae29905b0907161725m1c9bd22dp79a40f71e66d612e%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026261.html">
   <LINK REL="Next"  HREF="026263.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Question about write method of mp_request objects</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Question%20about%20write%20method%20of%20mp_request%20objects&In-Reply-To=ae29905b0907161725m1c9bd22dp79a40f71e66d612e%40mail.gmail.com"
       TITLE="[mod_python] Question about write method of mp_request objects">graham.dumpleton at gmail.com
       </A><BR>
    <I>Thu Jul 16 20:49:03 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="026261.html">[mod_python] Question about write method of mp_request objects
</A></li>
        <LI>Next message: <A HREF="026263.html">[mod_python] Windows Binaries for Python 2.6
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26262">[ date ]</a>
              <a href="thread.html#26262">[ thread ]</a>
              <a href="subject.html#26262">[ subject ]</a>
              <a href="author.html#26262">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2009/7/17 Evan Klitzke &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">evan at eklitzke.org</A>&gt;:
&gt;<i> Hi all,
</I>&gt;<i>
</I>&gt;<i> I've been profiling a mod_python app using cProfile. In the cProfile
</I>&gt;<i> data, I'm noticing that on some slow requests the write() method on
</I>&gt;<i> the mp_request object is taking up a lot of time.
</I>&gt;<i>
</I>&gt;<i> My question is: does the write() method actually include the time sent
</I>&gt;<i> sending data over the wire to the client, or is it just some sort of
</I>&gt;<i> memory copy into the request object, which gets flushed and sent to
</I>&gt;<i> the client further down the line? If the write() method takes a long
</I>&gt;<i> amount of time to send a reasonable amount of data, does it indicate
</I>&gt;<i> that something weird is going on in mod_python, or just that the
</I>&gt;<i> consuming client is slow?
</I>
It depends a bit on what Apache output filters are registered and how
write() is called. By default write() will automatically attempt to
flush data. So if argument not supplied to say don't flush, then yes,
would count time to send data.

That said, some output filters may buffer output data for some reason
and so flush request would be ignored. If no such buffering output
filters are registered for the request, then it will make it down to
the core output filter and would only return once all data is written
or socket error occurs.

Graham
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026261.html">[mod_python] Question about write method of mp_request objects
</A></li>
	<LI>Next message: <A HREF="026263.html">[mod_python] Windows Binaries for Python 2.6
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26262">[ date ]</a>
              <a href="thread.html#26262">[ thread ]</a>
              <a href="subject.html#26262">[ subject ]</a>
              <a href="author.html#26262">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
