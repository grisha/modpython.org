<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] _ssl module not found with mod_python
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20_ssl%20module%20not%20found%20with%20mod_python&In-Reply-To=4A4D00C2.8040602%40mapgears.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026253.html">
   <LINK REL="Next"  HREF="026255.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] _ssl module not found with mod_python</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20_ssl%20module%20not%20found%20with%20mod_python&In-Reply-To=4A4D00C2.8040602%40mapgears.com"
       TITLE="[mod_python] _ssl module not found with mod_python">graham.dumpleton at gmail.com
       </A><BR>
    <I>Thu Jul  2 18:44:45 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="026253.html">[mod_python] _ssl module not found with mod_python
</A></li>
        <LI>Next message: <A HREF="026255.html">[mod_python] python apache help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26254">[ date ]</a>
              <a href="thread.html#26254">[ thread ]</a>
              <a href="subject.html#26254">[ subject ]</a>
              <a href="author.html#26254">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The version of SSL library which Python ssl module is linking with is
different to that which Apache is linking with, or which Apache has
compiled into it. Apache would need to be rebuilt with the --with-ssl
option to configure to reference same installed version of SSL
libraries.

Graham

2009/7/3 Normand Savard &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">nsavard at mapgears.com</A>&gt;:
&gt;<i> I'm having an issue with the ssl module when mod_python is loaded. &#160;I try to
</I>&gt;<i> import ssl and got a &quot;No module named _ssl&quot; error (see below for the
</I>&gt;<i> complete error output). &#160;I have an Apache conf file and a Python script that
</I>&gt;<i> is presented below. &#160;When I use Python through the CGI, I'm able to import
</I>&gt;<i> ssl with no error (see the Apache conf file and script used down below) as
</I>&gt;<i> well as when I import the ssl module on the command line.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Does someone have a hint of what maybe the problem?
</I>&gt;<i>
</I>&gt;<i> Thanks.
</I>&gt;<i>
</I>&gt;<i> Norm
</I>&gt;<i>
</I>&gt;<i> ------------------------------------
</I>&gt;<i> Python mode:
</I>&gt;<i> ------------------------------------
</I>&gt;<i> Apache conf file:
</I>&gt;<i> LoadModule python_module libexec/mod_python.so
</I>&gt;<i>
</I>&gt;<i> Alias /test &quot;/home/nsavard/fgsmodpython2/www/htdocs/test&quot;
</I>&gt;<i>
</I>&gt;<i> &lt;Directory /home/nsavard/fgsmodpython2/www/htdocs/test&gt;
</I>&gt;<i> &#160;AddHandler python-program .py
</I>&gt;<i> &#160;PythonHandler http-proxy
</I>&gt;<i> &#160;PythonDebug On
</I>&gt;<i> &lt;/Directory&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The script is:
</I>&gt;<i> import os
</I>&gt;<i> from mod_python import apache
</I>&gt;<i> import ssl
</I>&gt;<i>
</I>&gt;<i> def handler(req):
</I>&gt;<i> &#160;req.content_type = &quot;text/plain&quot;
</I>&gt;<i> &#160;req.send_http_header()
</I>&gt;<i> &#160;req.write(&quot;Proxy Hello World!&quot;)
</I>&gt;<i> &#160;req.write('pythonhome &#160; =&gt; %s' % os.getenv('PYTHONHOME'))
</I>&gt;<i> &#160;req.write('pythonpath &#160; =&gt; %s' % os.getenv('PYTHONPATH'))
</I>&gt;<i> &#160;return apache.OK
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The error is:
</I>&gt;<i>
</I>&gt;<i> MOD_PYTHON ERROR
</I>&gt;<i>
</I>&gt;<i> ProcessId: &#160; &#160; &#160;30036
</I>&gt;<i> Interpreter: &#160; &#160;'localhost'
</I>&gt;<i>
</I>&gt;<i> ServerName: &#160; &#160; 'localhost'
</I>&gt;<i> DocumentRoot: &#160; '/home/nsavard/fgsmodpython2/www/htdocs'
</I>&gt;<i>
</I>&gt;<i> URI: &#160; &#160; &#160; &#160; &#160; &#160;'/test/http-proxy.py'
</I>&gt;<i> Location: &#160; &#160; &#160; None
</I>&gt;<i> Directory: &#160; &#160; &#160;'/home/nsavard/fgsmodpython2/www/htdocs/test/'
</I>&gt;<i> Filename: &#160; &#160; &#160; '/home/nsavard/fgsmodpython2/www/htdocs/test/http-proxy.py'
</I>&gt;<i> PathInfo: &#160; &#160; &#160; ''
</I>&gt;<i>
</I>&gt;<i> Phase: &#160; &#160; &#160; &#160; &#160;'PythonHandler'
</I>&gt;<i> Handler: &#160; &#160; &#160; &#160;'http-proxy'
</I>&gt;<i>
</I>&gt;<i> Traceback (most recent call last):
</I>&gt;<i>
</I>&gt;<i> &#160;File
</I>&gt;<i> &quot;/home/nsavard/fgsmodpython2/lib/python2.6/site-packages/mod_python/importer.py&quot;,
</I>&gt;<i> line 1537, in HandlerDispatch
</I>&gt;<i> &#160; default=default_handler, arg=req, silent=hlist.silent)
</I>&gt;<i>
</I>&gt;<i> &#160;File
</I>&gt;<i> &quot;/home/nsavard/fgsmodpython2/lib/python2.6/site-packages/mod_python/importer.py&quot;,
</I>&gt;<i> line 1202, in _process_target
</I>&gt;<i> &#160; module = import_module(module_name, path=path)
</I>&gt;<i>
</I>&gt;<i> &#160;File
</I>&gt;<i> &quot;/home/nsavard/fgsmodpython2/lib/python2.6/site-packages/mod_python/importer.py&quot;,
</I>&gt;<i> line 296, in import_module
</I>&gt;<i> &#160; log, import_path)
</I>&gt;<i>
</I>&gt;<i> &#160;File
</I>&gt;<i> &quot;/home/nsavard/fgsmodpython2/lib/python2.6/site-packages/mod_python/importer.py&quot;,
</I>&gt;<i> line 680, in import_module
</I>&gt;<i> &#160; execfile(file, module.__dict__)
</I>&gt;<i>
</I>&gt;<i> &#160;File &quot;/home/nsavard/fgsmodpython2/www/htdocs/test/http-proxy.py&quot;, line 6,
</I>&gt;<i> in &lt;module&gt;
</I>&gt;<i> &#160; import ssl
</I>&gt;<i>
</I>&gt;<i> &#160;File &quot;/home/nsavard/fgsmodpython2/lib/python2.6/ssl.py&quot;, line 60, in
</I>&gt;<i> &lt;module&gt;
</I>&gt;<i> &#160; import _ssl &#160; &#160; &#160; &#160; &#160; &#160; # if we can't import it, let the error propagate
</I>&gt;<i>
</I>&gt;<i> ImportError: No module named _ssl
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> MODULE CACHE DETAILS
</I>&gt;<i>
</I>&gt;<i> Accessed: &#160; &#160; &#160; Thu Jul &#160;2 14:31:48 2009
</I>&gt;<i> Generation: &#160; &#160; 0
</I>&gt;<i>
</I>&gt;<i> _mp_dcbd4ef7bb04377d9cde8848becdadc4 {
</I>&gt;<i> &#160;FileName: &#160; &#160; '/home/nsavard/fgsmodpython2/www/htdocs/test/http-proxy.py'
</I>&gt;<i> &#160;Instance: &#160; &#160; 1 [IMPORT]
</I>&gt;<i> &#160;Generation: &#160; 0 [ERROR]
</I>&gt;<i> &#160;Modified: &#160; &#160; Tue Jun 30 16:12:23 2009
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -----------------------------------------------
</I>&gt;<i> CGI mode
</I>&gt;<i> ----------------------------------------------
</I>&gt;<i> The Apache conf file:
</I>&gt;<i> Alias /test &quot;/home/nsavard/fgsmodpython2/www/htdocs/test&quot;
</I>&gt;<i>
</I>&gt;<i> &lt;Directory &quot;/home/nsavard/fgsmodpython2/www/htdocs/test&quot;&gt;
</I>&gt;<i> &#160;AllowOverride None
</I>&gt;<i> &#160;Options Indexes FollowSymLinks Multiviews ExecCGI
</I>&gt;<i> &#160;Order allow,deny
</I>&gt;<i> &#160;Allow from all
</I>&gt;<i> &lt;/Directory&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> AddHandler cgi-script .py
</I>&gt;<i>
</I>&gt;<i> The Python script is:
</I>&gt;<i> #!/home/nsavard/fgsmodpython2/bin/python
</I>&gt;<i> print &quot;Content-type: text/html&quot;
</I>&gt;<i> print
</I>&gt;<i> print &quot;hello4&quot;
</I>&gt;<i>
</I>&gt;<i> import ssl
</I>&gt;<i>
</I>&gt;<i> print &quot;hello5&quot;
</I>&gt;<i>
</I>&gt;<i> I
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026253.html">[mod_python] _ssl module not found with mod_python
</A></li>
	<LI>Next message: <A HREF="026255.html">[mod_python] python apache help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26254">[ date ]</a>
              <a href="thread.html#26254">[ thread ]</a>
              <a href="subject.html#26254">[ subject ]</a>
              <a href="author.html#26254">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
