<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] python_handler: Can't get/create interpreter
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20python_handler%3A%20Can%27t%20get/create%20interpreter&In-Reply-To=7a0ebdbc0902261124r6871342du86ced8efb9c83e3a%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026037.html">
   <LINK REL="Next"  HREF="026039.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] python_handler: Can't get/create interpreter</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20python_handler%3A%20Can%27t%20get/create%20interpreter&In-Reply-To=7a0ebdbc0902261124r6871342du86ced8efb9c83e3a%40mail.gmail.com"
       TITLE="[mod_python] python_handler: Can't get/create interpreter">graham.dumpleton at gmail.com
       </A><BR>
    <I>Thu Feb 26 17:04:11 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="026037.html">[mod_python] python_handler: Can't get/create interpreter
</A></li>
        <LI>Next message: <A HREF="026039.html">[mod_python] python_handler: Can't get/create interpreter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26038">[ date ]</a>
              <a href="thread.html#26038">[ thread ]</a>
              <a href="subject.html#26038">[ subject ]</a>
              <a href="author.html#26038">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2009/2/27 Fred &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">dofre1680 at gmail.com</A>&gt;:
&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> maybe i have a bad mod_python install on a RHEL 4.5.
</I>&gt;<i>
</I>&gt;<i> I compile apache, mod_python and python, and install all&#160; inside /freeware
</I>&gt;<i> (it's a customer need).
</I>&gt;<i> - /freeware/python-2.5.4/
</I>&gt;<i> - /freeware/apache-2.2.6/
</I>&gt;<i> When run, apache use a linux user call &quot;web&quot;.
</I>&gt;<i>
</I>&gt;<i> Version :
</I>&gt;<i> - apache 2.2.6
</I>&gt;<i> - mod_python 3.3.1
</I>&gt;<i> - python 2.5.1 (and test with the last 2.5.4)
</I>&gt;<i>
</I>&gt;<i> I try this example ( because i have some error with the Pylons application
</I>&gt;<i> that i have to install) :
</I>&gt;<i> <A HREF="http://www.modpython.org/live/current/doc-html/inst-testing.html">http://www.modpython.org/live/current/doc-html/inst-testing.html</A>
</I>&gt;<i>
</I>&gt;<i> When i try to access&#160; to <A HREF="http://server/test/mptest.py">http://server/test/mptest.py</A> i have a 500 server
</I>&gt;<i> error.
</I>&gt;<i>
</I>&gt;<i> When i look at log i have (for each request) :
</I>&gt;<i> [Thu Feb 26 19:46:29 2009] [error] [client X.X.X.X] python_handler: Can't
</I>&gt;<i> get/create interpreter
</I>
Most likely because you have multiple versions of Python installed in
different root locations and when mod_python tries to initialise the
Python interpreter it is finding the root directory for the wrong one
and so cannot find the installed files for the correct one.

&gt;<i> this the only message inside error log....
</I>&gt;<i>
</I>&gt;<i> I try to re compil apache mod_python and python but i don't find any
</I>&gt;<i> solution.
</I>&gt;<i>
</I>&gt;<i> I try the same thing with a distribution packages (python, mod_python and
</I>&gt;<i> apache) install on ubuntu hardy and it's works.... (just to say that i'm not
</I>&gt;<i> too stupid)!
</I>&gt;<i>
</I>&gt;<i> I have nos idea... this my virtual host apache.conf content include inside
</I>&gt;<i> the main conf file :
</I>&gt;<i> &lt;VirtualHost *:80&gt;
</I>&gt;<i> &#160;&#160;&#160; ServerAdmin <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">webmaster at dummy-host.example.com</A>
</I>&gt;<i> &#160;&#160;&#160; DocumentRoot &quot;/dataweb/sws&quot;
</I>&gt;<i> &#160;&#160;&#160; ServerName dns
</I>&gt;<i> &#160;&#160;&#160; ErrorLog &quot;/dataweb/sws/logs/sws-error_log&quot;
</I>&gt;<i> &#160;&#160;&#160; CustomLog &quot;/dataweb/sws/logs/sws-access_log&quot; common
</I>&gt;<i>
</I>&gt;<i> &lt;Directory /dataweb/sws/test&gt;
</I>&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;&#160; Options None
</I>&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;&#160; AllowOverride None
</I>&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;&#160; Order allow,deny
</I>&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;&#160; Allow from all
</I>&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;&#160; AddHandler mod_python .py
</I>&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;&#160; PythonHandler mptest
</I>&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;&#160; PythonDebug On
</I>&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;&#160; #PythonPath &quot;sys.path+['/freeware/python-2.5.4/bin']&quot;
</I>
There is no reason you would want to add the 'bin' directory to PythonPath.

&gt;<i> &lt;/Directory&gt;
</I>&gt;<i> SetEnv LD_LIBRARY_PATH /freeware/python-2.5.4/lib/python2.5/:/freeware/lib/
</I>
This SetEnv will do nothing for mod_python code.

&gt;<i>
</I>&gt;<i> &lt;/VirtualHost&gt;
</I>&gt;<i>
</I>&gt;<i> need help please.
</I>
Find the 'envars' file in same directory as 'httpd' for Apache which
is being used and add:

  PYTHONHOME=/freeware/python-2.5.4
  export PYTHONHOME

The file should be present if compiled Apache from source code. If you
are using a package Apache then it may not exist because they screwed
with Apache layouts. In that case you have to find the right init.d
startup file for Apache and hack it into there.

Restart Apache.

BTW, if using a web application which supports WSGI, you would be
better off using mod_wsgi. It is a bit more friendly as far as
overriding this sort of problem as one can set a directive in the
Apache configuration itself to indicate where Python is installed.
See:

  <A HREF="http://code.google.com/p/modwsgi/wiki/InstallationIssues#Multiple_Python_Versions">http://code.google.com/p/modwsgi/wiki/InstallationIssues#Multiple_Python_Versions</A>

Just don't run mod_python and mod_wsgi at the same time though else
that directive will not work as mod_python still overrides things.

Graham

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026037.html">[mod_python] python_handler: Can't get/create interpreter
</A></li>
	<LI>Next message: <A HREF="026039.html">[mod_python] python_handler: Can't get/create interpreter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26038">[ date ]</a>
              <a href="thread.html#26038">[ thread ]</a>
              <a href="subject.html#26038">[ subject ]</a>
              <a href="author.html#26038">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
