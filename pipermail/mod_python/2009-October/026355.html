<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] handler module loading/execution phases
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20handler%20module%20loading/execution%20phases&In-Reply-To=88e286470910130415k3d586e2bub7c8a5c545d1cf84%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026354.html">
   <LINK REL="Next"  HREF="026356.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] handler module loading/execution phases</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Alessandro de Manzano</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20handler%20module%20loading/execution%20phases&In-Reply-To=88e286470910130415k3d586e2bub7c8a5c545d1cf84%40mail.gmail.com"
       TITLE="[mod_python] handler module loading/execution phases">demanzano at playstos.com
       </A><BR>
    <I>Tue Oct 13 09:07:58 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="026354.html">[mod_python] handler module loading/execution phases
</A></li>
        <LI>Next message: <A HREF="026356.html">[mod_python] handler module loading/execution phases
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26355">[ date ]</a>
              <a href="thread.html#26355">[ thread ]</a>
              <a href="subject.html#26355">[ subject ]</a>
              <a href="author.html#26355">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Graham Dumpleton wrote:
&gt;<i> Apache/mod_python on UNIX is multi process and therefore requests
</I>&gt;<i> don't necessarily go back to the same process. Also, if using worker
</I>&gt;<i> MPM, that code isn't thread safe and so technically multiple threads
</I>&gt;<i> updating global variable at same time could not see it being
</I>&gt;<i> incremented as you expect.
</I>
yes, I know, but eventually I should see a non-zero value, sooner or 
later. I tested about 100 requests and they reported always dummy=0
Apache currently spawns about 10 processes max so I'm quite sure the 
same unix process do process more than one http request, do invoke more 
than one time my handler function.

&gt;<i> It is also possible for Apache processes to be recycled both at the
</I>&gt;<i> whim of Apache, but also explicitly if MaxRequestsPerChild is set to
</I>&gt;<i> be non zero in Apache configuration files.
</I>&gt;<i> 
</I>&gt;<i> BTW, if you have PythonDebug set to On, then the error logs should
</I>&gt;<i> display messages about when mod_python loads or reloads mod_python
</I>&gt;<i> handler module files.
</I>
it shows the module is &quot;correctly&quot; (re)loaded only once after file 
modified (for every apache process, of course), so it seems to me that 
already-loaded processes should maintain the value, it should simply 
invoke again the handler.
But it seems instead if totally re-evaluate (!?) the module.

Actually my dummy example was to understand apache+modpython inner 
workings, because in the real program I had to instantiate an &quot;heavy&quot; 
class (which connects to external DB, opens files, etc.) and I hoped to 
avoid to do it for each and every single request...

thanks for answers

bye


Ale


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026354.html">[mod_python] handler module loading/execution phases
</A></li>
	<LI>Next message: <A HREF="026356.html">[mod_python] handler module loading/execution phases
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26355">[ date ]</a>
              <a href="thread.html#26355">[ thread ]</a>
              <a href="subject.html#26355">[ subject ]</a>
              <a href="author.html#26355">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
