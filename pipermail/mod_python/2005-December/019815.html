<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] pickle objects
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20pickle%20objects&In-Reply-To=Pine.LNX.4.44.0512220910270.14307-100000%40oldben.llnl.gov">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019814.html">
   <LINK REL="Next"  HREF="019816.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] pickle objects</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20pickle%20objects&In-Reply-To=Pine.LNX.4.44.0512220910270.14307-100000%40oldben.llnl.gov"
       TITLE="[mod_python] pickle objects">grahamd at dscpl.com.au
       </A><BR>
    <I>Thu Dec 22 14:56:41 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="019814.html">[mod_python] pickle objects
</A></li>
        <LI>Next message: <A HREF="019816.html">[mod_python] Default funtion values - memory leak?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19815">[ date ]</a>
              <a href="thread.html#19815">[ thread ]</a>
              <a href="subject.html#19815">[ subject ]</a>
              <a href="author.html#19815">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 23/12/2005, at 4:11 AM, <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">chase3 at llnl.gov</A> wrote:

&gt;<i> Still stuck using
</I>&gt;<i> apache server is at 2.0.46; python 2.2.35 and mod_python-3.0.3-3.ent
</I>&gt;<i>
</I>&gt;<i> I am using mod_python publisher and sending data to a separate server:
</I>&gt;<i>
</I>&gt;<i> Attempted to pickle data of the following type and pass
</I>&gt;<i> it through a socket to the server:
</I>&gt;<i>
</I>&gt;<i> class Prop:
</I>&gt;<i>    def __init__ ( self, propName, propValue, propType ):
</I>&gt;<i>       self.propName = propName
</I>&gt;<i>       self.propValue = propValue
</I>&gt;<i>       self.propType = propType
</I>&gt;<i>
</I>&gt;<i> but got the following error:
</I>&gt;<i>
</I>&gt;<i> bugzi.llnl.gov:/home/chase/tracker/src[33] tracker-server.py &amp;
</I>&gt;<i> [1] 3559
</I>&gt;<i> bugzi.llnl.gov:/home/chase/tracker/src[34] Traceback (most recent  
</I>&gt;<i> call last):
</I>&gt;<i>   File &quot;tracker-server.py&quot;, line 468, in ?
</I>&gt;<i>     handleDBUpdate ( clientSocket )
</I>&gt;<i>   File &quot;tracker-server.py&quot;, line 64, in handleDBUpdate
</I>&gt;<i>     d = cPickle.load ( f )
</I>&gt;<i>   File &quot;tracker-receive.py&quot;, line 24, in ?
</I>&gt;<i>     from mod_python import apache
</I>&gt;<i>   File &quot;/usr/src/build/513032-i386/install/usr/lib/python2.2/site- 
</I>&gt;<i> packages/mod_python/apache.py&quot;, line 67, in ?
</I>&gt;<i> ImportError: No module named _apache
</I>&gt;<i>
</I>&gt;<i> I am wondering if this is connected to Graham's article on Issues with
</I>&gt;<i> Session Objects.
</I>
The question is, what were the types of the members of the instance  
of the above
class when you pickled it in the first place. The error suggests you  
tried to pickle
some data for which the class type was defined in or dependent on  
mod_python
specific modules. As a consequence, when you tried to unpickle them  
in the
separate application, it tried to load mod_python modules which isn't  
going to
work outside of mod_python running under Apache.

Graham
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019814.html">[mod_python] pickle objects
</A></li>
	<LI>Next message: <A HREF="019816.html">[mod_python] Default funtion values - memory leak?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19815">[ date ]</a>
              <a href="thread.html#19815">[ thread ]</a>
              <a href="subject.html#19815">[ subject ]</a>
              <a href="author.html#19815">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
