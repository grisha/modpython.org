<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] ImportError with https
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20ImportError%20with%20https&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019725.html">
   <LINK REL="Next"  HREF="019643.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] ImportError with https</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Richard Boardman</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20ImportError%20with%20https&In-Reply-To="
       TITLE="[mod_python] ImportError with https">richboardman at gmail.com
       </A><BR>
    <I>Thu Dec  1 05:16:43 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="019725.html">[mod_python] returning errors from python handler and
	ErrorDocument
</A></li>
        <LI>Next message: <A HREF="019643.html">[mod_python] Re: ImportError with https
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19642">[ date ]</a>
              <a href="thread.html#19642">[ thread ]</a>
              <a href="subject.html#19642">[ subject ]</a>
              <a href="author.html#19642">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Greetings,

Apologies if this has appeared twice; my other email account is having
some trouble at the moment and it would appear that this message didn't
make it to the list.

I'm having an issue with HTTPS and mod_python. If I create some python
file /var/www/foobarsite/foo.py:

   from mod_python import apache

   def handler(req):
       req.write('This is a test\n')
       return apache.OK

then having the file /var/www/foobarsite/.htaccess reading:

   AddHandler python-program .py
   PythonDebug On
   &lt;Files &quot;foo.py&quot;&gt;
     PythonHandler foo
   &lt;/Files&gt;
   &lt;Files &quot;bar.py&quot;&gt;
     PythonHandler bar
   &lt;/Files&gt;
   # etc.

then there is no problem when I visit the site through my browser with 
an HTTP prefix; as expected, the text &quot;This is a text&quot; appears in the 
browser window. My issue is this: if I access this with the <A HREF="https://...">https://...</A> 
prefix, the following error is yielded:

   Mod_python error: &quot;PythonHandler foo&quot;

   Traceback (most recent call last):

     File &quot;/usr/lib/python2.2/site-packages/mod_python/apache.py&quot;, line 
320,
   in HandlerDispatch
       module = import_module(module_name, config)

     File &quot;/usr/lib/python2.2/site-packages/mod_python/apache.py&quot;, line 
496,
   in import_module
       f, p, d = imp.find_module(parts[i], path)

   ImportError: No module named foo

To the best of my knowledge, the server on which this resides is 'fine'
with HTTPS (other people have set this up): if I create a file foo.html
with a similar text, then this works fine with https as the prefix.

Is there something obvious I'm doing wrong? From the error it seems as
though the '.' directory is not in the path (!) - mod_python (and
consequently python) appear to be executing. I've given the file
permissions and directory permissions a cursory tweak (+x, -x) but this
doesn't make a difference [granted, this is clutching at straws].

The server purports to be running Apache/2.0.52 (Unix), mod_ssl/2.0.52, 
OpenSSL/0.9.7a, mod_python/3.0.3 and Python/2.2.2.

If it's just a simple tweak needed in the .htaccess file, then that's
ideal, but all suggestions gratefully received :)

Thanks in advance,

Rich

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019725.html">[mod_python] returning errors from python handler and
	ErrorDocument
</A></li>
	<LI>Next message: <A HREF="019643.html">[mod_python] Re: ImportError with https
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19642">[ date ]</a>
              <a href="thread.html#19642">[ thread ]</a>
              <a href="subject.html#19642">[ subject ]</a>
              <a href="author.html#19642">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
