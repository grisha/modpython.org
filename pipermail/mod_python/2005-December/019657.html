<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Segfaults when running mod_python and mod_php4/mod_php5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Segfaults%20when%20running%20mod_python%20and%20mod_php4/mod_php5&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019656.html">
   <LINK REL="Next"  HREF="019659.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Segfaults when running mod_python and mod_php4/mod_php5</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Daniel S. Reichenbach</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Segfaults%20when%20running%20mod_python%20and%20mod_php4/mod_php5&In-Reply-To="
       TITLE="[mod_python] Segfaults when running mod_python and mod_php4/mod_php5">dsr at best-off.org
       </A><BR>
    <I>Mon Dec  5 07:14:46 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="019656.html">[mod_python] Apache can't find mod_python
</A></li>
        <LI>Next message: <A HREF="019659.html">[mod_python] Segfaults when running mod_python and
	mod_php4/mod_php5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19657">[ date ]</a>
              <a href="thread.html#19657">[ thread ]</a>
              <a href="subject.html#19657">[ subject ]</a>
              <a href="author.html#19657">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

at the weekend I have installed a small host for my private software
projects based on current Debian Testing branch.

The plan was to install a SubVersion repository as well as the Trac
issue tracker (<A HREF="http://projects.edgewall.com/trac/">http://projects.edgewall.com/trac/</A>).

I have installed Apache 2, version 2.0.54 with mod_python 3.1.3,
as well as Trac 0.9.1 with SubVersion 1.2.3 as backend.

Now I configured things according to this page:
<A HREF="http://projects.edgewall.com/trac/wiki/TracModPython">http://projects.edgewall.com/trac/wiki/TracModPython</A>

So far everything worked.

Now I needed to add mod-php4 or mod-php5 since there should run a
forum on the server, too. I installed PHP 4.4.0 and now things start
to get strange.

Both PHP and Python seem to work, as I can open the configured web
sites, both living on different vhosts. Now when I try to login to
Trac, mod_python will segfault. Actually it's this configuration part:

&lt;Location &quot;/projects/myproject/login&quot;&gt;
  AuthType Basic
  AuthName &quot;myproject&quot;
  AuthUserFile /var/trac/myproject/.htaccess
  Require valid-user
&lt;/Location&gt;

Situation: Trac site and PHP site work, until someone tries to login.
Afterwords PHP will stay alive and working, each call to mod_python
causes segfault in error log.

If I don't have login enabled, Python and thus Trac will work. Is this
a known issue or are there perhaps any solutions to this?

What I have checked so far: FAQ hint on libraries. PHP and Python use
the same ones. Disabling PHP for the login location, does not change
anything. Without PHP everything works fine. As well tried to use
AddHandler instead of SetHandler, this as well results in segfaults
when logging in.

With kind regards,
Daniel
-- 
blog - <A HREF="http://people.best-off.org/~dsr/">http://people.best-off.org/~dsr/</A>
gpg  - <A HREF="http://people.best-off.org/~dsr/gpg.asc">http://people.best-off.org/~dsr/gpg.asc</A>
work - <A HREF="http://www.best-off.org/">http://www.best-off.org/</A>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part
Url : <A HREF="http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20051205/70b9f578/attachment.bin">http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20051205/70b9f578/attachment.bin</A>
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019656.html">[mod_python] Apache can't find mod_python
</A></li>
	<LI>Next message: <A HREF="019659.html">[mod_python] Segfaults when running mod_python and
	mod_php4/mod_php5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19657">[ date ]</a>
              <a href="thread.html#19657">[ thread ]</a>
              <a href="subject.html#19657">[ subject ]</a>
              <a href="author.html#19657">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
