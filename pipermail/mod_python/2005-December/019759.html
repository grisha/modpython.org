<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] connection pool (newbie question)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20connection%20pool%20%28newbie%20question%29&In-Reply-To=43A01EF5.5050106%40natlab.research.philips.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019754.html">
   <LINK REL="Next"  HREF="019767.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] connection pool (newbie question)</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20connection%20pool%20%28newbie%20question%29&In-Reply-To=43A01EF5.5050106%40natlab.research.philips.com"
       TITLE="[mod_python] connection pool (newbie question)">grahamd at dscpl.com.au
       </A><BR>
    <I>Wed Dec 14 16:07:13 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="019754.html">[mod_python] connection pool (newbie question)
</A></li>
        <LI>Next message: <A HREF="019767.html">[mod_python] connection pool (newbie question)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19759">[ date ]</a>
              <a href="thread.html#19759">[ thread ]</a>
              <a href="subject.html#19759">[ subject ]</a>
              <a href="author.html#19759">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 15/12/2005, at 12:32 AM, Mike Looijmans wrote:

&gt;&gt;<i> I've looked at connection pool code for a persistent database
</I>&gt;&gt;<i> connection.   I don't know where to create the connection pool.
</I>&gt;&gt;<i> If in the handler code (I'm using publisher), wouldn't a new
</I>&gt;&gt;<i> pool be created each time the handler is called?
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> You'll get a new pool for each process (not for each thread)
</I>
Technically speaking, not necessarily. :-)

There will actually be one per Python interpreter instance which uses  
that
handler module. Thus if you were supporting two virtual hosts and  
both used
the same handler module there would be one for each virtual host in each
process. This even presumes the pool was created at global scope within
the handler module. If it was created within the handler function  
itself, then
there could be one per request.

If pool was created at global scope within the handler module and module
reloading is used, then over time you could end up with multiple  
pools with
older ones potentially becoming inaccessible resources with a  
resource leak
resulting. Resource pools should ideally be created in modules which are
not the subject of mod_python module reloading.

All this was what the referenced article and old mailing list posts  
help to
describe.

Graham

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019754.html">[mod_python] connection pool (newbie question)
</A></li>
	<LI>Next message: <A HREF="019767.html">[mod_python] connection pool (newbie question)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19759">[ date ]</a>
              <a href="thread.html#19759">[ thread ]</a>
              <a href="subject.html#19759">[ subject ]</a>
              <a href="author.html#19759">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
