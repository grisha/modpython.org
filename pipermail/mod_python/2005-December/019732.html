<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Session Timeouts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Session%20Timeouts&In-Reply-To=EC8A0950-DA4E-4A4B-B281-D0F1B8C6413F%40gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019731.html">
   <LINK REL="Next"  HREF="019743.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Session Timeouts</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Daniel J. Popowich</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Session%20Timeouts&In-Reply-To=EC8A0950-DA4E-4A4B-B281-D0F1B8C6413F%40gmail.com"
       TITLE="[mod_python] Session Timeouts">dpopowich at comcast.net
       </A><BR>
    <I>Mon Dec 12 15:06:49 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="019731.html">[mod_python] Session Timeouts
</A></li>
        <LI>Next message: <A HREF="019743.html">[mod_python] multiple html pages?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19732">[ date ]</a>
              <a href="thread.html#19732">[ thread ]</a>
              <a href="subject.html#19732">[ subject ]</a>
              <a href="author.html#19732">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Peter Sanchez writes:
&gt;<i> I have a question regarding session timeouts. I would like to set the  
</I>&gt;<i> timeout, to say, 1 hour. Instead of whatever the default is now. I  
</I>&gt;<i> know of set_timeout() function, but my question is this. Can I use  
</I>&gt;<i> the set_timeout() multiple times? For example, a user comes to my  
</I>&gt;<i> site, logs in, I set the timeout to 1 hour. Every page in the members  
</I>&gt;<i> section checks the session, and every time a page is accessed, I want  
</I>&gt;<i> to reset the time to 1 hour from the time that page was accessed. So  
</I>&gt;<i> will using set_timeout() every time do that?
</I>&gt;<i> 
</I>&gt;<i> I hope that makes sense, but it probably doesn't ;) So here is a  
</I>&gt;<i> &quot;flow chart&quot;
</I>&gt;<i> 
</I>&gt;<i> 10:45 - User logs in, set_timeout() to 1 hour from now (11:45)
</I>&gt;<i> 10:47 - User accesses email page, set_timeout to 1 hour from now (11:47)
</I>&gt;<i> 
</I>&gt;<i> etc.. on and on it goes.
</I>&gt;<i> 
</I>
You don't have to do anything special to get what you want...it works
that way out-of-the-box.  If you create your session specifying a
timeout of one hour:

   ses = Session(req, timeout=3600)
   ...
   ses.save()

then the session will stay alive as long as it's *accessed* within an
hour and when it is, the access time will be reset so you have another
hour, and so on...

The session code does something like this:

  if time.time() - ses.last_accessed() &gt; ses.timeout():
     SESSION-HAS-TIMED-OUT

The last accessed time of a session is updated to the current time
with every request (when the session is instantiated), but not stored
until you call save() (if you never call save() then you will never
re-use a session).

Cheers,

Daniel Popowich
---------------
<A HREF="http://home.comcast.net/~d.popowich/mpservlets/">http://home.comcast.net/~d.popowich/mpservlets/</A>

</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019731.html">[mod_python] Session Timeouts
</A></li>
	<LI>Next message: <A HREF="019743.html">[mod_python] multiple html pages?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19732">[ date ]</a>
              <a href="thread.html#19732">[ thread ]</a>
              <a href="subject.html#19732">[ subject ]</a>
              <a href="author.html#19732">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
