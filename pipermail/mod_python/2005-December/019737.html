<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Segfaults when running mod_python and
	mod_php4/mod_php5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Segfaults%20when%20running%20mod_python%20and%0A%09mod_php4/mod_php5&In-Reply-To=20051213114419.dd4i80xhbesksccc%40toaster.best-off.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019736.html">
   <LINK REL="Next"  HREF="019738.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Segfaults when running mod_python and
	mod_php4/mod_php5</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Segfaults%20when%20running%20mod_python%20and%0A%09mod_php4/mod_php5&In-Reply-To=20051213114419.dd4i80xhbesksccc%40toaster.best-off.org"
       TITLE="[mod_python] Segfaults when running mod_python and
	mod_php4/mod_php5">grahamd at dscpl.com.au
       </A><BR>
    <I>Tue Dec 13 05:52:53 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="019736.html">[mod_python] Segfaults when running mod_python and
	mod_php4/mod_php5
</A></li>
        <LI>Next message: <A HREF="019738.html">[mod_python] Segfaults when running mod_python and
	mod_php4/mod_php5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19737">[ date ]</a>
              <a href="thread.html#19737">[ thread ]</a>
              <a href="subject.html#19737">[ subject ]</a>
              <a href="author.html#19737">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 13/12/2005, at 9:44 PM, Daniel S. Reichenbach wrote:

&gt;<i> Hi again,
</I>&gt;<i>
</I>&gt;&gt;<i> Now use a web browser to access the URL which gives you the problem.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If everything goes as expected, Apache will crash and gdb will throw 
</I>&gt;&gt;<i> you
</I>&gt;&gt;<i> back to its prompt. Enter &quot;where&quot; command to get stack trace of where 
</I>&gt;&gt;<i> it
</I>&gt;&gt;<i> crashed.
</I>&gt;<i> I have followed your instructions step by step and tried opening the
</I>&gt;<i> URL. The result was expected, auth window opened, valid username and
</I>&gt;<i> password enter and then again Zero Reply from the server and again it
</I>&gt;<i> show segfault in error log. But *sigh* in gdb nothing happened. It
</I>&gt;<i> still stood there telling me it was Continuing.
</I>&gt;<i>
</I>&gt;<i> What next?
</I>
When you used &quot;ps&quot; to find instances of &quot;httpd&quot; which were running, how
many were there? If there was a pair like in my example, use the pid
of the other. Ie., instead of the lowest pid of the pair, used the 
highest.
If there are more than two, or that still doesn't help, you may have to
change your Apache config so that it only starts up at most one child
subprocess. That way when you are attached to it with gdb, you will be
guaranteed the request will be handled by the child process you are
debugging.

Instead of -DONE_PROCESS, you might also instead try the -X option.

Anyway, you just need to play with it until you work out a reliable
way of ensuring the request is handled by the process attached to gdb.
The only other alternative is to see if you can find a &quot;core&quot; file
which has been dumped by Apache when it crashes and run gdb against it:

   gdb /usr/local/apache-2.0/bin/httpd core

Then use &quot;where&quot; command to get stack trace.

Time for me to sleep, so I'll see how you go in the morning. If you
get a stack trace, others here may be able to help you interpret it.

Graham

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019736.html">[mod_python] Segfaults when running mod_python and
	mod_php4/mod_php5
</A></li>
	<LI>Next message: <A HREF="019738.html">[mod_python] Segfaults when running mod_python and
	mod_php4/mod_php5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19737">[ date ]</a>
              <a href="thread.html#19737">[ thread ]</a>
              <a href="subject.html#19737">[ subject ]</a>
              <a href="author.html#19737">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
