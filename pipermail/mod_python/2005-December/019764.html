<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Configuring mod_python via reverse proxy
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Configuring%20mod_python%20via%20reverse%20proxy&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019760.html">
   <LINK REL="Next"  HREF="019765.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Configuring mod_python via reverse proxy</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Configuring%20mod_python%20via%20reverse%20proxy&In-Reply-To="
       TITLE="[mod_python] Configuring mod_python via reverse proxy">grahamd at dscpl.com.au
       </A><BR>
    <I>Wed Dec 14 18:14:57 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="019760.html">[mod_python] Build errors
</A></li>
        <LI>Next message: <A HREF="019765.html">[mod_python] Configuring mod_python via reverse proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19764">[ date ]</a>
              <a href="thread.html#19764">[ thread ]</a>
              <a href="subject.html#19764">[ subject ]</a>
              <a href="author.html#19764">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jorey Bump wrote ..
&gt;<i> Roberto C. Sanchez wrote:
</I>&gt;<i> &gt; Jim Gallacher wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;&gt;This maybe too obvious but is AllowOverride perhapas set to None such
</I>&gt;<i> &gt;&gt;that your .htaccess file is not getting processed?
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;Jim
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; OK.  I feel like a complete retard.  In copying over the VirtualHost
</I>&gt;<i> &gt; settings for the instance of apache running from $HOME, I accidentally
</I>&gt;<i> &gt; copied the wrong AllowOverride line.  It was set to None.  Thus, when
</I>&gt;<i> I
</I>&gt;<i> &gt; accessed mod_python from the main apache server running on port 80, it
</I>&gt;<i> &gt; worked since it was allowing the override.  When I proxied to the
</I>&gt;<i> &gt; instance on port 8080, it failed, as the overrides were not allowed.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Thanks for the blinding insight.
</I>&gt;<i> 
</I>&gt;<i> This is why I suggested using your custom configuration file instead of
</I>&gt;<i> .htaccess, and still recommend it if you're running your own instance of
</I>&gt;<i> apache.
</I>&gt;<i> 
</I>&gt;<i> It's up to you to decide if it's safe to share the directory between 
</I>&gt;<i> multiple instances of apache. You risk an information leak by leaving 
</I>&gt;<i> source code in public_html.
</I>
Another non obvious problem which arises because of this arrangement is
that if the second instance of Apache you are running has write access
to the directories, it will dump Python .pyc files. If you are then only
using AddHandler and not SetHandler, there will be nothing to stop
someone specifying a URL which targets the .pyc files and they will be
able to download them also and then decompile them, thus potentially
getting access to sensitive information.

Good idea to have an excplicit rule:

  &lt;Files *.pyc&gt;
  deny from all
  &lt;/Files&gt;

Graham
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019760.html">[mod_python] Build errors
</A></li>
	<LI>Next message: <A HREF="019765.html">[mod_python] Configuring mod_python via reverse proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19764">[ date ]</a>
              <a href="thread.html#19764">[ thread ]</a>
              <a href="subject.html#19764">[ subject ]</a>
              <a href="author.html#19764">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
