<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] mod_python configuration problem?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20configuration%20problem%3F&In-Reply-To=Pine.LNX.4.44.0512020954510.15159-100000%40oldben.llnl.gov">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019652.html">
   <LINK REL="Next"  HREF="019656.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] mod_python configuration problem?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20configuration%20problem%3F&In-Reply-To=Pine.LNX.4.44.0512020954510.15159-100000%40oldben.llnl.gov"
       TITLE="[mod_python] mod_python configuration problem?">grahamd at dscpl.com.au
       </A><BR>
    <I>Sat Dec  3 00:04:36 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="019652.html">[mod_python] mod_python configuration problem?
</A></li>
        <LI>Next message: <A HREF="019656.html">[mod_python] Apache can't find mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19654">[ date ]</a>
              <a href="thread.html#19654">[ thread ]</a>
              <a href="subject.html#19654">[ subject ]</a>
              <a href="author.html#19654">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 03/12/2005, at 4:58 AM, <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">chase3 at llnl.gov</A> wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I am trying new to mod-python and have only light knowledge of
</I>&gt;<i> CGI scripting.  A CGI script written by someone else is too slow,
</I>&gt;<i> and I want to try converting it to mod_python.
</I>&gt;<i>
</I>&gt;<i> Looking at Graham's &quot;Getting mod_python Working&quot; doc, I think
</I>&gt;<i> mod_python is installed at version 2.7 because I get the
</I>&gt;<i> message:
</I>&gt;<i>
</I>&gt;<i>    &quot;ImportError: No module named psp.&quot;
</I>&gt;<i>
</I>&gt;<i> The sys admin told me that mod_python is built into apache, so no  
</I>&gt;<i> need to
</I>&gt;<i> load it.  Our local Apache server is at 2.0.46.  Earlier he gave me
</I>&gt;<i> this version info on Python products: python 2.2.35 and
</I>&gt;<i> mod_python-3.0.3-3.ent
</I>&gt;<i> (We are only approved to run enterprise 3.x and apache 2.x.)
</I>&gt;<i> uname -a shows: Linux ... 2.4.21-20.ELsmp #1 SMP ... i686 i686 i386
</I>&gt;<i> Gnu/Linux
</I>
Your admin may be correct. My document tends to ignore 3.0.X
versions. A quick check of documentation for 3.0.X suggests that
it doesn't have PSP module either.

&gt;<i> I put the following mptest.py:
</I>&gt;<i>
</I>&gt;<i>    from mod_python import apache
</I>&gt;<i>
</I>&gt;<i>    def handler ( req ):
</I>&gt;<i>       req.content_type = &quot;text/plain&quot;
</I>&gt;<i>       req.send_http_header()
</I>&gt;<i>       req.write ( &quot;Hello modtest&quot; )
</I>&gt;<i>       return apache.OK
</I>&gt;<i>
</I>&gt;<i> with .htaccess:
</I>&gt;<i>
</I>&gt;<i>    &lt;Directory /usr/web/cgi-bin/tracker/modtest&gt;
</I>&gt;<i>    AddHandler mod_python .py
</I>&gt;<i>    PythonHandler mptest
</I>&gt;<i>    PythonDebug On
</I>&gt;<i>    &lt;/Directory&gt;
</I>
For a .htaccess file, you shouldn't have &lt;Directory&gt; directive.

&gt;<i> and pointed to URL:
</I>&gt;<i> <A HREF="https://bugzi.llnl.gov/cgi-bin/tracker/modtest/mptest.py">https://bugzi.llnl.gov/cgi-bin/tracker/modtest/mptest.py</A>
</I>&gt;<i>
</I>&gt;<i> I got an Internal server error and found out that it was due to an
</I>&gt;<i> import error:
</I>&gt;<i>
</I>&gt;<i> from mod_python import apache
</I>&gt;<i> File
</I>&gt;<i> &quot;/usr/src/build/345626-i386/install/usr/lib/lib/python2.2/site- 
</I>&gt;<i> packages/mod
</I>&gt;<i> _python/apache.py line 67 in ?
</I>&gt;<i> Import Error: No module named _apache
</I>&gt;<i>
</I>&gt;<i> I also get a Premature end of script.
</I>&gt;<i>
</I>&gt;<i> Another posting suggested that my problem is because mptest.py is  
</I>&gt;<i> being
</I>&gt;<i> run as a CGI script.  However, if I put the test in my home space, my
</I>&gt;<i> browser is not able to get find it.
</I>
I would tend to agree that this looks like it is being executed as
a CGI.

&gt;<i> Any suggestions that would be helpful to getting the initial test  
</I>&gt;<i> to work
</I>&gt;<i> would be appreciated.
</I>
Put a syntax error in your .htaccess file. Ie., add a line consisting of
&quot;XXX&quot; by itself. If the .htaccess file is actually being consulted, you
should now get a 500 error due to the syntax error.

If no 500 error, then Apache is probably configured not to allow use of
.htaccess files in that part of the document tree and as a result, the
higher level CGI definitions are taking precedence.

Graham
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019652.html">[mod_python] mod_python configuration problem?
</A></li>
	<LI>Next message: <A HREF="019656.html">[mod_python] Apache can't find mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19654">[ date ]</a>
              <a href="thread.html#19654">[ thread ]</a>
              <a href="subject.html#19654">[ subject ]</a>
              <a href="author.html#19654">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
