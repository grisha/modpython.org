<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] 500 internal server error
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20500%20internal%20server%20error&In-Reply-To=Pine.LNX.4.44.0512091029250.25729-100000%40oldben.llnl.gov">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019718.html">
   <LINK REL="Next"  HREF="019726.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] 500 internal server error</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Jorey Bump</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20500%20internal%20server%20error&In-Reply-To=Pine.LNX.4.44.0512091029250.25729-100000%40oldben.llnl.gov"
       TITLE="[mod_python] 500 internal server error">list at joreybump.com
       </A><BR>
    <I>Fri Dec  9 14:17:57 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="019718.html">[mod_python] 500 internal server error
</A></li>
        <LI>Next message: <A HREF="019726.html">[mod_python] Newbie - Database connection pooling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19706">[ date ]</a>
              <a href="thread.html#19706">[ thread ]</a>
              <a href="subject.html#19706">[ subject ]</a>
              <a href="author.html#19706">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">chase3 at llnl.gov</A> wrote:
&gt;<i> As a first step in moving a CGI script to mod_python, I wrapped the
</I>&gt;<i> script in a handler.  This seems to work and the database does 
</I>&gt;<i> receive the data.   It looks like things should be ok.  However,
</I>&gt;<i> I am getting a 500 Internal Server Error back that I have not been
</I>&gt;<i> able to figure out, as there were no other clues in the error_log.  
</I>&gt;<i> In fact, putting an log message shows execution is successful:
</I>&gt;<i> 
</I>&gt;<i>   ...
</I>&gt;<i>     # Close the connection
</I>&gt;<i>     db.close()
</I>&gt;<i>     apache.log_error ( &quot;success&quot;, apache.APLOG_ERR )
</I>&gt;<i>     return apache.OK
</I>&gt;<i>   else:
</I>&gt;<i>     apache.log_error ( &quot;Failed!&quot;, apache.APLOG_ERR )
</I>&gt;<i>     return apache.SERVER_RETURN
</I>&gt;<i> 
</I>&gt;<i> I get &quot;success&quot; in the log file.
</I>
if...?

&gt;<i> I put this mod_python script in the cgi-bin because when it was 
</I>&gt;<i> in htdocs, I ran into 401 Authorization Required problems.
</I>
First, don't put mod_python scripts in cgi-bin. They are not CGI.

&gt;<i> I should mention that I am not communicating to the server with
</I>&gt;<i> a URL in a browser, but through a utility that uses CURL and SSL to
</I>&gt;<i> do an HTTPS post, so user authentication is not possible.
</I>
If you want unrestricted access to a file, put it in a directory without 
restrictions or override the restrictions in your configuration.

&gt;<i> When the mod_python script is in cgi-bin, user authentication is 
</I>&gt;<i> not required. 
</I>
Perhaps, but it will cause problems in some configurations.

&gt;<i> The software uses a digital signature for authentication.
</I>&gt;<i> 
</I>&gt;<i> &lt;Directory &quot;/etc/httpd/cgi-bin/tracker&quot;&gt;
</I>&gt;<i>     AddHandler python-program .py
</I>&gt;<i>     PythonHandler mod_python.publisher
</I>&gt;<i>     PythonDebug On
</I>&gt;<i> &lt;/Directory&gt;
</I>
Create a separate directory outside of your document root. Use the Alias 
directive to make it accessible. Revise your Directory container above 
to refer to the new directory. Use SetHandler instead of AddHandler, and 
only put .py files in it. Put other resources like images, css, etc. in 
your normal document root. Although switching to SetHandler is optional, 
there are a lot of benefits.

&gt;<i> Any ideas on how to locate the server error?
</I>
Your apache error log is the best source. But your current configuration 
is a little screwy, so try the steps I've described.

</PRE>






























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019718.html">[mod_python] 500 internal server error
</A></li>
	<LI>Next message: <A HREF="019726.html">[mod_python] Newbie - Database connection pooling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19706">[ date ]</a>
              <a href="thread.html#19706">[ thread ]</a>
              <a href="subject.html#19706">[ subject ]</a>
              <a href="author.html#19706">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
