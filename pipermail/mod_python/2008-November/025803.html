<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Re: Cross compiling mod_python
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20Cross%20compiling%20mod_python&In-Reply-To=88e286470811280117rab4fbbep7bb1976cb5daa2fe%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025802.html">
   <LINK REL="Next"  HREF="025804.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Re: Cross compiling mod_python</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Paul Herring</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20Cross%20compiling%20mod_python&In-Reply-To=88e286470811280117rab4fbbep7bb1976cb5daa2fe%40mail.gmail.com"
       TITLE="[mod_python] Re: Cross compiling mod_python">pauljherring at gmail.com
       </A><BR>
    <I>Fri Nov 28 05:10:25 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025802.html">[mod_python] Re: Cross compiling mod_python
</A></li>
        <LI>Next message: <A HREF="025804.html">[mod_python] Re: Cross compiling mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25803">[ date ]</a>
              <a href="thread.html#25803">[ thread ]</a>
              <a href="subject.html#25803">[ subject ]</a>
              <a href="author.html#25803">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Nov 28, 2008 at 9:17 AM, Graham Dumpleton
&lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">graham.dumpleton at gmail.com</A>&gt; wrote:
[...]
&gt;&gt;<i> cannot open /usr/local/conf/build/config_vars.mk: No such file or
</I>&gt;&gt;<i> directory at /f15_nsb/usr/local/bin/apxs line 218.
</I>&gt;&gt;<i> ./configure: line 2714: /: is a directory
</I>&gt;<i>
</I>&gt;<i> This indicates that the apxs installation you are trying to use is
</I>&gt;<i> broken in some way.
</I>
It's not broken. It also shouldn't be executed as part of the build process....

&gt;<i> Specifically, appears to be looking in a location
</I>&gt;<i> for its files where they aren't.
</I>
Indeed.

Assuming that I should be/could run  target binaries on the host
system, apxs needs to look in the target directory of
/f15_nsb/usr/local/conf/build/config_vars.mk, for the cross compile to
work ( - instead it's looking in the host directory.)  Yes I realise
that apxs is a perl script, but further along in the configure script
it attempts to run httpd. Something that almost certainly shouldn't be
executed on the host during a cross compile.

This goes back to my earlier comment about the ./configure script
trying to run the target binaries/whatever.

&gt;<i> On the command line run:
</I>&gt;<i>
</I>&gt;<i>  /f15_nsb/usr/local/bin/apxs -q LIBDIR
</I>
On the host system:

=====&gt;8-----
cannot open /usr/local/conf/build/config_vars.mk: No such file or
directory at /f15_nsb/usr/local/bin/apxs line 218.
=====&gt;8-----

&gt;<i> If that errors, then definitely broken.
</I>
It's not broken, it's just being run under circumstances it shouldn't.
It works fine when run on the target.

In summary, during the build process:

1) I can't use the target version of apxs, since it's not running on
the target (and cannot find the files it needs in the places it
expects them.)
2) I can't use the local/host version of apxs, since it doesn't refer
to the version of apache that will be on the target system.

I'm currently looking into modifying configure.in to be able to supply
overrides to everything that currently uses target binaries, in much
the same way that httpd does.

-- 
PJH
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025802.html">[mod_python] Re: Cross compiling mod_python
</A></li>
	<LI>Next message: <A HREF="025804.html">[mod_python] Re: Cross compiling mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25803">[ date ]</a>
              <a href="thread.html#25803">[ thread ]</a>
              <a href="subject.html#25803">[ subject ]</a>
              <a href="author.html#25803">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
