<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] environment variables lost along the way
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20environment%20variables%20lost%20along%20the%20way&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025797.html">
   <LINK REL="Next"  HREF="025788.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] environment variables lost along the way</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Josh Forman</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20environment%20variables%20lost%20along%20the%20way&In-Reply-To="
       TITLE="[mod_python] environment variables lost along the way">jforman at wcgltd.com
       </A><BR>
    <I>Tue Nov 25 17:44:54 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025797.html">[mod_python] mod_python problem in Slackware
</A></li>
        <LI>Next message: <A HREF="025788.html">[mod_python] environment variables lost along the way
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25787">[ date ]</a>
              <a href="thread.html#25787">[ thread ]</a>
              <a href="subject.html#25787">[ subject ]</a>
              <a href="author.html#25787">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hi.  i've been working with modpython 3.3 on ubuntu 8.10 with python  
2.5.
i have a problem where, using a python module works in the python cli  
without doing anything special, but not in a script being run through  
apache.
the module is cx_Oracle, and the error logs complain about being  
unable to acquire Oracle environment handle, and thus far everything  
i've read about this error is related to environmental variables  
needing to be set to something in particular.  so i have them set at  
boot by defining them in /etc/profile.   that didn't work.
so i added them into the script being run by assigning them through  
os.environ before i import cx_Oracle.  that didn't work either.
so i added them into the virtual host config file as pythonoption  
directives, again with no luck.
i'm sure the error has to do with mod_python since the code in the  
python script works if run through the cli, but i am not sure and i've  
been pulling my hair out about this all day.

the relevant part of the apache config is shown below:
&lt;Location /cdrs&gt;
         Options Indexes FollowSymLinks MultiViews
         SetHandler mod_python
         PythonPath &quot;['/var/www/freeswitch'] + sys.path&quot;
         PythonHandler freeswitch.cdrs
         PythonOption ORACLE_HOME /usr/lib/oracle/10.2.0.4/client64
         PythonOption PYTHON_EGG_CACHE /tmp/egg_basket
         PythonOption LD_LIBRARY_PATH /usr/lib/oracle/10.2.0.4/ 
client64/lib
&lt;/Location&gt;

</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025797.html">[mod_python] mod_python problem in Slackware
</A></li>
	<LI>Next message: <A HREF="025788.html">[mod_python] environment variables lost along the way
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25787">[ date ]</a>
              <a href="thread.html#25787">[ thread ]</a>
              <a href="subject.html#25787">[ subject ]</a>
              <a href="author.html#25787">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
