<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Performance Problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Performance%20Problem&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018866.html">
   <LINK REL="Next"  HREF="018887.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Performance Problem</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Orr, Steve</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Performance%20Problem&In-Reply-To="
       TITLE="[mod_python] Performance Problem">sorr at rightnow.com
       </A><BR>
    <I>Thu Aug 18 10:15:01 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="018866.html">[mod_python] Load Testing Tools
</A></li>
        <LI>Next message: <A HREF="018887.html">[mod_python] Performance Problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18869">[ date ]</a>
              <a href="thread.html#18869">[ thread ]</a>
              <a href="subject.html#18869">[ subject ]</a>
              <a href="author.html#18869">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I can't see that mod_python would be the problem. For a given request,
what percentage of the overall response time is involved with database
access versus code execution? You need to know that. I'd first try
tuning the code before doing any web stuff. Especially tune the database
queries and the network access to the database before going through the
web server. Then setup database connection pooling so each page request
reuses a connection instead of establishing a new connection with each
page turn. Can you do some kind of session management to avoid repop'ing
&quot;the container&quot; with each page turn?

Using ab I did some bench marking a year ago and with an old, cheap Dell
2GHz PC with 512M RAM as the web server I was able to get 750 page turns
per second. The database was Oracle and I used the connection pooling
feature that comes with cx_Oracle on the OCI. (A persistent connection
can be established for each Apache process so this isn't really
necessary.) I also reused cursors to avoid the parsing overhead.
(Besides doing web development I'm a DBA dweeb.) Without mod_python and
connection pooling it got as slow as 11 requests per second. Of course
my benchmarking was doing simple stuff but I was satisfied that
Apache/mod_python would perform well and I wouldn't have to go down a
&quot;Twisted&quot; path. Don't know anything about dbxml but you should address
the architecture/code first. If performance is really a big issue then
consider load balanced web servers and a good disk array setup on the db
server. 


Steve Orr


-----Original Message-----
From: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python-bounces at modpython.org</A>
[mailto:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python-bounces at modpython.org</A>] On Behalf Of IGP
Sent: Wednesday, August 17, 2005 11:01 PM
To: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">xml at sleepycat.com</A>; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
Subject: [mod_python] Performance Problem

I am accessing dbxml via my mod-python handler.
The dbxml manager instance is created  , the container is opened and the

required operation
is performed(querying , geting a document ) for each client request . 
This is affecting the
performance . Is there any way to enhance the performance ? I mean that 
the XmlManager instance
will be created only once , the container will be opened and the stored 
in memory , so that the
response time will decrease .
I am using following versions of software
1) dbxml -  2.1.8
2) python - 2.3.4
3) mod-python - 1.3.4
4) apache 2.0.52
5) Kernel version-2.6.9-5.0.5-EL

Please do reply if you know the solution .
Thanks in Advance,
Regards,
Ajinkya

_______________________________________________
Mod_python mailing list
<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>


</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018866.html">[mod_python] Load Testing Tools
</A></li>
	<LI>Next message: <A HREF="018887.html">[mod_python] Performance Problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18869">[ date ]</a>
              <a href="thread.html#18869">[ thread ]</a>
              <a href="subject.html#18869">[ subject ]</a>
              <a href="author.html#18869">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
