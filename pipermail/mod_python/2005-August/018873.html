<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Performance Problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Performance%20Problem&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018872.html">
   <LINK REL="Next"  HREF="018874.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Performance Problem</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Performance%20Problem&In-Reply-To="
       TITLE="[mod_python] Performance Problem">grahamd at dscpl.com.au
       </A><BR>
    <I>Sat Aug 20 05:16:06 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="018872.html">[mod_python] Performance Problem
</A></li>
        <LI>Next message: <A HREF="018874.html">[mod_python] Performance Problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18873">[ date ]</a>
              <a href="thread.html#18873">[ thread ]</a>
              <a href="subject.html#18873">[ subject ]</a>
              <a href="author.html#18873">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sebastjan Trepca wrote ..
&gt;<i> &gt; From: &quot;Graham Dumpleton&quot; &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">grahamd at dscpl.com.au</A>&gt;
</I>&gt;<i> &gt; To: Julien &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">jcigar at ulb.ac.be</A>&gt;
</I>&gt;<i> &gt; Date: Thu, 18 Aug 2005 18:18:44 -0400
</I>&gt;<i> &gt; Subject: Re: [mod_python] Performance Problem
</I>&gt;<i> &gt; Julien wrote ..
</I>&gt;<i> &gt; &gt; I don't think it's possible (not sure) because mod_python starts many
</I>&gt;<i> &gt; &gt; python instances, so mod_python cannot keep python objects ...
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; This is not strictly true.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; For any particular Python interpreter, that is generally 1 per process,
</I>&gt;<i> &gt; the modules once loaded into the interpreter will remain loaded. The
</I>&gt;<i> &gt; value of any global data within a specific module is thus retained
</I>&gt;<i> &gt; between requests which hit that specific interpreter.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Obviously, different interpreters will have their own copy of the data
</I>&gt;<i> &gt; value, but at least for the one interpreter, successive requests can
</I>&gt;<i> &gt; make use of any cached data. As mentioned by Mike, this cached
</I>&gt;<i> &gt; data could be a database connection pool.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Graham
</I>&gt;<i> 
</I>&gt;<i> I use only one interpreter using PythonInterprete option so different
</I>&gt;<i> processes have same globals. Are there any performance issues with
</I>&gt;<i> this?
</I>
It doesn't matter if you name the interpreter using PythonInterpreter,
each process will still has a unique instance of the interpreter with
that name, each with its own unique copies of the globals. Different
processes can never reference the same globals. Changing a global in
one process will not cause a global of the same name in a module to
be changed in other processes.

The only time a request handler will see a change made to a global by
a different request hander is when the two requests were against the
same interpreter within the same process. 

Thus a global data value accessed in a module is exactly the same as if
you were running a Python script from the command line, there is no
additional overhead and no performance issues to worry about.

If you want to have some special data value which can be accessed by
multiple Apache child processes, with each being able to change the
data and the change being reflected in all, then you would need to use
something like shared memory. This would involve some extra overhead,
but it requires you to explicitly code your system to use shared memory
and dea with all the locking and contention issues, it isn't how
mod_python works normally.

Use of shared memory is an advanced topic and I wouldn't recommend
you contemplate it until you understood quiet well how mod_python
works.

Graham


</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018872.html">[mod_python] Performance Problem
</A></li>
	<LI>Next message: <A HREF="018874.html">[mod_python] Performance Problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18873">[ date ]</a>
              <a href="thread.html#18873">[ thread ]</a>
              <a href="subject.html#18873">[ subject ]</a>
              <a href="author.html#18873">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
