<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Issues in apache MPM mode
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Issues%20in%20apache%20MPM%20mode&In-Reply-To=2F411EE71FA13140B4E830DCC8E74A3315EB7708%40snocex01.seattleschools.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018883.html">
   <LINK REL="Next"  HREF="018890.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Issues in apache MPM mode</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Issues%20in%20apache%20MPM%20mode&In-Reply-To=2F411EE71FA13140B4E830DCC8E74A3315EB7708%40snocex01.seattleschools.org"
       TITLE="[mod_python] Issues in apache MPM mode">grahamd at dscpl.com.au
       </A><BR>
    <I>Mon Aug 22 18:47:33 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="018883.html">[mod_python] Issues in apache MPM mode
</A></li>
        <LI>Next message: <A HREF="018890.html">[mod_python] Apache doesn't start after new mod_python install
	(3.1.3)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18886">[ date ]</a>
              <a href="thread.html#18886">[ thread ]</a>
              <a href="subject.html#18886">[ subject ]</a>
              <a href="author.html#18886">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 23/08/2005, at 3:36 AM, Arzola, Nelson wrote:

&gt;<i> My understanding is that mod_python actually starts a unique 
</I>&gt;<i> interpreter for each thread.
</I>
When using a multithreaded MPM, the creation of the threads in the
thread pool is handled by Apache and not mod_python/Python. There is no
association of specific threads to specific interpreters within a child
process. Regardless of which thread it is, when mod_python is handed a
request by Apache for processing, it will invoke the handler in whatever
interpreter is appropriate for the URL.

This means that if two requests come in for the same URL at the same
time, then both threads will be routed through to the same handler in
the same interpreter. In other words, there can be more than one thread
executing within the context of a specific interpreter at any one time.
They may be executing the same handler or different handlers.

Upon a subsequent request, these same threads may execute against a
different interpreter if the URL mapped to a part of the URL namespace
managed under the context of a distinct interpreter.

&gt;<i> If you read the message in your log file carefully, it says 
</I>&gt;<i> &quot;(Re)Importing&quot;.  You can verify that this is the case by starting the 
</I>&gt;<i> httpd process with -X flag (one process, one thread, do not detach 
</I>&gt;<i> from console).  You should only see one &quot;(Re)Importing&quot; message.
</I>
Don't read too much into these messages. All this message is saying is
that a specific module has been loaded for the first time, or if the
automatic reloading option is turned on and the code file changed, that
it is being reloaded.

Unfortunately it doesn't distinguish between these two different cases.
It would be nice if it said &quot;Importing&quot; on the first load and
&quot;Reimporting&quot; on the subsequent reload as it would make things clearer.
It would certainly make it easier to detect when the multithreaded bug
related to interpreter creation and module loading has occurred as more
people might then realise there was a problem due to seeing multiple
&quot;Importing&quot; messages at the same time for the same module in the same
interpreter and search out the fix for the bug rather than just assuming
that mod_python doesn't work or is too hard to get working. :-(

Graham

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018883.html">[mod_python] Issues in apache MPM mode
</A></li>
	<LI>Next message: <A HREF="018890.html">[mod_python] Apache doesn't start after new mod_python install
	(3.1.3)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18886">[ date ]</a>
              <a href="thread.html#18886">[ thread ]</a>
              <a href="subject.html#18886">[ subject ]</a>
              <a href="author.html#18886">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
