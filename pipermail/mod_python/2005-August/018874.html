<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Performance Problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Performance%20Problem&In-Reply-To=1124529366.18499%40dscpl.user.openhosting.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018873.html">
   <LINK REL="Next"  HREF="018875.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Performance Problem</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Sebastjan Trepca</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Performance%20Problem&In-Reply-To=1124529366.18499%40dscpl.user.openhosting.com"
       TITLE="[mod_python] Performance Problem">trepca at gmail.com
       </A><BR>
    <I>Sat Aug 20 05:43:04 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="018873.html">[mod_python] Performance Problem
</A></li>
        <LI>Next message: <A HREF="018875.html">[mod_python] Performance Problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18874">[ date ]</a>
              <a href="thread.html#18874">[ thread ]</a>
              <a href="subject.html#18874">[ subject ]</a>
              <a href="author.html#18874">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for reply, I read the docs again and got this on the
PythonInterpreter directive:

&quot;This directive can be used to force execution that would normally
occur in different subinterpreters to run in the same one. When
specified in the DocumentRoot, it forces the whole server to run in
one subinterpreter.&quot;

What does &quot;forces whole server to run in one subinterpreter&quot; then mean?

Sebastjan

On 20/08/05, Graham Dumpleton &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">grahamd at dscpl.com.au</A>&gt; wrote:
&gt;<i> Sebastjan Trepca wrote ..
</I>&gt;<i> &gt; &gt; From: &quot;Graham Dumpleton&quot; &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">grahamd at dscpl.com.au</A>&gt;
</I>&gt;<i> &gt; &gt; To: Julien &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">jcigar at ulb.ac.be</A>&gt;
</I>&gt;<i> &gt; &gt; Date: Thu, 18 Aug 2005 18:18:44 -0400
</I>&gt;<i> &gt; &gt; Subject: Re: [mod_python] Performance Problem
</I>&gt;<i> &gt; &gt; Julien wrote ..
</I>&gt;<i> &gt; &gt; &gt; I don't think it's possible (not sure) because mod_python starts many
</I>&gt;<i> &gt; &gt; &gt; python instances, so mod_python cannot keep python objects ...
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; This is not strictly true.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; For any particular Python interpreter, that is generally 1 per process,
</I>&gt;<i> &gt; &gt; the modules once loaded into the interpreter will remain loaded. The
</I>&gt;<i> &gt; &gt; value of any global data within a specific module is thus retained
</I>&gt;<i> &gt; &gt; between requests which hit that specific interpreter.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Obviously, different interpreters will have their own copy of the data
</I>&gt;<i> &gt; &gt; value, but at least for the one interpreter, successive requests can
</I>&gt;<i> &gt; &gt; make use of any cached data. As mentioned by Mike, this cached
</I>&gt;<i> &gt; &gt; data could be a database connection pool.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Graham
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I use only one interpreter using PythonInterprete option so different
</I>&gt;<i> &gt; processes have same globals. Are there any performance issues with
</I>&gt;<i> &gt; this?
</I>&gt;<i> 
</I>&gt;<i> It doesn't matter if you name the interpreter using PythonInterpreter,
</I>&gt;<i> each process will still has a unique instance of the interpreter with
</I>&gt;<i> that name, each with its own unique copies of the globals. Different
</I>&gt;<i> processes can never reference the same globals. Changing a global in
</I>&gt;<i> one process will not cause a global of the same name in a module to
</I>&gt;<i> be changed in other processes.
</I>&gt;<i> 
</I>&gt;<i> The only time a request handler will see a change made to a global by
</I>&gt;<i> a different request hander is when the two requests were against the
</I>&gt;<i> same interpreter within the same process.
</I>&gt;<i> 
</I>&gt;<i> Thus a global data value accessed in a module is exactly the same as if
</I>&gt;<i> you were running a Python script from the command line, there is no
</I>&gt;<i> additional overhead and no performance issues to worry about.
</I>&gt;<i> 
</I>&gt;<i> If you want to have some special data value which can be accessed by
</I>&gt;<i> multiple Apache child processes, with each being able to change the
</I>&gt;<i> data and the change being reflected in all, then you would need to use
</I>&gt;<i> something like shared memory. This would involve some extra overhead,
</I>&gt;<i> but it requires you to explicitly code your system to use shared memory
</I>&gt;<i> and dea with all the locking and contention issues, it isn't how
</I>&gt;<i> mod_python works normally.
</I>&gt;<i> 
</I>&gt;<i> Use of shared memory is an advanced topic and I wouldn't recommend
</I>&gt;<i> you contemplate it until you understood quiet well how mod_python
</I>&gt;<i> works.
</I>&gt;<i> 
</I>&gt;<i> Graham
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>
</I>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018873.html">[mod_python] Performance Problem
</A></li>
	<LI>Next message: <A HREF="018875.html">[mod_python] Performance Problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18874">[ date ]</a>
              <a href="thread.html#18874">[ thread ]</a>
              <a href="subject.html#18874">[ subject ]</a>
              <a href="author.html#18874">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
