<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] handler and index.html problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20handler%20and%20index.html%20problem&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022366.html">
   <LINK REL="Next"  HREF="022368.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] handler and index.html problem</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Sells, Fred</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20handler%20and%20index.html%20problem&In-Reply-To="
       TITLE="[mod_python] handler and index.html problem">fred at adventistcare.org
       </A><BR>
    <I>Thu Oct 19 15:50:55 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="022366.html">[mod_python] Understanding mod_python
</A></li>
        <LI>Next message: <A HREF="022368.html">[mod_python] handler and index.html problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22367">[ date ]</a>
              <a href="thread.html#22367">[ thread ]</a>
              <a href="subject.html#22367">[ subject ]</a>
              <a href="author.html#22367">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm a mod_python newbie using python 2.3 and mod_python 3.1.3-5.1 on Red Hat
Enterprise Linux

I have my own &quot;security.py&quot; module that I want to intercept all requests
into the html root (/var/www/html) and force the user to login if they have
not already.  I must use a legacy login, so using the apache authentication
is not an option.  The intercept and login work fine, but once they are
logged in,  any reference to the directory, hence an implied index.html page
fails.  my .conf setup is

 
   &lt;Directory &quot;/var/www/html&quot;&gt;
     SetHandler python-program
     PythonHandler  security default
     PythonDebug On
   &lt;/Directory&gt;
 
 <A HREF="http://fredqa.xxx.org/rds/unittest.html">http://fredqa.xxx.org/rds/unittest.html</A>  this works, is simple html no js
or css includes
 <A HREF="http://fredqa.xxx.org/rds/index.html">http://fredqa.xxx.org/rds/index.html</A>     this works, has links to js and
css embedded
 <A HREF="http://fredqa.xxx.org/rds/">http://fredqa.xxx.org/rds/</A>               this FAILS, see error message
below
 
 Mod_python error: &quot;PythonHandler default&quot;
 Traceback (most recent call last):
   File &quot;/usr/lib/python2.3/site-packages/mod_python/apache.py&quot;, line 287,
in
 HandlerDispatch log=debug)
   File &quot;/usr/lib/python2.3/site-packages/mod_python/apache.py&quot;, line 454,
in
 import_module
     f, p, d = imp.find_module(parts[i], path)
 ImportError: No module named default
 
 I've tried &quot;default-handler&quot; with same results.  I would like to have
Apache just render the page, once I've verified that the user has access.

---------------------------------------------------------------------------
The information contained in this message may be privileged and / or
confidential and protected from disclosure. If the reader of this message is
not the intended recipient, you are hereby notified that any dissemination,
distribution or copying of this communication is strictly prohibited. If you
have received this communication in error, please notify the sender
immediately by replying to this message and deleting the material from any
computer.
---------------------------------------------------------------------------

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022366.html">[mod_python] Understanding mod_python
</A></li>
	<LI>Next message: <A HREF="022368.html">[mod_python] handler and index.html problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22367">[ date ]</a>
              <a href="thread.html#22367">[ thread ]</a>
              <a href="subject.html#22367">[ subject ]</a>
              <a href="author.html#22367">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
