<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Where do you put your py modules... ? [alias
	paranoid protector]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Where%20do%20you%20put%20your%20py%20modules...%20%3F%20%5Balias%0A%09paranoid%20protector%5D&In-Reply-To=0DEBD7C6-B381-4015-A2C4-68AFD96DA3E0%40dscpl.com.au">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022249.html">
   <LINK REL="Next"  HREF="022252.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Where do you put your py modules... ? [alias
	paranoid protector]</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Sean Davis</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Where%20do%20you%20put%20your%20py%20modules...%20%3F%20%5Balias%0A%09paranoid%20protector%5D&In-Reply-To=0DEBD7C6-B381-4015-A2C4-68AFD96DA3E0%40dscpl.com.au"
       TITLE="[mod_python] Where do you put your py modules... ? [alias
	paranoid protector]">sdavis2 at mail.nih.gov
       </A><BR>
    <I>Mon Oct  9 08:00:29 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="022249.html">[mod_python] Where do you put your py modules... ? [alias
	paranoid protector]
</A></li>
        <LI>Next message: <A HREF="022252.html">[mod_python] Where do you put your py modules... ? [alias paranoid
	protector]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22251">[ date ]</a>
              <a href="thread.html#22251">[ thread ]</a>
              <a href="subject.html#22251">[ subject ]</a>
              <a href="author.html#22251">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Monday 09 October 2006 05:22, Graham Dumpleton wrote:
&gt;<i> I have pushed your email back onto the mailing list. Please keep
</I>&gt;<i> followups there in future. I'll see if I can get to your email later and
</I>&gt;<i> try and understand what it is you are talking about. In the meantime,
</I>&gt;<i> someone else may have comments.
</I>&gt;<i>
</I>&gt;<i> Graham
</I>&gt;<i>
</I>&gt;<i> On 09/10/2006, at 5:38 PM, durumdara wrote:
</I>&gt;<i> &gt; Dear Graham !
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I want to ask something about the site structure.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Graham Dumpleton &#237;rta:
</I>&gt;<i> &gt;&gt; On 07/10/2006, at 8:11 PM, Durumdara wrote:
</I>&gt;<i> &gt;&gt;&gt; ### index.php
</I>&gt;<i> &gt;&gt;&gt; (The php extension is confusion-maker - the hackers will trying
</I>&gt;<i> &gt;&gt;&gt; with php exploits on php site. I can set this to .jsp, or other
</I>&gt;<i> &gt;&gt;&gt; ext, to confuse the attackers).
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Why not use the appropriate extension for the type of content that
</I>&gt;<i> &gt;&gt; is delivered up for the resource. In other words, why not use a .html
</I>&gt;<i> &gt;&gt; extension. If you use that, they will have no idea what
</I>&gt;<i> &gt;&gt; implementation
</I>&gt;<i> &gt;&gt; language you are using. One could also use no extension at all.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Good idea !
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt;&gt; Do you knows about any restrictions if I don't use the htdocs to
</I>&gt;<i> &gt;&gt;&gt; store my handler scripts and other stuffs ?
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Depends on how your handler is written to a degree. You do loose the
</I>&gt;<i> &gt;&gt; ability to use some Apache features if all you end up doing is
</I>&gt;<i> &gt;&gt; using Apache
</I>&gt;<i> &gt;&gt; as a jumping off point and implementing all URL interpretation
</I>&gt;<i> &gt;&gt; yourself. In
</I>&gt;<i> &gt;&gt; some respects, if you are going to do that, you may as well
</I>&gt;<i> &gt;&gt; trigger your
</I>&gt;<i> &gt;&gt; handler from inside a Location directive, which since it isn't
</I>&gt;<i> &gt;&gt; associated
</I>&gt;<i> &gt;&gt; with a physical directory cannot result in any way your source
</I>&gt;<i> &gt;&gt; code being
</I>&gt;<i> &gt;&gt; exposed.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; There is many way to answer the request.
</I>&gt;<i> &gt; If I use psps, or publisher scripts, every of them must contains
</I>&gt;<i> &gt; &quot;Beginning&quot; and &quot;End&quot; functions to make same pages. Example: B:
</I>&gt;<i> &gt; session init, db init, E: force global template on site (title,
</I>&gt;<i> &gt; menu, navigation), write the result to output stream, close databases.
</I>&gt;<i> &gt; This is solvable if I put &quot;import Header; Header.init()&quot; to
</I>&gt;<i> &gt; beginning, and &quot;import Footer; Footer.done()&quot; to the end of the
</I>&gt;<i> &gt; scripts, psps...
</I>
Why not make a &quot;Page&quot; class that contains all the functionality that you want 
for each page, and then inherit from it to supply the body?  Alternatively, 
use a template system (as you suggest).  

&gt;<i> &gt; &gt; &gt; The working method is now that my global handler creates a request 
</I>&gt;<i> &gt; class that holds many informations (request, session, databases,
</I>&gt;<i> &gt; actual path, etc).
</I>&gt;<i> &gt; This handler is see the req.filename.
</I>&gt;<i> &gt; If this is a &quot;.php&quot; file, it is remove this extension, and it try
</I>&gt;<i> &gt; to find same directory in the template path.
</I>&gt;<i> &gt; If in this dir it found &quot;&lt;%_dirname%&gt;&quot;.py, then starts it. If in
</I>&gt;<i> &gt; this dir is found page.html, then render it with PSP.
</I>&gt;<i> &gt; Then this handler is write the result to the output stream.
</I>&gt;<i> &gt; But I need to restructure this site, because my boss is required
</I>&gt;<i> &gt; subdirectories in the published site (host/product1/support.php vs.
</I>&gt;<i> &gt; host/product1_support.php)...
</I>
Sounds like you would like you have what you want working.  You can't just 
change the directory structure a bit?  You might remind your boss that things 
in htdocs are meant to be visible by the outside world; if you want to hide 
them, you will need to modify the apache config file.  If you store them 
outside of htdocs, you will likely not have to do as much work on the apache 
config file.  

&gt;<i> &gt; Do you knows about a solution the can uniform the pages (every
</I>&gt;<i> &gt; page) and can use in the Apache URL handling ?
</I>&gt;<i> &gt; For every directory I want to show ?
</I>
As I mentioned, why not make a &quot;page&quot; class and then inherit from it for all 
your pages?

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022249.html">[mod_python] Where do you put your py modules... ? [alias
	paranoid protector]
</A></li>
	<LI>Next message: <A HREF="022252.html">[mod_python] Where do you put your py modules... ? [alias paranoid
	protector]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22251">[ date ]</a>
              <a href="thread.html#22251">[ thread ]</a>
              <a href="subject.html#22251">[ subject ]</a>
              <a href="author.html#22251">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
