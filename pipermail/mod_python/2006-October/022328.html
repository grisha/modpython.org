<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Bizarre problems with rewriting URLs?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Bizarre%20problems%20with%20rewriting%20URLs%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022327.html">
   <LINK REL="Next"  HREF="022329.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Bizarre problems with rewriting URLs?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Bizarre%20problems%20with%20rewriting%20URLs%3F&In-Reply-To="
       TITLE="[mod_python] Bizarre problems with rewriting URLs?">grahamd at dscpl.com.au
       </A><BR>
    <I>Sun Oct 15 21:31:07 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="022327.html">[mod_python] Bizarre problems with rewriting URLs?
</A></li>
        <LI>Next message: <A HREF="022329.html">[mod_python] Bizarre problems with rewriting URLs?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22328">[ date ]</a>
              <a href="thread.html#22328">[ thread ]</a>
              <a href="subject.html#22328">[ subject ]</a>
              <a href="author.html#22328">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Aaron Gallagher wrote ..
&gt;<i> I'm getting a slough of bizarre problems on one of my Apache servers, 
</I>&gt;<i> and everything is perfect on the other. The version is the same, and  
</I>&gt;<i> most of the configuration is the same. Namely, I'm trying to figure  
</I>&gt;<i> out why mod_python will sometimes randomly send headers twice.
</I>&gt;<i> 
</I>&gt;<i> I'm running mod_python handlers in three different locations, and it  
</I>&gt;<i> seems like it'll randomly decide to run out of another location  
</I>&gt;<i> rather than where the request is asking for. I mean, the top sys.path 
</I>&gt;<i> entry in mod_python should always be the directory of the nearest  
</I>&gt;<i> handler, right?
</I>
No. It is a known problem with mod_python that the order of directories in
sys.path can be random. As a result, if you use the same module name in
different handler directories, you can get strange things happening, more so if
you are using the worker MPM on UNIX. See:

  <A HREF="http://www.dscpl.com.au/wiki/ModPython/Articles/ModuleImportingIsBroken">http://www.dscpl.com.au/wiki/ModPython/Articles/ModuleImportingIsBroken</A>

for a full list of module importer problems.

&gt;<i> The server that doesn't have any URL rewriting done never has any  
</I>&gt;<i> problems whatsoever, but the one that does is the one with these  
</I>&gt;<i> bizarre problems. I've compared configuration files, and they're both 
</I>&gt;<i> almost exactly the same. I can't find any major thing that's  
</I>&gt;<i> different between the two other than the rewriting. I'm using  
</I>&gt;<i> mod_rewrite to have a dynamic virtual host map. and can post the  
</I>&gt;<i> rules and conditions if necessary.
</I>
By all means post that part of your configuration which is relevant, but also
state which version of mod_python you are using. Also make it clear whether you
have different parts of the URL namespace with their own PythonHandler
directives and whether you have separated them if possible by tagging them
against different Python interpreter instances using PythonInterpreter
directive or otherwise.

Graham
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022327.html">[mod_python] Bizarre problems with rewriting URLs?
</A></li>
	<LI>Next message: <A HREF="022329.html">[mod_python] Bizarre problems with rewriting URLs?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22328">[ date ]</a>
              <a href="thread.html#22328">[ thread ]</a>
              <a href="subject.html#22328">[ subject ]</a>
              <a href="author.html#22328">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
