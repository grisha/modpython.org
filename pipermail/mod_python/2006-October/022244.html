<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Where do you put your py modules... ? [alias
	paranoid protector]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Where%20do%20you%20put%20your%20py%20modules...%20%3F%20%5Balias%0A%09paranoid%20protector%5D&In-Reply-To=9e384ef60610070311uc8c527bt1339bcf9c460d06c%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022234.html">
   <LINK REL="Next"  HREF="022246.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Where do you put your py modules... ? [alias
	paranoid protector]</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Where%20do%20you%20put%20your%20py%20modules...%20%3F%20%5Balias%0A%09paranoid%20protector%5D&In-Reply-To=9e384ef60610070311uc8c527bt1339bcf9c460d06c%40mail.gmail.com"
       TITLE="[mod_python] Where do you put your py modules... ? [alias
	paranoid protector]">grahamd at dscpl.com.au
       </A><BR>
    <I>Sat Oct  7 23:51:56 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="022234.html">[mod_python] Where do you put your py modules... ? [alias paranoid
	protector]
</A></li>
        <LI>Next message: <A HREF="022246.html">[mod_python] Re: Where do you put your py modules... ? [alias
	paranoid protector]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22244">[ date ]</a>
              <a href="thread.html#22244">[ thread ]</a>
              <a href="subject.html#22244">[ subject ]</a>
              <a href="author.html#22244">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 07/10/2006, at 8:11 PM, Durumdara wrote:

&gt;<i> Hi !
</I>&gt;<i>
</I>&gt;<i> Where do you put your py modules ?
</I>
Personally I have no issues with putting the source code which is
used to render the view in files which is in the document tree. Any
stuff which represents the model or core of the application would
certainly be put elsewhere, especially anything which may relate
to database access and could contain passwords etc.

&gt;<i> Interesting question !
</I>&gt;<i>
</I>&gt;<i> I have site, and I want to protect it.
</I>&gt;<i> Because I want to do this, I use .php extension for my main py  
</I>&gt;<i> script, something like this:
</I>&gt;<i>
</I>&gt;<i> ### index.php
</I>&gt;<i>
</I>&gt;<i> def handler(req):
</I>&gt;<i>   dir = os.dirname(__file__)+'../py'
</I>&gt;<i>   mod = import_module('realhandlerscript', path = [dir])
</I>&gt;<i>   return mod.handler(req)
</I>&gt;<i>
</I>&gt;<i> ### index.php
</I>&gt;<i> (The php extension is confusion-maker - the hackers will trying  
</I>&gt;<i> with php exploits on php site. I can set this to .jsp, or other  
</I>&gt;<i> ext, to confuse the attackers).
</I>
Why not use the appropriate extension for the type of content that
is delivered up for the resource. In other words, why not use a .html
extension. If you use that, they will have no idea what implementation
language you are using. One could also use no extension at all.

&gt;<i> my site is like this:
</I>&gt;<i> /htdocs
</I>&gt;<i> /htdocs/index.php
</I>&gt;<i> /py
</I>&gt;<i>
</I>&gt;<i> The /py is containing all of the handlers, templates, and  
</I>&gt;<i> everything that I don't want to publish directly (I publish the  
</I>&gt;<i> contents from globally controlled script).
</I>&gt;<i>
</I>&gt;<i> This is a kind of paranoia, but I fear if I confuse my apache  
</I>&gt;<i> config file, all of my sources and directories will visible as text  
</I>&gt;<i> (if I store them in the htdocs)...
</I>&gt;<i>
</I>&gt;<i> So I moved them into a lower level dir.
</I>&gt;<i>
</I>&gt;<i> It is good solution ? Or can I set in apache directory sections  
</I>&gt;<i> globally to let all of the py/psp and some of other files unvisible ?
</I>
If using SetHandler directive and an appropriate handler, you can use
something like:

   &lt;Files *.py&gt;
   deny from all
   &lt;/Files&gt;

   &lt;Files *.pyc&gt;
   deny from all
   &lt;/Files&gt;

   &lt;Files *.psp_&gt;
   deny from all
   &lt;/Files&gt;

The last one stops access to PSP source code when PythonDebug is
On and PSP is being used.

&gt;<i> Can I set globally this (un)visibility, to only server (and modpy)  
</I>&gt;<i> can see these files, but the request/users can not ?
</I>
Depends on your handler and how you are triggering it.

&gt;<i> Do you knows about any restrictions if I don't use the htdocs to  
</I>&gt;<i> store my handler scripts and other stuffs ?
</I>
Depends on how your handler is written to a degree. You do loose the
ability to use some Apache features if all you end up doing is using  
Apache
as a jumping off point and implementing all URL interpretation  
yourself. In
some respects, if you are going to do that, you may as well trigger your
handler from inside a Location directive, which since it isn't  
associated
with a physical directory cannot result in any way your source code  
being
exposed.

Graham
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022234.html">[mod_python] Where do you put your py modules... ? [alias paranoid
	protector]
</A></li>
	<LI>Next message: <A HREF="022246.html">[mod_python] Re: Where do you put your py modules... ? [alias
	paranoid protector]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22244">[ date ]</a>
              <a href="thread.html#22244">[ thread ]</a>
              <a href="subject.html#22244">[ subject ]</a>
              <a href="author.html#22244">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
