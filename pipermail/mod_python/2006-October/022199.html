<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Pager component, and Count of Elements...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Pager%20component%2C%20and%20Count%20of%20Elements...&In-Reply-To=4524D7CF.30308%40gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022198.html">
   <LINK REL="Next"  HREF="022200.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Pager component, and Count of Elements...</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Sean Davis</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Pager%20component%2C%20and%20Count%20of%20Elements...&In-Reply-To=4524D7CF.30308%40gmail.com"
       TITLE="[mod_python] Pager component, and Count of Elements...">sdavis2 at mail.nih.gov
       </A><BR>
    <I>Thu Oct  5 06:38:59 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="022198.html">[mod_python] Pager component, and Count of Elements...
</A></li>
        <LI>Next message: <A HREF="022200.html">[mod_python] Pager component, and Count of Elements...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22199">[ date ]</a>
              <a href="thread.html#22199">[ thread ]</a>
              <a href="subject.html#22199">[ subject ]</a>
              <a href="author.html#22199">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thursday 05 October 2006 06:00, durumdara wrote:
&gt;<i> Hi !
</I>&gt;<i>
</I>&gt;<i> I wrote some mails about this theme, but I forgot to ask an important
</I>&gt;<i> question:
</I>&gt;<i> How to I get the number of elements in the query... ?
</I>&gt;<i>
</I>&gt;<i> These valued needed for the Pager:
</I>&gt;<i>
</I>&gt;<i>    1. &quot;Split by&quot; - the max. record number you can see in the page.
</I>&gt;<i>    2. &quot;RecordCount&quot; - how many records you have (total) - to calc number
</I>&gt;<i>       of pages.
</I>&gt;<i>    3. &quot;ThumbCount&quot; - how many page thumb (link) you see in one page.
</I>&gt;<i>    4. &quot;Actual Page Number&quot; - where are we in the page collection.
</I>&gt;<i>
</I>&gt;<i> Simply I get every of these values except RecordCount. To get it, I must
</I>&gt;<i> count the records in the full query...
</I>&gt;<i> I have many elements (1000, 10000 or 100000), so I don't want to fetch
</I>&gt;<i> them all.
</I>&gt;<i> Because this I need to exec the query in twice, because I need to get
</I>&gt;<i> the count of elements, and I need some elements from it.
</I>&gt;<i>
</I>&gt;<i> 1.) select count(*) from ...
</I>&gt;<i> 2.) select * from ...
</I>&gt;<i>
</I>&gt;<i> Some of the databases supports &quot;repeatable read&quot; transaction isolation,
</I>&gt;<i> and they are protect the view to I get same thing in different times.
</I>&gt;<i> But if database not supports this, I can get different values with these
</I>&gt;<i> queries - example: new record inserted after COUNT(*), so number of the
</I>&gt;<i> elements is greater than in the first query...
</I>&gt;<i>
</I>&gt;<i> How do you handle this problem in MySQL, or other database that cannot
</I>&gt;<i> isolate the transactions (example) ?
</I>
I don't think that you can without locking the table, which you probably don't 
want to do for performance reasons.  Making you pager robust to slight 
variations in the total number of rows will be important in this case. 

Sean
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022198.html">[mod_python] Pager component, and Count of Elements...
</A></li>
	<LI>Next message: <A HREF="022200.html">[mod_python] Pager component, and Count of Elements...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22199">[ date ]</a>
              <a href="thread.html#22199">[ thread ]</a>
              <a href="subject.html#22199">[ subject ]</a>
              <a href="author.html#22199">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
