<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] 500 errors from authentication example
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20500%20errors%20from%20authentication%20example&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022388.html">
   <LINK REL="Next"  HREF="022390.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] 500 errors from authentication example</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20500%20errors%20from%20authentication%20example&In-Reply-To="
       TITLE="[mod_python] 500 errors from authentication example">grahamd at dscpl.com.au
       </A><BR>
    <I>Wed Oct 25 23:48:54 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="022388.html">[mod_python] 500 errors from authentication example
</A></li>
        <LI>Next message: <A HREF="022390.html">[mod_python] util.FieldStorage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22389">[ date ]</a>
              <a href="thread.html#22389">[ thread ]</a>
              <a href="subject.html#22389">[ subject ]</a>
              <a href="author.html#22389">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Doug Daniels wrote ..
&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> I had a bit of trouble running the authentication example at
</I>&gt;<i> <A HREF="http://www.modpython.org/live/current/doc-html/tut-more-complicated.html">http://www.modpython.org/live/current/doc-html/tut-more-complicated.html</A>
</I>&gt;<i> .
</I>&gt;<i> I'm working on Mac OS X v 10.4, running:
</I>&gt;<i> 
</I>&gt;<i> Apache: 2.2.3
</I>&gt;<i> Python: 2.4
</I>&gt;<i> mod_python: 3.2.10
</I>&gt;<i> 
</I>&gt;<i> When I tried to use the sample code and conf file directives, I got a 500
</I>&gt;<i> error from apache.  In the error log I saw:
</I>&gt;<i> 
</I>&gt;<i> [Wed Oct 25 22:53:30 2006] [error] [client 127.0.0.1] (9)Bad file
</I>&gt;<i> descriptor: Could not open password file: (null)
</I>&gt;<i> [Wed Oct 25 22:53:57 2006] [error] Internal error: pcfg_openfile() called
</I>&gt;<i> with NULL filename
</I>&gt;<i> 
</I>&gt;<i> As per some random advice here:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://www.mail-archive.com/pld-devel-en@lists.pld-linux.org/msg02163.html">http://www.mail-archive.com/pld-devel-en@lists.pld-linux.org/msg02163.html</A>
</I>&gt;<i> 
</I>&gt;<i> I added the 'AuthBasicAuthoritative off' directive to the directory
</I>&gt;<i> definition in the conf file, and the issue went away.
</I>&gt;<i> 
</I>&gt;<i> Anyone know what's up here?  Is this a known issue, and if so should the
</I>&gt;<i> tutorial be changed?
</I>
Things changed in Apache 2.2 to cause this. The problem has been noted
before on developer mailing list at:

  <A HREF="http://mail-archives.apache.org/mod_mbox/httpd-python-dev/200604.mbox/%3c1144896645.4228@dscpl.user.openhosting.com%3e">http://mail-archives.apache.org/mod_mbox/httpd-python-dev/200604.mbox/%3c1144896645.4228@dscpl.user.openhosting.com%3e</A>

There area a few comments there about it.

In short though, if you want to be able to supply your own handler for Basic
or Digest authentication in Apache 2.2, you need to set AuthBasicAuthoritative
to Off.

  <A HREF="http://httpd.apache.org/docs/2.2/mod/mod_auth_basic.html">http://httpd.apache.org/docs/2.2/mod/mod_auth_basic.html</A>

The preferred way in Apache 2.2 is not even to define your own handler
but provide an auth provider which implements the means to merely
authenticate the login/password. At this point in time though, mod_python
doesn't provide a means of specifying auth providers although the need
for it is recorded at:

  <A HREF="http://issues.apache.org/jira/browse/MODPYTHON-169">http://issues.apache.org/jira/browse/MODPYTHON-169</A>

So yes, the documentation needs updating, as do a lot of other areas
of the documentation. We are hoping in the future to get the documentation
into a form where that may be easier to do. At the moment the form that
the documentation is in, isn't conducive to easily making changes.

Graham
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022388.html">[mod_python] 500 errors from authentication example
</A></li>
	<LI>Next message: <A HREF="022390.html">[mod_python] util.FieldStorage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22389">[ date ]</a>
              <a href="thread.html#22389">[ thread ]</a>
              <a href="subject.html#22389">[ subject ]</a>
              <a href="author.html#22389">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
