<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] util.FieldStorage
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20util.FieldStorage&In-Reply-To=1161904093.14546%40dscpl.user.openhosting.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022399.html">
   <LINK REL="Next"  HREF="022400.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] util.FieldStorage</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Brian Bird</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20util.FieldStorage&In-Reply-To=1161904093.14546%40dscpl.user.openhosting.com"
       TITLE="[mod_python] util.FieldStorage">Brian.Bird at securetrading.com
       </A><BR>
    <I>Fri Oct 27 04:12:08 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="022399.html">[mod_python] util.FieldStorage
</A></li>
        <LI>Next message: <A HREF="022400.html">[mod_python] util.FieldStorage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22404">[ date ]</a>
              <a href="thread.html#22404">[ thread ]</a>
              <a href="subject.html#22404">[ subject ]</a>
              <a href="author.html#22404">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Well, in my case, the keys I want to set on the FieldStorage are
guaranteed not to already exist, so either way would be fine. However,
reading your email, FWIW it seems to make sense to me to be additive.

Perhaps if the documentation on util.FieldStorage is updated to reflect
this it would be fine. The only reason this 'problem' came about for me
was because I read the docs saying it works like a dictionary (except
for a few extra methods) and didn't stop to consider your points.

Similarly in my case I know the key I want to delete will only contain
one value, but I would probably expect it to delete all values
associated with a key if there was more than one.

Brian

&gt;<i> The issue with __setitem__() is whether it should be additive or
</I>whether
&gt;<i> it
</I>&gt;<i> should replace. The current add_field() member in 3.3 is additive.
</I>That
&gt;<i> is, if
</I>&gt;<i> a value for that key is already there, it adds an extra value against
</I>the
&gt;<i> key
</I>&gt;<i> rather than replacing any existing value. In Trac &lt; 0.10.0 from memory
</I>&gt;<i> they
</I>&gt;<i> provided their own __setitem__() in a derived version of the class
</I>which
&gt;<i> effectively did what add_field() did, ie., it was additive, which
</I>isn't
&gt;<i> what
</I>&gt;<i> many would expect of a dictionary. For __delitem__() only choice is
</I>too
&gt;<i> delete all values associated with a key, not way to delete one value
</I>&gt;<i> although
</I>&gt;<i> one has to question why you might anyway. For setdefault(), second
</I>&gt;<i> argument
</I>&gt;<i> to get() achieves same outcome.
</I>&gt;<i> 
</I>&gt;<i> The main question then is how would people expect __setitem__() to
</I>&gt;<i> behave?
</I>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022399.html">[mod_python] util.FieldStorage
</A></li>
	<LI>Next message: <A HREF="022400.html">[mod_python] util.FieldStorage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22404">[ date ]</a>
              <a href="thread.html#22404">[ thread ]</a>
              <a href="subject.html#22404">[ subject ]</a>
              <a href="author.html#22404">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
