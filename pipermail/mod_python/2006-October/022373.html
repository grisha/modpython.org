<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Lama - I don't understand basic auth...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Lama%20-%20I%20don%27t%20understand%20basic%20auth...&In-Reply-To=4538A767.7010300%40gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022372.html">
   <LINK REL="Next"  HREF="022375.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Lama - I don't understand basic auth...</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Lama%20-%20I%20don%27t%20understand%20basic%20auth...&In-Reply-To=4538A767.7010300%40gmail.com"
       TITLE="[mod_python] Lama - I don't understand basic auth...">grahamd at dscpl.com.au
       </A><BR>
    <I>Fri Oct 20 07:40:25 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="022372.html">[mod_python] Lama - I don't understand basic auth...
</A></li>
        <LI>Next message: <A HREF="022375.html">[mod_python] Lama - I don't understand basic auth...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22373">[ date ]</a>
              <a href="thread.html#22373">[ thread ]</a>
              <a href="subject.html#22373">[ subject ]</a>
              <a href="author.html#22373">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>When you use HTTP Basic authentication, once the user has authenticated
the credentials are stored in the web browser and supplied on each  
request
automatically by the web browser. How long the web browser remembers
those credentials depends on whether you tell the browser to remember
the credentials indefinitely when presented with the login popup window.
There isn't really a way of a server side application telling the web  
browser
to forget the credentials.

In terms of what you are trying to do, people do not usually use HTTP  
Basic
authentication. Instead they used forms based login backed up by  
sessions
on the server side to monitor sessions times and implement timeouts.

So for starters, don't use HTTP Basic authentication, as it will be  
quite hard
for you to do what you want using it.

Sorry, don't have any time to go into it further. There is an old  
example of
doing forms based login in Vampire which you can browser through at:

   <A HREF="http://svn.dscpl.com.au/vampire/trunk/examples/session/">http://svn.dscpl.com.au/vampire/trunk/examples/session/</A>

Personally I wouldn't do it this way now as in mod_python 3.3 there  
are some
nicer ways of doing all this. It is also tied to how Vampire works,  
but it still may
be of interest and give you some ideas of the general principles of  
how it might
be done. Am sure others will pipe in with suggestions as well and  
perhaps a
simpler example. It is quite tricky to get completely right though.

Graham

On 20/10/2006, at 8:39 PM, durumdara wrote:

&gt;<i> Hi !
</I>&gt;<i>
</I>&gt;<i> I want to create a site with restricted area.
</I>&gt;<i> I use apache auth., but I don't know, how to controll it later.
</I>&gt;<i> The documentation is very laconic in this theme, and I cannot  
</I>&gt;<i> understand, how to join/link my dbmsession based user management  
</I>&gt;<i> with this auth. method.
</I>&gt;<i>
</I>&gt;<i> I need a restricted area that containing private informations,  
</I>&gt;<i> pages that I don't want to show.
</I>&gt;<i> Apache can keep out the non-valid users.
</I>&gt;<i> In normal way of the login when I want to intrude to a restricted  
</I>&gt;<i> area, a login form I get.
</I>&gt;<i> Then I can auth. myself, and the application is store UserID,  
</I>&gt;<i> LoginTime, etc.
</I>&gt;<i> After that I can see the content I need.
</I>&gt;<i>
</I>&gt;<i> This section of my code/site I can create, because in the auth.  
</I>&gt;<i> handler script I can login, later in the req. handler script I can  
</I>&gt;<i> catch the username, and if I don't have specific values in Session,  
</I>&gt;<i> I can write them into user Session.
</I>&gt;<i> Later I can check these values, and I can control  the page view.
</I>&gt;<i>
</I>&gt;<i> BUT !
</I>&gt;<i> I don't know, how to control this Apache auth. later.
</I>&gt;<i> If Session time expired, I need to clear the Apache auth. values  
</I>&gt;<i> (user, pwd). If don't do this the apache auth. handler allow to  
</I>&gt;<i> access the restricted files.
</I>&gt;<i> When this Apache auth. finished ? How to I force to finish/expire ?
</I>&gt;<i>
</I>&gt;<i> Or I understand something wrong ?
</I>&gt;<i>
</I>&gt;<i> Thanks for your help:
</I>&gt;<i>    dd
</I>&gt;<i>
</I>&gt;<i> &lt;Directory &quot;C:/web/htdocs/club&quot;&gt;
</I>&gt;<i>    AddHandler mod_python .py
</I>&gt;<i>    PythonHandler index
</I>&gt;<i>    PythonAuthenHandler index
</I>&gt;<i>    PythonDebug On
</I>&gt;<i>    AuthType Basic
</I>&gt;<i>    AuthName &quot;Restricted Area&quot;
</I>&gt;<i>    require valid-user
</I>&gt;<i> &lt;/Directory&gt;
</I>&gt;<i>
</I>&gt;<i> from mod_python import apache
</I>&gt;<i>
</I>&gt;<i> def authenhandler(req):
</I>&gt;<i>    pw = req.get_basic_auth_pw()
</I>&gt;<i>    user = req.user
</I>&gt;<i>    if user == &quot;spam&quot; and pw == &quot;eggs&quot;:
</I>&gt;<i>       return apache.OK
</I>&gt;<i>    else:
</I>&gt;<i>       return apache.HTTP_UNAUTHORIZED
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I></PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022372.html">[mod_python] Lama - I don't understand basic auth...
</A></li>
	<LI>Next message: <A HREF="022375.html">[mod_python] Lama - I don't understand basic auth...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22373">[ date ]</a>
              <a href="thread.html#22373">[ thread ]</a>
              <a href="subject.html#22373">[ subject ]</a>
              <a href="author.html#22373">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
