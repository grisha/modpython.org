<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Mysterious 500 error?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Mysterious%20500%20error%3F&In-Reply-To=469931B3.7030908%40shinners.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024005.html">
   <LINK REL="Next"  HREF="024008.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Mysterious 500 error?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Mysterious%20500%20error%3F&In-Reply-To=469931B3.7030908%40shinners.org"
       TITLE="[mod_python] Mysterious 500 error?">graham.dumpleton at gmail.com
       </A><BR>
    <I>Sat Jul 14 20:31:09 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024005.html">[mod_python] Mysterious 500 error?
</A></li>
        <LI>Next message: <A HREF="024008.html">[mod_python] Mysterious 500 error?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24006">[ date ]</a>
              <a href="thread.html#24006">[ thread ]</a>
              <a href="subject.html#24006">[ subject ]</a>
              <a href="author.html#24006">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'd suggest you browser is also seeing a 500 response, but because
page content is being returned it doesn't care and still displays the
page. Use Firefox live headers or similar to confirm.

My only guess is that your Apache configuration is wrong and you have
somehow managed to create a stacked set of handlers by listing
PythonHandler directive more than once. The first one generates the
correct response, but the second is failing resulting in a 500 status
overriding the firsts 200 response.

What does you Apache configuration snippet look like where you have
defined PythonHandler etc?

Graham

On 15/07/07, Peter Shinners &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">pete at shinners.org</A>&gt; wrote:
&gt;<i> I have a simple mod_python handler that works correctly for web browsers,
</I>&gt;<i> but fetching with wget gives a 500 Internal Server Error. This is using
</I>&gt;<i> the latest mod_python 2.7 under Apache 1.3.37. I can't see any problem.
</I>&gt;<i> The only different I see is perhaps HTTP/1.1 and HTTP/1.0 ?
</I>&gt;<i>
</I>&gt;<i> You can test the live url here, <A HREF="http://www.shinners.org/iCream/magic.html">http://www.shinners.org/iCream/magic.html</A>
</I>&gt;<i>
</I>&gt;<i> Here is the handler code...
</I>&gt;<i>
</I>&gt;<i> def handler(req):
</I>&gt;<i>      path = req.uri.split(&quot;/&quot;, 2)[-1]
</I>&gt;<i>      if path == &quot;magic.html&quot;:
</I>&gt;<i>          req.content_type = &quot;text/html&quot;
</I>&gt;<i>          req.status = apache.OK
</I>&gt;<i>          req.send_http_header()
</I>&gt;<i>          req.write(&quot;&lt;html&gt;&lt;body&gt;It is ok&lt;/body&gt;&lt;/html&gt;&quot;)
</I>&gt;<i>          return apache.OK
</I>&gt;<i>      # ... other urls handled afterwards
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On the client end, these are the headers I get back.
</I>&gt;<i>
</I>&gt;<i> Date:Sat, 14 Jul 2007 20:16:07 GMT
</I>&gt;<i> Server:Apache
</I>&gt;<i> Keep-Alive:timeout=5, max=50
</I>&gt;<i> Connection:Keep-Alive
</I>&gt;<i> Transfer-Encoding:chunked
</I>&gt;<i> Content-Type:text/html
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Here are the requests I see in the server log. I see a difference between
</I>&gt;<i> HTTP/1.1 and HTTP/1.0 ?
</I>&gt;<i>
</I>&gt;<i> 76.168.41.58 - - [14/Jul/2007:16:16:08 -0400] &quot;GET /iCream/magic.html
</I>&gt;<i> HTTP/1.1&quot; - 46 &quot;-&quot; &quot;Mozilla/5.0 (X11; U; Linux i686; en; rv:1.8.1.4)
</I>&gt;<i> Gecko/20061201 Epiphany/2.18 Firefox/2.0.0.4 (Ubuntu-feisty)&quot;
</I>&gt;<i>
</I>&gt;<i> 76.168.41.58 - - [14/Jul/2007:16:10:41 -0400] &quot;GET /iCream/magic.html
</I>&gt;<i> HTTP/1.0&quot; - 34 &quot;-&quot; &quot;Wget/1.10.2&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I'm not seeing anything show up in the server error logs, but it doesn't
</I>&gt;<i> look like I'm getting the raw logs given to me.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I></PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024005.html">[mod_python] Mysterious 500 error?
</A></li>
	<LI>Next message: <A HREF="024008.html">[mod_python] Mysterious 500 error?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24006">[ date ]</a>
              <a href="thread.html#24006">[ thread ]</a>
              <a href="subject.html#24006">[ subject ]</a>
              <a href="author.html#24006">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
