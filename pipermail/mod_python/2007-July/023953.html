<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] mod_python on FreeBSD 6.1 gives Syntax error -
	mod_python.so: unsupported file layout
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20on%20FreeBSD%206.1%20gives%20Syntax%20error%20-%0A%09mod_python.so%3A%20unsupported%20file%20layout&In-Reply-To=CEABD77036C54B10B3BEE959321D84B6%40persistent.co.in">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023952.html">
   <LINK REL="Next"  HREF="023955.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] mod_python on FreeBSD 6.1 gives Syntax error -
	mod_python.so: unsupported file layout</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20on%20FreeBSD%206.1%20gives%20Syntax%20error%20-%0A%09mod_python.so%3A%20unsupported%20file%20layout&In-Reply-To=CEABD77036C54B10B3BEE959321D84B6%40persistent.co.in"
       TITLE="[mod_python] mod_python on FreeBSD 6.1 gives Syntax error -
	mod_python.so: unsupported file layout">graham.dumpleton at gmail.com
       </A><BR>
    <I>Mon Jul  2 01:22:26 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023952.html">[mod_python] mod_python on FreeBSD 6.1 gives Syntax error -
	mod_python.so: unsupported file layout
</A></li>
        <LI>Next message: <A HREF="023955.html">[mod_python] mod_python on FreeBSD 6.1 gives Syntax error -
	mod_python.so: unsupported file layout
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23953">[ date ]</a>
              <a href="thread.html#23953">[ thread ]</a>
              <a href="subject.html#23953">[ subject ]</a>
              <a href="author.html#23953">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Have you tried what Jeff suggested, which was to use the BSD ports
versions rather than build directly from your own source code?

Graham

On 02/07/07, Anthony Raj &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">anthony_raj at persistent.co.in</A>&gt; wrote:
&gt;<i> Hi Graham,
</I>&gt;<i>
</I>&gt;<i> It ran correctly with the following configuration -
</I>&gt;<i> No errors were detected while the linking any lib.
</I>&gt;<i> Need to look carefully at the error generated.
</I>&gt;<i> AFAIK , it got installed without lib related errors.
</I>&gt;<i>
</I>&gt;<i> -------
</I>&gt;<i> 1.      Install apr 1.2.8
</I>&gt;<i> Install Steps :
</I>&gt;<i> ./configure --prefix=/local/apr-util-httpd --with-apr=/local/apr-httpd
</I>&gt;<i> make
</I>&gt;<i> make install
</I>&gt;<i> ----
</I>&gt;<i>
</I>&gt;<i> 2. Install apr-util 1.2.8
</I>&gt;<i>         - apr-util has bug for 64 bit Arch. Need to patch it first.
</I>&gt;<i> <A HREF="http://www.weblogs.uhi.ac.uk/sm00ay/?p=196">http://www.weblogs.uhi.ac.uk/sm00ay/?p=196</A>
</I>&gt;<i> <A HREF="http://issues.apache.org/bugzilla/show_bug.cgi?id=28205">http://issues.apache.org/bugzilla/show_bug.cgi?id=28205</A>
</I>&gt;<i> Install Steps :
</I>&gt;<i> ./configure --prefix=/local/apr-httpd
</I>&gt;<i> make
</I>&gt;<i> make install
</I>&gt;<i> ----
</I>&gt;<i>
</I>&gt;<i> 3.      Install httpd 2.2.4
</I>&gt;<i> Install Steps :
</I>&gt;<i>
</I>&gt;<i>         ./configure --prefix=/local/apache-ast --with-apr=/local/apr-httpd/
</I>&gt;<i> --with-apr-util=/local/apr-util-httpd/
</I>&gt;<i> make
</I>&gt;<i> make install
</I>&gt;<i> ----
</I>&gt;<i>
</I>&gt;<i> 4. Install mod_python 3.3.1
</I>&gt;<i>         Install Steps:
</I>&gt;<i>         ./configure --with-apxs=/local/apache-ast/bin/apxs
</I>&gt;<i> make
</I>&gt;<i> make install
</I>&gt;<i> ----
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> Anthony
</I>&gt;<i>
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: Graham Dumpleton [mailto:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">graham.dumpleton at gmail.com</A>]
</I>&gt;<i> Sent: Sunday, July 01, 2007 7:04 AM
</I>&gt;<i> To: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">anthony_raj at persistent.co.in</A>
</I>&gt;<i> Cc: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">rajeev.nair at gridstoneresearch.com</A>
</I>&gt;<i> Subject: Re: [mod_python] mod_python on FreeBSD 6.1 gives Syntax error -
</I>&gt;<i> mod_python.so: unsupported file layout
</I>&gt;<i>
</I>&gt;<i> Usually these problems are caused through using the mod_python.so with
</I>&gt;<i> a version of Apache which is different to the version of Apache that
</I>&gt;<i> mod_python was compiled against. This can especially occur where you
</I>&gt;<i> have a standard OS installation of Apache but you try and use an
</I>&gt;<i> alternate version under /usr/local/ or elsewhere.
</I>&gt;<i>
</I>&gt;<i> What options did you use with 'configure' when you ran it? Did the
</I>&gt;<i> compile line correctly pick up includes and libraries from the version
</I>&gt;<i> under /usr/local?
</I>&gt;<i>
</I>&gt;<i> Graham
</I>&gt;<i>
</I>&gt;<i> On 01/07/07, Anthony Raj &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">anthony_raj at persistent.co.in</A>&gt; wrote:
</I>&gt;<i> &gt; Hi Folks,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Have come to the community with a new issue with regard to installing
</I>&gt;<i> mod_python on FreeBSD.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Eariler had installed apache/mod_python on
</I>&gt;<i> &gt; Suse 10 / 64 Arch.
</I>&gt;<i> &gt; - Apache 2.2.4
</I>&gt;<i> &gt; - mod_python 3.3.1
</I>&gt;<i> &gt; - apr 1.2.8
</I>&gt;<i> &gt; - apr-util 1.2.8
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; problems -
</I>&gt;<i> &gt; The issue with mod_python being installed in to locations.
</I>&gt;<i> &gt; Managed to get it working on this setup sucessfully.
</I>&gt;<i> &gt; ---
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Now I've installed the same configuration on
</I>&gt;<i> &gt; Free BSD 6.1 32 Arch.
</I>&gt;<i> &gt; &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt; FreeBSD perputo3.inetu.net 6.1-RELEASE-p3 FreeBSD 6.1-RELEASE-p3 #107: Mon
</I>&gt;<i> Nov  6 20:31:10 EST 2006     <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">root at turnip.inetu.org</A>:/usr/obj/usr/src/sys/INU6
</I>&gt;<i> i386
</I>&gt;<i> &gt; &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Installation was completed successfully for all the above modules.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; But after adding the required configuration line -
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; LoadModule python_module modules/mod_python.so
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; And restarting apache , it throws the following error
</I>&gt;<i> &gt; &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt; /usr/local/apache-ast&gt;./bin/apachectl start
</I>&gt;<i> &gt; httpd: Syntax error on line 54 of /usr/local/apache-ast/conf/httpd.conf:
</I>&gt;<i> Cannot load /usr/local/apache-ast/modules/mod_python.so into server:
</I>&gt;<i> /usr/local/apache-ast/modules/mod_python.so: unsupported file layout
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The required mod_python.so appears to be installed in
</I>&gt;<i> &gt; /usr/local/apache-ast/modules directory.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt; /usr/local/apache-ast&gt;ls -l modules/
</I>&gt;<i> &gt; total 1738
</I>&gt;<i> &gt; -rw-r--r--  1 root  wheel     8951 Jun 29 10:19 httpd.exp
</I>&gt;<i> &gt; -rwxr-xr-x  1 root  wheel  1739997 Jun 29 10:50 mod_python.so
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Have also added the following lines in the config file -
</I>&gt;<i> &gt; &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt; &lt;Directory &quot;/usr/local/apache-ast/htdocs&quot;&gt;
</I>&gt;<i> &gt;       AddHandler mod_python .py
</I>&gt;<i> &gt;       PythonHandler mod_python.publisher
</I>&gt;<i> &gt;       PythonDebug On
</I>&gt;<i> &gt; &lt;/Directory&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Any one knows if there is any bug with mod_python installation on FreeBSD
</I>&gt;<i> 6.1. Please let me know in case you there is anything that is missing in the
</I>&gt;<i> install steps.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Or is there any port of mod_python for Free BSD that needs to be used
</I>&gt;<i> here.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Please let me know your advice on the same.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; cheers,
</I>&gt;<i> &gt; Anthony
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; DISCLAIMER
</I>&gt;<i> &gt; ==========
</I>&gt;<i> &gt; This e-mail may contain privileged and confidential information which is
</I>&gt;<i> the property of Persistent Systems Pvt. Ltd. It is intended only for the use
</I>&gt;<i> of the individual or entity to which it is addressed. If you are not the
</I>&gt;<i> intended recipient, you are not authorized to read, retain, copy, print,
</I>&gt;<i> distribute or use this message. If you have received this communication in
</I>&gt;<i> error, please notify the sender and delete all copies of this message.
</I>&gt;<i> Persistent Systems Pvt. Ltd. does not accept any liability for virus
</I>&gt;<i> infected mails.
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mod_python mailing list
</I>&gt;<i> &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> DISCLAIMER
</I>&gt;<i> ==========
</I>&gt;<i> This e-mail may contain privileged and confidential information which is the property of Persistent Systems Pvt. Ltd. It is intended only for the use of the individual or entity to which it is addressed. If you are not the intended recipient, you are not authorized to read, retain, copy, print, distribute or use this message. If you have received this communication in error, please notify the sender and delete all copies of this message. Persistent Systems Pvt. Ltd. does not accept any liability for virus infected mails.
</I>&gt;<i>
</I></PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023952.html">[mod_python] mod_python on FreeBSD 6.1 gives Syntax error -
	mod_python.so: unsupported file layout
</A></li>
	<LI>Next message: <A HREF="023955.html">[mod_python] mod_python on FreeBSD 6.1 gives Syntax error -
	mod_python.so: unsupported file layout
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23953">[ date ]</a>
              <a href="thread.html#23953">[ thread ]</a>
              <a href="subject.html#23953">[ subject ]</a>
              <a href="author.html#23953">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
