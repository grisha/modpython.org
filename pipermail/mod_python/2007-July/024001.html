<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] PythonAutoReload Problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20PythonAutoReload%20Problem&In-Reply-To=1184170520.12916.16.camel%40localhost.localdomain">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024000.html">
   <LINK REL="Next"  HREF="024005.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] PythonAutoReload Problem</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20PythonAutoReload%20Problem&In-Reply-To=1184170520.12916.16.camel%40localhost.localdomain"
       TITLE="[mod_python] PythonAutoReload Problem">graham.dumpleton at gmail.com
       </A><BR>
    <I>Wed Jul 11 23:18:10 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024000.html">[mod_python] PythonAutoReload Problem
</A></li>
        <LI>Next message: <A HREF="024005.html">[mod_python] Mysterious 500 error?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24001">[ date ]</a>
              <a href="thread.html#24001">[ thread ]</a>
              <a href="subject.html#24001">[ subject ]</a>
              <a href="author.html#24001">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 12/07/07, ron banks &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">rebcoair at cfl.rr.com</A>&gt; wrote:
&gt;<i> Hi Chris,
</I>&gt;<i>
</I>&gt;<i> I'll let someone else set you straight on this but if you search this
</I>&gt;<i> mailing list you will find that it is best to always restart Apache to
</I>&gt;<i> be sure that you have the most current code module loaded. If you don't
</I>&gt;<i> my understanding is that you can't be sure. I know this because I just
</I>&gt;<i> researched it recently myself for the same reasons. I'm sure someone
</I>&gt;<i> will correct me if I am misspeaking.
</I>
In mod_python 3.3 there is now a clear line between standard Python
modules and packages which are found by searching sys.path, and those
Python code file modules which are found in the document tree and on
the module importer path. Modules and packages which are found on
sys.path are never reloaded, so making changes to them will always
require a full restart of Apache. The PythonAutoReload directive
doesn't in any way affect importing of those modules and packages.

Python code file modules in the document tree which contain mod_python
handlers, or which contain mod_python.publisher published functions
and data are however candidates for module reloading. In mod_python
3.3 the module importer is smart enough to track parent/child
relationships between modules and thus even know to reimport a parent
module when the child has changed.

In summary, if using version of mod_python prior to 3.3, it wasn't
always predictable and thus full restarts were often required. In
mod_python 3.3, if you setup you application code such that the
mod_python module importer is always used to import it, then you can
go quite a fair way in changing code and not having to do a full
restart, with mod_python automatically reloading modules as necessary.

For further reading, consult documentation for import_module() in:

  <A HREF="http://www.modpython.org/live/current/doc-html/pyapi-apmeth.html">http://www.modpython.org/live/current/doc-html/pyapi-apmeth.html</A>

For a long list of problems solved in mod_python 3.3 in respect of
module importing, see:

  <A HREF="http://www.dscpl.com.au/wiki/ModPython/Articles/ModuleImportingIsBroken">http://www.dscpl.com.au/wiki/ModPython/Articles/ModuleImportingIsBroken</A>

Graham

&gt;<i> PythonAutoReload is on by default by the way. This directive is there to
</I>&gt;<i> give you the option to turn it off.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Ron
</I>&gt;<i>
</I>&gt;<i> On Wed, 2007-07-11 at 09:00 -0700, Chris wrote:
</I>&gt;<i> &gt; I noticed that sometimes I have to restart Apache before my changes
</I>&gt;<i> &gt; are visible in the browser. I then learned that &quot;PythonAutoReload On&quot;
</I>&gt;<i> &gt; should fix this. However, my problem is that the URL being requested
</I>&gt;<i> &gt; is not a file that was updated so it's not automatically reloading.
</I>&gt;<i> &gt; Does anyone know any tricks to get around this?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thanks,
</I>&gt;<i> &gt; Chris
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ______________________________________________________________________
</I>&gt;<i> &gt; Get the free Yahoo! toolbar and rest assured with the added security
</I>&gt;<i> &gt; of spyware protection.
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mod_python mailing list
</I>&gt;<i> &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I></PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024000.html">[mod_python] PythonAutoReload Problem
</A></li>
	<LI>Next message: <A HREF="024005.html">[mod_python] Mysterious 500 error?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24001">[ date ]</a>
              <a href="thread.html#24001">[ thread ]</a>
              <a href="subject.html#24001">[ subject ]</a>
              <a href="author.html#24001">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
