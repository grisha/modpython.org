<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Current working directory
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Current%20working%20directory&In-Reply-To=20011102173647.E20474%40vestdata.no">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001118.html">
   <LINK REL="Next"  HREF="001131.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Current working directory</H1>
    <B>Gregory (Grisha) Trubetskoy</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Current%20working%20directory&In-Reply-To=20011102173647.E20474%40vestdata.no"
       TITLE="[mod_python] Current working directory">grisha at modpython.org
       </A><BR>
    <I>Mon Nov  5 00:53:35 EST 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="001118.html">[mod_python] Current working directory
</A></li>
        <LI>Next message: <A HREF="001131.html">[mod_python] Current working directory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1120">[ date ]</a>
              <a href="thread.html#1120">[ thread ]</a>
              <a href="subject.html#1120">[ subject ]</a>
              <a href="author.html#1120">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>mod_python doesn't change the current directory, so it's whatever apache
happens to have as cwd, probably the dir from which it was started.

really old versions used to behave exactly as you say, but this had to be
removed, because changing cwd is not a thread-safe operation.

my recommendation is to avoid chdir() and use full paths

grisha

On Fri, 2 Nov 2001, [iso-8859-1] Ragnar Kj&#1068;rstad wrote:

&gt;<i> Hi
</I>&gt;<i>
</I>&gt;<i> How does the current working directory get set when working with
</I>&gt;<i> mod_python?
</I>&gt;<i>
</I>&gt;<i> The problem is that my handler (and modules imported by the handler) is
</I>&gt;<i> trying to access local files, but it can't find them because the current
</I>&gt;<i> directory is not set &quot;properly&quot;.
</I>&gt;<i>
</I>&gt;<i> I tried adding os.chdir() in my handler, but it seems the cwd is still
</I>&gt;<i> random for modules imported from my handler.
</I>&gt;<i>
</I>&gt;<i> Maybe someone could shed some light on this?
</I>&gt;<i>
</I>&gt;<i> I think the best thing would be that the directory of the handler would
</I>&gt;<i> be the cwd both when importing the handler and other modules, but if I
</I>&gt;<i> could only set it manually that would also be ok.
</I>&gt;<i>
</I>&gt;<i> Thanks.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Ragnar Kj&#1068;rstad
</I>&gt;<i> Zet.no
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://www.modpython.org/mailman/listinfo/mod_python">http://www.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001118.html">[mod_python] Current working directory
</A></li>
	<LI>Next message: <A HREF="001131.html">[mod_python] Current working directory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1120">[ date ]</a>
              <a href="thread.html#1120">[ thread ]</a>
              <a href="subject.html#1120">[ subject ]</a>
              <a href="author.html#1120">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
