<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Apache EAPI
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Apache%20EAPI&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001144.html">
   <LINK REL="Next"  HREF="001147.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Apache EAPI</H1>
    <B>Rich Salz</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Apache%20EAPI&In-Reply-To="
       TITLE="[mod_python] Apache EAPI">rsalz at zolera.com
       </A><BR>
    <I>Fri Nov  9 09:37:25 EST 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="001144.html">[mod_python] Apache EAPI
</A></li>
        <LI>Next message: <A HREF="001147.html">[mod_python] Consequences of using threaded Python?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1145">[ date ]</a>
              <a href="thread.html#1145">[ thread ]</a>
              <a href="subject.html#1145">[ subject ]</a>
              <a href="author.html#1145">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> As fas as I understand, if Apache didn't crash immediately after or even
</I>&gt;<i> before issuing the EAPI warning, then you're using one of those C
</I>&gt;<i> compliers (gcc probably) that fill missing parts of strucures with NULLs
</I>&gt;<i> and you're safe.
</I>
The issue is not that parts are missing, but that the structure changed
size.

You got lucky.  It might be you got lucky all the time, it might be you
got lucky each time the program started.

It's like this.  Create a file foo.c:
	char buf[4] = { 'h', 'i', 't', 't' };
	int x = 1234;
Create a file bar.c
	#include &lt;stdio.h&gt;
	extern char buf[8];
	int main(int ac, char **av) {
		printf(&quot;%s\n&quot;, buf);
		return 0;
	}
Compile and run
	cc foo.c bar.c ; ./a.out

It all depends on how your compiler and linker and operating system lay
out the data.

The ONLY safe thing to do is compile ALL your modules with -DEAPI

-- 
Zolera Systems, Your Key to Online Integrity
Securing Web services: XML, SOAP, Dig-sig, Encryption
<A HREF="http://www.zolera.com">http://www.zolera.com</A>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001144.html">[mod_python] Apache EAPI
</A></li>
	<LI>Next message: <A HREF="001147.html">[mod_python] Consequences of using threaded Python?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1145">[ date ]</a>
              <a href="thread.html#1145">[ thread ]</a>
              <a href="subject.html#1145">[ subject ]</a>
              <a href="author.html#1145">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
