<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Setting content location
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Setting%20content%20location&In-Reply-To=5.2.0.9.0.20030417083751.01947db0%40192.168.0.1">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013575.html">
   <LINK REL="Next"  HREF="013577.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Setting content location</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Gregory (Grisha) Trubetskoy</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Setting%20content%20location&In-Reply-To=5.2.0.9.0.20030417083751.01947db0%40192.168.0.1"
       TITLE="[mod_python] Setting content location">grisha at modpython.org
       </A><BR>
    <I>Wed Apr 16 21:33:56 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="013575.html">[mod_python] Setting content location
</A></li>
        <LI>Next message: <A HREF="013577.html">[mod_python] Setting content location
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13576">[ date ]</a>
              <a href="thread.html#13576">[ thread ]</a>
              <a href="subject.html#13576">[ subject ]</a>
              <a href="author.html#13576">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>First, make sure that you're setting headers prior to the first byte of
output written, because otherwise the headers have gone out already and
setting them is meaningless.

If that doesn't help it, please provide more info about your environment.
Note that mod_python 3.0.1 (and all prior versions) had a bug that would
not send headers correctly if you were using a DirectoryIndex directive
pointing to a mod_python handled location.

Grisha

On Thu, 17 Apr 2003, Robert Leftwich wrote:

&gt;<i> I'm a newbie playing with mod_python (which I think is great, so far at
</I>&gt;<i> least :-)) and I need to set a header to be returned to the client after
</I>&gt;<i> processing an http post request. In my case I want to set the
</I>&gt;<i> Content-Location header to a newly created URL  (fyi I'm attempting to
</I>&gt;<i> implement a REST-based web service) and I have the following code in the
</I>&gt;<i> handler :
</I>&gt;<i>
</I>&gt;<i> def handler(req):
</I>&gt;<i>      if req.method == 'POST':
</I>&gt;<i>         ...
</I>&gt;<i>          req.headers_out[&quot;Content-Location&quot;] = &quot;/foo/bar&quot;
</I>&gt;<i>          return apache.HTTP_CREATED
</I>&gt;<i>
</I>&gt;<i> But I don't see the Content-Location header being set in my client. What am
</I>&gt;<i> I missing?
</I>&gt;<i>
</I>&gt;<i> Robert
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://www.modpython.org/mailman/listinfo/mod_python">http://www.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013575.html">[mod_python] Setting content location
</A></li>
	<LI>Next message: <A HREF="013577.html">[mod_python] Setting content location
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13576">[ date ]</a>
              <a href="thread.html#13576">[ thread ]</a>
              <a href="subject.html#13576">[ subject ]</a>
              <a href="author.html#13576">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
