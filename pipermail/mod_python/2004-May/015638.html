<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Python started with -U option as an Apache handler
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Python%20started%20with%20-U%20option%20as%20an%20Apache%20handler&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015636.html">
   <LINK REL="Next"  HREF="015640.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Python started with -U option as an Apache handler</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Diener, Edward</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Python%20started%20with%20-U%20option%20as%20an%20Apache%20handler&In-Reply-To="
       TITLE="[mod_python] Python started with -U option as an Apache handler">Edward.Diener at loyaltyworks.com
       </A><BR>
    <I>Wed May 19 14:24:00 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="015636.html">[mod_python] Python started with -U option as an Apache handler
</A></li>
        <LI>Next message: <A HREF="015640.html">[mod_python] Controlling authentication at run-time
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15638">[ date ]</a>
              <a href="thread.html#15638">[ thread ]</a>
              <a href="subject.html#15638">[ subject ]</a>
              <a href="author.html#15638">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Problem has been solved by having my first bang line in the .py file end
in python -u

	-----Original Message-----
	From: Michael C. Neel [mailto:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">neel at mediapulse.com</A>] 
	Sent: Wednesday, May 19, 2004 1:00 PM
	To: Diener, Edward
	Cc: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
	Subject: RE: [mod_python] Python started with -U option as an
Apache handler
	
	
	I take it your using FieldStorage class of mod_python correct?
Take a look at the docs should help:
	
	<A HREF="http://modpython.org/live/current/doc-html/pyapi-util-fstor.html">http://modpython.org/live/current/doc-html/pyapi-util-fstor.html</A>
	
<A HREF="http://modpython.org/live/current/doc-html/pyapi-util-fstor-fld.html">http://modpython.org/live/current/doc-html/pyapi-util-fstor-fld.html</A>
	
	And since you mention you've used cgi in the past, take note of
the folling in the docs:
	
	&quot;Note: Unlike the standard library cgi module FieldStorage
class, a Field object is returned only when it is a file upload. In all
other cases the return is an instance of StringField. This means that
you do not need to use the .value attribute to access values of fields
in most cases.&quot;
	
	I don't use the FieldStorage class, but it looks like you want
form[&quot;AFormField&quot;].file
	
	Mike
	
	On Wed, 2004-05-19 at 12:33, Diener, Edward wrote: 

		The form has 
		
		enctype=&quot;multipart/form-data&quot;
		
		In the HTML page.
		
		I don't see why the form's enctype should affect how CGI
creates a
		string from a file when one specifies
form[&quot;AFormField&quot;].value for a
		form field of &lt;input type=&quot;file&quot; name=&quot;AFormField&quot;&gt; but
I will take any
		help I can get on this. Evidently when CGI creates a
string from the
		file name when this access is done, it is opening the
file as a text
		file rather than a binary file, which is not good.
		
		-----Original Message-----
		From: Michael C. Neel [mailto:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">neel at mediapulse.com</A>] 
		Sent: Wednesday, May 19, 2004 11:52 AM
		To: Diener, Edward
		Cc: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
		Subject: Re: [mod_python] Python started with -U option
as an Apache
		handler
		
		
		I've handled serveral file types in mod_python from
uploaded forms, and
		didn't need anything special set.  If your not getting
the files, check
		that the form has the correct enctype set.  If you are
getting data
		that's incorrect, post some details on how you are
accessing the files
		to the list.
		
		Mike
		
		On Wed, 2004-05-19 at 11:22, Diener, Edward wrote: 
		How do I get Apache to start python with the -U option
when it is used
		in an AddHandler statement ? When using straight CGI,
and the file
		upload functionality in it, python must be started with
the -U option in
		order for it to upload binary files, as opposed to text
files,
		correctly.
		
		
		
		_______________________________________________
		Mod_python mailing list
		<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
		<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
&lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>&gt; 
		__________________________________
<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">michael.neel at mediapulse.comvice</A>
		president of information systems865.675.4455
		x30800.380.4514www.mediapulse.com
&lt;<A HREF="http://www.mediapulse.com">http://www.mediapulse.com</A>&gt; __________________________________ 

	
__________________________________ 

michael.neel &lt;mailto:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">michael.neel at mediapulse.com</A>&gt; @mediapulse.com
&lt;mailto:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">michael.neel at mediapulse.com</A>&gt; 
vice president of information systems
865.675.4455 x30
800.380.4514

www.mediapulse.com &lt;<A HREF="http://www.mediapulse.com/">http://www.mediapulse.com/</A>&gt; 
__________________________________ 	


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://modpython.org/pipermail/mod_python/attachments/20040519/d97a4e76/attachment.html">http://modpython.org/pipermail/mod_python/attachments/20040519/d97a4e76/attachment.html</A>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015636.html">[mod_python] Python started with -U option as an Apache handler
</A></li>
	<LI>Next message: <A HREF="015640.html">[mod_python] Controlling authentication at run-time
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15638">[ date ]</a>
              <a href="thread.html#15638">[ thread ]</a>
              <a href="subject.html#15638">[ subject ]</a>
              <a href="author.html#15638">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
