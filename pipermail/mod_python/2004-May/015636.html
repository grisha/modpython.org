<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Python started with -U option as an Apache handler
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Python%20started%20with%20-U%20option%20as%20an%20Apache%20handler&In-Reply-To=68A7AFEEA80F96479E120166638331AF81E1F4%40exchange2.loyaltyworks.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015635.html">
   <LINK REL="Next"  HREF="015638.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Python started with -U option as an Apache handler</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Michael C. Neel</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Python%20started%20with%20-U%20option%20as%20an%20Apache%20handler&In-Reply-To=68A7AFEEA80F96479E120166638331AF81E1F4%40exchange2.loyaltyworks.com"
       TITLE="[mod_python] Python started with -U option as an Apache handler">neel at mediapulse.com
       </A><BR>
    <I>Wed May 19 14:00:16 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="015635.html">[mod_python] Python started with -U option as an Apache handler
</A></li>
        <LI>Next message: <A HREF="015638.html">[mod_python] Python started with -U option as an Apache handler
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15636">[ date ]</a>
              <a href="thread.html#15636">[ thread ]</a>
              <a href="subject.html#15636">[ subject ]</a>
              <a href="author.html#15636">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I take it your using FieldStorage class of mod_python correct?  Take a
look at the docs should help:

<A HREF="http://modpython.org/live/current/doc-html/pyapi-util-fstor.html">http://modpython.org/live/current/doc-html/pyapi-util-fstor.html</A>
<A HREF="http://modpython.org/live/current/doc-html/pyapi-util-fstor-fld.html">http://modpython.org/live/current/doc-html/pyapi-util-fstor-fld.html</A>

And since you mention you've used cgi in the past, take note of the
folling in the docs:

&quot;Note: Unlike the standard library cgi module FieldStorage class, a
Field object is returned only when it is a file upload. In all other
cases the return is an instance of StringField. This means that you do
not need to use the .value attribute to access values of fields in most
cases.&quot;

I don't use the FieldStorage class, but it looks like you want
form[&quot;AFormField&quot;].file

Mike

On Wed, 2004-05-19 at 12:33, Diener, Edward wrote:

&gt;<i> The form has 
</I>&gt;<i> 
</I>&gt;<i> enctype=&quot;multipart/form-data&quot;
</I>&gt;<i> 
</I>&gt;<i> In the HTML page.
</I>&gt;<i> 
</I>&gt;<i> I don't see why the form's enctype should affect how CGI creates a
</I>&gt;<i> string from a file when one specifies form[&quot;AFormField&quot;].value for a
</I>&gt;<i> form field of &lt;input type=&quot;file&quot; name=&quot;AFormField&quot;&gt; but I will take any
</I>&gt;<i> help I can get on this. Evidently when CGI creates a string from the
</I>&gt;<i> file name when this access is done, it is opening the file as a text
</I>&gt;<i> file rather than a binary file, which is not good.
</I>&gt;<i> 
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: Michael C. Neel [mailto:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">neel at mediapulse.com</A>] 
</I>&gt;<i> Sent: Wednesday, May 19, 2004 11:52 AM
</I>&gt;<i> To: Diener, Edward
</I>&gt;<i> Cc: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
</I>&gt;<i> Subject: Re: [mod_python] Python started with -U option as an Apache
</I>&gt;<i> handler
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I've handled serveral file types in mod_python from uploaded forms, and
</I>&gt;<i> didn't need anything special set.  If your not getting the files, check
</I>&gt;<i> that the form has the correct enctype set.  If you are getting data
</I>&gt;<i> that's incorrect, post some details on how you are accessing the files
</I>&gt;<i> to the list.
</I>&gt;<i> 
</I>&gt;<i> Mike
</I>&gt;<i> 
</I>&gt;<i> On Wed, 2004-05-19 at 11:22, Diener, Edward wrote: 
</I>&gt;<i> How do I get Apache to start python with the -U option when it is used
</I>&gt;<i> in an AddHandler statement ? When using straight CGI, and the file
</I>&gt;<i> upload functionality in it, python must be started with the -U option in
</I>&gt;<i> order for it to upload binary files, as opposed to text files,
</I>&gt;<i> correctly.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> __________________________________ <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">michael.neel at mediapulse.comvice</A>
</I>&gt;<i> president of information systems865.675.4455
</I>&gt;<i> x30800.380.4514www.mediapulse.com__________________________________ 
</I>
__________________________________ 

<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">michael.neel at mediapulse.com</A>
vice president of information systems
865.675.4455 x30
800.380.4514

www.mediapulse.com
__________________________________
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://modpython.org/pipermail/mod_python/attachments/20040519/77c9a93b/attachment.html">http://modpython.org/pipermail/mod_python/attachments/20040519/77c9a93b/attachment.html</A>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015635.html">[mod_python] Python started with -U option as an Apache handler
</A></li>
	<LI>Next message: <A HREF="015638.html">[mod_python] Python started with -U option as an Apache handler
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15636">[ date ]</a>
              <a href="thread.html#15636">[ thread ]</a>
              <a href="subject.html#15636">[ subject ]</a>
              <a href="author.html#15636">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
