<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] loading mod_python.apache module interactively 
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20loading%20mod_python.apache%20module%20interactively%20&In-Reply-To=200405060321.NAA14368%40lightning.itga.com.au">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015507.html">
   <LINK REL="Next"  HREF="015511.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] loading mod_python.apache module interactively </H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Daniel J. Popowich</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20loading%20mod_python.apache%20module%20interactively%20&In-Reply-To=200405060321.NAA14368%40lightning.itga.com.au"
       TITLE="[mod_python] loading mod_python.apache module interactively ">dpopowich at mtrsd.k12.ma.us
       </A><BR>
    <I>Thu May  6 09:31:45 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="015507.html">[mod_python] loading mod_python.apache module interactively 
</A></li>
        <LI>Next message: <A HREF="015511.html">[mod_python] RE: Incoming Msg
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15510">[ date ]</a>
              <a href="thread.html#15510">[ thread ]</a>
              <a href="subject.html#15510">[ subject ]</a>
              <a href="author.html#15510">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

I needed to import my mod_python code outside of apache to run epydoc
(epydoc.sourceforge.net), an API documentation generator, that needs
to parse code to get at doc strings.

Here's my trick: I wrote my own minimal _apache.py that I placed in my
PYTHONPATH such that when I run epydoc (or an interactive session) my
_apache.py is loaded, but in apache, where I don't touch PythonPath
directive, mod_python._apache gets loaded.

This works for mod_python 3.1.3.  Your mileage may very.

    # _apache.py
    &quot;&quot;&quot;
    This module exists so you can import mod_python.apache outside of a
    running apache server.  This doesn't mean anything will work, just
    that you'll be able to do the import.

    This is useful for running tools (like epydoc) which need to do an
    import, not to run code, but to parse and/or read doc strings.
    &quot;&quot;&quot;

    class _pseudo:
	def __call__(self, *args):
	    pass

    _p = _pseudo()

    for attr in ('table', 'log_error', 'table', 'config_tree',
		 'server_root', 'mpm_query', 'SERVER_RETURN',
		 'parse_qs', 'parse_qsl', 'mpm_query'):

	exec '%s = _p' % attr

    del _p, _pseudo, attr

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015507.html">[mod_python] loading mod_python.apache module interactively 
</A></li>
	<LI>Next message: <A HREF="015511.html">[mod_python] RE: Incoming Msg
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15510">[ date ]</a>
              <a href="thread.html#15510">[ thread ]</a>
              <a href="subject.html#15510">[ subject ]</a>
              <a href="author.html#15510">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
