<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Usage of VirtualHost with publisher or handler
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Usage%20of%20VirtualHost%20with%20publisher%20or%20handler&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015698.html">
   <LINK REL="Next"  HREF="015705.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Usage of VirtualHost with publisher or handler</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Patrick Percot</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Usage%20of%20VirtualHost%20with%20publisher%20or%20handler&In-Reply-To="
       TITLE="[mod_python] Usage of VirtualHost with publisher or handler">ppercot at free.fr
       </A><BR>
    <I>Thu May 27 20:00:06 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="015698.html">[mod_python] Re: Undocumented (?) change in PythonPath for 3.0 vs
	2.7
</A></li>
        <LI>Next message: <A HREF="015705.html">[mod_python] session problem in win2k
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15700">[ date ]</a>
              <a href="thread.html#15700">[ thread ]</a>
              <a href="subject.html#15700">[ subject ]</a>
              <a href="author.html#15700">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

It seems that a difference of behaviour between publisher and handler. 

I want to  put the request handlers in the  directory handled by Apache,
and the rest of the application in another directory. Perhaps you should
consider  it is  not the  best choice,  but I  noticed  some differences
between the two configurations :


First  config with  publisher,  I *DO  NOT  NEED* to  add the  directory
/var/www/myapp/web to PythonPath :

&lt;VirtualHost myapp.muaddib&gt;
	DocumentRoot /var/www/myapp/web
	ServerName myapp.muaddib

	SetHandler python-program
	PythonDebug On
	&lt;Files *&gt;
		PythonPath &quot;sys.path + ['/usr/local/myapp']&quot;
	&lt;/Files&gt;
	PythonHandler mod_python.publisher

&lt;/VirtualHost&gt;


Second  configuration  with  handler,  I  *NEED* to  add  the  directory
/var/www/myapp/web(2) to PythonPath :

&lt;VirtualHost myapp2.muaddib&gt;
	DocumentRoot /var/www/myapp/web2
	ServerName myapp2.muaddib

	SetHandler python-program
	PythonDebug On
	PythonHandler handler

	&lt;Files *&gt;
		PythonPath &quot;sys.path + ['/var/www/myapp/web2'] + ['/usr/local/myapp']&quot;
	&lt;/Files&gt;

&lt;/VirtualHost&gt;


I also noticed  that with a &lt;Directory &gt; directive, there  is no need to
add the directory path to PythonPath. 

I did not see anything about those differences of behaviour on the FAQ. 


Is this a feature or a bug ? ;)


&#192;+
PP
-- 
Groupe Morbihannais d'Utilisateurs de Logiciels Libres <A HREF="http://www.tuxbihan.org">http://www.tuxbihan.org</A>
Identifiant Jabber: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">pp at amessage.de</A>
GPG fingerprint = 1A4F E154 3D2C A20E E4CA  A543 7951 C5C2 E44A A0B5

Patrick Percot.

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015698.html">[mod_python] Re: Undocumented (?) change in PythonPath for 3.0 vs
	2.7
</A></li>
	<LI>Next message: <A HREF="015705.html">[mod_python] session problem in win2k
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15700">[ date ]</a>
              <a href="thread.html#15700">[ thread ]</a>
              <a href="subject.html#15700">[ subject ]</a>
              <a href="author.html#15700">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
