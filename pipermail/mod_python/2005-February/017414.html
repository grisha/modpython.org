<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] how do I eliminate the .py extension in url?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20how%20do%20I%20eliminate%20the%20.py%20extension%20in%20url%3F&In-Reply-To=20050212041826.GA32445%40legolas.on.net.mk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017413.html">
   <LINK REL="Next"  HREF="017416.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] how do I eliminate the .py extension in url?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20how%20do%20I%20eliminate%20the%20.py%20extension%20in%20url%3F&In-Reply-To=20050212041826.GA32445%40legolas.on.net.mk"
       TITLE="[mod_python] how do I eliminate the .py extension in url?">grahamd at dscpl.com.au
       </A><BR>
    <I>Fri Feb 11 23:44:18 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="017413.html">[mod_python] how do I eliminate the .py extension in url?
</A></li>
        <LI>Next message: <A HREF="017416.html">[mod_python] how do I eliminate the .py extension in url?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17414">[ date ]</a>
              <a href="thread.html#17414">[ thread ]</a>
              <a href="subject.html#17414">[ subject ]</a>
              <a href="author.html#17414">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 12/02/2005, at 3:18 PM, Damjan wrote:

&gt;&gt;<i> Put the following in httpd.conf:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> SetHandler mod_python
</I>&gt;&gt;<i> PythonHandler module.path.to.handler.file
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Then in the handler file, def a handler that looks for python scripts
</I>&gt;&gt;<i> and loads them based on the req.uri. The attached very crufty handler
</I>&gt;&gt;<i> might be a good source of amusement.
</I>&gt;<i>
</I>&gt;&gt;<i> def handler(req):
</I>&gt;&gt;<i>     # 1. If the file exists &amp; not a directory, serve it.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     filepath = req.document_root() + req.uri
</I>&gt;&gt;<i>     if (os.access(filepath, os.R_OK)
</I>&gt;&gt;<i>     and not os.path.isdir(filepath)) :
</I>&gt;&gt;<i>         # req.write(&quot;sending file\n&quot;)
</I>&gt;&gt;<i>         req.sendfile(filepath)
</I>&gt;&gt;<i>         return apache.OK
</I>&gt;<i>
</I>&gt;<i> Why don't you return apache.DECLINE, that way even php scripts would
</I>&gt;<i> work correctly.
</I>
Hmmm, when I have tried mixing PHP in the same directory and used
apache.DECLINED to throw back unhandled requests to Apache, the PHP
file wouldn't get processed by the PHP module and instead the raw
file would be returned. Thus it has been necessary to have:

   &lt;Files *.php&gt;
   SetHandler None
   &lt;/Files&gt;

This was though on Apache 1.3 and I haven't tried it on Apache 2.0.

Graham

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017413.html">[mod_python] how do I eliminate the .py extension in url?
</A></li>
	<LI>Next message: <A HREF="017416.html">[mod_python] how do I eliminate the .py extension in url?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17414">[ date ]</a>
              <a href="thread.html#17414">[ thread ]</a>
              <a href="subject.html#17414">[ subject ]</a>
              <a href="author.html#17414">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
