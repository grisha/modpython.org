<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] About module autoreload
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20About%20module%20autoreload&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017474.html">
   <LINK REL="Next"  HREF="017476.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] About module autoreload</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Gonzalo Sainz-Tr&#225;paga</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20About%20module%20autoreload&In-Reply-To="
       TITLE="[mod_python] About module autoreload">gomo at datafull.com
       </A><BR>
    <I>Sun Feb 20 02:07:05 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="017474.html">[mod_python] POST redirect
</A></li>
        <LI>Next message: <A HREF="017476.html">[mod_python] About module autoreload
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17475">[ date ]</a>
              <a href="thread.html#17475">[ thread ]</a>
              <a href="subject.html#17475">[ subject ]</a>
              <a href="author.html#17475">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
After reading the FAQ entry 3.1, i finally built my custom way to import
modules, on the lines of:

-- config.py --
debug = True
--

-- anyscript.py --
from mod_python.apache import import_module
config = import_module('config')
if config.debug:
    # reload other modules
--

This is a bit lengthy and annoying but then i found this directive in
the 3.x docs:

-- <A HREF="http://www.modpython.org/live/current/doc-html/dir-other-par.html">http://www.modpython.org/live/current/doc-html/dir-other-par.html</A> --
PythonAutoReload {On,Off}
(...)
By default, mod_python checks the time-stamp of the file and reloads the
module if the module's file modification date is later than the last
import or reload. This way changed modules get automatically reimported,
eliminating the need to restart the server for every change.
--

If I explicitly set this directive to On, i get the expected behaviour
without manually reloading modules on every script. But, if i don't set
it i get the &quot;Off&quot; behaviour, instead of the &quot;On&quot; one as advertised in
the docs.

Actually I'm glad this directive exists and seems to do what I think it
does, but the FAQ must *really* be updated on this, and, if i'm not
mistaken, the default behaviour should be corrected either in the docs
or in mod_python (i would suggest the former, as automatically reloading
modules is the standard interpreter behaviour).

I wanted to check with you guys before I mess with the FAQ, in case i'm
getting something wrong. 

-- 
Gonzalo Sainz-Tr&#225;paga (GomoX)
GnuPG Fingerprint: A0AF 3BBF EB93 7EFE 6628  C5A5 F073 9442 6DE4 A497
Public Key: <A HREF="http://pgp.mit.edu:11371/pks/lookup?op=get&amp;search=0x6DE4A497">http://pgp.mit.edu:11371/pks/lookup?op=get&amp;search=0x6DE4A497</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part
Url : <A HREF="http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20050220/9db7544d/attachment.bin">http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20050220/9db7544d/attachment.bin</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017474.html">[mod_python] POST redirect
</A></li>
	<LI>Next message: <A HREF="017476.html">[mod_python] About module autoreload
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17475">[ date ]</a>
              <a href="thread.html#17475">[ thread ]</a>
              <a href="subject.html#17475">[ subject ]</a>
              <a href="author.html#17475">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
