<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Cookie vs. Session
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Cookie%20vs.%20Session&In-Reply-To=20050209012113.83470.qmail%40web31004.mail.mud.yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017364.html">
   <LINK REL="Next"  HREF="017367.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Cookie vs. Session</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Byron Ellacott</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Cookie%20vs.%20Session&In-Reply-To=20050209012113.83470.qmail%40web31004.mail.mud.yahoo.com"
       TITLE="[mod_python] Cookie vs. Session">bje at apnic.net
       </A><BR>
    <I>Wed Feb  9 00:41:57 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="017364.html">[mod_python] Cookie vs. Session
</A></li>
        <LI>Next message: <A HREF="017367.html">[mod_python] Cookie vs. Session
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17365">[ date ]</a>
              <a href="thread.html#17365">[ thread ]</a>
              <a href="subject.html#17365">[ subject ]</a>
              <a href="author.html#17365">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 09/02/2005, at 11:21 AM, Jef Dodson wrote:

&gt;<i> This might be a naive question, but how does one know whether to use a 
</I>&gt;<i> Cookie or a Session for
</I>&gt;<i> session/state management?  What are the major differences?  My 
</I>&gt;<i> interest is in simply allowing
</I>&gt;<i> someone to login to a site and then be able to identify that user when 
</I>&gt;<i> they make subsequent
</I>&gt;<i> requests in order to send them customized content.  So, this is pretty 
</I>&gt;<i> standard stuff, but is it
</I>&gt;<i> better to use cookies or session objects for this.  Thanks.
</I>
A 'session' usually refers to server held state per-user; it requires 
some form of session identifier to be shuttled back and forth between 
client and server, often via a cookie.  They are primarily useful when 
you are building some sort of working set of data for a user, such as a 
sequentially filled in form.  They are often overused. :)

A cookie is a piece of browser-held information given to a server when 
a URL with an appropriate domain is fetched.

For your purposes, simply using a cookie to identify your user may be 
sufficient.  Note that a cookie is stored browser side, so you must be 
able to verify a cookie's authenticity to a level appropriate for your 
purposes.  It sounds like you're not necessarily showing any sensitive 
information, or in any other way relying on user identification for 
security, so you could easily get away with simply storing the user 
name in a cookie:

--- snip ---
from mod_python import Cookie

def get_user_credentials(req):
     cookies = Cookie.get_cookie(req)
     if cookies.has_key('username'):
         return cookies['username']
     # redirect to login page ...

def set_user_credentials(req, username):
     cookie = Cookie.Cookie('username', username)
     Cookie.add_cookie(req, cookie)
--- snip ---

So, the first function will try to get the user's name from a cookie.  
If one is not found, you should redirect to the login page, or return 
None, or whatever is appropriate behaviour for your application.  The 
second function should be called from your login page, to create and 
store a cookie with the user's  name.

Just bear in mind, it would be trivial to spoof yourself to appear to 
be another user with such a simple scheme.  If this is in any way bad, 
you would probably want to consider at least using a SignedCookie 
instead of a regular Cookie object.  The documentation for the Cookie 
module can help you further.

-- 
bje

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017364.html">[mod_python] Cookie vs. Session
</A></li>
	<LI>Next message: <A HREF="017367.html">[mod_python] Cookie vs. Session
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17365">[ date ]</a>
              <a href="thread.html#17365">[ thread ]</a>
              <a href="subject.html#17365">[ subject ]</a>
              <a href="author.html#17365">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
