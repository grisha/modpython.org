<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Force reload?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Force%20reload%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017324.html">
   <LINK REL="Next"  HREF="017326.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Force reload?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Force%20reload%3F&In-Reply-To="
       TITLE="[mod_python] Force reload?">grahamd at dscpl.com.au
       </A><BR>
    <I>Thu Feb  3 17:18:04 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="017324.html">[mod_python] Custom handler thread safety
</A></li>
        <LI>Next message: <A HREF="017326.html">[mod_python] Custom handler thread safety
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17325">[ date ]</a>
              <a href="thread.html#17325">[ thread ]</a>
              <a href="subject.html#17325">[ subject ]</a>
              <a href="author.html#17325">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>David Geller wrote ..
&gt;<i> The way that python handles import is problematic for persistent 
</I>&gt;<i> interpreters such as implemented by mod_python. There doesn't, to me, 
</I>&gt;<i> seem any foolproof, *simple* way to solve reimportation issues in all 
</I>&gt;<i> circumstances, EXCEPT for what Daniel proposes, other than by restarting
</I>&gt;<i> the server. It is such a pain to make some source changes, *think* you
</I>&gt;<i> have reloaded affected modules, and then find out that the changes 
</I>&gt;<i> haven't taken effect!
</I>
In terms of your complaint about no one responding to your previous email,
all I can say is no one pays attention to what I post either.

As mentioned in previous followup to this post, the Vampire package has
a module import and caching system which goes quite a long way further
than the standard mod_python one in trying to address these issues. For
those modules where the import system in Vampire is used, it will track
parent/child import relationships and will correctly reimportant any parent
module in a tree when any sub import further down the tree is detected.

Thus, if you have:

  A imports B
  B imports C
  C import D

If C is change and then A accessed, then A, B and C will be reimported
automatically. As D wasn't change it will not.

A lot of work has gone into ensuring this works correctly and there aren't
any issues as yet. Of course, I would love more people to try it out and make
it better if need be.

Obviously, using such a scheme means extra checking and performance
impacts, hopefully slight. The nature of how it works means also that you
can't switch it off. Turning it off is going to make things worse for you
again unless you can gaurantee that your content is static. Such is always
the case with mod_python.

If I wasn't so damn busy right now I would write some proper documentation
for it, so you'll have to put up with snipets if information as questions dictate.

&gt;<i> I have used this method for awhile now, and for 
</I>&gt;<i> debugging/development it seems to work (although I have some unexplained
</I>&gt;<i> problems as I mentioned 11/20/2004 but never got a response on). It 
</I>&gt;<i> certainly is simple, and painless enough.
</I>
Looking at your original email, you possibly didn't get a response because
it was quite hard to get ones head around the issue unless you had done
something quite similar. You might have done a bit better if you had shown
simple code examples and time line of requests and output from logging
as appropriate to illustrate the problem more clearly. You also don't seem
to mention if you had set start/max child processes to 1 to ensure that the
results weren't confused by interplay of requests going to multiple processes.
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017324.html">[mod_python] Custom handler thread safety
</A></li>
	<LI>Next message: <A HREF="017326.html">[mod_python] Custom handler thread safety
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17325">[ date ]</a>
              <a href="thread.html#17325">[ thread ]</a>
              <a href="subject.html#17325">[ subject ]</a>
              <a href="author.html#17325">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
