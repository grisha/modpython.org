<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Auto-reload
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Auto-reload&In-Reply-To=42038AA4.5010609%40tbc.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017336.html">
   <LINK REL="Next"  HREF="017338.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Auto-reload</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Auto-reload&In-Reply-To=42038AA4.5010609%40tbc.net"
       TITLE="[mod_python] Auto-reload">grahamd at dscpl.com.au
       </A><BR>
    <I>Fri Feb  4 21:33:59 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="017336.html">[mod_python] Auto-reload
</A></li>
        <LI>Next message: <A HREF="017338.html">[mod_python] Cookie problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17346">[ date ]</a>
              <a href="thread.html#17346">[ thread ]</a>
              <a href="subject.html#17346">[ subject ]</a>
              <a href="author.html#17346">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 05/02/2005, at 1:45 AM, Shawn Harrison wrote:

&gt;<i> Graham,
</I>&gt;<i>
</I>&gt;<i> Let's suppose I have the following four modules a.py, b.py, c.py, and 
</I>&gt;<i> util.py in a folder in sys.path, and in httpd.conf I have 
</I>&gt;<i> &quot;PythonHandler a&quot; for a given url space. If I make changes in a.py, 
</I>&gt;<i> b.py or c.py, these changes are immediately visible in the browser.
</I>
As mentioned in my original email, it only works because the 
loading/reloading
of the module is done from inside every function, which can just get 
messy after a
while.

What most people are used to in Python is loading modules at global 
scope within a
module. Ie.,

   # c.py

   ...

   # b.py

   import c

   # a.py

   import b

Obviously, use this way isn't going to work, but the first thing people 
will try and
which would be preferable, is to replace the &quot;import&quot; where it is with:

   c = apache.import_module(&quot;c&quot;)

Ie., still at global scope in module.

This however doesn't work, as determination of whether sub import needs 
to be reload
is only done at import time of the parent module and not per request.

Thus, yes the way you have done it will work in the way you have used 
it, that is, in
every method, but use it at global scope as above and it doesn't and is 
not different
to how the mod_python module loader works.

Just think now of what you have to do if util.py had 40 methods and 
required other
sub modules imports. Every method that uses a sub module, has to load 
it. As I said
it gets messy and this shouldn't have to be the case. With Vampire's 
module loader
you can still do it at global scope (once) and it will work.

Graham




</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017336.html">[mod_python] Auto-reload
</A></li>
	<LI>Next message: <A HREF="017338.html">[mod_python] Cookie problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17346">[ date ]</a>
              <a href="thread.html#17346">[ thread ]</a>
              <a href="subject.html#17346">[ subject ]</a>
              <a href="author.html#17346">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
