<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Beta testers for &quot;vampire::publisher&quot;?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Beta%20testers%20for%20%22vampire%3A%3Apublisher%22%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017550.html">
   <LINK REL="Next"  HREF="017554.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Beta testers for &quot;vampire::publisher&quot;?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Beta%20testers%20for%20%22vampire%3A%3Apublisher%22%3F&In-Reply-To="
       TITLE="[mod_python] Beta testers for &quot;vampire::publisher&quot;?">grahamd at dscpl.com.au
       </A><BR>
    <I>Mon Feb 28 17:42:39 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="017550.html">[mod_python] Beta testers for &quot;vampire::publisher&quot;?
</A></li>
        <LI>Next message: <A HREF="017554.html">[mod_python] Beta testers for &quot;vampire::publisher&quot;?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17552">[ date ]</a>
              <a href="thread.html#17552">[ thread ]</a>
              <a href="subject.html#17552">[ subject ]</a>
              <a href="author.html#17552">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Bo Lorentsen wrote ..
&gt;<i> Graham Dumpleton wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt;In asking, I mean to the extent of hosting and getting working an
</I>&gt;<i> &gt;existing mod_python.publisher application on top of Vampire instead,
</I>&gt;<i> &gt;not just kicking the wheels a bit.
</I>&gt;<i> &gt;  
</I>&gt;<i> &gt;
</I>&gt;<i> Hmm, I have a rather large system (still in beta), written for the 
</I>&gt;<i> publisher, and some of the features of vampire sounds nice and worth the
</I>&gt;<i> effort.
</I>&gt;<i> 
</I>&gt;<i> But two things :
</I>&gt;<i> 
</I>&gt;<i> - What kind of bugs do You expect (me) to find ?
</I>
I would hope there are no bugs as far as what I intend the code to do,
I'll take what you probably mean is what incompatibilities you might
expect which would require a change to your code. I would expect
these are going to be in the following areas:

- Use of &quot;apache.import_module()&quot; or direct imports of application
  specific modules using &quot;import&quot;, would be preferably changed to
  use the Vampire module import system. If not done, you aren't
  benefiting much from changing in the first place.

  If the changes are made, module imports are not blindly done over
  the top of existing modules, thus you may need to add a special
  method into a module to indicate what data is preserved across to
  a newly loaded module from the one being replaced.

- Vampire is stricter about what data types can be published. One
  can still publish all the basic Python data types, but an object
  instance cannot be published by way of execution of its __str__()
  or __repr__() method. Instead, you would need to define __call__()
  for the class instead.

  This has been done because Vampire allows new style classes to
  be traversable and I haven't been able to find a reliable way of
  knowing that that a new style class has actually defined its own
  versions of __str__() or __repr__(). This is an issue because in
  Vampire I don't allow publishing to fallback to using default
  __str__() methods which simply print out what the type of the
  object is because I don't believe that evidence that Python is used
  should be published by default.

  If someone can point out to me how to detect for a new style
  class when it provides its own __str__() or __repr__(), this could
  be changed, but I have had no luck working it out so far unless
  I am missing the obvious.

- Vampire provides an extended mechanism for interpreting form
  arguments. For example, if you had two form parameters called
  &quot;name-1&quot; and &quot;name-2&quot;, they would be converted into a single
  list where the parameter was called &quot;name&quot;. Similarly, if you have
  form parameters &quot;name.surname&quot; and &quot;name.firstname&quot;, they
  will be converted into a dictionary passed as &quot;name&quot; holding keys
  &quot;surname&quot; and &quot;firstname&quot;.

  Thus, if you use '-' or '.' in form parameter names already, they
  may get interpreted in strange ways.

&gt;<i> - Why have this code not been added to the mod_python cvs ?
</I>
It seems that this is the question everyone is asking. The main reason is
that what I have done is not simply a copy of the existing code with tweaks
to make it work, but a reanalysis of what publisher does and a more or
less fresh interpretation of how to go about implementing that functionality.
As such, it can't simply be pushed back into the existing source code.

Even though many of the problems that were found in the original
publisher code while doing this, as well as problems I have pointed out
previously could be addressed, there are certain things that could not
be improved without breaking backward compatibility. You would thus
still be stuck with those limitations and quirks.

Graham
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017550.html">[mod_python] Beta testers for &quot;vampire::publisher&quot;?
</A></li>
	<LI>Next message: <A HREF="017554.html">[mod_python] Beta testers for &quot;vampire::publisher&quot;?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17552">[ date ]</a>
              <a href="thread.html#17552">[ thread ]</a>
              <a href="subject.html#17552">[ subject ]</a>
              <a href="author.html#17552">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
