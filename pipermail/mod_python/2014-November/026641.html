<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] TimeOut and mp_conn.read (pywebsocket)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=Re%3A%20%5Bmod_python%5D%20TimeOut%20and%20mp_conn.read%20%28pywebsocket%29&In-Reply-To=%3C54579018.6090203%40diomedia.be%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="026642.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] TimeOut and mp_conn.read (pywebsocket)</H1>
    <B>Bram Van Steenlandt</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=Re%3A%20%5Bmod_python%5D%20TimeOut%20and%20mp_conn.read%20%28pywebsocket%29&In-Reply-To=%3C54579018.6090203%40diomedia.be%3E"
       TITLE="[mod_python] TimeOut and mp_conn.read (pywebsocket)">bram at diomedia.be
       </A><BR>
    <I>Mon Nov  3 14:24:24 UTC 2014</I>
    <P><UL>
        
        <LI>Next message: <A HREF="026642.html">[mod_python] TimeOut and mp_conn.read (pywebsocket)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26641">[ date ]</a>
              <a href="thread.html#26641">[ thread ]</a>
              <a href="subject.html#26641">[ subject ]</a>
              <a href="author.html#26641">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I've developed a websocket application using mod_python and pywebsocket.
It works but I have a problem (I'm using apache22 and mod_python 3.3.1
and python 2.6.6).

I'm using request.ws_stream.receive_message() to see if there are
messages from the client,
this works but always takes one second (between 0.99 and 1.05), I need
it to return faster (esp. when there is no message most of the time).

This is suppose to be controlled by the TimeOut config value in apache
but this is set to 60... (req.server.timeout is also 60)
I would think that the function returns after 60 seconds and not 1 when
there is no data, is there another timeout I'm missing ?

Can someone point me in the right direction ?
I there a way to set this from inside handler like with regular sockets ?

The pywebsocket package does include a way to work with a
messagereceiver (here receiving is done in a thread),
this works but it's difficult to debug, I think I would prefer a shorter
timeout.

Thx

 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="026642.html">[mod_python] TimeOut and mp_conn.read (pywebsocket)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26641">[ date ]</a>
              <a href="thread.html#26641">[ thread ]</a>
              <a href="subject.html#26641">[ subject ]</a>
              <a href="author.html#26641">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the mod_python
mailing list</a><br>
</body></html>
