<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Getting mptest.py to work
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Getting%20mptest.py%20to%20work&In-Reply-To=20050119101314.GI8887%40sun.ac.za">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017144.html">
   <LINK REL="Next"  HREF="017146.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Getting mptest.py to work</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Getting%20mptest.py%20to%20work&In-Reply-To=20050119101314.GI8887%40sun.ac.za"
       TITLE="[mod_python] Getting mptest.py to work">grahamd at dscpl.com.au
       </A><BR>
    <I>Wed Jan 19 05:28:16 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="017144.html">[mod_python] Getting mptest.py to work
</A></li>
        <LI>Next message: <A HREF="017146.html">[mod_python] Getting mptest.py to work
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17145">[ date ]</a>
              <a href="thread.html#17145">[ thread ]</a>
              <a href="subject.html#17145">[ subject ]</a>
              <a href="author.html#17145">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 19/01/2005, at 9:13 PM, Johann Spies wrote:

&gt;<i> This is my first question on the list.  I have seen messages in the
</I>&gt;<i> archive (using google) asking the same thing, but nothing that
</I>&gt;<i> indicated a solution.
</I>&gt;<i>
</I>&gt;<i> My system:  Debian Sid with
</I>&gt;<i>
</I>&gt;<i> libapache2-mod-pyth 3.1.3-2.2
</I>&gt;<i> apache2             2.0.52-3
</I>&gt;<i> python2.3           2.3.4-19
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I have created /var/www/test with the following files:
</I>&gt;<i>
</I>&gt;<i> .htaccess:
</I>&gt;<i>
</I>&gt;<i> &lt;Directory /var/www/test/&gt;
</I>&gt;<i>    AddHandler mod_python .py
</I>&gt;<i>    PythonHandler mptest
</I>&gt;<i>    PythonDebug On
</I>&gt;<i> &lt;/Directory&gt;
</I>&gt;<i>
</I>
If you are configuring things in the .htaccess file, you do not need the
&lt;Directory&gt; directive around the statements. Ie., use just:

   AddHandler mod_python .py
   PythonHandler mptest
   PythonDebug On

Start with making that change, if still no luck, restart Apache and look
in its error log file to see what it produces on startup, you should see
something like:

   [Wed Jan 19 21:25:33 2005] [notice] mod_python: Creating 32 session 
mutexes based on 6 max processes and 25 max threads.
   [Wed Jan 19 21:25:34 2005] [notice] Apache/2.0.51 (Unix) 
mod_python/3.1.3 Python/2.3 configured -- resuming normal operations

I am using threads, if just using prefork then the messages will be 
different.
The point is though that you should see something there by mod_python.

If you don't even see that, mod_python not being loaded. If it wasn't 
being
loaded, the request against directory with above .htaccess file would 
most
like return a 500 internal server error.

&gt;<i> and
</I>&gt;<i>
</I>&gt;<i> mptest.py:
</I>&gt;<i>
</I>&gt;<i> from mod_python import apache
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> def handler(req):
</I>&gt;<i>     req.content_type=&quot;text/html&quot;
</I>&gt;<i>     req.write(&quot;Hello World!&quot;)
</I>&gt;<i>     return apache.OK
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  I have added the 'req.content_type=&quot;text/html&quot;' part after a
</I>&gt;<i>  suggestion somewhere to a user with a similar problem than mine, but
</I>&gt;<i>  that did not make any difference.
</I>&gt;<i>
</I>&gt;<i> Apache does not produce any error message about this setup.  It just
</I>&gt;<i> does not use mod-python and Firefox does not know what to do with the
</I>&gt;<i> file mptest.py
</I>&gt;<i>
</I>&gt;<i> O, and I have this in /etc/apache2/mods-enabled:
</I>&gt;<i>
</I>&gt;<i> drwxr-xr-x  8 root root 4096 2005-01-18 16:22 ..
</I>&gt;<i> lrwxrwxrwx  1 root root   38 2005-01-18 16:34 cache.load -&gt; 
</I>&gt;<i> /etc/apache2/mods-available/cache.load
</I>&gt;<i> lrwxrwxrwx  1 root root   37 2005-01-18 16:22 cgid.conf -&gt; 
</I>&gt;<i> /etc/apache2/mods-available/cgid.conf
</I>&gt;<i> lrwxrwxrwx  1 root root   37 2005-01-18 16:22 cgid.load -&gt; 
</I>&gt;<i> /etc/apache2/mods-available/cgid.load
</I>&gt;<i> lrwxrwxrwx  1 root root   33 2005-01-18 16:36 mod_python.load -&gt; 
</I>&gt;<i> ../mods-available/mod_python.load
</I>&gt;<i> lrwxrwxrwx  1 root root   43 2005-01-18 16:22 proxy_html.load -&gt; 
</I>&gt;<i> /etc/apache2/mods-available/proxy_html.load
</I>&gt;<i> lrwxrwxrwx  1 root root   40 2005-01-18 16:32 rewrite.load -&gt; 
</I>&gt;<i> /etc/apache2/mods-available/rewrite.load
</I>&gt;<i> lrwxrwxrwx  1 root root   40 2005-01-18 16:22 userdir.conf -&gt; 
</I>&gt;<i> /etc/apache2/mods-available/userdir.conf
</I>&gt;<i> lrwxrwxrwx  1 root root   40 2005-01-18 16:22 userdir.load -&gt; 
</I>&gt;<i> /etc/apache2/mods-available/userdir.load
</I>&gt;<i> lrwxrwxrwx  1 root root   44 2005-01-18 16:33 vhost_alias.load -&gt; 
</I>&gt;<i> /etc/apache2/mods-available/vhost_alias.load
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> How do I progress from here?
</I>&gt;<i>
</I>&gt;<i> Regards
</I>&gt;<i> Johann
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> Johann Spies          Telefoon: 021-808 4036
</I>&gt;<i> Informasietegnologie, Universiteit van Stellenbosch
</I>&gt;<i>
</I>&gt;<i>      &quot;The LORD is my strength and song, and he is become my
</I>&gt;<i>       salvation; he is my God, and I will prepare him an
</I>&gt;<i>       habitation; my father's God, and I will exalt him.&quot;
</I>&gt;<i>                        Exodus 15:2
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017144.html">[mod_python] Getting mptest.py to work
</A></li>
	<LI>Next message: <A HREF="017146.html">[mod_python] Getting mptest.py to work
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17145">[ date ]</a>
              <a href="thread.html#17145">[ thread ]</a>
              <a href="subject.html#17145">[ subject ]</a>
              <a href="author.html#17145">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
