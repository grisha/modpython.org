<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Mod_python quit working
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Mod_python%20quit%20working&In-Reply-To=1105573695.6284%40dscpl.user.openhosting.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017092.html">
   <LINK REL="Next"  HREF="017104.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Mod_python quit working</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Monsyne Dragon</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Mod_python%20quit%20working&In-Reply-To=1105573695.6284%40dscpl.user.openhosting.com"
       TITLE="[mod_python] Mod_python quit working">mdragon at rackspace.com
       </A><BR>
    <I>Wed Jan 12 20:31:54 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="017092.html">[mod_python] Mod_python quit working
</A></li>
        <LI>Next message: <A HREF="017104.html">[mod_python] Mod_python quit working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17093">[ date ]</a>
              <a href="thread.html#17093">[ thread ]</a>
              <a href="subject.html#17093">[ subject ]</a>
              <a href="author.html#17093">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Graham Dumpleton wrote:

&gt;<i>Lets be realistic here. If there were hardware issues it is likely to manifest
</I>&gt;<i>randomly and not be repeatable and more than likely the operating system
</I>&gt;<i>as a whole would have crashed somewhat earlier than this point.
</I>&gt;<i>  
</I>&gt;<i>
</I>Not really.  Such hardware glitches can manifest in exactly this way.
The canonocal example of this is a linux system which seems to work 
fine, but cannot recompile the linux kernel because gcc always dies w/ a 
sig11
(I've actually seen this, and the problem was a dying CPU fan.  
Increased CPU load caused it to overheat (but only when loaded), and the 
gcc processes became  nice fat
targets for the resultant menory glitches because of the amount,  and 
way, gcc uses memory.  To crash the OS, the sporadic glitch would have 
to hit a kernel mem structure, which is
a smaller target. )  Typically,  if this sort of thing is due to a 
hardware glitch, its due to bad memory, or overheating. Either one can 
cause sporadic memory corruption,  and if that
garbles a pointer,  then you will often get a segfault when something 
tries to dereference it.

The one BIG caveat that I must add to this, tho, is that a hardware 
glitch should only be a main suspect _IF_ (and only if) what the 
origional poster said about the situation, is true, namely that this is 
a box that has been previously working for some time, and NOTHING,  I 
mean _NOTHING_ was changed on it software-wise.  (and the usual 
suspects, like diskspace, etc, have been eliminated.)

&gt;<i>I really don't get this blaming the hardware thing. This is the second time
</I>&gt;<i>I have seen this recently given as a solution to a segmentation fault problem.
</I>&gt;<i>This isn't helpful. Do you not understand what causes segmentation faults
</I>&gt;<i>in the first place?
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>Erm, yes, I do understand segfaults quite well.   The reason it is 
mentioned in this context is that this sort of thing is not uncommon, 
especially on cheaper hardware, which, today, is most of it.

&gt;<i>Sorry, I just had to say this and if my day was going any worse I wouldn't
</I>&gt;<i>have been so polite about it. :-)
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>Politeness is good :&gt;  It tends to have a way of keeping days from 
getting worse, when they are not going good.
(Message brought to you by my mom, font of all wisdom since 1967 :&gt; )

&gt;<i>Now, can we go backwards on this a bit and try and debug this in a more
</I>&gt;<i>sensible way.
</I>&gt;<i>
</I>&gt;<i>First off, everything was supposedly working okay and then it started
</I>&gt;<i>having this problem. Restarts of Apache didn't appear to fix anything.
</I>&gt;<i>Even returning a simple string didn't appear to work.
</I>&gt;<i>
</I>&gt;<i>I am making an assumption here that the simple string was being returned
</I>&gt;<i>from a mod_python handler. Instead of worrying about that for the moment,
</I>&gt;<i>can the original poster answer the following questions.
</I>&gt;<i>
</I>&gt;<i>1. Does a normal static web page served up from a directory nothing to
</I>&gt;<i>do with the mod_python area work? If it does, then Apache itself isn't
</I>&gt;<i>necessarily stuffed.
</I>&gt;<i>
</I>&gt;<i>2. How have you set up your httpd.conf/htaccess file to enable use of
</I>&gt;<i>mod_python in the directory you are accessing and is causing the problem?
</I>&gt;<i>Post the actual directives you put in the config file here otherwise we
</I>&gt;<i>would be guessing. Let us work out if you are doing anything strange.
</I>&gt;<i>
</I>&gt;<i>3. If you comment out all your existing config file entries for enabling
</I>&gt;<i>mod_python in that directory (or any directories for that matter) and go
</I>&gt;<i>back to square one and in a new directory, setup a bog standard mptest.py
</I>&gt;<i>example as per mod_python documentation, does it work? Ie., take out
</I>&gt;<i>of the picture any of your own personalised handlers.
</I>&gt;<i>
</I>&gt;<i>Once you have done that and if you can get a simple mptest.py working
</I>&gt;<i>in clean area, then looking at your particular code at what dependencies
</I>&gt;<i>it has would be appropriate.
</I>&gt;<i>
</I>&gt;<i>Overall, segmentation faults in mod_python are more likely to be caused
</I>&gt;<i>by Apache, mod_python and Python being built with differing ideas of
</I>&gt;<i>how threading is supposed to be enabled. Another possibility is that
</I>&gt;<i>differing Apache extension modules have been built against different
</I>&gt;<i>versions of shared libraries. A good example where this often happens is
</I>&gt;<i>the expat library, since it can be loded by Python code running under
</I>&gt;<i>mod_python and PHP code running in the same Apache process. If a
</I>&gt;<i>different version of expat is used, something might crash if data layouts
</I>&gt;<i>are different.
</I>&gt;<i>
</I>&gt;<i>Anyway, if the original poster can try and answer the above you might
</I>&gt;<i>perhaps get some more useful feedback.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>Good suggestions too.

-- M. Dragon

</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017092.html">[mod_python] Mod_python quit working
</A></li>
	<LI>Next message: <A HREF="017104.html">[mod_python] Mod_python quit working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17093">[ date ]</a>
              <a href="thread.html#17093">[ thread ]</a>
              <a href="subject.html#17093">[ subject ]</a>
              <a href="author.html#17093">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
