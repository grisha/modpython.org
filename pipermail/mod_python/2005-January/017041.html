<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] importing from a PSP file
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20importing%20from%20a%20PSP%20file&In-Reply-To=1105046292.22213%40dscpl.com.au">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017040.html">
   <LINK REL="Next"  HREF="017042.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] importing from a PSP file</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Simon Wittber</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20importing%20from%20a%20PSP%20file&In-Reply-To=1105046292.22213%40dscpl.com.au"
       TITLE="[mod_python] importing from a PSP file">simonwittber at gmail.com
       </A><BR>
    <I>Thu Jan  6 19:52:13 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="017040.html">[mod_python] importing from a PSP file
</A></li>
        <LI>Next message: <A HREF="017042.html">[mod_python] importing from a PSP file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17041">[ date ]</a>
              <a href="thread.html#17041">[ thread ]</a>
              <a href="subject.html#17041">[ subject ]</a>
              <a href="author.html#17041">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> &gt; I don't know if this will help you or not, but mod_python actually uses
</I>&gt;<i> &gt; subinterpreters, each of which have their own namespace separate from the
</I>&gt;<i> &gt; main interpreter.
</I>
Brilliant! Just what I need.

&gt;<i> In short, requests against the directory and a file in the directory map
</I>&gt;<i> to different interpreters when they should be the same. This makes it
</I>&gt;<i> hard to have a default index page served up when directory is accessed.
</I>
Fortunately we do not use index.psp files, so it seems this bug won't effect us.

To summarise:

The final 3 lines I added after line 207 in psp.py are:

cwd = os.path.split(self.filename)[0]
if cwd not in sys.path:
    sys.path.append(cwd)

This allows (along with the PythonInterpPerDirectory driective)
multiple developers, on the same machine, to import different packages
(which reside in the same folder as the .psp file) of the same name
into .psp pages which are served from their public_html folders.

Thanks for the assistance.

Sw.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017040.html">[mod_python] importing from a PSP file
</A></li>
	<LI>Next message: <A HREF="017042.html">[mod_python] importing from a PSP file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17041">[ date ]</a>
              <a href="thread.html#17041">[ thread ]</a>
              <a href="subject.html#17041">[ subject ]</a>
              <a href="author.html#17041">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
