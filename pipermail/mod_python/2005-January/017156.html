<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Getting mptest.py to work
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Getting%20mptest.py%20to%20work&In-Reply-To=20050119122155.GN8887%40sun.ac.za">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017149.html">
   <LINK REL="Next"  HREF="017148.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Getting mptest.py to work</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Getting%20mptest.py%20to%20work&In-Reply-To=20050119122155.GN8887%40sun.ac.za"
       TITLE="[mod_python] Getting mptest.py to work">grahamd at dscpl.com.au
       </A><BR>
    <I>Wed Jan 19 14:33:40 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="017149.html">[mod_python] Getting mptest.py to work
</A></li>
        <LI>Next message: <A HREF="017148.html">[mod_python] Scripts executed in /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17156">[ date ]</a>
              <a href="thread.html#17156">[ thread ]</a>
              <a href="subject.html#17156">[ subject ]</a>
              <a href="author.html#17156">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 19/01/2005, at 11:21 PM, Johann Spies wrote:

&gt;<i> Dear Graham,
</I>&gt;<i>
</I>&gt;<i> Thanks for your patience and help.  As you can see I have a lot to
</I>&gt;<i> learn about apache and related products.
</I>&gt;<i>
</I>&gt;<i> On Wed, Jan 19, 2005 at 10:03:44PM +1100, Graham Dumpleton wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Do a sanity check to see if the .htaccess file is actually being read.
</I>&gt;&gt;<i> One can use another feature of mod_python to check this. Add:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>   PythonOption Name
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If mod_python is working okay and the .htaccess file is being read,
</I>&gt;&gt;<i> this should cause a 500 server error to be returned as a value for
</I>&gt;&gt;<i> option hasn't been supplied.
</I>&gt;<i>
</I>&gt;<i> This did not produce any error or success.
</I>
I can only guess then that the permissions on the .htaccess file
didn't include read access to others. The file needs to be readable
by the user Apache runs under. This isn't usually root so the file
needs to be readable to others or have group membership and readership
for group that Apache runs as.

&gt;&gt;<i>
</I>&gt;&gt;<i> If you don't see this, then might be that main httpd.conf file not
</I>&gt;&gt;<i> configured to allow .htaccess in that part of directory hierarchy,
</I>&gt;&gt;<i> although, not sure if that is possible.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Next step might be to use the original &lt;Directory&gt; directive block
</I>&gt;&gt;<i> you had and put it in the main httpd.conf in an appropriate spot
</I>&gt;&gt;<i> to see if that makes a difference.
</I>&gt;<i>
</I>&gt;<i> So I  created a file in /etc/apache2/sites-enabled with the following
</I>&gt;<i> content:
</I>&gt;<i>
</I>&gt;<i> &lt;Directory /var/www/test/&gt;
</I>&gt;<i>    AddHandler mod_python .py
</I>&gt;<i>    PythonHandler mptest
</I>&gt;<i>    PythonDebug On
</I>&gt;<i> &lt;/Directory&gt;
</I>&gt;<i>
</I>&gt;<i> And now I get the 500 server error when I click on mptest.py (just in
</I>&gt;<i> the browser - nothing in /var/log/apache2/error.log) after a
</I>&gt;<i> considerable period of time. Going just to <A HREF="http://localhost/test/">http://localhost/test/</A>
</I>&gt;<i> results in a directory being displayed with no error message.
</I>&gt;<i>
</I>
Use:

   <A HREF="http://localhost/test/foo.py">http://localhost/test/foo.py</A>

Only requests which have a &quot;.py&quot; extension will be routed through the
handler. Ie., the &quot;foo&quot; bit doesn't matter as long as ends in &quot;.py&quot;.

To have directory access also, or any extension for that matter, map
to handler, you need to look at using &quot;SetHandler&quot; instead of
&quot;AddHandler&quot; Ie.,

   SetHandler mod_python


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017149.html">[mod_python] Getting mptest.py to work
</A></li>
	<LI>Next message: <A HREF="017148.html">[mod_python] Scripts executed in /
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17156">[ date ]</a>
              <a href="thread.html#17156">[ thread ]</a>
              <a href="subject.html#17156">[ subject ]</a>
              <a href="author.html#17156">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
