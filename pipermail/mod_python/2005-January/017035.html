<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] importing from a PSP file
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20importing%20from%20a%20PSP%20file&In-Reply-To=41DD44CD.9080901%40joreybump.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017034.html">
   <LINK REL="Next"  HREF="017036.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] importing from a PSP file</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Simon Wittber</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20importing%20from%20a%20PSP%20file&In-Reply-To=41DD44CD.9080901%40joreybump.com"
       TITLE="[mod_python] importing from a PSP file">simonwittber at gmail.com
       </A><BR>
    <I>Thu Jan  6 10:31:46 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="017034.html">[mod_python] importing from a PSP file
</A></li>
        <LI>Next message: <A HREF="017036.html">[mod_python] importing from a PSP file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17035">[ date ]</a>
              <a href="thread.html#17035">[ thread ]</a>
              <a href="subject.html#17035">[ subject ]</a>
              <a href="author.html#17035">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> &gt; /home/simon/public_html/package/module.py
</I>&gt;<i> 
</I>&gt;<i> No surprise, this doesn't work in Python, either.
</I>
The example I provided was contrived, designed to illustrate my
problem. I had created the package correctly, as you describe below.
The package is designed to be installed using a distutils setup.py
script. I need the package in each developer's public_html directory
so that each individual developer can modifiy parts of the package and
only effect their development environment, (we are all working on a
single linux box) and not the entire server. Changes to the package
are merged using SVN. The package will eventually be deployed to
production using distutils.

&gt;<i> Just make the subdirectory a package:
</I>&gt;<i> 
</I>&gt;<i>   cd /home/simon/public_html/package/
</I>&gt;<i>   touch __init__.py
</I>&gt;<i> 
</I>
&gt;<i> Now, anything running from /home/simon/public_html/ can do this:
</I>&gt;<i> 
</I>&gt;<i>   import package.module
</I>
It seems, with the standard PSP handler, that this statement is
incorrect. This is because psp.py loads and exec's the .psp file, and
psp.py has a different current working directory to the .psp file.
Therefore, the directory which contains the .psp file, is not in
sys.path.

&gt;<i> The same rules (generally) apply to mod_python as to running a single
</I>&gt;<i> interpreter from the command line. 
</I> 
Except, it seems, files which are processed by the PSP handler. PSP
files will not import modules or packages which exist in the same
directory as the PSP file, unless of course, the .psp filepath exists
in sys.path. Whether this is a bug or not, depends on one's point of
view. Personally, I believe .psp files should be able to import python
modules and packages from .psp file's directory, hence the psp.py
hack.

Sw.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017034.html">[mod_python] importing from a PSP file
</A></li>
	<LI>Next message: <A HREF="017036.html">[mod_python] importing from a PSP file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17035">[ date ]</a>
              <a href="thread.html#17035">[ thread ]</a>
              <a href="subject.html#17035">[ subject ]</a>
              <a href="author.html#17035">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
