<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] namespaces in publisher
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20namespaces%20in%20publisher&In-Reply-To=1f060c4c0501262242194ef343%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017260.html">
   <LINK REL="Next"  HREF="017277.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] namespaces in publisher</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Nicolas Lehuen</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20namespaces%20in%20publisher&In-Reply-To=1f060c4c0501262242194ef343%40mail.gmail.com"
       TITLE="[mod_python] namespaces in publisher">nicolas.lehuen at gmail.com
       </A><BR>
    <I>Thu Jan 27 02:30:51 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="017260.html">[mod_python] namespaces in publisher
</A></li>
        <LI>Next message: <A HREF="017277.html">[mod_python] namespaces in publisher
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17264">[ date ]</a>
              <a href="thread.html#17264">[ thread ]</a>
              <a href="subject.html#17264">[ subject ]</a>
              <a href="author.html#17264">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 26 Jan 2005 22:42:14 -0800, snacktime &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">snacktime at gmail.com</A>&gt; wrote:
&gt;<i> Do variables defined in the main function called by publisher persist
</I>&gt;<i> after the request?
</I>&gt;<i> 
</I>&gt;<i> Also, how do you destroy an instance of a class?  Do you just assign
</I>&gt;<i> it a value of None?  And if you call a class from within a function,
</I>&gt;<i> when you leave the function the class instance is destroyed unless the
</I>&gt;<i> function returns the instance to the caller correct?
</I>&gt;<i> 
</I>&gt;<i> Chris
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> 
</I>
Hi,

Those are Python-specific questions, not mod_python questions. You
have to learn the difference between global and local variables, or
more precisely how Python handle its namespaces. Do not hesitate to
read the Python Tutorial (or any other Python tutorial) :

<A HREF="http://docs.python.org/tut/tut.html">http://docs.python.org/tut/tut.html</A>

I'll try to answer your questions, though :

1) No, variables defined in functions are not persisted. Those
variables are only defined in a scope which is dynamically created
each time the function is called. When the function exits, the scope
is destroyed, so next time the function will be called, it will be in
a news scope, with new variables.

2) You can't explicitely destroy objects in Python. Python, like many
other languages now, handles memory automatically. Once an object is
not referenced anywhere in a program, it can be safely removed from
memory. All you can do in Python is to dereference an object with the
'del' keyword (have a look at the documentation), but generally you
don't have to worry about this.

3) Like I wrote in 1), any object which is created is initially
referenced in the local scope of the function. If you do not return
this object, it will be dereferenced at the end of the call since the
local scope will be destructed. If you return the object, when the
local scope is destructed, the object will not be destructed since it
will be referenced somewhere else (in the local scope of the calling
function).

What you must understand is that &quot;it just works&quot;. You don't have to
worry about object allocation and destruction. Objects are
automatically destroyed when it is safe. The only thing you have to
understand is how scope are created and destroyed (which is a totally
different mechanism than object allocation/destruction) ; fortunately
it's nearly the same scoping rule as in other languages.

Regards,
Nicolas
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017260.html">[mod_python] namespaces in publisher
</A></li>
	<LI>Next message: <A HREF="017277.html">[mod_python] namespaces in publisher
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17264">[ date ]</a>
              <a href="thread.html#17264">[ thread ]</a>
              <a href="subject.html#17264">[ subject ]</a>
              <a href="author.html#17264">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
