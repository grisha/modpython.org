<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] pool and mps
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20pool%20and%20mps&In-Reply-To=41F82236.1080500%40valdisme.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017249.html">
   <LINK REL="Next"  HREF="017270.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] pool and mps</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Nicolas Lehuen</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20pool%20and%20mps&In-Reply-To=41F82236.1080500%40valdisme.com"
       TITLE="[mod_python] pool and mps">nicolas.lehuen at gmail.com
       </A><BR>
    <I>Thu Jan 27 02:06:28 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="017249.html">[mod_python] pool and mps
</A></li>
        <LI>Next message: <A HREF="017270.html">[mod_python] pool and mps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17262">[ date ]</a>
              <a href="thread.html#17262">[ thread ]</a>
              <a href="subject.html#17262">[ subject ]</a>
              <a href="author.html#17262">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

There is no standard way to do it. First, if you are using the Apache
mpm_prefork (the forked MPM), the efficiency of pooling will be very
low, since your pool will be instantiated as many times as there are
Apache processes.

I'm using the threaded MPM, and I built my own DB connection pool. The
best place to instantiate the DB connection pool is in a module on the
PYTHONPATH, which will be imported from any published modules. This
way, you are guaranteed that the pool will be instantiated only once.

As for the pool code, I'll publish it eventually... It's not really
difficult to write one, but threading and locking issues can be a
little tricky to get right.

Regards,
Nicolas

On Thu, 27 Jan 2005 00:05:26 +0100, Rosendo Martinez
&lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">rosendo.martinez at valdisme.com</A>&gt; wrote:
&gt;<i> Hi all,
</I>&gt;<i> this is a mps(by Daniel Popowich) and/or mod_python question.
</I>&gt;<i> How can i configurate a pool of db connections o a pool of objects?
</I>&gt;<i> 
</I>&gt;<i> Thanks for your help.
</I>&gt;<i> Rosendo.
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I></PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017249.html">[mod_python] pool and mps
</A></li>
	<LI>Next message: <A HREF="017270.html">[mod_python] pool and mps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17262">[ date ]</a>
              <a href="thread.html#17262">[ thread ]</a>
              <a href="subject.html#17262">[ subject ]</a>
              <a href="author.html#17262">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
