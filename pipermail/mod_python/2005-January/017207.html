<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] psp_site example doesn't work
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20psp_site%20example%20doesn%27t%20work&In-Reply-To=16885.11826.768433.372438%40greenmonster.local">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017205.html">
   <LINK REL="Next"  HREF="017224.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] psp_site example doesn't work</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Jorey Bump</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20psp_site%20example%20doesn%27t%20work&In-Reply-To=16885.11826.768433.372438%40greenmonster.local"
       TITLE="[mod_python] psp_site example doesn't work">list at joreybump.com
       </A><BR>
    <I>Mon Jan 24 14:56:23 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="017205.html">[mod_python] psp_site example doesn't work
</A></li>
        <LI>Next message: <A HREF="017224.html">[mod_python] psp_site example doesn't work
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17207">[ date ]</a>
              <a href="thread.html#17207">[ thread ]</a>
              <a href="subject.html#17207">[ subject ]</a>
              <a href="author.html#17207">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Daniel Popowich wrote:

&gt;<i> Thank you Jorey for your detailed email, but I have to disagree with
</I>&gt;<i> you when you wrote:
</I>&gt;<i> 
</I>&gt;<i>     This is consistent with normal Python behaviour, where an
</I>&gt;<i>     interpreter loads modules from the current directory or
</I>&gt;<i>     PYTHONPATH. [1]
</I>&gt;<i> 
</I>&gt;<i> I came to mod_python after *many* years of intensive python
</I>&gt;<i> programming and as a newbie to mod_python was caught by this issue for
</I>&gt;<i> days.  The way mod_python imports files all at the same root level is
</I>&gt;<i> very UN-pythonic.  
</I>
Yes, I'll concede that. But, mod_python.publisher must remove leading 
path information when the published modules are imported, otherwise 
Python wouldn't import them (unless they happen to be in sys.path). It's 
important to understand that the module in the URL is being imported by 
another module, not run directly by the interpreter, as when you type 
&quot;python app.py&quot; on the command line. It took a while for this to sink in 
completely, myself.

There is no mechanism in Python to import a module by file path, so it's 
consistent, but confusing. The alternative would have been to force a 
working directory onto the user, much like a cgi-bin, and prepend that 
to sys.path.

&gt;<i> I also agree with Nicolas that there seems to be a message being sent
</I>&gt;<i> when you consider mpservlets, Vampire, his own handler and PSP are all
</I>&gt;<i> doing their own importing mechanism.  Let's face it, importing in
</I>&gt;<i> vanilla python is not the most clear-cut source-inclusion scheme
</I>&gt;<i> around (this is the ONLY area where I think java got it right over
</I>&gt;<i> python); when you imbed it in a process like apache...ouch...
</I>
Yes, this abstraction of the interpreter seems to be what causes the 
most confusion. I guess I would summarize it like this:

1. The modules in your URL are imported by Publisher at the root level.
2. The modules in your URL must obey sys.path in their own imports.

Add the sugar (like readily accessible form variables, the req object, 
etc.) and you have Publisher.




</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017205.html">[mod_python] psp_site example doesn't work
</A></li>
	<LI>Next message: <A HREF="017224.html">[mod_python] psp_site example doesn't work
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17207">[ date ]</a>
              <a href="thread.html#17207">[ thread ]</a>
              <a href="subject.html#17207">[ subject ]</a>
              <a href="author.html#17207">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
