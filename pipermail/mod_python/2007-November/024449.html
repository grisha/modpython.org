<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] [SPAM] URL returned by test.py
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20%5BSPAM%5D%20URL%20returned%20by%20test.py&In-Reply-To=255b859d0711091825g20506f11s4dbe595f69822875%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024448.html">
   <LINK REL="Next"  HREF="024450.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] [SPAM] URL returned by test.py</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Bart</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20%5BSPAM%5D%20URL%20returned%20by%20test.py&In-Reply-To=255b859d0711091825g20506f11s4dbe595f69822875%40mail.gmail.com"
       TITLE="[mod_python] [SPAM] URL returned by test.py">scarfboy at gmail.com
       </A><BR>
    <I>Sat Nov 10 11:51:05 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024448.html">[mod_python] [SPAM] URL returned by test.py
</A></li>
        <LI>Next message: <A HREF="024450.html">[mod_python] [SPAM] URL returned by test.py
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24449">[ date ]</a>
              <a href="thread.html#24449">[ thread ]</a>
              <a href="subject.html#24449">[ subject ]</a>
              <a href="author.html#24449">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>It's because of the somewhat strange way URLs work in the
python-publisher. In it, you always get the filename of the handler in
the URL, which to any client and their path calculations looks like an
extra directory.
Basically, every relative URL (like your href) will have to have an extra '../'

(You could use absolute URLs (within the (v)host), but if you ever
want to move things to another directory, you'ld have to go through
all your code to change the URLs.)

--Bart


On Nov 10, 2007 3:25 AM, Peter Hollenbeck &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">pwhbeck at gmail.com</A>&gt; wrote:
&gt;<i> Apache root is /srv/www/htdocs
</I>&gt;<i>
</I>&gt;<i> I open <A HREF="http://localhost/test.html">http://localhost/test.html</A>
</I>&gt;<i> Test.html calls test.py
</I>&gt;<i> Test.py returns an html page with a link to an image in
</I>&gt;<i> /srv/www/htdocs/pics/1998/...
</I>&gt;<i> But the link displayed in the browser is
</I>&gt;<i>     <A HREF="http://localhost/test/test.py/pics/1998/...">http://localhost/test/test.py/pics/1998/...</A>
</I>&gt;<i> not
</I>&gt;<i>     <A HREF="http://localhost/pics/1998/...">http://localhost/pics/1998/...</A>
</I>&gt;<i>
</I>&gt;<i> Can anyone tell me why this is?
</I>&gt;<i> What can I do to get the link without &quot;/test/test.py&quot;
</I>&gt;<i>
</I>&gt;<i> Thanks very much,
</I>&gt;<i> Peter Hollenbeck
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> SUSE 10.2 Linux
</I>&gt;<i> Apache 2.2.4
</I>&gt;<i> mod_python 3.3.1 (I think)
</I>&gt;<i>
</I>&gt;<i> /srv/www/htdocs/test.html:
</I>&gt;<i>       &lt;html&gt;
</I>&gt;<i>       &lt;p&gt;
</I>&gt;<i>       mod_python test
</I>&gt;<i>       &lt;p&gt;
</I>&gt;<i>       &lt;form action=&quot;test/test.py/test&quot; method=&quot;POST&quot;&gt;
</I>&gt;<i>           &lt;input type=&quot;submit&quot;&gt;
</I>&gt;<i>       &lt;/form&gt;
</I>&gt;<i>       &lt;/html&gt;
</I>&gt;<i>
</I>&gt;<i> /srv/www/htdocs/test/test.py
</I>&gt;<i> def test():
</I>&gt;<i>     link = '&lt;a href=&quot;pics/1998/9804/bcsi/98042118.jpg&quot;&gt;&lt;img
</I>&gt;<i> src=&quot;pics/1998/9804/bcsi/98042118tn.jpg&quot;&gt;Logging road&lt;/a&gt;'
</I>&gt;<i>
</I>&gt;<i>     htmlpage = '&lt;html&gt;&lt;body&gt;'+link+'&lt;/body&gt;&lt;/html&gt;'
</I>&gt;<i>     rc = &quot;&quot;&quot;$&quot;&quot;&quot;
</I>&gt;<i>     rc = rc.replace('$', htmlpage)
</I>&gt;<i>     return rc
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024448.html">[mod_python] [SPAM] URL returned by test.py
</A></li>
	<LI>Next message: <A HREF="024450.html">[mod_python] [SPAM] URL returned by test.py
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24449">[ date ]</a>
              <a href="thread.html#24449">[ thread ]</a>
              <a href="subject.html#24449">[ subject ]</a>
              <a href="author.html#24449">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
