<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Session problems with 3.3.1
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Session%20problems%20with%203.3.1&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024438.html">
   <LINK REL="Next"  HREF="024423.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Session problems with 3.3.1</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>elias.collas at gulfstream.com</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Session%20problems%20with%203.3.1&In-Reply-To="
       TITLE="[mod_python] Session problems with 3.3.1">elias.collas at gulfstream.com
       </A><BR>
    <I>Tue Nov  6 16:57:06 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024438.html">[mod_python] PIL not working in mod_python on macosx 10.5
</A></li>
        <LI>Next message: <A HREF="024423.html">[mod_python] Re: Session problems with 3.3.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24422">[ date ]</a>
              <a href="thread.html#24422">[ thread ]</a>
              <a href="subject.html#24422">[ subject ]</a>
              <a href="author.html#24422">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Graham,

I've read your article
<A HREF="http://www.dscpl.com.au/wiki/ModPython/Articles/IssuesWithSessionObjects">http://www.dscpl.com.au/wiki/ModPython/Articles/IssuesWithSessionObjects</A>
and when I implemented Sessions in my app with mp 3.2.10, I was careful to
avoid saving anything other than dictionaries in the session object.
Everything worked great in until I upgraded to 3.3.1. I'm using the legacy
importer (yes, I punted) and don't use apache.import_module() anywhere.
Here's the lovely traceback:

Mod_python error: &quot;PythonHandler mod_python.publisher&quot;

Traceback (most recent call last):

  File
&quot;/cluster/stress/methods/opt/lib/python2.5/site-packages/mod_python/apache.py&quot;,
 line 395, in HandlerDispatch
    result = object(req)

  File
&quot;/cluster/stress/methods/opt/lib/python2.5/site-packages/mod_python/publisher.py&quot;,
 line 213, in handler
    published = publish_object(req, object)

  File
&quot;/cluster/stress/methods/opt/lib/python2.5/site-packages/mod_python/publisher.py&quot;,
 line 425, in publish_object
    return publish_object(req,util.apply_fs_data(object, req.form,
req=req))

  File
&quot;/cluster/stress/methods/opt/lib/python2.5/site-packages/mod_python/util.py&quot;,
 line 554, in apply_fs_data
    return object(**args)

  File &quot;/cluster/stress/u308168/public_html/gflat/minersrule/index.py&quot;,
line 56, in report
    sess.save()

  File
&quot;/cluster/stress/methods/opt/lib/python2.5/site-packages/mod_python/Session.py&quot;,
 line 269, in save
    self.do_save(dict)

  File
&quot;/cluster/stress/methods/opt/lib/python2.5/site-packages/mod_python/Session.py&quot;,
 line 407, in do_save
    dbm[self._sid] = cPickle.dumps(dict)

  File &quot;/cluster/stress/methods/opt/lib/python2.5/copy_reg.py&quot;, line 69, in
_reduce_ex
    raise TypeError, &quot;can't pickle %s objects&quot; % base.__name__

TypeError: can't pickle StringO objects

Can you shed any light? Thanks for your time.



This e-mail message, including all attachments, is for the sole use of the
intended recipient(s) and may contain legally privileged and confidential
information.  If you are not an intended recipient, you are hereby notified
that you have either received this message in error or through
interception, and that any review, use, distribution, copying or disclosure
of this message or its attachments is strictly prohibited and is subject to
criminal and civil penalties.  All personal messages express solely the
sender's views and not those of Gulfstream Aerospace Corporation.  If you
received this message in error, please contact the sender by reply e-mail
and destroy all copies of the original message.


</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024438.html">[mod_python] PIL not working in mod_python on macosx 10.5
</A></li>
	<LI>Next message: <A HREF="024423.html">[mod_python] Re: Session problems with 3.3.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24422">[ date ]</a>
              <a href="thread.html#24422">[ thread ]</a>
              <a href="subject.html#24422">[ subject ]</a>
              <a href="author.html#24422">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
