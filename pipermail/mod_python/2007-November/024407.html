<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Upgrading 3.2.10 -&gt; 3.3.1
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Upgrading%203.2.10%20-%3E%203.3.1&In-Reply-To=OF3B399D07.6DC4BC6A-ON8525738A.006F20A1-8525738A.00709E5D%40zeus.git.gulfaero.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024405.html">
   <LINK REL="Next"  HREF="024408.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Upgrading 3.2.10 -&gt; 3.3.1</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Upgrading%203.2.10%20-%3E%203.3.1&In-Reply-To=OF3B399D07.6DC4BC6A-ON8525738A.006F20A1-8525738A.00709E5D%40zeus.git.gulfaero.com"
       TITLE="[mod_python] Upgrading 3.2.10 -&gt; 3.3.1">graham.dumpleton at gmail.com
       </A><BR>
    <I>Mon Nov  5 16:32:05 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024405.html">[mod_python] Upgrading 3.2.10 -&gt; 3.3.1
</A></li>
        <LI>Next message: <A HREF="024408.html">[mod_python] Upgrading 3.2.10 -&gt; 3.3.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24407">[ date ]</a>
              <a href="thread.html#24407">[ thread ]</a>
              <a href="subject.html#24407">[ subject ]</a>
              <a href="author.html#24407">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>If you have installed multiple versions of Python installed in
different locations then you must ensure that PATH environment
variable of Apache when it starts up finds in that PATH the version
you want first. It doesn't actually run it, but Python internal
initialisation uses it as a reference point to determine where Python
lib directory is located.

Graham

On 06/11/2007, <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">elias.collas at gulfstream.com</A> &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">elias.collas at gulfstream.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> I've checked the list archives and the mod_python FAQ but now it's time to
</I>&gt;<i> ask the experts:
</I>&gt;<i>
</I>&gt;<i> I'm trying to upgrade to version 3.3.1 without breaking my production
</I>&gt;<i> 3.2.10 server. Here are my specifics:
</I>&gt;<i>
</I>&gt;<i> Apache 2.2.0
</I>&gt;<i> Python 2.4.3
</I>&gt;<i>
</I>&gt;<i> I'm attempting to run a Virtual Host with an apache configured with
</I>&gt;<i> mod_python 3.3.1. Here's my .htaccess file. Most of the paths are symbolic
</I>&gt;<i> links to the python2.4 site-packages directory etc. I'm trying to avoid
</I>&gt;<i> loading anything with sys.path but something's not right.
</I>&gt;<i>
</I>&gt;<i> SetHandler mod_python
</I>&gt;<i> PythonPath &quot;['/cluster/stress/methods/downloads/mod_python-3.3.1
</I>&gt;<i> /lib/python', \
</I>&gt;<i>    '/cluster/stress/u308168/site-python/python2.4',\
</I>&gt;<i>    '/cluster/stress/u308168/site-python/simplejson-1.4-py2.4.egg', \
</I>&gt;<i>    '/cluster/stress/u308168/site-python/lib-dynload', \
</I>&gt;<i>    '/cluster/stress/u308168/site-python/Numeric', \
</I>&gt;<i>    '/cluster/stress/u308168/site-python', \
</I>&gt;<i>    '/cluster/stress/u308168/public_html/gflat']&quot;
</I>&gt;<i> PythonHandler mod_python.publisher
</I>&gt;<i> PythonOption mod_python.session.session_type DbmSession
</I>&gt;<i> PythonOption mod_python.dbm_session.database_directory /scratch/u308168
</I>&gt;<i> PythonDebug On
</I>&gt;<i> PythonOption data_path /cluster/stress/methadmin/jfat/ncdata
</I>&gt;<i> &lt;FilesMatch &quot;\.(gif|jpe?g|png|css|js|tmpl)$&quot;&gt;
</I>&gt;<i>    SetHandler default-handler
</I>&gt;<i> &lt;/FilesMatch&gt;
</I>&gt;<i>
</I>&gt;<i> When I run this, it appears that the mod_python is still loading the old
</I>&gt;<i> apache module. Here's the error I get:
</I>&gt;<i>
</I>&gt;<i> Mod_python error: &quot;PythonHandler mod_python.publisher&quot;
</I>&gt;<i>
</I>&gt;<i> Traceback (most recent call last):
</I>&gt;<i>
</I>&gt;<i>   File
</I>&gt;<i> &quot;/cluster/stress/methods/local/lib/python2.4/site-packages/mod_python/apache.py&quot;,
</I>&gt;<i>  line 299, in HandlerDispatch
</I>&gt;<i>     result = object(req)
</I>&gt;<i>
</I>&gt;<i>   File &quot;/cluster/stress/methods/downloads/mod_python-3.3.1
</I>&gt;<i> /lib/python/mod_python/publisher.py&quot;, line 204, in handler
</I>&gt;<i>     module = page_cache[req]
</I>&gt;<i>
</I>&gt;<i>   File &quot;/cluster/stress/methods/downloads/mod_python-3.3.1
</I>&gt;<i> /lib/python/mod_python/cache.py&quot;, line 82, in __getitem__
</I>&gt;<i>     return self._checkitem(name)[2]
</I>&gt;<i>
</I>&gt;<i>   File &quot;/cluster/stress/methods/downloads/mod_python-3.3.1
</I>&gt;<i> /lib/python/mod_python/cache.py&quot;, line 124, in _checkitem
</I>&gt;<i>     value = self.build(key, name, opened, entry)
</I>&gt;<i>
</I>&gt;<i>   File &quot;/cluster/stress/methods/downloads/mod_python-3.3.1
</I>&gt;<i> /lib/python/mod_python/publisher.py&quot;, line 77, in build
</I>&gt;<i>     return ModuleCache.build(self, key, req, opened, entry)
</I>&gt;<i>
</I>&gt;<i>   File &quot;/cluster/stress/methods/downloads/mod_python-3.3.1
</I>&gt;<i> /lib/python/mod_python/cache.py&quot;, line 371, in build
</I>&gt;<i>     exec opened in module.__dict__
</I>&gt;<i>
</I>&gt;<i>   File &quot;/cluster/stress/u308168/public_html/gflat/snlife/index.py&quot;, line 7,
</I>&gt;<i> in ?
</I>&gt;<i>     model = apache.import_module('../gflat.py')##, log=1)
</I>&gt;<i>
</I>&gt;<i>   File
</I>&gt;<i> &quot;/cluster/stress/methods/local/lib/python2.4/site-packages/mod_python/apache.py&quot;,
</I>&gt;<i>  line 461, in import_module
</I>&gt;<i>     f, p, d = imp.find_module(parts[i], path)
</I>&gt;<i>
</I>&gt;<i> ImportError: No module named
</I>&gt;<i>
</I>&gt;<i> Any suggestions?
</I>&gt;<i>
</I>&gt;<i> Elias Collas
</I>&gt;<i> Stress Methods Group
</I>&gt;<i> Gulfstream Aerospace Corp
</I>&gt;<i>
</I>&gt;<i> This e-mail message, including all attachments, is for the sole use of the
</I>&gt;<i> intended recipient(s) and may contain legally privileged and confidential
</I>&gt;<i> information.  If you are not an intended recipient, you are hereby notified
</I>&gt;<i> that you have either received this message in error or through
</I>&gt;<i> interception, and that any review, use, distribution, copying or disclosure
</I>&gt;<i> of this message or its attachments is strictly prohibited and is subject to
</I>&gt;<i> criminal and civil penalties.  All personal messages express solely the
</I>&gt;<i> sender's views and not those of Gulfstream Aerospace Corporation.  If you
</I>&gt;<i> received this message in error, please contact the sender by reply e-mail
</I>&gt;<i> and destroy all copies of the original message.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I></PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024405.html">[mod_python] Upgrading 3.2.10 -&gt; 3.3.1
</A></li>
	<LI>Next message: <A HREF="024408.html">[mod_python] Upgrading 3.2.10 -&gt; 3.3.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24407">[ date ]</a>
              <a href="thread.html#24407">[ thread ]</a>
              <a href="subject.html#24407">[ subject ]</a>
              <a href="author.html#24407">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
