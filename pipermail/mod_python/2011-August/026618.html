<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Fwd: mod_python libtool problems in solaris
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Fwd%3A%20mod_python%20libtool%20problems%20in%20solaris&In-Reply-To=CABnTvmrdDFr5DEKy_1d3ia8oGL5brgg%3D_gh2Y4BO%3DBuPDg70MA%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026617.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Fwd: mod_python libtool problems in solaris</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Luis Baruseh Salvador Rueda</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Fwd%3A%20mod_python%20libtool%20problems%20in%20solaris&In-Reply-To=CABnTvmrdDFr5DEKy_1d3ia8oGL5brgg%3D_gh2Y4BO%3DBuPDg70MA%40mail.gmail.com"
       TITLE="[mod_python] Fwd: mod_python libtool problems in solaris">lbsrueda at gmail.com
       </A><BR>
    <I>Thu Aug 11 18:31:49 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="026617.html">[mod_python] URL redirect
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26618">[ date ]</a>
              <a href="thread.html#26618">[ thread ]</a>
              <a href="subject.html#26618">[ subject ]</a>
              <a href="author.html#26618">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi everyone,

I still do not know how to solve this, anyone that could suggest me
somethig, any clue.



Thanks,
Baruseh



---------- Forwarded message ----------
From: Luis Baruseh Salvador Rueda &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">lbsrueda at gmail.com</A>&gt;
Date: 2011/7/7
Subject: mod_python libtool problems in solaris
To: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>


Hi,

I have been googled and found nothing helpful and followed this old threads
to in mod_python posts
<A HREF="http://www.modpython.org/pipermail/mod_python/2008-October/025730.html">http://www.modpython.org/pipermail/mod_python/2008-October/025730.html</A>

 <A HREF="http://www.modpython.org/pipermail/mod_python/2007-January/023070.html">http://www.modpython.org/pipermail/mod_python/2007-January/023070.html</A>

And I do not know if this is the correct way to try to solve my problem, or
I need to open a new thread, I'm having the same problem that is mentioned
on that posts but my case I think is not because privileges in the directory
becuase I execute the make as root, and the file is in the correct
place, neither the gcc of apache compilation.


Here some data:


ksh#/usr/local/apache2/bin/apachectl -v
Server version: Apache/2.2.17 (Unix)
Server built:   Oct 27 2010 03:44:22
ksh#./apxs -q CC
gcc


ksh#uname -a
SunOS hostnamel 5.8 Generic_117350-39 sun4u sparc SUNW,Ultra-4

ksh#env
PWD=/export/home/paqueteria/librerias/mod_python-3.3.1
TZ=Mexico/General
LC_MESSAGES=C
HZ=100
HOSTNAME=hostname
LD_LIBRARY_PATH=/usr/lib
PS1=ksh#
LC_TIME=en_US.ISO8859-1
MACHTYPE=sparc-sun-solaris
MAIL=/var/mail/root
OLDPWD=/export/home/paqueteria/librerias
EDITOR=vi
LC_NUMERIC=en_US.ISO8859-1
LOGNAME=root
SHLVL=1
LC_CTYPE=en_US.ISO8859-1
SHELL=/bin/ksh
HOSTTYPE=sparc
OSTYPE=solaris
HOME=/
TERM=xterm
PATH=/usr/sbin:/usr/bin:/usr/local/bin:/usr/ccs/bin:/usr/lib:/usr/ucb
LC_MONETARY=en_US.ISO8859-1
LC_COLLATE=en_US.ISO8859-1
_=/usr/bin/env



ksh#ls -las /usr/local/apache2/build
total 1036
   2 drwxr-xr-x   2 bin      bin          512 Jun 21 14:52 .
   2 drwxr-xr-x  17 bin      bin         1024 Apr  9 23:02 ..
  14 -rw-r--r--   1 bin      bin         6750 Oct 27  2010 apr_rules.mk
   4 -rwxr-xr-x   1 bin      bin         1661 Oct 27  2010 config.nice
   8 -rw-r--r--   1 bin      bin         3506 Oct 27  2010 config_vars.mk
   6 -rwxr-xr-x   1 bin      bin         2860 Oct 27  2010 instdso.sh
   4 -rw-r--r--   1 bin      bin         1060 Oct 27  2010 library.mk
 480 -rwxr-xr-x   1 bin      bin       231216 Jun 21 14:52 libtool
 480 -rwxr-xr-x   1 root     other     231228 Jun 21 14:52
libtool.resp21jun2011
   2 -rw-r--r--   1 bin      bin          951 Oct 27  2010 ltlib.mk
   6 -rw-r--r--   1 bin      bin         2991 Oct 27  2010 make_exports.awk
   2 -rw-r--r--   1 bin      bin         1023 Oct 27  2010
make_var_export.awk
   4 -rwxr-xr-x   1 bin      bin         1660 Oct 27  2010 mkdir.sh
   4 -rw-r--r--   1 bin      bin         1032 Oct 27  2010 program.mk
  14 -rw-r--r--   1 bin      bin         6970 Oct 27  2010 rules.mk
   4 -rw-r--r--   1 bin      bin         1258 Oct 27  2010 special.mk


ksh#ls -las /usr/local/apache2
total 134
   2 drwxr-xr-x  17 bin      bin         1024 Apr  9 23:02 .
   2 drwxr-xr-x  24 root     other        512 Apr 11 17:59 ..
   2 drwxr-xr-x   2 bin      bin          512 Apr  9 23:02 bin
   2 drwxr-xr-x   2 bin      bin          512 Jun 21 14:52 build
   2 drwxr-xr-x   2 bin      bin          512 Apr  9 22:06 cgi-bin
   2 drwxr-xr-x   4 bin      bin          512 Apr  9 23:02 conf
   2 drwxr-xr-x   2 root     other        512 Aug  8  2007 conf2
   2 drwxr-xr-x   3 bin      bin         1024 Apr  9 23:01 error
   4 drwxr-xr-x  31 bin      bin         2048 May 12 11:50 htdocs
   8 drwxr-xr-x   3 bin      bin         3584 Apr  9 22:06 icons
   6 drwxr-xr-x   2 bin      bin         3072 Apr  9 23:01 include
   2 drwxrwxrwx  12 bin      bin          512 Jun 29  2010 itop
   2 drwxr-xr-x   4 bin      bin         1024 Apr  9 23:01 lib
  70 -rw-r--r--   1 root     other      35821 Apr 15  2009 license.txt
   2 drwxr-xr-x   2 bin      bin          512 Jun 20 12:32 logs
   2 drwxr-xr-x   4 bin      bin          512 Sep 20  2006 man
  18 drwxr-xr-x  14 bin      bin         9216 Apr  9 23:01 manual
   4 drwxr-xr-x   2 bin      bin         2048 Apr  9 23:01 modules



This is what I get


ksh#./configure --with-shared --with-apxs=/usr/local/apache2/bin/apxs
--with-flex=/usr/local/bin/flex
checking for gcc... gcc
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables...
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ANSI C... none needed
checking for ar... ar
checking for a BSD-compatible install... /usr/local/bin/install -c
checking whether make sets $(MAKE)... yes
checking for main in -lm... yes
checking for an ANSI C-conforming const... yes
checking your blood pressure... a bit high, but we can proceed
configure: checking whether apxs is available...
checking for --with-apxs... /usr/local/apache2/bin/apxs executable, good
checking Apache version... 2.2.17
checking for Apache libexec directory... /usr/local/apache2/modules
checking for Apache include directory... -I/usr/local/apache2/include
checking for gcc on Solaris possible missing _eprintf problem... &quot;done&quot;
checking for --with-python... no
checking for python... /usr/local/bin/python
checking Python version... 2.6
checking Python install prefix... /usr/local
checking checking where python libraries are installed...
/usr/local/lib/python2.6
checking for Py_NewInterpreter in -lpython2.6... yes
checking what libraries Python was linked with... -lpython2.6   -lresolv
-lsocket -lnsl -lrt -ldl  -lpthread   -lm
checking linker flags used to link Python...
checking where Python include files are... -I/usr/local/include/python2.6
checking for --with-python-src... no
checking for --with-mutex-dir... no
Using MUTEX_DIR /tmp
checking for --with-max-locks... no
Using 8 MAX_LOCKS.
checking for --with-flex... /usr/local/bin/flex
found /usr/local/bin/flex, we'll use this. Use --with-flex to specify
another.
checking flex version... awk: syntax error near line 1
awk: bailing out near line 1
awk: syntax error near line 1
awk: bailing out near line 1
awk: syntax error near line 1
awk: bailing out near line 1
./configure: test: : integer expression expected
configure: WARNING: Flex version 2.5.31 found.
    Version 2.5.31 or greater is required.  You can generally ignore this
    warning unless you need to regenerate psp_parser.c from psp_parse.l.
    If you do need regenerate psp_parser.c, use --with-flex to specify the
    location of the correct flex version. See the README for more
information.
configure: creating ./config.status
config.status: creating Makefile
config.status: creating src/Makefile
config.status: creating Doc/Makefile
config.status: creating src/include/mod_python.h
config.status: creating test/Makefile
config.status: creating test/testconf.py
config.status: creating dist/setup.py
config.status: creating dist/Makefile

ksh#make
make[1]: Entering directory
`/export/home/paqueteria/librerias/mod_python-3.3.1/src'
ar -x `gcc -print-libgcc-file-name` _eprintf.o
ar -x `gcc -print-libgcc-file-name` _floatdidf.o
ar -x `gcc -print-libgcc-file-name` _muldi3.o

Compiling for DSO.

/usr/local/apache2/bin/apxs
-I/export/home/paqueteria/librerias/mod_python-3.3.1/src/include
-I/usr/local/apache2/include -I/usr/local/include/python2.6 -c mod_python.c
_apachemodule.c requestobject.c tableobject.c util.c serverobject.c
connobject.c filterobject.c hlist.c hlistobject.c finfoobject.c
-L/usr/local/lib/python2.6/config     -L/usr/local/lib -R/usr/local/lib
-R/usr/lib -L/usr/lib -R/usr/openwin/lib -L/usr/openwin/lib
-L/usr/local/ssl/lib -R/usr/local/ssl/lib -L/usr/local/BerkeleyDB.4.7/lib
-R/usr/local/BerkeleyDB.4.7/lib -L/usr/openwin/lib -R/usr/openwin/lib   -lm
-lpython2.6   -lresolv -lsocket -lnsl -lrt -ldl  -lpthread
-lm                 _eprintf.o _floatdidf.o _muldi3.o
/usr/local/apache2/build/libtool --silent --mode=compile gcc -prefer-pic -O2
-L/usr/local/lib -R/usr/local/lib -L/usr/local/ssl/lib -R/usr/local/ssl/lib
-L/usr/openwin/lib -R/usr/openwin/lib -I/usr/local/rrdtool-1.2.19/include
-DSOLARIS2=8 -D_POSIX_PTHREAD_SEMANTICS -D_REENTRANT -D_LARGEFILE64_SOURCE
-pthreads -I/usr/local/apache2/include  -I/usr/local/apache2/include
-I/usr/local/apache2/include
-I/export/home/paqueteria/librerias/mod_python-3.3.1/src/include
-I/usr/local/apache2/include -I/usr/local/include/python2.6  -c -o
mod_python.lo mod_python.c &amp;&amp; touch mod_python.slo
sh: /usr/local/apache2/build/libtool: not found
apxs:Error: Command failed with rc=65536
.
make[1]: *** [mod_python.so] Error 1
make[1]: Leaving directory
`/export/home/paqueteria/librerias/mod_python-3.3.1/src'
make: *** [do_dso] Error 2


I hope anyone can help, or give me a suggestion if the solution was posted
because I can not find something that can work until now.

Thanks,

Baruseh
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20110811/aec5edb4/attachment.html">http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20110811/aec5edb4/attachment.html</A>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026617.html">[mod_python] URL redirect
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26618">[ date ]</a>
              <a href="thread.html#26618">[ thread ]</a>
              <a href="subject.html#26618">[ subject ]</a>
              <a href="author.html#26618">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
