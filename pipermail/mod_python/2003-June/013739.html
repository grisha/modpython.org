<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] supporting modular mod_python extensions
	vs.&quot;folding&quot; mod_psp
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20supporting%20modular%20mod_python%20extensions%0A%09vs.%22folding%22%20mod_psp&In-Reply-To=m3of1aefe7.fsf%40ferret.object-craft.com.au">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013737.html">
   <LINK REL="Next"  HREF="013741.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] supporting modular mod_python extensions
	vs.&quot;folding&quot; mod_psp</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Geert Jansen</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20supporting%20modular%20mod_python%20extensions%0A%09vs.%22folding%22%20mod_psp&In-Reply-To=m3of1aefe7.fsf%40ferret.object-craft.com.au"
       TITLE="[mod_python] supporting modular mod_python extensions
	vs.&quot;folding&quot; mod_psp">geert at boskant.nl
       </A><BR>
    <I>Sat Jun  7 09:19:02 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="013737.html">[mod_python] supporting modular mod_python extensions vs.
	&quot;folding&quot; mod_psp
</A></li>
        <LI>Next message: <A HREF="013741.html">[mod_python] supporting modular mod_python extensions
	vs.&quot;folding&quot; mod_psp
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13739">[ date ]</a>
              <a href="thread.html#13739">[ thread ]</a>
              <a href="subject.html#13739">[ subject ]</a>
              <a href="author.html#13739">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dave,

&gt;<i> &gt; &lt;al-for iter=&quot;name&quot; expr=&quot;keys&quot;&gt;
</I>&gt;<i> &gt;     &lt;tr&gt;
</I>&gt;<i> &gt;          &lt;td&gt;&lt;al-value expr=&quot;name.value()&quot;&gt;&lt;/td&gt;
</I>&gt;<i> &gt;          &lt;td&gt;&lt;al-value expr=&quot;environ[name.value()]&quot;&gt;&lt;/td&gt;
</I>&gt;<i> &gt;     &lt;tr&gt;
</I>&gt;<i> &gt; &lt;/al-for&gt;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; This is not Python. Nor is it HTML.
</I>&gt;<i> 
</I>&gt;<i> That is true.  If you restrict yourself to Python and HTML 
</I>&gt;<i> you are forced to do something like this:
</I>&gt;<i> 
</I>&gt;<i> for name in keys:
</I>&gt;<i>     print '&lt;tr&gt;'
</I>&gt;<i>     print '  &lt;td&gt;%s&lt;/td&gt;' % name
</I>&gt;<i>     print '  &lt;td&gt;%s&lt;/td&gt;' % environ[name]
</I>&gt;<i>     print '&lt;tr&gt;'
</I>&gt;<i> 
</I>&gt;<i> That does not look bad until you build a semi-complex application.
</I>&gt;<i> 
</I>&gt;<i> You find yourself in the situation where you cannot change 
</I>&gt;<i> the HTML presentation without refactoring the surrounding 
</I>&gt;<i> Python application logic.  Likewise you find it next to 
</I>&gt;<i> impossible to change the application structure without 
</I>&gt;<i> breaking the presentation.  The above approach leads to the 
</I>&gt;<i> escalating difficulty and cost (in time and/or
</I>&gt;<i> money) of enhancements.
</I>&gt;<i>
</I>&gt;<i> The introduction of a mechanism (or third &quot;language&quot;) that 
</I>&gt;<i> allows and/or imposes a clear interface between the 
</I>&gt;<i> presentation and implementation increases the ability to 
</I>&gt;<i> change one without major impact on the other.  This is a huge 
</I>&gt;<i> win for applications that will change over time.
</I>
I don't agree with you that banning a 3rd party language implies that
you're stuck with the horrible

&lt;%
	long and tedious python fragment here
%&gt;

style of coding.

Draco tries to solve this problem in a different way, by still using
only Python as the scripting language. This works by dividing your code
in a functional part and a formatting part. The function part is put in
a so-called handler, which resides in a separate file (1 per directory).
The functional code execute the user request and puts all the results in
a dictionary dubbed the interface. This almost always reduces your
formatting code to something like this:
 
&lt;%
    for tr in rows:
        print &quot;&quot;&quot;
            html formatted string
             &quot;&quot;&quot; % tr
%&gt;

The rows variable is set in the handler and contains completely
processed and ready to print data.

Using a special notation:

&lt;%
    for tr in rows:
        print &quot;&quot;&quot;%%&gt;
            html formatted string
             &lt;%%&quot;&quot;&quot; % tr
%&gt;

you can even edit the html format string with your favourite
Dreamweaver/Frontpage/whatever.

The premise on which I've built Draco is that you can't elimiate all
code from the template, but you can minimize it. A possible solution is
to use a different templating language but IMHO this just adds
complexity because you now have two languages (plus html) instead of
one. Because Python is just as easy to learn as any old templating
language I don't see how this helps. Maybe at first Python code is a bit
scary but this should pass quickly.

Cheers,
Geert

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013737.html">[mod_python] supporting modular mod_python extensions vs.
	&quot;folding&quot; mod_psp
</A></li>
	<LI>Next message: <A HREF="013741.html">[mod_python] supporting modular mod_python extensions
	vs.&quot;folding&quot; mod_psp
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13739">[ date ]</a>
              <a href="thread.html#13739">[ thread ]</a>
              <a href="subject.html#13739">[ subject ]</a>
              <a href="author.html#13739">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
