<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] 
	working fix [FAQ: 'import site' failed; use -v for traceback]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20%0A%09working%20fix%20%5BFAQ%3A%20%27import%20site%27%20failed%3B%20use%20-v%20for%20traceback%5D&In-Reply-To=000001c32efd%240a4ce140%2418c0c20a%40computer">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006411.html">
   <LINK REL="Next"  HREF="006419.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] 
	working fix [FAQ: 'import site' failed; use -v for traceback]</H1>
    <B>kevin douglas</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20%0A%09working%20fix%20%5BFAQ%3A%20%27import%20site%27%20failed%3B%20use%20-v%20for%20traceback%5D&In-Reply-To=000001c32efd%240a4ce140%2418c0c20a%40computer"
       TITLE="[mod_python] 
	working fix [FAQ: 'import site' failed; use -v for traceback]">fitnah55 at hotmail.com
       </A><BR>
    <I>Mon Jun  9 23:38:36 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="006411.html">[mod_python] need working fix for 'import
	site'aka'ImportError'aka'make_obcallback' error
</A></li>
        <LI>Next message: <A HREF="006419.html">[mod_python] mod_python weirdness, maybe related to importing?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6412">[ date ]</a>
              <a href="thread.html#6412">[ thread ]</a>
              <a href="subject.html#6412">[ subject ]</a>
              <a href="author.html#6412">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<table border=0 width="100%"><tr><td>
<!--beginarticle-->
<PRE>
as stated in the make_obcallback FAQ entry, this is a sys.path
problem...

the main problem (i believe) is that the path that is available at
runtime is not always the same as it was with the previous run of
apache

with a linux distro that requires python as part of the base install
(even
with a minimal install) - the python in /usr is going to supercede
the python in /usr/local even if the path properly includes /usr/lib
and site-packages/mod_python is pointed to properly

what you should do is axe all the python rpm's that you can
(python-base is required for libuser which is required for passwd)
and then take the file list from python-base and manually delete it
(/usr/lib/python2.2 and /usr/bin/python)

this will free up the proper /usr/local/lib/python2.2 to be first in
line in the path

what's confusing is that you link to /usr/local/bin/python2.2 explicitly
to compile mod_python, but it still ends up with /usr/lib/python2.2
as the primary lib source... and even if you get the paths added as the
other FAQ entry states - you're still going to be running the old
site.py from /usr/lib...

and to make matters even worse sometimes it randomly decides to work
even before you axe the default distro install..

:<i>o
</I>


kd
</PRE>
<!--endarticle-->
</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006411.html">[mod_python] need working fix for 'import
	site'aka'ImportError'aka'make_obcallback' error
</A></li>
	<LI>Next message: <A HREF="006419.html">[mod_python] mod_python weirdness, maybe related to importing?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6412">[ date ]</a>
              <a href="thread.html#6412">[ thread ]</a>
              <a href="subject.html#6412">[ subject ]</a>
              <a href="author.html#6412">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
