<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Using shared memory to do global persistence
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Using%20shared%20memory%20to%20do%20global%20persistence&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010188.html">
   <LINK REL="Next"  HREF="010197.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
<table border=0 width="100%"><tr><td valign="top">
   <H1>[mod_python] Using shared memory to do global persistence</H1>
    <B>Jonathan Gardner</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Using%20shared%20memory%20to%20do%20global%20persistence&In-Reply-To="
       TITLE="[mod_python] Using shared memory to do global persistence">jgardner at jonathangardner.net
       </A><BR>
    <I>Wed Jun 25 07:32:14 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="010188.html">[mod_python] STDF Binary Datalog Reader
</A></li>
        <LI>Next message: <A HREF="010197.html">[mod_python] Using shared memory to do global persistence
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10195">[ date ]</a>
              <a href="thread.html#10195">[ thread ]</a>
              <a href="subject.html#10195">[ subject ]</a>
              <a href="author.html#10195">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

I am thinking of implementing a shared memory module that does more than just 
&quot;read&quot; and &quot;write&quot;. Instead, I want something more transparent to the 
developer, so that you say &quot;Go get this dict at this shared memory key&quot; or 
&quot;Create a new dict in shared memory at this key&quot;, and have the entire dict 
available like a namespace.

Obvious applications would include the ever-present problem of shared data 
between apache mod_python processes. This would solve it once and for all. 
Perhaps one day we could get it working with RPC and have processes on 
seperate machines sharing data as well.

The scope of this project would be implimenting new types that derive from all 
of the basic types so that:

1) When accessing the data in the type, it would gain a lock on the shared 
memory segment that stores its data using a semaphore, read the data and 
unserialize it, then return that data.
2) When storing the data in that type, it would gain a lock on the shared 
memory segment, then store the data over the existing data.

I am thinking there are really two ways to go about this.
1) Implementing it all in Python. The idea here would be that we would 
serialize and unserialize the data using cPickle.
2) Implementing it all in C. The idea here is that we would reuse the same 
data structures that the basic data types use. We would store and read the 
binary data behind the basic data types so that they can be as easily stored 
in shared memory as they are stored in real memory.

Does anyone know if something like this is implemented or in the process of 
being implemented? Does anyone want to join me in this endeavor? 

- -- 
Jonathan Gardner &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">jgardner at jonathangardner.net</A>&gt;
(was <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">jgardn at alumni.washington.edu</A>)
Live Free, Use Linux!
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)

iD8DBQE++bJuWgwF3QvpWNwRAq0pAJ4ipACeWt63fSbtheNmxQfc217sQwCgj4D7
/ID5Uq/oK8hAYQfmvvIGliE=
=4zo4
-----END PGP SIGNATURE-----

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010188.html">[mod_python] STDF Binary Datalog Reader
</A></li>
	<LI>Next message: <A HREF="010197.html">[mod_python] Using shared memory to do global persistence
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10195">[ date ]</a>
              <a href="thread.html#10195">[ thread ]</a>
              <a href="subject.html#10195">[ subject ]</a>
              <a href="author.html#10195">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
