<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] newbie question - using multiple handlers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20newbie%20question%20-%20using%20multiple%20handlers&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021672.html">
   <LINK REL="Next"  HREF="021674.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] newbie question - using multiple handlers</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Martijn Moeling</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20newbie%20question%20-%20using%20multiple%20handlers&In-Reply-To="
       TITLE="[mod_python] newbie question - using multiple handlers">martijn at xs4us.nu
       </A><BR>
    <I>Tue Jul 25 20:49:43 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021672.html">[mod_python] newbie question - using multiple handlers
</A></li>
        <LI>Next message: <A HREF="021674.html">[mod_python] newbie question - using multiple handlers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21673">[ date ]</a>
              <a href="thread.html#21673">[ thread ]</a>
              <a href="subject.html#21673">[ subject ]</a>
              <a href="author.html#21673">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
I would do it different


I would do something like this:

One handler in the apache config

Def handler(req):
	If req.unparsed_uri == &quot;/page1.html&quot;:
		#Do something for page1
		Page=1
	elif req.unparsed.uri == &quot;/page2.html&quot;:
	      #Do something for page2
		Page=2
	Send_page(req,Page)
	Return Apache.Ok

Def Send_page(req,Page):
	req.write(&quot;this is page : &quot;+str(Page))

(My outlook messes up the use of small and capital letters, you get the
point though

Martijn

-----Oorspronkelijk bericht-----
Van: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python-bounces at modpython.org</A>
[mailto:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python-bounces at modpython.org</A>] Namens Graham Dumpleton
Verzonden: Wednesday, July 26, 2006 00:12
Aan: Thomas J. Schirripa
CC: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
Onderwerp: Re: [mod_python] newbie question - using multiple handlers

Thomas J. Schirripa wrote ..
&gt;<i> I'm pretty new to both mod_python and apache. I have just written
</I>multiple
&gt;<i> handlers to deal with different webpages I have written. My problem is
</I>&gt;<i> that if I use PythonHandler for each of my handlers in the conf. file,
</I>&gt;<i> whenever I run a webpage, it tries to use ALL my handlers. Basically,
</I>I
&gt;<i> want only one handler to be used per webpage. The &quot;action&quot; in my forms
</I>&gt;<i> only specify one handler, but based on the errors I am getting, it is
</I>also
&gt;<i> running the other handlers. Is there a way that I can set directives
</I>such
&gt;<i> as PythonHandler for particular html files? Or do I need to separate
</I>my
&gt;<i> files into different directories? I would hate to have to make a
</I>switch
&gt;<i> handler that determined what methods to call from my handler files so
</I>that
&gt;<i> the conf file only had one handler in it.
</I>
Post what Apache configuration you are using for your PythonHandler
and SetHandler/AddHandler directives related to mod_python. Is this
being set in a .htaccess file or in main Apache configuration within a
Directory/Location directive?

If the PythonHandler directives at present refer sto your own handlers,
use
of a switch or dispatch handler may be your only choice when using
mod_python
3.2.X or earlier versions. This is because the logical thing to do of:

  &lt;Files page1.html&gt;
  PythonHandler handlers::page1_html
  &lt;/Files&gt;

  &lt;Files page2.html&gt;
  PythonHandler handlers::page2_html
  &lt;/Files&gt;

doesn't necessarily work, although it is fixed in development version of
mod_python 3.3.

The problem with using &lt;Files&gt; is that mod_python sets up Python path
wrongly and if handlers.py is in the directory for the .htaccess or
Directory
directive it will not find it. Will be okay if handler.py is elsewhere
and the
PythonPath directive is used to refer to the directory where it is
located.

Rather than try and hack up a solution you may want to look at Vampire
which already provides a basic switch or dispatch handler which maps
to basic mod_python handlers. This way you can have separate handler
files for each resource and if necessary distinct handlers for different
views of a resource as well. See:

  <A HREF="http://www.dscpl.com.au/projects/vampire/articles/vampire-001.html">http://www.dscpl.com.au/projects/vampire/articles/vampire-001.html</A>

for a quick overview of Vampire.

Graham


  
_______________________________________________
Mod_python mailing list
<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021672.html">[mod_python] newbie question - using multiple handlers
</A></li>
	<LI>Next message: <A HREF="021674.html">[mod_python] newbie question - using multiple handlers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21673">[ date ]</a>
              <a href="thread.html#21673">[ thread ]</a>
              <a href="subject.html#21673">[ subject ]</a>
              <a href="author.html#21673">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
