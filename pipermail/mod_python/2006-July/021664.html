<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] SystemError: error return without exception set
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20SystemError%3A%20error%20return%20without%20exception%20set&In-Reply-To=20060725084941.GM10391%40itia.ntua.gr">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021663.html">
   <LINK REL="Next"  HREF="021657.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] SystemError: error return without exception set</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20SystemError%3A%20error%20return%20without%20exception%20set&In-Reply-To=20060725084941.GM10391%40itia.ntua.gr"
       TITLE="[mod_python] SystemError: error return without exception set">grahamd at dscpl.com.au
       </A><BR>
    <I>Tue Jul 25 06:18:55 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021663.html">[mod_python] SystemError: error return without exception set
</A></li>
        <LI>Next message: <A HREF="021657.html">[mod_python] concurrent connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21664">[ date ]</a>
              <a href="thread.html#21664">[ thread ]</a>
              <a href="subject.html#21664">[ subject ]</a>
              <a href="author.html#21664">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 25/07/2006, at 6:49 PM, Antonis Christofides wrote:

&gt;<i> Thank you for the replies.  I replaced sys.stderr.write with
</I>&gt;<i> mod_python.apache.log_error, so that the code is correct, and I get
</I>&gt;<i> identical results.  Now, &quot;env&quot; is set by the following code:
</I>&gt;<i>
</I>&gt;<i>    1    # some mod_python 2.7.X has no get method for table objects,
</I>&gt;<i>    2    # so we make a real dict out of it first.
</I>&gt;<i>    3    if not hasattr(req.subprocess_env,'get'):
</I>&gt;<i>    4        env=dict(req.subprocess_env)
</I>&gt;<i>    5    else:
</I>&gt;<i>    6        env=req.subprocess_env
</I>&gt;<i>    7    self._setup_vars_from_std_env(env)   &lt;= this is the function
</I>&gt;<i>                                                 where the exception
</I>&gt;<i>                                                 occurs
</I>&gt;<i>
</I>&gt;<i> I found out that line 6 actually runs.  When I moved line 4 out of the
</I>&gt;<i> &quot;if&quot; and commented out the rest, env.get was working properly
</I>&gt;<i> afterwards.  Maybe env.get exists but does not work properly?
</I>
 From what I can tell no mod_python 2.7.X has the get() method. At least
2.7.10 doesn't and there was no 2.7.X version after that.

Instead of get() you can use [] subscript but you will have to catch the
exception if key isn't present.

Don't wait for the get() method to be added as no more work is being  
done
on mod_python 2.7.X branch. The method does exist in 3.X branch though.

Graham
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021663.html">[mod_python] SystemError: error return without exception set
</A></li>
	<LI>Next message: <A HREF="021657.html">[mod_python] concurrent connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21664">[ date ]</a>
              <a href="thread.html#21664">[ thread ]</a>
              <a href="subject.html#21664">[ subject ]</a>
              <a href="author.html#21664">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
