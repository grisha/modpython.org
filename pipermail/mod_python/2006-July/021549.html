<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] odd behaviour of the md5-module in modpy
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20odd%20behaviour%20of%20the%20md5-module%20in%20modpy&In-Reply-To=1152139013.14550%40dscpl.user.openhosting.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021548.html">
   <LINK REL="Next"  HREF="021550.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] odd behaviour of the md5-module in modpy</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Deron Meranda</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20odd%20behaviour%20of%20the%20md5-module%20in%20modpy&In-Reply-To=1152139013.14550%40dscpl.user.openhosting.com"
       TITLE="[mod_python] odd behaviour of the md5-module in modpy">deron.meranda at gmail.com
       </A><BR>
    <I>Wed Jul  5 20:06:41 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021548.html">[mod_python] odd behaviour of the md5-module in modpy
</A></li>
        <LI>Next message: <A HREF="021550.html">[mod_python] Odd behaviour with handlers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21549">[ date ]</a>
              <a href="thread.html#21549">[ thread ]</a>
              <a href="subject.html#21549">[ subject ]</a>
              <a href="author.html#21549">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 7/5/06, Graham Dumpleton &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">grahamd at dscpl.com.au</A>&gt; wrote:
&gt;<i> There is probably a shared library involved somewhere and they have
</I>&gt;<i> chosen names for functions which are the same as some functions
</I>&gt;<i> in some other library required by Python for md5 stuff. The libmhash
</I>&gt;<i> is probably getting loaded first and because they already exist, the
</I>&gt;<i> other libraries functions aren't being used but the wrong ones from
</I>&gt;<i> libmhash.
</I>
Yes, except (unlike expat) I still can't figure out how they could
conflict.  The python md5module is completely self-contained--it
doesn't call out to any external libraries except for the core python
lib (and memcpy and memset).  Unless something's pouncing on
it's memory, or overriding something in the python dictionaries, I
can't see what could be in conflict.

Do we know if the python adapter &quot;mhashmodule&quot; was also loaded,
or just libmhash?

What might be interesting is to find the python md5module.so
object file and see what symbols it is using.  You might be able
to do an &quot;md5 -g&quot; on it; or if not use &quot;readelf -s&quot; (ignoring LOCAL
symbols).  The only necessary global symbol is &quot;initmd5&quot;
according to the Python C extension API.

Also do a symbol lookup on the libmhash.so and mhashmodule.so
and see if there are any external/global symbols in common.

What's scary is that this alleged conflict is mostly silent.  There are
no crashes or obvious problems.  It's just the the computed result
is not what is expected.  So who knows what other kinds of
conflicts could exist that haven't been found yet!
-- 
Deron Meranda
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021548.html">[mod_python] odd behaviour of the md5-module in modpy
</A></li>
	<LI>Next message: <A HREF="021550.html">[mod_python] Odd behaviour with handlers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21549">[ date ]</a>
              <a href="thread.html#21549">[ thread ]</a>
              <a href="subject.html#21549">[ subject ]</a>
              <a href="author.html#21549">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
