<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] outputting to apache log
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20outputting%20to%20apache%20log&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021565.html">
   <LINK REL="Next"  HREF="021576.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] outputting to apache log</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20outputting%20to%20apache%20log&In-Reply-To="
       TITLE="[mod_python] outputting to apache log">grahamd at dscpl.com.au
       </A><BR>
    <I>Sun Jul  9 18:44:02 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021565.html">[mod_python] outputting to apache log
</A></li>
        <LI>Next message: <A HREF="021576.html">[mod_python] outputting to apache log
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21566">[ date ]</a>
              <a href="thread.html#21566">[ thread ]</a>
              <a href="subject.html#21566">[ subject ]</a>
              <a href="author.html#21566">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>greg wrote ..
&gt;<i> &gt; I haven't used PythonLogHandler myself, but I suspect it doesn't do what
</I>&gt;<i> &gt; you think does.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Putting PythonLogHandler in your apache config will cause your handler
</I>&gt;<i> &gt; to be called by apache during logging phase, which is the second to last
</I>&gt;<i> &gt; phase - cleanup being the last. What you do in your handler is entirely
</I>&gt;<i> &gt; up to you, such as logging to a separate file, database, error log, or
</I>&gt;<i> &gt; whatever.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; AFAIK there is no functionality exposed in mod_python that allows you
</I>&gt;<i> to
</I>&gt;<i> &gt; interact with the access log, or if this is even possible.
</I>&gt;<i> 
</I>&gt;<i> Thanks for the reply Jim.
</I>&gt;<i> 
</I>&gt;<i> I assumed it was possible from this article by Gregory Trubetskoy:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://www.onlamp.com/pub/a/python/2003/10/02/mod_python.html">http://www.onlamp.com/pub/a/python/2003/10/02/mod_python.html</A>
</I>&gt;<i> 
</I>&gt;<i> &quot;A mod_python connection handler leverages [..] Apache server facilities
</I>&gt;<i> such as logging.&quot;
</I>
There is &quot;req.log_error()&quot; and &quot;apache.log_error()&quot; but their output
goes to the &quot;error_log&quot; file. I also don't know of anyway from
mod_python of making stuff go to the &quot;access_log&quot;.

Remember the &quot;access_log&quot; has a specific format which can be changed
based on various Apache log directives and a lot of tools also expect to
process &quot;access_log&quot;. Dumping arbitrary stuff in there may cause
problems for such tools. That is I presume why very basic logging
functions go to &quot;error_log&quot; instead. There may well be a Apache C API
for putting stuff in &quot;access_log&quot; but it is probably going to have a
very restricted interface and not allow arbitrary messages. You would
need to do some digging through Apache C API to find if such a one
exists and even if it is meant to be used by user code and Apache is
going to call it for you anyway.

&gt;<i> If there is no modpy specific way of doing it, is there a generic
</I>&gt;<i> approach in apache to capture stdout from a script?
</I>
Anything sent to sys.stdout and sys.stderr streams may eventually end up
in &quot;error_log&quot; but the streams generally need to be flushed explicitly
to get them to come out at instant that they are used rather than
sometime later when the streams are flushed by something else.
This may dependent on platform though.

What are you trying to log, general debug logging or something
analogous to what is in &quot;access_log&quot; now but perhaps to some other
location?

Graham
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021565.html">[mod_python] outputting to apache log
</A></li>
	<LI>Next message: <A HREF="021576.html">[mod_python] outputting to apache log
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21566">[ date ]</a>
              <a href="thread.html#21566">[ thread ]</a>
              <a href="subject.html#21566">[ subject ]</a>
              <a href="author.html#21566">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
