<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Session not working with mpm-prefork and only one
	server
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Session%20not%20working%20with%20mpm-prefork%20and%20only%20one%0A%09server&In-Reply-To=44B75870.1080601%40kleibi.de">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021588.html">
   <LINK REL="Next"  HREF="021594.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Session not working with mpm-prefork and only one
	server</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Session%20not%20working%20with%20mpm-prefork%20and%20only%20one%0A%09server&In-Reply-To=44B75870.1080601%40kleibi.de"
       TITLE="[mod_python] Session not working with mpm-prefork and only one
	server">grahamd at dscpl.com.au
       </A><BR>
    <I>Fri Jul 14 23:00:12 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021588.html">[mod_python] Session not working with mpm-prefork and only one
	server
</A></li>
        <LI>Next message: <A HREF="021594.html">[mod_python] Session not working with mpm-prefork and only one
	server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21589">[ date ]</a>
              <a href="thread.html#21589">[ thread ]</a>
              <a href="subject.html#21589">[ subject ]</a>
              <a href="author.html#21589">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 14/07/2006, at 6:40 PM, Michael Kleiber wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I need to use mpm-prefork because of sqlite and thread safety. I  
</I>&gt;<i> also want to use sessions but it appears that Sessions do not work  
</I>&gt;<i> with the preforking apache unless more than one server is started  
</I>&gt;<i> and therefore more than one session mutex is created at startup.
</I>
What do you mean by starting &quot;more than one server&quot;? Do you mean Apache
child processes? What Apache configuration are you using that you might
be trying to control this.

&gt;<i> The error log gives me the following when using only on server:
</I>&gt;<i> 	[Fri Jul 14 10:22:50 2006] [notice] child pid 13198 exit signal  
</I>&gt;<i> Floating point exception (8)
</I>&gt;<i>
</I>&gt;<i> and I only get a blank page.
</I>&gt;<i>
</I>&gt;<i> I just figured the solution out while writing the mail - just  
</I>&gt;<i> wanting to let everybody know in case the same problem comes up again.
</I>
Other people have no problems with sessions when using prefork. You more
than likely have some problem with your machine configuration in  
respect of
mutex locks or some other area.

What version of mod_python  are you using? What command line options did
you use when you ran &quot;configure&quot; to build it, or did you use a RPM  
version?

Also, what sort of data are you trying to put into the session  
object? Do you
have multiple independent instances of Apache running on the same box
with both running mod_python?

Graham
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021588.html">[mod_python] Session not working with mpm-prefork and only one
	server
</A></li>
	<LI>Next message: <A HREF="021594.html">[mod_python] Session not working with mpm-prefork and only one
	server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21589">[ date ]</a>
              <a href="thread.html#21589">[ thread ]</a>
              <a href="subject.html#21589">[ subject ]</a>
              <a href="author.html#21589">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
