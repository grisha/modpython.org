<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] weird request.connection.remote_ip value
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20weird%20request.connection.remote_ip%20value&In-Reply-To=8182EBE7-ACB8-4642-93C3-09D37CF1CBEE%40math.harvard.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021556.html">
   <LINK REL="Next"  HREF="021559.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] weird request.connection.remote_ip value</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20weird%20request.connection.remote_ip%20value&In-Reply-To=8182EBE7-ACB8-4642-93C3-09D37CF1CBEE%40math.harvard.edu"
       TITLE="[mod_python] weird request.connection.remote_ip value">grahamd at dscpl.com.au
       </A><BR>
    <I>Sat Jul  8 22:38:11 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021556.html">[mod_python] weird request.connection.remote_ip value
</A></li>
        <LI>Next message: <A HREF="021559.html">[mod_python] weird request.connection.remote_ip value
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21558">[ date ]</a>
              <a href="thread.html#21558">[ thread ]</a>
              <a href="subject.html#21558">[ subject ]</a>
              <a href="author.html#21558">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 09/07/2006, at 12:13 PM, David Harvey wrote:

&gt;<i> I'm running mod_python 3.2.8 on Mac OS 10.4.6, python 2.4.3, apache  
</I>&gt;<i> 2.2.2, on my desktop machine.
</I>&gt;<i>
</I>&gt;<i> I've got apache set up to load this script:
</I>&gt;<i>
</I>&gt;<i> ========================= begin
</I>&gt;<i>
</I>&gt;<i> from mod_python import apache
</I>&gt;<i>
</I>&gt;<i> def handler(request):
</I>&gt;<i>     request.write(request.connection.remote_ip)
</I>&gt;<i>     return apache.OK
</I>&gt;<i>
</I>&gt;<i> ========================= end
</I>&gt;<i>
</I>&gt;<i> When I browse to &quot;<A HREF="http://127.0.0.1/&quot;,">http://127.0.0.1/&quot;,</A> the script prints out  
</I>&gt;<i> &quot;127.0.0.1&quot; as expected.
</I>&gt;<i>
</I>&gt;<i> If I connect from a local network, e.g. to &quot;<A HREF="http://192.168.0.6/&quot;">http://192.168.0.6/&quot;</A> it  
</I>&gt;<i> prints out &quot;192.168.0.4&quot; (the address of the other machine) as  
</I>&gt;<i> expected.
</I>&gt;<i>
</I>&gt;<i> But when I browse to &quot;<A HREF="http://localhost/&quot;">http://localhost/&quot;</A> from this machine, it  
</I>&gt;<i> prints &quot;::1&quot;.
</I>&gt;<i>
</I>&gt;<i> What does &quot;::1&quot; mean? Why isn't it giving me an IP address?  
</I>&gt;<i> Shouldn't I be getting &quot;127.0.0.1&quot; as above? How can I guarantee to  
</I>&gt;<i> get an IP address?
</I>
This field is populated by apr_sockaddr_ip_get() in Apache Runtime  
library. The field
can be populated with either IPv4 or IPv6 addresses. On a Mac, when  
you use the
string &quot;localhost&quot; it is as far as I know actually using an IPv6  
connection to Apache and
&quot;::1&quot; is what the Mac is using to identify that IPv6 client.

What do you want the remote IP address for? Depending on what you  
want to do,
there may be better ways of doing it.

Graham
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021556.html">[mod_python] weird request.connection.remote_ip value
</A></li>
	<LI>Next message: <A HREF="021559.html">[mod_python] weird request.connection.remote_ip value
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21558">[ date ]</a>
              <a href="thread.html#21558">[ thread ]</a>
              <a href="subject.html#21558">[ subject ]</a>
              <a href="author.html#21558">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
