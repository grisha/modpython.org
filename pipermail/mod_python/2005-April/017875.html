<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] How do you specify the order in which mod_python
	Handlers are called?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20How%20do%20you%20specify%20the%20order%20in%20which%20mod_python%0A%09Handlers%20are%20called%3F&In-Reply-To=c4fe2162bf438c1271b5675b549353be%40dscpl.com.au">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017874.html">
   <LINK REL="Next"  HREF="017876.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] How do you specify the order in which mod_python
	Handlers are called?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20How%20do%20you%20specify%20the%20order%20in%20which%20mod_python%0A%09Handlers%20are%20called%3F&In-Reply-To=c4fe2162bf438c1271b5675b549353be%40dscpl.com.au"
       TITLE="[mod_python] How do you specify the order in which mod_python
	Handlers are called?">grahamd at dscpl.com.au
       </A><BR>
    <I>Sun Apr 10 03:29:23 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="017874.html">[mod_python] How do you specify the order in which mod_python
	Handlers are called?
</A></li>
        <LI>Next message: <A HREF="017876.html">[mod_python] How do you specify the order in which mod_python
	Handlers are called?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17875">[ date ]</a>
              <a href="thread.html#17875">[ thread ]</a>
              <a href="subject.html#17875">[ subject ]</a>
              <a href="author.html#17875">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 10/04/2005, at 5:18 PM, Graham Dumpleton wrote:
&gt;<i> One final thing to try with the above is set the .htaccess file to 
</I>&gt;<i> contain
</I>&gt;<i> only:
</I>&gt;<i>
</I>&gt;<i>   PythonHandlerModule mptest
</I>&gt;<i>
</I>&gt;<i> When I know request the &quot;.php&quot; file I see:
</I>&gt;<i>
</I>&gt;<i>   [Sun Apr 10 03:08:47 2005] [notice] mod_python: (Re)importing module 
</I>&gt;<i> 'mptest'
</I>&gt;<i>   [Sun Apr 10 03:08:47 2005] [error] [client 128.121.126.33] 
</I>&gt;<i> &lt;/headerparserhandler&gt;
</I>&gt;<i>   [Sun Apr 10 03:08:47 2005] [error] [client 128.121.126.33] 
</I>&gt;<i> &lt;headerparserhandler&gt;
</I>&gt;<i>   [Sun Apr 10 03:08:47 2005] [error] [client 128.121.126.33] 
</I>&gt;<i> &lt;/accesshandler&gt;
</I>&gt;<i>   [Sun Apr 10 03:08:47 2005] [error] [client 128.121.126.33] 
</I>&gt;<i> &lt;accesshandler&gt;
</I>&gt;<i>   [Sun Apr 10 03:08:47 2005] [error] [client 128.121.126.33] 
</I>&gt;<i> &lt;/loghandler&gt;
</I>&gt;<i>   [Sun Apr 10 03:08:47 2005] [error] [client 128.121.126.33] 
</I>&gt;<i> &lt;loghandler&gt;
</I>&gt;<i>   [Sun Apr 10 03:08:47 2005] [error] [client 128.121.126.33] &lt;/cleanup&gt;
</I>&gt;<i>   [Sun Apr 10 03:08:47 2005] [error] [client 128.121.126.33] &lt;cleanup&gt;
</I>&gt;<i>
</I>&gt;<i> I don't quite understand why the header parser handler is executed 
</I>&gt;<i> when the
</I>&gt;<i> &quot;PythonHandlerModule&quot; directive is used, but not when 
</I>&gt;<i> &quot;PythonHeaderParserHandler&quot;
</I>&gt;<i> is used explicitly.
</I>

Hmmm, obvious why really. I can't spell. Or at least I used the wrong 
name. The
.htaccess file should have been.

   PythonHeaderParserHandler mptest::headerparserhandler
   PythonAccessHandler mptest::accesshandler
   PythonHandler mptest::handler
   PythonLogHandler mptest::loghandler
   PythonCleanupHandler mptest::cleanuphandler

Then I get:

   [Sun Apr 10 03:25:42 2005] [notice] mod_python: (Re)importing module 
'mptest'
   [Sun Apr 10 03:25:42 2005] [error] [client 128.121.126.33] 
&lt;/headerparserhandler&gt;
   [Sun Apr 10 03:25:42 2005] [error] [client 128.121.126.33] 
&lt;headerparserhandler&gt;
   [Sun Apr 10 03:25:42 2005] [error] [client 128.121.126.33] 
&lt;/accesshandler&gt;
   [Sun Apr 10 03:25:42 2005] [error] [client 128.121.126.33] 
&lt;accesshandler&gt;
   [Sun Apr 10 03:25:42 2005] [error] [client 128.121.126.33] 
&lt;/loghandler&gt;
   [Sun Apr 10 03:25:42 2005] [error] [client 128.121.126.33] 
&lt;loghandler&gt;
   [Sun Apr 10 03:25:42 2005] [error] [client 128.121.126.33] &lt;/cleanup&gt;
   [Sun Apr 10 03:25:42 2005] [error] [client 128.121.126.33] &lt;cleanup&gt;

Whoops. :-)

The reason I didn't pick up that I had the wrong name is linked to the 
bug
with PythonHandlerModule. In short, the check of when to be silent is 
the
wrong way around and it complains when PythonHandlerModule is used and a
handler isn't defined, but not when the explicit directive is used as 
it should.

Graham

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017874.html">[mod_python] How do you specify the order in which mod_python
	Handlers are called?
</A></li>
	<LI>Next message: <A HREF="017876.html">[mod_python] How do you specify the order in which mod_python
	Handlers are called?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17875">[ date ]</a>
              <a href="thread.html#17875">[ thread ]</a>
              <a href="subject.html#17875">[ subject ]</a>
              <a href="author.html#17875">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
