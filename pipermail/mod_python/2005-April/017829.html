<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Sessions performance and some numbers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Sessions%20performance%20and%20some%20numbers&In-Reply-To=42543914.9060807%40dharana.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017825.html">
   <LINK REL="Next"  HREF="017835.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Sessions performance and some numbers</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Sessions%20performance%20and%20some%20numbers&In-Reply-To=42543914.9060807%40dharana.net"
       TITLE="[mod_python] Sessions performance and some numbers">grahamd at dscpl.com.au
       </A><BR>
    <I>Wed Apr  6 17:35:47 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="017825.html">[mod_python] Sessions performance and some numbers
</A></li>
        <LI>Next message: <A HREF="017835.html">[mod_python] Sessions performance and some numbers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17829">[ date ]</a>
              <a href="thread.html#17829">[ thread ]</a>
              <a href="subject.html#17829">[ subject ]</a>
              <a href="author.html#17829">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 07/04/2005, at 5:31 AM, dharana wrote:
&gt;<i> ab -n 100 <A HREF="http://localhost/python_session.py">http://localhost/python_session.py</A>
</I>&gt;<i> Contents of python_session.py
</I>&gt;<i> ---------------
</I>&gt;<i> def handler(req):
</I>&gt;<i>   from mod_python import Session
</I>&gt;<i>   req.sess = Session.Session(req)
</I>&gt;<i>   req.sess.save()
</I>&gt;<i>   return
</I>&gt;<i> ---------------
</I>&gt;<i>
</I>&gt;<i> 8 req/sec !!!!
</I>&gt;<i>
</I>&gt;<i> As we can't use MemorySession on Linux (Linux is multiprocess, right?)
</I>&gt;<i> what are the possible alternatives?
</I>
On Linux, you could build Apache with the worker &quot;MPM&quot; and restrict the
number of processes to 1 but many threads and then a MemorySession would
be used.

&gt;<i> Would a custom FileSession ala PHP
</I>&gt;<i> be faster?
</I>&gt;<i>
</I>&gt;<i> I found an old post from 2001 where some people recommended using a
</I>&gt;<i> custom Session Server but I don't know if this recommendation still 
</I>&gt;<i> holds.
</I>
Someone posted something a bit more recent which used a database for
doing sessions.

   <A HREF="http://www.modpython.org/pipermail/mod_python/2005-March/017651.html">http://www.modpython.org/pipermail/mod_python/2005-March/017651.html</A>

Thus that sort of thing is definitely possible.

My only other comment is to ask that you made sure you weren't testing
immediately after an Apache restart and before any other requests had
come in, but after already having done some requests. I ask this because
there will be some initial startup costs for loading of modules etc,
although how much depends on your code a bit. Thus, you should try to
make sure you factor out such possibilities.

Graham

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017825.html">[mod_python] Sessions performance and some numbers
</A></li>
	<LI>Next message: <A HREF="017835.html">[mod_python] Sessions performance and some numbers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17829">[ date ]</a>
              <a href="thread.html#17829">[ thread ]</a>
              <a href="subject.html#17829">[ subject ]</a>
              <a href="author.html#17829">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
