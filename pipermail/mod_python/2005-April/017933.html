<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Session initializatin failes - unsubscriptable object
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Session%20initializatin%20failes%20-%20unsubscriptable%20object&In-Reply-To=c298f2d70504261336654c8d1e%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017931.html">
   <LINK REL="Next"  HREF="017932.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Session initializatin failes - unsubscriptable object</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Session%20initializatin%20failes%20-%20unsubscriptable%20object&In-Reply-To=c298f2d70504261336654c8d1e%40mail.gmail.com"
       TITLE="[mod_python] Session initializatin failes - unsubscriptable object">grahamd at dscpl.com.au
       </A><BR>
    <I>Tue Apr 26 17:28:47 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="017931.html">[mod_python] Session initializatin failes - unsubscriptable object
</A></li>
        <LI>Next message: <A HREF="017932.html">[mod_python] psp.PSP(req, string='hello world') causes segfault
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17933">[ date ]</a>
              <a href="thread.html#17933">[ thread ]</a>
              <a href="subject.html#17933">[ subject ]</a>
              <a href="author.html#17933">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Adding that the reason is that you have specified the original  
PythonHandler
definition outside of any &lt;Directory&gt; directive in your configuration  
file.

Quote from previous bug report from this for more detail:

  The problem is caused by the way you have set up the Apache config  
file.

  If you do not specify AddHander/PythonHandler outside of a Directory
  directive it will work okay.

  Ie., use:

  # Enable debug under /psp directory
  &lt;Directory /var/www/html/psp&gt;
  AddHandler mod_python .psp
  AddHandler mod_python .psp_
  PythonHandler mod_python.psp
  PythonDebug On
  &lt;/Directory&gt;

  If you specify AddHandler outside of the a Directory directive, when  
doing:

    dirpath = self._req.hlist.directory

  the dirpath variable will be set to None, which then cannot be indexed.

  The Session code should possibly check for this strange case, noting  
though
  that what you did in the first place is probably not recommended and  
could
  break other things as well.

The previous case was for PSP, but same thing if you use publisher  
handlers.

As Nicolas indicated, you can also set ApplicationPath explicitly if  
for some
reason you can't do things inside of a &lt;Directory&gt; directive.

On 27/04/2005, at 6:36 AM, Nicolas Lehuen wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> If you have the same problem, then the same solution applies. Just add
</I>&gt;<i> a line in your httpd.conf or .htaccess file containing :
</I>&gt;<i>
</I>&gt;<i> PythonOption ApplicationPath '/'
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Nicolas
</I>&gt;<i>
</I>&gt;<i> On 4/26/05, 胡兴洋 &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">hu.007 at 163.com</A>&gt; wrote:
</I>&gt;&gt;<i> Hello!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>         How to solve this problem? I have the same.
</I>&gt;&gt;<i>         mine: FreeBSD5.4rc3 + apache2.0.53 + python2.3 +  
</I>&gt;&gt;<i> mod_python3.1.4.
</I>&gt;&gt;<i>          
</I>&gt;&gt;<i> <A HREF="http://www.modpython.org/pipermail/mod_python/2005-January/">http://www.modpython.org/pipermail/mod_python/2005-January/</A> 
</I>&gt;&gt;<i> 017113.html
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mod_python mailing list
</I>&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017931.html">[mod_python] Session initializatin failes - unsubscriptable object
</A></li>
	<LI>Next message: <A HREF="017932.html">[mod_python] psp.PSP(req, string='hello world') causes segfault
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17933">[ date ]</a>
              <a href="thread.html#17933">[ thread ]</a>
              <a href="subject.html#17933">[ subject ]</a>
              <a href="author.html#17933">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
