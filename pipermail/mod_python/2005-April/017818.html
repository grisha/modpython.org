<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] XP Authentication problems over Apache and WebDAV
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20XP%20Authentication%20problems%20over%20Apache%20and%20WebDAV&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017817.html">
   <LINK REL="Next"  HREF="017822.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] XP Authentication problems over Apache and WebDAV</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20XP%20Authentication%20problems%20over%20Apache%20and%20WebDAV&In-Reply-To="
       TITLE="[mod_python] XP Authentication problems over Apache and WebDAV">grahamd at dscpl.com.au
       </A><BR>
    <I>Mon Apr  4 03:00:52 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="017817.html">[mod_python] XP Authentication problems over Apache and WebDAV
</A></li>
        <LI>Next message: <A HREF="017822.html">[mod_python] Custom Logging in Apache 2.0.53 with Mod_Python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17818">[ date ]</a>
              <a href="thread.html#17818">[ thread ]</a>
              <a href="subject.html#17818">[ subject ]</a>
              <a href="author.html#17818">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>If you are using req.get_basic_auth_pw() and req.user, and the problem
is that it isn't coping with the particular format of the request header
then consider writing your own code to parse the header and thus deal
with any inconsistencies. You can get an idea of how to do it by looking
at the implementation of:

  mod_python.publisher.process_auth()

Online copy can be viewed at:

   <A HREF="https://svn.apache.org/repos/asf/httpd/mod_python/trunk/lib/python/mod_python/publisher.py">https://svn.apache.org/repos/asf/httpd/mod_python/trunk/lib/python/mod_python/publisher.py</A>

Is that helpful, or have I guessed wrongly about what the problem is?

Graham

Kevin Roberts wrote ..
&gt;<i> Hi All,
</I>&gt;<i> 
</I>&gt;<i> I'm interested to know if there is a solution to my problem, when trying
</I>&gt;<i> to 
</I>&gt;<i> access WEBDAV folders on my Apache 1.3 server when using XP (SP2) Webfolders
</I>&gt;<i> as the client.
</I>&gt;<i> 
</I>&gt;<i> There is a well known problem with XP (SP2) when authenticating over 
</I>&gt;<i> Webfolders as: &quot;When Microsoft Windows XP attempts to connect to a webdav
</I>&gt;<i> server, it insanely refuses to just send the username and password. It
</I>&gt;<i> attempts to send either &quot;domainlusername&quot; or <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">username at domain.</A>
</I>&gt;<i> ( a good description of the problem and fix for simple Basic authentication
</I>&gt;<i> can be found at:
</I>&gt;<i> <A HREF="http://www.luluware.com/index.php?option=com_content&amp;task=view&amp;id=13&amp;Itemid=38">http://www.luluware.com/index.php?option=com_content&amp;task=view&amp;id=13&amp;Itemid=38</A>
</I>&gt;<i> 
</I>&gt;<i> I am using mod_python for my 'Basic' authentication as I want to communicate
</I>&gt;<i> with my Server to find individual permissions on files and folders which
</I>&gt;<i> are 
</I>&gt;<i> contained within the twistd python server that I have running on the box.
</I>&gt;<i> mod_python communication with my server is essential for my application
</I>&gt;<i> and 
</I>&gt;<i> works well with ALL other clients, only falling over for Webfolders and
</I>&gt;<i> XP 
</I>&gt;<i> (SP2).
</I>&gt;<i> 
</I>&gt;<i> I have tried numerous fixes including:
</I>&gt;<i> <A HREF="http://www.luluware.com/index.php?option=com_content&amp;task=view&amp;id=13&amp;Itemid=38">http://www.luluware.com/index.php?option=com_content&amp;task=view&amp;id=13&amp;Itemid=38</A>
</I>&gt;<i> <A HREF="http://www.hss.caltech.edu/help/unix/admin/web/apache-webdav-xp">http://www.hss.caltech.edu/help/unix/admin/web/apache-webdav-xp</A>
</I>&gt;<i> (these two should give a good description of the problem)
</I>&gt;<i> and even desperately : - /
</I>&gt;<i> <A HREF="http://support.microsoft.com/default.aspx?scid=kb;en-us;841215">http://support.microsoft.com/default.aspx?scid=kb;en-us;841215</A>
</I>&gt;<i> reistary hacking on the client machine.
</I>&gt;<i> 
</I>&gt;<i> But to no avail...
</I>&gt;<i> I assume that the above fixes are 'specifically' for simple 'Basic 
</I>&gt;<i> authentication' and will not work with mod_python as mod_python takes over
</I>&gt;<i> control of Apaches layered request model ? (best guess)
</I>&gt;<i> 
</I>&gt;<i> But then again it could well be that my server is running...
</I>&gt;<i> Debian (Sarge - testing)
</I>&gt;<i> apache         1.3.33-3
</I>&gt;<i> libapache-mod-dav 1.0.3-9
</I>&gt;<i> libapache-mod-python 2.7.10-3
</I>&gt;<i> 
</I>&gt;<i> Has anybody come across the problem before ?
</I>&gt;<i> Is there a simple way within my python authentication script to rewirte
</I>&gt;<i> the 
</I>&gt;<i> headers that XP sends to stip off the domainname part of the request?
</I>&gt;<i> 
</I>&gt;<i> Thanks
</I>&gt;<i> 
</I>&gt;<i> Kevin Roberts
</I>&gt;<i> Nunatak Systems Pty Ltd
</I>&gt;<i> <A HREF="http://www.nunatak.com.au/">http://www.nunatak.com.au/</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> PARTIAL APACHE CONFIGURATION
</I>&gt;<i> ----
</I>&gt;<i> 
</I>&gt;<i> &lt;VirtualHost&gt;
</I>&gt;<i> ...
</I>&gt;<i> DAVLockDB /opt/nunatak/software/web/smeagol/DAVLock
</I>&gt;<i> ...
</I>&gt;<i>         AllowOverride Options
</I>&gt;<i>         Options +Indexes
</I>&gt;<i>         AddHandler mod_python .py
</I>&gt;<i>         PythonAuthenHandler gane_auth
</I>&gt;<i>         PythonOption Provider Nunatak
</I>&gt;<i>         PythonOption Customer smeagol
</I>&gt;<i>         PythonDebug On
</I>&gt;<i>         AuthType Basic
</I>&gt;<i>         AuthName &quot;Smeagol's Webfolders&quot;
</I>&gt;<i> 
</I>&gt;<i>         Dav On
</I>&gt;<i>         Require valid-user
</I>&gt;<i> ...
</I>&gt;<i> &lt;/VirtualHost&gt; 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> No virus found in this outgoing message.
</I>&gt;<i> Checked by AVG Anti-Virus.
</I>&gt;<i> Version: 7.0.308 / Virus Database: 266.9.1 - Release Date: 1/04/2005
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I></PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017817.html">[mod_python] XP Authentication problems over Apache and WebDAV
</A></li>
	<LI>Next message: <A HREF="017822.html">[mod_python] Custom Logging in Apache 2.0.53 with Mod_Python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17818">[ date ]</a>
              <a href="thread.html#17818">[ thread ]</a>
              <a href="subject.html#17818">[ subject ]</a>
              <a href="author.html#17818">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
