<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] mod_python not very smart about EGG_CACHE path
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20not%20very%20smart%20about%20EGG_CACHE%20path&In-Reply-To=gle1m1%24d55%241%40ger.gmane.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025972.html">
   <LINK REL="Next"  HREF="025973.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] mod_python not very smart about EGG_CACHE path</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20not%20very%20smart%20about%20EGG_CACHE%20path&In-Reply-To=gle1m1%24d55%241%40ger.gmane.org"
       TITLE="[mod_python] mod_python not very smart about EGG_CACHE path">graham.dumpleton at gmail.com
       </A><BR>
    <I>Sat Jan 24 09:18:17 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="025972.html">[mod_python] Re: mod_python not very smart about EGG_CACHE path
</A></li>
        <LI>Next message: <A HREF="025973.html">[mod_python] make_obcallback: could not import mod_python.apache.\n
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25971">[ date ]</a>
              <a href="thread.html#25971">[ thread ]</a>
              <a href="subject.html#25971">[ subject ]</a>
              <a href="author.html#25971">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2009/1/24 Joshua Kugler &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">joshua at joshuakugler.com</A>&gt;:
&gt;<i> So, today I discovered a little quirk in mod_python.  We had been explicitly
</I>&gt;<i> setting the PYTHON_EGG_CACHE path during app startup, but I discovered that
</I>&gt;<i> if it was not defined, it would use ~/.python-eggs.  GREAT!  One less
</I>&gt;<i> config setting to maintain, so I took the code out.  After restarting
</I>&gt;<i> Apache, I discovered (via error messages) that the cache path was set
</I>&gt;<i> to /root/.python_eggs, even though the web server is running as 'apache'
</I>&gt;<i>
</I>&gt;<i> So, from what I can tell, the first Apache instance starts up, it's running
</I>&gt;<i> as root, and sets PYTHON_EGG_CACHE to /root/.python-eggs.  The children
</I>&gt;<i> start up, inherit this setting, but are now running as apache, so can't
</I>&gt;<i> write to this directory.  Is there a way to get the children
</I>&gt;<i> to &quot;reinitialize&quot; this setting so they write to the correct egg cache
</I>&gt;<i> directory?
</I>
You are wrong. The mod_python package does not set PYTHON_EGG_CACHE to
anything. The value of it is being calculated by the Python module
which handles unpacking eggs, the first time it is required. The way
that it calculates it is to use value of $HOME. That environment
variable will be set to the value for root as that is what Apache was
started as.

Graham
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025972.html">[mod_python] Re: mod_python not very smart about EGG_CACHE path
</A></li>
	<LI>Next message: <A HREF="025973.html">[mod_python] make_obcallback: could not import mod_python.apache.\n
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25971">[ date ]</a>
              <a href="thread.html#25971">[ thread ]</a>
              <a href="subject.html#25971">[ subject ]</a>
              <a href="author.html#25971">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
