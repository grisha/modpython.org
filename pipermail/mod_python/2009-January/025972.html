<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Re: mod_python not very smart about EGG_CACHE path
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20mod_python%20not%20very%20smart%20about%20EGG_CACHE%20path&In-Reply-To=gle2iv%24ejv%241%40ger.gmane.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025970.html">
   <LINK REL="Next"  HREF="025971.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Re: mod_python not very smart about EGG_CACHE path</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20mod_python%20not%20very%20smart%20about%20EGG_CACHE%20path&In-Reply-To=gle2iv%24ejv%241%40ger.gmane.org"
       TITLE="[mod_python] Re: mod_python not very smart about EGG_CACHE path">graham.dumpleton at gmail.com
       </A><BR>
    <I>Sat Jan 24 09:25:26 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="025970.html">[mod_python] Re: mod_python not very smart about EGG_CACHE path
</A></li>
        <LI>Next message: <A HREF="025971.html">[mod_python] mod_python not very smart about EGG_CACHE path
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25972">[ date ]</a>
              <a href="thread.html#25972">[ thread ]</a>
              <a href="subject.html#25972">[ subject ]</a>
              <a href="author.html#25972">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2009/1/24 Joshua Kugler &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">joshua at joshuakugler.com</A>&gt;:
&gt;<i> Joshua Kugler wrote:
</I>&gt;&gt;<i> Is there a way to get the children
</I>&gt;&gt;<i> to &quot;reinitialize&quot; this setting so they write to the correct egg cache
</I>&gt;&gt;<i> directory?
</I>&gt;<i>
</I>&gt;<i> I tried a SetEnv directive in the server configuration, but mod_python
</I>&gt;<i> doesn't seem to honor it.  Still being told that the egg cache path
</I>&gt;<i> is /root/.python-eggs
</I>
That will not work as the Apache SetEnv directive only sets
environment variables for CGI script processes which are execed from
Apache child worker processes.

The only way that SetEnv set values are available to mod_python is by
querying req.subprocess_env.

If you are not bound to mod_python specific APIs and are instead using
a Python web application/framework that supports WSGI, such as Django,
Trac etc., then don't use mod_python. Instead use mod_wsgi.

The mod_wsgi package has a proper understanding of Python egg cache
and has a directive for overriding its location in embedded mode
(equivalent to mod_python), or its daemon mode (similar to fastcgi).

When using mod_wsgi daemon mode, the value of HOME will also be set
correctly for the user that daemon process runs as, meaning that
overriding location of Python egg cache wouldn't even normally be
needed. This is not done for embedded mode as doing so could break
other stuff running in embedded mode as it would change the existing
behaviour of how Apache works.

So, use mod_wsgi unless you have a very good reason for still using mod_python.

Graham
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025970.html">[mod_python] Re: mod_python not very smart about EGG_CACHE path
</A></li>
	<LI>Next message: <A HREF="025971.html">[mod_python] mod_python not very smart about EGG_CACHE path
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25972">[ date ]</a>
              <a href="thread.html#25972">[ thread ]</a>
              <a href="subject.html#25972">[ subject ]</a>
              <a href="author.html#25972">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
