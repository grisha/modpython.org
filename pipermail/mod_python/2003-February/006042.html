<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] HP-UX llibpython2.2.a link issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20HP-UX%20llibpython2.2.a%20link%20issue&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006041.html">
   <LINK REL="Next"  HREF="006043.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] HP-UX llibpython2.2.a link issue</H1>
    <B>Christian Ferrari</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20HP-UX%20llibpython2.2.a%20link%20issue&In-Reply-To="
       TITLE="[mod_python] HP-UX llibpython2.2.a link issue">Christian.Ferrari at primeur.com
       </A><BR>
    <I>Mon Feb 17 11:01:39 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="006041.html">[mod_python] HP-UX llibpython2.2.a link issue
</A></li>
        <LI>Next message: <A HREF="006043.html">[mod_python] Newbie needs help: Compile errors, segfault, andwarnings on Solaris 2.6 w/ apache 2.0.44 and mod_python 3.0.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6042">[ date ]</a>
              <a href="thread.html#6042">[ thread ]</a>
              <a href="subject.html#6042">[ subject ]</a>
              <a href="author.html#6042">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<table border=0 width="100%"><tr><td>
<!--beginarticle-->
<PRE>
Gregory (Grisha) Trubetskoy wrote:

&gt;<i> On Fri, 14 Feb 2003, Christian Ferrari wrote:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i># /opt/apache2/bin/httpd -v
</I>&gt;&gt;<i>Server version: Apache/2.0.44
</I>&gt;&gt;<i>Server built:   Feb 13 2003 16:53:25
</I>&gt;&gt;<i>*** Install steps:
</I>&gt;&gt;<i>./configure --prefix=/opt/apache2
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> Here you also need --enable-so
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i>*** Warning: linker path does not have real file for library lpython2.2.
</I>&gt;&gt;<i>*** I have the capability to make that library automatically link in when
</I>&gt;&gt;<i>*** you link to this library.  But I can only do this if you have a
</I>&gt;&gt;<i>*** shared version of the library, which you do not appear to have
</I>&gt;&gt;<i>*** because I did check the linker path looking for a file starting
</I>&gt;&gt;<i>*** with libpython2.2 and none of the candidates passed a file format test
</I>&gt;&gt;<i>*** using a file magic. Last file checked:
</I>&gt;&gt;<i>/opt/Python-2.2/lib/python2.2/config/libpython2.2.a
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> I do not have any experience with HP-UX, but on other systems a similar
</I>&gt;<i> message indicates an old version of libtool, which wouldn't allow linking
</I>&gt;<i> shared and static libs together. So I'd first see if upgrading libtool
</I>&gt;<i> would help. After you upgrade, rebuild apache by first running
</I>&gt;<i> ./buildconf like this:
</I>&gt;<i> 
</I>&gt;<i> ./buildconf
</I>&gt;<i> ./configure --prefix=/opt/apache2 --enable-so
</I>&gt;<i> make clean
</I>&gt;<i> make
</I>&gt;<i> 
</I>&gt;<i> Then for mod_python, do make clean; make
</I>&gt;<i> 
</I>&gt;<i> Grisha
</I>&gt;<i> 
</I>&gt;<i> 
</I>
Libtool supplied with Apache 2.0.44 is 1.4.3; last libtool available on 
GNU site is 1.4.3.
Anywhere, I installed a fresh-stand-alone libtool-1.4.3 package, but 
Apache didn't use it, so I tryed to force Apache build:

./configure --prefix=/opt/apache2 --enable-so 
--with-libtool=/usr/local/bin/libtool

Apache did NOT like &quot;my standard&quot; libtool; this is the Apache build error:

[... some working stuff ...]

Making all in dso/unix
         gcc -g -O2   -DHAVE_CONFIG_H -DHPUX11 -D_REENTRANT 
-D_XOPEN_SOURCE_EXTENDED   -I../../include -I../../include/arch 
-I../../include/arch/unix  -c dso.ccr libapr-0.la strings/apr_cpystrn.o 
strings/apr_fnmatch.o strings/apr_snprintf.o strings/apr_strings.o 
strings/apr_strnatcmp.o strings/apr_strtok.o passwd/apr_getpass.o 
tables/apr_hash.o tables/apr_tables.o file_io/unix/copy.o 
file_io/unix/dir.o file_io/unix/fileacc.o file_io/unix/filedup.o 
file_io/unix/filepath.o file_io/unix/filestat.o file_io/unix/flock.o 
file_io/unix/fullrw.o file_io/unix/mktemp.o file_io/unix/open.o 
file_io/unix/pipe.o file_io/unix/readwrite.o file_io/unix/seek.o 
network_io/unix/inet_ntop.o network_io/unix/inet_pton.o 
network_io/unix/sendrecv.o network_io/unix/sockaddr.o 
network_io/unix/sockets.o network_io/unix/sockopt.o 
threadproc/unix/proc.o threadproc/unix/procsup.o 
threadproc/unix/signals.o threadproc/unix/thread.o 
threadproc/unix/threadpriv.o misc/unix/charset.o misc/unix/errorcodes.o 
misc/unix/getopt.o misc/unix/otherchild.o misc/unix/rand.o 
misc/unix/start.o misc/unix/version.o locks/unix/global_mutex.o 
locks/unix/proc_mutex.o locks/unix/thread_cond.o 
locks/unix/thread_mutex.o locks/unix/thread_rwlock.o time/unix/time.o 
time/unix/timestr.o mmap/unix/common.o mmap/unix/mmap.o shmem/unix/shm.o 
user/unix/groupinfo.o user/unix/userinfo.o memory/unix/apr_pools.o 
atomic/unix/apr_atomic.o poll/unix/poll.o poll/unix/pollacc.o 
support/unix/waitio.o dso/unix/*.o; libapr-0.la
sh[4]: cr:  not found.
*** Error exit code 127

Stop.
*** Error exit code 1

Stop.
*** Error exit code 1

Stop.
*** Error exit code 1

Stop.



I'm going to post the link issue on &quot;libtool&quot; mailing list.
Thanks
Christian


</PRE>
<!--endarticle-->
</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006041.html">[mod_python] HP-UX llibpython2.2.a link issue
</A></li>
	<LI>Next message: <A HREF="006043.html">[mod_python] Newbie needs help: Compile errors, segfault, andwarnings on Solaris 2.6 w/ apache 2.0.44 and mod_python 3.0.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6042">[ date ]</a>
              <a href="thread.html#6042">[ thread ]</a>
              <a href="subject.html#6042">[ subject ]</a>
              <a href="author.html#6042">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
