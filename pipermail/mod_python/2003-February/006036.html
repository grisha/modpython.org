<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Date persistence accross connections. 
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Date%20persistence%20accross%20connections.%20&In-Reply-To=200302122121.IAA02700%40lightning.itga.com.au">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006030.html">
   <LINK REL="Next"  HREF="006037.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Date persistence accross connections. </H1>
    <B>Stefan C. Kremer</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Date%20persistence%20accross%20connections.%20&In-Reply-To=200302122121.IAA02700%40lightning.itga.com.au"
       TITLE="[mod_python] Date persistence accross connections. ">skremer at q.cis.uoguelph.ca
       </A><BR>
    <I>Thu Feb 13 21:14:03 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="006030.html">[mod_python] Date persistence accross connections. 
</A></li>
        <LI>Next message: <A HREF="006037.html">[mod_python] Date persistence accross connections.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6036">[ date ]</a>
              <a href="thread.html#6036">[ thread ]</a>
              <a href="subject.html#6036">[ subject ]</a>
              <a href="author.html#6036">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<table border=0 width="100%"><tr><td>
<!--beginarticle-->
<PRE>Thanks for the reply Greg.  Actually I'm in the process of writing my own
session management tool (I looked at a few others and none of them really
suited my needs; plus I wanted to do it myself for the learning
experience).  So now I'm trying to figure out what my options are for
implementing persistent data.  Right now I'm identifying my session by
means of a cookie, so that part's not a problem.  My challenge now is, how
to associate more data with the cookie (session) in a way that persists
accross http requests.

The three options I'm working with right now are:

(1) just store in the info in the global namespace, keyed on the cookie.  
This seems to me to be the simplest, and fastest solution.  The drawbacks
are that queries that go to a different process won't have access to my
data.  Now that httpd is threaded, this happens much less often. In fact,
it seems to only occur when I explicitly restart apache or reboot my 
machine (which is basically never since I don't run Windows and have a 
UPS).

(2) Save it to a file.  This is slow, but otherwise would work fine if I 
implement appropriate file locking.

(3) Send it via a socket to another process which all mod_python processes 
share.

(4) Some combination of (1) with (2 or 3), which writes the data away and 
only retrieves it from (2,3) if its not in the local namespace.  I'm not 
sure how much I will gain from not retrieving data from (2,3) most of the 
time.

Are there any good options which I have overlooked?  Does my evaluation of
the alternatives seem sound?  Any suggestions or comments.

Thanks for any advice anyone wants to pass my way.

	-SK

 On Thu, 13 Feb 2003, Gregory Bond wrote:

&gt;<i> 
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">skremer at q.cis.uoguelph.ca</A> said:
</I>&gt;<i> &gt; So should I be able to just store a variable in my local namespace and
</I>&gt;<i> &gt;  then return to it the next time I make an http connection?  Or might
</I>&gt;<i> &gt; my  next connect be executing python in a different namespace for some
</I>&gt;<i> &gt;  reason?!? 
</I>&gt;<i> 
</I>&gt;<i> It might work in certain restricted circumstances, but it's likely to be 
</I>&gt;<i> unreliable.  You can't know when Apache will decide it's time for a new 
</I>&gt;<i> process.  You can't know when the apache process gets re-configured or 
</I>&gt;<i> restarted.  You can't know when another unrelated session to the same 
</I>&gt;<i> application will begin. 
</I>&gt;<i> 
</I>&gt;<i> You would be much better off to look at some of the session management tools
</I>&gt;<i> that work with mod_python and handle the problem properly.  I use Albatross
</I>&gt;<i> (<A HREF="http://www.object-craft.com.au/projects/albatross/">http://www.object-craft.com.au/projects/albatross/</A>) but that does a whole 
</I>&gt;<i> heap more than just session management.  Others have recommended PSO 
</I>&gt;<i> (<A HREF="http://www.scriptfoundry.com/modules/pso/">http://www.scriptfoundry.com/modules/pso/</A>).
</I>&gt;<i> 
</I>&gt;<i> Greg.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>
-- 
--
Dr. Stefan C. Kremer, Associate Prof.
Reynolds Building, 106
Dept. of Computing and Information Science
University of Guelph, Guelph, Ontario	N1G 2W1

WWW: <A HREF="http://q.cis.uoguelph.ca/~skremer">http://q.cis.uoguelph.ca/~skremer</A>
Tel: (519)824-4120 Ext.58913  Fax: (519)837-0323
E-mail:  <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">skremer at uoguelph.ca</A>


</PRE>
<!--endarticle-->
</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006030.html">[mod_python] Date persistence accross connections. 
</A></li>
	<LI>Next message: <A HREF="006037.html">[mod_python] Date persistence accross connections.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6036">[ date ]</a>
              <a href="thread.html#6036">[ thread ]</a>
              <a href="subject.html#6036">[ subject ]</a>
              <a href="author.html#6036">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
