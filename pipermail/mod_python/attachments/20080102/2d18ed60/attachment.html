<tt>
I&nbsp;have&nbsp;a&nbsp;handler&nbsp;that&nbsp;streams&nbsp;large&nbsp;amounts&nbsp;of&nbsp;data.&amp;nbsp;&nbsp;Using&nbsp;chunked&nbsp;encoding&nbsp;in&nbsp;necessary&nbsp;as&nbsp;the&nbsp;total&nbsp;size&nbsp;is&nbsp;not&nbsp;known&nbsp;upfront.&amp;nbsp;&nbsp;If&nbsp;there&nbsp;is&nbsp;an&nbsp;error&nbsp;during&nbsp;the&nbsp;generation,&nbsp;I&nbsp;raise&nbsp;a&nbsp;apache.SERVER_RETURN&nbsp;(with&nbsp;HTTP_PARTIAL_RESPONSE&nbsp;I&nbsp;believe).&amp;nbsp;&nbsp;The&nbsp;problem&nbsp;is&nbsp;that&nbsp;it&nbsp;looks&nbsp;like&nbsp;mod_python&nbsp;and/or&nbsp;apache&nbsp;just&nbsp;appends&nbsp;some&nbsp;error&nbsp;html&nbsp;to&nbsp;the&nbsp;output&nbsp;stream&nbsp;and&nbsp;continues&nbsp;with&nbsp;the&nbsp;chunked&nbsp;encoding&nbsp;like&nbsp;there&nbsp;was&nbsp;no&nbsp;error.&amp;nbsp;&nbsp;In&nbsp;other&nbsp;words,&nbsp;some&nbsp;data&nbsp;chunks&nbsp;come&nbsp;from&nbsp;the&nbsp;server,&nbsp;then&nbsp;a&nbsp;chunk&nbsp;with&nbsp;the&nbsp;error&nbsp;html&nbsp;in&nbsp;it,&nbsp;then&nbsp;the&nbsp;last&nbsp;chunk.&amp;nbsp;&nbsp;Thus,&nbsp;the&nbsp;client&nbsp;has&nbsp;no&nbsp;way&nbsp;of&nbsp;knowing&nbsp;that&nbsp;the&nbsp;data&nbsp;is&nbsp;incomplete&nbsp;(not&nbsp;all&nbsp;of&nbsp;it&nbsp;was&nbsp;generated)&nbsp;and&nbsp;corrupt&nbsp;(random&nbsp;html&nbsp;appended&nbsp;onto&nbsp;the&nbsp;end).&amp;nbsp;&nbsp;Am&nbsp;I&nbsp;just&nbsp;missing&nbsp;something,&nbsp;or&nbsp;is&nbsp;this&nbsp;a&nbsp;bug?<br>
&lt;br&gt;<br>

</tt>
