<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;Transitional//EN&quot;&gt;<br>
&lt;HTML&gt;&lt;HEAD&gt;<br>
&lt;META&nbsp;http-equiv=Content-Type&nbsp;content=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;<br>
&lt;META&nbsp;content=&quot;MSHTML&nbsp;6.00.2900.2722&quot;&nbsp;name=GENERATOR&gt;&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;SPAN&nbsp;class=853155622-13092005&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
color=#0000ff&nbsp;size=2&gt;Greetings!&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;SPAN&nbsp;class=853155622-13092005&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
color=#0000ff&nbsp;size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;SPAN&nbsp;class=853155622-13092005&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
color=#0000ff&nbsp;size=2&gt;It&nbsp;seems&nbsp;like&nbsp;each&nbsp;new&nbsp;request&nbsp;ought&nbsp;to&nbsp;be&nbsp;instantiating&nbsp;a&nbsp;<br>
new&nbsp;webObject&nbsp;instance,&nbsp;yet&nbsp;it&nbsp;also&nbsp;seems&nbsp;that&nbsp;each&nbsp;new&nbsp;instantiation&nbsp;has&nbsp;a&nbsp;copy&nbsp;<br>
of&nbsp;all&nbsp;the&nbsp;previous&nbsp;instance's&nbsp;data.&amp;nbsp;&nbsp;Are&nbsp;you&nbsp;sure&nbsp;you're&nbsp;not&nbsp;writing&nbsp;your&nbsp;<br>
data&nbsp;into&nbsp;the&nbsp;webObject&nbsp;base&nbsp;class&nbsp;by&nbsp;mistake?&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;SPAN&nbsp;class=853155622-13092005&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
color=#0000ff&nbsp;size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;SPAN&nbsp;class=853155622-13092005&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
color=#0000ff&nbsp;size=2&gt;If&nbsp;that's&nbsp;not&nbsp;the&nbsp;case,&nbsp;you&nbsp;might&nbsp;try&nbsp;manually&nbsp;<br>
garbage-collecting&nbsp;the&nbsp;response&nbsp;instance&nbsp;just&nbsp;prior&nbsp;to&nbsp;the&nbsp;end&nbsp;of&nbsp;your&nbsp;handler&nbsp;<br>
routine.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;&lt;!--&nbsp;Converted&nbsp;from&nbsp;text/plain&nbsp;format&nbsp;--&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;size=2&gt;Best&nbsp;Regards,&lt;BR&gt;Lee&nbsp;E.&nbsp;<br>
Brown&lt;BR&gt;(administrator@leebrown.org)&lt;BR&gt;&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;&lt;BR&gt;<br>
&lt;DIV&nbsp;class=OutlookMessageHeader&nbsp;lang=en-us&nbsp;dir=ltr&nbsp;align=left&gt;<br>
&lt;HR&nbsp;tabIndex=-1&gt;<br>
&lt;FONT&nbsp;face=Tahoma&nbsp;size=2&gt;&lt;B&gt;From:&lt;/B&gt;&nbsp;mod_python-bounces@modpython.org&nbsp;<br>
[mailto:mod_python-bounces@modpython.org]&nbsp;&lt;B&gt;On&nbsp;Behalf&nbsp;Of&nbsp;<br>
&lt;/B&gt;mauchi&lt;BR&gt;&lt;B&gt;Sent:&lt;/B&gt;&nbsp;Tuesday,&nbsp;September&nbsp;13,&nbsp;2005&nbsp;11:57&nbsp;AM&lt;BR&gt;&lt;B&gt;To:&lt;/B&gt;&nbsp;<br>
mod_python@modpython.org&lt;BR&gt;&lt;B&gt;Subject:&lt;/B&gt;&nbsp;[mod_python]&nbsp;extreme&nbsp;memory&nbsp;usage&nbsp;<br>
with&nbsp;apache2&lt;BR&gt;&lt;/FONT&gt;&lt;BR&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;/DIV&gt;I've&nbsp;noticed&nbsp;this&nbsp;behaviour&nbsp;as&nbsp;of&nbsp;late&nbsp;which&nbsp;causes&nbsp;large&nbsp;memory&nbsp;<br>
usage&nbsp;in&nbsp;apache2,&nbsp;rogue&nbsp;threads&nbsp;taking&nbsp;up&nbsp;400+&nbsp;megs&nbsp;for&nbsp;each&nbsp;client&nbsp;that&nbsp;<br>
eventually&nbsp;cause&nbsp;me&nbsp;to&nbsp;restart&nbsp;apache:&lt;BR&gt;&lt;BR&gt;I&nbsp;return&nbsp;all&nbsp;html&nbsp;content&nbsp;through&nbsp;<br>
a&nbsp;python&nbsp;object&nbsp;which&nbsp;handles&nbsp;the&nbsp;form&nbsp;data&nbsp;and&nbsp;tracks&nbsp;<br>
errors&lt;BR&gt;&lt;BR&gt;#&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Init&nbsp;object&nbsp;and&nbsp;parse&nbsp;form&lt;BR&gt;response&nbsp;=&nbsp;<br>
webObject(req)&lt;BR&gt;&lt;BR&gt;#&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;html&nbsp;or&nbsp;xml&nbsp;based&nbsp;on&nbsp;form&nbsp;<br>
entries&lt;BR&gt;req.write(response.returnSomething())&lt;BR&gt;&lt;BR&gt;#&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
print&nbsp;debugging&nbsp;information&lt;BR&gt;req.write(response.returnErrors())&lt;BR&gt;&lt;BR&gt;the&nbsp;<br>
object&nbsp;has&nbsp;an&nbsp;internal&nbsp;array&nbsp;called&nbsp;errors&nbsp;where&nbsp;I&nbsp;store&nbsp;debugging&nbsp;information&nbsp;<br>
from&nbsp;the&nbsp;internal&nbsp;functions.&nbsp;What&nbsp;I&nbsp;expect&nbsp;is&nbsp;1-2&nbsp;lines&nbsp;of&nbsp;messages&nbsp;for&nbsp;each&nbsp;<br>
time&nbsp;the&nbsp;page&nbsp;is&nbsp;loaded&nbsp;which&nbsp;is&nbsp;printed&nbsp;at&nbsp;the&nbsp;bottom&nbsp;of&nbsp;the&nbsp;page.&nbsp;What&nbsp;I&nbsp;find&nbsp;<br>
is&nbsp;if&nbsp;I&nbsp;keep&nbsp;hitting&nbsp;refresh,&nbsp;that&nbsp;the&nbsp;lines&nbsp;grow&nbsp;each&nbsp;time&nbsp;with&nbsp;the&nbsp;previous&nbsp;<br>
load's&nbsp;messages.&nbsp;50&nbsp;refreshes&nbsp;later&nbsp;I'll&nbsp;have&nbsp;50-100&nbsp;lines&nbsp;of&nbsp;debugging&nbsp;<br>
information.&nbsp;This&nbsp;makes&nbsp;me&nbsp;think&nbsp;that&nbsp;the&nbsp;webObject&nbsp;is&nbsp;staying&nbsp;in&nbsp;memory&nbsp;between&nbsp;<br>
loads&nbsp;and&nbsp;doesn't&nbsp;get&nbsp;destroyed&nbsp;unt&nbsp;il&nbsp;I&nbsp;restart&nbsp;apache2.&nbsp;This&nbsp;has&nbsp;become&nbsp;more&nbsp;<br>
of&nbsp;a&nbsp;problem&nbsp;as&nbsp;each&nbsp;client&nbsp;page&nbsp;now&nbsp;requests&nbsp;frequent&nbsp;xml&nbsp;updates&nbsp;and&nbsp;the&nbsp;<br>
server&nbsp;quickly&nbsp;tires&nbsp;out.&lt;BR&gt;If&nbsp;anyone&nbsp;has&nbsp;a&nbsp;suggestion&nbsp;on&nbsp;how&nbsp;to&nbsp;either:&nbsp;turn&nbsp;<br>
off&nbsp;said&nbsp;behaviour&nbsp;in&nbsp;mod_python,&nbsp;destroy&nbsp;objects&nbsp;from&nbsp;memory,&nbsp;or&nbsp;a&nbsp;clever&nbsp;way&nbsp;<br>
to&nbsp;flush&nbsp;out&nbsp;all&nbsp;of&nbsp;an&nbsp;object's&nbsp;internal&nbsp;data&nbsp;between&nbsp;loads,&nbsp;I&nbsp;would&nbsp;be&nbsp;most&nbsp;<br>
happy.&lt;BR&gt;&lt;BR&gt;Thanks&nbsp;to&nbsp;all&nbsp;in&nbsp;advance!&lt;BR&gt;&lt;BR&gt;Mauchi&nbsp;&lt;/BODY&gt;&lt;/HTML&gt;<br>

</tt>
