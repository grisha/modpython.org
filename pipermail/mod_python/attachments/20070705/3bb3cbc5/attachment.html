<tt>
Can&nbsp;you&nbsp;please&nbsp;give&nbsp;an&nbsp;example&nbsp;because&nbsp;I&nbsp;don&amp;#39;t&nbsp;see&nbsp;a&nbsp;way&nbsp;to&nbsp;do&nbsp;it&nbsp;from&nbsp;looking&nbsp;at&nbsp;the&nbsp;docs.&amp;nbsp;&nbsp;It&nbsp;looks&nbsp;like&nbsp;there&nbsp;are&nbsp;only&nbsp;two&nbsp;methods&nbsp;for&nbsp;getting&nbsp;data&nbsp;into&nbsp;the&nbsp;stream:&nbsp;add()&nbsp;or&nbsp;addfile()&nbsp;and&nbsp;both&nbsp;require&nbsp;the&nbsp;data&nbsp;being&nbsp;sent&nbsp;to&nbsp;be&nbsp;in&nbsp;actual&nbsp;files,&nbsp;neither&nbsp;appear&nbsp;to&nbsp;let&nbsp;me&nbsp;stream&nbsp;data&nbsp;to&nbsp;them.&amp;nbsp;&nbsp;I&nbsp;can&amp;#39;t&nbsp;use&nbsp;add()&nbsp;because&nbsp;it&nbsp;expects&nbsp;the&nbsp;name&nbsp;of&nbsp;an&nbsp;actual&nbsp;file&nbsp;to&nbsp;add.&amp;nbsp;&nbsp;I&nbsp;can&amp;#39;t&nbsp;use&nbsp;addfile()&nbsp;because&nbsp;the&nbsp;fileobj&nbsp;that&nbsp;is&nbsp;passed&nbsp;in&nbsp;requires&nbsp;<br>
TarInfo.size&nbsp;to&nbsp;be&nbsp;set&nbsp;to&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;to&nbsp;be&nbsp;read&nbsp;and&nbsp;even&nbsp;if&nbsp;that&nbsp;wasn&amp;#39;t&nbsp;the&nbsp;case,&nbsp;it&nbsp;tries&nbsp;to&nbsp;make&nbsp;calls&nbsp;using&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;file&nbsp;(which&nbsp;again&nbsp;doesn&amp;#39;t&nbsp;exist).&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;7/3/07,&nbsp;<br>
&lt;b&nbsp;class=&quot;gmail_sendername&quot;&gt;Mike&nbsp;Looijmans&lt;/b&gt;&nbsp;&amp;lt;<br>
&lt;a&nbsp;href=&quot;mailto:nlv11281@natlab.research.philips.com&quot;&nbsp;target=&quot;_blank&quot;&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&gt;nlv11281@natlab.research.philips.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
<br>
The&nbsp;&amp;quot;tarfile&amp;quot;&nbsp;built-in&nbsp;Python&nbsp;module&nbsp;can&nbsp;do&nbsp;as&nbsp;you&nbsp;ask,&nbsp;and&nbsp;also&nbsp;do&nbsp;compression&nbsp;(gzip&nbsp;or&nbsp;bzip2).&nbsp;ZIP&lt;br&gt;cannot&nbsp;be&nbsp;&amp;quot;streamed&amp;quot;,&nbsp;it&nbsp;has&nbsp;a&nbsp;sort&nbsp;of&nbsp;directory&nbsp;table&nbsp;inside&nbsp;to&nbsp;which&nbsp;it&nbsp;jumps&nbsp;up&nbsp;and&nbsp;down.&lt;br&gt;<br>
&lt;br&gt;<br>
You&nbsp;can&nbsp;just&nbsp;open&nbsp;a&nbsp;tarfile&nbsp;object&nbsp;with&nbsp;the&nbsp;req&nbsp;object&nbsp;as&nbsp;file&nbsp;output.&lt;br&gt;&lt;br&gt;Setting&nbsp;content-type&nbsp;to&nbsp;&amp;quot;application/x-tar&amp;quot;&nbsp;or&nbsp;something&nbsp;similar&nbsp;will&nbsp;help&nbsp;your&nbsp;client&nbsp;figuring&nbsp;out&lt;br&gt;what&nbsp;to&nbsp;do&nbsp;with&nbsp;the&nbsp;file.&lt;br&gt;<br>
&lt;br&gt;<br>
I&amp;#39;ve&nbsp;used&nbsp;the&nbsp;tarfile&nbsp;module&nbsp;with&nbsp;archives&nbsp;over&nbsp;800GB&nbsp;in&nbsp;size,&nbsp;without&nbsp;problems.&lt;br&gt;&lt;br&gt;&lt;br&gt;Mike&nbsp;Looijmans&lt;br&gt;Philips&nbsp;Natlab&nbsp;/&nbsp;Topic&nbsp;Automation&lt;br&gt;&lt;br&gt;&lt;br&gt;Matthew&nbsp;Dennis&nbsp;wrote:&lt;br&gt;&amp;gt;&nbsp;This&nbsp;may&nbsp;not&nbsp;be&nbsp;the&nbsp;appropriate&nbsp;list,&nbsp;my&nbsp;apologies&nbsp;if&nbsp;that&nbsp;is&nbsp;indeed&nbsp;the<br>
&lt;br&gt;&amp;gt;&nbsp;case...&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;I&nbsp;need&nbsp;to&nbsp;push&nbsp;from&nbsp;mod_python&nbsp;a&nbsp;file&nbsp;archive&nbsp;of&nbsp;sorts.&amp;nbsp;&amp;nbsp;Any&nbsp;of&nbsp;tar,&lt;br&gt;&amp;gt;&nbsp;tar.gz&nbsp;or&nbsp;zip&nbsp;will&nbsp;work&nbsp;(I&amp;#39;m&nbsp;also&nbsp;open&nbsp;to&nbsp;other&nbsp;suggestions).&amp;nbsp;&amp;nbsp;The&lt;br&gt;&amp;gt;&nbsp;requirement&nbsp;is&nbsp;that&nbsp;I&nbsp;can&nbsp;package&nbsp;several&nbsp;other&nbsp;&amp;quot;files&amp;quot;&nbsp;into&nbsp;it,<br>
&lt;br&gt;&amp;gt;&nbsp;compressed&nbsp;or&nbsp;not.&amp;nbsp;&amp;nbsp;I&nbsp;have&nbsp;no&nbsp;disk&nbsp;to&nbsp;write&nbsp;to&nbsp;and&nbsp;finite&nbsp;memory&nbsp;to&nbsp;deal&lt;br&gt;&amp;gt;&nbsp;with&nbsp;but&nbsp;the&nbsp;&amp;quot;files&amp;quot;&nbsp;I&amp;#39;m&nbsp;outputting&nbsp;are&nbsp;quite&nbsp;large&nbsp;(much&nbsp;larger&nbsp;than&lt;br&gt;&amp;gt;&nbsp;can&nbsp;fit&nbsp;in&nbsp;memory),&nbsp;thus&nbsp;I&nbsp;need&nbsp;to&nbsp;stream&nbsp;them&nbsp;directly&nbsp;out.&amp;nbsp;&amp;nbsp;The&nbsp;reason<br>
&lt;br&gt;&amp;gt;&nbsp;I&nbsp;put&nbsp;&amp;quot;files&amp;quot;&nbsp;in&nbsp;quotes&nbsp;is&nbsp;because&nbsp;they&nbsp;are&nbsp;not&nbsp;really&nbsp;files,&nbsp;but&lt;br&gt;&amp;gt;&nbsp;dynamic&nbsp;content&nbsp;that&nbsp;is&nbsp;generated&nbsp;on&nbsp;the&nbsp;fly.&amp;nbsp;&amp;nbsp;ZipOutputStream&nbsp;from&nbsp;Java&lt;br&gt;&amp;gt;&nbsp;is&nbsp;a&nbsp;example&nbsp;of&nbsp;what&nbsp;I&amp;#39;m&nbsp;talking&nbsp;about&nbsp;if&nbsp;anyone&nbsp;is&nbsp;familiar&nbsp;with&nbsp;it,&nbsp;as<br>
&lt;br&gt;&amp;gt;&nbsp;are&nbsp;other&nbsp;such&nbsp;streams.&amp;nbsp;&amp;nbsp;I&nbsp;don&amp;#39;t&nbsp;know&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;content&nbsp;until&lt;br&gt;&amp;gt;&nbsp;after&nbsp;it&nbsp;is&nbsp;all&nbsp;generated&nbsp;so&nbsp;there&nbsp;is&nbsp;no&nbsp;way&nbsp;to&nbsp;populate&nbsp;a&nbsp;TarInfo&lt;br&gt;&amp;gt;&nbsp;object&nbsp;with&nbsp;the&nbsp;size&nbsp;et&nbsp;cetera&nbsp;and&nbsp;make&nbsp;my&nbsp;dynamic&nbsp;content&nbsp;look&nbsp;like&nbsp;a<br>
&lt;br&gt;&amp;gt;&nbsp;file&nbsp;(which&nbsp;it&nbsp;doesn&amp;#39;t&nbsp;seem&nbsp;I&nbsp;can&nbsp;do&nbsp;anyway&nbsp;as&nbsp;gettarinfo()&nbsp;tries&nbsp;to&lt;br&gt;&amp;gt;&nbsp;call&nbsp;.fileno()&nbsp;which&nbsp;doesn&amp;#39;t&nbsp;exist&nbsp;on&nbsp;any&nbsp;file&nbsp;like&nbsp;object&nbsp;I&nbsp;would&nbsp;create).&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;In&nbsp;other&nbsp;words,&nbsp;something&nbsp;like:&lt;br&gt;<br>
<br>
&amp;gt;&lt;br&gt;&amp;gt;&nbsp;output&nbsp;=&nbsp;TarFileStream(someFileObj)&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;output.addEntry(&amp;quot;file_1.txt&amp;quot;)&lt;br&gt;&amp;gt;&nbsp;out.write(&nbsp;/*some&nbsp;dynamically&nbsp;generated&nbsp;content&nbsp;*/&nbsp;)&lt;br&gt;&amp;gt;&nbsp;out.write(&nbsp;/*some&nbsp;dynamically&nbsp;generated&nbsp;content&nbsp;*/&nbsp;)<br>
&lt;br&gt;&amp;gt;&nbsp;out.write(&nbsp;/*some&nbsp;dynamically&nbsp;generated&nbsp;content&nbsp;*/&nbsp;)&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;output.addEntry(&amp;quot;file_2.txt&amp;quot;)&lt;br&gt;&amp;gt;&nbsp;out.write(&nbsp;/*some&nbsp;dynamically&nbsp;generated&nbsp;content&nbsp;*/&nbsp;)&lt;br&gt;&amp;gt;&nbsp;out.write(&nbsp;/*some&nbsp;dynamically&nbsp;generated&nbsp;content&nbsp;*/&nbsp;)<br>
&lt;br&gt;&amp;gt;&nbsp;out.write(&nbsp;/*some&nbsp;dynamically&nbsp;generated&nbsp;content&nbsp;*/&nbsp;)&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;...&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;output.addEntry(&amp;quot;file_N.txt&amp;quot;)&lt;br&gt;&amp;gt;&nbsp;out.write(&nbsp;/*some&nbsp;dynamically&nbsp;generated&nbsp;content&nbsp;*/&nbsp;)&lt;br&gt;&amp;gt;&nbsp;out.write(&nbsp;/*some&nbsp;dynamically&nbsp;generated&nbsp;content&nbsp;*/&nbsp;)<br>
&lt;br&gt;&amp;gt;&nbsp;out.write(&nbsp;/*some&nbsp;dynamically&nbsp;generated&nbsp;content&nbsp;*/&nbsp;)&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;output.close()&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;------------------------------------------------------------------------&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;_______________________________________________<br>
&lt;br&gt;&amp;gt;&nbsp;Mod_python&nbsp;mailing&nbsp;list&lt;br&gt;&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:Mod_python@modpython.org&quot;&nbsp;target=&quot;_blank&quot;&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&gt;Mod_python@modpython.org&lt;/a&gt;&lt;br&gt;&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;http://mailman.modpython.org/mailman/listinfo/mod_python&quot;&nbsp;target=&quot;_blank&quot;&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&gt;<br>
http://mailman.modpython.org/mailman/listinfo/mod_python<br>
&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
