<tt>
You&nbsp;had&nbsp;put&nbsp;the&nbsp;flush&nbsp;under&nbsp;an&nbsp;&amp;quot;if&nbsp;not&nbsp;filter.closed:&amp;quot;,&nbsp;but&nbsp;you&nbsp;wrote&nbsp;in&nbsp;the&nbsp;last&nbsp;entry&nbsp;of&nbsp;that&nbsp;ticket&nbsp;that&nbsp;the&nbsp;Infrae&nbsp;guys&nbsp;reported&nbsp;it&nbsp;hadn&amp;#39;t&nbsp;fixed&nbsp;their&nbsp;problem.&nbsp;I&nbsp;did&nbsp;patch&nbsp;my&nbsp;version&nbsp;(commented&nbsp;out&nbsp;the&nbsp;whole&nbsp;if&nbsp;block).&nbsp;Tramline&nbsp;doesn&amp;#39;t&nbsp;seem&nbsp;to&nbsp;be&nbsp;aggressively&nbsp;maintained&nbsp;these&nbsp;days&nbsp;(at&nbsp;least&nbsp;not&nbsp;by&nbsp;Infrae&nbsp;--&nbsp;a&nbsp;branch&nbsp;I&nbsp;was&nbsp;talking&nbsp;about&nbsp;was&nbsp;from&nbsp;someone&nbsp;else).&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;did&nbsp;a&nbsp;quick&nbsp;search&nbsp;for&nbsp;similar&nbsp;functionality&nbsp;but&nbsp;did&nbsp;not&nbsp;find&nbsp;anything.&nbsp;If&nbsp;I&nbsp;was&nbsp;to&nbsp;find&nbsp;the&nbsp;time&nbsp;to&nbsp;do&nbsp;this&nbsp;myself,&nbsp;I&nbsp;would&nbsp;probably&nbsp;look&nbsp;at&nbsp;the&nbsp;source&nbsp;of&nbsp;mod_upload&nbsp;as&nbsp;a&nbsp;starting&nbsp;point.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;Thanks&nbsp;again&nbsp;for&nbsp;the&nbsp;help,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;--&nbsp;Jean&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Dec&nbsp;10,&nbsp;2008&nbsp;at&nbsp;7:25&nbsp;PM,&nbsp;Graham&nbsp;Dumpleton&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:graham.dumpleton@gmail.com&quot;&gt;graham.dumpleton@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;2008/12/11&nbsp;Jean&nbsp;Lagarde&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:jean.lagarde@gmail.com&quot;&gt;jean.lagarde@gmail.com&lt;/a&gt;&amp;gt;:&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;Ih2E3d&quot;&gt;&amp;gt;&nbsp;Thanks&nbsp;Graham,&lt;br&gt;<br>
&amp;gt;&nbsp;The&nbsp;difference&nbsp;is&nbsp;very&nbsp;clear&nbsp;now.&lt;br&gt;<br>
&amp;gt;&nbsp;Yes&nbsp;I&nbsp;agree&nbsp;that&nbsp;performance&nbsp;with&nbsp;mod_python&nbsp;is&nbsp;not&nbsp;optimal,&nbsp;but&nbsp;for&nbsp;now&lt;br&gt;<br>
&amp;gt;&nbsp;it&amp;#39;s&nbsp;a&nbsp;compromise&nbsp;because&nbsp;I&amp;#39;m&nbsp;using&nbsp;an&nbsp;existing&nbsp;product&lt;br&gt;<br>
&amp;gt;&nbsp;(&nbsp;&lt;a&nbsp;href=&quot;http://www.infrae.com/products/tramline&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.infrae.com/products/tramline&lt;/a&gt;&nbsp;--&nbsp;I&nbsp;know&nbsp;there&amp;#39;s&nbsp;been&nbsp;other&lt;br&gt;<br>
&amp;gt;&nbsp;questions&nbsp;about&nbsp;this&nbsp;product&nbsp;on&nbsp;this&nbsp;list&nbsp;before).&nbsp;The&nbsp;question&nbsp;came&nbsp;up&lt;br&gt;<br>
&amp;gt;&nbsp;because&nbsp;there&amp;#39;s&nbsp;a&nbsp;couple&nbsp;of&nbsp;branches&nbsp;of&nbsp;it&nbsp;around&nbsp;and&nbsp;I&nbsp;wanted&nbsp;to&nbsp;understand&lt;br&gt;<br>
&amp;gt;&nbsp;what&nbsp;was&nbsp;going&nbsp;on.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;Hmmm,&nbsp;are&nbsp;they&nbsp;still&nbsp;claiming&nbsp;mod_python&nbsp;needs&nbsp;to&nbsp;be&nbsp;patched?&nbsp;I&nbsp;can&amp;#39;t&lt;br&gt;<br>
remember&nbsp;the&nbsp;change&nbsp;they&nbsp;were&nbsp;saying&nbsp;needed&nbsp;to&nbsp;be&nbsp;made,&nbsp;but&nbsp;couldn&amp;#39;t&lt;br&gt;<br>
see&nbsp;how&nbsp;that&nbsp;change&nbsp;fixed&nbsp;anything.&nbsp;A&nbsp;different&nbsp;change&nbsp;was&nbsp;made&nbsp;for&lt;br&gt;<br>
another&nbsp;issue&nbsp;in&nbsp;code&nbsp;which&nbsp;was&nbsp;found&nbsp;when&nbsp;investigating&nbsp;their&nbsp;change,&lt;br&gt;<br>
but&nbsp;not&nbsp;sure&nbsp;I&nbsp;ever&nbsp;got&nbsp;back&nbsp;any&nbsp;conclusive&nbsp;response&nbsp;as&nbsp;to&nbsp;whether&lt;br&gt;<br>
that&nbsp;addressed&nbsp;problem.&nbsp;There&nbsp;ticket&nbsp;related&nbsp;to&nbsp;that&nbsp;is:&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp;&amp;nbsp;&lt;a&nbsp;href=&quot;http://issues.apache.org/jira/browse/MODPYTHON-76&quot;&nbsp;target=&quot;_blank&quot;&gt;http://issues.apache.org/jira/browse/MODPYTHON-76&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Tramline&nbsp;was&nbsp;a&nbsp;good&nbsp;example&nbsp;of&nbsp;something&nbsp;that&nbsp;should&nbsp;have&nbsp;been&nbsp;a&lt;br&gt;<br>
Apache&nbsp;C&nbsp;module.&nbsp;I&nbsp;wouldn&amp;#39;t&nbsp;be&nbsp;surprised&nbsp;actually&nbsp;if&nbsp;one&nbsp;already&nbsp;did&lt;br&gt;<br>
exist&nbsp;that&nbsp;does&nbsp;the&nbsp;same&nbsp;thing.&lt;br&gt;<br>
&lt;br&gt;<br>
Graham&lt;br&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;Wj3C7c&quot;&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;--&nbsp;Jean&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;On&nbsp;Wed,&nbsp;Dec&nbsp;10,&nbsp;2008&nbsp;at&nbsp;2:13&nbsp;AM,&nbsp;Graham&nbsp;Dumpleton&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:graham.dumpleton@gmail.com&quot;&gt;graham.dumpleton@gmail.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;2008/12/10&nbsp;Jean&nbsp;Lagarde&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:jean.lagarde@gmail.com&quot;&gt;jean.lagarde@gmail.com&lt;/a&gt;&amp;gt;:&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Hi&nbsp;all,&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;The&nbsp;subject&nbsp;says&nbsp;it&nbsp;all.&nbsp;The&nbsp;documentation&nbsp;seems&nbsp;a&nbsp;little&nbsp;sparse&nbsp;on&nbsp;the&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;topic.&nbsp;The&nbsp;description&nbsp;of&nbsp;pass_on&nbsp;is:&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Passes&nbsp;all&nbsp;data&nbsp;through&nbsp;the&nbsp;filter&nbsp;without&nbsp;any&nbsp;processing.&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;The&nbsp;description&nbsp;of&nbsp;disable&nbsp;is:&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Tells&nbsp;mod_python&nbsp;to&nbsp;ignore&nbsp;the&nbsp;provided&nbsp;handler&nbsp;and&nbsp;just&nbsp;pass&nbsp;the&nbsp;data&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;on.&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;(which&nbsp;also&nbsp;states&nbsp;that&nbsp;mod_python&nbsp;uses&nbsp;that&nbsp;one&nbsp;internally).&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;quot;passes&nbsp;all&nbsp;data&nbsp;through&amp;quot;&nbsp;and&nbsp;&amp;quot;just&nbsp;pass&nbsp;the&nbsp;data&nbsp;on&amp;quot;&nbsp;sound&nbsp;like&nbsp;the&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;same&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;thing&nbsp;to&nbsp;me.&nbsp;What&nbsp;is&nbsp;the&nbsp;additional&nbsp;functionality&nbsp;to&nbsp;&amp;quot;ignore&nbsp;the&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;provided&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;handler&amp;quot;?&nbsp;I&nbsp;assume&nbsp;that&nbsp;there&nbsp;is&nbsp;a&nbsp;difference&nbsp;between&nbsp;the&nbsp;two&nbsp;methods&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;and&nbsp;I&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;would&nbsp;like&nbsp;to&nbsp;know&nbsp;what&nbsp;it&nbsp;is&nbsp;no&nbsp;matter&nbsp;how&nbsp;subtle.&nbsp;I&amp;#39;m&nbsp;looking&nbsp;for&nbsp;the&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;most&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;CPU&nbsp;efficient&nbsp;way&nbsp;to&nbsp;decide&nbsp;early&nbsp;on&nbsp;in&nbsp;the&nbsp;execution&nbsp;of&nbsp;a&nbsp;filter&nbsp;that&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;we&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;don&amp;#39;t&nbsp;want&nbsp;to&nbsp;filter&nbsp;a&nbsp;particular&nbsp;request&nbsp;in&nbsp;any&nbsp;way,&nbsp;but&nbsp;maybe&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;understanding&nbsp;the&nbsp;difference&nbsp;would&nbsp;help&nbsp;me&nbsp;to&nbsp;make&nbsp;a&nbsp;better&nbsp;use&nbsp;of&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;mod_python&nbsp;filters&nbsp;in&nbsp;other&nbsp;ways.&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;I&nbsp;did&nbsp;try&nbsp;to&nbsp;use&nbsp;both&nbsp;in&nbsp;code,&nbsp;and&nbsp;on&nbsp;one&nbsp;server&nbsp;with&nbsp;one&nbsp;version&nbsp;of&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Apache&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;2&nbsp;(and&nbsp;other&nbsp;components)&nbsp;it&nbsp;seemed&nbsp;to&nbsp;make&nbsp;no&nbsp;functional&nbsp;difference&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;(although&nbsp;I&nbsp;did&nbsp;not&nbsp;attempt&nbsp;to&nbsp;closely&nbsp;measure&nbsp;CPU&nbsp;usage),&nbsp;whereas&nbsp;on&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;another&nbsp;server&nbsp;with&nbsp;an&nbsp;earlier&nbsp;version&nbsp;of&nbsp;Apache&nbsp;2&nbsp;(and&nbsp;other&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;components),&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;using&nbsp;disable()&nbsp;caused&nbsp;no&nbsp;error,&nbsp;but&nbsp;dropped&nbsp;values&nbsp;from&nbsp;POST&nbsp;forms&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;passed&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;on&nbsp;to&nbsp;PHP&nbsp;scripts.&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Thanks&nbsp;for&nbsp;any&nbsp;info.&nbsp;I&nbsp;did&nbsp;search&nbsp;the&nbsp;lists,&nbsp;but&nbsp;only&nbsp;found&nbsp;one&nbsp;comment&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;on&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;someone&amp;#39;s&nbsp;code&nbsp;from&nbsp;Graham&nbsp;that&nbsp;&amp;quot;Normally&nbsp;&amp;#39;filter.pass_on()&amp;#39;&nbsp;would&nbsp;be&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;used&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;here,&nbsp;not&nbsp;&amp;#39;filter.disable()&amp;#39;&amp;quot;,&nbsp;but&nbsp;without&nbsp;explaining&nbsp;why.&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;If&nbsp;you&nbsp;use&nbsp;disable(),&nbsp;your&nbsp;filter&nbsp;will&nbsp;never&nbsp;be&nbsp;called&nbsp;for&nbsp;that&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;request&nbsp;(input&nbsp;or&nbsp;output&nbsp;as&nbsp;appropriate)&nbsp;again.&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;If&nbsp;you&nbsp;use&nbsp;pass_on(),&nbsp;then&nbsp;it&nbsp;is&nbsp;passing&nbsp;on&nbsp;data&nbsp;available&nbsp;to&nbsp;that&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;specific&nbsp;call&nbsp;to&nbsp;your&nbsp;filter&nbsp;function.&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;The&nbsp;distinction&nbsp;exists&nbsp;because&nbsp;your&nbsp;filter&nbsp;function&nbsp;can&nbsp;be&nbsp;called&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;multiple&nbsp;times&nbsp;for&nbsp;a&nbsp;request.&nbsp;The&nbsp;latter&nbsp;is&nbsp;allowing&nbsp;you&nbsp;to&nbsp;pass&nbsp;on&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;the&nbsp;data&nbsp;for&nbsp;that&nbsp;call,&nbsp;but&nbsp;still&nbsp;allowing&nbsp;you&nbsp;the&nbsp;option&nbsp;to&nbsp;process&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;data&nbsp;in&nbsp;a&nbsp;subsequent&nbsp;call&nbsp;of&nbsp;the&nbsp;filter&nbsp;function.&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;The&nbsp;disable()&nbsp;call&nbsp;is&nbsp;used&nbsp;internally&nbsp;to&nbsp;mod_python&nbsp;to&nbsp;ensure&nbsp;that&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;filter&nbsp;function&nbsp;is&nbsp;never&nbsp;called&nbsp;again&nbsp;for&nbsp;a&nbsp;specific&nbsp;request&nbsp;if&nbsp;the&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;filter&nbsp;function&nbsp;itself&nbsp;raises&nbsp;an&nbsp;exception&nbsp;of&nbsp;some&nbsp;sort.&nbsp;If&nbsp;it&nbsp;doesn&amp;#39;t&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;do&nbsp;this&nbsp;you&nbsp;could&nbsp;end&nbsp;up&nbsp;with&nbsp;a&nbsp;loop&nbsp;if&nbsp;the&nbsp;error&nbsp;in&nbsp;filter&nbsp;function&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;actually&nbsp;generates&nbsp;output,&nbsp;for&nbsp;which&nbsp;it&nbsp;would&nbsp;then&nbsp;call&nbsp;the&nbsp;filter&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;function&nbsp;again,&nbsp;etc&nbsp;etc.&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;FWIW,&nbsp;if&nbsp;you&nbsp;are&nbsp;concerned&nbsp;about&nbsp;performance&nbsp;in&nbsp;any&nbsp;way,&nbsp;then&nbsp;you&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;shouldn&amp;#39;t&nbsp;be&nbsp;using&nbsp;mod_python&nbsp;to&nbsp;implement&nbsp;Apache&nbsp;input/output&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;filters.&nbsp;Yes&nbsp;you&nbsp;can&nbsp;write&nbsp;filters&nbsp;with&nbsp;mod_python,&nbsp;but&nbsp;it&nbsp;will&nbsp;impact&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;performance.&nbsp;For&nbsp;best&nbsp;performance&nbsp;you&nbsp;should&nbsp;write&nbsp;filters&nbsp;in&nbsp;C&nbsp;code&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;as&nbsp;proper&nbsp;Apache&nbsp;module.&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;Graham&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&amp;gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&amp;gt;&nbsp;Mod_python&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:Mod_python@modpython.org&quot;&gt;Mod_python@modpython.org&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;http://mailman.modpython.org/mailman/listinfo/mod_python&quot;&nbsp;target=&quot;_blank&quot;&gt;http://mailman.modpython.org/mailman/listinfo/mod_python&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
