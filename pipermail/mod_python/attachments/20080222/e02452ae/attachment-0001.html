<tt>
&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;charset=iso-8859-1&quot;&gt;<br>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;3.2//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
<br>
&lt;META&nbsp;NAME=&quot;Generator&quot;&nbsp;CONTENT=&quot;MS&nbsp;Exchange&nbsp;Server&nbsp;version&nbsp;6.5.7638.1&quot;&gt;<br>
&lt;TITLE&gt;Re:&nbsp;[mod_python]&nbsp;mod_python.Importer.path;&nbsp;set&nbsp;dynamically&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#000000&nbsp;size=2&gt;Graham,&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Sorry&nbsp;for&nbsp;the&nbsp;delay&nbsp;I&nbsp;have&nbsp;been&nbsp;extremely&nbsp;<br>
busy&nbsp;on&nbsp;some&nbsp;other&nbsp;stuff.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&lt;FONT&nbsp;<br>
size=2&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
modules=filesInUserDirectory(req.session.user)&lt;BR&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
for&nbsp;module&nbsp;in&nbsp;<br>
modules:&lt;BR&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
module.append(&nbsp;<br>
apache.import_module(module)&lt;BR&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
return&nbsp;module.index(req,*args,**kwargs)&nbsp;#&nbsp;return&nbsp;<br>
apache.OK?&lt;BR&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;.........&nbsp;(some&nbsp;<br>
code)&lt;BR&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;<br>
apache.OK&lt;BR&gt;&amp;gt;&lt;/FONT&gt;&lt;BR&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;As&nbsp;you&nbsp;can&nbsp;see&nbsp;the&nbsp;line&nbsp;&quot;&lt;FONT&nbsp;<br>
size=2&gt;modules=filesInUserDirectory(req.session.user)&quot;&nbsp;loads&nbsp;a&nbsp;tuple&nbsp;with&nbsp;<br>
modules&nbsp;in&nbsp;the&nbsp;userdirectory&nbsp;to&nbsp;import&nbsp;over&nbsp;the&nbsp;stable&nbsp;versions.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&lt;FONT&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&lt;FONT&nbsp;size=2&gt;Then&nbsp;I&nbsp;have&nbsp;to&nbsp;iterate&nbsp;to&nbsp;see&nbsp;which&nbsp;ones&nbsp;I&nbsp;nee&nbsp;to&nbsp;<br>
import,&nbsp;please&nbsp;note&nbsp;that&nbsp;this&nbsp;is&nbsp;explanational&nbsp;code&nbsp;not&nbsp;actual&nbsp;code,&nbsp;I'm&nbsp;<br>
designing&nbsp;not&nbsp;implementing.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&lt;FONT&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&lt;FONT&nbsp;size=2&gt;what&nbsp;does&nbsp;the&nbsp;line:&nbsp;&quot;return&nbsp;<br>
module.index(req,*args,**kwargs)&nbsp;#&nbsp;return&nbsp;apache.OK?&quot;&nbsp;do,&nbsp;and&nbsp;what&nbsp;if&nbsp;I&nbsp;return&nbsp;<br>
Apache.OK,&nbsp;I&nbsp;do&nbsp;not&nbsp;understand&nbsp;(or&nbsp;find&nbsp;explanation&nbsp;of&nbsp;the&nbsp;&quot;return&nbsp;<br>
module.index(req,*args,**kwargs)&quot;&nbsp;part.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;size=2&gt;It&nbsp;seems&nbsp;to&nbsp;me&nbsp;that&nbsp;in&nbsp;this&nbsp;way&nbsp;I&nbsp;cannot&nbsp;load&nbsp;more&nbsp;than&nbsp;one&nbsp;<br>
module&amp;nbsp;and&nbsp;I&nbsp;should&nbsp;(re)load&nbsp;all&amp;nbsp;modules&nbsp;in&nbsp;the&nbsp;<br>
userdir.....&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;size=2&gt;Martijn&lt;/P&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&lt;BR&gt;&lt;/DIV&gt;&lt;/FONT&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&lt;BR&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;<br>
&lt;HR&nbsp;tabIndex=-1&gt;<br>
&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&lt;FONT&nbsp;face=Tahoma&nbsp;size=2&gt;&lt;B&gt;Van:&lt;/B&gt;&nbsp;Graham&nbsp;Dumpleton&nbsp;<br>
[mailto:graham.dumpleton@gmail.com]&lt;BR&gt;&lt;B&gt;Verzonden:&lt;/B&gt;&nbsp;wo&nbsp;13.02.2008&nbsp;<br>
0:40&lt;BR&gt;&lt;B&gt;Aan:&lt;/B&gt;&nbsp;Martijn&nbsp;Moeling&lt;BR&gt;&lt;B&gt;CC:&lt;/B&gt;&nbsp;<br>
mod_python@modpython.org&lt;BR&gt;&lt;B&gt;Onderwerp:&lt;/B&gt;&nbsp;Re:&nbsp;[mod_python]&nbsp;<br>
mod_python.Importer.path;&nbsp;set&nbsp;dynamically&lt;BR&gt;&lt;/FONT&gt;&lt;BR&gt;&lt;/DIV&gt;<br>
&lt;P&nbsp;dir=ltr&gt;&lt;FONT&nbsp;size=2&gt;On&nbsp;12/02/2008,&nbsp;Martijn&nbsp;Moeling&nbsp;&amp;lt;martijn@xs4us.nu&amp;gt;&nbsp;<br>
wrote:&lt;BR&gt;&amp;gt;&nbsp;Graham,&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;Thank&nbsp;you,&nbsp;I&nbsp;did&nbsp;not&nbsp;mess&nbsp;around&nbsp;with&nbsp;it&nbsp;<br>
yet,&nbsp;I&nbsp;am&nbsp;planning&nbsp;a&lt;BR&gt;&amp;gt;&nbsp;versioning&nbsp;system&nbsp;to&nbsp;be&nbsp;added&nbsp;to&nbsp;my&nbsp;webbased&nbsp;<br>
development&nbsp;platform.&lt;BR&gt;&amp;gt;&nbsp;I&nbsp;am&nbsp;still&nbsp;having&nbsp;some&nbsp;trouble&nbsp;with&nbsp;my&nbsp;webdav&nbsp;<br>
module,&nbsp;I&nbsp;have&nbsp;to&nbsp;taccle&lt;BR&gt;&amp;gt;&nbsp;that&nbsp;one&nbsp;first.&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;Your&nbsp;help&nbsp;is&nbsp;<br>
usefull&nbsp;one&nbsp;question&nbsp;though:&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;say&nbsp;the&nbsp;inporterpath&nbsp;is&nbsp;set&nbsp;<br>
to:&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&quot;.../python_modules/me:.../python_modules&quot;&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;<br>
in&nbsp;the&nbsp;apacheconfig&nbsp;the&nbsp;importerpath&nbsp;is&nbsp;set&nbsp;to&nbsp;<br>
.../python_modules&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;in&nbsp;both&nbsp;directories&nbsp;stays:&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;<br>
modulex.py&nbsp;(&nbsp;in&nbsp;the&nbsp;me&nbsp;directory&nbsp;is&nbsp;the&nbsp;lates&nbsp;version)&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;<br>
in&nbsp;my&nbsp;handler&nbsp;module:&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;import&nbsp;modulex&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;de&nbsp;<br>
handler(req):&lt;BR&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;.......&nbsp;<br>
(some&nbsp;code)&lt;BR&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;req.debug&nbsp;<br>
and&nbsp;<br>
req.session.loggedIn:&lt;BR&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
req.options['mod_python.path']&nbsp;=&nbsp;<br>
&quot;.../me:../&quot;&lt;BR&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
importedModules=[]&lt;BR&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
modules=filesInUserDirectory(req.session.user)&lt;BR&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
for&nbsp;module&nbsp;in&nbsp;<br>
modules:&lt;BR&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
module.append(&nbsp;<br>
apache.import_module(module)&lt;BR&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
return&nbsp;module.index(req,*args,**kwargs)&nbsp;#&nbsp;return&nbsp;<br>
apache.OK?&lt;BR&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;.........&nbsp;(some&nbsp;<br>
code)&lt;BR&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;<br>
apache.OK&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;what&nbsp;happens&nbsp;to&nbsp;the&nbsp;interpreter&nbsp;for&nbsp;the&nbsp;next&nbsp;requests?&nbsp;<br>
which&nbsp;&quot;modulex&quot;&lt;BR&gt;&amp;gt;&nbsp;is&nbsp;used&nbsp;?&nbsp;The&nbsp;are&nbsp;supposed&nbsp;to&nbsp;get&nbsp;the&nbsp;&quot;stable&quot;&nbsp;one&nbsp;from&nbsp;<br>
.../&lt;BR&gt;&amp;gt;&nbsp;python_modules/&lt;BR&gt;&lt;BR&gt;Yes.&nbsp;Should&nbsp;always&nbsp;get&nbsp;the&nbsp;one&nbsp;from&nbsp;path&nbsp;<br>
specified&nbsp;in&nbsp;Apache&lt;BR&gt;configuration.&nbsp;The&nbsp;dynamic&nbsp;change&nbsp;is&nbsp;only&nbsp;going&nbsp;to&nbsp;apply&nbsp;<br>
to&nbsp;those&lt;BR&gt;imports&nbsp;done&nbsp;from&nbsp;handler&nbsp;or&nbsp;as&nbsp;a&nbsp;side&nbsp;effect&nbsp;of&nbsp;running&nbsp;the&nbsp;<br>
handler.&lt;BR&gt;&lt;BR&gt;&amp;gt;&nbsp;I&nbsp;don't&nbsp;understand&nbsp;what&nbsp;the&nbsp;return&nbsp;line&nbsp;does,&nbsp;what&nbsp;happens&nbsp;<br>
if&nbsp;I&nbsp;return&lt;BR&gt;&amp;gt;&nbsp;apache.OK&nbsp;in&nbsp;this&nbsp;case?&lt;BR&gt;&lt;BR&gt;Huh.&lt;BR&gt;&lt;BR&gt;At&nbsp;least&nbsp;I&nbsp;am&nbsp;a&nbsp;<br>
bit&nbsp;confused&nbsp;by&nbsp;your&nbsp;question&nbsp;as&nbsp;the&nbsp;<br>
code:&lt;BR&gt;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;for&nbsp;module&nbsp;<br>
in&nbsp;<br>
modules:&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
module.append(&nbsp;<br>
apache.import_module(module)&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
return&nbsp;module.index(req,*args,**kwargs)&nbsp;#&nbsp;return&nbsp;apache.OK?&lt;BR&gt;&amp;nbsp;&nbsp;.........&nbsp;<br>
(some&nbsp;code)&lt;BR&gt;&lt;BR&gt;doesn't&nbsp;make&nbsp;much&nbsp;sense&nbsp;to&nbsp;me.&nbsp;Don't&nbsp;understand&nbsp;why&nbsp;you&nbsp;are&nbsp;<br>
trying&nbsp;to&lt;BR&gt;iterate&nbsp;over&nbsp;a&nbsp;list&nbsp;of&nbsp;modules&nbsp;to&nbsp;import.&lt;BR&gt;&lt;BR&gt;Graham&lt;BR&gt;&lt;BR&gt;&amp;gt;&nbsp;<br>
Martijn&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;On&nbsp;Feb&nbsp;5,&nbsp;2008,&nbsp;at&nbsp;11:12&nbsp;AM,&nbsp;Graham&nbsp;Dumpleton&nbsp;<br>
wrote:&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Sorry&nbsp;for&nbsp;the&nbsp;delay.&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;To&nbsp;<br>
make&nbsp;things&nbsp;work&nbsp;transparently&nbsp;across&nbsp;a&nbsp;lot&nbsp;of&nbsp;modules,&nbsp;for&nbsp;both&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;<br>
import_module()&nbsp;and&nbsp;'import'&nbsp;where&nbsp;possible,&nbsp;what&nbsp;you&nbsp;can&nbsp;do&nbsp;is&nbsp;modify&lt;BR&gt;&amp;gt;&nbsp;<br>
&amp;gt;&nbsp;the&nbsp;value&nbsp;of&nbsp;option&nbsp;'mod_python.importer.path'&nbsp;dynamically&nbsp;from&nbsp;<br>
code.&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;This&nbsp;can&nbsp;be&nbsp;done&nbsp;from&nbsp;memory&nbsp;using:&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;<br>
req.options['mod_python.importer.path']&nbsp;=&nbsp;&quot;....&quot;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;You&nbsp;<br>
obviously&nbsp;can&nbsp;query&nbsp;this&nbsp;first&nbsp;if&nbsp;you&nbsp;need&nbsp;to&nbsp;somehow&nbsp;manipulate&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;it&nbsp;<br>
to&nbsp;add&nbsp;stuff.&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;All&nbsp;you&nbsp;then&nbsp;need&nbsp;is&nbsp;a&nbsp;level&nbsp;of&nbsp;<br>
indirection.&nbsp;Has&nbsp;to&nbsp;be&nbsp;from&nbsp;inside&nbsp;of&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;handler,&nbsp;can't&nbsp;be&nbsp;at&nbsp;global&nbsp;<br>
scope.&nbsp;So,&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;/var/www/python_modules/index.py&nbsp;might&nbsp;do:&lt;BR&gt;&amp;gt;&nbsp;<br>
&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;def&nbsp;index(req,&nbsp;*args,&nbsp;**kwargs):&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;<br>
req.options['mod_python.importer.path']&nbsp;=&nbsp;\&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;nbsp;&nbsp;<br>
'/var/www/python_modules/%s:/var/www/python_modules'&nbsp;%&nbsp;req.user&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;<br>
module&nbsp;=&nbsp;apache.import_module('index-core')&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;return&nbsp;<br>
module.index(req,&nbsp;*args,&nbsp;**kwargs)&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;If&nbsp;there&nbsp;is&nbsp;only&nbsp;<br>
one&nbsp;level&nbsp;of&nbsp;module&nbsp;imports,&nbsp;you&nbsp;could&nbsp;also&nbsp;do&nbsp;just:&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;<br>
def&nbsp;index(req,&nbsp;*args,&nbsp;**kwargs):&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;module&nbsp;=&nbsp;<br>
apache.import_module('index-core',&nbsp;\&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;nbsp;&nbsp;<br>
path=['/var/www/python_modules/%s:/var/www/python_modules'&nbsp;%&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;<br>
req.user]))&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;return&nbsp;module.index(req,&nbsp;*args,&nbsp;**kwargs)&lt;BR&gt;&amp;gt;&nbsp;<br>
&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;but&nbsp;think&nbsp;that&nbsp;if&nbsp;subdirectory&nbsp;uses&nbsp;'import',&nbsp;then&nbsp;it&nbsp;might&nbsp;<br>
not&nbsp;look&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;in&nbsp;all&nbsp;the&nbsp;directories.&nbsp;Can't&nbsp;remember&nbsp;how&nbsp;it&nbsp;works&nbsp;<br>
now.&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Anyway&nbsp;the&nbsp;suggestion&nbsp;is&nbsp;look&nbsp;at&nbsp;changing&nbsp;<br>
req.options&nbsp;if&nbsp;you&nbsp;haven't&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;already.&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;<br>
Graham&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;On&nbsp;01/02/2008,&nbsp;Martijn&nbsp;Moeling&nbsp;<br>
&amp;lt;martijn@xs4us.nu&amp;gt;&nbsp;wrote:&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;<br>
&amp;gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;Graham,&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;As&nbsp;you&nbsp;might&nbsp;<br>
remember&nbsp;I&nbsp;added&nbsp;a&nbsp;MySQLdb&nbsp;section&nbsp;to&nbsp;session.&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;(to&nbsp;be&nbsp;able&nbsp;to&nbsp;<br>
save&nbsp;sessions&nbsp;across&nbsp;computers)&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;In&nbsp;my&nbsp;system&nbsp;a&nbsp;<br>
lot&nbsp;of&nbsp;additional&nbsp;data&nbsp;is&nbsp;added&nbsp;to&nbsp;the&nbsp;req&nbsp;object,&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;which&nbsp;<br>
is&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;passed&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;around.&nbsp;in&nbsp;my&nbsp;case&nbsp;it&nbsp;is&nbsp;<br>
req.Session.user.&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;(I&nbsp;do&nbsp;not&nbsp;use&nbsp;http&nbsp;based&nbsp;<br>
auth,&nbsp;since&nbsp;this&nbsp;is&nbsp;in&nbsp;conflict&nbsp;with&nbsp;my&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;web&nbsp;based&lt;BR&gt;&amp;gt;&nbsp;<br>
&amp;gt;&amp;gt;&nbsp;desktop)&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;nevertheless,&nbsp;i&nbsp;can&nbsp;change&nbsp;<br>
your&nbsp;&quot;example&nbsp;code&quot;&nbsp;to&nbsp;my&nbsp;needs,&nbsp;consider&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;req.user&nbsp;as&nbsp;the&nbsp;<br>
distinguisher&nbsp;for&nbsp;ease&nbsp;of&nbsp;thinking.&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;<br>
Martijn&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;<br>
&amp;gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;-----Original&nbsp;Message-----&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;From:&nbsp;<br>
Graham&nbsp;Dumpleton&nbsp;[&lt;A&nbsp;<br>
href=&quot;mailto:graham.dumpleton@gmail.com&quot;&gt;mailto:graham.dumpleton@gmail.com&lt;/A&gt;]&lt;BR&gt;&amp;gt;&nbsp;<br>
&amp;gt;&amp;gt;&nbsp;Sent:&nbsp;Thu&nbsp;31.01.2008&nbsp;23:03&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;To:&nbsp;Martijn&nbsp;Moeling&lt;BR&gt;&amp;gt;&nbsp;<br>
&amp;gt;&amp;gt;&nbsp;Cc:&nbsp;mod_python@modpython.org&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;Subject:&nbsp;Re:&nbsp;[mod_python]&nbsp;<br>
mod_python.Importer.path;&nbsp;set&nbsp;dynamically&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;On&nbsp;<br>
01/02/2008,&nbsp;Martijn&nbsp;Moeling&nbsp;&amp;lt;martijn@xs4us.nu&amp;gt;&nbsp;wrote:&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;<br>
Hi!&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;I&nbsp;am&nbsp;an&nbsp;extensive&nbsp;mod_python&nbsp;user&nbsp;<br>
and&nbsp;my&nbsp;system&nbsp;needs&nbsp;something&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;special.&lt;BR&gt;&amp;gt;&nbsp;<br>
&amp;gt;&amp;gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;Consider&nbsp;the&nbsp;following:&lt;BR&gt;&amp;gt;&nbsp;<br>
&amp;gt;&amp;gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;in&nbsp;httpd.conf&nbsp;I&nbsp;have&nbsp;:&lt;BR&gt;&amp;gt;&nbsp;<br>
&amp;gt;&amp;gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;PythonOption&nbsp;mod_python.importer.path&nbsp;<br>
[&quot;/var/www/python_modules&quot;]&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;<br>
/var/www/html/index.py&nbsp;is&nbsp;linked&nbsp;to&nbsp;../python_modules/index.py&lt;BR&gt;&amp;gt;&nbsp;<br>
&amp;gt;&amp;gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;the&nbsp;python_modules&nbsp;directory&nbsp;has&nbsp;<br>
subdirectories,&nbsp;like;&nbsp;developer1,&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;developer2&lt;BR&gt;&amp;gt;&nbsp;<br>
&amp;gt;&amp;gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;the&nbsp;python_modules&nbsp;contains&nbsp;stable&nbsp;modules&nbsp;and&nbsp;<br>
developerX&nbsp;holds&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;development&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;<br>
versions.&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;I&nbsp;have&nbsp;load&nbsp;balancing&nbsp;with&nbsp;<br>
multiple&nbsp;frond-ends&nbsp;(apache/MP)&nbsp;and&nbsp;one&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;backend&lt;BR&gt;&amp;gt;&nbsp;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;(MySQL).&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;<br>
dynamically&nbsp;change&nbsp;the&nbsp;mod_python.importer.path&nbsp;so&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;<br>
that&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;developer1&nbsp;runs&nbsp;code&nbsp;in&nbsp;the&nbsp;corresponding&nbsp;subdir&nbsp;if&nbsp;<br>
the&nbsp;module&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;exists,&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;else&nbsp;fall&nbsp;back&nbsp;to&nbsp;<br>
the&nbsp;python_modules&nbsp;directory.&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;Any&nbsp;<br>
tips,&nbsp;suggestions,&nbsp;remarks?&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;What&nbsp;is&nbsp;the&nbsp;<br>
distinguisher&nbsp;used&nbsp;to&nbsp;know&nbsp;which&nbsp;developer&nbsp;it&nbsp;is?&nbsp;Are&nbsp;you&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;using&nbsp;<br>
something&nbsp;like&nbsp;Basic&nbsp;authentication&nbsp;and&nbsp;so&nbsp;could&nbsp;distinguish&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;<br>
based&nbsp;on&nbsp;req.user?&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;If&nbsp;you&nbsp;tell&nbsp;me&nbsp;what&nbsp;the&nbsp;<br>
distinguisher&nbsp;is,&nbsp;probably&nbsp;have&nbsp;an&nbsp;idea.&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;<br>
Graham&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;<br>
&amp;gt;&amp;gt;&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&lt;BR&gt;&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;
</tt>
