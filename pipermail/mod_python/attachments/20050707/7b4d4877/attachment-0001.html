<tt>
Hi&nbsp;Manjeet,&lt;br&gt;<br>
&lt;br&gt;<br>
Could&nbsp;you&nbsp;be&nbsp;affected&nbsp;by&nbsp;this&nbsp;bug&nbsp;?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://issues.apache.org/jira/browse/MODPYTHON-1&quot;&gt;http://issues.apache.org/jira/browse/MODPYTHON-1&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
It&nbsp;is&nbsp;fixed&nbsp;in&nbsp;the&nbsp;current&nbsp;development&nbsp;version&nbsp;but&nbsp;still&nbsp;present&nbsp;in&nbsp;the&nbsp;3.1.4&nbsp;version.&lt;br&gt;<br>
&lt;br&gt;<br>
Another&nbsp;possible&nbsp;memory&nbsp;leak&nbsp;(which&nbsp;is&nbsp;not&nbsp;confirmed&nbsp;yet)&nbsp;is&nbsp;the&nbsp;PythonOption&nbsp;configuration&nbsp;directive&nbsp;:&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://issues.apache.org/jira/browse/MODPYTHON-60&quot;&gt;http://issues.apache.org/jira/browse/MODPYTHON-60&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
But&nbsp;apparently&nbsp;you&nbsp;are&nbsp;not&nbsp;using&nbsp;it.&lt;br&gt;<br>
&lt;br&gt;<br>
Regards,&lt;br&gt;<br>
Nicolas&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;2005/7/7,&nbsp;Manjeet&nbsp;Chaudhary&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:manjeet@infogridpacific.com&quot;&gt;manjeet@infogridpacific.com&lt;/a&gt;&amp;gt;:&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Hi&nbsp;Guys&lt;br&gt;&lt;br&gt;We&nbsp;are&nbsp;facing&nbsp;memory&nbsp;leak&nbsp;problem;&nbsp;most&nbsp;probably&nbsp;due&nbsp;to&nbsp;mod_python.&lt;br&gt;Our&nbsp;application&nbsp;is&nbsp;web-based&nbsp;application&nbsp;using&nbsp;below&nbsp;mentioned&nbsp;Apache&lt;br&gt;server&nbsp;version&nbsp;including&nbsp;mod-python.&nbsp;We&nbsp;are&nbsp;using&nbsp;Publisher&nbsp;Handler&nbsp;in<br>
&lt;br&gt;mod-python.&lt;br&gt;We&nbsp;are&nbsp;facing&nbsp;a&nbsp;severe&nbsp;memory&nbsp;leak&nbsp;problem&nbsp;[&nbsp;memory&nbsp;is&nbsp;used&nbsp;and&nbsp;never&lt;br&gt;being&nbsp;freed&nbsp;,&nbsp;it&nbsp;is&nbsp;freed&nbsp;only&nbsp;when&nbsp;we&nbsp;stop&nbsp;apache&nbsp;server&nbsp;(httpd)&nbsp;or&lt;br&gt;restart&nbsp;it].&nbsp;We&nbsp;are&nbsp;using&nbsp;dbxml(2.1.8)&nbsp;as&nbsp;our&nbsp;backend&nbsp;database.&nbsp;Our<br>
&lt;br&gt;program&nbsp;(python&nbsp;module)&nbsp;in&nbsp;cgi-bin&nbsp;dir&nbsp;is&nbsp;processing&nbsp;the&nbsp;url&nbsp;request.&lt;br&gt;The&nbsp;module&nbsp;is&nbsp;accessing&nbsp;the&nbsp;document&nbsp;from&nbsp;the&nbsp;dbxml&nbsp;container&nbsp;through&lt;br&gt;Simple&nbsp;-&nbsp;XML&nbsp;-RPC&nbsp;communication&nbsp;and&nbsp;returning&nbsp;to&nbsp;the&nbsp;browser.&nbsp;As&nbsp;the&nbsp;no.<br>
&lt;br&gt;of&nbsp;requests&nbsp;increases&nbsp;memory&nbsp;is&nbsp;used&nbsp;up&nbsp;[never&nbsp;freed&nbsp;again]&nbsp;and&nbsp;the&lt;br&gt;server&nbsp;crashes&nbsp;[CentOS&nbsp;automatically&nbsp;kill&nbsp;the&nbsp;process],&nbsp;but&nbsp;if&nbsp;we&nbsp;stop&lt;br&gt;or&nbsp;restart&nbsp;httpd&nbsp;the&nbsp;memory&nbsp;is&nbsp;released&nbsp;in&nbsp;huge&nbsp;amount&nbsp;.&nbsp;There&nbsp;were&lt;br&gt;similar&nbsp;problems&nbsp;in&nbsp;dbxml&nbsp;version&nbsp;<br>
2.0.9&nbsp;,&nbsp;but&nbsp;those&nbsp;were&nbsp;solved&nbsp;when&nbsp;we&lt;br&gt;upgraded&nbsp;it&nbsp;to&nbsp;version&nbsp;2.1.8.&lt;br&gt;&lt;br&gt;I&nbsp;have&nbsp;already&nbsp;updated&nbsp;my&nbsp;kernel,&nbsp;mod_python,&nbsp;dbxml.&lt;br&gt;I&nbsp;used&nbsp;Valgrind&nbsp;to&nbsp;check&nbsp;memory&nbsp;leak.&nbsp;But&nbsp;in&nbsp;summary&nbsp;report&nbsp;it&nbsp;is&nbsp;not&lt;br&gt;showing&nbsp;any&nbsp;type&nbsp;of&nbsp;memory&nbsp;leak.<br>
&lt;br&gt;&lt;br&gt;I&nbsp;also&nbsp;read&nbsp;that&nbsp;is&nbsp;there&nbsp;is&nbsp;some&nbsp;problem&nbsp;with&nbsp;Python&nbsp;and&nbsp;it's&nbsp;memory&lt;br&gt;management.&nbsp;(&nbsp;&lt;a&nbsp;href=&quot;http://evanjones.ca/python-memory.html&quot;&gt;http://evanjones.ca/python-memory.html&lt;/a&gt;&nbsp;).&nbsp;Is&nbsp;this&nbsp;a&lt;br&gt;problem&nbsp;due&nbsp;to&nbsp;Python's&nbsp;memory&nbsp;management.&nbsp;But&nbsp;our&nbsp;other<br>
&lt;br&gt;application/servers&nbsp;are&nbsp;working&nbsp;fine.&lt;br&gt;&lt;br&gt;It&nbsp;seems&nbsp;that&nbsp;apache/mod_python&nbsp;process&nbsp;is&nbsp;leaking&nbsp;memory.&lt;br&gt;This&nbsp;is&nbsp;a&nbsp;serious&nbsp;problem&nbsp;and&nbsp;so&nbsp;we&nbsp;need&nbsp;a&nbsp;solution&nbsp;for&nbsp;it.&lt;br&gt;&lt;br&gt;Please&nbsp;help&nbsp;me&nbsp;out&nbsp;for&nbsp;solving&nbsp;this&nbsp;problem.<br>
&lt;br&gt;Maybe&nbsp;somebody&nbsp;here&nbsp;has&nbsp;any&nbsp;idea&nbsp;what&nbsp;is&nbsp;going&nbsp;on.&lt;br&gt;&lt;br&gt;Thank&nbsp;you&nbsp;in&nbsp;advance&nbsp;and&nbsp;all&nbsp;the&nbsp;best,&lt;br&gt;Manjeet&nbsp;Chaudhary&lt;br&gt;&lt;br&gt;Summary:&lt;br&gt;-----------------------------------------------------------&lt;br&gt;.................<br>
&lt;br&gt;Hardware/Softwares&nbsp;and&nbsp;OS&nbsp;we&nbsp;are&nbsp;using&nbsp;:-&lt;br&gt;Pentium4&nbsp;machine&nbsp;with&nbsp;1GB&nbsp;DDR-RAM.&lt;br&gt;CentOS&nbsp;4.0&nbsp;-&nbsp;kernel&nbsp;2.6.9-11-EL.&nbsp;Upgraded&nbsp;from&nbsp;2.6.9-3&lt;br&gt;Dbxml&nbsp;-&nbsp;2.1.8&nbsp;upgraded&nbsp;from&nbsp;2.0.9&lt;br&gt;Mod_Python&nbsp;-&nbsp;3.1.4&nbsp;with&nbsp;Patches&lt;br&gt;Python&nbsp;-&nbsp;<br>
2.3.4.&lt;br&gt;HTTPD&nbsp;server&nbsp;-&nbsp;Apache/2.0.52&lt;br&gt;Pybsdbd&nbsp;-&nbsp;bsddb3-4.3.3&lt;br&gt;.................&lt;br&gt;Httpd&nbsp;Configurations:&nbsp;(mod_python&nbsp;specific.&nbsp;We&nbsp;are&nbsp;using&nbsp;.htaccess&nbsp;in&lt;br&gt;cgi-bin&nbsp;directory&nbsp;)&lt;br&gt;&lt;br&gt;&amp;lt;Directory&nbsp;&amp;quot;/var/www/cgi-bin&amp;quot;&amp;gt;<br>
&lt;br&gt;AllowOverride&nbsp;FileInfo&lt;br&gt;Options&nbsp;FollowSymLinks&lt;br&gt;Order&nbsp;allow,deny&lt;br&gt;Allow&nbsp;from&nbsp;all&lt;br&gt;&amp;lt;/Directory&amp;gt;&lt;br&gt;.................&lt;br&gt;.htaccess&nbsp;file:&lt;br&gt;&lt;br&gt;AddHandler&nbsp;mod_python&nbsp;.py&lt;br&gt;SetHandler&nbsp;mod_python&lt;br&gt;PythonHandler&nbsp;mod_python.publisher<br>
&lt;br&gt;PythonDebug&nbsp;On&lt;br&gt;.................&lt;br&gt;Remedies&nbsp;i&nbsp;applied:&lt;br&gt;1.&nbsp;Updated&nbsp;Kernel&nbsp;from&nbsp;2.6.9-3&nbsp;to&nbsp;2.6.9-11.EL&nbsp;as&nbsp;suggested&nbsp;in&lt;br&gt;&lt;a&nbsp;href=&quot;http://lists.centos.org/pipermail/centos/2005-June/007113.html&quot;&gt;http://lists.centos.org/pipermail/centos/2005-June/007113.html<br>
&lt;/a&gt;&lt;br&gt;2.&nbsp;Updated&nbsp;DbXml&nbsp;from&nbsp;2.0.9&nbsp;to&nbsp;2.1.8&nbsp;as&nbsp;suggested&nbsp;in&lt;br&gt;&lt;a&nbsp;href=&quot;http://www.sleepycat.com/xml_update/2.1.8/if.2.1.8.html&quot;&gt;http://www.sleepycat.com/xml_update/2.1.8/if.2.1.8.html&lt;/a&gt;&lt;br&gt;3.&nbsp;Reinstalled&nbsp;mod_python&nbsp;with&nbsp;patches&nbsp;as&nbsp;mentioned&nbsp;in<br>
&lt;br&gt;&lt;a&nbsp;href=&quot;http://www.dscpl.com.au/projects/vampire/patches.html&quot;&gt;http://www.dscpl.com.au/projects/vampire/patches.html&lt;/a&gt;&lt;br&gt;_______________________________________________&lt;br&gt;Mod_python&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:Mod_python@modpython.org&quot;&gt;<br>
Mod_python@modpython.org&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://mailman.modpython.org/mailman/listinfo/mod_python&quot;&gt;http://mailman.modpython.org/mailman/listinfo/mod_python&lt;/a&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
