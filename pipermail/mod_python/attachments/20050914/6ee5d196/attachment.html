<tt>
There&nbsp;is&nbsp;a&nbsp;possibility&nbsp;that&nbsp;you've&nbsp;ran&nbsp;into&nbsp;a&nbsp;known&nbsp;memory&nbsp;leak&nbsp;that&nbsp;is<br>
fixed&nbsp;is&nbsp;the&nbsp;3.2&nbsp;beta&nbsp;version&nbsp;of&nbsp;mod_python,&nbsp;but&nbsp;still&nbsp;present&nbsp;in&nbsp;the<br>
3.1.4&nbsp;version.&nbsp;If&nbsp;your&nbsp;webObject&nbsp;instance&nbsp;stores&nbsp;something&nbsp;into&nbsp;the&nbsp;req<br>
object&nbsp;which&nbsp;points&nbsp;back&nbsp;to&nbsp;the&nbsp;webObject&nbsp;instance,&nbsp;bam,&nbsp;you've&nbsp;created<br>
a&nbsp;reference&nbsp;cycle&nbsp;which&nbsp;won't&nbsp;be&nbsp;garbage&nbsp;collected&nbsp;in&nbsp;3.1.4&nbsp;(but&nbsp;will<br>
be&nbsp;in&nbsp;3.2).&lt;br&gt;<br>
&lt;br&gt;<br>
Here&nbsp;is&nbsp;the&nbsp;issue&nbsp;in&nbsp;our&nbsp;bug&nbsp;tracking&nbsp;system&nbsp;:&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://issues.apache.org/jira/browse/MODPYTHON-1&quot;&gt;http://issues.apache.org/jira/browse/MODPYTHON-1&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Regards,&lt;br&gt;<br>
Nicolas&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;2005/9/13,&nbsp;mauchi&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:mauchi_co@earthlink.net&quot;&gt;mauchi_co@earthlink.net&lt;/a&gt;&amp;gt;:&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
I've&nbsp;noticed&nbsp;this&nbsp;behaviour&nbsp;as&nbsp;of&nbsp;late&nbsp;which&nbsp;causes&nbsp;large&nbsp;memory&nbsp;usage<br>
in&nbsp;apache2,&nbsp;rogue&nbsp;threads&nbsp;taking&nbsp;up&nbsp;400+&nbsp;megs&nbsp;for&nbsp;each&nbsp;client&nbsp;that<br>
eventually&nbsp;cause&nbsp;me&nbsp;to&nbsp;restart&nbsp;apache:&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;return&nbsp;all&nbsp;html&nbsp;content&nbsp;through&nbsp;a&nbsp;python&nbsp;object&nbsp;which&nbsp;handles&nbsp;the&nbsp;form&nbsp;data&nbsp;and&nbsp;tracks&nbsp;errors&lt;br&gt;<br>
&lt;br&gt;<br>
#&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Init&nbsp;object&nbsp;and&nbsp;parse&nbsp;form&lt;br&gt;<br>
response&nbsp;=&nbsp;webObject(req)&lt;br&gt;<br>
&lt;br&gt;<br>
#&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;html&nbsp;or&nbsp;xml&nbsp;based&nbsp;on&nbsp;form&nbsp;entries&lt;br&gt;<br>
req.write(response.returnSomething())&lt;br&gt;<br>
&lt;br&gt;<br>
#&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;print&nbsp;debugging&nbsp;information&lt;br&gt;<br>
req.write(response.returnErrors())&lt;br&gt;<br>
&lt;br&gt;<br>
the&nbsp;object&nbsp;has&nbsp;an&nbsp;internal&nbsp;array&nbsp;called&nbsp;errors&nbsp;where&nbsp;I&nbsp;store&nbsp;debugging<br>
information&nbsp;from&nbsp;the&nbsp;internal&nbsp;functions.&nbsp;What&nbsp;I&nbsp;expect&nbsp;is&nbsp;1-2&nbsp;lines&nbsp;of<br>
messages&nbsp;for&nbsp;each&nbsp;time&nbsp;the&nbsp;page&nbsp;is&nbsp;loaded&nbsp;which&nbsp;is&nbsp;printed&nbsp;at&nbsp;the<br>
bottom&nbsp;of&nbsp;the&nbsp;page.&nbsp;What&nbsp;I&nbsp;find&nbsp;is&nbsp;if&nbsp;I&nbsp;keep&nbsp;hitting&nbsp;refresh,&nbsp;that&nbsp;the<br>
lines&nbsp;grow&nbsp;each&nbsp;time&nbsp;with&nbsp;the&nbsp;previous&nbsp;load's&nbsp;messages.&nbsp;50&nbsp;refreshes<br>
later&nbsp;I'll&nbsp;have&nbsp;50-100&nbsp;lines&nbsp;of&nbsp;debugging&nbsp;information.&nbsp;This&nbsp;makes&nbsp;me<br>
think&nbsp;that&nbsp;the&nbsp;webObject&nbsp;is&nbsp;staying&nbsp;in&nbsp;memory&nbsp;between&nbsp;loads&nbsp;and&nbsp;doesn't<br>
get&nbsp;destroyed&nbsp;until&nbsp;I&nbsp;restart&nbsp;apache2.&nbsp;This&nbsp;has&nbsp;become&nbsp;more&nbsp;of&nbsp;a<br>
problem&nbsp;as&nbsp;each&nbsp;client&nbsp;page&nbsp;now&nbsp;requests&nbsp;frequent&nbsp;xml&nbsp;updates&nbsp;and&nbsp;the<br>
server&nbsp;quickly&nbsp;tires&nbsp;out.&lt;br&gt;<br>
If&nbsp;anyone&nbsp;has&nbsp;a&nbsp;suggestion&nbsp;on&nbsp;how&nbsp;to&nbsp;either:&nbsp;turn&nbsp;off&nbsp;said&nbsp;behaviour&nbsp;in<br>
mod_python,&nbsp;destroy&nbsp;objects&nbsp;from&nbsp;memory,&nbsp;or&nbsp;a&nbsp;clever&nbsp;way&nbsp;to&nbsp;flush&nbsp;out<br>
all&nbsp;of&nbsp;an&nbsp;object's&nbsp;internal&nbsp;data&nbsp;between&nbsp;loads,&nbsp;I&nbsp;would&nbsp;be&nbsp;most&nbsp;happy.&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks&nbsp;to&nbsp;all&nbsp;in&nbsp;advance!&lt;br&gt;&lt;span&nbsp;class=&quot;sg&quot;&gt;<br>
&lt;br&gt;<br>
Mauchi<br>
<br>
<br>
<br>
&lt;/span&gt;&lt;br&gt;_______________________________________________&lt;br&gt;Mod_python&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&nbsp;href=&quot;mailto:Mod_python@modpython.org&quot;&gt;Mod_python@modpython.org&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&nbsp;href=&quot;http://mailman.modpython.org/mailman/listinfo/mod_python&quot;&nbsp;target=&quot;_blank&quot;&gt;<br>
http://mailman.modpython.org/mailman/listinfo/mod_python&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
