<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;3.2//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;charset=iso-8859-1&quot;&gt;<br>
&lt;META&nbsp;NAME=&quot;Generator&quot;&nbsp;CONTENT=&quot;MS&nbsp;Exchange&nbsp;Server&nbsp;version&nbsp;5.5.2653.12&quot;&gt;<br>
&lt;TITLE&gt;RE:&nbsp;Re[2]:&nbsp;[mod_python]&nbsp;Database&nbsp;Help&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Well,&nbsp;I&nbsp;do&nbsp;not&nbsp;have&nbsp;any&nbsp;experience&nbsp;with&nbsp;Oracle&nbsp;db&nbsp;connections.&nbsp;With&nbsp;MS&nbsp;ODBC&nbsp;connections&nbsp;using&nbsp;the&nbsp;win32&nbsp;extensions,&nbsp;I&nbsp;have&nbsp;had&nbsp;to&nbsp;issue&nbsp;commit()&nbsp;then&nbsp;close()&nbsp;for&nbsp;information&nbsp;to&nbsp;take&nbsp;affect.&nbsp;I&nbsp;have&nbsp;used&nbsp;MySQL&nbsp;dbi&nbsp;and&nbsp;PySQLite&nbsp;with&nbsp;no&nbsp;problems&nbsp;with&nbsp;just&nbsp;commits&nbsp;only.&nbsp;When&nbsp;you&nbsp;run&nbsp;your&nbsp;database&nbsp;update&nbsp;script,&nbsp;test&nbsp;and&nbsp;see&nbsp;if&nbsp;it&nbsp;is&nbsp;actually&nbsp;committed&nbsp;the&nbsp;data&nbsp;before&nbsp;the&nbsp;termination&nbsp;of&nbsp;the&nbsp;python&nbsp;script.&nbsp;To&nbsp;my&nbsp;knowledge&nbsp;when&nbsp;a&nbsp;python&nbsp;script&nbsp;finishes&nbsp;the&nbsp;variables&nbsp;are&nbsp;cleaned&nbsp;up&nbsp;and&nbsp;connections&nbsp;closed.&nbsp;Perhaps&nbsp;the&nbsp;termination&nbsp;of&nbsp;the&nbsp;python&nbsp;script&nbsp;is&nbsp;causing&nbsp;the&nbsp;buffers&nbsp;or&nbsp;information&nbsp;to&nbsp;be&nbsp;committed.&nbsp;Maybe&nbsp;a&nbsp;question&nbsp;to&nbsp;the&nbsp;Oracle&nbsp;python&nbsp;dbi&nbsp;maintainer/group&nbsp;might&nbsp;help.&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;-----Original&nbsp;Message-----&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;From:&nbsp;Sean&nbsp;Abrahams&nbsp;[&lt;A&nbsp;HREF=&quot;mailto:sa@sfsu.edu&quot;&gt;mailto:sa@sfsu.edu&lt;/A&gt;]&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Sent:&nbsp;Tuesday,&nbsp;January&nbsp;14,&nbsp;2003&nbsp;1:44&nbsp;PM&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;To:&nbsp;Yandle,&nbsp;Hans;&nbsp;mod_python@modpython.org&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Subject:&nbsp;Re[2]:&nbsp;[mod_python]&nbsp;Database&nbsp;Help&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
&lt;BR&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Thanks&nbsp;for&nbsp;all&nbsp;the&nbsp;replies,&nbsp;but&nbsp;I&nbsp;am&nbsp;indeed&nbsp;committing&nbsp;my&nbsp;statement.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Remember&nbsp;I&nbsp;said&nbsp;it&nbsp;worked&nbsp;when&nbsp;not&nbsp;using&nbsp;mod_python&nbsp;=).&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Here's&nbsp;my&nbsp;dbDo&nbsp;function:&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;def&nbsp;dbDo(db,&nbsp;sql):&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;dbCon&nbsp;=&nbsp;dbConnect(db)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;dbCursor&nbsp;=&nbsp;dbCon.cursor()&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;dbCursor.execute(sql)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;dbCon.commit()&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;None&nbsp;of&nbsp;this&nbsp;really&nbsp;makes&nbsp;sense&nbsp;because&nbsp;the&nbsp;code&nbsp;seems&nbsp;to&nbsp;run&nbsp;fine,&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;giving&nbsp;back&nbsp;no&nbsp;errors.&nbsp;It&nbsp;doesn't&nbsp;even&nbsp;work&nbsp;when&nbsp;I&nbsp;tell&nbsp;it&nbsp;to&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;explicitly&nbsp;run&nbsp;commit&nbsp;via&nbsp;a&nbsp;sql&nbsp;statement.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;I'm&nbsp;using&nbsp;cx_Oracle&nbsp;module&nbsp;to&nbsp;connect&nbsp;to&nbsp;an&nbsp;Oracle&nbsp;8.1.6&nbsp;database.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;In&nbsp;mod_python&nbsp;must&nbsp;you&nbsp;first&nbsp;disconnect&nbsp;from&nbsp;a&nbsp;database,&nbsp;before&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;connecting&nbsp;to&nbsp;another&nbsp;one,&nbsp;within&nbsp;the&nbsp;same&nbsp;script?&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Thanks&nbsp;for&nbsp;the&nbsp;help.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;--Sean&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Tuesday,&nbsp;January&nbsp;14,&nbsp;2003,&nbsp;6:07:32&nbsp;AM,&nbsp;you&nbsp;wrote:&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;I&nbsp;am&nbsp;going&nbsp;to&nbsp;make&nbsp;a&nbsp;simple&nbsp;guess&nbsp;here.&nbsp;I&nbsp;might&nbsp;be&nbsp;wrong&nbsp;but&nbsp;I&nbsp;have&nbsp;been&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;caught&nbsp;off&nbsp;guard&nbsp;when&nbsp;I&nbsp;forget&nbsp;to&nbsp;issue&nbsp;a&nbsp;commit&nbsp;statement.&nbsp;Maybe&nbsp;the&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;database&nbsp;connections&nbsp;on&nbsp;the&nbsp;updates/inserts&nbsp;are&nbsp;not&nbsp;automatically&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;committing.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;-----Original&nbsp;Message-----&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;From:&nbsp;Sean&nbsp;Abrahams&nbsp;[&lt;A&nbsp;HREF=&quot;mailto:sa@sfsu.edu&quot;&gt;mailto:sa@sfsu.edu&lt;/A&gt;]&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;Sent:&nbsp;Monday,&nbsp;January&nbsp;13,&nbsp;2003&nbsp;9:11&nbsp;PM&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;To:&nbsp;mod_python@modpython.org&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;Subject:&nbsp;[mod_python]&nbsp;Database&nbsp;Help&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
&lt;BR&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;I'm&nbsp;implementing&nbsp;mod_python&nbsp;and&nbsp;everything&nbsp;is&nbsp;working&nbsp;fine,&nbsp;until&nbsp;I&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;try&nbsp;to&nbsp;pass&nbsp;an&nbsp;UPDATE&nbsp;sql&nbsp;statement&nbsp;to&nbsp;a&nbsp;database.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;I'm&nbsp;grabbing&nbsp;info&nbsp;from&nbsp;one&nbsp;database,&nbsp;and&nbsp;inserting/updating&nbsp;into&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;another&nbsp;database.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;When&nbsp;grabbing,&nbsp;I&nbsp;call&nbsp;upon&nbsp;my&nbsp;dbSelect(db,&nbsp;keys,&nbsp;sql,&nbsp;rows)&nbsp;function,&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;which&nbsp;connects&nbsp;to&nbsp;a&nbsp;specified&nbsp;database&nbsp;(db)&nbsp;and&nbsp;selects&nbsp;the&nbsp;info.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;Works&nbsp;great.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;To&nbsp;update/insert&nbsp;I&nbsp;call&nbsp;upon&nbsp;my&nbsp;dbDo(db,&nbsp;sql)&nbsp;function.&nbsp;This&nbsp;function&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;connects&nbsp;to&nbsp;the&nbsp;specified&nbsp;database&nbsp;(db)&nbsp;and&nbsp;runs&nbsp;the&nbsp;sql.&nbsp;Python&nbsp;wise&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;everything&nbsp;seems&nbsp;to&nbsp;work&nbsp;fine.&nbsp;I&nbsp;call&nbsp;the&nbsp;dbDo&nbsp;and&nbsp;nothing&nbsp;appears&nbsp;to&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;go&nbsp;wrong.&nbsp;Except&nbsp;when&nbsp;I&nbsp;look&nbsp;at&nbsp;the&nbsp;data&nbsp;in&nbsp;the&nbsp;db,&nbsp;it&nbsp;wasn't&nbsp;updated.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;All&nbsp;of&nbsp;this&nbsp;works&nbsp;fine&nbsp;from&nbsp;the&nbsp;interpreter,&nbsp;so&nbsp;I'm&nbsp;thinking&nbsp;it&nbsp;may&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;deal&nbsp;with&nbsp;the&nbsp;way&nbsp;mod_python&nbsp;handles&nbsp;processes&nbsp;and&nbsp;dbconnections,&nbsp;of&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;which&nbsp;I&nbsp;know&nbsp;very&nbsp;little&nbsp;of.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;Thus,&nbsp;does&nbsp;connecting&nbsp;to&nbsp;two&nbsp;different&nbsp;databases,&nbsp;right&nbsp;after&nbsp;one&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;another,&nbsp;cause&nbsp;a&nbsp;problem&nbsp;in&nbsp;mod_python?&nbsp;I'm&nbsp;supposing&nbsp;I&nbsp;must&nbsp;change&nbsp;my&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;dbConnect()&nbsp;function&nbsp;to&nbsp;take&nbsp;this&nbsp;into&nbsp;consideration&nbsp;due&nbsp;to&nbsp;the&nbsp;way&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;mod_python/apache&nbsp;function.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;Some&nbsp;ideas?&nbsp;I&nbsp;want&nbsp;to&nbsp;learn!&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;Thanks,&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;--Sean&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;Running:&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;Apache/2.0.43&nbsp;(Debian&nbsp;GNU/Linux)&nbsp;DAV/2&nbsp;mod_python/3.0.1&nbsp;Python/2.2.1&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;cx_Oracle&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;_______________________________________________&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;Mod_python&nbsp;mailing&nbsp;list&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;Mod_python@modpython.org&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;YH&amp;gt;&nbsp;&lt;A&nbsp;HREF=&quot;http://www.modpython.org/mailman/listinfo/mod_python&quot;&nbsp;TARGET=&quot;_blank&quot;&gt;http://www.modpython.org/mailman/listinfo/mod_python&lt;/A&gt;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;
</tt>
