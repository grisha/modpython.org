<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Here&nbsp;is&nbsp;code&nbsp;that&nbsp;consistently&nbsp;crashes&nbsp;Apache&nbsp;for&nbsp;me:&lt;br&gt;&lt;br&gt;import&nbsp;logging&lt;br&gt;&lt;br&gt;def&nbsp;index(req):&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;quot;&amp;quot;&amp;quot;Handles&nbsp;all&nbsp;Browser&nbsp;Requests&amp;quot;&amp;quot;&amp;quot;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;try:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;reqHandler&nbsp;=&nbsp;logging.StreamHandler(req)&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;logging.getLogger(&amp;#39;&amp;#39;).addHandler(reqHandler)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;req.form.has_key(&amp;#39;action&amp;#39;):&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;raise&nbsp;Exception(&amp;#39;Goodbye&nbsp;Apache&amp;#39;)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;except&nbsp;Exception,&nbsp;e:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;logging.exception(&amp;#39;I&nbsp;crash&amp;#39;)&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;raise&lt;br&gt;&lt;br&gt;Now&nbsp;just&nbsp;go&nbsp;to&nbsp;the&nbsp;site&nbsp;with&nbsp;/?action=dosomething&nbsp;and&nbsp;it&nbsp;will&nbsp;crash&lt;br&gt;&lt;br&gt;Removing&nbsp;the&nbsp;if&nbsp;statement,&nbsp;the&nbsp;exception,&nbsp;or&nbsp;the&nbsp;logger&nbsp;are&nbsp;all&nbsp;ways&nbsp;of&nbsp;alleviating&nbsp;the&nbsp;crash,&nbsp;but&nbsp;none&nbsp;of&nbsp;them&nbsp;should&nbsp;be&nbsp;necessary.&lt;br&gt;<br>
&lt;br&gt;Cheers,&lt;br&gt;Jason&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Mon,&nbsp;Aug&nbsp;4,&nbsp;2008&nbsp;at&nbsp;2:51&nbsp;PM,&nbsp;Jason&nbsp;Carver&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:ynj0qeh02@sneakemail.com&quot;&gt;ynj0qeh02@sneakemail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Hi&nbsp;all,&lt;br&gt;&lt;br&gt;I&nbsp;am&nbsp;having&nbsp;the&nbsp;craziest&nbsp;error,&nbsp;confirmed&nbsp;on&nbsp;both&nbsp;a<br>
LAMPython&nbsp;and&nbsp;WAMPython&nbsp;setup:&nbsp;exceptions&nbsp;in&nbsp;mod_python&nbsp;are&nbsp;causing<br>
Apache&nbsp;to&nbsp;crash&nbsp;hard.&amp;nbsp;&nbsp;Even&nbsp;stranger&nbsp;is&nbsp;that&nbsp;the&nbsp;exceptions&nbsp;have&nbsp;to<br>
meet&nbsp;a&nbsp;few&nbsp;specific&nbsp;conditions&nbsp;to&nbsp;cause&nbsp;Apache&nbsp;to&nbsp;crash.&lt;br&gt;<br>
&lt;br&gt;As&nbsp;best&nbsp;I&nbsp;can&nbsp;tell&nbsp;those&nbsp;conditions&nbsp;include:&lt;br&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;raising&nbsp;an&nbsp;exception&nbsp;(this&nbsp;problem&nbsp;always&nbsp;goes&nbsp;away&nbsp;if&nbsp;the&nbsp;exception&nbsp;is&nbsp;commented&nbsp;out)&lt;/li&gt;&lt;li&gt;having<br>
the&nbsp;exception&nbsp;be&nbsp;inside&nbsp;an&nbsp;if-block&nbsp;that&nbsp;tests&nbsp;a&nbsp;dictionary&nbsp;(the<br>
problem&nbsp;goes&nbsp;away&nbsp;if&nbsp;I&nbsp;do&nbsp;something&nbsp;like&nbsp;&amp;quot;&amp;quot;&amp;quot;if&nbsp;&amp;#39;hello&amp;#39;&nbsp;==&nbsp;&amp;#39;hello&amp;#39;:<br>
raise&nbsp;Exception(&amp;#39;goodbye&amp;#39;)&amp;quot;&amp;quot;&amp;quot;)&lt;/li&gt;&lt;li&gt;catching&nbsp;the&nbsp;exception&nbsp;and&nbsp;logging&nbsp;it&nbsp;using&nbsp;the&nbsp;python&nbsp;built-in<br>
logging.exception(e)&nbsp;(the&nbsp;problem&nbsp;goes&nbsp;away&nbsp;if&nbsp;I&nbsp;comment&nbsp;out&nbsp;the&nbsp;logger)&lt;/li&gt;&lt;/ul&gt;Apache&nbsp;does&nbsp;not&nbsp;write&nbsp;anything&nbsp;to&nbsp;its&nbsp;error.log,&nbsp;so&nbsp;it&nbsp;was&nbsp;a&nbsp;bit&nbsp;of&nbsp;an&nbsp;adventure&nbsp;to&nbsp;discover&nbsp;all&nbsp;these&nbsp;elements.&lt;br&gt;<br>
&lt;br&gt;Any&nbsp;ideas?&lt;br&gt;&lt;br&gt;Cheers,&lt;br&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;Jason&lt;/font&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
