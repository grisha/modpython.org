<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;TRANSITIONAL//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&nbsp;&nbsp;&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;CHARSET=UTF-8&quot;&gt;<br>
&nbsp;&nbsp;&lt;META&nbsp;NAME=&quot;GENERATOR&quot;&nbsp;CONTENT=&quot;GtkHTML/3.2.4&quot;&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
Thank&nbsp;you&nbsp;all&nbsp;for&nbsp;the&nbsp;advices,&nbsp;I'm&nbsp;going&nbsp;to&nbsp;try&nbsp;it&nbsp;tomorrow.&nbsp;At&nbsp;least&nbsp;it&nbsp;gives&nbsp;me&nbsp;something&nbsp;to&nbsp;try&nbsp;out,&nbsp;and&nbsp;a&nbsp;bit&nbsp;better&nbsp;understanding&nbsp;of&nbsp;the&nbsp;process.&nbsp;Unfortunately&nbsp;the&nbsp;documentation&nbsp;is&nbsp;pretty&nbsp;sparse&nbsp;there.&lt;BR&gt;<br>
Some&nbsp;more&nbsp;comments&nbsp;below&nbsp;on&nbsp;why&nbsp;reading&nbsp;a&nbsp;separate&nbsp;cookie:&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BLOCKQUOTE&nbsp;TYPE=CITE&gt;<br>
&lt;PRE&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;call&nbsp;sess.save()&nbsp;before&nbsp;the&nbsp;end&nbsp;of&nbsp;your&nbsp;request&nbsp;as&nbsp;saving&nbsp;is&nbsp;not&nbsp;&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;automatic.&nbsp;The&nbsp;other&nbsp;way&nbsp;you&nbsp;may&nbsp;get&nbsp;a&nbsp;new&nbsp;session&nbsp;for&nbsp;each&nbsp;request&nbsp;is&nbsp;&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;if&nbsp;you&nbsp;start&nbsp;writing&nbsp;the&nbsp;response&nbsp;before&nbsp;the&nbsp;session&nbsp;is&nbsp;created.&nbsp;The&nbsp;&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;session&nbsp;must&nbsp;be&nbsp;able&nbsp;to&nbsp;set&nbsp;a&nbsp;cookie&nbsp;in&nbsp;the&nbsp;response&nbsp;sent&nbsp;to&nbsp;the&nbsp;&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;browser,&nbsp;and&nbsp;this&nbsp;is&nbsp;not&nbsp;possible&nbsp;if&nbsp;you've&nbsp;already&nbsp;started&nbsp;to&nbsp;send&nbsp;your&nbsp;&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;reply.&lt;/FONT&gt;<br>
&lt;/PRE&gt;<br>
&lt;/BLOCKQUOTE&gt;<br>
&lt;BR&gt;<br>
So&nbsp;I&nbsp;should&nbsp;call&nbsp;sess.save()&nbsp;before&nbsp;doing&nbsp;any&nbsp;psp&nbsp;run()&nbsp;or&nbsp;req.write(),&nbsp;right?&nbsp;That&nbsp;is&nbsp;now&nbsp;not&nbsp;the&nbsp;case&nbsp;(I&nbsp;do&nbsp;the&nbsp;save&nbsp;at&nbsp;the&nbsp;very&nbsp;end&nbsp;of&nbsp;the&nbsp;routine&nbsp;-&nbsp;after&nbsp;sending&nbsp;the&nbsp;page).&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BLOCKQUOTE&nbsp;TYPE=CITE&gt;<br>
&lt;PRE&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;I'm&nbsp;a&nbsp;little&nbsp;unclear&nbsp;why&nbsp;you&nbsp;are&nbsp;reading&nbsp;and&nbsp;writing&nbsp;the&nbsp;cookies,&nbsp;&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;assuming&nbsp;you&nbsp;mean&nbsp;the&nbsp;session&nbsp;cookie.&nbsp;&lt;/FONT&gt;<br>
&lt;/PRE&gt;<br>
&lt;/BLOCKQUOTE&gt;<br>
&lt;BR&gt;<br>
I&nbsp;think&nbsp;of&nbsp;using&nbsp;a&nbsp;separate&nbsp;cookie&nbsp;for&nbsp;persistent&nbsp;information&nbsp;(currently&nbsp;set&nbsp;to&nbsp;90&nbsp;day&nbsp;expiry)&nbsp;against&nbsp;session&nbsp;which&nbsp;includes&nbsp;login&nbsp;info&nbsp;and&nbsp;is&nbsp;to&nbsp;keep&nbsp;the&nbsp;user&nbsp;logged&nbsp;with&nbsp;a&nbsp;timeout&nbsp;of&nbsp;say&nbsp;30&nbsp;minutes.&nbsp;At&nbsp;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;session&nbsp;(new&nbsp;session)&nbsp;I&nbsp;want&nbsp;to&nbsp;read&nbsp;that&nbsp;persistent&nbsp;information&nbsp;to&nbsp;provide&nbsp;a&nbsp;somewhat&nbsp;personalised&nbsp;site.&nbsp;Currently&nbsp;that&nbsp;is&nbsp;only&nbsp;the&nbsp;language&nbsp;and&nbsp;the&nbsp;username&nbsp;if&nbsp;known,&nbsp;though&nbsp;in&nbsp;future&nbsp;that&nbsp;may&nbsp;be&nbsp;more.&lt;BR&gt;<br>
&lt;BR&gt;<br>
Wouter.<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;<br>

</tt>
