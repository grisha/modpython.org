<tt>
&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN&quot;&gt;<br>
&lt;html&gt;<br>
&lt;head&gt;<br>
&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;charset=ISO-8859-1&quot;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;bgcolor=&quot;#ffffff&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
Dear&nbsp;mod_python&nbsp;developper,&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;nbsp;I&nbsp;just&nbsp;want&nbsp;notify&nbsp;you&nbsp;a&nbsp;small&nbsp;mistakes&nbsp;the&nbsp;Cookie&nbsp;module<br>
documentation.&lt;br&gt;<br>
The&nbsp;sample&nbsp;section&nbsp;use&nbsp;the&nbsp;get_cookie&nbsp;api&nbsp;instead&nbsp;of&nbsp;the&nbsp;get_cookies<br>
one.&lt;br&gt;<br>
In&nbsp;consequence&nbsp;the&nbsp;following&nbsp;section:&lt;br&gt;<br>
&lt;blockquote&gt;&lt;tt&gt;from&nbsp;mod_python&nbsp;import&nbsp;apache,&nbsp;Cookie&lt;/tt&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;blockquote&gt;&lt;tt&gt;def&nbsp;handler(req):&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;cookies&nbsp;=&nbsp;Cookie.get_cookie(req,&nbsp;Cookie.MarshalCookie,&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;secret='secret007')&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;cookies.has_key('spam'):&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;spamcookie&nbsp;=&nbsp;cookies['spam']&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.write('Great,&nbsp;a&nbsp;spam&nbsp;cookie&nbsp;was&nbsp;found:&nbsp;%s\n'&nbsp;\&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;%&nbsp;str(spamcookie))&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;type(spamcookie)&nbsp;is&nbsp;Cookie.MarshalCookie:&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.write('Here&nbsp;is&nbsp;what&nbsp;it&nbsp;looks&nbsp;like&nbsp;decoded:<br>
%s=%s\n'&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;%&nbsp;(spamcookie.name,&nbsp;spamcookie.value))&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;else:&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.write('WARNING:&nbsp;The&nbsp;cookie&nbsp;found&nbsp;is&nbsp;not&nbsp;a&nbsp;\&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;MarshalCookie,&nbsp;it&nbsp;may&nbsp;have&nbsp;been&nbsp;tapered<br>
with!')&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;else:&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;#&nbsp;MarshaCookie&nbsp;allows&nbsp;value&nbsp;to&nbsp;be&nbsp;any&nbsp;marshallable&nbsp;object&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;value&nbsp;=&nbsp;{'egg_count':&nbsp;32,&nbsp;'color':&nbsp;'white'}&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Cookie.add_cookie(req,&nbsp;Cookie.MarshalCookie('spam',<br>
value,&nbsp;\&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;'secret007'))&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.write('Spam&nbsp;cookie&nbsp;not&nbsp;found,&nbsp;but&nbsp;we&nbsp;just&nbsp;set&nbsp;one!\n')&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;apache.OK&lt;/tt&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
should&nbsp;be&nbsp;rewritten:&lt;br&gt;<br>
&lt;blockquote&gt;&lt;tt&gt;from&nbsp;mod_python&nbsp;import&nbsp;apache,&nbsp;Cookie&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;def&nbsp;handler(req):&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;cookies&nbsp;=&nbsp;Cookie.get_cookie&lt;font&nbsp;color=&quot;#ff0000&quot;&gt;&lt;b&gt;s&lt;/b&gt;&lt;/font&gt;(req,<br>
Cookie.MarshalCookie,&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;secret='secret007')&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;cookies.has_key('spam'):&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;spamcookie&nbsp;=&nbsp;cookies['spam']&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.write('Great,&nbsp;a&nbsp;spam&nbsp;cookie&nbsp;was&nbsp;found:&nbsp;%s\n'&nbsp;\&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;%&nbsp;str(spamcookie))&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;type(spamcookie)&nbsp;is&nbsp;Cookie.MarshalCookie:&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.write('Here&nbsp;is&nbsp;what&nbsp;it&nbsp;looks&nbsp;like&nbsp;decoded:<br>
%s=%s\n'&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;%&nbsp;(spamcookie.name,&nbsp;spamcookie.value))&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;else:&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.write('WARNING:&nbsp;The&nbsp;cookie&nbsp;found&nbsp;is&nbsp;not&nbsp;a&nbsp;\&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;MarshalCookie,&nbsp;it&nbsp;may&nbsp;have&nbsp;been&nbsp;tapered<br>
with!')&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;else:&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;#&nbsp;MarshaCookie&nbsp;allows&nbsp;value&nbsp;to&nbsp;be&nbsp;any&nbsp;marshallable&nbsp;object&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;value&nbsp;=&nbsp;{'egg_count':&nbsp;32,&nbsp;'color':&nbsp;'white'}&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Cookie.add_cookie(req,&nbsp;Cookie.MarshalCookie('spam',<br>
value,&nbsp;\&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;'secret007'))&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.write('Spam&nbsp;cookie&nbsp;not&nbsp;found,&nbsp;but&nbsp;we&nbsp;just&nbsp;set&nbsp;one!\n')&lt;/tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;apache.OK&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/tt&gt;&lt;/blockquote&gt;<br>
Thanks&nbsp;for&nbsp;your&nbsp;nice&nbsp;module,&lt;br&gt;<br>
Vivian.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
