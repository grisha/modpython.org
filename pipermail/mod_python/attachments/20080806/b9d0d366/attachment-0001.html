<tt>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&lt;TITLE&gt;ValueError:&nbsp;Failed&nbsp;to&nbsp;acquire&nbsp;global&nbsp;mutex&nbsp;lock&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;FONT&nbsp;FACE=&quot;Calibri,&nbsp;Verdana,&nbsp;Helvetica,&nbsp;Arial&quot;&gt;&lt;SPAN&nbsp;STYLE='font-size:11pt'&gt;I&nbsp;apologize&nbsp;by&nbsp;resurrecting&nbsp;this&nbsp;email&nbsp;thread,&nbsp;but&nbsp;I&nbsp;thought&nbsp;I&nbsp;would&nbsp;post&nbsp;the&nbsp;&amp;#8220;what&nbsp;worked&nbsp;for&nbsp;me&amp;#8221;&nbsp;solution&nbsp;in&nbsp;case&nbsp;someone&nbsp;else&nbsp;ever&nbsp;come&nbsp;across&nbsp;it.&lt;BR&gt;<br>
&lt;BR&gt;<br>
For&nbsp;a&nbsp;quick&nbsp;history:&nbsp;when&nbsp;Mike&nbsp;Robokoff&nbsp;worked&nbsp;on&nbsp;this&nbsp;issue&nbsp;back&nbsp;in&nbsp;October&nbsp;(we&nbsp;both&nbsp;worked&nbsp;together&nbsp;at&nbsp;the&nbsp;same&nbsp;company),&nbsp;we&nbsp;were&nbsp;able&nbsp;to&nbsp;work&nbsp;around&nbsp;it&nbsp;by&nbsp;making&nbsp;changes&nbsp;to&nbsp;our&nbsp;python&nbsp;scripts&nbsp;to&nbsp;minimize&nbsp;the&nbsp;time&nbsp;spent&nbsp;holding&nbsp;a&nbsp;lock&nbsp;to&nbsp;the&nbsp;Session.dbm&nbsp;file.&nbsp;This&nbsp;seemed&nbsp;to&nbsp;work&nbsp;fine&nbsp;for&nbsp;a&nbsp;while.&nbsp;However,&nbsp;as&nbsp;our&nbsp;user&nbsp;load&nbsp;level&nbsp;increased,&nbsp;this&nbsp;problem&nbsp;started&nbsp;manifesting&nbsp;itself&nbsp;again.&nbsp;I&nbsp;dedicated&nbsp;myself&nbsp;to&nbsp;this&nbsp;issue&nbsp;during&nbsp;this&nbsp;past&nbsp;week&nbsp;and&nbsp;finally&nbsp;was&nbsp;able&nbsp;to&nbsp;narrow&nbsp;it&nbsp;down&nbsp;to&nbsp;the&nbsp;fix&nbsp;that&nbsp;solve&nbsp;it...&nbsp;Hopefully&nbsp;once&nbsp;and&nbsp;for&nbsp;all.&lt;BR&gt;<br>
&lt;BR&gt;<br>
Here&nbsp;is&nbsp;my&nbsp;analysis&nbsp;of&nbsp;this&nbsp;issue;&nbsp;please&nbsp;correct&nbsp;me&nbsp;if&nbsp;you&nbsp;think&nbsp;something&nbsp;doesn&amp;#8217;t&nbsp;sound&nbsp;right:&lt;BR&gt;<br>
&lt;BR&gt;<br>
The&nbsp;root&nbsp;cause&nbsp;of&nbsp;this&nbsp;problem&nbsp;was&nbsp;the&nbsp;use&nbsp;of&nbsp;a&nbsp;bad&nbsp;mutex&nbsp;implementation&nbsp;by&nbsp;mod_python&nbsp;in&nbsp;Solaris.&lt;BR&gt;<br>
&lt;BR&gt;<br>
Mod_python&nbsp;relies&nbsp;on&nbsp;operating&nbsp;system&nbsp;mutexes&nbsp;to&nbsp;lock&nbsp;file&nbsp;system&nbsp;resources;&nbsp;these&nbsp;mutexes&nbsp;are&nbsp;provided&nbsp;by&nbsp;the&nbsp;APR&nbsp;library&nbsp;(Apache&nbsp;Portable&nbsp;Runtime)&nbsp;by&nbsp;invocation&nbsp;of&nbsp;the&nbsp;following&nbsp;method&nbsp;from&nbsp;mod_python.c:&lt;BR&gt;<br>
&lt;BR&gt;<br>
&amp;nbsp;apr_global_mutex_create(&amp;amp;mutex[n],&nbsp;fname,&nbsp;APR_LOCK_DEFAULT,&nbsp;p);&lt;BR&gt;<br>
&lt;BR&gt;<br>
The&nbsp;above&nbsp;call&nbsp;defaults&nbsp;to&nbsp;use&nbsp;the&nbsp;operating&nbsp;system&nbsp;default&nbsp;mutex&nbsp;implementation&nbsp;(fcntl)&nbsp;which,&nbsp;in&nbsp;my&nbsp;opinion,&nbsp;does&nbsp;not&nbsp;work&nbsp;properly&nbsp;in&nbsp;an&nbsp;Apache&nbsp;worker&nbsp;MPM&nbsp;model&nbsp;under&nbsp;any&nbsp;type&nbsp;of&nbsp;load.&lt;BR&gt;<br>
&lt;BR&gt;<br>
by&nbsp;modifying&nbsp;the&nbsp;above&nbsp;call&nbsp;to:&lt;BR&gt;<br>
&lt;BR&gt;<br>
apr_global_mutex_create(&amp;amp;mutex[n],&nbsp;fname,&nbsp;&amp;nbsp;APR_LOCK_POSIXSEM,&nbsp;p);&lt;BR&gt;<br>
&lt;BR&gt;<br>
which&nbsp;forces&nbsp;the&nbsp;use&nbsp;of&nbsp;the&nbsp;POSIX&nbsp;semaphores&nbsp;implementation&nbsp;of&nbsp;mutexes&nbsp;by&nbsp;mod_python,&nbsp;the&nbsp;problem&nbsp;was&nbsp;minimized&nbsp;to&nbsp;a&nbsp;just&nbsp;a&nbsp;few&nbsp;instances&nbsp;of&nbsp;the&nbsp;&amp;quot;mutex&amp;quot;&nbsp;error&nbsp;under&nbsp;a&nbsp;moderate&nbsp;load:&nbsp;400&nbsp;concurrent&nbsp;threads.&lt;BR&gt;<br>
&lt;BR&gt;<br>
The&nbsp;final&nbsp;change&nbsp;to&nbsp;make&nbsp;the&nbsp;problem&nbsp;go&nbsp;away&nbsp;completely&nbsp;was&nbsp;to&nbsp;modify&nbsp;the&nbsp;AcceptMutex&nbsp;and&nbsp;SSLMutex&nbsp;properties&nbsp;in&nbsp;the&nbsp;httpd.conf&nbsp;file&nbsp;to&nbsp;&amp;quot;posixsem&amp;quot;.&nbsp;This,&nbsp;together&nbsp;with&nbsp;the&nbsp;mod_python&nbsp;changed,&nbsp;made&nbsp;the&nbsp;&amp;quot;mutex&amp;quot;&nbsp;error&nbsp;go&nbsp;away&nbsp;even&nbsp;for&nbsp;6400&nbsp;concurrent&nbsp;threads.&lt;BR&gt;<br>
&lt;BR&gt;<br>
I&nbsp;still&nbsp;ignore&nbsp;why&nbsp;the&nbsp;changes&nbsp;to&nbsp;AcceptMutex&nbsp;and&nbsp;SSLMutex&nbsp;are&nbsp;required&nbsp;since&nbsp;our&nbsp;Apache&nbsp;installs&nbsp;were&nbsp;compiled&nbsp;with&nbsp;the&nbsp;&amp;quot;--enable-nonportable-atomics&amp;quot;&nbsp;which,&nbsp;according&nbsp;to&nbsp;the&nbsp;Apache&nbsp;documentation&nbsp;(&nbsp;&lt;a&nbsp;href=&quot;http://httpd.apache.org/docs/2.2/misc/perf-tuning.html#compiletime&quot;&gt;http://httpd.apache.org/docs/2.2/misc/perf-tuning.html#compiletime&lt;/a&gt;):&lt;BR&gt;<br>
&lt;BR&gt;<br>
&amp;quot;Solaris&nbsp;on&nbsp;SPARC&lt;BR&gt;<br>
By&nbsp;default,&nbsp;APR&nbsp;uses&nbsp;mutex-based&nbsp;atomics&nbsp;on&nbsp;Solaris/SPARC.&nbsp;If&nbsp;you&nbsp;configure&nbsp;with&nbsp;--enable-nonportable-atomics,&nbsp;however,&nbsp;APR&nbsp;generates&nbsp;code&nbsp;that&nbsp;uses&nbsp;a&nbsp;SPARC&nbsp;v8plus&nbsp;opcode&nbsp;for&nbsp;fast&nbsp;hardware&nbsp;compare-and-swap.&nbsp;If&nbsp;you&nbsp;configure&nbsp;Apache&nbsp;with&nbsp;this&nbsp;option,&nbsp;the&nbsp;atomic&nbsp;operations&nbsp;will&nbsp;be&nbsp;more&nbsp;efficient&nbsp;(allowing&nbsp;for&nbsp;lower&nbsp;CPU&nbsp;utilization&nbsp;and&nbsp;higher&nbsp;concurrency),&nbsp;but&nbsp;the&nbsp;resulting&nbsp;executable&nbsp;will&nbsp;run&nbsp;only&nbsp;on&nbsp;UltraSPARC&nbsp;chips.&nbsp;&amp;quot;&lt;BR&gt;<br>
&lt;BR&gt;<br>
Maybe,&nbsp;even&nbsp;though&nbsp;we&nbsp;compile&nbsp;with&nbsp;that&nbsp;option,&nbsp;something&nbsp;in&nbsp;the&nbsp;OS,&nbsp;Apache&nbsp;or&nbsp;APR,&nbsp;still&nbsp;doesn't&nbsp;allow&nbsp;us&nbsp;to&nbsp;take&nbsp;advantage&nbsp;of&nbsp;atomic&nbsp;operations.&nbsp;This&nbsp;is&nbsp;pure&nbsp;speculation.&lt;BR&gt;<br>
&lt;BR&gt;<br>
This&nbsp;is&nbsp;the&nbsp;email&nbsp;thread&nbsp;that&nbsp;pointed&nbsp;me&nbsp;to&nbsp;the&nbsp;right&nbsp;direction:&nbsp;&lt;a&nbsp;href=&quot;http://www.modpython.org/pipermail/mod_python/2006-November/022538.html&quot;&gt;http://www.modpython.org/pipermail/mod_python/2006-November/022538.html&lt;/a&gt;&lt;BR&gt;<br>
I&amp;#8217;m&nbsp;not&nbsp;using&nbsp;the&nbsp;ITK&nbsp;MPM,&nbsp;just&nbsp;straight&nbsp;worker&nbsp;MPM,&nbsp;but&nbsp;that&nbsp;change&nbsp;made&nbsp;the&nbsp;trick&nbsp;for&nbsp;me.&lt;BR&gt;<br>
&lt;BR&gt;<br>
Regards,&lt;BR&gt;<br>
&lt;BR&gt;<br>
David.&lt;BR&gt;<br>
&lt;BR&gt;<br>
--------------&nbsp;Last&nbsp;message&nbsp;in&nbsp;email&nbsp;thread&nbsp;---------------------------&lt;BR&gt;<br>
&lt;BR&gt;<br>
[mod_python]&nbsp;ValueError:&nbsp;Failed&nbsp;to&nbsp;acquire&nbsp;global&nbsp;mutex&nbsp;lock&lt;BR&gt;<br>
Graham&nbsp;Dumpleton&nbsp;graham.dumpleton&nbsp;at&nbsp;gmail.com&lt;BR&gt;<br>
Wed&nbsp;Oct&nbsp;24&nbsp;23:04:05&nbsp;EDT&nbsp;2007&lt;BR&gt;<br>
&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&nbsp;Previous&nbsp;message:&nbsp;[mod_python]&nbsp;Problems&nbsp;with&nbsp;Apache&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&nbsp;Next&nbsp;message:&nbsp;[mod_python]&nbsp;Multiple&nbsp;Django&nbsp;Applications&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&nbsp;Messages&nbsp;sorted&nbsp;by:&nbsp;[&nbsp;date&nbsp;]&nbsp;[&nbsp;thread&nbsp;]&nbsp;[&nbsp;subject&nbsp;]&nbsp;[&nbsp;author&nbsp;]&lt;BR&gt;<br>
&lt;BR&gt;<br>
Going&nbsp;by&nbsp;errors&nbsp;posted&nbsp;by&nbsp;someone&nbsp;else&nbsp;for&nbsp;other&nbsp;thread,&nbsp;seems&nbsp;that&nbsp;if&lt;BR&gt;<br>
semaphores&nbsp;exhausted,&nbsp;error&nbsp;would&nbsp;occur&nbsp;at&nbsp;mod_python&nbsp;startup&nbsp;not&nbsp;when&lt;BR&gt;<br>
locking&nbsp;the&nbsp;mutex.&lt;BR&gt;<br>
&lt;BR&gt;<br>
I'll&nbsp;have&nbsp;to&nbsp;go&nbsp;back&nbsp;and&nbsp;read&nbsp;all&nbsp;your&nbsp;emails&nbsp;again.&nbsp;You&nbsp;said&nbsp;you&nbsp;were&lt;BR&gt;<br>
using&nbsp;'worker'&nbsp;MPM&nbsp;now&nbsp;didn't&nbsp;you.&nbsp;Your&nbsp;not&nbsp;using&nbsp;some&nbsp;strange&nbsp;MPM&lt;BR&gt;<br>
like&nbsp;perchild&nbsp;or&nbsp;ITK-MPM&nbsp;are&nbsp;you.&nbsp;I&nbsp;know&nbsp;that&nbsp;these&nbsp;cause&nbsp;problems&nbsp;for&lt;BR&gt;<br>
these&nbsp;mutexes&nbsp;in&nbsp;mod_python&nbsp;because&nbsp;of&nbsp;how&nbsp;different&nbsp;processes&nbsp;wanting&lt;BR&gt;<br>
to&nbsp;lock&nbsp;the&nbsp;mutex&nbsp;run&nbsp;as&nbsp;different&nbsp;users.&lt;BR&gt;<br>
&lt;BR&gt;<br>
Graham&lt;BR&gt;<br>
&lt;BR&gt;<br>
On&nbsp;24/10/2007,&nbsp;Michael&nbsp;Robokoff&nbsp;&amp;lt;mike.robokoff&nbsp;at&nbsp;apioutsourcing.com&amp;gt;&nbsp;wrote:&lt;BR&gt;<br>
&amp;gt;&nbsp;#&nbsp;ipcs&lt;BR&gt;<br>
&amp;gt;&nbsp;IPC&nbsp;status&nbsp;from&nbsp;&amp;lt;running&nbsp;system&amp;gt;&nbsp;as&nbsp;of&nbsp;Wed&nbsp;Oct&nbsp;24&nbsp;06:25:17&nbsp;CDT&nbsp;2007&lt;BR&gt;<br>
&amp;gt;&nbsp;T&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ID&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;KEY&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;MODE&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;OWNER&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;GROUP&lt;BR&gt;<br>
&amp;gt;&nbsp;Message&nbsp;Queues:&lt;BR&gt;<br>
&amp;gt;&nbsp;Shared&nbsp;Memory:&lt;BR&gt;<br>
&amp;gt;&nbsp;Semaphores:&lt;BR&gt;<br>
&amp;gt;&nbsp;s&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2&nbsp;&amp;nbsp;&amp;nbsp;0&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;--ra-------&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;api&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;other&lt;BR&gt;<br>
&amp;gt;&lt;BR&gt;<br>
&amp;gt;&nbsp;Not&nbsp;sure&nbsp;how&nbsp;to&nbsp;read&nbsp;that.&lt;BR&gt;<br>
&amp;gt;&lt;BR&gt;<br>
&amp;gt;&nbsp;If&nbsp;the&nbsp;problem&nbsp;is&nbsp;the&nbsp;semaphores,&nbsp;Shouldn't&nbsp;I&nbsp;be&nbsp;able&nbsp;to&nbsp;use&nbsp;the&nbsp;following&lt;BR&gt;<br>
&amp;gt;&nbsp;set&nbsp;semsys:seminfo_semmni=2048&lt;BR&gt;<br>
&amp;gt;&nbsp;set&nbsp;semsys:seminfo_semmns=2048&lt;BR&gt;<br>
&amp;gt;&nbsp;set&nbsp;semsys:seminfo_semmnu=1024&lt;BR&gt;<br>
&amp;gt;&nbsp;set&nbsp;semsys:seminfo_semmsl=300&lt;BR&gt;<br>
&amp;gt;&nbsp;set&nbsp;semsys:seminfo_semopm=128&lt;BR&gt;<br>
&amp;gt;&nbsp;set&nbsp;semsys:seminfo_semume=64&lt;BR&gt;<br>
&amp;gt;&lt;BR&gt;<br>
&amp;gt;&nbsp;to&nbsp;make&nbsp;more&nbsp;semaphores&nbsp;available?&lt;BR&gt;<br>
&amp;gt;&lt;BR&gt;<br>
&amp;gt;&nbsp;I&nbsp;tried&nbsp;that&nbsp;but&nbsp;it&nbsp;didn't&nbsp;change&nbsp;anything,&nbsp;do&nbsp;you&nbsp;think&nbsp;that&nbsp;was&nbsp;not&lt;BR&gt;<br>
&amp;gt;&nbsp;enough?&lt;BR&gt;<br>
&amp;gt;&lt;BR&gt;<br>
&amp;gt;&lt;BR&gt;<br>
&amp;gt;&nbsp;--Mike&lt;BR&gt;<br>
&amp;gt;&lt;BR&gt;<br>
&amp;gt;&lt;BR&gt;<br>
&amp;gt;&nbsp;-----Original&nbsp;Message-----&lt;BR&gt;<br>
&amp;gt;&nbsp;From:&nbsp;Graham&nbsp;Dumpleton&nbsp;[&lt;a&nbsp;href=&quot;mailto:graham.dumpleton&quot;&gt;mailto:graham.dumpleton&lt;/a&gt;&nbsp;at&nbsp;gmail.com]&lt;BR&gt;<br>
&amp;gt;&nbsp;Sent:&nbsp;Tuesday,&nbsp;October&nbsp;23,&nbsp;2007&nbsp;7:08&nbsp;PM&lt;BR&gt;<br>
&amp;gt;&nbsp;To:&nbsp;Michael&nbsp;Robokoff&lt;BR&gt;<br>
&amp;gt;&nbsp;Cc:&nbsp;mod_python&lt;BR&gt;<br>
&amp;gt;&nbsp;Subject:&nbsp;Re:&nbsp;[mod_python]&nbsp;ValueError:&nbsp;Failed&nbsp;to&nbsp;acquire&nbsp;global&nbsp;mutex&nbsp;lock&lt;BR&gt;<br>
&amp;gt;&lt;BR&gt;<br>
&amp;gt;&nbsp;If&nbsp;you&nbsp;run&nbsp;'ipcs'&nbsp;what&nbsp;is&nbsp;the&nbsp;output?&nbsp;Something&nbsp;must&nbsp;be&nbsp;using&nbsp;all&nbsp;the&lt;BR&gt;<br>
&amp;gt;&nbsp;semaphores,&nbsp;can't&nbsp;be&nbsp;anything&nbsp;else.&lt;BR&gt;<br>
&amp;gt;&lt;BR&gt;<br>
&amp;gt;&nbsp;Graham&lt;BR&gt;<br>
&amp;gt;&lt;BR&gt;<br>
&amp;gt;&nbsp;On&nbsp;24/10/2007,&nbsp;Michael&nbsp;Robokoff&nbsp;&amp;lt;mike.robokoff&nbsp;at&nbsp;apioutsourcing.com&amp;gt;&nbsp;wrote:&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;Ok&nbsp;the&nbsp;directive&nbsp;did&nbsp;take&nbsp;effect&nbsp;as&nbsp;the&nbsp;log&nbsp;entry&nbsp;below&nbsp;shows:&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;[Tue&nbsp;Oct&nbsp;23&nbsp;07:20:32&nbsp;2007]&nbsp;[notice]&nbsp;mod_python:&nbsp;Creating&nbsp;4&nbsp;session&nbsp;mutexes&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;based&nbsp;on&nbsp;6&nbsp;max&nbsp;processes&nbsp;and&nbsp;25&nbsp;max&nbsp;threads.&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;[Tue&nbsp;Oct&nbsp;23&nbsp;07:20:32&nbsp;2007]&nbsp;[notice]&nbsp;mod_python:&nbsp;using&nbsp;mutex_directory&nbsp;/tmp&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;Still&nbsp;see&nbsp;this&nbsp;however:&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;ValueError:&nbsp;Failed&nbsp;to&nbsp;acquire&nbsp;global&nbsp;mutex&nbsp;lock&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;I&nbsp;will&nbsp;try&nbsp;recompiling&nbsp;with&nbsp;the&nbsp;option&nbsp;you&nbsp;mentioned&nbsp;and&nbsp;see&nbsp;what&nbsp;happens.&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;--Mike&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;-----Original&nbsp;Message-----&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;From:&nbsp;Graham&nbsp;Dumpleton&nbsp;[&lt;a&nbsp;href=&quot;mailto:graham.dumpleton&quot;&gt;mailto:graham.dumpleton&lt;/a&gt;&nbsp;at&nbsp;gmail.com]&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;Sent:&nbsp;Tuesday,&nbsp;October&nbsp;23,&nbsp;2007&nbsp;6:40&nbsp;AM&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;To:&nbsp;Michael&nbsp;Robokoff&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;Cc:&nbsp;mod_python&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;Subject:&nbsp;Re:&nbsp;[mod_python]&nbsp;ValueError:&nbsp;Failed&nbsp;to&nbsp;acquire&nbsp;global&nbsp;mutex&nbsp;lock&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;On&nbsp;23/10/2007,&nbsp;Michael&nbsp;Robokoff&nbsp;&amp;lt;mike.robokoff&nbsp;at&nbsp;apioutsourcing.com&amp;gt;&nbsp;wrote:&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;gt;&nbsp;[Thu&nbsp;Oct&nbsp;18&nbsp;07:37:38&nbsp;2007]&nbsp;[notice]&nbsp;mod_python:&nbsp;Creating&nbsp;8&nbsp;session&lt;BR&gt;<br>
&amp;gt;&nbsp;mutexes&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;gt;&nbsp;based&nbsp;on&nbsp;6&nbsp;max&nbsp;processes&nbsp;and&nbsp;25&nbsp;max&nbsp;threads.&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;BTW,&nbsp;what&nbsp;did&nbsp;you&nbsp;end&nbsp;up&nbsp;setting&nbsp;mod_python.mutex_locks&nbsp;to?&nbsp;If&nbsp;you&nbsp;use&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;4&nbsp;like&nbsp;I&nbsp;said,&nbsp;then&nbsp;it&nbsp;can't&nbsp;have&nbsp;been&nbsp;in&nbsp;correct&nbsp;part&nbsp;of&nbsp;Apache&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;configuration,&nbsp;outside&nbsp;of&nbsp;all&nbsp;VirtualHost,&nbsp;as&nbsp;error&nbsp;log&nbsp;still&nbsp;shows&nbsp;'8&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;session&nbsp;mutexes'.&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;if&nbsp;you&nbsp;can't&nbsp;get&nbsp;this&nbsp;to&nbsp;work,&nbsp;you&nbsp;might&nbsp;rebuild&nbsp;mod_python&nbsp;and&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;specific&nbsp;--with-max-locks=4&nbsp;option&nbsp;to&nbsp;configure&nbsp;to&nbsp;force&nbsp;lower&nbsp;value&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;to&nbsp;be&nbsp;compiled&nbsp;in.&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;Graham&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;<br>
&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;<br>
&amp;gt;&lt;BR&gt;<br>
&amp;gt;&lt;BR&gt;<br>
&amp;gt;&lt;/SPAN&gt;&lt;/FONT&gt;<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;<br>
<br>

</tt>
