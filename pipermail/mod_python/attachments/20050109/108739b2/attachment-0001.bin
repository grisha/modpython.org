I would assume that you can just say session.unlock() before you
redirect.


I haven't used PSP though, so you'll just have to try it.


On Jan 9, 2005, at 2:44 PM, Feghhi, Jalil wrote:


<excerpt><fontfamily><param>Verdana</param><color><param>8080,0000,8080</param><smaller>Scott,</smaller></color></fontfamily>

 

<fontfamily><param>Verdana</param><color><param>8080,0000,8080</param><smaller>How
do I do it from psp code? In my psp code, I have simply added the
global variable 'session' and I think mod-python just creates the
session that way. Any way I can control it from psp?</smaller></color></fontfamily>

 

<fontfamily><param>Verdana</param><color><param>8080,0000,8080</param><smaller>-Jalil</smaller></color></fontfamily>



<bold><fontfamily><param>Tahoma</param><smaller>From:</smaller></fontfamily></bold><fontfamily><param>Tahoma</param><smaller>
Scott Sanders [mailto:sanders@apache.org]</smaller></fontfamily>

<fontfamily><param>Tahoma</param><smaller> <bold>Sent:</bold> Sunday,
January 09, 2005 2:10 PM</smaller></fontfamily>

<bold><fontfamily><param>Tahoma</param><smaller>To:</smaller></fontfamily></bold><fontfamily><param>Tahoma</param><smaller>
Feghhi, Jalil</smaller></fontfamily>

<bold><fontfamily><param>Tahoma</param><smaller>Cc:</smaller></fontfamily></bold><fontfamily><param>Tahoma</param><smaller>
mod_python@modpython.org</smaller></fontfamily>

<bold><fontfamily><param>Tahoma</param><smaller>Subject:</smaller></fontfamily></bold><fontfamily><param>Tahoma</param><smaller>
Re: [mod_python] Issue w/ Internal Redirect and Sessions</smaller></fontfamily>



You need to unlock the session before doing an internal redirect. The
session only gets unlocked at the end of the request in which it is
created, which will not happen with an internal redirect, thus the
lockup.




 Scott




 On Jan 9, 2005, at 11:27 AM, Feghhi, Jalil wrote:






 <fontfamily><param>Verdana</param><smaller>I have noticed if I do an
internal redirect (using the internal_redirect method in request
object) from a psp page to another psp page, I get into a dead lock if
both pages have used the session object. When I remove it from one of
psp pages, everything works. It seems to me that this is because the
second page want to lock the session object and cannot. Is
that</smaller></fontfamily> 




<fontfamily><param>Verdana</param><smaller>Is this the way it is
supposed to be?</smaller></fontfamily> 




<fontfamily><param>Verdana</param><smaller>I am trying to send all my
requests to a dispacher.psp and then do an internal redirect but I
need the session objects in both my psp pages. What is the right way
to implement something like this?</smaller></fontfamily> 




<fontfamily><param>Verdana</param><smaller>Thanks,</smaller></fontfamily> 




<fontfamily><param>Verdana</param><smaller>-Jalil</smaller></fontfamily> 




_______________________________________________


 Mod_python mailing list


 Mod_python@modpython.org


 http://mailman.modpython.org/mailman/listinfo/mod_python

</excerpt>