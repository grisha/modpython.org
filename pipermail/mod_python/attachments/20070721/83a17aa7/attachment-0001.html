<tt>
&lt;div&gt;Hello,&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;I&nbsp;seeking&nbsp;an&nbsp;easiest&nbsp;way&nbsp;to&nbsp;install/configure/integrate&nbsp;mod_python&nbsp;with&nbsp;Apache.&nbsp;There&nbsp;is&nbsp;an&nbsp;Python-AddOns&amp;nbsp;for&nbsp;the&amp;nbsp;XAMPP&nbsp;package&nbsp;from&nbsp;&lt;a&nbsp;href=&quot;http://www.apachefriengs.org&quot;&gt;www.apachefriengs.org&lt;/a&gt;&nbsp;but&nbsp;there&nbsp;are&nbsp;no&nbsp;instructions&nbsp;on&nbsp;how&nbsp;to&nbsp;install&nbsp;it.&nbsp;<br>
&lt;a&nbsp;href=&quot;http://Apache.org&quot;&gt;Apache.org&lt;/a&gt;&nbsp;also&nbsp;have&nbsp;instructions&nbsp;to&nbsp;install&nbsp;this&nbsp;module&nbsp;by&nbsp;first&nbsp;compiling&nbsp;it.&nbsp;However,&nbsp;it&nbsp;is&nbsp;also&nbsp;complicated&nbsp;and&nbsp;gives&nbsp;error&nbsp;messages.&nbsp;Any&nbsp;help&nbsp;is&nbsp;greatly&nbsp;appreciated.&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;Thanks&amp;nbsp;&amp;nbsp;&lt;br&gt;&lt;br&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;7/20/07,&nbsp;&lt;b&nbsp;class=&quot;gmail_sendername&quot;&gt;Brad&nbsp;Anderson&lt;/b&gt;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:brad@sankatygroup.com&quot;&gt;brad@sankatygroup.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;/span&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;PADDING-LEFT:&nbsp;1ex;&nbsp;MARGIN:&nbsp;0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;&nbsp;BORDER-LEFT:&nbsp;#ccc&nbsp;1px&nbsp;solid&quot;&gt;Hi,&lt;br&gt;&lt;br&gt;I&amp;#39;m&nbsp;trying&nbsp;to&nbsp;tie&nbsp;into&nbsp;Django&amp;#39;s&nbsp;auth&nbsp;subsystem&nbsp;for&nbsp;http&nbsp;authn/authz&nbsp;in&lt;br&gt;front&nbsp;of&nbsp;Subversion,&nbsp;as&nbsp;seen&nbsp;here:<br>
&lt;br&gt;&lt;a&nbsp;href=&quot;http://www.djangoproject.com/documentation/apache_auth/&quot;&gt;http://www.djangoproject.com/documentation/apache_auth/&lt;/a&gt;&lt;br&gt;&lt;br&gt;So,&nbsp;my&nbsp;Apache&nbsp;2.0.59&nbsp;conf&nbsp;looks&nbsp;like&nbsp;this&nbsp;(with&nbsp;some&nbsp;mod_macro&nbsp;voodoo):&lt;br&gt;&lt;br&gt;#####################################################################<br>
&lt;br&gt;&lt;br&gt;&amp;lt;Macro&nbsp;ProjectClosed&nbsp;$PROJ&amp;gt;&lt;br&gt;&amp;lt;Location&nbsp;/projects/$PROJ&amp;gt;&lt;br&gt;DAV&nbsp;svn&lt;br&gt;SVNPath&nbsp;/var/svn/$PROJ&lt;br&gt;AuthType&nbsp;Basic&lt;br&gt;AuthName&nbsp;&amp;quot;dsource-$PROJ&amp;quot;&lt;br&gt;&lt;br&gt;SetEnv&nbsp;DJANGO_SETTINGS_MODULE&nbsp;dsource.settings<br>
&lt;br&gt;PythonOption&nbsp;DJANGO_SETTINGS_MODULE&nbsp;dsource.settings&lt;br&gt;PythonOption&nbsp;PROJECT&nbsp;$PROJ&lt;br&gt;PythonPath&nbsp;&amp;quot;[&amp;#39;/home/brad/dev/python&amp;#39;]&nbsp;+&nbsp;sys.path&amp;quot;&lt;br&gt;&lt;br&gt;PythonAuthenHandler&nbsp;dsource.web.modpython&lt;br&gt;AuthAuthoritative&nbsp;Off<br>
&lt;br&gt;Require&nbsp;dsource-group&nbsp;project_admin&nbsp;developer&lt;br&gt;#&amp;nbsp;&amp;nbsp;Require&nbsp;valid-user&lt;br&gt;&lt;br&gt;SetHandler&nbsp;None&lt;br&gt;&amp;lt;/Location&amp;gt;&lt;br&gt;&amp;lt;/Macro&amp;gt;&lt;br&gt;&lt;br&gt;#####################################################################&lt;br&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;br&gt;And&nbsp;the&nbsp;dsource.web.modpython&nbsp;handler&nbsp;function&nbsp;looks&nbsp;like&nbsp;this:&lt;br&gt;&lt;br&gt;#####################################################################&lt;br&gt;from&nbsp;mod_python&nbsp;import&nbsp;apache&lt;br&gt;import&nbsp;os&lt;br&gt;&lt;br&gt;def&nbsp;authenhandler(req,&nbsp;**kwargs):<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;quot;&amp;quot;&amp;quot;&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;Authentication&nbsp;handler&nbsp;that&nbsp;checks&nbsp;against&nbsp;Django&amp;#39;s&nbsp;auth&nbsp;database.&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;quot;&amp;quot;&amp;quot;&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;#&nbsp;mod_python&nbsp;fakes&nbsp;the&nbsp;environ,&nbsp;and&nbsp;thus&nbsp;doesn&amp;#39;t&nbsp;process&nbsp;SetEnv.&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;#&nbsp;This&nbsp;fixes&nbsp;that&nbsp;so&nbsp;that&nbsp;the&nbsp;following&nbsp;import&nbsp;works<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;os.environ.update(req.subprocess_env)&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;#&nbsp;check&nbsp;for&nbsp;PythonOptions&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;_str_to_bool&nbsp;=&nbsp;lambda&nbsp;s:&nbsp;s.lower()&nbsp;in&nbsp;(&amp;#39;1&amp;#39;,&nbsp;&amp;#39;true&amp;#39;,&nbsp;&amp;#39;on&amp;#39;,&nbsp;&amp;#39;yes&amp;#39;)&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;options&nbsp;=&nbsp;req.get_options()<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;permission_name&nbsp;=&nbsp;options.get(&amp;#39;DjangoPermissionName&amp;#39;,&nbsp;None)&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;staff_only&nbsp;=&nbsp;_str_to_bool(options.get(&amp;#39;DjangoRequireStaffStatus&amp;#39;,&nbsp;&amp;quot;on&amp;quot;))&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;superuser_only&nbsp;=&lt;br&gt;_str_to_bool(options.get<br>
(&amp;#39;DjangoRequireSuperuserStatus&amp;#39;,&nbsp;&amp;quot;off&amp;quot;))&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;settings_module&nbsp;=&nbsp;options.get(&amp;#39;DJANGO_SETTINGS_MODULE&amp;#39;,&nbsp;None)&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;settings_module:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;os.environ[&amp;#39;DJANGO_SETTINGS_MODULE&amp;#39;]&nbsp;=&nbsp;settings_module<br>
&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;from&nbsp;django.contrib.auth.models&nbsp;import&nbsp;User&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;from&nbsp;django&nbsp;import&nbsp;db&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;db.reset_queries()&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;username&nbsp;=&nbsp;req.user&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;password&nbsp;=&nbsp;req.get_basic_auth_pw()&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;requires&nbsp;=&nbsp;req.requires()&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;proj&nbsp;=&nbsp;options[&amp;#39;PROJECT&amp;#39;]<br>
&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;#&nbsp;check&nbsp;that&nbsp;the&nbsp;username&nbsp;is&nbsp;valid&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;kwargs&nbsp;=&nbsp;{&amp;#39;username&amp;#39;:&nbsp;username,&nbsp;&amp;#39;is_active&amp;#39;:&nbsp;True}&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;staff_only:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;kwargs[&amp;#39;is_staff&amp;#39;]&nbsp;=&nbsp;True&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;superuser_only:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;kwargs[&amp;#39;is_superuser&amp;#39;]&nbsp;=&nbsp;True<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;try:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;try:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;user&nbsp;=&nbsp;User.objects.get(**kwargs)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;except&nbsp;User.DoesNotExist:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;apache.HTTP_UNAUTHORIZED&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;#&nbsp;check&nbsp;the&nbsp;password&nbsp;and&nbsp;any&nbsp;permission&nbsp;given&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;<br>
user.check_password(password):&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;requires:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;#&nbsp;check&nbsp;dsource&nbsp;groups&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;required_groups&nbsp;=&nbsp;_get_required_groups(req,&nbsp;requires)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.log_error(&amp;quot;required_groups&nbsp;:&nbsp;%s&amp;quot;&nbsp;%&nbsp;required_groups)<br>
&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;required_groups:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;from&nbsp;tracdsource.perm&nbsp;import&nbsp;get_groups&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;user_groups&nbsp;=&nbsp;get_groups(username,&nbsp;proj,&nbsp;db.connection)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.log_error(&amp;quot;user_groups&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;:&nbsp;%s&amp;quot;&nbsp;%&nbsp;user_groups)<br>
&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;for&nbsp;group&nbsp;in&nbsp;required_groups:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;group&nbsp;in&nbsp;user_groups:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.log_error(&amp;quot;w00t&nbsp;-&nbsp;match&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;:&nbsp;%s&amp;quot;&nbsp;%&nbsp;group)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;<br>
apache.OK&amp;nbsp;&amp;nbsp;#&nbsp;WTF?&nbsp;working?&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;else:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.log_error(&amp;quot;no&nbsp;requires&amp;quot;)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;apache.OK&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;else:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;#&nbsp;password&nbsp;check&nbsp;failed&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;apache.HTTP_UNAUTHORIZED<br>
&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;finally:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;db.connection.close()&lt;br&gt;&lt;br&gt;&lt;br&gt;def&nbsp;_get_required_groups(req,&nbsp;requires):&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;groups&nbsp;=&nbsp;[]&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;group_token&nbsp;=&nbsp;&amp;#39;dsource-group&nbsp;&amp;#39;&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;for&nbsp;require&nbsp;in&nbsp;requires:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;require.startswith<br>
(group_token):&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;try:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;group_list&nbsp;=&nbsp;require[len(group_token):].split(&amp;#39;&nbsp;&amp;#39;)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;for&nbsp;group&nbsp;in&nbsp;group_list:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;groups.append(group)&lt;br&gt;#&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
req.log_error(&amp;quot;group:&nbsp;%s&amp;quot;&nbsp;%&nbsp;group)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;finally:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;pass&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;else:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;try:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;user_list&nbsp;=&nbsp;require.split(&amp;#39;&nbsp;&amp;#39;)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;for&nbsp;user&nbsp;in&nbsp;user_list:<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;user&nbsp;==&nbsp;&amp;quot;valid-user&amp;quot;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;groups.append(&amp;#39;registered_user&amp;#39;)&lt;br&gt;#&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;req.log_error(&amp;quot;group:&nbsp;%s&amp;quot;&nbsp;%&nbsp;group)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;finally:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;pass<br>
&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;groups&lt;br&gt;#####################################################################&lt;br&gt;&lt;br&gt;When&nbsp;I&nbsp;activate&nbsp;&amp;#39;Require&nbsp;valid-user&amp;#39;&nbsp;things&nbsp;are&nbsp;fine&nbsp;(in&nbsp;error_log):&lt;br&gt;&lt;br&gt;required_groups&nbsp;:&nbsp;[&amp;#39;registered_user&amp;#39;]<br>
&lt;br&gt;user_groups&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;:&nbsp;[&amp;#39;anonymous&amp;#39;,&nbsp;&amp;#39;registered_user&amp;#39;,&nbsp;&amp;#39;project_admin&amp;#39;]&lt;br&gt;w00t&nbsp;-&nbsp;match&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;:&nbsp;registered_user&lt;br&gt;&lt;br&gt;&lt;br&gt;But&nbsp;when&nbsp;I&nbsp;activate&nbsp;&amp;#39;Require&nbsp;dsource-group&nbsp;project_admin&nbsp;developer&amp;#39;&nbsp;I<br>
&lt;br&gt;get&nbsp;an&nbsp;error:&lt;br&gt;&lt;br&gt;required_groups&nbsp;:&nbsp;[&amp;#39;dsource&amp;#39;,&nbsp;&amp;#39;project_admin&amp;#39;,&nbsp;&amp;#39;developer&amp;#39;]&lt;br&gt;user_groups&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;:&nbsp;[&amp;#39;anonymous&amp;#39;,&nbsp;&amp;#39;registered_user&amp;#39;,&nbsp;&amp;#39;project_admin&amp;#39;]&lt;br&gt;w00t&nbsp;-&nbsp;match&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;:&nbsp;project_admin<br>
&lt;br&gt;configuration&nbsp;error:&amp;nbsp;&amp;nbsp;couldn&amp;#39;t&nbsp;check&nbsp;access.&amp;nbsp;&amp;nbsp;No&nbsp;groups&nbsp;file?:&lt;br&gt;/projects/test&lt;br&gt;&lt;br&gt;I&amp;#39;ve&nbsp;been&nbsp;looking&nbsp;at&lt;br&gt;&lt;a&nbsp;href=&quot;http://www.modpython.org/pipermail/mod_python/2006-April/020959.html&quot;&gt;http://www.modpython.org/pipermail/mod_python/2006-April/020959.html<br>
&lt;/a&gt;&nbsp;and&lt;br&gt;it&amp;#39;s&nbsp;caused&nbsp;me&nbsp;to&nbsp;add&nbsp;&amp;#39;AuthAuthoritative&nbsp;Off&amp;#39;&nbsp;to&nbsp;httpd.conf,&nbsp;but&nbsp;it&nbsp;says&lt;br&gt;&amp;#39;group&amp;#39;&nbsp;and&nbsp;&amp;#39;valid-user&amp;#39;&nbsp;are&nbsp;a&nbsp;no-no,&nbsp;but&nbsp;that&amp;#39;s&nbsp;all&nbsp;I&nbsp;can&nbsp;get&nbsp;to&nbsp;work.&lt;br&gt;Maybe&nbsp;this&nbsp;is&nbsp;an&nbsp;Apache&nbsp;2.2.4<br>
&nbsp;thing?&lt;br&gt;&lt;br&gt;Search&nbsp;for&nbsp;WTF?&nbsp;in&nbsp;the&nbsp;Python&nbsp;handler&nbsp;code&nbsp;-&nbsp;that&nbsp;return&nbsp;apache.OK&lt;br&gt;doesn&amp;#39;t&nbsp;seem&nbsp;to&nbsp;return&nbsp;200&nbsp;even&nbsp;though&nbsp;we&nbsp;found&nbsp;a&nbsp;match&nbsp;(in&nbsp;error_log).&lt;br&gt;It&amp;#39;s&nbsp;as&nbsp;if&nbsp;the&nbsp;handler&nbsp;function&nbsp;returns&nbsp;None&nbsp;or&nbsp;0.&lt;br&gt;<br>
&lt;br&gt;What&nbsp;bonehead&nbsp;thing&nbsp;am&nbsp;I&nbsp;doing?&lt;br&gt;&lt;br&gt;Thanks,&lt;br&gt;BA&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;_______________________________________________&lt;br&gt;Mod_python&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:Mod_python@modpython.org&quot;&gt;Mod_python@modpython.org<br>
&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://mailman.modpython.org/mailman/listinfo/mod_python&quot;&gt;http://mailman.modpython.org/mailman/listinfo/mod_python&lt;/a&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
