<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;Transitional//EN&quot;&gt;<br>
&lt;HTML&gt;&lt;HEAD&gt;<br>
&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;<br>
&lt;TITLE&gt;Message&lt;/TITLE&gt;<br>
<br>
&lt;META&nbsp;content=&quot;MSHTML&nbsp;6.00.2900.2523&quot;&nbsp;name=GENERATOR&gt;&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=812094103-08112004&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;Hello.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=812094103-08112004&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=812094103-08112004&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;This&nbsp;is&nbsp;extremely&nbsp;<br>
weird.&nbsp;All&nbsp;my&nbsp;select&nbsp;statements&nbsp;work&nbsp;perfectly&nbsp;fine&nbsp;using&nbsp;'userid',&nbsp;which&nbsp;is&nbsp;the&nbsp;<br>
value&nbsp;of&nbsp;a&nbsp;MarshalCookie&nbsp;decoded,&nbsp;as&nbsp;means&nbsp;to&nbsp;reference&nbsp;a&nbsp;specific&nbsp;row&nbsp;(entry)&nbsp;<br>
in&nbsp;the&nbsp;table.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=812094103-08112004&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;However,&nbsp;when&nbsp;using&nbsp;<br>
'UPDATE'&nbsp;and&nbsp;trying&nbsp;to&nbsp;use&nbsp;%s&nbsp;with&nbsp;the&nbsp;variable&nbsp;'userid',&nbsp;it&nbsp;just&nbsp;doesn't&nbsp;WORK!&nbsp;<br>
I&nbsp;have&nbsp;been&nbsp;spending&nbsp;hours&nbsp;on&nbsp;this&nbsp;tonight,&nbsp;so&nbsp;I&nbsp;finally&nbsp;decided&nbsp;to&nbsp;post&nbsp;on&nbsp;the&nbsp;<br>
mailing&nbsp;list&nbsp;with&nbsp;hopes&nbsp;someone&nbsp;would&nbsp;be&nbsp;able&nbsp;to&nbsp;help.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=812094103-08112004&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=812094103-08112004&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
cookie&nbsp;=&nbsp;Cookie.get_cookies(req,&nbsp;Cookie.MarshalCookie,&nbsp;<br>
secret='rob3')&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
if&nbsp;<br>
cookie.has_key('userid'):&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
uidcookie&nbsp;=&nbsp;<br>
cookie['userid']&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
userid&nbsp;=&nbsp;<br>
uidcookie.value&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
fs&nbsp;=&nbsp;<br>
util.FieldStorage(req)&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
name&nbsp;=&nbsp;<br>
fs.getfirst(&quot;name&quot;)&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
email&nbsp;=&nbsp;<br>
fs.getfirst(&quot;email&quot;)&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
db_connect.db_query_update(&quot;UPDATE&nbsp;users&nbsp;SET&nbsp;fname='%s',&nbsp;email='%s'&nbsp;WHERE&nbsp;id&nbsp;=&nbsp;<br>
'%s'&quot;&nbsp;%&nbsp;(name,&nbsp;email,&nbsp;id))&lt;BR&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=812094103-08112004&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;First&nbsp;I&nbsp;get&nbsp;the&nbsp;<br>
signed&nbsp;MarshalCookie.&nbsp;I&nbsp;assign&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;'userid'&nbsp;cookie&nbsp;to&nbsp;'userid'.&nbsp;<br>
Then&nbsp;I&nbsp;use&nbsp;fieldstorage&nbsp;to&nbsp;get&nbsp;the&nbsp;variables&nbsp;in&nbsp;POST,&nbsp;and&nbsp;I&nbsp;am&nbsp;simply&nbsp;trying&nbsp;to&nbsp;<br>
update&nbsp;the&nbsp;corresponding&nbsp;user's&nbsp;row&nbsp;with&nbsp;his&nbsp;updated&nbsp;information.&nbsp;(This&nbsp;is&nbsp;a&nbsp;<br>
profile/information&nbsp;page&nbsp;for&nbsp;my&nbsp;application)&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=812094103-08112004&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=812094103-08112004&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;db_query_update&nbsp;is&nbsp;a&nbsp;<br>
function&nbsp;in&nbsp;another&nbsp;module,&nbsp;db_connect,&nbsp;which&nbsp;I&nbsp;use&nbsp;to&nbsp;execute&nbsp;queries.&nbsp;It&nbsp;looks&nbsp;<br>
like&nbsp;this:&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=812094103-08112004&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=812094103-08112004&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;def&nbsp;<br>
db_query_update(query):&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;db&nbsp;=&nbsp;<br>
MySQLdb.connect(user='root',&nbsp;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;SPAN&nbsp;class=812094103-08112004&gt;&lt;FONT&nbsp;<br>
face=Arial&nbsp;size=2&gt;host='localhost',&nbsp;<br>
db='imagehost')&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;c&nbsp;=&nbsp;<br>
db.cursor()&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
c.execute(query)&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
c.close()&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
db.close()&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=812094103-08112004&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&amp;nbsp;&lt;/DIV&gt;&lt;/FONT&gt;&lt;/SPAN&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=812094103-08112004&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=812094103-08112004&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=812094103-08112004&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;It&nbsp;just&nbsp;won't&nbsp;<br>
execute&nbsp;the&nbsp;query&nbsp;properly!&nbsp;Strangely,&nbsp;select&nbsp;statements&nbsp;further&nbsp;down&nbsp;<br>
work&amp;nbsp;FINE,&nbsp;such&nbsp;as:&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=812094103-08112004&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=812094103-08112004&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;username&nbsp;=&nbsp;<br>
db_connect.db_query_select(&quot;SELECT&nbsp;username&nbsp;FROM&nbsp;users&nbsp;WHERE&nbsp;id&nbsp;=&nbsp;%s&quot;&nbsp;%&nbsp;<br>
userid)&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=812094103-08112004&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=812094103-08112004&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;db_query_select&nbsp;<br>
looks&nbsp;like:&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=812094103-08112004&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=812094103-08112004&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;def&nbsp;<br>
db_query_select(query):&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;db&nbsp;=&nbsp;<br>
MySQLdb.connect(user='root',&nbsp;passwd='tux5098nyu',&nbsp;host='localhost',&nbsp;<br>
db='imagehost')&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;c&nbsp;=&nbsp;<br>
db.cursor()&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
c.execute(query)&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;results&nbsp;=&nbsp;<br>
c.fetchone()&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
c.close()&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
db.close()&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;<br>
results[0]&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=812094103-08112004&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=812094103-08112004&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=812094103-08112004&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Oddly,&nbsp;If&nbsp;I&nbsp;manually&nbsp;<br>
put&nbsp;in&nbsp;an&nbsp;arbitrary&nbsp;existing&nbsp;value&nbsp;for&nbsp;id,&nbsp;such&nbsp;as&nbsp;26,&nbsp;it&nbsp;works&nbsp;perfectly&nbsp;<br>
fine...&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=812094103-08112004&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=812094103-08112004&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;You&nbsp;probably&nbsp;won't&nbsp;<br>
understand&nbsp;the&nbsp;context&nbsp;of&nbsp;my&nbsp;code,&nbsp;but&nbsp;here&nbsp;is&nbsp;the&nbsp;entire&nbsp;editprofile&nbsp;<br>
function:&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=812094103-08112004&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=812094103-08112004&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;def&nbsp;<br>
editprofile(req):&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;sess&nbsp;=&nbsp;<br>
Session.Session(req,&nbsp;<br>
secret='s3kr3t')&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
sess.load()&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;<br>
sess.is_new():&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
sess.delete()&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
util.redirect(req,&nbsp;'/login')&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;<br>
not&nbsp;req.method&nbsp;==&nbsp;<br>
&quot;POST&quot;:&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
userid&nbsp;=&nbsp;<br>
getIDCookie(req)&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
reload(profile)&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
reload(db_connect)&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
form&nbsp;=&nbsp;<br>
profile.FORM&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
username&nbsp;=&nbsp;db_connect.db_query_select(&quot;SELECT&nbsp;username&nbsp;FROM&nbsp;users&nbsp;WHERE&nbsp;id&nbsp;=&nbsp;%s&quot;&nbsp;<br>
%&nbsp;<br>
userid)&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
email&nbsp;=&nbsp;db_connect.db_query_select(&quot;SELECT&nbsp;email&nbsp;FROM&nbsp;users&nbsp;WHERE&nbsp;id&nbsp;=&nbsp;%s&quot;&nbsp;%&nbsp;<br>
userid)&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
password&nbsp;=&nbsp;db_connect.db_query_select(&quot;SELECT&nbsp;password&nbsp;FROM&nbsp;users&nbsp;WHERE&nbsp;id&nbsp;=&nbsp;%s&quot;&nbsp;<br>
%&nbsp;<br>
userid)&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
fname&nbsp;=&nbsp;db_connect.db_query_select(&quot;SELECT&nbsp;fname&nbsp;FROM&nbsp;users&nbsp;WHERE&nbsp;id&nbsp;=&nbsp;%s&quot;&nbsp;%&nbsp;<br>
userid)&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
premium_query&nbsp;=&nbsp;db_connect.db_query_select(&quot;SELECT&nbsp;premium&nbsp;FROM&nbsp;users&nbsp;WHERE&nbsp;id&nbsp;=&nbsp;<br>
%s&quot;&nbsp;%&nbsp;<br>
userid)&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
if&nbsp;premium_query&nbsp;==&nbsp;<br>
&quot;no&quot;:&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
premium&nbsp;=&nbsp;&quot;No.&nbsp;&amp;lt;a&nbsp;href='/premium'&amp;gt;Click&nbsp;here&amp;lt;/a&amp;gt;&nbsp;to&nbsp;become&nbsp;a&nbsp;premium&nbsp;<br>
member!&quot;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
else:&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
premium&nbsp;=&nbsp;<br>
&quot;Yes!&quot;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
msg&nbsp;=&nbsp;<br>
&quot;&quot;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
req.write(form&nbsp;%&nbsp;locals())&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
else:&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
reload(profile)&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
reload(db_connect)&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
cookie&nbsp;=&nbsp;Cookie.get_cookies(req,&nbsp;Cookie.MarshalCookie,&nbsp;<br>
secret='rob3')&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
if&nbsp;<br>
cookie.has_key('userid'):&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
uidcookie&nbsp;=&nbsp;<br>
cookie['userid']&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
userid&nbsp;=&nbsp;<br>
uidcookie.value&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
form&nbsp;=&nbsp;<br>
profile.FORM&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
fs&nbsp;=&nbsp;<br>
util.FieldStorage(req)&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
name&nbsp;=&nbsp;<br>
fs.getfirst(&quot;name&quot;)&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
email&nbsp;=&nbsp;<br>
fs.getfirst(&quot;email&quot;)&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
db_connect.db_query_update(&quot;UPDATE&nbsp;users&nbsp;SET&nbsp;fname='%s',&nbsp;email='%s'&nbsp;WHERE&nbsp;id&nbsp;=&nbsp;<br>
'%s'&quot;&nbsp;%&nbsp;(name,&nbsp;email,&nbsp;<br>
id))&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
#&nbsp;db_connect.db_query_update(&quot;INSERT&nbsp;INTO&nbsp;users&nbsp;(id,&nbsp;fname,&nbsp;email)&nbsp;VALUES&nbsp;(%s,&nbsp;<br>
'%s',&nbsp;'%s')&quot;&nbsp;%&nbsp;(userid,&nbsp;name,&nbsp;<br>
email))&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
form&nbsp;=&nbsp;<br>
profile.FORM&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
username&nbsp;=&nbsp;db_connect.db_query_select(&quot;SELECT&nbsp;username&nbsp;FROM&nbsp;users&nbsp;WHERE&nbsp;id&nbsp;=&nbsp;%s&quot;&nbsp;<br>
%&nbsp;<br>
userid)&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
email&nbsp;=&nbsp;db_connect.db_query_select(&quot;SELECT&nbsp;email&nbsp;FROM&nbsp;users&nbsp;WHERE&nbsp;id&nbsp;=&nbsp;%s&quot;&nbsp;%&nbsp;<br>
userid)&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
password&nbsp;=&nbsp;db_connect.db_query_select(&quot;SELECT&nbsp;password&nbsp;FROM&nbsp;users&nbsp;WHERE&nbsp;id&nbsp;=&nbsp;%s&quot;&nbsp;<br>
%&nbsp;<br>
userid)&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
fname&nbsp;=&nbsp;db_connect.db_query_select(&quot;SELECT&nbsp;fname&nbsp;FROM&nbsp;users&nbsp;WHERE&nbsp;id&nbsp;=&nbsp;%s&quot;&nbsp;%&nbsp;<br>
userid)&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
premium_query&nbsp;=&nbsp;db_connect.db_query_select(&quot;SELECT&nbsp;premium&nbsp;FROM&nbsp;users&nbsp;WHERE&nbsp;id&nbsp;=&nbsp;<br>
%s&quot;&nbsp;%&nbsp;<br>
userid)&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
if&nbsp;premium_query&nbsp;==&nbsp;<br>
&quot;no&quot;:&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
premium&nbsp;=&nbsp;&quot;No.&nbsp;&amp;lt;a&nbsp;href='/premium'&amp;gt;Click&nbsp;here&amp;lt;/a&amp;gt;&nbsp;to&nbsp;become&nbsp;a&nbsp;premium&nbsp;<br>
member!&quot;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
else:&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
premium&nbsp;=&nbsp;<br>
&quot;Yes!&quot;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
msg&nbsp;=&nbsp;&quot;&amp;lt;b&amp;gt;&amp;lt;center&amp;gt;Your&nbsp;information&nbsp;has&nbsp;been&nbsp;<br>
changed!&amp;lt;/center&amp;gt;&amp;lt;/b&amp;gt;&quot;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
req.write(form&nbsp;%&nbsp;locals())&lt;BR&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=812094103-08112004&gt;&lt;/SPAN&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;W&lt;SPAN&nbsp;<br>
class=812094103-08112004&gt;hat&nbsp;do&nbsp;you&nbsp;guys&nbsp;think?&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=812094103-08112004&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;class=812094103-08112004&gt;Thanks&nbsp;a&nbsp;lot&nbsp;in&nbsp;<br>
advance,&nbsp;this&nbsp;problem&nbsp;is&nbsp;really&nbsp;buggin'&nbsp;me!&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;BR&gt;&lt;/DIV&gt;&lt;/FONT&gt;&lt;/SPAN&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;class=Section1&gt;<br>
&lt;P&nbsp;class=MsoAutoSig&gt;Robert&nbsp;Geller&lt;/P&gt;<br>
&lt;P&nbsp;class=MsoAutoSig&gt;robert@worksofmagic.com&lt;?xml:namespace&nbsp;prefix&nbsp;=&nbsp;o&nbsp;ns&nbsp;=&nbsp;<br>
&quot;urn:schemas-microsoft-com:office:office&quot;&nbsp;/&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/P&gt;<br>
&lt;P&nbsp;class=MsoAutoSig&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/P&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;<br>

</tt>
