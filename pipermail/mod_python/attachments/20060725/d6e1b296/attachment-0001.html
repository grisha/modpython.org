<tt>
As&nbsp;an&nbsp;example&nbsp;in&nbsp;your&nbsp;context,&nbsp;imagine&nbsp;a&nbsp;stupid&nbsp;way&nbsp;of&nbsp;serving&nbsp;files&nbsp;(the&nbsp;code&nbsp;is&nbsp;obviously&nbsp;false&nbsp;but&nbsp;I&nbsp;just&nbsp;want&nbsp;to&nbsp;show&nbsp;you&nbsp;the&nbsp;problem)&nbsp;:&lt;br&gt;&lt;br&gt;def&nbsp;serve_file(req,filename):&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;i,&nbsp;o&nbsp;=&nbsp;os.popen(&amp;quot;sh&amp;quot;)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
i.write(&amp;quot;cat&nbsp;%s&amp;quot;%filename)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;i.close()&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.write(o.read())&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;o.close()&lt;br&gt;&lt;br&gt;then&nbsp;calling&nbsp;&lt;a&nbsp;href=&quot;http://myserver/stupid.py/serve_file?filename=foobar.txt&quot;&gt;http://myserver/stupid.py/serve_file?filename=foobar.txt<br>
&lt;/a&gt;&nbsp;would&nbsp;work&nbsp;correctly.&lt;br&gt;&lt;br&gt;Now&nbsp;if&nbsp;someone&nbsp;calls&nbsp;&lt;a&nbsp;href=&quot;http://myserver/stupid.py/serve_file?filename=foobar.txt%3Brm+-Rf+%2F&quot;&gt;http://myserver/stupid.py/serve_file?filename=foobar.txt%3Brm+-Rf+%2F&lt;/a&gt;&nbsp;,&nbsp;you've&nbsp;got&nbsp;a&nbsp;big&nbsp;problem&nbsp;because&nbsp;the&nbsp;command&nbsp;will&nbsp;be&nbsp;&amp;quot;cat&nbsp;<br>
foobar.txt;rm&nbsp;-Rf&nbsp;/&amp;quot;,&nbsp;displaying&nbsp;the&nbsp;content&nbsp;of&nbsp;foobar.txt&nbsp;THEN&nbsp;erasing&nbsp;all&nbsp;your&nbsp;server's&nbsp;main&nbsp;partition...&lt;br&gt;&lt;br&gt;Therefore,&nbsp;you&nbsp;must&nbsp;transform&nbsp;the&nbsp;input&nbsp;string,&nbsp;escaping&nbsp;it&nbsp;to&nbsp;make&nbsp;sure&nbsp;that&nbsp;this&nbsp;cannot&nbsp;happen.&nbsp;It&nbsp;turns&nbsp;out&nbsp;doing&nbsp;it&nbsp;properly&nbsp;and&nbsp;securely&nbsp;is&nbsp;quite&nbsp;difficult,&nbsp;so&nbsp;you'd&nbsp;better&nbsp;find&nbsp;another&nbsp;way&nbsp;of&nbsp;doing&nbsp;what&nbsp;you&nbsp;need.&nbsp;For&nbsp;example,&nbsp;SQL&nbsp;injection&nbsp;is&nbsp;most&nbsp;easily&nbsp;fought&nbsp;by&nbsp;using&nbsp;prepared&nbsp;statement&nbsp;with&nbsp;placeholders.&nbsp;As&nbsp;for&nbsp;your&nbsp;problem,&nbsp;well,&nbsp;it&nbsp;depends&nbsp;on&nbsp;what&nbsp;you&nbsp;want&nbsp;to&nbsp;do.<br>
&lt;br&gt;&lt;br&gt;Regards,&lt;br&gt;Nicolas&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;2006/7/25,&nbsp;Nicolas&nbsp;Lehuen&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:nicolas@lehuen.com&quot;&gt;nicolas@lehuen.com&lt;/a&gt;&amp;gt;:&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;div&gt;The&nbsp;problem&nbsp;is&nbsp;not&nbsp;related&nbsp;to&nbsp;the&nbsp;choice&nbsp;of&nbsp;technology.&nbsp;It&nbsp;is&nbsp;about&nbsp;accepting&nbsp;data&nbsp;from&nbsp;the&nbsp;web&nbsp;and&nbsp;using&nbsp;it&nbsp;in&nbsp;an&nbsp;executable&nbsp;context.&lt;br&gt;&lt;br&gt;If&nbsp;the&nbsp;command&nbsp;you&nbsp;pass&nbsp;are&nbsp;built&nbsp;from&nbsp;data&nbsp;sent&nbsp;over&nbsp;the&nbsp;web,&nbsp;there&nbsp;is&nbsp;a&nbsp;chance&nbsp;that&nbsp;some&nbsp;malicious&nbsp;data&nbsp;can&nbsp;execute&nbsp;dangerous&nbsp;code.&nbsp;Therefore,&nbsp;you&nbsp;have&nbsp;to&nbsp;make&nbsp;sure&nbsp;that&nbsp;any&nbsp;data&nbsp;sent&nbsp;over&nbsp;the&nbsp;web&nbsp;(in&nbsp;forms&nbsp;or&nbsp;query&nbsp;parameters)&nbsp;is&nbsp;properly&nbsp;escaped&nbsp;when&nbsp;included&nbsp;in&nbsp;executable&nbsp;code&nbsp;(command&nbsp;line&nbsp;parameters,&nbsp;SQL&nbsp;requests,&nbsp;etc.).<br>
&lt;br&gt;&lt;br&gt;For&nbsp;more&nbsp;information,&nbsp;see&nbsp;the&nbsp;classical&nbsp;&amp;quot;SQL&nbsp;Injection&amp;quot;&nbsp;problem.&lt;br&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://en.wikipedia.org/wiki/SQL_injection&quot;&nbsp;target=&quot;_blank&quot;&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&gt;http://en.wikipedia.org/wiki/SQL_injection<br>
&lt;/a&gt;&lt;br&gt;&lt;br&gt;Regards,&lt;br&gt;Nicolas&lt;br&gt;&lt;br&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;2006/7/25,&nbsp;Richard&nbsp;Lewis&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:richardlewis@fastmail.co.uk&quot;&nbsp;target=&quot;_blank&quot;&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&gt;richardlewis@fastmail.co.uk&lt;/a&gt;&amp;gt;:&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;e&quot;&nbsp;id=&quot;q_10ca540aeddf10f6_1&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Hi&nbsp;there,&lt;br&gt;&lt;br&gt;Just&nbsp;investigating&nbsp;some&nbsp;possible&nbsp;implementation&nbsp;methods.&lt;br&gt;&lt;br&gt;Does&nbsp;it&nbsp;pose&nbsp;a&nbsp;security&nbsp;risk&nbsp;in&nbsp;mod_python&nbsp;to&nbsp;do&nbsp;this&nbsp;sort&nbsp;of&nbsp;thing:&lt;br&gt;&lt;br&gt;def&nbsp;handler(req):&lt;br&gt;&amp;nbsp;&amp;nbsp;#&nbsp;code&nbsp;is&nbsp;from&nbsp;memory&nbsp;so&nbsp;may&nbsp;not&nbsp;be&nbsp;correct<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;#&nbsp;but&nbsp;its&nbsp;the&nbsp;idea&nbsp;thats&nbsp;important&nbsp;;-)&lt;br&gt;&amp;nbsp;&amp;nbsp;i,&nbsp;o&nbsp;=&nbsp;os.popen2(&amp;quot;cmd&amp;quot;)&lt;br&gt;&amp;nbsp;&amp;nbsp;i.write(&amp;quot;some&nbsp;data&amp;quot;)&lt;br&gt;&amp;nbsp;&amp;nbsp;i.close()&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;req.write(o.read())&lt;br&gt;&amp;nbsp;&amp;nbsp;o.close()&lt;br&gt;&lt;br&gt;I&nbsp;don't&nbsp;really&nbsp;understand&nbsp;it&nbsp;properly,&nbsp;but&nbsp;I've&nbsp;read&nbsp;before&nbsp;now&nbsp;that&nbsp;using<br>
&lt;br&gt;pipes&nbsp;to&nbsp;execute&nbsp;shell&nbsp;commands&nbsp;from&nbsp;CGI&nbsp;scripts&nbsp;can&nbsp;be&nbsp;insecure.&nbsp;Does&nbsp;the&lt;br&gt;same&nbsp;apply&nbsp;with&nbsp;Apache&nbsp;modules&nbsp;like&nbsp;mod_python?&lt;br&gt;&lt;br&gt;Cheers,&lt;br&gt;Richard&lt;br&gt;--&lt;br&gt;-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-&lt;br&gt;Richard&nbsp;Lewis&lt;br&gt;Sonic&nbsp;Arts&nbsp;Research&nbsp;Archive<br>
&lt;br&gt;&lt;a&nbsp;href=&quot;http://www.sara.uea.ac.uk/&quot;&nbsp;target=&quot;_blank&quot;&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&gt;http://www.sara.uea.ac.uk/&lt;/a&gt;&lt;br&gt;JID:&nbsp;&lt;a&nbsp;href=&quot;mailto:ironchicken@jabber.earth.li&quot;&nbsp;target=&quot;_blank&quot;&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&gt;<br>
ironchicken@jabber.earth.li&lt;/a&gt;&lt;br&gt;-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-&lt;br&gt;_______________________________________________<br>
&lt;br&gt;Mod_python&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:Mod_python@modpython.org&quot;&nbsp;target=&quot;_blank&quot;&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&gt;Mod_python@modpython.org&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://mailman.modpython.org/mailman/listinfo/mod_python&quot;&nbsp;target=&quot;_blank&quot;&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&gt;<br>
http://mailman.modpython.org/mailman/listinfo/mod_python<br>
&lt;/a&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;br&gt;<br>
<br>
&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
