<tt>
Hi&nbsp;Nicolas,&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;have&nbsp;been&nbsp;doing&nbsp;some&nbsp;experimenting.&nbsp;Like&nbsp;you&nbsp;said&nbsp;I&nbsp;just&nbsp;called<br>
urllib2.urlopen.&nbsp;Still&nbsp;this&nbsp;is&nbsp;way&nbsp;too&nbsp;slow.&nbsp;To&nbsp;get&nbsp;the&nbsp;response&nbsp;it<br>
takes&nbsp;about&nbsp;40&nbsp;milliseconds.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;then&nbsp;ran&nbsp;a&nbsp;little&nbsp;Python&nbsp;script&nbsp;that&nbsp;calls&nbsp;the&nbsp;same&nbsp;page,&nbsp;using&nbsp;the<br>
method.&nbsp;I&nbsp;started&nbsp;this&nbsp;script&nbsp;on&nbsp;the&nbsp;command&nbsp;line.&nbsp;When&nbsp;I&nbsp;call&nbsp;that<br>
page&nbsp;it&nbsp;takes&nbsp;about&nbsp;21&nbsp;milliseconds.&nbsp;About&nbsp;twice&nbsp;as&nbsp;fast.&lt;br&gt;<br>
&lt;br&gt;<br>
When&nbsp;I&nbsp;run&nbsp;Siege&nbsp;against&nbsp;page&nbsp;A&nbsp;it&nbsp;reaches&nbsp;about&nbsp;42&nbsp;transactions/sec,&nbsp;so&nbsp;about&nbsp;20&nbsp;milliseconds&nbsp;per&nbsp;request.&lt;br&gt;<br>
&lt;br&gt;<br>
Then&nbsp;I&nbsp;build&nbsp;a&nbsp;page&nbsp;that&nbsp;uses&nbsp;Sarissa&nbsp;and&nbsp;and&nbsp;the&nbsp;httprequest&nbsp;object.<br>
So,&nbsp;first&nbsp;the&nbsp;HTML&nbsp;page&nbsp;gets&nbsp;loaded.&nbsp;On&nbsp;that&nbsp;page&nbsp;is&nbsp;a&nbsp;button&nbsp;which<br>
fires&nbsp;a&nbsp;javascript.&nbsp;That&nbsp;script&nbsp;loads&nbsp;the&nbsp;same&nbsp;page&nbsp;A.&nbsp;It&nbsp;then&nbsp;loads&nbsp;an<br>
xslt&nbsp;file&nbsp;and&nbsp;then&nbsp;does&nbsp;a&nbsp;conversion.&nbsp;Despite&nbsp;the&nbsp;conversion&nbsp;this&nbsp;takes<br>
less&nbsp;than&nbsp;4(!)&nbsp;milliseconds.&lt;br&gt;<br>
&lt;br&gt;<br>
Conclusion:&nbsp;hmmm,&nbsp;difficult.&nbsp;Seems&nbsp;that&nbsp;urllib2.urlopen&nbsp;isn't&nbsp;that&nbsp;slow<br>
after&nbsp;all.&nbsp;Still&nbsp;it&nbsp;looks&nbsp;like&nbsp;it&nbsp;is&nbsp;twice&nbsp;as&nbsp;slow&nbsp;called&nbsp;from&nbsp;within<br>
mod_python&nbsp;compared&nbsp;to&nbsp;when&nbsp;you&nbsp;fetch&nbsp;that&nbsp;same&nbsp;page&nbsp;via&nbsp;Python&nbsp;in&nbsp;a<br>
terminal&nbsp;window.&nbsp;What&nbsp;does&nbsp;surprise&nbsp;me&nbsp;is&nbsp;how&nbsp;quick&nbsp;the&nbsp;client&nbsp;side<br>
javascript&nbsp;code&nbsp;is.&nbsp;It&nbsp;could&nbsp;be&nbsp;that&nbsp;my&nbsp;time&nbsp;measurement&nbsp;there&nbsp;isn't<br>
that&nbsp;accurate.&nbsp;But,&nbsp;it&nbsp;also&nbsp;&amp;quot;feels&amp;quot;&nbsp;very&nbsp;quick.&nbsp;Perhaps&nbsp;this&nbsp;has<br>
something&nbsp;to&nbsp;do&nbsp;with&nbsp;the&nbsp;browser&nbsp;(Firefox)&nbsp;keeping&nbsp;connections&nbsp;open&nbsp;to<br>
the&nbsp;webserver.&lt;br&gt;&lt;br&gt;<br>
Hmmm,&nbsp;I&nbsp;have&nbsp;to&nbsp;rethink&nbsp;what&nbsp;I&nbsp;am&nbsp;trying&nbsp;to&nbsp;accomplish&nbsp;here...&nbsp;I&nbsp;will&nbsp;have&nbsp;to&nbsp;do&nbsp;some&nbsp;more&nbsp;experimenting.&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks&nbsp;very&nbsp;much&nbsp;for&nbsp;your&nbsp;help!&lt;br&gt;<br>
&lt;br&gt;<br>
Berry.&lt;br&gt;<br>
&lt;br&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;5/31/05,&nbsp;&lt;b&nbsp;class=&quot;gmail_sendername&quot;&gt;Nicolas&nbsp;Lehuen&lt;/b&gt;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:nicolas.lehuen@gmail.com&quot;&gt;nicolas.lehuen@gmail.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Hi&nbsp;Berry,&lt;br&gt;&lt;br&gt;First&nbsp;check&nbsp;whether&nbsp;this&nbsp;is&nbsp;really&nbsp;due&nbsp;to&nbsp;the&nbsp;way&nbsp;you&nbsp;call&nbsp;your&nbsp;page.&lt;br&gt;Don't&nbsp;parse&nbsp;the&nbsp;page,&nbsp;just&nbsp;call&nbsp;urllib2.urlopen&nbsp;and&nbsp;see&nbsp;what&nbsp;happens.&lt;br&gt;&lt;br&gt;Regards,&lt;br&gt;Nicolas&lt;br&gt;&lt;br&gt;2005/5/30,&nbsp;berry&nbsp;groenendijk&nbsp;&amp;lt;<br>
&lt;a&nbsp;href=&quot;mailto:berry.groenendijk@gmail.com&quot;&gt;berry.groenendijk@gmail.com&lt;/a&gt;&amp;gt;:&lt;br&gt;&amp;gt;&nbsp;Hi!&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;Strictly&nbsp;speaking&nbsp;this&nbsp;is&nbsp;not&nbsp;a&nbsp;mod_python&nbsp;question.&nbsp;Please&nbsp;accept&nbsp;my&lt;br&gt;&amp;gt;&nbsp;apologies.&nbsp;Still&nbsp;I&nbsp;hope&nbsp;somebody&nbsp;can&nbsp;give&nbsp;me&nbsp;some&nbsp;hints.<br>
&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;I&nbsp;am&nbsp;using&nbsp;mod_python&nbsp;3.1.3&nbsp;with&nbsp;mod_python&nbsp;servlets.&nbsp;I&nbsp;am&nbsp;experimenting&lt;br&gt;&amp;gt;&nbsp;with&nbsp;a&nbsp;REST-style&nbsp;interface&nbsp;to&nbsp;my&nbsp;website.&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;This&nbsp;is&nbsp;the&nbsp;situation.&nbsp;Page&nbsp;A&nbsp;in&nbsp;my&nbsp;website&nbsp;returns&nbsp;a&nbsp;RSS&nbsp;XML&nbsp;file.&nbsp;I&nbsp;want<br>
&lt;br&gt;&amp;gt;&nbsp;to&nbsp;use&nbsp;this&nbsp;output&nbsp;on&nbsp;page&nbsp;B&nbsp;in&nbsp;the&nbsp;same&nbsp;website.&nbsp;To&nbsp;present&nbsp;page&nbsp;B&nbsp;to&nbsp;the&lt;br&gt;&amp;gt;&nbsp;user&nbsp;I&nbsp;do&nbsp;a&nbsp;little&nbsp;server&nbsp;side&nbsp;conversion&nbsp;to&nbsp;HTML.&nbsp;The&nbsp;problem&nbsp;is:&nbsp;this&nbsp;is&lt;br&gt;&amp;gt;&nbsp;very&nbsp;slow!&nbsp;My&nbsp;guess&nbsp;is&nbsp;that&nbsp;it&nbsp;has&nbsp;to&nbsp;do&nbsp;with&nbsp;the&nbsp;way&nbsp;I&nbsp;call&nbsp;page&nbsp;A.<br>
&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;Here&nbsp;is&nbsp;part&nbsp;of&nbsp;the&nbsp;code&nbsp;of&nbsp;page&nbsp;B:&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;import&nbsp;os&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;import&nbsp;urllib&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;from&nbsp;cElementTree&nbsp;import&nbsp;iterparse&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;import&nbsp;_SitePage&nbsp;as&nbsp;sitepage&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;import&nbsp;_Config&nbsp;as&nbsp;config<br>
&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;class&nbsp;keywordshtml2(sitepage.SitePage):&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;def&nbsp;write_content(self):&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;url_keywords&nbsp;=&nbsp;&amp;quot;http://%s/keywords&amp;quot;&nbsp;%&nbsp;self.req.hostname&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;self.writeln<br>
('&amp;lt;h1&amp;gt;List&nbsp;of&nbsp;articles&nbsp;by&nbsp;keyword&amp;lt;/h1&amp;gt;')&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;self.writeln(&amp;quot;&amp;lt;p&amp;gt;Available&nbsp;keywords:&amp;quot;)&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;for&nbsp;event,&nbsp;elem&nbsp;in&nbsp;iterparse(urllib.urlopen(url_keywords)):&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&nbsp;<br>
elem.tag&nbsp;==&nbsp;&amp;quot;item&amp;quot;:&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;self.writeln(&amp;quot;&amp;lt;a<br>
href='#%(x)s'&amp;gt;%(x)s&amp;lt;/a&amp;gt;,&nbsp;&amp;quot;&nbsp;%&nbsp;({'x':&lt;br&gt;&amp;gt;&nbsp;elem.findtext(&amp;quot;title&amp;quot;)}))&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;elem.clear()&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;self.writeln(&amp;quot;&amp;lt;/p&amp;gt;&amp;quot;)&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;Is&nbsp;there&nbsp;a&nbsp;better&nbsp;way&nbsp;to&nbsp;call&nbsp;page&nbsp;A&nbsp;from&nbsp;within&nbsp;page&nbsp;B?<br>
&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;--&lt;br&gt;&amp;gt;&nbsp;Berry&nbsp;Groenendijk&lt;br&gt;&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;http://www.bersie.de&quot;&gt;http://www.bersie.de&lt;/a&gt;&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;_______________________________________________&lt;br&gt;&amp;gt;&nbsp;Mod_python&nbsp;mailing&nbsp;list&lt;br&gt;&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:Mod_python@modpython.org&quot;&gt;<br>
Mod_python@modpython.org&lt;/a&gt;&lt;br&gt;&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;http://mailman.modpython.org/mailman/listinfo/mod_python&quot;&gt;http://mailman.modpython.org/mailman/listinfo/mod_python&lt;/a&gt;&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;<br>
--&nbsp;&lt;br&gt;Berry&nbsp;Groenendijk&lt;br&gt;&lt;a&nbsp;href=&quot;http://www.bersie.de&quot;&gt;http://www.bersie.de&lt;/a&gt;&lt;br&gt;Skype:&nbsp;berryg<br>

</tt>
