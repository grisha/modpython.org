<tt>
Graham,&lt;br&gt;<br>
&lt;br&gt;<br>
Mr&nbsp;Gator&nbsp;Aide&nbsp;had&nbsp;the&nbsp;same&nbsp;problem&nbsp;with&nbsp;mod_python&nbsp;3.1.4,&nbsp;though&nbsp;the<br>
message&nbsp;was&nbsp;a&nbsp;bit&nbsp;different.&nbsp;The&nbsp;point&nbsp;is&nbsp;that&nbsp;he&nbsp;is&nbsp;trying&nbsp;to&nbsp;store<br>
too&nbsp;much&nbsp;in&nbsp;the&nbsp;session&nbsp;and&nbsp;that&nbsp;he&nbsp;should&nbsp;work&nbsp;around&nbsp;that.&nbsp;The&nbsp;new<br>
import&nbsp;mechanism&nbsp;may&nbsp;make&nbsp;things&nbsp;a&nbsp;little&nbsp;more&nbsp;difficult,&nbsp;but&nbsp;the&nbsp;core<br>
problem&nbsp;is&nbsp;in&nbsp;the&nbsp;way&nbsp;he&nbsp;uses&nbsp;sessions,&nbsp;not&nbsp;in&nbsp;mod_python.&lt;br&gt;<br>
&lt;br&gt;<br>
Regards,&lt;br&gt;<br>
Nicolas&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;2005/10/4,&nbsp;Graham&nbsp;Dumpleton&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:grahamd@dscpl.com.au&quot;&gt;grahamd@dscpl.com.au&lt;/a&gt;&amp;gt;:&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
<br>
GATOR&nbsp;AIDE&nbsp;wrote&nbsp;..&lt;br&gt;&amp;gt;&nbsp;After&nbsp;updating&nbsp;mod_python&nbsp;3.1.4&nbsp;to&nbsp;3.2.2b&nbsp;I&nbsp;am&nbsp;getting&lt;br&gt;&amp;gt;&nbsp;an&nbsp;error:&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;PythonHandler&nbsp;mod_python.publisher:&nbsp;TypeError:&nbsp;can't&lt;br&gt;&amp;gt;&nbsp;pickle&nbsp;function&nbsp;objects&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;I&nbsp;am&nbsp;storing&nbsp;a&nbsp;function&nbsp;in&nbsp;the&nbsp;session&nbsp;and&nbsp;calling<br>
&lt;br&gt;&amp;gt;&nbsp;session.save().&nbsp;(Which&nbsp;is&nbsp;when&nbsp;the&nbsp;error&nbsp;is&nbsp;raised.)&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;Using&nbsp;mod_python&nbsp;3.1.4&nbsp;the&nbsp;code&nbsp;works&nbsp;just&nbsp;fine&nbsp;but&lt;br&gt;&amp;gt;&nbsp;after&nbsp;the&nbsp;update&nbsp;I&nbsp;am&nbsp;now&nbsp;seeing&nbsp;this&nbsp;error.&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;The&nbsp;code&nbsp;simply&nbsp;stores&nbsp;a&nbsp;dictionary&nbsp;and&nbsp;few&nbsp;function<br>
&lt;br&gt;&amp;gt;&nbsp;callbacks&nbsp;in&nbsp;the&nbsp;session&nbsp;and&nbsp;loops&nbsp;through&nbsp;several&lt;br&gt;&amp;gt;&nbsp;functions&nbsp;until&nbsp;it&nbsp;is&nbsp;done&nbsp;processing.&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;Not&nbsp;sure&nbsp;if&nbsp;anyone&nbsp;else&nbsp;has&nbsp;had&nbsp;this&nbsp;problem?&nbsp;I&lt;br&gt;&amp;gt;&nbsp;running&nbsp;centos&nbsp;2.4.21-27.0.4.ELsmp&nbsp;on&nbsp;a&nbsp;x86_64<br>
&lt;br&gt;&amp;gt;&nbsp;platform.&nbsp;Python&nbsp;2.4.2&nbsp;(same&nbsp;error&nbsp;w/2.4.1).&nbsp;Apache&lt;br&gt;&amp;gt;&nbsp;2.0.46.&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;I&nbsp;wasn't&nbsp;sure&nbsp;if&nbsp;this&nbsp;is&nbsp;the&nbsp;right&nbsp;place&nbsp;to&nbsp;post&nbsp;this,&lt;br&gt;&amp;gt;&nbsp;so&nbsp;I&nbsp;apologize&nbsp;if&nbsp;I&nbsp;should&nbsp;have&nbsp;posted&nbsp;the&nbsp;question&lt;br&gt;&amp;gt;&nbsp;elsewhere.<br>
&lt;br&gt;&lt;br&gt;I&nbsp;am&nbsp;going&nbsp;to&nbsp;hazard&nbsp;a&nbsp;guess&nbsp;and&nbsp;say&nbsp;that&nbsp;pickle&nbsp;probably&nbsp;only&nbsp;allows&lt;br&gt;you&nbsp;to&nbsp;pickle&nbsp;a&nbsp;function&nbsp;objects&nbsp;where&nbsp;the&nbsp;function&nbsp;object&nbsp;resides&nbsp;in&nbsp;a&lt;br&gt;module&nbsp;which&nbsp;was&nbsp;imported&nbsp;using&nbsp;&amp;quot;import&amp;quot;,&nbsp;ie.,&nbsp;lives&nbsp;in&nbsp;&amp;quot;<br>
sys.modules&amp;quot;.&lt;br&gt;&lt;br&gt;In&nbsp;mod_python&nbsp;3.2,&nbsp;mod_python.publisher&nbsp;handler&nbsp;modules&nbsp;are&nbsp;no&nbsp;longer&lt;br&gt;imported&nbsp;using&nbsp;the&nbsp;Python&nbsp;&amp;quot;import&amp;quot;&nbsp;mechanism&nbsp;but&nbsp;are&nbsp;instead&nbsp;read&nbsp;in&nbsp;as&lt;br&gt;strings&nbsp;and&nbsp;executed&nbsp;against&nbsp;a&nbsp;dictionary&nbsp;of&nbsp;an&nbsp;empty&nbsp;module&nbsp;which&nbsp;does<br>
&lt;br&gt;not&nbsp;actually&nbsp;exist&nbsp;in&nbsp;sys.modules.&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;def&nbsp;build(self,&nbsp;key,&nbsp;name,&nbsp;opened,&nbsp;entry):&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;try:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;module&nbsp;=&nbsp;new.module(re_not_word.sub('_',key))&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;module.__file__&nbsp;=&nbsp;key&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;exec&nbsp;opened&nbsp;in&nbsp;module.__dict__<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&nbsp;module&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;finally:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;opened.close()&lt;br&gt;&lt;br&gt;The&nbsp;error&nbsp;would&nbsp;seem&nbsp;reasonable&nbsp;under&nbsp;these&nbsp;circumstances&nbsp;because&nbsp;if&nbsp;it&lt;br&gt;were&nbsp;pickled,&nbsp;it&nbsp;wouldn't&nbsp;perhaps&nbsp;be&nbsp;unable&nbsp;to&nbsp;unpickle&nbsp;it&nbsp;later&nbsp;as&nbsp;it<br>
&lt;br&gt;wouldn't&nbsp;know&nbsp;the&nbsp;name&nbsp;of&nbsp;a&nbsp;module&nbsp;in&nbsp;&amp;quot;sys.modules&amp;quot;&nbsp;to&nbsp;associate&nbsp;the&lt;br&gt;function&nbsp;reference&nbsp;to.&lt;br&gt;&lt;br&gt;Are&nbsp;you&nbsp;sure&nbsp;you&nbsp;can't&nbsp;use&nbsp;a&nbsp;string&nbsp;reference&nbsp;or&nbsp;something&nbsp;else&nbsp;as&nbsp;a&nbsp;handle&lt;br&gt;to&nbsp;refer&nbsp;to&nbsp;the&nbsp;callback&nbsp;function&nbsp;rather&nbsp;than&nbsp;an&nbsp;actual&nbsp;function&nbsp;object?<br>
&lt;br&gt;&lt;br&gt;Graham&lt;br&gt;_______________________________________________&lt;br&gt;Mod_python&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:Mod_python@modpython.org&quot;&gt;Mod_python@modpython.org&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://mailman.modpython.org/mailman/listinfo/mod_python&quot;&gt;<br>
<br>
http://mailman.modpython.org/mailman/listinfo/mod_python&lt;/a&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>
<br>

</tt>
