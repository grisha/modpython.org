<tt>
As&nbsp;I've&nbsp;wrote&nbsp;in&nbsp;my&nbsp;previous&nbsp;mail,&nbsp;the&nbsp;new&nbsp;error&nbsp;is&nbsp;due&nbsp;to&nbsp;the&nbsp;way<br>
mod_python&nbsp;imports&nbsp;the&nbsp;published&nbsp;modules&nbsp;in&nbsp;3.2.&nbsp;The&nbsp;new&nbsp;way&nbsp;was<br>
designed&nbsp;to&nbsp;solve&nbsp;a&nbsp;whole&nbsp;bunch&nbsp;of&nbsp;problems.&nbsp;Then&nbsp;again&nbsp;I&nbsp;must&nbsp;confess<br>
I&nbsp;had&nbsp;not&nbsp;foreseen&nbsp;the&nbsp;pickling&nbsp;problem&nbsp;it&nbsp;would&nbsp;cause.&lt;br&gt;<br>
&lt;br&gt;<br>
I'll&nbsp;report&nbsp;this&nbsp;problem&nbsp;as&nbsp;a&nbsp;bug&nbsp;against&nbsp;3.2.2beta.&nbsp;The&nbsp;problem&nbsp;is<br>
that&nbsp;this&nbsp;will&nbsp;not&nbsp;be&nbsp;easily&nbsp;fixed&nbsp;in&nbsp;3.2.&nbsp;We&nbsp;(the&nbsp;development&nbsp;team)<br>
were&nbsp;prepared&nbsp;to&nbsp;do&nbsp;a&nbsp;major&nbsp;overhaul&nbsp;of&nbsp;the&nbsp;import&nbsp;mechanism&nbsp;for&nbsp;the<br>
3.3&nbsp;release.&nbsp;Solving&nbsp;the&nbsp;pickling&nbsp;problem&nbsp;would&nbsp;require&nbsp;that.&nbsp;Right&nbsp;now<br>
I&nbsp;can't&nbsp;see&nbsp;any&nbsp;way&nbsp;to&nbsp;solve&nbsp;this&nbsp;easily&nbsp;in&nbsp;3.2&nbsp;while&nbsp;still&nbsp;retaining<br>
all&nbsp;the&nbsp;fixes&nbsp;the&nbsp;new&nbsp;import&nbsp;system&nbsp;has&nbsp;brought.&lt;br&gt;<br>
&lt;br&gt;<br>
In&nbsp;the&nbsp;meantime,&nbsp;my&nbsp;advice&nbsp;is&nbsp;that&nbsp;either&nbsp;you&nbsp;keep&nbsp;on&nbsp;using&nbsp;3.1.4<br>
(living&nbsp;with&nbsp;its&nbsp;bugs),&nbsp;or&nbsp;work&nbsp;around&nbsp;the&nbsp;pickle&nbsp;problem&nbsp;using&nbsp;one&nbsp;of<br>
the&nbsp;solutions&nbsp;I've&nbsp;wrote&nbsp;before.&nbsp;Maybe&nbsp;the&nbsp;solution&nbsp;where&nbsp;you&nbsp;define<br>
your&nbsp;functions&nbsp;and&nbsp;classes&nbsp;that&nbsp;need&nbsp;to&nbsp;be&nbsp;pickled&nbsp;in&nbsp;a&nbsp;separate&nbsp;module<br>
found&nbsp;on&nbsp;the&nbsp;python&nbsp;path&nbsp;is&nbsp;the&nbsp;easiest&nbsp;one.&lt;br&gt;<br>
&lt;br&gt;<br>
Sorry&nbsp;for&nbsp;the&nbsp;inconvenience,&nbsp;and&nbsp;thanks&nbsp;for&nbsp;the&nbsp;bug&nbsp;report.&lt;br&gt;<br>
&lt;br&gt;<br>
Nicolas&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;2005/10/4,&nbsp;GATOR&nbsp;AIDE&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:gator_aide2000@yahoo.com&quot;&gt;gator_aide2000@yahoo.com&lt;/a&gt;&amp;gt;:&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Actually,&nbsp;the&nbsp;same&nbsp;exact&nbsp;code&nbsp;works&nbsp;using&nbsp;mod_python&lt;br&gt;version&nbsp;3.1.4.&lt;br&gt;&lt;br&gt;I&nbsp;only&nbsp;get&nbsp;get&nbsp;the&nbsp;error&nbsp;when&nbsp;I&nbsp;run&nbsp;the&nbsp;code&nbsp;using&nbsp;the&lt;br&gt;latest&nbsp;version&nbsp;of&nbsp;mod_python&nbsp;(3.2.2b).&lt;br&gt;&lt;br&gt;I&nbsp;guess&nbsp;I&nbsp;can&nbsp;work&nbsp;around&nbsp;the&nbsp;problem&nbsp;by&nbsp;storing<br>
&lt;br&gt;strings&nbsp;or&nbsp;something,&nbsp;but&nbsp;it&nbsp;seems&nbsp;odd&nbsp;that&nbsp;I&nbsp;only&nbsp;get&lt;br&gt;the&nbsp;error&nbsp;with&nbsp;the&nbsp;newest&nbsp;version.&lt;br&gt;&lt;br&gt;Sorry&nbsp;if&nbsp;that&nbsp;wasn't&nbsp;clear&nbsp;in&nbsp;the&nbsp;original&nbsp;post.&lt;br&gt;&lt;br&gt;Thanks&nbsp;for&nbsp;all&nbsp;of&nbsp;the&nbsp;feedback.&lt;br&gt;&lt;br&gt;Mike&lt;br&gt;&lt;br&gt;---&nbsp;Nicolas&nbsp;Lehuen&nbsp;&amp;lt;<br>
&lt;a&nbsp;href=&quot;mailto:nicolas.lehuen@gmail.com&quot;&gt;nicolas.lehuen@gmail.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;&lt;br&gt;&amp;gt;&nbsp;Graham,&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;Mr&nbsp;Gator&nbsp;Aide&nbsp;had&nbsp;the&nbsp;same&nbsp;problem&nbsp;with&nbsp;mod_python&lt;br&gt;&amp;gt;&nbsp;3.1.4,&nbsp;though&nbsp;the&nbsp;message&lt;br&gt;&amp;gt;&nbsp;was&nbsp;a&nbsp;bit&nbsp;different.&nbsp;The&nbsp;point&nbsp;is&nbsp;that&nbsp;he&nbsp;is&nbsp;trying<br>
&lt;br&gt;&amp;gt;&nbsp;to&nbsp;store&nbsp;too&nbsp;much&nbsp;in&nbsp;the&lt;br&gt;&amp;gt;&nbsp;session&nbsp;and&nbsp;that&nbsp;he&nbsp;should&nbsp;work&nbsp;around&nbsp;that.&nbsp;The&nbsp;new&lt;br&gt;&amp;gt;&nbsp;import&nbsp;mechanism&nbsp;may&lt;br&gt;&amp;gt;&nbsp;make&nbsp;things&nbsp;a&nbsp;little&nbsp;more&nbsp;difficult,&nbsp;but&nbsp;the&nbsp;core&lt;br&gt;&amp;gt;&nbsp;problem&nbsp;is&nbsp;in&nbsp;the&nbsp;way&nbsp;he&lt;br&gt;&amp;gt;&nbsp;uses&nbsp;sessions,&nbsp;not&nbsp;in&nbsp;mod_python.<br>
&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;Regards,&lt;br&gt;&amp;gt;&nbsp;Nicolas&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;2005/10/4,&nbsp;Graham&nbsp;Dumpleton&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:grahamd@dscpl.com.au&quot;&gt;grahamd@dscpl.com.au&lt;/a&gt;&amp;gt;:&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;GATOR&nbsp;AIDE&nbsp;wrote&nbsp;..&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;gt;&nbsp;After&nbsp;updating&nbsp;mod_python&nbsp;<br>
3.1.4&nbsp;to&nbsp;3.2.2b&nbsp;I&nbsp;am&lt;br&gt;&amp;gt;&nbsp;getting&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;gt;&nbsp;an&nbsp;error:&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;gt;&nbsp;PythonHandler&nbsp;mod_python.publisher:&nbsp;TypeError:&lt;br&gt;&amp;gt;&nbsp;can't&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;gt;&nbsp;pickle&nbsp;function&nbsp;objects&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;gt;<br>
&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;gt;&nbsp;I&nbsp;am&nbsp;storing&nbsp;a&nbsp;function&nbsp;in&nbsp;the&nbsp;session&nbsp;and&lt;br&gt;&amp;gt;&nbsp;calling&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;gt;&nbsp;session.save().&nbsp;(Which&nbsp;is&nbsp;when&nbsp;the&nbsp;error&nbsp;is&lt;br&gt;&amp;gt;&nbsp;raised.)&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;gt;&nbsp;Using&nbsp;mod_python&nbsp;3.1.4&nbsp;the&nbsp;code&nbsp;works&nbsp;just&nbsp;fine<br>
&lt;br&gt;&amp;gt;&nbsp;but&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;gt;&nbsp;after&nbsp;the&nbsp;update&nbsp;I&nbsp;am&nbsp;now&nbsp;seeing&nbsp;this&nbsp;error.&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;gt;&nbsp;The&nbsp;code&nbsp;simply&nbsp;stores&nbsp;a&nbsp;dictionary&nbsp;and&nbsp;few&lt;br&gt;&amp;gt;&nbsp;function&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;gt;&nbsp;callbacks&nbsp;in&nbsp;the&nbsp;session&nbsp;and&nbsp;loops&nbsp;through<br>
&lt;br&gt;&amp;gt;&nbsp;several&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;gt;&nbsp;functions&nbsp;until&nbsp;it&nbsp;is&nbsp;done&nbsp;processing.&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;gt;&nbsp;Not&nbsp;sure&nbsp;if&nbsp;anyone&nbsp;else&nbsp;has&nbsp;had&nbsp;this&nbsp;problem?&nbsp;I&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;gt;&nbsp;running&nbsp;centos&nbsp;2.4.21-27.0.4.ELsmp&nbsp;on&nbsp;a&nbsp;x86_64<br>
&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;gt;&nbsp;platform.&nbsp;Python&nbsp;2.4.2&nbsp;(same&nbsp;error&nbsp;w/2.4.1).&lt;br&gt;&amp;gt;&nbsp;Apache&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;gt;&nbsp;2.0.46.&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;gt;&nbsp;I&nbsp;wasn't&nbsp;sure&nbsp;if&nbsp;this&nbsp;is&nbsp;the&nbsp;right&nbsp;place&nbsp;to&nbsp;post&lt;br&gt;&amp;gt;&nbsp;this,&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;gt;&nbsp;so&nbsp;I&nbsp;apologize&nbsp;if&nbsp;I&nbsp;should&nbsp;have&nbsp;posted&nbsp;the<br>
&lt;br&gt;&amp;gt;&nbsp;question&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;gt;&nbsp;elsewhere.&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;I&nbsp;am&nbsp;going&nbsp;to&nbsp;hazard&nbsp;a&nbsp;guess&nbsp;and&nbsp;say&nbsp;that&nbsp;pickle&lt;br&gt;&amp;gt;&nbsp;probably&nbsp;only&nbsp;allows&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;you&nbsp;to&nbsp;pickle&nbsp;a&nbsp;function&nbsp;objects&nbsp;where&nbsp;the&lt;br&gt;&amp;gt;&nbsp;function&nbsp;object&nbsp;resides&nbsp;in&nbsp;a<br>
&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;module&nbsp;which&nbsp;was&nbsp;imported&nbsp;using&nbsp;&amp;quot;import&amp;quot;,&nbsp;ie.,&lt;br&gt;&amp;gt;&nbsp;lives&nbsp;in&nbsp;&amp;quot;&nbsp;sys.modules&amp;quot;.&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;In&nbsp;mod_python&nbsp;3.2,&nbsp;mod_python.publisher&nbsp;handler&lt;br&gt;&amp;gt;&nbsp;modules&nbsp;are&nbsp;no&nbsp;longer&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;imported&nbsp;using&nbsp;the&nbsp;Python&nbsp;&amp;quot;import&amp;quot;&nbsp;mechanism&nbsp;but&lt;br&gt;&amp;gt;&nbsp;are&nbsp;instead&nbsp;read&nbsp;in&nbsp;as&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;strings&nbsp;and&nbsp;executed&nbsp;against&nbsp;a&nbsp;dictionary&nbsp;of&nbsp;an&lt;br&gt;&amp;gt;&nbsp;empty&nbsp;module&nbsp;which&nbsp;does&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;not&nbsp;actually&nbsp;exist&nbsp;in&nbsp;<br>
sys.modules.&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;def&nbsp;build(self,&nbsp;key,&nbsp;name,&nbsp;opened,&nbsp;entry):&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;try:&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;module&nbsp;=&nbsp;new.module(re_not_word.sub('_',key))&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;module.__file__&nbsp;=&nbsp;key&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;exec&nbsp;opened&nbsp;in&nbsp;module.__dict__<br>
&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;return&nbsp;module&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;finally:&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;opened.close()&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;The&nbsp;error&nbsp;would&nbsp;seem&nbsp;reasonable&nbsp;under&nbsp;these&lt;br&gt;&amp;gt;&nbsp;circumstances&nbsp;because&nbsp;if&nbsp;it&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;were&nbsp;pickled,&nbsp;it&nbsp;wouldn't&nbsp;perhaps&nbsp;be&nbsp;unable&nbsp;to<br>
&lt;br&gt;&amp;gt;&nbsp;unpickle&nbsp;it&nbsp;later&nbsp;as&nbsp;it&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;wouldn't&nbsp;know&nbsp;the&nbsp;name&nbsp;of&nbsp;a&nbsp;module&nbsp;in&lt;br&gt;&amp;gt;&nbsp;&amp;quot;sys.modules&amp;quot;&nbsp;to&nbsp;associate&nbsp;the&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;function&nbsp;reference&nbsp;to.&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Are&nbsp;you&nbsp;sure&nbsp;you&nbsp;can't&nbsp;use&nbsp;a&nbsp;string&nbsp;reference&nbsp;or<br>
&lt;br&gt;&amp;gt;&nbsp;something&nbsp;else&nbsp;as&nbsp;a&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;handle&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;to&nbsp;refer&nbsp;to&nbsp;the&nbsp;callback&nbsp;function&nbsp;rather&nbsp;than&nbsp;an&lt;br&gt;&amp;gt;&nbsp;actual&nbsp;function&nbsp;object?&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Graham&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;_______________________________________________<br>
&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Mod_python&nbsp;mailing&nbsp;list&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:Mod_python@modpython.org&quot;&gt;Mod_python@modpython.org&lt;/a&gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://mailman.modpython.org/mailman/listinfo/mod_python&quot;&gt;http://mailman.modpython.org/mailman/listinfo/mod_python<br>
&lt;/a&gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;__________________________________&lt;br&gt;Yahoo!&nbsp;Mail&nbsp;-&nbsp;PC&nbsp;Magazine&nbsp;Editors'&nbsp;Choice&nbsp;2005&lt;br&gt;&lt;a&nbsp;href=&quot;http://mail.yahoo.com&quot;&gt;http://mail.yahoo.com&lt;/a&gt;&lt;br&gt;_______________________________________________<br>
&lt;br&gt;Mod_python&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:Mod_python@modpython.org&quot;&gt;Mod_python@modpython.org&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://mailman.modpython.org/mailman/listinfo/mod_python&quot;&gt;http://mailman.modpython.org/mailman/listinfo/mod_python<br>
&lt;/a&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
