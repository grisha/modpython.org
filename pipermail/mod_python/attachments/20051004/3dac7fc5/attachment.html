<tt>
Hi,&lt;br&gt;<br>
&lt;br&gt;<br>
As&nbsp;explained&nbsp;in&nbsp;the&nbsp;error&nbsp;message,&nbsp;function&nbsp;objects&nbsp;can't&nbsp;be&nbsp;pickled.<br>
This&nbsp;is&nbsp;not&nbsp;a&nbsp;mod_python&nbsp;limitation,&nbsp;rather&nbsp;a&nbsp;Python&nbsp;limitation.&lt;br&gt;<br>
&lt;br&gt;<br>
There&nbsp;are&nbsp;three&nbsp;workarounds&nbsp;I&nbsp;can&nbsp;think&nbsp;of&nbsp;:&lt;br&gt;<br>
&lt;br&gt;<br>
1)&nbsp;If&nbsp;you&nbsp;are&nbsp;using&nbsp;the&nbsp;threaded&nbsp;MPM&nbsp;(but&nbsp;I&nbsp;think&nbsp;you're&nbsp;not),&nbsp;use<br>
MemorySession&nbsp;instead&nbsp;of&nbsp;DBMSession&nbsp;or&nbsp;FileSession.&nbsp;This&nbsp;way,&nbsp;session<br>
are&nbsp;never&nbsp;pickled.&nbsp;The&nbsp;disadvantage&nbsp;is&nbsp;that&nbsp;all&nbsp;sessions&nbsp;are&nbsp;lost&nbsp;as<br>
soon&nbsp;as&nbsp;Apache&nbsp;is&nbsp;restarted,&nbsp;since&nbsp;sessions&nbsp;are&nbsp;stored&nbsp;in&nbsp;RAM&nbsp;and&nbsp;not<br>
on&nbsp;disk.&lt;br&gt;<br>
&lt;br&gt;<br>
2)&nbsp;Do&nbsp;not&nbsp;store&nbsp;any&nbsp;function&nbsp;object&nbsp;in&nbsp;the&nbsp;session&nbsp;and&nbsp;implement&nbsp;a<br>
workaround&nbsp;by&nbsp;yourself,&nbsp;i.e.&nbsp;try&nbsp;to&nbsp;store&nbsp;a&nbsp;pickable&nbsp;value&nbsp;from&nbsp;which<br>
you&nbsp;can&nbsp;infer&nbsp;the&nbsp;function.&nbsp;This&nbsp;means&nbsp;that&nbsp;you&nbsp;must&nbsp;forget&nbsp;about<br>
directly&nbsp;storing&nbsp;functions&nbsp;in&nbsp;the&nbsp;session&nbsp;and&nbsp;having&nbsp;a&nbsp;kind&nbsp;of&nbsp;naming<br>
system&nbsp;(store&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;function&nbsp;in&nbsp;the&nbsp;session&nbsp;and&nbsp;fetch&nbsp;the<br>
function&nbsp;according&nbsp;to&nbsp;its&nbsp;name).&lt;br&gt;<br>
&lt;br&gt;<br>
3)&nbsp;Customize&nbsp;the&nbsp;pickling&nbsp;/&nbsp;unpickling&nbsp;of&nbsp;the&nbsp;objects&nbsp;you&nbsp;want&nbsp;to&nbsp;store<br>
in&nbsp;the&nbsp;session,&nbsp;using&nbsp;__getstate__&nbsp;and&nbsp;__setstate__&nbsp;(see&nbsp;the&nbsp;Python<br>
documentation).&lt;br&gt;<br>
&lt;br&gt;<br>
Regards,&lt;br&gt;<br>
Nicolas&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;2005/10/4,&nbsp;GATOR&nbsp;AIDE&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:gator_aide2000@yahoo.com&quot;&gt;gator_aide2000@yahoo.com&lt;/a&gt;&amp;gt;:&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
After&nbsp;updating&nbsp;mod_python&nbsp;3.1.4&nbsp;to&nbsp;3.2.2b&nbsp;I&nbsp;am&nbsp;getting&lt;br&gt;an&nbsp;error:&lt;br&gt;&lt;br&gt;PythonHandler&nbsp;mod_python.publisher:&nbsp;TypeError:&nbsp;can't&lt;br&gt;pickle&nbsp;function&nbsp;objects&lt;br&gt;&lt;br&gt;I&nbsp;am&nbsp;storing&nbsp;a&nbsp;function&nbsp;in&nbsp;the&nbsp;session&nbsp;and&nbsp;calling&lt;br&gt;session.save<br>
().&nbsp;(Which&nbsp;is&nbsp;when&nbsp;the&nbsp;error&nbsp;is&nbsp;raised.)&lt;br&gt;&lt;br&gt;Using&nbsp;mod_python&nbsp;3.1.4&nbsp;the&nbsp;code&nbsp;works&nbsp;just&nbsp;fine&nbsp;but&lt;br&gt;after&nbsp;the&nbsp;update&nbsp;I&nbsp;am&nbsp;now&nbsp;seeing&nbsp;this&nbsp;error.&lt;br&gt;&lt;br&gt;The&nbsp;code&nbsp;simply&nbsp;stores&nbsp;a&nbsp;dictionary&nbsp;and&nbsp;few&nbsp;function&lt;br&gt;callbacks&nbsp;in&nbsp;the&nbsp;session&nbsp;and&nbsp;loops&nbsp;through&nbsp;several<br>
&lt;br&gt;functions&nbsp;until&nbsp;it&nbsp;is&nbsp;done&nbsp;processing.&lt;br&gt;&lt;br&gt;Not&nbsp;sure&nbsp;if&nbsp;anyone&nbsp;else&nbsp;has&nbsp;had&nbsp;this&nbsp;problem?&nbsp;I&lt;br&gt;running&nbsp;centos&nbsp;2.4.21-27.0.4.ELsmp&nbsp;on&nbsp;a&nbsp;x86_64&lt;br&gt;platform.&nbsp;Python&nbsp;2.4.2&nbsp;(same&nbsp;error&nbsp;w/2.4.1).&nbsp;Apache&lt;br&gt;2.0.46.&lt;br&gt;&lt;br&gt;<br>
I&nbsp;wasn't&nbsp;sure&nbsp;if&nbsp;this&nbsp;is&nbsp;the&nbsp;right&nbsp;place&nbsp;to&nbsp;post&nbsp;this,&lt;br&gt;so&nbsp;I&nbsp;apologize&nbsp;if&nbsp;I&nbsp;should&nbsp;have&nbsp;posted&nbsp;the&nbsp;question&lt;br&gt;elsewhere.&lt;br&gt;&lt;br&gt;Thanks,&lt;br&gt;Mike&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;__________________________________&lt;br&gt;Yahoo!&nbsp;Mail&nbsp;-&nbsp;PC&nbsp;Magazine&nbsp;Editors'&nbsp;Choice&nbsp;2005<br>
&lt;br&gt;&lt;a&nbsp;href=&quot;http://mail.yahoo.com&quot;&gt;http://mail.yahoo.com&lt;/a&gt;&lt;br&gt;_______________________________________________&lt;br&gt;Mod_python&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:Mod_python@modpython.org&quot;&gt;Mod_python@modpython.org&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://mailman.modpython.org/mailman/listinfo/mod_python&quot;&gt;<br>
http://mailman.modpython.org/mailman/listinfo/mod_python&lt;/a&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
