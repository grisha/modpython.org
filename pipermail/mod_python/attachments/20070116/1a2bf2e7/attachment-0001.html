<tt>
&lt;HTML&gt;&lt;BODY&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-khtml-nbsp-mode:&nbsp;space;&nbsp;-khtml-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;&lt;BR&gt;&lt;DIV&gt;&lt;DIV&gt;On&nbsp;16/01/2007,&nbsp;at&nbsp;9:07&nbsp;PM,&nbsp;Maksim&nbsp;Kasimov&nbsp;wrote:&lt;/DIV&gt;&lt;BR&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;BLOCKQUOTE&nbsp;type=&quot;cite&quot;&gt;&lt;BR&gt;&lt;BR&gt;&lt;DIV&gt;&lt;SPAN&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;1/15/07,&nbsp;&lt;B&nbsp;class=&quot;gmail_sendername&quot;&gt;Graham&nbsp;Dumpleton&lt;/B&gt;&nbsp;&amp;lt;&lt;A&nbsp;href=&quot;mailto:grahamd@dscpl.com.au&quot;&gt;grahamd@dscpl.com.au&lt;/A&gt;&amp;gt;&nbsp;wrote:&lt;/SPAN&gt;&lt;BLOCKQUOTE&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;&nbsp;Maksim&nbsp;Kasimov&nbsp;wrote&nbsp;..&lt;BR&gt;&amp;gt;&nbsp;hi,&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;in&nbsp;apache&nbsp;conf&nbsp;file&nbsp;i&nbsp;use:&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;    &nbsp;&amp;lt;Directory&nbsp;&quot;/mypath/mydir&quot;&amp;gt;&lt;BR&gt;&amp;gt;        &nbsp;SetHandler&nbsp;python-program&lt;BR&gt;&amp;gt;        &nbsp;PythonHandler&nbsp;mod_python.publisher&nbsp;&lt;BR&gt;&amp;gt;    &nbsp;&amp;lt;/Directory&amp;gt;&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;there&nbsp;is&nbsp;file:&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;in&nbsp;file  /mypath/mydir/index.py&nbsp;there&nbsp;some&nbsp;functions:&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;def&nbsp;index(req):&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;    &nbsp;return&nbsp;&quot;index&quot;&lt;BR&gt;&nbsp;&amp;gt;&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;def&nbsp;free(req):&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;    &nbsp;return&nbsp;'free'&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;def&nbsp;not_found(req):&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;    &nbsp;#&nbsp;some&nbsp;computation&lt;BR&gt;&amp;gt;    &nbsp;return&nbsp;'page&nbsp;not&nbsp;found'&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&lt;BR&gt;&nbsp;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;and&nbsp;every&nbsp;thing&nbsp;is&nbsp;just&nbsp;fine&nbsp;and&nbsp;works&nbsp;as&nbsp;expected:&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;        for&nbsp;&lt;A&nbsp;href=&quot;http://myhostname.org/mydir/free&quot;&gt;http://myhostname.org/mydir/free&lt;/A&gt;&nbsp;i&nbsp;can&nbsp;see&nbsp;&quot;free&quot;&lt;BR&gt;&amp;gt;        for&nbsp;&lt;A&nbsp;href=&quot;http://myhostname.org/mydir/&quot;&gt;&nbsp;http://myhostname.org/mydir/&lt;/A&gt;&nbsp;i&nbsp;can&nbsp;see&nbsp;&quot;index&quot;&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;my&nbsp;question&nbsp;is:&nbsp;How&nbsp;to&nbsp;get&nbsp;output&nbsp;of&nbsp;&quot;not_found&quot;&nbsp;function&nbsp;for&nbsp;any&nbsp;other&lt;BR&gt;&amp;gt;&nbsp;uri,&lt;BR&gt;&amp;gt;&nbsp;such&nbsp;as&nbsp;&quot;&lt;A&nbsp;href=&quot;http://myhostname.org/mydir/hello&quot;&gt;&nbsp;http://myhostname.org/mydir/hello&lt;/A&gt;&quot;&nbsp;?&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;many&nbsp;thanks&nbsp;for&nbsp;any&nbsp;advice.&lt;BR&gt;&lt;BR&gt;Use&nbsp;the&nbsp;Apache&nbsp;ErrorDocument&nbsp;directive,&nbsp;specifying&nbsp;the&nbsp;URL&nbsp;to&nbsp;the&nbsp;not_found&lt;BR&gt;function&nbsp;as&nbsp;the&nbsp;argument.&lt;BR&gt;&lt;BR&gt;Graham&lt;BR&gt;&lt;/BLOCKQUOTE&gt;&nbsp;&lt;/DIV&gt;&lt;BR&gt;it&nbsp;is&nbsp;very&nbsp;inconveniently&nbsp;because:&lt;BR&gt;   &nbsp;1)&nbsp;in&nbsp;the&nbsp;directory&nbsp;&quot;mydir&quot;&nbsp;there&nbsp;can&nbsp;be&nbsp;a&nbsp;lot&nbsp;of&nbsp;*.py&nbsp;scripts&nbsp;(not&nbsp;only&nbsp;index.py),&nbsp;and&nbsp;i&nbsp;need&nbsp;to&nbsp;specify&nbsp;some&nbsp;default&nbsp;handler&nbsp;for&nbsp;each&nbsp;of&nbsp;module&nbsp;in&nbsp;the&nbsp;directory.&nbsp;&lt;BR&gt;   &nbsp;2)&nbsp;it&nbsp;makes&nbsp;superfluous&nbsp;redirections&lt;BR&gt;&lt;/BLOCKQUOTE&gt;&lt;DIV&gt;&lt;BR&nbsp;class=&quot;khtml-block-placeholder&quot;&gt;&lt;/DIV&gt;&lt;DIV&gt;But&nbsp;if&nbsp;it&nbsp;is&nbsp;only&nbsp;for&nbsp;not&nbsp;found&nbsp;errors,&nbsp;it&nbsp;wouldn't&nbsp;occur&nbsp;much&nbsp;so&nbsp;why&nbsp;would&lt;/DIV&gt;&lt;DIV&gt;it&nbsp;matter.&lt;/DIV&gt;&lt;BR&gt;&lt;BLOCKQUOTE&nbsp;type=&quot;cite&quot;&gt;So&nbsp;my&nbsp;question&nbsp;is&nbsp;still&nbsp;opened.&lt;BR&gt;&lt;BR&gt;To&nbsp;provide&nbsp;this,&nbsp;temporary,&nbsp;i've&nbsp;changed&nbsp;resolve_object&nbsp;function&nbsp;in&nbsp;publisher.py&nbsp;from&nbsp;mod_python&nbsp;in&nbsp;that&nbsp;way:&lt;BR&gt;&lt;BR&gt;       &nbsp;try:&lt;BR&gt;&nbsp;           &nbsp;#obj&nbsp;=&nbsp;getattr(obj,&nbsp;obj_str)&lt;BR&gt;           &nbsp;obj&nbsp;=&nbsp;getattr(obj,&nbsp;obj_str,&nbsp;getattr(obj,&nbsp;'_default'))&lt;BR&gt;       &nbsp;except&nbsp;AttributeError:&lt;BR&gt;           &nbsp;raise&nbsp;apache.SERVER_RETURN,&nbsp;apache.HTTP_NOT_FOUND&lt;BR&gt;&lt;BR&gt;&nbsp;than,&nbsp;i&nbsp;will&nbsp;define&nbsp;_default&nbsp;function&nbsp;in&nbsp;my&nbsp;/mypath/mydir/index.py&nbsp;or&nbsp;any&nbsp;other&nbsp;modules&nbsp;in&nbsp;mydir.&lt;BR&gt;&lt;BR&gt;i&nbsp;think&nbsp;it&nbsp;is&nbsp;very&nbsp;wrong&nbsp;to&nbsp;change&nbsp;standart&nbsp;libraries,&nbsp;but&nbsp;i&nbsp;did&nbsp;not&nbsp;found&nbsp;the&nbsp;way,&nbsp;how&nbsp;to&nbsp;redifine&nbsp;this&nbsp;behavior&nbsp;in&nbsp;my&nbsp;index.py&nbsp;file.&lt;BR&nbsp;clear=&quot;all&quot;&gt;&lt;BR&gt;is&nbsp;it&nbsp;possible&nbsp;to&nbsp;define&nbsp;some&nbsp;function&nbsp;in&nbsp;my&nbsp;module,&nbsp;to&nbsp;make&nbsp;it&nbsp;return&nbsp;default&nbsp;attribute&nbsp;for&nbsp;getattr&nbsp;function?&nbsp;&lt;BR&gt;or&nbsp;may&nbsp;be,&nbsp;if&nbsp;i&nbsp;dare,&nbsp;to&nbsp;expect&nbsp;such&nbsp;changes&nbsp;as&nbsp;above&nbsp;in&nbsp;future&nbsp;releases&nbsp;of&nbsp;mod_python? &lt;BR&nbsp;class=&quot;khtml-block-placeholder&quot;&gt;&lt;/BLOCKQUOTE&gt;&lt;DIV&gt;&lt;BR&nbsp;class=&quot;khtml-block-placeholder&quot;&gt;&lt;/DIV&gt;It&nbsp;is&nbsp;unlikely&nbsp;you&nbsp;will&nbsp;see&nbsp;such&nbsp;a&nbsp;feature&nbsp;in&nbsp;future&nbsp;versions&nbsp;of&nbsp;mod_python.&lt;/DIV&gt;&lt;DIV&gt;I&nbsp;also&nbsp;question&nbsp;why&nbsp;you&nbsp;would&nbsp;want&nbsp;to&nbsp;do&nbsp;that&nbsp;anyway,&nbsp;ie.,&nbsp;have&nbsp;a&nbsp;separate&lt;/DIV&gt;&lt;DIV&gt;not&nbsp;found&nbsp;page&nbsp;for&nbsp;every&nbsp;file&nbsp;resource.&nbsp;Care&nbsp;to&nbsp;explain&nbsp;what&nbsp;you&nbsp;thing&nbsp;you&lt;/DIV&gt;&lt;DIV&gt;get&nbsp;from&nbsp;it?&nbsp;Maybe&nbsp;you&nbsp;shouldn't&nbsp;be&nbsp;using&nbsp;mod_python.publisher&nbsp;but&nbsp;should&lt;/DIV&gt;&lt;DIV&gt;be&nbsp;writing&nbsp;a&nbsp;custom&nbsp;dispatcher&nbsp;of&nbsp;your&nbsp;own.&lt;/DIV&gt;&lt;DIV&gt;&lt;BR&nbsp;class=&quot;khtml-block-placeholder&quot;&gt;&lt;/DIV&gt;&lt;DIV&gt;BTW,&nbsp;you&nbsp;could&nbsp;always&nbsp;do&nbsp;the&nbsp;following:&lt;/DIV&gt;&lt;DIV&gt;&lt;BR&nbsp;class=&quot;khtml-block-placeholder&quot;&gt;&lt;/DIV&gt;&lt;DIV&gt; &nbsp;SetHandler&nbsp;mypublisherwrapper&lt;/DIV&gt;&lt;DIV&gt;&lt;BR&nbsp;class=&quot;khtml-block-placeholder&quot;&gt;&lt;/DIV&gt;&lt;DIV&gt;Then&nbsp;in&nbsp;handler()&nbsp;of&nbsp;mypublisherwrapper&nbsp;do&nbsp;something&nbsp;like&nbsp;(untested):&lt;/DIV&gt;&lt;DIV&gt;&lt;BR&nbsp;class=&quot;khtml-block-placeholder&quot;&gt;&lt;/DIV&gt;&lt;DIV&gt; &nbsp;from&nbsp;mod_python&nbsp;import&nbsp;apache,&nbsp;publisher&lt;/DIV&gt;&lt;DIV&gt;&lt;BR&nbsp;class=&quot;khtml-block-placeholder&quot;&gt;&lt;/DIV&gt;&lt;DIV&gt; &nbsp;def&nbsp;handler(req):&lt;/DIV&gt;&lt;DIV&gt;  &nbsp; try:&lt;/DIV&gt;&lt;DIV&gt; &nbsp;  &nbsp; result&nbsp;=&nbsp;publisher.handler(req)&lt;/DIV&gt;&lt;DIV&gt;  &nbsp; except&nbsp;SERVER_RETURN,&nbsp;value:&lt;/DIV&gt;&lt;DIV&gt; &nbsp;  &nbsp;  &nbsp;  &nbsp; try:&lt;/DIV&gt;&lt;DIV&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if&nbsp;len(value.args)&nbsp;==&nbsp;2:&lt;/DIV&gt;&lt;DIV&gt; &nbsp; &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp; raise&lt;/DIV&gt;&lt;DIV&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else:&lt;/DIV&gt;&lt;DIV&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;result&nbsp;=&nbsp;value.args[0]&lt;/DIV&gt;&lt;DIV&gt;&lt;BR&nbsp;class=&quot;khtml-block-placeholder&quot;&gt;&lt;/DIV&gt;&lt;DIV&gt; &nbsp; &nbsp; if&nbsp;result&nbsp;==&nbsp;apache.HTTP_NOT_FOUND:&lt;/DIV&gt;&lt;DIV&gt; &nbsp; &nbsp;  &nbsp; req.filename&nbsp;=&nbsp;req.filename&nbsp;+&nbsp;'/err404'&lt;/DIV&gt;&lt;DIV&gt; &nbsp; &nbsp;  &nbsp; req.path_info&nbsp;=&nbsp;''&lt;/DIV&gt;&lt;DIV&gt; &nbsp; &nbsp;  &nbsp; result&nbsp;=&nbsp;publisher.handler(req)&lt;/DIV&gt;&lt;DIV&gt;&lt;BR&nbsp;class=&quot;khtml-block-placeholder&quot;&gt;&lt;/DIV&gt;&lt;DIV&gt;  &nbsp; return&nbsp;result&lt;/DIV&gt;&lt;DIV&gt;&lt;BR&nbsp;class=&quot;khtml-block-placeholder&quot;&gt;&lt;/DIV&gt;&lt;DIV&gt;although&nbsp;I&nbsp;wouldn't&nbsp;recommend&nbsp;it.&lt;/DIV&gt;&lt;DIV&gt;&lt;BR&nbsp;class=&quot;khtml-block-placeholder&quot;&gt;&lt;/DIV&gt;Anyway,&nbsp;please&nbsp;explain&nbsp;why&nbsp;as&nbsp;there&nbsp;is&nbsp;probably&nbsp;a&nbsp;better&nbsp;way&nbsp;of&nbsp;doing&nbsp;it&nbsp;but&lt;DIV&gt;not&nbsp;knowing&nbsp;what&nbsp;you&nbsp;are&nbsp;trying&nbsp;to&nbsp;achieve&nbsp;makes&nbsp;it&nbsp;very&nbsp;hard&nbsp;to&nbsp;suggest&lt;/DIV&gt;&lt;DIV&gt;anything.&lt;DIV&gt;&lt;BR&gt;&lt;DIV&gt;Graham&lt;/DIV&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;
</tt>
