<tt>
Actually,&nbsp;I&nbsp;need&nbsp;to&nbsp;perform&nbsp;string&nbsp;manipulation&nbsp;on&nbsp;*everything*&nbsp;that&nbsp;gets&nbsp;handled&nbsp;by&nbsp;publisher.&amp;nbsp;&nbsp;I&nbsp;don&amp;#39;t&nbsp;want&nbsp;to&nbsp;manually&nbsp;edit&nbsp;each&nbsp;function&nbsp;that&nbsp;the&nbsp;handler&nbsp;exposes.&lt;br&gt;&lt;br&gt;FWIW,&nbsp;I&amp;#39;m&nbsp;doing&nbsp;this&nbsp;because&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;have&nbsp;two&nbsp;versions&nbsp;of&nbsp;my&nbsp;website&nbsp;-&amp;gt;<br>
&lt;br&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://test.mysite.com&quot;&gt;test.mysite.com&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://real.mysite.com&quot;&gt;real.mysite.com&lt;/a&gt;&lt;br&gt;&lt;br&gt;These&nbsp;sites&nbsp;are&nbsp;identical,&nbsp;except&nbsp;for&nbsp;the&nbsp;domain&nbsp;name&nbsp;well&nbsp;and&nbsp;the&nbsp;database&nbsp;they&nbsp;use.&lt;br&gt;&lt;br&gt;But&nbsp;the&nbsp;problem&nbsp;is,&nbsp;I&nbsp;decided&nbsp;to&nbsp;do&nbsp;this&nbsp;a&nbsp;bit&nbsp;late&nbsp;in&nbsp;the&nbsp;game.&amp;nbsp;&nbsp;And&nbsp;I&nbsp;didn&amp;#39;t&nbsp;have&nbsp;enough&nbsp;foresight&nbsp;*not&nbsp;to*&nbsp;hardcode&nbsp;<br>
&lt;a&nbsp;href=&quot;http://real.mysite.com&quot;&gt;real.mysite.com&lt;/a&gt;.&amp;nbsp;&nbsp;So&nbsp;I&nbsp;have&nbsp;&lt;a&nbsp;href=&quot;http://real.mysite.com&quot;&gt;real.mysite.com&lt;/a&gt;&nbsp;sprinkled&nbsp;throughout&nbsp;various&nbsp;python&nbsp;modules.&amp;nbsp;&nbsp;Yeah&nbsp;the&nbsp;right&nbsp;thing&nbsp;to&nbsp;do&nbsp;would&nbsp;be&nbsp;to&nbsp;`fix&amp;#39;&nbsp;everything&nbsp;site&nbsp;wide,&nbsp;but&nbsp;i&amp;#39;m&nbsp;in&nbsp;a&nbsp;pinch&nbsp;(and&nbsp;lazy&nbsp;:p),&nbsp;so&nbsp;I&nbsp;simply&nbsp;want&nbsp;to&nbsp;change&nbsp;all&nbsp;instances&nbsp;of&nbsp;<br>
&lt;a&nbsp;href=&quot;http://real.mysite.com&quot;&gt;real.mysite.com&lt;/a&gt;&nbsp;to&nbsp;&lt;a&nbsp;href=&quot;http://test.mysite.com&quot;&gt;test.mysite.com&lt;/a&gt;.&lt;br&gt;&lt;br&gt;jw&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;1/16/07,&nbsp;&lt;b&nbsp;class=&quot;gmail_sendername&quot;&gt;Jorey&nbsp;Bump&lt;/b&gt;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:list@joreybump.com&quot;&gt;<br>
list@joreybump.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;Jaime&nbsp;Wyant&nbsp;wrote:&lt;br&gt;&amp;gt;&nbsp;Hi&nbsp;all.&amp;nbsp;&amp;nbsp;I&nbsp;was&nbsp;not&nbsp;sure&nbsp;of&nbsp;a&nbsp;good&nbsp;subject,&nbsp;but&nbsp;I&nbsp;think&nbsp;this&nbsp;is&nbsp;close.<br>
&lt;br&gt;&amp;gt;&nbsp;Here&nbsp;is&nbsp;what&nbsp;I&nbsp;want&nbsp;to&nbsp;do:&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;*&nbsp;Use&nbsp;publisher&nbsp;handler.&lt;br&gt;&amp;gt;&nbsp;*&nbsp;&amp;quot;Grab&amp;quot;&nbsp;data&nbsp;before&nbsp;it&nbsp;is&nbsp;sent&nbsp;to&nbsp;the&nbsp;client,&nbsp;perform&nbsp;some&nbsp;`string&lt;br&gt;&amp;gt;&nbsp;substitution&amp;#39;&nbsp;,&nbsp;send&nbsp;modified&nbsp;string&nbsp;/&nbsp;data&nbsp;onto&nbsp;the&nbsp;client.<br>
&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;I&nbsp;made&nbsp;a&nbsp;copy&nbsp;of&nbsp;publisher.py&nbsp;and&nbsp;now&nbsp;use&nbsp;a&nbsp;modified&nbsp;version&nbsp;which&lt;br&gt;&amp;gt;&nbsp;performs&nbsp;the&nbsp;necessary&nbsp;string&nbsp;changes&nbsp;before&nbsp;doing&nbsp;req.write.&amp;nbsp;&amp;nbsp;But,&nbsp;I&lt;br&gt;&amp;gt;&nbsp;can&amp;#39;t&nbsp;help&nbsp;but&nbsp;think&nbsp;that&nbsp;there&nbsp;is&nbsp;a&nbsp;cleaner&nbsp;way&nbsp;to&nbsp;do&nbsp;this.&amp;nbsp;&amp;nbsp;Is&nbsp;there&nbsp;a<br>
&lt;br&gt;&amp;gt;&nbsp;`better&amp;#39;&nbsp;way?&lt;br&gt;&lt;br&gt;Ordinary&nbsp;python&nbsp;string&nbsp;replacement&nbsp;is&nbsp;available&nbsp;in&nbsp;the&nbsp;returned&nbsp;result:&lt;br&gt;&lt;br&gt;def&nbsp;index()&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;body&nbsp;=&nbsp;&amp;quot;&amp;quot;&amp;quot;&lt;br&gt;&amp;lt;html&amp;gt;&lt;br&gt;&amp;lt;head&amp;gt;&lt;br&gt;&amp;lt;title&amp;gt;%s&amp;lt;/title&amp;gt;<br>
&lt;br&gt;&amp;lt;/head&amp;gt;&lt;br&gt;&amp;lt;body&amp;gt;&lt;br&gt;%s&lt;br&gt;&amp;lt;/body&amp;gt;&lt;br&gt;&amp;lt;/html&amp;gt;&lt;br&gt;&amp;quot;&amp;quot;&amp;quot;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;title&nbsp;=&nbsp;&amp;quot;This&nbsp;is&nbsp;the&nbsp;Title&amp;quot;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;content&nbsp;=&nbsp;&amp;quot;&amp;lt;p&amp;gt;This&nbsp;is&nbsp;the&nbsp;content&amp;lt;/p&amp;gt;&amp;quot;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;body&nbsp;%&nbsp;(title,&nbsp;content)<br>
&lt;br&gt;&lt;br&gt;Or&nbsp;did&nbsp;you&nbsp;have&nbsp;something&nbsp;else&nbsp;in&nbsp;mind?&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;--&nbsp;&lt;br&gt;&amp;quot;Government&nbsp;does&nbsp;not&nbsp;solve&nbsp;problems;&nbsp;it&nbsp;subsidizes&nbsp;them.&amp;quot;&lt;br&gt;Ronald&nbsp;Reagan<br>

</tt>
