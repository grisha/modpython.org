<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;Transitional//EN&quot;&gt;<br>
&lt;HTML&gt;&lt;HEAD&gt;<br>
&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;<br>
&lt;TITLE&gt;Message&lt;/TITLE&gt;<br>
<br>
&lt;META&nbsp;content=&quot;MSHTML&nbsp;6.00.2800.1276&quot;&nbsp;name=GENERATOR&gt;&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;DIV&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;class=882164123-22122003&gt;I&nbsp;found&nbsp;the&nbsp;following&nbsp;<br>
code&nbsp;on&nbsp;the&nbsp;Internet&nbsp;for&nbsp;keeping&nbsp;the&nbsp;connection&nbsp;open&nbsp;but&nbsp;it&nbsp;doesn't&nbsp;really&nbsp;work.&nbsp;<br>
Everytime&nbsp;I&nbsp;try&nbsp;to&nbsp;login,&nbsp;it&nbsp;connects&nbsp;to&nbsp;the&nbsp;database.&nbsp;I&nbsp;put&nbsp;some&nbsp;log&nbsp;messges&nbsp;<br>
and&nbsp;I&nbsp;can&nbsp;see&nbsp;this&nbsp;happens.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;class=882164123-22122003&gt;1.&nbsp;Could&nbsp;someone&nbsp;tell&nbsp;<br>
me&nbsp;how&nbsp;I&nbsp;can&nbsp;keep&nbsp;the&nbsp;connection&nbsp;open?&nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;class=882164123-22122003&gt;2.&nbsp;&amp;nbsp;I&nbsp;appreciate&nbsp;<br>
if&nbsp;someone&nbsp;explain&nbsp;how&nbsp;mod_python&nbsp;handler&nbsp;is&nbsp;called&nbsp;when&nbsp;there&nbsp;are&nbsp;many&nbsp;<br>
requests?&nbsp;Does&nbsp;Apache&nbsp;create&nbsp;threads&nbsp;for&nbsp;each&nbsp;request?&nbsp;And&nbsp;how&nbsp;the&nbsp;global&nbsp;<br>
database&nbsp;connection&nbsp;is&nbsp;used?&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=882164123-22122003&gt;Thanks,&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=882164123-22122003&gt;-Jalil&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;class=882164123-22122003&gt;Here&nbsp;is&nbsp;the&nbsp;<br>
code:&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;HOST&nbsp;=&nbsp;&quot;localhost&quot;&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;DB&nbsp;=&nbsp;&quot;&lt;SPAN&nbsp;<br>
class=882164123-22122003&gt;my&lt;/SPAN&gt;db&quot;&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;USER&nbsp;=&nbsp;&quot;&lt;SPAN&nbsp;<br>
class=882164123-22122003&gt;user&lt;/SPAN&gt;&quot;&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;PASS&nbsp;=&nbsp;&quot;pwd&quot;&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;import&nbsp;MySQLdb&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;import&nbsp;string&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;def&nbsp;_db_login(relogin&nbsp;=&nbsp;0):&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;FONT&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=882164123-22122003&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;/SPAN&gt;global&nbsp;<br>
DB_CONN&lt;/FONT&gt;&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;FONT&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=882164123-22122003&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;/SPAN&gt;if&nbsp;relogin:&lt;/FONT&gt;&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;FONT&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=882164123-22122003&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&lt;/SPAN&gt;DB_CONN&nbsp;=&nbsp;MySQLdb.connect(db=DB,&nbsp;user=USER,&nbsp;<br>
passwd=PASS)&lt;/FONT&gt;&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;FONT&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=882164123-22122003&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&lt;/SPAN&gt;return&nbsp;DB_CONN&lt;/FONT&gt;&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;FONT&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=882164123-22122003&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;/SPAN&gt;else:&lt;/FONT&gt;&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;FONT&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=882164123-22122003&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&lt;/SPAN&gt;try:&lt;/FONT&gt;&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;FONT&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=882164123-22122003&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&lt;/SPAN&gt;d&nbsp;=&nbsp;DB_CONN&lt;/FONT&gt;&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;FONT&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=882164123-22122003&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&lt;/SPAN&gt;return&nbsp;d&lt;/FONT&gt;&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;FONT&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=882164123-22122003&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&lt;/SPAN&gt;except&nbsp;NameError:&lt;/FONT&gt;&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;FONT&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=882164123-22122003&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&lt;/SPAN&gt;DB_CONN&nbsp;=&nbsp;MySQLdb.connect(host=&nbsp;HOST,&nbsp;db=DB,&nbsp;user=USER,&nbsp;<br>
passwd=PASS)&lt;/FONT&gt;&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;FONT&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=882164123-22122003&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&lt;/SPAN&gt;return&nbsp;DB_CONN&lt;/FONT&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;<br>

</tt>
