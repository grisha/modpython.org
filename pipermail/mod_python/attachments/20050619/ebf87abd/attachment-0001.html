<tt>
&lt;HTML&gt;&lt;BODY&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-khtml-nbsp-mode:&nbsp;space;&nbsp;-khtml-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;&lt;BR&gt;&lt;DIV&gt;&lt;DIV&gt;On&nbsp;Jun&nbsp;19,&nbsp;2005,&nbsp;at&nbsp;6:34&nbsp;PM,&nbsp;Graham&nbsp;Dumpleton&nbsp;wrote:&lt;/DIV&gt;&lt;BR&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;BLOCKQUOTE&nbsp;type=&quot;cite&quot;&gt;&lt;DIV&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;I&nbsp;would&nbsp;advise&nbsp;against&nbsp;trying&nbsp;to&nbsp;accomodate&nbsp;&quot;.pyc&quot;&nbsp;files.&nbsp;If&nbsp;you&nbsp;were&nbsp;to&lt;/DIV&gt;&lt;DIV&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;do&nbsp;this&nbsp;you&nbsp;will&nbsp;in&nbsp;practice&nbsp;have&nbsp;to&nbsp;monitor&nbsp;the&nbsp;timestamps&nbsp;on&nbsp;both&nbsp;the&lt;/DIV&gt;&lt;DIV&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;&quot;.py&quot;&nbsp;and&nbsp;&quot;.pyc&quot;&nbsp;files&nbsp;and&nbsp;contend&nbsp;with&nbsp;issues&nbsp;such&nbsp;as&nbsp;what&nbsp;to&nbsp;do&nbsp;when&lt;/DIV&gt;&lt;DIV&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;the&nbsp;&quot;.pyc&quot;&nbsp;file&nbsp;is&nbsp;removed&nbsp;but&nbsp;the&nbsp;&quot;.py&quot;&nbsp;still&nbsp;exists&nbsp;but&nbsp;you&nbsp;were&nbsp;originally&lt;/DIV&gt;&lt;DIV&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;loaded&nbsp;from&nbsp;the&nbsp;&quot;.pyc&quot;&nbsp;file.&nbsp;Similarly,&nbsp;what&nbsp;do&nbsp;you&nbsp;do&nbsp;if&nbsp;you&nbsp;are&nbsp;loaded&lt;/DIV&gt;&lt;DIV&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;from&nbsp;the&nbsp;&quot;.pyc&quot;&nbsp;file&nbsp;and&nbsp;the&nbsp;&quot;.py&quot;&nbsp;file&nbsp;is&nbsp;removed.&nbsp;Does&nbsp;this&nbsp;imply&nbsp;that&lt;/DIV&gt;&lt;DIV&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;the&nbsp;user&nbsp;is&nbsp;intending&nbsp;the&nbsp;page&nbsp;to&nbsp;now&nbsp;no&nbsp;longer&nbsp;be&nbsp;available.&nbsp;Another&lt;/DIV&gt;&lt;DIV&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;cases&nbsp;is&nbsp;what&nbsp;do&nbsp;you&nbsp;do&nbsp;if&nbsp;you&nbsp;are&nbsp;loaded&nbsp;from&nbsp;the&nbsp;&quot;.pyc&quot;&nbsp;file&nbsp;and&nbsp;the&lt;/DIV&gt;&lt;DIV&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;&quot;.py&quot;&nbsp;file&nbsp;modification&nbsp;time&nbsp;is&nbsp;changed&nbsp;to&nbsp;be&nbsp;older&nbsp;than&nbsp;what&nbsp;it&nbsp;was&nbsp;before.&lt;/DIV&gt;&lt;DIV&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;Do&nbsp;you&nbsp;take&nbsp;this&nbsp;as&nbsp;meaning&nbsp;that&nbsp;an&nbsp;older&nbsp;file&nbsp;has&nbsp;been&nbsp;restored&nbsp;and&lt;/DIV&gt;&lt;DIV&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;that&nbsp;should&nbsp;be&nbsp;used&nbsp;instead.&nbsp;As&nbsp;you&nbsp;can&nbsp;see&nbsp;you&nbsp;have&nbsp;to&nbsp;make&nbsp;various&lt;/DIV&gt;&lt;DIV&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;assumptions&nbsp;and&nbsp;in&nbsp;some&nbsp;respects&nbsp;hope&nbsp;for&nbsp;the&nbsp;best.&nbsp;Although&nbsp;it&nbsp;can&lt;/DIV&gt;&lt;DIV&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;be&nbsp;made&nbsp;to&nbsp;work&nbsp;in&nbsp;a&nbsp;reasonably&nbsp;sensible&nbsp;way,&nbsp;I&nbsp;found&nbsp;it&nbsp;complicates&lt;/DIV&gt;&lt;DIV&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;the&nbsp;code&nbsp;unnecessarily&nbsp;and&nbsp;not&nbsp;worth&nbsp;the&nbsp;trouble,&nbsp;especially&nbsp;when&lt;/DIV&gt;&lt;DIV&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;Apache&nbsp;generally&nbsp;runs&nbsp;as&nbsp;a&nbsp;user&nbsp;where&nbsp;&quot;.pyc&quot;&nbsp;files&nbsp;can't&nbsp;be&nbsp;created&nbsp;in&lt;/DIV&gt;&lt;DIV&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;the&nbsp;first&nbsp;place.&lt;/DIV&gt;&lt;/BLOCKQUOTE&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;FONT&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#0000DD&quot;&gt;&lt;BR&nbsp;class=&quot;khtml-block-placeholder&quot;&gt;&lt;/FONT&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;FONT&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#0000DD&quot;&gt;ah&nbsp;well,&nbsp;I&nbsp;can&nbsp;definitely&nbsp;make&nbsp;assumptions&nbsp;as&nbsp;I'm&nbsp;talking&nbsp;specifically&nbsp;about&nbsp;modules&nbsp;loaded&nbsp;for&nbsp;Myghty,&nbsp;and&nbsp;the&nbsp;primary&nbsp;&quot;.py&quot;&nbsp;modules&nbsp;I&nbsp;am&nbsp;loading&nbsp;were&nbsp;generated&nbsp;from&nbsp;template&nbsp;files,&nbsp;so&nbsp;its&nbsp;already&nbsp;a&nbsp;given&nbsp;that&nbsp;there&nbsp;is&nbsp;a&nbsp;&quot;data&nbsp;directory&quot;&nbsp;configured&nbsp;where&nbsp;the&nbsp;Apache&nbsp;process&nbsp;can&nbsp;write&nbsp;.py&nbsp;files,&nbsp;and&nbsp;theres&nbsp;no&nbsp;problem&nbsp;assuming&nbsp;that&nbsp;a&nbsp;.py&nbsp;file&nbsp;must&nbsp;exist&nbsp;for&nbsp;each&nbsp;.pyc&nbsp;file&nbsp;else&nbsp;it&nbsp;gets&nbsp;recreated&nbsp;by&nbsp;the&nbsp;template,&nbsp;and&nbsp;they&nbsp;arent&nbsp;really&nbsp;part&nbsp;of&nbsp;a&nbsp;&quot;package&quot;.&nbsp; &nbsp; For&nbsp;a&nbsp;large&nbsp;set&nbsp;of&nbsp;several&nbsp;hundred&nbsp;or&nbsp;thousands&nbsp;of&nbsp;templates,&nbsp;which&nbsp;are&nbsp;released&nbsp;from&nbsp;memory&nbsp;on&nbsp;a&nbsp;least-recently-used&nbsp;scheme,&nbsp;a&nbsp;lot&nbsp;of&nbsp;them&nbsp;will&nbsp;be&nbsp;falling&nbsp;out&nbsp;of&nbsp;memory&nbsp;and&nbsp;getting&nbsp;re-loaded&nbsp;back&nbsp;in&nbsp;again&nbsp;repeatedly; &nbsp;the&nbsp;.pyc&nbsp;factor&nbsp;has&nbsp;a&nbsp;sizeable&nbsp;impact&nbsp;on&nbsp;how&nbsp;much&nbsp;work&nbsp;the&nbsp;server&nbsp;has&nbsp;to&nbsp;do,&nbsp;particularly&nbsp;upon&nbsp;startup&nbsp;or&nbsp;creation&nbsp;of&nbsp;new&nbsp;child&nbsp;processes,&nbsp;and&nbsp;also&nbsp;within&nbsp;setups&nbsp;that&nbsp;are&nbsp;sensitive&nbsp;to&nbsp;&quot;thrashing&quot;.&lt;/FONT&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;FONT&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#0000DD&quot;&gt;&lt;BR&nbsp;class=&quot;khtml-block-placeholder&quot;&gt;&lt;/FONT&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;FONT&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#0000DD&quot;&gt;I&nbsp;also&nbsp;have&nbsp;support&nbsp;for&nbsp;plain&nbsp;.py&nbsp;modules&nbsp;with&nbsp;callable&nbsp;functions/objects&nbsp;in&nbsp;the&nbsp;spirit&nbsp;of&nbsp;Vampire/Publisher,&nbsp;but&nbsp;similarly&nbsp;they&nbsp;are&nbsp;just&nbsp;the&nbsp;end-points&nbsp;to&nbsp;handling&nbsp;a&nbsp;request...they&nbsp;arent&nbsp;really&nbsp;meant&nbsp;to&nbsp;be&nbsp;imported&nbsp;by&nbsp;other&nbsp;modules&nbsp;and&nbsp;I&nbsp;only&nbsp;seek&nbsp;to&nbsp;support&nbsp;basic&nbsp;reloading&nbsp;functionality&nbsp;for&nbsp;them; &nbsp;if&nbsp;you&nbsp;change&nbsp;the&nbsp;back-end&nbsp;to&nbsp;code&nbsp;you&nbsp;would&nbsp;still&nbsp;have&nbsp;to&nbsp;restart&nbsp;the&nbsp;server. &nbsp;Generally&nbsp;I&nbsp;would&nbsp;base&nbsp;module&nbsp;loading/reloading&nbsp;upon&nbsp;the&nbsp;existence/timestamp&nbsp;of&nbsp;the&nbsp;.py&nbsp;file,&nbsp;and&nbsp;then&nbsp;look&nbsp;for&nbsp;the&nbsp;.pyc&nbsp;file&nbsp;existence/timestamp&nbsp;as&nbsp;a&nbsp;second&nbsp;step,&nbsp;the&nbsp;way&nbsp;imp.load_source&nbsp;does&nbsp;(which&nbsp;is&nbsp;what&nbsp;Im&nbsp;using&nbsp;now).&lt;/FONT&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;FONT&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#0000DD&quot;&gt;&lt;BR&nbsp;class=&quot;khtml-block-placeholder&quot;&gt;&lt;/FONT&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;FONT&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#0000DD&quot;&gt;&lt;BR&nbsp;class=&quot;khtml-block-placeholder&quot;&gt;&lt;/FONT&gt;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;
</tt>
