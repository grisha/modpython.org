<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;For&nbsp;my&nbsp;personal&nbsp;use&nbsp;I&nbsp;am&nbsp;looking&nbsp;for&nbsp;programmatic&nbsp;compatibility&nbsp;(only),&nbsp;simply&nbsp;to&nbsp;run&nbsp;existing&nbsp;code&nbsp;without&nbsp;MP&nbsp;and&nbsp;on&nbsp;top&nbsp;of&nbsp;WSGI.&lt;/div&gt;&lt;div&gt;Sole&nbsp;reason:&nbsp;end&nbsp;of&nbsp;development&nbsp;MP&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Since&nbsp;I&nbsp;do&nbsp;not&nbsp;use&nbsp;all&nbsp;of&nbsp;the&nbsp;functionality&nbsp;of&nbsp;MP&nbsp;I&nbsp;do&nbsp;not&nbsp;need&nbsp;but&nbsp;am&nbsp;willing&nbsp;to&nbsp;extend&nbsp;MODPYTHON_WSGI&nbsp;to&nbsp;help&nbsp;others.&nbsp;Basically&nbsp;most&nbsp;of&nbsp;the&nbsp;MP&nbsp;users&nbsp;relying&nbsp;on&nbsp;passing&nbsp;the&nbsp;Request&nbsp;Object&nbsp;around&nbsp;would&nbsp;be&nbsp;happy&nbsp;with&nbsp;my&nbsp;work&nbsp;pretty&nbsp;soon.&lt;/div&gt;&lt;div&gt;For&nbsp;full&nbsp;code&nbsp;compatibility&nbsp;I&nbsp;have&nbsp;set&nbsp;up&nbsp;a&nbsp;web&nbsp;server&nbsp;on&nbsp;linux&nbsp;with&nbsp;python&nbsp;2.6.[don't&nbsp;remember]&nbsp;and&nbsp;mod_wsgi.&nbsp;For&nbsp;testing&nbsp;purposes&nbsp;I&nbsp;have&nbsp;simply&nbsp;created&nbsp;a&nbsp;&quot;mod_python&quot;&nbsp;directory&nbsp;in&nbsp;the&nbsp;side-packages.&amp;nbsp;&lt;/div&gt;&lt;div&gt;In&nbsp;there&nbsp;are&nbsp;the&nbsp;__init__.py,&nbsp;Cookie.py&nbsp;util.py&nbsp;and&nbsp;apache.py&nbsp;(Session.py&nbsp;is&nbsp;something&nbsp;special&nbsp;in&nbsp;my&nbsp;case).&nbsp;In&nbsp;these&nbsp;modules&nbsp;I&nbsp;have&nbsp;commented&nbsp;out&nbsp;all&nbsp;references&nbsp;to&nbsp;_apache&nbsp;to&nbsp;see&nbsp;what&nbsp;happens.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;next&nbsp;I&nbsp;have&nbsp;made&nbsp;an&nbsp;index.wsgi&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;There&nbsp;I&nbsp;have&nbsp;&quot;made&quot;&nbsp;the&nbsp;definition&nbsp;of&nbsp;the&nbsp;Request,&nbsp;Connection&nbsp;and&nbsp;Server&nbsp;objects,&nbsp;these&nbsp;might&nbsp;be&nbsp;moved&nbsp;somewhere&nbsp;else&nbsp;(apache.py&nbsp;might&nbsp;be&nbsp;the&nbsp;place).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;my&nbsp;original&nbsp;module&nbsp;containing&nbsp;the&nbsp;handlers&nbsp;is&nbsp;imported&nbsp;like:&nbsp;&amp;nbsp;&nbsp;import&nbsp;index&nbsp;as&nbsp;app&lt;/div&gt;&lt;div&gt;and:&lt;/div&gt;&lt;div&gt;app.handler(Request(environ))&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;does&nbsp;the&nbsp;job&nbsp;(without&nbsp;any&nbsp;change&nbsp;to&nbsp;my&nbsp;application,&nbsp;no&nbsp;upload&nbsp;with&nbsp;body&nbsp;possible&nbsp;yet).&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;register_cleanup&nbsp;is&nbsp;handled&nbsp;like&nbsp;the&nbsp;example&nbsp;in&nbsp;the&nbsp;wiki&nbsp;of&nbsp;mod_wsgi.&nbsp;For&nbsp;now&nbsp;I&nbsp;keep&nbsp;the&nbsp;references&nbsp;and&nbsp;data&nbsp;in&nbsp;an&nbsp;Array.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So&nbsp;for&nbsp;now&nbsp;I&nbsp;have&nbsp;a&nbsp;working&nbsp;mod_python&nbsp;application&nbsp;running&nbsp;on&nbsp;mod_wsgi.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;ToDo&nbsp;shortlist:&lt;/div&gt;&lt;div&gt;Make&nbsp;req.read()&nbsp;(and&nbsp;similair&nbsp;functions)&nbsp;work&lt;br&gt;&lt;div&gt;Solve&nbsp;headers_in.&nbsp;Without&nbsp;that&nbsp;CalDav,&nbsp;WebDav&nbsp;are&nbsp;surely&nbsp;broken&nbsp;(No&nbsp;solution&nbsp;yet,&nbsp;headers_out&nbsp;is&nbsp;done)&lt;/div&gt;&lt;div&gt;implement&nbsp;request&nbsp;members&nbsp;(Like&nbsp;Req.parsed_uri)&lt;/div&gt;&lt;div&gt;review&nbsp;util&nbsp;and&nbsp;make&nbsp;things&nbsp;like&nbsp;fieldstorage&nbsp;work&lt;/div&gt;&lt;div&gt;implement&nbsp;some&nbsp;_apache&nbsp;functionality&nbsp;(log&nbsp;error&nbsp;being&nbsp;the&nbsp;most&nbsp;important&nbsp;for&nbsp;now)&lt;/div&gt;&lt;div&gt;change&nbsp;Session.py&nbsp;(Random&nbsp;generator&nbsp;is&nbsp;hooked&nbsp;to&nbsp;_apache&nbsp;functionality,&nbsp;workaround&nbsp;works&nbsp;for&nbsp;now)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#000000&quot;&gt;&lt;br&gt;&lt;/font&gt;A&nbsp;few&nbsp;questions.&lt;br&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#000000&quot;&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#144FAE&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;If&nbsp;you&nbsp;don't&nbsp;use&nbsp;publisher,&nbsp;what&nbsp;parts&nbsp;do&nbsp;you&nbsp;use?&lt;br&gt;&lt;br&gt;1.&nbsp;PSP?&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;No....&nbsp;I&nbsp;hope&nbsp;I&nbsp;can&nbsp;fix&nbsp;_psp&nbsp;easily.....&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;2.&nbsp;cgihandler?&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;No,&nbsp;Will&nbsp;make&nbsp;that&nbsp;work&nbsp;if&nbsp;really&nbsp;needed&nbsp;and&nbsp;possible&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;3.&nbsp;FieldStorage?&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;Not&nbsp;anymore&nbsp;(My&nbsp;current&nbsp;production&nbsp;version&nbsp;does,&nbsp;will&nbsp;not&nbsp;be&nbsp;ran&nbsp;on&nbsp;MOD_WSGI&nbsp;)&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;4.&nbsp;Session?&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;YES!&nbsp;but&nbsp;I&nbsp;heavily&nbsp;modified&nbsp;the&nbsp;original&nbsp;Session.py,&nbsp;remember&nbsp;my&nbsp;modifications&nbsp;to&nbsp;store&nbsp;in&nbsp;MySQL?&nbsp;Now&nbsp;I&nbsp;rely&nbsp;on&nbsp;SQLAlchemy&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;5.&nbsp;Cookie?&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;See&nbsp;Session,&nbsp;although&nbsp;I&nbsp;am&nbsp;planning&nbsp;to&nbsp;implement&nbsp;Cookieless&nbsp;sessions,&nbsp;somehow,&nbsp;someday&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;6.&nbsp;import_module()&nbsp;and&nbsp;import&nbsp;overlay?&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;Not&nbsp;yet,&nbsp;and&nbsp;not&nbsp;sure&nbsp;I&nbsp;will.&nbsp;This&nbsp;I&nbsp;something&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;talk&nbsp;to&nbsp;you&nbsp;about&nbsp;for&nbsp;best&nbsp;practice&nbsp;in&nbsp;my&nbsp;highly&nbsp;complex&nbsp;situation,&nbsp;currently&nbsp;way&nbsp;out&nbsp;of&nbsp;topic&nbsp;to&nbsp;discuss&nbsp;here....&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;7.&nbsp;request_rec,&nbsp;server_rec,&nbsp;conn_rec&nbsp;wrappers?&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;Do&nbsp;not&nbsp;really&nbsp;understand&nbsp;the&nbsp;&quot;wrapper&quot;&nbsp;part&nbsp;of&nbsp;your&nbsp;question,&nbsp;I&nbsp;think&nbsp;though&nbsp;my&nbsp;story&nbsp;above&nbsp;does&nbsp;answer&nbsp;it,&nbsp;if&nbsp;not&nbsp;tell&nbsp;me..&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;8.&nbsp;ap_internal_redirect()&nbsp;wrappers?&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;Do&nbsp;not&nbsp;use&nbsp;this&nbsp;since&nbsp;my&nbsp;system&nbsp;basically&nbsp;only&nbsp;uses&nbsp;apache&nbsp;and&nbsp;mod_python&nbsp;as&nbsp;a&nbsp;communication&nbsp;layer&nbsp;and&nbsp;a&nbsp;way&nbsp;to&nbsp;use&nbsp;the&nbsp;python&nbsp;language&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;br&gt;Overall,&nbsp;what&nbsp;is&nbsp;it&nbsp;about&nbsp;mod_python&nbsp;that&nbsp;you&nbsp;are&nbsp;doing&nbsp;would&nbsp;make&nbsp;it&lt;br&gt;a&nbsp;better&nbsp;platform&nbsp;that&nbsp;WSGI?&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;req,&nbsp;req,&nbsp;req&nbsp;and&nbsp;req&nbsp;again.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;pass&nbsp;req&nbsp;(the&nbsp;request_req)&nbsp;around,&nbsp;add&nbsp;stuff&nbsp;to&nbsp;it&nbsp;etc&nbsp;etc.&nbsp;My&nbsp;code&nbsp;relies&nbsp;on&nbsp;this&nbsp;so&nbsp;mutch&nbsp;that&nbsp;I&nbsp;need&nbsp;it&nbsp;or&nbsp;rebuild&nbsp;the&nbsp;the&nbsp;entire&nbsp;thing.&nbsp;I&nbsp;am&nbsp;developing&nbsp;a&nbsp;kind&nbsp;of&nbsp;a&nbsp;multi&nbsp;user&nbsp;Operating&nbsp;System&nbsp;with&nbsp;a&nbsp;web&nbsp;based&nbsp;desktop.&nbsp;Tho&nbsp;whole&nbsp;thing&nbsp;is&nbsp;developed&nbsp;so&nbsp;it&nbsp;can&nbsp;be&nbsp;scaleable&nbsp;and&nbsp;I&nbsp;am&nbsp;close&nbsp;to&nbsp;start&nbsp;working&nbsp;on&nbsp;the&nbsp;IDE&nbsp;for&nbsp;application&nbsp;development&nbsp;which&nbsp;will&nbsp;run&nbsp;in&nbsp;the&nbsp;web&nbsp;desktop.&nbsp;I&nbsp;have&nbsp;implemented&nbsp;email,&nbsp;calendaring&nbsp;(CalDAV),&nbsp;fileIO&nbsp;(WebDav),&nbsp;MessageQue&nbsp;(Client&nbsp;to&nbsp;Client,&nbsp;Client&nbsp;to&nbsp;server,&nbsp;Server&nbsp;to&nbsp;Server)&nbsp;etc.&nbsp;etc.&nbsp;So&nbsp;you&nbsp;can&nbsp;even&nbsp;sync&nbsp;your&nbsp;Iphone,&nbsp;Mac,&nbsp;Microsoft&nbsp;Exchange&nbsp;etc.&nbsp;so&nbsp;I&nbsp;need&nbsp;low&nbsp;level&nbsp;stuf...&nbsp;over&nbsp;5&nbsp;years&nbsp;of&nbsp;research&nbsp;and&nbsp;development&nbsp;has&nbsp;gone&nbsp;into&nbsp;this.&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;br&gt;Are&nbsp;you&nbsp;aiming&nbsp;for&nbsp;100%&nbsp;compatibility&nbsp;or&nbsp;more&nbsp;just&nbsp;the&nbsp;style&nbsp;of&lt;br&gt;writing&nbsp;applications?&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;Must&nbsp;be&nbsp;clear&nbsp;by&nbsp;now&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;br&gt;Some&nbsp;stuff&nbsp;like&nbsp;Cookie&nbsp;and&nbsp;FieldStorage&nbsp;could&nbsp;be&nbsp;switched&nbsp;to&nbsp;more&lt;br&gt;modern&nbsp;Python&nbsp;standard&nbsp;library&nbsp;equivalents,&nbsp;but&nbsp;obviously&nbsp;they&nbsp;would&lt;br&gt;not&nbsp;be&nbsp;wholly&nbsp;interface&nbsp;compatible.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;I&nbsp;See&nbsp;your&nbsp;point,&nbsp;Interface&nbsp;compatibility&nbsp;is&nbsp;the&nbsp;most&nbsp;important&nbsp;point,&nbsp;If&nbsp;someone&nbsp;wants&nbsp;to&nbsp;pick&nbsp;that&nbsp;up....&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;The&nbsp;mod_python&nbsp;interfaces&nbsp;are&nbsp;also&nbsp;quite&nbsp;arbitrary&nbsp;and&nbsp;not&nbsp;well&lt;br&gt;thought&nbsp;out&nbsp;in&nbsp;places&nbsp;due&nbsp;to&nbsp;egregious&nbsp;growth&nbsp;over&nbsp;time&nbsp;and&nbsp;could&nbsp;do&lt;br&gt;with&nbsp;some&nbsp;cleanup&nbsp;to&nbsp;make&nbsp;things&nbsp;more&nbsp;uniform.&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;True.&nbsp;I&nbsp;think&nbsp;though&nbsp;that&nbsp;due&nbsp;to&nbsp;the&nbsp;way&nbsp;the&nbsp;mod_python&nbsp;documentation&nbsp;turned&nbsp;out&nbsp;I&nbsp;think&nbsp;programmers&nbsp;messed&nbsp;around&nbsp;until&nbsp;they&nbsp;all&nbsp;got&nbsp;a&nbsp;way&nbsp;to&nbsp;work&nbsp;with&nbsp;mod_python,&nbsp;one&nbsp;found&nbsp;its&nbsp;answer&nbsp;with&nbsp;PSP&nbsp;the&nbsp;other&nbsp;with&nbsp;different&nbsp;handlers.&nbsp;I&nbsp;recognize&nbsp;my&nbsp;need&nbsp;for&nbsp;protocol&nbsp;level&nbsp;programming&nbsp;and&nbsp;the&nbsp;&quot;event&quot;&nbsp;driven&nbsp;handler&nbsp;model.&nbsp;So&nbsp;after&nbsp;using&nbsp;mod_python&nbsp;for&nbsp;a&nbsp;long&nbsp;time&nbsp;I&nbsp;must&nbsp;confess&nbsp;I&nbsp;am&nbsp;still&nbsp;confused&nbsp;about&nbsp;PSP,&nbsp;publisher&nbsp;etc.&nbsp;sorry&nbsp;if&nbsp;I&nbsp;confuse&nbsp;things.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;br&gt;Graham&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Martijn&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
