<tt>
Ooops&nbsp;sorry...&nbsp;I&nbsp;should&nbsp;learn&nbsp;to&nbsp;read&nbsp;questions&nbsp;better&nbsp;than&nbsp;that.&lt;br&gt;&lt;br&gt;Have&nbsp;you&nbsp;tried&nbsp;to&nbsp;curl&nbsp;or&nbsp;wget&nbsp;the&nbsp;page&nbsp;to&nbsp;see&nbsp;the&nbsp;result&nbsp;?&nbsp;Is&nbsp;this&nbsp;really&nbsp;valid&nbsp;XML&nbsp;?&lt;br&gt;&lt;br&gt;What&nbsp;have&nbsp;you&nbsp;implemented&nbsp;?&nbsp;A&nbsp;handler&nbsp;or&nbsp;a&nbsp;published&nbsp;module,&nbsp;<br>
i.e.&nbsp;do&nbsp;you&nbsp;use&nbsp;the&nbsp;mod_python.publisher&nbsp;handler&nbsp;?&nbsp;If&nbsp;this&nbsp;is&nbsp;the&nbsp;case,&nbsp;then&nbsp;since&nbsp;you&nbsp;are&nbsp;returning&nbsp;apache.OK&nbsp;instead&nbsp;of&nbsp;returning&nbsp;the&nbsp;document&nbsp;itself,&nbsp;you&nbsp;may&nbsp;get&nbsp;an&nbsp;additional&nbsp;'0'&nbsp;(the&nbsp;value&nbsp;of&nbsp;apache.OK)&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;response,&nbsp;which&nbsp;may&nbsp;bother&nbsp;the&nbsp;XML&nbsp;parser.&nbsp;But&nbsp;a&nbsp;much&nbsp;better&nbsp;approach&nbsp;is&nbsp;to&nbsp;use&nbsp;send_file()&nbsp;and&nbsp;return&nbsp;None&nbsp;(or&nbsp;implement&nbsp;a&nbsp;handler).<br>
&lt;br&gt;&lt;br&gt;Another&nbsp;problem&nbsp;might&nbsp;be&nbsp;with&nbsp;the&nbsp;charset&nbsp;encoding&nbsp;of&nbsp;the&nbsp;document.&nbsp;Is&nbsp;it&nbsp;specified&nbsp;in&nbsp;the&nbsp;XML&nbsp;header&nbsp;?&nbsp;If&nbsp;not,&nbsp;then&nbsp;a&nbsp;different&nbsp;default&nbsp;charset&nbsp;encoding&nbsp;between&nbsp;the&nbsp;server&nbsp;and&nbsp;the&nbsp;client&nbsp;platforms&nbsp;may&nbsp;cause&nbsp;the&nbsp;parsing&nbsp;to&nbsp;fail.<br>
&lt;br&gt;&lt;br&gt;Note&nbsp;that&nbsp;you&nbsp;should&nbsp;be&nbsp;able&nbsp;to&nbsp;add&nbsp;an&nbsp;error&nbsp;handling&nbsp;callback&nbsp;on&nbsp;the&nbsp;XMLHttpRequest&nbsp;objec&nbsp;to&nbsp;have&nbsp;more&nbsp;info&nbsp;on&nbsp;the&nbsp;problem.&lt;br&gt;&lt;br&gt;Regards,&lt;br&gt;Nicolas&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;2006/9/4,&nbsp;Ethan&nbsp;Toan&nbsp;Ton&nbsp;&amp;lt;<br>
&lt;a&nbsp;href=&quot;mailto:tton@stanfordalumni.org&quot;&gt;tton@stanfordalumni.org&lt;/a&gt;&amp;gt;:&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;Nicolas,&lt;br&gt;<br>
&lt;br&gt;The&nbsp;path&nbsp;isn't&nbsp;the&nbsp;problem.&amp;nbsp;&amp;nbsp;The&nbsp;handler&nbsp;reads&nbsp;the&nbsp;file&nbsp;fine.&amp;nbsp;&amp;nbsp;But&nbsp;when&nbsp;it&lt;br&gt;outputs&nbsp;to&nbsp;the&nbsp;requester,&nbsp;the&nbsp;formatting&nbsp;is&nbsp;done&nbsp;incorrectly&nbsp;so&nbsp;that&nbsp;it&nbsp;can't&lt;br&gt;be&nbsp;parsed.&lt;br&gt;&lt;br&gt;Ethan&lt;br&gt;&lt;br&gt;&lt;br&gt;------&nbsp;Original&nbsp;Message&nbsp;------<br>
&lt;br&gt;Received:&nbsp;11:25&nbsp;AM&nbsp;PDT,&nbsp;09/04/2006&lt;br&gt;From:&nbsp;&amp;quot;Nicolas&nbsp;Lehuen&amp;quot;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:nicolas@lehuen.com&quot;&gt;nicolas@lehuen.com&lt;/a&gt;&amp;gt;&lt;br&gt;To:&nbsp;&amp;quot;Ethan&nbsp;Toan&nbsp;Ton&amp;quot;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:ethanton@ethanton.com&quot;&gt;ethanton@ethanton.com<br>
&lt;/a&gt;&amp;gt;Cc:&nbsp;&lt;a&nbsp;href=&quot;mailto:mod_python@modpython.org&quot;&gt;mod_python@modpython.org&lt;/a&gt;&lt;br&gt;Subject:&nbsp;Re:&nbsp;[mod_python]&nbsp;Mod-Python&nbsp;Help&lt;br&gt;&lt;br&gt;Hi,&lt;br&gt;&lt;br&gt;You&nbsp;have&nbsp;to&nbsp;provide&nbsp;absolute&nbsp;paths&nbsp;when&nbsp;accessing&nbsp;local&nbsp;file.&nbsp;This&nbsp;is&lt;br&gt;because&nbsp;the&nbsp;cwd&nbsp;is&nbsp;always&nbsp;/.<br>
&lt;br&gt;&lt;br&gt;I&nbsp;you&nbsp;want&nbsp;to&nbsp;built&nbsp;paths&nbsp;relative&nbsp;to&nbsp;the&nbsp;script&nbsp;you&nbsp;are&nbsp;writing,&nbsp;you&nbsp;can&lt;br&gt;use&nbsp;the&nbsp;__FILE__&nbsp;meta&nbsp;variable&nbsp;:&lt;br&gt;&lt;br&gt;LOCAL_FILE&nbsp;=&nbsp;os.path.join(os.path.dirname(__FILE__),'myfile.txt')&lt;br&gt;&lt;br&gt;Regards,&lt;br&gt;Nicolas&lt;br&gt;<br>
&lt;br&gt;2006/9/4,&nbsp;Ethan&nbsp;Toan&nbsp;Ton&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:ethanton@ethanton.com&quot;&gt;ethanton@ethanton.com&lt;/a&gt;&amp;gt;:&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;Hi,&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;I'm&nbsp;not&nbsp;sure&nbsp;if&nbsp;this&nbsp;is&nbsp;the&nbsp;correct&nbsp;forum&nbsp;to&nbsp;be&nbsp;asking&nbsp;for&nbsp;help&nbsp;with&lt;br&gt;&amp;gt;&nbsp;Mod-Python,&nbsp;but&nbsp;I&nbsp;figure&nbsp;I'd&nbsp;give&nbsp;it&nbsp;a&nbsp;shot.&amp;nbsp;&amp;nbsp;I&nbsp;was&nbsp;wondering&nbsp;if&nbsp;anyone<br>
&lt;br&gt;&amp;gt;&nbsp;had&nbsp;experience&nbsp;using&nbsp;a&nbsp;Mod-Python&nbsp;request&nbsp;handler&nbsp;to&nbsp;answer&nbsp;a&nbsp;javascript&lt;br&gt;&amp;gt;&nbsp;xmlhttprequest().&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;When&nbsp;my&nbsp;javascript&nbsp;program&nbsp;does&nbsp;a&nbsp;request&nbsp;on&nbsp;the&nbsp;xml&nbsp;file&nbsp;directly,&nbsp;all&nbsp;of&lt;br&gt;&amp;gt;&nbsp;the&nbsp;javascript&nbsp;parsing&nbsp;of&nbsp;the&nbsp;xml&nbsp;works&nbsp;fine.&amp;nbsp;&amp;nbsp;However,&nbsp;when&nbsp;I&nbsp;try&nbsp;to&nbsp;call<br>
&lt;br&gt;&amp;gt;&nbsp;the&nbsp;request&nbsp;handler&nbsp;and&nbsp;get&nbsp;it&nbsp;to&nbsp;read&nbsp;the&nbsp;file&nbsp;in&nbsp;and&nbsp;return&nbsp;the&nbsp;request,&lt;br&gt;&amp;gt;&nbsp;the&nbsp;javascript&nbsp;can't&nbsp;parse&nbsp;the&nbsp;xml.&amp;nbsp;&amp;nbsp;Here's&nbsp;the&nbsp;code:&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;LOCAL_FILE&nbsp;=&nbsp;'htdocs/ethan/info.xml';&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;def&nbsp;get_request(req):<br>
&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;req.method&nbsp;==&nbsp;'GET':&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;file&nbsp;=&nbsp;open(LOCAL_FILE,&nbsp;'r')&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.content_type&nbsp;=&nbsp;&amp;quot;application/xml&amp;quot;&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.write(file.read())&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;<br>
apache.OK&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;The&nbsp;same&nbsp;data&nbsp;is&nbsp;sent,&nbsp;but&nbsp;I'm&nbsp;not&nbsp;sure&nbsp;if&nbsp;there&nbsp;is&nbsp;a&nbsp;formatting&nbsp;problem&lt;br&gt;&amp;gt;&nbsp;here.&amp;nbsp;&amp;nbsp;I'm&nbsp;assuming&nbsp;that's&nbsp;the&nbsp;problem,&nbsp;but&nbsp;I'm&nbsp;at&nbsp;a&nbsp;loss&nbsp;as&nbsp;to&nbsp;the&lt;br&gt;&amp;gt;&nbsp;solution.&amp;nbsp;&amp;nbsp;req.sendfile(LOCAL_FILE)&nbsp;does&nbsp;not&nbsp;work&nbsp;either.<br>
&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;Any&nbsp;help&nbsp;would&nbsp;be&nbsp;greatly&nbsp;appreciated.&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;Ethan&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;_______________________________________________&lt;br&gt;&amp;gt;&nbsp;Mod_python&nbsp;mailing&nbsp;list&lt;br&gt;&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:Mod_python@modpython.org&quot;&gt;<br>
Mod_python@modpython.org&lt;/a&gt;&lt;br&gt;&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;http://mailman.modpython.org/mailman/listinfo/mod_python&quot;&gt;http://mailman.modpython.org/mailman/listinfo/mod_python&lt;/a&gt;&lt;br&gt;&amp;gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;____________________________________________________________________<br>
&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
