<tt>
&lt;html&gt;<br>
I&nbsp;don't&nbsp;see&nbsp;where&nbsp;you&nbsp;are&nbsp;creating&nbsp;a&nbsp;dictionary&nbsp;entry&nbsp;with&nbsp;a&nbsp;key<br>
'counter'.&nbsp;Therefore,&nbsp;the&nbsp;statement&nbsp;in&nbsp;the&nbsp;else&nbsp;clause:&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;x-tab&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/x-tab&gt;session_data['count']<br>
=&nbsp;0&lt;br&gt;<br>
&lt;br&gt;<br>
will&nbsp;always&nbsp;be&nbsp;executed.&nbsp;Perhaps&nbsp;you&nbsp;want&nbsp;to&nbsp;say:&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;x-tab&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/x-tab&gt;&nbsp;if<br>
session_data.has_key('count'):&lt;br&gt;<br>
&lt;br&gt;<br>
At&nbsp;04:32&nbsp;PM&nbsp;4/17/01&nbsp;+0900,&nbsp;nineclue@bigfoot.com&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;type=cite&nbsp;cite&gt;Greetings...&lt;br&gt;<br>
&lt;br&gt;<br>
I've&nbsp;posted&nbsp;somewhat&nbsp;long&nbsp;python&nbsp;program&nbsp;during&nbsp;development,&nbsp;which&lt;br&gt;<br>
may&nbsp;need&nbsp;pg&nbsp;module,&nbsp;postgres&nbsp;running&nbsp;with&nbsp;pyweb&nbsp;db&nbsp;created&nbsp;etc...&lt;br&gt;<br>
&lt;br&gt;<br>
Here's&nbsp;short&nbsp;version,&nbsp;which&nbsp;don't&nbsp;work&nbsp;as&nbsp;I&nbsp;expected.&lt;br&gt;<br>
&lt;br&gt;<br>
from&nbsp;mod_python&nbsp;import&nbsp;apache&lt;br&gt;<br>
&lt;br&gt;<br>
session_data&nbsp;=&nbsp;{}&lt;br&gt;<br>
session_counter&nbsp;=&nbsp;0&lt;br&gt;<br>
&lt;br&gt;<br>
def&nbsp;handler(req):&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;global&nbsp;session_data,<br>
session_counter&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if<br>
session_data.has_key('counter'):&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
session_data['count']&nbsp;=&nbsp;session_data['count']&nbsp;+&nbsp;1&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;else:&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
session_data['count']&nbsp;=&nbsp;0&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;session_counter&nbsp;+=&nbsp;1&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
req.write('&amp;lt;HTML&amp;gt;')&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.write('Session&nbsp;data&nbsp;has&nbsp;%d<br>
items&amp;lt;BR&amp;gt;'&nbsp;%&nbsp;len(session_data))&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.write('Counter&nbsp;:<br>
%02d&amp;lt;BR&amp;gt;'&nbsp;%&nbsp;session_data['count'])&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.write('Alternative&nbsp;Counter<br>
:&nbsp;%02d&amp;lt;BR&amp;gt;'&nbsp;%&nbsp;session_counter)&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
req.write('&amp;lt;/HTML&amp;gt;')&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;apache.OK&lt;br&gt;<br>
&lt;br&gt;<br>
When&nbsp;I&nbsp;loaded&nbsp;the&nbsp;page&nbsp;and&nbsp;tried&nbsp;several&nbsp;reloads,&nbsp;session_data<br>
dictionary&lt;br&gt;<br>
variable&nbsp;is&nbsp;never&nbsp;increased&nbsp;and&nbsp;session_counter&nbsp;variable&nbsp;is<br>
increased&lt;br&gt;<br>
after&nbsp;several&nbsp;tries.&nbsp;What&nbsp;I&nbsp;expected&nbsp;was&nbsp;both&nbsp;variable&nbsp;increase&nbsp;at<br>
each&lt;br&gt;<br>
reload.&lt;br&gt;<br>
&lt;br&gt;<br>
In&nbsp;my&nbsp;thoughts,&nbsp;dictionary&nbsp;variable&nbsp;is&nbsp;not&nbsp;supported&nbsp;and&nbsp;main<br>
interpreter&lt;br&gt;<br>
is&nbsp;created&nbsp;in&nbsp;each&nbsp;Apache&nbsp;processes,&nbsp;which&nbsp;is&nbsp;shared&nbsp;by<br>
subinterpreters.&lt;br&gt;<br>
&lt;br&gt;<br>
Sorry&nbsp;for&nbsp;posting&nbsp;again,&nbsp;long&nbsp;message&nbsp;and&nbsp;my&nbsp;poor&nbsp;English.&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks&nbsp;in&nbsp;advance.&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Mod_python&nbsp;mailing&nbsp;list&lt;br&gt;<br>
Mod_python@modpython.org&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://www.modpython.org/mailman/listinfo/mod_python&quot;&nbsp;eudora=&quot;autourl&quot;&gt;http://www.modpython.org/mailman/listinfo/mod_python&lt;/a&gt;<br>
&lt;/blockquote&gt;&lt;br&gt;<br>
<br>
&lt;font&nbsp;face=&quot;Courier&nbsp;New,&nbsp;Courier&quot;&gt;__________________________________________________________________________________&lt;br&gt;<br>
&lt;/font&gt;&lt;font&nbsp;face=&quot;Courier&nbsp;New,&nbsp;Courier&quot;&nbsp;size=5&nbsp;color=&quot;#000080&quot;&gt;&lt;b&gt;Victor&nbsp;Muslin&lt;/b&gt;&lt;/font&gt;&lt;font&nbsp;face=&quot;Courier&nbsp;New,&nbsp;Courier&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;i&gt;The&nbsp;power&nbsp;of&nbsp;accurate&nbsp;observation&nbsp;is&nbsp;frequently&nbsp;called&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;cynicism&nbsp;by&nbsp;those&nbsp;who&nbsp;don't&nbsp;have&nbsp;it.&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&nbsp;-&nbsp;George&nbsp;Bernard&nbsp;Shaw&lt;br&gt;<br>
&lt;/font&gt;&lt;/i&gt;&lt;/html&gt;<br>

</tt>
