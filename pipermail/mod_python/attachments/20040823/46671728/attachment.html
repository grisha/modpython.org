<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;3.2//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;<br>
&lt;META&nbsp;NAME=&quot;Generator&quot;&nbsp;CONTENT=&quot;MS&nbsp;Exchange&nbsp;Server&nbsp;version&nbsp;5.5.2653.12&quot;&gt;<br>
&lt;TITLE&gt;RES:&nbsp;[mod_python]&nbsp;The&nbsp;right&nbsp;way&nbsp;to&nbsp;handle&nbsp;sessions&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Hi&nbsp;Amir.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&gt;You&nbsp;can&nbsp;add&nbsp;your&nbsp;code&nbsp;snippet&nbsp;in&nbsp;the&nbsp;mod_python&nbsp;wiki&nbsp;cookbook&nbsp;(&lt;A&nbsp;HREF=&quot;http://modpython.coedit.net/CookBook&quot;&nbsp;TARGET=&quot;_blank&quot;&gt;http://modpython.coedit.net/CookBook&lt;/A&gt;).&nbsp;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&gt;Regards,&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Alexandre&nbsp;Denstone&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;BankBoston&nbsp;-&nbsp;Retail&nbsp;Internet&nbsp;Systems&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;*&nbsp;ajdenstone@bkb.com.br&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
&lt;BR&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;-----Mensagem&nbsp;original-----&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;De:&nbsp;Amir&nbsp;Salihefendic&nbsp;[&lt;A&nbsp;HREF=&quot;mailto:amix@amix.dk&quot;&gt;mailto:amix@amix.dk&lt;/A&gt;]&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Enviada&nbsp;em:&nbsp;sexta-feira,&nbsp;13&nbsp;de&nbsp;agosto&nbsp;de&nbsp;2004&nbsp;12:32&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Para:&nbsp;mod_python&nbsp;user&nbsp;mailing&nbsp;list&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Assunto:&nbsp;Re:&nbsp;[mod_python]&nbsp;The&nbsp;right&nbsp;way&nbsp;to&nbsp;handle&nbsp;sessions&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
&lt;BR&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;def&nbsp;createSession(req):&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;new_session&nbsp;=&nbsp;Session.Session(req)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;new_session.unlock()&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;#Check&nbsp;id&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.write(new_session.id())&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;getSameSession(req,&nbsp;new_session.id())&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;def&nbsp;getSameSession(req,&nbsp;SID):&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;same_session&nbsp;=&nbsp;Session.Session(req,&nbsp;SID)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;#Check&nbsp;id&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.write(&amp;quot;\n%s\n&amp;quot;&nbsp;%&nbsp;same_session.id())&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;&amp;quot;Done&amp;quot;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Argh&nbsp;forgot&nbsp;something&nbsp;very&nbsp;important&nbsp;(to&nbsp;save&nbsp;the&nbsp;damn&nbsp;session)!:&nbsp;def&nbsp;createSession(req):&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;new_session&nbsp;=&nbsp;Session.Session(req)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;new_session.save()&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;new_session.unlock()&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;#Check&nbsp;id&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.write(new_session.id())&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;getSameSession(req,&nbsp;new_session.id())&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;def&nbsp;getSameSession(req,&nbsp;SID):&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;same_session&nbsp;=&nbsp;Session.Session(req,&nbsp;SID)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;same_session.load()&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;#Check&nbsp;id&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.write(&amp;quot;\n%s\n&amp;quot;&nbsp;%&nbsp;same_session.id())&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;&amp;quot;Done&amp;quot;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;*Tsk&nbsp;tsk*&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Med&nbsp;venlig&nbsp;hilsen&nbsp;/&nbsp;Kind&nbsp;regards&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Amir&nbsp;Salihefendic&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-----&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;What&nbsp;we&nbsp;do&nbsp;in&nbsp;life&nbsp;echoes&nbsp;in&nbsp;eternity&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Den&nbsp;13/8-2004,&nbsp;kl.&nbsp;13.30,&nbsp;skrev&nbsp;Amir&nbsp;Salihefendic:&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;Thanks&nbsp;a&nbsp;lot&nbsp;for&nbsp;your&nbsp;time&nbsp;spent&nbsp;on&nbsp;the&nbsp;reply,&nbsp;I&nbsp;appreciate&nbsp;it.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;&amp;quot;Under&nbsp;what&nbsp;circumstances&nbsp;do&nbsp;you&nbsp;call&nbsp;createSession()&nbsp;instead&nbsp;of&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;getSameSession()?&amp;quot;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;Let's&nbsp;take&nbsp;another&nbsp;example:&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;I&nbsp;am&nbsp;making&nbsp;a&nbsp;blog-system&nbsp;where&nbsp;I&nbsp;need&nbsp;to&nbsp;have&nbsp;an&nbsp;admin&nbsp;section.&nbsp;I&nbsp;am&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;using&nbsp;the&nbsp;publisher&nbsp;handler.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;Simple&nbsp;forms&nbsp;post&nbsp;username&nbsp;and&nbsp;password&nbsp;to&nbsp;admin.py&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;Admin.py&nbsp;has&nbsp;an&nbsp;index&nbsp;function,&nbsp;which&nbsp;has&nbsp;username&nbsp;and&nbsp;password&nbsp;as&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;input.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;In&nbsp;the&nbsp;index&nbsp;function&nbsp;I&nbsp;check&nbsp;if&nbsp;the&nbsp;username&nbsp;and&nbsp;password&nbsp;match,&nbsp;if&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;they&nbsp;do&nbsp;I&nbsp;create&nbsp;an&nbsp;session&nbsp;and&nbsp;store&nbsp;username&nbsp;and&nbsp;password.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;Now,&nbsp;I&nbsp;need&nbsp;to&nbsp;redirect&nbsp;to&nbsp;a&nbsp;new&nbsp;function&nbsp;viewPosts&nbsp;(it's&nbsp;also&nbsp;located&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;in&nbsp;the&nbsp;admin&nbsp;module).&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;In&nbsp;viewPosts&nbsp;I&nbsp;have&nbsp;to&nbsp;check&nbsp;if&nbsp;the&nbsp;right&nbsp;session&nbsp;is&nbsp;set&nbsp;-&nbsp;else&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;somebody&nbsp;could&nbsp;do&nbsp;admin.py/viewPosts&nbsp;and&nbsp;get&nbsp;access&nbsp;to&nbsp;the&nbsp;admin&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;section.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;Of&nbsp;course,&nbsp;I&nbsp;could&nbsp;solve&nbsp;problem&nbsp;in&nbsp;many&nbsp;other&nbsp;ways:&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;-&nbsp;Send&nbsp;the&nbsp;SID&nbsp;to&nbsp;viewPosts&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;-&nbsp;Place&nbsp;everything&nbsp;in&nbsp;one&nbsp;function&nbsp;(i.e.&nbsp;place&nbsp;everything&nbsp;in&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;admin.py/index)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;-&nbsp;&amp;quot;Append&amp;quot;&nbsp;the&nbsp;session&nbsp;to&nbsp;the&nbsp;req&nbsp;object&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;-&nbsp;Make&nbsp;viewPosts&nbsp;private&nbsp;(i.e.&nbsp;do&nbsp;_viewPosts)&nbsp;and&nbsp;then&nbsp;I&nbsp;can&nbsp;only&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;access&nbsp;it&nbsp;by&nbsp;going&nbsp;through&nbsp;admin.py/index&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;-etc.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;Anyway,&nbsp;I&nbsp;am&nbsp;interested&nbsp;in&nbsp;knowing:&nbsp;What&nbsp;is&nbsp;the&nbsp;smartest&nbsp;way&nbsp;to&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;&amp;quot;share&amp;quot;/access&nbsp;same&nbsp;session&nbsp;across&nbsp;functions&nbsp;(i.e.&nbsp;when&nbsp;you&nbsp;are&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;internal&nbsp;&amp;quot;redirecting&amp;quot;)?&nbsp;Example&nbsp;of&nbsp;what&nbsp;I&nbsp;mean&nbsp;by&nbsp;&amp;quot;redirecting&amp;quot;&nbsp;(not&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;working...):&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;def&nbsp;createSession(req):&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;new_session&nbsp;=&nbsp;Session.Session(req)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;getSameSession(req)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;def&nbsp;getSameSession(req):&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;same_session&nbsp;=&nbsp;Session.Session(req)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;same_session.id()&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;My&nbsp;guess&nbsp;is&nbsp;to&nbsp;send&nbsp;the&nbsp;SID&nbsp;(working).&nbsp;This&nbsp;seems&nbsp;to&nbsp;be&nbsp;a&nbsp;very&nbsp;light&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;and&nbsp;easy&nbsp;approach:&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;def&nbsp;createSession(req):&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;new_session&nbsp;=&nbsp;Session.Session(req)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;new_session.unlock()&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;#Check&nbsp;id&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.write(new_session.id())&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;getSameSession(req,&nbsp;new_session.id())&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;def&nbsp;getSameSession(req,&nbsp;SID):&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;same_session&nbsp;=&nbsp;Session.Session(req,&nbsp;SID)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;#Check&nbsp;id&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.write(&amp;quot;\n%s\n&amp;quot;&nbsp;%&nbsp;same_session.id())&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;&amp;quot;Done&amp;quot;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;(This&nbsp;is&nbsp;a&nbsp;solution&nbsp;I&nbsp;use&nbsp;now.)&nbsp;Of&nbsp;course&nbsp;this&nbsp;is&nbsp;very&nbsp;simplified&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;example...&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;Med&nbsp;venlig&nbsp;hilsen&nbsp;/&nbsp;Kind&nbsp;regards&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;Amir&nbsp;Salihefendic&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;-----&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;What&nbsp;we&nbsp;do&nbsp;in&nbsp;life&nbsp;echoes&nbsp;in&nbsp;eternity&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;Den&nbsp;13/8-2004,&nbsp;kl.&nbsp;1.17,&nbsp;skrev&nbsp;Byron&nbsp;Ellacott:&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;Amir&nbsp;Salihefendic&nbsp;wrote:&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;I&nbsp;welcome&nbsp;myself&nbsp;to&nbsp;this&nbsp;list&nbsp;;-)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;Welcome!&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;[working&nbsp;example]&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;def&nbsp;createSession(req):&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;def&nbsp;getSameSession(req):&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;The&nbsp;important&nbsp;thing&nbsp;to&nbsp;note&nbsp;here&nbsp;is&nbsp;that&nbsp;the&nbsp;code&nbsp;is&nbsp;identical&nbsp;in&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;both&nbsp;calls.&amp;nbsp;&nbsp;That&nbsp;is,&nbsp;if&nbsp;you&nbsp;call&nbsp;Session.Session(req)&nbsp;with&nbsp;no&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;session&nbsp;ID&nbsp;in&nbsp;cookies,&nbsp;or&nbsp;the&nbsp;existing&nbsp;session&nbsp;ID&nbsp;has&nbsp;no&nbsp;matching&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;session&nbsp;stored&nbsp;on&nbsp;disk,&nbsp;a&nbsp;new&nbsp;session&nbsp;ID&nbsp;is&nbsp;generated.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;But,&nbsp;the&nbsp;session&nbsp;is&nbsp;/not/&nbsp;written&nbsp;to&nbsp;disk.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;def&nbsp;createSession(req):&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;getSameSession(req)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;def&nbsp;getSameSession(req):&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;same_session.id()&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;So&nbsp;when&nbsp;you&nbsp;change&nbsp;to&nbsp;calling&nbsp;getSameSession()&nbsp;from&nbsp;createSession()&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;you&nbsp;are&nbsp;in&nbsp;fact&nbsp;creating&nbsp;/two/&nbsp;sessions.&amp;nbsp;&nbsp;My&nbsp;guess&nbsp;would&nbsp;be&nbsp;that&nbsp;your&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;apparent&nbsp;infinite&nbsp;loop&nbsp;is&nbsp;in&nbsp;fact&nbsp;a&nbsp;deadlock,&nbsp;caused&nbsp;by&nbsp;the&nbsp;fact&nbsp;that&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;your&nbsp;second&nbsp;created&nbsp;session&nbsp;will&nbsp;be&nbsp;reusing&nbsp;the&nbsp;session&nbsp;ID&nbsp;created&nbsp;by&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;the&nbsp;first&nbsp;one,&nbsp;and&nbsp;then&nbsp;attempting&nbsp;to&nbsp;establish&nbsp;a&nbsp;global&nbsp;lock&nbsp;on&nbsp;that&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;session&nbsp;ID.&amp;nbsp;&nbsp;Bad.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;This&nbsp;does&nbsp;not&nbsp;work&nbsp;-&nbsp;it&nbsp;makes&nbsp;an&nbsp;infinitive&nbsp;loop..!&amp;nbsp;&nbsp;Now&nbsp;to&nbsp;fix&nbsp;this&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;you&nbsp;need&nbsp;to&nbsp;unlock&nbsp;the&nbsp;session&nbsp;in&nbsp;createSession&nbsp;(..&nbsp;I&nbsp;have&nbsp;no&nbsp;clue&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;why&nbsp;you&nbsp;have&nbsp;to&nbsp;do&nbsp;this..?).&nbsp;And&nbsp;then&nbsp;you&nbsp;need&nbsp;to&nbsp;restart&nbsp;apache...&amp;nbsp;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;i.e.:&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;This&nbsp;bears&nbsp;up&nbsp;my&nbsp;analysis&nbsp;well.&amp;nbsp;&nbsp;The&nbsp;locking&nbsp;done&nbsp;by&nbsp;the&nbsp;Session&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;module&nbsp;is&nbsp;an&nbsp;Apache-wide&nbsp;lock&nbsp;on&nbsp;the&nbsp;session&nbsp;ID.&amp;nbsp;&nbsp;So,&nbsp;when&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;createSession()&nbsp;first&nbsp;creates&nbsp;a&nbsp;session,&nbsp;it&nbsp;locks&nbsp;that&nbsp;sid.&amp;nbsp;&nbsp;Then,&nbsp;it&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;calls&nbsp;getSameSession()&nbsp;which&nbsp;attempts&nbsp;to&nbsp;lock&nbsp;the&nbsp;same&nbsp;sid.&amp;nbsp;&nbsp;The&nbsp;lock&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;call&nbsp;blocks&nbsp;here,&nbsp;waiting&nbsp;for&nbsp;the&nbsp;first&nbsp;lock&nbsp;to&nbsp;be&nbsp;released,&nbsp;but&nbsp;that&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;release&nbsp;will&nbsp;never&nbsp;come.&amp;nbsp;&nbsp;If&nbsp;you&nbsp;cause&nbsp;the&nbsp;first&nbsp;created&nbsp;session&nbsp;to&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;unlock&nbsp;itself,&nbsp;you&nbsp;will&nbsp;not&nbsp;create&nbsp;a&nbsp;deadlock,&nbsp;but&nbsp;you&nbsp;will&nbsp;need&nbsp;to&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;restart&nbsp;apache&nbsp;to&nbsp;break&nbsp;an&nbsp;existing&nbsp;deadlock.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;But&nbsp;this&nbsp;does&nbsp;not&nbsp;work&nbsp;quite&nbsp;well..&nbsp;If&nbsp;you&nbsp;delete&nbsp;the&nbsp;Session:&nbsp;And&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;then&nbsp;you&nbsp;do&nbsp;this:&nbsp;First&nbsp;time&nbsp;the&nbsp;id's&nbsp;aren't&nbsp;same&nbsp;-&nbsp;after&nbsp;that&nbsp;they&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;are&nbsp;the&nbsp;same.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;When&nbsp;a&nbsp;session&nbsp;has&nbsp;been&nbsp;deleted,&nbsp;it&nbsp;is&nbsp;marked&nbsp;as&nbsp;invalid&nbsp;and&nbsp;calling&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;.load()&nbsp;on&nbsp;that&nbsp;sid&nbsp;will&nbsp;fail.&amp;nbsp;&nbsp;.__init__()&nbsp;will&nbsp;create&nbsp;a&nbsp;new&nbsp;sid&nbsp;if&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;.load()&nbsp;fails&nbsp;for&nbsp;an&nbsp;existing&nbsp;one,&nbsp;so&nbsp;I&nbsp;suspect&nbsp;you&nbsp;are&nbsp;seeing&nbsp;this&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;behaviour.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;Overall,&nbsp;it&nbsp;seems&nbsp;you&nbsp;are&nbsp;making&nbsp;the&nbsp;session&nbsp;management&nbsp;process&nbsp;far&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;more&nbsp;complicated&nbsp;than&nbsp;it&nbsp;needs&nbsp;to&nbsp;be.&amp;nbsp;&nbsp;Under&nbsp;what&nbsp;circumstances&nbsp;do&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;you&nbsp;call&nbsp;createSession()&nbsp;instead&nbsp;of&nbsp;getSameSession()&nbsp;?&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;I&nbsp;am&nbsp;successfully&nbsp;using&nbsp;the&nbsp;Session&nbsp;module&nbsp;to&nbsp;handle&nbsp;an&nbsp;HTML&nbsp;forms&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;based&nbsp;login&nbsp;system:&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;session&nbsp;=&nbsp;Session.Session(req)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;if&nbsp;NeedAuth&nbsp;and&nbsp;not&nbsp;session.has_key('username'):&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;redirect(AuthPage)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;ServePage(req)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;session.save()&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;return&nbsp;apache.OK&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;This&nbsp;is&nbsp;a&nbsp;simplification,&nbsp;since&nbsp;I&nbsp;use&nbsp;an&nbsp;extensible&nbsp;application&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;object&nbsp;that&nbsp;allows&nbsp;you&nbsp;to&nbsp;change&nbsp;how&nbsp;sessions&nbsp;are&nbsp;generated&nbsp;and&nbsp;how&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;users&nbsp;are&nbsp;authenticated,&nbsp;but&nbsp;it&nbsp;boils&nbsp;down&nbsp;to&nbsp;the&nbsp;above.&amp;nbsp;&nbsp;I&nbsp;create&nbsp;a&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;new&nbsp;session&nbsp;or&nbsp;get&nbsp;an&nbsp;existing&nbsp;session.&amp;nbsp;&nbsp;I&nbsp;do&nbsp;not&nbsp;care&nbsp;which.&amp;nbsp;&nbsp;If&nbsp;the&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;page&nbsp;being&nbsp;requested&nbsp;needs&nbsp;auth,&nbsp;but&nbsp;the&nbsp;session&nbsp;doesn't&nbsp;contain&nbsp;a&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;username&nbsp;key,&nbsp;I&nbsp;redirect[1]&nbsp;to&nbsp;the&nbsp;login&nbsp;page,&nbsp;which&nbsp;stores&nbsp;the&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;username&nbsp;value&nbsp;into&nbsp;the&nbsp;session&nbsp;if&nbsp;the&nbsp;user&nbsp;presents&nbsp;the&nbsp;right&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;credentials.&amp;nbsp;&nbsp;Otherwise,&nbsp;I&nbsp;serve&nbsp;the&nbsp;requested&nbsp;page,&nbsp;then&nbsp;save&nbsp;the&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;session,&nbsp;and&nbsp;Bob's&nbsp;a&nbsp;builder.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;Note&nbsp;that&nbsp;I&nbsp;cannot&nbsp;distinguish&nbsp;between&nbsp;an&nbsp;expired&nbsp;session&nbsp;and&nbsp;no&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;session&nbsp;at&nbsp;all,&nbsp;but&nbsp;this&nbsp;is&nbsp;a&nbsp;limitation&nbsp;of&nbsp;the&nbsp;Session&nbsp;module.&amp;nbsp;&nbsp;I&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;can&nbsp;distinguish&nbsp;between&nbsp;a&nbsp;new&nbsp;session&nbsp;and&nbsp;an&nbsp;existing&nbsp;session&nbsp;by&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;calling&nbsp;session.is_new(),&nbsp;but&nbsp;that&nbsp;distinction&nbsp;turns&nbsp;out&nbsp;not&nbsp;to&nbsp;be&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;very&nbsp;important.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;At&nbsp;some&nbsp;point,&nbsp;I&nbsp;will&nbsp;need&nbsp;to&nbsp;extract&nbsp;the&nbsp;sid&nbsp;from&nbsp;the&nbsp;cookie&nbsp;set&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;myself,&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;distinguish&nbsp;between&nbsp;a&nbsp;timed&nbsp;out&nbsp;session,&nbsp;an&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;invalidated&nbsp;session,&nbsp;a&nbsp;missing&nbsp;session&nbsp;and&nbsp;a&nbsp;brand&nbsp;new&nbsp;session.&amp;nbsp;&nbsp;(Or&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;else&nbsp;I'll&nbsp;have&nbsp;to&nbsp;patch&nbsp;the&nbsp;Session&nbsp;module,&nbsp;which&nbsp;I'm&nbsp;not&nbsp;real&nbsp;keen&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;to&nbsp;do.)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;--&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;bje&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;[1]&nbsp;The&nbsp;'redirects'&nbsp;I&nbsp;do&nbsp;are&nbsp;simply&nbsp;changing&nbsp;what&nbsp;view&nbsp;my&nbsp;code&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;believes&nbsp;it&nbsp;is&nbsp;processing,&nbsp;so&nbsp;execution&nbsp;continues&nbsp;down&nbsp;the&nbsp;line,&nbsp;and&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;session.save()&nbsp;is&nbsp;called&nbsp;in&nbsp;due&nbsp;order.&amp;nbsp;&nbsp;If&nbsp;you're&nbsp;using&nbsp;an&nbsp;Apache&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;internal&nbsp;redirect&nbsp;or&nbsp;a&nbsp;302/303&nbsp;redirect,&nbsp;you&nbsp;should&nbsp;ensure&nbsp;new&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;sessions&nbsp;are&nbsp;saved&nbsp;as&nbsp;soon&nbsp;as&nbsp;created&nbsp;with&nbsp;&amp;quot;if&nbsp;session.is_new():&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;session.save()&amp;quot;.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;_______________________________________________&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;Mod_python&nbsp;mailing&nbsp;list&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;Mod_python@modpython.org&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&nbsp;&lt;A&nbsp;HREF=&quot;http://mailman.modpython.org/mailman/listinfo/mod_python&quot;&nbsp;TARGET=&quot;_blank&quot;&gt;http://mailman.modpython.org/mailman/listinfo/mod_python&lt;/A&gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;_______________________________________________&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;Mod_python&nbsp;mailing&nbsp;list&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;Mod_python@modpython.org&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&nbsp;&lt;A&nbsp;HREF=&quot;http://mailman.modpython.org/mailman/listinfo/mod_python&quot;&nbsp;TARGET=&quot;_blank&quot;&gt;http://mailman.modpython.org/mailman/listinfo/mod_python&lt;/A&gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&amp;gt;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;_______________________________________________&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Mod_python&nbsp;mailing&nbsp;list&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Mod_python@modpython.org&nbsp;&lt;A&nbsp;HREF=&quot;http://mailman.modpython.org/mailman/listinfo/mod_python&quot;&nbsp;TARGET=&quot;_blank&quot;&gt;http://mailman.modpython.org/mailman/listinfo/mod_python&lt;/A&gt;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
&lt;BR&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=1&gt;Esta&nbsp;mensagem,&nbsp;incluindo&nbsp;seus&nbsp;anexos,&nbsp;pode&nbsp;conter&nbsp;informa&amp;ccedil;&amp;atilde;o&nbsp;confidencial&nbsp;e/ou&nbsp;privilegiada.&nbsp;Se&nbsp;voc&amp;ecirc;&nbsp;recebeu&nbsp;este&nbsp;e-mail&nbsp;por&nbsp;engano,&nbsp;n&amp;atilde;o&nbsp;utilize,&nbsp;copie&nbsp;ou&nbsp;divulgue&nbsp;as&nbsp;informa&amp;ccedil;&amp;otilde;es&nbsp;nele&nbsp;contidas.&nbsp;E,&nbsp;por&nbsp;favor,&nbsp;avise&nbsp;imediatamente&nbsp;o&nbsp;remetente,&nbsp;respondendo&nbsp;ao&nbsp;e-mail,&nbsp;e&nbsp;em&nbsp;seguida&nbsp;apague-o.&nbsp;Este&nbsp;e-mail&nbsp;possui&nbsp;conte&amp;uacute;do&nbsp;informativo&nbsp;e&nbsp;n&amp;atilde;o&nbsp;transacional.&nbsp;Caso&nbsp;necessite&nbsp;de&nbsp;atendimento&nbsp;imediato,&nbsp;recomendamos&nbsp;utilizar&nbsp;um&nbsp;dos&nbsp;canais&nbsp;dispon&amp;iacute;veis:&nbsp;&lt;/FONT&gt;&lt;A&nbsp;HREF=&quot;http://www.bankboston.com.br&quot;&gt;&lt;U&gt;&lt;FONT&nbsp;SIZE=1&gt;Internet&nbsp;Banking&lt;/FONT&gt;&lt;/U&gt;&lt;/A&gt;&lt;FONT&nbsp;SIZE=1&gt;&nbsp;,&nbsp;&lt;/FONT&gt;&lt;A&nbsp;HREF=&quot;http://www.bankboston.com.br/bpt&quot;&gt;&lt;U&gt;&lt;FONT&nbsp;SIZE=1&gt;BankBoston&nbsp;por&nbsp;telefone&lt;/FONT&gt;&lt;/U&gt;&lt;/A&gt;&lt;FONT&nbsp;SIZE=1&gt;&nbsp;ou&nbsp;ag&amp;ecirc;ncia/representante&nbsp;de&nbsp;atendimento&nbsp;de&nbsp;sua&nbsp;conveni&amp;ecirc;ncia.&nbsp;Agradecemos&nbsp;sua&nbsp;colabora&amp;ccedil;&amp;atilde;o.&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=1&gt;This&nbsp;message,&nbsp;including&nbsp;its&nbsp;attachments,&nbsp;may&nbsp;contain&nbsp;confidential&nbsp;and/or&nbsp;privileged&nbsp;information.&nbsp;If&nbsp;you&nbsp;received&nbsp;this&nbsp;email&nbsp;by&nbsp;mistake,&nbsp;do&nbsp;not&nbsp;use,&nbsp;copy&nbsp;or&nbsp;disseminate&nbsp;any&nbsp;information&nbsp;herein&nbsp;contained.&nbsp;Please&nbsp;notify&nbsp;us&nbsp;immediately&nbsp;by&nbsp;replying&nbsp;to&nbsp;the&nbsp;sender&nbsp;and&nbsp;then&nbsp;delete&nbsp;it.&nbsp;This&nbsp;email&nbsp;is&nbsp;for&nbsp;information&nbsp;purposes&nbsp;only,&nbsp;not&nbsp;for&nbsp;transactions.&nbsp;In&nbsp;case&nbsp;you&nbsp;need&nbsp;immediate&nbsp;assistance,&nbsp;please&nbsp;use&nbsp;one&nbsp;of&nbsp;the&nbsp;following&nbsp;channels:&nbsp;&lt;/FONT&gt;&lt;A&nbsp;HREF=&quot;http://www.bankboston.com.br&quot;&gt;&lt;U&gt;&lt;FONT&nbsp;SIZE=1&gt;Internet&nbsp;Banking&lt;/FONT&gt;&lt;/U&gt;&lt;/A&gt;&lt;FONT&nbsp;SIZE=1&gt;&nbsp;,&amp;nbsp;&nbsp;&lt;/FONT&gt;&lt;A&nbsp;HREF=&quot;http://www.bankboston.com.br/bpt&quot;&gt;&lt;U&gt;&lt;FONT&nbsp;SIZE=1&gt;BankBoston&nbsp;by&nbsp;phone&lt;/FONT&gt;&lt;/U&gt;&lt;/A&gt;&lt;FONT&nbsp;SIZE=1&gt;&nbsp;or&nbsp;branch/relationship&nbsp;manager&nbsp;at&nbsp;your&nbsp;convenience.&nbsp;Thank&nbsp;you&nbsp;for&nbsp;your&nbsp;cooperation.&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;
</tt>
