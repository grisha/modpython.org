This is an issue related to MySQLdb, not mod_python.


-jag


On May 6, 2006, at 12:35 PM, yjfuk wrote:


<excerpt>I am use
mod_python3.2.8,MySQL-python-1.2.1_p2,mysql5.0.20,centOS

when I run the script below(I save this script also in utf-8):

#coding: utf-8

from MySQLdb import connect

connection=connect(user='root',passwd='',host='localhost',db='test')

cursor = connection.cursor()

cursor.execute("INSERT INTO `fee` ( `affair` ) VALUES
('<fontfamily><param>STHeiti</param>测试</fontfamily>')")

#'<fontfamily><param>STHeiti</param>测试</fontfamily>' is a chinese word
means test

 

it raise error:

Traceback (most recent call last):

  File "test.py", line 8, in ?

    cursor.execute("INSERT INTO `fee` ( `affair` ) VALUES
('<fontfamily><param>STHeiti</param>测试</fontfamily>')")

  File "/opt/python/lib/python2.4/site-packages/MySQLdb/cursors.py",
line 146, in execute

    query = query.encode(charset)

UnicodeDecodeError: 'ascii' codec can't decode byte 0xe6 in position
40: ordinal not in range(128)

 

 

 

 








<fontfamily><param>Hiragino Kaku Gothic Pro</param><bigger><x-tad-bigger>你</x-tad-bigger></bigger></fontfamily><bigger><x-tad-bigger>
</x-tad-bigger><fontfamily><param>Hiragino Kaku Gothic Pro</param><x-tad-bigger>不</x-tad-bigger></fontfamily><x-tad-bigger>
</x-tad-bigger><fontfamily><param>Hiragino Kaku Gothic Pro</param><x-tad-bigger>想</x-tad-bigger></fontfamily><x-tad-bigger>
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>试</x-tad-bigger></fontfamily><x-tad-bigger>
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>试</x-tad-bigger></fontfamily><x-tad-bigger>
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>今</x-tad-bigger></fontfamily><x-tad-bigger>
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>夏</x-tad-bigger></fontfamily><x-tad-bigger>
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>最</x-tad-bigger></fontfamily><x-tad-bigger>
“</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>酷</x-tad-bigger></fontfamily><x-tad-bigger>”
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>的</x-tad-bigger></fontfamily><x-tad-bigger>
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>邮</x-tad-bigger></fontfamily><x-tad-bigger>
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>箱</x-tad-bigger></fontfamily><x-tad-bigger>
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>吗</x-tad-bigger></fontfamily><x-tad-bigger>
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>？</x-tad-bigger></fontfamily></bigger></excerpt><excerpt> 

<fontfamily><param>STHeiti</param><color><param>0000,0000,FFFF</param><x-tad-bigger>蕴</x-tad-bigger></color></fontfamily><color><param>0000,0000,FFFF</param><x-tad-bigger>
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>涵</x-tad-bigger></fontfamily><x-tad-bigger>
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>中</x-tad-bigger></fontfamily><x-tad-bigger>
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>华</x-tad-bigger></fontfamily><x-tad-bigger>
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>传</x-tad-bigger></fontfamily><x-tad-bigger>
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>统</x-tad-bigger></fontfamily><x-tad-bigger>
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>文</x-tad-bigger></fontfamily><x-tad-bigger>
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>化</x-tad-bigger></fontfamily><x-tad-bigger>
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>于</x-tad-bigger></fontfamily><x-tad-bigger>
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>世</x-tad-bigger></fontfamily><x-tad-bigger>
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>界</x-tad-bigger></fontfamily><x-tad-bigger>
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>一</x-tad-bigger></fontfamily><x-tad-bigger>
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>流</x-tad-bigger></fontfamily><x-tad-bigger>
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>科</x-tad-bigger></fontfamily><x-tad-bigger>
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>技</x-tad-bigger></fontfamily><x-tad-bigger>
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>之</x-tad-bigger></fontfamily><x-tad-bigger>
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>中，创</x-tad-bigger></fontfamily><x-tad-bigger>
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>新</x-tad-bigger></fontfamily><x-tad-bigger>
Ajax
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>技</x-tad-bigger></fontfamily><x-tad-bigger> </x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>术，</x-tad-bigger></fontfamily><x-tad-bigger>126
“D
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>计</x-tad-bigger></fontfamily><x-tad-bigger> </x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>划</x-tad-bigger></fontfamily><x-tad-bigger>”</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>火</x-tad-bigger></fontfamily><x-tad-bigger>
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>热</x-tad-bigger></fontfamily><x-tad-bigger>
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>体</x-tad-bigger></fontfamily><x-tad-bigger>
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>验</x-tad-bigger></fontfamily><x-tad-bigger>
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>中</x-tad-bigger></fontfamily><x-tad-bigger>
</x-tad-bigger><fontfamily><param>STHeiti</param><x-tad-bigger>！</x-tad-bigger></fontfamily></color>
_______________________________________________

Mod_python mailing list

Mod_python@modpython.org

http://mailman.modpython.org/mailman/listinfo/mod_python

</excerpt>