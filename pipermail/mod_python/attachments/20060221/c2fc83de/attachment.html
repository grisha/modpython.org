<tt>
Hi,&lt;br&gt;&lt;br&gt;I&nbsp;have&nbsp;a&nbsp;page&nbsp;controller&nbsp;that&nbsp;all&nbsp;handlers&nbsp;import&nbsp;with&nbsp;&amp;quot;from&nbsp;myapp.gui.pagecontroller&nbsp;import&nbsp;PageController&amp;quot;.&amp;nbsp;&nbsp;Each&nbsp;handler&nbsp;is&nbsp;a&nbsp;class&nbsp;derived&nbsp;from&nbsp;the&nbsp;PageController.&lt;br&gt;&lt;br&gt;In&nbsp;the&nbsp;page&nbsp;controller,&nbsp;I&nbsp;have&nbsp;attempted&nbsp;to&nbsp;set&nbsp;up&nbsp;a&nbsp;shared&nbsp;memory&nbsp;cache&nbsp;for&nbsp;all&nbsp;the&nbsp;controllers&nbsp;with&nbsp;code&nbsp;very&nbsp;similar&nbsp;to&nbsp;the&nbsp;following:<br>
&lt;br&gt;&lt;br&gt;#...&lt;br&gt;import&nbsp;threading&lt;br&gt;&lt;br&gt;CACHE_LOCK&nbsp;=&nbsp;threading.Lock()&lt;br&gt;cache&nbsp;=&nbsp;{}&lt;br&gt;&lt;br&gt;def&nbsp;_fillCache():&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;cache['one']&nbsp;=&nbsp;'1'&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;cache['two']&nbsp;=&nbsp;'2'&lt;br&gt;&lt;br&gt;class&nbsp;PageController:&lt;br&gt;#&nbsp;...&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;def&nbsp;__init__(self):<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;#....&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;not&nbsp;len(cache.keys()):&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;CACHE_LOCK.acquire()&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;_fillCache()&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;CACHE_LOCK.release()&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;#...&lt;br&gt;&lt;br&gt;&lt;br&gt;However,&nbsp;I&nbsp;have&nbsp;discovered&nbsp;that&nbsp;this&nbsp;module&nbsp;is&nbsp;continually&nbsp;reimported&nbsp;because&nbsp;it&nbsp;ALWAYS&nbsp;calls&nbsp;the&nbsp;_fillCache()&nbsp;function&nbsp;despite&nbsp;all&nbsp;the&nbsp;handlers&nbsp;running&nbsp;within&nbsp;the&nbsp;same&nbsp;interpreter.<br>
&lt;br&gt;&lt;br&gt;I&nbsp;have&nbsp;upgraded&nbsp;to&nbsp;mod_python&nbsp;3.2.7&nbsp;noticing&nbsp;that&nbsp;in&nbsp;the&nbsp;change&nbsp;log&nbsp;there&nbsp;is&nbsp;a&nbsp;lot&nbsp;about&nbsp;fixing&nbsp;module&nbsp;import&nbsp;problems&nbsp;but&nbsp;my&nbsp;app&nbsp;is&nbsp;still&nbsp;behaving&nbsp;the&nbsp;same&nbsp;way.&lt;br&gt;&lt;br&gt;The&nbsp;flow&nbsp;of&nbsp;my&nbsp;app&nbsp;is&nbsp;that&nbsp;all&nbsp;requests&nbsp;are&nbsp;handled&nbsp;by&nbsp;a&nbsp;frontController&nbsp;handler&nbsp;(this&nbsp;is&nbsp;explicitly&nbsp;set&nbsp;in&nbsp;the&nbsp;httpd&nbsp;config)&nbsp;which,&nbsp;after&nbsp;checking&nbsp;the&nbsp;session&nbsp;and&nbsp;authentication&nbsp;and&nbsp;what-not&nbsp;and&nbsp;based&nbsp;on&nbsp;the&nbsp;request&nbsp;path,&nbsp;forwards&nbsp;the&nbsp;request&nbsp;onto&nbsp;one&nbsp;of&nbsp;my&nbsp;pageController&nbsp;handlers&nbsp;via&nbsp;<br>
util.redirect().&amp;nbsp;&nbsp;If&nbsp;I&nbsp;have&nbsp;followed&nbsp;Graham's&nbsp;notes&nbsp;about&nbsp;module&nbsp;importing&nbsp;correctly,&nbsp;the&nbsp;frontController&nbsp;and&nbsp;pageController&nbsp;classes&nbsp;would&nbsp;be&nbsp;imported&nbsp;via&nbsp;import_module()&nbsp;whereas&nbsp;the&nbsp;actual&nbsp;pageController&nbsp;module&nbsp;is&nbsp;imported&nbsp;via&nbsp;the&nbsp;regular&nbsp;python&nbsp;import&nbsp;mechanism.<br>
&lt;br&gt;&lt;br&gt;I&nbsp;have&nbsp;spent&nbsp;some&nbsp;time&nbsp;reading&nbsp;about&nbsp;the&nbsp;various&nbsp;&amp;quot;uniquenesses&amp;quot;&nbsp;of&nbsp;module&nbsp;importing&nbsp;within&nbsp;mod_python&nbsp;but&nbsp;it&nbsp;hurt&nbsp;my&nbsp;head&nbsp;slightly&nbsp;and&nbsp;I&nbsp;didn't&nbsp;know&nbsp;if&nbsp;most&nbsp;of&nbsp;it&nbsp;reflected&nbsp;the&nbsp;state&nbsp;of&nbsp;affairs&nbsp;in&nbsp;version&nbsp;<br>
3.2.7.&amp;nbsp;&nbsp;From&nbsp;reading&nbsp;Graham's&nbsp;page&nbsp;I&nbsp;don't&nbsp;believe&nbsp;I&nbsp;should&nbsp;have&nbsp;a&nbsp;problem&nbsp;with&nbsp;the&nbsp;PageController&nbsp;handler&nbsp;continually&nbsp;being&nbsp;reimported&nbsp;but&nbsp;it&nbsp;certainly&nbsp;appears&nbsp;to&nbsp;be&nbsp;doing&nbsp;just&nbsp;that.&lt;br&gt;&lt;br&gt;Can&nbsp;someone&nbsp;shed&nbsp;some&nbsp;light&nbsp;on&nbsp;what&nbsp;I&nbsp;may&nbsp;be&nbsp;doing&nbsp;wrong&nbsp;or&nbsp;a&nbsp;possible&nbsp;solution&nbsp;to&nbsp;setting&nbsp;up&nbsp;a&nbsp;shared&nbsp;cache&nbsp;within&nbsp;an&nbsp;interpreter?&amp;nbsp;&nbsp;I&nbsp;know&nbsp;that&nbsp;if&nbsp;I&nbsp;run&nbsp;similar&nbsp;code&nbsp;outside&nbsp;of&nbsp;mod_python&nbsp;my&nbsp;cache&nbsp;design&nbsp;works&nbsp;fine.<br>
&lt;br&gt;&lt;br&gt;Cheers&lt;br&gt;&lt;br&gt;<br>

</tt>
