<tt>
Hi&nbsp;Daniel,&lt;br&gt;<br>
&lt;br&gt;<br>
Have&nbsp;you&nbsp;read&nbsp;this&nbsp;FAQ&nbsp;?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://www.modpython.org/FAQ/faqw.py?req=show&amp;amp;file=faq02.013.htp&quot;&gt;http://www.modpython.org/FAQ/faqw.py?req=show&amp;amp;file=faq02.013.htp&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Regards,&lt;br&gt;<br>
Nicolas&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;2005/9/21,&nbsp;Daniel&nbsp;Winkler&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:mailings@danielwinkler.de&quot;&gt;mailings@danielwinkler.de&lt;/a&gt;&amp;gt;:&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Hi&nbsp;Jorey,&lt;br&gt;&lt;br&gt;Am&nbsp;Dienstag,&nbsp;den&nbsp;20.09.2005,&nbsp;19:24&nbsp;-0400&nbsp;schrieb&nbsp;Jorey&nbsp;Bump:&lt;br&gt;&amp;gt;&nbsp;...&nbsp;and&nbsp;possibly&nbsp;some&nbsp;of&nbsp;the&nbsp;errors&nbsp;you're&nbsp;seeing,&nbsp;as&nbsp;well,&nbsp;for&nbsp;context?&lt;br&gt;&amp;gt;&nbsp;Are&nbsp;you&nbsp;sure&nbsp;the&nbsp;arguments&nbsp;referred&nbsp;to&nbsp;are&nbsp;in&nbsp;fact&nbsp;the&nbsp;ones&nbsp;in&nbsp;the<br>
&lt;br&gt;&amp;gt;&nbsp;query,&nbsp;and&nbsp;not&nbsp;from&nbsp;some&nbsp;other&nbsp;part&nbsp;of&nbsp;the&nbsp;code?&lt;br&gt;Okay,&nbsp;I'll&nbsp;try&nbsp;to&nbsp;extract&nbsp;the&nbsp;important&nbsp;parts&nbsp;...&lt;br&gt;&lt;br&gt;index.py:&nbsp;***********************************&lt;br&gt;&lt;br&gt;from&nbsp;mod_python&nbsp;import&nbsp;psp&lt;br&gt;import&nbsp;dirigent&lt;br&gt;import&nbsp;chor<br>
&lt;br&gt;[...]&lt;br&gt;&lt;br&gt;def&nbsp;startseite(req,&nbsp;chorid=0):&nbsp;#called&nbsp;startseite?chorid=1&nbsp;or&nbsp;so&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;a&nbsp;href=&quot;http://dirigent.id&quot;&gt;dirigent.id&lt;/a&gt;&nbsp;=&nbsp;dirigent.ermittle_dirigent(req)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;a&nbsp;href=&quot;http://chor.id&quot;&gt;chor.id&lt;/a&gt;&nbsp;=&nbsp;chor.ermittle_chor<br>
(chorid,&nbsp;&lt;a&nbsp;href=&quot;http://dirigent.id&quot;&gt;dirigent.id&lt;/a&gt;)&lt;br&gt;[...]&lt;br&gt;&lt;br&gt;&lt;br&gt;datenbank.py:&nbsp;********************************&lt;br&gt;&lt;br&gt;import&nbsp;MySQLdb&lt;br&gt;db&nbsp;=&nbsp;MySQLdb.connect(host=&amp;quot;localhost&amp;quot;,&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
user=&amp;quot;chordb&amp;quot;,&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
passwd=&amp;quot;somethingsecret&amp;quot;,&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
db=&amp;quot;chordatenbank&amp;quot;)&lt;br&gt;&lt;br&gt;&lt;br&gt;chor.py:&nbsp;*************************************&lt;br&gt;&lt;br&gt;from&nbsp;datenbank&nbsp;import&nbsp;db&lt;br&gt;[...]&lt;br&gt;&lt;br&gt;id&nbsp;=&nbsp;0&lt;br&gt;&lt;br&gt;def&nbsp;_acltest_ok(chorID,&nbsp;dirigentID):&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;acl&nbsp;=&nbsp;db.cursor()&lt;br&gt;(*)&nbsp;acl.execute<br>
(&amp;quot;SELECT&nbsp;chor&nbsp;FROM&nbsp;acl&nbsp;WHERE&nbsp;chor&nbsp;=&nbsp;%s&nbsp;AND&nbsp;dirigent&nbsp;=&nbsp;%s&amp;quot;,&nbsp;(chorID,&nbsp;dirigentID))&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&nbsp;(int(acl.rowcount)&nbsp;&amp;gt;&nbsp;0)&lt;br&gt;&lt;br&gt;&lt;br&gt;def&nbsp;ermittle_chor(chorID,&nbsp;dirigentID):&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&nbsp;(&nbsp;(chorID&nbsp;&amp;gt;&nbsp;0)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;and&nbsp;_acltest_ok(chorID,&nbsp;dirigentID)&nbsp;):<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&nbsp;chorID&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;else:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;choere&nbsp;=&nbsp;db.cursor()&lt;br&gt;(*)&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;choere.execute(&amp;quot;SELECT&nbsp;chor&nbsp;FROM&nbsp;acl&nbsp;WHERE&nbsp;dirigent&nbsp;=&nbsp;%s;&amp;quot;,&nbsp;(dirigentID))&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&nbsp;int(choere.rowcount)&nbsp;==&nbsp;1:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;chor&nbsp;=&nbsp;<br>
choere.fetchone()&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&nbsp;chor[0]&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;else:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&nbsp;0&lt;br&gt;&lt;br&gt;&lt;br&gt;The&nbsp;(*)&nbsp;marked&nbsp;lines&nbsp;are&nbsp;those&nbsp;where&nbsp;the&nbsp;error&nbsp;occurs&nbsp;most&nbsp;at&nbsp;the&lt;br&gt;moment.&nbsp;E.g.:&lt;br&gt;&lt;br&gt;******************************************<br>
&lt;br&gt;od_python&nbsp;error:&nbsp;&amp;quot;PythonHandler&nbsp;mod_python.publisher&amp;quot;&lt;br&gt;&lt;br&gt;Traceback&nbsp;(most&nbsp;recent&nbsp;call&nbsp;last):&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;File&nbsp;&amp;quot;/usr/lib/python2.3/site-packages/mod_python/apache.py&amp;quot;,&nbsp;line&nbsp;299,&nbsp;in&nbsp;HandlerDispatch&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;result&nbsp;=&nbsp;object(req)&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;File&nbsp;&amp;quot;/usr/lib/python2.3/site-packages/mod_python/publisher.py&amp;quot;,&nbsp;line&nbsp;136,&nbsp;in&nbsp;handler&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;result&nbsp;=&nbsp;util.apply_fs_data(object,&nbsp;req.form,&nbsp;req=req)&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;File&nbsp;&amp;quot;/usr/lib/python2.3/site-packages/mod_python/util.py&amp;quot;,&nbsp;line&nbsp;361,&nbsp;in&nbsp;apply_fs_data<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&nbsp;object(**args)&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;File&nbsp;&amp;quot;&amp;lt;somewhere&amp;gt;/index.py&amp;quot;,&nbsp;line&nbsp;49,&nbsp;in&nbsp;lied&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;a&nbsp;href=&quot;http://chor.id&quot;&gt;chor.id&lt;/a&gt;&nbsp;=&nbsp;chor.ermittle_chor(chorid,&nbsp;&lt;a&nbsp;href=&quot;http://dirigent.id&quot;&gt;dirigent.id&lt;/a&gt;)&lt;br&gt;<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;File&nbsp;&amp;quot;&amp;lt;somewhere&amp;gt;/chor.py&amp;quot;,&nbsp;line&nbsp;18,&nbsp;in&nbsp;ermittle_chor&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&nbsp;(&nbsp;(chorID&nbsp;&amp;gt;&nbsp;0)&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;File&nbsp;&amp;quot;&amp;lt;somewhere&amp;gt;/chor.py&amp;quot;,&nbsp;line&nbsp;11,&nbsp;in&nbsp;_acltest_ok&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;acl.execute(&amp;quot;SELECT&nbsp;chor&nbsp;FROM&nbsp;acl&nbsp;WHERE&nbsp;chor&nbsp;=&nbsp;%s&nbsp;AND&nbsp;dirigent&nbsp;=&nbsp;%s&amp;quot;,&nbsp;(chorID,&nbsp;dirigentID))<br>
&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;File&nbsp;&amp;quot;/usr/lib/python2.3/site-packages/MySQLdb/cursors.py&amp;quot;,&nbsp;line&nbsp;132,&nbsp;in&nbsp;execute&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;self.errorhandler(self,&nbsp;TypeError,&nbsp;m)&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;File&nbsp;&amp;quot;/usr/lib/python2.3/site-packages/MySQLdb/connections.py&amp;quot;,&nbsp;line&nbsp;33,&nbsp;in&nbsp;defaulterrorhandler<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;raise&nbsp;errorclass,&nbsp;errorvalue&lt;br&gt;&lt;br&gt;TypeError:&nbsp;argument&nbsp;2&nbsp;must&nbsp;be&nbsp;a&nbsp;mapping&lt;br&gt;*********************************&lt;br&gt;&lt;br&gt;The&nbsp;first&nbsp;time&nbsp;I&nbsp;load&nbsp;the&nbsp;page,&nbsp;everything&nbsp;is&nbsp;fine.&nbsp;This&nbsp;error&nbsp;occurs&lt;br&gt;after&nbsp;the&nbsp;first&nbsp;or&nbsp;second&nbsp;page&nbsp;reload&nbsp;(same&nbsp;code,&nbsp;same&nbsp;parameters).<br>
&lt;br&gt;Don't&nbsp;ask&nbsp;me&nbsp;why&nbsp;...&lt;br&gt;&lt;br&gt;I&nbsp;had&nbsp;even&nbsp;more&nbsp;strange&nbsp;errors&nbsp;like&nbsp;&amp;quot;syntax&nbsp;errors&amp;quot;&nbsp;in&nbsp;a&nbsp;line&nbsp;called&lt;br&gt;&amp;quot;c&nbsp;=&nbsp;1&amp;quot;&nbsp;in&nbsp;a&nbsp;PSP&nbsp;file,&nbsp;but&nbsp;I&nbsp;cannot&nbsp;reproduce&nbsp;them&nbsp;at&nbsp;the&nbsp;moment.&nbsp;(maybe&lt;br&gt;after&nbsp;the&nbsp;problem&nbsp;above&nbsp;is&nbsp;fixed&nbsp;:-)<br>
&lt;br&gt;BTW,&nbsp;I&nbsp;am&nbsp;new&nbsp;to&nbsp;Python&nbsp;so&nbsp;if&nbsp;you&nbsp;have&nbsp;additional&nbsp;hints&nbsp;what&nbsp;can&nbsp;be&nbsp;done&lt;br&gt;better:&nbsp;everything&nbsp;is&nbsp;welcome.&lt;br&gt;Okay,&nbsp;yes,&nbsp;I&nbsp;know&nbsp;that&nbsp;global&nbsp;variables&nbsp;aren't&nbsp;very&nbsp;nice,&nbsp;but&nbsp;I&nbsp;thought&lt;br&gt;it&nbsp;is&nbsp;not&nbsp;necessary&nbsp;to&nbsp;build&nbsp;a&nbsp;class&nbsp;just&nbsp;for&nbsp;one&nbsp;object&nbsp;...&nbsp;;-)<br>
&lt;br&gt;&lt;br&gt;&lt;br&gt;TIA&lt;br&gt;Daniel&lt;br&gt;&lt;br&gt;_______________________________________________&lt;br&gt;Mod_python&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:Mod_python@modpython.org&quot;&gt;Mod_python@modpython.org&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://mailman.modpython.org/mailman/listinfo/mod_python&quot;&gt;<br>
http://mailman.modpython.org/mailman/listinfo/mod_python&lt;/a&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
