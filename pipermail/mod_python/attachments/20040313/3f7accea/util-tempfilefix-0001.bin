Index: util.py
===================================================================
RCS file: /home/cvspublic/httpd-python/lib/python/mod_python/util.py,v
retrieving revision 1.21
diff -u -r1.21 util.py
--- util.py	16 Feb 2004 19:47:27 -0000	1.21
+++ util.py	10 Mar 2004 07:58:51 -0000
@@ -224,7 +224,7 @@
         found = []
         for item in self.list:
             if item.name == key:
-                if isinstance(item.file, FileType):
+                if isinstance(item.file, FileType) or isinstance(getattr(item.file, 'file', None), FileType):
                     found.append(item)
                 else:
                     found.append(StringField(item.value))
@@ -268,7 +268,7 @@
         """ return the first value received """
         for item in self.list:
             if item.name == key:
-                if isinstance(item.file, FileType):
+                if isinstance(item.file, FileType) or isinstance(getattr(item.file, 'file', None), FileType):
                     return item
                 else:
                     return StringField(item.value)
@@ -281,7 +281,7 @@
         found = []
         for item in self.list:
             if item.name == key:
-                if isinstance(item.file, FileType):
+                if isinstance(item.file, FileType) or isinstance(getattr(item.file, 'file', None), FileType):
                     found.append(item)
                 else:
                     found.append(StringField(item.value))
