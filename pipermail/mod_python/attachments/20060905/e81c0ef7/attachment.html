<tt>
hi,&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;all.&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;i&nbsp;found&nbsp;the&nbsp;mod_python&nbsp;session&nbsp;under&nbsp;linux&nbsp;apache&nbsp;2.2&nbsp;mpm-worker&nbsp;have&nbsp;problem.&lt;br&gt;&lt;br&gt;linux:&nbsp;2.6.17&lt;br&gt;apache:&nbsp;2.2&nbsp;mpm-worker&lt;br&gt;python:&nbsp;2.4.3&lt;br&gt;mod_python&nbsp;3.2.10&lt;br&gt;&lt;br&gt;Now,&nbsp;the&nbsp;test.py&nbsp;is&nbsp;:&lt;br&gt;&lt;br&gt;from&nbsp;mod_python&nbsp;import&nbsp;apache<br>
&lt;br&gt;from&nbsp;mod_python&nbsp;import&nbsp;Session&lt;br&gt;import&nbsp;sys&lt;br&gt;&lt;br&gt;class&nbsp;Dispatcher(object):&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;req):&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;self._req&nbsp;=&nbsp;req&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;self._uri&nbsp;=&amp;nbsp;&nbsp;req.uri&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;def&nbsp;dispatch(self,&nbsp;req):&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
req.content_type<br>
&nbsp;=&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;'text/plain'&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;import&nbsp;mod_python&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.write(mod_python.version)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.write('\n')&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;self.sess&nbsp;=&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Session.Session(req)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.write(&amp;quot;after&nbsp;create&nbsp;session\n&amp;quot;)<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;self.sess['obj']&nbsp;=&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;'abcdtest'&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.write(&amp;quot;after&nbsp;sess['ob']&nbsp;=&nbsp;'abcdtest'\n&amp;quot;)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;self.sess.set_timeout(60&nbsp;*&nbsp;60)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.write(&amp;quot;after&nbsp;self.set_timeout(60&nbsp;*&nbsp;60)\n&amp;quot;)<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;self.sess.save()&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.write(&amp;quot;after&nbsp;sess.save()\n&amp;quot;)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.write(self.sess['obj'])&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;apache.OK&lt;br&gt;&lt;br&gt;def&nbsp;handler(req):&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;mypatch&nbsp;=&amp;nbsp;&amp;nbsp;&nbsp;Dispatcher(req)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;<br>
mypatch.dispatch(req)&lt;br&gt;&lt;br&gt;when&nbsp;i&nbsp;use&nbsp;ie&nbsp;or&nbsp;firefox&nbsp;visit&nbsp;the&nbsp;page,&nbsp;i&nbsp;was&nbsp;hanged&nbsp;after&nbsp;output&lt;br&gt;3.2.10&lt;br&gt;&lt;br&gt;i&nbsp;think&nbsp;this&nbsp;is&nbsp;the&nbsp;session&nbsp;bug&nbsp;with&nbsp;apache&nbsp;mpm&nbsp;mode,&nbsp;i&nbsp;see&nbsp;somebody&nbsp;else&nbsp;have&nbsp;mentioned&nbsp;it&nbsp;.&lt;br&gt;&lt;br&gt;i&nbsp;have&nbsp;test&nbsp;them&nbsp;under&nbsp;windows,&nbsp;apache&nbsp;<br>
2.2,&nbsp;i&nbsp;works&nbsp;ok.&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;--&nbsp;&lt;br&gt;Ìú¸ç
</tt>
