<tt>
Hi&nbsp;David&nbsp;-&nbsp;&lt;br&gt;&lt;br&gt;Before&nbsp;I&nbsp;start,&nbsp;I&amp;#39;m&nbsp;fairly&nbsp;new&nbsp;to&nbsp;mod_python,&nbsp;so&nbsp;my&nbsp;approach&nbsp;may&nbsp;not&nbsp;be&nbsp;ideal&nbsp;-&nbsp;hopefully&nbsp;the&nbsp;wiser&nbsp;heads&nbsp;on&nbsp;this&nbsp;list&nbsp;can&nbsp;correct&nbsp;anything&nbsp;stupid...&lt;br&gt;&lt;br&gt;I&nbsp;decided&nbsp;not&nbsp;to&nbsp;go&nbsp;with&nbsp;publisher,&nbsp;because&nbsp;it&nbsp;seemed&nbsp;to&nbsp;include&nbsp;a&nbsp;lot&nbsp;of&nbsp;functionality&nbsp;I&nbsp;didn&amp;#39;t&nbsp;need,&nbsp;and&nbsp;I&nbsp;had&nbsp;this&nbsp;strange&nbsp;compulsion&nbsp;to&nbsp;use&nbsp;URLs&nbsp;like&nbsp;&amp;quot;<br>
message.view&amp;quot;,&nbsp;where&nbsp;message&nbsp;is&nbsp;a&nbsp;module&nbsp;and&nbsp;view&nbsp;is&nbsp;a&nbsp;function&nbsp;within&nbsp;the&nbsp;module.&nbsp;This&nbsp;has&nbsp;worked&nbsp;out&nbsp;quite&nbsp;nicely,&nbsp;with&nbsp;&amp;quot;user.addform&amp;quot;&nbsp;displaying&nbsp;the&nbsp;form&nbsp;to&nbsp;add&nbsp;a&nbsp;user,&nbsp;&amp;quot;user.add&amp;quot;&nbsp;processing&nbsp;the&nbsp;add&nbsp;form&nbsp;fields,&nbsp;and&nbsp;you&amp;#39;ll&nbsp;guess&nbsp;what&nbsp;&amp;quot;<br>
user.delete&amp;quot;&nbsp;does.&nbsp;This&nbsp;allows&nbsp;me&nbsp;to&nbsp;keep&nbsp;all&nbsp;my&nbsp;code&nbsp;relating&nbsp;to&nbsp;users&nbsp;in&nbsp;one&nbsp;module,&nbsp;which&nbsp;seems&nbsp;a&nbsp;good&nbsp;idea.&lt;br&gt;&lt;br&gt;My&nbsp;handler&nbsp;is&nbsp;extremely&nbsp;simple&nbsp;-&nbsp;only&nbsp;70&nbsp;lines&nbsp;long,&nbsp;including&nbsp;comments.&nbsp;It&nbsp;grabs&nbsp;the&nbsp;session&nbsp;information,&nbsp;initialises&nbsp;database&nbsp;connection,&nbsp;parses&nbsp;<br>
req.uri&nbsp;to&nbsp;find&nbsp;the&nbsp;moduleName&nbsp;and&nbsp;actionName,&nbsp;and&nbsp;then...&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;try:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;module=apache.import_module(&amp;#39;vf_&amp;#39;+moduleName)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;except&nbsp;ImportError:&nbsp;#&nbsp;Only&nbsp;catch&nbsp;ImportError&nbsp;so&nbsp;syntax&nbsp;errors&nbsp;show&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
apache.log_error(&amp;#39;vfax.py&nbsp;could&nbsp;not&nbsp;find&nbsp;module&nbsp;&amp;quot;vf_%s&amp;quot;&amp;#39;%(moduleName))&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;apache.HTTP_NOT_FOUND&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;try:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;action=eval(&amp;#39;module.&amp;#39;+actionName)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;except:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
apache.log_error(&amp;#39;vfax.py&nbsp;could&nbsp;not&nbsp;find&nbsp;action&nbsp;&amp;quot;%s&amp;quot;&amp;#39;%(actionName))&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;apache.HTTP_NOT_FOUND&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;apacheReturnCode=action(ft)&lt;br&gt;&lt;br&gt;&lt;br&gt;If&nbsp;someone&nbsp;tries&nbsp;to&nbsp;hack&nbsp;in&nbsp;via&nbsp;non-existant&nbsp;module&nbsp;names&nbsp;or&nbsp;functions,&nbsp;they&nbsp;get&nbsp;a&nbsp;404.&nbsp;One&nbsp;issue&nbsp;I&nbsp;found&nbsp;is&nbsp;that&nbsp;you&nbsp;have&nbsp;to&nbsp;take&nbsp;care&nbsp;with&nbsp;private&nbsp;functions&nbsp;which&nbsp;should&nbsp;not&nbsp;be&nbsp;callable&nbsp;from&nbsp;outside&nbsp;the&nbsp;module&nbsp;-&nbsp;perhaps&nbsp;you&nbsp;have&nbsp;a&nbsp;function&nbsp;formatDate()&nbsp;say,&nbsp;used&nbsp;by&nbsp;public&nbsp;functions&nbsp;in&nbsp;the&nbsp;user&nbsp;module.&nbsp;This&nbsp;should&nbsp;not&nbsp;be&nbsp;available&nbsp;via&nbsp;the&nbsp;URL&nbsp;&amp;quot;<br>
user.formatDate&amp;quot;,&nbsp;or&nbsp;else&nbsp;you&nbsp;are&nbsp;leaving&nbsp;yourself&nbsp;open&nbsp;to&nbsp;myriad&nbsp;security&nbsp;issues.&nbsp;I&nbsp;tried&nbsp;starting&nbsp;their&nbsp;names&nbsp;with&nbsp;two&nbsp;underscores&nbsp;(so&nbsp;it&nbsp;became&nbsp;__formatDate(),&nbsp;but&nbsp;&amp;quot;user.__formatDate&amp;quot;&nbsp;still&nbsp;worked.&nbsp;So&nbsp;I&nbsp;added&nbsp;a&nbsp;test&nbsp;in&nbsp;my&nbsp;handler&nbsp;for&nbsp;two&nbsp;leading&nbsp;underscores&nbsp;and&nbsp;404&amp;#39;d&nbsp;them&nbsp;too:<br>
&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;actionName[0:2]==&amp;#39;__&amp;#39;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;apache.log_error(&amp;#39;vfax.py&nbsp;refused&nbsp;action&nbsp;&amp;quot;%s&amp;quot;&amp;#39;%(actionName))&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;apache.HTTP_NOT_FOUND&lt;br&gt;&lt;br&gt;I&amp;#39;d&nbsp;be&nbsp;interested&nbsp;in&nbsp;those&nbsp;wiser&nbsp;head&amp;#39;s&nbsp;comments&nbsp;on&nbsp;this&nbsp;-&nbsp;shouldn&amp;#39;t&nbsp;a&nbsp;function&nbsp;with&nbsp;two&nbsp;leading&nbsp;underscores&nbsp;not&nbsp;be&nbsp;callable&nbsp;from&nbsp;outside&nbsp;the&nbsp;module?<br>
&lt;br&gt;&lt;br&gt;Anyhow,&nbsp;the&nbsp;main&nbsp;point&nbsp;of&nbsp;this&nbsp;message&nbsp;is&nbsp;that&nbsp;writing&nbsp;your&nbsp;own&nbsp;handler&nbsp;is&nbsp;not&nbsp;a&nbsp;big&nbsp;deal,&nbsp;as&nbsp;long&nbsp;as&nbsp;you&nbsp;are&nbsp;happy&nbsp;to&nbsp;manage&nbsp;issues&nbsp;like&nbsp;sessions&nbsp;and&nbsp;URL&nbsp;parsing&nbsp;yourself.&nbsp;Publisher&nbsp;is&nbsp;probably&nbsp;a&nbsp;better&nbsp;idea&nbsp;for&nbsp;newcomers&nbsp;to&nbsp;web&nbsp;development&nbsp;because&nbsp;it&nbsp;already&nbsp;handles&nbsp;many&nbsp;of&nbsp;the&nbsp;gotchas&nbsp;that&nbsp;may&nbsp;leave&nbsp;your&nbsp;application&nbsp;vulnerable&nbsp;to&nbsp;the&nbsp;net&nbsp;nasties,&nbsp;but&nbsp;if&nbsp;you&nbsp;have&nbsp;some&nbsp;experience,&nbsp;you&nbsp;have&nbsp;a&nbsp;lot&nbsp;more&nbsp;control&nbsp;and&nbsp;a&nbsp;faster&nbsp;application&nbsp;by&nbsp;writing&nbsp;your&nbsp;own&nbsp;handler.<br>
&lt;br&gt;&lt;br&gt;Cheers!&lt;br&gt;Greg.&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;23/05/07,&nbsp;&lt;b&nbsp;class=&quot;gmail_sendername&quot;&gt;David&nbsp;Bear&lt;/b&gt;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:David.Bear@asu.edu&quot;&gt;David.Bear@asu.edu&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
I&amp;#39;m&nbsp;trying&nbsp;to&nbsp;decide&nbsp;whether&nbsp;to&nbsp;use&nbsp;publisher&nbsp;or&nbsp;just&nbsp;use&lt;br&gt;AddHandler&nbsp;python-program&lt;br&gt;&lt;br&gt;I&nbsp;understand&nbsp;with&nbsp;publisher&nbsp;that&nbsp;all&nbsp;defined&nbsp;functions&nbsp;are&nbsp;callable&nbsp;in&lt;br&gt;the&nbsp;url.&nbsp;What&nbsp;happens&nbsp;though&nbsp;if&nbsp;I&nbsp;just&nbsp;use&nbsp;python-program&nbsp;as&nbsp;the<br>
&lt;br&gt;handler?&nbsp;Which&nbsp;functions&nbsp;are&nbsp;called?&nbsp;What&nbsp;happens&nbsp;the&nbsp;__name__?&lt;br&gt;&lt;br&gt;--&lt;br&gt;David&nbsp;Bear&lt;br&gt;phone:&amp;nbsp;&amp;nbsp;602-496-0424&lt;br&gt;fax:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;602-496-0955&lt;br&gt;College&nbsp;of&nbsp;Public&nbsp;Programs/ASU&lt;br&gt;University&nbsp;Center&nbsp;Rm&nbsp;622&lt;br&gt;411&nbsp;N&nbsp;Central&lt;br&gt;<br>
Phoenix,&nbsp;AZ&nbsp;85007-0685&lt;br&gt;&nbsp;&amp;quot;Beware&nbsp;the&nbsp;IP&nbsp;portfolio,&nbsp;everyone&nbsp;will&nbsp;be&nbsp;suspect&nbsp;of&nbsp;trespassing&amp;quot;&lt;br&gt;_______________________________________________&lt;br&gt;Mod_python&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:Mod_python@modpython.org&quot;&gt;<br>
Mod_python@modpython.org&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://mailman.modpython.org/mailman/listinfo/mod_python&quot;&gt;http://mailman.modpython.org/mailman/listinfo/mod_python&lt;/a&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;--&nbsp;&lt;br&gt;Phone:&nbsp;+64&nbsp;3&nbsp;409&nbsp;8165<br>
&lt;br&gt;Mobile:&nbsp;+64&nbsp;21&nbsp;333&nbsp;291&lt;br&gt;Fax:&nbsp;+64&nbsp;3&nbsp;974&nbsp;6810<br>

</tt>
