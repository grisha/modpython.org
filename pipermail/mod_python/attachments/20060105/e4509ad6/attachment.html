<tt>
&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN&quot;&gt;<br>
&lt;html&gt;<br>
&lt;head&gt;<br>
&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;charset=ISO-8859-1&quot;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;bgcolor=&quot;#ffffff&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
Ok,&nbsp;now&nbsp;I&nbsp;get&nbsp;it,&nbsp;and&nbsp;have&nbsp;it&nbsp;working.&amp;nbsp;&nbsp;I'm&nbsp;pretty&nbsp;sure&nbsp;my&nbsp;problem&nbsp;was<br>
that&nbsp;I&nbsp;was&nbsp;trying&nbsp;to&nbsp;seed&nbsp;the&nbsp;session&nbsp;with&nbsp;some&nbsp;values&nbsp;in&nbsp;my<br>
authentication&nbsp;handler&nbsp;and&nbsp;then&nbsp;grab&nbsp;the&nbsp;values&nbsp;when&nbsp;it&nbsp;got&nbsp;to&nbsp;my<br>
secUserList&nbsp;handler.&amp;nbsp;&nbsp;I&nbsp;took&nbsp;the&nbsp;stuff&nbsp;out&nbsp;of&nbsp;my&nbsp;authentication&nbsp;handler<br>
and&nbsp;now&nbsp;it&nbsp;works&nbsp;fine.&amp;nbsp;&nbsp;But,&nbsp;I'm&nbsp;interested&nbsp;in&nbsp;pursuing&nbsp;something&nbsp;you<br>
wrote&nbsp;in&nbsp;your&nbsp;earlier&nbsp;post&nbsp;saying&nbsp;that&nbsp;I&nbsp;could&nbsp;pass&nbsp;the&nbsp;session&nbsp;object<br>
in&nbsp;the&nbsp;req&nbsp;object.&amp;nbsp;&nbsp;I&nbsp;may&nbsp;give&nbsp;that&nbsp;a&nbsp;try&nbsp;tomorrow.&amp;nbsp;&nbsp;Otherwise,&nbsp;I'll<br>
assuming&nbsp;I&nbsp;could&nbsp;set&nbsp;my&nbsp;values&nbsp;in&nbsp;a&nbsp;cookie&nbsp;and&nbsp;read&nbsp;them&nbsp;later.&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks&nbsp;for&nbsp;the&nbsp;help,&nbsp;and&nbsp;especially&nbsp;for&nbsp;sticking&nbsp;with&nbsp;me&nbsp;until&nbsp;I<br>
understood&nbsp;what&nbsp;was&nbsp;going&nbsp;on.&amp;nbsp;&nbsp;Things&nbsp;are&nbsp;much&nbsp;clearer&nbsp;now&nbsp;for&nbsp;me.&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;-Jim&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;moz-signature&quot;&gt;&lt;font&nbsp;size=&quot;normal&quot;&gt;Jim&nbsp;Steil&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;smaller&quot;&gt;IT&nbsp;Manager&lt;br&gt;<br>
Quality&nbsp;Liquid&nbsp;Feeds&lt;br&gt;<br>
(608)&nbsp;935-2345&lt;/font&gt;&lt;/div&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Jim&nbsp;Gallacher&nbsp;wrote:<br>
&lt;blockquote&nbsp;cite=&quot;mid43BC6133.4020405@jgassociates.ca&quot;&nbsp;type=&quot;cite&quot;&gt;Jim<br>
Steil&nbsp;wrote:<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;Jim:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
Thanks&nbsp;for&nbsp;the&nbsp;info.&amp;nbsp;&nbsp;However,&nbsp;I'm&nbsp;still&nbsp;having&nbsp;trouble.&amp;nbsp;&nbsp;I&nbsp;don't&nbsp;know<br>
if&nbsp;this&nbsp;is&nbsp;the&nbsp;problem,&nbsp;but&nbsp;this&nbsp;code&nbsp;does&nbsp;NOT&nbsp;exist&nbsp;in&nbsp;a&nbsp;handler&nbsp;that<br>
I&nbsp;wrote.&amp;nbsp;&nbsp;I&nbsp;didn't&nbsp;write&nbsp;a&nbsp;handler,&nbsp;I'm&nbsp;just&nbsp;using&nbsp;the&nbsp;publisher<br>
handler.&amp;nbsp;&nbsp;I&nbsp;have&nbsp;written&nbsp;an&nbsp;authentication&nbsp;handler&nbsp;and&nbsp;that&nbsp;is&nbsp;working<br>
correctly&nbsp;but&nbsp;I&nbsp;don't&nbsp;know&nbsp;what&nbsp;I&nbsp;need&nbsp;to&nbsp;do&nbsp;to&nbsp;make&nbsp;my&nbsp;own&nbsp;handler&nbsp;and<br>
have&nbsp;it&nbsp;work&nbsp;like&nbsp;the&nbsp;publisher&nbsp;handler.&amp;nbsp;&nbsp;Again,&nbsp;I'm&nbsp;probably&nbsp;trying<br>
too&nbsp;hard&nbsp;and&nbsp;not&nbsp;seeing&nbsp;the&nbsp;obvious.&amp;nbsp;&nbsp;I&nbsp;have&nbsp;been&nbsp;looking&nbsp;all&nbsp;over&nbsp;the<br>
web&nbsp;and&nbsp;can't&nbsp;seem&nbsp;to&nbsp;find&nbsp;a&nbsp;good&nbsp;custom&nbsp;handler&nbsp;example.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
Thanks&nbsp;again,&nbsp;I'll&nbsp;keep&nbsp;plugging&nbsp;away&nbsp;to&nbsp;try&nbsp;to&nbsp;understand&nbsp;what's&nbsp;going<br>
on.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&nbsp;-Jim<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
I&nbsp;tend&nbsp;to&nbsp;use&nbsp;the&nbsp;term&nbsp;&quot;handler&quot;&nbsp;to&nbsp;refer&nbsp;to&nbsp;anything&nbsp;that&nbsp;handles&nbsp;a<br>
request,&nbsp;which&nbsp;is&nbsp;just&nbsp;plain&nbsp;wrong.&nbsp;;)&nbsp;If&nbsp;you&nbsp;want&nbsp;to&nbsp;use&nbsp;the&nbsp;publisher<br>
handler&nbsp;just&nbsp;drop&nbsp;a&nbsp;script&nbsp;in&nbsp;the&nbsp;appropriate&nbsp;directory&nbsp;and&nbsp;either&nbsp;call<br>
it&nbsp;(which&nbsp;will&nbsp;used&nbsp;the&nbsp;index&nbsp;method&nbsp;by&nbsp;default)&nbsp;or&nbsp;one&nbsp;of&nbsp;it's&nbsp;other<br>
methods.<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
Plop&nbsp;the&nbsp;following&nbsp;in&nbsp;your&nbsp;motion&nbsp;folder&nbsp;and&nbsp;try&nbsp;calling&nbsp;it&nbsp;with<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://example.com/motion/mptest&quot;&gt;http://example.com/motion/mptest&lt;/a&gt;&nbsp;or<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://example.com/motion/mptest/secUserList&quot;&gt;http://example.com/motion/mptest/secUserList&lt;/a&gt;.&nbsp;(Note&nbsp;that&nbsp;the<br>
indentation&nbsp;may&nbsp;have&nbsp;been&nbsp;messed&nbsp;up&nbsp;when&nbsp;I&nbsp;did&nbsp;the&nbsp;copy&nbsp;and&nbsp;paste&nbsp;from<br>
your&nbsp;original&nbsp;code).&nbsp;Also&nbsp;note&nbsp;that&nbsp;I&nbsp;forgot&nbsp;the&nbsp;req&nbsp;parameter&nbsp;in&nbsp;my<br>
previous&nbsp;Session&nbsp;example.&nbsp;:(<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
You&nbsp;can&nbsp;modify&nbsp;your&nbsp;secUserList.html&nbsp;to&nbsp;make&nbsp;use&nbsp;of&nbsp;the&nbsp;count&nbsp;paramater<br>
passed&nbsp;to&nbsp;your&nbsp;psp&nbsp;template&nbsp;and&nbsp;see&nbsp;the&nbsp;effect&nbsp;of&nbsp;the&nbsp;session.<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
Jim<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
mptest.py<br>
&nbsp;&nbsp;&lt;br&gt;<br>
---------<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
#&nbsp;uses&nbsp;the&nbsp;mod_python.publisher&nbsp;handler<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
import&nbsp;time<br>
&nbsp;&nbsp;&lt;br&gt;<br>
import&nbsp;mx.ODBC<br>
&nbsp;&nbsp;&lt;br&gt;<br>
import&nbsp;mx.ODBC.Windows<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
from&nbsp;mod_python&nbsp;import&nbsp;Session<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
#&nbsp;url&nbsp;is&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://example.com/motion/mptest&quot;&gt;http://example.com/motion/mptest&lt;/a&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
def&nbsp;index(req):<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;sess&nbsp;=&nbsp;Session.Session(req)<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;sess.is_new():<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;sess['count']&nbsp;=&nbsp;0<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;sess['count']&nbsp;+=&nbsp;1<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.content_type&nbsp;=&nbsp;'text/plain'<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.write('This&nbsp;is&nbsp;the&nbsp;index&nbsp;page\nVisits:&nbsp;%d\n'&nbsp;%&nbsp;sess['count'])<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;sess.save()<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
#&nbsp;url&nbsp;is&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://example.com/motion/mptest/secUserList&quot;&gt;http://example.com/motion/mptest/secUserList&lt;/a&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
def&nbsp;secUserList(req,&nbsp;page='',&nbsp;sortSeq=''):<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;sess&nbsp;=&nbsp;Session.Session(req)<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;sess.is_new():<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;sess['count']&nbsp;=&nbsp;0<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;sess['count']&nbsp;+=&nbsp;1<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;sess.save()<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;page:<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;startPage&nbsp;=&nbsp;int(page)<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;else:<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;startPage&nbsp;=&nbsp;1<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;pageLength&nbsp;=&nbsp;20<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;sql&nbsp;=&nbsp;'call&nbsp;secUser_list(\''&nbsp;+&nbsp;sortSeq&nbsp;+&nbsp;'\',&nbsp;'&nbsp;+&nbsp;repr(startPage)&nbsp;+<br>
',&nbsp;'&nbsp;+&nbsp;repr(pageLength)&nbsp;+&nbsp;')'<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;db&nbsp;=<br>
mx.ODBC.Windows.DriverConnect('DSN=motion;UID=userid;PWD=password')<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;c&nbsp;=&nbsp;db.cursor()<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;c.execute(sql)<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;htmlText&nbsp;=&nbsp;''<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;for&nbsp;secUserId,&nbsp;firstName,&nbsp;lastName,&nbsp;logonName,&nbsp;email&nbsp;in<br>
c.fetchall():<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;htmlText&nbsp;=&nbsp;htmlText&nbsp;+&nbsp;'&amp;lt;tr<br>
onmouseover=&quot;style.backgroundColor=\'#FFF0AF\';&nbsp;style.cursor=\'hand\';&quot;<br>
onclick=&quot;location.href=\'secUserProfile?secUserId='&nbsp;+&nbsp;&quot;%i&quot;&nbsp;%&nbsp;secUserId<br>
+&nbsp;'\'&quot;&nbsp;onmouseout=&quot;style.backgroundColor=\'#ffffff\';&quot;&amp;gt;&amp;lt;td&amp;gt;'&nbsp;+<br>
firstName&nbsp;+&nbsp;'&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;'&nbsp;+&nbsp;lastName&nbsp;+<br>
'&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;'&nbsp;+&nbsp;logonName&nbsp;+&nbsp;'&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;'&nbsp;+&nbsp;email&nbsp;+<br>
'&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;\n'<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;previousPage&nbsp;=&nbsp;1<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;startPage&nbsp;&amp;gt;&nbsp;1:<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;previousPage&nbsp;=&nbsp;startPage&nbsp;-&nbsp;1<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;nextPage&nbsp;=&nbsp;startPage&nbsp;+&nbsp;1<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;c.close()<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;db.close()<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;parmDict&nbsp;=&nbsp;{'count':sess['count'],&nbsp;'title':'User&nbsp;List',<br>
'rowHtml':htmlText,&nbsp;'previousPage':previousPage,&nbsp;'nextPage':nextPage,<br>
'startPage':startPage}<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;template&nbsp;=&nbsp;psp.PSP(req,&nbsp;filename='secUserList.html')<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;template.run(vars&nbsp;=&nbsp;parmDict)<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
