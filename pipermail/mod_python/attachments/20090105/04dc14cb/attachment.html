<tt>
damn&nbsp;reply&nbsp;button&nbsp;:-)&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Mon,&nbsp;Jan&nbsp;5,&nbsp;2009&nbsp;at&nbsp;1:51&nbsp;PM,&nbsp;Tiago&nbsp;Becker&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:tiagobecker@gmail.com&quot;&gt;tiagobecker@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
We&nbsp;had&nbsp;the&nbsp;same&nbsp;problem&nbsp;here.&lt;br&gt;Try&nbsp;making&nbsp;the&nbsp;connection&nbsp;outside&nbsp;the&nbsp;function&nbsp;mod_python&nbsp;calls...&nbsp;something&nbsp;todo&nbsp;with&nbsp;the&nbsp;reloadable&nbsp;modules,&nbsp;idk&nbsp;for&nbsp;sure,&nbsp;someone&nbsp;else&nbsp;should&nbsp;be&nbsp;able&nbsp;to&nbsp;explain&nbsp;in&nbsp;details....&nbsp;&lt;br&gt;&lt;br&gt;something&nbsp;like&lt;br&gt;<br>
<br>
&lt;br&gt;.....&lt;br&gt;from&nbsp;mod_python&nbsp;import&nbsp;apache&lt;br&gt;&lt;br&gt;cfg&nbsp;=&nbsp;apache.import_module(&amp;#39;cfg&amp;#39;)&lt;br&gt;&lt;br&gt;def&nbsp;indef(req):&lt;br&gt;&amp;nbsp;&nbsp;#dont&nbsp;connect&nbsp;here...&nbsp;if&nbsp;you&nbsp;need&nbsp;to&nbsp;pass&nbsp;the&nbsp;connection&nbsp;obj&nbsp;around,&nbsp;you&nbsp;can&nbsp;do&nbsp;something&nbsp;like&lt;br&gt;&amp;nbsp;&nbsp;req.myConnection&nbsp;=&nbsp;cfg.Connection&lt;br&gt;<br>
<br>
&amp;nbsp;&nbsp;#and&nbsp;then&nbsp;pass&nbsp;the&nbsp;req&lt;br&gt;....&lt;br&gt;&lt;br&gt;&lt;br&gt;The&nbsp;database&nbsp;connection&nbsp;should&nbsp;be&nbsp;put&nbsp;in&nbsp;the&nbsp;cfg&nbsp;(or&nbsp;another&nbsp;file,&nbsp;whatever)...&lt;br&gt;I&nbsp;hope&nbsp;that&nbsp;helps&nbsp;&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;Wj3C7c&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;<br>
On&nbsp;Mon,&nbsp;Jan&nbsp;5,&nbsp;2009&nbsp;at&nbsp;12:52&nbsp;PM,&nbsp;Johannes&nbsp;Bauer&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:dfnsonfsduifb@gmx.de&quot;&nbsp;target=&quot;_blank&quot;&gt;dfnsonfsduifb@gmx.de&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;Hello&nbsp;list,&lt;br&gt;<br>
&lt;br&gt;<br>
I&amp;#39;m&nbsp;doing&nbsp;some&nbsp;webapplications&nbsp;using&nbsp;mod_python&nbsp;and&nbsp;Cheetah.&nbsp;Recently&nbsp;I&lt;br&gt;<br>
experienced&nbsp;some&nbsp;trouble&nbsp;with&nbsp;database&nbsp;access:&nbsp;using&nbsp;the&nbsp;Postgres&nbsp;pgdb&lt;br&gt;<br>
module&nbsp;I&nbsp;instanciate&nbsp;classes&nbsp;which&nbsp;connect&nbsp;to&nbsp;the&nbsp;db&nbsp;in&nbsp;the&nbsp;constuctor&lt;br&gt;<br>
and&nbsp;should&nbsp;release&nbsp;all&nbsp;references&nbsp;to&nbsp;th&nbsp;econnection&nbsp;in&nbsp;the&nbsp;destructor&lt;br&gt;<br>
(hence,&nbsp;closing&nbsp;the&nbsp;connection).&lt;br&gt;<br>
&lt;br&gt;<br>
However,&nbsp;this&nbsp;is&nbsp;not&nbsp;happening.&nbsp;The&nbsp;destructor&nbsp;does&nbsp;not&nbsp;seem&nbsp;to&nbsp;be&lt;br&gt;<br>
called.&nbsp;This&nbsp;is&nbsp;why&nbsp;I&nbsp;suspect&nbsp;that&nbsp;some&nbsp;other&nbsp;code&nbsp;holds&nbsp;a&nbsp;reference&nbsp;to&lt;br&gt;<br>
my&nbsp;class,&nbsp;causing&nbsp;it&nbsp;not&nbsp;to&nbsp;be&nbsp;destroyed.&nbsp;Is&nbsp;there&nbsp;a&nbsp;way&nbsp;to&nbsp;debug&nbsp;what&lt;br&gt;<br>
classes&nbsp;are&nbsp;loaded&nbsp;within&nbsp;mod_python&nbsp;and&nbsp;possibly&nbsp;what&nbsp;memory&nbsp;regions&lt;br&gt;<br>
hold&nbsp;references&nbsp;there?&nbsp;How&nbsp;does&nbsp;one&nbsp;go&nbsp;about&nbsp;debugging&nbsp;such&nbsp;a&nbsp;problem?&nbsp;I&lt;br&gt;<br>
first&nbsp;would&nbsp;have&nbsp;to&nbsp;find&nbsp;out&nbsp;whether&nbsp;the&nbsp;problem&nbsp;lies&nbsp;within&nbsp;pgdb,&lt;br&gt;<br>
Cheetah&nbsp;or&nbsp;(most&nbsp;likely)&nbsp;my&nbsp;code...&lt;br&gt;<br>
&lt;br&gt;<br>
Regards,&lt;br&gt;<br>
Johannes&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Mod_python&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Mod_python@modpython.org&quot;&nbsp;target=&quot;_blank&quot;&gt;Mod_python@modpython.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://mailman.modpython.org/mailman/listinfo/mod_python&quot;&nbsp;target=&quot;_blank&quot;&gt;http://mailman.modpython.org/mailman/listinfo/mod_python&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
