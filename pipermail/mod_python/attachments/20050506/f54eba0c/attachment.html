<tt>
&lt;span&nbsp;class=&quot;q&quot;&nbsp;id=&quot;q_103b085f6fa578f0_1&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;If&nbsp;I&nbsp;understood&nbsp;where&nbsp;things&nbsp;were&nbsp;at,&nbsp;it&nbsp;was&nbsp;hanging&nbsp;somewhere&nbsp;inside<br>
&lt;br&gt;of&nbsp;call&nbsp;to&nbsp;cac.getCachedResults().&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;<br>
this&nbsp;is&nbsp;correct,&nbsp;specifically&nbsp;in&nbsp;req.write()&nbsp;&lt;br&gt;<br>
&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;Question&nbsp;to&nbsp;the&nbsp;original&nbsp;poster.&nbsp;Have&nbsp;you&nbsp;added&nbsp;sufficient&nbsp;debug&nbsp;into&nbsp;each<br>
&lt;br&gt;step&nbsp;of&nbsp;the&nbsp;internals&nbsp;of&nbsp;that&nbsp;call&nbsp;so&nbsp;as&nbsp;to&nbsp;know&nbsp;precisely&nbsp;when&nbsp;the&nbsp;code&lt;br&gt;seems&nbsp;to&nbsp;block?&lt;/blockquote&gt;&lt;/span&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
that&nbsp;call&nbsp;basically&nbsp;walks&nbsp;a&nbsp;list&nbsp;filters&nbsp;out&nbsp;some&nbsp;items&nbsp;and&nbsp;builds&nbsp;another&nbsp;list&nbsp;to&nbsp;return&lt;br&gt;<br>
I&nbsp;have&nbsp;done&nbsp;alot&nbsp;of&nbsp;basic&nbsp;debugging&nbsp;and&nbsp;the&nbsp;problem&nbsp;is&nbsp;it&nbsp;just&nbsp;hangs&nbsp;apache&nbsp;and&nbsp;I&nbsp;have&nbsp;to&nbsp;kill&nbsp;it.&lt;br&gt;<br>
Thus&nbsp;it&nbsp;doesn't&nbsp;print&nbsp;anything&nbsp;out&nbsp;because&nbsp;it&nbsp;doesn't&nbsp;shut&nbsp;down&nbsp;correctly.&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;span&nbsp;class=&quot;q&quot;&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;Also,&nbsp;does&nbsp;&amp;quot;cac&amp;quot;&nbsp;consist&nbsp;of&nbsp;simple&nbsp;Python&nbsp;data&nbsp;structures&nbsp;without&nbsp;locking,<br>
&lt;br&gt;or&nbsp;does&nbsp;it&nbsp;contain&nbsp;thread&nbsp;locks&nbsp;in&nbsp;anyway?&nbsp;&lt;/blockquote&gt;&lt;/span&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
no&nbsp;thread&nbsp;locks&nbsp;it&nbsp;just&nbsp;walks&nbsp;a&nbsp;list&nbsp;and&nbsp;compares&nbsp;some&nbsp;fields&nbsp;and&nbsp;for<br>
those&nbsp;that&nbsp;match&nbsp;it&nbsp;creates&nbsp;objects&nbsp;and&nbsp;returns&nbsp;them&nbsp;via&nbsp;a&nbsp;new&nbsp;list&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;span&nbsp;class=&quot;q&quot;&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;Does&nbsp;it&nbsp;actually&nbsp;call&nbsp;into&nbsp;Twisted&lt;br&gt;in&nbsp;some&nbsp;way?&nbsp;&lt;/blockquote&gt;&lt;/span&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;<br>
not&nbsp;that&nbsp;I&nbsp;can&nbsp;see&nbsp;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;span&nbsp;class=&quot;q&quot;&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;Do&nbsp;you&nbsp;know&nbsp;that&nbsp;a&nbsp;separate&nbsp;thread&nbsp;can't&nbsp;call&nbsp;into&nbsp;Twisted&lt;br&gt;unless&nbsp;it&nbsp;uses&nbsp;appropriate&nbsp;mechanisms?<br>
&lt;/blockquote&gt;&lt;/span&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
I&nbsp;do&nbsp;now,&nbsp;what&nbsp;I&nbsp;don't&nbsp;know&nbsp;is&nbsp;what&nbsp;&amp;quot;appropriate&nbsp;mechanisms&amp;quot;&amp;nbsp;&nbsp;is&nbsp;specifically&nbsp;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;span&nbsp;class=&quot;q&quot;&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;It&nbsp;is&nbsp;going&nbsp;to&nbsp;be&nbsp;really&nbsp;hard&nbsp;for&nbsp;us&nbsp;to&nbsp;say&nbsp;what&nbsp;is&nbsp;wrong&nbsp;unless&nbsp;you&nbsp;can<br>
&lt;br&gt;narrow&nbsp;it&nbsp;down&nbsp;to&nbsp;exactly&nbsp;where&nbsp;it&nbsp;may&nbsp;be&nbsp;blocking&nbsp;and&nbsp;provide&nbsp;relevant<br>
&lt;br&gt;code&nbsp;for&nbsp;it.&lt;br&gt;&lt;br&gt;Graham&lt;br&gt;&lt;/blockquote&gt;&lt;/span&gt;&lt;br&gt;<br>
<br>
any&nbsp;suggestions&nbsp;are&nbsp;appreciated,&nbsp;thanks&nbsp;for&nbsp;reading
</tt>
