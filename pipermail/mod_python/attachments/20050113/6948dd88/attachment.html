<tt>
&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN&quot;&gt;<br>
&lt;html&gt;<br>
&lt;head&gt;<br>
&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;charset=ISO-8859-1&quot;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&nbsp;&nbsp;&lt;title&gt;&lt;/title&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;bgcolor=&quot;#ffffff&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
Nicolas&nbsp;Lehuen&nbsp;wrote:<br>
&lt;blockquote&nbsp;cite=&quot;midc298f2d7050113094866ad223c@mail.gmail.com&quot;<br>
&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;On&nbsp;Thu,&nbsp;13&nbsp;Jan&nbsp;2005&nbsp;09:23:03&nbsp;-0700,&nbsp;Craig&nbsp;Warren<br>
&lt;a&nbsp;class=&quot;moz-txt-link-rfc2396E&quot;&nbsp;href=&quot;mailto:craig.warren@encorp.com&quot;&gt;&amp;lt;craig.warren@encorp.com&amp;gt;&lt;/a&gt;&nbsp;wrote:<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;&nbsp;I&nbsp;found&nbsp;an&nbsp;error&nbsp;while&nbsp;with&nbsp;Cookie&nbsp;module.&nbsp;&nbsp;When&nbsp;the&nbsp;cookie&nbsp;module&nbsp;parses&nbsp;a<br>
cookie,&nbsp;if&nbsp;that&nbsp;cooke&nbsp;has&nbsp;$Version&nbsp;or&nbsp;$Path&nbsp;in&nbsp;it&nbsp;you&nbsp;get&nbsp;an&nbsp;error.&nbsp;My<br>
cookie&nbsp;is&nbsp;coming&nbsp;from&nbsp;a&nbsp;java&nbsp;libaray,&nbsp;that&nbsp;puts&nbsp;$Version&nbsp;and&nbsp;$Path&nbsp;in&nbsp;it.<br>
&nbsp;example&nbsp;=&quot;Cookie:&nbsp;$Version=0;&nbsp;pysid=34a9b38c34;$Path=/&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;<br>
&nbsp;RFC&nbsp;2109&nbsp;mentions&nbsp;$Version&nbsp;and&nbsp;$Path&nbsp;in&nbsp;Section&nbsp;4.4<br>
&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://www.faqs.org/rfcs/rfc2109.html&quot;&gt;http://www.faqs.org/rfcs/rfc2109.html&lt;/a&gt;&nbsp;4.4&nbsp;How&nbsp;an&nbsp;Origin&nbsp;Server&nbsp;Interprets<br>
the&nbsp;Cookie&nbsp;Header&nbsp;A&nbsp;user&nbsp;agent&nbsp;returns&nbsp;much&nbsp;of&nbsp;the&nbsp;information&nbsp;in&nbsp;the<br>
Set-Cookie&nbsp;header&nbsp;to&nbsp;the&nbsp;origin&nbsp;server&nbsp;when&nbsp;the&nbsp;Path&nbsp;attribute&nbsp;matches&nbsp;that<br>
of&nbsp;a&nbsp;new&nbsp;request.&nbsp;When&nbsp;it&nbsp;receives&nbsp;a&nbsp;Cookie&nbsp;header,&nbsp;the&nbsp;origin&nbsp;server&nbsp;should<br>
treat&nbsp;cookies&nbsp;with&nbsp;NAMEs&nbsp;whose&nbsp;prefix&nbsp;is&nbsp;$&nbsp;specially,&nbsp;as&nbsp;an&nbsp;attribute&nbsp;for<br>
the&nbsp;adjacent&nbsp;cookie.&nbsp;The&nbsp;value&nbsp;for&nbsp;such&nbsp;a&nbsp;NAME&nbsp;is&nbsp;to&nbsp;be&nbsp;interpreted&nbsp;as<br>
applying&nbsp;to&nbsp;the&nbsp;lexically&nbsp;(left-to-right)&nbsp;most&nbsp;recent&nbsp;cookie&nbsp;whose&nbsp;name&nbsp;does<br>
not&nbsp;have&nbsp;the&nbsp;$&nbsp;prefix.&nbsp;If&nbsp;there&nbsp;is&nbsp;no&nbsp;previous&nbsp;cookie,&nbsp;the&nbsp;value&nbsp;applies&nbsp;to<br>
the&nbsp;cookie&nbsp;mechanism&nbsp;as&nbsp;a&nbsp;whole.&nbsp;For&nbsp;example,&nbsp;consider&nbsp;the&nbsp;cookie&nbsp;Cookie:<br>
$Version=&quot;1&quot;;&nbsp;Customer=&quot;WILE_E_COYOTE&quot;;&nbsp;$Path=&quot;/acme&quot;&nbsp;$Version&nbsp;applies&nbsp;to<br>
the&nbsp;cookie&nbsp;mechanism&nbsp;as&nbsp;a&nbsp;whole&nbsp;(and&nbsp;gives&nbsp;the&nbsp;version&nbsp;number&nbsp;for&nbsp;the&nbsp;cookie<br>
mechanism).&nbsp;$Path&nbsp;is&nbsp;an&nbsp;attribute&nbsp;whose&nbsp;value&nbsp;(/acme)&nbsp;defines&nbsp;the&nbsp;Path<br>
attribute&nbsp;that&nbsp;was&nbsp;used&nbsp;when&nbsp;the&nbsp;Customer&nbsp;cookie&nbsp;was&nbsp;defined&nbsp;in&nbsp;a&nbsp;Set-Cookie<br>
response&nbsp;header.&nbsp;In&nbsp;Cookie.py&nbsp;it&nbsp;looks&nbsp;like&nbsp;the&nbsp;code&nbsp;was&nbsp;in&nbsp;place&nbsp;to&nbsp;deal<br>
with&nbsp;$Version&nbsp;and&nbsp;$Path,&nbsp;but&nbsp;not&nbsp;finished<br>
&nbsp;<br>
&nbsp;from&nbsp;&nbsp;_parse_cookie()<br>
&nbsp;line&nbsp;~321<br>
&nbsp;&nbsp;l_key&nbsp;=&nbsp;key.lower()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(l_key&nbsp;in&nbsp;valid&nbsp;or&nbsp;key[0]&nbsp;==&nbsp;'$'):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&quot;internal&quot;&nbsp;attribute,&nbsp;add&nbsp;to&nbsp;cookie<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;l_key&nbsp;==&nbsp;&quot;max-age&quot;:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l_key&nbsp;=&nbsp;&quot;max_age&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setattr(c,&nbsp;l_key,&nbsp;val)<br>
&nbsp;<br>
&nbsp;&nbsp;The&nbsp;above&nbsp;code&nbsp;checks&nbsp;for&nbsp;the&nbsp;$,&nbsp;but&nbsp;doesn't&nbsp;do&nbsp;anything&nbsp;with&nbsp;it&nbsp;and&nbsp;in<br>
fact&nbsp;when&nbsp;it&nbsp;tries&nbsp;to&nbsp;do&nbsp;a&nbsp;setattr&nbsp;with&nbsp;$Version&nbsp;or&nbsp;$Path,&nbsp;you&nbsp;get&nbsp;an&nbsp;error.<br>
&nbsp;<br>
&nbsp;I&nbsp;modified&nbsp;the&nbsp;function&nbsp;to&nbsp;be<br>
&nbsp;<br>
&nbsp;l_key&nbsp;=&nbsp;key.lower()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(l_key&nbsp;in&nbsp;valid&nbsp;or&nbsp;key[0]&nbsp;==&nbsp;'$'):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&quot;internal&quot;&nbsp;attribute,&nbsp;add&nbsp;to&nbsp;cookie<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;l_key&nbsp;==&nbsp;&quot;max-age&quot;:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l_key&nbsp;=&nbsp;&quot;max_age&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key[0]&nbsp;==&nbsp;'$':<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l_key&nbsp;=&nbsp;l_key[1:]<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setattr(c,&nbsp;l_key,&nbsp;val)<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;Don't&nbsp;know&nbsp;if&nbsp;this&nbsp;is&nbsp;exactly&nbsp;the&nbsp;correct&nbsp;fix,&nbsp;but&nbsp;it&nbsp;works&nbsp;for&nbsp;me&nbsp;and&nbsp;I<br>
thought&nbsp;that&nbsp;I&nbsp;would&nbsp;email&nbsp;the&nbsp;list.&nbsp;&nbsp;I&nbsp;tried&nbsp;to&nbsp;subscribe&nbsp;to<br>
&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:python-dev@httpd.apache.org&quot;&gt;python-dev@httpd.apache.org&lt;/a&gt;,&nbsp;but&nbsp;haven't&nbsp;gotten&nbsp;a&nbsp;response&nbsp;back&nbsp;yet,&nbsp;I&nbsp;CC<br>
this&nbsp;message&nbsp;to&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:python-dev@httpd.apache.org&quot;&gt;python-dev@httpd.apache.org&lt;/a&gt;&nbsp;also.<br>
&nbsp;<br>
&nbsp;Craig&nbsp;Warren<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;&lt;!----&gt;<br>
Hi,<br>
<br>
Yeah,&nbsp;your&nbsp;fix&nbsp;seems&nbsp;correct.<br>
<br>
The&nbsp;Cookie&nbsp;class&nbsp;has&nbsp;a&nbsp;metaclass&nbsp;which&nbsp;defines&nbsp;slots,&nbsp;so&nbsp;you&nbsp;cannot<br>
have&nbsp;arbitrary&nbsp;attribute&nbsp;names.&nbsp;The&nbsp;only&nbsp;valid&nbsp;attributes&nbsp;names&nbsp;are<br>
defined&nbsp;on&nbsp;line&nbsp;58&nbsp;(&nbsp;_valid_attr&nbsp;=...)&nbsp;of&nbsp;Cookie.py,&nbsp;and&nbsp;the&nbsp;version<br>
and&nbsp;path&nbsp;attributes&nbsp;do&nbsp;not&nbsp;begin&nbsp;with&nbsp;a&nbsp;$.&nbsp;So&nbsp;the&nbsp;attribute&nbsp;names<br>
which&nbsp;are&nbsp;parsed&nbsp;in&nbsp;_parse_cookie()&nbsp;must&nbsp;have&nbsp;their&nbsp;initial&nbsp;$&nbsp;removed.<br>
<br>
The&nbsp;problem&nbsp;of&nbsp;the&nbsp;current&nbsp;code&nbsp;is&nbsp;that&nbsp;the&nbsp;_valid_attr&nbsp;check&nbsp;is<br>
useless,&nbsp;but&nbsp;it's&nbsp;not&nbsp;totally&nbsp;spec&nbsp;compliant&nbsp;since&nbsp;the&nbsp;valid&nbsp;attribute<br>
coming&nbsp;first&nbsp;(as&nbsp;the&nbsp;$Version&nbsp;attribute)&nbsp;should&nbsp;be&nbsp;applied&nbsp;to&nbsp;all<br>
cookies.&nbsp;So&nbsp;I&nbsp;rewrote&nbsp;the&nbsp;whole&nbsp;function&nbsp;like&nbsp;this&nbsp;:<br>
<br>
def&nbsp;_parse_cookie(str,&nbsp;Class):<br>
&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;XXX&nbsp;problem&nbsp;is&nbsp;we&nbsp;should&nbsp;allow&nbsp;duplicate<br>
&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;strings<br>
&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;{}<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;all_cookies_attribute&nbsp;=&nbsp;{}<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;valid&nbsp;=&nbsp;Cookie._valid_attr<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;=&nbsp;None<br>
&nbsp;&nbsp;&nbsp;&nbsp;matchIter&nbsp;=&nbsp;_cookiePattern.finditer(str)<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;match&nbsp;in&nbsp;matchIter:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key,&nbsp;val&nbsp;=&nbsp;match.group(&quot;key&quot;),&nbsp;match.group(&quot;val&quot;)<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;we&nbsp;will&nbsp;check&nbsp;whether&nbsp;the&nbsp;cookie&nbsp;name&nbsp;is&nbsp;a&nbsp;valid&nbsp;attribute&nbsp;name<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;for&nbsp;the&nbsp;previous&nbsp;cookie.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l_key&nbsp;=&nbsp;key.lower()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;fix&nbsp;from&nbsp;Craig&nbsp;Warren<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;l_key[0]=='$':<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l_key=l_key[1:]<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;l_key&nbsp;==&nbsp;&quot;max-age&quot;:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l_key&nbsp;=&nbsp;&quot;max_age&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;l_key&nbsp;in&nbsp;valid:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;c:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;'global'&nbsp;attribute,&nbsp;will&nbsp;be&nbsp;added&nbsp;to&nbsp;all&nbsp;cookies<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all_cookies_attribute[l_key]=val<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&quot;internal&quot;&nbsp;attribute,&nbsp;add&nbsp;to&nbsp;cookie<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setattr(c,&nbsp;l_key,&nbsp;val)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;start&nbsp;a&nbsp;new&nbsp;cookie<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;we&nbsp;don't&nbsp;use&nbsp;l_key&nbsp;so&nbsp;that&nbsp;we&nbsp;keep&nbsp;the&nbsp;initial&nbsp;name<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;this&nbsp;way&nbsp;we&nbsp;are&nbsp;consistent&nbsp;with&nbsp;the&nbsp;creation&nbsp;of&nbsp;the&nbsp;first&nbsp;cookie<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;as&nbsp;done&nbsp;in&nbsp;the&nbsp;previous&nbsp;version&nbsp;of&nbsp;the&nbsp;function<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;=&nbsp;Class(key,&nbsp;val)<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;XXX&nbsp;this&nbsp;is&nbsp;a&nbsp;bit&nbsp;heavyweight&nbsp;since&nbsp;usually&nbsp;we'll&nbsp;have&nbsp;only&nbsp;0&nbsp;or&nbsp;1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;global&nbsp;attribute...<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;val&nbsp;in&nbsp;all_cookies_attribute.items():<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setattr(c,key,val)<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result[key]&nbsp;=&nbsp;c<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result<br>
<br>
Since&nbsp;you've&nbsp;already&nbsp;set&nbsp;up&nbsp;a&nbsp;testing&nbsp;environment,&nbsp;can&nbsp;you&nbsp;test&nbsp;this<br>
new&nbsp;version&nbsp;of&nbsp;the&nbsp;parsing&nbsp;function&nbsp;?&nbsp;If&nbsp;it&nbsp;works,&nbsp;I'll&nbsp;check&nbsp;it&nbsp;in.<br>
<br>
Regards,<br>
Nicolas<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&lt;/blockquote&gt;<br>
Not&nbsp;quite&nbsp;sure&nbsp;this&nbsp;is&nbsp;correct&nbsp;above,&nbsp;I&nbsp;have&nbsp;a&nbsp;hard&nbsp;time&nbsp;with&nbsp;the&nbsp;spec<br>
though..&lt;br&gt;<br>
&lt;br&gt;<br>
But&nbsp;the&nbsp;problem&nbsp;I&nbsp;see&nbsp;is&nbsp;depending&nbsp;on&nbsp;the&nbsp;order&nbsp;of&nbsp;the&nbsp;value&nbsp;name&nbsp;pairs<br>
you&nbsp;can&nbsp;get&nbsp;different&nbsp;results.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;first&nbsp;time&nbsp;though&nbsp;the&nbsp;loop&nbsp;will&nbsp;always&nbsp;put&nbsp;the&nbsp;l_key&nbsp;in&nbsp;the<br>
all_cookies_attribute,&nbsp;then&nbsp;depending&nbsp;on&nbsp;the&nbsp;order,&nbsp;it&nbsp;will&nbsp;put&nbsp;the<br>
attributes&nbsp;of&nbsp;the&nbsp;all_cookies_attribute&nbsp;on&nbsp;the&nbsp;next&nbsp;cookies&lt;br&gt;<br>
&lt;br&gt;<br>
[cwarren@lapbob&nbsp;mod_python]$&nbsp;python&nbsp;cookie_test.py&lt;br&gt;<br>
TEST&lt;br&gt;<br>
&amp;nbsp;--------------------------------------------------&lt;br&gt;<br>
New&nbsp;Funtion&lt;br&gt;<br>
Cookie:test=1;bob=1;$Version=0;$Path=/&lt;br&gt;<br>
Cookies&lt;br&gt;<br>
test=1&lt;br&gt;<br>
bob=1;&nbsp;version=0;&nbsp;path=/&lt;br&gt;<br>
&amp;nbsp;&lt;br&gt;<br>
My&nbsp;function&nbsp;Old&nbsp;with&nbsp;my&nbsp;fix&lt;br&gt;<br>
Cookie:test=1;bob=1;$Version=0;$Path=/&lt;br&gt;<br>
Cookies&lt;br&gt;<br>
test=1&lt;br&gt;<br>
bob=1;&nbsp;version=0;&nbsp;path=/&lt;br&gt;<br>
&amp;nbsp;&lt;br&gt;<br>
&amp;nbsp;--------------------------------------------------&lt;br&gt;<br>
&amp;nbsp;&lt;br&gt;<br>
TEST&lt;br&gt;<br>
&amp;nbsp;--------------------------------------------------&lt;br&gt;<br>
New&nbsp;Funtion&lt;br&gt;<br>
Cookie:$Version=0;$Path=/;test=1&lt;br&gt;<br>
Cookies&lt;br&gt;<br>
test=1;&nbsp;version=0;&nbsp;path=/&lt;br&gt;<br>
&amp;nbsp;&lt;br&gt;<br>
My&nbsp;function&nbsp;Old&nbsp;with&nbsp;my&nbsp;fix&lt;br&gt;<br>
Cookie:$Version=0;$Path=/;test=1&lt;br&gt;<br>
Cookies&lt;br&gt;<br>
$Version=0;&nbsp;version=0;&nbsp;path=/&lt;br&gt;<br>
test=1&lt;br&gt;<br>
&amp;nbsp;&lt;br&gt;<br>
&amp;nbsp;--------------------------------------------------&lt;br&gt;<br>
&amp;nbsp;&lt;br&gt;<br>
TEST&lt;br&gt;<br>
&amp;nbsp;--------------------------------------------------&lt;br&gt;<br>
New&nbsp;Funtion&lt;br&gt;<br>
Cookie:test=1;$Version=0;bob=1;$Path=/&lt;br&gt;<br>
Cookies&lt;br&gt;<br>
test=1;&nbsp;version=0&lt;br&gt;<br>
bob=1;&nbsp;path=/&lt;br&gt;<br>
&amp;nbsp;&lt;br&gt;<br>
My&nbsp;function&nbsp;Old&nbsp;with&nbsp;my&nbsp;fix&lt;br&gt;<br>
Cookie:test=1;$Version=0;bob=1;$Path=/&lt;br&gt;<br>
Cookies&lt;br&gt;<br>
test=1;&nbsp;version=0&lt;br&gt;<br>
bob=1;&nbsp;path=/&lt;br&gt;<br>
&amp;nbsp;&lt;br&gt;<br>
&amp;nbsp;--------------------------------------------------&lt;br&gt;<br>
&amp;nbsp;&lt;br&gt;<br>
[cwarren@lapbob&nbsp;mod_python]$&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Maybe&nbsp;only&nbsp;set&nbsp;the&nbsp;&quot;global&quot;&nbsp;attributes&nbsp;to&nbsp;all&nbsp;cookies&nbsp;if&nbsp;it&nbsp;has&nbsp;a&nbsp;&quot;$&quot;<br>
in&nbsp;front&nbsp;of&nbsp;it,&nbsp;so&nbsp;you&nbsp;would&nbsp;have&nbsp;to&nbsp;collect&nbsp;those&nbsp;the&nbsp;first&nbsp;time<br>
through&nbsp;the&nbsp;loop&nbsp;then&nbsp;add&nbsp;them&nbsp;afterwards&nbsp;to&nbsp;each&nbsp;Cookie.&amp;nbsp;&nbsp;But&nbsp;like&nbsp;I<br>
said&nbsp;I&nbsp;don't&nbsp;quite&nbsp;understand&nbsp;the&nbsp;spec&nbsp;very&nbsp;well.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
