<tt>
Are&nbsp;you&nbsp;sure&nbsp;mod_python&nbsp;is&nbsp;using&nbsp;the&nbsp;same&nbsp;Python&nbsp;interpreter&nbsp;as&nbsp;the&nbsp;one&nbsp;you&nbsp;made&nbsp;the&nbsp;test&nbsp;in&nbsp;?&lt;br&gt;<br>
&lt;br&gt;<br>
Try&nbsp;running&nbsp;this&nbsp;handler&nbsp;:&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;from&nbsp;mod_python&nbsp;import&nbsp;apache&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;import&nbsp;sys&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;def&nbsp;handler(req):&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.content_type&nbsp;=&nbsp;'text/plain'&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.write(sys.version+'\n')&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;req.write(sys.exec_prefix+'\n')&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;apache.OK&lt;br&gt;<br>
&lt;/span&gt;&lt;br&gt;<br>
Regards,&lt;br&gt;<br>
Nicolas&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;2005/10/9,&nbsp;Erdi&nbsp;Balint&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:erdibalint@freemail.hu&quot;&gt;erdibalint@freemail.hu&lt;/a&gt;&amp;gt;:&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Thank&nbsp;you,&nbsp;Nicolas,&nbsp;that&nbsp;fixed&nbsp;that&nbsp;problem,&nbsp;but&nbsp;now&nbsp;I&nbsp;have&nbsp;another&nbsp;one,&lt;br&gt;when&nbsp;importing&nbsp;a&nbsp;module&nbsp;from&nbsp;the&nbsp;MySQLdb&nbsp;module,&nbsp;I&nbsp;get&nbsp;the&nbsp;following&lt;br&gt;exception:&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;File&nbsp;&amp;quot;/var/www/trivia/control/trivia.py&amp;quot;,&nbsp;line&nbsp;5,&nbsp;in&nbsp;_connect<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;db&nbsp;=&nbsp;MySQLdb.connect(user=&amp;quot;xxx&amp;quot;,passwd=&amp;quot;xxx&amp;quot;,db=&amp;quot;xxx&amp;quot;)&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;File&nbsp;&amp;quot;/usr/lib/python2.3/site-packages/MySQLdb/__init__.py&amp;quot;,&nbsp;line&nbsp;66,&lt;br&gt;in&nbsp;Connect&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;Connection(*args,&nbsp;**kwargs)<br>
&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;File&nbsp;&amp;quot;/usr/lib/python2.3/site-packages/MySQLdb/connections.py&amp;quot;,&nbsp;line&lt;br&gt;117,&nbsp;in&nbsp;__init__&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;from&nbsp;converters&nbsp;import&nbsp;conversions&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;File&nbsp;&amp;quot;/usr/lib/python2.3/site-packages/MySQLdb/converters.py&amp;quot;,&nbsp;line<br>
&lt;br&gt;40,&nbsp;in&nbsp;?&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;import&nbsp;array&lt;br&gt;&lt;br&gt;ImportError:&nbsp;/usr/lib/python2.3/lib-dynload/array.so:&nbsp;undefined&nbsp;symbol:&lt;br&gt;PyUnicodeUCS4_FromUnicode&lt;br&gt;&lt;br&gt;I've&nbsp;come&nbsp;across&nbsp;a&nbsp;python&nbsp;faq&nbsp;item,&nbsp;that&nbsp;says&nbsp;the&nbsp;following&nbsp;about&nbsp;the&lt;br&gt;<br>
cause&nbsp;of&nbsp;the&nbsp;error:&lt;br&gt;&lt;br&gt;&amp;quot;...&lt;br&gt;If&nbsp;instead&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;undefined&nbsp;symbol&nbsp;starts&nbsp;with&nbsp;PyUnicodeUCS4,&lt;br&gt;the&nbsp;problem&nbsp;is&nbsp;the&nbsp;reverse:&nbsp;Python&nbsp;was&nbsp;built&nbsp;using&nbsp;2-byte&nbsp;Unicode&lt;br&gt;characters,&nbsp;and&nbsp;the&nbsp;extension&nbsp;module&nbsp;was&nbsp;compiled&nbsp;using&nbsp;a&nbsp;Python&nbsp;with<br>
&lt;br&gt;4-byte&nbsp;Unicode&nbsp;characters.&lt;br&gt;...&lt;br&gt;&lt;br&gt;You&nbsp;can&nbsp;check&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;Unicode&nbsp;character&nbsp;a&nbsp;Python&nbsp;interpreter&nbsp;is&lt;br&gt;using&nbsp;by&nbsp;checking&nbsp;the&nbsp;value&nbsp;of&nbsp;sys.maxunicode:&lt;br&gt;&lt;br&gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;import&nbsp;sys&lt;br&gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;if&nbsp;sys.maxunicode<br>
&nbsp;&amp;gt;&nbsp;65535:&lt;br&gt;...&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;print&nbsp;'UCS4&nbsp;build'&lt;br&gt;...&nbsp;else:&lt;br&gt;...&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;print&nbsp;'UCS2&nbsp;build'&lt;br&gt;&lt;br&gt;&amp;quot;&lt;br&gt;Ok,&nbsp;so&nbsp;in&nbsp;theory,&nbsp;my&nbsp;Python&nbsp;interpreter&nbsp;uses&nbsp;2-byte&nbsp;Unicode&nbsp;characters,&lt;br&gt;but&nbsp;I've&nbsp;checked&nbsp;it&nbsp;(I&nbsp;am&nbsp;python&nbsp;2.3.5)&nbsp;with&nbsp;the&nbsp;above&nbsp;code&nbsp;snipplet,<br>
&lt;br&gt;and&nbsp;it&nbsp;is&nbsp;not&nbsp;so,&nbsp;I&nbsp;am&nbsp;using&nbsp;4-byte&nbsp;Unicode&nbsp;characters?&nbsp;Then&nbsp;why&nbsp;is&nbsp;the&lt;br&gt;error?&lt;br&gt;&lt;br&gt;Thank&nbsp;you&nbsp;for&nbsp;your&nbsp;help,&lt;br&gt;Balint&lt;br&gt;&lt;br&gt;&lt;br&gt;Nicolas&nbsp;Lehuen&nbsp;wrote:&lt;br&gt;&amp;gt;&nbsp;Hi&nbsp;Erdi,&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;Have&nbsp;a&nbsp;look&nbsp;at&nbsp;this&nbsp;FAQ&nbsp;entry,&nbsp;it&nbsp;may&nbsp;be&nbsp;related&nbsp;to&nbsp;your&nbsp;problem&nbsp;:<br>
&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;http://www.modpython.org/FAQ/faqw.py?req=show&amp;amp;file=faq02.013.htp&quot;&gt;http://www.modpython.org/FAQ/faqw.py?req=show&amp;amp;file=faq02.013.htp&lt;/a&gt;&lt;br&gt;&amp;gt;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;http://www.modpython.org/FAQ/faqw.py?req=show&amp;amp;file=faq02.013.htp&quot;&gt;<br>
http://www.modpython.org/FAQ/faqw.py?req=show&amp;amp;file=faq02.013.htp&lt;/a&gt;&amp;gt;&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;Regards,&lt;br&gt;&amp;gt;&nbsp;Nicolas&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;2005/10/9,&nbsp;Erdi&nbsp;Balint&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:erdibalint@freemail.hu&quot;&gt;erdibalint@freemail.hu<br>
&lt;/a&gt;&lt;br&gt;&amp;gt;&nbsp;&amp;lt;mailto:&lt;a&nbsp;href=&quot;mailto:erdibalint@freemail.hu&quot;&gt;erdibalint@freemail.hu&lt;/a&gt;&amp;gt;&amp;gt;:&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Hi&nbsp;all,&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;I&nbsp;am&nbsp;trying&nbsp;to&nbsp;write&nbsp;a&nbsp;small&nbsp;python-mysql&nbsp;application&nbsp;with&nbsp;mod_python&lt;br&gt;<br>
&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;but&nbsp;got&nbsp;stuck&nbsp;right&nbsp;at&nbsp;the&nbsp;beginning.&nbsp;The&nbsp;following&nbsp;code&nbsp;snippet:&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;import&nbsp;MySQLdb&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;db&nbsp;=&nbsp;MySQLdb.connect(user=&amp;quot;xxx&amp;quot;,passwd=&amp;quot;xxx&amp;quot;,db=&amp;quot;xxx&amp;quot;)&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&nbsp;db<br>
&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;causes&nbsp;a&nbsp;Segmentation&nbsp;fault.&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;apache&nbsp;log:&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;[Sun&nbsp;Oct&amp;nbsp;&amp;nbsp;9&nbsp;11:09:52&nbsp;2005]&nbsp;[notice]&nbsp;child&nbsp;pid&nbsp;6736&nbsp;exit&nbsp;signal&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Segmentation&nbsp;fault&nbsp;(11)&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;(in&nbsp;fact,&nbsp;any&nbsp;mysql&nbsp;db&nbsp;operation&nbsp;causes&nbsp;the&nbsp;same)<br>
&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;I&nbsp;am&nbsp;using&nbsp;python-mysqldb&nbsp;version&nbsp;1.2.1c3-2&nbsp;and&nbsp;libapache-mod-python&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;version&nbsp;2.7.10-4&nbsp;(both&nbsp;installed&nbsp;from&nbsp;Debian&nbsp;packages,&nbsp;thinking&nbsp;that&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;they&nbsp;were&nbsp;stable&nbsp;releases).&nbsp;Apache&nbsp;version&nbsp;is&nbsp;<br>
1.3.33.&nbsp;Am&nbsp;I&nbsp;doing&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;something&nbsp;wrong?&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Thank&nbsp;you&nbsp;for&nbsp;your&nbsp;help,&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Balint&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;_______________________________________________&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Mod_python&nbsp;mailing&nbsp;list&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;a&nbsp;href=&quot;mailto:Mod_python@modpython.org&quot;&gt;<br>
Mod_python@modpython.org&lt;/a&gt;&nbsp;&amp;lt;mailto:&lt;a&nbsp;href=&quot;mailto:Mod_python@modpython.org&quot;&gt;Mod_python@modpython.org&lt;/a&gt;&amp;gt;&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;a&nbsp;href=&quot;http://mailman.modpython.org/mailman/listinfo/mod_python&quot;&gt;http://mailman.modpython.org/mailman/listinfo/mod_python<br>
&lt;/a&gt;&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&lt;br&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
