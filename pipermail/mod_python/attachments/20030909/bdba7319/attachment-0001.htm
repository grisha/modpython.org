<tt>
&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN&quot;&gt;<br>
&lt;html&gt;<br>
&lt;head&gt;<br>
&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;charset=ISO-8859-1&quot;&gt;<br>
&nbsp;&nbsp;&lt;title&gt;&lt;/title&gt;<br>
&lt;/head&gt;<br>
&lt;body&gt;<br>
Mike&nbsp;Looijmans&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;cite=&quot;mid01c3760e$c26c4100$926a1e6e@wsasd464&quot;&gt;<br>
&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;When&nbsp;I'm&nbsp;developing&nbsp;I&nbsp;usually&nbsp;have&nbsp;a&nbsp;common&nbsp;problem&nbsp;that&nbsp;is&nbsp;when&nbsp;I<br>
change&nbsp;a&nbsp;class&nbsp;or&nbsp;some&nbsp;file,&nbsp;sometimes&nbsp;the&nbsp;interpreter&nbsp;remains&nbsp;in&nbsp;memory<br>
the&nbsp;old&nbsp;version&nbsp;and&nbsp;doesn't&nbsp;load&nbsp;the&nbsp;new&nbsp;one.&nbsp;Is&nbsp;there&nbsp;a&nbsp;way&nbsp;to&nbsp;solve<br>
this&nbsp;out&nbsp;?&nbsp;Normally&nbsp;I&nbsp;use&nbsp;an&nbsp;non&nbsp;elegant&nbsp;way,&nbsp;I&nbsp;restart&nbsp;apache!<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;&lt;!----&gt;<br>
I&nbsp;use&nbsp;the&nbsp;&quot;reload&quot;&nbsp;built-in&nbsp;function.&nbsp;This&nbsp;loads&nbsp;an&nbsp;internal&nbsp;module&nbsp;from<br>
disk.<br>
My&nbsp;main&nbsp;handler&nbsp;checks&nbsp;if&nbsp;the&nbsp;path_info&nbsp;of&nbsp;the&nbsp;URL&nbsp;is&nbsp;&quot;/request&quot;&nbsp;and&nbsp;if&nbsp;&lt;/pre&gt;<br>
&lt;/blockquote&gt;<br>
How&nbsp;do&nbsp;you&nbsp;check&nbsp;this&nbsp;?&lt;br&gt;<br>
&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;cite=&quot;mid01c3760e$c26c4100$926a1e6e@wsasd464&quot;&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;so,<br>
runs&nbsp;the&nbsp;following&nbsp;(you&nbsp;could&nbsp;use&nbsp;publisher&nbsp;to&nbsp;publish&nbsp;this&nbsp;interface&nbsp;as<br>
well).<br>
All&nbsp;&quot;my&quot;&nbsp;modules&nbsp;are&nbsp;named&nbsp;&quot;ops_&quot;&nbsp;something.&nbsp;You&nbsp;could&nbsp;also&nbsp;use&nbsp;the&nbsp;__file__<br>
location&nbsp;as&nbsp;a&nbsp;filter.<br>
<br>
def&nbsp;reloadmodules(req):<br>
&nbsp;&nbsp;&nbsp;&nbsp;'''Try&nbsp;to&nbsp;reload&nbsp;all&nbsp;ops_&nbsp;modules.&nbsp;This&nbsp;is&nbsp;typically&nbsp;done&nbsp;after&nbsp;updating<br>
&nbsp;&nbsp;&nbsp;&nbsp;imported&nbsp;scripts,&nbsp;such&nbsp;as&nbsp;ops_cgisql.py.&nbsp;The&nbsp;main&nbsp;scripts&nbsp;will&nbsp;be<br>
&nbsp;&nbsp;&nbsp;&nbsp;reloaded&nbsp;automatically&nbsp;on&nbsp;demand,&nbsp;so&nbsp;that&nbsp;there&nbsp;is&nbsp;no&nbsp;need&nbsp;to&nbsp;send<br>
&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;reload&nbsp;after&nbsp;changing&nbsp;ops_webrellist.py&nbsp;or&nbsp;so.<br>
&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;also&nbsp;throws&nbsp;away&nbsp;old&nbsp;DB&nbsp;connections.&nbsp;If&nbsp;there&nbsp;are&nbsp;currently<br>
&nbsp;&nbsp;&nbsp;&nbsp;active&nbsp;connections,&nbsp;these&nbsp;are&nbsp;preserved.'''<br>
&nbsp;&nbsp;&nbsp;&nbsp;req.content_type='text/plain'<br>
&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Reload&nbsp;python&nbsp;modules<br>
&nbsp;&nbsp;&nbsp;&nbsp;modules&nbsp;=&nbsp;sys.modules.keys()<br>
&nbsp;&nbsp;&nbsp;&nbsp;modules.sort()<br>
&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;module&nbsp;in&nbsp;modules:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;module[:4]&nbsp;==&nbsp;'ops_':<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;req.write('Reloading:&nbsp;%s\n'&nbsp;%&nbsp;module)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reload(sys.modules[module])<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;req.write('%s:&nbsp;%s\n'&nbsp;%&nbsp;sys.exc_info()[:2])<br>
&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;throw&nbsp;away&nbsp;DB&nbsp;connection&nbsp;objects<br>
&nbsp;&nbsp;&nbsp;&nbsp;req.write('Destroy&nbsp;DB&nbsp;cached&nbsp;connections\n')<br>
&nbsp;&nbsp;&nbsp;&nbsp;_lock.acquire()<br>
&nbsp;&nbsp;&nbsp;&nbsp;try:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dblist.clear()<br>
&nbsp;&nbsp;&nbsp;&nbsp;finally:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_lock.release()<br>
&nbsp;&nbsp;&nbsp;&nbsp;req.write('Done\n')&lt;/pre&gt;<br>
&lt;/blockquote&gt;<br>
I'm&nbsp;using&nbsp;something&nbsp;similar,&nbsp;I&nbsp;think.&nbsp;On&nbsp;the&nbsp;script&nbsp;that&nbsp;I'm&nbsp;calling<br>
and&nbsp;import&nbsp;all&nbsp;the&nbsp;modules,&nbsp;I'm&nbsp;doing&nbsp;this:&lt;br&gt;<br>
import&nbsp;misc&nbsp;&lt;br&gt;<br>
import&nbsp;funcionario&lt;br&gt;<br>
import&nbsp;chtml&lt;br&gt;<br>
import&nbsp;string&lt;br&gt;<br>
&lt;br&gt;<br>
DEBUG&nbsp;=&nbsp;1&lt;br&gt;<br>
if&nbsp;DEBUG:&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;reload&nbsp;(misc)&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;reload&nbsp;(funcionario)&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;reload(chtml)&lt;br&gt;<br>
&lt;br&gt;<br>
It&nbsp;should&nbsp;do&nbsp;the&nbsp;same,&nbsp;except&nbsp;on&nbsp;destroying&nbsp;DB&nbsp;connection,&nbsp;only&nbsp;that&nbsp;I<br>
only&nbsp;have&nbsp;a&nbsp;few&nbsp;modules&nbsp;I&nbsp;don't&nbsp;need&nbsp;to&nbsp;take&nbsp;them&nbsp;out&nbsp;sys.modules.&lt;br&gt;<br>
Most&nbsp;of&nbsp;the&nbsp;time&nbsp;it&nbsp;reloads&nbsp;the&nbsp;modules&nbsp;but&nbsp;some&nbsp;times&nbsp;it&nbsp;doesn't&nbsp;!!&lt;br&gt;<br>
Probably&nbsp;the&nbsp;error&nbsp;is&nbsp;in&nbsp;the&nbsp;way&nbsp;this&nbsp;is&nbsp;called.&nbsp;I&nbsp;don't&nbsp;know,&nbsp;by&nbsp;using<br>
publisher&nbsp;!!!???&lt;br&gt;<br>
&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;cite=&quot;mid01c3760e$c26c4100$926a1e6e@wsasd464&quot;&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;<br>
<br>
<br>
<br>
<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;pre&nbsp;class=&quot;moz-signature&quot;&nbsp;cols=&quot;72&quot;&gt;--&nbsp;<br>
Luis&nbsp;Sousa<br>
Especialista&nbsp;de&nbsp;Inform&amp;aacute;tica<br>
Gabinete&nbsp;de&nbsp;Gest&amp;atilde;o&nbsp;de&nbsp;Informa&amp;ccedil;&amp;atilde;o,&nbsp;ext:&nbsp;7837<br>
Campus&nbsp;de&nbsp;Gambelas<br>
Universidade&nbsp;do&nbsp;Algarve,&nbsp;tel:&nbsp;289800900<br>
&lt;/pre&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
