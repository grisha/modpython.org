<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] python path and 3.3
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20python%20path%20and%203.3&In-Reply-To=1164946245.5080%40dscpl.user.openhosting.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022740.html">
   <LINK REL="Next"  HREF="022732.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] python path and 3.3</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Eric Brunson</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20python%20path%20and%203.3&In-Reply-To=1164946245.5080%40dscpl.user.openhosting.com"
       TITLE="[mod_python] python path and 3.3">brunson at brunson.com
       </A><BR>
    <I>Fri Dec  1 10:49:08 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="022740.html">[mod_python] python path and 3.3
</A></li>
        <LI>Next message: <A HREF="022732.html">[mod_python] Testing for mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22731">[ date ]</a>
              <a href="thread.html#22731">[ thread ]</a>
              <a href="subject.html#22731">[ subject ]</a>
              <a href="author.html#22731">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Graham Dumpleton wrote:
&gt;<i> Eric Brunson wrote ..
</I>&gt;<i>   
</I>&gt;&gt;<i> Eric Brunson wrote:
</I>&gt;&gt;<i>     
</I>&gt;&gt;&gt;<i> I just grabbed the latest SVN snapshot and installed it and I'm having
</I>&gt;&gt;&gt;<i> a problem with importing now.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Using the publisher handler I'm trying to get my app from 3.1.4 going,
</I>&gt;&gt;&gt;<i> but 3.3 no longer seems to want to find my lib/ subdirectory.  I've 
</I>&gt;&gt;&gt;<i> added the following to my .htaccess:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> PythonPath &quot;['.']+sys.path&quot;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I can display the sys.path in an app and it includes &quot;.&quot;, but it just
</I>&gt;&gt;&gt;<i> doesn't find a subdirectory &quot;lib&quot;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Is there something new with the module loading that I should be aware
</I>&gt;&gt;&gt;<i>       
</I>&gt;&gt;<i> of?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Sorry.  Got a little quick on the send...  Here's the error message:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>   File &quot;/usr/local/www/data/deviceWebGui/erictest.py&quot;, line 3, in &lt;module&gt;
</I>&gt;&gt;<i>     from lib import HTMLBuilder
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ImportError: No module named lib
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> And lib is a subdirectory of /usr/local/www/data/deviceWebGui/ 
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> The basic reason why this doesn't work for you is that in the old importer,
</I>&gt;<i> the directory the Python*Handler directive was specified for was automatically
</I>&gt;<i> added to sys.path, but in the new module importer this is no longer done.
</I>&gt;<i>
</I>&gt;<i> The reason that the directory was added to sys.path in the old importer
</I>&gt;<i> was because the standard Python module import mechanism was used
</I>&gt;<i> underneath to find modules and without the directory in sys.path, it would
</I>&gt;<i> not find them.
</I>
[ snip ]
&gt;<i>
</I>&gt;<i> If not, because publisher is used, someone could invoke code in the lib
</I>&gt;<i> subdirectory otherwise.
</I>&gt;<i>
</I>&gt;<i> Anyway, hope I haven't confused you too much. 
</I>&gt;<i>
</I>&gt;<i> Graham
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>   
</I>
Not confusing at all, thanks for taking the time to write such an in 
depth explanation.  We should probably add the entire text of that post 
to the WiKi.  I'll do that later today, with your consent.

Sincerly,
e.


</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022740.html">[mod_python] python path and 3.3
</A></li>
	<LI>Next message: <A HREF="022732.html">[mod_python] Testing for mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22731">[ date ]</a>
              <a href="thread.html#22731">[ thread ]</a>
              <a href="subject.html#22731">[ subject ]</a>
              <a href="author.html#22731">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
