<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] focus on shared hosting?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20focus%20on%20shared%20hosting%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022849.html">
   <LINK REL="Next"  HREF="022841.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] focus on shared hosting?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Martijn Moeling</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20focus%20on%20shared%20hosting%3F&In-Reply-To="
       TITLE="[mod_python] focus on shared hosting?">martijn at xs4us.nu
       </A><BR>
    <I>Fri Dec 22 06:51:01 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="022849.html">[mod_python] Indentation problems with psp
</A></li>
        <LI>Next message: <A HREF="022841.html">[mod_python] focus on shared hosting?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22839">[ date ]</a>
              <a href="thread.html#22839">[ thread ]</a>
              <a href="subject.html#22839">[ subject ]</a>
              <a href="author.html#22839">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I am building a mod_pthon application which is growing towards a web
development system (more on that later on). It is on a production
platform for over a year now and fortunately that project had the budget
to get a dedicated server. The hosting provider has been extremely
flexible in supporting a mod_python setup, and I am sure THEY will
support MP in a virtual host environment if I ask them to do so.

I found out that the larger the provider the less they are flexible on
non standard setups or additional software like mod_python. Try and seek
a well established provider which specializes on hosting and not on
internet access and prepare a list of questions/demands before you
contact them like:

Do you support Mod_python (obvious)
Would you if you don't
Can I modify the .htaccess
What extensions within python can I use (MySQLdb for instance)
Etc.

Now a little on my application:

You can find it running on <A HREF="http://www.lokalos.nl">http://www.lokalos.nl</A> (or the
<A HREF="http://www.mkbok.nl">http://www.mkbok.nl</A> is the production example) Which is one of the
domains on my development server. It is based on a self made templating
system and all data (except for some images at the moment) is stored in
a MySQL database, that is templates, template blocks, data. The basic
module can be extended with separate modules, which are stored in the
database to (3.3.0b is used now for module reloading and beta-testing).
The database can contain additional tables which can be altered from
within the backoffice
(<A HREF="http://www.lokalos.nl/lokalosimg/screendump_backoffice.jpg">http://www.lokalos.nl/lokalosimg/screendump_backoffice.jpg</A>) 
(sorry for everything being in Dutch, the screen dump is to get an
impression)

This backoffice turns a browser into a desktop, and the next major thing
I am working on is a python to javascript converter so even the browser
can be programmed with python (with support for all major browsers). The
IDE will be something like Visual basic 6.0 but web based and completely
pythonic.
Users can be members of groups and membership of one adds functionality
to the menu on top.

As you can see in mkbok my system can be used to implement subdomains,
meaning xxx.mkbok.nl or even xxx.yyy.zzz.ppp.mkbok.nl, all database
driven, In the early days of my development I used to refer to my system
as a PMS (Portal Management System, and the original reason for starting
this developmen) but by now it is becoming an application development
system since I get more and more request from customers who want to let
their customers use the backoffice, or as I signed the contract this
morning one of my customers will be relying fully on this system to
implement their business logic and kick out M$ software completely,
replacing XP by linux with firefox and no other software as sort of
relatively dumb terminal with a 2 linux server redundant setup, running
apache, mysql and mod_python (and sendmail).

I am far from releasing this, but I am thinking of making it available
under GPL. Within this system a virtual host setup can be made, leaving
the apache config to no more than a AddHandler or SetHandler

The needed apache Config is:
&lt;VirtualHost *:80&gt;
	DocumentRoot /var/www/html
&lt;/VirtualHost&gt;

PythonOptimize On
# New in MP 3.3.0b:
PythonOption mod_python.importer.path [&quot;/usr/bin/PMS&quot;]

&lt;Directory &quot;/var/www/html&quot;&gt;
	AddHandler mod_python .py
	PythonHandler generate
	PythonAutoReload On
&lt;/Directory&gt;

#access to the backoffice
&lt;Location &quot;/admin/&quot;&gt;
	SetHandler mod_pthon
	PythonHandler generate
	PythonAutoReload On
&lt;/Location&gt;

(I left out the SSL stuff)

With a request I look at req.connection.host to see which domain is
wanted and I open the corresponding MySQL database and read the right
template.

This story might be an eye opener to some of you and any comments are
welcome. Shoot questions if you want.

Martijn Moeling

-----Oorspronkelijk bericht-----
Van: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python-bounces at modpython.org</A>
[mailto:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python-bounces at modpython.org</A>] Namens Jim Gallacher
Verzonden: Friday, December 22, 2006 6:16 AM
Aan: Anthony
CC: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
Onderwerp: Re: [mod_python] focus on shared hosting?

Anthony wrote:
&gt;&gt;<i> Are there really security or resource utilization issues that can't
</I>be 
&gt;&gt;<i> over come?
</I>&gt;<i> 
</I>&gt;<i> Yes. Many shared hosting admins contend that they can't isolate
</I>&gt;<i> virtual hosts for one reason or another. Considering that their target
</I>&gt;<i> market for shared hosting is made up of more bloggers and
</I>&gt;<i> blogger/hobbyist programmers than seasoned developers who will be
</I>&gt;<i> extra careful with their processes, I suppose it's reasonable for an
</I>&gt;<i> admin to be afraid.
</I>
I'm not sure mod_python is any worse as far as resource utilization is 
concerned. Mod_python 3.0 had the reputation of leaking memory, but 3.2 
fixed alot of the leaks and 3.3 will fix a couple more and in fact is 
looking pretty good on that front. On the other hand isolating virtual 
hosts is going to be difficult because of limitations imposed by the 
interpreter, and I don't see any easy fix. The ultimate answer is 
something like the (now dead) perchild-mpm, but there doesn't seem to be

much movement in that direction in httpd-land.

&gt;<i> A nifty screencast would be great though, if only to inspire. A demo
</I>&gt;<i> site running small mod_python apps would be great too. I just wrote a
</I>&gt;<i> small CGI app that let's me load up random Garfield comic strips, but
</I>&gt;<i> a cool Ajaxy Flickr/eBay/Amazon search tool would be impressive.
</I>&gt;<i> Admins and hobbyists who want to experiment need to be enticed by
</I>&gt;<i> these presentations... showmanship.
</I>
Not just showmanship. I think the screencast idea is pretty good and 
I've certainly seen some that were quite educational. It seems to me 
they work best when you have some sort of GUI to explain though. As good

as screencasts may be, is there anything worse than watching someone 
type code into an editor?

&gt;<i> I believe if we want to see mod_python widespread on shared hosts, we
</I>&gt;<i> should promote mod_python 2.7 on Apache 1.3. *ducks* 
</I>
And so you should. Mod_python 2 is dead. It's not resting. It's not 
pining for the fiords, it's not stunned. It's dead. It's pushin' up the 
daisies! 'Is metabolic processes are now 'istory! 'E's off the twig! 
'E's kicked the bucket, 'e's shuffled off 'is mortal coil, run down the 
curtain and joined the bleedin' choir invisibile!!

It is, in a word, an Ex-module.

(Gee, I wonder if it was a mistake to check my email after a couple of 
pints down at the local?)

&gt;<i> I use mod_python
</I>&gt;<i> 3 on Apache 2 on my test system, but out there in shared hosting land,
</I>&gt;<i> Apache 1.3 support is a generally a must. I admit I don't know much
</I>&gt;<i> about the differences between MP2 and MP3, but what if MP2 were
</I>&gt;<i> designed specifically to meet the needs of shared hosting admins? A
</I>&gt;<i> kind of mod_python lite if you will.
</I>
I've come to accept that the sweet spot for mod_python is somewhat 
higher up the food chain from cheap shared hosting. Mod_python will come

into it's own as server virtualization becomes the rule for website
hosting.

The code for mod_python 2 hasn't really been touched since 2002, and 
Apache 1.3 is considered legacy code as well. Many of the things that I 
find interesting and exciting about mod_python depend on Apache 2 
features. I think it would be hard to find people willing to spend time 
making mod_python 2.x work properly when you consider that it's 
ultimately a dead end. I'd much rather see our resources spent on 
improving the documentation (a widely acknowledged weakness), exploiting

Apache 2.2 features and general performance improvements.

Jim

_______________________________________________
Mod_python mailing list
<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>

</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022849.html">[mod_python] Indentation problems with psp
</A></li>
	<LI>Next message: <A HREF="022841.html">[mod_python] focus on shared hosting?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22839">[ date ]</a>
              <a href="thread.html#22839">[ thread ]</a>
              <a href="subject.html#22839">[ subject ]</a>
              <a href="author.html#22839">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
