<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Issue with 'make'
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Issue%20with%20%27make%27&In-Reply-To=00a501c7291d%24d4284db0%244508060a%40hscs.virginia.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022873.html">
   <LINK REL="Next"  HREF="022890.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Issue with 'make'</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Issue%20with%20%27make%27&In-Reply-To=00a501c7291d%24d4284db0%244508060a%40hscs.virginia.edu"
       TITLE="[mod_python] Issue with 'make'">grahamd at dscpl.com.au
       </A><BR>
    <I>Tue Dec 26 17:26:13 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="022873.html">[mod_python] Issue with 'make'
</A></li>
        <LI>Next message: <A HREF="022890.html">[mod_python] Issue with 'make'
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22876">[ date ]</a>
              <a href="thread.html#22876">[ thread ]</a>
              <a href="subject.html#22876">[ subject ]</a>
              <a href="author.html#22876">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>AIX is a horrid platform and their C compiler isn't really much better.

What I would suggest first is to use mod_python 3.3.0b from:

   <A HREF="http://httpd.apache.org/modules/python-download.cgi">http://httpd.apache.org/modules/python-download.cgi</A>

This has had various little changes made to eliminate compiler warnings
and errors from various compilers.

Second is to try and persist with GNU C compiler over IBM compiler as
we may at least then have a chance of trying to decode any errors and
come up with a solution. The IBM compiler can just be too pedantic.

The only issue though may be that if Apache was built with the IBM
compiler, all the libtool stuff within it may be set up for that  
compiler instead
of gcc. This may cause some grief. Thus try and work out if Apache was
built with the IBM compiler as well.

Graham

On 27/12/2006, at 5:44 AM, Andrew Neilson wrote:

&gt;<i> Please excuse any dumb questions - I am new to this and have  
</I>&gt;<i> limited C experience.  Any help would be appreciated.  Here is what  
</I>&gt;<i> I have:
</I>&gt;<i>
</I>&gt;<i> Apache:  Server version: IBM_HTTP_Server/6.0.2 Apache/2.0.47
</I>&gt;<i>               Server built:   Jun  4 2005 09:30:48
</I>&gt;<i>
</I>&gt;<i> AIX 5.3.0.0
</I>&gt;<i>
</I>&gt;<i> Mod Python 3.2.10
</I>&gt;<i>
</I>&gt;<i> IBM C compiler, Version 8
</I>&gt;<i>
</I>&gt;<i> When I run the 'make' I get all kinds of errors that I don't really  
</I>&gt;<i> understand.  I have managed to slog through a great deal, but this  
</I>&gt;<i> is a brick wall for me.
</I>&gt;<i>
</I>&gt;<i> I have listed the output of running the configure script first, in  
</I>&gt;<i> case that has any clues.  The output from the make is below that.   
</I>&gt;<i> I was running the compile with gcc (that was interesting, to say  
</I>&gt;<i> the least).  I am getting further with Version 8, though.  I tried  
</I>&gt;<i> running the configure with and without the python option and the  
</I>&gt;<i> results were the same when running the make.
</I>&gt;<i>
</I>&gt;<i> Thanks
</I>&gt;<i>
</I>&gt;<i> Andrew.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> bash-2.05b# ./configure  --with-apxs=/usr/IBMIHS6/bin/apxs --with- 
</I>&gt;<i> python=/usr/local/bin/python2.1
</I>&gt;<i> checking for gcc... gcc
</I>&gt;<i> checking for C compiler default output file name... a.out
</I>&gt;<i> checking whether the C compiler works... yes
</I>&gt;<i> checking whether we are cross compiling... no
</I>&gt;<i> checking for suffix of executables...
</I>&gt;<i> checking for suffix of object files... o
</I>&gt;<i> checking whether we are using the GNU C compiler... yes
</I>&gt;<i> checking whether gcc accepts -g... yes
</I>&gt;<i> checking for gcc option to accept ANSI C... none needed
</I>&gt;<i> checking for ar... ar
</I>&gt;<i> checking for a BSD-compatible install... ./install-sh -c
</I>&gt;<i> checking whether make sets $(MAKE)... yes
</I>&gt;<i> checking for main in -lm... yes
</I>&gt;<i> checking for an ANSI C-conforming const... yes
</I>&gt;<i> checking your blood pressure... a bit high, but we can proceed
</I>&gt;<i> configure: checking whether apxs is available...
</I>&gt;<i> checking for --with-apxs... /usr/IBMIHS6/bin/apxs executable, good
</I>&gt;<i> checking Apache version... 2.0.47
</I>&gt;<i> checking for Apache libexec directory... /usr/IBMIHS6/modules
</I>&gt;<i> checking for Apache include directory... -I/usr/IBMIHS6/include
</I>&gt;<i> checking for --with-python... /usr/local/bin/python2.1
</I>&gt;<i> checking Python version... 2.1
</I>&gt;<i> checking Python install prefix... /usr/local
</I>&gt;<i> checking checking where python libraries are installed... /usr/ 
</I>&gt;<i> local/lib/python2.1
</I>&gt;<i> checking what libraries Python was linked with... /usr/local/lib/ 
</I>&gt;<i> python2.1/config/libpython2.1.a   -lpthread -ldl  -lthread   -lm
</I>&gt;<i> checking linker flags used to link Python...
</I>&gt;<i> checking where Python include files are... -I/usr/local/include/ 
</I>&gt;<i> python2.1
</I>&gt;<i> checking for --with-python-src... no
</I>&gt;<i> checking for --with-mutex-dir... no
</I>&gt;<i> Using MUTEX_DIR /tmp
</I>&gt;<i> checking for --with-max-locks... no
</I>&gt;<i> Using 8 MAX_LOCKS.
</I>&gt;<i> checking for --with-flex... no
</I>&gt;<i> checking for flex... no
</I>&gt;<i> configure: WARNING: flex  not found
</I>&gt;<i>   You can generally ignore this warning unless you need to regenerate
</I>&gt;<i>   psp_parser.c from psp_parse.l.  If you do need regenerate  
</I>&gt;<i> psp_parser.c,
</I>&gt;<i>   use --with-flex to specify the location of flex.
</I>&gt;<i>   See the README for more information.
</I>&gt;<i> configure: creating ./config.status
</I>&gt;<i> config.status: creating Makefile
</I>&gt;<i> config.status: creating src/Makefile
</I>&gt;<i> config.status: creating Doc/Makefile
</I>&gt;<i> config.status: creating src/include/mod_python.h
</I>&gt;<i> config.status: creating test/testconf.py
</I>&gt;<i> config.status: creating dist/setup.py
</I>&gt;<i> config.status: creating dist/Makefile
</I>&gt;<i> bash-2.05b# make
</I>&gt;<i>
</I>&gt;<i> Compiling for DSO.
</I>&gt;<i>
</I>&gt;<i>         /usr/IBMIHS6/bin/apxs -I/home/python/mod_python-3.2.10/src/ 
</I>&gt;<i> include -I/usr/IBMIHS6/include -I/usr/local/include/python2.1 -c  
</I>&gt;<i> mod_python.c _apachemodule.c requestobject.c tableobject.c util.c   
</I>&gt;<i> serverobject.c connobject.c filterobject.c hlist.c hlistobject.c - 
</I>&gt;<i> Wl,-bE:Modules/python.exp -lld      -lm  /usr/local/lib/python2.1/ 
</I>&gt;<i> config/libpython2.1.a   -lpthread -ldl  -lthread   -lm
</I>&gt;<i> /usr/IBMIHS6/build/libtool --silent --mode=compile xlc_r -prefer- 
</I>&gt;<i> pic -O2 -qmaxmem=8192  -U__STR__ -D_THREAD_SAFE -D_USE_IRS -qHALT=E  
</I>&gt;<i> -I/usr/IBMIHS6/include  -I/usr/IBMIHS6/include   -I/usr/IBMIHS6/ 
</I>&gt;<i> include  -I/home/python/mod_python-3.2.10/src/include -I/usr/ 
</I>&gt;<i> IBMIHS6/include -I/usr/local/include/python2.1  -c -o mod_python.lo  
</I>&gt;<i> mod_python.c &amp;&amp; touch mod_python.slo
</I>&gt;<i> &quot;/home/python/mod_python-3.2.10/src/include/util.h&quot;, line 37.1:  
</I>&gt;<i> 1506-166 (S) Definition of function PyMemberDef requires parentheses.
</I>&gt;<i> &quot;/home/python/mod_python-3.2.10/src/include/util.h&quot;, line 37.13:  
</I>&gt;<i> 1506-276 (S) Syntax error: possible missing '{'?
</I>&gt;<i> &quot;/home/python/mod_python-3.2.10/src/include/hlist.h&quot;, line 42.7:  
</I>&gt;<i> 1506-273 (E) Missing type in declaration of hl_entry.
</I>&gt;<i> &quot;/home/python/mod_python-3.2.10/src/include/hlist.h&quot;, line 44.5:  
</I>&gt;<i> 1506-166 (S) Definition of function hl_entry requires parentheses.
</I>&gt;<i> &quot;/home/python/mod_python-3.2.10/src/include/hlist.h&quot;, line 44.14:  
</I>&gt;<i> 1506-276 (S) Syntax error: possible missing '{'?
</I>&gt;<i> &quot;/home/python/mod_python-3.2.10/src/include/hlistobject.h&quot;, line  
</I>&gt;<i> 38.7: 1506-273 (E) Missing type in declaration of hlistobject.
</I>&gt;<i> &quot;/home/python/mod_python-3.2.10/src/include/hlistobject.h&quot;, line  
</I>&gt;<i> 44.72: 1506-277 (S) Syntax error: possible missing ')' or ','?
</I>&gt;<i> &quot;/home/python/mod_python-3.2.10/src/include/hlistobject.h&quot;, line  
</I>&gt;<i> 44.33: 1506-282 (S) The type of the parameters must be specified in  
</I>&gt;<i> a prototype.
</I>&gt;<i> &quot;/home/python/mod_python-3.2.10/src/include/hlistobject.h&quot;, line  
</I>&gt;<i> 45.64: 1506-277 (S) Syntax error: possible missing ')' or ','?
</I>&gt;<i> &quot;/home/python/mod_python-3.2.10/src/include/hlistobject.h&quot;, line  
</I>&gt;<i> 45.27: 1506-282 (S) The type of the parameters must be specified in  
</I>&gt;<i> a prototype.
</I>&gt;<i> &quot;/home/python/mod_python-3.2.10/src/include/hlistobject.h&quot;, line  
</I>&gt;<i> 46.64: 1506-277 (S) Syntax error: possible missing ')' or ','?
</I>&gt;<i> &quot;/home/python/mod_python-3.2.10/src/include/hlistobject.h&quot;, line  
</I>&gt;<i> 46.27: 1506-282 (S) The type of the parameters must be specified in  
</I>&gt;<i> a prototype.
</I>&gt;<i> &quot;/home/python/mod_python-3.2.10/src/include/connobject.h&quot;, line  
</I>&gt;<i> 47.9: 1506-046 (S) Syntax error.
</I>&gt;<i> &quot;/home/python/mod_python-3.2.10/src/include/requestobject.h&quot;, line  
</I>&gt;<i> 49.9: 1506-046 (S) Syntax error.
</I>&gt;<i> &quot;/home/python/mod_python-3.2.10/src/include/mod_python.h&quot;, line  
</I>&gt;<i> 147.5: 1506-046 (S) Syntax error.
</I>&gt;<i> &quot;mod_python.c&quot;, line 313.16: 1506-280 (W) Function argument  
</I>&gt;<i> assignment between types &quot;void*&quot; and &quot;const char*&quot; is not allowed.
</I>&gt;<i> &quot;mod_python.c&quot;, line 427.9: 1506-068 (W) Operation between types  
</I>&gt;<i> &quot;char*&quot; and &quot;const char*&quot; is not allowed.
</I>&gt;<i> &quot;mod_python.c&quot;, line 458.15: 1506-068 (W) Operation between types  
</I>&gt;<i> &quot;char*&quot; and &quot;const char*&quot; is not allowed.
</I>&gt;<i> &quot;mod_python.c&quot;, line 540.15: 1506-068 (W) Operation between types  
</I>&gt;<i> &quot;char*&quot; and &quot;const char*&quot; is not allowed.
</I>&gt;<i> &quot;mod_python.c&quot;, line 793.15: 1506-045 (S) Undeclared identifier hle.
</I>&gt;<i> &quot;mod_python.c&quot;, line 882.15: 1506-045 (S) Undeclared identifier head.
</I>&gt;<i> &quot;mod_python.c&quot;, line 885.23: 1506-275 (S) Unexpected text ')'  
</I>&gt;<i> encountered.
</I>&gt;<i> &quot;mod_python.c&quot;, line 885.22: 1506-068 (S) Operation between types  
</I>&gt;<i> &quot;int&quot; and &quot;void*&quot; is not allowed.
</I>&gt;<i> &quot;mod_python.c&quot;, line 885.72: 1506-277 (S) Syntax error: possible  
</I>&gt;<i> missing ')' or ','?
</I>&gt;<i> &quot;mod_python.c&quot;, line 1074.39: 1506-046 (S) Syntax error.
</I>&gt;<i> &quot;mod_python.c&quot;, line 1134.21: 1506-045 (S) Undeclared identifier hle.
</I>&gt;<i> &quot;mod_python.c&quot;, line 1169.15: 1506-045 (S) Undeclared identifier hle.
</I>&gt;<i> &quot;mod_python.c&quot;, line 1169.19: 1506-277 (S) Syntax error: possible  
</I>&gt;<i> missing ';' or ','?
</I>&gt;<i> &quot;mod_python.c&quot;, line 1170.15: 1506-045 (S) Undeclared identifier  
</I>&gt;<i> dynhle.
</I>&gt;<i> &quot;mod_python.c&quot;, line 1193.26: 1506-275 (S) Unexpected text ')'  
</I>&gt;<i> encountered.
</I>&gt;<i> &quot;mod_python.c&quot;, line 1193.25: 1506-068 (S) Operation between types  
</I>&gt;<i> &quot;int&quot; and &quot;void*&quot; is not allowed.
</I>&gt;<i> &quot;mod_python.c&quot;, line 1195.60: 1506-277 (S) Syntax error: possible  
</I>&gt;<i> missing ')' or ','?
</I>&gt;<i> &quot;mod_python.c&quot;, line 1200.26: 1506-275 (S) Unexpected text ')'  
</I>&gt;<i> encountered.
</I>&gt;<i> &quot;mod_python.c&quot;, line 1200.25: 1506-068 (S) Operation between types  
</I>&gt;<i> &quot;int&quot; and &quot;void*&quot; is not allowed.
</I>&gt;<i> &quot;mod_python.c&quot;, line 1200.81: 1506-277 (S) Syntax error: possible  
</I>&gt;<i> missing ')' or ','?
</I>&gt;<i> &quot;mod_python.c&quot;, line 1210.29: 1506-275 (S) Unexpected text ')'  
</I>&gt;<i> encountered.
</I>&gt;<i> &quot;mod_python.c&quot;, line 1210.28: 1506-068 (S) Operation between types  
</I>&gt;<i> &quot;int&quot; and &quot;void*&quot; is not allowed.
</I>&gt;<i> apxs:Error: Command failed with rc=65536
</I>&gt;<i> .
</I>&gt;<i> make: 1254-004 The error code from the last command is 1.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Stop.
</I>&gt;<i> make: 1254-004 The error code from the last command is 2.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Stop.
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20061227/d22fc2d5/attachment.html">http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20061227/d22fc2d5/attachment.html</A>
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022873.html">[mod_python] Issue with 'make'
</A></li>
	<LI>Next message: <A HREF="022890.html">[mod_python] Issue with 'make'
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22876">[ date ]</a>
              <a href="thread.html#22876">[ thread ]</a>
              <a href="subject.html#22876">[ subject ]</a>
              <a href="author.html#22876">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
