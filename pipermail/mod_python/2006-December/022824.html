<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Mod_python as replacement for mod_rewrite
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Mod_python%20as%20replacement%20for%20mod_rewrite&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022821.html">
   <LINK REL="Next"  HREF="022825.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Mod_python as replacement for mod_rewrite</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Klokan Petr P&#345;idal</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Mod_python%20as%20replacement%20for%20mod_rewrite&In-Reply-To="
       TITLE="[mod_python] Mod_python as replacement for mod_rewrite">klokan at klokan.cz
       </A><BR>
    <I>Wed Dec 20 03:13:18 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="022821.html">[mod_python] How to deal with old cached data showing?
</A></li>
        <LI>Next message: <A HREF="022825.html">[mod_python] PYTHONPATH and mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22824">[ date ]</a>
              <a href="thread.html#22824">[ thread ]</a>
              <a href="subject.html#22824">[ subject ]</a>
              <a href="author.html#22824">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I need to make an intelligent replacement for mod_rewrite, so it will
count url using quite complicated math a then forward request to
fast-cgi server...
In fact I'm going to use it for WMS (Web Map Service) emulation over
IIPImage (imageserver),
so url like:

<A HREF="http://domain/script/?WMTVER=1.0.0&amp;REQUEST=map&amp;LAYERS=RELIEF&amp;STYLES=default&amp;SRS=EPSG:4326&amp;BBOX=-2.197265625,39.55078125,20.302734375,50.80078125&amp;WIDTH=256&amp;HEIGHT=128&amp;FORMAT=JPG">http://domain/script/?WMTVER=1.0.0&amp;REQUEST=map&amp;LAYERS=RELIEF&amp;STYLES=default&amp;SRS=EPSG:4326&amp;BBOX=-2.197265625,39.55078125,20.302734375,50.80078125&amp;WIDTH=256&amp;HEIGHT=128&amp;FORMAT=JPG</A>

will be redirected (as fast as possible and internally inside apache)
to fast cgi request

<A HREF="http://domain/fastcgi-bin/iipsrv.fcgi?FIF=/tmp/test.tif&amp;WID=256&amp;HEI=128&amp;RGN=0.25,0.25,0.5,0.5&amp;CVT=JPEG">http://domain/fastcgi-bin/iipsrv.fcgi?FIF=/tmp/test.tif&amp;WID=256&amp;HEI=128&amp;RGN=0.25,0.25,0.5,0.5&amp;CVT=JPEG</A>

where I have to transform lat/lon numbers in first url to region on
the image in the second url... but this wouldn't be so big problem in
python...

Question is which apache handlers use to make this internal forward,
and how to make that as fast as possible...

Is mod_python the right tool for this task?

Or do you think it would be better to hack directly mod_rewrite and
programm the transition of coordinates in C?

Thanks a lot for any help...

Klokan
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022821.html">[mod_python] How to deal with old cached data showing?
</A></li>
	<LI>Next message: <A HREF="022825.html">[mod_python] PYTHONPATH and mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22824">[ date ]</a>
              <a href="thread.html#22824">[ thread ]</a>
              <a href="subject.html#22824">[ subject ]</a>
              <a href="author.html#22824">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
