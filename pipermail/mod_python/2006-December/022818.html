<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] eliminating last foo.py from url?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20eliminating%20last%20foo.py%20from%20url%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022820.html">
   <LINK REL="Next"  HREF="022822.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] eliminating last foo.py from url?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20eliminating%20last%20foo.py%20from%20url%3F&In-Reply-To="
       TITLE="[mod_python] eliminating last foo.py from url?">grahamd at dscpl.com.au
       </A><BR>
    <I>Mon Dec 18 19:55:43 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="022820.html">[mod_python] How to deal with old cached data showing?
</A></li>
        <LI>Next message: <A HREF="022822.html">[mod_python] eliminating last foo.py from url?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22818">[ date ]</a>
              <a href="thread.html#22818">[ thread ]</a>
              <a href="subject.html#22818">[ subject ]</a>
              <a href="author.html#22818">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Mark Harrison wrote ..
&gt;<i> Graham Dumpleton wrote:
</I>&gt;<i> &gt; Since you are setting the PythonPath directive to where your module file
</I>&gt;<i> is
</I>&gt;<i> &gt; potentially installed anyway, you are possibly just better of using:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;   # Move your stuff out of the document tree and you will not need this.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;   &lt;Directory &quot;/Users/mh/mp/htdocs/xmlrpc/x1&quot;&gt;
</I>&gt;<i> &gt;      deny from all
</I>&gt;<i> &gt;   &lt;/Directory&gt;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;   # Use Location instead of Directory.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;   &lt;Location /x1&gt;
</I>&gt;<i> &gt;      # The PythonPath may have to be adjusted.
</I>&gt;<i> &gt;      PythonPath &quot;sys.path+['/Users/mh/mp/htdocs/xmlrpc','/Users/mh/mp/htdocs/xmlrpc/x1']&quot;
</I>&gt;<i> &gt;      SetHandler mod_python
</I>&gt;<i> &gt;      PythonHandler x1
</I>&gt;<i> &gt;   &lt;/Location&gt;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; By using Location directive, and with location itself not having trailing
</I>&gt;<i> slash,
</I>&gt;<i> &gt; Apache will not do trailing slash redirection and just pass any request
</I>&gt;<i> starting
</I>&gt;<i> &gt; with /x1 through to your handler.
</I>&gt;<i> 
</I>&gt;<i> Ah, &lt;Location&gt; looks preferable to &lt;Directory&gt;, since then I don't have
</I>&gt;<i> to install
</I>&gt;<i> the python files under htdocs, but can instead point them to our build
</I>&gt;<i> tree.
</I>&gt;<i> 
</I>&gt;<i> But it's strange, even &lt;Location&gt; requires a trailing slash.  If I have
</I>&gt;<i> too
</I>&gt;<i> hard of a time getting clients to include it then I'll add the Alias.
</I>
Strange, as it shouldn't. Only thing I can think of is that the path you are
choosing for the Location directive still has a corresponding physical
directory of the same path under the document root and that is confusing
Apache and it is still wanting to do trailing slash redirection before it
matches it against the Location directive.

&gt;<i> BTW, apache+mod_python seems to be a nice xmlrpc platform.
</I>&gt;<i> When I get this polished, I'll try and get permission to put a note on
</I>&gt;<i> the
</I>&gt;<i> wiki about setting it up.
</I>
You may want to have a look at my Vampire package which contains an
XML-RPC service endpoint for use in mod_python. All you need to do
is something like:

class _Object:

  def method1(self):
    return &quot;method1&quot;

  def method2(self,req):
    return &quot;method2&quot;

  def method3(self,req,arg):
    return &quot;method3&quot;

_object = _Object()

handler = vampire.Service(_object)

Unlike other XML-RPC endpoints for mod_python that I have seen, it still
gives you optional access to the request object if for example you wanted
to modify behaviour based on client IP etc.

Bit more information on this at:

  <A HREF="http://www.dscpl.com.au/projects/vampire/articles/vampire-001.html#implementing-web-services">http://www.dscpl.com.au/projects/vampire/articles/vampire-001.html#implementing-web-services</A>

I've done a lot of stuff with XML-RPC and other RPC over HTTP protocols
over the years, as well as other sorts of RPC messaging protocols over
distributed messaging systems. I can't point you to some of this other
stuff if there is any interest.

Graham
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022820.html">[mod_python] How to deal with old cached data showing?
</A></li>
	<LI>Next message: <A HREF="022822.html">[mod_python] eliminating last foo.py from url?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22818">[ date ]</a>
              <a href="thread.html#22818">[ thread ]</a>
              <a href="subject.html#22818">[ subject ]</a>
              <a href="author.html#22818">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
