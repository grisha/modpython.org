<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] has anyone successfully built mod_python3.03 on
 OpenBSD?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20has%20anyone%20successfully%20built%20mod_python3.03%20on%0A%20OpenBSD%3F&In-Reply-To=Pine.LNX.4.21.0303201653020.2164-100000%40lothlorien.coreqa.prognet.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006081.html">
   <LINK REL="Next"  HREF="006086.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] has anyone successfully built mod_python3.03 on
 OpenBSD?</H1>
    <B>Gregory (Grisha) Trubetskoy</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20has%20anyone%20successfully%20built%20mod_python3.03%20on%0A%20OpenBSD%3F&In-Reply-To=Pine.LNX.4.21.0303201653020.2164-100000%40lothlorien.coreqa.prognet.com"
       TITLE="[mod_python] has anyone successfully built mod_python3.03 on
 OpenBSD?">grisha at modpython.org
       </A><BR>
    <I>Thu Mar 20 23:46:47 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="006081.html">[mod_python] has anyone successfully built mod_python3.03 on
 OpenBSD?
</A></li>
        <LI>Next message: <A HREF="006086.html">[mod_python] has anyone successfully built mod_python3.03 on OpenBSD?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6082">[ date ]</a>
              <a href="thread.html#6082">[ thread ]</a>
              <a href="subject.html#6082">[ subject ]</a>
              <a href="author.html#6082">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<table border=0 width="100%"><tr><td>
<!--beginarticle-->
<PRE>I am OpenBSD ignorant, but on FreeBSD it builds without a hinch (it also
builds on Darwin which has its own different set of complications).

This message usually means libtool is complaining that it won't build an
.so out of static libraries.

On all other OS's I've seen it this was resolvable by upgrading to latest
libtool where this restriction has been lifted.

Another solution is to build pythonlib as an .so - Python does not
directly support this, but it has been reported to work fine if done
manually with something like (YMMV):

mkdir .extract
cd .extract
ar xv ../libpython2.2.a
cd ..
gcc -shared -o libpython2.2.so.0 .extract/*.o
rm -rf .extract

Grisha

On Thu, 20 Mar 2003, Mark Taylor wrote:

&gt;<i>
</I>&gt;<i> ./configure --with-apxs=&lt;location of apxs&gt;  goes normally, without error.
</I>&gt;<i> running 'make' then goes normally until the end, when we get this output:
</I>&gt;<i>
</I>&gt;<i> *** Warning: inter-library dependencies are not known to be supported.
</I>&gt;<i> *** All declared inter-library dependencies are being dropped.
</I>&gt;<i>
</I>&gt;<i> *** Warning: libtool could not satisfy all declared inter-library
</I>&gt;<i> *** dependencies of module libmod_python.  Therefore, libtool will create
</I>&gt;<i> *** a static module, that should work as long as the dlopening
</I>&gt;<i> *** application is linked with the -dlopen flag.
</I>&gt;<i>
</I>&gt;<i> Now su and make install
</I>&gt;<i>   (or, if you only want to perform a partial install,
</I>&gt;<i>    you can use make install_dso and make install_py_lib)
</I>&gt;<i>
</I>&gt;<i> Source distribution found
</I>&gt;<i>
</I>&gt;<i> ...
</I>&gt;<i>
</I>&gt;<i> # make install
</I>&gt;<i>
</I>&gt;<i> Compiling for DSO.
</I>&gt;<i>
</I>&gt;<i> ...
</I>&gt;<i>
</I>&gt;<i> Performing DSO installation.
</I>&gt;<i>
</I>&gt;<i> /usr/bin/install -c src/mod_python.so /usr/local/apache2/modules
</I>&gt;<i> install: src/mod_python.so: No such file or directory
</I>&gt;<i> *** Error code 71
</I>&gt;<i>
</I>&gt;<i> Stop in /tmp/mod_python-3.0.3 (line 94 of Makefile).
</I>&gt;<i> *** Error code 1
</I>&gt;<i>
</I>&gt;<i> Stop in /tmp/mod_python-3.0.3 (line 91 of Makefile).
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> AND, in fact, the link in ./src is broken.  there is no mod_python.so in
</I>&gt;<i> ./src/.libs/
</I>&gt;<i>
</I>&gt;<i> # ls src/.libs
</I>&gt;<i> libmod_python.a mod_python.la   mod_python.lai
</I>&gt;<i>
</I>&gt;<i> ???
</I>&gt;<i>
</I>&gt;<i> mt
</I>&gt;<i>
</I>&gt;<i> On Thu, 20 Mar 2003, David Higgs wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; I haven't got around to getting mod_python working on my setup yet, but
</I>&gt;<i> &gt; here's a heads-up...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; There's a good chance that OpenBSD3.2's apache2 is chrooted to
</I>&gt;<i> &gt; /var/www/, just like the default apache1.x.  You'll have to have a
</I>&gt;<i> &gt; separate python install within /var/www/ or disable the chroot.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Can you paste the specific problems you're getting?  Maybe someone can
</I>&gt;<i> &gt; help you out.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; --david
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Mark Taylor wrote:
</I>&gt;<i> &gt; &gt; I've been using OpenBSD3.2, apache2.0.43 and python2.2.1
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; apxs is not building mod_python.so.  I've found similar plaints in the
</I>&gt;<i> &gt; &gt; threads, but no solutions.
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Mark Taylor
</I>&gt;<i>
</I>&gt;<i> Real Networks
</I>&gt;<i> Systems Administrator
</I>&gt;<i> Developer Services Group - Technical Operations
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://votetoimpeach.org/">http://votetoimpeach.org/</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://www.modpython.org/mailman/listinfo/mod_python">http://www.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>

</PRE>
<!--endarticle-->
</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006081.html">[mod_python] has anyone successfully built mod_python3.03 on
 OpenBSD?
</A></li>
	<LI>Next message: <A HREF="006086.html">[mod_python] has anyone successfully built mod_python3.03 on OpenBSD?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6082">[ date ]</a>
              <a href="thread.html#6082">[ thread ]</a>
              <a href="subject.html#6082">[ subject ]</a>
              <a href="author.html#6082">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
