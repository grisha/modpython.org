<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Mod_Python and Solaris Compile Problems
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Mod_Python%20and%20Solaris%20Compile%20Problems&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007969.html">
   <LINK REL="Next"  HREF="007970.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
<table border=0 width="100%"><tr><td valign="top">
   <H1>[mod_python] Mod_Python and Solaris Compile Problems</H1>
    <B>jd at pdx.edu</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Mod_Python%20and%20Solaris%20Compile%20Problems&In-Reply-To="
       TITLE="[mod_python] Mod_Python and Solaris Compile Problems">jd at pdx.edu
       </A><BR>
    <I>Mon Feb 12 15:19:47 EST 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="007969.html">[mod_python] File uploads.
</A></li>
        <LI>Next message: <A HREF="007970.html">[mod_python] Regarding 2.7.2 on windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7971">[ date ]</a>
              <a href="thread.html#7971">[ thread ]</a>
              <a href="subject.html#7971">[ subject ]</a>
              <a href="author.html#7971">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi!  I'm trying to install mod_python on my Solaris server and I keep getting
comple problems.  I'm using Apache 1.3.14, PHP 4.0.2pl1, and Mod_Python 2.7.2.  

Here's what happens when I try to compile Apache with the Static Mod_Python (it
also fails on compiling the DSO, see below):

&lt;=== src/modules/python
&lt;=== src/modules
gcc -c  -I./os/unix -I./include   -DSOLARIS2=280 -I/usr/share/src/php-4.0.4pl1
-I/usr/share/src/php-4.0.4pl1/main -I/usr/share/src/php-4.0.4pl1/main
-I/usr/share/src/php-4.0.4pl1/Zend -I/usr/share/src/php-4.0.4pl1/Zend
-I/usr/share/src/php-4.0.4pl1/TSRM -I/usr/share/src/php-4.0.4pl1/TSRM
-I/usr/share/src/php-4.0.4pl1 -DUSE_EXPAT -I./lib/expat-lite `./apaci` modules.c
gcc -c  -I./os/unix -I./include   -DSOLARIS2=280 -I/usr/share/src/php-4.0.4pl1
-I/usr/share/src/php-4.0.4pl1/main -I/usr/share/src/php-4.0.4pl1/main
-I/usr/share/src/php-4.0.4pl1/Zend -I/usr/share/src/php-4.0.4pl1/Zend
-I/usr/share/src/php-4.0.4pl1/TSRM -I/usr/share/src/php-4.0.4pl1/TSRM
-I/usr/share/src/php-4.0.4pl1 -DUSE_EXPAT -I./lib/expat-lite `./apaci`
buildmark.c
gcc  -DSOLARIS2=280 -I/usr/share/src/php-4.0.4pl1
-I/usr/share/src/php-4.0.4pl1/main -I/usr/share/src/php-4.0.4pl1/main
-I/usr/share/src/php-4.0.4pl1/Zend -I/usr/share/src/php-4.0.4pl1/Zend
-I/usr/share/src/php-4.0.4pl1/TSRM -I/usr/share/src/php-4.0.4pl1/TSRM
-I/usr/share/src/php-4.0.4pl1 -DUSE_EXPAT -I./lib/expat-lite `./apaci`    \
      -o httpd buildmark.o modules.o  modules/php4/libphp4.a 
modules/python/libpython.a  modules/standard/libstandard.a  main/libmain.a 
./os/unix/libos.a  ap/libap.a  lib/expat-lite/libexpat.a  -R/usr/ucblib
-R/usr/local/lib/gcc-lib/sparc-sun-solaris2.8/2.95.2  -L/usr/ucblib
-L/usr/local/lib/gcc-lib/sparc-sun-solaris2.8/2.95.2 -Lmodules/php4
-L../modules/php4 -L../../modules/php4 -lmodphp4  -lpam  -ldl -lresolv -lresolv
-lm -ldl -lcrypt -lnsl -lsocket  -lsocket -lgcc   -lsocket -lnsl -ldl
Undefined                       first referenced
 symbol                             in file
PySequence_Index                    modules/python/libpython.a(mod_python.o)
Py_InitModule4                      modules/python/libpython.a(_apachemodule.o)
PyString_FromStringAndSize          modules/python/libpython.a(_apachemodule.o)
PyExc_TypeError                     modules/python/libpython.a(tableobject.o)
PyEval_RestoreThread                modules/python/libpython.a(mod_python.o)
PyCallable_Check                    modules/python/libpython.a(requestobject.o)
PyErr_BadArgument                   modules/python/libpython.a(_apachemodule.o)
Py_Finalize                         modules/python/libpython.a(mod_python.o)
Py_NewInterpreter                   modules/python/libpython.a(mod_python.o)
PyErr_Print                         modules/python/libpython.a(mod_python.o)
PyExc_IndexError                    modules/python/libpython.a(requestobject.o)
PyMember_Set                        modules/python/libpython.a(requestobject.o)
Py_FindMethod                       modules/python/libpython.a(requestobject.o)
PyExc_IOError                       modules/python/libpython.a(requestobject.o)
PyString_FromString                 modules/python/libpython.a(mod_python.o)
PyThreadState_Swap                  modules/python/libpython.a(mod_python.o)
PyType_Type                         modules/python/libpython.a(_apachemodule.o)
Py_BuildValue                       modules/python/libpython.a(_apachemodule.o)
PyErr_Occurred                      modules/python/libpython.a(mod_python.o)
PyString_AsString                   modules/python/libpython.a(mod_python.o)
PyList_SetItem                      modules/python/libpython.a(tableobject.o)
PyModule_GetDict                    modules/python/libpython.a(_apachemodule.o)
PyObject_CallMethod                 modules/python/libpython.a(mod_python.o)
PyList_Append                       modules/python/libpython.a(_apachemodule.o)
Py_IsInitialized                    modules/python/libpython.a(mod_python.o)
PyInt_Type                          modules/python/libpython.a(mod_python.o)
_Py_NoneStruct                      modules/python/libpython.a(_apachemodule.o)
PyExc_AttributeError                modules/python/libpython.a(requestobject.o)
PyObject_Str                        modules/python/libpython.a(mod_python.o)
PyArg_ParseTuple                    modules/python/libpython.a(_apachemodule.o)
PyExc_ValueError                    modules/python/libpython.a(requestobject.o)
PyErr_SetString                     modules/python/libpython.a(requestobject.o)
PyList_SetSlice                     modules/python/libpython.a(mod_python.o)
PyTuple_New                         modules/python/libpython.a(util.o)
PyEval_SaveThread                   modules/python/libpython.a(mod_python.o)
PyDict_SetItemString                modules/python/libpython.a(mod_python.o)
PyObject_HasAttrString              modules/python/libpython.a(serverobject.o)
PyDict_GetItem                      modules/python/libpython.a(_apachemodule.o)
PyMapping_HasKeyString              modules/python/libpython.a(_apachemodule.o)
PyCObject_FromVoidPtr               modules/python/libpython.a(mod_python.o)
PyString_ConcatAndDel               modules/python/libpython.a(tableobject.o)
PyErr_NewException                  modules/python/libpython.a(_apachemodule.o)
PyObject_GetAttrString              modules/python/libpython.a(mod_python.o)
PyList_New                          modules/python/libpython.a(_apachemodule.o)
Py_OptimizeFlag                     modules/python/libpython.a(mod_python.o)
PyDict_SetItem                      modules/python/libpython.a(_apachemodule.o)
PyExc_KeyError                      modules/python/libpython.a(tableobject.o)
PyDict_New                          modules/python/libpython.a(mod_python.o)
PyTuple_SetItem                     modules/python/libpython.a(util.o)
PyThreadState_New                   modules/python/libpython.a(mod_python.o)
PyErr_Clear                         modules/python/libpython.a(requestobject.o)
Py_GetVersion                       modules/python/libpython.a(mod_python.o)
PyMember_Get                        modules/python/libpython.a(requestobject.o)
PyInt_FromLong                      modules/python/libpython.a(requestobject.o)
PyDict_GetItemString                modules/python/libpython.a(mod_python.o)
PyCObject_AsVoidPtr                 modules/python/libpython.a(mod_python.o)
PyErr_NoMemory                      modules/python/libpython.a(requestobject.o)
PyInt_AsLong                        modules/python/libpython.a(mod_python.o)
PyList_Size                         modules/python/libpython.a(_apachemodule.o)
PyImport_ImportModule               modules/python/libpython.a(mod_python.o)
PyObject_CallFunction               modules/python/libpython.a(mod_python.o)
PyErr_Fetch                         modules/python/libpython.a(mod_python.o)
PyThreadState_Delete                modules/python/libpython.a(mod_python.o)
_PyString_Resize                    modules/python/libpython.a(_apachemodule.o)
Py_Initialize                       modules/python/libpython.a(mod_python.o)
PyErr_SetObject                     modules/python/libpython.a(requestobject.o)
PyString_Type                       modules/python/libpython.a(tableobject.o)
ld: fatal: Symbol referencing errors. No output written to httpd
collect2: ld returned 1 exit status
*** Error code 1
make: Fatal error: Command failed for target `target_static'
Current working directory /usr/share/src/apache_1.3.14/src
*** Error code 1
make: Fatal error: Command failed for target `build-std'
Current working directory /usr/share/src/apache_1.3.14
*** Error code 1
make: Fatal error: Command failed for target `build'


*** So I tried to install the DSO version, hoping that would be my hero.  But
this is what I get when compiling Mod_Python with the DSO support:


Compiling for DSO. For static, do &quot;make static&quot;

/usr/local/apachePHP/bin/apxs -I/usr/share/src/mod_python-2.7.2/src/include
-I/usr/local/apachePHP/include -I/usr/local/include/python1.5 -c mod_python.o 
_apachemodule.o  requestobject.o  tableobject.o  util.o  serverobject.o 
connobject.o -lm  /usr/local/lib/python1.5/config/libpython1.5.a   -lsocket
-lnsl -ldl    -lm
  -o mod_python.so mod_python.o _apachemodule.o requestobject.o tableobject.o
util.o serverobject.o connobject.o -lm
/usr/local/lib/python1.5/config/libpython1.5.a -lsocket -lnsl -ldl -lm 
apxs:Break: Command failed with rc=255
*** Error code 1
make: Fatal error: Command failed for target `mod_python.so'
Current working directory /usr/share/src/mod_python-2.7.2/src
*** Error code 1
make: Fatal error: Command failed for target `do_dso'

Please Help me!  I will give you any additional information that you request.  I
really want to use this module in Solaris!!!  Thanks in advance!

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007969.html">[mod_python] File uploads.
</A></li>
	<LI>Next message: <A HREF="007970.html">[mod_python] Regarding 2.7.2 on windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7971">[ date ]</a>
              <a href="thread.html#7971">[ thread ]</a>
              <a href="subject.html#7971">[ subject ]</a>
              <a href="author.html#7971">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
