<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Using NLTK with mod_python
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Using%20NLTK%20with%20mod_python&In-Reply-To=4B5BCE85.3040706%40sentex.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026463.html">
   <LINK REL="Next"  HREF="026465.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Using NLTK with mod_python</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Dan Yamins</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Using%20NLTK%20with%20mod_python&In-Reply-To=4B5BCE85.3040706%40sentex.net"
       TITLE="[mod_python] Using NLTK with mod_python">dyamins at gmail.com
       </A><BR>
    <I>Sun Jan 24 00:47:41 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="026463.html">[mod_python] Using NLTK with mod_python
</A></li>
        <LI>Next message: <A HREF="026465.html">[mod_python] any way to log tracebacks on a single line w/ mod
	python?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26464">[ date ]</a>
              <a href="thread.html#26464">[ thread ]</a>
              <a href="subject.html#26464">[ subject ]</a>
              <a href="author.html#26464">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> File &quot;C:\Python25\lib\os.py&quot;, line 433, in __getitem__
</I>&gt;<i> return self.data[key.upper()]
</I>&gt;<i>
</I>&gt;<i> KeyError: 'APPDATA'
</I>&gt;<i>
</I>&gt;<i>
</I>In general, The above error message means that a python dictionary (see
<A HREF="http://docs.python.org/tutorial/datastructures.html,">http://docs.python.org/tutorial/datastructures.html,</A> section 5.5)  is being
asked for a key that it doesn't have.  This portion of the message:

.....
&gt;<i>
</I>&gt;<i>   File &quot;C:\Python25\Lib\site-packages\nltk\data.py&quot;, line 80, in &lt;module&gt;
</I>&gt;<i>     os.path.join(os.environ['APPDATA'], 'nltk_data')]
</I>&gt;<i>
</I>&gt;<i>
</I>tells us that the dictionary &quot;os.environ&quot; doesn't have the 'APPDATA' key.
The os.environ is the dictionary of environment variables in the shell that
launched process.  (See <A HREF="http://docs.python.org/library/os.html">http://docs.python.org/library/os.html</A>)  So, the
ultimate point is that an environment variable that needs to be defined for
nltk to work is not defined.

I can't tell you what &quot;APPDATA' is supposed to refer to .. but probably it's
something that's suppose to be set by the user of NLTK to locate a file
resource needed for operation of the package.

Assuming you know what the value APPDATA should be ... you can use
os.environ to set the proper value before importing nltk, or you can set it
in the shell that launches the process ... (I'm not that familar with
Windows, so I can't give you precise details on how to set environment
variables there .. but you can google it easily.)

If you don't know what value APPDATA is supposed to be set at in the first
place, you should probably either look in NLTK documentation  or write to an
NLTK user group.


Hth,
Dan



&gt;<i> My code is:
</I>&gt;<i> from mod_python import apache
</I>&gt;<i> import sys
</I>&gt;<i> import nltk
</I>&gt;<i>
</I>&gt;<i> def handler(req):
</I>&gt;<i> 	req.content_type = 'text/plain'
</I>&gt;<i> 	s= sys.version
</I>&gt;<i> 	req.write(s)
</I>&gt;<i> 	
</I>&gt;<i> 	return apache.OK
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I'm sure I'm doing something dumb, but with one day's experience of Python
</I>&gt;<i> - told you I was a noob - I haven't the foggiest. I've googled obvious
</I>&gt;<i> terms, but with no luck.
</I>&gt;<i>
</I>&gt;<i> Any ideas?
</I>&gt;<i> Thanks,
</I>&gt;<i> Chris
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20100124/ab2eee78/attachment.html">http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20100124/ab2eee78/attachment.html</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026463.html">[mod_python] Using NLTK with mod_python
</A></li>
	<LI>Next message: <A HREF="026465.html">[mod_python] any way to log tracebacks on a single line w/ mod
	python?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26464">[ date ]</a>
              <a href="thread.html#26464">[ thread ]</a>
              <a href="subject.html#26464">[ subject ]</a>
              <a href="author.html#26464">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
