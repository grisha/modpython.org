<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Compling error:
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Compling%20error%3A&In-Reply-To=200810071600.m97G0CfW000346%40modpython.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025682.html">
   <LINK REL="Next"  HREF="025681.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Compling error:</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>FINKEL, PAUL D, ATTSI</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Compling%20error%3A&In-Reply-To=200810071600.m97G0CfW000346%40modpython.org"
       TITLE="[mod_python] Compling error:">finkel at att.com
       </A><BR>
    <I>Tue Oct  7 12:24:15 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025682.html">[mod_python] on OSX Leopard: &quot;The process has forked...&quot; crash
</A></li>
        <LI>Next message: <A HREF="025681.html">[mod_python] Compling error:
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25676">[ date ]</a>
              <a href="thread.html#25676">[ thread ]</a>
              <a href="subject.html#25676">[ subject ]</a>
              <a href="author.html#25676">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> 
Hello - attempting to compile mod_python on Solaris 10 and get this
series of errors at the end of the make:

************************************************************************
*****************

ld: fatal: relocations remain against allocatable but non-writable
sections
collect2: ld returned 1 exit status
apxs:Error: Command failed with rc=65536
.
*** Error code 1
make: Fatal error: Command failed for target `mod_python.so'
Current working directory /users/ghochberg/pkgs/mod_python-3.3.1/src
*** Error code 1
make: Fatal error: Command failed for target `do_dso'

************************************************************************
*****************

I've tried a number of things including installing the GNU binutils
tools and modifying PATH to find these files. I get the same results.

The configure command line:

./configure --with-shared --with-python=/usr/local/bin/python2.5
--prefix=$PkgDir --with-apxs=/usr/local/apache2/bin/apxs

Thanks!





-----Original Message-----
From: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python-bounces at modpython.org</A>
[mailto:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python-bounces at modpython.org</A>] On Behalf Of
<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python-request at modpython.org</A>
Sent: Tuesday, October 07, 2008 12:00 PM
To: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
Subject: Mod_python Digest, Vol 67, Issue 4

Send Mod_python mailing list submissions to
	<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>

To subscribe or unsubscribe via the World Wide Web, visit
	<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
or, via email, send a message with subject or body 'help' to
	<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python-request at modpython.org</A>

You can reach the person managing the list at
	<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python-owner at modpython.org</A>

When replying, please edit your Subject line so it is more specific than
&quot;Re: Contents of Mod_python digest...&quot;


Today's Topics:

   1. on OSX Leopard: &quot;The process has forked...&quot; crash (Lawrence Wang)
   2. Re: on OSX Leopard: &quot;The process has forked...&quot; crash
      (Graham Dumpleton)


----------------------------------------------------------------------

Message: 1
Date: Mon, 6 Oct 2008 18:51:26 -0400
From: &quot;Lawrence Wang&quot; &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">levity at gmail.com</A>&gt;
Subject: [mod_python] on OSX Leopard: &quot;The process has forked...&quot;
	crash
To: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
Message-ID:
	&lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">22e13a220810061551o7df618b5xca1c8db6c003453e at mail.gmail.com</A>&gt;
Content-Type: text/plain; charset=&quot;iso-8859-1&quot;

Hi! I compiled mod_python on OSX Leopard with a simple ./configure &amp;&amp;
make &amp;&amp; sudo make install, and it works just fine for almost everything.
However, certain Python operations cause Apache to crash with many of
these errors in the log:

&gt;<i> The process has forked and you cannot use this CoreFoundation 
</I>&gt;<i> functionality safely. You MUST exec().
</I>&gt;<i>
</I>Break on
&gt;<i> __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_USE_THIS_COREFOUNDATION_FUNCTI
</I>&gt;<i> ONALITY___YOU_MUST_EXEC__()
</I>&gt;<i> to debug.
</I>

One example of code that causes this:

import urllib2
&gt;<i>
</I>data = urllib2.urlopen('<A HREF="http://www.google.com'">http://www.google.com'</A>).read()


I'm pretty sure this is caused by mod_python and not, say, python
itself, because I don't get the same error when I run the same script as
a CGI handler in apache.

The hardware is a MacBook with Core 2 Duo (hence 64-bit). Some googling
revealed that the same error is caused by an old PHP library[1], and
that is solvable by changing its configuration and recompiling, so I'm
hoping the same is the case here.

Any help you can offer is greatly appreciated!

Lawrence Wang

[1]:
<A HREF="http://iparrizar.mnstate.edu/~juan/urania/2008/09/05/forking-problems-wi">http://iparrizar.mnstate.edu/~juan/urania/2008/09/05/forking-problems-wi</A>
th-freetype-solved/
-------------- next part --------------
An HTML attachment was scrubbed...
URL:
<A HREF="http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_pyth">http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_pyth</A>
on/attachments/20081006/fb4aac4e/attachment-0001.html

------------------------------

Message: 2
Date: Tue, 7 Oct 2008 12:12:06 +1100
From: &quot;Graham Dumpleton&quot; &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">graham.dumpleton at gmail.com</A>&gt;
Subject: Re: [mod_python] on OSX Leopard: &quot;The process has forked...&quot;
	crash
To: &quot;Lawrence Wang&quot; &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">levity at gmail.com</A>&gt;
Cc: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
Message-ID:
	&lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">88e286470810061812h186a0da2xec30813f69850676 at mail.gmail.com</A>&gt;
Content-Type: text/plain; charset=ISO-8859-1

Whoops, forgot to reply to list. Can OP please ensure they reply-all to
this email and not first one.

Are you running PHP on the same server? Have you disabled PHP and then
stopped/started Apache to see if problem goes away?

There should be no problem with Python/mod_python itself, but a problem
like this in PHP can be inherited by the Python/mod_python instance
running in the same process.

In other words, not a Python/mod_python problem, instead it is being
affected by PHP hosted by same Apache instance.

Graham

2008/10/7 Lawrence Wang &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">levity at gmail.com</A>&gt;:
&gt;<i> Hi! I compiled mod_python on OSX Leopard with a simple ./configure &amp;&amp; 
</I>&gt;<i> make &amp;&amp; sudo make install, and it works just fine for almost 
</I>&gt;<i> everything. However, certain Python operations cause Apache to crash 
</I>&gt;<i> with many of these errors in the log:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The process has forked and you cannot use this CoreFoundation 
</I>&gt;&gt;<i> functionality safely. You MUST exec().
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Break on
</I>&gt;&gt;<i> __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_USE_THIS_COREFOUNDATION_FUNCT
</I>&gt;&gt;<i> IONALITY___YOU_MUST_EXEC__()
</I>&gt;&gt;<i> to debug.
</I>&gt;<i>
</I>&gt;<i> One example of code that causes this:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> import urllib2
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> data = urllib2.urlopen('<A HREF="http://www.google.com'">http://www.google.com'</A>).read()
</I>&gt;<i>
</I>&gt;<i> I'm pretty sure this is caused by mod_python and not, say, python 
</I>&gt;<i> itself, because I don't get the same error when I run the same script 
</I>&gt;<i> as a CGI handler in apache.
</I>&gt;<i> The hardware is a MacBook with Core 2 Duo (hence 64-bit). Some 
</I>&gt;<i> googling revealed that the same error is caused by an old PHP 
</I>&gt;<i> library[1], and that is solvable by changing its configuration and 
</I>&gt;<i> recompiling, so I'm hoping the same is the case here.
</I>&gt;<i> Any help you can offer is greatly appreciated!
</I>&gt;<i> Lawrence Wang
</I>&gt;<i> [1]: 
</I>&gt;<i> <A HREF="http://iparrizar.mnstate.edu/~juan/urania/2008/09/05/forking-problems-">http://iparrizar.mnstate.edu/~juan/urania/2008/09/05/forking-problems-</A>
</I>&gt;<i> with-freetype-solved/ _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>&gt;<i>
</I>

------------------------------

_______________________________________________
Mod_python mailing list
<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>


End of Mod_python Digest, Vol 67, Issue 4
*****************************************

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025682.html">[mod_python] on OSX Leopard: &quot;The process has forked...&quot; crash
</A></li>
	<LI>Next message: <A HREF="025681.html">[mod_python] Compling error:
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25676">[ date ]</a>
              <a href="thread.html#25676">[ thread ]</a>
              <a href="subject.html#25676">[ subject ]</a>
              <a href="author.html#25676">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
