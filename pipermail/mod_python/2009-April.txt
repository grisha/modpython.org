From Roselinda.Ackermans at ec.europa.eu  Thu Apr  2 09:03:05 2009
From: Roselinda.Ackermans at ec.europa.eu (Roselinda.Ackermans@ec.europa.eu)
Date: Thu Apr  2 09:03:15 2009
Subject: [mod_python] _hashlib fails to load
Message-ID: <91A251F08F46984C94837FBF14D98A161537D9@S-DC-EXM35.net1.cec.eu.int>

Hi,
I just installed mod_python module (3.3.1) from blastwave, on Solaris 9, with Apache 2 and python 2.5.1
In httpd.conf :
<Directory /www/test>
AddHandler mod_python .py
PythonHandler ptest
PythonDebug On
</Directory>

ptest.py being a test script in /www/test

When I try http://myserver/test/ptest.py, I get these errors in error_log :
<...>
File "/opt/csw/lib/python/hashlib.py", line 133, in <module>
md5 = __get_builtin_constructor('md5')
File "/opt/csw/lib/python/hashlib.py", line 60, in __get_builtin_constructor
import _md5
ImportError: No module named _md5
[Mon Mar 23 15:27:29 2009] [error] get_interpreter: no interpreter callback foun
d.
[Mon Mar 23 15:27:29 2009] [error] [client 192.10.10.10] python_handler: Can't
get/create interpreter.

When I start python console, I can do "import hashlib" without error message. 
I put a few print statements around 'import _hashlib' in the hashlib.py file, and it seems indeed that 'import _hashlib' hits the exception when hashlib.py is loaded from within mod_python, but loads fine from within the python console.
I also printed the value of sys.path, and this is the same in both cases.
What could the problem then be ?


Best regards,
Linde Ackermans 


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090402/20575318/attachment.html
From graham.dumpleton at gmail.com  Thu Apr  2 17:36:01 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Thu Apr  2 17:36:10 2009
Subject: [mod_python] _hashlib fails to load
In-Reply-To: <91A251F08F46984C94837FBF14D98A161537D9@S-DC-EXM35.net1.cec.eu.int>
References: <91A251F08F46984C94837FBF14D98A161537D9@S-DC-EXM35.net1.cec.eu.int>
Message-ID: <88e286470904021436h3f17c4e7w5fbf118b815f564d@mail.gmail.com>

2009/4/3  <Roselinda.Ackermans@ec.europa.eu>:
> Hi,
> I just installed mod_python module (3.3.1) from blastwave, on Solaris 9,
> with Apache 2 and python 2.5.1
> In httpd.conf :
> <Directory /www/test>
> AddHandler mod_python .py
> PythonHandler ptest
> PythonDebug On
> </Directory>
>
> ptest.py being a test script in /www/test
>
> When I try http://myserver/test/ptest.py, I get these errors in error_log :
> <...>
> File "/opt/csw/lib/python/hashlib.py", line 133, in <module>
> md5 = __get_builtin_constructor('md5')
> File "/opt/csw/lib/python/hashlib.py", line 60, in __get_builtin_constructor
> import _md5
> ImportError: No module named _md5
> [Mon Mar 23 15:27:29 2009] [error] get_interpreter: no interpreter callback
> foun
> d.
> [Mon Mar 23 15:27:29 2009] [error] [client 192.10.10.10] python_handler:
> Can't
> get/create interpreter.
>
> When I start python console, I can do "import hashlib" without error
> message.
> I put a few print statements around 'import _hashlib' in the hashlib.py
> file, and it seems indeed that 'import _hashlib' hits the exception when
> hashlib.py is loaded from within mod_python, but loads fine from within the
> python console.
>
> I also printed the value of sys.path, and this is the same in both cases.
> What could the problem then be ?

It shouldn't be trying to import _md5.so. That is a fallback attempt
when _hashlib.so cannot be loaded, but _md5.so isn't a part of Python
2.5 anymore.

Likely problem is that _hashlib.so cannot find the shared libraries it
is dependent upon.

Run:

  ldd /some/path/_hashlib.so

to work out what shared libraries it requires.

If you have added that library directory explicitly to LD_LIBRARY_PATH
in your environment to get command line Python to work, then you will
need to edit your Apache startup scripts, 'envvars' if you have a
standard Apache installation, to add:

  LD_LIBRARY_PATH=/some/path
  export LD_LIBRARY_PATH

So, post result of ldd and also do following and post results.

  unset LD_LIBRARY_PATH
  python
  >>> import hashlib

Graham
From Roselinda.Ackermans at ec.europa.eu  Fri Apr  3 03:57:42 2009
From: Roselinda.Ackermans at ec.europa.eu (Roselinda.Ackermans@ec.europa.eu)
Date: Fri Apr  3 03:57:52 2009
Subject: [mod_python] _hashlib fails to load
In-Reply-To: <88e286470904021436h3f17c4e7w5fbf118b815f564d@mail.gmail.com>
References: <91A251F08F46984C94837FBF14D98A161537D9@S-DC-EXM35.net1.cec.eu.int>
	<88e286470904021436h3f17c4e7w5fbf118b815f564d@mail.gmail.com>
Message-ID: <91A251F08F46984C94837FBF14D98A161537DC@S-DC-EXM35.net1.cec.eu.int>

Hi Graham,

Here some results :
root # ldd _hashlib.so
        libssl.so.0.9.8 =>       /opt/csw/lib/sparcv8plus+vis/libssl.so.0.9.8
        libcrypto.so.0.9.8 =>    /opt/csw/lib/sparcv8plus+vis/libcrypto.so.0.9.8
        libpython2.5.so.1.0 =>   /opt/csw/lib/sparcv8/libpython2.5.so.1.0
        libsocket.so.1 =>        /usr/lib/libsocket.so.1
        libnsl.so.1 =>   /usr/lib/libnsl.so.1
        libdl.so.1 =>    /usr/lib/libdl.so.1
        libresolv.so.2 =>        /usr/lib/libresolv.so.2
        librt.so.1 =>    /usr/lib/librt.so.1
        libpthread.so.1 =>       /usr/lib/libpthread.so.1
        libm.so.1 =>     /usr/lib/libm.so.1
        libc.so.1 =>     /usr/lib/libc.so.1
        libmp.so.2 =>    /usr/lib/libmp.so.2
        libaio.so.1 =>   /usr/lib/libaio.so.1
        libmd5.so.1 =>   /usr/lib/libmd5.so.1
        libthread.so.1 =>        /usr/lib/libthread.so.1
        /usr/platform/SUNW,Sun-Fire-V890/lib/libc_psr.so.1
        /usr/platform/SUNW,Sun-Fire-V890/lib/libmd5_psr.so.1

I also used ldd -s to trace more in detail, and I concluded this :
The LD_LIBRARY_PATH does not intervene. All libs are resolved by using the RPATH of _hashlib.so
(which includes a path to all python libs ) and the system default search path /usr/lib.
I made tests with setting LD_LIBRARY_PATH to <empty> or even to /tmp, but still, import hashlib works fine in the python console.

Another test I made was calling python via cgi, and do a import hashlib there too :
    
    #!/opt/csw/bin/python

    import hashlib

Again, no problems.

In my ptest.py, I write nothing else but :
import hashlib

And then this fails.

Linde


# Likely problem is that _hashlib.so cannot find the shared libraries it
# is dependent upon.
# 

From graham.dumpleton at gmail.com  Fri Apr  3 04:07:47 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Fri Apr  3 04:07:50 2009
Subject: [mod_python] _hashlib fails to load
In-Reply-To: <91A251F08F46984C94837FBF14D98A161537DC@S-DC-EXM35.net1.cec.eu.int>
References: <91A251F08F46984C94837FBF14D98A161537D9@S-DC-EXM35.net1.cec.eu.int>
	<88e286470904021436h3f17c4e7w5fbf118b815f564d@mail.gmail.com>
	<91A251F08F46984C94837FBF14D98A161537DC@S-DC-EXM35.net1.cec.eu.int>
Message-ID: <88e286470904030107x457fc8c1gd5bda84e14a5bfbd@mail.gmail.com>

Do an ldd on Apache. It possibly uses conflicting versions of the
libraries. You may need to do ldd on other Apache modules loaded.
Somewhere there is a conflict.

2009/4/3  <Roselinda.Ackermans@ec.europa.eu>:
> Hi Graham,
>
> Here some results :
> root # ldd _hashlib.so
> ? ? ? ?libssl.so.0.9.8 => ? ? ? /opt/csw/lib/sparcv8plus+vis/libssl.so.0.9.8
> ? ? ? ?libcrypto.so.0.9.8 => ? ?/opt/csw/lib/sparcv8plus+vis/libcrypto.so.0.9.8
> ? ? ? ?libpython2.5.so.1.0 => ? /opt/csw/lib/sparcv8/libpython2.5.so.1.0
> ? ? ? ?libsocket.so.1 => ? ? ? ?/usr/lib/libsocket.so.1
> ? ? ? ?libnsl.so.1 => ? /usr/lib/libnsl.so.1
> ? ? ? ?libdl.so.1 => ? ?/usr/lib/libdl.so.1
> ? ? ? ?libresolv.so.2 => ? ? ? ?/usr/lib/libresolv.so.2
> ? ? ? ?librt.so.1 => ? ?/usr/lib/librt.so.1
> ? ? ? ?libpthread.so.1 => ? ? ? /usr/lib/libpthread.so.1
> ? ? ? ?libm.so.1 => ? ? /usr/lib/libm.so.1
> ? ? ? ?libc.so.1 => ? ? /usr/lib/libc.so.1
> ? ? ? ?libmp.so.2 => ? ?/usr/lib/libmp.so.2
> ? ? ? ?libaio.so.1 => ? /usr/lib/libaio.so.1
> ? ? ? ?libmd5.so.1 => ? /usr/lib/libmd5.so.1
> ? ? ? ?libthread.so.1 => ? ? ? ?/usr/lib/libthread.so.1
> ? ? ? ?/usr/platform/SUNW,Sun-Fire-V890/lib/libc_psr.so.1
> ? ? ? ?/usr/platform/SUNW,Sun-Fire-V890/lib/libmd5_psr.so.1
>
> I also used ldd -s to trace more in detail, and I concluded this :
> The LD_LIBRARY_PATH does not intervene. All libs are resolved by using the RPATH of _hashlib.so
> (which includes a path to all python libs ) and the system default search path /usr/lib.
> I made tests with setting LD_LIBRARY_PATH to <empty> or even to /tmp, but still, import hashlib works fine in the python console.
>
> Another test I made was calling python via cgi, and do a import hashlib there too :
>
> ? ?#!/opt/csw/bin/python
>
> ? ?import hashlib
>
> Again, no problems.
>
> In my ptest.py, I write nothing else but :
> import hashlib
>
> And then this fails.
>
> Linde
>
>
> # Likely problem is that _hashlib.so cannot find the shared libraries it
> # is dependent upon.
> #
>

From Roselinda.Ackermans at ec.europa.eu  Fri Apr  3 04:49:27 2009
From: Roselinda.Ackermans at ec.europa.eu (Roselinda.Ackermans@ec.europa.eu)
Date: Fri Apr  3 04:49:38 2009
Subject: [mod_python] _hashlib fails to load
In-Reply-To: <88e286470904030107x457fc8c1gd5bda84e14a5bfbd@mail.gmail.com>
References: <91A251F08F46984C94837FBF14D98A161537D9@S-DC-EXM35.net1.cec.eu.int>
	<88e286470904021436h3f17c4e7w5fbf118b815f564d@mail.gmail.com>
	<91A251F08F46984C94837FBF14D98A161537DC@S-DC-EXM35.net1.cec.eu.int>
	<88e286470904030107x457fc8c1gd5bda84e14a5bfbd@mail.gmail.com>
Message-ID: <91A251F08F46984C94837FBF14D98A161537DE@S-DC-EXM35.net1.cec.eu.int>

Graham,

Ldd on apache, or on mod_python.so shows no different library dependencies for the common ones. ( all the same version )
I don't know what to check else ...
Since I downloaded this as a binary package from blastwave, there is not much more I can do.
I hope I can get an answer from the blastwave list.
Thanks for your help.

Regards,
Linde
 

# -----Original Message-----
# From: Graham Dumpleton [mailto:graham.dumpleton@gmail.com] 
# Sent: Friday, April 03, 2009 10:08 AM
# To: ACKERMANS Roselinda (REGIO)
# Cc: mod_python@modpython.org
# Subject: Re: [mod_python] _hashlib fails to load
# 
# Do an ldd on Apache. It possibly uses conflicting versions of the
# libraries. You may need to do ldd on other Apache modules loaded.
# Somewhere there is a conflict.
# 
# 2009/4/3  <Roselinda.Ackermans@ec.europa.eu>:
# > Hi Graham,
# >
# > Here some results :
# > root # ldd _hashlib.so
# > ? ? ? ?libssl.so.0.9.8 => ? ? ? 
# /opt/csw/lib/sparcv8plus+vis/libssl.so.0.9.8
# > ? ? ? ?libcrypto.so.0.9.8 => ? ?
/opt/csw/lib/sparcv8plus+vis/libcrypto.so.0.9.8
# > ? ? ? ?libpython2.5.so.1.0 => ? 
# /opt/csw/lib/sparcv8/libpython2.5.so.1.0
# > ? ? ? ?libsocket.so.1 => ? ? ? ?/usr/lib/libsocket.so.1
# > ? ? ? ?libnsl.so.1 => ? /usr/lib/libnsl.so.1
# > ? ? ? ?libdl.so.1 => ? ?/usr/lib/libdl.so.1
# > ? ? ? ?libresolv.so.2 => ? ? ? ?/usr/lib/libresolv.so.2
# > ? ? ? ?librt.so.1 => ? ?/usr/lib/librt.so.1
# > ? ? ? ?libpthread.so.1 => ? ? ? /usr/lib/libpthread.so.1
# > ? ? ? ?libm.so.1 => ? ? /usr/lib/libm.so.1
# > ? ? ? ?libc.so.1 => ? ? /usr/lib/libc.so.1
# > ? ? ? ?libmp.so.2 => ? ?/usr/lib/libmp.so.2
# > ? ? ? ?libaio.so.1 => ? /usr/lib/libaio.so.1
# > ? ? ? ?libmd5.so.1 => ? /usr/lib/libmd5.so.1
# > ? ? ? ?libthread.so.1 => ? ? ? ?/usr/lib/libthread.so.1
# > ? ? ? ?/usr/platform/SUNW,Sun-Fire-V890/lib/libc_psr.so.1
# > ? ? ? ?/usr/platform/SUNW,Sun-Fire-V890/lib/libmd5_psr.so.1
# >
# > I also used ldd -s to trace more in detail, and I concluded this :
# > The LD_LIBRARY_PATH does not intervene. All libs are 
# resolved by using the RPATH of _hashlib.so
# > (which includes a path to all python libs ) and the system 
# default search path /usr/lib.
# > I made tests with setting LD_LIBRARY_PATH to <empty> or 
# even to /tmp, but still, import hashlib works fine in the 
# python console.
# >
# > Another test I made was calling python via cgi, and do a 
# import hashlib there too :
# >
# > ? ?#!/opt/csw/bin/python
# >
# > ? ?import hashlib
# >
# > Again, no problems.
# >
# > In my ptest.py, I write nothing else but :
# > import hashlib
# >
# > And then this fails.
# >
# > Linde
# >
# >
# > # Likely problem is that _hashlib.so cannot find the shared 
# libraries it
# > # is dependent upon.
# > #
# >
# 

From graham.dumpleton at gmail.com  Fri Apr  3 04:58:16 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Fri Apr  3 04:58:18 2009
Subject: [mod_python] _hashlib fails to load
In-Reply-To: <91A251F08F46984C94837FBF14D98A161537DE@S-DC-EXM35.net1.cec.eu.int>
References: <91A251F08F46984C94837FBF14D98A161537D9@S-DC-EXM35.net1.cec.eu.int>
	<88e286470904021436h3f17c4e7w5fbf118b815f564d@mail.gmail.com>
	<91A251F08F46984C94837FBF14D98A161537DC@S-DC-EXM35.net1.cec.eu.int>
	<88e286470904030107x457fc8c1gd5bda84e14a5bfbd@mail.gmail.com>
	<91A251F08F46984C94837FBF14D98A161537DE@S-DC-EXM35.net1.cec.eu.int>
Message-ID: <88e286470904030158n7fa10348qfc21aa3720508f3d@mail.gmail.com>

2009/4/3  <Roselinda.Ackermans@ec.europa.eu>:
> Graham,
>
> Ldd on apache, or on mod_python.so shows no different library dependencies for the common ones. ( all the same version )
> I don't know what to check else ...
> Since I downloaded this as a binary package from blastwave, there is not much more I can do.
> I hope I can get an answer from the blastwave list.
> Thanks for your help.

Only other thing I can do is point out the description of the common
reason for this from mod_wsgi documentation.

 http://code.google.com/p/modwsgi/wiki/ApplicationIssues#SSL_Shared_Library_Conflicts

The one thing left in that which can cause problems is that Apache has
got compiled in its own version of SSL libraries and that is the thing
in conflict.

Graham


> Regards,
> Linde
>
>
> # -----Original Message-----
> # From: Graham Dumpleton [mailto:graham.dumpleton@gmail.com]
> # Sent: Friday, April 03, 2009 10:08 AM
> # To: ACKERMANS Roselinda (REGIO)
> # Cc: mod_python@modpython.org
> # Subject: Re: [mod_python] _hashlib fails to load
> #
> # Do an ldd on Apache. It possibly uses conflicting versions of the
> # libraries. You may need to do ldd on other Apache modules loaded.
> # Somewhere there is a conflict.
> #
> # 2009/4/3 ?<Roselinda.Ackermans@ec.europa.eu>:
> # > Hi Graham,
> # >
> # > Here some results :
> # > root # ldd _hashlib.so
> # > ? ? ? ?libssl.so.0.9.8 =>
> # /opt/csw/lib/sparcv8plus+vis/libssl.so.0.9.8
> # > ? ? ? ?libcrypto.so.0.9.8 =>
> /opt/csw/lib/sparcv8plus+vis/libcrypto.so.0.9.8
> # > ? ? ? ?libpython2.5.so.1.0 =>
> # /opt/csw/lib/sparcv8/libpython2.5.so.1.0
> # > ? ? ? ?libsocket.so.1 => ? ? ? ?/usr/lib/libsocket.so.1
> # > ? ? ? ?libnsl.so.1 => ? /usr/lib/libnsl.so.1
> # > ? ? ? ?libdl.so.1 => ? ?/usr/lib/libdl.so.1
> # > ? ? ? ?libresolv.so.2 => ? ? ? ?/usr/lib/libresolv.so.2
> # > ? ? ? ?librt.so.1 => ? ?/usr/lib/librt.so.1
> # > ? ? ? ?libpthread.so.1 => ? ? ? /usr/lib/libpthread.so.1
> # > ? ? ? ?libm.so.1 => ? ? /usr/lib/libm.so.1
> # > ? ? ? ?libc.so.1 => ? ? /usr/lib/libc.so.1
> # > ? ? ? ?libmp.so.2 => ? ?/usr/lib/libmp.so.2
> # > ? ? ? ?libaio.so.1 => ? /usr/lib/libaio.so.1
> # > ? ? ? ?libmd5.so.1 => ? /usr/lib/libmd5.so.1
> # > ? ? ? ?libthread.so.1 => ? ? ? ?/usr/lib/libthread.so.1
> # > ? ? ? ?/usr/platform/SUNW,Sun-Fire-V890/lib/libc_psr.so.1
> # > ? ? ? ?/usr/platform/SUNW,Sun-Fire-V890/lib/libmd5_psr.so.1
> # >
> # > I also used ldd -s to trace more in detail, and I concluded this :
> # > The LD_LIBRARY_PATH does not intervene. All libs are
> # resolved by using the RPATH of _hashlib.so
> # > (which includes a path to all python libs ) and the system
> # default search path /usr/lib.
> # > I made tests with setting LD_LIBRARY_PATH to <empty> or
> # even to /tmp, but still, import hashlib works fine in the
> # python console.
> # >
> # > Another test I made was calling python via cgi, and do a
> # import hashlib there too :
> # >
> # > ? ?#!/opt/csw/bin/python
> # >
> # > ? ?import hashlib
> # >
> # > Again, no problems.
> # >
> # > In my ptest.py, I write nothing else but :
> # > import hashlib
> # >
> # > And then this fails.
> # >
> # > Linde
> # >
> # >
> # > # Likely problem is that _hashlib.so cannot find the shared
> # libraries it
> # > # is dependent upon.
> # > #
> # >
> #
>

From aaron.hildebrandt at gmail.com  Fri Apr  3 19:15:32 2009
From: aaron.hildebrandt at gmail.com (Aaron Scott Hildebrandt)
Date: Fri Apr  3 19:15:40 2009
Subject: [mod_python] Problem with caching
Message-ID: <bb1c004d0904031615n58d323a3hd50c684008600a3@mail.gmail.com>

This is my first time working with mod_python. One thing that I wasn't
prepared for was dealing with persistence. I have an app that I'm
trying to make work through mod_python, but everything goes to hell
the moment there's multiple users.

The way it's supposed to work is like this:

The page is accessed. A number of variables are loaded. The user
changes some of the variables, the changes are saved to a pickled
file. The next time the user loads the page, those saved variable
values are loaded back in.

The problem is, as soon as the variables have been changed, if anyone
accesses the page in the near future, they'll see those changed
variables. Here's where it really starts driving me insane: a lot of
the time, that second user will see the changed variables even if he
has his own pickled file that has been loaded and was supposed to
overwrite them.

For example:

I have a file with the variable "x = 0". A user changes the value to
"x = 5", and that change is saved to a pickled file (tied to a session
ID).

A second user accesses the page, where the value is now "x = 5". He
changed the value to "x = 10". This is saved to his own pickled file.

The first user returns to the site. Since he's returning, his pickled
file, with "x = 5", is loaded. Except, when he looks at the data, he
sees "x = 10", even though that variable was supposed to have been
changed to "5" when his file loaded.

A more direct code example:

The module lab.game has the class InitGame, which contains "daemons =
{}". There's an instance of this class called "settings".

A user runs the code, resulting in some values in "daemons":
"{'berry2': 3, 'berry3': 5, 'berry1': 7}". These are pickled. The next
user runs the code. I put this in to make sure "daemons" is getting
reset:

        req.write(str(lab.game.settings.daemons))
        del lab.game.settings
	try: req.write(str(lab.game.settings.daemons))
	except: req.write("failed")
        lab.game.settings = lab.game.InitGame()
        req.write(str(lab.game.settings.daemons))

Okay, that should wipe out any of the values and leave us with a clean
slate, right? But no, it doesn't. This is the output:

        {'berry2': 3, 'berry3': 5, 'berry1': 7}failed{'berry2': 3,
'berry3': 5, 'berry1': 7}

So, even if I try deleting the variable itself, the moment I try to
reinitialize it, the old values return.

Does anyone know what I'm doing wrong, or if there's any way I can
just kill mod_python's persistence altogether?

Thanks,
Aaron

-- 
Aaron Scott Hildebrandt
andcuriouser.com
From graham.dumpleton at gmail.com  Fri Apr  3 19:28:55 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Fri Apr  3 19:28:57 2009
Subject: [mod_python] Problem with caching
In-Reply-To: <bb1c004d0904031615n58d323a3hd50c684008600a3@mail.gmail.com>
References: <bb1c004d0904031615n58d323a3hd50c684008600a3@mail.gmail.com>
Message-ID: <88e286470904031628l4a31ab04g83796399197d2a78@mail.gmail.com>

2009/4/4 Aaron Scott Hildebrandt <aaron.hildebrandt@gmail.com>:
> This is my first time working with mod_python. One thing that I wasn't
> prepared for was dealing with persistence. I have an app that I'm
> trying to make work through mod_python, but everything goes to hell
> the moment there's multiple users.
>
> The way it's supposed to work is like this:
>
> The page is accessed. A number of variables are loaded. The user
> changes some of the variables, the changes are saved to a pickled
> file. The next time the user loads the page, those saved variable
> values are loaded back in.
>
> The problem is, as soon as the variables have been changed, if anyone
> accesses the page in the near future, they'll see those changed
> variables. Here's where it really starts driving me insane: a lot of
> the time, that second user will see the changed variables even if he
> has his own pickled file that has been loaded and was supposed to
> overwrite them.
>
> For example:
>
> I have a file with the variable "x = 0". A user changes the value to
> "x = 5", and that change is saved to a pickled file (tied to a session
> ID).
>
> A second user accesses the page, where the value is now "x = 5". He
> changed the value to "x = 10". This is saved to his own pickled file.
>
> The first user returns to the site. Since he's returning, his pickled
> file, with "x = 5", is loaded. Except, when he looks at the data, he
> sees "x = 10", even though that variable was supposed to have been
> changed to "5" when his file loaded.
>
> A more direct code example:
>
> The module lab.game has the class InitGame, which contains "daemons =
> {}". There's an instance of this class called "settings".
>
> A user runs the code, resulting in some values in "daemons":
> "{'berry2': 3, 'berry3': 5, 'berry1': 7}". These are pickled. The next
> user runs the code. I put this in to make sure "daemons" is getting
> reset:
>
> ? ? ? ?req.write(str(lab.game.settings.daemons))
> ? ? ? ?del lab.game.settings
> ? ? ? ?try: req.write(str(lab.game.settings.daemons))
> ? ? ? ?except: req.write("failed")
> ? ? ? ?lab.game.settings = lab.game.InitGame()
> ? ? ? ?req.write(str(lab.game.settings.daemons))
>
> Okay, that should wipe out any of the values and leave us with a clean
> slate, right? But no, it doesn't. This is the output:
>
> ? ? ? ?{'berry2': 3, 'berry3': 5, 'berry1': 7}failed{'berry2': 3,
> 'berry3': 5, 'berry1': 7}
>
> So, even if I try deleting the variable itself, the moment I try to
> reinitialize it, the old values return.
>
> Does anyone know what I'm doing wrong, or if there's any way I can
> just kill mod_python's persistence altogether?

Apache is a multiprocess web server and if using worker MPM each
process can be multithreaded as well. It sounds like your application
may not be dealing properly with one or the other. Read:

  http://www.dscpl.com.au/wiki/ModPython/Articles/TheProcessInterpreterModel

Is the data you are changing global? Are you expected global data to
be the same between requests?

See summary in that document about shared data.

The provide more details about where these variables are that you are
changing. Ie., what context, global, local, session etc.

Graham

From dave at davebritton.com  Sat Apr  4 09:49:03 2009
From: dave at davebritton.com (Dave Britton)
Date: Sat Apr  4 08:48:23 2009
Subject: [SPAM] Re: [mod_python] Problem with caching
References: <bb1c004d0904031615n58d323a3hd50c684008600a3@mail.gmail.com>
Message-ID: <01ee01c9b52c$1d629c00$0500a8c0@yoda>

Use a multiuser database to hold the persistent information (MySQ or
sqlite). This is the only way you can insure that shared data, ie. data that
is intentionally passed between users, where (as in your example) what user
2 sees depends on what user 1 did, and what he does matters to the next page
load of what user 1 sees. Pickling, text files, and web server memory are
not up to the task, they are simply not designed for that across-use,
across-pageload data sharing. It's why god invented relational databases. No
wait, that's Codd.
-Dave
----- Original Message -----
From: "Aaron Scott Hildebrandt" <aaron.hildebrandt@gmail.com>
To: <mod_python@modpython.org>
Sent: Friday, April 03, 2009 6:15 PM
Subject: [mod_python] Problem with caching


> This is my first time working with mod_python. One thing that I wasn't
> prepared for was dealing with persistence. I have an app that I'm
> trying to make work through mod_python, but everything goes to hell
> the moment there's multiple users.
>
> The way it's supposed to work is like this:
>
> The page is accessed. A number of variables are loaded. The user
> changes some of the variables, the changes are saved to a pickled
> file. The next time the user loads the page, those saved variable
> values are loaded back in.
>
> The problem is, as soon as the variables have been changed, if anyone
> accesses the page in the near future, they'll see those changed
> variables. Here's where it really starts driving me insane: a lot of
> the time, that second user will see the changed variables even if he
> has his own pickled file that has been loaded and was supposed to
> overwrite them.
>
> For example:
>
> I have a file with the variable "x = 0". A user changes the value to
> "x = 5", and that change is saved to a pickled file (tied to a session
> ID).
>
> A second user accesses the page, where the value is now "x = 5". He
> changed the value to "x = 10". This is saved to his own pickled file.
>
> The first user returns to the site. Since he's returning, his pickled
> file, with "x = 5", is loaded. Except, when he looks at the data, he
> sees "x = 10", even though that variable was supposed to have been
> changed to "5" when his file loaded.
>
> A more direct code example:
>
> The module lab.game has the class InitGame, which contains "daemons =
> {}". There's an instance of this class called "settings".
>
> A user runs the code, resulting in some values in "daemons":
> "{'berry2': 3, 'berry3': 5, 'berry1': 7}". These are pickled. The next
> user runs the code. I put this in to make sure "daemons" is getting
> reset:
>
>         req.write(str(lab.game.settings.daemons))
>         del lab.game.settings
> try: req.write(str(lab.game.settings.daemons))
> except: req.write("failed")
>         lab.game.settings = lab.game.InitGame()
>         req.write(str(lab.game.settings.daemons))
>
> Okay, that should wipe out any of the values and leave us with a clean
> slate, right? But no, it doesn't. This is the output:
>
>         {'berry2': 3, 'berry3': 5, 'berry1': 7}failed{'berry2': 3,
> 'berry3': 5, 'berry1': 7}
>
> So, even if I try deleting the variable itself, the moment I try to
> reinitialize it, the old values return.
>
> Does anyone know what I'm doing wrong, or if there's any way I can
> just kill mod_python's persistence altogether?
>
> Thanks,
> Aaron
>
> --
> Aaron Scott Hildebrandt
> andcuriouser.com
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python

From rahul.warhekar at edisphere.com  Fri Apr 17 08:38:58 2009
From: rahul.warhekar at edisphere.com (rahul)
Date: Fri Apr 17 08:41:28 2009
Subject: [mod_python] Problem for mod_python installation
Message-ID: <00a601c9bf59$7c61f980$7525ec80$@warhekar@edisphere.com>

Hello All,

 

I have my application in python which requires mod_python, so I have two
questions,

 

1)      Can I distribute mod_python-3.2.8.win32-py2.4.exe package with my
code?

2)      I was not able to install above package in silent mode?

a.       For silent mode execution I am using command
"mod_python-3.2.8.win32-py2.4.exe /q /r"

 

Any help will be greatly appreciated.

 

Thanks,

 

Rahul

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090417/171f3b05/attachment.html
From eeswar at pbsystems.com  Fri Apr 17 11:26:54 2009
From: eeswar at pbsystems.com (Eeswar Kameswara Rao)
Date: Fri Apr 17 11:21:27 2009
Subject: [mod_python] mod_python: How-to Resolve Python Version conflicts
Message-ID: <422D390FE3F94B47B2D145726F017C4C6BF7F26C3C@MAIL3.VIJ.PB.com>

Hello All,

I am new to this list. I am having trouble to access the archives.

Here is my problem. PLEASE HELP.

ISSUE
---------
1. After I do "make && sudo make install" I get a mod_python.so in the src and .libs directories
2. When I do a 'otool -L ./mod_python.so'  it reports
www:src Tool$ otool -L mod_python.so
mod_python.so:
        /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 111.1.3)
        /System/Library/Frameworks/Python.framework/Versions/2.3/Python (compatibility version 2.3.0, current version 2.3.5)
        /usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)

SCENARIO
---------------
1. H/W - Intel Core2Duo MacBook laptop
2. I have two versions of Python i.e. 2.3 and 2.5.1
3. Python 2.3 path is /System/Library/Frameworks/Python.framework/Versions/2.3/
4. Python2.3 executable is in /usr/local/sbin
5. Python2.5 path is /System/Library/Frameworks/Python.framework/Versions/2.5/
6. Python2.5 Executable is in /usr/bin
7. Apache version 2.0 is enabled in 32-bit mode (reconfigured the apache plist for 32-bit)
8. Ran .sudo ./configure --with-python=/usr/bin/python2.5
9. Added to Makefile with library path pointing to Python2.5 in LDFLAGS
10. Added to Makefile '-arch i386' to LDFLAGS, CFLAGS and under mod_python.so
11. After doing a "make && sudo make install" I get a mod_python.so built with Python2.3 framework (????)

I want this mod_python to be Python2.5 compliant ONLY.

So all my Python web apps crash. Error_logs report version conflicts.

Below is the listing from "make && sudo make install'

www:mod_python-3.3.1 Tool$ make && sudo make install

Compiling for DSO.

/usr/sbin/apxs -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 -c -Wc,"-arch i386" mod_python.c _apachemodule.c requestobject.c tableobject.c util.c serverobject.c connobject.c filterobject.c hlist.c hlistobject.c finfoobject.c -Wl,-framework,Python  -u _PyMac_Error -framework Python   -Wl,-F/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5 -arch i386   -lm  -framework  Python    -ldl
/usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o mod_python.lo mod_python.c && touch mod_python.slo
mod_python.c: In function 'python_init':
mod_python.c:826: warning: initialization from incompatible pointer type
/usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o _apachemodule.lo _apachemodule.c && touch _apachemodule.slo
/usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o requestobject.lo requestobject.c && touch requestobject.slo
/usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o tableobject.lo tableobject.c && touch tableobject.slo
tableobject.c:329: warning: initialization from incompatible pointer type
tableobject.c:1092: warning: initialization from incompatible pointer type
/usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o util.lo util.c && touch util.slo
/usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o serverobject.lo serverobject.c && touch serverobject.slo
serverobject.c:387: warning: initialization from incompatible pointer type
/usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o connobject.lo connobject.c && touch connobject.slo
/usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o filterobject.lo filterobject.c && touch filterobject.slo
/usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o hlist.lo hlist.c && touch hlist.slo
/usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o hlistobject.lo hlistobject.c && touch hlistobject.slo
/usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o finfoobject.lo finfoobject.c && touch finfoobject.slo
finfoobject.c:278: warning: 'intargfunc' is deprecated
finfoobject.c:278: warning: initialization from incompatible pointer type
/usr/share/apr-1/build-1/libtool --silent --mode=link gcc -o mod_python.la  -rpath /usr/libexec/apache2 -module -avoid-version    finfoobject.lo hlistobject.lo hlist.lo filterobject.lo connobject.lo serverobject.lo util.lo tableobject.lo requestobject.lo _apachemodule.lo mod_python.lo -Wl,-framework,Python -u _PyMac_Error -framework Python -Wl,-F/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5 -arch i386 -lm -framework Python -ldl
make[2]: `psp_parser.c' is up to date.
/usr/bin/python2.5 setup.py build
running build
running build_py
running build_ext

Now su and make install
  (or, if you only want to perform a partial install,
   you can use make install_dso and make install_py_lib)

Password:
make[3]: `psp_parser.c' is up to date.
/usr/bin/python2.5 setup.py build
running build
running build_py
running build_ext

Now su and make install
  (or, if you only want to perform a partial install,
   you can use make install_dso and make install_py_lib)


Performing DSO installation.

/usr/bin/install -c -d /usr/libexec/apache2
/usr/bin/install -c src/mod_python.so /usr/libexec/apache2

Now don't forget to edit your main config and add
    LoadModule python_module /usr/libexec/apache2/mod_python.so
and if your configuration uses ClearModuleList, then also
    AddModule mod_python.c

cd dist && make install_py_lib
make[3]: `psp_parser.c' is up to date.
if test -z "" ; then \
                /usr/bin/python2.5 setup.py install --optimize 2 --force ; \
        else \
                /usr/bin/python2.5 setup.py install --optimize 2 --force --root  ; \
        fi
running install
running build
running build_py
running build_ext
running install_lib
copying build/lib.macosx-10.5-i386-2.5/mod_python/__init__.py -> /Library/Python/2.5/site-packages/mod_python
copying build/lib.macosx-10.5-i386-2.5/mod_python/_psp.so -> /Library/Python/2.5/site-packages/mod_python
copying build/lib.macosx-10.5-i386-2.5/mod_python/apache.py -> /Library/Python/2.5/site-packages/mod_python
copying build/lib.macosx-10.5-i386-2.5/mod_python/cache.py -> /Library/Python/2.5/site-packages/mod_python
copying build/lib.macosx-10.5-i386-2.5/mod_python/cgihandler.py -> /Library/Python/2.5/site-packages/mod_python
copying build/lib.macosx-10.5-i386-2.5/mod_python/Cookie.py -> /Library/Python/2.5/site-packages/mod_python
copying build/lib.macosx-10.5-i386-2.5/mod_python/importer.py -> /Library/Python/2.5/site-packages/mod_python
copying build/lib.macosx-10.5-i386-2.5/mod_python/psp.py -> /Library/Python/2.5/site-packages/mod_python
copying build/lib.macosx-10.5-i386-2.5/mod_python/publisher.py -> /Library/Python/2.5/site-packages/mod_python
copying build/lib.macosx-10.5-i386-2.5/mod_python/python22.py -> /Library/Python/2.5/site-packages/mod_python
copying build/lib.macosx-10.5-i386-2.5/mod_python/Session.py -> /Library/Python/2.5/site-packages/mod_python
copying build/lib.macosx-10.5-i386-2.5/mod_python/testhandler.py -> /Library/Python/2.5/site-packages/mod_python
copying build/lib.macosx-10.5-i386-2.5/mod_python/util.py -> /Library/Python/2.5/site-packages/mod_python
byte-compiling /Library/Python/2.5/site-packages/mod_python/__init__.py to __init__.pyc
byte-compiling /Library/Python/2.5/site-packages/mod_python/apache.py to apache.pyc
byte-compiling /Library/Python/2.5/site-packages/mod_python/cache.py to cache.pyc
byte-compiling /Library/Python/2.5/site-packages/mod_python/cgihandler.py to cgihandler.pyc
byte-compiling /Library/Python/2.5/site-packages/mod_python/Cookie.py to Cookie.pyc
byte-compiling /Library/Python/2.5/site-packages/mod_python/importer.py to importer.pyc
byte-compiling /Library/Python/2.5/site-packages/mod_python/psp.py to psp.pyc
byte-compiling /Library/Python/2.5/site-packages/mod_python/publisher.py to publisher.pyc
byte-compiling /Library/Python/2.5/site-packages/mod_python/python22.py to python22.pyc
byte-compiling /Library/Python/2.5/site-packages/mod_python/Session.py to Session.pyc
byte-compiling /Library/Python/2.5/site-packages/mod_python/testhandler.py to testhandler.pyc
byte-compiling /Library/Python/2.5/site-packages/mod_python/util.py to util.pyc
writing byte-compilation script '/tmp/tmpG6QrK-.py'
/System/Library/Frameworks/Python.framework/Versions/2.5/Resources/Python.app/Contents/MacOS/Python -OO /tmp/tmpG6QrK-.py
removing /tmp/tmpG6QrK-.py
running install_egg_info
Removing /Library/Python/2.5/site-packages/mod_python-3.3.1-py2.5.egg-info
Writing /Library/Python/2.5/site-packages/mod_python-3.3.1-py2.5.egg-info
www:mod_python-3.3.1 Tool$ cd src
www:src Tool$ ls
Makefile                connobject.lo           hlist.lo                mod_python.slo          serverobject.o
Makefile.in             connobject.o            hlist.o                 mod_python.so           serverobject.slo
Makefile.txt            connobject.slo          hlist.slo               mod_python.vcproj       tableobject.c
Makefile_bak            filterobject.c          hlistobject.c           psp_parser.c            tableobject.lo
Makefile_bak_16MAR      filterobject.lo         hlistobject.lo          psp_parser.l            tableobject.o
Version.rc              filterobject.o          hlistobject.o           psp_string.c            tableobject.slo
_apachemodule.c         filterobject.slo        hlistobject.slo         requestobject.c         util.c
_apachemodule.lo        finfoobject.c           include                 requestobject.lo        util.lo
_apachemodule.o         finfoobject.lo          mod_python.c            requestobject.o         util.o
_apachemodule.slo       finfoobject.o           mod_python.la           requestobject.slo       util.slo
_pspmodule.c            finfoobject.slo         mod_python.lo           serverobject.c
connobject.c            hlist.c                 mod_python.o            serverobject.lo
www:src Tool$ otool -L mod_python.so
mod_python.so:
        /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 111.1.3)
        /System/Library/Frameworks/Python.framework/Versions/2.3/Python (compatibility version 2.3.0, current version 2.3.5)
        /usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)
www:src Tool$ file mod_python.so
mod_python.so: Mach-O bundle i386


PLEASE HELP.

Thanks and Regards,
Eeswar


From grisha at modpython.org  Fri Apr 17 14:37:06 2009
From: grisha at modpython.org (Emilia Romo)
Date: Fri Apr 17 13:37:30 2009
Subject: [mod_python] [SPAM] Inexpensive Longines watches
Message-ID: <9772uim565990XAILgrisha@modpython.org>

A fine designer watch says means refinement and money. A fine, non-expensive designer watch also means intelligence!
http://www.sohizopuj.cn

At Diam0nd Reps you will find exactly the watch you're looking for, at prices that will make you blink twice. That's right! Here you can get a Rolex, a Breitling, a Tag or pretty much every fine brand timepiece for less than ten percent their original price!
http://www.sohizopuj.cn

Only Diam0nd Reps offers you unsurpassed quality and award-winning customer service. So, what are you waiting for?





From graham.dumpleton at gmail.com  Fri Apr 17 18:15:36 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Fri Apr 17 18:15:39 2009
Subject: [mod_python] mod_python: How-to Resolve Python Version conflicts
In-Reply-To: <422D390FE3F94B47B2D145726F017C4C6BF7F26C3C@MAIL3.VIJ.PB.com>
References: <422D390FE3F94B47B2D145726F017C4C6BF7F26C3C@MAIL3.VIJ.PB.com>
Message-ID: <88e286470904171515y321e88c7y4b31e20fb376db7@mail.gmail.com>

You may well have screwed up your operating system Python
installation. You should never install separate Python versions under
/System/Library as that is reserved for operating system supplied
packages. You should also never change /usr/bin/python to put at some
other version because if operating system functions are dependent on
the version that was there previously, you will cause those bits of
the operating system to fail.

Since your operating system is now in such an unknown state of
functioning, there isn't probably much point trying to pursue why you
have problems.

Next time install the alternate Python under /Library or better still
/usr/local and don't stuff with /usr/bin/python. Then as per
instructions for mod_python, use the --with-python option to configure
script to say which version of Python you want to use rather than
trying to hand edit things as you likely aren't changing everything
that would need to be different when different Python version used.

Graham

2009/4/18 Eeswar Kameswara Rao <eeswar@pbsystems.com>:
> Hello All,
>
> I am new to this list. I am having trouble to access the archives.
>
> Here is my problem. PLEASE HELP.
>
> ISSUE
> ---------
> 1. After I do "make && sudo make install" I get a mod_python.so in the src and .libs directories
> 2. When I do a 'otool -L ./mod_python.so' ?it reports
> www:src Tool$ otool -L mod_python.so
> mod_python.so:
> ? ? ? ?/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 111.1.3)
> ? ? ? ?/System/Library/Frameworks/Python.framework/Versions/2.3/Python (compatibility version 2.3.0, current version 2.3.5)
> ? ? ? ?/usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)
>
> SCENARIO
> ---------------
> 1. H/W - Intel Core2Duo MacBook laptop
> 2. I have two versions of Python i.e. 2.3 and 2.5.1
> 3. Python 2.3 path is /System/Library/Frameworks/Python.framework/Versions/2.3/
> 4. Python2.3 executable is in /usr/local/sbin
> 5. Python2.5 path is /System/Library/Frameworks/Python.framework/Versions/2.5/
> 6. Python2.5 Executable is in /usr/bin
> 7. Apache version 2.0 is enabled in 32-bit mode (reconfigured the apache plist for 32-bit)
> 8. Ran .sudo ./configure --with-python=/usr/bin/python2.5
> 9. Added to Makefile with library path pointing to Python2.5 in LDFLAGS
> 10. Added to Makefile '-arch i386' to LDFLAGS, CFLAGS and under mod_python.so
> 11. After doing a "make && sudo make install" I get a mod_python.so built with Python2.3 framework (????)
>
> I want this mod_python to be Python2.5 compliant ONLY.
>
> So all my Python web apps crash. Error_logs report version conflicts.
>
> Below is the listing from "make && sudo make install'
>
> www:mod_python-3.3.1 Tool$ make && sudo make install
>
> Compiling for DSO.
>
> /usr/sbin/apxs -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 -c -Wc,"-arch i386" mod_python.c _apachemodule.c requestobject.c tableobject.c util.c serverobject.c connobject.c filterobject.c hlist.c hlistobject.c finfoobject.c -Wl,-framework,Python ?-u _PyMac_Error -framework Python ? -Wl,-F/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5 -arch i386 ? -lm ?-framework ?Python ? ?-ldl
> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o mod_python.lo mod_python.c && touch mod_python.slo
> mod_python.c: In function 'python_init':
> mod_python.c:826: warning: initialization from incompatible pointer type
> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o _apachemodule.lo _apachemodule.c && touch _apachemodule.slo
> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o requestobject.lo requestobject.c && touch requestobject.slo
> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o tableobject.lo tableobject.c && touch tableobject.slo
> tableobject.c:329: warning: initialization from incompatible pointer type
> tableobject.c:1092: warning: initialization from incompatible pointer type
> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o util.lo util.c && touch util.slo
> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o serverobject.lo serverobject.c && touch serverobject.slo
> serverobject.c:387: warning: initialization from incompatible pointer type
> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o connobject.lo connobject.c && touch connobject.slo
> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o filterobject.lo filterobject.c && touch filterobject.slo
> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o hlist.lo hlist.c && touch hlist.slo
> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o hlistobject.lo hlistobject.c && touch hlistobject.slo
> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o finfoobject.lo finfoobject.c && touch finfoobject.slo
> finfoobject.c:278: warning: 'intargfunc' is deprecated
> finfoobject.c:278: warning: initialization from incompatible pointer type
> /usr/share/apr-1/build-1/libtool --silent --mode=link gcc -o mod_python.la ?-rpath /usr/libexec/apache2 -module -avoid-version ? ?finfoobject.lo hlistobject.lo hlist.lo filterobject.lo connobject.lo serverobject.lo util.lo tableobject.lo requestobject.lo _apachemodule.lo mod_python.lo -Wl,-framework,Python -u _PyMac_Error -framework Python -Wl,-F/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5 -arch i386 -lm -framework Python -ldl
> make[2]: `psp_parser.c' is up to date.
> /usr/bin/python2.5 setup.py build
> running build
> running build_py
> running build_ext
>
> Now su and make install
> ?(or, if you only want to perform a partial install,
> ? you can use make install_dso and make install_py_lib)
>
> Password:
> make[3]: `psp_parser.c' is up to date.
> /usr/bin/python2.5 setup.py build
> running build
> running build_py
> running build_ext
>
> Now su and make install
> ?(or, if you only want to perform a partial install,
> ? you can use make install_dso and make install_py_lib)
>
>
> Performing DSO installation.
>
> /usr/bin/install -c -d /usr/libexec/apache2
> /usr/bin/install -c src/mod_python.so /usr/libexec/apache2
>
> Now don't forget to edit your main config and add
> ? ?LoadModule python_module /usr/libexec/apache2/mod_python.so
> and if your configuration uses ClearModuleList, then also
> ? ?AddModule mod_python.c
>
> cd dist && make install_py_lib
> make[3]: `psp_parser.c' is up to date.
> if test -z "" ; then \
> ? ? ? ? ? ? ? ?/usr/bin/python2.5 setup.py install --optimize 2 --force ; \
> ? ? ? ?else \
> ? ? ? ? ? ? ? ?/usr/bin/python2.5 setup.py install --optimize 2 --force --root ?; \
> ? ? ? ?fi
> running install
> running build
> running build_py
> running build_ext
> running install_lib
> copying build/lib.macosx-10.5-i386-2.5/mod_python/__init__.py -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/_psp.so -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/apache.py -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/cache.py -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/cgihandler.py -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/Cookie.py -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/importer.py -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/psp.py -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/publisher.py -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/python22.py -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/Session.py -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/testhandler.py -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/util.py -> /Library/Python/2.5/site-packages/mod_python
> byte-compiling /Library/Python/2.5/site-packages/mod_python/__init__.py to __init__.pyc
> byte-compiling /Library/Python/2.5/site-packages/mod_python/apache.py to apache.pyc
> byte-compiling /Library/Python/2.5/site-packages/mod_python/cache.py to cache.pyc
> byte-compiling /Library/Python/2.5/site-packages/mod_python/cgihandler.py to cgihandler.pyc
> byte-compiling /Library/Python/2.5/site-packages/mod_python/Cookie.py to Cookie.pyc
> byte-compiling /Library/Python/2.5/site-packages/mod_python/importer.py to importer.pyc
> byte-compiling /Library/Python/2.5/site-packages/mod_python/psp.py to psp.pyc
> byte-compiling /Library/Python/2.5/site-packages/mod_python/publisher.py to publisher.pyc
> byte-compiling /Library/Python/2.5/site-packages/mod_python/python22.py to python22.pyc
> byte-compiling /Library/Python/2.5/site-packages/mod_python/Session.py to Session.pyc
> byte-compiling /Library/Python/2.5/site-packages/mod_python/testhandler.py to testhandler.pyc
> byte-compiling /Library/Python/2.5/site-packages/mod_python/util.py to util.pyc
> writing byte-compilation script '/tmp/tmpG6QrK-.py'
> /System/Library/Frameworks/Python.framework/Versions/2.5/Resources/Python.app/Contents/MacOS/Python -OO /tmp/tmpG6QrK-.py
> removing /tmp/tmpG6QrK-.py
> running install_egg_info
> Removing /Library/Python/2.5/site-packages/mod_python-3.3.1-py2.5.egg-info
> Writing /Library/Python/2.5/site-packages/mod_python-3.3.1-py2.5.egg-info
> www:mod_python-3.3.1 Tool$ cd src
> www:src Tool$ ls
> Makefile ? ? ? ? ? ? ? ?connobject.lo ? ? ? ? ? hlist.lo ? ? ? ? ? ? ? ?mod_python.slo ? ? ? ? ?serverobject.o
> Makefile.in ? ? ? ? ? ? connobject.o ? ? ? ? ? ?hlist.o ? ? ? ? ? ? ? ? mod_python.so ? ? ? ? ? serverobject.slo
> Makefile.txt ? ? ? ? ? ?connobject.slo ? ? ? ? ?hlist.slo ? ? ? ? ? ? ? mod_python.vcproj ? ? ? tableobject.c
> Makefile_bak ? ? ? ? ? ?filterobject.c ? ? ? ? ?hlistobject.c ? ? ? ? ? psp_parser.c ? ? ? ? ? ?tableobject.lo
> Makefile_bak_16MAR ? ? ?filterobject.lo ? ? ? ? hlistobject.lo ? ? ? ? ?psp_parser.l ? ? ? ? ? ?tableobject.o
> Version.rc ? ? ? ? ? ? ?filterobject.o ? ? ? ? ?hlistobject.o ? ? ? ? ? psp_string.c ? ? ? ? ? ?tableobject.slo
> _apachemodule.c ? ? ? ? filterobject.slo ? ? ? ?hlistobject.slo ? ? ? ? requestobject.c ? ? ? ? util.c
> _apachemodule.lo ? ? ? ?finfoobject.c ? ? ? ? ? include ? ? ? ? ? ? ? ? requestobject.lo ? ? ? ?util.lo
> _apachemodule.o ? ? ? ? finfoobject.lo ? ? ? ? ?mod_python.c ? ? ? ? ? ?requestobject.o ? ? ? ? util.o
> _apachemodule.slo ? ? ? finfoobject.o ? ? ? ? ? mod_python.la ? ? ? ? ? requestobject.slo ? ? ? util.slo
> _pspmodule.c ? ? ? ? ? ?finfoobject.slo ? ? ? ? mod_python.lo ? ? ? ? ? serverobject.c
> connobject.c ? ? ? ? ? ?hlist.c ? ? ? ? ? ? ? ? mod_python.o ? ? ? ? ? ?serverobject.lo
> www:src Tool$ otool -L mod_python.so
> mod_python.so:
> ? ? ? ?/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 111.1.3)
> ? ? ? ?/System/Library/Frameworks/Python.framework/Versions/2.3/Python (compatibility version 2.3.0, current version 2.3.5)
> ? ? ? ?/usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)
> www:src Tool$ file mod_python.so
> mod_python.so: Mach-O bundle i386
>
>
> PLEASE HELP.
>
> Thanks and Regards,
> Eeswar
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>

From graham.dumpleton at gmail.com  Fri Apr 17 19:42:26 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Fri Apr 17 19:42:35 2009
Subject: [mod_python] mod_python: How-to Resolve Python Version conflicts
In-Reply-To: <afe93cfd0904171605o50c8601ai6d76c4bcdca3ebcd@mail.gmail.com>
References: <422D390FE3F94B47B2D145726F017C4C6BF7F26C3C@MAIL3.VIJ.PB.com>
	<88e286470904171515y321e88c7y4b31e20fb376db7@mail.gmail.com>
	<afe93cfd0904171605o50c8601ai6d76c4bcdca3ebcd@mail.gmail.com>
Message-ID: <88e286470904171642g3e4cb0c1g5013b5defde4ce54@mail.gmail.com>

2009/4/18 Andrew Smith <andy@robotlovesyou.com>:
> Actually, to my knowledge, OS X 10.5 comes with python 2.5 and python 2.3
> installed by default. At least that is the way it appears to be on my
> system.

It does and it doesn't. The 2.3 version can't be run as command line
instance and bits are missing such that you cannot even compile
against it for an embedded system. It is only of use where you have
brought an embedded system binary from Tiger which was compiled
against it on Tiger.

Thus, 2.3 on Leopard should be completely ignored. That you were even
mentioning it made me wrongly thing you had done something wrong with
your system. That is, so completely ignore 2.3 on Leopard that I had
forgot it was there.

> Eeswar, which version of OS X are you running?

Tiger and Leopard.

> What is the output if you run
>
> python -V

$ python -V
Python 2.5.1

> at the command line
>
> what is the output if you
>
> cd /usr/bin
> ls -l py*

For Leopard.

$ ls -las py*
8 lrwxr-xr-x  1 root  wheel  71 16 Nov  2007 pydoc ->
../../System/Library/Frameworks/Python.framework/Versions/2.5/bin/pydoc
8 lrwxr-xr-x  1 root  wheel  74 16 Nov  2007 pydoc2.5 ->
../../System/Library/Frameworks/Python.framework/Versions/2.5/bin/pydoc2.5
8 lrwxr-xr-x  1 root  wheel  72 16 Nov  2007 python ->
../../System/Library/Frameworks/Python.framework/Versions/2.5/bin/python
8 lrwxr-xr-x  1 root  wheel  79 16 Nov  2007 python-config ->
../../System/Library/Frameworks/Python.framework/Versions/2.5/bin/python-config
8 lrwxr-xr-x  1 root  wheel  75 16 Nov  2007 python2.5 ->
../../System/Library/Frameworks/Python.framework/Versions/2.5/bin/python2.5
8 lrwxr-xr-x  1 root  wheel  82 16 Nov  2007 python2.5-config ->
../../System/Library/Frameworks/Python.framework/Versions/2.5/bin/python2.5-config
8 lrwxr-xr-x  1 root  wheel  73 16 Nov  2007 pythonw ->
../../System/Library/Frameworks/Python.framework/Versions/2.5/bin/pythonw
8 lrwxr-xr-x  1 root  wheel  76 16 Nov  2007 pythonw2.5 ->
../../System/Library/Frameworks/Python.framework/Versions/2.5/bin/pythonw2.5

This is all likely going to be the same as you have.

More importantly, what do you have for:

$ cd /System/Library/Frameworks/Python.framework/Versions

$ ls -las
total 8
0 drwxr-xr-x   5 root  wheel  170 16 Nov  2007 .
0 drwxr-xr-x   7 root  wheel  238  9 Nov 21:48 ..
0 drwxr-xr-x   7 root  wheel  238 16 Nov  2007 2.3
0 drwxr-xr-x  11 root  wheel  374 21 Feb 14:27 2.5
8 lrwxr-xr-x   1 root  wheel    3 16 Nov  2007 Current -> 2.5

If that Current link has been changed then it will pick up wrong
framework at run time and cause lots of problems.

In all, I probably think the problem is that you hand doctored
makefiles to get anything to work on Leopard and got it wong. For
example, the following is wrong:

 -framework Python
-Wl,-F/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5

So, rather than try and fudge things yourself, just check out latest
version of mod_python from subversion repository.

  svn co https://svn.apache.org/repos/asf/quetzalcoatl/mod_python/trunk
mod_python-trunk

and use it as it has fixes to work on Leopard.

If you don't actually need features of mod_python and just want to
host Django, Trac or some other WSGI capable application, use mod_wsgi
instead.

BTW, please use reply-all and keep followups on list.

Graham

> Andy
>
> 2009/4/17 Graham Dumpleton <graham.dumpleton@gmail.com>
>>
>> You may well have screwed up your operating system Python
>> installation. You should never install separate Python versions under
>> /System/Library as that is reserved for operating system supplied
>> packages. You should also never change /usr/bin/python to put at some
>> other version because if operating system functions are dependent on
>> the version that was there previously, you will cause those bits of
>> the operating system to fail.
>>
>> Since your operating system is now in such an unknown state of
>> functioning, there isn't probably much point trying to pursue why you
>> have problems.
>>
>> Next time install the alternate Python under /Library or better still
>> /usr/local and don't stuff with /usr/bin/python. Then as per
>> instructions for mod_python, use the --with-python option to configure
>> script to say which version of Python you want to use rather than
>> trying to hand edit things as you likely aren't changing everything
>> that would need to be different when different Python version used.
>>
>> Graham
>>
>> 2009/4/18 Eeswar Kameswara Rao <eeswar@pbsystems.com>:
>> > Hello All,
>> >
>> > I am new to this list. I am having trouble to access the archives.
>> >
>> > Here is my problem. PLEASE HELP.
>> >
>> > ISSUE
>> > ---------
>> > 1. After I do "make && sudo make install" I get a mod_python.so in the
>> > src and .libs directories
>> > 2. When I do a 'otool -L ./mod_python.so' ?it reports
>> > www:src Tool$ otool -L mod_python.so
>> > mod_python.so:
>> > ? ? ? ?/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current
>> > version 111.1.3)
>> > ? ? ? ?/System/Library/Frameworks/Python.framework/Versions/2.3/Python
>> > (compatibility version 2.3.0, current version 2.3.5)
>> > ? ? ? ?/usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current
>> > version 1.0.0)
>> >
>> > SCENARIO
>> > ---------------
>> > 1. H/W - Intel Core2Duo MacBook laptop
>> > 2. I have two versions of Python i.e. 2.3 and 2.5.1
>> > 3. Python 2.3 path is
>> > /System/Library/Frameworks/Python.framework/Versions/2.3/
>> > 4. Python2.3 executable is in /usr/local/sbin
>> > 5. Python2.5 path is
>> > /System/Library/Frameworks/Python.framework/Versions/2.5/
>> > 6. Python2.5 Executable is in /usr/bin
>> > 7. Apache version 2.0 is enabled in 32-bit mode (reconfigured the apache
>> > plist for 32-bit)
>> > 8. Ran .sudo ./configure --with-python=/usr/bin/python2.5
>> > 9. Added to Makefile with library path pointing to Python2.5 in LDFLAGS
>> > 10. Added to Makefile '-arch i386' to LDFLAGS, CFLAGS and under
>> > mod_python.so
>> > 11. After doing a "make && sudo make install" I get a mod_python.so
>> > built with Python2.3 framework (????)
>> >
>> > I want this mod_python to be Python2.5 compliant ONLY.
>> >
>> > So all my Python web apps crash. Error_logs report version conflicts.
>> >
>> > Below is the listing from "make && sudo make install'
>> >
>> > www:mod_python-3.3.1 Tool$ make && sudo make install
>> >
>> > Compiling for DSO.
>> >
>> > /usr/sbin/apxs -I/Users/Tool/mod_python-3.3.1/src/include
>> > -I/usr/include/apache2
>> > -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5
>> > -c -Wc,"-arch i386" mod_python.c _apachemodule.c requestobject.c
>> > tableobject.c util.c serverobject.c connobject.c filterobject.c hlist.c
>> > hlistobject.c finfoobject.c -Wl,-framework,Python ?-u _PyMac_Error
>> > -framework Python
>> > -Wl,-F/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5
>> > -arch i386 ? -lm ?-framework ?Python ? ?-ldl
>> > /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN
>> > -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
>> > ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386
>> > -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2
>> > -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5
>> > ?-c -o mod_python.lo mod_python.c && touch mod_python.slo
>> > mod_python.c: In function 'python_init':
>> > mod_python.c:826: warning: initialization from incompatible pointer type
>> > /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN
>> > -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
>> > ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386
>> > -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2
>> > -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5
>> > ?-c -o _apachemodule.lo _apachemodule.c && touch _apachemodule.slo
>> > /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN
>> > -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
>> > ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386
>> > -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2
>> > -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5
>> > ?-c -o requestobject.lo requestobject.c && touch requestobject.slo
>> > /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN
>> > -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
>> > ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386
>> > -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2
>> > -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5
>> > ?-c -o tableobject.lo tableobject.c && touch tableobject.slo
>> > tableobject.c:329: warning: initialization from incompatible pointer
>> > type
>> > tableobject.c:1092: warning: initialization from incompatible pointer
>> > type
>> > /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN
>> > -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
>> > ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386
>> > -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2
>> > -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5
>> > ?-c -o util.lo util.c && touch util.slo
>> > /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN
>> > -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
>> > ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386
>> > -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2
>> > -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5
>> > ?-c -o serverobject.lo serverobject.c && touch serverobject.slo
>> > serverobject.c:387: warning: initialization from incompatible pointer
>> > type
>> > /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN
>> > -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
>> > ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386
>> > -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2
>> > -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5
>> > ?-c -o connobject.lo connobject.c && touch connobject.slo
>> > /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN
>> > -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
>> > ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386
>> > -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2
>> > -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5
>> > ?-c -o filterobject.lo filterobject.c && touch filterobject.slo
>> > /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN
>> > -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
>> > ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386
>> > -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2
>> > -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5
>> > ?-c -o hlist.lo hlist.c && touch hlist.slo
>> > /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN
>> > -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
>> > ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386
>> > -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2
>> > -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5
>> > ?-c -o hlistobject.lo hlistobject.c && touch hlistobject.slo
>> > /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN
>> > -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
>> > ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386
>> > -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2
>> > -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5
>> > ?-c -o finfoobject.lo finfoobject.c && touch finfoobject.slo
>> > finfoobject.c:278: warning: 'intargfunc' is deprecated
>> > finfoobject.c:278: warning: initialization from incompatible pointer
>> > type
>> > /usr/share/apr-1/build-1/libtool --silent --mode=link gcc -o
>> > mod_python.la ?-rpath /usr/libexec/apache2 -module -avoid-version
>> > ?finfoobject.lo hlistobject.lo hlist.lo filterobject.lo connobject.lo
>> > serverobject.lo util.lo tableobject.lo requestobject.lo _apachemodule.lo
>> > mod_python.lo -Wl,-framework,Python -u _PyMac_Error -framework Python
>> > -Wl,-F/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5
>> > -arch i386 -lm -framework Python -ldl
>> > make[2]: `psp_parser.c' is up to date.
>> > /usr/bin/python2.5 setup.py build
>> > running build
>> > running build_py
>> > running build_ext
>> >
>> > Now su and make install
>> > ?(or, if you only want to perform a partial install,
>> > ? you can use make install_dso and make install_py_lib)
>> >
>> > Password:
>> > make[3]: `psp_parser.c' is up to date.
>> > /usr/bin/python2.5 setup.py build
>> > running build
>> > running build_py
>> > running build_ext
>> >
>> > Now su and make install
>> > ?(or, if you only want to perform a partial install,
>> > ? you can use make install_dso and make install_py_lib)
>> >
>> >
>> > Performing DSO installation.
>> >
>> > /usr/bin/install -c -d /usr/libexec/apache2
>> > /usr/bin/install -c src/mod_python.so /usr/libexec/apache2
>> >
>> > Now don't forget to edit your main config and add
>> > ? ?LoadModule python_module /usr/libexec/apache2/mod_python.so
>> > and if your configuration uses ClearModuleList, then also
>> > ? ?AddModule mod_python.c
>> >
>> > cd dist && make install_py_lib
>> > make[3]: `psp_parser.c' is up to date.
>> > if test -z "" ; then \
>> > ? ? ? ? ? ? ? ?/usr/bin/python2.5 setup.py install --optimize 2 --force
>> > ; \
>> > ? ? ? ?else \
>> > ? ? ? ? ? ? ? ?/usr/bin/python2.5 setup.py install --optimize 2 --force
>> > --root ?; \
>> > ? ? ? ?fi
>> > running install
>> > running build
>> > running build_py
>> > running build_ext
>> > running install_lib
>> > copying build/lib.macosx-10.5-i386-2.5/mod_python/__init__.py ->
>> > /Library/Python/2.5/site-packages/mod_python
>> > copying build/lib.macosx-10.5-i386-2.5/mod_python/_psp.so ->
>> > /Library/Python/2.5/site-packages/mod_python
>> > copying build/lib.macosx-10.5-i386-2.5/mod_python/apache.py ->
>> > /Library/Python/2.5/site-packages/mod_python
>> > copying build/lib.macosx-10.5-i386-2.5/mod_python/cache.py ->
>> > /Library/Python/2.5/site-packages/mod_python
>> > copying build/lib.macosx-10.5-i386-2.5/mod_python/cgihandler.py ->
>> > /Library/Python/2.5/site-packages/mod_python
>> > copying build/lib.macosx-10.5-i386-2.5/mod_python/Cookie.py ->
>> > /Library/Python/2.5/site-packages/mod_python
>> > copying build/lib.macosx-10.5-i386-2.5/mod_python/importer.py ->
>> > /Library/Python/2.5/site-packages/mod_python
>> > copying build/lib.macosx-10.5-i386-2.5/mod_python/psp.py ->
>> > /Library/Python/2.5/site-packages/mod_python
>> > copying build/lib.macosx-10.5-i386-2.5/mod_python/publisher.py ->
>> > /Library/Python/2.5/site-packages/mod_python
>> > copying build/lib.macosx-10.5-i386-2.5/mod_python/python22.py ->
>> > /Library/Python/2.5/site-packages/mod_python
>> > copying build/lib.macosx-10.5-i386-2.5/mod_python/Session.py ->
>> > /Library/Python/2.5/site-packages/mod_python
>> > copying build/lib.macosx-10.5-i386-2.5/mod_python/testhandler.py ->
>> > /Library/Python/2.5/site-packages/mod_python
>> > copying build/lib.macosx-10.5-i386-2.5/mod_python/util.py ->
>> > /Library/Python/2.5/site-packages/mod_python
>> > byte-compiling /Library/Python/2.5/site-packages/mod_python/__init__.py
>> > to __init__.pyc
>> > byte-compiling /Library/Python/2.5/site-packages/mod_python/apache.py to
>> > apache.pyc
>> > byte-compiling /Library/Python/2.5/site-packages/mod_python/cache.py to
>> > cache.pyc
>> > byte-compiling
>> > /Library/Python/2.5/site-packages/mod_python/cgihandler.py to cgihandler.pyc
>> > byte-compiling /Library/Python/2.5/site-packages/mod_python/Cookie.py to
>> > Cookie.pyc
>> > byte-compiling /Library/Python/2.5/site-packages/mod_python/importer.py
>> > to importer.pyc
>> > byte-compiling /Library/Python/2.5/site-packages/mod_python/psp.py to
>> > psp.pyc
>> > byte-compiling /Library/Python/2.5/site-packages/mod_python/publisher.py
>> > to publisher.pyc
>> > byte-compiling /Library/Python/2.5/site-packages/mod_python/python22.py
>> > to python22.pyc
>> > byte-compiling /Library/Python/2.5/site-packages/mod_python/Session.py
>> > to Session.pyc
>> > byte-compiling
>> > /Library/Python/2.5/site-packages/mod_python/testhandler.py to
>> > testhandler.pyc
>> > byte-compiling /Library/Python/2.5/site-packages/mod_python/util.py to
>> > util.pyc
>> > writing byte-compilation script '/tmp/tmpG6QrK-.py'
>> >
>> > /System/Library/Frameworks/Python.framework/Versions/2.5/Resources/Python.app/Contents/MacOS/Python
>> > -OO /tmp/tmpG6QrK-.py
>> > removing /tmp/tmpG6QrK-.py
>> > running install_egg_info
>> > Removing
>> > /Library/Python/2.5/site-packages/mod_python-3.3.1-py2.5.egg-info
>> > Writing
>> > /Library/Python/2.5/site-packages/mod_python-3.3.1-py2.5.egg-info
>> > www:mod_python-3.3.1 Tool$ cd src
>> > www:src Tool$ ls
>> > Makefile ? ? ? ? ? ? ? ?connobject.lo ? ? ? ? ? hlist.lo
>> > ?mod_python.slo ? ? ? ? ?serverobject.o
>> > Makefile.in ? ? ? ? ? ? connobject.o ? ? ? ? ? ?hlist.o
>> > mod_python.so ? ? ? ? ? serverobject.slo
>> > Makefile.txt ? ? ? ? ? ?connobject.slo ? ? ? ? ?hlist.slo
>> > mod_python.vcproj ? ? ? tableobject.c
>> > Makefile_bak ? ? ? ? ? ?filterobject.c ? ? ? ? ?hlistobject.c
>> > psp_parser.c ? ? ? ? ? ?tableobject.lo
>> > Makefile_bak_16MAR ? ? ?filterobject.lo ? ? ? ? hlistobject.lo
>> > ?psp_parser.l ? ? ? ? ? ?tableobject.o
>> > Version.rc ? ? ? ? ? ? ?filterobject.o ? ? ? ? ?hlistobject.o
>> > psp_string.c ? ? ? ? ? ?tableobject.slo
>> > _apachemodule.c ? ? ? ? filterobject.slo ? ? ? ?hlistobject.slo
>> > requestobject.c ? ? ? ? util.c
>> > _apachemodule.lo ? ? ? ?finfoobject.c ? ? ? ? ? include
>> > requestobject.lo ? ? ? ?util.lo
>> > _apachemodule.o ? ? ? ? finfoobject.lo ? ? ? ? ?mod_python.c
>> > ?requestobject.o ? ? ? ? util.o
>> > _apachemodule.slo ? ? ? finfoobject.o ? ? ? ? ? mod_python.la
>> > requestobject.slo ? ? ? util.slo
>> > _pspmodule.c ? ? ? ? ? ?finfoobject.slo ? ? ? ? mod_python.lo
>> > serverobject.c
>> > connobject.c ? ? ? ? ? ?hlist.c ? ? ? ? ? ? ? ? mod_python.o
>> > ?serverobject.lo
>> > www:src Tool$ otool -L mod_python.so
>> > mod_python.so:
>> > ? ? ? ?/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current
>> > version 111.1.3)
>> > ? ? ? ?/System/Library/Frameworks/Python.framework/Versions/2.3/Python
>> > (compatibility version 2.3.0, current version 2.3.5)
>> > ? ? ? ?/usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current
>> > version 1.0.0)
>> > www:src Tool$ file mod_python.so
>> > mod_python.so: Mach-O bundle i386
>> >
>> >
>> > PLEASE HELP.
>> >
>> > Thanks and Regards,
>> > Eeswar
>> >
>> >
>> > _______________________________________________
>> > Mod_python mailing list
>> > Mod_python@modpython.org
>> > http://mailman.modpython.org/mailman/listinfo/mod_python
>> >
>>
>> _______________________________________________
>> Mod_python mailing list
>> Mod_python@modpython.org
>> http://mailman.modpython.org/mailman/listinfo/mod_python
>
>

From graham.dumpleton at gmail.com  Fri Apr 17 19:50:46 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Fri Apr 17 19:50:49 2009
Subject: [mod_python] mod_python: How-to Resolve Python Version conflicts
In-Reply-To: <88e286470904171642g3e4cb0c1g5013b5defde4ce54@mail.gmail.com>
References: <422D390FE3F94B47B2D145726F017C4C6BF7F26C3C@MAIL3.VIJ.PB.com>
	<88e286470904171515y321e88c7y4b31e20fb376db7@mail.gmail.com>
	<afe93cfd0904171605o50c8601ai6d76c4bcdca3ebcd@mail.gmail.com>
	<88e286470904171642g3e4cb0c1g5013b5defde4ce54@mail.gmail.com>
Message-ID: <88e286470904171650q47569aacsaa44ae026492ba82@mail.gmail.com>

Whoops, didn't even notice this wasn't the original poster, so more
confusion. Anyway, they raised a valid point which I had forgotten
about, which was that there is a partial installation of 2.3 on
Leopard.

The advice of using mod_python source from subversion still stands. If
there is still an issue then, I would be concerned about that Current
link in Python framework directory.

Graham

2009/4/18 Graham Dumpleton <graham.dumpleton@gmail.com>:
> 2009/4/18 Andrew Smith <andy@robotlovesyou.com>:
>> Actually, to my knowledge, OS X 10.5 comes with python 2.5 and python 2.3
>> installed by default. At least that is the way it appears to be on my
>> system.
>
> It does and it doesn't. The 2.3 version can't be run as command line
> instance and bits are missing such that you cannot even compile
> against it for an embedded system. It is only of use where you have
> brought an embedded system binary from Tiger which was compiled
> against it on Tiger.
>
> Thus, 2.3 on Leopard should be completely ignored. That you were even
> mentioning it made me wrongly thing you had done something wrong with
> your system. That is, so completely ignore 2.3 on Leopard that I had
> forgot it was there.
>
>> Eeswar, which version of OS X are you running?
>
> Tiger and Leopard.
>
>> What is the output if you run
>>
>> python -V
>
> $ python -V
> Python 2.5.1
>
>> at the command line
>>
>> what is the output if you
>>
>> cd /usr/bin
>> ls -l py*
>
> For Leopard.
>
> $ ls -las py*
> 8 lrwxr-xr-x ?1 root ?wheel ?71 16 Nov ?2007 pydoc ->
> ../../System/Library/Frameworks/Python.framework/Versions/2.5/bin/pydoc
> 8 lrwxr-xr-x ?1 root ?wheel ?74 16 Nov ?2007 pydoc2.5 ->
> ../../System/Library/Frameworks/Python.framework/Versions/2.5/bin/pydoc2.5
> 8 lrwxr-xr-x ?1 root ?wheel ?72 16 Nov ?2007 python ->
> ../../System/Library/Frameworks/Python.framework/Versions/2.5/bin/python
> 8 lrwxr-xr-x ?1 root ?wheel ?79 16 Nov ?2007 python-config ->
> ../../System/Library/Frameworks/Python.framework/Versions/2.5/bin/python-config
> 8 lrwxr-xr-x ?1 root ?wheel ?75 16 Nov ?2007 python2.5 ->
> ../../System/Library/Frameworks/Python.framework/Versions/2.5/bin/python2.5
> 8 lrwxr-xr-x ?1 root ?wheel ?82 16 Nov ?2007 python2.5-config ->
> ../../System/Library/Frameworks/Python.framework/Versions/2.5/bin/python2.5-config
> 8 lrwxr-xr-x ?1 root ?wheel ?73 16 Nov ?2007 pythonw ->
> ../../System/Library/Frameworks/Python.framework/Versions/2.5/bin/pythonw
> 8 lrwxr-xr-x ?1 root ?wheel ?76 16 Nov ?2007 pythonw2.5 ->
> ../../System/Library/Frameworks/Python.framework/Versions/2.5/bin/pythonw2.5
>
> This is all likely going to be the same as you have.
>
> More importantly, what do you have for:
>
> $ cd /System/Library/Frameworks/Python.framework/Versions
>
> $ ls -las
> total 8
> 0 drwxr-xr-x ? 5 root ?wheel ?170 16 Nov ?2007 .
> 0 drwxr-xr-x ? 7 root ?wheel ?238 ?9 Nov 21:48 ..
> 0 drwxr-xr-x ? 7 root ?wheel ?238 16 Nov ?2007 2.3
> 0 drwxr-xr-x ?11 root ?wheel ?374 21 Feb 14:27 2.5
> 8 lrwxr-xr-x ? 1 root ?wheel ? ?3 16 Nov ?2007 Current -> 2.5
>
> If that Current link has been changed then it will pick up wrong
> framework at run time and cause lots of problems.
>
> In all, I probably think the problem is that you hand doctored
> makefiles to get anything to work on Leopard and got it wong. For
> example, the following is wrong:
>
> ?-framework Python
> -Wl,-F/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5
>
> So, rather than try and fudge things yourself, just check out latest
> version of mod_python from subversion repository.
>
> ?svn co https://svn.apache.org/repos/asf/quetzalcoatl/mod_python/trunk
> mod_python-trunk
>
> and use it as it has fixes to work on Leopard.
>
> If you don't actually need features of mod_python and just want to
> host Django, Trac or some other WSGI capable application, use mod_wsgi
> instead.
>
> BTW, please use reply-all and keep followups on list.
>
> Graham
>
>> Andy
>>
>> 2009/4/17 Graham Dumpleton <graham.dumpleton@gmail.com>
>>>
>>> You may well have screwed up your operating system Python
>>> installation. You should never install separate Python versions under
>>> /System/Library as that is reserved for operating system supplied
>>> packages. You should also never change /usr/bin/python to put at some
>>> other version because if operating system functions are dependent on
>>> the version that was there previously, you will cause those bits of
>>> the operating system to fail.
>>>
>>> Since your operating system is now in such an unknown state of
>>> functioning, there isn't probably much point trying to pursue why you
>>> have problems.
>>>
>>> Next time install the alternate Python under /Library or better still
>>> /usr/local and don't stuff with /usr/bin/python. Then as per
>>> instructions for mod_python, use the --with-python option to configure
>>> script to say which version of Python you want to use rather than
>>> trying to hand edit things as you likely aren't changing everything
>>> that would need to be different when different Python version used.
>>>
>>> Graham
>>>
>>> 2009/4/18 Eeswar Kameswara Rao <eeswar@pbsystems.com>:
>>> > Hello All,
>>> >
>>> > I am new to this list. I am having trouble to access the archives.
>>> >
>>> > Here is my problem. PLEASE HELP.
>>> >
>>> > ISSUE
>>> > ---------
>>> > 1. After I do "make && sudo make install" I get a mod_python.so in the
>>> > src and .libs directories
>>> > 2. When I do a 'otool -L ./mod_python.so' ?it reports
>>> > www:src Tool$ otool -L mod_python.so
>>> > mod_python.so:
>>> > ? ? ? ?/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current
>>> > version 111.1.3)
>>> > ? ? ? ?/System/Library/Frameworks/Python.framework/Versions/2.3/Python
>>> > (compatibility version 2.3.0, current version 2.3.5)
>>> > ? ? ? ?/usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current
>>> > version 1.0.0)
>>> >
>>> > SCENARIO
>>> > ---------------
>>> > 1. H/W - Intel Core2Duo MacBook laptop
>>> > 2. I have two versions of Python i.e. 2.3 and 2.5.1
>>> > 3. Python 2.3 path is
>>> > /System/Library/Frameworks/Python.framework/Versions/2.3/
>>> > 4. Python2.3 executable is in /usr/local/sbin
>>> > 5. Python2.5 path is
>>> > /System/Library/Frameworks/Python.framework/Versions/2.5/
>>> > 6. Python2.5 Executable is in /usr/bin
>>> > 7. Apache version 2.0 is enabled in 32-bit mode (reconfigured the apache
>>> > plist for 32-bit)
>>> > 8. Ran .sudo ./configure --with-python=/usr/bin/python2.5
>>> > 9. Added to Makefile with library path pointing to Python2.5 in LDFLAGS
>>> > 10. Added to Makefile '-arch i386' to LDFLAGS, CFLAGS and under
>>> > mod_python.so
>>> > 11. After doing a "make && sudo make install" I get a mod_python.so
>>> > built with Python2.3 framework (????)
>>> >
>>> > I want this mod_python to be Python2.5 compliant ONLY.
>>> >
>>> > So all my Python web apps crash. Error_logs report version conflicts.
>>> >
>>> > Below is the listing from "make && sudo make install'
>>> >
>>> > www:mod_python-3.3.1 Tool$ make && sudo make install
>>> >
>>> > Compiling for DSO.
>>> >
>>> > /usr/sbin/apxs -I/Users/Tool/mod_python-3.3.1/src/include
>>> > -I/usr/include/apache2
>>> > -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5
>>> > -c -Wc,"-arch i386" mod_python.c _apachemodule.c requestobject.c
>>> > tableobject.c util.c serverobject.c connobject.c filterobject.c hlist.c
>>> > hlistobject.c finfoobject.c -Wl,-framework,Python ?-u _PyMac_Error
>>> > -framework Python
>>> > -Wl,-F/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5
>>> > -arch i386 ? -lm ?-framework ?Python ? ?-ldl
>>> > /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN
>>> > -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
>>> > ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386
>>> > -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2
>>> > -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5
>>> > ?-c -o mod_python.lo mod_python.c && touch mod_python.slo
>>> > mod_python.c: In function 'python_init':
>>> > mod_python.c:826: warning: initialization from incompatible pointer type
>>> > /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN
>>> > -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
>>> > ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386
>>> > -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2
>>> > -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5
>>> > ?-c -o _apachemodule.lo _apachemodule.c && touch _apachemodule.slo
>>> > /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN
>>> > -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
>>> > ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386
>>> > -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2
>>> > -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5
>>> > ?-c -o requestobject.lo requestobject.c && touch requestobject.slo
>>> > /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN
>>> > -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
>>> > ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386
>>> > -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2
>>> > -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5
>>> > ?-c -o tableobject.lo tableobject.c && touch tableobject.slo
>>> > tableobject.c:329: warning: initialization from incompatible pointer
>>> > type
>>> > tableobject.c:1092: warning: initialization from incompatible pointer
>>> > type
>>> > /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN
>>> > -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
>>> > ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386
>>> > -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2
>>> > -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5
>>> > ?-c -o util.lo util.c && touch util.slo
>>> > /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN
>>> > -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
>>> > ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386
>>> > -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2
>>> > -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5
>>> > ?-c -o serverobject.lo serverobject.c && touch serverobject.slo
>>> > serverobject.c:387: warning: initialization from incompatible pointer
>>> > type
>>> > /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN
>>> > -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
>>> > ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386
>>> > -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2
>>> > -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5
>>> > ?-c -o connobject.lo connobject.c && touch connobject.slo
>>> > /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN
>>> > -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
>>> > ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386
>>> > -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2
>>> > -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5
>>> > ?-c -o filterobject.lo filterobject.c && touch filterobject.slo
>>> > /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN
>>> > -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
>>> > ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386
>>> > -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2
>>> > -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5
>>> > ?-c -o hlist.lo hlist.c && touch hlist.slo
>>> > /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN
>>> > -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
>>> > ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386
>>> > -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2
>>> > -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5
>>> > ?-c -o hlistobject.lo hlistobject.c && touch hlistobject.slo
>>> > /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN
>>> > -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
>>> > ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386
>>> > -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2
>>> > -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5
>>> > ?-c -o finfoobject.lo finfoobject.c && touch finfoobject.slo
>>> > finfoobject.c:278: warning: 'intargfunc' is deprecated
>>> > finfoobject.c:278: warning: initialization from incompatible pointer
>>> > type
>>> > /usr/share/apr-1/build-1/libtool --silent --mode=link gcc -o
>>> > mod_python.la ?-rpath /usr/libexec/apache2 -module -avoid-version
>>> > ?finfoobject.lo hlistobject.lo hlist.lo filterobject.lo connobject.lo
>>> > serverobject.lo util.lo tableobject.lo requestobject.lo _apachemodule.lo
>>> > mod_python.lo -Wl,-framework,Python -u _PyMac_Error -framework Python
>>> > -Wl,-F/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5
>>> > -arch i386 -lm -framework Python -ldl
>>> > make[2]: `psp_parser.c' is up to date.
>>> > /usr/bin/python2.5 setup.py build
>>> > running build
>>> > running build_py
>>> > running build_ext
>>> >
>>> > Now su and make install
>>> > ?(or, if you only want to perform a partial install,
>>> > ? you can use make install_dso and make install_py_lib)
>>> >
>>> > Password:
>>> > make[3]: `psp_parser.c' is up to date.
>>> > /usr/bin/python2.5 setup.py build
>>> > running build
>>> > running build_py
>>> > running build_ext
>>> >
>>> > Now su and make install
>>> > ?(or, if you only want to perform a partial install,
>>> > ? you can use make install_dso and make install_py_lib)
>>> >
>>> >
>>> > Performing DSO installation.
>>> >
>>> > /usr/bin/install -c -d /usr/libexec/apache2
>>> > /usr/bin/install -c src/mod_python.so /usr/libexec/apache2
>>> >
>>> > Now don't forget to edit your main config and add
>>> > ? ?LoadModule python_module /usr/libexec/apache2/mod_python.so
>>> > and if your configuration uses ClearModuleList, then also
>>> > ? ?AddModule mod_python.c
>>> >
>>> > cd dist && make install_py_lib
>>> > make[3]: `psp_parser.c' is up to date.
>>> > if test -z "" ; then \
>>> > ? ? ? ? ? ? ? ?/usr/bin/python2.5 setup.py install --optimize 2 --force
>>> > ; \
>>> > ? ? ? ?else \
>>> > ? ? ? ? ? ? ? ?/usr/bin/python2.5 setup.py install --optimize 2 --force
>>> > --root ?; \
>>> > ? ? ? ?fi
>>> > running install
>>> > running build
>>> > running build_py
>>> > running build_ext
>>> > running install_lib
>>> > copying build/lib.macosx-10.5-i386-2.5/mod_python/__init__.py ->
>>> > /Library/Python/2.5/site-packages/mod_python
>>> > copying build/lib.macosx-10.5-i386-2.5/mod_python/_psp.so ->
>>> > /Library/Python/2.5/site-packages/mod_python
>>> > copying build/lib.macosx-10.5-i386-2.5/mod_python/apache.py ->
>>> > /Library/Python/2.5/site-packages/mod_python
>>> > copying build/lib.macosx-10.5-i386-2.5/mod_python/cache.py ->
>>> > /Library/Python/2.5/site-packages/mod_python
>>> > copying build/lib.macosx-10.5-i386-2.5/mod_python/cgihandler.py ->
>>> > /Library/Python/2.5/site-packages/mod_python
>>> > copying build/lib.macosx-10.5-i386-2.5/mod_python/Cookie.py ->
>>> > /Library/Python/2.5/site-packages/mod_python
>>> > copying build/lib.macosx-10.5-i386-2.5/mod_python/importer.py ->
>>> > /Library/Python/2.5/site-packages/mod_python
>>> > copying build/lib.macosx-10.5-i386-2.5/mod_python/psp.py ->
>>> > /Library/Python/2.5/site-packages/mod_python
>>> > copying build/lib.macosx-10.5-i386-2.5/mod_python/publisher.py ->
>>> > /Library/Python/2.5/site-packages/mod_python
>>> > copying build/lib.macosx-10.5-i386-2.5/mod_python/python22.py ->
>>> > /Library/Python/2.5/site-packages/mod_python
>>> > copying build/lib.macosx-10.5-i386-2.5/mod_python/Session.py ->
>>> > /Library/Python/2.5/site-packages/mod_python
>>> > copying build/lib.macosx-10.5-i386-2.5/mod_python/testhandler.py ->
>>> > /Library/Python/2.5/site-packages/mod_python
>>> > copying build/lib.macosx-10.5-i386-2.5/mod_python/util.py ->
>>> > /Library/Python/2.5/site-packages/mod_python
>>> > byte-compiling /Library/Python/2.5/site-packages/mod_python/__init__.py
>>> > to __init__.pyc
>>> > byte-compiling /Library/Python/2.5/site-packages/mod_python/apache.py to
>>> > apache.pyc
>>> > byte-compiling /Library/Python/2.5/site-packages/mod_python/cache.py to
>>> > cache.pyc
>>> > byte-compiling
>>> > /Library/Python/2.5/site-packages/mod_python/cgihandler.py to cgihandler.pyc
>>> > byte-compiling /Library/Python/2.5/site-packages/mod_python/Cookie.py to
>>> > Cookie.pyc
>>> > byte-compiling /Library/Python/2.5/site-packages/mod_python/importer.py
>>> > to importer.pyc
>>> > byte-compiling /Library/Python/2.5/site-packages/mod_python/psp.py to
>>> > psp.pyc
>>> > byte-compiling /Library/Python/2.5/site-packages/mod_python/publisher.py
>>> > to publisher.pyc
>>> > byte-compiling /Library/Python/2.5/site-packages/mod_python/python22.py
>>> > to python22.pyc
>>> > byte-compiling /Library/Python/2.5/site-packages/mod_python/Session.py
>>> > to Session.pyc
>>> > byte-compiling
>>> > /Library/Python/2.5/site-packages/mod_python/testhandler.py to
>>> > testhandler.pyc
>>> > byte-compiling /Library/Python/2.5/site-packages/mod_python/util.py to
>>> > util.pyc
>>> > writing byte-compilation script '/tmp/tmpG6QrK-.py'
>>> >
>>> > /System/Library/Frameworks/Python.framework/Versions/2.5/Resources/Python.app/Contents/MacOS/Python
>>> > -OO /tmp/tmpG6QrK-.py
>>> > removing /tmp/tmpG6QrK-.py
>>> > running install_egg_info
>>> > Removing
>>> > /Library/Python/2.5/site-packages/mod_python-3.3.1-py2.5.egg-info
>>> > Writing
>>> > /Library/Python/2.5/site-packages/mod_python-3.3.1-py2.5.egg-info
>>> > www:mod_python-3.3.1 Tool$ cd src
>>> > www:src Tool$ ls
>>> > Makefile ? ? ? ? ? ? ? ?connobject.lo ? ? ? ? ? hlist.lo
>>> > ?mod_python.slo ? ? ? ? ?serverobject.o
>>> > Makefile.in ? ? ? ? ? ? connobject.o ? ? ? ? ? ?hlist.o
>>> > mod_python.so ? ? ? ? ? serverobject.slo
>>> > Makefile.txt ? ? ? ? ? ?connobject.slo ? ? ? ? ?hlist.slo
>>> > mod_python.vcproj ? ? ? tableobject.c
>>> > Makefile_bak ? ? ? ? ? ?filterobject.c ? ? ? ? ?hlistobject.c
>>> > psp_parser.c ? ? ? ? ? ?tableobject.lo
>>> > Makefile_bak_16MAR ? ? ?filterobject.lo ? ? ? ? hlistobject.lo
>>> > ?psp_parser.l ? ? ? ? ? ?tableobject.o
>>> > Version.rc ? ? ? ? ? ? ?filterobject.o ? ? ? ? ?hlistobject.o
>>> > psp_string.c ? ? ? ? ? ?tableobject.slo
>>> > _apachemodule.c ? ? ? ? filterobject.slo ? ? ? ?hlistobject.slo
>>> > requestobject.c ? ? ? ? util.c
>>> > _apachemodule.lo ? ? ? ?finfoobject.c ? ? ? ? ? include
>>> > requestobject.lo ? ? ? ?util.lo
>>> > _apachemodule.o ? ? ? ? finfoobject.lo ? ? ? ? ?mod_python.c
>>> > ?requestobject.o ? ? ? ? util.o
>>> > _apachemodule.slo ? ? ? finfoobject.o ? ? ? ? ? mod_python.la
>>> > requestobject.slo ? ? ? util.slo
>>> > _pspmodule.c ? ? ? ? ? ?finfoobject.slo ? ? ? ? mod_python.lo
>>> > serverobject.c
>>> > connobject.c ? ? ? ? ? ?hlist.c ? ? ? ? ? ? ? ? mod_python.o
>>> > ?serverobject.lo
>>> > www:src Tool$ otool -L mod_python.so
>>> > mod_python.so:
>>> > ? ? ? ?/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current
>>> > version 111.1.3)
>>> > ? ? ? ?/System/Library/Frameworks/Python.framework/Versions/2.3/Python
>>> > (compatibility version 2.3.0, current version 2.3.5)
>>> > ? ? ? ?/usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current
>>> > version 1.0.0)
>>> > www:src Tool$ file mod_python.so
>>> > mod_python.so: Mach-O bundle i386
>>> >
>>> >
>>> > PLEASE HELP.
>>> >
>>> > Thanks and Regards,
>>> > Eeswar
>>> >
>>> >
>>> > _______________________________________________
>>> > Mod_python mailing list
>>> > Mod_python@modpython.org
>>> > http://mailman.modpython.org/mailman/listinfo/mod_python
>>> >
>>>
>>> _______________________________________________
>>> Mod_python mailing list
>>> Mod_python@modpython.org
>>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>
>>
>

From rahul.warhekar at edisphere.com  Sat Apr 18 02:57:36 2009
From: rahul.warhekar at edisphere.com (rahul)
Date: Sat Apr 18 03:00:05 2009
Subject: [mod_python] mod_python Installation
Message-ID: <00db01c9bff2$f54e4cb0$dfeae610$@warhekar@edisphere.com>

Hello All,

 

I have my application in python which requires mod_python, so I have two
questions,

 

1)      Can I distribute mod_python-3.2.8.win32-py2.4.exe package with my
code?

2)      I was not able to install above package in silent mode?

a.       For silent mode execution I am using command
"mod_python-3.2.8.win32-py2.4.exe /q /r"

 

Any help will be greatly appreciated.

 

Thanks,

 

Rahul

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090418/1c709d09/attachment-0001.html
From eeswar at pbsystems.com  Sat Apr 18 04:05:47 2009
From: eeswar at pbsystems.com (Eeswar Kameswara Rao)
Date: Sat Apr 18 03:59:26 2009
Subject: [mod_python] mod_python: How-to Resolve Python Version conflicts
In-Reply-To: <88e286470904171515y321e88c7y4b31e20fb376db7@mail.gmail.com>
References: <422D390FE3F94B47B2D145726F017C4C6BF7F26C3C@MAIL3.VIJ.PB.com>,
	<88e286470904171515y321e88c7y4b31e20fb376db7@mail.gmail.com>
Message-ID: <422D390FE3F94B47B2D145726F017C4C6BF7F26C45@MAIL3.VIJ.PB.com>

Thank you Graham for the immediate  response.

Sorry I could not reply immediately.
I have actually figured the solution and fell asleep (work in a different time zone).

I missed to mention the following facts: -
1. I have two different users for each of the Python versions
2. One user runs on Python 2.5.1 and another user on Python 2.3.5
3. I run Mac OSX 10.5.6 with latest updates
4. For each of the users the default python PATHS are setup so that each gets his/her own version of python at command prompt


Changes I made to make Python 2.5 and 2.3 co-exist without interfering with each other
------------------------------------------------------------------------------------------------------------
1. I modified the symlink /System/Library/Frameworks/Python/Versions/Current  point to 2.5
2. Then redid the following
./configure --with-ptyhon=/usr/bin/python2.5
Modified the paths in Makefile to point to Python2.5
Added '-arch i386' options wherever required in the Makefile
make && sudo make install
www:src Tool$ otool -L mod_python.so
> mod_python.so:
>        /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 111.1.3)
>        /System/Library/Frameworks/Python.framework/Versions/2.5/Python (compatibility version 2.5.0, current version 2.5.1)
>        /usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)
> www:src Tool$ file mod_python.so
> mod_python.so: Mach-O bundle i386

I have reset the symlink Current to 2.3.

Note
-------
1. Looks like the symlink '/System/Library/Frameworks/Python/Versions/Current ' plays a very important role up to creating the mod_python.so.
2. Now I am able to run the python web-apps from any login irrespective of which python version access is provided to

INFERENCES (please validate these)
---------------------------------------------------------
1. Web-based python does not include command-prompt based python
2. All python web-apps refer only to mod_python
3. Command prompt Python refers to the PATH variable in the Shell's ENV variables whereas mod_python refers to its own internal path settings for python version (which probably got create during the 'Configure and Make')
3. Mod-python uses the python settings provided during the "./configure --with-python=" and the settings provided in the python paths of Makefile
4. Specifying Architecture is an important component for creating a workable mod_python


Regards,
Eeswar
________________________________________
From: Graham Dumpleton [graham.dumpleton@gmail.com]
Sent: Saturday, April 18, 2009 3:45 AM
To: Eeswar Kameswara Rao
Cc: mod_python@modpython.org
Subject: Re: [mod_python] mod_python: How-to Resolve Python Version conflicts

You may well have screwed up your operating system Python
installation. You should never install separate Python versions under
/System/Library as that is reserved for operating system supplied
packages. You should also never change /usr/bin/python to put at some
other version because if operating system functions are dependent on
the version that was there previously, you will cause those bits of
the operating system to fail.

Since your operating system is now in such an unknown state of
functioning, there isn't probably much point trying to pursue why you
have problems.

Next time install the alternate Python under /Library or better still
/usr/local and don't stuff with /usr/bin/python. Then as per
instructions for mod_python, use the --with-python option to configure
script to say which version of Python you want to use rather than
trying to hand edit things as you likely aren't changing everything
that would need to be different when different Python version used.

Graham

2009/4/18 Eeswar Kameswara Rao <eeswar@pbsystems.com>:
> Hello All,
>
> I am new to this list. I am having trouble to access the archives.
>
> Here is my problem. PLEASE HELP.
>
> ISSUE
> ---------
> 1. After I do "make && sudo make install" I get a mod_python.so in the src and .libs directories
> 2. When I do a 'otool -L ./mod_python.so'  it reports
> www:src Tool$ otool -L mod_python.so
> mod_python.so:
>        /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 111.1.3)
>        /System/Library/Frameworks/Python.framework/Versions/2.3/Python (compatibility version 2.3.0, current version 2.3.5)
>        /usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)
>
> SCENARIO
> ---------------
> 1. H/W - Intel Core2Duo MacBook laptop
> 2. I have two versions of Python i.e. 2.3 and 2.5.1
> 3. Python 2.3 path is /System/Library/Frameworks/Python.framework/Versions/2.3/
> 4. Python2.3 executable is in /usr/local/sbin
> 5. Python2.5 path is /System/Library/Frameworks/Python.framework/Versions/2.5/
> 6. Python2.5 Executable is in /usr/bin
> 7. Apache version 2.0 is enabled in 32-bit mode (reconfigured the apache plist for 32-bit)
> 8. Ran .sudo ./configure --with-python=/usr/bin/python2.5
> 9. Added to Makefile with library path pointing to Python2.5 in LDFLAGS
> 10. Added to Makefile '-arch i386' to LDFLAGS, CFLAGS and under mod_python.so
> 11. After doing a "make && sudo make install" I get a mod_python.so built with Python2.3 framework (????)
>
> I want this mod_python to be Python2.5 compliant ONLY.
>
> So all my Python web apps crash. Error_logs report version conflicts.
>
> Below is the listing from "make && sudo make install'
>
> www:mod_python-3.3.1 Tool$ make && sudo make install
>
> Compiling for DSO.
>
> /usr/sbin/apxs -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 -c -Wc,"-arch i386" mod_python.c _apachemodule.c requestobject.c tableobject.c util.c serverobject.c connobject.c filterobject.c hlist.c hlistobject.c finfoobject.c -Wl,-framework,Python  -u _PyMac_Error -framework Python   -Wl,-F/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5 -arch i386   -lm  -framework  Python    -ldl
> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o mod_python.lo mod_python.c && touch mod_python.slo
> mod_python.c: In function 'python_init':
> mod_python.c:826: warning: initialization from incompatible pointer type
> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o _apachemodule.lo _apachemodule.c && touch _apachemodule.slo
> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o requestobject.lo requestobject.c && touch requestobject.slo
> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o tableobject.lo tableobject.c && touch tableobject.slo
> tableobject.c:329: warning: initialization from incompatible pointer type
> tableobject.c:1092: warning: initialization from incompatible pointer type
> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o util.lo util.c && touch util.slo
> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o serverobject.lo serverobject.c && touch serverobject.slo
> serverobject.c:387: warning: initialization from incompatible pointer type
> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o connobject.lo connobject.c && touch connobject.slo
> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o filterobject.lo filterobject.c && touch filterobject.slo
> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o hlist.lo hlist.c && touch hlist.slo
> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o hlistobject.lo hlistobject.c && touch hlistobject.slo
> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o finfoobject.lo finfoobject.c && touch finfoobject.slo
> finfoobject.c:278: warning: 'intargfunc' is deprecated
> finfoobject.c:278: warning: initialization from incompatible pointer type
> /usr/share/apr-1/build-1/libtool --silent --mode=link gcc -o mod_python.la  -rpath /usr/libexec/apache2 -module -avoid-version    finfoobject.lo hlistobject.lo hlist.lo filterobject.lo connobject.lo serverobject.lo util.lo tableobject.lo requestobject.lo _apachemodule.lo mod_python.lo -Wl,-framework,Python -u _PyMac_Error -framework Python -Wl,-F/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5 -arch i386 -lm -framework Python -ldl
> make[2]: `psp_parser.c' is up to date.
> /usr/bin/python2.5 setup.py build
> running build
> running build_py
> running build_ext
>
> Now su and make install
>  (or, if you only want to perform a partial install,
>   you can use make install_dso and make install_py_lib)
>
> Password:
> make[3]: `psp_parser.c' is up to date.
> /usr/bin/python2.5 setup.py build
> running build
> running build_py
> running build_ext
>
> Now su and make install
>  (or, if you only want to perform a partial install,
>   you can use make install_dso and make install_py_lib)
>
>
> Performing DSO installation.
>
> /usr/bin/install -c -d /usr/libexec/apache2
> /usr/bin/install -c src/mod_python.so /usr/libexec/apache2
>
> Now don't forget to edit your main config and add
>    LoadModule python_module /usr/libexec/apache2/mod_python.so
> and if your configuration uses ClearModuleList, then also
>    AddModule mod_python.c
>
> cd dist && make install_py_lib
> make[3]: `psp_parser.c' is up to date.
> if test -z "" ; then \
>                /usr/bin/python2.5 setup.py install --optimize 2 --force ; \
>        else \
>                /usr/bin/python2.5 setup.py install --optimize 2 --force --root  ; \
>        fi
> running install
> running build
> running build_py
> running build_ext
> running install_lib
> copying build/lib.macosx-10.5-i386-2.5/mod_python/__init__.py -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/_psp.so -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/apache.py -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/cache.py -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/cgihandler.py -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/Cookie.py -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/importer.py -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/psp.py -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/publisher.py -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/python22.py -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/Session.py -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/testhandler.py -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/util.py -> /Library/Python/2.5/site-packages/mod_python
> byte-compiling /Library/Python/2.5/site-packages/mod_python/__init__.py to __init__.pyc
> byte-compiling /Library/Python/2.5/site-packages/mod_python/apache.py to apache.pyc
> byte-compiling /Library/Python/2.5/site-packages/mod_python/cache.py to cache.pyc
> byte-compiling /Library/Python/2.5/site-packages/mod_python/cgihandler.py to cgihandler.pyc
> byte-compiling /Library/Python/2.5/site-packages/mod_python/Cookie.py to Cookie.pyc
> byte-compiling /Library/Python/2.5/site-packages/mod_python/importer.py to importer.pyc
> byte-compiling /Library/Python/2.5/site-packages/mod_python/psp.py to psp.pyc
> byte-compiling /Library/Python/2.5/site-packages/mod_python/publisher.py to publisher.pyc
> byte-compiling /Library/Python/2.5/site-packages/mod_python/python22.py to python22.pyc
> byte-compiling /Library/Python/2.5/site-packages/mod_python/Session.py to Session.pyc
> byte-compiling /Library/Python/2.5/site-packages/mod_python/testhandler.py to testhandler.pyc
> byte-compiling /Library/Python/2.5/site-packages/mod_python/util.py to util.pyc
> writing byte-compilation script '/tmp/tmpG6QrK-.py'
> /System/Library/Frameworks/Python.framework/Versions/2.5/Resources/Python.app/Contents/MacOS/Python -OO /tmp/tmpG6QrK-.py
> removing /tmp/tmpG6QrK-.py
> running install_egg_info
> Removing /Library/Python/2.5/site-packages/mod_python-3.3.1-py2.5.egg-info
> Writing /Library/Python/2.5/site-packages/mod_python-3.3.1-py2.5.egg-info
> www:mod_python-3.3.1 Tool$ cd src
> www:src Tool$ ls
> Makefile                connobject.lo           hlist.lo                mod_python.slo          serverobject.o
> Makefile.in             connobject.o            hlist.o                 mod_python.so           serverobject.slo
> Makefile.txt            connobject.slo          hlist.slo               mod_python.vcproj       tableobject.c
> Makefile_bak            filterobject.c          hlistobject.c           psp_parser.c            tableobject.lo
> Makefile_bak_16MAR      filterobject.lo         hlistobject.lo          psp_parser.l            tableobject.o
> Version.rc              filterobject.o          hlistobject.o           psp_string.c            tableobject.slo
> _apachemodule.c         filterobject.slo        hlistobject.slo         requestobject.c         util.c
> _apachemodule.lo        finfoobject.c           include                 requestobject.lo        util.lo
> _apachemodule.o         finfoobject.lo          mod_python.c            requestobject.o         util.o
> _apachemodule.slo       finfoobject.o           mod_python.la           requestobject.slo       util.slo
> _pspmodule.c            finfoobject.slo         mod_python.lo           serverobject.c
> connobject.c            hlist.c                 mod_python.o            serverobject.lo
> www:src Tool$ otool -L mod_python.so
> mod_python.so:
>        /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 111.1.3)
>        /System/Library/Frameworks/Python.framework/Versions/2.3/Python (compatibility version 2.3.0, current version 2.3.5)
>        /usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)
> www:src Tool$ file mod_python.so
> mod_python.so: Mach-O bundle i386
>
>
> PLEASE HELP.
>
> Thanks and Regards,
> Eeswar
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>

From eeswar at pbsystems.com  Sat Apr 18 04:06:33 2009
From: eeswar at pbsystems.com (Eeswar Kameswara Rao)
Date: Sat Apr 18 04:03:32 2009
Subject: [mod_python] mod_python: How-to Resolve Python Version conflicts
In-Reply-To: <422D390FE3F94B47B2D145726F017C4C6BF7F26C45@MAIL3.VIJ.PB.com>
References: <422D390FE3F94B47B2D145726F017C4C6BF7F26C3C@MAIL3.VIJ.PB.com>,
	<88e286470904171515y321e88c7y4b31e20fb376db7@mail.gmail.com>,
	<422D390FE3F94B47B2D145726F017C4C6BF7F26C45@MAIL3.VIJ.PB.com>
Message-ID: <422D390FE3F94B47B2D145726F017C4C6BF7F26C46@MAIL3.VIJ.PB.com>

Currently how things look on my system
--------------------------------------------------
SRC/MAKEFILE

CC=gcc
AR=ar
APXS=/usr/sbin/apxs
MKDEP=@MKDEP@

# requires flex 2.5.31 for reentrant support
LEX=/usr/bin/flex
INCLUDES=-I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5
LIBS=-lm  -framework  Python    -ldl
LDFLAGS= -Wl,-framework,Python  -u _PyMac_Error -framework Python   -Wl,-F/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5 -arch i386
OPT=
CFLAGS=$(OPT) $(INCLUDES) -arch i386
CPPFLAGS = -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 -DNDEBUG -DMACOSX -DENABLE_DTRACE
srcdir=.

SRCS=   mod_python.c _apachemodule.c requestobject.c tableobject.c util.c \
                serverobject.c connobject.c filterobject.c hlist.c \
                hlistobject.c finfoobject.c

all:    dso

psp_parser.c: psp_parser.l
        @rm -f psp_parser.c
        $(LEX) -R -opsp_parser.c --header-file=include/psp_flex.h psp_parser.l

dso:    mod_python.so
        @echo dso > .install

mod_python.so: $(SRCS)
        @echo
        @echo 'Compiling for DSO.'
        @echo
        $(APXS) $(INCLUDES) -c -Wc,"-arch i386" $(SRCS) $(LDFLAGS) $(LIBS)
        @rm -f mod_python.so
        @ln -s .libs/mod_python.so mod_python.so
clean:
        rm -rf $(OBJS) core libpython.a mod_python.so *~ .libs *.o *.slo *.lo *.la

distclean: clean
        rm -f Makefile .depend .install

# this is a hack to help avoid a gcc/solaris problem
# python uses assert() which needs _eprintf(). See
# SOLARIS_HACKS above
_eprintf.o:
        ar -x `gcc -print-libgcc-file-name` _eprintf.o
_floatdidf.o:
        ar -x `gcc -print-libgcc-file-name` _floatdidf.o
_muldi3.o:
        ar -x `gcc -print-libgcc-file-name` _muldi3.o

# DO NOT DELETE THIS LINE


Symlink 'Current' status
--------------------------------------------
#####Initally

0 drwxr-xr-x   9 root  wheel  306 Oct 14  2008 2.3
0 drwxr-xr-x  11 root  wheel  374 Mar 13 15:06 2.5
8 lrwxrwxrwx   1 root  wheel    3 Oct 14  2008 Current -> 2.3

##MeanWhile to Configure mod_python
drwxr-xr-x   9 root  wheel  306 Oct 14  2008 2.3
drwxrwxrwx  11 root  wheel  374 Mar 13 15:06 2.5
lrwxr-xr-x   1 root  wheel    3 Apr 18 11:36 Current -> 2.5
lrwxrwxrwx   1 root  wheel    3 Oct 14  2008 Current_bak_18_APR -> 2.3

##After creating mod_python Reset back to 2.3. So, Finally
0 drwxr-xr-x   9 root  wheel  306 Oct 14  2008 2.3
0 drwxr-xr-x  11 root  wheel  374 Mar 13 15:06 2.5
8 lrwxrwxrwx   1 root  wheel    3 Oct 14  2008 Current -> 2.3
8 lrwxr-xr-x   1 root  wheel    3 Apr 18 11:36 Current2.5 -> 2.5


Regards,
Eeswar


________________________________________
From: Eeswar Kameswara Rao
Sent: Saturday, April 18, 2009 1:35 PM
To: Graham Dumpleton
Cc: mod_python@modpython.org
Subject: RE: [mod_python] mod_python: How-to Resolve Python Version conflicts

Thank you Graham for the immediate  response.

Sorry I could not reply immediately.
I have actually figured the solution and fell asleep (work in a different time zone).

I missed to mention the following facts: -
1. I have two different users for each of the Python versions
2. One user runs on Python 2.5.1 and another user on Python 2.3.5
3. I run Mac OSX 10.5.6 with latest updates
4. For each of the users the default python PATHS are setup so that each gets his/her own version of python at command prompt


Changes I made to make Python 2.5 and 2.3 co-exist without interfering with each other
------------------------------------------------------------------------------------------------------------
1. I modified the symlink /System/Library/Frameworks/Python/Versions/Current  point to 2.5
2. Then redid the following
./configure --with-ptyhon=/usr/bin/python2.5
Modified the paths in Makefile to point to Python2.5
Added '-arch i386' options wherever required in the Makefile
make && sudo make install
www:src Tool$ otool -L mod_python.so
> mod_python.so:
>        /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 111.1.3)
>        /System/Library/Frameworks/Python.framework/Versions/2.5/Python (compatibility version 2.5.0, current version 2.5.1)
>        /usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)
> www:src Tool$ file mod_python.so
> mod_python.so: Mach-O bundle i386

I have reset the symlink Current to 2.3.

Note
-------
1. Looks like the symlink '/System/Library/Frameworks/Python/Versions/Current ' plays a very important role up to creating the mod_python.so.
2. Now I am able to run the python web-apps from any login irrespective of which python version access is provided to

INFERENCES (please validate these)
---------------------------------------------------------
1. Web-based python does not include command-prompt based python
2. All python web-apps refer only to mod_python
3. Command prompt Python refers to the PATH variable in the Shell's ENV variables whereas mod_python refers to its own internal path settings for python version (which probably got create during the 'Configure and Make')
3. Mod-python uses the python settings provided during the "./configure --with-python=" and the settings provided in the python paths of Makefile
4. Specifying Architecture is an important component for creating a workable mod_python


Regards,
Eeswar
________________________________________
From: Graham Dumpleton [graham.dumpleton@gmail.com]
Sent: Saturday, April 18, 2009 3:45 AM
To: Eeswar Kameswara Rao
Cc: mod_python@modpython.org
Subject: Re: [mod_python] mod_python: How-to Resolve Python Version conflicts

You may well have screwed up your operating system Python
installation. You should never install separate Python versions under
/System/Library as that is reserved for operating system supplied
packages. You should also never change /usr/bin/python to put at some
other version because if operating system functions are dependent on
the version that was there previously, you will cause those bits of
the operating system to fail.

Since your operating system is now in such an unknown state of
functioning, there isn't probably much point trying to pursue why you
have problems.

Next time install the alternate Python under /Library or better still
/usr/local and don't stuff with /usr/bin/python. Then as per
instructions for mod_python, use the --with-python option to configure
script to say which version of Python you want to use rather than
trying to hand edit things as you likely aren't changing everything
that would need to be different when different Python version used.

Graham

2009/4/18 Eeswar Kameswara Rao <eeswar@pbsystems.com>:
> Hello All,
>
> I am new to this list. I am having trouble to access the archives.
>
> Here is my problem. PLEASE HELP.
>
> ISSUE
> ---------
> 1. After I do "make && sudo make install" I get a mod_python.so in the src and .libs directories
> 2. When I do a 'otool -L ./mod_python.so'  it reports
> www:src Tool$ otool -L mod_python.so
> mod_python.so:
>        /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 111.1.3)
>        /System/Library/Frameworks/Python.framework/Versions/2.3/Python (compatibility version 2.3.0, current version 2.3.5)
>        /usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)
>
> SCENARIO
> ---------------
> 1. H/W - Intel Core2Duo MacBook laptop
> 2. I have two versions of Python i.e. 2.3 and 2.5.1
> 3. Python 2.3 path is /System/Library/Frameworks/Python.framework/Versions/2.3/
> 4. Python2.3 executable is in /usr/local/sbin
> 5. Python2.5 path is /System/Library/Frameworks/Python.framework/Versions/2.5/
> 6. Python2.5 Executable is in /usr/bin
> 7. Apache version 2.0 is enabled in 32-bit mode (reconfigured the apache plist for 32-bit)
> 8. Ran .sudo ./configure --with-python=/usr/bin/python2.5
> 9. Added to Makefile with library path pointing to Python2.5 in LDFLAGS
> 10. Added to Makefile '-arch i386' to LDFLAGS, CFLAGS and under mod_python.so
> 11. After doing a "make && sudo make install" I get a mod_python.so built with Python2.3 framework (????)
>
> I want this mod_python to be Python2.5 compliant ONLY.
>
> So all my Python web apps crash. Error_logs report version conflicts.
>
> Below is the listing from "make && sudo make install'
>
> www:mod_python-3.3.1 Tool$ make && sudo make install
>
> Compiling for DSO.
>
> /usr/sbin/apxs -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 -c -Wc,"-arch i386" mod_python.c _apachemodule.c requestobject.c tableobject.c util.c serverobject.c connobject.c filterobject.c hlist.c hlistobject.c finfoobject.c -Wl,-framework,Python  -u _PyMac_Error -framework Python   -Wl,-F/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5 -arch i386   -lm  -framework  Python    -ldl
> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o mod_python.lo mod_python.c && touch mod_python.slo
> mod_python.c: In function 'python_init':
> mod_python.c:826: warning: initialization from incompatible pointer type
> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o _apachemodule.lo _apachemodule.c && touch _apachemodule.slo
> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o requestobject.lo requestobject.c && touch requestobject.slo
> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o tableobject.lo tableobject.c && touch tableobject.slo
> tableobject.c:329: warning: initialization from incompatible pointer type
> tableobject.c:1092: warning: initialization from incompatible pointer type
> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o util.lo util.c && touch util.slo
> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o serverobject.lo serverobject.c && touch serverobject.slo
> serverobject.c:387: warning: initialization from incompatible pointer type
> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o connobject.lo connobject.c && touch connobject.slo
> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o filterobject.lo filterobject.c && touch filterobject.slo
> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o hlist.lo hlist.c && touch hlist.slo
> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o hlistobject.lo hlistobject.c && touch hlistobject.slo
> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o finfoobject.lo finfoobject.c && touch finfoobject.slo
> finfoobject.c:278: warning: 'intargfunc' is deprecated
> finfoobject.c:278: warning: initialization from incompatible pointer type
> /usr/share/apr-1/build-1/libtool --silent --mode=link gcc -o mod_python.la  -rpath /usr/libexec/apache2 -module -avoid-version    finfoobject.lo hlistobject.lo hlist.lo filterobject.lo connobject.lo serverobject.lo util.lo tableobject.lo requestobject.lo _apachemodule.lo mod_python.lo -Wl,-framework,Python -u _PyMac_Error -framework Python -Wl,-F/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5 -arch i386 -lm -framework Python -ldl
> make[2]: `psp_parser.c' is up to date.
> /usr/bin/python2.5 setup.py build
> running build
> running build_py
> running build_ext
>
> Now su and make install
>  (or, if you only want to perform a partial install,
>   you can use make install_dso and make install_py_lib)
>
> Password:
> make[3]: `psp_parser.c' is up to date.
> /usr/bin/python2.5 setup.py build
> running build
> running build_py
> running build_ext
>
> Now su and make install
>  (or, if you only want to perform a partial install,
>   you can use make install_dso and make install_py_lib)
>
>
> Performing DSO installation.
>
> /usr/bin/install -c -d /usr/libexec/apache2
> /usr/bin/install -c src/mod_python.so /usr/libexec/apache2
>
> Now don't forget to edit your main config and add
>    LoadModule python_module /usr/libexec/apache2/mod_python.so
> and if your configuration uses ClearModuleList, then also
>    AddModule mod_python.c
>
> cd dist && make install_py_lib
> make[3]: `psp_parser.c' is up to date.
> if test -z "" ; then \
>                /usr/bin/python2.5 setup.py install --optimize 2 --force ; \
>        else \
>                /usr/bin/python2.5 setup.py install --optimize 2 --force --root  ; \
>        fi
> running install
> running build
> running build_py
> running build_ext
> running install_lib
> copying build/lib.macosx-10.5-i386-2.5/mod_python/__init__.py -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/_psp.so -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/apache.py -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/cache.py -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/cgihandler.py -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/Cookie.py -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/importer.py -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/psp.py -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/publisher.py -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/python22.py -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/Session.py -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/testhandler.py -> /Library/Python/2.5/site-packages/mod_python
> copying build/lib.macosx-10.5-i386-2.5/mod_python/util.py -> /Library/Python/2.5/site-packages/mod_python
> byte-compiling /Library/Python/2.5/site-packages/mod_python/__init__.py to __init__.pyc
> byte-compiling /Library/Python/2.5/site-packages/mod_python/apache.py to apache.pyc
> byte-compiling /Library/Python/2.5/site-packages/mod_python/cache.py to cache.pyc
> byte-compiling /Library/Python/2.5/site-packages/mod_python/cgihandler.py to cgihandler.pyc
> byte-compiling /Library/Python/2.5/site-packages/mod_python/Cookie.py to Cookie.pyc
> byte-compiling /Library/Python/2.5/site-packages/mod_python/importer.py to importer.pyc
> byte-compiling /Library/Python/2.5/site-packages/mod_python/psp.py to psp.pyc
> byte-compiling /Library/Python/2.5/site-packages/mod_python/publisher.py to publisher.pyc
> byte-compiling /Library/Python/2.5/site-packages/mod_python/python22.py to python22.pyc
> byte-compiling /Library/Python/2.5/site-packages/mod_python/Session.py to Session.pyc
> byte-compiling /Library/Python/2.5/site-packages/mod_python/testhandler.py to testhandler.pyc
> byte-compiling /Library/Python/2.5/site-packages/mod_python/util.py to util.pyc
> writing byte-compilation script '/tmp/tmpG6QrK-.py'
> /System/Library/Frameworks/Python.framework/Versions/2.5/Resources/Python.app/Contents/MacOS/Python -OO /tmp/tmpG6QrK-.py
> removing /tmp/tmpG6QrK-.py
> running install_egg_info
> Removing /Library/Python/2.5/site-packages/mod_python-3.3.1-py2.5.egg-info
> Writing /Library/Python/2.5/site-packages/mod_python-3.3.1-py2.5.egg-info
> www:mod_python-3.3.1 Tool$ cd src
> www:src Tool$ ls
> Makefile                connobject.lo           hlist.lo                mod_python.slo          serverobject.o
> Makefile.in             connobject.o            hlist.o                 mod_python.so           serverobject.slo
> Makefile.txt            connobject.slo          hlist.slo               mod_python.vcproj       tableobject.c
> Makefile_bak            filterobject.c          hlistobject.c           psp_parser.c            tableobject.lo
> Makefile_bak_16MAR      filterobject.lo         hlistobject.lo          psp_parser.l            tableobject.o
> Version.rc              filterobject.o          hlistobject.o           psp_string.c            tableobject.slo
> _apachemodule.c         filterobject.slo        hlistobject.slo         requestobject.c         util.c
> _apachemodule.lo        finfoobject.c           include                 requestobject.lo        util.lo
> _apachemodule.o         finfoobject.lo          mod_python.c            requestobject.o         util.o
> _apachemodule.slo       finfoobject.o           mod_python.la           requestobject.slo       util.slo
> _pspmodule.c            finfoobject.slo         mod_python.lo           serverobject.c
> connobject.c            hlist.c                 mod_python.o            serverobject.lo
> www:src Tool$ otool -L mod_python.so
> mod_python.so:
>        /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 111.1.3)
>        /System/Library/Frameworks/Python.framework/Versions/2.3/Python (compatibility version 2.3.0, current version 2.3.5)
>        /usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)
> www:src Tool$ file mod_python.so
> mod_python.so: Mach-O bundle i386
>
>
> PLEASE HELP.
>
> Thanks and Regards,
> Eeswar
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>

From clodoaldo.pinto.neto at gmail.com  Sat Apr 18 09:11:10 2009
From: clodoaldo.pinto.neto at gmail.com (Clodoaldo Pinto Neto)
Date: Sat Apr 18 09:11:13 2009
Subject: [mod_python] mod_python Installation
In-Reply-To: <6659147035014311327@unknownmsgid>
References: <6659147035014311327@unknownmsgid>
Message-ID: <a595de7a0904180611q44cfb926n8c8dc739355f54b2@mail.gmail.com>

2009/4/18 rahul <rahul.warhekar@edisphere.com>:
> Hello All,
>
>
>
> I have my application in python which requires mod_python, so I have two
> questions,
>
>
>
> 1)????? Can I distribute mod_python-3.2.8.win32-py2.4.exe package with my
> code?

>From reading the 4th item of the license I think the answer is yes:

http://svn.apache.org/viewvc/quetzalcoatl/mod_python/tags/release-3-2-8/LICENSE?revision=615235&view=markup

Regards, Clodoaldo

>
> 2)????? I was not able to install above package in silent mode?
>
> a.?????? For silent mode execution I am using command
> ?mod_python-3.2.8.win32-py2.4.exe /q /r?
>
>
>
> Any help will be greatly appreciated.
>
>
>
> Thanks,
>
>
>
> Rahul
>
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>
>

From andy at robotlovesyou.com  Sat Apr 18 09:15:35 2009
From: andy at robotlovesyou.com (Andrew Smith)
Date: Sat Apr 18 09:15:38 2009
Subject: [mod_python] mod_python Installation
In-Reply-To: <6659147035014311327@unknownmsgid>
References: <6659147035014311327@unknownmsgid>
Message-ID: <afe93cfd0904180615m337435f7v9141cfda348c6fbb@mail.gmail.com>

Rahul,

I think you will find the answer to your distribution question here
http://www.apache.org/licenses/LICENSE-2.0 and here
http://www.apache.org/foundation/licence-FAQ.html#WhatDoesItMEAN

No idea about the silent mode install I'm afraid.

Andy

2009/4/18 rahul <rahul.warhekar@edisphere.com>

>  Hello All,
>
>
>
> I have my application in python which requires mod_python, so I have two
> questions,
>
>
>
> 1)      Can I distribute mod_python-3.2.8.win32-py2.4.exe package with my
> code?
>
> 2)      I was not able to install above package in silent mode?
>
> a.       For silent mode execution I am using command
> ?mod_python-3.2.8.win32-py2.4.exe /q /r?
>
>
>
> Any help will be greatly appreciated.
>
>
>
> Thanks,
>
>
>
> Rahul
>
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090418/c2fa484d/attachment.html
From graham.dumpleton at gmail.com  Sat Apr 18 19:41:26 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Sat Apr 18 19:41:32 2009
Subject: [mod_python] mod_python Installation
In-Reply-To: <6659147035014311327@unknownmsgid>
References: <6659147035014311327@unknownmsgid>
Message-ID: <88e286470904181641o4b5a36d5wf01f16b566df097a@mail.gmail.com>

2009/4/18 rahul <rahul.warhekar@edisphere.com>:
> Hello All,
>
>
>
> I have my application in python which requires mod_python, so I have two
> questions,
>
>
>
> 1)????? Can I distribute mod_python-3.2.8.win32-py2.4.exe package with my
> code?

Why are you using an old known buggy version of mod_python?

Graham

From rahul.warhekar at edisphere.com  Mon Apr 20 01:34:09 2009
From: rahul.warhekar at edisphere.com (rahul)
Date: Mon Apr 20 01:36:36 2009
Subject: [mod_python] mod_python Installation
In-Reply-To: <88e286470904181641o4b5a36d5wf01f16b566df097a@mail.gmail.com>
References: <6659147035014311327@unknownmsgid>
	<88e286470904181641o4b5a36d5wf01f16b566df097a@mail.gmail.com>
Message-ID: <011701c9c179$a1e2aac0$e5a80040$@warhekar@edisphere.com>

Is silent mode Installation of this package is possible or not?

Or do I need to use latest version for silent installation of mod_python.

Thanks, 
Rahul Warhekar

-----Original Message-----
From: Graham Dumpleton [mailto:graham.dumpleton@gmail.com] 
Sent: Sunday, April 19, 2009 5:11 AM
To: rahul
Cc: mod_python@modpython.org
Subject: Re: [mod_python] mod_python Installation

2009/4/18 rahul <rahul.warhekar@edisphere.com>:
> Hello All,
>
>
>
> I have my application in python which requires mod_python, so I have two
> questions,
>
>
>
> 1)????? Can I distribute mod_python-3.2.8.win32-py2.4.exe package with my
> code?

Why are you using an old known buggy version of mod_python?

Graham


From graham.dumpleton at gmail.com  Mon Apr 20 01:48:54 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Mon Apr 20 01:49:02 2009
Subject: [mod_python] mod_python Installation
In-Reply-To: <-1709355794028251740@unknownmsgid>
References: <6659147035014311327@unknownmsgid>
	<88e286470904181641o4b5a36d5wf01f16b566df097a@mail.gmail.com>
	<-1709355794028251740@unknownmsgid>
Message-ID: <88e286470904192248ye7a018due223e1b83b8fce78@mail.gmail.com>

2009/4/20 rahul <rahul.warhekar@edisphere.com>:
> Is silent mode Installation of this package is possible or not?
>
> Or do I need to use latest version for silent installation of mod_python.

Why do you think there is a silent mode? Is it documented somewhere in
the mod_python documentation that there is such a mode?

FWIW, mod_python appears to use Python native feature to build a exe
using 'bdist_wininst' option to Python distutils. So, perhaps try and
track down on Python web site (www.python.org) whether that feature
produces installers which can operate in a silent mode. If distutils
doesn't support that, then not likely to be in there.

You might also go to comp.lang.python newsgroup on Google Groups and
ask there whether installers created with distutils support a silent
mode. You will have to be specific about what you asking, ie., mention
distutils and the 'bdist_wininst' option and whether it supports
silent installers. There is no point asking there about mod_python as
they will not answer you.

BTW, if people don't answer it is likely that no one knows. Thus there
is no point asking time and time again, it just annoys people.

You also haven't answered the question of why you are using an old
version of mod_python when there is a newer version available. Older
versions tend not to be supported and would generally expect that you
be using latest version.

Graham

> Thanks,
> Rahul Warhekar
>
> -----Original Message-----
> From: Graham Dumpleton [mailto:graham.dumpleton@gmail.com]
> Sent: Sunday, April 19, 2009 5:11 AM
> To: rahul
> Cc: mod_python@modpython.org
> Subject: Re: [mod_python] mod_python Installation
>
> 2009/4/18 rahul <rahul.warhekar@edisphere.com>:
>> Hello All,
>>
>>
>>
>> I have my application in python which requires mod_python, so I have two
>> questions,
>>
>>
>>
>> 1)????? Can I distribute mod_python-3.2.8.win32-py2.4.exe package with my
>> code?
>
> Why are you using an old known buggy version of mod_python?
>
> Graham
>
>

From graham.dumpleton at gmail.com  Mon Apr 20 03:02:24 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Mon Apr 20 03:02:33 2009
Subject: [mod_python] mod_python: How-to Resolve Python Version conflicts
In-Reply-To: <422D390FE3F94B47B2D145726F017C4C6BF7F26C45@MAIL3.VIJ.PB.com>
References: <422D390FE3F94B47B2D145726F017C4C6BF7F26C3C@MAIL3.VIJ.PB.com>
	<88e286470904171515y321e88c7y4b31e20fb376db7@mail.gmail.com>
	<422D390FE3F94B47B2D145726F017C4C6BF7F26C45@MAIL3.VIJ.PB.com>
Message-ID: <88e286470904200002k3508dd18l12b3f9d32900bf7@mail.gmail.com>

2009/4/18 Eeswar Kameswara Rao <eeswar@pbsystems.com>:
> Thank you Graham for the immediate ?response.
>
> Sorry I could not reply immediately.
> I have actually figured the solution and fell asleep (work in a different time zone).
>
> I missed to mention the following facts: -
> 1. I have two different users for each of the Python versions
> 2. One user runs on Python 2.5.1 and another user on Python 2.3.5

I still don't understand where Python 2.3.5 came from as a complete
Python 2.3.5 installation is not supplied with MacOS X 10.5. Did you
install your own Python 2.3.5 from source code? Did you install that
under /System/Library?

Anyway, as long as you have got it work and are happy.

Graham

> 3. I run Mac OSX 10.5.6 with latest updates
> 4. For each of the users the default python PATHS are setup so that each gets his/her own version of python at command prompt
>
>
> Changes I made to make Python 2.5 and 2.3 co-exist without interfering with each other
> ------------------------------------------------------------------------------------------------------------
> 1. I modified the symlink /System/Library/Frameworks/Python/Versions/Current ?point to 2.5
> 2. Then redid the following
> ./configure --with-ptyhon=/usr/bin/python2.5
> Modified the paths in Makefile to point to Python2.5
> Added '-arch i386' options wherever required in the Makefile
> make && sudo make install
> www:src Tool$ otool -L mod_python.so
>> mod_python.so:
>> ? ? ? ?/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 111.1.3)
>> ? ? ? ?/System/Library/Frameworks/Python.framework/Versions/2.5/Python (compatibility version 2.5.0, current version 2.5.1)
>> ? ? ? ?/usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)
>> www:src Tool$ file mod_python.so
>> mod_python.so: Mach-O bundle i386
>
> I have reset the symlink Current to 2.3.
>
> Note
> -------
> 1. Looks like the symlink '/System/Library/Frameworks/Python/Versions/Current ' plays a very important role up to creating the mod_python.so.
> 2. Now I am able to run the python web-apps from any login irrespective of which python version access is provided to
>
> INFERENCES (please validate these)
> ---------------------------------------------------------
> 1. Web-based python does not include command-prompt based python
> 2. All python web-apps refer only to mod_python
> 3. Command prompt Python refers to the PATH variable in the Shell's ENV variables whereas mod_python refers to its own internal path settings for python version (which probably got create during the 'Configure and Make')
> 3. Mod-python uses the python settings provided during the "./configure --with-python=" and the settings provided in the python paths of Makefile
> 4. Specifying Architecture is an important component for creating a workable mod_python
>
>
> Regards,
> Eeswar
> ________________________________________
> From: Graham Dumpleton [graham.dumpleton@gmail.com]
> Sent: Saturday, April 18, 2009 3:45 AM
> To: Eeswar Kameswara Rao
> Cc: mod_python@modpython.org
> Subject: Re: [mod_python] mod_python: How-to Resolve Python Version conflicts
>
> You may well have screwed up your operating system Python
> installation. You should never install separate Python versions under
> /System/Library as that is reserved for operating system supplied
> packages. You should also never change /usr/bin/python to put at some
> other version because if operating system functions are dependent on
> the version that was there previously, you will cause those bits of
> the operating system to fail.
>
> Since your operating system is now in such an unknown state of
> functioning, there isn't probably much point trying to pursue why you
> have problems.
>
> Next time install the alternate Python under /Library or better still
> /usr/local and don't stuff with /usr/bin/python. Then as per
> instructions for mod_python, use the --with-python option to configure
> script to say which version of Python you want to use rather than
> trying to hand edit things as you likely aren't changing everything
> that would need to be different when different Python version used.
>
> Graham
>
> 2009/4/18 Eeswar Kameswara Rao <eeswar@pbsystems.com>:
>> Hello All,
>>
>> I am new to this list. I am having trouble to access the archives.
>>
>> Here is my problem. PLEASE HELP.
>>
>> ISSUE
>> ---------
>> 1. After I do "make && sudo make install" I get a mod_python.so in the src and .libs directories
>> 2. When I do a 'otool -L ./mod_python.so' ?it reports
>> www:src Tool$ otool -L mod_python.so
>> mod_python.so:
>> ? ? ? ?/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 111.1.3)
>> ? ? ? ?/System/Library/Frameworks/Python.framework/Versions/2.3/Python (compatibility version 2.3.0, current version 2.3.5)
>> ? ? ? ?/usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)
>>
>> SCENARIO
>> ---------------
>> 1. H/W - Intel Core2Duo MacBook laptop
>> 2. I have two versions of Python i.e. 2.3 and 2.5.1
>> 3. Python 2.3 path is /System/Library/Frameworks/Python.framework/Versions/2.3/
>> 4. Python2.3 executable is in /usr/local/sbin
>> 5. Python2.5 path is /System/Library/Frameworks/Python.framework/Versions/2.5/
>> 6. Python2.5 Executable is in /usr/bin
>> 7. Apache version 2.0 is enabled in 32-bit mode (reconfigured the apache plist for 32-bit)
>> 8. Ran .sudo ./configure --with-python=/usr/bin/python2.5
>> 9. Added to Makefile with library path pointing to Python2.5 in LDFLAGS
>> 10. Added to Makefile '-arch i386' to LDFLAGS, CFLAGS and under mod_python.so
>> 11. After doing a "make && sudo make install" I get a mod_python.so built with Python2.3 framework (????)
>>
>> I want this mod_python to be Python2.5 compliant ONLY.
>>
>> So all my Python web apps crash. Error_logs report version conflicts.
>>
>> Below is the listing from "make && sudo make install'
>>
>> www:mod_python-3.3.1 Tool$ make && sudo make install
>>
>> Compiling for DSO.
>>
>> /usr/sbin/apxs -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 -c -Wc,"-arch i386" mod_python.c _apachemodule.c requestobject.c tableobject.c util.c serverobject.c connobject.c filterobject.c hlist.c hlistobject.c finfoobject.c -Wl,-framework,Python ?-u _PyMac_Error -framework Python ? -Wl,-F/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5 -arch i386 ? -lm ?-framework ?Python ? ?-ldl
>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o mod_python.lo mod_python.c && touch mod_python.slo
>> mod_python.c: In function 'python_init':
>> mod_python.c:826: warning: initialization from incompatible pointer type
>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o _apachemodule.lo _apachemodule.c && touch _apachemodule.slo
>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o requestobject.lo requestobject.c && touch requestobject.slo
>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o tableobject.lo tableobject.c && touch tableobject.slo
>> tableobject.c:329: warning: initialization from incompatible pointer type
>> tableobject.c:1092: warning: initialization from incompatible pointer type
>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o util.lo util.c && touch util.slo
>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o serverobject.lo serverobject.c && touch serverobject.slo
>> serverobject.c:387: warning: initialization from incompatible pointer type
>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o connobject.lo connobject.c && touch connobject.slo
>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o filterobject.lo filterobject.c && touch filterobject.slo
>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o hlist.lo hlist.c && touch hlist.slo
>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o hlistobject.lo hlistobject.c && touch hlistobject.slo
>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o finfoobject.lo finfoobject.c && touch finfoobject.slo
>> finfoobject.c:278: warning: 'intargfunc' is deprecated
>> finfoobject.c:278: warning: initialization from incompatible pointer type
>> /usr/share/apr-1/build-1/libtool --silent --mode=link gcc -o mod_python.la ?-rpath /usr/libexec/apache2 -module -avoid-version ? ?finfoobject.lo hlistobject.lo hlist.lo filterobject.lo connobject.lo serverobject.lo util.lo tableobject.lo requestobject.lo _apachemodule.lo mod_python.lo -Wl,-framework,Python -u _PyMac_Error -framework Python -Wl,-F/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5 -arch i386 -lm -framework Python -ldl
>> make[2]: `psp_parser.c' is up to date.
>> /usr/bin/python2.5 setup.py build
>> running build
>> running build_py
>> running build_ext
>>
>> Now su and make install
>> ?(or, if you only want to perform a partial install,
>> ? you can use make install_dso and make install_py_lib)
>>
>> Password:
>> make[3]: `psp_parser.c' is up to date.
>> /usr/bin/python2.5 setup.py build
>> running build
>> running build_py
>> running build_ext
>>
>> Now su and make install
>> ?(or, if you only want to perform a partial install,
>> ? you can use make install_dso and make install_py_lib)
>>
>>
>> Performing DSO installation.
>>
>> /usr/bin/install -c -d /usr/libexec/apache2
>> /usr/bin/install -c src/mod_python.so /usr/libexec/apache2
>>
>> Now don't forget to edit your main config and add
>> ? ?LoadModule python_module /usr/libexec/apache2/mod_python.so
>> and if your configuration uses ClearModuleList, then also
>> ? ?AddModule mod_python.c
>>
>> cd dist && make install_py_lib
>> make[3]: `psp_parser.c' is up to date.
>> if test -z "" ; then \
>> ? ? ? ? ? ? ? ?/usr/bin/python2.5 setup.py install --optimize 2 --force ; \
>> ? ? ? ?else \
>> ? ? ? ? ? ? ? ?/usr/bin/python2.5 setup.py install --optimize 2 --force --root ?; \
>> ? ? ? ?fi
>> running install
>> running build
>> running build_py
>> running build_ext
>> running install_lib
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/__init__.py -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/_psp.so -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/apache.py -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/cache.py -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/cgihandler.py -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/Cookie.py -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/importer.py -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/psp.py -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/publisher.py -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/python22.py -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/Session.py -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/testhandler.py -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/util.py -> /Library/Python/2.5/site-packages/mod_python
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/__init__.py to __init__.pyc
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/apache.py to apache.pyc
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/cache.py to cache.pyc
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/cgihandler.py to cgihandler.pyc
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/Cookie.py to Cookie.pyc
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/importer.py to importer.pyc
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/psp.py to psp.pyc
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/publisher.py to publisher.pyc
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/python22.py to python22.pyc
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/Session.py to Session.pyc
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/testhandler.py to testhandler.pyc
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/util.py to util.pyc
>> writing byte-compilation script '/tmp/tmpG6QrK-.py'
>> /System/Library/Frameworks/Python.framework/Versions/2.5/Resources/Python.app/Contents/MacOS/Python -OO /tmp/tmpG6QrK-.py
>> removing /tmp/tmpG6QrK-.py
>> running install_egg_info
>> Removing /Library/Python/2.5/site-packages/mod_python-3.3.1-py2.5.egg-info
>> Writing /Library/Python/2.5/site-packages/mod_python-3.3.1-py2.5.egg-info
>> www:mod_python-3.3.1 Tool$ cd src
>> www:src Tool$ ls
>> Makefile ? ? ? ? ? ? ? ?connobject.lo ? ? ? ? ? hlist.lo ? ? ? ? ? ? ? ?mod_python.slo ? ? ? ? ?serverobject.o
>> Makefile.in ? ? ? ? ? ? connobject.o ? ? ? ? ? ?hlist.o ? ? ? ? ? ? ? ? mod_python.so ? ? ? ? ? serverobject.slo
>> Makefile.txt ? ? ? ? ? ?connobject.slo ? ? ? ? ?hlist.slo ? ? ? ? ? ? ? mod_python.vcproj ? ? ? tableobject.c
>> Makefile_bak ? ? ? ? ? ?filterobject.c ? ? ? ? ?hlistobject.c ? ? ? ? ? psp_parser.c ? ? ? ? ? ?tableobject.lo
>> Makefile_bak_16MAR ? ? ?filterobject.lo ? ? ? ? hlistobject.lo ? ? ? ? ?psp_parser.l ? ? ? ? ? ?tableobject.o
>> Version.rc ? ? ? ? ? ? ?filterobject.o ? ? ? ? ?hlistobject.o ? ? ? ? ? psp_string.c ? ? ? ? ? ?tableobject.slo
>> _apachemodule.c ? ? ? ? filterobject.slo ? ? ? ?hlistobject.slo ? ? ? ? requestobject.c ? ? ? ? util.c
>> _apachemodule.lo ? ? ? ?finfoobject.c ? ? ? ? ? include ? ? ? ? ? ? ? ? requestobject.lo ? ? ? ?util.lo
>> _apachemodule.o ? ? ? ? finfoobject.lo ? ? ? ? ?mod_python.c ? ? ? ? ? ?requestobject.o ? ? ? ? util.o
>> _apachemodule.slo ? ? ? finfoobject.o ? ? ? ? ? mod_python.la ? ? ? ? ? requestobject.slo ? ? ? util.slo
>> _pspmodule.c ? ? ? ? ? ?finfoobject.slo ? ? ? ? mod_python.lo ? ? ? ? ? serverobject.c
>> connobject.c ? ? ? ? ? ?hlist.c ? ? ? ? ? ? ? ? mod_python.o ? ? ? ? ? ?serverobject.lo
>> www:src Tool$ otool -L mod_python.so
>> mod_python.so:
>> ? ? ? ?/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 111.1.3)
>> ? ? ? ?/System/Library/Frameworks/Python.framework/Versions/2.3/Python (compatibility version 2.3.0, current version 2.3.5)
>> ? ? ? ?/usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)
>> www:src Tool$ file mod_python.so
>> mod_python.so: Mach-O bundle i386
>>
>>
>> PLEASE HELP.
>>
>> Thanks and Regards,
>> Eeswar
>>
>>
>> _______________________________________________
>> Mod_python mailing list
>> Mod_python@modpython.org
>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>
>

From graham.dumpleton at gmail.com  Mon Apr 20 03:05:24 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Mon Apr 20 03:05:28 2009
Subject: [mod_python] mod_python: How-to Resolve Python Version conflicts
In-Reply-To: <422D390FE3F94B47B2D145726F017C4C6BF7F26C46@MAIL3.VIJ.PB.com>
References: <422D390FE3F94B47B2D145726F017C4C6BF7F26C3C@MAIL3.VIJ.PB.com>
	<88e286470904171515y321e88c7y4b31e20fb376db7@mail.gmail.com>
	<422D390FE3F94B47B2D145726F017C4C6BF7F26C45@MAIL3.VIJ.PB.com>
	<422D390FE3F94B47B2D145726F017C4C6BF7F26C46@MAIL3.VIJ.PB.com>
Message-ID: <88e286470904200005w4a251693v87681b0aef315107@mail.gmail.com>

2009/4/18 Eeswar Kameswara Rao <eeswar@pbsystems.com>:
> Currently how things look on my system
> --------------------------------------------------
> SRC/MAKEFILE
>
> CC=gcc
> AR=ar
> APXS=/usr/sbin/apxs
> MKDEP=@MKDEP@
>
> # requires flex 2.5.31 for reentrant support
> LEX=/usr/bin/flex
> INCLUDES=-I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5
> LIBS=-lm ?-framework ?Python ? ?-ldl
> LDFLAGS= -Wl,-framework,Python ?-u _PyMac_Error -framework Python ? -Wl,-F/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5 -arch i386

LDFLAGS is wrong. It should be something like:

  LDFLAGS = -F/System/Library/Frameworks -framework Python -u _PyMac_Error

As I said before, you are better off checking out latest version from
subversion repository rather than fudging it yourself.

Your changes aren't going to cover all places where fixes are required
and in particular PSP support may not work if you need this to be
working under multiple architectures at some point.

Graham

> OPT=
> CFLAGS=$(OPT) $(INCLUDES) -arch i386
> CPPFLAGS = -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 -DNDEBUG -DMACOSX -DENABLE_DTRACE
> srcdir=.
>
> SRCS= ? mod_python.c _apachemodule.c requestobject.c tableobject.c util.c \
> ? ? ? ? ? ? ? ?serverobject.c connobject.c filterobject.c hlist.c \
> ? ? ? ? ? ? ? ?hlistobject.c finfoobject.c
>
> all: ? ?dso
>
> psp_parser.c: psp_parser.l
> ? ? ? ?@rm -f psp_parser.c
> ? ? ? ?$(LEX) -R -opsp_parser.c --header-file=include/psp_flex.h psp_parser.l
>
> dso: ? ?mod_python.so
> ? ? ? ?@echo dso > .install
>
> mod_python.so: $(SRCS)
> ? ? ? ?@echo
> ? ? ? ?@echo 'Compiling for DSO.'
> ? ? ? ?@echo
> ? ? ? ?$(APXS) $(INCLUDES) -c -Wc,"-arch i386" $(SRCS) $(LDFLAGS) $(LIBS)
> ? ? ? ?@rm -f mod_python.so
> ? ? ? ?@ln -s .libs/mod_python.so mod_python.so
> clean:
> ? ? ? ?rm -rf $(OBJS) core libpython.a mod_python.so *~ .libs *.o *.slo *.lo *.la
>
> distclean: clean
> ? ? ? ?rm -f Makefile .depend .install
>
> # this is a hack to help avoid a gcc/solaris problem
> # python uses assert() which needs _eprintf(). See
> # SOLARIS_HACKS above
> _eprintf.o:
> ? ? ? ?ar -x `gcc -print-libgcc-file-name` _eprintf.o
> _floatdidf.o:
> ? ? ? ?ar -x `gcc -print-libgcc-file-name` _floatdidf.o
> _muldi3.o:
> ? ? ? ?ar -x `gcc -print-libgcc-file-name` _muldi3.o
>
> # DO NOT DELETE THIS LINE
>
>
> Symlink 'Current' status
> --------------------------------------------
> #####Initally
>
> 0 drwxr-xr-x ? 9 root ?wheel ?306 Oct 14 ?2008 2.3
> 0 drwxr-xr-x ?11 root ?wheel ?374 Mar 13 15:06 2.5
> 8 lrwxrwxrwx ? 1 root ?wheel ? ?3 Oct 14 ?2008 Current -> 2.3
>
> ##MeanWhile to Configure mod_python
> drwxr-xr-x ? 9 root ?wheel ?306 Oct 14 ?2008 2.3
> drwxrwxrwx ?11 root ?wheel ?374 Mar 13 15:06 2.5
> lrwxr-xr-x ? 1 root ?wheel ? ?3 Apr 18 11:36 Current -> 2.5
> lrwxrwxrwx ? 1 root ?wheel ? ?3 Oct 14 ?2008 Current_bak_18_APR -> 2.3
>
> ##After creating mod_python Reset back to 2.3. So, Finally
> 0 drwxr-xr-x ? 9 root ?wheel ?306 Oct 14 ?2008 2.3
> 0 drwxr-xr-x ?11 root ?wheel ?374 Mar 13 15:06 2.5
> 8 lrwxrwxrwx ? 1 root ?wheel ? ?3 Oct 14 ?2008 Current -> 2.3
> 8 lrwxr-xr-x ? 1 root ?wheel ? ?3 Apr 18 11:36 Current2.5 -> 2.5
>
>
> Regards,
> Eeswar
>
>
> ________________________________________
> From: Eeswar Kameswara Rao
> Sent: Saturday, April 18, 2009 1:35 PM
> To: Graham Dumpleton
> Cc: mod_python@modpython.org
> Subject: RE: [mod_python] mod_python: How-to Resolve Python Version conflicts
>
> Thank you Graham for the immediate ?response.
>
> Sorry I could not reply immediately.
> I have actually figured the solution and fell asleep (work in a different time zone).
>
> I missed to mention the following facts: -
> 1. I have two different users for each of the Python versions
> 2. One user runs on Python 2.5.1 and another user on Python 2.3.5
> 3. I run Mac OSX 10.5.6 with latest updates
> 4. For each of the users the default python PATHS are setup so that each gets his/her own version of python at command prompt
>
>
> Changes I made to make Python 2.5 and 2.3 co-exist without interfering with each other
> ------------------------------------------------------------------------------------------------------------
> 1. I modified the symlink /System/Library/Frameworks/Python/Versions/Current ?point to 2.5
> 2. Then redid the following
> ./configure --with-ptyhon=/usr/bin/python2.5
> Modified the paths in Makefile to point to Python2.5
> Added '-arch i386' options wherever required in the Makefile
> make && sudo make install
> www:src Tool$ otool -L mod_python.so
>> mod_python.so:
>> ? ? ? ?/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 111.1.3)
>> ? ? ? ?/System/Library/Frameworks/Python.framework/Versions/2.5/Python (compatibility version 2.5.0, current version 2.5.1)
>> ? ? ? ?/usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)
>> www:src Tool$ file mod_python.so
>> mod_python.so: Mach-O bundle i386
>
> I have reset the symlink Current to 2.3.
>
> Note
> -------
> 1. Looks like the symlink '/System/Library/Frameworks/Python/Versions/Current ' plays a very important role up to creating the mod_python.so.
> 2. Now I am able to run the python web-apps from any login irrespective of which python version access is provided to
>
> INFERENCES (please validate these)
> ---------------------------------------------------------
> 1. Web-based python does not include command-prompt based python
> 2. All python web-apps refer only to mod_python
> 3. Command prompt Python refers to the PATH variable in the Shell's ENV variables whereas mod_python refers to its own internal path settings for python version (which probably got create during the 'Configure and Make')
> 3. Mod-python uses the python settings provided during the "./configure --with-python=" and the settings provided in the python paths of Makefile
> 4. Specifying Architecture is an important component for creating a workable mod_python
>
>
> Regards,
> Eeswar
> ________________________________________
> From: Graham Dumpleton [graham.dumpleton@gmail.com]
> Sent: Saturday, April 18, 2009 3:45 AM
> To: Eeswar Kameswara Rao
> Cc: mod_python@modpython.org
> Subject: Re: [mod_python] mod_python: How-to Resolve Python Version conflicts
>
> You may well have screwed up your operating system Python
> installation. You should never install separate Python versions under
> /System/Library as that is reserved for operating system supplied
> packages. You should also never change /usr/bin/python to put at some
> other version because if operating system functions are dependent on
> the version that was there previously, you will cause those bits of
> the operating system to fail.
>
> Since your operating system is now in such an unknown state of
> functioning, there isn't probably much point trying to pursue why you
> have problems.
>
> Next time install the alternate Python under /Library or better still
> /usr/local and don't stuff with /usr/bin/python. Then as per
> instructions for mod_python, use the --with-python option to configure
> script to say which version of Python you want to use rather than
> trying to hand edit things as you likely aren't changing everything
> that would need to be different when different Python version used.
>
> Graham
>
> 2009/4/18 Eeswar Kameswara Rao <eeswar@pbsystems.com>:
>> Hello All,
>>
>> I am new to this list. I am having trouble to access the archives.
>>
>> Here is my problem. PLEASE HELP.
>>
>> ISSUE
>> ---------
>> 1. After I do "make && sudo make install" I get a mod_python.so in the src and .libs directories
>> 2. When I do a 'otool -L ./mod_python.so' ?it reports
>> www:src Tool$ otool -L mod_python.so
>> mod_python.so:
>> ? ? ? ?/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 111.1.3)
>> ? ? ? ?/System/Library/Frameworks/Python.framework/Versions/2.3/Python (compatibility version 2.3.0, current version 2.3.5)
>> ? ? ? ?/usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)
>>
>> SCENARIO
>> ---------------
>> 1. H/W - Intel Core2Duo MacBook laptop
>> 2. I have two versions of Python i.e. 2.3 and 2.5.1
>> 3. Python 2.3 path is /System/Library/Frameworks/Python.framework/Versions/2.3/
>> 4. Python2.3 executable is in /usr/local/sbin
>> 5. Python2.5 path is /System/Library/Frameworks/Python.framework/Versions/2.5/
>> 6. Python2.5 Executable is in /usr/bin
>> 7. Apache version 2.0 is enabled in 32-bit mode (reconfigured the apache plist for 32-bit)
>> 8. Ran .sudo ./configure --with-python=/usr/bin/python2.5
>> 9. Added to Makefile with library path pointing to Python2.5 in LDFLAGS
>> 10. Added to Makefile '-arch i386' to LDFLAGS, CFLAGS and under mod_python.so
>> 11. After doing a "make && sudo make install" I get a mod_python.so built with Python2.3 framework (????)
>>
>> I want this mod_python to be Python2.5 compliant ONLY.
>>
>> So all my Python web apps crash. Error_logs report version conflicts.
>>
>> Below is the listing from "make && sudo make install'
>>
>> www:mod_python-3.3.1 Tool$ make && sudo make install
>>
>> Compiling for DSO.
>>
>> /usr/sbin/apxs -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 -c -Wc,"-arch i386" mod_python.c _apachemodule.c requestobject.c tableobject.c util.c serverobject.c connobject.c filterobject.c hlist.c hlistobject.c finfoobject.c -Wl,-framework,Python ?-u _PyMac_Error -framework Python ? -Wl,-F/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5 -arch i386 ? -lm ?-framework ?Python ? ?-ldl
>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o mod_python.lo mod_python.c && touch mod_python.slo
>> mod_python.c: In function 'python_init':
>> mod_python.c:826: warning: initialization from incompatible pointer type
>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o _apachemodule.lo _apachemodule.c && touch _apachemodule.slo
>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o requestobject.lo requestobject.c && touch requestobject.slo
>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o tableobject.lo tableobject.c && touch tableobject.slo
>> tableobject.c:329: warning: initialization from incompatible pointer type
>> tableobject.c:1092: warning: initialization from incompatible pointer type
>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o util.lo util.c && touch util.slo
>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o serverobject.lo serverobject.c && touch serverobject.slo
>> serverobject.c:387: warning: initialization from incompatible pointer type
>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o connobject.lo connobject.c && touch connobject.slo
>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o filterobject.lo filterobject.c && touch filterobject.slo
>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o hlist.lo hlist.c && touch hlist.slo
>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o hlistobject.lo hlistobject.c && touch hlistobject.slo
>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o finfoobject.lo finfoobject.c && touch finfoobject.slo
>> finfoobject.c:278: warning: 'intargfunc' is deprecated
>> finfoobject.c:278: warning: initialization from incompatible pointer type
>> /usr/share/apr-1/build-1/libtool --silent --mode=link gcc -o mod_python.la ?-rpath /usr/libexec/apache2 -module -avoid-version ? ?finfoobject.lo hlistobject.lo hlist.lo filterobject.lo connobject.lo serverobject.lo util.lo tableobject.lo requestobject.lo _apachemodule.lo mod_python.lo -Wl,-framework,Python -u _PyMac_Error -framework Python -Wl,-F/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5 -arch i386 -lm -framework Python -ldl
>> make[2]: `psp_parser.c' is up to date.
>> /usr/bin/python2.5 setup.py build
>> running build
>> running build_py
>> running build_ext
>>
>> Now su and make install
>> ?(or, if you only want to perform a partial install,
>> ? you can use make install_dso and make install_py_lib)
>>
>> Password:
>> make[3]: `psp_parser.c' is up to date.
>> /usr/bin/python2.5 setup.py build
>> running build
>> running build_py
>> running build_ext
>>
>> Now su and make install
>> ?(or, if you only want to perform a partial install,
>> ? you can use make install_dso and make install_py_lib)
>>
>>
>> Performing DSO installation.
>>
>> /usr/bin/install -c -d /usr/libexec/apache2
>> /usr/bin/install -c src/mod_python.so /usr/libexec/apache2
>>
>> Now don't forget to edit your main config and add
>> ? ?LoadModule python_module /usr/libexec/apache2/mod_python.so
>> and if your configuration uses ClearModuleList, then also
>> ? ?AddModule mod_python.c
>>
>> cd dist && make install_py_lib
>> make[3]: `psp_parser.c' is up to date.
>> if test -z "" ; then \
>> ? ? ? ? ? ? ? ?/usr/bin/python2.5 setup.py install --optimize 2 --force ; \
>> ? ? ? ?else \
>> ? ? ? ? ? ? ? ?/usr/bin/python2.5 setup.py install --optimize 2 --force --root ?; \
>> ? ? ? ?fi
>> running install
>> running build
>> running build_py
>> running build_ext
>> running install_lib
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/__init__.py -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/_psp.so -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/apache.py -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/cache.py -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/cgihandler.py -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/Cookie.py -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/importer.py -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/psp.py -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/publisher.py -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/python22.py -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/Session.py -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/testhandler.py -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/util.py -> /Library/Python/2.5/site-packages/mod_python
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/__init__.py to __init__.pyc
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/apache.py to apache.pyc
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/cache.py to cache.pyc
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/cgihandler.py to cgihandler.pyc
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/Cookie.py to Cookie.pyc
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/importer.py to importer.pyc
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/psp.py to psp.pyc
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/publisher.py to publisher.pyc
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/python22.py to python22.pyc
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/Session.py to Session.pyc
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/testhandler.py to testhandler.pyc
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/util.py to util.pyc
>> writing byte-compilation script '/tmp/tmpG6QrK-.py'
>> /System/Library/Frameworks/Python.framework/Versions/2.5/Resources/Python.app/Contents/MacOS/Python -OO /tmp/tmpG6QrK-.py
>> removing /tmp/tmpG6QrK-.py
>> running install_egg_info
>> Removing /Library/Python/2.5/site-packages/mod_python-3.3.1-py2.5.egg-info
>> Writing /Library/Python/2.5/site-packages/mod_python-3.3.1-py2.5.egg-info
>> www:mod_python-3.3.1 Tool$ cd src
>> www:src Tool$ ls
>> Makefile ? ? ? ? ? ? ? ?connobject.lo ? ? ? ? ? hlist.lo ? ? ? ? ? ? ? ?mod_python.slo ? ? ? ? ?serverobject.o
>> Makefile.in ? ? ? ? ? ? connobject.o ? ? ? ? ? ?hlist.o ? ? ? ? ? ? ? ? mod_python.so ? ? ? ? ? serverobject.slo
>> Makefile.txt ? ? ? ? ? ?connobject.slo ? ? ? ? ?hlist.slo ? ? ? ? ? ? ? mod_python.vcproj ? ? ? tableobject.c
>> Makefile_bak ? ? ? ? ? ?filterobject.c ? ? ? ? ?hlistobject.c ? ? ? ? ? psp_parser.c ? ? ? ? ? ?tableobject.lo
>> Makefile_bak_16MAR ? ? ?filterobject.lo ? ? ? ? hlistobject.lo ? ? ? ? ?psp_parser.l ? ? ? ? ? ?tableobject.o
>> Version.rc ? ? ? ? ? ? ?filterobject.o ? ? ? ? ?hlistobject.o ? ? ? ? ? psp_string.c ? ? ? ? ? ?tableobject.slo
>> _apachemodule.c ? ? ? ? filterobject.slo ? ? ? ?hlistobject.slo ? ? ? ? requestobject.c ? ? ? ? util.c
>> _apachemodule.lo ? ? ? ?finfoobject.c ? ? ? ? ? include ? ? ? ? ? ? ? ? requestobject.lo ? ? ? ?util.lo
>> _apachemodule.o ? ? ? ? finfoobject.lo ? ? ? ? ?mod_python.c ? ? ? ? ? ?requestobject.o ? ? ? ? util.o
>> _apachemodule.slo ? ? ? finfoobject.o ? ? ? ? ? mod_python.la ? ? ? ? ? requestobject.slo ? ? ? util.slo
>> _pspmodule.c ? ? ? ? ? ?finfoobject.slo ? ? ? ? mod_python.lo ? ? ? ? ? serverobject.c
>> connobject.c ? ? ? ? ? ?hlist.c ? ? ? ? ? ? ? ? mod_python.o ? ? ? ? ? ?serverobject.lo
>> www:src Tool$ otool -L mod_python.so
>> mod_python.so:
>> ? ? ? ?/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 111.1.3)
>> ? ? ? ?/System/Library/Frameworks/Python.framework/Versions/2.3/Python (compatibility version 2.3.0, current version 2.3.5)
>> ? ? ? ?/usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)
>> www:src Tool$ file mod_python.so
>> mod_python.so: Mach-O bundle i386
>>
>>
>> PLEASE HELP.
>>
>> Thanks and Regards,
>> Eeswar
>>
>>
>> _______________________________________________
>> Mod_python mailing list
>> Mod_python@modpython.org
>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>
>

From eeswar at pbsystems.com  Mon Apr 20 03:23:42 2009
From: eeswar at pbsystems.com (Eeswar Kameswara Rao)
Date: Mon Apr 20 03:19:08 2009
Subject: [mod_python] mod_python: How-to Resolve Python Version conflicts
Message-ID: <422D390FE3F94B47B2D145726F017C4C6BF7F26C4F@MAIL3.VIJ.PB.com>

That's True Graham.

I installed the Python 2.3.5 from source.

Regards,
Eeswar
________________________________________
From: Graham Dumpleton [graham.dumpleton@gmail.com]
Sent: Monday, April 20, 2009 12:32 PM
To: Eeswar Kameswara Rao
Cc: mod_python@modpython.org
Subject: Re: [mod_python] mod_python: How-to Resolve Python Version conflicts

2009/4/18 Eeswar Kameswara Rao <eeswar@pbsystems.com>:
> Thank you Graham for the immediate  response.
>
> Sorry I could not reply immediately.
> I have actually figured the solution and fell asleep (work in a different time zone).
>
> I missed to mention the following facts: -
> 1. I have two different users for each of the Python versions
> 2. One user runs on Python 2.5.1 and another user on Python 2.3.5

I still don't understand where Python 2.3.5 came from as a complete
Python 2.3.5 installation is not supplied with MacOS X 10.5. Did you
install your own Python 2.3.5 from source code? Did you install that
under /System/Library?

Anyway, as long as you have got it work and are happy.

Graham

> 3. I run Mac OSX 10.5.6 with latest updates
> 4. For each of the users the default python PATHS are setup so that each gets his/her own version of python at command prompt
>
>
> Changes I made to make Python 2.5 and 2.3 co-exist without interfering with each other
> ------------------------------------------------------------------------------------------------------------
> 1. I modified the symlink /System/Library/Frameworks/Python/Versions/Current  point to 2.5
> 2. Then redid the following
> ./configure --with-ptyhon=/usr/bin/python2.5
> Modified the paths in Makefile to point to Python2.5
> Added '-arch i386' options wherever required in the Makefile
> make && sudo make install
> www:src Tool$ otool -L mod_python.so
>> mod_python.so:
>>        /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 111.1.3)
>>        /System/Library/Frameworks/Python.framework/Versions/2.5/Python (compatibility version 2.5.0, current version 2.5.1)
>>        /usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)
>> www:src Tool$ file mod_python.so
>> mod_python.so: Mach-O bundle i386
>
> I have reset the symlink Current to 2.3.
>
> Note
> -------
> 1. Looks like the symlink '/System/Library/Frameworks/Python/Versions/Current ' plays a very important role up to creating the mod_python.so.
> 2. Now I am able to run the python web-apps from any login irrespective of which python version access is provided to
>
> INFERENCES (please validate these)
> ---------------------------------------------------------
> 1. Web-based python does not include command-prompt based python
> 2. All python web-apps refer only to mod_python
> 3. Command prompt Python refers to the PATH variable in the Shell's ENV variables whereas mod_python refers to its own internal path settings for python version (which probably got create during the 'Configure and Make')
> 3. Mod-python uses the python settings provided during the "./configure --with-python=" and the settings provided in the python paths of Makefile
> 4. Specifying Architecture is an important component for creating a workable mod_python
>
>
> Regards,
> Eeswar
> ________________________________________
> From: Graham Dumpleton [graham.dumpleton@gmail.com]
> Sent: Saturday, April 18, 2009 3:45 AM
> To: Eeswar Kameswara Rao
> Cc: mod_python@modpython.org
> Subject: Re: [mod_python] mod_python: How-to Resolve Python Version conflicts
>
> You may well have screwed up your operating system Python
> installation. You should never install separate Python versions under
> /System/Library as that is reserved for operating system supplied
> packages. You should also never change /usr/bin/python to put at some
> other version because if operating system functions are dependent on
> the version that was there previously, you will cause those bits of
> the operating system to fail.
>
> Since your operating system is now in such an unknown state of
> functioning, there isn't probably much point trying to pursue why you
> have problems.
>
> Next time install the alternate Python under /Library or better still
> /usr/local and don't stuff with /usr/bin/python. Then as per
> instructions for mod_python, use the --with-python option to configure
> script to say which version of Python you want to use rather than
> trying to hand edit things as you likely aren't changing everything
> that would need to be different when different Python version used.
>
> Graham
>
> 2009/4/18 Eeswar Kameswara Rao <eeswar@pbsystems.com>:
>> Hello All,
>>
>> I am new to this list. I am having trouble to access the archives.
>>
>> Here is my problem. PLEASE HELP.
>>
>> ISSUE
>> ---------
>> 1. After I do "make && sudo make install" I get a mod_python.so in the src and .libs directories
>> 2. When I do a 'otool -L ./mod_python.so'  it reports
>> www:src Tool$ otool -L mod_python.so
>> mod_python.so:
>>        /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 111.1.3)
>>        /System/Library/Frameworks/Python.framework/Versions/2.3/Python (compatibility version 2.3.0, current version 2.3.5)
>>        /usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)
>>
>> SCENARIO
>> ---------------
>> 1. H/W - Intel Core2Duo MacBook laptop
>> 2. I have two versions of Python i.e. 2.3 and 2.5.1
>> 3. Python 2.3 path is /System/Library/Frameworks/Python.framework/Versions/2.3/
>> 4. Python2.3 executable is in /usr/local/sbin
>> 5. Python2.5 path is /System/Library/Frameworks/Python.framework/Versions/2.5/
>> 6. Python2.5 Executable is in /usr/bin
>> 7. Apache version 2.0 is enabled in 32-bit mode (reconfigured the apache plist for 32-bit)
>> 8. Ran .sudo ./configure --with-python=/usr/bin/python2.5
>> 9. Added to Makefile with library path pointing to Python2.5 in LDFLAGS
>> 10. Added to Makefile '-arch i386' to LDFLAGS, CFLAGS and under mod_python.so
>> 11. After doing a "make && sudo make install" I get a mod_python.so built with Python2.3 framework (????)
>>
>> I want this mod_python to be Python2.5 compliant ONLY.
>>
>> So all my Python web apps crash. Error_logs report version conflicts.
>>
>> Below is the listing from "make && sudo make install'
>>
>> www:mod_python-3.3.1 Tool$ make && sudo make install
>>
>> Compiling for DSO.
>>
>> /usr/sbin/apxs -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 -c -Wc,"-arch i386" mod_python.c _apachemodule.c requestobject.c tableobject.c util.c serverobject.c connobject.c filterobject.c hlist.c hlistobject.c finfoobject.c -Wl,-framework,Python  -u _PyMac_Error -framework Python   -Wl,-F/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5 -arch i386   -lm  -framework  Python    -ldl
>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o mod_python.lo mod_python.c && touch mod_python.slo
>> mod_python.c: In function 'python_init':
>> mod_python.c:826: warning: initialization from incompatible pointer type
>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o _apachemodule.lo _apachemodule.c && touch _apachemodule.slo
>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o requestobject.lo requestobject.c && touch requestobject.slo
>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o tableobject.lo tableobject.c && touch tableobject.slo
>> tableobject.c:329: warning: initialization from incompatible pointer type
>> tableobject.c:1092: warning: initialization from incompatible pointer type
>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o util.lo util.c && touch util.slo
>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o serverobject.lo serverobject.c && touch serverobject.slo
>> serverobject.c:387: warning: initialization from incompatible pointer type
>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o connobject.lo connobject.c && touch connobject.slo
>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o filterobject.lo filterobject.c && touch filterobject.slo
>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o hlist.lo hlist.c && touch hlist.slo
>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o hlistobject.lo hlistobject.c && touch hlistobject.slo
>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2  -I/usr/include/apr-1   -I/usr/include/apr-1  -arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5  -c -o finfoobject.lo finfoobject.c && touch finfoobject.slo
>> finfoobject.c:278: warning: 'intargfunc' is deprecated
>> finfoobject.c:278: warning: initialization from incompatible pointer type
>> /usr/share/apr-1/build-1/libtool --silent --mode=link gcc -o mod_python.la  -rpath /usr/libexec/apache2 -module -avoid-version    finfoobject.lo hlistobject.lo hlist.lo filterobject.lo connobject.lo serverobject.lo util.lo tableobject.lo requestobject.lo _apachemodule.lo mod_python.lo -Wl,-framework,Python -u _PyMac_Error -framework Python -Wl,-F/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5 -arch i386 -lm -framework Python -ldl
>> make[2]: `psp_parser.c' is up to date.
>> /usr/bin/python2.5 setup.py build
>> running build
>> running build_py
>> running build_ext
>>
>> Now su and make install
>>  (or, if you only want to perform a partial install,
>>   you can use make install_dso and make install_py_lib)
>>
>> Password:
>> make[3]: `psp_parser.c' is up to date.
>> /usr/bin/python2.5 setup.py build
>> running build
>> running build_py
>> running build_ext
>>
>> Now su and make install
>>  (or, if you only want to perform a partial install,
>>   you can use make install_dso and make install_py_lib)
>>
>>
>> Performing DSO installation.
>>
>> /usr/bin/install -c -d /usr/libexec/apache2
>> /usr/bin/install -c src/mod_python.so /usr/libexec/apache2
>>
>> Now don't forget to edit your main config and add
>>    LoadModule python_module /usr/libexec/apache2/mod_python.so
>> and if your configuration uses ClearModuleList, then also
>>    AddModule mod_python.c
>>
>> cd dist && make install_py_lib
>> make[3]: `psp_parser.c' is up to date.
>> if test -z "" ; then \
>>                /usr/bin/python2.5 setup.py install --optimize 2 --force ; \
>>        else \
>>                /usr/bin/python2.5 setup.py install --optimize 2 --force --root  ; \
>>        fi
>> running install
>> running build
>> running build_py
>> running build_ext
>> running install_lib
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/__init__.py -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/_psp.so -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/apache.py -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/cache.py -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/cgihandler.py -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/Cookie.py -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/importer.py -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/psp.py -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/publisher.py -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/python22.py -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/Session.py -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/testhandler.py -> /Library/Python/2.5/site-packages/mod_python
>> copying build/lib.macosx-10.5-i386-2.5/mod_python/util.py -> /Library/Python/2.5/site-packages/mod_python
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/__init__.py to __init__.pyc
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/apache.py to apache.pyc
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/cache.py to cache.pyc
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/cgihandler.py to cgihandler.pyc
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/Cookie.py to Cookie.pyc
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/importer.py to importer.pyc
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/psp.py to psp.pyc
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/publisher.py to publisher.pyc
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/python22.py to python22.pyc
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/Session.py to Session.pyc
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/testhandler.py to testhandler.pyc
>> byte-compiling /Library/Python/2.5/site-packages/mod_python/util.py to util.pyc
>> writing byte-compilation script '/tmp/tmpG6QrK-.py'
>> /System/Library/Frameworks/Python.framework/Versions/2.5/Resources/Python.app/Contents/MacOS/Python -OO /tmp/tmpG6QrK-.py
>> removing /tmp/tmpG6QrK-.py
>> running install_egg_info
>> Removing /Library/Python/2.5/site-packages/mod_python-3.3.1-py2.5.egg-info
>> Writing /Library/Python/2.5/site-packages/mod_python-3.3.1-py2.5.egg-info
>> www:mod_python-3.3.1 Tool$ cd src
>> www:src Tool$ ls
>> Makefile                connobject.lo           hlist.lo                mod_python.slo          serverobject.o
>> Makefile.in             connobject.o            hlist.o                 mod_python.so           serverobject.slo
>> Makefile.txt            connobject.slo          hlist.slo               mod_python.vcproj       tableobject.c
>> Makefile_bak            filterobject.c          hlistobject.c           psp_parser.c            tableobject.lo
>> Makefile_bak_16MAR      filterobject.lo         hlistobject.lo          psp_parser.l            tableobject.o
>> Version.rc              filterobject.o          hlistobject.o           psp_string.c            tableobject.slo
>> _apachemodule.c         filterobject.slo        hlistobject.slo         requestobject.c         util.c
>> _apachemodule.lo        finfoobject.c           include                 requestobject.lo        util.lo
>> _apachemodule.o         finfoobject.lo          mod_python.c            requestobject.o         util.o
>> _apachemodule.slo       finfoobject.o           mod_python.la           requestobject.slo       util.slo
>> _pspmodule.c            finfoobject.slo         mod_python.lo           serverobject.c
>> connobject.c            hlist.c                 mod_python.o            serverobject.lo
>> www:src Tool$ otool -L mod_python.so
>> mod_python.so:
>>        /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 111.1.3)
>>        /System/Library/Frameworks/Python.framework/Versions/2.3/Python (compatibility version 2.3.0, current version 2.3.5)
>>        /usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)
>> www:src Tool$ file mod_python.so
>> mod_python.so: Mach-O bundle i386
>>
>>
>> PLEASE HELP.
>>
>> Thanks and Regards,
>> Eeswar
>>
>>
>> _______________________________________________
>> Mod_python mailing list
>> Mod_python@modpython.org
>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>
>

From graham.dumpleton at gmail.com  Mon Apr 20 03:34:24 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Mon Apr 20 03:34:36 2009
Subject: [mod_python] Re: mod_python: How-to Resolve Python Version conflicts
In-Reply-To: <422D390FE3F94B47B2D145726F017C4C6BF7F26C4F@MAIL3.VIJ.PB.com>
References: <422D390FE3F94B47B2D145726F017C4C6BF7F26C4F@MAIL3.VIJ.PB.com>
Message-ID: <88e286470904200034m1005a71ifa716281672a9634@mail.gmail.com>

2009/4/20 Eeswar Kameswara Rao <eeswar@pbsystems.com>:
> That's True Graham.
>
> I installed the Python 2.3.5 from source.

Just be warned that because you installed it under /System/Library,
which is reserved for Apple packages, you have overwritten the Apple
partial version of Python 2.3. If for some reason Apple ever updates
Python 2.3 in an patch update, your version will be trampled.

If installing from source code you should be installing it somewhere
else, such as /Library or /usr/local.

End result is that it may work with the way you have done it, but it
may also cause problems in event that something that Apple still ships
was expecting to be able to use the Python 2.3 framework.

Graham

> Regards,
> Eeswar
> ________________________________________
> From: Graham Dumpleton [graham.dumpleton@gmail.com]
> Sent: Monday, April 20, 2009 12:32 PM
> To: Eeswar Kameswara Rao
> Cc: mod_python@modpython.org
> Subject: Re: [mod_python] mod_python: How-to Resolve Python Version conflicts
>
> 2009/4/18 Eeswar Kameswara Rao <eeswar@pbsystems.com>:
>> Thank you Graham for the immediate ?response.
>>
>> Sorry I could not reply immediately.
>> I have actually figured the solution and fell asleep (work in a different time zone).
>>
>> I missed to mention the following facts: -
>> 1. I have two different users for each of the Python versions
>> 2. One user runs on Python 2.5.1 and another user on Python 2.3.5
>
> I still don't understand where Python 2.3.5 came from as a complete
> Python 2.3.5 installation is not supplied with MacOS X 10.5. Did you
> install your own Python 2.3.5 from source code? Did you install that
> under /System/Library?
>
> Anyway, as long as you have got it work and are happy.
>
> Graham
>
>> 3. I run Mac OSX 10.5.6 with latest updates
>> 4. For each of the users the default python PATHS are setup so that each gets his/her own version of python at command prompt
>>
>>
>> Changes I made to make Python 2.5 and 2.3 co-exist without interfering with each other
>> ------------------------------------------------------------------------------------------------------------
>> 1. I modified the symlink /System/Library/Frameworks/Python/Versions/Current ?point to 2.5
>> 2. Then redid the following
>> ./configure --with-ptyhon=/usr/bin/python2.5
>> Modified the paths in Makefile to point to Python2.5
>> Added '-arch i386' options wherever required in the Makefile
>> make && sudo make install
>> www:src Tool$ otool -L mod_python.so
>>> mod_python.so:
>>> ? ? ? ?/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 111.1.3)
>>> ? ? ? ?/System/Library/Frameworks/Python.framework/Versions/2.5/Python (compatibility version 2.5.0, current version 2.5.1)
>>> ? ? ? ?/usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)
>>> www:src Tool$ file mod_python.so
>>> mod_python.so: Mach-O bundle i386
>>
>> I have reset the symlink Current to 2.3.
>>
>> Note
>> -------
>> 1. Looks like the symlink '/System/Library/Frameworks/Python/Versions/Current ' plays a very important role up to creating the mod_python.so.
>> 2. Now I am able to run the python web-apps from any login irrespective of which python version access is provided to
>>
>> INFERENCES (please validate these)
>> ---------------------------------------------------------
>> 1. Web-based python does not include command-prompt based python
>> 2. All python web-apps refer only to mod_python
>> 3. Command prompt Python refers to the PATH variable in the Shell's ENV variables whereas mod_python refers to its own internal path settings for python version (which probably got create during the 'Configure and Make')
>> 3. Mod-python uses the python settings provided during the "./configure --with-python=" and the settings provided in the python paths of Makefile
>> 4. Specifying Architecture is an important component for creating a workable mod_python
>>
>>
>> Regards,
>> Eeswar
>> ________________________________________
>> From: Graham Dumpleton [graham.dumpleton@gmail.com]
>> Sent: Saturday, April 18, 2009 3:45 AM
>> To: Eeswar Kameswara Rao
>> Cc: mod_python@modpython.org
>> Subject: Re: [mod_python] mod_python: How-to Resolve Python Version conflicts
>>
>> You may well have screwed up your operating system Python
>> installation. You should never install separate Python versions under
>> /System/Library as that is reserved for operating system supplied
>> packages. You should also never change /usr/bin/python to put at some
>> other version because if operating system functions are dependent on
>> the version that was there previously, you will cause those bits of
>> the operating system to fail.
>>
>> Since your operating system is now in such an unknown state of
>> functioning, there isn't probably much point trying to pursue why you
>> have problems.
>>
>> Next time install the alternate Python under /Library or better still
>> /usr/local and don't stuff with /usr/bin/python. Then as per
>> instructions for mod_python, use the --with-python option to configure
>> script to say which version of Python you want to use rather than
>> trying to hand edit things as you likely aren't changing everything
>> that would need to be different when different Python version used.
>>
>> Graham
>>
>> 2009/4/18 Eeswar Kameswara Rao <eeswar@pbsystems.com>:
>>> Hello All,
>>>
>>> I am new to this list. I am having trouble to access the archives.
>>>
>>> Here is my problem. PLEASE HELP.
>>>
>>> ISSUE
>>> ---------
>>> 1. After I do "make && sudo make install" I get a mod_python.so in the src and .libs directories
>>> 2. When I do a 'otool -L ./mod_python.so' ?it reports
>>> www:src Tool$ otool -L mod_python.so
>>> mod_python.so:
>>> ? ? ? ?/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 111.1.3)
>>> ? ? ? ?/System/Library/Frameworks/Python.framework/Versions/2.3/Python (compatibility version 2.3.0, current version 2.3.5)
>>> ? ? ? ?/usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)
>>>
>>> SCENARIO
>>> ---------------
>>> 1. H/W - Intel Core2Duo MacBook laptop
>>> 2. I have two versions of Python i.e. 2.3 and 2.5.1
>>> 3. Python 2.3 path is /System/Library/Frameworks/Python.framework/Versions/2.3/
>>> 4. Python2.3 executable is in /usr/local/sbin
>>> 5. Python2.5 path is /System/Library/Frameworks/Python.framework/Versions/2.5/
>>> 6. Python2.5 Executable is in /usr/bin
>>> 7. Apache version 2.0 is enabled in 32-bit mode (reconfigured the apache plist for 32-bit)
>>> 8. Ran .sudo ./configure --with-python=/usr/bin/python2.5
>>> 9. Added to Makefile with library path pointing to Python2.5 in LDFLAGS
>>> 10. Added to Makefile '-arch i386' to LDFLAGS, CFLAGS and under mod_python.so
>>> 11. After doing a "make && sudo make install" I get a mod_python.so built with Python2.3 framework (????)
>>>
>>> I want this mod_python to be Python2.5 compliant ONLY.
>>>
>>> So all my Python web apps crash. Error_logs report version conflicts.
>>>
>>> Below is the listing from "make && sudo make install'
>>>
>>> www:mod_python-3.3.1 Tool$ make && sudo make install
>>>
>>> Compiling for DSO.
>>>
>>> /usr/sbin/apxs -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 -c -Wc,"-arch i386" mod_python.c _apachemodule.c requestobject.c tableobject.c util.c serverobject.c connobject.c filterobject.c hlist.c hlistobject.c finfoobject.c -Wl,-framework,Python ?-u _PyMac_Error -framework Python ? -Wl,-F/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5 -arch i386 ? -lm ?-framework ?Python ? ?-ldl
>>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o mod_python.lo mod_python.c && touch mod_python.slo
>>> mod_python.c: In function 'python_init':
>>> mod_python.c:826: warning: initialization from incompatible pointer type
>>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o _apachemodule.lo _apachemodule.c && touch _apachemodule.slo
>>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o requestobject.lo requestobject.c && touch requestobject.slo
>>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o tableobject.lo tableobject.c && touch tableobject.slo
>>> tableobject.c:329: warning: initialization from incompatible pointer type
>>> tableobject.c:1092: warning: initialization from incompatible pointer type
>>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o util.lo util.c && touch util.slo
>>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o serverobject.lo serverobject.c && touch serverobject.slo
>>> serverobject.c:387: warning: initialization from incompatible pointer type
>>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o connobject.lo connobject.c && touch connobject.slo
>>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o filterobject.lo filterobject.c && touch filterobject.slo
>>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o hlist.lo hlist.c && touch hlist.slo
>>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o hlistobject.lo hlistobject.c && touch hlistobject.slo
>>> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc ? ?-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2 ?-I/usr/include/apr-1 ? -I/usr/include/apr-1 ?-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 ?-c -o finfoobject.lo finfoobject.c && touch finfoobject.slo
>>> finfoobject.c:278: warning: 'intargfunc' is deprecated
>>> finfoobject.c:278: warning: initialization from incompatible pointer type
>>> /usr/share/apr-1/build-1/libtool --silent --mode=link gcc -o mod_python.la ?-rpath /usr/libexec/apache2 -module -avoid-version ? ?finfoobject.lo hlistobject.lo hlist.lo filterobject.lo connobject.lo serverobject.lo util.lo tableobject.lo requestobject.lo _apachemodule.lo mod_python.lo -Wl,-framework,Python -u _PyMac_Error -framework Python -Wl,-F/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5 -arch i386 -lm -framework Python -ldl
>>> make[2]: `psp_parser.c' is up to date.
>>> /usr/bin/python2.5 setup.py build
>>> running build
>>> running build_py
>>> running build_ext
>>>
>>> Now su and make install
>>> ?(or, if you only want to perform a partial install,
>>> ? you can use make install_dso and make install_py_lib)
>>>
>>> Password:
>>> make[3]: `psp_parser.c' is up to date.
>>> /usr/bin/python2.5 setup.py build
>>> running build
>>> running build_py
>>> running build_ext
>>>
>>> Now su and make install
>>> ?(or, if you only want to perform a partial install,
>>> ? you can use make install_dso and make install_py_lib)
>>>
>>>
>>> Performing DSO installation.
>>>
>>> /usr/bin/install -c -d /usr/libexec/apache2
>>> /usr/bin/install -c src/mod_python.so /usr/libexec/apache2
>>>
>>> Now don't forget to edit your main config and add
>>> ? ?LoadModule python_module /usr/libexec/apache2/mod_python.so
>>> and if your configuration uses ClearModuleList, then also
>>> ? ?AddModule mod_python.c
>>>
>>> cd dist && make install_py_lib
>>> make[3]: `psp_parser.c' is up to date.
>>> if test -z "" ; then \
>>> ? ? ? ? ? ? ? ?/usr/bin/python2.5 setup.py install --optimize 2 --force ; \
>>> ? ? ? ?else \
>>> ? ? ? ? ? ? ? ?/usr/bin/python2.5 setup.py install --optimize 2 --force --root ?; \
>>> ? ? ? ?fi
>>> running install
>>> running build
>>> running build_py
>>> running build_ext
>>> running install_lib
>>> copying build/lib.macosx-10.5-i386-2.5/mod_python/__init__.py -> /Library/Python/2.5/site-packages/mod_python
>>> copying build/lib.macosx-10.5-i386-2.5/mod_python/_psp.so -> /Library/Python/2.5/site-packages/mod_python
>>> copying build/lib.macosx-10.5-i386-2.5/mod_python/apache.py -> /Library/Python/2.5/site-packages/mod_python
>>> copying build/lib.macosx-10.5-i386-2.5/mod_python/cache.py -> /Library/Python/2.5/site-packages/mod_python
>>> copying build/lib.macosx-10.5-i386-2.5/mod_python/cgihandler.py -> /Library/Python/2.5/site-packages/mod_python
>>> copying build/lib.macosx-10.5-i386-2.5/mod_python/Cookie.py -> /Library/Python/2.5/site-packages/mod_python
>>> copying build/lib.macosx-10.5-i386-2.5/mod_python/importer.py -> /Library/Python/2.5/site-packages/mod_python
>>> copying build/lib.macosx-10.5-i386-2.5/mod_python/psp.py -> /Library/Python/2.5/site-packages/mod_python
>>> copying build/lib.macosx-10.5-i386-2.5/mod_python/publisher.py -> /Library/Python/2.5/site-packages/mod_python
>>> copying build/lib.macosx-10.5-i386-2.5/mod_python/python22.py -> /Library/Python/2.5/site-packages/mod_python
>>> copying build/lib.macosx-10.5-i386-2.5/mod_python/Session.py -> /Library/Python/2.5/site-packages/mod_python
>>> copying build/lib.macosx-10.5-i386-2.5/mod_python/testhandler.py -> /Library/Python/2.5/site-packages/mod_python
>>> copying build/lib.macosx-10.5-i386-2.5/mod_python/util.py -> /Library/Python/2.5/site-packages/mod_python
>>> byte-compiling /Library/Python/2.5/site-packages/mod_python/__init__.py to __init__.pyc
>>> byte-compiling /Library/Python/2.5/site-packages/mod_python/apache.py to apache.pyc
>>> byte-compiling /Library/Python/2.5/site-packages/mod_python/cache.py to cache.pyc
>>> byte-compiling /Library/Python/2.5/site-packages/mod_python/cgihandler.py to cgihandler.pyc
>>> byte-compiling /Library/Python/2.5/site-packages/mod_python/Cookie.py to Cookie.pyc
>>> byte-compiling /Library/Python/2.5/site-packages/mod_python/importer.py to importer.pyc
>>> byte-compiling /Library/Python/2.5/site-packages/mod_python/psp.py to psp.pyc
>>> byte-compiling /Library/Python/2.5/site-packages/mod_python/publisher.py to publisher.pyc
>>> byte-compiling /Library/Python/2.5/site-packages/mod_python/python22.py to python22.pyc
>>> byte-compiling /Library/Python/2.5/site-packages/mod_python/Session.py to Session.pyc
>>> byte-compiling /Library/Python/2.5/site-packages/mod_python/testhandler.py to testhandler.pyc
>>> byte-compiling /Library/Python/2.5/site-packages/mod_python/util.py to util.pyc
>>> writing byte-compilation script '/tmp/tmpG6QrK-.py'
>>> /System/Library/Frameworks/Python.framework/Versions/2.5/Resources/Python.app/Contents/MacOS/Python -OO /tmp/tmpG6QrK-.py
>>> removing /tmp/tmpG6QrK-.py
>>> running install_egg_info
>>> Removing /Library/Python/2.5/site-packages/mod_python-3.3.1-py2.5.egg-info
>>> Writing /Library/Python/2.5/site-packages/mod_python-3.3.1-py2.5.egg-info
>>> www:mod_python-3.3.1 Tool$ cd src
>>> www:src Tool$ ls
>>> Makefile ? ? ? ? ? ? ? ?connobject.lo ? ? ? ? ? hlist.lo ? ? ? ? ? ? ? ?mod_python.slo ? ? ? ? ?serverobject.o
>>> Makefile.in ? ? ? ? ? ? connobject.o ? ? ? ? ? ?hlist.o ? ? ? ? ? ? ? ? mod_python.so ? ? ? ? ? serverobject.slo
>>> Makefile.txt ? ? ? ? ? ?connobject.slo ? ? ? ? ?hlist.slo ? ? ? ? ? ? ? mod_python.vcproj ? ? ? tableobject.c
>>> Makefile_bak ? ? ? ? ? ?filterobject.c ? ? ? ? ?hlistobject.c ? ? ? ? ? psp_parser.c ? ? ? ? ? ?tableobject.lo
>>> Makefile_bak_16MAR ? ? ?filterobject.lo ? ? ? ? hlistobject.lo ? ? ? ? ?psp_parser.l ? ? ? ? ? ?tableobject.o
>>> Version.rc ? ? ? ? ? ? ?filterobject.o ? ? ? ? ?hlistobject.o ? ? ? ? ? psp_string.c ? ? ? ? ? ?tableobject.slo
>>> _apachemodule.c ? ? ? ? filterobject.slo ? ? ? ?hlistobject.slo ? ? ? ? requestobject.c ? ? ? ? util.c
>>> _apachemodule.lo ? ? ? ?finfoobject.c ? ? ? ? ? include ? ? ? ? ? ? ? ? requestobject.lo ? ? ? ?util.lo
>>> _apachemodule.o ? ? ? ? finfoobject.lo ? ? ? ? ?mod_python.c ? ? ? ? ? ?requestobject.o ? ? ? ? util.o
>>> _apachemodule.slo ? ? ? finfoobject.o ? ? ? ? ? mod_python.la ? ? ? ? ? requestobject.slo ? ? ? util.slo
>>> _pspmodule.c ? ? ? ? ? ?finfoobject.slo ? ? ? ? mod_python.lo ? ? ? ? ? serverobject.c
>>> connobject.c ? ? ? ? ? ?hlist.c ? ? ? ? ? ? ? ? mod_python.o ? ? ? ? ? ?serverobject.lo
>>> www:src Tool$ otool -L mod_python.so
>>> mod_python.so:
>>> ? ? ? ?/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 111.1.3)
>>> ? ? ? ?/System/Library/Frameworks/Python.framework/Versions/2.3/Python (compatibility version 2.3.0, current version 2.3.5)
>>> ? ? ? ?/usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)
>>> www:src Tool$ file mod_python.so
>>> mod_python.so: Mach-O bundle i386
>>>
>>>
>>> PLEASE HELP.
>>>
>>> Thanks and Regards,
>>> Eeswar
>>>
>>>
>>> _______________________________________________
>>> Mod_python mailing list
>>> Mod_python@modpython.org
>>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>>
>>
>

From rahul.warhekar at edisphere.com  Mon Apr 20 04:39:56 2009
From: rahul.warhekar at edisphere.com (rahul)
Date: Mon Apr 20 04:42:23 2009
Subject: [mod_python] mod_python Installation
In-Reply-To: <88e286470904192248ye7a018due223e1b83b8fce78@mail.gmail.com>
References: <6659147035014311327@unknownmsgid>	
	<88e286470904181641o4b5a36d5wf01f16b566df097a@mail.gmail.com>	
	<-1709355794028251740@unknownmsgid>
	<88e286470904192248ye7a018due223e1b83b8fce78@mail.gmail.com>
Message-ID: <012101c9c193$95ee8580$c1cb9080$@warhekar@edisphere.com>

Thanks graham and I will work out on your suggestions

Thanks 
rahul

-----Original Message-----
From: Graham Dumpleton [mailto:graham.dumpleton@gmail.com] 
Sent: Monday, April 20, 2009 11:19 AM
To: rahul
Cc: mod_python@modpython.org
Subject: Re: [mod_python] mod_python Installation

2009/4/20 rahul <rahul.warhekar@edisphere.com>:
> Is silent mode Installation of this package is possible or not?
>
> Or do I need to use latest version for silent installation of mod_python.

Why do you think there is a silent mode? Is it documented somewhere in
the mod_python documentation that there is such a mode?

FWIW, mod_python appears to use Python native feature to build a exe
using 'bdist_wininst' option to Python distutils. So, perhaps try and
track down on Python web site (www.python.org) whether that feature
produces installers which can operate in a silent mode. If distutils
doesn't support that, then not likely to be in there.

You might also go to comp.lang.python newsgroup on Google Groups and
ask there whether installers created with distutils support a silent
mode. You will have to be specific about what you asking, ie., mention
distutils and the 'bdist_wininst' option and whether it supports
silent installers. There is no point asking there about mod_python as
they will not answer you.

BTW, if people don't answer it is likely that no one knows. Thus there
is no point asking time and time again, it just annoys people.

You also haven't answered the question of why you are using an old
version of mod_python when there is a newer version available. Older
versions tend not to be supported and would generally expect that you
be using latest version.

Graham

> Thanks,
> Rahul Warhekar
>
> -----Original Message-----
> From: Graham Dumpleton [mailto:graham.dumpleton@gmail.com]
> Sent: Sunday, April 19, 2009 5:11 AM
> To: rahul
> Cc: mod_python@modpython.org
> Subject: Re: [mod_python] mod_python Installation
>
> 2009/4/18 rahul <rahul.warhekar@edisphere.com>:
>> Hello All,
>>
>>
>>
>> I have my application in python which requires mod_python, so I have two
>> questions,
>>
>>
>>
>> 1)????? Can I distribute mod_python-3.2.8.win32-py2.4.exe package with my
>> code?
>
> Why are you using an old known buggy version of mod_python?
>
> Graham
>
>


From online.service.com at gmail.com  Tue Apr 21 00:45:21 2009
From: online.service.com at gmail.com (online service)
Date: Tue Apr 21 00:45:23 2009
Subject: [mod_python] make problem
Message-ID: <db1115e0904202145w608ebd91g30a0e14b71713086@mail.gmail.com>

I got a make error of long print out.

i am sharing my configure output here:

./configure command is

./configure --with-apxs=/usr/local/psa/admin/bin/apxs

I am trying to install mod_python with a preinstalled apache working with
plesk.

checking for gcc... gcc
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables...
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ANSI C... none needed
checking for ar... ar
checking for a BSD-compatible install... /usr/bin/install -c
checking whether make sets $(MAKE)... yes
checking for main in -lm... yes
checking for an ANSI C-conforming const... yes
checking your blood pressure... a bit high, but we can proceed
configure: checking whether apxs is available...
checking for --with-apxs... /usr/local/psa/admin/bin/apxs executable, good
checking Apache version... 2.2.3
checking for Apache libexec directory... /usr/local/psa/admin/libexec
checking for Apache include directory... -I/usr/local/psa/admin/include
checking for --with-python... no
checking for python... /usr/local/bin/python
checking Python version... 2.5
checking Python install prefix... /usr/local
checking checking where python libraries are installed...
/usr/local/lib/python2.5
checking for Py_NewInterpreter in -lpython2.5... yes
checking what libraries Python was linked with... -lpython2.5 -lpthread -ldl
-lutil -lm
checking linker flags used to link Python...
checking where Python include files are... -I/usr/local/include/python2.5
checking for --with-python-src... no
checking for --with-mutex-dir... no
Using MUTEX_DIR /tmp
checking for --with-max-locks... no
Using 8 MAX_LOCKS.
checking for --with-flex... no
checking for flex... no
configure: creating ./config.status
config.status: creating Makefile
config.status: creating src/Makefile
config.status: creating Doc/Makefile
config.status: creating src/include/mod_python.h
config.status: creating test/Makefile
config.status: creating test/testconf.py
config.status: creating dist/setup.py
config.status: creating dist/Makefile




What could cause the make problem?

Thanks
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090420/8bdd4126/attachment.html
From graham.dumpleton at gmail.com  Tue Apr 21 01:01:10 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Tue Apr 21 01:01:17 2009
Subject: [mod_python] make problem
In-Reply-To: <db1115e0904202145w608ebd91g30a0e14b71713086@mail.gmail.com>
References: <db1115e0904202145w608ebd91g30a0e14b71713086@mail.gmail.com>
Message-ID: <88e286470904202201t2f2c0616gfb13e92240a52844@mail.gmail.com>

2009/4/21 online service <online.service.com@gmail.com>:
> I got a make error of long print out.
>
> i am sharing my configure output here:
>
> ./configure command is
>
> ./configure --with-apxs=/usr/local/psa/admin/bin/apxs
>
> I am trying to install mod_python with a preinstalled apache working with
> plesk.
>
> checking for gcc... gcc
> checking for C compiler default output file name... a.out
> checking whether the C compiler works... yes
> checking whether we are cross compiling... no
> checking for suffix of executables...
> checking for suffix of object files... o
> checking whether we are using the GNU C compiler... yes
> checking whether gcc accepts -g... yes
> checking for gcc option to accept ANSI C... none needed
> checking for ar... ar
> checking for a BSD-compatible install... /usr/bin/install -c
> checking whether make sets $(MAKE)... yes
> checking for main in -lm... yes
> checking for an ANSI C-conforming const... yes
> checking your blood pressure... a bit high, but we can proceed
> configure: checking whether apxs is available...
> checking for --with-apxs... /usr/local/psa/admin/bin/apxs executable, good
> checking Apache version... 2.2.3
> checking for Apache libexec directory... /usr/local/psa/admin/libexec
> checking for Apache include directory... -I/usr/local/psa/admin/include
> checking for --with-python... no
> checking for python... /usr/local/bin/python
> checking Python version... 2.5
> checking Python install prefix... /usr/local
> checking checking where python libraries are installed...
> /usr/local/lib/python2.5
> checking for Py_NewInterpreter in -lpython2.5... yes
> checking what libraries Python was linked with... -lpython2.5 -lpthread -ldl
> -lutil -lm
> checking linker flags used to link Python...
> checking where Python include files are... -I/usr/local/include/python2.5
> checking for --with-python-src... no
> checking for --with-mutex-dir... no
> Using MUTEX_DIR /tmp
> checking for --with-max-locks... no
> Using 8 MAX_LOCKS.
> checking for --with-flex... no
> checking for flex... no
> configure: creating ./config.status
> config.status: creating Makefile
> config.status: creating src/Makefile
> config.status: creating Doc/Makefile
> config.status: creating src/include/mod_python.h
> config.status: creating test/Makefile
> config.status: creating test/testconf.py
> config.status: creating dist/setup.py
> config.status: creating dist/Makefile
>
>
>
>
> What could cause the make problem?

What problem? The bit about your blood pressure being a bit too high,
or something else?

That is only the output from 'configure' and is normal. You haven't
even run 'make' yet.

Graham
From online.service.com at gmail.com  Tue Apr 21 02:01:48 2009
From: online.service.com at gmail.com (online service)
Date: Tue Apr 21 02:01:51 2009
Subject: [mod_python] make problem
In-Reply-To: <db1115e0904202259k354a9d86j449bb738aa896c83@mail.gmail.com>
References: <db1115e0904202145w608ebd91g30a0e14b71713086@mail.gmail.com>
	<88e286470904202201t2f2c0616gfb13e92240a52844@mail.gmail.com>
	<db1115e0904202259k354a9d86j449bb738aa896c83@mail.gmail.com>
Message-ID: <db1115e0904202301y4b706df6xb1b3ff9327136b26@mail.gmail.com>

On Mon, Apr 20, 2009 at 10:59 PM, online service <online.service.com@
gmail.com> wrote:

> ------------------------------
> ---------------------------------------------------------------------------------------------------
> ex_t'
> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:157: error:
> expected specifier-qualifier-list before 'apr_table_t'
> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:179: error:
> expected specifier-qualifier-list before 'apr_hash_t'
> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:210: error:
> expected '=', ',', ';', 'asm' or '__attribute__' before 'python_cleanup'
> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: error:
> expected declaration specifiers or '...' before 'mp_acquire_interpreter'
> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: error:
> expected declaration specifiers or '...' before '(' token
> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: warning:
> data definition has no type or storage class
> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: warning:
> type defaults to 'int' in declaration of 'APR_DECLARE_OPTIONAL_FN'
> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:215: error:
> expected declaration specifiers or '...' before 'mp_release_interpreter'
> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:215: error:
> expected declaration specifiers or '...' before '(' token
> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:215: warning:
> data definition has no type or storage class
> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:215: warning:
> type defaults to 'int' in declaration of 'APR_DECLARE_OPTIONAL_FN'
> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:215: error:
> conflicting types for 'APR_DECLARE_OPTIONAL_FN'
> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: error:
> previous declaration of 'APR_DECLARE_OPTIONAL_FN' was here
> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:216: error:
> expected declaration specifiers or '...' before 'mp_get_request_object'
> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:216: error:
> expected declaration specifiers or '...' before '(' token
> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:216: warning:
> data definition has no type or storage class
> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:216: warning:
> type defaults to 'int' in declaration of 'APR_DECLARE_OPTIONAL_FN'
> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:216: error:
> conflicting types for 'APR_DECLARE_OPTIONAL_FN'
> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: error:
> previous declaration of 'APR_DECLARE_OPTIONAL_FN' was here
> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:217: error:
> expected declaration specifiers or '...' before 'mp_get_server_object'
> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:217: error:
> expected declaration specifiers or '...' before '(' token
> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:217: warning:
> data definition has no type or storage class
> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:217: warning:
> type defaults to 'int' in declaration of 'APR_DECLARE_OPTIONAL_FN'
> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:217: error:
> conflicting types for 'APR_DECLARE_OPTIONAL_FN'
> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: error:
> previous declaration of 'APR_DECLARE_OPTIONAL_FN' was here
> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:218: error:
> expected declaration specifiers or '...' before 'mp_get_connection_object'
> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:218: error:
> expected declaration specifiers or '...' before '(' token
> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:218: warning:
> data definition has no type or storage class
> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:218: warning:
> type defaults to 'int' in declaration of 'APR_DECLARE_OPTIONAL_FN'
> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:218: error:
> conflicting types for 'APR_DECLARE_OPTIONAL_FN'
> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: error:
> previous declaration of 'APR_DECLARE_OPTIONAL_FN' was here
> mod_python.c:41: error: expected '=', ',', ';', 'asm' or '__attribute__'
> before '*' token
> mod_python.c:44: warning: return type defaults to 'int'
> mod_python.c: In function 'APR_OPTIONAL_FN_TYPE':
> mod_python.c:44: error: expected declaration specifiers before '*' token
> mod_python.c:45: error: expected '=', ',', ';', 'asm' or '__attribute__'
> before '*' token
> mod_python.c:46: error: expected '=', ',', ';', 'asm' or '__attribute__'
> before '*' token
> mod_python.c:55: error: expected '=', ',', ';', 'asm' or '__attribute__'
> before '{' token
> mod_python.c:89: error: expected '=', ',', ';', 'asm' or '__attribute__'
> before '{' token
> mod_python.c:177: error: expected '=', ',', ';', 'asm' or '__attribute__'
> before '{' token
> mod_python.c:200: error: expected '=', ',', ';', 'asm' or '__attribute__'
> before '{' token
> mod_python.c:228: error: expected '=', ',', ';', 'asm' or '__attribute__'
> before '{' token
> mod_python.c:326: error: expected '=', ',', ';', 'asm' or '__attribute__'
> before '{' token
> mod_python.c:346: error: expected declaration specifiers before
> 'apr_status_t'
> mod_python.c:419: error: expected '=', ',', ';', 'asm' or '__attribute__'
> before 'init_mutexes'
> mod_python.c:573: error: expected '=', ',', ';', 'asm' or '__attribute__'
> before 'reinit_mutexes'
> mod_python.c:622: error: expected '=', ',', ';', 'asm' or '__attribute__'
> before '{' token
> mod_python.c:651: error: expected '=', ',', ';', 'asm' or '__attribute__'
> before '{' token
> mod_python.c:667: error: expected '=', ',', ';', 'asm' or '__attribute__'
> before '{' token
> mod_python.c:679: error: expected '=', ',', ';', 'asm' or '__attribute__'
> before '{' token
> mod_python.c:695: error: expected '=', ',', ';', 'asm' or '__attribute__'
> before '{' token
> mod_python.c:707: error: expected '=', ',', ';', 'asm' or '__attribute__'
> before '{' token
>
> ----------------------------------------------------------------------------------------------------------------------------
>
>
>
>
> On Mon, Apr 20, 2009 at 10:01 PM, Graham Dumpleton <
> graham.dumpleton@gmail.com> wrote:
>
>> 2009/4/21 online service <online.service.com@gmail.com>:
>> > I got a make error of long print out.
>> >
>> > i am sharing my configure output here:
>> >
>> > ./configure command is
>> >
>> > ./configure --with-apxs=/usr/local/psa/admin/bin/apxs
>> >
>> > I am trying to install mod_python with a preinstalled apache working
>> with
>> > plesk.
>> >
>> > checking for gcc... gcc
>> > checking for C compiler default output file name... a.out
>> > checking whether the C compiler works... yes
>> > checking whether we are cross compiling... no
>> > checking for suffix of executables...
>> > checking for suffix of object files... o
>> > checking whether we are using the GNU C compiler... yes
>> > checking whether gcc accepts -g... yes
>> > checking for gcc option to accept ANSI C... none needed
>> > checking for ar... ar
>> > checking for a BSD-compatible install... /usr/bin/install -c
>> > checking whether make sets $(MAKE)... yes
>> > checking for main in -lm... yes
>> > checking for an ANSI C-conforming const... yes
>> > checking your blood pressure... a bit high, but we can proceed
>> > configure: checking whether apxs is available...
>> > checking for --with-apxs... /usr/local/psa/admin/bin/apxs executable,
>> good
>> > checking Apache version... 2.2.3
>> > checking for Apache libexec directory... /usr/local/psa/admin/libexec
>> > checking for Apache include directory... -I/usr/local/psa/admin/include
>> > checking for --with-python... no
>> > checking for python... /usr/local/bin/python
>> > checking Python version... 2.5
>> > checking Python install prefix... /usr/local
>> > checking checking where python libraries are installed...
>> > /usr/local/lib/python2.5
>> > checking for Py_NewInterpreter in -lpython2.5... yes
>> > checking what libraries Python was linked with... -lpython2.5 -lpthread
>> -ldl
>> > -lutil -lm
>> > checking linker flags used to link Python...
>> > checking where Python include files are...
>> -I/usr/local/include/python2.5
>> > checking for --with-python-src... no
>> > checking for --with-mutex-dir... no
>> > Using MUTEX_DIR /tmp
>> > checking for --with-max-locks... no
>> > Using 8 MAX_LOCKS.
>> > checking for --with-flex... no
>> > checking for flex... no
>> > configure: creating ./config.status
>> > config.status: creating Makefile
>> > config.status: creating src/Makefile
>> > config.status: creating Doc/Makefile
>> > config.status: creating src/include/mod_python.h
>> > config.status: creating test/Makefile
>> > config.status: creating test/testconf.py
>> > config.status: creating dist/setup.py
>> > config.status: creating dist/Makefile
>> >
>> >
>> >
>> >
>> > What could cause the make problem?
>>
>> What problem? The bit about your blood pressure being a bit too high,
>> or something else?
>>
>> That is only the output from 'configure' and is normal. You haven't
>> even run 'make' yet.
>>
>> Graham
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090420/c9305935/attachment-0001.html
From graham.dumpleton at gmail.com  Tue Apr 21 02:18:28 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Tue Apr 21 02:18:37 2009
Subject: [mod_python] make problem
In-Reply-To: <db1115e0904202301y4b706df6xb1b3ff9327136b26@mail.gmail.com>
References: <db1115e0904202145w608ebd91g30a0e14b71713086@mail.gmail.com>
	<88e286470904202201t2f2c0616gfb13e92240a52844@mail.gmail.com>
	<db1115e0904202259k354a9d86j449bb738aa896c83@mail.gmail.com>
	<db1115e0904202301y4b706df6xb1b3ff9327136b26@mail.gmail.com>
Message-ID: <88e286470904202318u614b216bj3a8f3822c0e331ca@mail.gmail.com>

You most likely do not have headers file installed for Apache, Apache
Portable Runtime library, or Python itself.

What is in:

  /usr/local/psa/admin/include
  /usr/local/include/python2.5

Even if they have Apache and Python header files, the Apache Portable
Runtime library header files may not be in the first one and you need
to work out where they are and ensure -I is listed in Makefile for
them, since it seems that your 'apxs' program isn't reporting their
location properly.

What weird version of Apache is this anyway? And on what operating system?

Graham

2009/4/21 online service <online.service.com@gmail.com>:
>
>
> On Mon, Apr 20, 2009 at 10:59 PM, online service
> <online.service.com@gmail.com> wrote:
>>
>> ------------------------------
>>
>> ---------------------------------------------------------------------------------------------------
>> ex_t'
>> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:157: error:
>> expected specifier-qualifier-list before 'apr_table_t'
>> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:179: error:
>> expected specifier-qualifier-list before 'apr_hash_t'
>> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:210: error:
>> expected '=', ',', ';', 'asm' or '__attribute__' before 'python_cleanup'
>> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: error:
>> expected declaration specifiers or '...' before 'mp_acquire_interpreter'
>> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: error:
>> expected declaration specifiers or '...' before '(' token
>> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: warning:
>> data definition has no type or storage class
>> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: warning:
>> type defaults to 'int' in declaration of 'APR_DECLARE_OPTIONAL_FN'
>> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:215: error:
>> expected declaration specifiers or '...' before 'mp_release_interpreter'
>> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:215: error:
>> expected declaration specifiers or '...' before '(' token
>> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:215: warning:
>> data definition has no type or storage class
>> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:215: warning:
>> type defaults to 'int' in declaration of 'APR_DECLARE_OPTIONAL_FN'
>> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:215: error:
>> conflicting types for 'APR_DECLARE_OPTIONAL_FN'
>> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: error:
>> previous declaration of 'APR_DECLARE_OPTIONAL_FN' was here
>> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:216: error:
>> expected declaration specifiers or '...' before 'mp_get_request_object'
>> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:216: error:
>> expected declaration specifiers or '...' before '(' token
>> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:216: warning:
>> data definition has no type or storage class
>> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:216: warning:
>> type defaults to 'int' in declaration of 'APR_DECLARE_OPTIONAL_FN'
>> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:216: error:
>> conflicting types for 'APR_DECLARE_OPTIONAL_FN'
>> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: error:
>> previous declaration of 'APR_DECLARE_OPTIONAL_FN' was here
>> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:217: error:
>> expected declaration specifiers or '...' before 'mp_get_server_object'
>> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:217: error:
>> expected declaration specifiers or '...' before '(' token
>> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:217: warning:
>> data definition has no type or storage class
>> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:217: warning:
>> type defaults to 'int' in declaration of 'APR_DECLARE_OPTIONAL_FN'
>> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:217: error:
>> conflicting types for 'APR_DECLARE_OPTIONAL_FN'
>> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: error:
>> previous declaration of 'APR_DECLARE_OPTIONAL_FN' was here
>> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:218: error:
>> expected declaration specifiers or '...' before 'mp_get_connection_object'
>> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:218: error:
>> expected declaration specifiers or '...' before '(' token
>> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:218: warning:
>> data definition has no type or storage class
>> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:218: warning:
>> type defaults to 'int' in declaration of 'APR_DECLARE_OPTIONAL_FN'
>> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:218: error:
>> conflicting types for 'APR_DECLARE_OPTIONAL_FN'
>> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: error:
>> previous declaration of 'APR_DECLARE_OPTIONAL_FN' was here
>> mod_python.c:41: error: expected '=', ',', ';', 'asm' or '__attribute__'
>> before '*' token
>> mod_python.c:44: warning: return type defaults to 'int'
>> mod_python.c: In function 'APR_OPTIONAL_FN_TYPE':
>> mod_python.c:44: error: expected declaration specifiers before '*' token
>> mod_python.c:45: error: expected '=', ',', ';', 'asm' or '__attribute__'
>> before '*' token
>> mod_python.c:46: error: expected '=', ',', ';', 'asm' or '__attribute__'
>> before '*' token
>> mod_python.c:55: error: expected '=', ',', ';', 'asm' or '__attribute__'
>> before '{' token
>> mod_python.c:89: error: expected '=', ',', ';', 'asm' or '__attribute__'
>> before '{' token
>> mod_python.c:177: error: expected '=', ',', ';', 'asm' or '__attribute__'
>> before '{' token
>> mod_python.c:200: error: expected '=', ',', ';', 'asm' or '__attribute__'
>> before '{' token
>> mod_python.c:228: error: expected '=', ',', ';', 'asm' or '__attribute__'
>> before '{' token
>> mod_python.c:326: error: expected '=', ',', ';', 'asm' or '__attribute__'
>> before '{' token
>> mod_python.c:346: error: expected declaration specifiers before
>> 'apr_status_t'
>> mod_python.c:419: error: expected '=', ',', ';', 'asm' or '__attribute__'
>> before 'init_mutexes'
>> mod_python.c:573: error: expected '=', ',', ';', 'asm' or '__attribute__'
>> before 'reinit_mutexes'
>> mod_python.c:622: error: expected '=', ',', ';', 'asm' or '__attribute__'
>> before '{' token
>> mod_python.c:651: error: expected '=', ',', ';', 'asm' or '__attribute__'
>> before '{' token
>> mod_python.c:667: error: expected '=', ',', ';', 'asm' or '__attribute__'
>> before '{' token
>> mod_python.c:679: error: expected '=', ',', ';', 'asm' or '__attribute__'
>> before '{' token
>> mod_python.c:695: error: expected '=', ',', ';', 'asm' or '__attribute__'
>> before '{' token
>> mod_python.c:707: error: expected '=', ',', ';', 'asm' or '__attribute__'
>> before '{' token
>>
>> ----------------------------------------------------------------------------------------------------------------------------
>>
>>
>>
>>
>> On Mon, Apr 20, 2009 at 10:01 PM, Graham Dumpleton
>> <graham.dumpleton@gmail.com> wrote:
>>>
>>> 2009/4/21 online service <online.service.com@gmail.com>:
>>> > I got a make error of long print out.
>>> >
>>> > i am sharing my configure output here:
>>> >
>>> > ./configure command is
>>> >
>>> > ./configure --with-apxs=/usr/local/psa/admin/bin/apxs
>>> >
>>> > I am trying to install mod_python with a preinstalled apache working
>>> > with
>>> > plesk.
>>> >
>>> > checking for gcc... gcc
>>> > checking for C compiler default output file name... a.out
>>> > checking whether the C compiler works... yes
>>> > checking whether we are cross compiling... no
>>> > checking for suffix of executables...
>>> > checking for suffix of object files... o
>>> > checking whether we are using the GNU C compiler... yes
>>> > checking whether gcc accepts -g... yes
>>> > checking for gcc option to accept ANSI C... none needed
>>> > checking for ar... ar
>>> > checking for a BSD-compatible install... /usr/bin/install -c
>>> > checking whether make sets $(MAKE)... yes
>>> > checking for main in -lm... yes
>>> > checking for an ANSI C-conforming const... yes
>>> > checking your blood pressure... a bit high, but we can proceed
>>> > configure: checking whether apxs is available...
>>> > checking for --with-apxs... /usr/local/psa/admin/bin/apxs executable,
>>> > good
>>> > checking Apache version... 2.2.3
>>> > checking for Apache libexec directory... /usr/local/psa/admin/libexec
>>> > checking for Apache include directory... -I/usr/local/psa/admin/include
>>> > checking for --with-python... no
>>> > checking for python... /usr/local/bin/python
>>> > checking Python version... 2.5
>>> > checking Python install prefix... /usr/local
>>> > checking checking where python libraries are installed...
>>> > /usr/local/lib/python2.5
>>> > checking for Py_NewInterpreter in -lpython2.5... yes
>>> > checking what libraries Python was linked with... -lpython2.5 -lpthread
>>> > -ldl
>>> > -lutil -lm
>>> > checking linker flags used to link Python...
>>> > checking where Python include files are...
>>> > -I/usr/local/include/python2.5
>>> > checking for --with-python-src... no
>>> > checking for --with-mutex-dir... no
>>> > Using MUTEX_DIR /tmp
>>> > checking for --with-max-locks... no
>>> > Using 8 MAX_LOCKS.
>>> > checking for --with-flex... no
>>> > checking for flex... no
>>> > configure: creating ./config.status
>>> > config.status: creating Makefile
>>> > config.status: creating src/Makefile
>>> > config.status: creating Doc/Makefile
>>> > config.status: creating src/include/mod_python.h
>>> > config.status: creating test/Makefile
>>> > config.status: creating test/testconf.py
>>> > config.status: creating dist/setup.py
>>> > config.status: creating dist/Makefile
>>> >
>>> >
>>> >
>>> >
>>> > What could cause the make problem?
>>>
>>> What problem? The bit about your blood pressure being a bit too high,
>>> or something else?
>>>
>>> That is only the output from 'configure' and is normal. You haven't
>>> even run 'make' yet.
>>>
>>> Graham
>>
>
>
From online.service.com at gmail.com  Tue Apr 21 13:08:55 2009
From: online.service.com at gmail.com (online service)
Date: Tue Apr 21 13:09:02 2009
Subject: [mod_python] make problem
In-Reply-To: <88e286470904202318u614b216bj3a8f3822c0e331ca@mail.gmail.com>
References: <db1115e0904202145w608ebd91g30a0e14b71713086@mail.gmail.com>
	<88e286470904202201t2f2c0616gfb13e92240a52844@mail.gmail.com>
	<db1115e0904202259k354a9d86j449bb738aa896c83@mail.gmail.com>
	<db1115e0904202301y4b706df6xb1b3ff9327136b26@mail.gmail.com>
	<88e286470904202318u614b216bj3a8f3822c0e331ca@mail.gmail.com>
Message-ID: <db1115e0904211008sa93718fo917979a15d01c4de@mail.gmail.com>

this is a 1and1 preinstalled  fedora server.


files in /usr/local/psa/admin/include:


-r--r--r-- 1 root psaadm 15335 Mar 22  2007 ap_alloc.h
-r--r--r-- 1 root psaadm 23605 Mar 22  2007 ap_compat.h
-r--r--r-- 1 root psaadm  2628 Mar 22  2007 ap_config_auto.h
-r--r--r-- 1 root psaadm 37326 Mar 22  2007 ap_config.h
-r--r--r-- 1 root psaadm  3948 Mar 22  2007 ap_ctx.h
-r--r--r-- 1 root psaadm  1733 Mar 22  2007 ap_ctype.h
-r--r--r-- 1 root psaadm  1004 Mar 22  2007 ap_ebcdic.h
-r--r--r-- 1 root psaadm  6416 Mar 22  2007 ap.h
-r--r--r-- 1 root psaadm 26419 Mar 22  2007 ap_hook.h
-r--r--r-- 1 root psaadm  2923 Mar 22  2007 ap_md5.h
-r--r--r-- 1 root psaadm  5577 Mar 22  2007 ap_mm.h
-r--r--r-- 1 root psaadm 12707 Mar 22  2007 ap_mmn.h
-r--r--r-- 1 root psaadm  2015 Mar 22  2007 ap_sha1.h
-r--r--r-- 1 root psaadm  6563 Mar 22  2007 buff.h
-r--r--r-- 1 root psaadm   794 Mar 22  2007 compat.h
-r--r--r-- 1 root psaadm   792 Mar 22  2007 conf.h
-r--r--r-- 1 root psaadm  1901 Mar 22  2007 explain.h
-r--r--r-- 1 root psaadm  2595 Mar 22  2007 fnmatch.h
-r--r--r-- 1 root psaadm  2221 Mar 22  2007 hsregex.h
-r--r--r-- 1 root psaadm  3177 Mar 22  2007 http_conf_globals.h
-r--r--r-- 1 root psaadm 17479 Mar 22  2007 http_config.h
-r--r--r-- 1 root psaadm 12279 Mar 22  2007 http_core.h
-r--r--r-- 1 root psaadm 45968 Mar 22  2007 httpd.h
-r--r--r-- 1 root psaadm  4270 Mar 22  2007 http_log.h
-r--r--r-- 1 root psaadm  5900 Mar 22  2007 http_main.h
-r--r--r-- 1 root psaadm  7185 Mar 22  2007 http_protocol.h
-r--r--r-- 1 root psaadm  3229 Mar 22  2007 http_request.h
-r--r--r-- 1 root psaadm  1779 Mar 22  2007 http_vhost.h
-r--r--r-- 1 root psaadm  2406 Mar 22  2007 multithread.h
-r--r--r-- 1 root psaadm  2774 Mar 22  2007 os.h
-r--r--r-- 1 root psaadm  1588 Mar 22  2007 os-inline.c
dr--r--r-- 8 root psaadm    92 Apr 27  2007 php
-r--r--r-- 1 root psaadm   840 Mar 22  2007 rfc1413.h
-r--r--r-- 1 root psaadm  5507 Mar 22  2007 scoreboard.h
-r--r--r-- 1 root psaadm  1126 Mar 22  2007 util_date.h
-r--r--r-- 1 root psaadm  1186 Mar 22  2007 util_md5.h
-r--r--r-- 1 root psaadm  2007 Mar 22  2007 util_script.h
-r--r--r-- 1 root psaadm  3328 Mar 22  2007 util_uri.h
dr-xr-xr-x 2 root psaadm  4096 Apr 27  2007 xml


files in  /usr/local/include/python2.5


-rw-r--r-- 1 root root 38971 Apr 20 18:59 abstract.h
-rw-r--r-- 1 root root  1099 Apr 20 18:59 asdl.h
-rw-r--r-- 1 root root   230 Apr 20 18:59 ast.h
-rw-r--r-- 1 root root   792 Apr 20 18:59 bitset.h
-rw-r--r-- 1 root root   914 Apr 20 18:59 boolobject.h
-rw-r--r-- 1 root root   924 Apr 20 18:59 bufferobject.h
-rw-r--r-- 1 root root   653 Apr 20 18:59 cellobject.h
-rw-r--r-- 1 root root  4944 Apr 20 18:59 ceval.h
-rw-r--r-- 1 root root  2893 Apr 20 18:59 classobject.h
-rw-r--r-- 1 root root  1763 Apr 20 18:59 cobject.h
-rw-r--r-- 1 root root  5014 Apr 20 18:59 codecs.h
-rw-r--r-- 1 root root  3277 Apr 20 18:59 code.h
-rw-r--r-- 1 root root  1058 Apr 20 18:59 compile.h
-rw-r--r-- 1 root root  1476 Apr 20 18:59 complexobject.h
-rw-r--r-- 1 root root  2005 Apr 20 18:59 cStringIO.h
-rw-r--r-- 1 root root  8288 Apr 20 18:59 datetime.h
-rw-r--r-- 1 root root  2106 Apr 20 18:59 descrobject.h
-rw-r--r-- 1 root root  5666 Apr 20 18:59 dictobject.h
-rw-r--r-- 1 root root   253 Apr 20 18:59 enumobject.h
-rw-r--r-- 1 root root  1363 Apr 20 18:59 errcode.h
-rw-r--r-- 1 root root   557 Apr 20 18:59 eval.h
-rw-r--r-- 1 root root  2358 Apr 20 18:59 fileobject.h
-rw-r--r-- 1 root root  4184 Apr 20 18:59 floatobject.h
-rw-r--r-- 1 root root  2877 Apr 20 18:59 frameobject.h
-rw-r--r-- 1 root root  2997 Apr 20 18:59 funcobject.h
-rw-r--r-- 1 root root   823 Apr 20 18:59 genobject.h
-rw-r--r-- 1 root root  1854 Apr 20 18:59 graminit.h
-rw-r--r-- 1 root root  2021 Apr 20 18:59 grammar.h
-rw-r--r-- 1 root root  2029 Apr 20 18:59 import.h
-rw-r--r-- 1 root root  2112 Apr 20 18:59 intobject.h
-rw-r--r-- 1 root root   274 Apr 20 18:59 intrcheck.h
-rw-r--r-- 1 root root   526 Apr 20 18:59 iterobject.h
-rw-r--r-- 1 root root  2511 Apr 20 18:59 listobject.h
-rw-r--r-- 1 root root  2140 Apr 20 18:59 longintrepr.h
-rw-r--r-- 1 root root  4809 Apr 20 18:59 longobject.h
-rw-r--r-- 1 root root   713 Apr 20 18:59 marshal.h
-rw-r--r-- 1 root root   253 Apr 20 18:59 metagrammar.h
-rw-r--r-- 1 root root  3190 Apr 20 18:59 methodobject.h
-rw-r--r-- 1 root root  4836 Apr 20 18:59 modsupport.h
-rw-r--r-- 1 root root   611 Apr 20 18:59 moduleobject.h
-rw-r--r-- 1 root root   890 Apr 20 18:59 node.h
-rw-r--r-- 1 root root 32254 Apr 20 18:59 object.h
-rw-r--r-- 1 root root 12438 Apr 20 18:59 objimpl.h
-rw-r--r-- 1 root root  4320 Apr 20 18:59 opcode.h
-rw-r--r-- 1 root root   942 Apr 20 18:59 osdefs.h
-rw-r--r-- 1 root root  1346 Apr 20 18:59 parsetok.h
-rw-r--r-- 1 root root  1378 Apr 20 18:59 patchlevel.h
-rw-r--r-- 1 root root   253 Apr 20 18:59 pgen.h
-rw-r--r-- 1 root root  1144 Apr 20 18:59 pgenheaders.h
-rw-r--r-- 1 root root  2693 Apr 20 18:59 pyarena.h
-rw-r--r-- 1 root root 28564 Apr 20 18:59 pyconfig.h
-rw-r--r-- 1 root root  4160 Apr 20 18:59 py_curses.h
-rw-r--r-- 1 root root  1065 Apr 20 18:59 pydebug.h
-rw-r--r-- 1 root root 11581 Apr 20 18:59 pyerrors.h
-rw-r--r-- 1 root root  1957 Apr 20 18:59 pyexpat.h
-rw-r--r-- 1 root root  8495 Apr 20 18:59 pyfpe.h
-rw-r--r-- 1 root root   306 Apr 20 18:59 pygetopt.h
-rw-r--r-- 1 root root  7421 Apr 20 18:59 pymactoolbox.h
-rw-r--r-- 1 root root  4602 Apr 20 18:59 pymem.h
-rw-r--r-- 1 root root 25218 Apr 20 18:59 pyport.h
-rw-r--r-- 1 root root  6203 Apr 20 18:59 pystate.h
-rw-r--r-- 1 root root   359 Apr 20 18:59 pystrtod.h
-rw-r--r-- 1 root root 19631 Apr 20 18:59 Python-ast.h
-rw-r--r-- 1 root root  4204 Apr 20 18:59 Python.h
-rw-r--r-- 1 root root  6481 Apr 20 18:59 pythonrun.h
-rw-r--r-- 1 root root  1447 Apr 20 18:59 pythread.h
-rw-r--r-- 1 root root   648 Apr 20 18:59 rangeobject.h
-rw-r--r-- 1 root root  2757 Apr 20 18:59 setobject.h
-rw-r--r-- 1 root root  1291 Apr 20 18:59 sliceobject.h
-rw-r--r-- 1 root root  6611 Apr 20 18:59 stringobject.h
-rw-r--r-- 1 root root  2532 Apr 20 18:59 structmember.h
-rw-r--r-- 1 root root   862 Apr 20 18:59 structseq.h
-rw-r--r-- 1 root root  3936 Apr 20 18:59 symtable.h
-rw-r--r-- 1 root root   819 Apr 20 18:59 sysmodule.h
-rw-r--r-- 1 root root   442 Apr 20 18:59 timefuncs.h
-rw-r--r-- 1 root root  1710 Apr 20 18:59 token.h
-rw-r--r-- 1 root root   624 Apr 20 18:59 traceback.h
-rw-r--r-- 1 root root  2061 Apr 20 18:59 tupleobject.h
-rw-r--r-- 1 root root   861 Apr 20 18:59 ucnhash.h
-rw-r--r-- 1 root root 44859 Apr 20 18:59 unicodeobject.h
-rw-r--r-- 1 root root  2434 Apr 20 18:59 weakrefobject.h



-------------------------------------------------------------------------






What might be missing?

Thanks


On Mon, Apr 20, 2009 at 11:18 PM, Graham Dumpleton <
graham.dumpleton@gmail.com> wrote:

> You most likely do not have headers file installed for Apache, Apache
> Portable Runtime library, or Python itself.
>
> What is in:
>
>  /usr/local/psa/admin/include
>   /usr/local/include/python2.5
>
> Even if they have Apache and Python header files, the Apache Portable
> Runtime library header files may not be in the first one and you need
> to work out where they are and ensure -I is listed in Makefile for
> them, since it seems that your 'apxs' program isn't reporting their
> location properly.
>
> What weird version of Apache is this anyway? And on what operating system?
>
> Graham
>
> 2009/4/21 online service <online.service.com@gmail.com>:
> >
> >
> > On Mon, Apr 20, 2009 at 10:59 PM, online service
> > <online.service.com@gmail.com> wrote:
> >>
> >> ------------------------------
> >>
> >>
> ---------------------------------------------------------------------------------------------------
> >> ex_t'
> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:157: error:
> >> expected specifier-qualifier-list before 'apr_table_t'
> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:179: error:
> >> expected specifier-qualifier-list before 'apr_hash_t'
> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:210: error:
> >> expected '=', ',', ';', 'asm' or '__attribute__' before 'python_cleanup'
> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: error:
> >> expected declaration specifiers or '...' before 'mp_acquire_interpreter'
> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: error:
> >> expected declaration specifiers or '...' before '(' token
> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: warning:
> >> data definition has no type or storage class
> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: warning:
> >> type defaults to 'int' in declaration of 'APR_DECLARE_OPTIONAL_FN'
> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:215: error:
> >> expected declaration specifiers or '...' before 'mp_release_interpreter'
> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:215: error:
> >> expected declaration specifiers or '...' before '(' token
> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:215: warning:
> >> data definition has no type or storage class
> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:215: warning:
> >> type defaults to 'int' in declaration of 'APR_DECLARE_OPTIONAL_FN'
> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:215: error:
> >> conflicting types for 'APR_DECLARE_OPTIONAL_FN'
> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: error:
> >> previous declaration of 'APR_DECLARE_OPTIONAL_FN' was here
> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:216: error:
> >> expected declaration specifiers or '...' before 'mp_get_request_object'
> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:216: error:
> >> expected declaration specifiers or '...' before '(' token
> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:216: warning:
> >> data definition has no type or storage class
> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:216: warning:
> >> type defaults to 'int' in declaration of 'APR_DECLARE_OPTIONAL_FN'
> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:216: error:
> >> conflicting types for 'APR_DECLARE_OPTIONAL_FN'
> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: error:
> >> previous declaration of 'APR_DECLARE_OPTIONAL_FN' was here
> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:217: error:
> >> expected declaration specifiers or '...' before 'mp_get_server_object'
> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:217: error:
> >> expected declaration specifiers or '...' before '(' token
> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:217: warning:
> >> data definition has no type or storage class
> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:217: warning:
> >> type defaults to 'int' in declaration of 'APR_DECLARE_OPTIONAL_FN'
> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:217: error:
> >> conflicting types for 'APR_DECLARE_OPTIONAL_FN'
> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: error:
> >> previous declaration of 'APR_DECLARE_OPTIONAL_FN' was here
> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:218: error:
> >> expected declaration specifiers or '...' before
> 'mp_get_connection_object'
> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:218: error:
> >> expected declaration specifiers or '...' before '(' token
> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:218: warning:
> >> data definition has no type or storage class
> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:218: warning:
> >> type defaults to 'int' in declaration of 'APR_DECLARE_OPTIONAL_FN'
> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:218: error:
> >> conflicting types for 'APR_DECLARE_OPTIONAL_FN'
> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: error:
> >> previous declaration of 'APR_DECLARE_OPTIONAL_FN' was here
> >> mod_python.c:41: error: expected '=', ',', ';', 'asm' or '__attribute__'
> >> before '*' token
> >> mod_python.c:44: warning: return type defaults to 'int'
> >> mod_python.c: In function 'APR_OPTIONAL_FN_TYPE':
> >> mod_python.c:44: error: expected declaration specifiers before '*' token
> >> mod_python.c:45: error: expected '=', ',', ';', 'asm' or '__attribute__'
> >> before '*' token
> >> mod_python.c:46: error: expected '=', ',', ';', 'asm' or '__attribute__'
> >> before '*' token
> >> mod_python.c:55: error: expected '=', ',', ';', 'asm' or '__attribute__'
> >> before '{' token
> >> mod_python.c:89: error: expected '=', ',', ';', 'asm' or '__attribute__'
> >> before '{' token
> >> mod_python.c:177: error: expected '=', ',', ';', 'asm' or
> '__attribute__'
> >> before '{' token
> >> mod_python.c:200: error: expected '=', ',', ';', 'asm' or
> '__attribute__'
> >> before '{' token
> >> mod_python.c:228: error: expected '=', ',', ';', 'asm' or
> '__attribute__'
> >> before '{' token
> >> mod_python.c:326: error: expected '=', ',', ';', 'asm' or
> '__attribute__'
> >> before '{' token
> >> mod_python.c:346: error: expected declaration specifiers before
> >> 'apr_status_t'
> >> mod_python.c:419: error: expected '=', ',', ';', 'asm' or
> '__attribute__'
> >> before 'init_mutexes'
> >> mod_python.c:573: error: expected '=', ',', ';', 'asm' or
> '__attribute__'
> >> before 'reinit_mutexes'
> >> mod_python.c:622: error: expected '=', ',', ';', 'asm' or
> '__attribute__'
> >> before '{' token
> >> mod_python.c:651: error: expected '=', ',', ';', 'asm' or
> '__attribute__'
> >> before '{' token
> >> mod_python.c:667: error: expected '=', ',', ';', 'asm' or
> '__attribute__'
> >> before '{' token
> >> mod_python.c:679: error: expected '=', ',', ';', 'asm' or
> '__attribute__'
> >> before '{' token
> >> mod_python.c:695: error: expected '=', ',', ';', 'asm' or
> '__attribute__'
> >> before '{' token
> >> mod_python.c:707: error: expected '=', ',', ';', 'asm' or
> '__attribute__'
> >> before '{' token
> >>
> >>
> ----------------------------------------------------------------------------------------------------------------------------
> >>
> >>
> >>
> >>
> >> On Mon, Apr 20, 2009 at 10:01 PM, Graham Dumpleton
> >> <graham.dumpleton@gmail.com> wrote:
> >>>
> >>> 2009/4/21 online service <online.service.com@gmail.com>:
> >>> > I got a make error of long print out.
> >>> >
> >>> > i am sharing my configure output here:
> >>> >
> >>> > ./configure command is
> >>> >
> >>> > ./configure --with-apxs=/usr/local/psa/admin/bin/apxs
> >>> >
> >>> > I am trying to install mod_python with a preinstalled apache working
> >>> > with
> >>> > plesk.
> >>> >
> >>> > checking for gcc... gcc
> >>> > checking for C compiler default output file name... a.out
> >>> > checking whether the C compiler works... yes
> >>> > checking whether we are cross compiling... no
> >>> > checking for suffix of executables...
> >>> > checking for suffix of object files... o
> >>> > checking whether we are using the GNU C compiler... yes
> >>> > checking whether gcc accepts -g... yes
> >>> > checking for gcc option to accept ANSI C... none needed
> >>> > checking for ar... ar
> >>> > checking for a BSD-compatible install... /usr/bin/install -c
> >>> > checking whether make sets $(MAKE)... yes
> >>> > checking for main in -lm... yes
> >>> > checking for an ANSI C-conforming const... yes
> >>> > checking your blood pressure... a bit high, but we can proceed
> >>> > configure: checking whether apxs is available...
> >>> > checking for --with-apxs... /usr/local/psa/admin/bin/apxs executable,
> >>> > good
> >>> > checking Apache version... 2.2.3
> >>> > checking for Apache libexec directory... /usr/local/psa/admin/libexec
> >>> > checking for Apache include directory...
> -I/usr/local/psa/admin/include
> >>> > checking for --with-python... no
> >>> > checking for python... /usr/local/bin/python
> >>> > checking Python version... 2.5
> >>> > checking Python install prefix... /usr/local
> >>> > checking checking where python libraries are installed...
> >>> > /usr/local/lib/python2.5
> >>> > checking for Py_NewInterpreter in -lpython2.5... yes
> >>> > checking what libraries Python was linked with... -lpython2.5
> -lpthread
> >>> > -ldl
> >>> > -lutil -lm
> >>> > checking linker flags used to link Python...
> >>> > checking where Python include files are...
> >>> > -I/usr/local/include/python2.5
> >>> > checking for --with-python-src... no
> >>> > checking for --with-mutex-dir... no
> >>> > Using MUTEX_DIR /tmp
> >>> > checking for --with-max-locks... no
> >>> > Using 8 MAX_LOCKS.
> >>> > checking for --with-flex... no
> >>> > checking for flex... no
> >>> > configure: creating ./config.status
> >>> > config.status: creating Makefile
> >>> > config.status: creating src/Makefile
> >>> > config.status: creating Doc/Makefile
> >>> > config.status: creating src/include/mod_python.h
> >>> > config.status: creating test/Makefile
> >>> > config.status: creating test/testconf.py
> >>> > config.status: creating dist/setup.py
> >>> > config.status: creating dist/Makefile
> >>> >
> >>> >
> >>> >
> >>> >
> >>> > What could cause the make problem?
> >>>
> >>> What problem? The bit about your blood pressure being a bit too high,
> >>> or something else?
> >>>
> >>> That is only the output from 'configure' and is normal. You haven't
> >>> even run 'make' yet.
> >>>
> >>> Graham
> >>
> >
> >
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090421/ef1b99d0/attachment-0001.html
From graham.dumpleton at gmail.com  Tue Apr 21 17:30:26 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Tue Apr 21 17:30:36 2009
Subject: [mod_python] make problem
In-Reply-To: <db1115e0904211008sa93718fo917979a15d01c4de@mail.gmail.com>
References: <db1115e0904202145w608ebd91g30a0e14b71713086@mail.gmail.com>
	<88e286470904202201t2f2c0616gfb13e92240a52844@mail.gmail.com>
	<db1115e0904202259k354a9d86j449bb738aa896c83@mail.gmail.com>
	<db1115e0904202301y4b706df6xb1b3ff9327136b26@mail.gmail.com>
	<88e286470904202318u614b216bj3a8f3822c0e331ca@mail.gmail.com>
	<db1115e0904211008sa93718fo917979a15d01c4de@mail.gmail.com>
Message-ID: <88e286470904211430g10aad88fob1e40ee813cb001c@mail.gmail.com>

As I said, you were mot likely missing Apache Portable Runtime library
header files in header file search. Find where on your box the
following header files are:

apr.h			apr_ldap_init.h		apr_signal.h
apr_allocator.h		apr_ldap_option.h	apr_strings.h
apr_anylock.h		apr_ldap_url.h		apr_strmatch.h
apr_atomic.h		apr_lib.h		apr_support.h
apr_base64.h		apr_md4.h		apr_tables.h
apr_buckets.h		apr_md5.h		apr_thread_cond.h
apr_date.h		apr_mmap.h		apr_thread_mutex.h
apr_dbd.h		apr_network_io.h	apr_thread_proc.h
apr_dbm.h		apr_optional.h		apr_thread_rwlock.h
apr_dso.h		apr_optional_hooks.h	apr_time.h
apr_env.h		apr_poll.h		apr_uri.h
apr_errno.h		apr_pools.h		apr_user.h
apr_file_info.h		apr_portable.h		apr_uuid.h
apr_file_io.h		apr_proc_mutex.h	apr_version.h
apr_fnmatch.h		apr_queue.h		apr_want.h
apr_general.h		apr_random.h		apr_xlate.h
apr_getopt.h		apr_reslist.h		apr_xml.h
apr_global_mutex.h	apr_ring.h		apu.h
apr_hash.h		apr_rmm.h		apu_version.h
apr_hooks.h		apr_sdbm.h		apu_want.h
apr_inherit.h		apr_sha1.h
apr_ldap.h		apr_shm.h

This is presuming that you are actually using Apache 2.X.

When you find them, you need to get that directory into include file
search path as your apxs is broken to the extent of not adding the
directory automatically.

Graham

2009/4/22 online service <online.service.com@gmail.com>:
> this is a 1and1 preinstalled? fedora server.
>
>
> files in /usr/local/psa/admin/include:
>
>
> -r--r--r-- 1 root psaadm 15335 Mar 22? 2007 ap_alloc.h
> -r--r--r-- 1 root psaadm 23605 Mar 22? 2007 ap_compat.h
> -r--r--r-- 1 root psaadm? 2628 Mar 22? 2007 ap_config_auto.h
> -r--r--r-- 1 root psaadm 37326 Mar 22? 2007 ap_config.h
> -r--r--r-- 1 root psaadm? 3948 Mar 22? 2007 ap_ctx.h
> -r--r--r-- 1 root psaadm? 1733 Mar 22? 2007 ap_ctype.h
> -r--r--r-- 1 root psaadm? 1004 Mar 22? 2007 ap_ebcdic.h
> -r--r--r-- 1 root psaadm? 6416 Mar 22? 2007 ap.h
> -r--r--r-- 1 root psaadm 26419 Mar 22? 2007 ap_hook.h
> -r--r--r-- 1 root psaadm? 2923 Mar 22? 2007 ap_md5.h
> -r--r--r-- 1 root psaadm? 5577 Mar 22? 2007 ap_mm.h
> -r--r--r-- 1 root psaadm 12707 Mar 22? 2007 ap_mmn.h
> -r--r--r-- 1 root psaadm? 2015 Mar 22? 2007 ap_sha1.h
> -r--r--r-- 1 root psaadm? 6563 Mar 22? 2007 buff.h
> -r--r--r-- 1 root psaadm?? 794 Mar 22? 2007 compat.h
> -r--r--r-- 1 root psaadm?? 792 Mar 22? 2007 conf.h
> -r--r--r-- 1 root psaadm? 1901 Mar 22? 2007 explain.h
> -r--r--r-- 1 root psaadm? 2595 Mar 22? 2007 fnmatch.h
> -r--r--r-- 1 root psaadm? 2221 Mar 22? 2007 hsregex.h
> -r--r--r-- 1 root psaadm? 3177 Mar 22? 2007 http_conf_globals.h
> -r--r--r-- 1 root psaadm 17479 Mar 22? 2007 http_config.h
> -r--r--r-- 1 root psaadm 12279 Mar 22? 2007 http_core.h
> -r--r--r-- 1 root psaadm 45968 Mar 22? 2007 httpd.h
> -r--r--r-- 1 root psaadm? 4270 Mar 22? 2007 http_log.h
> -r--r--r-- 1 root psaadm? 5900 Mar 22? 2007 http_main.h
> -r--r--r-- 1 root psaadm? 7185 Mar 22? 2007 http_protocol.h
> -r--r--r-- 1 root psaadm? 3229 Mar 22? 2007 http_request.h
> -r--r--r-- 1 root psaadm? 1779 Mar 22? 2007 http_vhost.h
> -r--r--r-- 1 root psaadm? 2406 Mar 22? 2007 multithread.h
> -r--r--r-- 1 root psaadm? 2774 Mar 22? 2007 os.h
> -r--r--r-- 1 root psaadm? 1588 Mar 22? 2007 os-inline.c
> dr--r--r-- 8 root psaadm??? 92 Apr 27? 2007 php
> -r--r--r-- 1 root psaadm?? 840 Mar 22? 2007 rfc1413.h
> -r--r--r-- 1 root psaadm? 5507 Mar 22? 2007 scoreboard.h
> -r--r--r-- 1 root psaadm? 1126 Mar 22? 2007 util_date.h
> -r--r--r-- 1 root psaadm? 1186 Mar 22? 2007 util_md5.h
> -r--r--r-- 1 root psaadm? 2007 Mar 22? 2007 util_script.h
> -r--r--r-- 1 root psaadm? 3328 Mar 22? 2007 util_uri.h
> dr-xr-xr-x 2 root psaadm? 4096 Apr 27? 2007 xml
>
>
> files in? /usr/local/include/python2.5
>
>
> -rw-r--r-- 1 root root 38971 Apr 20 18:59 abstract.h
> -rw-r--r-- 1 root root? 1099 Apr 20 18:59 asdl.h
> -rw-r--r-- 1 root root?? 230 Apr 20 18:59 ast.h
> -rw-r--r-- 1 root root?? 792 Apr 20 18:59 bitset.h
> -rw-r--r-- 1 root root?? 914 Apr 20 18:59 boolobject.h
> -rw-r--r-- 1 root root?? 924 Apr 20 18:59 bufferobject.h
> -rw-r--r-- 1 root root?? 653 Apr 20 18:59 cellobject.h
> -rw-r--r-- 1 root root? 4944 Apr 20 18:59 ceval.h
> -rw-r--r-- 1 root root? 2893 Apr 20 18:59 classobject.h
> -rw-r--r-- 1 root root? 1763 Apr 20 18:59 cobject.h
> -rw-r--r-- 1 root root? 5014 Apr 20 18:59 codecs.h
> -rw-r--r-- 1 root root? 3277 Apr 20 18:59 code.h
> -rw-r--r-- 1 root root? 1058 Apr 20 18:59 compile.h
> -rw-r--r-- 1 root root? 1476 Apr 20 18:59 complexobject.h
> -rw-r--r-- 1 root root? 2005 Apr 20 18:59 cStringIO.h
> -rw-r--r-- 1 root root? 8288 Apr 20 18:59 datetime.h
> -rw-r--r-- 1 root root? 2106 Apr 20 18:59 descrobject.h
> -rw-r--r-- 1 root root? 5666 Apr 20 18:59 dictobject.h
> -rw-r--r-- 1 root root?? 253 Apr 20 18:59 enumobject.h
> -rw-r--r-- 1 root root? 1363 Apr 20 18:59 errcode.h
> -rw-r--r-- 1 root root?? 557 Apr 20 18:59 eval.h
> -rw-r--r-- 1 root root? 2358 Apr 20 18:59 fileobject.h
> -rw-r--r-- 1 root root? 4184 Apr 20 18:59 floatobject.h
> -rw-r--r-- 1 root root? 2877 Apr 20 18:59 frameobject.h
> -rw-r--r-- 1 root root? 2997 Apr 20 18:59 funcobject.h
> -rw-r--r-- 1 root root?? 823 Apr 20 18:59 genobject.h
> -rw-r--r-- 1 root root? 1854 Apr 20 18:59 graminit.h
> -rw-r--r-- 1 root root? 2021 Apr 20 18:59 grammar.h
> -rw-r--r-- 1 root root? 2029 Apr 20 18:59 import.h
> -rw-r--r-- 1 root root? 2112 Apr 20 18:59 intobject.h
> -rw-r--r-- 1 root root?? 274 Apr 20 18:59 intrcheck.h
> -rw-r--r-- 1 root root?? 526 Apr 20 18:59 iterobject.h
> -rw-r--r-- 1 root root? 2511 Apr 20 18:59 listobject.h
> -rw-r--r-- 1 root root? 2140 Apr 20 18:59 longintrepr.h
> -rw-r--r-- 1 root root? 4809 Apr 20 18:59 longobject.h
> -rw-r--r-- 1 root root?? 713 Apr 20 18:59 marshal.h
> -rw-r--r-- 1 root root?? 253 Apr 20 18:59 metagrammar.h
> -rw-r--r-- 1 root root? 3190 Apr 20 18:59 methodobject.h
> -rw-r--r-- 1 root root? 4836 Apr 20 18:59 modsupport.h
> -rw-r--r-- 1 root root?? 611 Apr 20 18:59 moduleobject.h
> -rw-r--r-- 1 root root?? 890 Apr 20 18:59 node.h
> -rw-r--r-- 1 root root 32254 Apr 20 18:59 object.h
> -rw-r--r-- 1 root root 12438 Apr 20 18:59 objimpl.h
> -rw-r--r-- 1 root root? 4320 Apr 20 18:59 opcode.h
> -rw-r--r-- 1 root root?? 942 Apr 20 18:59 osdefs.h
> -rw-r--r-- 1 root root? 1346 Apr 20 18:59 parsetok.h
> -rw-r--r-- 1 root root? 1378 Apr 20 18:59 patchlevel.h
> -rw-r--r-- 1 root root?? 253 Apr 20 18:59 pgen.h
> -rw-r--r-- 1 root root? 1144 Apr 20 18:59 pgenheaders.h
> -rw-r--r-- 1 root root? 2693 Apr 20 18:59 pyarena.h
> -rw-r--r-- 1 root root 28564 Apr 20 18:59 pyconfig.h
> -rw-r--r-- 1 root root? 4160 Apr 20 18:59 py_curses.h
> -rw-r--r-- 1 root root? 1065 Apr 20 18:59 pydebug.h
> -rw-r--r-- 1 root root 11581 Apr 20 18:59 pyerrors.h
> -rw-r--r-- 1 root root? 1957 Apr 20 18:59 pyexpat.h
> -rw-r--r-- 1 root root? 8495 Apr 20 18:59 pyfpe.h
> -rw-r--r-- 1 root root?? 306 Apr 20 18:59 pygetopt.h
> -rw-r--r-- 1 root root? 7421 Apr 20 18:59 pymactoolbox.h
> -rw-r--r-- 1 root root? 4602 Apr 20 18:59 pymem.h
> -rw-r--r-- 1 root root 25218 Apr 20 18:59 pyport.h
> -rw-r--r-- 1 root root? 6203 Apr 20 18:59 pystate.h
> -rw-r--r-- 1 root root?? 359 Apr 20 18:59 pystrtod.h
> -rw-r--r-- 1 root root 19631 Apr 20 18:59 Python-ast.h
> -rw-r--r-- 1 root root? 4204 Apr 20 18:59 Python.h
> -rw-r--r-- 1 root root? 6481 Apr 20 18:59 pythonrun.h
> -rw-r--r-- 1 root root? 1447 Apr 20 18:59 pythread.h
> -rw-r--r-- 1 root root?? 648 Apr 20 18:59 rangeobject.h
> -rw-r--r-- 1 root root? 2757 Apr 20 18:59 setobject.h
> -rw-r--r-- 1 root root? 1291 Apr 20 18:59 sliceobject.h
> -rw-r--r-- 1 root root? 6611 Apr 20 18:59 stringobject.h
> -rw-r--r-- 1 root root? 2532 Apr 20 18:59 structmember.h
> -rw-r--r-- 1 root root?? 862 Apr 20 18:59 structseq.h
> -rw-r--r-- 1 root root? 3936 Apr 20 18:59 symtable.h
> -rw-r--r-- 1 root root?? 819 Apr 20 18:59 sysmodule.h
> -rw-r--r-- 1 root root?? 442 Apr 20 18:59 timefuncs.h
> -rw-r--r-- 1 root root? 1710 Apr 20 18:59 token.h
> -rw-r--r-- 1 root root?? 624 Apr 20 18:59 traceback.h
> -rw-r--r-- 1 root root? 2061 Apr 20 18:59 tupleobject.h
> -rw-r--r-- 1 root root?? 861 Apr 20 18:59 ucnhash.h
> -rw-r--r-- 1 root root 44859 Apr 20 18:59 unicodeobject.h
> -rw-r--r-- 1 root root? 2434 Apr 20 18:59 weakrefobject.h
>
>
>
> -------------------------------------------------------------------------
>
>
>
>
>
>
> What might be missing?
>
> Thanks
>
> On Mon, Apr 20, 2009 at 11:18 PM, Graham Dumpleton
> <graham.dumpleton@gmail.com> wrote:
>>
>> You most likely do not have headers file installed for Apache, Apache
>> Portable Runtime library, or Python itself.
>>
>> What is in:
>>
>> ?/usr/local/psa/admin/include
>> ?/usr/local/include/python2.5
>>
>> Even if they have Apache and Python header files, the Apache Portable
>> Runtime library header files may not be in the first one and you need
>> to work out where they are and ensure -I is listed in Makefile for
>> them, since it seems that your 'apxs' program isn't reporting their
>> location properly.
>>
>> What weird version of Apache is this anyway? And on what operating system?
>>
>> Graham
>>
>> 2009/4/21 online service <online.service.com@gmail.com>:
>> >
>> >
>> > On Mon, Apr 20, 2009 at 10:59 PM, online service
>> > <online.service.com@gmail.com> wrote:
>> >>
>> >> ------------------------------
>> >>
>> >>
>> >> ---------------------------------------------------------------------------------------------------
>> >> ex_t'
>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:157: error:
>> >> expected specifier-qualifier-list before 'apr_table_t'
>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:179: error:
>> >> expected specifier-qualifier-list before 'apr_hash_t'
>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:210: error:
>> >> expected '=', ',', ';', 'asm' or '__attribute__' before
>> >> 'python_cleanup'
>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: error:
>> >> expected declaration specifiers or '...' before
>> >> 'mp_acquire_interpreter'
>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: error:
>> >> expected declaration specifiers or '...' before '(' token
>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: warning:
>> >> data definition has no type or storage class
>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: warning:
>> >> type defaults to 'int' in declaration of 'APR_DECLARE_OPTIONAL_FN'
>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:215: error:
>> >> expected declaration specifiers or '...' before
>> >> 'mp_release_interpreter'
>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:215: error:
>> >> expected declaration specifiers or '...' before '(' token
>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:215: warning:
>> >> data definition has no type or storage class
>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:215: warning:
>> >> type defaults to 'int' in declaration of 'APR_DECLARE_OPTIONAL_FN'
>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:215: error:
>> >> conflicting types for 'APR_DECLARE_OPTIONAL_FN'
>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: error:
>> >> previous declaration of 'APR_DECLARE_OPTIONAL_FN' was here
>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:216: error:
>> >> expected declaration specifiers or '...' before 'mp_get_request_object'
>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:216: error:
>> >> expected declaration specifiers or '...' before '(' token
>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:216: warning:
>> >> data definition has no type or storage class
>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:216: warning:
>> >> type defaults to 'int' in declaration of 'APR_DECLARE_OPTIONAL_FN'
>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:216: error:
>> >> conflicting types for 'APR_DECLARE_OPTIONAL_FN'
>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: error:
>> >> previous declaration of 'APR_DECLARE_OPTIONAL_FN' was here
>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:217: error:
>> >> expected declaration specifiers or '...' before 'mp_get_server_object'
>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:217: error:
>> >> expected declaration specifiers or '...' before '(' token
>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:217: warning:
>> >> data definition has no type or storage class
>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:217: warning:
>> >> type defaults to 'int' in declaration of 'APR_DECLARE_OPTIONAL_FN'
>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:217: error:
>> >> conflicting types for 'APR_DECLARE_OPTIONAL_FN'
>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: error:
>> >> previous declaration of 'APR_DECLARE_OPTIONAL_FN' was here
>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:218: error:
>> >> expected declaration specifiers or '...' before
>> >> 'mp_get_connection_object'
>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:218: error:
>> >> expected declaration specifiers or '...' before '(' token
>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:218: warning:
>> >> data definition has no type or storage class
>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:218: warning:
>> >> type defaults to 'int' in declaration of 'APR_DECLARE_OPTIONAL_FN'
>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:218: error:
>> >> conflicting types for 'APR_DECLARE_OPTIONAL_FN'
>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: error:
>> >> previous declaration of 'APR_DECLARE_OPTIONAL_FN' was here
>> >> mod_python.c:41: error: expected '=', ',', ';', 'asm' or
>> >> '__attribute__'
>> >> before '*' token
>> >> mod_python.c:44: warning: return type defaults to 'int'
>> >> mod_python.c: In function 'APR_OPTIONAL_FN_TYPE':
>> >> mod_python.c:44: error: expected declaration specifiers before '*'
>> >> token
>> >> mod_python.c:45: error: expected '=', ',', ';', 'asm' or
>> >> '__attribute__'
>> >> before '*' token
>> >> mod_python.c:46: error: expected '=', ',', ';', 'asm' or
>> >> '__attribute__'
>> >> before '*' token
>> >> mod_python.c:55: error: expected '=', ',', ';', 'asm' or
>> >> '__attribute__'
>> >> before '{' token
>> >> mod_python.c:89: error: expected '=', ',', ';', 'asm' or
>> >> '__attribute__'
>> >> before '{' token
>> >> mod_python.c:177: error: expected '=', ',', ';', 'asm' or
>> >> '__attribute__'
>> >> before '{' token
>> >> mod_python.c:200: error: expected '=', ',', ';', 'asm' or
>> >> '__attribute__'
>> >> before '{' token
>> >> mod_python.c:228: error: expected '=', ',', ';', 'asm' or
>> >> '__attribute__'
>> >> before '{' token
>> >> mod_python.c:326: error: expected '=', ',', ';', 'asm' or
>> >> '__attribute__'
>> >> before '{' token
>> >> mod_python.c:346: error: expected declaration specifiers before
>> >> 'apr_status_t'
>> >> mod_python.c:419: error: expected '=', ',', ';', 'asm' or
>> >> '__attribute__'
>> >> before 'init_mutexes'
>> >> mod_python.c:573: error: expected '=', ',', ';', 'asm' or
>> >> '__attribute__'
>> >> before 'reinit_mutexes'
>> >> mod_python.c:622: error: expected '=', ',', ';', 'asm' or
>> >> '__attribute__'
>> >> before '{' token
>> >> mod_python.c:651: error: expected '=', ',', ';', 'asm' or
>> >> '__attribute__'
>> >> before '{' token
>> >> mod_python.c:667: error: expected '=', ',', ';', 'asm' or
>> >> '__attribute__'
>> >> before '{' token
>> >> mod_python.c:679: error: expected '=', ',', ';', 'asm' or
>> >> '__attribute__'
>> >> before '{' token
>> >> mod_python.c:695: error: expected '=', ',', ';', 'asm' or
>> >> '__attribute__'
>> >> before '{' token
>> >> mod_python.c:707: error: expected '=', ',', ';', 'asm' or
>> >> '__attribute__'
>> >> before '{' token
>> >>
>> >>
>> >> ----------------------------------------------------------------------------------------------------------------------------
>> >>
>> >>
>> >>
>> >>
>> >> On Mon, Apr 20, 2009 at 10:01 PM, Graham Dumpleton
>> >> <graham.dumpleton@gmail.com> wrote:
>> >>>
>> >>> 2009/4/21 online service <online.service.com@gmail.com>:
>> >>> > I got a make error of long print out.
>> >>> >
>> >>> > i am sharing my configure output here:
>> >>> >
>> >>> > ./configure command is
>> >>> >
>> >>> > ./configure --with-apxs=/usr/local/psa/admin/bin/apxs
>> >>> >
>> >>> > I am trying to install mod_python with a preinstalled apache working
>> >>> > with
>> >>> > plesk.
>> >>> >
>> >>> > checking for gcc... gcc
>> >>> > checking for C compiler default output file name... a.out
>> >>> > checking whether the C compiler works... yes
>> >>> > checking whether we are cross compiling... no
>> >>> > checking for suffix of executables...
>> >>> > checking for suffix of object files... o
>> >>> > checking whether we are using the GNU C compiler... yes
>> >>> > checking whether gcc accepts -g... yes
>> >>> > checking for gcc option to accept ANSI C... none needed
>> >>> > checking for ar... ar
>> >>> > checking for a BSD-compatible install... /usr/bin/install -c
>> >>> > checking whether make sets $(MAKE)... yes
>> >>> > checking for main in -lm... yes
>> >>> > checking for an ANSI C-conforming const... yes
>> >>> > checking your blood pressure... a bit high, but we can proceed
>> >>> > configure: checking whether apxs is available...
>> >>> > checking for --with-apxs... /usr/local/psa/admin/bin/apxs
>> >>> > executable,
>> >>> > good
>> >>> > checking Apache version... 2.2.3
>> >>> > checking for Apache libexec directory...
>> >>> > /usr/local/psa/admin/libexec
>> >>> > checking for Apache include directory...
>> >>> > -I/usr/local/psa/admin/include
>> >>> > checking for --with-python... no
>> >>> > checking for python... /usr/local/bin/python
>> >>> > checking Python version... 2.5
>> >>> > checking Python install prefix... /usr/local
>> >>> > checking checking where python libraries are installed...
>> >>> > /usr/local/lib/python2.5
>> >>> > checking for Py_NewInterpreter in -lpython2.5... yes
>> >>> > checking what libraries Python was linked with... -lpython2.5
>> >>> > -lpthread
>> >>> > -ldl
>> >>> > -lutil -lm
>> >>> > checking linker flags used to link Python...
>> >>> > checking where Python include files are...
>> >>> > -I/usr/local/include/python2.5
>> >>> > checking for --with-python-src... no
>> >>> > checking for --with-mutex-dir... no
>> >>> > Using MUTEX_DIR /tmp
>> >>> > checking for --with-max-locks... no
>> >>> > Using 8 MAX_LOCKS.
>> >>> > checking for --with-flex... no
>> >>> > checking for flex... no
>> >>> > configure: creating ./config.status
>> >>> > config.status: creating Makefile
>> >>> > config.status: creating src/Makefile
>> >>> > config.status: creating Doc/Makefile
>> >>> > config.status: creating src/include/mod_python.h
>> >>> > config.status: creating test/Makefile
>> >>> > config.status: creating test/testconf.py
>> >>> > config.status: creating dist/setup.py
>> >>> > config.status: creating dist/Makefile
>> >>> >
>> >>> >
>> >>> >
>> >>> >
>> >>> > What could cause the make problem?
>> >>>
>> >>> What problem? The bit about your blood pressure being a bit too high,
>> >>> or something else?
>> >>>
>> >>> That is only the output from 'configure' and is normal. You haven't
>> >>> even run 'make' yet.
>> >>>
>> >>> Graham
>> >>
>> >
>> >
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>
>

From graham.dumpleton at gmail.com  Tue Apr 21 18:22:43 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Tue Apr 21 18:22:52 2009
Subject: [mod_python] make problem
In-Reply-To: <88e286470904211430g10aad88fob1e40ee813cb001c@mail.gmail.com>
References: <db1115e0904202145w608ebd91g30a0e14b71713086@mail.gmail.com>
	<88e286470904202201t2f2c0616gfb13e92240a52844@mail.gmail.com>
	<db1115e0904202259k354a9d86j449bb738aa896c83@mail.gmail.com>
	<db1115e0904202301y4b706df6xb1b3ff9327136b26@mail.gmail.com>
	<88e286470904202318u614b216bj3a8f3822c0e331ca@mail.gmail.com>
	<db1115e0904211008sa93718fo917979a15d01c4de@mail.gmail.com>
	<88e286470904211430g10aad88fob1e40ee813cb001c@mail.gmail.com>
Message-ID: <88e286470904211522h6fa04b42i16a6b5ad0672cfe5@mail.gmail.com>

BTW, are you a customer of 1and1 or connected with 1and1?

There has been a separate question on Django list about how to use
1and1 for Django.

Just curious as to whether you are from 1and1 and trying to set this
up for customers.

If you are, mod_python is possibly not a good choice, especially if
used for shared hosting of any sort.

Graham

2009/4/22 Graham Dumpleton <graham.dumpleton@gmail.com>:
> As I said, you were mot likely missing Apache Portable Runtime library
> header files in header file search. Find where on your box the
> following header files are:
>
> apr.h ? ? ? ? ? ? ? ? ? apr_ldap_init.h ? ? ? ? apr_signal.h
> apr_allocator.h ? ? ? ? apr_ldap_option.h ? ? ? apr_strings.h
> apr_anylock.h ? ? ? ? ? apr_ldap_url.h ? ? ? ? ?apr_strmatch.h
> apr_atomic.h ? ? ? ? ? ?apr_lib.h ? ? ? ? ? ? ? apr_support.h
> apr_base64.h ? ? ? ? ? ?apr_md4.h ? ? ? ? ? ? ? apr_tables.h
> apr_buckets.h ? ? ? ? ? apr_md5.h ? ? ? ? ? ? ? apr_thread_cond.h
> apr_date.h ? ? ? ? ? ? ?apr_mmap.h ? ? ? ? ? ? ?apr_thread_mutex.h
> apr_dbd.h ? ? ? ? ? ? ? apr_network_io.h ? ? ? ?apr_thread_proc.h
> apr_dbm.h ? ? ? ? ? ? ? apr_optional.h ? ? ? ? ?apr_thread_rwlock.h
> apr_dso.h ? ? ? ? ? ? ? apr_optional_hooks.h ? ?apr_time.h
> apr_env.h ? ? ? ? ? ? ? apr_poll.h ? ? ? ? ? ? ?apr_uri.h
> apr_errno.h ? ? ? ? ? ? apr_pools.h ? ? ? ? ? ? apr_user.h
> apr_file_info.h ? ? ? ? apr_portable.h ? ? ? ? ?apr_uuid.h
> apr_file_io.h ? ? ? ? ? apr_proc_mutex.h ? ? ? ?apr_version.h
> apr_fnmatch.h ? ? ? ? ? apr_queue.h ? ? ? ? ? ? apr_want.h
> apr_general.h ? ? ? ? ? apr_random.h ? ? ? ? ? ?apr_xlate.h
> apr_getopt.h ? ? ? ? ? ?apr_reslist.h ? ? ? ? ? apr_xml.h
> apr_global_mutex.h ? ? ?apr_ring.h ? ? ? ? ? ? ?apu.h
> apr_hash.h ? ? ? ? ? ? ?apr_rmm.h ? ? ? ? ? ? ? apu_version.h
> apr_hooks.h ? ? ? ? ? ? apr_sdbm.h ? ? ? ? ? ? ?apu_want.h
> apr_inherit.h ? ? ? ? ? apr_sha1.h
> apr_ldap.h ? ? ? ? ? ? ?apr_shm.h
>
> This is presuming that you are actually using Apache 2.X.
>
> When you find them, you need to get that directory into include file
> search path as your apxs is broken to the extent of not adding the
> directory automatically.
>
> Graham
>
> 2009/4/22 online service <online.service.com@gmail.com>:
>> this is a 1and1 preinstalled? fedora server.
>>
>>
>> files in /usr/local/psa/admin/include:
>>
>>
>> -r--r--r-- 1 root psaadm 15335 Mar 22? 2007 ap_alloc.h
>> -r--r--r-- 1 root psaadm 23605 Mar 22? 2007 ap_compat.h
>> -r--r--r-- 1 root psaadm? 2628 Mar 22? 2007 ap_config_auto.h
>> -r--r--r-- 1 root psaadm 37326 Mar 22? 2007 ap_config.h
>> -r--r--r-- 1 root psaadm? 3948 Mar 22? 2007 ap_ctx.h
>> -r--r--r-- 1 root psaadm? 1733 Mar 22? 2007 ap_ctype.h
>> -r--r--r-- 1 root psaadm? 1004 Mar 22? 2007 ap_ebcdic.h
>> -r--r--r-- 1 root psaadm? 6416 Mar 22? 2007 ap.h
>> -r--r--r-- 1 root psaadm 26419 Mar 22? 2007 ap_hook.h
>> -r--r--r-- 1 root psaadm? 2923 Mar 22? 2007 ap_md5.h
>> -r--r--r-- 1 root psaadm? 5577 Mar 22? 2007 ap_mm.h
>> -r--r--r-- 1 root psaadm 12707 Mar 22? 2007 ap_mmn.h
>> -r--r--r-- 1 root psaadm? 2015 Mar 22? 2007 ap_sha1.h
>> -r--r--r-- 1 root psaadm? 6563 Mar 22? 2007 buff.h
>> -r--r--r-- 1 root psaadm?? 794 Mar 22? 2007 compat.h
>> -r--r--r-- 1 root psaadm?? 792 Mar 22? 2007 conf.h
>> -r--r--r-- 1 root psaadm? 1901 Mar 22? 2007 explain.h
>> -r--r--r-- 1 root psaadm? 2595 Mar 22? 2007 fnmatch.h
>> -r--r--r-- 1 root psaadm? 2221 Mar 22? 2007 hsregex.h
>> -r--r--r-- 1 root psaadm? 3177 Mar 22? 2007 http_conf_globals.h
>> -r--r--r-- 1 root psaadm 17479 Mar 22? 2007 http_config.h
>> -r--r--r-- 1 root psaadm 12279 Mar 22? 2007 http_core.h
>> -r--r--r-- 1 root psaadm 45968 Mar 22? 2007 httpd.h
>> -r--r--r-- 1 root psaadm? 4270 Mar 22? 2007 http_log.h
>> -r--r--r-- 1 root psaadm? 5900 Mar 22? 2007 http_main.h
>> -r--r--r-- 1 root psaadm? 7185 Mar 22? 2007 http_protocol.h
>> -r--r--r-- 1 root psaadm? 3229 Mar 22? 2007 http_request.h
>> -r--r--r-- 1 root psaadm? 1779 Mar 22? 2007 http_vhost.h
>> -r--r--r-- 1 root psaadm? 2406 Mar 22? 2007 multithread.h
>> -r--r--r-- 1 root psaadm? 2774 Mar 22? 2007 os.h
>> -r--r--r-- 1 root psaadm? 1588 Mar 22? 2007 os-inline.c
>> dr--r--r-- 8 root psaadm??? 92 Apr 27? 2007 php
>> -r--r--r-- 1 root psaadm?? 840 Mar 22? 2007 rfc1413.h
>> -r--r--r-- 1 root psaadm? 5507 Mar 22? 2007 scoreboard.h
>> -r--r--r-- 1 root psaadm? 1126 Mar 22? 2007 util_date.h
>> -r--r--r-- 1 root psaadm? 1186 Mar 22? 2007 util_md5.h
>> -r--r--r-- 1 root psaadm? 2007 Mar 22? 2007 util_script.h
>> -r--r--r-- 1 root psaadm? 3328 Mar 22? 2007 util_uri.h
>> dr-xr-xr-x 2 root psaadm? 4096 Apr 27? 2007 xml
>>
>>
>> files in? /usr/local/include/python2.5
>>
>>
>> -rw-r--r-- 1 root root 38971 Apr 20 18:59 abstract.h
>> -rw-r--r-- 1 root root? 1099 Apr 20 18:59 asdl.h
>> -rw-r--r-- 1 root root?? 230 Apr 20 18:59 ast.h
>> -rw-r--r-- 1 root root?? 792 Apr 20 18:59 bitset.h
>> -rw-r--r-- 1 root root?? 914 Apr 20 18:59 boolobject.h
>> -rw-r--r-- 1 root root?? 924 Apr 20 18:59 bufferobject.h
>> -rw-r--r-- 1 root root?? 653 Apr 20 18:59 cellobject.h
>> -rw-r--r-- 1 root root? 4944 Apr 20 18:59 ceval.h
>> -rw-r--r-- 1 root root? 2893 Apr 20 18:59 classobject.h
>> -rw-r--r-- 1 root root? 1763 Apr 20 18:59 cobject.h
>> -rw-r--r-- 1 root root? 5014 Apr 20 18:59 codecs.h
>> -rw-r--r-- 1 root root? 3277 Apr 20 18:59 code.h
>> -rw-r--r-- 1 root root? 1058 Apr 20 18:59 compile.h
>> -rw-r--r-- 1 root root? 1476 Apr 20 18:59 complexobject.h
>> -rw-r--r-- 1 root root? 2005 Apr 20 18:59 cStringIO.h
>> -rw-r--r-- 1 root root? 8288 Apr 20 18:59 datetime.h
>> -rw-r--r-- 1 root root? 2106 Apr 20 18:59 descrobject.h
>> -rw-r--r-- 1 root root? 5666 Apr 20 18:59 dictobject.h
>> -rw-r--r-- 1 root root?? 253 Apr 20 18:59 enumobject.h
>> -rw-r--r-- 1 root root? 1363 Apr 20 18:59 errcode.h
>> -rw-r--r-- 1 root root?? 557 Apr 20 18:59 eval.h
>> -rw-r--r-- 1 root root? 2358 Apr 20 18:59 fileobject.h
>> -rw-r--r-- 1 root root? 4184 Apr 20 18:59 floatobject.h
>> -rw-r--r-- 1 root root? 2877 Apr 20 18:59 frameobject.h
>> -rw-r--r-- 1 root root? 2997 Apr 20 18:59 funcobject.h
>> -rw-r--r-- 1 root root?? 823 Apr 20 18:59 genobject.h
>> -rw-r--r-- 1 root root? 1854 Apr 20 18:59 graminit.h
>> -rw-r--r-- 1 root root? 2021 Apr 20 18:59 grammar.h
>> -rw-r--r-- 1 root root? 2029 Apr 20 18:59 import.h
>> -rw-r--r-- 1 root root? 2112 Apr 20 18:59 intobject.h
>> -rw-r--r-- 1 root root?? 274 Apr 20 18:59 intrcheck.h
>> -rw-r--r-- 1 root root?? 526 Apr 20 18:59 iterobject.h
>> -rw-r--r-- 1 root root? 2511 Apr 20 18:59 listobject.h
>> -rw-r--r-- 1 root root? 2140 Apr 20 18:59 longintrepr.h
>> -rw-r--r-- 1 root root? 4809 Apr 20 18:59 longobject.h
>> -rw-r--r-- 1 root root?? 713 Apr 20 18:59 marshal.h
>> -rw-r--r-- 1 root root?? 253 Apr 20 18:59 metagrammar.h
>> -rw-r--r-- 1 root root? 3190 Apr 20 18:59 methodobject.h
>> -rw-r--r-- 1 root root? 4836 Apr 20 18:59 modsupport.h
>> -rw-r--r-- 1 root root?? 611 Apr 20 18:59 moduleobject.h
>> -rw-r--r-- 1 root root?? 890 Apr 20 18:59 node.h
>> -rw-r--r-- 1 root root 32254 Apr 20 18:59 object.h
>> -rw-r--r-- 1 root root 12438 Apr 20 18:59 objimpl.h
>> -rw-r--r-- 1 root root? 4320 Apr 20 18:59 opcode.h
>> -rw-r--r-- 1 root root?? 942 Apr 20 18:59 osdefs.h
>> -rw-r--r-- 1 root root? 1346 Apr 20 18:59 parsetok.h
>> -rw-r--r-- 1 root root? 1378 Apr 20 18:59 patchlevel.h
>> -rw-r--r-- 1 root root?? 253 Apr 20 18:59 pgen.h
>> -rw-r--r-- 1 root root? 1144 Apr 20 18:59 pgenheaders.h
>> -rw-r--r-- 1 root root? 2693 Apr 20 18:59 pyarena.h
>> -rw-r--r-- 1 root root 28564 Apr 20 18:59 pyconfig.h
>> -rw-r--r-- 1 root root? 4160 Apr 20 18:59 py_curses.h
>> -rw-r--r-- 1 root root? 1065 Apr 20 18:59 pydebug.h
>> -rw-r--r-- 1 root root 11581 Apr 20 18:59 pyerrors.h
>> -rw-r--r-- 1 root root? 1957 Apr 20 18:59 pyexpat.h
>> -rw-r--r-- 1 root root? 8495 Apr 20 18:59 pyfpe.h
>> -rw-r--r-- 1 root root?? 306 Apr 20 18:59 pygetopt.h
>> -rw-r--r-- 1 root root? 7421 Apr 20 18:59 pymactoolbox.h
>> -rw-r--r-- 1 root root? 4602 Apr 20 18:59 pymem.h
>> -rw-r--r-- 1 root root 25218 Apr 20 18:59 pyport.h
>> -rw-r--r-- 1 root root? 6203 Apr 20 18:59 pystate.h
>> -rw-r--r-- 1 root root?? 359 Apr 20 18:59 pystrtod.h
>> -rw-r--r-- 1 root root 19631 Apr 20 18:59 Python-ast.h
>> -rw-r--r-- 1 root root? 4204 Apr 20 18:59 Python.h
>> -rw-r--r-- 1 root root? 6481 Apr 20 18:59 pythonrun.h
>> -rw-r--r-- 1 root root? 1447 Apr 20 18:59 pythread.h
>> -rw-r--r-- 1 root root?? 648 Apr 20 18:59 rangeobject.h
>> -rw-r--r-- 1 root root? 2757 Apr 20 18:59 setobject.h
>> -rw-r--r-- 1 root root? 1291 Apr 20 18:59 sliceobject.h
>> -rw-r--r-- 1 root root? 6611 Apr 20 18:59 stringobject.h
>> -rw-r--r-- 1 root root? 2532 Apr 20 18:59 structmember.h
>> -rw-r--r-- 1 root root?? 862 Apr 20 18:59 structseq.h
>> -rw-r--r-- 1 root root? 3936 Apr 20 18:59 symtable.h
>> -rw-r--r-- 1 root root?? 819 Apr 20 18:59 sysmodule.h
>> -rw-r--r-- 1 root root?? 442 Apr 20 18:59 timefuncs.h
>> -rw-r--r-- 1 root root? 1710 Apr 20 18:59 token.h
>> -rw-r--r-- 1 root root?? 624 Apr 20 18:59 traceback.h
>> -rw-r--r-- 1 root root? 2061 Apr 20 18:59 tupleobject.h
>> -rw-r--r-- 1 root root?? 861 Apr 20 18:59 ucnhash.h
>> -rw-r--r-- 1 root root 44859 Apr 20 18:59 unicodeobject.h
>> -rw-r--r-- 1 root root? 2434 Apr 20 18:59 weakrefobject.h
>>
>>
>>
>> -------------------------------------------------------------------------
>>
>>
>>
>>
>>
>>
>> What might be missing?
>>
>> Thanks
>>
>> On Mon, Apr 20, 2009 at 11:18 PM, Graham Dumpleton
>> <graham.dumpleton@gmail.com> wrote:
>>>
>>> You most likely do not have headers file installed for Apache, Apache
>>> Portable Runtime library, or Python itself.
>>>
>>> What is in:
>>>
>>> ?/usr/local/psa/admin/include
>>> ?/usr/local/include/python2.5
>>>
>>> Even if they have Apache and Python header files, the Apache Portable
>>> Runtime library header files may not be in the first one and you need
>>> to work out where they are and ensure -I is listed in Makefile for
>>> them, since it seems that your 'apxs' program isn't reporting their
>>> location properly.
>>>
>>> What weird version of Apache is this anyway? And on what operating system?
>>>
>>> Graham
>>>
>>> 2009/4/21 online service <online.service.com@gmail.com>:
>>> >
>>> >
>>> > On Mon, Apr 20, 2009 at 10:59 PM, online service
>>> > <online.service.com@gmail.com> wrote:
>>> >>
>>> >> ------------------------------
>>> >>
>>> >>
>>> >> ---------------------------------------------------------------------------------------------------
>>> >> ex_t'
>>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:157: error:
>>> >> expected specifier-qualifier-list before 'apr_table_t'
>>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:179: error:
>>> >> expected specifier-qualifier-list before 'apr_hash_t'
>>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:210: error:
>>> >> expected '=', ',', ';', 'asm' or '__attribute__' before
>>> >> 'python_cleanup'
>>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: error:
>>> >> expected declaration specifiers or '...' before
>>> >> 'mp_acquire_interpreter'
>>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: error:
>>> >> expected declaration specifiers or '...' before '(' token
>>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: warning:
>>> >> data definition has no type or storage class
>>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: warning:
>>> >> type defaults to 'int' in declaration of 'APR_DECLARE_OPTIONAL_FN'
>>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:215: error:
>>> >> expected declaration specifiers or '...' before
>>> >> 'mp_release_interpreter'
>>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:215: error:
>>> >> expected declaration specifiers or '...' before '(' token
>>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:215: warning:
>>> >> data definition has no type or storage class
>>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:215: warning:
>>> >> type defaults to 'int' in declaration of 'APR_DECLARE_OPTIONAL_FN'
>>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:215: error:
>>> >> conflicting types for 'APR_DECLARE_OPTIONAL_FN'
>>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: error:
>>> >> previous declaration of 'APR_DECLARE_OPTIONAL_FN' was here
>>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:216: error:
>>> >> expected declaration specifiers or '...' before 'mp_get_request_object'
>>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:216: error:
>>> >> expected declaration specifiers or '...' before '(' token
>>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:216: warning:
>>> >> data definition has no type or storage class
>>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:216: warning:
>>> >> type defaults to 'int' in declaration of 'APR_DECLARE_OPTIONAL_FN'
>>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:216: error:
>>> >> conflicting types for 'APR_DECLARE_OPTIONAL_FN'
>>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: error:
>>> >> previous declaration of 'APR_DECLARE_OPTIONAL_FN' was here
>>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:217: error:
>>> >> expected declaration specifiers or '...' before 'mp_get_server_object'
>>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:217: error:
>>> >> expected declaration specifiers or '...' before '(' token
>>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:217: warning:
>>> >> data definition has no type or storage class
>>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:217: warning:
>>> >> type defaults to 'int' in declaration of 'APR_DECLARE_OPTIONAL_FN'
>>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:217: error:
>>> >> conflicting types for 'APR_DECLARE_OPTIONAL_FN'
>>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: error:
>>> >> previous declaration of 'APR_DECLARE_OPTIONAL_FN' was here
>>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:218: error:
>>> >> expected declaration specifiers or '...' before
>>> >> 'mp_get_connection_object'
>>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:218: error:
>>> >> expected declaration specifiers or '...' before '(' token
>>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:218: warning:
>>> >> data definition has no type or storage class
>>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:218: warning:
>>> >> type defaults to 'int' in declaration of 'APR_DECLARE_OPTIONAL_FN'
>>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:218: error:
>>> >> conflicting types for 'APR_DECLARE_OPTIONAL_FN'
>>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214: error:
>>> >> previous declaration of 'APR_DECLARE_OPTIONAL_FN' was here
>>> >> mod_python.c:41: error: expected '=', ',', ';', 'asm' or
>>> >> '__attribute__'
>>> >> before '*' token
>>> >> mod_python.c:44: warning: return type defaults to 'int'
>>> >> mod_python.c: In function 'APR_OPTIONAL_FN_TYPE':
>>> >> mod_python.c:44: error: expected declaration specifiers before '*'
>>> >> token
>>> >> mod_python.c:45: error: expected '=', ',', ';', 'asm' or
>>> >> '__attribute__'
>>> >> before '*' token
>>> >> mod_python.c:46: error: expected '=', ',', ';', 'asm' or
>>> >> '__attribute__'
>>> >> before '*' token
>>> >> mod_python.c:55: error: expected '=', ',', ';', 'asm' or
>>> >> '__attribute__'
>>> >> before '{' token
>>> >> mod_python.c:89: error: expected '=', ',', ';', 'asm' or
>>> >> '__attribute__'
>>> >> before '{' token
>>> >> mod_python.c:177: error: expected '=', ',', ';', 'asm' or
>>> >> '__attribute__'
>>> >> before '{' token
>>> >> mod_python.c:200: error: expected '=', ',', ';', 'asm' or
>>> >> '__attribute__'
>>> >> before '{' token
>>> >> mod_python.c:228: error: expected '=', ',', ';', 'asm' or
>>> >> '__attribute__'
>>> >> before '{' token
>>> >> mod_python.c:326: error: expected '=', ',', ';', 'asm' or
>>> >> '__attribute__'
>>> >> before '{' token
>>> >> mod_python.c:346: error: expected declaration specifiers before
>>> >> 'apr_status_t'
>>> >> mod_python.c:419: error: expected '=', ',', ';', 'asm' or
>>> >> '__attribute__'
>>> >> before 'init_mutexes'
>>> >> mod_python.c:573: error: expected '=', ',', ';', 'asm' or
>>> >> '__attribute__'
>>> >> before 'reinit_mutexes'
>>> >> mod_python.c:622: error: expected '=', ',', ';', 'asm' or
>>> >> '__attribute__'
>>> >> before '{' token
>>> >> mod_python.c:651: error: expected '=', ',', ';', 'asm' or
>>> >> '__attribute__'
>>> >> before '{' token
>>> >> mod_python.c:667: error: expected '=', ',', ';', 'asm' or
>>> >> '__attribute__'
>>> >> before '{' token
>>> >> mod_python.c:679: error: expected '=', ',', ';', 'asm' or
>>> >> '__attribute__'
>>> >> before '{' token
>>> >> mod_python.c:695: error: expected '=', ',', ';', 'asm' or
>>> >> '__attribute__'
>>> >> before '{' token
>>> >> mod_python.c:707: error: expected '=', ',', ';', 'asm' or
>>> >> '__attribute__'
>>> >> before '{' token
>>> >>
>>> >>
>>> >> ----------------------------------------------------------------------------------------------------------------------------
>>> >>
>>> >>
>>> >>
>>> >>
>>> >> On Mon, Apr 20, 2009 at 10:01 PM, Graham Dumpleton
>>> >> <graham.dumpleton@gmail.com> wrote:
>>> >>>
>>> >>> 2009/4/21 online service <online.service.com@gmail.com>:
>>> >>> > I got a make error of long print out.
>>> >>> >
>>> >>> > i am sharing my configure output here:
>>> >>> >
>>> >>> > ./configure command is
>>> >>> >
>>> >>> > ./configure --with-apxs=/usr/local/psa/admin/bin/apxs
>>> >>> >
>>> >>> > I am trying to install mod_python with a preinstalled apache working
>>> >>> > with
>>> >>> > plesk.
>>> >>> >
>>> >>> > checking for gcc... gcc
>>> >>> > checking for C compiler default output file name... a.out
>>> >>> > checking whether the C compiler works... yes
>>> >>> > checking whether we are cross compiling... no
>>> >>> > checking for suffix of executables...
>>> >>> > checking for suffix of object files... o
>>> >>> > checking whether we are using the GNU C compiler... yes
>>> >>> > checking whether gcc accepts -g... yes
>>> >>> > checking for gcc option to accept ANSI C... none needed
>>> >>> > checking for ar... ar
>>> >>> > checking for a BSD-compatible install... /usr/bin/install -c
>>> >>> > checking whether make sets $(MAKE)... yes
>>> >>> > checking for main in -lm... yes
>>> >>> > checking for an ANSI C-conforming const... yes
>>> >>> > checking your blood pressure... a bit high, but we can proceed
>>> >>> > configure: checking whether apxs is available...
>>> >>> > checking for --with-apxs... /usr/local/psa/admin/bin/apxs
>>> >>> > executable,
>>> >>> > good
>>> >>> > checking Apache version... 2.2.3
>>> >>> > checking for Apache libexec directory...
>>> >>> > /usr/local/psa/admin/libexec
>>> >>> > checking for Apache include directory...
>>> >>> > -I/usr/local/psa/admin/include
>>> >>> > checking for --with-python... no
>>> >>> > checking for python... /usr/local/bin/python
>>> >>> > checking Python version... 2.5
>>> >>> > checking Python install prefix... /usr/local
>>> >>> > checking checking where python libraries are installed...
>>> >>> > /usr/local/lib/python2.5
>>> >>> > checking for Py_NewInterpreter in -lpython2.5... yes
>>> >>> > checking what libraries Python was linked with... -lpython2.5
>>> >>> > -lpthread
>>> >>> > -ldl
>>> >>> > -lutil -lm
>>> >>> > checking linker flags used to link Python...
>>> >>> > checking where Python include files are...
>>> >>> > -I/usr/local/include/python2.5
>>> >>> > checking for --with-python-src... no
>>> >>> > checking for --with-mutex-dir... no
>>> >>> > Using MUTEX_DIR /tmp
>>> >>> > checking for --with-max-locks... no
>>> >>> > Using 8 MAX_LOCKS.
>>> >>> > checking for --with-flex... no
>>> >>> > checking for flex... no
>>> >>> > configure: creating ./config.status
>>> >>> > config.status: creating Makefile
>>> >>> > config.status: creating src/Makefile
>>> >>> > config.status: creating Doc/Makefile
>>> >>> > config.status: creating src/include/mod_python.h
>>> >>> > config.status: creating test/Makefile
>>> >>> > config.status: creating test/testconf.py
>>> >>> > config.status: creating dist/setup.py
>>> >>> > config.status: creating dist/Makefile
>>> >>> >
>>> >>> >
>>> >>> >
>>> >>> >
>>> >>> > What could cause the make problem?
>>> >>>
>>> >>> What problem? The bit about your blood pressure being a bit too high,
>>> >>> or something else?
>>> >>>
>>> >>> That is only the output from 'configure' and is normal. You haven't
>>> >>> even run 'make' yet.
>>> >>>
>>> >>> Graham
>>> >>
>>> >
>>> >
>>
>>
>> _______________________________________________
>> Mod_python mailing list
>> Mod_python@modpython.org
>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>
>>
>

From graham.dumpleton at gmail.com  Tue Apr 21 18:30:59 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Tue Apr 21 18:31:07 2009
Subject: [mod_python] make problem
In-Reply-To: <db1115e0904211528s169c596cxe14d69db8cb6520d@mail.gmail.com>
References: <db1115e0904202145w608ebd91g30a0e14b71713086@mail.gmail.com>
	<88e286470904202201t2f2c0616gfb13e92240a52844@mail.gmail.com>
	<db1115e0904202259k354a9d86j449bb738aa896c83@mail.gmail.com>
	<db1115e0904202301y4b706df6xb1b3ff9327136b26@mail.gmail.com>
	<88e286470904202318u614b216bj3a8f3822c0e331ca@mail.gmail.com>
	<db1115e0904211008sa93718fo917979a15d01c4de@mail.gmail.com>
	<88e286470904211430g10aad88fob1e40ee813cb001c@mail.gmail.com>
	<88e286470904211522h6fa04b42i16a6b5ad0672cfe5@mail.gmail.com>
	<db1115e0904211528s169c596cxe14d69db8cb6520d@mail.gmail.com>
Message-ID: <88e286470904211530r284306adlf4fefde9bcc76160@mail.gmail.com>

See if you can run:

apr-1-config --includes
apu-1-config --includes

You may have to find where those scripts are installed, which may be
just as much trouble as finding where the header files are if not in
PATH or Apache bin directory.

Graham

2009/4/22 online service <online.service.com@gmail.com>:
> Thanks.
>
> when i ran httpd -v,
>
> i got this apache info:
>
> Server version: Apache/2.2.3
> Server built:?? Sep 11 2006 09:43:18
>
> OS : Fedora Core 6 with Plesk 8.1 (64-bit)
>
> I? am not from 1and1. Just trying to build web application with Django on
> this 1and1 dedicated server.
>
>
>
> Thanks again
>
>
>
>
>
> On Tue, Apr 21, 2009 at 3:22 PM, Graham Dumpleton
> <graham.dumpleton@gmail.com> wrote:
>>
>> BTW, are you a customer of 1and1 or connected with 1and1?
>>
>> There has been a separate question on Django list about how to use
>> 1and1 for Django.
>>
>> Just curious as to whether you are from 1and1 and trying to set this
>> up for customers.
>>
>> If you are, mod_python is possibly not a good choice, especially if
>> used for shared hosting of any sort.
>>
>> Graham
>>
>> 2009/4/22 Graham Dumpleton <graham.dumpleton@gmail.com>:
>> > As I said, you were mot likely missing Apache Portable Runtime library
>> > header files in header file search. Find where on your box the
>> > following header files are:
>> >
>> > apr.h ? ? ? ? ? ? ? ? ? apr_ldap_init.h ? ? ? ? apr_signal.h
>> > apr_allocator.h ? ? ? ? apr_ldap_option.h ? ? ? apr_strings.h
>> > apr_anylock.h ? ? ? ? ? apr_ldap_url.h ? ? ? ? ?apr_strmatch.h
>> > apr_atomic.h ? ? ? ? ? ?apr_lib.h ? ? ? ? ? ? ? apr_support.h
>> > apr_base64.h ? ? ? ? ? ?apr_md4.h ? ? ? ? ? ? ? apr_tables.h
>> > apr_buckets.h ? ? ? ? ? apr_md5.h ? ? ? ? ? ? ? apr_thread_cond.h
>> > apr_date.h ? ? ? ? ? ? ?apr_mmap.h ? ? ? ? ? ? ?apr_thread_mutex.h
>> > apr_dbd.h ? ? ? ? ? ? ? apr_network_io.h ? ? ? ?apr_thread_proc.h
>> > apr_dbm.h ? ? ? ? ? ? ? apr_optional.h ? ? ? ? ?apr_thread_rwlock.h
>> > apr_dso.h ? ? ? ? ? ? ? apr_optional_hooks.h ? ?apr_time.h
>> > apr_env.h ? ? ? ? ? ? ? apr_poll.h ? ? ? ? ? ? ?apr_uri.h
>> > apr_errno.h ? ? ? ? ? ? apr_pools.h ? ? ? ? ? ? apr_user.h
>> > apr_file_info.h ? ? ? ? apr_portable.h ? ? ? ? ?apr_uuid.h
>> > apr_file_io.h ? ? ? ? ? apr_proc_mutex.h ? ? ? ?apr_version.h
>> > apr_fnmatch.h ? ? ? ? ? apr_queue.h ? ? ? ? ? ? apr_want.h
>> > apr_general.h ? ? ? ? ? apr_random.h ? ? ? ? ? ?apr_xlate.h
>> > apr_getopt.h ? ? ? ? ? ?apr_reslist.h ? ? ? ? ? apr_xml.h
>> > apr_global_mutex.h ? ? ?apr_ring.h ? ? ? ? ? ? ?apu.h
>> > apr_hash.h ? ? ? ? ? ? ?apr_rmm.h ? ? ? ? ? ? ? apu_version.h
>> > apr_hooks.h ? ? ? ? ? ? apr_sdbm.h ? ? ? ? ? ? ?apu_want.h
>> > apr_inherit.h ? ? ? ? ? apr_sha1.h
>> > apr_ldap.h ? ? ? ? ? ? ?apr_shm.h
>> >
>> > This is presuming that you are actually using Apache 2.X.
>> >
>> > When you find them, you need to get that directory into include file
>> > search path as your apxs is broken to the extent of not adding the
>> > directory automatically.
>> >
>> > Graham
>> >
>> > 2009/4/22 online service <online.service.com@gmail.com>:
>> >> this is a 1and1 preinstalled? fedora server.
>> >>
>> >>
>> >> files in /usr/local/psa/admin/include:
>> >>
>> >>
>> >> -r--r--r-- 1 root psaadm 15335 Mar 22? 2007 ap_alloc.h
>> >> -r--r--r-- 1 root psaadm 23605 Mar 22? 2007 ap_compat.h
>> >> -r--r--r-- 1 root psaadm? 2628 Mar 22? 2007 ap_config_auto.h
>> >> -r--r--r-- 1 root psaadm 37326 Mar 22? 2007 ap_config.h
>> >> -r--r--r-- 1 root psaadm? 3948 Mar 22? 2007 ap_ctx.h
>> >> -r--r--r-- 1 root psaadm? 1733 Mar 22? 2007 ap_ctype.h
>> >> -r--r--r-- 1 root psaadm? 1004 Mar 22? 2007 ap_ebcdic.h
>> >> -r--r--r-- 1 root psaadm? 6416 Mar 22? 2007 ap.h
>> >> -r--r--r-- 1 root psaadm 26419 Mar 22? 2007 ap_hook.h
>> >> -r--r--r-- 1 root psaadm? 2923 Mar 22? 2007 ap_md5.h
>> >> -r--r--r-- 1 root psaadm? 5577 Mar 22? 2007 ap_mm.h
>> >> -r--r--r-- 1 root psaadm 12707 Mar 22? 2007 ap_mmn.h
>> >> -r--r--r-- 1 root psaadm? 2015 Mar 22? 2007 ap_sha1.h
>> >> -r--r--r-- 1 root psaadm? 6563 Mar 22? 2007 buff.h
>> >> -r--r--r-- 1 root psaadm?? 794 Mar 22? 2007 compat.h
>> >> -r--r--r-- 1 root psaadm?? 792 Mar 22? 2007 conf.h
>> >> -r--r--r-- 1 root psaadm? 1901 Mar 22? 2007 explain.h
>> >> -r--r--r-- 1 root psaadm? 2595 Mar 22? 2007 fnmatch.h
>> >> -r--r--r-- 1 root psaadm? 2221 Mar 22? 2007 hsregex.h
>> >> -r--r--r-- 1 root psaadm? 3177 Mar 22? 2007 http_conf_globals.h
>> >> -r--r--r-- 1 root psaadm 17479 Mar 22? 2007 http_config.h
>> >> -r--r--r-- 1 root psaadm 12279 Mar 22? 2007 http_core.h
>> >> -r--r--r-- 1 root psaadm 45968 Mar 22? 2007 httpd.h
>> >> -r--r--r-- 1 root psaadm? 4270 Mar 22? 2007 http_log.h
>> >> -r--r--r-- 1 root psaadm? 5900 Mar 22? 2007 http_main.h
>> >> -r--r--r-- 1 root psaadm? 7185 Mar 22? 2007 http_protocol.h
>> >> -r--r--r-- 1 root psaadm? 3229 Mar 22? 2007 http_request.h
>> >> -r--r--r-- 1 root psaadm? 1779 Mar 22? 2007 http_vhost.h
>> >> -r--r--r-- 1 root psaadm? 2406 Mar 22? 2007 multithread.h
>> >> -r--r--r-- 1 root psaadm? 2774 Mar 22? 2007 os.h
>> >> -r--r--r-- 1 root psaadm? 1588 Mar 22? 2007 os-inline.c
>> >> dr--r--r-- 8 root psaadm??? 92 Apr 27? 2007 php
>> >> -r--r--r-- 1 root psaadm?? 840 Mar 22? 2007 rfc1413.h
>> >> -r--r--r-- 1 root psaadm? 5507 Mar 22? 2007 scoreboard.h
>> >> -r--r--r-- 1 root psaadm? 1126 Mar 22? 2007 util_date.h
>> >> -r--r--r-- 1 root psaadm? 1186 Mar 22? 2007 util_md5.h
>> >> -r--r--r-- 1 root psaadm? 2007 Mar 22? 2007 util_script.h
>> >> -r--r--r-- 1 root psaadm? 3328 Mar 22? 2007 util_uri.h
>> >> dr-xr-xr-x 2 root psaadm? 4096 Apr 27? 2007 xml
>> >>
>> >>
>> >> files in? /usr/local/include/python2.5
>> >>
>> >>
>> >> -rw-r--r-- 1 root root 38971 Apr 20 18:59 abstract.h
>> >> -rw-r--r-- 1 root root? 1099 Apr 20 18:59 asdl.h
>> >> -rw-r--r-- 1 root root?? 230 Apr 20 18:59 ast.h
>> >> -rw-r--r-- 1 root root?? 792 Apr 20 18:59 bitset.h
>> >> -rw-r--r-- 1 root root?? 914 Apr 20 18:59 boolobject.h
>> >> -rw-r--r-- 1 root root?? 924 Apr 20 18:59 bufferobject.h
>> >> -rw-r--r-- 1 root root?? 653 Apr 20 18:59 cellobject.h
>> >> -rw-r--r-- 1 root root? 4944 Apr 20 18:59 ceval.h
>> >> -rw-r--r-- 1 root root? 2893 Apr 20 18:59 classobject.h
>> >> -rw-r--r-- 1 root root? 1763 Apr 20 18:59 cobject.h
>> >> -rw-r--r-- 1 root root? 5014 Apr 20 18:59 codecs.h
>> >> -rw-r--r-- 1 root root? 3277 Apr 20 18:59 code.h
>> >> -rw-r--r-- 1 root root? 1058 Apr 20 18:59 compile.h
>> >> -rw-r--r-- 1 root root? 1476 Apr 20 18:59 complexobject.h
>> >> -rw-r--r-- 1 root root? 2005 Apr 20 18:59 cStringIO.h
>> >> -rw-r--r-- 1 root root? 8288 Apr 20 18:59 datetime.h
>> >> -rw-r--r-- 1 root root? 2106 Apr 20 18:59 descrobject.h
>> >> -rw-r--r-- 1 root root? 5666 Apr 20 18:59 dictobject.h
>> >> -rw-r--r-- 1 root root?? 253 Apr 20 18:59 enumobject.h
>> >> -rw-r--r-- 1 root root? 1363 Apr 20 18:59 errcode.h
>> >> -rw-r--r-- 1 root root?? 557 Apr 20 18:59 eval.h
>> >> -rw-r--r-- 1 root root? 2358 Apr 20 18:59 fileobject.h
>> >> -rw-r--r-- 1 root root? 4184 Apr 20 18:59 floatobject.h
>> >> -rw-r--r-- 1 root root? 2877 Apr 20 18:59 frameobject.h
>> >> -rw-r--r-- 1 root root? 2997 Apr 20 18:59 funcobject.h
>> >> -rw-r--r-- 1 root root?? 823 Apr 20 18:59 genobject.h
>> >> -rw-r--r-- 1 root root? 1854 Apr 20 18:59 graminit.h
>> >> -rw-r--r-- 1 root root? 2021 Apr 20 18:59 grammar.h
>> >> -rw-r--r-- 1 root root? 2029 Apr 20 18:59 import.h
>> >> -rw-r--r-- 1 root root? 2112 Apr 20 18:59 intobject.h
>> >> -rw-r--r-- 1 root root?? 274 Apr 20 18:59 intrcheck.h
>> >> -rw-r--r-- 1 root root?? 526 Apr 20 18:59 iterobject.h
>> >> -rw-r--r-- 1 root root? 2511 Apr 20 18:59 listobject.h
>> >> -rw-r--r-- 1 root root? 2140 Apr 20 18:59 longintrepr.h
>> >> -rw-r--r-- 1 root root? 4809 Apr 20 18:59 longobject.h
>> >> -rw-r--r-- 1 root root?? 713 Apr 20 18:59 marshal.h
>> >> -rw-r--r-- 1 root root?? 253 Apr 20 18:59 metagrammar.h
>> >> -rw-r--r-- 1 root root? 3190 Apr 20 18:59 methodobject.h
>> >> -rw-r--r-- 1 root root? 4836 Apr 20 18:59 modsupport.h
>> >> -rw-r--r-- 1 root root?? 611 Apr 20 18:59 moduleobject.h
>> >> -rw-r--r-- 1 root root?? 890 Apr 20 18:59 node.h
>> >> -rw-r--r-- 1 root root 32254 Apr 20 18:59 object.h
>> >> -rw-r--r-- 1 root root 12438 Apr 20 18:59 objimpl.h
>> >> -rw-r--r-- 1 root root? 4320 Apr 20 18:59 opcode.h
>> >> -rw-r--r-- 1 root root?? 942 Apr 20 18:59 osdefs.h
>> >> -rw-r--r-- 1 root root? 1346 Apr 20 18:59 parsetok.h
>> >> -rw-r--r-- 1 root root? 1378 Apr 20 18:59 patchlevel.h
>> >> -rw-r--r-- 1 root root?? 253 Apr 20 18:59 pgen.h
>> >> -rw-r--r-- 1 root root? 1144 Apr 20 18:59 pgenheaders.h
>> >> -rw-r--r-- 1 root root? 2693 Apr 20 18:59 pyarena.h
>> >> -rw-r--r-- 1 root root 28564 Apr 20 18:59 pyconfig.h
>> >> -rw-r--r-- 1 root root? 4160 Apr 20 18:59 py_curses.h
>> >> -rw-r--r-- 1 root root? 1065 Apr 20 18:59 pydebug.h
>> >> -rw-r--r-- 1 root root 11581 Apr 20 18:59 pyerrors.h
>> >> -rw-r--r-- 1 root root? 1957 Apr 20 18:59 pyexpat.h
>> >> -rw-r--r-- 1 root root? 8495 Apr 20 18:59 pyfpe.h
>> >> -rw-r--r-- 1 root root?? 306 Apr 20 18:59 pygetopt.h
>> >> -rw-r--r-- 1 root root? 7421 Apr 20 18:59 pymactoolbox.h
>> >> -rw-r--r-- 1 root root? 4602 Apr 20 18:59 pymem.h
>> >> -rw-r--r-- 1 root root 25218 Apr 20 18:59 pyport.h
>> >> -rw-r--r-- 1 root root? 6203 Apr 20 18:59 pystate.h
>> >> -rw-r--r-- 1 root root?? 359 Apr 20 18:59 pystrtod.h
>> >> -rw-r--r-- 1 root root 19631 Apr 20 18:59 Python-ast.h
>> >> -rw-r--r-- 1 root root? 4204 Apr 20 18:59 Python.h
>> >> -rw-r--r-- 1 root root? 6481 Apr 20 18:59 pythonrun.h
>> >> -rw-r--r-- 1 root root? 1447 Apr 20 18:59 pythread.h
>> >> -rw-r--r-- 1 root root?? 648 Apr 20 18:59 rangeobject.h
>> >> -rw-r--r-- 1 root root? 2757 Apr 20 18:59 setobject.h
>> >> -rw-r--r-- 1 root root? 1291 Apr 20 18:59 sliceobject.h
>> >> -rw-r--r-- 1 root root? 6611 Apr 20 18:59 stringobject.h
>> >> -rw-r--r-- 1 root root? 2532 Apr 20 18:59 structmember.h
>> >> -rw-r--r-- 1 root root?? 862 Apr 20 18:59 structseq.h
>> >> -rw-r--r-- 1 root root? 3936 Apr 20 18:59 symtable.h
>> >> -rw-r--r-- 1 root root?? 819 Apr 20 18:59 sysmodule.h
>> >> -rw-r--r-- 1 root root?? 442 Apr 20 18:59 timefuncs.h
>> >> -rw-r--r-- 1 root root? 1710 Apr 20 18:59 token.h
>> >> -rw-r--r-- 1 root root?? 624 Apr 20 18:59 traceback.h
>> >> -rw-r--r-- 1 root root? 2061 Apr 20 18:59 tupleobject.h
>> >> -rw-r--r-- 1 root root?? 861 Apr 20 18:59 ucnhash.h
>> >> -rw-r--r-- 1 root root 44859 Apr 20 18:59 unicodeobject.h
>> >> -rw-r--r-- 1 root root? 2434 Apr 20 18:59 weakrefobject.h
>> >>
>> >>
>> >>
>> >>
>> >> -------------------------------------------------------------------------
>> >>
>> >>
>> >>
>> >>
>> >>
>> >>
>> >> What might be missing?
>> >>
>> >> Thanks
>> >>
>> >> On Mon, Apr 20, 2009 at 11:18 PM, Graham Dumpleton
>> >> <graham.dumpleton@gmail.com> wrote:
>> >>>
>> >>> You most likely do not have headers file installed for Apache, Apache
>> >>> Portable Runtime library, or Python itself.
>> >>>
>> >>> What is in:
>> >>>
>> >>> ?/usr/local/psa/admin/include
>> >>> ?/usr/local/include/python2.5
>> >>>
>> >>> Even if they have Apache and Python header files, the Apache Portable
>> >>> Runtime library header files may not be in the first one and you need
>> >>> to work out where they are and ensure -I is listed in Makefile for
>> >>> them, since it seems that your 'apxs' program isn't reporting their
>> >>> location properly.
>> >>>
>> >>> What weird version of Apache is this anyway? And on what operating
>> >>> system?
>> >>>
>> >>> Graham
>> >>>
>> >>> 2009/4/21 online service <online.service.com@gmail.com>:
>> >>> >
>> >>> >
>> >>> > On Mon, Apr 20, 2009 at 10:59 PM, online service
>> >>> > <online.service.com@gmail.com> wrote:
>> >>> >>
>> >>> >> ------------------------------
>> >>> >>
>> >>> >>
>> >>> >>
>> >>> >> ---------------------------------------------------------------------------------------------------
>> >>> >> ex_t'
>> >>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:157:
>> >>> >> error:
>> >>> >> expected specifier-qualifier-list before 'apr_table_t'
>> >>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:179:
>> >>> >> error:
>> >>> >> expected specifier-qualifier-list before 'apr_hash_t'
>> >>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:210:
>> >>> >> error:
>> >>> >> expected '=', ',', ';', 'asm' or '__attribute__' before
>> >>> >> 'python_cleanup'
>> >>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214:
>> >>> >> error:
>> >>> >> expected declaration specifiers or '...' before
>> >>> >> 'mp_acquire_interpreter'
>> >>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214:
>> >>> >> error:
>> >>> >> expected declaration specifiers or '...' before '(' token
>> >>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214:
>> >>> >> warning:
>> >>> >> data definition has no type or storage class
>> >>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214:
>> >>> >> warning:
>> >>> >> type defaults to 'int' in declaration of 'APR_DECLARE_OPTIONAL_FN'
>> >>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:215:
>> >>> >> error:
>> >>> >> expected declaration specifiers or '...' before
>> >>> >> 'mp_release_interpreter'
>> >>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:215:
>> >>> >> error:
>> >>> >> expected declaration specifiers or '...' before '(' token
>> >>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:215:
>> >>> >> warning:
>> >>> >> data definition has no type or storage class
>> >>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:215:
>> >>> >> warning:
>> >>> >> type defaults to 'int' in declaration of 'APR_DECLARE_OPTIONAL_FN'
>> >>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:215:
>> >>> >> error:
>> >>> >> conflicting types for 'APR_DECLARE_OPTIONAL_FN'
>> >>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214:
>> >>> >> error:
>> >>> >> previous declaration of 'APR_DECLARE_OPTIONAL_FN' was here
>> >>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:216:
>> >>> >> error:
>> >>> >> expected declaration specifiers or '...' before
>> >>> >> 'mp_get_request_object'
>> >>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:216:
>> >>> >> error:
>> >>> >> expected declaration specifiers or '...' before '(' token
>> >>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:216:
>> >>> >> warning:
>> >>> >> data definition has no type or storage class
>> >>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:216:
>> >>> >> warning:
>> >>> >> type defaults to 'int' in declaration of 'APR_DECLARE_OPTIONAL_FN'
>> >>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:216:
>> >>> >> error:
>> >>> >> conflicting types for 'APR_DECLARE_OPTIONAL_FN'
>> >>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214:
>> >>> >> error:
>> >>> >> previous declaration of 'APR_DECLARE_OPTIONAL_FN' was here
>> >>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:217:
>> >>> >> error:
>> >>> >> expected declaration specifiers or '...' before
>> >>> >> 'mp_get_server_object'
>> >>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:217:
>> >>> >> error:
>> >>> >> expected declaration specifiers or '...' before '(' token
>> >>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:217:
>> >>> >> warning:
>> >>> >> data definition has no type or storage class
>> >>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:217:
>> >>> >> warning:
>> >>> >> type defaults to 'int' in declaration of 'APR_DECLARE_OPTIONAL_FN'
>> >>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:217:
>> >>> >> error:
>> >>> >> conflicting types for 'APR_DECLARE_OPTIONAL_FN'
>> >>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214:
>> >>> >> error:
>> >>> >> previous declaration of 'APR_DECLARE_OPTIONAL_FN' was here
>> >>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:218:
>> >>> >> error:
>> >>> >> expected declaration specifiers or '...' before
>> >>> >> 'mp_get_connection_object'
>> >>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:218:
>> >>> >> error:
>> >>> >> expected declaration specifiers or '...' before '(' token
>> >>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:218:
>> >>> >> warning:
>> >>> >> data definition has no type or storage class
>> >>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:218:
>> >>> >> warning:
>> >>> >> type defaults to 'int' in declaration of 'APR_DECLARE_OPTIONAL_FN'
>> >>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:218:
>> >>> >> error:
>> >>> >> conflicting types for 'APR_DECLARE_OPTIONAL_FN'
>> >>> >> /root/downloads/mod_python-3.3.1/src/include/mod_python.h:214:
>> >>> >> error:
>> >>> >> previous declaration of 'APR_DECLARE_OPTIONAL_FN' was here
>> >>> >> mod_python.c:41: error: expected '=', ',', ';', 'asm' or
>> >>> >> '__attribute__'
>> >>> >> before '*' token
>> >>> >> mod_python.c:44: warning: return type defaults to 'int'
>> >>> >> mod_python.c: In function 'APR_OPTIONAL_FN_TYPE':
>> >>> >> mod_python.c:44: error: expected declaration specifiers before '*'
>> >>> >> token
>> >>> >> mod_python.c:45: error: expected '=', ',', ';', 'asm' or
>> >>> >> '__attribute__'
>> >>> >> before '*' token
>> >>> >> mod_python.c:46: error: expected '=', ',', ';', 'asm' or
>> >>> >> '__attribute__'
>> >>> >> before '*' token
>> >>> >> mod_python.c:55: error: expected '=', ',', ';', 'asm' or
>> >>> >> '__attribute__'
>> >>> >> before '{' token
>> >>> >> mod_python.c:89: error: expected '=', ',', ';', 'asm' or
>> >>> >> '__attribute__'
>> >>> >> before '{' token
>> >>> >> mod_python.c:177: error: expected '=', ',', ';', 'asm' or
>> >>> >> '__attribute__'
>> >>> >> before '{' token
>> >>> >> mod_python.c:200: error: expected '=', ',', ';', 'asm' or
>> >>> >> '__attribute__'
>> >>> >> before '{' token
>> >>> >> mod_python.c:228: error: expected '=', ',', ';', 'asm' or
>> >>> >> '__attribute__'
>> >>> >> before '{' token
>> >>> >> mod_python.c:326: error: expected '=', ',', ';', 'asm' or
>> >>> >> '__attribute__'
>> >>> >> before '{' token
>> >>> >> mod_python.c:346: error: expected declaration specifiers before
>> >>> >> 'apr_status_t'
>> >>> >> mod_python.c:419: error: expected '=', ',', ';', 'asm' or
>> >>> >> '__attribute__'
>> >>> >> before 'init_mutexes'
>> >>> >> mod_python.c:573: error: expected '=', ',', ';', 'asm' or
>> >>> >> '__attribute__'
>> >>> >> before 'reinit_mutexes'
>> >>> >> mod_python.c:622: error: expected '=', ',', ';', 'asm' or
>> >>> >> '__attribute__'
>> >>> >> before '{' token
>> >>> >> mod_python.c:651: error: expected '=', ',', ';', 'asm' or
>> >>> >> '__attribute__'
>> >>> >> before '{' token
>> >>> >> mod_python.c:667: error: expected '=', ',', ';', 'asm' or
>> >>> >> '__attribute__'
>> >>> >> before '{' token
>> >>> >> mod_python.c:679: error: expected '=', ',', ';', 'asm' or
>> >>> >> '__attribute__'
>> >>> >> before '{' token
>> >>> >> mod_python.c:695: error: expected '=', ',', ';', 'asm' or
>> >>> >> '__attribute__'
>> >>> >> before '{' token
>> >>> >> mod_python.c:707: error: expected '=', ',', ';', 'asm' or
>> >>> >> '__attribute__'
>> >>> >> before '{' token
>> >>> >>
>> >>> >>
>> >>> >>
>> >>> >> ----------------------------------------------------------------------------------------------------------------------------
>> >>> >>
>> >>> >>
>> >>> >>
>> >>> >>
>> >>> >> On Mon, Apr 20, 2009 at 10:01 PM, Graham Dumpleton
>> >>> >> <graham.dumpleton@gmail.com> wrote:
>> >>> >>>
>> >>> >>> 2009/4/21 online service <online.service.com@gmail.com>:
>> >>> >>> > I got a make error of long print out.
>> >>> >>> >
>> >>> >>> > i am sharing my configure output here:
>> >>> >>> >
>> >>> >>> > ./configure command is
>> >>> >>> >
>> >>> >>> > ./configure --with-apxs=/usr/local/psa/admin/bin/apxs
>> >>> >>> >
>> >>> >>> > I am trying to install mod_python with a preinstalled apache
>> >>> >>> > working
>> >>> >>> > with
>> >>> >>> > plesk.
>> >>> >>> >
>> >>> >>> > checking for gcc... gcc
>> >>> >>> > checking for C compiler default output file name... a.out
>> >>> >>> > checking whether the C compiler works... yes
>> >>> >>> > checking whether we are cross compiling... no
>> >>> >>> > checking for suffix of executables...
>> >>> >>> > checking for suffix of object files... o
>> >>> >>> > checking whether we are using the GNU C compiler... yes
>> >>> >>> > checking whether gcc accepts -g... yes
>> >>> >>> > checking for gcc option to accept ANSI C... none needed
>> >>> >>> > checking for ar... ar
>> >>> >>> > checking for a BSD-compatible install... /usr/bin/install -c
>> >>> >>> > checking whether make sets $(MAKE)... yes
>> >>> >>> > checking for main in -lm... yes
>> >>> >>> > checking for an ANSI C-conforming const... yes
>> >>> >>> > checking your blood pressure... a bit high, but we can proceed
>> >>> >>> > configure: checking whether apxs is available...
>> >>> >>> > checking for --with-apxs... /usr/local/psa/admin/bin/apxs
>> >>> >>> > executable,
>> >>> >>> > good
>> >>> >>> > checking Apache version... 2.2.3
>> >>> >>> > checking for Apache libexec directory...
>> >>> >>> > /usr/local/psa/admin/libexec
>> >>> >>> > checking for Apache include directory...
>> >>> >>> > -I/usr/local/psa/admin/include
>> >>> >>> > checking for --with-python... no
>> >>> >>> > checking for python... /usr/local/bin/python
>> >>> >>> > checking Python version... 2.5
>> >>> >>> > checking Python install prefix... /usr/local
>> >>> >>> > checking checking where python libraries are installed...
>> >>> >>> > /usr/local/lib/python2.5
>> >>> >>> > checking for Py_NewInterpreter in -lpython2.5... yes
>> >>> >>> > checking what libraries Python was linked with... -lpython2.5
>> >>> >>> > -lpthread
>> >>> >>> > -ldl
>> >>> >>> > -lutil -lm
>> >>> >>> > checking linker flags used to link Python...
>> >>> >>> > checking where Python include files are...
>> >>> >>> > -I/usr/local/include/python2.5
>> >>> >>> > checking for --with-python-src... no
>> >>> >>> > checking for --with-mutex-dir... no
>> >>> >>> > Using MUTEX_DIR /tmp
>> >>> >>> > checking for --with-max-locks... no
>> >>> >>> > Using 8 MAX_LOCKS.
>> >>> >>> > checking for --with-flex... no
>> >>> >>> > checking for flex... no
>> >>> >>> > configure: creating ./config.status
>> >>> >>> > config.status: creating Makefile
>> >>> >>> > config.status: creating src/Makefile
>> >>> >>> > config.status: creating Doc/Makefile
>> >>> >>> > config.status: creating src/include/mod_python.h
>> >>> >>> > config.status: creating test/Makefile
>> >>> >>> > config.status: creating test/testconf.py
>> >>> >>> > config.status: creating dist/setup.py
>> >>> >>> > config.status: creating dist/Makefile
>> >>> >>> >
>> >>> >>> >
>> >>> >>> >
>> >>> >>> >
>> >>> >>> > What could cause the make problem?
>> >>> >>>
>> >>> >>> What problem? The bit about your blood pressure being a bit too
>> >>> >>> high,
>> >>> >>> or something else?
>> >>> >>>
>> >>> >>> That is only the output from 'configure' and is normal. You
>> >>> >>> haven't
>> >>> >>> even run 'make' yet.
>> >>> >>>
>> >>> >>> Graham
>> >>> >>
>> >>> >
>> >>> >
>> >>
>> >>
>> >> _______________________________________________
>> >> Mod_python mailing list
>> >> Mod_python@modpython.org
>> >> http://mailman.modpython.org/mailman/listinfo/mod_python
>> >>
>> >>
>> >
>
>

From online.service.com at gmail.com  Tue Apr 21 18:43:00 2009
From: online.service.com at gmail.com (online service)
Date: Tue Apr 21 18:43:03 2009
Subject: [mod_python] make problem
In-Reply-To: <88e286470904211530r284306adlf4fefde9bcc76160@mail.gmail.com>
References: <db1115e0904202145w608ebd91g30a0e14b71713086@mail.gmail.com>
	<88e286470904202201t2f2c0616gfb13e92240a52844@mail.gmail.com>
	<db1115e0904202259k354a9d86j449bb738aa896c83@mail.gmail.com>
	<db1115e0904202301y4b706df6xb1b3ff9327136b26@mail.gmail.com>
	<88e286470904202318u614b216bj3a8f3822c0e331ca@mail.gmail.com>
	<db1115e0904211008sa93718fo917979a15d01c4de@mail.gmail.com>
	<88e286470904211430g10aad88fob1e40ee813cb001c@mail.gmail.com>
	<88e286470904211522h6fa04b42i16a6b5ad0672cfe5@mail.gmail.com>
	<db1115e0904211528s169c596cxe14d69db8cb6520d@mail.gmail.com>
	<88e286470904211530r284306adlf4fefde9bcc76160@mail.gmail.com>
Message-ID: <db1115e0904211543y2b786664w21ea1ddec11c8f51@mail.gmail.com>

I ran " find / -name  apr_*  " I didn't get anything.

Does that mean I have to install Apache Portable Runtime library or
something?

Thanks




On Tue, Apr 21, 2009 at 3:30 PM, Graham Dumpleton <
graham.dumpleton@gmail.com> wrote:

> See if you can run:
>
> apr-1-config --includes
> apu-1-config --includes
>
> You may have to find where those scripts are installed, which may be
> just as much trouble as finding where the header files are if not in
> PATH or Apache bin directory.
>
> Graham
>
> 2009/4/22 online service <online.service.com@gmail.com>:
> > Thanks.
> >
> > when i ran httpd -v,
> >
> > i got this apache info:
> >
> > Server version: Apache/2.2.3
> > Server built:   Sep 11 2006 09:43:18
> >
> > OS : Fedora Core 6 with Plesk 8.1 (64-bit)
> >
> > I  am not from 1and1. Just trying to build web application with Django on
> > this 1and1 dedicated server.
> >
> >
> >
> > Thanks again
> >
> >
> >
> >
> >
> > On Tue, Apr 21, 2009 at 3:22 PM, Graham Dumpleton
> > <graham.dumpleton@gmail.com> wrote:
> >>
> >> BTW, are you a customer of 1and1 or connected with 1and1?
> >>
> >> There has been a separate question on Django list about how to use
> >> 1and1 for Django.
> >>
> >> Just curious as to whether you are from 1and1 and trying to set this
> >> up for customers.
> >>
> >> If you are, mod_python is possibly not a good choice, especially if
> >> used for shared hosting of any sort.
> >>
> >> Graham
> >>
> >> 2009/4/22 Graham Dumpleton <graham.dumpleton@gmail.com>:
> >> > As I said, you were mot likely missing Apache Portable Runtime library
> >> > header files in header file search. Find where on your box the
> >> > following header files are:
> >> >
> >> > apr.h                   apr_ldap_init.h         apr_signal.h
> >> > apr_allocator.h         apr_ldap_option.h       apr_strings.h
> >> > apr_anylock.h           apr_ldap_url.h          apr_strmatch.h
> >> > apr_atomic.h            apr_lib.h               apr_support.h
> >> > apr_base64.h            apr_md4.h               apr_tables.h
> >> > apr_buckets.h           apr_md5.h               apr_thread_cond.h
> >> > apr_date.h              apr_mmap.h              apr_thread_mutex.h
> >> > apr_dbd.h               apr_network_io.h        apr_thread_proc.h
> >> > apr_dbm.h               apr_optional.h          apr_thread_rwlock.h
> >> > apr_dso.h               apr_optional_hooks.h    apr_time.h
> >> > apr_env.h               apr_poll.h              apr_uri.h
> >> > apr_errno.h             apr_pools.h             apr_user.h
> >> > apr_file_info.h         apr_portable.h          apr_uuid.h
> >> > apr_file_io.h           apr_proc_mutex.h        apr_version.h
> >> > apr_fnmatch.h           apr_queue.h             apr_want.h
> >> > apr_general.h           apr_random.h            apr_xlate.h
> >> > apr_getopt.h            apr_reslist.h           apr_xml.h
> >> > apr_global_mutex.h      apr_ring.h              apu.h
> >> > apr_hash.h              apr_rmm.h               apu_version.h
> >> > apr_hooks.h             apr_sdbm.h              apu_want.h
> >> > apr_inherit.h           apr_sha1.h
> >> > apr_ldap.h              apr_shm.h
> >> >
> >> > This is presuming that you are actually using Apache 2.X.
> >> >
> >> > When you find them, you need to get that directory into include file
> >> > search path as your apxs is broken to the extent of not adding the
> >> > directory automatically.
> >> >
> >> > Graham
> >> >
> >> > 2009/4/22 online service <online.service.com@gmail.com>:
> >> >> this is a 1and1 preinstalled  fedora server.
> >> >>
> >> >>
> >> >> files in /usr/local/psa/admin/include:
> >> >>
> >> >>
> >> >> -r--r--r-- 1 root psaadm 15335 Mar 22  2007 ap_alloc.h
> >> >> -r--r--r-- 1 root psaadm 23605 Mar 22  2007 ap_compat.h
> >> >> -r--r--r-- 1 root psaadm  2628 Mar 22  2007 ap_config_auto.h
> >> >> -r--r--r-- 1 root psaadm 37326 Mar 22  2007 ap_config.h
> >> >> -r--r--r-- 1 root psaadm  3948 Mar 22  2007 ap_ctx.h
> >> >> -r--r--r-- 1 root psaadm  1733 Mar 22  2007 ap_ctype.h
> >> >> -r--r--r-- 1 root psaadm  1004 Mar 22  2007 ap_ebcdic.h
> >> >> -r--r--r-- 1 root psaadm  6416 Mar 22  2007 ap.h
> >> >> -r--r--r-- 1 root psaadm 26419 Mar 22  2007 ap_hook.h
> >> >> -r--r--r-- 1 root psaadm  2923 Mar 22  2007 ap_md5.h
> >> >> -r--r--r-- 1 root psaadm  5577 Mar 22  2007 ap_mm.h
> >> >> -r--r--r-- 1 root psaadm 12707 Mar 22  2007 ap_mmn.h
> >> >> -r--r--r-- 1 root psaadm  2015 Mar 22  2007 ap_sha1.h
> >> >> -r--r--r-- 1 root psaadm  6563 Mar 22  2007 buff.h
> >> >> -r--r--r-- 1 root psaadm   794 Mar 22  2007 compat.h
> >> >> -r--r--r-- 1 root psaadm   792 Mar 22  2007 conf.h
> >> >> -r--r--r-- 1 root psaadm  1901 Mar 22  2007 explain.h
> >> >> -r--r--r-- 1 root psaadm  2595 Mar 22  2007 fnmatch.h
> >> >> -r--r--r-- 1 root psaadm  2221 Mar 22  2007 hsregex.h
> >> >> -r--r--r-- 1 root psaadm  3177 Mar 22  2007 http_conf_globals.h
> >> >> -r--r--r-- 1 root psaadm 17479 Mar 22  2007 http_config.h
> >> >> -r--r--r-- 1 root psaadm 12279 Mar 22  2007 http_core.h
> >> >> -r--r--r-- 1 root psaadm 45968 Mar 22  2007 httpd.h
> >> >> -r--r--r-- 1 root psaadm  4270 Mar 22  2007 http_log.h
> >> >> -r--r--r-- 1 root psaadm  5900 Mar 22  2007 http_main.h
> >> >> -r--r--r-- 1 root psaadm  7185 Mar 22  2007 http_protocol.h
> >> >> -r--r--r-- 1 root psaadm  3229 Mar 22  2007 http_request.h
> >> >> -r--r--r-- 1 root psaadm  1779 Mar 22  2007 http_vhost.h
> >> >> -r--r--r-- 1 root psaadm  2406 Mar 22  2007 multithread.h
> >> >> -r--r--r-- 1 root psaadm  2774 Mar 22  2007 os.h
> >> >> -r--r--r-- 1 root psaadm  1588 Mar 22  2007 os-inline.c
> >> >> dr--r--r-- 8 root psaadm    92 Apr 27  2007 php
> >> >> -r--r--r-- 1 root psaadm   840 Mar 22  2007 rfc1413.h
> >> >> -r--r--r-- 1 root psaadm  5507 Mar 22  2007 scoreboard.h
> >> >> -r--r--r-- 1 root psaadm  1126 Mar 22  2007 util_date.h
> >> >> -r--r--r-- 1 root psaadm  1186 Mar 22  2007 util_md5.h
> >> >> -r--r--r-- 1 root psaadm  2007 Mar 22  2007 util_script.h
> >> >> -r--r--r-- 1 root psaadm  3328 Mar 22  2007 util_uri.h
> >> >> dr-xr-xr-x 2 root psaadm  4096 Apr 27  2007 xml
> >> >>
> >> >>
> >> >> files in  /usr/local/include/python2.5
> >> >>
> >> >>
> >> >> -rw-r--r-- 1 root root 38971 Apr 20 18:59 abstract.h
> >> >> -rw-r--r-- 1 root root  1099 Apr 20 18:59 asdl.h
> >> >> -rw-r--r-- 1 root root   230 Apr 20 18:59 ast.h
> >> >> -rw-r--r-- 1 root root   792 Apr 20 18:59 bitset.h
> >> >> -rw-r--r-- 1 root root   914 Apr 20 18:59 boolobject.h
> >> >> -rw-r--r-- 1 root root   924 Apr 20 18:59 bufferobject.h
> >> >> -rw-r--r-- 1 root root   653 Apr 20 18:59 cellobject.h
> >> >> -rw-r--r-- 1 root root  4944 Apr 20 18:59 ceval.h
> >> >> -rw-r--r-- 1 root root  2893 Apr 20 18:59 classobject.h
> >> >> -rw-r--r-- 1 root root  1763 Apr 20 18:59 cobject.h
> >> >> -rw-r--r-- 1 root root  5014 Apr 20 18:59 codecs.h
> >> >> -rw-r--r-- 1 root root  3277 Apr 20 18:59 code.h
> >> >> -rw-r--r-- 1 root root  1058 Apr 20 18:59 compile.h
> >> >> -rw-r--r-- 1 root root  1476 Apr 20 18:59 complexobject.h
> >> >> -rw-r--r-- 1 root root  2005 Apr 20 18:59 cStringIO.h
> >> >> -rw-r--r-- 1 root root  8288 Apr 20 18:59 datetime.h
> >> >> -rw-r--r-- 1 root root  2106 Apr 20 18:59 descrobject.h
> >> >> -rw-r--r-- 1 root root  5666 Apr 20 18:59 dictobject.h
> >> >> -rw-r--r-- 1 root root   253 Apr 20 18:59 enumobject.h
> >> >> -rw-r--r-- 1 root root  1363 Apr 20 18:59 errcode.h
> >> >> -rw-r--r-- 1 root root   557 Apr 20 18:59 eval.h
> >> >> -rw-r--r-- 1 root root  2358 Apr 20 18:59 fileobject.h
> >> >> -rw-r--r-- 1 root root  4184 Apr 20 18:59 floatobject.h
> >> >> -rw-r--r-- 1 root root  2877 Apr 20 18:59 frameobject.h
> >> >> -rw-r--r-- 1 root root  2997 Apr 20 18:59 funcobject.h
> >> >> -rw-r--r-- 1 root root   823 Apr 20 18:59 genobject.h
> >> >> -rw-r--r-- 1 root root  1854 Apr 20 18:59 graminit.h
> >> >> -rw-r--r-- 1 root root  2021 Apr 20 18:59 grammar.h
> >> >> -rw-r--r-- 1 root root  2029 Apr 20 18:59 import.h
> >> >> -rw-r--r-- 1 root root  2112 Apr 20 18:59 intobject.h
> >> >> -rw-r--r-- 1 root root   274 Apr 20 18:59 intrcheck.h
> >> >> -rw-r--r-- 1 root root   526 Apr 20 18:59 iterobject.h
> >> >> -rw-r--r-- 1 root root  2511 Apr 20 18:59 listobject.h
> >> >> -rw-r--r-- 1 root root  2140 Apr 20 18:59 longintrepr.h
> >> >> -rw-r--r-- 1 root root  4809 Apr 20 18:59 longobject.h
> >> >> -rw-r--r-- 1 root root   713 Apr 20 18:59 marshal.h
> >> >> -rw-r--r-- 1 root root   253 Apr 20 18:59 metagrammar.h
> >> >> -rw-r--r-- 1 root root  3190 Apr 20 18:59 methodobject.h
> >> >> -rw-r--r-- 1 root root  4836 Apr 20 18:59 modsupport.h
> >> >> -rw-r--r-- 1 root root   611 Apr 20 18:59 moduleobject.h
> >> >> -rw-r--r-- 1 root root   890 Apr 20 18:59 node.h
> >> >> -rw-r--r-- 1 root root 32254 Apr 20 18:59 object.h
> >> >> -rw-r--r-- 1 root root 12438 Apr 20 18:59 objimpl.h
> >> >> -rw-r--r-- 1 root root  4320 Apr 20 18:59 opcode.h
> >> >> -rw-r--r-- 1 root root   942 Apr 20 18:59 osdefs.h
> >> >> -rw-r--r-- 1 root root  1346 Apr 20 18:59 parsetok.h
> >> >> -rw-r--r-- 1 root root  1378 Apr 20 18:59 patchlevel.h
> >> >> -rw-r--r-- 1 root root   253 Apr 20 18:59 pgen.h
> >> >> -rw-r--r-- 1 root root  1144 Apr 20 18:59 pgenheaders.h
> >> >> -rw-r--r-- 1 root root  2693 Apr 20 18:59 pyarena.h
> >> >> -rw-r--r-- 1 root root 28564 Apr 20 18:59 pyconfig.h
> >> >> -rw-r--r-- 1 root root  4160 Apr 20 18:59 py_curses.h
> >> >> -rw-r--r-- 1 root root  1065 Apr 20 18:59 pydebug.h
> >> >> -rw-r--r-- 1 root root 11581 Apr 20 18:59 pyerrors.h
> >> >> -rw-r--r-- 1 root root  1957 Apr 20 18:59 pyexpat.h
> >> >> -rw-r--r-- 1 root root  8495 Apr 20 18:59 pyfpe.h
> >> >> -rw-r--r-- 1 root root   306 Apr 20 18:59 pygetopt.h
> >> >> -rw-r--r-- 1 root root  7421 Apr 20 18:59 pymactoolbox.h
> >> >> -rw-r--r-- 1 root root  4602 Apr 20 18:59 pymem.h
> >> >> -rw-r--r-- 1 root root 25218 Apr 20 18:59 pyport.h
> >> >> -rw-r--r-- 1 root root  6203 Apr 20 18:59 pystate.h
> >> >> -rw-r--r-- 1 root root   359 Apr 20 18:59 pystrtod.h
> >> >> -rw-r--r-- 1 root root 19631 Apr 20 18:59 Python-ast.h
> >> >> -rw-r--r-- 1 root root  4204 Apr 20 18:59 Python.h
> >> >> -rw-r--r-- 1 root root  6481 Apr 20 18:59 pythonrun.h
> >> >> -rw-r--r-- 1 root root  1447 Apr 20 18:59 pythread.h
> >> >> -rw-r--r-- 1 root root   648 Apr 20 18:59 rangeobject.h
> >> >> -rw-r--r-- 1 root root  2757 Apr 20 18:59 setobject.h
> >> >> -rw-r--r-- 1 root root  1291 Apr 20 18:59 sliceobject.h
> >> >> -rw-r--r-- 1 root root  6611 Apr 20 18:59 stringobject.h
> >> >> -rw-r--r-- 1 root root  2532 Apr 20 18:59 structmember.h
> >> >> -rw-r--r-- 1 root root   862 Apr 20 18:59 structseq.h
> >> >> -rw-r--r-- 1 root root  3936 Apr 20 18:59 symtable.h
> >> >> -rw-r--r-- 1 root root   819 Apr 20 18:59 sysmodule.h
> >> >> -rw-r--r-- 1 root root   442 Apr 20 18:59 timefuncs.h
> >> >> -rw-r--r-- 1 root root  1710 Apr 20 18:59 token.h
> >> >> -rw-r--r-- 1 root root   624 Apr 20 18:59 traceback.h
> >> >> -rw-r--r-- 1 root root  2061 Apr 20 18:59 tupleobject.h
> >> >> -rw-r--r-- 1 root root   861 Apr 20 18:59 ucnhash.h
> >> >> -rw-r--r-- 1 root root 44859 Apr 20 18:59 unicodeobject.h
> >> >> -rw-r--r-- 1 root root  2434 Apr 20 18:59 weakrefobject.h
> >> >>
> >> >>
> >> >>
>
> >
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090421/35d70d44/attachment-0001.html
From graham.dumpleton at gmail.com  Tue Apr 21 19:53:55 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Tue Apr 21 19:54:04 2009
Subject: [mod_python] make problem
In-Reply-To: <db1115e0904211543y2b786664w21ea1ddec11c8f51@mail.gmail.com>
References: <db1115e0904202145w608ebd91g30a0e14b71713086@mail.gmail.com>
	<db1115e0904202259k354a9d86j449bb738aa896c83@mail.gmail.com>
	<db1115e0904202301y4b706df6xb1b3ff9327136b26@mail.gmail.com>
	<88e286470904202318u614b216bj3a8f3822c0e331ca@mail.gmail.com>
	<db1115e0904211008sa93718fo917979a15d01c4de@mail.gmail.com>
	<88e286470904211430g10aad88fob1e40ee813cb001c@mail.gmail.com>
	<88e286470904211522h6fa04b42i16a6b5ad0672cfe5@mail.gmail.com>
	<db1115e0904211528s169c596cxe14d69db8cb6520d@mail.gmail.com>
	<88e286470904211530r284306adlf4fefde9bcc76160@mail.gmail.com>
	<db1115e0904211543y2b786664w21ea1ddec11c8f51@mail.gmail.com>
Message-ID: <88e286470904211653i1d2be0aame24eecf2e143c9ee@mail.gmail.com>

How did you install Apache in the first place? From source or a
precompiled package?

The APR version must be the same as was used to build Apache. Normally
if Apache built from source code then it should have installed the
header files and libraries for APR automatically if it used its own
internal copy. Even if it used a preinstalled copy of APR, normally
the apxs configuration utility would still produce -I options for
where it was installed.

Graham

2009/4/22 online service <online.service.com@gmail.com>:
> I ran " find / -name? apr_*? " I didn't get anything.
>
> Does that mean I have to install Apache Portable Runtime library or
> something?
>
> Thanks
>
>
>
>
> On Tue, Apr 21, 2009 at 3:30 PM, Graham Dumpleton
> <graham.dumpleton@gmail.com> wrote:
>>
>> See if you can run:
>>
>> apr-1-config --includes
>> apu-1-config --includes
>>
>> You may have to find where those scripts are installed, which may be
>> just as much trouble as finding where the header files are if not in
>> PATH or Apache bin directory.
>>
>> Graham
>>
>> 2009/4/22 online service <online.service.com@gmail.com>:
>> > Thanks.
>> >
>> > when i ran httpd -v,
>> >
>> > i got this apache info:
>> >
>> > Server version: Apache/2.2.3
>> > Server built:?? Sep 11 2006 09:43:18
>> >
>> > OS : Fedora Core 6 with Plesk 8.1 (64-bit)
>> >
>> > I? am not from 1and1. Just trying to build web application with Django
>> > on
>> > this 1and1 dedicated server.
>> >
>> >
>> >
>> > Thanks again
>> >
>> >
>> >
>> >
>> >
>> > On Tue, Apr 21, 2009 at 3:22 PM, Graham Dumpleton
>> > <graham.dumpleton@gmail.com> wrote:
>> >>
>> >> BTW, are you a customer of 1and1 or connected with 1and1?
>> >>
>> >> There has been a separate question on Django list about how to use
>> >> 1and1 for Django.
>> >>
>> >> Just curious as to whether you are from 1and1 and trying to set this
>> >> up for customers.
>> >>
>> >> If you are, mod_python is possibly not a good choice, especially if
>> >> used for shared hosting of any sort.
>> >>
>> >> Graham
>> >>
>> >> 2009/4/22 Graham Dumpleton <graham.dumpleton@gmail.com>:
>> >> > As I said, you were mot likely missing Apache Portable Runtime
>> >> > library
>> >> > header files in header file search. Find where on your box the
>> >> > following header files are:
>> >> >
>> >> > apr.h ? ? ? ? ? ? ? ? ? apr_ldap_init.h ? ? ? ? apr_signal.h
>> >> > apr_allocator.h ? ? ? ? apr_ldap_option.h ? ? ? apr_strings.h
>> >> > apr_anylock.h ? ? ? ? ? apr_ldap_url.h ? ? ? ? ?apr_strmatch.h
>> >> > apr_atomic.h ? ? ? ? ? ?apr_lib.h ? ? ? ? ? ? ? apr_support.h
>> >> > apr_base64.h ? ? ? ? ? ?apr_md4.h ? ? ? ? ? ? ? apr_tables.h
>> >> > apr_buckets.h ? ? ? ? ? apr_md5.h ? ? ? ? ? ? ? apr_thread_cond.h
>> >> > apr_date.h ? ? ? ? ? ? ?apr_mmap.h ? ? ? ? ? ? ?apr_thread_mutex.h
>> >> > apr_dbd.h ? ? ? ? ? ? ? apr_network_io.h ? ? ? ?apr_thread_proc.h
>> >> > apr_dbm.h ? ? ? ? ? ? ? apr_optional.h ? ? ? ? ?apr_thread_rwlock.h
>> >> > apr_dso.h ? ? ? ? ? ? ? apr_optional_hooks.h ? ?apr_time.h
>> >> > apr_env.h ? ? ? ? ? ? ? apr_poll.h ? ? ? ? ? ? ?apr_uri.h
>> >> > apr_errno.h ? ? ? ? ? ? apr_pools.h ? ? ? ? ? ? apr_user.h
>> >> > apr_file_info.h ? ? ? ? apr_portable.h ? ? ? ? ?apr_uuid.h
>> >> > apr_file_io.h ? ? ? ? ? apr_proc_mutex.h ? ? ? ?apr_version.h
>> >> > apr_fnmatch.h ? ? ? ? ? apr_queue.h ? ? ? ? ? ? apr_want.h
>> >> > apr_general.h ? ? ? ? ? apr_random.h ? ? ? ? ? ?apr_xlate.h
>> >> > apr_getopt.h ? ? ? ? ? ?apr_reslist.h ? ? ? ? ? apr_xml.h
>> >> > apr_global_mutex.h ? ? ?apr_ring.h ? ? ? ? ? ? ?apu.h
>> >> > apr_hash.h ? ? ? ? ? ? ?apr_rmm.h ? ? ? ? ? ? ? apu_version.h
>> >> > apr_hooks.h ? ? ? ? ? ? apr_sdbm.h ? ? ? ? ? ? ?apu_want.h
>> >> > apr_inherit.h ? ? ? ? ? apr_sha1.h
>> >> > apr_ldap.h ? ? ? ? ? ? ?apr_shm.h
>> >> >
>> >> > This is presuming that you are actually using Apache 2.X.
>> >> >
>> >> > When you find them, you need to get that directory into include file
>> >> > search path as your apxs is broken to the extent of not adding the
>> >> > directory automatically.
>> >> >
>> >> > Graham
>> >> >
>> >> > 2009/4/22 online service <online.service.com@gmail.com>:
>> >> >> this is a 1and1 preinstalled? fedora server.
>> >> >>
>> >> >>
>> >> >> files in /usr/local/psa/admin/include:
>> >> >>
>> >> >>
>> >> >> -r--r--r-- 1 root psaadm 15335 Mar 22? 2007 ap_alloc.h
>> >> >> -r--r--r-- 1 root psaadm 23605 Mar 22? 2007 ap_compat.h
>> >> >> -r--r--r-- 1 root psaadm? 2628 Mar 22? 2007 ap_config_auto.h
>> >> >> -r--r--r-- 1 root psaadm 37326 Mar 22? 2007 ap_config.h
>> >> >> -r--r--r-- 1 root psaadm? 3948 Mar 22? 2007 ap_ctx.h
>> >> >> -r--r--r-- 1 root psaadm? 1733 Mar 22? 2007 ap_ctype.h
>> >> >> -r--r--r-- 1 root psaadm? 1004 Mar 22? 2007 ap_ebcdic.h
>> >> >> -r--r--r-- 1 root psaadm? 6416 Mar 22? 2007 ap.h
>> >> >> -r--r--r-- 1 root psaadm 26419 Mar 22? 2007 ap_hook.h
>> >> >> -r--r--r-- 1 root psaadm? 2923 Mar 22? 2007 ap_md5.h
>> >> >> -r--r--r-- 1 root psaadm? 5577 Mar 22? 2007 ap_mm.h
>> >> >> -r--r--r-- 1 root psaadm 12707 Mar 22? 2007 ap_mmn.h
>> >> >> -r--r--r-- 1 root psaadm? 2015 Mar 22? 2007 ap_sha1.h
>> >> >> -r--r--r-- 1 root psaadm? 6563 Mar 22? 2007 buff.h
>> >> >> -r--r--r-- 1 root psaadm?? 794 Mar 22? 2007 compat.h
>> >> >> -r--r--r-- 1 root psaadm?? 792 Mar 22? 2007 conf.h
>> >> >> -r--r--r-- 1 root psaadm? 1901 Mar 22? 2007 explain.h
>> >> >> -r--r--r-- 1 root psaadm? 2595 Mar 22? 2007 fnmatch.h
>> >> >> -r--r--r-- 1 root psaadm? 2221 Mar 22? 2007 hsregex.h
>> >> >> -r--r--r-- 1 root psaadm? 3177 Mar 22? 2007 http_conf_globals.h
>> >> >> -r--r--r-- 1 root psaadm 17479 Mar 22? 2007 http_config.h
>> >> >> -r--r--r-- 1 root psaadm 12279 Mar 22? 2007 http_core.h
>> >> >> -r--r--r-- 1 root psaadm 45968 Mar 22? 2007 httpd.h
>> >> >> -r--r--r-- 1 root psaadm? 4270 Mar 22? 2007 http_log.h
>> >> >> -r--r--r-- 1 root psaadm? 5900 Mar 22? 2007 http_main.h
>> >> >> -r--r--r-- 1 root psaadm? 7185 Mar 22? 2007 http_protocol.h
>> >> >> -r--r--r-- 1 root psaadm? 3229 Mar 22? 2007 http_request.h
>> >> >> -r--r--r-- 1 root psaadm? 1779 Mar 22? 2007 http_vhost.h
>> >> >> -r--r--r-- 1 root psaadm? 2406 Mar 22? 2007 multithread.h
>> >> >> -r--r--r-- 1 root psaadm? 2774 Mar 22? 2007 os.h
>> >> >> -r--r--r-- 1 root psaadm? 1588 Mar 22? 2007 os-inline.c
>> >> >> dr--r--r-- 8 root psaadm??? 92 Apr 27? 2007 php
>> >> >> -r--r--r-- 1 root psaadm?? 840 Mar 22? 2007 rfc1413.h
>> >> >> -r--r--r-- 1 root psaadm? 5507 Mar 22? 2007 scoreboard.h
>> >> >> -r--r--r-- 1 root psaadm? 1126 Mar 22? 2007 util_date.h
>> >> >> -r--r--r-- 1 root psaadm? 1186 Mar 22? 2007 util_md5.h
>> >> >> -r--r--r-- 1 root psaadm? 2007 Mar 22? 2007 util_script.h
>> >> >> -r--r--r-- 1 root psaadm? 3328 Mar 22? 2007 util_uri.h
>> >> >> dr-xr-xr-x 2 root psaadm? 4096 Apr 27? 2007 xml
>> >> >>
>> >> >>
>> >> >> files in? /usr/local/include/python2.5
>> >> >>
>> >> >>
>> >> >> -rw-r--r-- 1 root root 38971 Apr 20 18:59 abstract.h
>> >> >> -rw-r--r-- 1 root root? 1099 Apr 20 18:59 asdl.h
>> >> >> -rw-r--r-- 1 root root?? 230 Apr 20 18:59 ast.h
>> >> >> -rw-r--r-- 1 root root?? 792 Apr 20 18:59 bitset.h
>> >> >> -rw-r--r-- 1 root root?? 914 Apr 20 18:59 boolobject.h
>> >> >> -rw-r--r-- 1 root root?? 924 Apr 20 18:59 bufferobject.h
>> >> >> -rw-r--r-- 1 root root?? 653 Apr 20 18:59 cellobject.h
>> >> >> -rw-r--r-- 1 root root? 4944 Apr 20 18:59 ceval.h
>> >> >> -rw-r--r-- 1 root root? 2893 Apr 20 18:59 classobject.h
>> >> >> -rw-r--r-- 1 root root? 1763 Apr 20 18:59 cobject.h
>> >> >> -rw-r--r-- 1 root root? 5014 Apr 20 18:59 codecs.h
>> >> >> -rw-r--r-- 1 root root? 3277 Apr 20 18:59 code.h
>> >> >> -rw-r--r-- 1 root root? 1058 Apr 20 18:59 compile.h
>> >> >> -rw-r--r-- 1 root root? 1476 Apr 20 18:59 complexobject.h
>> >> >> -rw-r--r-- 1 root root? 2005 Apr 20 18:59 cStringIO.h
>> >> >> -rw-r--r-- 1 root root? 8288 Apr 20 18:59 datetime.h
>> >> >> -rw-r--r-- 1 root root? 2106 Apr 20 18:59 descrobject.h
>> >> >> -rw-r--r-- 1 root root? 5666 Apr 20 18:59 dictobject.h
>> >> >> -rw-r--r-- 1 root root?? 253 Apr 20 18:59 enumobject.h
>> >> >> -rw-r--r-- 1 root root? 1363 Apr 20 18:59 errcode.h
>> >> >> -rw-r--r-- 1 root root?? 557 Apr 20 18:59 eval.h
>> >> >> -rw-r--r-- 1 root root? 2358 Apr 20 18:59 fileobject.h
>> >> >> -rw-r--r-- 1 root root? 4184 Apr 20 18:59 floatobject.h
>> >> >> -rw-r--r-- 1 root root? 2877 Apr 20 18:59 frameobject.h
>> >> >> -rw-r--r-- 1 root root? 2997 Apr 20 18:59 funcobject.h
>> >> >> -rw-r--r-- 1 root root?? 823 Apr 20 18:59 genobject.h
>> >> >> -rw-r--r-- 1 root root? 1854 Apr 20 18:59 graminit.h
>> >> >> -rw-r--r-- 1 root root? 2021 Apr 20 18:59 grammar.h
>> >> >> -rw-r--r-- 1 root root? 2029 Apr 20 18:59 import.h
>> >> >> -rw-r--r-- 1 root root? 2112 Apr 20 18:59 intobject.h
>> >> >> -rw-r--r-- 1 root root?? 274 Apr 20 18:59 intrcheck.h
>> >> >> -rw-r--r-- 1 root root?? 526 Apr 20 18:59 iterobject.h
>> >> >> -rw-r--r-- 1 root root? 2511 Apr 20 18:59 listobject.h
>> >> >> -rw-r--r-- 1 root root? 2140 Apr 20 18:59 longintrepr.h
>> >> >> -rw-r--r-- 1 root root? 4809 Apr 20 18:59 longobject.h
>> >> >> -rw-r--r-- 1 root root?? 713 Apr 20 18:59 marshal.h
>> >> >> -rw-r--r-- 1 root root?? 253 Apr 20 18:59 metagrammar.h
>> >> >> -rw-r--r-- 1 root root? 3190 Apr 20 18:59 methodobject.h
>> >> >> -rw-r--r-- 1 root root? 4836 Apr 20 18:59 modsupport.h
>> >> >> -rw-r--r-- 1 root root?? 611 Apr 20 18:59 moduleobject.h
>> >> >> -rw-r--r-- 1 root root?? 890 Apr 20 18:59 node.h
>> >> >> -rw-r--r-- 1 root root 32254 Apr 20 18:59 object.h
>> >> >> -rw-r--r-- 1 root root 12438 Apr 20 18:59 objimpl.h
>> >> >> -rw-r--r-- 1 root root? 4320 Apr 20 18:59 opcode.h
>> >> >> -rw-r--r-- 1 root root?? 942 Apr 20 18:59 osdefs.h
>> >> >> -rw-r--r-- 1 root root? 1346 Apr 20 18:59 parsetok.h
>> >> >> -rw-r--r-- 1 root root? 1378 Apr 20 18:59 patchlevel.h
>> >> >> -rw-r--r-- 1 root root?? 253 Apr 20 18:59 pgen.h
>> >> >> -rw-r--r-- 1 root root? 1144 Apr 20 18:59 pgenheaders.h
>> >> >> -rw-r--r-- 1 root root? 2693 Apr 20 18:59 pyarena.h
>> >> >> -rw-r--r-- 1 root root 28564 Apr 20 18:59 pyconfig.h
>> >> >> -rw-r--r-- 1 root root? 4160 Apr 20 18:59 py_curses.h
>> >> >> -rw-r--r-- 1 root root? 1065 Apr 20 18:59 pydebug.h
>> >> >> -rw-r--r-- 1 root root 11581 Apr 20 18:59 pyerrors.h
>> >> >> -rw-r--r-- 1 root root? 1957 Apr 20 18:59 pyexpat.h
>> >> >> -rw-r--r-- 1 root root? 8495 Apr 20 18:59 pyfpe.h
>> >> >> -rw-r--r-- 1 root root?? 306 Apr 20 18:59 pygetopt.h
>> >> >> -rw-r--r-- 1 root root? 7421 Apr 20 18:59 pymactoolbox.h
>> >> >> -rw-r--r-- 1 root root? 4602 Apr 20 18:59 pymem.h
>> >> >> -rw-r--r-- 1 root root 25218 Apr 20 18:59 pyport.h
>> >> >> -rw-r--r-- 1 root root? 6203 Apr 20 18:59 pystate.h
>> >> >> -rw-r--r-- 1 root root?? 359 Apr 20 18:59 pystrtod.h
>> >> >> -rw-r--r-- 1 root root 19631 Apr 20 18:59 Python-ast.h
>> >> >> -rw-r--r-- 1 root root? 4204 Apr 20 18:59 Python.h
>> >> >> -rw-r--r-- 1 root root? 6481 Apr 20 18:59 pythonrun.h
>> >> >> -rw-r--r-- 1 root root? 1447 Apr 20 18:59 pythread.h
>> >> >> -rw-r--r-- 1 root root?? 648 Apr 20 18:59 rangeobject.h
>> >> >> -rw-r--r-- 1 root root? 2757 Apr 20 18:59 setobject.h
>> >> >> -rw-r--r-- 1 root root? 1291 Apr 20 18:59 sliceobject.h
>> >> >> -rw-r--r-- 1 root root? 6611 Apr 20 18:59 stringobject.h
>> >> >> -rw-r--r-- 1 root root? 2532 Apr 20 18:59 structmember.h
>> >> >> -rw-r--r-- 1 root root?? 862 Apr 20 18:59 structseq.h
>> >> >> -rw-r--r-- 1 root root? 3936 Apr 20 18:59 symtable.h
>> >> >> -rw-r--r-- 1 root root?? 819 Apr 20 18:59 sysmodule.h
>> >> >> -rw-r--r-- 1 root root?? 442 Apr 20 18:59 timefuncs.h
>> >> >> -rw-r--r-- 1 root root? 1710 Apr 20 18:59 token.h
>> >> >> -rw-r--r-- 1 root root?? 624 Apr 20 18:59 traceback.h
>> >> >> -rw-r--r-- 1 root root? 2061 Apr 20 18:59 tupleobject.h
>> >> >> -rw-r--r-- 1 root root?? 861 Apr 20 18:59 ucnhash.h
>> >> >> -rw-r--r-- 1 root root 44859 Apr 20 18:59 unicodeobject.h
>> >> >> -rw-r--r-- 1 root root? 2434 Apr 20 18:59 weakrefobject.h
>> >> >>
>> >> >>
>> >> >>
>>
>> >
>

From mihamina at lab.vectoris.fr  Wed Apr 22 02:52:34 2009
From: mihamina at lab.vectoris.fr (Mihamina Rakotomandimby (R12y))
Date: Wed Apr 22 02:52:41 2009
Subject: [mod_python] make problem
In-Reply-To: <88e286470904211653i1d2be0aame24eecf2e143c9ee@mail.gmail.com>
References: <db1115e0904202145w608ebd91g30a0e14b71713086@mail.gmail.com>	<db1115e0904202259k354a9d86j449bb738aa896c83@mail.gmail.com>	<db1115e0904202301y4b706df6xb1b3ff9327136b26@mail.gmail.com>	<88e286470904202318u614b216bj3a8f3822c0e331ca@mail.gmail.com>	<db1115e0904211008sa93718fo917979a15d01c4de@mail.gmail.com>	<88e286470904211430g10aad88fob1e40ee813cb001c@mail.gmail.com>	<88e286470904211522h6fa04b42i16a6b5ad0672cfe5@mail.gmail.com>	<db1115e0904211528s169c596cxe14d69db8cb6520d@mail.gmail.com>	<88e286470904211530r284306adlf4fefde9bcc76160@mail.gmail.com>	<db1115e0904211543y2b786664w21ea1ddec11c8f51@mail.gmail.com>
	<88e286470904211653i1d2be0aame24eecf2e143c9ee@mail.gmail.com>
Message-ID: <49EEBEB2.1050102@lab.vectoris.fr>

Graham Dumpleton wrote:
> How did you install Apache in the first place? From source or a
> precompiled package?

Already answered: It's a dedicated (or semi-dedicated) server with Apache
pre-installed by the service provider.

So, for the OP (online service): I think you should consider installing a
fresh new Apache and tune it your way. You dont know how to do? Give
someone the keys :-) (Follow Up in private if you want)

The one preinstalled might have been a "secured [1]" one just for the use
of 90% of the population: PHP/MySQL.

[1]: I meant without unneeded things.
      They thought people would never need APR.
-- 
                              Chef de projet chez Vectoris
                                  Phone: +261 33 11 207 36
System: xUbuntu 8.10 with almost all from package install
    http://www.google.com/search?q=mihamina+rakotomandimby

From grisha at modpython.org  Wed Apr 22 07:29:17 2009
From: grisha at modpython.org (Brittney Olson)
Date: Wed Apr 22 06:29:36 2009
Subject: [mod_python] [SPAM] Affordable brand name watches
Message-ID: <1745ymm097598PUKXgrisha@modpython.org>

There's no time like the present, and isn't it time you got yourself a beautiful designer watch?  
http://www.uinojsyo.cn

How does 90 percent off sound? Great, of course! And greatness is what awaits you at Diam0nd Reps, the preferred online store where you will find the finest watch imitations for exactly that: 90% off!
http://www.uinojsyo.cn

Check out our extensive inventory and enjoy the fastest shipping available online! See you at Diam0nd Reps!





From grisha at modpython.org  Thu Apr 23 09:02:15 2009
From: grisha at modpython.org (Rachael Lanier)
Date: Thu Apr 23 08:02:22 2009
Subject: [mod_python] [SPAM] Cartier rep is a ultimate gift
Message-ID: <5440gkp324341GFMIgrisha@modpython.org>

A fine designer watch says means refinement and money. A fine, non-expensive designer watch also means intelligence!
http://www.nomocoqaw.cn

At Diam0nd Reps you will find exactly the watch you're looking for, at prices that will make you blink twice. That's right! Here you can get a Rolex, a Breitling, a Tag or pretty much every fine brand timepiece for less than ten percent their original price!
http://www.nomocoqaw.cn

With so many watches that look and work like the real thing, I guarantee you'll have a delicious time finding yours at our store!





From graham.dumpleton at gmail.com  Fri Apr 24 02:16:07 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Fri Apr 24 02:16:09 2009
Subject: [mod_python] Re: [modwsgi] mod_python publisher
In-Reply-To: <d0916b20-cd03-44d3-b6c0-690e1876f646@g37g2000yqn.googlegroups.com>
References: <d0916b20-cd03-44d3-b6c0-690e1876f646@g37g2000yqn.googlegroups.com>
Message-ID: <88e286470904232316t3015965fw53984674789ed24d@mail.gmail.com>

2009/4/24 Matt Newville <matt.newville@gmail.com>:
>
> I'm looking to move from mod_python to mod_wsgi, and reading through
> the on-line documentation.
> 've been fairly happy with mod_python for my own scripts, but do
> appreciate that mod_wsgi is a better design and the future. I also
> want to update a MoinMoin wiki on the same server to using mod_wsgi,
> and am concerned about trying to have both mod_python and mod_wsgi
> running on the same server.

You can run mod_python and mod_wsgi on the same server, but in that
case certain features of mod_wsgi don't work as mod_python takes
control of initialising Python.

> Currently, I'm using mod_python's publisher handler for mapping url to
> python function name and arguments, and for basic authentication. ?By
> themselves, the mod_python/publisher scripts I have ?(ie, the code
> with "from mod_python import apache") are fairly small and simple and
> mostly manage a connection to larger python modules ?for the
> application logic.
>
> It looks like there isn't an immediate replacement for these features
> within mod_wsgi, with the rationale given that such functionality is
> best handled elsewhere, perhaps in a larger framework. ?Is this a
> correct reading?

It is only intended that mod_wsgi provide the low level gateway to the
server itself. This is in contrast to mod_python which provides the
low level gateway to the server, but also high level handlers.
Personally I think that mod_python did this was wrong, and the high
level handlers should have been separate. Problem it now causes is
that people don't want to give up mod_python because they are bound to
APIs which are part of the mod_python package. If those high level
handlers were separate, then there would have been a better chance
that they could have been rehosted on alternatives such as WSGI to
allow portability and migration away from mod_python.

> If so, what is the recommended path for those for
> whom the publisher handler was a good fit? ?Are there recommended
> extensions that provide this functionality, or migration paths for
> code currently using mod_python publisher?

There was someone on this list who was trying to come up with a
package which offered compatibility with mod_python.publisher but such
that it could be hosted on WSGI instead. For my mind, although it may
aid in migrating away from mod_python, I don't believe that an exactly
compatible system is a good idea, as mod_python.publisher has various
aspects which I regard as being broken.

Although I have resisted before, partly due to lack of time, but also
because I had some bigger ideas in mind, I haven't pursued the idea of
creating a package which could be a stepping stone to get away from
mod_python and onto mod_wsgi instead. Since I am treading water a bit
at the moment working out what direction I am going to take with
mod_wsgi and whether I branch out and do something to improve fastcgi
hosting, maybe I can have a look at this a bit now.

As it turns out, most of the work is already done, as my Vampire
package for mod_python had a rewritten mod_python.publisher
equivalent. This fixes some of the problems in mod_python.publisher
and makes it more flexible, but still doesn't fix some of the things I
hate most about mod_python.publisher.

Anyway, I could take Vampire and repurpose it on top of WSGI and more
specifically mod_wsgi. The main thing I am missing to be able to do
that is a request object as obviously relied upon that from
mod_python. There are a couple of options there. First is to write my
own in order to avoid external dependencies, or use webob. There is
also Werkzeug, but it is much more than a request object so may be
bringing too much baggage.

For forms processing, would just fall back on cgi.FieldStorage, which
does mean a loss of a few mod_python features, albeit not often used.
The only other thing, but which wasn't really a part of
mod_python.publisher, is session support. In some sort of first
version one could ignore session support though. Another future area
to look at might be to bring across PSP support into the package.

The question is whether there is sufficient interest. In terms of
gauging that, have also cc'd this to mod_python list. If replying
please ensure you reply-all to both lists.

Do note that I wouldn't aim for compatibility as me being a pedantic
ass means I will not allow some of the stuff in mod_python.publisher
which I think is wrong. Obviously the request object isn't going to be
the same, although maybe one could have a mode where by you use a
request object wrapper to make it closer. As for the other stuff, that
may or may not affect many people. The particular area I have an issue
with in that respect is the really bad way mod_python.publisher deals
with trailing slashes. So, porting work would definitely be required.

So, is there any interest in a mod_python.publisher like package to
act as a easy migration path away from mod_python?

Graham

From jasperkoehorst at gmail.com  Sat Apr 25 10:16:01 2009
From: jasperkoehorst at gmail.com (Jasper Koehorst)
Date: Sat Apr 25 10:16:11 2009
Subject: [mod_python] 64bit Architecture
Message-ID: <cca0547d0904250716q4e03a178g5ada823712ecdd38@mail.gmail.com>

Hello,
Trying to get mod_python installed on leopard server..
This is what i have done so far:

downloaded mod_python-3.3.1.tgz 13-Feb-2007 21:29 437K HTTP Server project

Then i did:
$ cd mod_python-3.3.1
$ ./configure --with-apxs=/usr/sbin/apxs

in the src/makefile

LDFLAGS= -Wl,-framework,Python -u _PyMac_Error -framework Python -Wl,-F.
changed to
LDFLAGS= -Wl,-framework,Python -u _PyMac_Error -framework Python -Wl,-F
-arch x86_64. ( of dit juist is weet ik niet )

$(APXS) $(INCLUDES) -c $(SRCS) $(LDFLAGS) $(LIBS)

replaced by
$(APXS) $(INCLUDES) -c -Wc,"-arch x86_64" $(SRCS) $(LDFLAGS) $(LIBS)

make
and sudo make install uitgevoerd

in /usr/libexec/apache2 the file mod_python.so has been made

then in server admin
> web > Modules
.so file is loaded and checked
settings saved
web service restart

Then i get the following error

A service has encountered an error.
Try to refresh the view (server.local/Web). Report the problem to the
administrator if it persists. (Could not start web service - details in
error log.) 100002

Log file

2009-04-25 00:42:47+0200 [-] Received SIGTERM, shutting down.
2009-04-25 00:42:47+0200 [-] userPrefsFlushLooper stopped looping, doing
final flush
2009-04-25 00:42:47+0200 [-] (Port 8087 Closed)
2009-04-25 00:42:47+0200 [-] Stopping factory
<twisted.web2.channel.http.HTTPFactory instance at 0x2eb3670>
2009-04-25 00:42:47+0200 [-] (Port 8086 Closed)
2009-04-25 00:42:47+0200 [-] Stopping factory <twisted.web.server.Site
instance at 0x2eb3a08>
2009-04-25 00:42:47+0200 [-] Main loop terminated.
2009-04-25 00:42:47+0200 [-] Warning: No permission to delete pid file
2009-04-25 00:42:47+0200 [-] Server Shut Down.
2009-04-25 00:42:49+0200 [-] Log opened.
2009-04-25 00:42:49+0200 [-] twistd 2.5.0
(/System/Library/Frameworks/Python.framework/Versions/2.5/Resources/Python.app/Contents/MacOS/Python
2.5.1) starting up
2009-04-25 00:42:49+0200 [-] reactor class: <class
'twisted.internet.selectreactor.SelectReactor'>
2009-04-25 00:42:49+0200 [-] twisted.web.server.Site starting on 8086
2009-04-25 00:42:49+0200 [-] Starting factory <twisted.web.server.Site
instance at 0x2eb3a08>
2009-04-25 00:42:49+0200 [-] twisted.web2.channel.http.HTTPFactory starting
on 8087
2009-04-25 00:42:49+0200 [-] Starting factory
<twisted.web2.channel.http.HTTPFactory instance at 0x2eb3670>
2009-04-25 00:42:49+0200 [-] set uid/gid 94/94
2009-04-25 00:42:55+0200 [-] Received SIGTERM, shutting down.
2009-04-25 00:42:55+0200 [-] userPrefsFlushLooper stopped looping, doing
final flush
2009-04-25 00:42:55+0200 [-] (Port 8087 Closed)
2009-04-25 00:42:55+0200 [-] Stopping factory
<twisted.web2.channel.http.HTTPFactory instance at 0x2eb3670>
2009-04-25 00:42:55+0200 [-] (Port 8086 Closed)
2009-04-25 00:42:55+0200 [-] Stopping factory <twisted.web.server.Site
instance at 0x2eb3a08>
2009-04-25 00:42:55+0200 [-] Main loop terminated.
2009-04-25 00:42:55+0200 [-] Warning: No permission to delete pid file
2009-04-25 00:42:55+0200 [-] Server Shut Down.
2009-04-25 00:43:10+0200 [-] Log opened.
2009-04-25 00:43:10+0200 [-] twistd 2.5.0
(/System/Library/Frameworks/Python.framework/Versions/2.5/Resources/Python.app/Contents/MacOS/Python
2.5.1) starting up
2009-04-25 00:43:10+0200 [-] reactor class: <class
'twisted.internet.selectreactor.SelectReactor'>
2009-04-25 00:43:10+0200 [-] twisted.web.server.Site starting on 8086
2009-04-25 00:43:10+0200 [-] Starting factory <twisted.web.server.Site
instance at 0x2eb3a08>
2009-04-25 00:43:10+0200 [-] twisted.web2.channel.http.HTTPFactory starting
on 8087
2009-04-25 00:43:10+0200 [-] Starting factory
<twisted.web2.channel.http.HTTPFactory instance at 0x2eb3670>
2009-04-25 00:43:10+0200 [-] set uid/gid 94/94


This is the error in the apache log.

httpd: Syntax error on line 160 of /private/etc/apache2/httpd.conf: Cannot
load /usr/libexec/apache2/mod_python.so into server:
dlopen(/usr/libexec/apache2/mod_python.so, 10): no suitable image found. Did
find:\n\t/usr/libexec/apache2/mod_python.so: no matching architecture in
universal wrapper

For what i can see the architecture is wrong so the problem should be in:

LDFLAGS= -Wl,-framework,Python -u _PyMac_Error -framework Python -Wl,-F.
changed to

LDFLAGS= -Wl,-framework,Python -u _PyMac_Error -framework Python -Wl,-F
-arch x86_64. ( of dit juist is weet ik niet )

$(APXS) $(INCLUDES) -c $(SRCS) $(LDFLAGS) $(LIBS)

replaced by:
$(APXS) $(INCLUDES) -c -Wc,"-arch x86_64" $(SRCS) $(LDFLAGS) $(LIBS)

Anyone has an idea to solve this?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090425/d94b3a09/attachment.html
From geert at nznl.com  Sat Apr 25 13:11:04 2009
From: geert at nznl.com (Geert Dekkers)
Date: Sat Apr 25 13:11:13 2009
Subject: [mod_python] 64bit Architecture
In-Reply-To: <cca0547d0904250716q4e03a178g5ada823712ecdd38@mail.gmail.com>
References: <cca0547d0904250716q4e03a178g5ada823712ecdd38@mail.gmail.com>
Message-ID: <4E359C4C-5756-492E-8450-8A5845EFF0FE@nznl.com>

Try doing a file /usr/libexec/apache2/mod_python.so

My experience with mod_python on leopard is limited though -- I  
quickly switched to mod_wsgi, which works perfectly on leopard.

Geert


On Apr 25, 2009, at 4:16 PM, Jasper Koehorst wrote:

> Hello,
>
> Trying to get mod_python installed on leopard server..
> This is what i have done so far:
>
> downloaded mod_python-3.3.1.tgz 13-Feb-2007 21:29 437K HTTP Server  
> project
>
> Then i did:
> $ cd mod_python-3.3.1
> $ ./configure --with-apxs=/usr/sbin/apxs
>
> in the src/makefile
>
> LDFLAGS= -Wl,-framework,Python -u _PyMac_Error -framework Python - 
> Wl,-F.
> changed to
> LDFLAGS= -Wl,-framework,Python -u _PyMac_Error -framework Python - 
> Wl,-F -arch x86_64. ( of dit juist is weet ik niet )
>
> $(APXS) $(INCLUDES) -c $(SRCS) $(LDFLAGS) $(LIBS)
>
> replaced by
> $(APXS) $(INCLUDES) -c -Wc,"-arch x86_64" $(SRCS) $(LDFLAGS) $(LIBS)
>
> make
> and sudo make install uitgevoerd
>
> in /usr/libexec/apache2 the file mod_python.so has been made
>
> then in server admin
> > web > Modules
> .so file is loaded and checked
> settings saved
> web service restart
>
> Then i get the following error
>
> A service has encountered an error.
> Try to refresh the view (server.local/Web). Report the problem to  
> the administrator if it persists. (Could not start web service -  
> details in error log.) 100002
>
> Log file
>
> 2009-04-25 00:42:47+0200 [-] Received SIGTERM, shutting down.
> 2009-04-25 00:42:47+0200 [-] userPrefsFlushLooper stopped looping,  
> doing final flush
> 2009-04-25 00:42:47+0200 [-] (Port 8087 Closed)
> 2009-04-25 00:42:47+0200 [-] Stopping factory  
> <twisted.web2.channel.http.HTTPFactory instance at 0x2eb3670>
> 2009-04-25 00:42:47+0200 [-] (Port 8086 Closed)
> 2009-04-25 00:42:47+0200 [-] Stopping factory  
> <twisted.web.server.Site instance at 0x2eb3a08>
> 2009-04-25 00:42:47+0200 [-] Main loop terminated.
> 2009-04-25 00:42:47+0200 [-] Warning: No permission to delete pid file
> 2009-04-25 00:42:47+0200 [-] Server Shut Down.
> 2009-04-25 00:42:49+0200 [-] Log opened.
> 2009-04-25 00:42:49+0200 [-] twistd 2.5.0 (/System/Library/ 
> Frameworks/Python.framework/Versions/2.5/Resources/Python.app/ 
> Contents/MacOS/Python 2.5.1) starting up
> 2009-04-25 00:42:49+0200 [-] reactor class: <class  
> 'twisted.internet.selectreactor.SelectReactor'>
> 2009-04-25 00:42:49+0200 [-] twisted.web.server.Site starting on 8086
> 2009-04-25 00:42:49+0200 [-] Starting factory  
> <twisted.web.server.Site instance at 0x2eb3a08>
> 2009-04-25 00:42:49+0200 [-] twisted.web2.channel.http.HTTPFactory  
> starting on 8087
> 2009-04-25 00:42:49+0200 [-] Starting factory  
> <twisted.web2.channel.http.HTTPFactory instance at 0x2eb3670>
> 2009-04-25 00:42:49+0200 [-] set uid/gid 94/94
> 2009-04-25 00:42:55+0200 [-] Received SIGTERM, shutting down.
> 2009-04-25 00:42:55+0200 [-] userPrefsFlushLooper stopped looping,  
> doing final flush
> 2009-04-25 00:42:55+0200 [-] (Port 8087 Closed)
> 2009-04-25 00:42:55+0200 [-] Stopping factory  
> <twisted.web2.channel.http.HTTPFactory instance at 0x2eb3670>
> 2009-04-25 00:42:55+0200 [-] (Port 8086 Closed)
> 2009-04-25 00:42:55+0200 [-] Stopping factory  
> <twisted.web.server.Site instance at 0x2eb3a08>
> 2009-04-25 00:42:55+0200 [-] Main loop terminated.
> 2009-04-25 00:42:55+0200 [-] Warning: No permission to delete pid file
> 2009-04-25 00:42:55+0200 [-] Server Shut Down.
> 2009-04-25 00:43:10+0200 [-] Log opened.
> 2009-04-25 00:43:10+0200 [-] twistd 2.5.0 (/System/Library/ 
> Frameworks/Python.framework/Versions/2.5/Resources/Python.app/ 
> Contents/MacOS/Python 2.5.1) starting up
> 2009-04-25 00:43:10+0200 [-] reactor class: <class  
> 'twisted.internet.selectreactor.SelectReactor'>
> 2009-04-25 00:43:10+0200 [-] twisted.web.server.Site starting on 8086
> 2009-04-25 00:43:10+0200 [-] Starting factory  
> <twisted.web.server.Site instance at 0x2eb3a08>
> 2009-04-25 00:43:10+0200 [-] twisted.web2.channel.http.HTTPFactory  
> starting on 8087
> 2009-04-25 00:43:10+0200 [-] Starting factory  
> <twisted.web2.channel.http.HTTPFactory instance at 0x2eb3670>
> 2009-04-25 00:43:10+0200 [-] set uid/gid 94/94
>
>
> This is the error in the apache log.
>
> httpd: Syntax error on line 160 of /private/etc/apache2/httpd.conf:  
> Cannot load /usr/libexec/apache2/mod_python.so into server: dlopen(/ 
> usr/libexec/apache2/mod_python.so, 10): no suitable image found. Did  
> find:\n\t/usr/libexec/apache2/mod_python.so: no matching  
> architecture in universal wrapper
>
> For what i can see the architecture is wrong so the problem should  
> be in:
>
> LDFLAGS= -Wl,-framework,Python -u _PyMac_Error -framework Python - 
> Wl,-F.
> changed to
>
> LDFLAGS= -Wl,-framework,Python -u _PyMac_Error -framework Python - 
> Wl,-F -arch x86_64. ( of dit juist is weet ik niet )
>
> $(APXS) $(INCLUDES) -c $(SRCS) $(LDFLAGS) $(LIBS)
>
> replaced by:
> $(APXS) $(INCLUDES) -c -Wc,"-arch x86_64" $(SRCS) $(LDFLAGS) $(LIBS)
>
> Anyone has an idea to solve this?
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090425/cfa40fb7/attachment.html
From dave at davebritton.com  Sat Apr 25 14:54:13 2009
From: dave at davebritton.com (Dave Britton)
Date: Sat Apr 25 13:53:09 2009
Subject: [SPAM] Re: [mod_python] Re: [modwsgi] mod_python publisher
References: <d0916b20-cd03-44d3-b6c0-690e1876f646@g37g2000yqn.googlegroups.com>
	<88e286470904232316t3015965fw53984674789ed24d@mail.gmail.com>
Message-ID: <01aa01c9c5d7$3a3397b0$0500a8c0@yoda>

Graham,
I have the same problems Matt Newville describes - a lot of web application
code based on simple use of mod_python publisher, no fancy stuff at all. A
basic mod_wsgi plugin (or wrapper or whatever) that would generate
essentially the same results as mod_python publisher :
 (ie. Apache would interpret a request for a directory-style URL
www.mydomain.com/realdirectory/pseudodirectory as a call to the python
script named <webroot>/realdirectory/pseudodirectory.py's  index() function,
which sends it text for Apache to add headers to and send to the browser)
that  would be absolutely great, and I would start the conversion to
mod_wsgi immediately. Personally I never use the mod_python option to call
into a function other than index() by placing that function's name as if it
was a subdirectory (eg.
http://www.mydomain.com/realdirectory/pseudodirectory/pseudosubdirectory
calls python script  <webroot>/realdirectory/pseudodirectory.py's function
pseudosubdirectory() )
as I find it too confusing to keep track of over the long run, but I suppose
that would be desirable too for many people.
Graham, you've already given a lot to us, it would be great if you can help
us through this transition as well!
Thanks for even considering it!
-Dave Britton

----- Original Message -----
From: "Graham Dumpleton" <graham.dumpleton@gmail.com>
To: <modwsgi@googlegroups.com>
Cc: <mod_python@modpython.org>
Sent: Friday, April 24, 2009 1:16 AM
Subject: [mod_python] Re: [modwsgi] mod_python publisher


2009/4/24 Matt Newville <matt.newville@gmail.com>:
>
> I'm looking to move from mod_python to mod_wsgi, and reading through
> the on-line documentation.
> 've been fairly happy with mod_python for my own scripts, but do
> appreciate that mod_wsgi is a better design and the future. I also
> want to update a MoinMoin wiki on the same server to using mod_wsgi,
> and am concerned about trying to have both mod_python and mod_wsgi
> running on the same server.

You can run mod_python and mod_wsgi on the same server, but in that
case certain features of mod_wsgi don't work as mod_python takes
control of initialising Python.

> Currently, I'm using mod_python's publisher handler for mapping url to
> python function name and arguments, and for basic authentication. By
> themselves, the mod_python/publisher scripts I have (ie, the code
> with "from mod_python import apache") are fairly small and simple and
> mostly manage a connection to larger python modules for the
> application logic.
>
> It looks like there isn't an immediate replacement for these features
> within mod_wsgi, with the rationale given that such functionality is
> best handled elsewhere, perhaps in a larger framework. Is this a
> correct reading?

It is only intended that mod_wsgi provide the low level gateway to the
server itself. This is in contrast to mod_python which provides the
low level gateway to the server, but also high level handlers.
Personally I think that mod_python did this was wrong, and the high
level handlers should have been separate. Problem it now causes is
that people don't want to give up mod_python because they are bound to
APIs which are part of the mod_python package. If those high level
handlers were separate, then there would have been a better chance
that they could have been rehosted on alternatives such as WSGI to
allow portability and migration away from mod_python.

> If so, what is the recommended path for those for
> whom the publisher handler was a good fit? Are there recommended
> extensions that provide this functionality, or migration paths for
> code currently using mod_python publisher?

There was someone on this list who was trying to come up with a
package which offered compatibility with mod_python.publisher but such
that it could be hosted on WSGI instead. For my mind, although it may
aid in migrating away from mod_python, I don't believe that an exactly
compatible system is a good idea, as mod_python.publisher has various
aspects which I regard as being broken.

Although I have resisted before, partly due to lack of time, but also
because I had some bigger ideas in mind, I haven't pursued the idea of
creating a package which could be a stepping stone to get away from
mod_python and onto mod_wsgi instead. Since I am treading water a bit
at the moment working out what direction I am going to take with
mod_wsgi and whether I branch out and do something to improve fastcgi
hosting, maybe I can have a look at this a bit now.

As it turns out, most of the work is already done, as my Vampire
package for mod_python had a rewritten mod_python.publisher
equivalent. This fixes some of the problems in mod_python.publisher
and makes it more flexible, but still doesn't fix some of the things I
hate most about mod_python.publisher.

Anyway, I could take Vampire and repurpose it on top of WSGI and more
specifically mod_wsgi. The main thing I am missing to be able to do
that is a request object as obviously relied upon that from
mod_python. There are a couple of options there. First is to write my
own in order to avoid external dependencies, or use webob. There is
also Werkzeug, but it is much more than a request object so may be
bringing too much baggage.

For forms processing, would just fall back on cgi.FieldStorage, which
does mean a loss of a few mod_python features, albeit not often used.
The only other thing, but which wasn't really a part of
mod_python.publisher, is session support. In some sort of first
version one could ignore session support though. Another future area
to look at might be to bring across PSP support into the package.

The question is whether there is sufficient interest. In terms of
gauging that, have also cc'd this to mod_python list. If replying
please ensure you reply-all to both lists.

Do note that I wouldn't aim for compatibility as me being a pedantic
ass means I will not allow some of the stuff in mod_python.publisher
which I think is wrong. Obviously the request object isn't going to be
the same, although maybe one could have a mode where by you use a
request object wrapper to make it closer. As for the other stuff, that
may or may not affect many people. The particular area I have an issue
with in that respect is the really bad way mod_python.publisher deals
with trailing slashes. So, porting work would definitely be required.

So, is there any interest in a mod_python.publisher like package to
act as a easy migration path away from mod_python?

Graham

_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://mailman.modpython.org/mailman/listinfo/mod_python

From jrraines at comcast.net  Sat Apr 25 14:20:12 2009
From: jrraines at comcast.net (John Raines)
Date: Sat Apr 25 14:20:19 2009
Subject: [mod_python] 64bit Architecture
In-Reply-To: <cca0547d0904250716q4e03a178g5ada823712ecdd38@mail.gmail.com>
References: <cca0547d0904250716q4e03a178g5ada823712ecdd38@mail.gmail.com>
Message-ID: <09887779-EA8D-4EC1-BA7C-7E3DBB923929@comcast.net>

http://www.alfersoft.com.ar/blog/2009/03/03/macos-x-105x-intel-mod_python-pil-pycaptcha-notes/
was posted to the list a month or so ago.  Installing from svn seems  
to be the easiest approach now.

On Apr 25, 2009, at 9:16 AM, Jasper Koehorst wrote:

> Hello,
>
> Trying to get mod_python installed on leopard server..
> This is what i have done so far:
>
> downloaded mod_python-3.3.1.tgz 13-Feb-2007 21:29 437K HTTP Server  
> project
>
> Then i did:
> $ cd mod_python-3.3.1
> $ ./configure --with-apxs=/usr/sbin/apxs
>
> in the src/makefile
>
> LDFLAGS= -Wl,-framework,Python -u _PyMac_Error -framework Python - 
> Wl,-F.
> changed to
> LDFLAGS= -Wl,-framework,Python -u _PyMac_Error -framework Python - 
> Wl,-F -arch x86_64. ( of dit juist is weet ik niet )
>
> $(APXS) $(INCLUDES) -c $(SRCS) $(LDFLAGS) $(LIBS)
>
> replaced by
> $(APXS) $(INCLUDES) -c -Wc,"-arch x86_64" $(SRCS) $(LDFLAGS) $(LIBS)
>
> make
> and sudo make install uitgevoerd
>
> in /usr/libexec/apache2 the file mod_python.so has been made
>
> then in server admin
> > web > Modules
> .so file is loaded and checked
> settings saved
> web service restart
>
> Then i get the following error
>
> A service has encountered an error.
> Try to refresh the view (server.local/Web). Report the problem to  
> the administrator if it persists. (Could not start web service -  
> details in error log.) 100002
>
> Log file
>
> 2009-04-25 00:42:47+0200 [-] Received SIGTERM, shutting down.
> 2009-04-25 00:42:47+0200 [-] userPrefsFlushLooper stopped looping,  
> doing final flush
> 2009-04-25 00:42:47+0200 [-] (Port 8087 Closed)
> 2009-04-25 00:42:47+0200 [-] Stopping factory  
> <twisted.web2.channel.http.HTTPFactory instance at 0x2eb3670>
> 2009-04-25 00:42:47+0200 [-] (Port 8086 Closed)
> 2009-04-25 00:42:47+0200 [-] Stopping factory  
> <twisted.web.server.Site instance at 0x2eb3a08>
> 2009-04-25 00:42:47+0200 [-] Main loop terminated.
> 2009-04-25 00:42:47+0200 [-] Warning: No permission to delete pid file
> 2009-04-25 00:42:47+0200 [-] Server Shut Down.
> 2009-04-25 00:42:49+0200 [-] Log opened.
> 2009-04-25 00:42:49+0200 [-] twistd 2.5.0 (/System/Library/ 
> Frameworks/Python.framework/Versions/2.5/Resources/Python.app/ 
> Contents/MacOS/Python 2.5.1) starting up
> 2009-04-25 00:42:49+0200 [-] reactor class: <class  
> 'twisted.internet.selectreactor.SelectReactor'>
> 2009-04-25 00:42:49+0200 [-] twisted.web.server.Site starting on 8086
> 2009-04-25 00:42:49+0200 [-] Starting factory  
> <twisted.web.server.Site instance at 0x2eb3a08>
> 2009-04-25 00:42:49+0200 [-] twisted.web2.channel.http.HTTPFactory  
> starting on 8087
> 2009-04-25 00:42:49+0200 [-] Starting factory  
> <twisted.web2.channel.http.HTTPFactory instance at 0x2eb3670>
> 2009-04-25 00:42:49+0200 [-] set uid/gid 94/94
> 2009-04-25 00:42:55+0200 [-] Received SIGTERM, shutting down.
> 2009-04-25 00:42:55+0200 [-] userPrefsFlushLooper stopped looping,  
> doing final flush
> 2009-04-25 00:42:55+0200 [-] (Port 8087 Closed)
> 2009-04-25 00:42:55+0200 [-] Stopping factory  
> <twisted.web2.channel.http.HTTPFactory instance at 0x2eb3670>
> 2009-04-25 00:42:55+0200 [-] (Port 8086 Closed)
> 2009-04-25 00:42:55+0200 [-] Stopping factory  
> <twisted.web.server.Site instance at 0x2eb3a08>
> 2009-04-25 00:42:55+0200 [-] Main loop terminated.
> 2009-04-25 00:42:55+0200 [-] Warning: No permission to delete pid file
> 2009-04-25 00:42:55+0200 [-] Server Shut Down.
> 2009-04-25 00:43:10+0200 [-] Log opened.
> 2009-04-25 00:43:10+0200 [-] twistd 2.5.0 (/System/Library/ 
> Frameworks/Python.framework/Versions/2.5/Resources/Python.app/ 
> Contents/MacOS/Python 2.5.1) starting up
> 2009-04-25 00:43:10+0200 [-] reactor class: <class  
> 'twisted.internet.selectreactor.SelectReactor'>
> 2009-04-25 00:43:10+0200 [-] twisted.web.server.Site starting on 8086
> 2009-04-25 00:43:10+0200 [-] Starting factory  
> <twisted.web.server.Site instance at 0x2eb3a08>
> 2009-04-25 00:43:10+0200 [-] twisted.web2.channel.http.HTTPFactory  
> starting on 8087
> 2009-04-25 00:43:10+0200 [-] Starting factory  
> <twisted.web2.channel.http.HTTPFactory instance at 0x2eb3670>
> 2009-04-25 00:43:10+0200 [-] set uid/gid 94/94
>
>
> This is the error in the apache log.
>
> httpd: Syntax error on line 160 of /private/etc/apache2/httpd.conf:  
> Cannot load /usr/libexec/apache2/mod_python.so into server: dlopen(/ 
> usr/libexec/apache2/mod_python.so, 10): no suitable image found. Did  
> find:\n\t/usr/libexec/apache2/mod_python.so: no matching  
> architecture in universal wrapper
>
> For what i can see the architecture is wrong so the problem should  
> be in:
>
> LDFLAGS= -Wl,-framework,Python -u _PyMac_Error -framework Python - 
> Wl,-F.
> changed to
>
> LDFLAGS= -Wl,-framework,Python -u _PyMac_Error -framework Python - 
> Wl,-F -arch x86_64. ( of dit juist is weet ik niet )
>
> $(APXS) $(INCLUDES) -c $(SRCS) $(LDFLAGS) $(LIBS)
>
> replaced by:
> $(APXS) $(INCLUDES) -c -Wc,"-arch x86_64" $(SRCS) $(LDFLAGS) $(LIBS)
>
> Anyone has an idea to solve this?
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090425/70f97e12/attachment-0001.html
From jrraines at comcast.net  Sat Apr 25 14:31:47 2009
From: jrraines at comcast.net (John Raines)
Date: Sat Apr 25 14:31:54 2009
Subject: [mod_python] 64bit Architecture
In-Reply-To: <cca0547d0904250716q4e03a178g5ada823712ecdd38@mail.gmail.com>
References: <cca0547d0904250716q4e03a178g5ada823712ecdd38@mail.gmail.com>
Message-ID: <6F9294A5-38C7-4AB6-8276-C088A5FD979D@comcast.net>

sorry seems like my message wasn't included the first time. Look at  
this post which was on the list last month:

http://www.alfersoft.com.ar/blog/2009/03/03/macos-x-105x-intel-mod_python-pil-pycaptcha-notes/

compiling from svn seems to be the best approach right now


On Apr 25, 2009, at 9:16 AM, Jasper Koehorst wrote:

> Hello,
>
> Trying to get mod_python installed on leopard server..
> This is what i have done so far:
>
> downloaded mod_python-3.3.1.tgz 13-Feb-2007 21:29 437K HTTP Server  
> project
>
> Then i did:
> $ cd mod_python-3.3.1
> $ ./configure --with-apxs=/usr/sbin/apxs
>
> in the src/makefile
>
> LDFLAGS= -Wl,-framework,Python -u _PyMac_Error -framework Python - 
> Wl,-F.
> changed to
> LDFLAGS= -Wl,-framework,Python -u _PyMac_Error -framework Python - 
> Wl,-F -arch x86_64. ( of dit juist is weet ik niet )
>
> $(APXS) $(INCLUDES) -c $(SRCS) $(LDFLAGS) $(LIBS)
>
> replaced by
> $(APXS) $(INCLUDES) -c -Wc,"-arch x86_64" $(SRCS) $(LDFLAGS) $(LIBS)
>
> make
> and sudo make install uitgevoerd
>
> in /usr/libexec/apache2 the file mod_python.so has been made
>
> then in server admin
> > web > Modules
> .so file is loaded and checked
> settings saved
> web service restart
>
> Then i get the following error
>
> A service has encountered an error.
> Try to refresh the view (server.local/Web). Report the problem to  
> the administrator if it persists. (Could not start web service -  
> details in error log.) 100002
>
> Log file
>
> 2009-04-25 00:42:47+0200 [-] Received SIGTERM, shutting down.
> 2009-04-25 00:42:47+0200 [-] userPrefsFlushLooper stopped looping,  
> doing final flush
> 2009-04-25 00:42:47+0200 [-] (Port 8087 Closed)
> 2009-04-25 00:42:47+0200 [-] Stopping factory  
> <twisted.web2.channel.http.HTTPFactory instance at 0x2eb3670>
> 2009-04-25 00:42:47+0200 [-] (Port 8086 Closed)
> 2009-04-25 00:42:47+0200 [-] Stopping factory  
> <twisted.web.server.Site instance at 0x2eb3a08>
> 2009-04-25 00:42:47+0200 [-] Main loop terminated.
> 2009-04-25 00:42:47+0200 [-] Warning: No permission to delete pid file
> 2009-04-25 00:42:47+0200 [-] Server Shut Down.
> 2009-04-25 00:42:49+0200 [-] Log opened.
> 2009-04-25 00:42:49+0200 [-] twistd 2.5.0 (/System/Library/ 
> Frameworks/Python.framework/Versions/2.5/Resources/Python.app/ 
> Contents/MacOS/Python 2.5.1) starting up
> 2009-04-25 00:42:49+0200 [-] reactor class: <class  
> 'twisted.internet.selectreactor.SelectReactor'>
> 2009-04-25 00:42:49+0200 [-] twisted.web.server.Site starting on 8086
> 2009-04-25 00:42:49+0200 [-] Starting factory  
> <twisted.web.server.Site instance at 0x2eb3a08>
> 2009-04-25 00:42:49+0200 [-] twisted.web2.channel.http.HTTPFactory  
> starting on 8087
> 2009-04-25 00:42:49+0200 [-] Starting factory  
> <twisted.web2.channel.http.HTTPFactory instance at 0x2eb3670>
> 2009-04-25 00:42:49+0200 [-] set uid/gid 94/94
> 2009-04-25 00:42:55+0200 [-] Received SIGTERM, shutting down.
> 2009-04-25 00:42:55+0200 [-] userPrefsFlushLooper stopped looping,  
> doing final flush
> 2009-04-25 00:42:55+0200 [-] (Port 8087 Closed)
> 2009-04-25 00:42:55+0200 [-] Stopping factory  
> <twisted.web2.channel.http.HTTPFactory instance at 0x2eb3670>
> 2009-04-25 00:42:55+0200 [-] (Port 8086 Closed)
> 2009-04-25 00:42:55+0200 [-] Stopping factory  
> <twisted.web.server.Site instance at 0x2eb3a08>
> 2009-04-25 00:42:55+0200 [-] Main loop terminated.
> 2009-04-25 00:42:55+0200 [-] Warning: No permission to delete pid file
> 2009-04-25 00:42:55+0200 [-] Server Shut Down.
> 2009-04-25 00:43:10+0200 [-] Log opened.
> 2009-04-25 00:43:10+0200 [-] twistd 2.5.0 (/System/Library/ 
> Frameworks/Python.framework/Versions/2.5/Resources/Python.app/ 
> Contents/MacOS/Python 2.5.1) starting up
> 2009-04-25 00:43:10+0200 [-] reactor class: <class  
> 'twisted.internet.selectreactor.SelectReactor'>
> 2009-04-25 00:43:10+0200 [-] twisted.web.server.Site starting on 8086
> 2009-04-25 00:43:10+0200 [-] Starting factory  
> <twisted.web.server.Site instance at 0x2eb3a08>
> 2009-04-25 00:43:10+0200 [-] twisted.web2.channel.http.HTTPFactory  
> starting on 8087
> 2009-04-25 00:43:10+0200 [-] Starting factory  
> <twisted.web2.channel.http.HTTPFactory instance at 0x2eb3670>
> 2009-04-25 00:43:10+0200 [-] set uid/gid 94/94
>
>
> This is the error in the apache log.
>
> httpd: Syntax error on line 160 of /private/etc/apache2/httpd.conf:  
> Cannot load /usr/libexec/apache2/mod_python.so into server: dlopen(/ 
> usr/libexec/apache2/mod_python.so, 10): no suitable image found. Did  
> find:\n\t/usr/libexec/apache2/mod_python.so: no matching  
> architecture in universal wrapper
>
> For what i can see the architecture is wrong so the problem should  
> be in:
>
> LDFLAGS= -Wl,-framework,Python -u _PyMac_Error -framework Python - 
> Wl,-F.
> changed to
>
> LDFLAGS= -Wl,-framework,Python -u _PyMac_Error -framework Python - 
> Wl,-F -arch x86_64. ( of dit juist is weet ik niet )
>
> $(APXS) $(INCLUDES) -c $(SRCS) $(LDFLAGS) $(LIBS)
>
> replaced by:
> $(APXS) $(INCLUDES) -c -Wc,"-arch x86_64" $(SRCS) $(LDFLAGS) $(LIBS)
>
> Anyone has an idea to solve this?
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090425/0d27da06/attachment.html
From durumdara at gmail.com  Mon Apr 27 03:01:40 2009
From: durumdara at gmail.com (durumdara)
Date: Mon Apr 27 03:01:51 2009
Subject: [mod_python] Change site's structure to use mod_wsgi and outer
	product
In-Reply-To: <01aa01c9c5d7$3a3397b0$0500a8c0@yoda>
References: <d0916b20-cd03-44d3-b6c0-690e1876f646@g37g2000yqn.googlegroups.com>	<88e286470904232316t3015965fw53984674789ed24d@mail.gmail.com>
	<01aa01c9c5d7$3a3397b0$0500a8c0@yoda>
Message-ID: <49F55854.3070703@gmail.com>

Hi!

I formerly wrote a mail to Graham and I said about a problem that I got 
in mod_py with reloading (the reloading is clear my variables in 
un-understandable way).

To test another systems I want to try to change mod_py in my little site 
to django or pylons. Other virtual sites are remaining.

But: many users warn me to python threading problems (for ex: Django and 
the main DB), and suggest me the mod_wsgi to avoid these problems.

But yesterday I read this:

2009.04.25. 20:54 keltez?ssel, Dave Britton ?rta:
> You can run mod_python and mod_wsgi on the same server, but in that
> case certain features of mod_wsgi don't work as mod_python takes
> control of initialising Python.
>    
I wanna ask, that if this conflict with mod_wsgi/mod_py exists, how to I 
substitute my little site? The server serves 4 mod_py sites, and 4 php 
sites.
I don't want to cause problems for these important sites.
If this conflict can disturb the mod_py, my only way to make this 
substitution the mod_rewrite, and making proxy and trusting to this site 
never overloading...

Or you can see any solution to do the substition without any problems? 
To use both mod_py and mod_wsgi in one time?
I not use publisher.

The system: WX/2k3, Py2.5, mod_py2.3, apache 2.x.

Thanks for your help:
     dd


From graham.dumpleton at gmail.com  Mon Apr 27 03:15:45 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Mon Apr 27 03:15:53 2009
Subject: [mod_python] Change site's structure to use mod_wsgi and outer 
	product
In-Reply-To: <49F55854.3070703@gmail.com>
References: <d0916b20-cd03-44d3-b6c0-690e1876f646@g37g2000yqn.googlegroups.com>
	<88e286470904232316t3015965fw53984674789ed24d@mail.gmail.com>
	<01aa01c9c5d7$3a3397b0$0500a8c0@yoda> <49F55854.3070703@gmail.com>
Message-ID: <88e286470904270015k2434a22cw856c63f7c3af2ceb@mail.gmail.com>

2009/4/27 durumdara <durumdara@gmail.com>:
> Hi!
>
> I formerly wrote a mail to Graham and I said about a problem that I got in
> mod_py with reloading (the reloading is clear my variables in
> un-understandable way).
>
> To test another systems I want to try to change mod_py in my little site to
> django or pylons. Other virtual sites are remaining.
>
> But: many users warn me to python threading problems (for ex: Django and the
> main DB), and suggest me the mod_wsgi to avoid these problems.

It isn't mod_wsgi that is the solution, but certain modes of using it.
Anyway, Django 1.0.2 should be thread safe, but refer to page on
Django wiki about this linked from mod_wsgi wiki page on using Django
for latest information.

The real problem with Django is not its thread safety, but whether
people using Django understand threading enough to make their own code
thread safe.

> But yesterday I read this:
>
> 2009.04.25. 20:54 keltez?ssel, Dave Britton ?rta:
>>
>> You can run mod_python and mod_wsgi on the same server, but in that
>> case certain features of mod_wsgi don't work as mod_python takes
>> control of initialising Python.
>>
>
> I wanna ask, that if this conflict with mod_wsgi/mod_py exists, how to I
> substitute my little site? The server serves 4 mod_py sites, and 4 php
> sites.
> I don't want to cause problems for these important sites.
> If this conflict can disturb the mod_py, my only way to make this
> substitution the mod_rewrite, and making proxy and trusting to this site
> never overloading...
>
> Or you can see any solution to do the substition without any problems? To
> use both mod_py and mod_wsgi in one time?
> I not use publisher.

The conflicts with mod_python and mod_wsgi aren't likely to be things
that will bother you.

All it is really about is that certain mod_wsgi directives designed to
customise how the Python interpreter is initialised will not work as
mod_python has already initialised the interpreter. In some cases it
just means you have to use the mod_python directive for the same
thing. For others it just means the inability to use some esoteric
feature that 99% or more of people wouldn't use anyway.

Graham

> The system: WX/2k3, Py2.5, mod_py2.3, apache 2.x.
>
> Thanks for your help:
> ? ?dd
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>

From grisha at modpython.org  Thu Apr 30 03:28:08 2009
From: grisha at modpython.org (Kermit Kessler)
Date: Thu Apr 30 02:28:56 2009
Subject: [mod_python] [SPAM] Get your Gucci watch now
Message-ID: <30964cwym467ISVCBgrisha@modpython.org>

Money is tight, times are hard. Christmas is over. Time to get a new Watch!
http://pakuwiraw.cn

At Diam0nd Reps you will find exactly the watch you're looking for, at prices that will make you blink twice. That's right! Here you can get a Rolex, a Breitling, a Tag or pretty much every fine brand timepiece for less than ten percent their original price!
http://pakuwiraw.cn

Most experts couldn't tell our watches from the real thing, and neither will your friends, so impress them today get started with your watch shopping now!





From grisha at modpython.org  Thu Apr 30 03:28:08 2009
From: grisha at modpython.org (Kermit Kessler)
Date: Thu Apr 30 02:29:27 2009
Subject: [mod_python] [SPAM] Get your Gucci watch now
Message-ID: <30964cwym467ISVCBgrisha@modpython.org>

Money is tight, times are hard. Christmas is over. Time to get a new Watch!
http://pakuwiraw.cn

At Diam0nd Reps you will find exactly the watch you're looking for, at prices that will make you blink twice. That's right! Here you can get a Rolex, a Breitling, a Tag or pretty much every fine brand timepiece for less than ten percent their original price!
http://pakuwiraw.cn

Most experts couldn't tell our watches from the real thing, and neither will your friends, so impress them today get started with your watch shopping now!





