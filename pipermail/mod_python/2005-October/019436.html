<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Unable to import modules in subdirs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Unable%20to%20import%20modules%20in%20subdirs&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019434.html">
   <LINK REL="Next"  HREF="019437.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Unable to import modules in subdirs</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Unable%20to%20import%20modules%20in%20subdirs&In-Reply-To="
       TITLE="[mod_python] Unable to import modules in subdirs">grahamd at dscpl.com.au
       </A><BR>
    <I>Thu Oct 27 18:42:55 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="019434.html">[mod_python] Unable to import modules in subdirs
</A></li>
        <LI>Next message: <A HREF="019437.html">[mod_python] Unable to import modules in subdirs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19436">[ date ]</a>
              <a href="thread.html#19436">[ thread ]</a>
              <a href="subject.html#19436">[ subject ]</a>
              <a href="author.html#19436">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jorey Bump wrote ..
&gt;<i> Brandon N wrote:
</I>&gt;<i> &gt; __init__.py's contents:
</I>&gt;<i> &gt; import sys
</I>&gt;<i> &gt; sys.path.insert( 0, '../' )
</I>&gt;<i> 
</I>&gt;<i> ?
</I>
To expand on Jorey's &quot;?&quot; here with some general tips.

It is generally bad practice to extend sys.path from inside of modules
used by mod_python. At the least you must ensure you do not do it from a
module which is a candidate for automatic module reloading. This is
because every time the module is reloaded, the extension of sys.path
will occur yet again. Overall this will not stop the application
working, but if reloading occurs a lot, sys.path will become very long
and with many redundant entries in it.

The other things you need to be aware of is that you can not assume
anything about what the current working directory is when you are using
mod_python. Therefore you cannot use relative pathnames like &quot;../&quot; to
access any resource. This is because it will be resolved in relation to
the working directory which apache was run in, and not in relation to
where the Python code file resides.

If you need to specify a relative directory in relation to a code file
in order to access another resource, use something like:

  import os
  __here__ = os.path.dirname(__file__)

  directory = os.path.join(__here__,&quot;..&quot;)

Graham
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019434.html">[mod_python] Unable to import modules in subdirs
</A></li>
	<LI>Next message: <A HREF="019437.html">[mod_python] Unable to import modules in subdirs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19436">[ date ]</a>
              <a href="thread.html#19436">[ thread ]</a>
              <a href="subject.html#19436">[ subject ]</a>
              <a href="author.html#19436">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
