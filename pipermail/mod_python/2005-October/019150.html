<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] mod_python newbie help
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20newbie%20help&In-Reply-To=434175F0.6060308%40joreybump.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019149.html">
   <LINK REL="Next"  HREF="019153.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] mod_python newbie help</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20newbie%20help&In-Reply-To=434175F0.6060308%40joreybump.com"
       TITLE="[mod_python] mod_python newbie help">grahamd at dscpl.com.au
       </A><BR>
    <I>Mon Oct  3 16:59:53 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="019149.html">[mod_python] mod_python newbie help
</A></li>
        <LI>Next message: <A HREF="019153.html">[mod_python] mod_python newbie help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19150">[ date ]</a>
              <a href="thread.html#19150">[ thread ]</a>
              <a href="subject.html#19150">[ subject ]</a>
              <a href="author.html#19150">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 04/10/2005, at 4:18 AM, Jorey Bump wrote:

&gt;<i> El TuZa wrote:
</I>&gt;&gt;<i> Hi list, my question is about handling &quot;compilation&quot; errors (using
</I>&gt;&gt;<i> publisher). for example if someone calls a function with no params it
</I>&gt;&gt;<i> returns the error with all the python specifications about it, but i
</I>&gt;&gt;<i> just want to inform that person my own message or just call an error
</I>&gt;&gt;<i> function. Can this be done? thanks a lot
</I>&gt;<i>
</I>&gt;<i> You can suppress such errors by setting:
</I>&gt;<i>
</I>&gt;<i>  PythonDebug off
</I>
Also look at the ErrorDocument directive in Apache for a way of
triggering off special code to generate customised error pages for
different Apache error types.

&gt;<i> and/or use conventional Python exceptions to handle errors:
</I>&gt;<i>
</I>&gt;<i> try:
</I>&gt;<i>     a = req.form['myvar']
</I>&gt;<i> except KeyError, key:
</I>&gt;<i>     return '&lt;h1&gt;No form variable by that name: %s&lt;/h1&gt;' % (key,)
</I>
This unfortunately doesn't help with mod_python.publisher unless you are
prepared to throw away its abilities to automatically decode form
parameters into function arguments.

The closest you will get if you want to preserve this automatic form
argument decoding is to wrap the invocation of mod_python.publisher
within your own handler and for it to try and attempt to catch the
exception type which represents the missing argument. That is, instead
of:

   PythonHandler mod_python.publisher

have:

   PythonHandler myhandler

where &quot;myhandler&quot; is defined as:

   import mod_python.publisher

   def handler(req):
     try:
       return mod_python.publisher.handler(req)
     except KeyError, key
       # Generate special exception page.
       ...

The problem with this is that KeyError may have been generated due to
some totally different issue other than a missing form argument. Thus,
to make it do what is intended, you would need to look at traceback
information with the exception and identify if the exception was raised
in the mod_python.publisher form processing code.

Graham

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019149.html">[mod_python] mod_python newbie help
</A></li>
	<LI>Next message: <A HREF="019153.html">[mod_python] mod_python newbie help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19150">[ date ]</a>
              <a href="thread.html#19150">[ thread ]</a>
              <a href="subject.html#19150">[ subject ]</a>
              <a href="author.html#19150">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
