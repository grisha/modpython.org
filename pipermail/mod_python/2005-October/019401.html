<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] problem importing numarray
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20problem%20importing%20numarray&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019400.html">
   <LINK REL="Next"  HREF="019402.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] problem importing numarray</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Patrik Jonsson</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20problem%20importing%20numarray&In-Reply-To="
       TITLE="[mod_python] problem importing numarray">patrik at ucolick.org
       </A><BR>
    <I>Mon Oct 24 22:56:05 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="019400.html">[mod_python] Automaticaly requesting &quot;index.py/index&quot;
</A></li>
        <LI>Next message: <A HREF="019402.html">[mod_python] problem importing numarray
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19401">[ date ]</a>
              <a href="thread.html#19401">[ thread ]</a>
              <a href="subject.html#19401">[ subject ]</a>
              <a href="author.html#19401">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hi,

I just started playing with mod_python and I have a problem importing
the numarray module. it works fine from the command line, but not when
executed through mod_python.  I have the Publisher handler and a very
basic script:

&quot;
import numarray
&quot;

This gives the following output:

Mod_python error: &quot;PythonHandler mod_python.publisher&quot;

Traceback (most recent call last):

  File &quot;/usr/lib64/python2.4/site-packages/mod_python/apache.py&quot;, line
299, in HandlerDispatch
    result = object(req)

  File &quot;/usr/lib64/python2.4/site-packages/mod_python/publisher.py&quot;,
line 98, in handler
    path=[path])

  File &quot;/usr/lib64/python2.4/site-packages/mod_python/apache.py&quot;, line
457, in import_module
    module = imp.load_module(mname, f, p, d)

  File &quot;/home/www/patrik/simulations/junk.py&quot;, line 1, in ?
    import numarray

  File &quot;/usr/lib64/python2.4/site-packages/numarray/__init__.py&quot;, line
42, in ?
    from numarrayall import *

  File &quot;/usr/lib64/python2.4/site-packages/numarray/numarrayall.py&quot;,
line 1, in ?
    from numerictypes import *

  File &quot;/usr/lib64/python2.4/site-packages/numarray/numerictypes.py&quot;,
line 390, in ?
    from codegenerator.ufunccode import typecode

  File
&quot;/usr/lib64/python2.4/site-packages/numarray/codegenerator/__init__.py&quot;,
line 1, in ?
    from basecode import all_types

  File
&quot;/usr/lib64/python2.4/site-packages/numarray/codegenerator/basecode.py&quot;,
line 20, in ?
    if hasUInt64():

  File
&quot;/usr/lib64/python2.4/site-packages/numarray/codegenerator/basecode.py&quot;,
line 11, in hasUInt64
    return &quot;--hasUInt64&quot; in sys.argv

AttributeError: 'module' object has no attribute 'argv'




This looks like sys.argv doesn't exist from within mod_python?  I agree
this information probably isn't useful in this context, but since all
documentation I've seen says that sys.argv is defined, it seems bad to
break existing software that relies on its existence. Shouldn't it just
be [''] like it is when you run the interpreter from the command line?

Incidentally, if I reload the page, I get instead:

Mod_python error: &quot;PythonHandler mod_python.publisher&quot;

Traceback (most recent call last):

  File &quot;/usr/lib64/python2.4/site-packages/mod_python/apache.py&quot;, line
299, in HandlerDispatch
    result = object(req)

  File &quot;/usr/lib64/python2.4/site-packages/mod_python/publisher.py&quot;,
line 98, in handler
    path=[path])

  File &quot;/usr/lib64/python2.4/site-packages/mod_python/apache.py&quot;, line
457, in import_module
    module = imp.load_module(mname, f, p, d)

  File &quot;/home/www/patrik/simulations/junk.py&quot;, line 1, in ?
    import numarray

  File &quot;/usr/lib64/python2.4/site-packages/numarray/__init__.py&quot;, line
42, in ?
    from numarrayall import *

  File &quot;/usr/lib64/python2.4/site-packages/numarray/numarrayall.py&quot;,
line 1, in ?
    from numerictypes import *

  File &quot;/usr/lib64/python2.4/site-packages/numarray/numerictypes.py&quot;,
line 168, in ?
    Byte = _register(&quot;Byte&quot;,   Int8)

  File &quot;/usr/lib64/python2.4/site-packages/numarray/numerictypes.py&quot;,
line 68, in _register
    raise ValueError(&quot;Type %s has already been registered&quot; % name)

ValueError: Type Byte has already been registered



If anyone has any ideas on how to fix this, I'd much appreciate it!

Thanks,

/Patrik
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 254 bytes
Desc: OpenPGP digital signature
Url : <A HREF="http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20051024/741fa53f/signature.bin">http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20051024/741fa53f/signature.bin</A>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019400.html">[mod_python] Automaticaly requesting &quot;index.py/index&quot;
</A></li>
	<LI>Next message: <A HREF="019402.html">[mod_python] problem importing numarray
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19401">[ date ]</a>
              <a href="thread.html#19401">[ thread ]</a>
              <a href="subject.html#19401">[ subject ]</a>
              <a href="author.html#19401">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
