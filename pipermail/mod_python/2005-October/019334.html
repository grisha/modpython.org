<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] The DOs and DONTs of mod_python: one problem found
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20The%20DOs%20and%20DONTs%20of%20mod_python%3A%20one%20problem%20found&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019335.html">
   <LINK REL="Next"  HREF="019338.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] The DOs and DONTs of mod_python: one problem found</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20The%20DOs%20and%20DONTs%20of%20mod_python%3A%20one%20problem%20found&In-Reply-To="
       TITLE="[mod_python] The DOs and DONTs of mod_python: one problem found">grahamd at dscpl.com.au
       </A><BR>
    <I>Tue Oct 18 20:19:57 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="019335.html">[mod_python] The DOs and DONTs of mod_python: second problem maybe
	cornered.
</A></li>
        <LI>Next message: <A HREF="019338.html">[mod_python] The DOs and DONTs of mod_python: one problem found
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19334">[ date ]</a>
              <a href="thread.html#19334">[ thread ]</a>
              <a href="subject.html#19334">[ subject ]</a>
              <a href="author.html#19334">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Philippe C. Martin wrote ..
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> It took me a while to understand that although I had apache configured
</I>&gt;<i> to run 
</I>&gt;<i> as me &quot;philippe&quot;, doing an os.getenv still returned the root environment
</I>&gt;<i> variables.
</I>&gt;<i> 
</I>&gt;<i> Maybe forcing a source of ~/.bashrc ?
</I>
Probably not a good idea. Use the SetEnv directive in Apache config
files to add extra environment variables. Eg.

  SetEnv LD_LIBRARY_PATH /usr/local/lib

At least I think that should work. May need to be at Apache global
configuration level.

Also be aware that the current working directory of Apache is not
guaranteed. Thus, when a handler is executed, the current working
directory WILL NOT be that of where the handler code resides. It
is therefore very important to use absolute pathnames to resources
you need to access. If such resource files are located in proximity
to the handler code file, best to use something like:

  import os
  __here__ = os.path.dirname(__file__)

The __here__ variable will be the name of the directory your handler
code file is in, you can then refer to resource files relative to this
base directory. By doing:

  resource = os.path.join(__here__,'templates/xxx.tmpl')

Doing this is better as it avoids absolute pathnames in as much as
the base directory is automatically determined from where the
handler code file resides.


Graham
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019335.html">[mod_python] The DOs and DONTs of mod_python: second problem maybe
	cornered.
</A></li>
	<LI>Next message: <A HREF="019338.html">[mod_python] The DOs and DONTs of mod_python: one problem found
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19334">[ date ]</a>
              <a href="thread.html#19334">[ thread ]</a>
              <a href="subject.html#19334">[ subject ]</a>
              <a href="author.html#19334">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
