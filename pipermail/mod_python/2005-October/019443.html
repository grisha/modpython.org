<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Unable to import modules in subdirs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Unable%20to%20import%20modules%20in%20subdirs&In-Reply-To=436198F6.9010007%40joreybump.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019441.html">
   <LINK REL="Next"  HREF="019444.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Unable to import modules in subdirs</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Brandon N</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Unable%20to%20import%20modules%20in%20subdirs&In-Reply-To=436198F6.9010007%40joreybump.com"
       TITLE="[mod_python] Unable to import modules in subdirs">woodsman at gmail.com
       </A><BR>
    <I>Fri Oct 28 10:40:28 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="019441.html">[mod_python] Unable to import modules in subdirs
</A></li>
        <LI>Next message: <A HREF="019444.html">[mod_python] Unable to import modules in subdirs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19443">[ date ]</a>
              <a href="thread.html#19443">[ thread ]</a>
              <a href="subject.html#19443">[ subject ]</a>
              <a href="author.html#19443">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Are you forced, with mod_python, to write all package code within the
__init__.py? I ask because of what you've mentioned a few times now and what
I keep encountering.

I have Vampire up and running, though from a doc it specifies &quot;...The
mechanism will also not work where a module is actually a package. Any
application specific modules should therefore not be structured as
packages...&quot; which I imagine is a restriction coming from mod_python. I have
existing code that is already structured in various packages and I'd like to
keep it that way.

I'm able to import Admin but Admin.RemoteAdmin fails (as before). The only
way I've found around this is via an import of RemoteAdmin within Admin's
__init__.py which isn't much of a fix.

With that klunky method I get the desired:
import Admin.RemoteAdmin as RA
A = RA.RemoteAdmin( )

Is there a more pythonic way to accomplish this from within mod_python?

On 10/27/05, Jorey Bump &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">list at joreybump.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Brandon N wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; I meant seeing as others had pointed out the concern that one shouldn't
</I>&gt;<i> &gt; put .py files under htdocs/ or similar directories for fear that someone
</I>&gt;<i> &gt; might find access to one's source files, wholly intact.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Though
</I>&gt;<i> &gt; &gt; In order for
</I>&gt;<i> &gt; &gt; Apache to make this determination, the .py files must be in the public
</I>&gt;<i> &gt; &gt; directories that Apache is managing.
</I>&gt;<i> &gt; made it clear for me.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Is that at all a security issue. Or rather, is there a standard method
</I>&gt;<i> &gt; of referencing code outside of the public directories?
</I>&gt;<i>
</I>&gt;<i> Yes. You import it, as you would with most Python applications. I use
</I>&gt;<i> Publisher, and typically have only a few lines of code in my published
</I>&gt;<i> modules, which act as interfaces to packages in my extended path:
</I>&gt;<i>
</I>&gt;<i> /var/www/vhosts/walamaloo/website/mp/six.py:
</I>&gt;<i>
</I>&gt;<i> &quot;&quot;&quot;
</I>&gt;<i> Published module used as interface to rules package.
</I>&gt;<i> &quot;&quot;&quot;
</I>&gt;<i> # all the code is in this package
</I>&gt;<i> # /var/www/vhosts/walamaloo/python/bruce/faculty/rules/__init__.py
</I>&gt;<i> import bruce.faculty.rules
</I>&gt;<i>
</I>&gt;<i> def index(req):
</I>&gt;<i> &quot;&quot;&quot;
</I>&gt;<i> Default function for users.
</I>&gt;<i> &quot;&quot;&quot;
</I>&gt;<i> return bruce.faculty.rules.four(req)
</I>&gt;<i>
</I>&gt;<i> def admin(req):
</I>&gt;<i> &quot;&quot;&quot;
</I>&gt;<i> Requires authentication using proprietary mechanism.
</I>&gt;<i> &quot;&quot;&quot;
</I>&gt;<i> return bruce.faculty.rules.onethreefiveseven(req)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> This is just my preference. You can put all of your code in a published
</I>&gt;<i> module, if you want. But this approach allows me to hide sensitive
</I>&gt;<i> information outside of the DocumentRoot and encourages code reuse. I can
</I>&gt;<i> build apps relatively quickly because my extended path is filled with
</I>&gt;<i> various utility modules.
</I>&gt;<i>
</I>&gt;<i> You might find some similarities to PHP's require() or include(), but
</I>&gt;<i> those are a bit simplistic compared to Python's import mechanism. On the
</I>&gt;<i> other hand, I have to restart apache often when developing new
</I>&gt;<i> applications, so PHP does have have one thing going for it (but only
</I>&gt;<i> one). :)
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20051028/1287be8e/attachment.html">http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20051028/1287be8e/attachment.html</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019441.html">[mod_python] Unable to import modules in subdirs
</A></li>
	<LI>Next message: <A HREF="019444.html">[mod_python] Unable to import modules in subdirs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19443">[ date ]</a>
              <a href="thread.html#19443">[ thread ]</a>
              <a href="subject.html#19443">[ subject ]</a>
              <a href="author.html#19443">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
