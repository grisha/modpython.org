<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] mod_python imports foo/__init__.py, not foo/bar.py
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20imports%20foo/__init__.py%2C%20not%20foo/bar.py&In-Reply-To=200510160224.29384.fabianosidler%40swissonline.ch">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019286.html">
   <LINK REL="Next"  HREF="019289.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] mod_python imports foo/__init__.py, not foo/bar.py</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20imports%20foo/__init__.py%2C%20not%20foo/bar.py&In-Reply-To=200510160224.29384.fabianosidler%40swissonline.ch"
       TITLE="[mod_python] mod_python imports foo/__init__.py, not foo/bar.py">grahamd at dscpl.com.au
       </A><BR>
    <I>Sat Oct 15 21:06:15 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="019286.html">[mod_python] mod_python imports foo/__init__.py, not foo/bar.py
</A></li>
        <LI>Next message: <A HREF="019289.html">[mod_python] RE: help in windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19288">[ date ]</a>
              <a href="thread.html#19288">[ thread ]</a>
              <a href="subject.html#19288">[ subject ]</a>
              <a href="author.html#19288">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 16/10/2005, at 10:24 AM, Fabiano Sidler wrote:

&gt;<i> Wow, what a fast answer!
</I>&gt;<i>
</I>&gt;<i> Graham Dumpleton wrote:
</I>&gt;&gt;<i>    What If I Have a Module and a Package With The Same Name?
</I>&gt;<i>
</I>&gt;<i> No, I have:
</I>&gt;<i>  foobar.py
</I>&gt;<i>  dir/foobar.py
</I>&gt;<i> which is surely inapt, but these two modules aren't imported to the 
</I>&gt;<i> same
</I>&gt;<i> script at the same time. And right now I found out that top-level 
</I>&gt;<i> modules
</I>&gt;<i> can be imported without problems (i.e. foobar).
</I>
Sorry, perhaps misread your question, the way you expressed the problem
was a bit confusing, so thought you were saying it was importing
foo/bar/__init__.py instead of foo/bar.py, which would be the package
import precedence rule coming into play.

Your original question is as below, perhaps you can clarify further what
the actual problem is, describing the context you are seeing it in. Have
mentioned a few points though.

&gt;<i> When I try importing a module 'foo.bar', mod_python imports 
</I>&gt;<i> foo.__init__.py
</I>&gt;<i> instead of foo.bar! Why so?
</I>
You say importing &quot;foo.bar&quot;. Was this as:

   import foo.bar

If it is and &quot;foo&quot; is a package, Python will first import the file:

   foo/__init__.py

Having done that it will then import the file:

   foo/bar.py

It has to download packages starting at the root like this even though
you are after a subcomponent only. After the import, you could access
both the &quot;foo&quot; and &quot;foo.bar&quot; modules.

   foo.__dict__
   foor.bar.__dict__

Note that this presumes &quot;bar&quot; as a subcomponent of &quot;foo&quot; is in turn a
module. If it wasn't and &quot;foo.bar&quot; is something else, there should have
been an import error.

The linked document talks about how packages are loaded in this way.

Now in your followup you said:

&gt;<i> No, I have:
</I>&gt;<i>  foobar.py
</I>&gt;<i>  dir/foobar.py
</I>
This has just got me more confused about what the problem is as you are
mentioning files which would not be associated with &quot;foo.bar&quot;. If I am
to make assumptions and assume that you are using mod_python.publisher
I might guess that you are running up against bug:

   <A HREF="http://issues.apache.org/jira/browse/MODPYTHON-9">http://issues.apache.org/jira/browse/MODPYTHON-9</A>

This is where once you have access &quot;foobar&quot; in the subdirectory, it does
not reload &quot;foobar&quot; from the parent properly. This is fixed in 
mod_python
version 3.2.

Anyway, sorry again for confusion, was trying to be helpful and provide
some help on what was an unclear problem description. You might want to
try and be clearer about the problem then I might be able to give a
sensible answer. ;-)

Graham

</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019286.html">[mod_python] mod_python imports foo/__init__.py, not foo/bar.py
</A></li>
	<LI>Next message: <A HREF="019289.html">[mod_python] RE: help in windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19288">[ date ]</a>
              <a href="thread.html#19288">[ thread ]</a>
              <a href="subject.html#19288">[ subject ]</a>
              <a href="author.html#19288">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
