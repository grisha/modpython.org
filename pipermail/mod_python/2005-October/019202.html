<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] greetings and configuration issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20greetings%20and%20configuration%20issue&In-Reply-To=OF8210393A.3CE7851E-ON87257092.005EDDC9-86257092.0063833E%40us.ibm.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019201.html">
   <LINK REL="Next"  HREF="019204.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] greetings and configuration issue</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Nicolas Lehuen</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20greetings%20and%20configuration%20issue&In-Reply-To=OF8210393A.3CE7851E-ON87257092.005EDDC9-86257092.0063833E%40us.ibm.com"
       TITLE="[mod_python] greetings and configuration issue">nicolas.lehuen at gmail.com
       </A><BR>
    <I>Thu Oct  6 14:35:06 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="019201.html">[mod_python] greetings and configuration issue
</A></li>
        <LI>Next message: <A HREF="019204.html">[mod_python] greetings and configuration issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19202">[ date ]</a>
              <a href="thread.html#19202">[ thread ]</a>
              <a href="subject.html#19202">[ subject ]</a>
              <a href="author.html#19202">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Ken,

Unfortunately for a lot of mod_python beginners, it is not clear why the
mptest handler CANNOT be used directly by the publisher handler.

First of all, try to have the publisher running as described here :
<A HREF="http://www.modpython.org/live/current/doc-html/tut-pub.html">http://www.modpython.org/live/current/doc-html/tut-pub.html</A>

Then, you'll understand that even if the publisher is correctly configured,
if you call /mod_python/mptest.py, then the publisher handler will find the
mptest module but NOT an index(req) function inside... You'll have to call
/mod_python/mptest.py/handler to specify the function to call (or
rename handler
to index) and begin to solve your 404 problem.

Last, but not least, handlers are supposed to write on the request object
and return a status value (hence the return apache.OK), whereas the return
value of published functions is the data you want to send back to the client
(though you can also write on the request object to make things more
interesting).

To sum up, handlers are the lowest API of mod_python, and the publisher is
just a handler which has its own system for publishing, which somewhat
resembles the handler system, but with enough differences to prevent the two
from being swappable at will... We know it's quite confusing for a newbie,
but now that there are users for the two layers, we can't unify them :).

Regards,
Nicolas

2005/10/6, Ken Bradshaw &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">bradshak at us.ibm.com</A>&gt;:
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hello All,
</I>&gt;<i> I've recently taken an interest in python and mod_python in particular.
</I>For
&gt;<i> the past two years or so I've been developing enterprise web apps in j2ee
</I>&gt;<i> with WebSphere Applications Server and Portal Server, so I'm pretty used
</I>to
&gt;<i> pouring over documentation when configuration issues arise. Unfortunately,
</I>I
&gt;<i> haven't found a solution to my problem regarding the PythonHandler
</I>&gt;<i> mod_python.publisher. Here's a brief synopsis of my environment and
</I>problem.
&gt;<i>
</I>&gt;<i> Environment:
</I>&gt;<i>
</I>&gt;<i> I just used the standard packages provided by apt-get.
</I>&gt;<i>
</I>&gt;<i> Debian 3.1 stable
</I>&gt;<i> apache 2.0.54
</I>&gt;<i> mod_python 3.1.3
</I>&gt;<i> Python 2.3.5
</I>&gt;<i>
</I>&gt;<i> Configuration:
</I>&gt;<i>
</I>&gt;<i> file: /etc/apache2/sites-available/default
</I>&gt;<i>
</I>&gt;<i> &lt;Directory /var/www/mod_python&gt;
</I>&gt;<i> AllowOverride FileInfo
</I>&gt;<i> &lt;/Directory&gt;
</I>&gt;<i>
</I>&gt;<i> --for whatever reason I had to add this to get the .htaccess to work.
</I>&gt;<i>
</I>&gt;<i> file: /var/www/mod_python/.htaccess
</I>&gt;<i>
</I>&gt;<i> AddHandler python-program .py .psp
</I>&gt;<i> PythonHandler mptest
</I>&gt;<i> #PythonHandler mod_python.publisher | .py
</I>&gt;<i> PythonHandler mod_python.psp | .psp
</I>&gt;<i> PythonDebug On
</I>&gt;<i>
</I>&gt;<i> file: /var/www/mod_python/mptest.py
</I>&gt;<i>
</I>&gt;<i> from mod_python import apache
</I>&gt;<i>
</I>&gt;<i> def handler(req):
</I>&gt;<i> req.content_type=&quot;text/html&quot;
</I>&gt;<i> req.write(&quot;&lt;html&gt;&lt;body&gt;&quot;)
</I>&gt;<i> req.write(&quot;Hello World!&quot;)
</I>&gt;<i> req.write(&quot;&lt;/body&gt;&lt;/html&gt;&quot;)
</I>&gt;<i> return apache.OK
</I>&gt;<i>
</I>&gt;<i> Problem:
</I>&gt;<i>
</I>&gt;<i> With the .htaccess configured as above, mptest.py works correctly when I
</I>&gt;<i> point the browser to <A HREF="http://localhost/mod_python/mptest">http://localhost/mod_python/mptest</A> and
</I>&gt;<i> prints the Hello World!
</I>&gt;<i>
</I>&gt;<i> I comment line 2 of the .htaccess and uncomment line 3, and the browser
</I>&gt;<i> reports a 404 Error stating that The requested URL /mod_python/mptest.py
</I>was
&gt;<i> not found on this server(note that the URL remained the same in the
</I>&gt;<i> browser). I also find it interesting to note that in either configuration,
</I>&gt;<i> the PythonHandler mod_python.psp functions correctly, and the
</I>&gt;<i> apache2/access.log and error.log report nothing more than a 404 error.
</I>&gt;<i>
</I>&gt;<i> Now I thought about just removing the mod_python.publisher altogether and
</I>&gt;<i> using multiple Python handlers for the .py files, but the implementation
</I>&gt;<i> failed for some reason. My plan was to make an entry for each .py file in
</I>&gt;<i> the same way you would make an entry for every servlet in a web.xml file.
</I>It
&gt;<i> seems as though no matter where or in what order I put the PythonHandler
</I>&gt;<i> lines in, if I make a call to one of them, all of them are executed.
</I>&gt;<i>
</I>&gt;<i> This I assume, means that I really have to have a mod_python.publisher
</I>&gt;<i> working. Any help would be greatly appreciate.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Ken Bradshaw
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20051006/d30a7f85/attachment.html">http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20051006/d30a7f85/attachment.html</A>
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019201.html">[mod_python] greetings and configuration issue
</A></li>
	<LI>Next message: <A HREF="019204.html">[mod_python] greetings and configuration issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19202">[ date ]</a>
              <a href="thread.html#19202">[ thread ]</a>
              <a href="subject.html#19202">[ subject ]</a>
              <a href="author.html#19202">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
