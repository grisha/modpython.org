<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Unable to import modules in subdirs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Unable%20to%20import%20modules%20in%20subdirs&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019438.html">
   <LINK REL="Next"  HREF="019440.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Unable to import modules in subdirs</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Unable%20to%20import%20modules%20in%20subdirs&In-Reply-To="
       TITLE="[mod_python] Unable to import modules in subdirs">grahamd at dscpl.com.au
       </A><BR>
    <I>Thu Oct 27 21:40:04 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="019438.html">[mod_python] Unable to import modules in subdirs
</A></li>
        <LI>Next message: <A HREF="019440.html">[mod_python] Unable to import modules in subdirs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19439">[ date ]</a>
              <a href="thread.html#19439">[ thread ]</a>
              <a href="subject.html#19439">[ subject ]</a>
              <a href="author.html#19439">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Brandon N wrote ..
&gt;<i> I've checked out Vampire, and it would seem to be exactly that which I
</I>&gt;<i> desire (after only a few minutes of experimentation at least). Does one
</I>&gt;<i> typically include their .py files with this setup in the public directory
</I>&gt;<i> (with indexing and such disabled, naturally)? Or is there a way to reference
</I>&gt;<i> files outside of the public system?
</I>
What do you mean by files? Do you mean the .py files which contain the
handlers or other Python helper modules, static files etc?

In terms of how most mod_python extensions work, eg, Vampire,
mod_python.publisher etc, they rely on the fact that Apache performs the
mapping of URL to a physical file in the filesystem. Ie., they work out
what to do based on what Apache has set req.filename to. In order for
Apache to make this determination, the .py files must be in the public
directories that Apache is managing. Note though that this doesn't
mean they have to be physically under the main Apache document
root as you can use the Alias directive or symlinks and the FollowSymLinks
directive to locate them in different places but still appear under the public
URL namespace.

Anyway, if you can be clearer about what you mean, can possibly give
a better answer. :-)

Graham

&gt;<i> Thanks to the both of you with your help. It's cleared up a great deal
</I>&gt;<i> for
</I>&gt;<i> me.
</I>&gt;<i> 
</I>&gt;<i> Cheers!
</I>&gt;<i> 
</I>&gt;<i> On 10/27/05, Graham Dumpleton &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">grahamd at dscpl.com.au</A>&gt; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Jorey Bump wrote ..
</I>&gt;<i> &gt; &gt; Brandon N wrote:
</I>&gt;<i> &gt; &gt; &gt; A) Is it requestHandler's job to determine which file was requested
</I>&gt;<i> &gt; and
</I>&gt;<i> &gt; &gt; &gt; respond accordingly (via the request's .filename?) with a switch
</I>&gt;<i> &gt; &gt; &gt; construct or equivalent?
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Yes and no. Apache's already passed the file to the handler based on
</I>&gt;<i> its
</I>&gt;<i> &gt; &gt; extension, presence in a directory, or other criteria. The developer
</I>&gt;<i> of
</I>&gt;<i> &gt; &gt; the handler gets to decide what the handler does with *whatever* is
</I>&gt;<i> &gt; &gt; passed to it. Some assume it will contain only valid Python code and
</I>&gt;<i> &gt; &gt; process it as such (mod_python.publisher, for example). Some might
</I>&gt;<i> want
</I>&gt;<i> &gt; &gt; to process proprietary or other file formats using python (you might
</I>&gt;<i> &gt; &gt; make a handler to display Word files, for example), but remain agnostic
</I>&gt;<i> &gt; &gt; about the actual filename or extension. But there's no reason why your
</I>&gt;<i> &gt; &gt; handler can't branch according to the file extension (which is what
</I>&gt;<i> &gt; &gt; Graham's Vampire does, if I'm not mistaken).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; If you are coming from a PHP background where each URL essentially
</I>&gt;<i> &gt; maps to a distinct file, Vampire may well be a good starting point as
</I>&gt;<i> it
</I>&gt;<i> &gt; works in a similar way at it most basic level.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thus, where in PHP you might have:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; index.php # URL -&gt; /index.php
</I>&gt;<i> &gt; search.php # URL -&gt; /search.php
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Vampire would similarly have separate files for each resource, although
</I>&gt;<i> &gt; in Vampire it is the name of the handler within the file which dictates
</I>&gt;<i> &gt; what extension the URL needs to have:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; index.py
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; def handler(req): ... # /index
</I>&gt;<i> &gt; def handler_html(req): ... # /index.html
</I>&gt;<i> &gt; def handler_php(req): ... # /index.php (Yes, pretend we are PHP when
</I>&gt;<i> we
</I>&gt;<i> &gt; aren't).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; search.py
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; def handler(req): ... # /search
</I>&gt;<i> &gt; def handler_html(req): ... # /search.html
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thus, if you want to write your code in the form of basic handlers but
</I>&gt;<i> a
</I>&gt;<i> &gt; distinct handler for each resource, the basic dispatch mechanism of
</I>&gt;<i> &gt; Vampire is going to allow you to get started quicker.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Another alternative as Jorey pointed out is mod_python.publisher,
</I>&gt;<i> &gt; however it doesn't allow you to as easily dictate use of multiple
</I>&gt;<i> &gt; different extension types used on URLs nor is it necessarily as easy
</I>&gt;<i> to
</I>&gt;<i> &gt; mix static files in the same directory.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; For a further basic introduction to Vampire, see:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; <A HREF="http://www.dscpl.com.au/projects/vampire/articles/vampire-001.html">http://www.dscpl.com.au/projects/vampire/articles/vampire-001.html</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Graham
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mod_python mailing list
</I>&gt;<i> &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> &gt;
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019438.html">[mod_python] Unable to import modules in subdirs
</A></li>
	<LI>Next message: <A HREF="019440.html">[mod_python] Unable to import modules in subdirs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19439">[ date ]</a>
              <a href="thread.html#19439">[ thread ]</a>
              <a href="subject.html#19439">[ subject ]</a>
              <a href="author.html#19439">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
