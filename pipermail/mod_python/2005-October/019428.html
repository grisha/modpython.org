<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] onunload ie mod_python
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20onunload%20ie%20mod_python&In-Reply-To=435FE7BD.5020007%40dd.revealed.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019422.html">
   <LINK REL="Next"  HREF="019429.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] onunload ie mod_python</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20onunload%20ie%20mod_python&In-Reply-To=435FE7BD.5020007%40dd.revealed.net"
       TITLE="[mod_python] onunload ie mod_python">grahamd at dscpl.com.au
       </A><BR>
    <I>Thu Oct 27 06:03:12 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="019422.html">[mod_python] onunload ie mod_python
</A></li>
        <LI>Next message: <A HREF="019429.html">[mod_python] onunload ie mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19428">[ date ]</a>
              <a href="thread.html#19428">[ thread ]</a>
              <a href="subject.html#19428">[ subject ]</a>
              <a href="author.html#19428">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 27/10/2005, at 6:31 AM, Nick wrote:

&gt;<i> See also  
</I>&gt;<i> <A HREF="http://developer.apple.com/internet/webcontent/xmlhttpreq.html">http://developer.apple.com/internet/webcontent/xmlhttpreq.html</A> for  
</I>&gt;<i> another solution (there are many resources for this information, but I  
</I>&gt;<i> like that one best).
</I>&gt;<i>
</I>&gt;<i> SimpleXMLRPCServer is a standard module in Python, and I don't think  
</I>&gt;<i> it's as complex as you might think, but the above solution might yield  
</I>&gt;<i> quicker results for you.
</I>
As far as integrating XML-RPC into mod_python, you are possibly better
of using the xmlrpclib.dumps() and xmlrpclib.loads() functions directly.
 From memory this gives better control over handling errors. At least
I know I had a good reason at the time which I can't think of right now.
Possibly because overriding SimpleXmlRpcServer didn't provide a good
way of returning a 404 when function didn't exist.

For an example of using xmlrpclib module direct, see serviceRequest()
function in code file at:

   <A HREF="http://svn.dscpl.com.au/vampire/trunk/software/vampire/xmlrpc.py">http://svn.dscpl.com.au/vampire/trunk/software/vampire/xmlrpc.py</A>

This is brief, but leaves dispatch to a particular function up to
a callback. Mapping partial URLs below a specific point in URL
hierarchy is a bit more tricky to get right correctly, especially
avoiding exposing Python internals that should be hidden.

The XML-RPC service wrapper object provides a simple way of doing
this, eg:

    
<A HREF="http://www.dscpl.com.au/projects/vampire/articles/vampire">http://www.dscpl.com.au/projects/vampire/articles/vampire</A> 
-001.html#implementing-web-services

Where mod_python is a bit of a pain is that a lot of people use
mod_python.publisher and integrating an XML-RPC service against a
specific published resource when using mod_python.publisher can't
be done due to a limitation in mod_python.publisher. See:

   <A HREF="http://issues.apache.org/jira/browse/MODPYTHON-29">http://issues.apache.org/jira/browse/MODPYTHON-29</A>

In the Vampire version of publisher where this problem is fixed, one
can use the vampire.Service() wrapper in conjunction with published
functions. For example, you might have a published module with:

   class _Object:

     def method1(self):
       return &quot;method1&quot;

     def method2(self,req):
       return &quot;method2&quot;

     def method3(self,req,arg):
       return &quot;method3&quot;

   object = _Object()

   object_as_xmlrpc = vampire.Service(form)

Thus URL &quot;object/method1&quot;, &quot;object/method2&quot; and &quot;object/method3&quot; act
like normal published functions with form arguments as appropriate.
Use the URL &quot;object_as_xmlrpc/method1&quot;, etc, then it interprets the
request as an XML-RPC call, with the target being the same functions
as also accessible as standard GET/POST requests. This just can't
be done with mod_python.publisher as it stands as it doesn't pay
attention to content type and only interpret POST requests as form
requests when it is actually one. Ie., at the moment it would try
and consume the content of the XML-RPC request as a form post.

Anyway, enough ranting about it how it would be nice to see this
aspect of mod_python.publisher fixed. At least i don't believe it
is fixed in 3.2. :-)

That all said, even if XML-RPC is easy to implement on the server
side with mod_python, I would probably suggest that when he says
it isn't easy, it refers more to the client side in the browser.

Graham


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019422.html">[mod_python] onunload ie mod_python
</A></li>
	<LI>Next message: <A HREF="019429.html">[mod_python] onunload ie mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19428">[ date ]</a>
              <a href="thread.html#19428">[ thread ]</a>
              <a href="subject.html#19428">[ subject ]</a>
              <a href="author.html#19428">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
