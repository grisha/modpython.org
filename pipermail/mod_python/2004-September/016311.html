<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Questions on _call_ with mp servlets and python
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Questions%20on%20_call_%20with%20mp%20servlets%20and%20python&In-Reply-To=20040902192108.87790.qmail%40web41314.mail.yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016310.html">
   <LINK REL="Next"  HREF="016333.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Questions on _call_ with mp servlets and python</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Vinj Vinj</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Questions%20on%20_call_%20with%20mp%20servlets%20and%20python&In-Reply-To=20040902192108.87790.qmail%40web41314.mail.yahoo.com"
       TITLE="[mod_python] Questions on _call_ with mp servlets and python">vinjvinj at yahoo.com
       </A><BR>
    <I>Thu Sep  2 14:19:16 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="016310.html">[mod_python] Questions on _call_ with mp servlets and python
</A></li>
        <LI>Next message: <A HREF="016333.html">[mod_python] Questions on _call_ with mp servlets and python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16311">[ date ]</a>
              <a href="thread.html#16311">[ thread ]</a>
              <a href="subject.html#16311">[ subject ]</a>
              <a href="author.html#16311">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I figured out a way to do this, but I'm not sure it is
too elegant:

Have your output go to a string in your _call_
do_some_function()

so replace self.write with self.result.append

and in your write_content function have the following:

self.writeln(&quot;&quot;.join(self.result))

Also does anyone know how to redirect the current
request to another servlet so that the current req
object is kept intact. The problem in some more
details is as follows. I have an application which
checks to see if a user is logged in through the
session. However, if the user is not logged in I want
to redirect to the login servlet with the error
message sent as part of the req object. 

I can do that by /Login?err_msg=&quot;You have to be logged
in&quot; however then anyone can send messages to my login
screen which get displayed on the return. I'd rather
have someway (secure) of passing the err_msg
internally. 


--- Vinj Vinj &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">vinjvinj at yahoo.com</A>&gt; wrote:

&gt;<i> First of all thank you for providing mpservlet. I
</I>&gt;<i> ,like many people, have used zope, quxiote, and
</I>&gt;<i> webware and have finally found mpservlet which is
</I>&gt;<i> exactly what I need. I'm trying to use _call_ but
</I>&gt;<i> have
</I>&gt;<i> some questions suggestions. My site has a yahoo like
</I>&gt;<i> interface which has a lot of links which perform
</I>&gt;<i> actions. These actions(links) go thorugh http get. 
</I>&gt;<i> 
</I>&gt;<i> I changed the repsond so that the servlet looks for
</I>&gt;<i> the _call_ form variable function gets called even
</I>&gt;<i> if
</I>&gt;<i> it comes from a get request. 
</I>&gt;<i> 
</I>&gt;<i> The second thing I would like to have is _call_
</I>&gt;<i> function just be called for generating the content.
</I>&gt;<i> So
</I>&gt;<i> in effect if I subclass HTMLPage and use the _call_
</I>&gt;<i> functionality my header and nav and footer functions
</I>&gt;<i> don't get called. This seems strange to since almost
</I>&gt;<i> every action would have to generate some content.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Thanks!
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i>
</I><A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
&gt;<i> 
</I>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016310.html">[mod_python] Questions on _call_ with mp servlets and python
</A></li>
	<LI>Next message: <A HREF="016333.html">[mod_python] Questions on _call_ with mp servlets and python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16311">[ date ]</a>
              <a href="thread.html#16311">[ thread ]</a>
              <a href="subject.html#16311">[ subject ]</a>
              <a href="author.html#16311">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
