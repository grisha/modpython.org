<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] how do import work?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20how%20do%20import%20work%3F&In-Reply-To=1095365309.9167.80.camel%40lapbob">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016446.html">
   <LINK REL="Next"  HREF="016459.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] how do import work?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Chris Curvey</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20how%20do%20import%20work%3F&In-Reply-To=1095365309.9167.80.camel%40lapbob"
       TITLE="[mod_python] how do import work?">ccurvey at earthlink.net
       </A><BR>
    <I>Thu Sep 16 20:15:19 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="016446.html">[mod_python] how do import work?
</A></li>
        <LI>Next message: <A HREF="016459.html">[mod_python] how do import work?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16449">[ date ]</a>
              <a href="thread.html#16449">[ thread ]</a>
              <a href="subject.html#16449">[ subject ]</a>
              <a href="author.html#16449">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I think so, given the information in 
<A HREF="http://modpython.org/FAQ/faqw.py?req=show&amp;file=faq03.001.htp">http://modpython.org/FAQ/faqw.py?req=show&amp;file=faq03.001.htp</A>

I'm (almost) positive that if you're using the prefork MPM (which uses a 
separate, single-threaded process for each request), each OS process 
will have it's own context (see <A HREF="http://httpd.apache.org/docs-2.0/mpm.html">http://httpd.apache.org/docs-2.0/mpm.html</A>).

I have also learned that objects in a context stay alive between 
requests, so something like this (using mpservlets)

class myhandler(HTMLPage):
    def  __init__(self):
        self.messages = []

    def add_message(self):
         self.messages.append(&quot;a new message&quot;)

will cause self.messages to grow and grow and grow as multiple requests 
hit add_message.  And of course, you can't ever count on the same OS 
process serving the same client over and over.  (This makes sense to me, 
because one of the features of mod_python is that classes get pulled 
into memory once and then don't need to be re-used. )

Of course, there's a possibility that I'm totally off base here, so any 
corrections would be appreciated.

Craig Warren wrote:

&gt;<i>I have read the documentation, but I have not found any place that says
</I>&gt;<i>how imports work.  I have written a previous email about this, but if I
</I>&gt;<i>have a handler that imports another file, does that imported file get
</I>&gt;<i>imported for every thread?  I can print out the interpreter name and it
</I>&gt;<i>is using the same interpreter, but every thread seems to have it's own
</I>&gt;<i>context.  Is this the way it is supposed to work?
</I>&gt;<i>
</I>&gt;<i>Thanks,
</I>&gt;<i>
</I>&gt;<i>Craig Warren
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016446.html">[mod_python] how do import work?
</A></li>
	<LI>Next message: <A HREF="016459.html">[mod_python] how do import work?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16449">[ date ]</a>
              <a href="thread.html#16449">[ thread ]</a>
              <a href="subject.html#16449">[ subject ]</a>
              <a href="author.html#16449">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
