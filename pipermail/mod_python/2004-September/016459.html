<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] how do import work?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20how%20do%20import%20work%3F&In-Reply-To=414A1E87.8000307%40earthlink.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016449.html">
   <LINK REL="Next"  HREF="016448.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] how do import work?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Craig Warren</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20how%20do%20import%20work%3F&In-Reply-To=414A1E87.8000307%40earthlink.net"
       TITLE="[mod_python] how do import work?">craig.warren at encorp.com
       </A><BR>
    <I>Fri Sep 17 10:40:43 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="016449.html">[mod_python] how do import work?
</A></li>
        <LI>Next message: <A HREF="016448.html">[mod_python] Detecting http vs. https
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16459">[ date ]</a>
              <a href="thread.html#16459">[ thread ]</a>
              <a href="subject.html#16459">[ subject ]</a>
              <a href="author.html#16459">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for the info, this is what I have been experiencing. Each
&quot;thread&quot; has its own context, so if you set a variable in the module, it
will stay alive between requests, but might be different between threads
that serve the requests.  This is fine, I am just trying to understand
how all this works.  

So far I really like how this all works and it seems to work pretty
well.  The only thing I think could use a little rework is when a psp
page includes a file, if you modify the included file the main file
doesn't update with the changes.  You have to modify the main file to
see the changes.  It would be nice if you changed the included file and
the changes be seen in the file that included it.  Not that big of deal,
you just have to write a little script that touches all the file so then
it reloads the main file.

Thanks again,
Craig
   


 On Thu, 2004-09-16 at 17:15, Chris Curvey wrote:
&gt;<i> I think so, given the information in 
</I>&gt;<i> <A HREF="http://modpython.org/FAQ/faqw.py?req=show&amp;file=faq03.001.htp">http://modpython.org/FAQ/faqw.py?req=show&amp;file=faq03.001.htp</A>
</I>&gt;<i> 
</I>&gt;<i> I'm (almost) positive that if you're using the prefork MPM (which uses a 
</I>&gt;<i> separate, single-threaded process for each request), each OS process 
</I>&gt;<i> will have it's own context (see <A HREF="http://httpd.apache.org/docs-2.0/mpm.html">http://httpd.apache.org/docs-2.0/mpm.html</A>).
</I>&gt;<i> 
</I>&gt;<i> I have also learned that objects in a context stay alive between 
</I>&gt;<i> requests, so something like this (using mpservlets)
</I>&gt;<i> 
</I>&gt;<i> class myhandler(HTMLPage):
</I>&gt;<i>     def  __init__(self):
</I>&gt;<i>         self.messages = []
</I>&gt;<i> 
</I>&gt;<i>     def add_message(self):
</I>&gt;<i>          self.messages.append(&quot;a new message&quot;)
</I>&gt;<i> 
</I>&gt;<i> will cause self.messages to grow and grow and grow as multiple requests 
</I>&gt;<i> hit add_message.  And of course, you can't ever count on the same OS 
</I>&gt;<i> process serving the same client over and over.  (This makes sense to me, 
</I>&gt;<i> because one of the features of mod_python is that classes get pulled 
</I>&gt;<i> into memory once and then don't need to be re-used. )
</I>&gt;<i> 
</I>&gt;<i> Of course, there's a possibility that I'm totally off base here, so any 
</I>&gt;<i> corrections would be appreciated.
</I>&gt;<i> 
</I>&gt;<i> Craig Warren wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt;I have read the documentation, but I have not found any place that says
</I>&gt;<i> &gt;how imports work.  I have written a previous email about this, but if I
</I>&gt;<i> &gt;have a handler that imports another file, does that imported file get
</I>&gt;<i> &gt;imported for every thread?  I can print out the interpreter name and it
</I>&gt;<i> &gt;is using the same interpreter, but every thread seems to have it's own
</I>&gt;<i> &gt;context.  Is this the way it is supposed to work?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Thanks,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Craig Warren
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;  
</I>&gt;<i> &gt;
</I>-- 
Craig Warren
Senior Programmer	
Encorp
<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">craig.warren at encorp.com</A>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016449.html">[mod_python] how do import work?
</A></li>
	<LI>Next message: <A HREF="016448.html">[mod_python] Detecting http vs. https
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16459">[ date ]</a>
              <a href="thread.html#16459">[ thread ]</a>
              <a href="subject.html#16459">[ subject ]</a>
              <a href="author.html#16459">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
