<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Modules and scoping
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Modules%20and%20scoping&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016421.html">
   <LINK REL="Next"  HREF="016416.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Modules and scoping</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Tobiah</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Modules%20and%20scoping&In-Reply-To="
       TITLE="[mod_python] Modules and scoping">toby at rcsreg.com
       </A><BR>
    <I>Fri Sep 10 04:53:47 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="016421.html">[mod_python] Directory containing PythonHandler directive.
</A></li>
        <LI>Next message: <A HREF="016416.html">[mod_python] errordocument suppression?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16415">[ date ]</a>
              <a href="thread.html#16415">[ thread ]</a>
              <a href="subject.html#16415">[ subject ]</a>
              <a href="author.html#16415">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>With PHP, I used to simply 'include()' sections of code to
get the code into different files.  Basically, all of the files
shared the same namespace, and I used a few global vars to tie
everything together.

No I'm tring to understand how to use the separate namespaces
of imported modules.  My web app has certain things, like a
user's progress through the app, stuff in his cart, his ID
number, the database link etc... that almost every module
needs to have access to.  What I have done is to make a wrapper
object, stuffed the req object into it, and pass that around to
just about every class constructor or as an argument to a function
call.  Does this seem reasonable, or am I missing the point.

Another issue is the import path.  I am building the app
in my regular web space using the Publisher handler.  The
publisher seems to wake up with some other working directory,
and so does not see modules in the same directory as index.py.
I am choosing not to use parts of the URL to index into module
files... all requests will be to index.py, and I will conditionally
import the appropriate content generating modules based on
context.

So, I modified sys.path, after examining the req object to find the
script location.  But it seems that I have to do this for every
module that imports other modules.  Does that seem reasonable?
I hope that I am way off of the mark with my method, and that
someone can enlighten me.

Thanks,

Tobiah
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016421.html">[mod_python] Directory containing PythonHandler directive.
</A></li>
	<LI>Next message: <A HREF="016416.html">[mod_python] errordocument suppression?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16415">[ date ]</a>
              <a href="thread.html#16415">[ thread ]</a>
              <a href="subject.html#16415">[ subject ]</a>
              <a href="author.html#16415">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
