From s13361562 at bach.sun.ac.za  Tue Jun  4 19:17:01 2002
From: s13361562 at bach.sun.ac.za (Hugo van der Merwe)
Date: Fri Jan  9 21:46:47 2004
Subject: [mod_python] publisher bugs / "conflicts" with other handlers
Message-ID: <20020604171701.GA11253@vervet.localnet>

Hello,

After some help from the list (esp Dustin Mitchell, thanks), I've sorted
out a lot of what I want to do. One last problem I have is that it
appears a TransHandler has a larger job than I want it to have. I get
404's when my TransHandler simply returns apache.DECLINED. I just want
the *usual* stuff to happen. It is apparent that my TransHandler is
overriding something, that is otherwise executed. How do I still get it
executed?

This part of the publisher is what is returning HTTP_NOT_FOUND:

    # get the path PATH_INFO (everthing after script)
    if not _req.subprocess_env.has_key("PATH_INFO"):
        raise apache.SERVER_RETURN, apache.HTTP_NOT_FOUND

subprocess_env does not have the "PATH_INFO" key at this point if I use
my own TransHandler. (All this handler really does is returns
apache.DECLINED - i.e. it is trying it's best to do "nothing" - for
debugging purposes of course ;)

With a normal request - i.e. no TransHandler defined, subprocess_env
contains:

[Tue Jun  4 18:46:37 2002] [error] ['UNIQUE_ID', 'GATEWAY_INTERFACE',
'SERVER_PROTOCOL', 'REQUEST_METHOD', 'QUERY_STRING', 'REQUEST_URI',
'SCRIPT_NAME', 'PATH_INFO', 'PATH_TRANSLATED']

subprocess_env when I have a TransHandler that simply returns
apache.DECLINED:

[Tue Jun  4 18:48:50 2002] [error] ['UNIQUE_ID', 'GATEWAY_INTERFACE',
'SERVER_PROTOCOL', 'REQUEST_METHOD', 'QUERY_STRING', 'REQUEST_URI',
'SCRIPT_NAME']

It's missing PATH_INFO and PATH_TRANSLATED. I do not want to set these
up myself: I don't know how... don't know exactly what must happen to
these. Can't I get the "default apache TransHandler" to take over this
job in the case where I don't want to do it?

Why does the publisher not simply look at e.g. _req.uri or
_req.unparsed_uri?

Thanks,
Hugo van der Merwe

From scott.l.hathaway at lmco.com  Wed Jun  5 09:00:33 2002
From: scott.l.hathaway at lmco.com (Hathaway, Scott L)
Date: Fri Jan  9 21:46:47 2004
Subject: [mod_python] installing mod_python on windows
Message-ID: <DFA15A3E9F82D4119D8C00508BE325420AA10038@emss07m02.lmtas.lmco.com>

Hello All,

I have installed mod_python for windows and I cannot start apache.  Can
someone tell me where I went wrong?
I am using: 

Windows 2000 Pro
Apache 2.0.35
Python 2.2.1
mod_python 2.7.6

Here are the appropriate sections of my conf file:
	LoadModule python_module modules/mod_python.dll
	AddModule mod_python.c

	<Directory "d:/Data/hathasl/apache/Apache2/htdocs/python">
		AddHandler python-program .py
		PythonHandler mptest
		PythonDebug on
	</Directory>

I tried to follow the install instructions on the mod_python website.

If there is any other information that I need to supply, please let me know.

Thanks in advance...
Scott Hathaway

From vmanera at manord.com  Wed Jun  5 18:45:46 2002
From: vmanera at manord.com (Manera, Villiam)
Date: Fri Jan  9 21:46:47 2004
Subject: [mod_python] problem in file download
Message-ID: <801EB84B006ED411898D00B0D03E524712CCB3@PROXYMAIL>

Hello,

I'm trying to download a file:

client side:
<FORM METHOD="POST"
ACTION="http://sviluppo.manord.com/cgi-mpy/prova.py/printfile "
ENCTYPE="multipart/form-data" NAME="FormDati">
<center>
<INPUT TYPE="file" NAME="file1"></center>
<center>
<INPUT TYPE="submit" NAME="invia" VALUE="Invia Dati"></center>

</FORM>

when I sumitted a file mod_python give me this:

Mod_python error: "PythonHandler mod_python.publisher"

Traceback (most recent call last):

  File "C:\Program Files\Python22\Lib\mod_python\apache.py", line 193, in
Dispatch
    result = object(req)

  File "C:\Program Files\Python22\Lib\mod_python\publisher.py", line 104, in
handler
    val = File(field)

  File "C:\Program Files\Python22\Lib\mod_python\publisher.py", line 308, in
__init__
    for m in field.file.__methods__:

  File "C:\programmi\Python22\Lib\tempfile.py", line 178, in __getattr__
    a = getattr(file, name)

AttributeError: 'file' object has no attribute '__methods__'


does anyone have any idea to solve this?

Villiam


From rien at yeepa.org  Wed Jun  5 19:02:51 2002
From: rien at yeepa.org (Adrien Plisson)
Date: Fri Jan  9 21:46:47 2004
Subject: [mod_python] installing mod_python on windows
References: <DFA15A3E9F82D4119D8C00508BE325420AA10038@emss07m02.lmtas.lmco.com>
Message-ID: <002201c20cb2$d4b7c300$01000001@RANDOM>

From: "Hathaway, Scott L" <scott.l.hathaway@lmco.com>
> I have installed mod_python for windows and I cannot start apache. 

It could be very useful if you tell us what Apache says when you launch it.
thanks.

-- 
rien


From johnny.morano at vlaanderen.be  Thu Jun  6 08:46:05 2002
From: johnny.morano at vlaanderen.be (Johnny Morano)
Date: Fri Jan  9 21:46:47 2004
Subject: [mod_python] problem in file download
In-Reply-To: <801EB84B006ED411898D00B0D03E524712CCB3@PROXYMAIL>
References: <801EB84B006ED411898D00B0D03E524712CCB3@PROXYMAIL>
Message-ID: <200206060741.g567fKl05763@s001032.vlaanderen.be>

On Wednesday 05 June 2002 18:45, you wrote:
> getattr(file, name)

is this possible on windows? i thought you could only do that on UNIX 
systems... well, that's the case in php at least. please correct me if i'm 
wrong.

could you maybe show the python code for handling the upload? i've written a 
few upload scripts as well, maybe we can share them ;-)

i usually use the req object too. like:

def insertFile(req):
	form = req.form
	fileObject = form['fileInputField']
	fileData = fileObject.file.read()
	open('/some/path/name/file','wb').write(fileData)

well, this is the very simple fileUploadThing

greetz,
johnny

-- 
Johnny Morano - Linux Consultant
___________________________________________________ 
 Ministerie Vlaamse Gemeenschap                    |
 Koning Albert II-laan, 7 (610) 1210 Brussel       |
 tel: 02/5531319 mail: johnny.morano@vlaanderen.be |

From jfk at metation.com  Thu Jun  6 10:36:22 2002
From: jfk at metation.com (=?iso-8859-1?q?J=F8rgen=20Fr=F8jk=20Kj=E6rsgaard=20{Metation}?=)
Date: Fri Jan  9 21:46:47 2004
Subject: [mod_python] Getting DocumentRoot directive
Message-ID: <02060610362205.00302@grace.informaticon.dk>

Hi,

Is it somehow possible to get the DocumentRoot directive from the Apache 
configuration in mod_python. I need to be able to refer subresources relative 
to DocumentRoot in documents processed by mod_python.

thanks,

J?rgen Fr?jk Kj?rsgaard, direkt?r og systemkonsulent
Metation aps - Kystvejen 29, DK-8000 ?rhus C
Web: www.metation.com  - Tlf: +45 8625 0038 - Mobil: +45 2925 6693

From johnny.morano at vlaanderen.be  Thu Jun  6 10:37:45 2002
From: johnny.morano at vlaanderen.be (Johnny Morano)
Date: Fri Jan  9 21:46:47 2004
Subject: R: [mod_python] problem in file download
In-Reply-To: <801EB84B006ED411898D00B0D03E524712CCB5@PROXYMAIL>
References: <801EB84B006ED411898D00B0D03E524712CCB5@PROXYMAIL>
Message-ID: <200206060933.g569X0l20728@s001032.vlaanderen.be>

On Thursday 06 June 2002 09:59, you wrote:
> 	fileDaSalvare=open(salva_su,'w')
> 	fileDaSalvare.write(form['file_costi'].value)
> 	fileDaSalvare.close()
>
> but work only with text-file

indeed .... change: fileDaSalvare=open(salva_su,'w') into 
fileDaSalvare=open(salva_su, 'wb')

'wb' stands for 'write binary' and this is required for non-textfiles in 
windows.

take a look at the following script (i called it fileUpload.py):
# fileUpload.py
#
from mod_python import util
from mod_python import apache

def form():
    output = """
<html>
<body>
    <form action="insert" method="post" enctype="multipart/form-data" 
name="form">
        File: <input type="file" name="fileField"><br>
        <input type="submit">
    </form>
</body>
</html>
"""
    return output

def insert(req):
    import string
    import os

    form = req.form
    uploadDir = '/tmp/'

    if(form.has_key('fileField')):
        fileData = form['fileField'].file.read()
        filePathName = uploadDir + form['fileField'].filename
        open(filePathName, 'wb').write(fileData)
        return '<html><body>file uploaded to '+filePathName+'</body></html>'
    else:
        return '<html><body>no file to upload</body></html>'

this works... or should work.. well, it works on my pc ;-)

hope this helps

greetz
-- 
Johnny Morano - Linux Consultant
___________________________________________________ 
 Ministerie Vlaamse Gemeenschap                    |
 Koning Albert II-laan, 7 (610) 1210 Brussel       |
 tel: 02/5531319 mail: johnny.morano@vlaanderen.be |

From johnny.morano at vlaanderen.be  Thu Jun  6 12:01:27 2002
From: johnny.morano at vlaanderen.be (Johnny Morano)
Date: Fri Jan  9 21:46:47 2004
Subject: R: R: [mod_python] problem in file download
In-Reply-To: <801EB84B006ED411898D00B0D03E524712CCBB@PROXYMAIL>
References: <801EB84B006ED411898D00B0D03E524712CCBB@PROXYMAIL>
Message-ID: <200206061056.g56Aufl00893@s001032.vlaanderen.be>

On Thursday 06 June 2002 11:45, you wrote:
>
> so I thonk is a bug of mod-python on windows?
>
> I currently use mod python 2.7.6 for python 2.2 and apache 1.3

well, i use mod_python 2.7.8 compiled for python 2.1 and apache 1.3.24
maybe that is the problem

> I tryed also your suggest for cgi(wb, instead that w), but the file will be
> corrupted (not all tranfered, size of 34.4 kb transfered only:4)

well, i have no experience with windows, just linux (debian!) ;-)

> tank you for the time spent for me.

no problem, just wish that i could have helped you ...

greetz,
johnny
-- 
Johnny Morano - Linux Consultant
___________________________________________________ 
 Ministerie Vlaamse Gemeenschap                    |
 Koning Albert II-laan, 7 (610) 1210 Brussel       |
 tel: 02/5531319 mail: johnny.morano@vlaanderen.be |

From Tony_Burger at circuitcity.com  Thu Jun  6 09:54:45 2002
From: Tony_Burger at circuitcity.com (Tony_Burger@circuitcity.com)
Date: Fri Jan  9 21:46:47 2004
Subject: [mod_python] Getting DocumentRoot directive
Message-ID: <OFDFD9B21B.C9EF0515-ON85256BD0.004C4460@ccity.com>

I do something similiar by just opening the config file for read and for ..
readlines() through it until I find what I'm looking for.


From chris at vindaloo.com  Thu Jun  6 11:31:53 2002
From: chris at vindaloo.com (Christopher Sean Hilton)
Date: Fri Jan  9 21:46:47 2004
Subject: [mod_python] problem in file download
In-Reply-To: <801EB84B006ED411898D00B0D03E524712CCB3@PROXYMAIL>; from vmanera@manord.com on Wed, Jun 05, 2002 at 06:45:46PM +0200
References: <801EB84B006ED411898D00B0D03E524712CCB3@PROXYMAIL>
Message-ID: <20020606113153.B6966@moosehead.dsl.net>

On Wed, Jun 05, 2002 at 06:45:46PM +0200, Manera, Villiam wrote:
> Hello,
> 
[snip...]
> 
> AttributeError: 'file' object has no attribute '__methods__'
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ 

I had this problem too. __methods__ is not included in python 2.2 If
you downgrade your python installation to the latest 2.1.x file posts
will work.

Chris Hilton


From chris at vindaloo.com  Thu Jun  6 17:54:26 2002
From: chris at vindaloo.com (Christopher Sean Hilton)
Date: Fri Jan  9 21:46:47 2004
Subject: R: R: [mod_python] problem in file download
In-Reply-To: <200206061056.g56Aufl00893@s001032.vlaanderen.be>; from johnny.morano@vlaanderen.be on Thu, Jun 06, 2002 at 12:01:27PM +0200
References: <801EB84B006ED411898D00B0D03E524712CCBB@PROXYMAIL> <200206061056.g56Aufl00893@s001032.vlaanderen.be>
Message-ID: <20020606175426.D61986@dantooine.vindaloo.com>

On Thu, Jun 06, 2002 at 12:01:27PM +0200, Johnny Morano wrote:
> On Thursday 06 June 2002 11:45, you wrote:
> >
> > so I thonk is a bug of mod-python on windows?
> >
> > I currently use mod python 2.7.6 for python 2.2 and apache 1.3
> 
> well, i use mod_python 2.7.8 compiled for python 2.1 and apache 1.3.24
> maybe that is the problem
> 

His problem is that python 2.2 does not include the __methods__ attribute 
for classes but the publisher.py code which actually handles the file inload 
depends on it. If he downgrades from python 2.2 to python 2.1 he'll have the 
__methods__ attribute of the file class. Someone needs to address this in 
the mod_python code however:

        for m in field.file.__methods__:
            self.__dict__[m] = getattr(field.file, m)

        self.headers = field.headers
        self.filename = field.filename

doesn't work in python 2.2 because __methods__ doesn't exist. The code 
appears to be trying to make local copies of all of the methods in the 
object that gets passed to the user. I had this problem in Unix (FreeBSD) 
two weeks ago and downgrading my python from 2.2 to 2.1 solved it. A google 
search on python, __methods__, 2.1 and 2.2 will yield more information.

Chris

-- 
Chris Hilton                                 chilton-at-vindaloo-dot-com
------------------------------------------------------------------------
                "All I was doing was trying to get home from work!"
                                                 -- Rosa Parks

From dustin at ywlcs.org  Thu Jun  6 22:44:43 2002
From: dustin at ywlcs.org (Dustin Mitchell)
Date: Fri Jan  9 21:46:47 2004
Subject: R: R: [mod_python] problem in file download
In-Reply-To: <20020606175426.D61986@dantooine.vindaloo.com>
References: <801EB84B006ED411898D00B0D03E524712CCBB@PROXYMAIL> <200206061056.g56Aufl00893@s001032.vlaanderen.be> <20020606175426.D61986@dantooine.vindaloo.com>
Message-ID: <20020607034443.GB1852@eleanor.internal.ywlcs.org>

>         for m in field.file.__methods__:
>             self.__dict__[m] = getattr(field.file, m)
> 
>         self.headers = field.headers
>         self.filename = field.filename

Untested in this instance, but in similar situations the equivalent of
dir(field.file) has worked for me.  It does all the chasing up the
inheritance hierarchy necessary.

Dustin

-- 

  Dustin Mitchell
  dustin@ywlcs.org
  http://people.cs.uchicago.edu/~dustin/

From john.garberson at nexos.com  Fri Jun  7 10:54:18 2002
From: john.garberson at nexos.com (John D. Garberson)
Date: Fri Jan  9 21:46:47 2004
Subject: [mod_python] problem in file download
Message-ID: <200206070854.KAA01558@ws2.nexos.com>

Hi,

You wrote a few days back:

> 
> Hello,
> 
> I'm trying to download a file:
> 
....
....
....
a = getattr(file, name)
> 
> AttributeError: 'file' object has no attribute '__methods__'
> 
> 
> does anyone have any idea to solve this?
> 
> Villiam



Having to downgrade seems a bit extreme [;-)

I don't know much about the publisher.py module, never having used it.
But if you do this import:

------------------------------------------------------------------------

from types import BuiltinMethodType

------------------------------------------------------------------------

then this function:

------------------------------------------------------------------------

def sim_methods(obj):
    return filter(lambda s, t=obj:
           type(getattr(t, s)) == BuiltinMethodType,
                                             dir(obj))

--------------------------------------------------------------------------

works under both 2.0 and 2.2.1 (I don't have a 2.1 any more) and delivers
the list of methods that it seems you want, looking at the publisher.py
source.  If you're not a fan of the functional programming approach, then
a list comprehension:

-----------------------------------------------------------------------

def sim_methods(obj):
    return [m for m in dir(obj)
                   if type(getattr(obj, m)) == BuiltinMethodType]

-----------------------------------------------------------------------

works just as well.

You could just replace the 'for m in field.file.__methods__:'

with

'for m in sim_methods(field.file):'

Hope this helps.

John


     John Garberson                             nexos ag 
     john.garberson@nexos.com                   Frobenstrasse 66 
                                                CH-4053 Basel, Switzerland
                                                Tel. 41 61 283 55 03
                                                Fax  41 61 283 55 01


From jfk at metation.com  Fri Jun  7 11:55:17 2002
From: jfk at metation.com (=?iso-8859-1?q?J=F8rgen=20Fr=F8jk=20Kj=E6rsgaard=20{Metation}?=)
Date: Fri Jan  9 21:46:47 2004
Subject: [mod_python] Getting DocumentRoot directive
In-Reply-To: <OFDFD9B21B.C9EF0515-ON85256BD0.004C4460@ccity.com>
References: <OFDFD9B21B.C9EF0515-ON85256BD0.004C4460@ccity.com>
Message-ID: <02060711551701.00287@grace.informaticon.dk>

Torsdag  6. Juni 2002 15:54 skrev Tony_Burger@circuitcity.com:
> I do something similiar by just opening the config file for read and for ..
> readlines() through it until I find what I'm looking for.

I thought about that solution, but, it seems a bit illogical, and will 
degenerate performance a bit. I'd expect Apache to have a method to fetch 
configuration values. If so, it would be a very good thing to have in 
mod_python...

/jfk

From vmanera at manord.com  Fri Jun  7 13:04:42 2002
From: vmanera at manord.com (Manera, Villiam)
Date: Fri Jan  9 21:46:47 2004
Subject: R: R: R: [mod_python] problem in file download
Message-ID: <801EB84B006ED411898D00B0D03E524712CCC6@PROXYMAIL>

I've fixed publisher.py : 
> for m in dir(field.file) :
and now the download seams to do well, but when I attempt to read the file:
	for F in req.form.list:
			if F.name == 'file_costi':
			a=F.file.read()  <-------------this message will
showed:
Mod_python error: "PythonHandler mod_python.publisher"

Traceback (most recent call last):

  File "C:\Program Files\Python22\Lib\mod_python\apache.py", line 193, in
Dispatch
    result = object(req)

  File "C:\Program Files\Python22\Lib\mod_python\publisher.py", line 171, in
handler
    result = apply(object, (), args)

  File "e:/script/cgi/cgi-mpy\download.py", line 48, in printfile
    #doc.append(dir(req))

ValueError: I/O operation on closed file

Villiam

-----Messaggio originale-----
Da: Dustin Mitchell [mailto:dustin@ywlcs.org]
Inviato: venerd? 7 giugno 2002 5.45
A: mod_python@modpython.org
Oggetto: Re: R: R: [mod_python] problem in file download


>         for m in field.file.__methods__:
>             self.__dict__[m] = getattr(field.file, m)
> 
>         self.headers = field.headers
>         self.filename = field.filename

Untested in this instance, but in similar situations the equivalent of
dir(field.file) has worked for me.  It does all the chasing up the
inheritance hierarchy necessary.

Dustin

-- 

  Dustin Mitchell
  dustin@ywlcs.org
  http://people.cs.uchicago.edu/~dustin/
_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From vmanera at manord.com  Fri Jun  7 14:32:13 2002
From: vmanera at manord.com (Manera, Villiam)
Date: Fri Jan  9 21:46:47 2004
Subject: R: [mod_python] problem in file download
Message-ID: <801EB84B006ED411898D00B0D03E524712CCC7@PROXYMAIL>

Wow!!!!! publisher.py patched with this function work fine!!!!

class File:
    """ Like a file, but also has headers and filename
    """
    def __init__(self, field):
        # steal all the file-like methods
        #for m in field.file.__methods__:
        #for m in dir(field.file):    #dont' work
        for m in self.sim_methods(field.file):
            self.__dict__[m] = getattr(field.file, m)

        self.headers = field.headers
        self.filename = field.filename
    
    def sim_methods(self,obj):
        from types import BuiltinMethodType   #parte aggiunta
        return filter(lambda s, t=obj:
           type(getattr(t, s)) == BuiltinMethodType, dir(obj))


thanks all
Villiam
-----Messaggio originale-----
Da: John D. Garberson [mailto:john.garberson@nexos.com]
Inviato: venerd? 7 giugno 2002 10.54
A: vmanera@manord.com
Cc: Mod_python@modpython.org
Oggetto: Re: [mod_python] problem in file download


Hi,

You wrote a few days back:

> 
> Hello,
> 
> I'm trying to download a file:
> 
....
....
....
a = getattr(file, name)
> 
> AttributeError: 'file' object has no attribute '__methods__'
> 
> 
> does anyone have any idea to solve this?
> 
> Villiam



Having to downgrade seems a bit extreme [;-)

I don't know much about the publisher.py module, never having used it.
But if you do this import:

------------------------------------------------------------------------

from types import BuiltinMethodType

------------------------------------------------------------------------

then this function:

------------------------------------------------------------------------

def sim_methods(obj):
    return filter(lambda s, t=obj:
           type(getattr(t, s)) == BuiltinMethodType,
                                             dir(obj))

--------------------------------------------------------------------------

works under both 2.0 and 2.2.1 (I don't have a 2.1 any more) and delivers
the list of methods that it seems you want, looking at the publisher.py
source.  If you're not a fan of the functional programming approach, then
a list comprehension:

-----------------------------------------------------------------------

def sim_methods(obj):
    return [m for m in dir(obj)
                   if type(getattr(obj, m)) == BuiltinMethodType]

-----------------------------------------------------------------------

works just as well.

You could just replace the 'for m in field.file.__methods__:'

with

'for m in sim_methods(field.file):'

Hope this helps.

John


     John Garberson                             nexos ag 
     john.garberson@nexos.com                   Frobenstrasse 66 
                                                CH-4053 Basel, Switzerland
                                                Tel. 41 61 283 55 03
                                                Fax  41 61 283 55 01

_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From geertj at boskant.nl  Fri Jun  7 14:47:18 2002
From: geertj at boskant.nl (geertj@boskant.nl)
Date: Fri Jan  9 21:46:47 2004
Subject: [mod_python] Getting DocumentRoot directive
In-Reply-To: <02060711551701.00287@grace.informaticon.dk>; from jfk@metation.com on Fri, Jun 07, 2002 at 11:55:17AM +0200
References: <OFDFD9B21B.C9EF0515-ON85256BD0.004C4460@ccity.com> <02060711551701.00287@grace.informaticon.dk>
Message-ID: <20020607144718.A4294@vader.boskant.nl>

On Fri, Jun 07, 2002 at 11:55:17AM +0200, J?rgen Fr?jk Kj?rsgaard {Metation} wrote:
> Torsdag  6. Juni 2002 15:54 skrev Tony_Burger@circuitcity.com:
> > I do something similiar by just opening the config file for read and for ..
> > readlines() through it until I find what I'm looking for.
> 
> I thought about that solution, but, it seems a bit illogical, and will 
> degenerate performance a bit. I'd expect Apache to have a method to fetch 
> configuration values. If so, it would be a very good thing to have in 
> mod_python...

I second that! Already a couple of times that I really missed this.

Greetings,
Geert

From chris at vindaloo.com  Fri Jun  7 09:07:48 2002
From: chris at vindaloo.com (Christopher Sean Hilton)
Date: Fri Jan  9 21:46:47 2004
Subject: R: [mod_python] problem in file download
In-Reply-To: <801EB84B006ED411898D00B0D03E524712CCC7@PROXYMAIL>; from vmanera@manord.com on Fri, Jun 07, 2002 at 02:32:13PM +0200
References: <801EB84B006ED411898D00B0D03E524712CCC7@PROXYMAIL>
Message-ID: <20020607090748.A62795@dantooine.vindaloo.com>

On Fri, Jun 07, 2002 at 02:32:13PM +0200, Manera, Villiam wrote:
> Wow!!!!! publisher.py patched with this function work fine!!!!
> 
> class File:
>     """ Like a file, but also has headers and filename
>     """
>     def __init__(self, field):
>         # steal all the file-like methods
>         #for m in field.file.__methods__:
>         #for m in dir(field.file):    #dont' work
>         for m in self.sim_methods(field.file):
>             self.__dict__[m] = getattr(field.file, m)
> 
>         self.headers = field.headers
>         self.filename = field.filename
>     
>     def sim_methods(self,obj):
>         from types import BuiltinMethodType   #parte aggiunta
>         return filter(lambda s, t=obj:
>            type(getattr(t, s)) == BuiltinMethodType, dir(obj))
> 
> 

That's the way to do it. I agree that having to downgrade to 2.1 seems a bit 
extreme but the way I was looking at it the is probably not the only piece 
of obsolete code modpython. You are probably right though and it's certain 
that the patch needs to be written.

Chris
-- 
Chris Hilton                                 chilton-at-vindaloo-dot-com
------------------------------------------------------------------------
                "All I was doing was trying to get home from work!"
                                                 -- Rosa Parks

From grisha at modpython.org  Fri Jun  7 09:50:02 2002
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:46:47 2004
Subject: R: [mod_python] problem in file download
In-Reply-To: <20020607090748.A62795@dantooine.vindaloo.com>
Message-ID: <Pine.BSF.4.32.0206070948080.33843-100000@localhost>

On Fri, 7 Jun 2002, Christopher Sean Hilton wrote:

> That's the way to do it. I agree that having to downgrade to 2.1 seems a bit
> extreme but the way I was looking at it the is probably not the only piece
> of obsolete code modpython. You are probably right though and it's certain
> that the patch needs to be written.

Yes, whatever free time I have I try to spend on the 3.0 version that will
run on Apache 2.0. Probably the simplest way to tackle this one is for
someone to add the publisher patch to the FAQ, at least for the time
being.

Grisha


From chris at vindaloo.com  Fri Jun  7 10:57:52 2002
From: chris at vindaloo.com (Christopher Sean Hilton)
Date: Fri Jan  9 21:46:47 2004
Subject: R: [mod_python] problem in file download
In-Reply-To: <Pine.BSF.4.32.0206070948080.33843-100000@localhost>; from grisha@modpython.org on Fri, Jun 07, 2002 at 09:50:02AM -0400
References: <20020607090748.A62795@dantooine.vindaloo.com> <Pine.BSF.4.32.0206070948080.33843-100000@localhost>
Message-ID: <20020607105752.A63035@dantooine.vindaloo.com>

On Fri, Jun 07, 2002 at 09:50:02AM -0400, Gregory (Grisha) Trubetskoy wrote:
> 
> On Fri, 7 Jun 2002, Christopher Sean Hilton wrote:
> 
> > That's the way to do it. I agree that having to downgrade to 2.1 seems a bit
> > extreme but the way I was looking at it the is probably not the only piece
> > of obsolete code modpython. You are probably right though and it's certain
> > that the patch needs to be written.
> 
> Yes, whatever free time I have I try to spend on the 3.0 version that will
> run on Apache 2.0. Probably the simplest way to tackle this one is for
> someone to add the publisher patch to the FAQ, at least for the time
> being.

I think that you can accomplish the result that your are looking for by 
replacing foo.__methods__ with dir(foo) and callable but I'm not sure of the 
exact construction. It's a little simpler than the patch submitted but a 
bird in the hand is worth two in the bush as they say.

Chris
-- 
Chris Hilton                                 chilton-at-vindaloo-dot-com
------------------------------------------------------------------------
                "All I was doing was trying to get home from work!"
                                                 -- Rosa Parks

From rob at sportsinjuryclinic.net  Fri Jun  7 19:56:17 2002
From: rob at sportsinjuryclinic.net (Rob)
Date: Fri Jan  9 21:46:47 2004
Subject: [mod_python] Sports Injury
Message-ID: <200206071852.g57IqrC37046@eden.ispol.com>

Hi,
www.sportsinjuryclinic.net offers visitors a free 'Virtual Diagnosis' and self help information on over 100 sports related injuries.
If you think this might be of interest to your site visitors, perhaps you could link to us. We would be happy to return the link.
Rob@sportsinjuryclinic.net

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20020607/9a3a132c/attachment.htm
From alex at shop.com  Fri Jun  7 17:02:52 2002
From: alex at shop.com (S. Alexander Jacobson)
Date: Fri Jan  9 21:46:48 2004
Subject: [mod_python] Does Mod_python work w/ python 2.2?
Message-ID: <Pine.WNT.4.43.0206071659270.1068-100000@fanatic>

-Alex-

___________________________________________________________________
S. Alexander Jacobson                   i2x Media
1-212-787-1914 voice                    1-603-288-1280 fax



From chris at vindaloo.com  Fri Jun  7 17:52:49 2002
From: chris at vindaloo.com (Christopher Sean Hilton)
Date: Fri Jan  9 21:46:48 2004
Subject: [mod_python] Does Mod_python work w/ python 2.2?
In-Reply-To: <Pine.WNT.4.43.0206071659270.1068-100000@fanatic>; from alex@shop.com on Fri, Jun 07, 2002 at 05:02:52PM -0400
References: <Pine.WNT.4.43.0206071659270.1068-100000@fanatic>
Message-ID: <20020607175249.A64028@dantooine.vindaloo.com>

On Fri, Jun 07, 2002 at 05:02:52PM -0400, S. Alexander Jacobson wrote:

Some code in mod_python depends on constructions that are obsolete and gone 
in 2.2 particularly the __methods__, __members__ dictionaries from builtin 
types.

-- 
Chris Hilton                                 chilton-at-vindaloo-dot-com
------------------------------------------------------------------------
                "All I was doing was trying to get home from work!"
                                                 -- Rosa Parks

From alex at shop.com  Sat Jun  8 12:35:41 2002
From: alex at shop.com (S. Alexander Jacobson)
Date: Fri Jan  9 21:46:48 2004
Subject: [mod_python] Does Mod_python work w/ python 2.2?
In-Reply-To: <20020607175249.A64028@dantooine.vindaloo.com>
Message-ID: <Pine.WNT.4.43.0206081235160.1068-100000@fanatic>

So does that mean it won't work overall or that
some specific functionality won't work?

-Alex-

On Fri, 7 Jun 2002, Christopher Sean Hilton wrote:

> On Fri, Jun 07, 2002 at 05:02:52PM -0400, S. Alexander Jacobson wrote:
>
> Some code in mod_python depends on constructions that are obsolete and gone
> in 2.2 particularly the __methods__, __members__ dictionaries from builtin
> types.
>
> --
> Chris Hilton                                 chilton-at-vindaloo-dot-com
> ------------------------------------------------------------------------
>                 "All I was doing was trying to get home from work!"
>                                                  -- Rosa Parks
>

___________________________________________________________________
S. Alexander Jacobson                   i2x Media
1-212-787-1914 voice                    1-603-288-1280 fax



From johannes at erdfelt.com  Sat Jun  8 13:10:17 2002
From: johannes at erdfelt.com (Johannes Erdfelt)
Date: Fri Jan  9 21:46:48 2004
Subject: [mod_python] Does Mod_python work w/ python 2.2?
In-Reply-To: <Pine.WNT.4.43.0206081235160.1068-100000@fanatic>; from alex@shop.com on Sat, Jun 08, 2002 at 12:35:41PM -0400
References: <20020607175249.A64028@dantooine.vindaloo.com> <Pine.WNT.4.43.0206081235160.1068-100000@fanatic>
Message-ID: <20020608131017.L26987@sventech.com>

Some specific functionality. I've been using mod_python with python 2.2
for a couple of months now and I haven't stumbled across these problems
yet.

However, I will soon since my next project was handling uploaded files
:) Thankfully there is a patch for that now.

JE

On Sat, Jun 08, 2002, S. Alexander Jacobson <alex@shop.com> wrote:
> So does that mean it won't work overall or that
> some specific functionality won't work?
> 
> -Alex-
> 
> On Fri, 7 Jun 2002, Christopher Sean Hilton wrote:
> 
> > On Fri, Jun 07, 2002 at 05:02:52PM -0400, S. Alexander Jacobson wrote:
> >
> > Some code in mod_python depends on constructions that are obsolete and gone
> > in 2.2 particularly the __methods__, __members__ dictionaries from builtin
> > types.
> >
> > --
> > Chris Hilton                                 chilton-at-vindaloo-dot-com
> > ------------------------------------------------------------------------
> >                 "All I was doing was trying to get home from work!"
> >                                                  -- Rosa Parks
> >
> 
> ___________________________________________________________________
> S. Alexander Jacobson                   i2x Media
> 1-212-787-1914 voice                    1-603-288-1280 fax
> 
> 
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python

From dustin at ywlcs.org  Sat Jun  8 20:40:36 2002
From: dustin at ywlcs.org (Dustin Mitchell)
Date: Fri Jan  9 21:46:48 2004
Subject: [mod_python] Does Mod_python work w/ python 2.2?
In-Reply-To: <20020608131017.L26987@sventech.com>
References: <20020607175249.A64028@dantooine.vindaloo.com> <Pine.WNT.4.43.0206081235160.1068-100000@fanatic> <20020608131017.L26987@sventech.com>
Message-ID: <20020609014035.GE9104@eleanor.internal.ywlcs.org>

Specifically, the only problem so far is in a single line of the publisher
handler which is invoked only on file uploads.  So if you're (a) not using
file uploads or (b) not using publisher, you'll be fine.

Dustin

On Sat, Jun 08, 2002 at 01:10:17PM -0400, Johannes Erdfelt wrote:
> However, I will soon since my next project was handling uploaded files
> :) Thankfully there is a patch for that now.
> 
> On Sat, Jun 08, 2002, S. Alexander Jacobson <alex@shop.com> wrote:
> > So does that mean it won't work overall or that
> > some specific functionality won't work?

-- 

  Dustin Mitchell
  dustin@ywlcs.org
  http://people.cs.uchicago.edu/~dustin/

From johanfo at ohman.no  Sun Jun  9 19:15:21 2002
From: johanfo at ohman.no (=?iso-8859-1?Q?Johan_Fredrik_=D8hman?=)
Date: Fri Jan  9 21:46:48 2004
Subject: [mod_python] make_obcallback():
Message-ID: <000801c20fd9$41117c20$c167f081@matrisen>

make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.
[Sun Jun  9 19:13:08 2002] [error] [client 129.240.103.193] python_handler: make_obcallback returned no obCallBack!


What is most likely to cause this error ?

I'm running Python2.2 with latest mod_python and apache-1.3.22

--
Johan Fredrik ?hman
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20020609/f9a89c78/attachment.htm
From jeffstearns at attbi.com  Sun Jun  9 21:34:57 2002
From: jeffstearns at attbi.com (Jeff Stearns)
Date: Fri Jan  9 21:46:48 2004
Subject: [mod_python] make_obcallback():
In-Reply-To: <000801c20fd9$41117c20$c167f081@matrisen>
Message-ID: <6B2FB838-7C2B-11D6-819E-0030653DCC28@attbi.com>

I imagine that mod_python isn't in the Python search path.  Check to see 
where you installed the mod_python modules.

-jeff stearns


On Sunday, June 9, 2002, at 10:15  AM, Johan Fredrik ?hman wrote:

> make_obcallback(): could not import mod_python.apache.
> make_obcallback(): could not call init.
> [Sun Jun? 9 19:13:08 2002] [error] [client 129.240.103.193] 
> python_handler: make_obcallback returned no obCallBack!
> ?
> ?
> What is most likely to cause this error ?
> ?
> I'm running Python2.2 with latest mod_python and?apache-1.3.22
> ?
> --
> Johan Fredrik ?hman
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 837 bytes
Desc: not available
Url : http://mailman.modpython.org/pipermail/mod_python/attachments/20020609/1dd7756b/attachment.bin
From johanfo at ohman.no  Mon Jun 10 08:16:24 2002
From: johanfo at ohman.no (=?iso-8859-1?Q?Johan_Fredrik_=D8hman?=)
Date: Fri Jan  9 21:46:48 2004
Subject: [mod_python] make_obcallback():
References: <6B2FB838-7C2B-11D6-819E-0030653DCC28@attbi.com>
Message-ID: <001d01c21046$59b82270$c167f081@matrisen>

Thanks for your help.  I solved the problem myself not long after I had sent the mail to this group.  The reason for the error was that the PATH had changed from the time I compiled mod_python to the point where I started it.  This lead to the wrong python intepreter being executed.

--
JF?
  ----- Original Message ----- 
  From: Jeff Stearns 
  To: Johan Fredrik ?hman 
  Cc: mod_python@modpython.org 
  Sent: Monday, June 10, 2002 6:34 AM
  Subject: Re: [mod_python] make_obcallback():


  I imagine that mod_python isn't in the Python search path. Check to see where you installed the mod_python modules.

  -jeff stearns


  On Sunday, June 9, 2002, at 10:15 AM, Johan Fredrik ?hman wrote:


    make_obcallback(): could not import mod_python.apache.
    make_obcallback(): could not call init.
    [Sun Jun  9 19:13:08 2002] [error] [client 129.240.103.193] python_handler: make_obcallback returned no obCallBack!
     
     
    What is most likely to cause this error ?
     
    I'm running Python2.2 with latest mod_python and apache-1.3.22
     
    --
    Johan Fredrik ?hman

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20020610/eefffc3c/attachment.htm
From sandor.kopanyi at mailbox.hu  Mon Jun 10 11:12:37 2002
From: sandor.kopanyi at mailbox.hu (sandor.kopanyi@mailbox.hu)
Date: Fri Jan  9 21:46:48 2004
Subject: [mod_python] Getting DocumentRoot directive
In-Reply-To: <20020607144718.A4294@vader.boskant.nl>
Message-ID: <20020610091237.26373.qmail@web2.mailbox.hu>

> > configuration values. If so, it would be a very good thing to have
in 
> > mod_python...
> 
> I second that! Already a couple of times that I really missed this.
> 

Me too!

Regards,
Sandor

--------------------------------------------------
http://www.mailbox.hu - Mert levelezni kell...


From sandor.kopanyi at mailbox.hu  Mon Jun 10 11:12:37 2002
From: sandor.kopanyi at mailbox.hu (sandor.kopanyi@mailbox.hu)
Date: Fri Jan  9 21:46:48 2004
Subject: [mod_python] Getting DocumentRoot directive
In-Reply-To: <20020607144718.A4294@vader.boskant.nl>
Message-ID: <20020610091237.26373.qmail@web2.mailbox.hu>

> > configuration values. If so, it would be a very good thing to have
in 
> > mod_python...
> 
> I second that! Already a couple of times that I really missed this.
> 

Me too!

Regards,
Sandor

--------------------------------------------------
http://www.mailbox.hu - Mert levelezni kell...


From johanfo at ohman.no  Tue Jun 11 11:01:48 2002
From: johanfo at ohman.no (=?iso-8859-1?Q?Johan_Fredrik_=D8hman?=)
Date: Fri Jan  9 21:46:48 2004
Subject: [mod_python] Pro / Cons with the Publisher
Message-ID: <000801c21126$a3037f20$c167f081@matrisen>

Hi there,  I'm considering writing a medium large website using mod_python.  I have already made my own session and template routines.  They are quite simple, but they do work, which I consider to be most important.   
However,  I'm not sure if to use the Publisher handler or not.  It seems like you loose a little control by using it.  Are there anybody out there who can fill me in with their experience on the Publisher handler ?  Pros / Cons ? 
I'd love to see some sites that was written with mod_python too, so if you have some examples, let me know !

--
Johan Fredrik ?hman
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20020611/2d28bc8c/attachment.htm
From kastner.j at supp.cz  Tue Jun 11 11:40:15 2002
From: kastner.j at supp.cz (=?iso-8859-2?Q?Ji=F8=ED_Kastner?=)
Date: Fri Jan  9 21:46:48 2004
Subject: [mod_python] database example on win2k
Message-ID: <000d01c2112b$fde4ee60$0301a8c0@pentium>

is possible to establish permanent db connection on win2k (winnt,win9x...)?
i'm not sure if windoze know this way...
thanx
jiri kastner



From vmanera at manord.com  Tue Jun 11 17:47:44 2002
From: vmanera at manord.com (Manera, Villiam)
Date: Fri Jan  9 21:46:48 2004
Subject: R: [mod_python] database example on win2k
Message-ID: <801EB84B006ED411898D00B0D03E524712CCCD@PROXYMAIL>

yes it's possible.
I've write a pool of connection ad I give a pointer to it at anyone that
need a connection. If any is busy a new one will be created.

Villiam

-----Messaggio originale-----
Da: Jir? Kastner [mailto:kastner.j@supp.cz]
Inviato: martedi 11 giugno 2002 11.40
A: mod_python@modpython.org
Oggetto: [mod_python] database example on win2k


is possible to establish permanent db connection on win2k (winnt,win9x...)?
i'm not sure if windoze know this way...
thanx
jiri kastner


_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From a_maseko1 at hotvoice.com  Sun Jun 16 11:03:41 2002
From: a_maseko1 at hotvoice.com (Mrs. Mariam M. Seseseko.)
Date: Fri Jan  9 21:46:48 2004
Subject: [mod_python] urgent assistance Needed
Message-ID: <200206161002.g5GA2UC50427@eden.ispol.com>

Dear friend,

I am Mrs. Sese-seko widow of late President Mobutu
Sese-seko of Zaire, now known as Democratic Republic
of Congo (DRC). I am moved to write you this
letter. This was in confidence considering my present
circumstance and situation. I escaped along with my
husband and two of our sons Charles and Basher out of
Democratic Republic of Congo (DRC) to Abidjan, Cote
d'ivoire where my family and I settled, while we later
moved to settled in Morroco where my husband later
died of cancer disease.

However, due to this situation we decided to change
most of my husband's billions of dollars deposited in
Swiss bank and other countries into other forms of
money coded for safe purpose because the new head of
state of (Dr) Mr Laurent Kabila has made arrangement
with the Swiss government and other European countries
to freeze all my late husband's treasures deposited in
some european countries. Hence, my children and I
decided laying low in Africa to study the situation
till when things gets better. Like now that
president Kabila is dead and the son taking over
(Joseph Kabila). One of my late husband's chateaux in
Southern France was confiscated by the french
government, and as such I had to change my identity so
that my investment will not be traced and confiscated.

I have deposited the sum Eighteen Million United State
Dollars (US$18,000,000,00.) With a security company
for safe keeping. What I want you to do is to indicate
your interest that you can assist us in receiving the
money on our behalf, so that I can introduce you to my
son (charles) who has the out modalities for the claim
of the said funds. I want you to assist in investing
this money, but I will not want my identity revealed.
I will also want to acquire real/landed properties and
stock in multi-national companies and to engage in
other safe and non-speculative investments as advise
by your good self.

May I at this point emphasize the high level of
confidentiality, which this upcoming project demands,
and hope you will not betray the trust and
confidence, which I repose in you.In conclusion, if
you want to assist us, my son (JAMSE) shall divulge
to
you all briefs regarding this project, tell you where
the funds are currently being maintained and also
discuss remuneration for your services.For this reason
kindly furnish us your contact information,that is
your personal telephone and fax number for validation
purpose and acknowledge receipt of this mail using the
above email address.

Yours sincerely,

Mrs. Mariam M. Seseseko.







From rien at yeepa.org  Sun Jun 16 12:23:00 2002
From: rien at yeepa.org (Adrien Plisson)
Date: Fri Jan  9 21:46:48 2004
Subject: [mod_python] urgent assistance Needed
References: <200206161002.g5GA2UC50427@eden.ispol.com>
Message-ID: <000701c2151f$cb4918d0$01000001@RANDOM>

mod_python mailing-list  being spammed ? huhu...

anyway, do never reply to the former message. simply because it's a trap !
here in belgium, some people have been ruined in tryingto do what they
wanted.
that's simple :
- first, they claim they need some money to be able to do the transfert
- second they claim money again to be able to pay an intermediary
- third they claim money again and again for an obscure reason
and you will never see the hundreds of dollars they promised you...

and if it's not the widow of president mobutu, it's another old african
dictator.
so, beware...

regards.

--
rien

ps: btw, being french, i do not remember that french authorities did
confiscate any Chateau...


From s_lott at yahoo.com  Sun Jun 16 06:10:22 2002
From: s_lott at yahoo.com (Steven Lott)
Date: Fri Jan  9 21:46:48 2004
Subject: [mod_python] urgent assistance Needed
In-Reply-To: <200206161002.g5GA2UC50427@eden.ispol.com>
Message-ID: <20020616131022.55491.qmail@web9607.mail.yahoo.com>

"confidence"?  to a listserver?  ha ha ha ha ha

I've seen this letter several times before, I think that someone
should shut down the servers at hotvoice.com because they are
clearly part of some kind of fraud.


--- "Mrs. Mariam M. Seseseko." <a_maseko1@hotvoice.com> wrote:
> Dear friend,
> 
[snip]This was in confidence considering my present
> circumstance and situation. [snip]


=====
--
S. Lott, CCP :-{)
S_LOTT@YAHOO.COM
http://www.mindspring.com/~slott1
Buccaneer #468: KaDiMa

Macintosh user: drinking upstream from the herd.

__________________________________________________
Do You Yahoo!?
Yahoo! - Official partner of 2002 FIFA World Cup
http://fifaworldcup.yahoo.com

From pyth at devel.trillke.net  Mon Jun 17 18:04:35 2002
From: pyth at devel.trillke.net (holger krekel)
Date: Fri Jan  9 21:46:48 2004
Subject: [mod_python] current state with apache 2.0?
Message-ID: <20020617180435.T15079@prim.han.de>

Hello,

i am interested in getting mod_python to work with apache2 and python2.2. 

1. How much trouble should i expect? 

2. Is there a usable cvs-branch for 3.0.0?

thanks,

    holger
 

From grisha at modpython.org  Mon Jun 17 12:29:37 2002
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:46:48 2004
Subject: [mod_python] current state with apache 2.0?
In-Reply-To: <20020617180435.T15079@prim.han.de>
Message-ID: <Pine.BSF.4.32.0206171227150.74873-100000@localhost>

The most usable one for apache 2.0 is HEAD actually. Your mileage will
vary, but it has worked for other people in its present state.

Grisha

On Mon, 17 Jun 2002, holger krekel wrote:

> Hello,
>
> i am interested in getting mod_python to work with apache2 and python2.2.
>
> 1. How much trouble should i expect?
>
> 2. Is there a usable cvs-branch for 3.0.0?
>
> thanks,
>
>     holger
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From colin at unibusiness.co.uk  Mon Jun 17 18:11:00 2002
From: colin at unibusiness.co.uk (Colin Coates)
Date: Fri Jan  9 21:46:48 2004
Subject: [mod_python] current state with apache 2.0?
References: <20020617180435.T15079@prim.han.de>
Message-ID: <002e01c21621$f3f8dce0$0e02015a@ColinPC>

Seconded!

I am very fresh to mod_python myself, but I am already quite impressed with its
elegance. (I tried using Zope, but got rather scared by the steepness of the
learning curve!)

I am very interested in getting mod_python to work with Apache2 and keeping it
up to date with releases of Python - especially seeing as I do web applications
for a living!

Kind Regards,
Colin.

----- Original Message -----
From: "holger krekel" <pyth@devel.trillke.net>
To: <mod_python@modpython.org>
Sent: Monday, June 17, 2002 5:04 PM
Subject: [mod_python] current state with apache 2.0?


> Hello,
>
> i am interested in getting mod_python to work with apache2 and python2.2.
>
> 1. How much trouble should i expect?
>
> 2. Is there a usable cvs-branch for 3.0.0?
>
> thanks,
>
>     holger
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>
>
>


From gbenson at redhat.com  Mon Jun 17 20:00:47 2002
From: gbenson at redhat.com (Gary Benson)
Date: Fri Jan  9 21:46:48 2004
Subject: [mod_python] current state with apache 2.0?
In-Reply-To: <20020617180435.T15079@prim.han.de>
Message-ID: <Pine.LNX.4.44.0206171958370.4793-100000@slippy.rat>

On Mon, 17 Jun 2002, holger krekel wrote:

> i am interested in getting mod_python to work with apache2 and python2.2. 
> 
> 1. How much trouble should i expect? 

With Apache 2.0.36 not a lot unless you try to write an input filter
since the API changed and mod_python hasn't been fixed yet.

It's nice and stable with Python 2.2 as well, although I understand there 
are some things in there that 2.2 doesn't like.

> 2. Is there a usable cvs-branch for 3.0.0?

Yup: HEAD :)

Cheers,
Gary

[ gbenson@redhat.com ][ GnuPG 85A8F78B ][ http://inauspicious.org/ ]


From Jacques.Maree at spacebel.be  Tue Jun 18 11:24:28 2002
From: Jacques.Maree at spacebel.be (=?iso-8859-1?Q?Jacques_Mar=E9e?=)
Date: Fri Jan  9 21:46:48 2004
Subject: [mod_python] modpython and SSL
Message-ID: <9310801AA6D6BD4CABF9AF8D3565D520051DA1@mail-hlt.hlt.spacebel.be>

We have used Apache + modpython + Python + MS-Access for a project, and
everything works fine.

Our client ask for a new development, but with the secure protocol SSL.

Do you have experimented such an environment? The Apache documentation shows
how to patch the HTTP server in order to handle SSL, but I wonder if
modpython will continue to work. In other words, do the CGIs receive the
same information when the httpd server uses SSL or when httpd server is
"unsecured" ?

Thanks 

Jacques MAREE

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20020618/b4ca138a/attachment.htm
From gbenson at redhat.com  Tue Jun 18 16:30:16 2002
From: gbenson at redhat.com (Gary Benson)
Date: Fri Jan  9 21:46:48 2004
Subject: [mod_python] modpython and SSL
In-Reply-To: <9310801AA6D6BD4CABF9AF8D3565D520051DA1@mail-hlt.hlt.spacebel.be>
Message-ID: <Pine.LNX.4.44.0206181626470.6609-100000@slippy.rat>

On Tue, 18 Jun 2002, Jacques Mar?e wrote:

> We have used Apache + modpython + Python + MS-Access for a project, and
> everything works fine.
> 
> Our client ask for a new development, but with the secure protocol SSL.
> 
> Do you have experimented such an environment? The Apache documentation
> shows how to patch the HTTP server in order to handle SSL, but I wonder
> if modpython will continue to work. In other words, do the CGIs receive
> the same information when the httpd server uses SSL or when httpd server
> is "unsecured" ?

All your scripts should work straight out of the box unless you generate
absolute URLs (in which case you'll have to change the http to a https).
FYI CGIs and the like actually get _more_ information when SSL is running,
since a bunch of variables get set to let your scripts know what cipher is
in use and so on.

Don't forget to recompile all your modules (mod_python included) against
the SSL-patched Apache since they are binary-incompatible with each other.

Cheers,
Gary

[ gbenson@redhat.com ][ GnuPG 85A8F78B ][ http://inauspicious.org/ ]


From CMaine at BroadLink.com  Tue Jun 18 10:38:41 2002
From: CMaine at BroadLink.com (Chad Maine)
Date: Fri Jan  9 21:46:48 2004
Subject: [mod_python] modpython and SSL
Message-ID: <216CFCF61FEAD311AE64009027E23B7C01020030@mail.broadlink.com>

An easier option would be to use mod_ssl in place of an ssl-enabled apache.
http://www.modssl.org  We use mod_python and mod_ssl together with no
problems.

-----Original Message-----
From: Gary Benson [mailto:gbenson@redhat.com]
Sent: Tuesday, June 18, 2002 8:30 AM
To: Jacques Mar?e
Cc: 'mod_python@modpython.org'
Subject: Re: [mod_python] modpython and SSL



On Tue, 18 Jun 2002, Jacques Mar?e wrote:

> We have used Apache + modpython + Python + MS-Access for a project, and
> everything works fine.
> 
> Our client ask for a new development, but with the secure protocol SSL.
> 
> Do you have experimented such an environment? The Apache documentation
> shows how to patch the HTTP server in order to handle SSL, but I wonder
> if modpython will continue to work. In other words, do the CGIs receive
> the same information when the httpd server uses SSL or when httpd server
> is "unsecured" ?

All your scripts should work straight out of the box unless you generate
absolute URLs (in which case you'll have to change the http to a https).
FYI CGIs and the like actually get _more_ information when SSL is running,
since a bunch of variables get set to let your scripts know what cipher is
in use and so on.

Don't forget to recompile all your modules (mod_python included) against
the SSL-patched Apache since they are binary-incompatible with each other.

Cheers,
Gary

[ gbenson@redhat.com ][ GnuPG 85A8F78B ][ http://inauspicious.org/ ]

_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From gbenson at redhat.com  Tue Jun 18 18:49:45 2002
From: gbenson at redhat.com (Gary Benson)
Date: Fri Jan  9 21:46:48 2004
Subject: [mod_python] modpython and SSL
In-Reply-To: <216CFCF61FEAD311AE64009027E23B7C01020030@mail.broadlink.com>
Message-ID: <Pine.LNX.4.44.0206181844320.6609-100000@slippy.rat>

On Tue, 18 Jun 2002, Chad Maine wrote:

> An easier option would be to use mod_ssl in place of an ssl-enabled apache.
> http://www.modssl.org  We use mod_python and mod_ssl together with no
> problems.

mod_ssl == ssl-enabled apache. The original Apache API wasn't flexible
enough for mod_ssl to do what it does, and before you can build mod_ssl
you need to apply the mod_ssl EAPI (Literally extended API) patch and
rebuild Apache.  Since the API is changed, you _must_ rebuild any modules
compiled against the unpatched version.

> -----Original Message-----
> From: Gary Benson [mailto:gbenson@redhat.com]
> Sent: Tuesday, June 18, 2002 8:30 AM
> To: Jacques Mar?e
> Cc: 'mod_python@modpython.org'
> Subject: Re: [mod_python] modpython and SSL
> 
> On Tue, 18 Jun 2002, Jacques Mar?e wrote:
> 
> > We have used Apache + modpython + Python + MS-Access for a project, and
> > everything works fine.
> > 
> > Our client ask for a new development, but with the secure protocol SSL.
> > 
> > Do you have experimented such an environment? The Apache documentation
> > shows how to patch the HTTP server in order to handle SSL, but I wonder
> > if modpython will continue to work. In other words, do the CGIs receive
> > the same information when the httpd server uses SSL or when httpd server
> > is "unsecured" ?
> 
> All your scripts should work straight out of the box unless you generate
> absolute URLs (in which case you'll have to change the http to a https).
> FYI CGIs and the like actually get _more_ information when SSL is running,
> since a bunch of variables get set to let your scripts know what cipher is
> in use and so on.
> 
> Don't forget to recompile all your modules (mod_python included) against
> the SSL-patched Apache since they are binary-incompatible with each other.
> 
> Cheers,
> Gary
> 
> [ gbenson@redhat.com ][ GnuPG 85A8F78B ][ http://inauspicious.org/ ]
> 
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
> 

[ gbenson@redhat.com ][ GnuPG 85A8F78B ][ http://inauspicious.org/ ]


From grisha at modpython.org  Tue Jun 18 14:27:12 2002
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:46:48 2004
Subject: [mod_python] modpython and SSL
In-Reply-To: <Pine.LNX.4.44.0206181844320.6609-100000@slippy.rat>
Message-ID: <Pine.BSF.4.32.0206181424130.92285-100000@localhost>


On Tue, 18 Jun 2002, Gary Benson wrote:

> mod_ssl == ssl-enabled apache.

There is also something called Apache-SSL that the original poster may
have been referring to:

http://www.apache-ssl.org/#mod_ssl

I personaly favor mod_ssl, and have used with mod_python extensively with
no problems.

Grisha


From Nik.Barron at pennantplc.co.uk  Wed Jun 19 11:59:40 2002
From: Nik.Barron at pennantplc.co.uk (Nik Barron)
Date: Fri Jan  9 21:46:48 2004
Subject: [mod_python] DLLs and versions of Python
Message-ID: <F17550784FF9D111B7F100E02921B24741EA47@NT-SOTON-001>

Hi,

I have a question regarding the mod_python DLL and versions of Python. I
have an application using mod_python under Windows NT that is currently
running under 2.2, but I may need to drop back to 1.5. Looking through the
binaries directory on the website I can't find a recent DLL built for 1.5 --
is 1.5 no longer supported, or am I missing something obvious (the most
likely explanation!)

Many thanks,

Nick Barron
Manager, E-Services Division
Pennant Software Services Ltd -- Registered in England No. 3772667
PGP: A94C 4190 026E 3E02 6D50  C8FA 8620 3091 FF34 533D

From strang at nmr.mgh.harvard.edu  Wed Jun 19 10:38:29 2002
From: strang at nmr.mgh.harvard.edu (Gary Strangman)
Date: Fri Jan  9 21:46:48 2004
Subject: [mod_python] **kw syntax
Message-ID: <Pine.GSO.3.96.1020619103229.18745E-100000@bucky.nmr.mgh.harvard.edu>

Hi all,

I'm relatively new to mod_python (and apache), and so I'll bet my problem
is probably a direct consequence of that. I'm using mod_python to
dynamically generate a list of HTML checkboxes from a database. The list
of checkboxes then get inserted into a <form> block on a web page. I want
the <form>'s POST method deliver the (keyword,value) pairs from the form
to a python-based handler. My problem is this: I can't get get the **kw
syntax to work with mod_python. That is, if my form looks like this ... 

<form action="makechanges" method="POST">
  <input type=checkbox name="name1" checked>One<br>
  <input type=checkbox name="name2" checked>Two<br>
  <input type=checkbox name="name3">Three<br>
  <input type=checkbox name="name4">Four<br>
  <input type="submit">
</form>

... and my python function is defined as follows ...

def makechanges(request, **kw):

... makechanges() receives kw={} regardless of the status of the
checkboxes. If instead my function is defined as ... 

def makechanges(request, name1=None, **kw):

... then makechanges() gets name1='on' (if the name1 box was checked), but
nothing in kw, again regardless of checkbox status. The same happens if I
define the function as ...

def makechanges(request, name1=None, *args, **kw):

Any ideas on how to handle dynamically generated forms in general (and/or
with dynamically generated checkbox name attributes in particular)? Oh,
all this is on python2.2, mod_python2.7.6, apache1.3.24, Win98. 

Thanks.

Gary
strang-@at@-nmr.mgh.harvard.edu



From infomailsys at mail.ru  Thu Jun 20 09:37:47 2002
From: infomailsys at mail.ru (New Banner Systems)
Date: Fri Jan  9 21:46:48 2004
Subject: [mod_python] business gifts
Message-ID: <200206200530.g5K5UqC13957@eden.ispol.com>

An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20020620/c4080567/attachment.htm
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/jpeg
Size: 18974 bytes
Desc: not available
Url : http://mailman.modpython.org/pipermail/mod_python/attachments/20020620/c4080567/attachment.jpg
From sandor.kopanyi at mailbox.hu  Thu Jun 20 10:10:18 2002
From: sandor.kopanyi at mailbox.hu (sandor.kopanyi@mailbox.hu)
Date: Fri Jan  9 21:46:48 2004
Subject: [mod_python] **kw syntax
In-Reply-To: <Pine.GSO.3.96.1020619103229.18745E-100000@bucky.nmr.mgh.harvard.edu>
Message-ID: <20020620081018.28453.qmail@web2.mailbox.hu>

Hi Gary,

> I want the <form>'s POST method deliver the (keyword,value) pairs from
the form
> to a python-based handler. My problem is this: I can't get get the **kw
> syntax to work with mod_python. That is, if my form looks like this 

[...]

> ... and my python function is defined as follows ...
> 
> def makechanges(request, **kw):
> 
> ... makechanges() receives kw={} regardless of the status of the
> checkboxes. If instead my function is defined as ... 

Define your function like this:
def makechanges(request):

The request object contains your fields, in request.form.list .
You can process them in a loop:
for f in request.form.list:
    #f.name is the name of the field
    #f.value holds the value of the field

(See more in modpythion docs, chapter 4.4)

Cheers,
Sandor


--------------------------------------------------
http://www.mailbox.hu - Mert levelezni kell...


From pkr at daimi.au.dk  Thu Jun 20 11:36:58 2002
From: pkr at daimi.au.dk (Peter Kjellerup Rasmussen)
Date: Fri Jan  9 21:46:49 2004
Subject: [mod_python] mod_python with apache-2.0.39
Message-ID: <000a01c2183e$062bd4d0$0300000a@peter>

Is it possible to run mod_python with apache2? 
I've tried to compile it both as a dso and static but with no luck.

Reg.

Peter Rasmussen


From gionuein at autistici.org  Thu Jun 20 13:27:46 2002
From: gionuein at autistici.org (gionuein@autistici.org)
Date: Fri Jan  9 21:46:49 2004
Subject: [mod_python] mod_python.publisher+404 not found+sorry i know im a newbie...
Message-ID: <20020620132746.38D5633505@astio.investici.org>

hi guys-

it seems i have a problem ;))
basically, i compiled the sources and read docs
to make it works - i made basic changes to http.conf
and mod_python worked fine -
now id like to make something more complicated and im
lookin at mod_python.publisher - i follow the docs
http://www.modpython.org/live/mod_python-2.7.8/doc-html/tut-pub.html
and i change http.conf this way:

AddHandler python-program .py
PythonHandler mod_python.publisher

but when i try to get myfile.py - a '404 not found'
happens and im sure the file is in the right dir

someone can help me to understand what's going on?

red hat 7.2 /*/ 2.4.7 kernel

ps:
i surfed archives but i didn't find something
that satisfied me -
im quite a newbie on python stuff
im moving from a couple of years of php
;)



thanks a lot

tropiko

From grisha at modpython.org  Thu Jun 20 09:50:45 2002
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:46:49 2004
Subject: [mod_python] mod_python with apache-2.0.39
In-Reply-To: <000a01c2183e$062bd4d0$0300000a@peter>
Message-ID: <Pine.BSF.4.32.0206200949510.18732-100000@localhost>

Only the next version (3.x) will work with 2.0. 3.x is still alpha quality
I would say, and you can only get it through CVS.

Grisha

On Thu, 20 Jun 2002, Peter Kjellerup Rasmussen wrote:

> Is it possible to run mod_python with apache2?
> I've tried to compile it both as a dso and static but with no luck.
>
> Reg.
>
> Peter Rasmussen
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From mbp at samba.org  Fri Jun 21 04:30:57 2002
From: mbp at samba.org (Martin Pool)
Date: Fri Jan  9 21:46:49 2004
Subject: [mod_python] **kw syntax
In-Reply-To: <20020620081018.28453.qmail@web2.mailbox.hu>
References: <Pine.GSO.3.96.1020619103229.18745E-100000@bucky.nmr.mgh.harvard.edu> <20020620081018.28453.qmail@web2.mailbox.hu>
Message-ID: <20020620183053.GA3529@toey.sourcefrog.net>

On 20 Jun 2002, sandor.kopanyi@mailbox.hu wrote:

> Define your function like this:
> def makechanges(request):
> 
> The request object contains your fields, in request.form.list .
> You can process them in a loop:
> for f in request.form.list:
>     #f.name is the name of the field
>     #f.value holds the value of the field

I know that's the way to do it now.  However, I think the original
poster has a good point that it might be both intuitive and useful for
the publisher to pack any arguments that are not consumed by named
parameters into the keyword argument dictionary, if the function
accepts one.  I don't think this would be terribly hard to implement.

-- 
Martin 

Every Python user scoffed at it once, saying significant whitespace is
the past.
	-- Moshe Zadka (?)

From nicks at metrolink.com  Fri Jun 21 10:13:27 2002
From: nicks at metrolink.com (Nick Seidenman)
Date: Fri Jan  9 21:46:49 2004
Subject: [mod_python] server (internal) redirect
Message-ID: <3D133487.6020406@metrolink.com>

I'm using the publisher handler to construct a page that has SSI 
(server-side include) code in it.  Once the page is built I want to then 
run it back through the server.  Just setting

    req.content_type = text/x-server-parsed-html

doesh't do it.  Any suggestion?

Please note, I'm NOT talking about an HTTP redirect;  I'm talking about 
returning something to the publisher that will let it know it needs to 
run the output back through the server so that the SSI code can be 
processed before sending it back to the client.

TiA,

Nick


From grisha at modpython.org  Fri Jun 21 10:41:26 2002
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:46:49 2004
Subject: [mod_python] server (internal) redirect
In-Reply-To: <3D133487.6020406@metrolink.com>
Message-ID: <Pine.BSF.4.32.0206211036200.32967-100000@localhost>

I don't think this is possible with Apache 1.3. The content from
mod_python does not get later processed by mod_ssi, it goes directly to
the client.

I believe Apache 2.0 implements SSI as a filter, and you could do
something like this. But I don't think mod_python 3.0 will be released
before August.

In any event - you might want to rethink your strategy. Including a file
is very easily done in Python, I'm not sure why you would to delegate that
to mod_ssi.

Grisha

On Fri, 21 Jun 2002, Nick Seidenman wrote:

>
> I'm using the publisher handler to construct a page that has SSI
> (server-side include) code in it.  Once the page is built I want to then
> run it back through the server.  Just setting
>
>     req.content_type = text/x-server-parsed-html
>
> doesh't do it.  Any suggestion?
>
> Please note, I'm NOT talking about an HTTP redirect;  I'm talking about
> returning something to the publisher that will let it know it needs to
> run the output back through the server so that the SSI code can be
> processed before sending it back to the client.
>
> TiA,
>
> Nick
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From MAILER-DAEMON13240 at google.com  Fri Jun 21 21:49:17 2002
From: MAILER-DAEMON13240 at google.com (Farmgirl18692)
Date: Fri Jan  9 21:46:49 2004
Subject: [mod_python] Real ZOO web site, welcome! ID<prgbs|wkrqCprgs|wkrq1ruj>
Message-ID: <200206211746.g5LHk6C35124@eden.ispol.com>

An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20020621/ab11a66d/attachment.htm
From l0biz0n at myrealbox.com  Fri Jun 21 18:11:57 2002
From: l0biz0n at myrealbox.com (l0biz0n)
Date: Fri Jan  9 21:46:49 2004
Subject: [mod_python] stupids out off the list
Message-ID: <7399959090.20020621181157@myrealbox.com>

hi list ,

who are the stupid , what is spaming the list with
porno advertisements.

--
Regards

|/\|_ o_ /\._ 
|\/|_)|/_\/| | mailto:l0biz0n@myrealbox.com



From jquinte at fadu.uba.ar  Fri Jun 21 19:03:54 2002
From: jquinte at fadu.uba.ar (Javier Quinteros)
Date: Fri Jan  9 21:46:49 2004
Subject: [mod_python] Real ZOO web site, welcome! ID<prgbs|wkrqCprgs|wkrq1ruj>
In-Reply-To: <200206211746.g5LHk6C35124@eden.ispol.com>
Message-ID: <FEV62KELGT8HBB0D9XW5YYNUSGC.3d13a2ca@upsala>

Are this animals using mod_python in their website ???  ;-)

/jq

21-Jun-02 2:49:17 PM, "Farmgirl18692" <MAILER-DAEMON13240@google.com> wrote:

>  The BEST zoo site on the @net!
>  Sex With Dogs
>  Horse Blow Jobs.
>  Snake Fuck.
>  REAL ANIMAL FUCKING!
>  100% HARDCORE!
>  ww1.only-beasts.com
>
>  unsub
>  Good luck, .
>
>
> _______________________________________________ Mod_python mailing list
> Mod_python@modpython.org http://www.modpython.org/mailman/listinfo/mod_python




From gionuein at autistici.org  Mon Jun 24 14:22:24 2002
From: gionuein at autistici.org (gionuein@autistici.org)
Date: Fri Jan  9 21:46:49 2004
Subject: [mod_python] includes/external files
Message-ID: <20020624142224.A110033886@astio.investici.org>

hi all -
i been dealing with mod python from a couple of weeks -
but i still dont understand to make stuff as php includes
works good in a python enviromente -
im really interested in web scripting -
and i lookin for a way to use includes or external files with routines and
code to manage my web site.

can someone help me?
a link to a good refernce would be great
;)

thank u very much

tropiko


From Hans.Yandle at cingular.com  Mon Jun 24 10:54:59 2002
From: Hans.Yandle at cingular.com (Yandle, Hans)
Date: Fri Jan  9 21:46:49 2004
Subject: [mod_python] includes/external files
Message-ID: <D31B04F24EDE7644BB169BB4F080778A01F4C4C5@s30342g004005>

If you would like a python approach to server side includes similar to what
php does, you might want to check out http://www.ccraig.org/software/pyhp/.
I use it for quick and small stuff. For more complicated work/methods/cgi, I
would recommend mod_python's Publisher Handler (manual 3.4) or the use of
other handlers. 

-----Original Message-----
From: gionuein@autistici.org [mailto:gionuein@autistici.org]
Sent: Monday, June 24, 2002 10:22 AM
To: mod_python@modpython.org
Subject: [mod_python] includes/external files



hi all -
i been dealing with mod python from a couple of weeks -
but i still dont understand to make stuff as php includes
works good in a python enviromente -
im really interested in web scripting -
and i lookin for a way to use includes or external files with routines and
code to manage my web site.

can someone help me?
a link to a good refernce would be great?
;)

thank u very much

tropiko

_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From Nik.Barron at pennantplc.co.uk  Wed Jun 26 17:01:56 2002
From: Nik.Barron at pennantplc.co.uk (Nik Barron)
Date: Fri Jan  9 21:46:49 2004
Subject: [mod_python] Instances and differences between Win32 and Linux
Message-ID: <F17550784FF9D111B7F100E02921B24741EA6A@NT-SOTON-001>

Hi,

I'm working on an XML application using mod_python. Without going into too
much detail, what it does is suck an XML file into memory and then allow
multiple users to work on the in-memory copy via the web. The main reason
for this is performance, as processing the file on the initial load is slow,
and also to provide granular locking (the file is split into 1500 or so key
elements, and the locking needs to be per element).

This works fine in Win32; I do the locking by a simple dictionary, e.g. if
user nik is editing requirement foo, editLocks['foo'] = 'nik' and so on.
This seems to work as expected.

However, I am in the process of moving it over to a Linux box for various
reasons. The code works, but it appears (I'm investigating in more detail at
the moment) that it is now running multiple instances, i.e. the locks
disappear between HTTP accesses. I'm guessing that this is because Apache on
Win32 is run as a single process, but as multiple processes on Un*x.

Is there a reliable way of handling such 'multi-user' persistent data under
Un*x, e.g multiple httpds pulling from the same Python? I'm guessing not :(

Many thanks!

Nick Barron
Manager, E-Services Division
Pennant Software Services Ltd -- Registered in England No. 3772667
PGP: A94C 4190 026E 3E02 6D50  C8FA 8620 3091 FF34 533D

From mbp at samba.org  Thu Jun 27 08:36:58 2002
From: mbp at samba.org (Martin Pool)
Date: Fri Jan  9 21:46:49 2004
Subject: [mod_python] Instances and differences between Win32 and Linux
In-Reply-To: <F17550784FF9D111B7F100E02921B24741EA6A@NT-SOTON-001>; from Nik.Barron@pennantplc.co.uk on Wed, Jun 26, 2002 at 05:01:56PM +0100
References: <F17550784FF9D111B7F100E02921B24741EA6A@NT-SOTON-001>
Message-ID: <20020627083658.A27621@va.samba.org>

On 26 Jun 2002, Nik Barron <Nik.Barron@pennantplc.co.uk> wrote:

> Hi,
> 
> I'm working on an XML application using mod_python. Without going into too
> much detail, what it does is suck an XML file into memory and then allow
> multiple users to work on the in-memory copy via the web. The main reason
> for this is performance, as processing the file on the initial load is slow,
> and also to provide granular locking (the file is split into 1500 or so key
> elements, and the locking needs to be per element).
> 
> This works fine in Win32; I do the locking by a simple dictionary, e.g. if
> user nik is editing requirement foo, editLocks['foo'] = 'nik' and so on.
> This seems to work as expected.

How do you make other threads wait for editing on foo to finish?  By
busy-waiting?
 
> However, I am in the process of moving it over to a Linux box for various
> reasons. The code works, but it appears (I'm investigating in more detail at
> the moment) that it is now running multiple instances, i.e. the locks
> disappear between HTTP accesses. I'm guessing that this is because Apache on
> Win32 is run as a single process, but as multiple processes on Un*x.

Yes, that is the correct explanation.
 
> Is there a reliable way of handling such 'multi-user' persistent data under
> Un*x, e.g multiple httpds pulling from the same Python? I'm guessing not :(

Not directly as far as I know.  In theory it might be possible using
Apache 2.0's MPM, though I'm not sure if it would be a good idea even
there.

The standard approach is to keep some kind of external shared storage
between the different children.  If you just need to share a single
hashtable, Python's 'shelve' library could be quite simple to use and
satisfactory.  Things based on some kind of shared-memory DB will not
necessarily be any slower than threads in a single memory space.

To make you feel better about this, there are some benefits to the
Unix approach:

 - it's more robust in the case where there's a bug that crashes 
    or hangs a single process child

 - on the whole I suspect you will be better able to execute concurrently 
   with multiple Python interpreters rather than a single image

 - you may have fewer concurrency bugs if data is private by default
   (separate processes) rather than shared by default (single image)

Cheers,
--
Martin

don't buy anything from Radio Shack -- http://radioslack.com/

From alain at onesite.org  Thu Jun 27 01:03:09 2002
From: alain at onesite.org (Alain Tesio)
Date: Fri Jan  9 21:46:49 2004
Subject: [mod_python] Interference with two directories trying to import a different module with the same name
Message-ID: <20020627010309.5f141858.alain@onesite.org>

Hi, I have an inteference from two scripts which
are supposed to be completely independent, but both
import a different module having a same name.

I just mention this in case you consider this problem to be
a bug, it's not a problem for me.

Details below if needed

Alain




In the apache config file :

# 1ST DIR

Alias /observer.py /home/observer/scripts/observer_www.py

<Directory /home/observer/scripts>
  AddHandler python-program .py
  PythonHandler observer_www
  PythonDebug On
</Directory>

# 2ND DIR

Alias /other/ /home/other/www/lib/other_www.py

<Directory "/home/other/www/lib">
  AddHandler python-program .py
  PythonHandler other_www
  PythonDebug On
</Directory>



Then I have an error when I try to get a page with the first
setup because it tries to use a module already imported by
the other one (it works fine though if I request this page
just after restarting apache because it loads the right
module, but of course the other one fails then)

http://www.floc.net/observer.py?page=login...

Traceback (most recent call last):

  File "/home/observer/scripts/observer_www.py", line 20, in handler
    (content_type,content)=wwwlib.out(selfurl,form_items)
....
  File "/home/other/www/lib/mycgi.py", line 379, in css_string
    for (key,value) in css:


From wkr at cs.ucsb.edu  Wed Jun 26 20:01:31 2002
From: wkr at cs.ucsb.edu (William Robertson)
Date: Fri Jan  9 21:46:49 2004
Subject: [mod_python] mod_python segfault
Message-ID: <20020627030131.GC19376@ip68-6-112-152.sb.sd.cox.net>

Hi,

I've been having problems installing mod_python 2.7.8 for Apache 1.3.26
on Gentoo Linux.  I compiled it as a DSO, using a python interpreter
compiled without threads, and am pretty certain I got the configuration
from the documentation correct for both Apache and the hello world
example.

When I tried to run the example, however, I got segfaults from
mod_python.so.  A gdb backtrace and some disassembly, confirmed by some
debugging code, shows that req->per_dir_config in the following line
(mod_python.c:560, in python_handler()) is uninitialized:

conf = (py_dir_config *) ap_get_module_config(req->per_dir_config, &python_module);

Any ideas?

-- 
| William Robertson | GPG:0x90A3BED4 | wkr@cs.ucsb.edu |

From mbp at samba.org  Thu Jun 27 13:25:00 2002
From: mbp at samba.org (Martin Pool)
Date: Fri Jan  9 21:46:49 2004
Subject: [mod_python] mod_python segfault
In-Reply-To: <20020627030131.GC19376@ip68-6-112-152.sb.sd.cox.net>
References: <20020627030131.GC19376@ip68-6-112-152.sb.sd.cox.net>
Message-ID: <20020627032457.GA30564@samba.org>

On 26 Jun 2002, William Robertson <wkr@cs.ucsb.edu> wrote:
> Hi,
> 
> I've been having problems installing mod_python 2.7.8 for Apache 1.3.26
> on Gentoo Linux.  I compiled it as a DSO, using a python interpreter
> compiled without threads, and am pretty certain I got the configuration
> from the documentation correct for both Apache and the hello world
> example.
> 
> When I tried to run the example, however, I got segfaults from
> mod_python.so.  A gdb backtrace and some disassembly, confirmed by some
> debugging code, shows that req->per_dir_config in the following line
> (mod_python.c:560, in python_handler()) is uninitialized:
> 
> conf = (py_dir_config *) ap_get_module_config(req->per_dir_config,
> &python_module);

At a guess, you are using a different version of the Apache source to
compile mod_python than the one that was used to build httpd itself.
Are you using an SSL patch perhaps?

-- 
Martin 

From wkr at cs.ucsb.edu  Wed Jun 26 22:27:48 2002
From: wkr at cs.ucsb.edu (William Robertson)
Date: Fri Jan  9 21:46:49 2004
Subject: [mod_python] mod_python segfault
In-Reply-To: <20020627032457.GA30564@samba.org>
References: <20020627030131.GC19376@ip68-6-112-152.sb.sd.cox.net> <20020627032457.GA30564@samba.org>
Message-ID: <20020627052748.GA19861@ip68-6-112-152.sb.sd.cox.net>

On 26 June 2002, Martin Pool [mbp@samba.org] wrote:
| At a guess, you are using a different version of the Apache source to
| compile mod_python than the one that was used to build httpd itself.
| Are you using an SSL patch perhaps?

I'm using mod_ssl, but that shouldn't matter as it's a DSO, right?
Anyway, trying without it loaded didn't make a difference.  Also, I'm
not compiling mod_python statically against an Apache source tree, and
I thought apxs would take care of using the correct Apache installation.

I did just try compiling against an Apache installation from a virgin
1.3.26 tree which worked perfectly, though.  Configurations were
identical AFAICT, so this is probably a Gentoo issue.  I guess I'll take
a closer look at those vendor patches...

-- 
| William Robertson | GPG:0x90A3BED4 | wkr@cs.ucsb.edu |


From mbp at samba.org  Thu Jun 27 16:15:25 2002
From: mbp at samba.org (Martin Pool)
Date: Fri Jan  9 21:46:49 2004
Subject: [mod_python] mod_python segfault
In-Reply-To: <20020627052748.GA19861@ip68-6-112-152.sb.sd.cox.net>
References: <20020627030131.GC19376@ip68-6-112-152.sb.sd.cox.net> <20020627032457.GA30564@samba.org> <20020627052748.GA19861@ip68-6-112-152.sb.sd.cox.net>
Message-ID: <20020627061521.GB11139@samba.org>

On 26 Jun 2002, William Robertson <wkr@cs.ucsb.edu> wrote:
> On 26 June 2002, Martin Pool [mbp@samba.org] wrote:
> | At a guess, you are using a different version of the Apache source to
> | compile mod_python than the one that was used to build httpd itself.
> | Are you using an SSL patch perhaps?
> 
> I'm using mod_ssl, but that shouldn't matter as it's a DSO, right?

Yes, it does matter.  No, it's not just a DSO; it's a patch and also a
DSO.

> Anyway, trying without it loaded didn't make a difference.

Right, but I suspect building Apache from scratch without it, or with
it, and then building mod_python against *that* would fix it.

If you can get apache+modssl+modpython from your distro that would be
simplest. 

> Also, I'm
> not compiling mod_python statically against an Apache source tree, and
> I thought apxs would take care of using the correct Apache installation.
> 
> I did just try compiling against an Apache installation from a virgin
> 1.3.26 tree which worked perfectly, though.  Configurations were
> identical AFAICT, so this is probably a Gentoo issue.  I guess I'll take
> a closer look at those vendor patches...
> 
-- 
Martin 

From Nik.Barron at pennantplc.co.uk  Thu Jun 27 08:06:42 2002
From: Nik.Barron at pennantplc.co.uk (Nik Barron)
Date: Fri Jan  9 21:46:49 2004
Subject: [mod_python] Instances and differences between Win32 and Linu
	x
Message-ID: <F17550784FF9D111B7F100E02921B24741EA6F@NT-SOTON-001>

> > This works fine in Win32; I do the locking by a simple 
> > dictionary, e.g. if user nik is editing requirement foo,
editLocks['foo'] = 
> > 'nik' and so on.
> 
> How do you make other threads wait for editing on foo to finish?  By
> busy-waiting?

Yep. The edit is fairly quick and there's only a dozen or so users, so the
chance of a collision is fairly small to begin with. 

> The standard approach is to keep some kind of external shared storage
> between the different children.  If you just need to share a single
> hashtable, Python's 'shelve' library could be quite simple to use and
> satisfactory.  Things based on some kind of shared-memory DB will not
> necessarily be any slower than threads in a single memory space.

Thanks, I'll have a look...

> To make you feel better about this, there are some benefits to the
> Unix approach:

Indeed. Unfortunately for the immediate future it'll probably have to stick
on Win32 as I need to get it up and running this week, but v2 should be a
lot nicer :-)

Many thanks again for the suggestions

Nik

From s13361562 at bach.sun.ac.za  Tue Jun  4 19:17:01 2002
From: s13361562 at bach.sun.ac.za (Hugo van der Merwe)
Date: Fri Jan  9 21:52:52 2004
Subject: [mod_python] publisher bugs / "conflicts" with other handlers
Message-ID: <20020604171701.GA11253@vervet.localnet>

Hello,

After some help from the list (esp Dustin Mitchell, thanks), I've sorted
out a lot of what I want to do. One last problem I have is that it
appears a TransHandler has a larger job than I want it to have. I get
404's when my TransHandler simply returns apache.DECLINED. I just want
the *usual* stuff to happen. It is apparent that my TransHandler is
overriding something, that is otherwise executed. How do I still get it
executed?

This part of the publisher is what is returning HTTP_NOT_FOUND:

    # get the path PATH_INFO (everthing after script)
    if not _req.subprocess_env.has_key("PATH_INFO"):
        raise apache.SERVER_RETURN, apache.HTTP_NOT_FOUND

subprocess_env does not have the "PATH_INFO" key at this point if I use
my own TransHandler. (All this handler really does is returns
apache.DECLINED - i.e. it is trying it's best to do "nothing" - for
debugging purposes of course ;)

With a normal request - i.e. no TransHandler defined, subprocess_env
contains:

[Tue Jun  4 18:46:37 2002] [error] ['UNIQUE_ID', 'GATEWAY_INTERFACE',
'SERVER_PROTOCOL', 'REQUEST_METHOD', 'QUERY_STRING', 'REQUEST_URI',
'SCRIPT_NAME', 'PATH_INFO', 'PATH_TRANSLATED']

subprocess_env when I have a TransHandler that simply returns
apache.DECLINED:

[Tue Jun  4 18:48:50 2002] [error] ['UNIQUE_ID', 'GATEWAY_INTERFACE',
'SERVER_PROTOCOL', 'REQUEST_METHOD', 'QUERY_STRING', 'REQUEST_URI',
'SCRIPT_NAME']

It's missing PATH_INFO and PATH_TRANSLATED. I do not want to set these
up myself: I don't know how... don't know exactly what must happen to
these. Can't I get the "default apache TransHandler" to take over this
job in the case where I don't want to do it?

Why does the publisher not simply look at e.g. _req.uri or
_req.unparsed_uri?

Thanks,
Hugo van der Merwe

From scott.l.hathaway at lmco.com  Wed Jun  5 09:00:33 2002
From: scott.l.hathaway at lmco.com (Hathaway, Scott L)
Date: Fri Jan  9 21:52:52 2004
Subject: [mod_python] installing mod_python on windows
Message-ID: <DFA15A3E9F82D4119D8C00508BE325420AA10038@emss07m02.lmtas.lmco.com>

Hello All,

I have installed mod_python for windows and I cannot start apache.  Can
someone tell me where I went wrong?
I am using: 

Windows 2000 Pro
Apache 2.0.35
Python 2.2.1
mod_python 2.7.6

Here are the appropriate sections of my conf file:
	LoadModule python_module modules/mod_python.dll
	AddModule mod_python.c

	<Directory "d:/Data/hathasl/apache/Apache2/htdocs/python">
		AddHandler python-program .py
		PythonHandler mptest
		PythonDebug on
	</Directory>

I tried to follow the install instructions on the mod_python website.

If there is any other information that I need to supply, please let me know.

Thanks in advance...
Scott Hathaway

From vmanera at manord.com  Wed Jun  5 18:45:46 2002
From: vmanera at manord.com (Manera, Villiam)
Date: Fri Jan  9 21:52:52 2004
Subject: [mod_python] problem in file download
Message-ID: <801EB84B006ED411898D00B0D03E524712CCB3@PROXYMAIL>

Hello,

I'm trying to download a file:

client side:
<FORM METHOD="POST"
ACTION="http://sviluppo.manord.com/cgi-mpy/prova.py/printfile "
ENCTYPE="multipart/form-data" NAME="FormDati">
<center>
<INPUT TYPE="file" NAME="file1"></center>
<center>
<INPUT TYPE="submit" NAME="invia" VALUE="Invia Dati"></center>

</FORM>

when I sumitted a file mod_python give me this:

Mod_python error: "PythonHandler mod_python.publisher"

Traceback (most recent call last):

  File "C:\Program Files\Python22\Lib\mod_python\apache.py", line 193, in
Dispatch
    result = object(req)

  File "C:\Program Files\Python22\Lib\mod_python\publisher.py", line 104, in
handler
    val = File(field)

  File "C:\Program Files\Python22\Lib\mod_python\publisher.py", line 308, in
__init__
    for m in field.file.__methods__:

  File "C:\programmi\Python22\Lib\tempfile.py", line 178, in __getattr__
    a = getattr(file, name)

AttributeError: 'file' object has no attribute '__methods__'


does anyone have any idea to solve this?

Villiam


From rien at yeepa.org  Wed Jun  5 19:02:51 2002
From: rien at yeepa.org (Adrien Plisson)
Date: Fri Jan  9 21:52:52 2004
Subject: [mod_python] installing mod_python on windows
References: <DFA15A3E9F82D4119D8C00508BE325420AA10038@emss07m02.lmtas.lmco.com>
Message-ID: <002201c20cb2$d4b7c300$01000001@RANDOM>

From: "Hathaway, Scott L" <scott.l.hathaway@lmco.com>
> I have installed mod_python for windows and I cannot start apache. 

It could be very useful if you tell us what Apache says when you launch it.
thanks.

-- 
rien


From johnny.morano at vlaanderen.be  Thu Jun  6 08:46:05 2002
From: johnny.morano at vlaanderen.be (Johnny Morano)
Date: Fri Jan  9 21:52:52 2004
Subject: [mod_python] problem in file download
In-Reply-To: <801EB84B006ED411898D00B0D03E524712CCB3@PROXYMAIL>
References: <801EB84B006ED411898D00B0D03E524712CCB3@PROXYMAIL>
Message-ID: <200206060741.g567fKl05763@s001032.vlaanderen.be>

On Wednesday 05 June 2002 18:45, you wrote:
> getattr(file, name)

is this possible on windows? i thought you could only do that on UNIX 
systems... well, that's the case in php at least. please correct me if i'm 
wrong.

could you maybe show the python code for handling the upload? i've written a 
few upload scripts as well, maybe we can share them ;-)

i usually use the req object too. like:

def insertFile(req):
	form = req.form
	fileObject = form['fileInputField']
	fileData = fileObject.file.read()
	open('/some/path/name/file','wb').write(fileData)

well, this is the very simple fileUploadThing

greetz,
johnny

-- 
Johnny Morano - Linux Consultant
___________________________________________________ 
 Ministerie Vlaamse Gemeenschap                    |
 Koning Albert II-laan, 7 (610) 1210 Brussel       |
 tel: 02/5531319 mail: johnny.morano@vlaanderen.be |

From jfk at metation.com  Thu Jun  6 10:36:22 2002
From: jfk at metation.com (=?iso-8859-1?q?J=F8rgen=20Fr=F8jk=20Kj=E6rsgaard=20{Metation}?=)
Date: Fri Jan  9 21:52:52 2004
Subject: [mod_python] Getting DocumentRoot directive
Message-ID: <02060610362205.00302@grace.informaticon.dk>

Hi,

Is it somehow possible to get the DocumentRoot directive from the Apache 
configuration in mod_python. I need to be able to refer subresources relative 
to DocumentRoot in documents processed by mod_python.

thanks,

J?rgen Fr?jk Kj?rsgaard, direkt?r og systemkonsulent
Metation aps - Kystvejen 29, DK-8000 ?rhus C
Web: www.metation.com  - Tlf: +45 8625 0038 - Mobil: +45 2925 6693

From johnny.morano at vlaanderen.be  Thu Jun  6 10:37:45 2002
From: johnny.morano at vlaanderen.be (Johnny Morano)
Date: Fri Jan  9 21:52:52 2004
Subject: R: [mod_python] problem in file download
In-Reply-To: <801EB84B006ED411898D00B0D03E524712CCB5@PROXYMAIL>
References: <801EB84B006ED411898D00B0D03E524712CCB5@PROXYMAIL>
Message-ID: <200206060933.g569X0l20728@s001032.vlaanderen.be>

On Thursday 06 June 2002 09:59, you wrote:
> 	fileDaSalvare=open(salva_su,'w')
> 	fileDaSalvare.write(form['file_costi'].value)
> 	fileDaSalvare.close()
>
> but work only with text-file

indeed .... change: fileDaSalvare=open(salva_su,'w') into 
fileDaSalvare=open(salva_su, 'wb')

'wb' stands for 'write binary' and this is required for non-textfiles in 
windows.

take a look at the following script (i called it fileUpload.py):
# fileUpload.py
#
from mod_python import util
from mod_python import apache

def form():
    output = """
<html>
<body>
    <form action="insert" method="post" enctype="multipart/form-data" 
name="form">
        File: <input type="file" name="fileField"><br>
        <input type="submit">
    </form>
</body>
</html>
"""
    return output

def insert(req):
    import string
    import os

    form = req.form
    uploadDir = '/tmp/'

    if(form.has_key('fileField')):
        fileData = form['fileField'].file.read()
        filePathName = uploadDir + form['fileField'].filename
        open(filePathName, 'wb').write(fileData)
        return '<html><body>file uploaded to '+filePathName+'</body></html>'
    else:
        return '<html><body>no file to upload</body></html>'

this works... or should work.. well, it works on my pc ;-)

hope this helps

greetz
-- 
Johnny Morano - Linux Consultant
___________________________________________________ 
 Ministerie Vlaamse Gemeenschap                    |
 Koning Albert II-laan, 7 (610) 1210 Brussel       |
 tel: 02/5531319 mail: johnny.morano@vlaanderen.be |

From johnny.morano at vlaanderen.be  Thu Jun  6 12:01:27 2002
From: johnny.morano at vlaanderen.be (Johnny Morano)
Date: Fri Jan  9 21:52:52 2004
Subject: R: R: [mod_python] problem in file download
In-Reply-To: <801EB84B006ED411898D00B0D03E524712CCBB@PROXYMAIL>
References: <801EB84B006ED411898D00B0D03E524712CCBB@PROXYMAIL>
Message-ID: <200206061056.g56Aufl00893@s001032.vlaanderen.be>

On Thursday 06 June 2002 11:45, you wrote:
>
> so I thonk is a bug of mod-python on windows?
>
> I currently use mod python 2.7.6 for python 2.2 and apache 1.3

well, i use mod_python 2.7.8 compiled for python 2.1 and apache 1.3.24
maybe that is the problem

> I tryed also your suggest for cgi(wb, instead that w), but the file will be
> corrupted (not all tranfered, size of 34.4 kb transfered only:4)

well, i have no experience with windows, just linux (debian!) ;-)

> tank you for the time spent for me.

no problem, just wish that i could have helped you ...

greetz,
johnny
-- 
Johnny Morano - Linux Consultant
___________________________________________________ 
 Ministerie Vlaamse Gemeenschap                    |
 Koning Albert II-laan, 7 (610) 1210 Brussel       |
 tel: 02/5531319 mail: johnny.morano@vlaanderen.be |

From Tony_Burger at circuitcity.com  Thu Jun  6 09:54:45 2002
From: Tony_Burger at circuitcity.com (Tony_Burger@circuitcity.com)
Date: Fri Jan  9 21:52:52 2004
Subject: [mod_python] Getting DocumentRoot directive
Message-ID: <OFDFD9B21B.C9EF0515-ON85256BD0.004C4460@ccity.com>

I do something similiar by just opening the config file for read and for ..
readlines() through it until I find what I'm looking for.


From chris at vindaloo.com  Thu Jun  6 11:31:53 2002
From: chris at vindaloo.com (Christopher Sean Hilton)
Date: Fri Jan  9 21:52:52 2004
Subject: [mod_python] problem in file download
In-Reply-To: <801EB84B006ED411898D00B0D03E524712CCB3@PROXYMAIL>; from vmanera@manord.com on Wed, Jun 05, 2002 at 06:45:46PM +0200
References: <801EB84B006ED411898D00B0D03E524712CCB3@PROXYMAIL>
Message-ID: <20020606113153.B6966@moosehead.dsl.net>

On Wed, Jun 05, 2002 at 06:45:46PM +0200, Manera, Villiam wrote:
> Hello,
> 
[snip...]
> 
> AttributeError: 'file' object has no attribute '__methods__'
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ 

I had this problem too. __methods__ is not included in python 2.2 If
you downgrade your python installation to the latest 2.1.x file posts
will work.

Chris Hilton


From chris at vindaloo.com  Thu Jun  6 17:54:26 2002
From: chris at vindaloo.com (Christopher Sean Hilton)
Date: Fri Jan  9 21:52:52 2004
Subject: R: R: [mod_python] problem in file download
In-Reply-To: <200206061056.g56Aufl00893@s001032.vlaanderen.be>; from johnny.morano@vlaanderen.be on Thu, Jun 06, 2002 at 12:01:27PM +0200
References: <801EB84B006ED411898D00B0D03E524712CCBB@PROXYMAIL> <200206061056.g56Aufl00893@s001032.vlaanderen.be>
Message-ID: <20020606175426.D61986@dantooine.vindaloo.com>

On Thu, Jun 06, 2002 at 12:01:27PM +0200, Johnny Morano wrote:
> On Thursday 06 June 2002 11:45, you wrote:
> >
> > so I thonk is a bug of mod-python on windows?
> >
> > I currently use mod python 2.7.6 for python 2.2 and apache 1.3
> 
> well, i use mod_python 2.7.8 compiled for python 2.1 and apache 1.3.24
> maybe that is the problem
> 

His problem is that python 2.2 does not include the __methods__ attribute 
for classes but the publisher.py code which actually handles the file inload 
depends on it. If he downgrades from python 2.2 to python 2.1 he'll have the 
__methods__ attribute of the file class. Someone needs to address this in 
the mod_python code however:

        for m in field.file.__methods__:
            self.__dict__[m] = getattr(field.file, m)

        self.headers = field.headers
        self.filename = field.filename

doesn't work in python 2.2 because __methods__ doesn't exist. The code 
appears to be trying to make local copies of all of the methods in the 
object that gets passed to the user. I had this problem in Unix (FreeBSD) 
two weeks ago and downgrading my python from 2.2 to 2.1 solved it. A google 
search on python, __methods__, 2.1 and 2.2 will yield more information.

Chris

-- 
Chris Hilton                                 chilton-at-vindaloo-dot-com
------------------------------------------------------------------------
                "All I was doing was trying to get home from work!"
                                                 -- Rosa Parks

From dustin at ywlcs.org  Thu Jun  6 22:44:43 2002
From: dustin at ywlcs.org (Dustin Mitchell)
Date: Fri Jan  9 21:52:52 2004
Subject: R: R: [mod_python] problem in file download
In-Reply-To: <20020606175426.D61986@dantooine.vindaloo.com>
References: <801EB84B006ED411898D00B0D03E524712CCBB@PROXYMAIL> <200206061056.g56Aufl00893@s001032.vlaanderen.be> <20020606175426.D61986@dantooine.vindaloo.com>
Message-ID: <20020607034443.GB1852@eleanor.internal.ywlcs.org>

>         for m in field.file.__methods__:
>             self.__dict__[m] = getattr(field.file, m)
> 
>         self.headers = field.headers
>         self.filename = field.filename

Untested in this instance, but in similar situations the equivalent of
dir(field.file) has worked for me.  It does all the chasing up the
inheritance hierarchy necessary.

Dustin

-- 

  Dustin Mitchell
  dustin@ywlcs.org
  http://people.cs.uchicago.edu/~dustin/

From john.garberson at nexos.com  Fri Jun  7 10:54:18 2002
From: john.garberson at nexos.com (John D. Garberson)
Date: Fri Jan  9 21:52:52 2004
Subject: [mod_python] problem in file download
Message-ID: <200206070854.KAA01558@ws2.nexos.com>

Hi,

You wrote a few days back:

> 
> Hello,
> 
> I'm trying to download a file:
> 
....
....
....
a = getattr(file, name)
> 
> AttributeError: 'file' object has no attribute '__methods__'
> 
> 
> does anyone have any idea to solve this?
> 
> Villiam



Having to downgrade seems a bit extreme [;-)

I don't know much about the publisher.py module, never having used it.
But if you do this import:

------------------------------------------------------------------------

from types import BuiltinMethodType

------------------------------------------------------------------------

then this function:

------------------------------------------------------------------------

def sim_methods(obj):
    return filter(lambda s, t=obj:
           type(getattr(t, s)) == BuiltinMethodType,
                                             dir(obj))

--------------------------------------------------------------------------

works under both 2.0 and 2.2.1 (I don't have a 2.1 any more) and delivers
the list of methods that it seems you want, looking at the publisher.py
source.  If you're not a fan of the functional programming approach, then
a list comprehension:

-----------------------------------------------------------------------

def sim_methods(obj):
    return [m for m in dir(obj)
                   if type(getattr(obj, m)) == BuiltinMethodType]

-----------------------------------------------------------------------

works just as well.

You could just replace the 'for m in field.file.__methods__:'

with

'for m in sim_methods(field.file):'

Hope this helps.

John


     John Garberson                             nexos ag 
     john.garberson@nexos.com                   Frobenstrasse 66 
                                                CH-4053 Basel, Switzerland
                                                Tel. 41 61 283 55 03
                                                Fax  41 61 283 55 01


From jfk at metation.com  Fri Jun  7 11:55:17 2002
From: jfk at metation.com (=?iso-8859-1?q?J=F8rgen=20Fr=F8jk=20Kj=E6rsgaard=20{Metation}?=)
Date: Fri Jan  9 21:52:52 2004
Subject: [mod_python] Getting DocumentRoot directive
In-Reply-To: <OFDFD9B21B.C9EF0515-ON85256BD0.004C4460@ccity.com>
References: <OFDFD9B21B.C9EF0515-ON85256BD0.004C4460@ccity.com>
Message-ID: <02060711551701.00287@grace.informaticon.dk>

Torsdag  6. Juni 2002 15:54 skrev Tony_Burger@circuitcity.com:
> I do something similiar by just opening the config file for read and for ..
> readlines() through it until I find what I'm looking for.

I thought about that solution, but, it seems a bit illogical, and will 
degenerate performance a bit. I'd expect Apache to have a method to fetch 
configuration values. If so, it would be a very good thing to have in 
mod_python...

/jfk

From vmanera at manord.com  Fri Jun  7 13:04:42 2002
From: vmanera at manord.com (Manera, Villiam)
Date: Fri Jan  9 21:52:52 2004
Subject: R: R: R: [mod_python] problem in file download
Message-ID: <801EB84B006ED411898D00B0D03E524712CCC6@PROXYMAIL>

I've fixed publisher.py : 
> for m in dir(field.file) :
and now the download seams to do well, but when I attempt to read the file:
	for F in req.form.list:
			if F.name == 'file_costi':
			a=F.file.read()  <-------------this message will
showed:
Mod_python error: "PythonHandler mod_python.publisher"

Traceback (most recent call last):

  File "C:\Program Files\Python22\Lib\mod_python\apache.py", line 193, in
Dispatch
    result = object(req)

  File "C:\Program Files\Python22\Lib\mod_python\publisher.py", line 171, in
handler
    result = apply(object, (), args)

  File "e:/script/cgi/cgi-mpy\download.py", line 48, in printfile
    #doc.append(dir(req))

ValueError: I/O operation on closed file

Villiam

-----Messaggio originale-----
Da: Dustin Mitchell [mailto:dustin@ywlcs.org]
Inviato: venerd? 7 giugno 2002 5.45
A: mod_python@modpython.org
Oggetto: Re: R: R: [mod_python] problem in file download


>         for m in field.file.__methods__:
>             self.__dict__[m] = getattr(field.file, m)
> 
>         self.headers = field.headers
>         self.filename = field.filename

Untested in this instance, but in similar situations the equivalent of
dir(field.file) has worked for me.  It does all the chasing up the
inheritance hierarchy necessary.

Dustin

-- 

  Dustin Mitchell
  dustin@ywlcs.org
  http://people.cs.uchicago.edu/~dustin/
_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From vmanera at manord.com  Fri Jun  7 14:32:13 2002
From: vmanera at manord.com (Manera, Villiam)
Date: Fri Jan  9 21:52:52 2004
Subject: R: [mod_python] problem in file download
Message-ID: <801EB84B006ED411898D00B0D03E524712CCC7@PROXYMAIL>

Wow!!!!! publisher.py patched with this function work fine!!!!

class File:
    """ Like a file, but also has headers and filename
    """
    def __init__(self, field):
        # steal all the file-like methods
        #for m in field.file.__methods__:
        #for m in dir(field.file):    #dont' work
        for m in self.sim_methods(field.file):
            self.__dict__[m] = getattr(field.file, m)

        self.headers = field.headers
        self.filename = field.filename
    
    def sim_methods(self,obj):
        from types import BuiltinMethodType   #parte aggiunta
        return filter(lambda s, t=obj:
           type(getattr(t, s)) == BuiltinMethodType, dir(obj))


thanks all
Villiam
-----Messaggio originale-----
Da: John D. Garberson [mailto:john.garberson@nexos.com]
Inviato: venerd? 7 giugno 2002 10.54
A: vmanera@manord.com
Cc: Mod_python@modpython.org
Oggetto: Re: [mod_python] problem in file download


Hi,

You wrote a few days back:

> 
> Hello,
> 
> I'm trying to download a file:
> 
....
....
....
a = getattr(file, name)
> 
> AttributeError: 'file' object has no attribute '__methods__'
> 
> 
> does anyone have any idea to solve this?
> 
> Villiam



Having to downgrade seems a bit extreme [;-)

I don't know much about the publisher.py module, never having used it.
But if you do this import:

------------------------------------------------------------------------

from types import BuiltinMethodType

------------------------------------------------------------------------

then this function:

------------------------------------------------------------------------

def sim_methods(obj):
    return filter(lambda s, t=obj:
           type(getattr(t, s)) == BuiltinMethodType,
                                             dir(obj))

--------------------------------------------------------------------------

works under both 2.0 and 2.2.1 (I don't have a 2.1 any more) and delivers
the list of methods that it seems you want, looking at the publisher.py
source.  If you're not a fan of the functional programming approach, then
a list comprehension:

-----------------------------------------------------------------------

def sim_methods(obj):
    return [m for m in dir(obj)
                   if type(getattr(obj, m)) == BuiltinMethodType]

-----------------------------------------------------------------------

works just as well.

You could just replace the 'for m in field.file.__methods__:'

with

'for m in sim_methods(field.file):'

Hope this helps.

John


     John Garberson                             nexos ag 
     john.garberson@nexos.com                   Frobenstrasse 66 
                                                CH-4053 Basel, Switzerland
                                                Tel. 41 61 283 55 03
                                                Fax  41 61 283 55 01

_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From geertj at boskant.nl  Fri Jun  7 14:47:18 2002
From: geertj at boskant.nl (geertj@boskant.nl)
Date: Fri Jan  9 21:52:52 2004
Subject: [mod_python] Getting DocumentRoot directive
In-Reply-To: <02060711551701.00287@grace.informaticon.dk>; from jfk@metation.com on Fri, Jun 07, 2002 at 11:55:17AM +0200
References: <OFDFD9B21B.C9EF0515-ON85256BD0.004C4460@ccity.com> <02060711551701.00287@grace.informaticon.dk>
Message-ID: <20020607144718.A4294@vader.boskant.nl>

On Fri, Jun 07, 2002 at 11:55:17AM +0200, J?rgen Fr?jk Kj?rsgaard {Metation} wrote:
> Torsdag  6. Juni 2002 15:54 skrev Tony_Burger@circuitcity.com:
> > I do something similiar by just opening the config file for read and for ..
> > readlines() through it until I find what I'm looking for.
> 
> I thought about that solution, but, it seems a bit illogical, and will 
> degenerate performance a bit. I'd expect Apache to have a method to fetch 
> configuration values. If so, it would be a very good thing to have in 
> mod_python...

I second that! Already a couple of times that I really missed this.

Greetings,
Geert

From chris at vindaloo.com  Fri Jun  7 09:07:48 2002
From: chris at vindaloo.com (Christopher Sean Hilton)
Date: Fri Jan  9 21:52:52 2004
Subject: R: [mod_python] problem in file download
In-Reply-To: <801EB84B006ED411898D00B0D03E524712CCC7@PROXYMAIL>; from vmanera@manord.com on Fri, Jun 07, 2002 at 02:32:13PM +0200
References: <801EB84B006ED411898D00B0D03E524712CCC7@PROXYMAIL>
Message-ID: <20020607090748.A62795@dantooine.vindaloo.com>

On Fri, Jun 07, 2002 at 02:32:13PM +0200, Manera, Villiam wrote:
> Wow!!!!! publisher.py patched with this function work fine!!!!
> 
> class File:
>     """ Like a file, but also has headers and filename
>     """
>     def __init__(self, field):
>         # steal all the file-like methods
>         #for m in field.file.__methods__:
>         #for m in dir(field.file):    #dont' work
>         for m in self.sim_methods(field.file):
>             self.__dict__[m] = getattr(field.file, m)
> 
>         self.headers = field.headers
>         self.filename = field.filename
>     
>     def sim_methods(self,obj):
>         from types import BuiltinMethodType   #parte aggiunta
>         return filter(lambda s, t=obj:
>            type(getattr(t, s)) == BuiltinMethodType, dir(obj))
> 
> 

That's the way to do it. I agree that having to downgrade to 2.1 seems a bit 
extreme but the way I was looking at it the is probably not the only piece 
of obsolete code modpython. You are probably right though and it's certain 
that the patch needs to be written.

Chris
-- 
Chris Hilton                                 chilton-at-vindaloo-dot-com
------------------------------------------------------------------------
                "All I was doing was trying to get home from work!"
                                                 -- Rosa Parks

From grisha at modpython.org  Fri Jun  7 09:50:02 2002
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:52:52 2004
Subject: R: [mod_python] problem in file download
In-Reply-To: <20020607090748.A62795@dantooine.vindaloo.com>
Message-ID: <Pine.BSF.4.32.0206070948080.33843-100000@localhost>

On Fri, 7 Jun 2002, Christopher Sean Hilton wrote:

> That's the way to do it. I agree that having to downgrade to 2.1 seems a bit
> extreme but the way I was looking at it the is probably not the only piece
> of obsolete code modpython. You are probably right though and it's certain
> that the patch needs to be written.

Yes, whatever free time I have I try to spend on the 3.0 version that will
run on Apache 2.0. Probably the simplest way to tackle this one is for
someone to add the publisher patch to the FAQ, at least for the time
being.

Grisha


From chris at vindaloo.com  Fri Jun  7 10:57:52 2002
From: chris at vindaloo.com (Christopher Sean Hilton)
Date: Fri Jan  9 21:52:52 2004
Subject: R: [mod_python] problem in file download
In-Reply-To: <Pine.BSF.4.32.0206070948080.33843-100000@localhost>; from grisha@modpython.org on Fri, Jun 07, 2002 at 09:50:02AM -0400
References: <20020607090748.A62795@dantooine.vindaloo.com> <Pine.BSF.4.32.0206070948080.33843-100000@localhost>
Message-ID: <20020607105752.A63035@dantooine.vindaloo.com>

On Fri, Jun 07, 2002 at 09:50:02AM -0400, Gregory (Grisha) Trubetskoy wrote:
> 
> On Fri, 7 Jun 2002, Christopher Sean Hilton wrote:
> 
> > That's the way to do it. I agree that having to downgrade to 2.1 seems a bit
> > extreme but the way I was looking at it the is probably not the only piece
> > of obsolete code modpython. You are probably right though and it's certain
> > that the patch needs to be written.
> 
> Yes, whatever free time I have I try to spend on the 3.0 version that will
> run on Apache 2.0. Probably the simplest way to tackle this one is for
> someone to add the publisher patch to the FAQ, at least for the time
> being.

I think that you can accomplish the result that your are looking for by 
replacing foo.__methods__ with dir(foo) and callable but I'm not sure of the 
exact construction. It's a little simpler than the patch submitted but a 
bird in the hand is worth two in the bush as they say.

Chris
-- 
Chris Hilton                                 chilton-at-vindaloo-dot-com
------------------------------------------------------------------------
                "All I was doing was trying to get home from work!"
                                                 -- Rosa Parks

From rob at sportsinjuryclinic.net  Fri Jun  7 19:56:17 2002
From: rob at sportsinjuryclinic.net (Rob)
Date: Fri Jan  9 21:52:52 2004
Subject: [mod_python] Sports Injury
Message-ID: <200206071852.g57IqrC37046@eden.ispol.com>

Hi,
www.sportsinjuryclinic.net offers visitors a free 'Virtual Diagnosis' and self help information on over 100 sports related injuries.
If you think this might be of interest to your site visitors, perhaps you could link to us. We would be happy to return the link.
Rob@sportsinjuryclinic.net

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20020607/9a3a132c/attachment-0001.htm
From alex at shop.com  Fri Jun  7 17:02:52 2002
From: alex at shop.com (S. Alexander Jacobson)
Date: Fri Jan  9 21:52:53 2004
Subject: [mod_python] Does Mod_python work w/ python 2.2?
Message-ID: <Pine.WNT.4.43.0206071659270.1068-100000@fanatic>

-Alex-

___________________________________________________________________
S. Alexander Jacobson                   i2x Media
1-212-787-1914 voice                    1-603-288-1280 fax



From chris at vindaloo.com  Fri Jun  7 17:52:49 2002
From: chris at vindaloo.com (Christopher Sean Hilton)
Date: Fri Jan  9 21:52:53 2004
Subject: [mod_python] Does Mod_python work w/ python 2.2?
In-Reply-To: <Pine.WNT.4.43.0206071659270.1068-100000@fanatic>; from alex@shop.com on Fri, Jun 07, 2002 at 05:02:52PM -0400
References: <Pine.WNT.4.43.0206071659270.1068-100000@fanatic>
Message-ID: <20020607175249.A64028@dantooine.vindaloo.com>

On Fri, Jun 07, 2002 at 05:02:52PM -0400, S. Alexander Jacobson wrote:

Some code in mod_python depends on constructions that are obsolete and gone 
in 2.2 particularly the __methods__, __members__ dictionaries from builtin 
types.

-- 
Chris Hilton                                 chilton-at-vindaloo-dot-com
------------------------------------------------------------------------
                "All I was doing was trying to get home from work!"
                                                 -- Rosa Parks

From alex at shop.com  Sat Jun  8 12:35:41 2002
From: alex at shop.com (S. Alexander Jacobson)
Date: Fri Jan  9 21:52:53 2004
Subject: [mod_python] Does Mod_python work w/ python 2.2?
In-Reply-To: <20020607175249.A64028@dantooine.vindaloo.com>
Message-ID: <Pine.WNT.4.43.0206081235160.1068-100000@fanatic>

So does that mean it won't work overall or that
some specific functionality won't work?

-Alex-

On Fri, 7 Jun 2002, Christopher Sean Hilton wrote:

> On Fri, Jun 07, 2002 at 05:02:52PM -0400, S. Alexander Jacobson wrote:
>
> Some code in mod_python depends on constructions that are obsolete and gone
> in 2.2 particularly the __methods__, __members__ dictionaries from builtin
> types.
>
> --
> Chris Hilton                                 chilton-at-vindaloo-dot-com
> ------------------------------------------------------------------------
>                 "All I was doing was trying to get home from work!"
>                                                  -- Rosa Parks
>

___________________________________________________________________
S. Alexander Jacobson                   i2x Media
1-212-787-1914 voice                    1-603-288-1280 fax



From johannes at erdfelt.com  Sat Jun  8 13:10:17 2002
From: johannes at erdfelt.com (Johannes Erdfelt)
Date: Fri Jan  9 21:52:53 2004
Subject: [mod_python] Does Mod_python work w/ python 2.2?
In-Reply-To: <Pine.WNT.4.43.0206081235160.1068-100000@fanatic>; from alex@shop.com on Sat, Jun 08, 2002 at 12:35:41PM -0400
References: <20020607175249.A64028@dantooine.vindaloo.com> <Pine.WNT.4.43.0206081235160.1068-100000@fanatic>
Message-ID: <20020608131017.L26987@sventech.com>

Some specific functionality. I've been using mod_python with python 2.2
for a couple of months now and I haven't stumbled across these problems
yet.

However, I will soon since my next project was handling uploaded files
:) Thankfully there is a patch for that now.

JE

On Sat, Jun 08, 2002, S. Alexander Jacobson <alex@shop.com> wrote:
> So does that mean it won't work overall or that
> some specific functionality won't work?
> 
> -Alex-
> 
> On Fri, 7 Jun 2002, Christopher Sean Hilton wrote:
> 
> > On Fri, Jun 07, 2002 at 05:02:52PM -0400, S. Alexander Jacobson wrote:
> >
> > Some code in mod_python depends on constructions that are obsolete and gone
> > in 2.2 particularly the __methods__, __members__ dictionaries from builtin
> > types.
> >
> > --
> > Chris Hilton                                 chilton-at-vindaloo-dot-com
> > ------------------------------------------------------------------------
> >                 "All I was doing was trying to get home from work!"
> >                                                  -- Rosa Parks
> >
> 
> ___________________________________________________________________
> S. Alexander Jacobson                   i2x Media
> 1-212-787-1914 voice                    1-603-288-1280 fax
> 
> 
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python

From dustin at ywlcs.org  Sat Jun  8 20:40:36 2002
From: dustin at ywlcs.org (Dustin Mitchell)
Date: Fri Jan  9 21:52:53 2004
Subject: [mod_python] Does Mod_python work w/ python 2.2?
In-Reply-To: <20020608131017.L26987@sventech.com>
References: <20020607175249.A64028@dantooine.vindaloo.com> <Pine.WNT.4.43.0206081235160.1068-100000@fanatic> <20020608131017.L26987@sventech.com>
Message-ID: <20020609014035.GE9104@eleanor.internal.ywlcs.org>

Specifically, the only problem so far is in a single line of the publisher
handler which is invoked only on file uploads.  So if you're (a) not using
file uploads or (b) not using publisher, you'll be fine.

Dustin

On Sat, Jun 08, 2002 at 01:10:17PM -0400, Johannes Erdfelt wrote:
> However, I will soon since my next project was handling uploaded files
> :) Thankfully there is a patch for that now.
> 
> On Sat, Jun 08, 2002, S. Alexander Jacobson <alex@shop.com> wrote:
> > So does that mean it won't work overall or that
> > some specific functionality won't work?

-- 

  Dustin Mitchell
  dustin@ywlcs.org
  http://people.cs.uchicago.edu/~dustin/

From johanfo at ohman.no  Sun Jun  9 19:15:21 2002
From: johanfo at ohman.no (=?iso-8859-1?Q?Johan_Fredrik_=D8hman?=)
Date: Fri Jan  9 21:52:53 2004
Subject: [mod_python] make_obcallback():
Message-ID: <000801c20fd9$41117c20$c167f081@matrisen>

make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.
[Sun Jun  9 19:13:08 2002] [error] [client 129.240.103.193] python_handler: make_obcallback returned no obCallBack!


What is most likely to cause this error ?

I'm running Python2.2 with latest mod_python and apache-1.3.22

--
Johan Fredrik ?hman
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20020609/f9a89c78/attachment-0001.htm
From jeffstearns at attbi.com  Sun Jun  9 21:34:57 2002
From: jeffstearns at attbi.com (Jeff Stearns)
Date: Fri Jan  9 21:52:53 2004
Subject: [mod_python] make_obcallback():
In-Reply-To: <000801c20fd9$41117c20$c167f081@matrisen>
Message-ID: <6B2FB838-7C2B-11D6-819E-0030653DCC28@attbi.com>

I imagine that mod_python isn't in the Python search path.  Check to see 
where you installed the mod_python modules.

-jeff stearns


On Sunday, June 9, 2002, at 10:15  AM, Johan Fredrik ?hman wrote:

> make_obcallback(): could not import mod_python.apache.
> make_obcallback(): could not call init.
> [Sun Jun? 9 19:13:08 2002] [error] [client 129.240.103.193] 
> python_handler: make_obcallback returned no obCallBack!
> ?
> ?
> What is most likely to cause this error ?
> ?
> I'm running Python2.2 with latest mod_python and?apache-1.3.22
> ?
> --
> Johan Fredrik ?hman
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 837 bytes
Desc: not available
Url : http://mailman.modpython.org/pipermail/mod_python/attachments/20020609/1dd7756b/attachment-0001.bin
From johanfo at ohman.no  Mon Jun 10 08:16:24 2002
From: johanfo at ohman.no (=?iso-8859-1?Q?Johan_Fredrik_=D8hman?=)
Date: Fri Jan  9 21:52:53 2004
Subject: [mod_python] make_obcallback():
References: <6B2FB838-7C2B-11D6-819E-0030653DCC28@attbi.com>
Message-ID: <001d01c21046$59b82270$c167f081@matrisen>

Thanks for your help.  I solved the problem myself not long after I had sent the mail to this group.  The reason for the error was that the PATH had changed from the time I compiled mod_python to the point where I started it.  This lead to the wrong python intepreter being executed.

--
JF?
  ----- Original Message ----- 
  From: Jeff Stearns 
  To: Johan Fredrik ?hman 
  Cc: mod_python@modpython.org 
  Sent: Monday, June 10, 2002 6:34 AM
  Subject: Re: [mod_python] make_obcallback():


  I imagine that mod_python isn't in the Python search path. Check to see where you installed the mod_python modules.

  -jeff stearns


  On Sunday, June 9, 2002, at 10:15 AM, Johan Fredrik ?hman wrote:


    make_obcallback(): could not import mod_python.apache.
    make_obcallback(): could not call init.
    [Sun Jun  9 19:13:08 2002] [error] [client 129.240.103.193] python_handler: make_obcallback returned no obCallBack!
     
     
    What is most likely to cause this error ?
     
    I'm running Python2.2 with latest mod_python and apache-1.3.22
     
    --
    Johan Fredrik ?hman

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20020610/eefffc3c/attachment-0001.htm
From sandor.kopanyi at mailbox.hu  Mon Jun 10 11:12:37 2002
From: sandor.kopanyi at mailbox.hu (sandor.kopanyi@mailbox.hu)
Date: Fri Jan  9 21:52:53 2004
Subject: [mod_python] Getting DocumentRoot directive
In-Reply-To: <20020607144718.A4294@vader.boskant.nl>
Message-ID: <20020610091237.26373.qmail@web2.mailbox.hu>

> > configuration values. If so, it would be a very good thing to have
in 
> > mod_python...
> 
> I second that! Already a couple of times that I really missed this.
> 

Me too!

Regards,
Sandor

--------------------------------------------------
http://www.mailbox.hu - Mert levelezni kell...


From sandor.kopanyi at mailbox.hu  Mon Jun 10 11:12:37 2002
From: sandor.kopanyi at mailbox.hu (sandor.kopanyi@mailbox.hu)
Date: Fri Jan  9 21:52:53 2004
Subject: [mod_python] Getting DocumentRoot directive
In-Reply-To: <20020607144718.A4294@vader.boskant.nl>
Message-ID: <20020610091237.26373.qmail@web2.mailbox.hu>

> > configuration values. If so, it would be a very good thing to have
in 
> > mod_python...
> 
> I second that! Already a couple of times that I really missed this.
> 

Me too!

Regards,
Sandor

--------------------------------------------------
http://www.mailbox.hu - Mert levelezni kell...


From johanfo at ohman.no  Tue Jun 11 11:01:48 2002
From: johanfo at ohman.no (=?iso-8859-1?Q?Johan_Fredrik_=D8hman?=)
Date: Fri Jan  9 21:52:53 2004
Subject: [mod_python] Pro / Cons with the Publisher
Message-ID: <000801c21126$a3037f20$c167f081@matrisen>

Hi there,  I'm considering writing a medium large website using mod_python.  I have already made my own session and template routines.  They are quite simple, but they do work, which I consider to be most important.   
However,  I'm not sure if to use the Publisher handler or not.  It seems like you loose a little control by using it.  Are there anybody out there who can fill me in with their experience on the Publisher handler ?  Pros / Cons ? 
I'd love to see some sites that was written with mod_python too, so if you have some examples, let me know !

--
Johan Fredrik ?hman
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20020611/2d28bc8c/attachment-0001.htm
From kastner.j at supp.cz  Tue Jun 11 11:40:15 2002
From: kastner.j at supp.cz (=?iso-8859-2?Q?Ji=F8=ED_Kastner?=)
Date: Fri Jan  9 21:52:53 2004
Subject: [mod_python] database example on win2k
Message-ID: <000d01c2112b$fde4ee60$0301a8c0@pentium>

is possible to establish permanent db connection on win2k (winnt,win9x...)?
i'm not sure if windoze know this way...
thanx
jiri kastner



From vmanera at manord.com  Tue Jun 11 17:47:44 2002
From: vmanera at manord.com (Manera, Villiam)
Date: Fri Jan  9 21:52:53 2004
Subject: R: [mod_python] database example on win2k
Message-ID: <801EB84B006ED411898D00B0D03E524712CCCD@PROXYMAIL>

yes it's possible.
I've write a pool of connection ad I give a pointer to it at anyone that
need a connection. If any is busy a new one will be created.

Villiam

-----Messaggio originale-----
Da: Jir? Kastner [mailto:kastner.j@supp.cz]
Inviato: martedi 11 giugno 2002 11.40
A: mod_python@modpython.org
Oggetto: [mod_python] database example on win2k


is possible to establish permanent db connection on win2k (winnt,win9x...)?
i'm not sure if windoze know this way...
thanx
jiri kastner


_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From a_maseko1 at hotvoice.com  Sun Jun 16 11:03:41 2002
From: a_maseko1 at hotvoice.com (Mrs. Mariam M. Seseseko.)
Date: Fri Jan  9 21:52:53 2004
Subject: [mod_python] urgent assistance Needed
Message-ID: <200206161002.g5GA2UC50427@eden.ispol.com>

Dear friend,

I am Mrs. Sese-seko widow of late President Mobutu
Sese-seko of Zaire, now known as Democratic Republic
of Congo (DRC). I am moved to write you this
letter. This was in confidence considering my present
circumstance and situation. I escaped along with my
husband and two of our sons Charles and Basher out of
Democratic Republic of Congo (DRC) to Abidjan, Cote
d'ivoire where my family and I settled, while we later
moved to settled in Morroco where my husband later
died of cancer disease.

However, due to this situation we decided to change
most of my husband's billions of dollars deposited in
Swiss bank and other countries into other forms of
money coded for safe purpose because the new head of
state of (Dr) Mr Laurent Kabila has made arrangement
with the Swiss government and other European countries
to freeze all my late husband's treasures deposited in
some european countries. Hence, my children and I
decided laying low in Africa to study the situation
till when things gets better. Like now that
president Kabila is dead and the son taking over
(Joseph Kabila). One of my late husband's chateaux in
Southern France was confiscated by the french
government, and as such I had to change my identity so
that my investment will not be traced and confiscated.

I have deposited the sum Eighteen Million United State
Dollars (US$18,000,000,00.) With a security company
for safe keeping. What I want you to do is to indicate
your interest that you can assist us in receiving the
money on our behalf, so that I can introduce you to my
son (charles) who has the out modalities for the claim
of the said funds. I want you to assist in investing
this money, but I will not want my identity revealed.
I will also want to acquire real/landed properties and
stock in multi-national companies and to engage in
other safe and non-speculative investments as advise
by your good self.

May I at this point emphasize the high level of
confidentiality, which this upcoming project demands,
and hope you will not betray the trust and
confidence, which I repose in you.In conclusion, if
you want to assist us, my son (JAMSE) shall divulge
to
you all briefs regarding this project, tell you where
the funds are currently being maintained and also
discuss remuneration for your services.For this reason
kindly furnish us your contact information,that is
your personal telephone and fax number for validation
purpose and acknowledge receipt of this mail using the
above email address.

Yours sincerely,

Mrs. Mariam M. Seseseko.







From rien at yeepa.org  Sun Jun 16 12:23:00 2002
From: rien at yeepa.org (Adrien Plisson)
Date: Fri Jan  9 21:52:53 2004
Subject: [mod_python] urgent assistance Needed
References: <200206161002.g5GA2UC50427@eden.ispol.com>
Message-ID: <000701c2151f$cb4918d0$01000001@RANDOM>

mod_python mailing-list  being spammed ? huhu...

anyway, do never reply to the former message. simply because it's a trap !
here in belgium, some people have been ruined in tryingto do what they
wanted.
that's simple :
- first, they claim they need some money to be able to do the transfert
- second they claim money again to be able to pay an intermediary
- third they claim money again and again for an obscure reason
and you will never see the hundreds of dollars they promised you...

and if it's not the widow of president mobutu, it's another old african
dictator.
so, beware...

regards.

--
rien

ps: btw, being french, i do not remember that french authorities did
confiscate any Chateau...


From s_lott at yahoo.com  Sun Jun 16 06:10:22 2002
From: s_lott at yahoo.com (Steven Lott)
Date: Fri Jan  9 21:52:53 2004
Subject: [mod_python] urgent assistance Needed
In-Reply-To: <200206161002.g5GA2UC50427@eden.ispol.com>
Message-ID: <20020616131022.55491.qmail@web9607.mail.yahoo.com>

"confidence"?  to a listserver?  ha ha ha ha ha

I've seen this letter several times before, I think that someone
should shut down the servers at hotvoice.com because they are
clearly part of some kind of fraud.


--- "Mrs. Mariam M. Seseseko." <a_maseko1@hotvoice.com> wrote:
> Dear friend,
> 
[snip]This was in confidence considering my present
> circumstance and situation. [snip]


=====
--
S. Lott, CCP :-{)
S_LOTT@YAHOO.COM
http://www.mindspring.com/~slott1
Buccaneer #468: KaDiMa

Macintosh user: drinking upstream from the herd.

__________________________________________________
Do You Yahoo!?
Yahoo! - Official partner of 2002 FIFA World Cup
http://fifaworldcup.yahoo.com

From pyth at devel.trillke.net  Mon Jun 17 18:04:35 2002
From: pyth at devel.trillke.net (holger krekel)
Date: Fri Jan  9 21:52:53 2004
Subject: [mod_python] current state with apache 2.0?
Message-ID: <20020617180435.T15079@prim.han.de>

Hello,

i am interested in getting mod_python to work with apache2 and python2.2. 

1. How much trouble should i expect? 

2. Is there a usable cvs-branch for 3.0.0?

thanks,

    holger
 

From grisha at modpython.org  Mon Jun 17 12:29:37 2002
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:52:53 2004
Subject: [mod_python] current state with apache 2.0?
In-Reply-To: <20020617180435.T15079@prim.han.de>
Message-ID: <Pine.BSF.4.32.0206171227150.74873-100000@localhost>

The most usable one for apache 2.0 is HEAD actually. Your mileage will
vary, but it has worked for other people in its present state.

Grisha

On Mon, 17 Jun 2002, holger krekel wrote:

> Hello,
>
> i am interested in getting mod_python to work with apache2 and python2.2.
>
> 1. How much trouble should i expect?
>
> 2. Is there a usable cvs-branch for 3.0.0?
>
> thanks,
>
>     holger
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From colin at unibusiness.co.uk  Mon Jun 17 18:11:00 2002
From: colin at unibusiness.co.uk (Colin Coates)
Date: Fri Jan  9 21:52:53 2004
Subject: [mod_python] current state with apache 2.0?
References: <20020617180435.T15079@prim.han.de>
Message-ID: <002e01c21621$f3f8dce0$0e02015a@ColinPC>

Seconded!

I am very fresh to mod_python myself, but I am already quite impressed with its
elegance. (I tried using Zope, but got rather scared by the steepness of the
learning curve!)

I am very interested in getting mod_python to work with Apache2 and keeping it
up to date with releases of Python - especially seeing as I do web applications
for a living!

Kind Regards,
Colin.

----- Original Message -----
From: "holger krekel" <pyth@devel.trillke.net>
To: <mod_python@modpython.org>
Sent: Monday, June 17, 2002 5:04 PM
Subject: [mod_python] current state with apache 2.0?


> Hello,
>
> i am interested in getting mod_python to work with apache2 and python2.2.
>
> 1. How much trouble should i expect?
>
> 2. Is there a usable cvs-branch for 3.0.0?
>
> thanks,
>
>     holger
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>
>
>


From gbenson at redhat.com  Mon Jun 17 20:00:47 2002
From: gbenson at redhat.com (Gary Benson)
Date: Fri Jan  9 21:52:53 2004
Subject: [mod_python] current state with apache 2.0?
In-Reply-To: <20020617180435.T15079@prim.han.de>
Message-ID: <Pine.LNX.4.44.0206171958370.4793-100000@slippy.rat>

On Mon, 17 Jun 2002, holger krekel wrote:

> i am interested in getting mod_python to work with apache2 and python2.2. 
> 
> 1. How much trouble should i expect? 

With Apache 2.0.36 not a lot unless you try to write an input filter
since the API changed and mod_python hasn't been fixed yet.

It's nice and stable with Python 2.2 as well, although I understand there 
are some things in there that 2.2 doesn't like.

> 2. Is there a usable cvs-branch for 3.0.0?

Yup: HEAD :)

Cheers,
Gary

[ gbenson@redhat.com ][ GnuPG 85A8F78B ][ http://inauspicious.org/ ]


From Jacques.Maree at spacebel.be  Tue Jun 18 11:24:28 2002
From: Jacques.Maree at spacebel.be (=?iso-8859-1?Q?Jacques_Mar=E9e?=)
Date: Fri Jan  9 21:52:53 2004
Subject: [mod_python] modpython and SSL
Message-ID: <9310801AA6D6BD4CABF9AF8D3565D520051DA1@mail-hlt.hlt.spacebel.be>

We have used Apache + modpython + Python + MS-Access for a project, and
everything works fine.

Our client ask for a new development, but with the secure protocol SSL.

Do you have experimented such an environment? The Apache documentation shows
how to patch the HTTP server in order to handle SSL, but I wonder if
modpython will continue to work. In other words, do the CGIs receive the
same information when the httpd server uses SSL or when httpd server is
"unsecured" ?

Thanks 

Jacques MAREE

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20020618/b4ca138a/attachment-0001.htm
From gbenson at redhat.com  Tue Jun 18 16:30:16 2002
From: gbenson at redhat.com (Gary Benson)
Date: Fri Jan  9 21:52:53 2004
Subject: [mod_python] modpython and SSL
In-Reply-To: <9310801AA6D6BD4CABF9AF8D3565D520051DA1@mail-hlt.hlt.spacebel.be>
Message-ID: <Pine.LNX.4.44.0206181626470.6609-100000@slippy.rat>

On Tue, 18 Jun 2002, Jacques Mar?e wrote:

> We have used Apache + modpython + Python + MS-Access for a project, and
> everything works fine.
> 
> Our client ask for a new development, but with the secure protocol SSL.
> 
> Do you have experimented such an environment? The Apache documentation
> shows how to patch the HTTP server in order to handle SSL, but I wonder
> if modpython will continue to work. In other words, do the CGIs receive
> the same information when the httpd server uses SSL or when httpd server
> is "unsecured" ?

All your scripts should work straight out of the box unless you generate
absolute URLs (in which case you'll have to change the http to a https).
FYI CGIs and the like actually get _more_ information when SSL is running,
since a bunch of variables get set to let your scripts know what cipher is
in use and so on.

Don't forget to recompile all your modules (mod_python included) against
the SSL-patched Apache since they are binary-incompatible with each other.

Cheers,
Gary

[ gbenson@redhat.com ][ GnuPG 85A8F78B ][ http://inauspicious.org/ ]


From CMaine at BroadLink.com  Tue Jun 18 10:38:41 2002
From: CMaine at BroadLink.com (Chad Maine)
Date: Fri Jan  9 21:52:53 2004
Subject: [mod_python] modpython and SSL
Message-ID: <216CFCF61FEAD311AE64009027E23B7C01020030@mail.broadlink.com>

An easier option would be to use mod_ssl in place of an ssl-enabled apache.
http://www.modssl.org  We use mod_python and mod_ssl together with no
problems.

-----Original Message-----
From: Gary Benson [mailto:gbenson@redhat.com]
Sent: Tuesday, June 18, 2002 8:30 AM
To: Jacques Mar?e
Cc: 'mod_python@modpython.org'
Subject: Re: [mod_python] modpython and SSL



On Tue, 18 Jun 2002, Jacques Mar?e wrote:

> We have used Apache + modpython + Python + MS-Access for a project, and
> everything works fine.
> 
> Our client ask for a new development, but with the secure protocol SSL.
> 
> Do you have experimented such an environment? The Apache documentation
> shows how to patch the HTTP server in order to handle SSL, but I wonder
> if modpython will continue to work. In other words, do the CGIs receive
> the same information when the httpd server uses SSL or when httpd server
> is "unsecured" ?

All your scripts should work straight out of the box unless you generate
absolute URLs (in which case you'll have to change the http to a https).
FYI CGIs and the like actually get _more_ information when SSL is running,
since a bunch of variables get set to let your scripts know what cipher is
in use and so on.

Don't forget to recompile all your modules (mod_python included) against
the SSL-patched Apache since they are binary-incompatible with each other.

Cheers,
Gary

[ gbenson@redhat.com ][ GnuPG 85A8F78B ][ http://inauspicious.org/ ]

_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From gbenson at redhat.com  Tue Jun 18 18:49:45 2002
From: gbenson at redhat.com (Gary Benson)
Date: Fri Jan  9 21:52:53 2004
Subject: [mod_python] modpython and SSL
In-Reply-To: <216CFCF61FEAD311AE64009027E23B7C01020030@mail.broadlink.com>
Message-ID: <Pine.LNX.4.44.0206181844320.6609-100000@slippy.rat>

On Tue, 18 Jun 2002, Chad Maine wrote:

> An easier option would be to use mod_ssl in place of an ssl-enabled apache.
> http://www.modssl.org  We use mod_python and mod_ssl together with no
> problems.

mod_ssl == ssl-enabled apache. The original Apache API wasn't flexible
enough for mod_ssl to do what it does, and before you can build mod_ssl
you need to apply the mod_ssl EAPI (Literally extended API) patch and
rebuild Apache.  Since the API is changed, you _must_ rebuild any modules
compiled against the unpatched version.

> -----Original Message-----
> From: Gary Benson [mailto:gbenson@redhat.com]
> Sent: Tuesday, June 18, 2002 8:30 AM
> To: Jacques Mar?e
> Cc: 'mod_python@modpython.org'
> Subject: Re: [mod_python] modpython and SSL
> 
> On Tue, 18 Jun 2002, Jacques Mar?e wrote:
> 
> > We have used Apache + modpython + Python + MS-Access for a project, and
> > everything works fine.
> > 
> > Our client ask for a new development, but with the secure protocol SSL.
> > 
> > Do you have experimented such an environment? The Apache documentation
> > shows how to patch the HTTP server in order to handle SSL, but I wonder
> > if modpython will continue to work. In other words, do the CGIs receive
> > the same information when the httpd server uses SSL or when httpd server
> > is "unsecured" ?
> 
> All your scripts should work straight out of the box unless you generate
> absolute URLs (in which case you'll have to change the http to a https).
> FYI CGIs and the like actually get _more_ information when SSL is running,
> since a bunch of variables get set to let your scripts know what cipher is
> in use and so on.
> 
> Don't forget to recompile all your modules (mod_python included) against
> the SSL-patched Apache since they are binary-incompatible with each other.
> 
> Cheers,
> Gary
> 
> [ gbenson@redhat.com ][ GnuPG 85A8F78B ][ http://inauspicious.org/ ]
> 
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
> 

[ gbenson@redhat.com ][ GnuPG 85A8F78B ][ http://inauspicious.org/ ]


From grisha at modpython.org  Tue Jun 18 14:27:12 2002
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:52:53 2004
Subject: [mod_python] modpython and SSL
In-Reply-To: <Pine.LNX.4.44.0206181844320.6609-100000@slippy.rat>
Message-ID: <Pine.BSF.4.32.0206181424130.92285-100000@localhost>


On Tue, 18 Jun 2002, Gary Benson wrote:

> mod_ssl == ssl-enabled apache.

There is also something called Apache-SSL that the original poster may
have been referring to:

http://www.apache-ssl.org/#mod_ssl

I personaly favor mod_ssl, and have used with mod_python extensively with
no problems.

Grisha


From Nik.Barron at pennantplc.co.uk  Wed Jun 19 11:59:40 2002
From: Nik.Barron at pennantplc.co.uk (Nik Barron)
Date: Fri Jan  9 21:52:53 2004
Subject: [mod_python] DLLs and versions of Python
Message-ID: <F17550784FF9D111B7F100E02921B24741EA47@NT-SOTON-001>

Hi,

I have a question regarding the mod_python DLL and versions of Python. I
have an application using mod_python under Windows NT that is currently
running under 2.2, but I may need to drop back to 1.5. Looking through the
binaries directory on the website I can't find a recent DLL built for 1.5 --
is 1.5 no longer supported, or am I missing something obvious (the most
likely explanation!)

Many thanks,

Nick Barron
Manager, E-Services Division
Pennant Software Services Ltd -- Registered in England No. 3772667
PGP: A94C 4190 026E 3E02 6D50  C8FA 8620 3091 FF34 533D

From strang at nmr.mgh.harvard.edu  Wed Jun 19 10:38:29 2002
From: strang at nmr.mgh.harvard.edu (Gary Strangman)
Date: Fri Jan  9 21:52:53 2004
Subject: [mod_python] **kw syntax
Message-ID: <Pine.GSO.3.96.1020619103229.18745E-100000@bucky.nmr.mgh.harvard.edu>

Hi all,

I'm relatively new to mod_python (and apache), and so I'll bet my problem
is probably a direct consequence of that. I'm using mod_python to
dynamically generate a list of HTML checkboxes from a database. The list
of checkboxes then get inserted into a <form> block on a web page. I want
the <form>'s POST method deliver the (keyword,value) pairs from the form
to a python-based handler. My problem is this: I can't get get the **kw
syntax to work with mod_python. That is, if my form looks like this ... 

<form action="makechanges" method="POST">
  <input type=checkbox name="name1" checked>One<br>
  <input type=checkbox name="name2" checked>Two<br>
  <input type=checkbox name="name3">Three<br>
  <input type=checkbox name="name4">Four<br>
  <input type="submit">
</form>

... and my python function is defined as follows ...

def makechanges(request, **kw):

... makechanges() receives kw={} regardless of the status of the
checkboxes. If instead my function is defined as ... 

def makechanges(request, name1=None, **kw):

... then makechanges() gets name1='on' (if the name1 box was checked), but
nothing in kw, again regardless of checkbox status. The same happens if I
define the function as ...

def makechanges(request, name1=None, *args, **kw):

Any ideas on how to handle dynamically generated forms in general (and/or
with dynamically generated checkbox name attributes in particular)? Oh,
all this is on python2.2, mod_python2.7.6, apache1.3.24, Win98. 

Thanks.

Gary
strang-@at@-nmr.mgh.harvard.edu



From infomailsys at mail.ru  Thu Jun 20 09:37:47 2002
From: infomailsys at mail.ru (New Banner Systems)
Date: Fri Jan  9 21:52:53 2004
Subject: [mod_python] business gifts
Message-ID: <200206200530.g5K5UqC13957@eden.ispol.com>

An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20020620/c4080567/attachment-0001.htm
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/jpeg
Size: 18974 bytes
Desc: not available
Url : http://mailman.modpython.org/pipermail/mod_python/attachments/20020620/c4080567/attachment-0001.jpg
From sandor.kopanyi at mailbox.hu  Thu Jun 20 10:10:18 2002
From: sandor.kopanyi at mailbox.hu (sandor.kopanyi@mailbox.hu)
Date: Fri Jan  9 21:52:53 2004
Subject: [mod_python] **kw syntax
In-Reply-To: <Pine.GSO.3.96.1020619103229.18745E-100000@bucky.nmr.mgh.harvard.edu>
Message-ID: <20020620081018.28453.qmail@web2.mailbox.hu>

Hi Gary,

> I want the <form>'s POST method deliver the (keyword,value) pairs from
the form
> to a python-based handler. My problem is this: I can't get get the **kw
> syntax to work with mod_python. That is, if my form looks like this 

[...]

> ... and my python function is defined as follows ...
> 
> def makechanges(request, **kw):
> 
> ... makechanges() receives kw={} regardless of the status of the
> checkboxes. If instead my function is defined as ... 

Define your function like this:
def makechanges(request):

The request object contains your fields, in request.form.list .
You can process them in a loop:
for f in request.form.list:
    #f.name is the name of the field
    #f.value holds the value of the field

(See more in modpythion docs, chapter 4.4)

Cheers,
Sandor


--------------------------------------------------
http://www.mailbox.hu - Mert levelezni kell...


From pkr at daimi.au.dk  Thu Jun 20 11:36:58 2002
From: pkr at daimi.au.dk (Peter Kjellerup Rasmussen)
Date: Fri Jan  9 21:52:54 2004
Subject: [mod_python] mod_python with apache-2.0.39
Message-ID: <000a01c2183e$062bd4d0$0300000a@peter>

Is it possible to run mod_python with apache2? 
I've tried to compile it both as a dso and static but with no luck.

Reg.

Peter Rasmussen


From gionuein at autistici.org  Thu Jun 20 13:27:46 2002
From: gionuein at autistici.org (gionuein@autistici.org)
Date: Fri Jan  9 21:52:54 2004
Subject: [mod_python] mod_python.publisher+404 not found+sorry i know im a newbie...
Message-ID: <20020620132746.38D5633505@astio.investici.org>

hi guys-

it seems i have a problem ;))
basically, i compiled the sources and read docs
to make it works - i made basic changes to http.conf
and mod_python worked fine -
now id like to make something more complicated and im
lookin at mod_python.publisher - i follow the docs
http://www.modpython.org/live/mod_python-2.7.8/doc-html/tut-pub.html
and i change http.conf this way:

AddHandler python-program .py
PythonHandler mod_python.publisher

but when i try to get myfile.py - a '404 not found'
happens and im sure the file is in the right dir

someone can help me to understand what's going on?

red hat 7.2 /*/ 2.4.7 kernel

ps:
i surfed archives but i didn't find something
that satisfied me -
im quite a newbie on python stuff
im moving from a couple of years of php
;)



thanks a lot

tropiko

From grisha at modpython.org  Thu Jun 20 09:50:45 2002
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:52:54 2004
Subject: [mod_python] mod_python with apache-2.0.39
In-Reply-To: <000a01c2183e$062bd4d0$0300000a@peter>
Message-ID: <Pine.BSF.4.32.0206200949510.18732-100000@localhost>

Only the next version (3.x) will work with 2.0. 3.x is still alpha quality
I would say, and you can only get it through CVS.

Grisha

On Thu, 20 Jun 2002, Peter Kjellerup Rasmussen wrote:

> Is it possible to run mod_python with apache2?
> I've tried to compile it both as a dso and static but with no luck.
>
> Reg.
>
> Peter Rasmussen
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From mbp at samba.org  Fri Jun 21 04:30:57 2002
From: mbp at samba.org (Martin Pool)
Date: Fri Jan  9 21:52:54 2004
Subject: [mod_python] **kw syntax
In-Reply-To: <20020620081018.28453.qmail@web2.mailbox.hu>
References: <Pine.GSO.3.96.1020619103229.18745E-100000@bucky.nmr.mgh.harvard.edu> <20020620081018.28453.qmail@web2.mailbox.hu>
Message-ID: <20020620183053.GA3529@toey.sourcefrog.net>

On 20 Jun 2002, sandor.kopanyi@mailbox.hu wrote:

> Define your function like this:
> def makechanges(request):
> 
> The request object contains your fields, in request.form.list .
> You can process them in a loop:
> for f in request.form.list:
>     #f.name is the name of the field
>     #f.value holds the value of the field

I know that's the way to do it now.  However, I think the original
poster has a good point that it might be both intuitive and useful for
the publisher to pack any arguments that are not consumed by named
parameters into the keyword argument dictionary, if the function
accepts one.  I don't think this would be terribly hard to implement.

-- 
Martin 

Every Python user scoffed at it once, saying significant whitespace is
the past.
	-- Moshe Zadka (?)

From nicks at metrolink.com  Fri Jun 21 10:13:27 2002
From: nicks at metrolink.com (Nick Seidenman)
Date: Fri Jan  9 21:52:54 2004
Subject: [mod_python] server (internal) redirect
Message-ID: <3D133487.6020406@metrolink.com>

I'm using the publisher handler to construct a page that has SSI 
(server-side include) code in it.  Once the page is built I want to then 
run it back through the server.  Just setting

    req.content_type = text/x-server-parsed-html

doesh't do it.  Any suggestion?

Please note, I'm NOT talking about an HTTP redirect;  I'm talking about 
returning something to the publisher that will let it know it needs to 
run the output back through the server so that the SSI code can be 
processed before sending it back to the client.

TiA,

Nick


From grisha at modpython.org  Fri Jun 21 10:41:26 2002
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:52:54 2004
Subject: [mod_python] server (internal) redirect
In-Reply-To: <3D133487.6020406@metrolink.com>
Message-ID: <Pine.BSF.4.32.0206211036200.32967-100000@localhost>

I don't think this is possible with Apache 1.3. The content from
mod_python does not get later processed by mod_ssi, it goes directly to
the client.

I believe Apache 2.0 implements SSI as a filter, and you could do
something like this. But I don't think mod_python 3.0 will be released
before August.

In any event - you might want to rethink your strategy. Including a file
is very easily done in Python, I'm not sure why you would to delegate that
to mod_ssi.

Grisha

On Fri, 21 Jun 2002, Nick Seidenman wrote:

>
> I'm using the publisher handler to construct a page that has SSI
> (server-side include) code in it.  Once the page is built I want to then
> run it back through the server.  Just setting
>
>     req.content_type = text/x-server-parsed-html
>
> doesh't do it.  Any suggestion?
>
> Please note, I'm NOT talking about an HTTP redirect;  I'm talking about
> returning something to the publisher that will let it know it needs to
> run the output back through the server so that the SSI code can be
> processed before sending it back to the client.
>
> TiA,
>
> Nick
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From MAILER-DAEMON13240 at google.com  Fri Jun 21 21:49:17 2002
From: MAILER-DAEMON13240 at google.com (Farmgirl18692)
Date: Fri Jan  9 21:52:54 2004
Subject: [mod_python] Real ZOO web site, welcome! ID<prgbs|wkrqCprgs|wkrq1ruj>
Message-ID: <200206211746.g5LHk6C35124@eden.ispol.com>

An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20020621/ab11a66d/attachment-0001.htm
From l0biz0n at myrealbox.com  Fri Jun 21 18:11:57 2002
From: l0biz0n at myrealbox.com (l0biz0n)
Date: Fri Jan  9 21:52:54 2004
Subject: [mod_python] stupids out off the list
Message-ID: <7399959090.20020621181157@myrealbox.com>

hi list ,

who are the stupid , what is spaming the list with
porno advertisements.

--
Regards

|/\|_ o_ /\._ 
|\/|_)|/_\/| | mailto:l0biz0n@myrealbox.com



From jquinte at fadu.uba.ar  Fri Jun 21 19:03:54 2002
From: jquinte at fadu.uba.ar (Javier Quinteros)
Date: Fri Jan  9 21:52:54 2004
Subject: [mod_python] Real ZOO web site, welcome! ID<prgbs|wkrqCprgs|wkrq1ruj>
In-Reply-To: <200206211746.g5LHk6C35124@eden.ispol.com>
Message-ID: <FEV62KELGT8HBB0D9XW5YYNUSGC.3d13a2ca@upsala>

Are this animals using mod_python in their website ???  ;-)

/jq

21-Jun-02 2:49:17 PM, "Farmgirl18692" <MAILER-DAEMON13240@google.com> wrote:

>  The BEST zoo site on the @net!
>  Sex With Dogs
>  Horse Blow Jobs.
>  Snake Fuck.
>  REAL ANIMAL FUCKING!
>  100% HARDCORE!
>  ww1.only-beasts.com
>
>  unsub
>  Good luck, .
>
>
> _______________________________________________ Mod_python mailing list
> Mod_python@modpython.org http://www.modpython.org/mailman/listinfo/mod_python




From gionuein at autistici.org  Mon Jun 24 14:22:24 2002
From: gionuein at autistici.org (gionuein@autistici.org)
Date: Fri Jan  9 21:52:54 2004
Subject: [mod_python] includes/external files
Message-ID: <20020624142224.A110033886@astio.investici.org>

hi all -
i been dealing with mod python from a couple of weeks -
but i still dont understand to make stuff as php includes
works good in a python enviromente -
im really interested in web scripting -
and i lookin for a way to use includes or external files with routines and
code to manage my web site.

can someone help me?
a link to a good refernce would be great
;)

thank u very much

tropiko


From Hans.Yandle at cingular.com  Mon Jun 24 10:54:59 2002
From: Hans.Yandle at cingular.com (Yandle, Hans)
Date: Fri Jan  9 21:52:54 2004
Subject: [mod_python] includes/external files
Message-ID: <D31B04F24EDE7644BB169BB4F080778A01F4C4C5@s30342g004005>

If you would like a python approach to server side includes similar to what
php does, you might want to check out http://www.ccraig.org/software/pyhp/.
I use it for quick and small stuff. For more complicated work/methods/cgi, I
would recommend mod_python's Publisher Handler (manual 3.4) or the use of
other handlers. 

-----Original Message-----
From: gionuein@autistici.org [mailto:gionuein@autistici.org]
Sent: Monday, June 24, 2002 10:22 AM
To: mod_python@modpython.org
Subject: [mod_python] includes/external files



hi all -
i been dealing with mod python from a couple of weeks -
but i still dont understand to make stuff as php includes
works good in a python enviromente -
im really interested in web scripting -
and i lookin for a way to use includes or external files with routines and
code to manage my web site.

can someone help me?
a link to a good refernce would be great?
;)

thank u very much

tropiko

_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From Nik.Barron at pennantplc.co.uk  Wed Jun 26 17:01:56 2002
From: Nik.Barron at pennantplc.co.uk (Nik Barron)
Date: Fri Jan  9 21:52:54 2004
Subject: [mod_python] Instances and differences between Win32 and Linux
Message-ID: <F17550784FF9D111B7F100E02921B24741EA6A@NT-SOTON-001>

Hi,

I'm working on an XML application using mod_python. Without going into too
much detail, what it does is suck an XML file into memory and then allow
multiple users to work on the in-memory copy via the web. The main reason
for this is performance, as processing the file on the initial load is slow,
and also to provide granular locking (the file is split into 1500 or so key
elements, and the locking needs to be per element).

This works fine in Win32; I do the locking by a simple dictionary, e.g. if
user nik is editing requirement foo, editLocks['foo'] = 'nik' and so on.
This seems to work as expected.

However, I am in the process of moving it over to a Linux box for various
reasons. The code works, but it appears (I'm investigating in more detail at
the moment) that it is now running multiple instances, i.e. the locks
disappear between HTTP accesses. I'm guessing that this is because Apache on
Win32 is run as a single process, but as multiple processes on Un*x.

Is there a reliable way of handling such 'multi-user' persistent data under
Un*x, e.g multiple httpds pulling from the same Python? I'm guessing not :(

Many thanks!

Nick Barron
Manager, E-Services Division
Pennant Software Services Ltd -- Registered in England No. 3772667
PGP: A94C 4190 026E 3E02 6D50  C8FA 8620 3091 FF34 533D

From mbp at samba.org  Thu Jun 27 08:36:58 2002
From: mbp at samba.org (Martin Pool)
Date: Fri Jan  9 21:52:54 2004
Subject: [mod_python] Instances and differences between Win32 and Linux
In-Reply-To: <F17550784FF9D111B7F100E02921B24741EA6A@NT-SOTON-001>; from Nik.Barron@pennantplc.co.uk on Wed, Jun 26, 2002 at 05:01:56PM +0100
References: <F17550784FF9D111B7F100E02921B24741EA6A@NT-SOTON-001>
Message-ID: <20020627083658.A27621@va.samba.org>

On 26 Jun 2002, Nik Barron <Nik.Barron@pennantplc.co.uk> wrote:

> Hi,
> 
> I'm working on an XML application using mod_python. Without going into too
> much detail, what it does is suck an XML file into memory and then allow
> multiple users to work on the in-memory copy via the web. The main reason
> for this is performance, as processing the file on the initial load is slow,
> and also to provide granular locking (the file is split into 1500 or so key
> elements, and the locking needs to be per element).
> 
> This works fine in Win32; I do the locking by a simple dictionary, e.g. if
> user nik is editing requirement foo, editLocks['foo'] = 'nik' and so on.
> This seems to work as expected.

How do you make other threads wait for editing on foo to finish?  By
busy-waiting?
 
> However, I am in the process of moving it over to a Linux box for various
> reasons. The code works, but it appears (I'm investigating in more detail at
> the moment) that it is now running multiple instances, i.e. the locks
> disappear between HTTP accesses. I'm guessing that this is because Apache on
> Win32 is run as a single process, but as multiple processes on Un*x.

Yes, that is the correct explanation.
 
> Is there a reliable way of handling such 'multi-user' persistent data under
> Un*x, e.g multiple httpds pulling from the same Python? I'm guessing not :(

Not directly as far as I know.  In theory it might be possible using
Apache 2.0's MPM, though I'm not sure if it would be a good idea even
there.

The standard approach is to keep some kind of external shared storage
between the different children.  If you just need to share a single
hashtable, Python's 'shelve' library could be quite simple to use and
satisfactory.  Things based on some kind of shared-memory DB will not
necessarily be any slower than threads in a single memory space.

To make you feel better about this, there are some benefits to the
Unix approach:

 - it's more robust in the case where there's a bug that crashes 
    or hangs a single process child

 - on the whole I suspect you will be better able to execute concurrently 
   with multiple Python interpreters rather than a single image

 - you may have fewer concurrency bugs if data is private by default
   (separate processes) rather than shared by default (single image)

Cheers,
--
Martin

don't buy anything from Radio Shack -- http://radioslack.com/

From alain at onesite.org  Thu Jun 27 01:03:09 2002
From: alain at onesite.org (Alain Tesio)
Date: Fri Jan  9 21:52:54 2004
Subject: [mod_python] Interference with two directories trying to import a different module with the same name
Message-ID: <20020627010309.5f141858.alain@onesite.org>

Hi, I have an inteference from two scripts which
are supposed to be completely independent, but both
import a different module having a same name.

I just mention this in case you consider this problem to be
a bug, it's not a problem for me.

Details below if needed

Alain




In the apache config file :

# 1ST DIR

Alias /observer.py /home/observer/scripts/observer_www.py

<Directory /home/observer/scripts>
  AddHandler python-program .py
  PythonHandler observer_www
  PythonDebug On
</Directory>

# 2ND DIR

Alias /other/ /home/other/www/lib/other_www.py

<Directory "/home/other/www/lib">
  AddHandler python-program .py
  PythonHandler other_www
  PythonDebug On
</Directory>



Then I have an error when I try to get a page with the first
setup because it tries to use a module already imported by
the other one (it works fine though if I request this page
just after restarting apache because it loads the right
module, but of course the other one fails then)

http://www.floc.net/observer.py?page=login...

Traceback (most recent call last):

  File "/home/observer/scripts/observer_www.py", line 20, in handler
    (content_type,content)=wwwlib.out(selfurl,form_items)
....
  File "/home/other/www/lib/mycgi.py", line 379, in css_string
    for (key,value) in css:


From wkr at cs.ucsb.edu  Wed Jun 26 20:01:31 2002
From: wkr at cs.ucsb.edu (William Robertson)
Date: Fri Jan  9 21:52:54 2004
Subject: [mod_python] mod_python segfault
Message-ID: <20020627030131.GC19376@ip68-6-112-152.sb.sd.cox.net>

Hi,

I've been having problems installing mod_python 2.7.8 for Apache 1.3.26
on Gentoo Linux.  I compiled it as a DSO, using a python interpreter
compiled without threads, and am pretty certain I got the configuration
from the documentation correct for both Apache and the hello world
example.

When I tried to run the example, however, I got segfaults from
mod_python.so.  A gdb backtrace and some disassembly, confirmed by some
debugging code, shows that req->per_dir_config in the following line
(mod_python.c:560, in python_handler()) is uninitialized:

conf = (py_dir_config *) ap_get_module_config(req->per_dir_config, &python_module);

Any ideas?

-- 
| William Robertson | GPG:0x90A3BED4 | wkr@cs.ucsb.edu |

From mbp at samba.org  Thu Jun 27 13:25:00 2002
From: mbp at samba.org (Martin Pool)
Date: Fri Jan  9 21:52:54 2004
Subject: [mod_python] mod_python segfault
In-Reply-To: <20020627030131.GC19376@ip68-6-112-152.sb.sd.cox.net>
References: <20020627030131.GC19376@ip68-6-112-152.sb.sd.cox.net>
Message-ID: <20020627032457.GA30564@samba.org>

On 26 Jun 2002, William Robertson <wkr@cs.ucsb.edu> wrote:
> Hi,
> 
> I've been having problems installing mod_python 2.7.8 for Apache 1.3.26
> on Gentoo Linux.  I compiled it as a DSO, using a python interpreter
> compiled without threads, and am pretty certain I got the configuration
> from the documentation correct for both Apache and the hello world
> example.
> 
> When I tried to run the example, however, I got segfaults from
> mod_python.so.  A gdb backtrace and some disassembly, confirmed by some
> debugging code, shows that req->per_dir_config in the following line
> (mod_python.c:560, in python_handler()) is uninitialized:
> 
> conf = (py_dir_config *) ap_get_module_config(req->per_dir_config,
> &python_module);

At a guess, you are using a different version of the Apache source to
compile mod_python than the one that was used to build httpd itself.
Are you using an SSL patch perhaps?

-- 
Martin 

From wkr at cs.ucsb.edu  Wed Jun 26 22:27:48 2002
From: wkr at cs.ucsb.edu (William Robertson)
Date: Fri Jan  9 21:52:54 2004
Subject: [mod_python] mod_python segfault
In-Reply-To: <20020627032457.GA30564@samba.org>
References: <20020627030131.GC19376@ip68-6-112-152.sb.sd.cox.net> <20020627032457.GA30564@samba.org>
Message-ID: <20020627052748.GA19861@ip68-6-112-152.sb.sd.cox.net>

On 26 June 2002, Martin Pool [mbp@samba.org] wrote:
| At a guess, you are using a different version of the Apache source to
| compile mod_python than the one that was used to build httpd itself.
| Are you using an SSL patch perhaps?

I'm using mod_ssl, but that shouldn't matter as it's a DSO, right?
Anyway, trying without it loaded didn't make a difference.  Also, I'm
not compiling mod_python statically against an Apache source tree, and
I thought apxs would take care of using the correct Apache installation.

I did just try compiling against an Apache installation from a virgin
1.3.26 tree which worked perfectly, though.  Configurations were
identical AFAICT, so this is probably a Gentoo issue.  I guess I'll take
a closer look at those vendor patches...

-- 
| William Robertson | GPG:0x90A3BED4 | wkr@cs.ucsb.edu |


From mbp at samba.org  Thu Jun 27 16:15:25 2002
From: mbp at samba.org (Martin Pool)
Date: Fri Jan  9 21:52:54 2004
Subject: [mod_python] mod_python segfault
In-Reply-To: <20020627052748.GA19861@ip68-6-112-152.sb.sd.cox.net>
References: <20020627030131.GC19376@ip68-6-112-152.sb.sd.cox.net> <20020627032457.GA30564@samba.org> <20020627052748.GA19861@ip68-6-112-152.sb.sd.cox.net>
Message-ID: <20020627061521.GB11139@samba.org>

On 26 Jun 2002, William Robertson <wkr@cs.ucsb.edu> wrote:
> On 26 June 2002, Martin Pool [mbp@samba.org] wrote:
> | At a guess, you are using a different version of the Apache source to
> | compile mod_python than the one that was used to build httpd itself.
> | Are you using an SSL patch perhaps?
> 
> I'm using mod_ssl, but that shouldn't matter as it's a DSO, right?

Yes, it does matter.  No, it's not just a DSO; it's a patch and also a
DSO.

> Anyway, trying without it loaded didn't make a difference.

Right, but I suspect building Apache from scratch without it, or with
it, and then building mod_python against *that* would fix it.

If you can get apache+modssl+modpython from your distro that would be
simplest. 

> Also, I'm
> not compiling mod_python statically against an Apache source tree, and
> I thought apxs would take care of using the correct Apache installation.
> 
> I did just try compiling against an Apache installation from a virgin
> 1.3.26 tree which worked perfectly, though.  Configurations were
> identical AFAICT, so this is probably a Gentoo issue.  I guess I'll take
> a closer look at those vendor patches...
> 
-- 
Martin 

From Nik.Barron at pennantplc.co.uk  Thu Jun 27 08:06:42 2002
From: Nik.Barron at pennantplc.co.uk (Nik Barron)
Date: Fri Jan  9 21:52:54 2004
Subject: [mod_python] Instances and differences between Win32 and Linu
	x
Message-ID: <F17550784FF9D111B7F100E02921B24741EA6F@NT-SOTON-001>

> > This works fine in Win32; I do the locking by a simple 
> > dictionary, e.g. if user nik is editing requirement foo,
editLocks['foo'] = 
> > 'nik' and so on.
> 
> How do you make other threads wait for editing on foo to finish?  By
> busy-waiting?

Yep. The edit is fairly quick and there's only a dozen or so users, so the
chance of a collision is fairly small to begin with. 

> The standard approach is to keep some kind of external shared storage
> between the different children.  If you just need to share a single
> hashtable, Python's 'shelve' library could be quite simple to use and
> satisfactory.  Things based on some kind of shared-memory DB will not
> necessarily be any slower than threads in a single memory space.

Thanks, I'll have a look...

> To make you feel better about this, there are some benefits to the
> Unix approach:

Indeed. Unfortunately for the immediate future it'll probably have to stick
on Win32 as I need to get it up and running this week, but v2 should be a
lot nicer :-)

Many thanks again for the suggestions

Nik

From s13361562 at bach.sun.ac.za  Tue Jun  4 19:17:01 2002
From: s13361562 at bach.sun.ac.za (Hugo van der Merwe)
Date: Fri Jan  9 21:59:23 2004
Subject: [mod_python] publisher bugs / "conflicts" with other handlers
Message-ID: <20020604171701.GA11253@vervet.localnet>

Hello,

After some help from the list (esp Dustin Mitchell, thanks), I've sorted
out a lot of what I want to do. One last problem I have is that it
appears a TransHandler has a larger job than I want it to have. I get
404's when my TransHandler simply returns apache.DECLINED. I just want
the *usual* stuff to happen. It is apparent that my TransHandler is
overriding something, that is otherwise executed. How do I still get it
executed?

This part of the publisher is what is returning HTTP_NOT_FOUND:

    # get the path PATH_INFO (everthing after script)
    if not _req.subprocess_env.has_key("PATH_INFO"):
        raise apache.SERVER_RETURN, apache.HTTP_NOT_FOUND

subprocess_env does not have the "PATH_INFO" key at this point if I use
my own TransHandler. (All this handler really does is returns
apache.DECLINED - i.e. it is trying it's best to do "nothing" - for
debugging purposes of course ;)

With a normal request - i.e. no TransHandler defined, subprocess_env
contains:

[Tue Jun  4 18:46:37 2002] [error] ['UNIQUE_ID', 'GATEWAY_INTERFACE',
'SERVER_PROTOCOL', 'REQUEST_METHOD', 'QUERY_STRING', 'REQUEST_URI',
'SCRIPT_NAME', 'PATH_INFO', 'PATH_TRANSLATED']

subprocess_env when I have a TransHandler that simply returns
apache.DECLINED:

[Tue Jun  4 18:48:50 2002] [error] ['UNIQUE_ID', 'GATEWAY_INTERFACE',
'SERVER_PROTOCOL', 'REQUEST_METHOD', 'QUERY_STRING', 'REQUEST_URI',
'SCRIPT_NAME']

It's missing PATH_INFO and PATH_TRANSLATED. I do not want to set these
up myself: I don't know how... don't know exactly what must happen to
these. Can't I get the "default apache TransHandler" to take over this
job in the case where I don't want to do it?

Why does the publisher not simply look at e.g. _req.uri or
_req.unparsed_uri?

Thanks,
Hugo van der Merwe

From scott.l.hathaway at lmco.com  Wed Jun  5 09:00:33 2002
From: scott.l.hathaway at lmco.com (Hathaway, Scott L)
Date: Fri Jan  9 21:59:23 2004
Subject: [mod_python] installing mod_python on windows
Message-ID: <DFA15A3E9F82D4119D8C00508BE325420AA10038@emss07m02.lmtas.lmco.com>

Hello All,

I have installed mod_python for windows and I cannot start apache.  Can
someone tell me where I went wrong?
I am using: 

Windows 2000 Pro
Apache 2.0.35
Python 2.2.1
mod_python 2.7.6

Here are the appropriate sections of my conf file:
	LoadModule python_module modules/mod_python.dll
	AddModule mod_python.c

	<Directory "d:/Data/hathasl/apache/Apache2/htdocs/python">
		AddHandler python-program .py
		PythonHandler mptest
		PythonDebug on
	</Directory>

I tried to follow the install instructions on the mod_python website.

If there is any other information that I need to supply, please let me know.

Thanks in advance...
Scott Hathaway

From vmanera at manord.com  Wed Jun  5 18:45:46 2002
From: vmanera at manord.com (Manera, Villiam)
Date: Fri Jan  9 21:59:23 2004
Subject: [mod_python] problem in file download
Message-ID: <801EB84B006ED411898D00B0D03E524712CCB3@PROXYMAIL>

Hello,

I'm trying to download a file:

client side:
<FORM METHOD="POST"
ACTION="http://sviluppo.manord.com/cgi-mpy/prova.py/printfile "
ENCTYPE="multipart/form-data" NAME="FormDati">
<center>
<INPUT TYPE="file" NAME="file1"></center>
<center>
<INPUT TYPE="submit" NAME="invia" VALUE="Invia Dati"></center>

</FORM>

when I sumitted a file mod_python give me this:

Mod_python error: "PythonHandler mod_python.publisher"

Traceback (most recent call last):

  File "C:\Program Files\Python22\Lib\mod_python\apache.py", line 193, in
Dispatch
    result = object(req)

  File "C:\Program Files\Python22\Lib\mod_python\publisher.py", line 104, in
handler
    val = File(field)

  File "C:\Program Files\Python22\Lib\mod_python\publisher.py", line 308, in
__init__
    for m in field.file.__methods__:

  File "C:\programmi\Python22\Lib\tempfile.py", line 178, in __getattr__
    a = getattr(file, name)

AttributeError: 'file' object has no attribute '__methods__'


does anyone have any idea to solve this?

Villiam


From rien at yeepa.org  Wed Jun  5 19:02:51 2002
From: rien at yeepa.org (Adrien Plisson)
Date: Fri Jan  9 21:59:23 2004
Subject: [mod_python] installing mod_python on windows
References: <DFA15A3E9F82D4119D8C00508BE325420AA10038@emss07m02.lmtas.lmco.com>
Message-ID: <002201c20cb2$d4b7c300$01000001@RANDOM>

From: "Hathaway, Scott L" <scott.l.hathaway@lmco.com>
> I have installed mod_python for windows and I cannot start apache. 

It could be very useful if you tell us what Apache says when you launch it.
thanks.

-- 
rien


From johnny.morano at vlaanderen.be  Thu Jun  6 08:46:05 2002
From: johnny.morano at vlaanderen.be (Johnny Morano)
Date: Fri Jan  9 21:59:23 2004
Subject: [mod_python] problem in file download
In-Reply-To: <801EB84B006ED411898D00B0D03E524712CCB3@PROXYMAIL>
References: <801EB84B006ED411898D00B0D03E524712CCB3@PROXYMAIL>
Message-ID: <200206060741.g567fKl05763@s001032.vlaanderen.be>

On Wednesday 05 June 2002 18:45, you wrote:
> getattr(file, name)

is this possible on windows? i thought you could only do that on UNIX 
systems... well, that's the case in php at least. please correct me if i'm 
wrong.

could you maybe show the python code for handling the upload? i've written a 
few upload scripts as well, maybe we can share them ;-)

i usually use the req object too. like:

def insertFile(req):
	form = req.form
	fileObject = form['fileInputField']
	fileData = fileObject.file.read()
	open('/some/path/name/file','wb').write(fileData)

well, this is the very simple fileUploadThing

greetz,
johnny

-- 
Johnny Morano - Linux Consultant
___________________________________________________ 
 Ministerie Vlaamse Gemeenschap                    |
 Koning Albert II-laan, 7 (610) 1210 Brussel       |
 tel: 02/5531319 mail: johnny.morano@vlaanderen.be |

From jfk at metation.com  Thu Jun  6 10:36:22 2002
From: jfk at metation.com (=?iso-8859-1?q?J=F8rgen=20Fr=F8jk=20Kj=E6rsgaard=20{Metation}?=)
Date: Fri Jan  9 21:59:23 2004
Subject: [mod_python] Getting DocumentRoot directive
Message-ID: <02060610362205.00302@grace.informaticon.dk>

Hi,

Is it somehow possible to get the DocumentRoot directive from the Apache 
configuration in mod_python. I need to be able to refer subresources relative 
to DocumentRoot in documents processed by mod_python.

thanks,

J?rgen Fr?jk Kj?rsgaard, direkt?r og systemkonsulent
Metation aps - Kystvejen 29, DK-8000 ?rhus C
Web: www.metation.com  - Tlf: +45 8625 0038 - Mobil: +45 2925 6693

From johnny.morano at vlaanderen.be  Thu Jun  6 10:37:45 2002
From: johnny.morano at vlaanderen.be (Johnny Morano)
Date: Fri Jan  9 21:59:23 2004
Subject: R: [mod_python] problem in file download
In-Reply-To: <801EB84B006ED411898D00B0D03E524712CCB5@PROXYMAIL>
References: <801EB84B006ED411898D00B0D03E524712CCB5@PROXYMAIL>
Message-ID: <200206060933.g569X0l20728@s001032.vlaanderen.be>

On Thursday 06 June 2002 09:59, you wrote:
> 	fileDaSalvare=open(salva_su,'w')
> 	fileDaSalvare.write(form['file_costi'].value)
> 	fileDaSalvare.close()
>
> but work only with text-file

indeed .... change: fileDaSalvare=open(salva_su,'w') into 
fileDaSalvare=open(salva_su, 'wb')

'wb' stands for 'write binary' and this is required for non-textfiles in 
windows.

take a look at the following script (i called it fileUpload.py):
# fileUpload.py
#
from mod_python import util
from mod_python import apache

def form():
    output = """
<html>
<body>
    <form action="insert" method="post" enctype="multipart/form-data" 
name="form">
        File: <input type="file" name="fileField"><br>
        <input type="submit">
    </form>
</body>
</html>
"""
    return output

def insert(req):
    import string
    import os

    form = req.form
    uploadDir = '/tmp/'

    if(form.has_key('fileField')):
        fileData = form['fileField'].file.read()
        filePathName = uploadDir + form['fileField'].filename
        open(filePathName, 'wb').write(fileData)
        return '<html><body>file uploaded to '+filePathName+'</body></html>'
    else:
        return '<html><body>no file to upload</body></html>'

this works... or should work.. well, it works on my pc ;-)

hope this helps

greetz
-- 
Johnny Morano - Linux Consultant
___________________________________________________ 
 Ministerie Vlaamse Gemeenschap                    |
 Koning Albert II-laan, 7 (610) 1210 Brussel       |
 tel: 02/5531319 mail: johnny.morano@vlaanderen.be |

From johnny.morano at vlaanderen.be  Thu Jun  6 12:01:27 2002
From: johnny.morano at vlaanderen.be (Johnny Morano)
Date: Fri Jan  9 21:59:23 2004
Subject: R: R: [mod_python] problem in file download
In-Reply-To: <801EB84B006ED411898D00B0D03E524712CCBB@PROXYMAIL>
References: <801EB84B006ED411898D00B0D03E524712CCBB@PROXYMAIL>
Message-ID: <200206061056.g56Aufl00893@s001032.vlaanderen.be>

On Thursday 06 June 2002 11:45, you wrote:
>
> so I thonk is a bug of mod-python on windows?
>
> I currently use mod python 2.7.6 for python 2.2 and apache 1.3

well, i use mod_python 2.7.8 compiled for python 2.1 and apache 1.3.24
maybe that is the problem

> I tryed also your suggest for cgi(wb, instead that w), but the file will be
> corrupted (not all tranfered, size of 34.4 kb transfered only:4)

well, i have no experience with windows, just linux (debian!) ;-)

> tank you for the time spent for me.

no problem, just wish that i could have helped you ...

greetz,
johnny
-- 
Johnny Morano - Linux Consultant
___________________________________________________ 
 Ministerie Vlaamse Gemeenschap                    |
 Koning Albert II-laan, 7 (610) 1210 Brussel       |
 tel: 02/5531319 mail: johnny.morano@vlaanderen.be |

From Tony_Burger at circuitcity.com  Thu Jun  6 09:54:45 2002
From: Tony_Burger at circuitcity.com (Tony_Burger@circuitcity.com)
Date: Fri Jan  9 21:59:23 2004
Subject: [mod_python] Getting DocumentRoot directive
Message-ID: <OFDFD9B21B.C9EF0515-ON85256BD0.004C4460@ccity.com>

I do something similiar by just opening the config file for read and for ..
readlines() through it until I find what I'm looking for.


From chris at vindaloo.com  Thu Jun  6 11:31:53 2002
From: chris at vindaloo.com (Christopher Sean Hilton)
Date: Fri Jan  9 21:59:23 2004
Subject: [mod_python] problem in file download
In-Reply-To: <801EB84B006ED411898D00B0D03E524712CCB3@PROXYMAIL>; from vmanera@manord.com on Wed, Jun 05, 2002 at 06:45:46PM +0200
References: <801EB84B006ED411898D00B0D03E524712CCB3@PROXYMAIL>
Message-ID: <20020606113153.B6966@moosehead.dsl.net>

On Wed, Jun 05, 2002 at 06:45:46PM +0200, Manera, Villiam wrote:
> Hello,
> 
[snip...]
> 
> AttributeError: 'file' object has no attribute '__methods__'
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ 

I had this problem too. __methods__ is not included in python 2.2 If
you downgrade your python installation to the latest 2.1.x file posts
will work.

Chris Hilton


From chris at vindaloo.com  Thu Jun  6 17:54:26 2002
From: chris at vindaloo.com (Christopher Sean Hilton)
Date: Fri Jan  9 21:59:23 2004
Subject: R: R: [mod_python] problem in file download
In-Reply-To: <200206061056.g56Aufl00893@s001032.vlaanderen.be>; from johnny.morano@vlaanderen.be on Thu, Jun 06, 2002 at 12:01:27PM +0200
References: <801EB84B006ED411898D00B0D03E524712CCBB@PROXYMAIL> <200206061056.g56Aufl00893@s001032.vlaanderen.be>
Message-ID: <20020606175426.D61986@dantooine.vindaloo.com>

On Thu, Jun 06, 2002 at 12:01:27PM +0200, Johnny Morano wrote:
> On Thursday 06 June 2002 11:45, you wrote:
> >
> > so I thonk is a bug of mod-python on windows?
> >
> > I currently use mod python 2.7.6 for python 2.2 and apache 1.3
> 
> well, i use mod_python 2.7.8 compiled for python 2.1 and apache 1.3.24
> maybe that is the problem
> 

His problem is that python 2.2 does not include the __methods__ attribute 
for classes but the publisher.py code which actually handles the file inload 
depends on it. If he downgrades from python 2.2 to python 2.1 he'll have the 
__methods__ attribute of the file class. Someone needs to address this in 
the mod_python code however:

        for m in field.file.__methods__:
            self.__dict__[m] = getattr(field.file, m)

        self.headers = field.headers
        self.filename = field.filename

doesn't work in python 2.2 because __methods__ doesn't exist. The code 
appears to be trying to make local copies of all of the methods in the 
object that gets passed to the user. I had this problem in Unix (FreeBSD) 
two weeks ago and downgrading my python from 2.2 to 2.1 solved it. A google 
search on python, __methods__, 2.1 and 2.2 will yield more information.

Chris

-- 
Chris Hilton                                 chilton-at-vindaloo-dot-com
------------------------------------------------------------------------
                "All I was doing was trying to get home from work!"
                                                 -- Rosa Parks

From dustin at ywlcs.org  Thu Jun  6 22:44:43 2002
From: dustin at ywlcs.org (Dustin Mitchell)
Date: Fri Jan  9 21:59:23 2004
Subject: R: R: [mod_python] problem in file download
In-Reply-To: <20020606175426.D61986@dantooine.vindaloo.com>
References: <801EB84B006ED411898D00B0D03E524712CCBB@PROXYMAIL> <200206061056.g56Aufl00893@s001032.vlaanderen.be> <20020606175426.D61986@dantooine.vindaloo.com>
Message-ID: <20020607034443.GB1852@eleanor.internal.ywlcs.org>

>         for m in field.file.__methods__:
>             self.__dict__[m] = getattr(field.file, m)
> 
>         self.headers = field.headers
>         self.filename = field.filename

Untested in this instance, but in similar situations the equivalent of
dir(field.file) has worked for me.  It does all the chasing up the
inheritance hierarchy necessary.

Dustin

-- 

  Dustin Mitchell
  dustin@ywlcs.org
  http://people.cs.uchicago.edu/~dustin/

From john.garberson at nexos.com  Fri Jun  7 10:54:18 2002
From: john.garberson at nexos.com (John D. Garberson)
Date: Fri Jan  9 21:59:23 2004
Subject: [mod_python] problem in file download
Message-ID: <200206070854.KAA01558@ws2.nexos.com>

Hi,

You wrote a few days back:

> 
> Hello,
> 
> I'm trying to download a file:
> 
....
....
....
a = getattr(file, name)
> 
> AttributeError: 'file' object has no attribute '__methods__'
> 
> 
> does anyone have any idea to solve this?
> 
> Villiam



Having to downgrade seems a bit extreme [;-)

I don't know much about the publisher.py module, never having used it.
But if you do this import:

------------------------------------------------------------------------

from types import BuiltinMethodType

------------------------------------------------------------------------

then this function:

------------------------------------------------------------------------

def sim_methods(obj):
    return filter(lambda s, t=obj:
           type(getattr(t, s)) == BuiltinMethodType,
                                             dir(obj))

--------------------------------------------------------------------------

works under both 2.0 and 2.2.1 (I don't have a 2.1 any more) and delivers
the list of methods that it seems you want, looking at the publisher.py
source.  If you're not a fan of the functional programming approach, then
a list comprehension:

-----------------------------------------------------------------------

def sim_methods(obj):
    return [m for m in dir(obj)
                   if type(getattr(obj, m)) == BuiltinMethodType]

-----------------------------------------------------------------------

works just as well.

You could just replace the 'for m in field.file.__methods__:'

with

'for m in sim_methods(field.file):'

Hope this helps.

John


     John Garberson                             nexos ag 
     john.garberson@nexos.com                   Frobenstrasse 66 
                                                CH-4053 Basel, Switzerland
                                                Tel. 41 61 283 55 03
                                                Fax  41 61 283 55 01


From jfk at metation.com  Fri Jun  7 11:55:17 2002
From: jfk at metation.com (=?iso-8859-1?q?J=F8rgen=20Fr=F8jk=20Kj=E6rsgaard=20{Metation}?=)
Date: Fri Jan  9 21:59:23 2004
Subject: [mod_python] Getting DocumentRoot directive
In-Reply-To: <OFDFD9B21B.C9EF0515-ON85256BD0.004C4460@ccity.com>
References: <OFDFD9B21B.C9EF0515-ON85256BD0.004C4460@ccity.com>
Message-ID: <02060711551701.00287@grace.informaticon.dk>

Torsdag  6. Juni 2002 15:54 skrev Tony_Burger@circuitcity.com:
> I do something similiar by just opening the config file for read and for ..
> readlines() through it until I find what I'm looking for.

I thought about that solution, but, it seems a bit illogical, and will 
degenerate performance a bit. I'd expect Apache to have a method to fetch 
configuration values. If so, it would be a very good thing to have in 
mod_python...

/jfk

From vmanera at manord.com  Fri Jun  7 13:04:42 2002
From: vmanera at manord.com (Manera, Villiam)
Date: Fri Jan  9 21:59:24 2004
Subject: R: R: R: [mod_python] problem in file download
Message-ID: <801EB84B006ED411898D00B0D03E524712CCC6@PROXYMAIL>

I've fixed publisher.py : 
> for m in dir(field.file) :
and now the download seams to do well, but when I attempt to read the file:
	for F in req.form.list:
			if F.name == 'file_costi':
			a=F.file.read()  <-------------this message will
showed:
Mod_python error: "PythonHandler mod_python.publisher"

Traceback (most recent call last):

  File "C:\Program Files\Python22\Lib\mod_python\apache.py", line 193, in
Dispatch
    result = object(req)

  File "C:\Program Files\Python22\Lib\mod_python\publisher.py", line 171, in
handler
    result = apply(object, (), args)

  File "e:/script/cgi/cgi-mpy\download.py", line 48, in printfile
    #doc.append(dir(req))

ValueError: I/O operation on closed file

Villiam

-----Messaggio originale-----
Da: Dustin Mitchell [mailto:dustin@ywlcs.org]
Inviato: venerd? 7 giugno 2002 5.45
A: mod_python@modpython.org
Oggetto: Re: R: R: [mod_python] problem in file download


>         for m in field.file.__methods__:
>             self.__dict__[m] = getattr(field.file, m)
> 
>         self.headers = field.headers
>         self.filename = field.filename

Untested in this instance, but in similar situations the equivalent of
dir(field.file) has worked for me.  It does all the chasing up the
inheritance hierarchy necessary.

Dustin

-- 

  Dustin Mitchell
  dustin@ywlcs.org
  http://people.cs.uchicago.edu/~dustin/
_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From vmanera at manord.com  Fri Jun  7 14:32:13 2002
From: vmanera at manord.com (Manera, Villiam)
Date: Fri Jan  9 21:59:24 2004
Subject: R: [mod_python] problem in file download
Message-ID: <801EB84B006ED411898D00B0D03E524712CCC7@PROXYMAIL>

Wow!!!!! publisher.py patched with this function work fine!!!!

class File:
    """ Like a file, but also has headers and filename
    """
    def __init__(self, field):
        # steal all the file-like methods
        #for m in field.file.__methods__:
        #for m in dir(field.file):    #dont' work
        for m in self.sim_methods(field.file):
            self.__dict__[m] = getattr(field.file, m)

        self.headers = field.headers
        self.filename = field.filename
    
    def sim_methods(self,obj):
        from types import BuiltinMethodType   #parte aggiunta
        return filter(lambda s, t=obj:
           type(getattr(t, s)) == BuiltinMethodType, dir(obj))


thanks all
Villiam
-----Messaggio originale-----
Da: John D. Garberson [mailto:john.garberson@nexos.com]
Inviato: venerd? 7 giugno 2002 10.54
A: vmanera@manord.com
Cc: Mod_python@modpython.org
Oggetto: Re: [mod_python] problem in file download


Hi,

You wrote a few days back:

> 
> Hello,
> 
> I'm trying to download a file:
> 
....
....
....
a = getattr(file, name)
> 
> AttributeError: 'file' object has no attribute '__methods__'
> 
> 
> does anyone have any idea to solve this?
> 
> Villiam



Having to downgrade seems a bit extreme [;-)

I don't know much about the publisher.py module, never having used it.
But if you do this import:

------------------------------------------------------------------------

from types import BuiltinMethodType

------------------------------------------------------------------------

then this function:

------------------------------------------------------------------------

def sim_methods(obj):
    return filter(lambda s, t=obj:
           type(getattr(t, s)) == BuiltinMethodType,
                                             dir(obj))

--------------------------------------------------------------------------

works under both 2.0 and 2.2.1 (I don't have a 2.1 any more) and delivers
the list of methods that it seems you want, looking at the publisher.py
source.  If you're not a fan of the functional programming approach, then
a list comprehension:

-----------------------------------------------------------------------

def sim_methods(obj):
    return [m for m in dir(obj)
                   if type(getattr(obj, m)) == BuiltinMethodType]

-----------------------------------------------------------------------

works just as well.

You could just replace the 'for m in field.file.__methods__:'

with

'for m in sim_methods(field.file):'

Hope this helps.

John


     John Garberson                             nexos ag 
     john.garberson@nexos.com                   Frobenstrasse 66 
                                                CH-4053 Basel, Switzerland
                                                Tel. 41 61 283 55 03
                                                Fax  41 61 283 55 01

_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From geertj at boskant.nl  Fri Jun  7 14:47:18 2002
From: geertj at boskant.nl (geertj@boskant.nl)
Date: Fri Jan  9 21:59:24 2004
Subject: [mod_python] Getting DocumentRoot directive
In-Reply-To: <02060711551701.00287@grace.informaticon.dk>; from jfk@metation.com on Fri, Jun 07, 2002 at 11:55:17AM +0200
References: <OFDFD9B21B.C9EF0515-ON85256BD0.004C4460@ccity.com> <02060711551701.00287@grace.informaticon.dk>
Message-ID: <20020607144718.A4294@vader.boskant.nl>

On Fri, Jun 07, 2002 at 11:55:17AM +0200, J?rgen Fr?jk Kj?rsgaard {Metation} wrote:
> Torsdag  6. Juni 2002 15:54 skrev Tony_Burger@circuitcity.com:
> > I do something similiar by just opening the config file for read and for ..
> > readlines() through it until I find what I'm looking for.
> 
> I thought about that solution, but, it seems a bit illogical, and will 
> degenerate performance a bit. I'd expect Apache to have a method to fetch 
> configuration values. If so, it would be a very good thing to have in 
> mod_python...

I second that! Already a couple of times that I really missed this.

Greetings,
Geert

From chris at vindaloo.com  Fri Jun  7 09:07:48 2002
From: chris at vindaloo.com (Christopher Sean Hilton)
Date: Fri Jan  9 21:59:24 2004
Subject: R: [mod_python] problem in file download
In-Reply-To: <801EB84B006ED411898D00B0D03E524712CCC7@PROXYMAIL>; from vmanera@manord.com on Fri, Jun 07, 2002 at 02:32:13PM +0200
References: <801EB84B006ED411898D00B0D03E524712CCC7@PROXYMAIL>
Message-ID: <20020607090748.A62795@dantooine.vindaloo.com>

On Fri, Jun 07, 2002 at 02:32:13PM +0200, Manera, Villiam wrote:
> Wow!!!!! publisher.py patched with this function work fine!!!!
> 
> class File:
>     """ Like a file, but also has headers and filename
>     """
>     def __init__(self, field):
>         # steal all the file-like methods
>         #for m in field.file.__methods__:
>         #for m in dir(field.file):    #dont' work
>         for m in self.sim_methods(field.file):
>             self.__dict__[m] = getattr(field.file, m)
> 
>         self.headers = field.headers
>         self.filename = field.filename
>     
>     def sim_methods(self,obj):
>         from types import BuiltinMethodType   #parte aggiunta
>         return filter(lambda s, t=obj:
>            type(getattr(t, s)) == BuiltinMethodType, dir(obj))
> 
> 

That's the way to do it. I agree that having to downgrade to 2.1 seems a bit 
extreme but the way I was looking at it the is probably not the only piece 
of obsolete code modpython. You are probably right though and it's certain 
that the patch needs to be written.

Chris
-- 
Chris Hilton                                 chilton-at-vindaloo-dot-com
------------------------------------------------------------------------
                "All I was doing was trying to get home from work!"
                                                 -- Rosa Parks

From grisha at modpython.org  Fri Jun  7 09:50:02 2002
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:59:24 2004
Subject: R: [mod_python] problem in file download
In-Reply-To: <20020607090748.A62795@dantooine.vindaloo.com>
Message-ID: <Pine.BSF.4.32.0206070948080.33843-100000@localhost>

On Fri, 7 Jun 2002, Christopher Sean Hilton wrote:

> That's the way to do it. I agree that having to downgrade to 2.1 seems a bit
> extreme but the way I was looking at it the is probably not the only piece
> of obsolete code modpython. You are probably right though and it's certain
> that the patch needs to be written.

Yes, whatever free time I have I try to spend on the 3.0 version that will
run on Apache 2.0. Probably the simplest way to tackle this one is for
someone to add the publisher patch to the FAQ, at least for the time
being.

Grisha


From chris at vindaloo.com  Fri Jun  7 10:57:52 2002
From: chris at vindaloo.com (Christopher Sean Hilton)
Date: Fri Jan  9 21:59:24 2004
Subject: R: [mod_python] problem in file download
In-Reply-To: <Pine.BSF.4.32.0206070948080.33843-100000@localhost>; from grisha@modpython.org on Fri, Jun 07, 2002 at 09:50:02AM -0400
References: <20020607090748.A62795@dantooine.vindaloo.com> <Pine.BSF.4.32.0206070948080.33843-100000@localhost>
Message-ID: <20020607105752.A63035@dantooine.vindaloo.com>

On Fri, Jun 07, 2002 at 09:50:02AM -0400, Gregory (Grisha) Trubetskoy wrote:
> 
> On Fri, 7 Jun 2002, Christopher Sean Hilton wrote:
> 
> > That's the way to do it. I agree that having to downgrade to 2.1 seems a bit
> > extreme but the way I was looking at it the is probably not the only piece
> > of obsolete code modpython. You are probably right though and it's certain
> > that the patch needs to be written.
> 
> Yes, whatever free time I have I try to spend on the 3.0 version that will
> run on Apache 2.0. Probably the simplest way to tackle this one is for
> someone to add the publisher patch to the FAQ, at least for the time
> being.

I think that you can accomplish the result that your are looking for by 
replacing foo.__methods__ with dir(foo) and callable but I'm not sure of the 
exact construction. It's a little simpler than the patch submitted but a 
bird in the hand is worth two in the bush as they say.

Chris
-- 
Chris Hilton                                 chilton-at-vindaloo-dot-com
------------------------------------------------------------------------
                "All I was doing was trying to get home from work!"
                                                 -- Rosa Parks

From rob at sportsinjuryclinic.net  Fri Jun  7 19:56:17 2002
From: rob at sportsinjuryclinic.net (Rob)
Date: Fri Jan  9 21:59:24 2004
Subject: [mod_python] Sports Injury
Message-ID: <200206071852.g57IqrC37046@eden.ispol.com>

Hi,
www.sportsinjuryclinic.net offers visitors a free 'Virtual Diagnosis' and self help information on over 100 sports related injuries.
If you think this might be of interest to your site visitors, perhaps you could link to us. We would be happy to return the link.
Rob@sportsinjuryclinic.net

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20020607/9a3a132c/attachment-0002.htm
From alex at shop.com  Fri Jun  7 17:02:52 2002
From: alex at shop.com (S. Alexander Jacobson)
Date: Fri Jan  9 21:59:24 2004
Subject: [mod_python] Does Mod_python work w/ python 2.2?
Message-ID: <Pine.WNT.4.43.0206071659270.1068-100000@fanatic>

-Alex-

___________________________________________________________________
S. Alexander Jacobson                   i2x Media
1-212-787-1914 voice                    1-603-288-1280 fax



From chris at vindaloo.com  Fri Jun  7 17:52:49 2002
From: chris at vindaloo.com (Christopher Sean Hilton)
Date: Fri Jan  9 21:59:24 2004
Subject: [mod_python] Does Mod_python work w/ python 2.2?
In-Reply-To: <Pine.WNT.4.43.0206071659270.1068-100000@fanatic>; from alex@shop.com on Fri, Jun 07, 2002 at 05:02:52PM -0400
References: <Pine.WNT.4.43.0206071659270.1068-100000@fanatic>
Message-ID: <20020607175249.A64028@dantooine.vindaloo.com>

On Fri, Jun 07, 2002 at 05:02:52PM -0400, S. Alexander Jacobson wrote:

Some code in mod_python depends on constructions that are obsolete and gone 
in 2.2 particularly the __methods__, __members__ dictionaries from builtin 
types.

-- 
Chris Hilton                                 chilton-at-vindaloo-dot-com
------------------------------------------------------------------------
                "All I was doing was trying to get home from work!"
                                                 -- Rosa Parks

From alex at shop.com  Sat Jun  8 12:35:41 2002
From: alex at shop.com (S. Alexander Jacobson)
Date: Fri Jan  9 21:59:24 2004
Subject: [mod_python] Does Mod_python work w/ python 2.2?
In-Reply-To: <20020607175249.A64028@dantooine.vindaloo.com>
Message-ID: <Pine.WNT.4.43.0206081235160.1068-100000@fanatic>

So does that mean it won't work overall or that
some specific functionality won't work?

-Alex-

On Fri, 7 Jun 2002, Christopher Sean Hilton wrote:

> On Fri, Jun 07, 2002 at 05:02:52PM -0400, S. Alexander Jacobson wrote:
>
> Some code in mod_python depends on constructions that are obsolete and gone
> in 2.2 particularly the __methods__, __members__ dictionaries from builtin
> types.
>
> --
> Chris Hilton                                 chilton-at-vindaloo-dot-com
> ------------------------------------------------------------------------
>                 "All I was doing was trying to get home from work!"
>                                                  -- Rosa Parks
>

___________________________________________________________________
S. Alexander Jacobson                   i2x Media
1-212-787-1914 voice                    1-603-288-1280 fax



From johannes at erdfelt.com  Sat Jun  8 13:10:17 2002
From: johannes at erdfelt.com (Johannes Erdfelt)
Date: Fri Jan  9 21:59:24 2004
Subject: [mod_python] Does Mod_python work w/ python 2.2?
In-Reply-To: <Pine.WNT.4.43.0206081235160.1068-100000@fanatic>; from alex@shop.com on Sat, Jun 08, 2002 at 12:35:41PM -0400
References: <20020607175249.A64028@dantooine.vindaloo.com> <Pine.WNT.4.43.0206081235160.1068-100000@fanatic>
Message-ID: <20020608131017.L26987@sventech.com>

Some specific functionality. I've been using mod_python with python 2.2
for a couple of months now and I haven't stumbled across these problems
yet.

However, I will soon since my next project was handling uploaded files
:) Thankfully there is a patch for that now.

JE

On Sat, Jun 08, 2002, S. Alexander Jacobson <alex@shop.com> wrote:
> So does that mean it won't work overall or that
> some specific functionality won't work?
> 
> -Alex-
> 
> On Fri, 7 Jun 2002, Christopher Sean Hilton wrote:
> 
> > On Fri, Jun 07, 2002 at 05:02:52PM -0400, S. Alexander Jacobson wrote:
> >
> > Some code in mod_python depends on constructions that are obsolete and gone
> > in 2.2 particularly the __methods__, __members__ dictionaries from builtin
> > types.
> >
> > --
> > Chris Hilton                                 chilton-at-vindaloo-dot-com
> > ------------------------------------------------------------------------
> >                 "All I was doing was trying to get home from work!"
> >                                                  -- Rosa Parks
> >
> 
> ___________________________________________________________________
> S. Alexander Jacobson                   i2x Media
> 1-212-787-1914 voice                    1-603-288-1280 fax
> 
> 
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python

From dustin at ywlcs.org  Sat Jun  8 20:40:36 2002
From: dustin at ywlcs.org (Dustin Mitchell)
Date: Fri Jan  9 21:59:24 2004
Subject: [mod_python] Does Mod_python work w/ python 2.2?
In-Reply-To: <20020608131017.L26987@sventech.com>
References: <20020607175249.A64028@dantooine.vindaloo.com> <Pine.WNT.4.43.0206081235160.1068-100000@fanatic> <20020608131017.L26987@sventech.com>
Message-ID: <20020609014035.GE9104@eleanor.internal.ywlcs.org>

Specifically, the only problem so far is in a single line of the publisher
handler which is invoked only on file uploads.  So if you're (a) not using
file uploads or (b) not using publisher, you'll be fine.

Dustin

On Sat, Jun 08, 2002 at 01:10:17PM -0400, Johannes Erdfelt wrote:
> However, I will soon since my next project was handling uploaded files
> :) Thankfully there is a patch for that now.
> 
> On Sat, Jun 08, 2002, S. Alexander Jacobson <alex@shop.com> wrote:
> > So does that mean it won't work overall or that
> > some specific functionality won't work?

-- 

  Dustin Mitchell
  dustin@ywlcs.org
  http://people.cs.uchicago.edu/~dustin/

From johanfo at ohman.no  Sun Jun  9 19:15:21 2002
From: johanfo at ohman.no (=?iso-8859-1?Q?Johan_Fredrik_=D8hman?=)
Date: Fri Jan  9 21:59:24 2004
Subject: [mod_python] make_obcallback():
Message-ID: <000801c20fd9$41117c20$c167f081@matrisen>

make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.
[Sun Jun  9 19:13:08 2002] [error] [client 129.240.103.193] python_handler: make_obcallback returned no obCallBack!


What is most likely to cause this error ?

I'm running Python2.2 with latest mod_python and apache-1.3.22

--
Johan Fredrik ?hman
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20020609/f9a89c78/attachment-0002.htm
From jeffstearns at attbi.com  Sun Jun  9 21:34:57 2002
From: jeffstearns at attbi.com (Jeff Stearns)
Date: Fri Jan  9 21:59:24 2004
Subject: [mod_python] make_obcallback():
In-Reply-To: <000801c20fd9$41117c20$c167f081@matrisen>
Message-ID: <6B2FB838-7C2B-11D6-819E-0030653DCC28@attbi.com>

I imagine that mod_python isn't in the Python search path.  Check to see 
where you installed the mod_python modules.

-jeff stearns


On Sunday, June 9, 2002, at 10:15  AM, Johan Fredrik ?hman wrote:

> make_obcallback(): could not import mod_python.apache.
> make_obcallback(): could not call init.
> [Sun Jun? 9 19:13:08 2002] [error] [client 129.240.103.193] 
> python_handler: make_obcallback returned no obCallBack!
> ?
> ?
> What is most likely to cause this error ?
> ?
> I'm running Python2.2 with latest mod_python and?apache-1.3.22
> ?
> --
> Johan Fredrik ?hman
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 837 bytes
Desc: not available
Url : http://mailman.modpython.org/pipermail/mod_python/attachments/20020609/1dd7756b/attachment-0002.bin
From johanfo at ohman.no  Mon Jun 10 08:16:24 2002
From: johanfo at ohman.no (=?iso-8859-1?Q?Johan_Fredrik_=D8hman?=)
Date: Fri Jan  9 21:59:24 2004
Subject: [mod_python] make_obcallback():
References: <6B2FB838-7C2B-11D6-819E-0030653DCC28@attbi.com>
Message-ID: <001d01c21046$59b82270$c167f081@matrisen>

Thanks for your help.  I solved the problem myself not long after I had sent the mail to this group.  The reason for the error was that the PATH had changed from the time I compiled mod_python to the point where I started it.  This lead to the wrong python intepreter being executed.

--
JF?
  ----- Original Message ----- 
  From: Jeff Stearns 
  To: Johan Fredrik ?hman 
  Cc: mod_python@modpython.org 
  Sent: Monday, June 10, 2002 6:34 AM
  Subject: Re: [mod_python] make_obcallback():


  I imagine that mod_python isn't in the Python search path. Check to see where you installed the mod_python modules.

  -jeff stearns


  On Sunday, June 9, 2002, at 10:15 AM, Johan Fredrik ?hman wrote:


    make_obcallback(): could not import mod_python.apache.
    make_obcallback(): could not call init.
    [Sun Jun  9 19:13:08 2002] [error] [client 129.240.103.193] python_handler: make_obcallback returned no obCallBack!
     
     
    What is most likely to cause this error ?
     
    I'm running Python2.2 with latest mod_python and apache-1.3.22
     
    --
    Johan Fredrik ?hman

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20020610/eefffc3c/attachment-0002.htm
From sandor.kopanyi at mailbox.hu  Mon Jun 10 11:12:37 2002
From: sandor.kopanyi at mailbox.hu (sandor.kopanyi@mailbox.hu)
Date: Fri Jan  9 21:59:24 2004
Subject: [mod_python] Getting DocumentRoot directive
In-Reply-To: <20020607144718.A4294@vader.boskant.nl>
Message-ID: <20020610091237.26373.qmail@web2.mailbox.hu>

> > configuration values. If so, it would be a very good thing to have
in 
> > mod_python...
> 
> I second that! Already a couple of times that I really missed this.
> 

Me too!

Regards,
Sandor

--------------------------------------------------
http://www.mailbox.hu - Mert levelezni kell...


From sandor.kopanyi at mailbox.hu  Mon Jun 10 11:12:37 2002
From: sandor.kopanyi at mailbox.hu (sandor.kopanyi@mailbox.hu)
Date: Fri Jan  9 21:59:24 2004
Subject: [mod_python] Getting DocumentRoot directive
In-Reply-To: <20020607144718.A4294@vader.boskant.nl>
Message-ID: <20020610091237.26373.qmail@web2.mailbox.hu>

> > configuration values. If so, it would be a very good thing to have
in 
> > mod_python...
> 
> I second that! Already a couple of times that I really missed this.
> 

Me too!

Regards,
Sandor

--------------------------------------------------
http://www.mailbox.hu - Mert levelezni kell...


From johanfo at ohman.no  Tue Jun 11 11:01:48 2002
From: johanfo at ohman.no (=?iso-8859-1?Q?Johan_Fredrik_=D8hman?=)
Date: Fri Jan  9 21:59:24 2004
Subject: [mod_python] Pro / Cons with the Publisher
Message-ID: <000801c21126$a3037f20$c167f081@matrisen>

Hi there,  I'm considering writing a medium large website using mod_python.  I have already made my own session and template routines.  They are quite simple, but they do work, which I consider to be most important.   
However,  I'm not sure if to use the Publisher handler or not.  It seems like you loose a little control by using it.  Are there anybody out there who can fill me in with their experience on the Publisher handler ?  Pros / Cons ? 
I'd love to see some sites that was written with mod_python too, so if you have some examples, let me know !

--
Johan Fredrik ?hman
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20020611/2d28bc8c/attachment-0002.htm
From kastner.j at supp.cz  Tue Jun 11 11:40:15 2002
From: kastner.j at supp.cz (=?iso-8859-2?Q?Ji=F8=ED_Kastner?=)
Date: Fri Jan  9 21:59:24 2004
Subject: [mod_python] database example on win2k
Message-ID: <000d01c2112b$fde4ee60$0301a8c0@pentium>

is possible to establish permanent db connection on win2k (winnt,win9x...)?
i'm not sure if windoze know this way...
thanx
jiri kastner



From vmanera at manord.com  Tue Jun 11 17:47:44 2002
From: vmanera at manord.com (Manera, Villiam)
Date: Fri Jan  9 21:59:24 2004
Subject: R: [mod_python] database example on win2k
Message-ID: <801EB84B006ED411898D00B0D03E524712CCCD@PROXYMAIL>

yes it's possible.
I've write a pool of connection ad I give a pointer to it at anyone that
need a connection. If any is busy a new one will be created.

Villiam

-----Messaggio originale-----
Da: Jir? Kastner [mailto:kastner.j@supp.cz]
Inviato: martedi 11 giugno 2002 11.40
A: mod_python@modpython.org
Oggetto: [mod_python] database example on win2k


is possible to establish permanent db connection on win2k (winnt,win9x...)?
i'm not sure if windoze know this way...
thanx
jiri kastner


_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From a_maseko1 at hotvoice.com  Sun Jun 16 11:03:41 2002
From: a_maseko1 at hotvoice.com (Mrs. Mariam M. Seseseko.)
Date: Fri Jan  9 21:59:24 2004
Subject: [mod_python] urgent assistance Needed
Message-ID: <200206161002.g5GA2UC50427@eden.ispol.com>

Dear friend,

I am Mrs. Sese-seko widow of late President Mobutu
Sese-seko of Zaire, now known as Democratic Republic
of Congo (DRC). I am moved to write you this
letter. This was in confidence considering my present
circumstance and situation. I escaped along with my
husband and two of our sons Charles and Basher out of
Democratic Republic of Congo (DRC) to Abidjan, Cote
d'ivoire where my family and I settled, while we later
moved to settled in Morroco where my husband later
died of cancer disease.

However, due to this situation we decided to change
most of my husband's billions of dollars deposited in
Swiss bank and other countries into other forms of
money coded for safe purpose because the new head of
state of (Dr) Mr Laurent Kabila has made arrangement
with the Swiss government and other European countries
to freeze all my late husband's treasures deposited in
some european countries. Hence, my children and I
decided laying low in Africa to study the situation
till when things gets better. Like now that
president Kabila is dead and the son taking over
(Joseph Kabila). One of my late husband's chateaux in
Southern France was confiscated by the french
government, and as such I had to change my identity so
that my investment will not be traced and confiscated.

I have deposited the sum Eighteen Million United State
Dollars (US$18,000,000,00.) With a security company
for safe keeping. What I want you to do is to indicate
your interest that you can assist us in receiving the
money on our behalf, so that I can introduce you to my
son (charles) who has the out modalities for the claim
of the said funds. I want you to assist in investing
this money, but I will not want my identity revealed.
I will also want to acquire real/landed properties and
stock in multi-national companies and to engage in
other safe and non-speculative investments as advise
by your good self.

May I at this point emphasize the high level of
confidentiality, which this upcoming project demands,
and hope you will not betray the trust and
confidence, which I repose in you.In conclusion, if
you want to assist us, my son (JAMSE) shall divulge
to
you all briefs regarding this project, tell you where
the funds are currently being maintained and also
discuss remuneration for your services.For this reason
kindly furnish us your contact information,that is
your personal telephone and fax number for validation
purpose and acknowledge receipt of this mail using the
above email address.

Yours sincerely,

Mrs. Mariam M. Seseseko.







From rien at yeepa.org  Sun Jun 16 12:23:00 2002
From: rien at yeepa.org (Adrien Plisson)
Date: Fri Jan  9 21:59:24 2004
Subject: [mod_python] urgent assistance Needed
References: <200206161002.g5GA2UC50427@eden.ispol.com>
Message-ID: <000701c2151f$cb4918d0$01000001@RANDOM>

mod_python mailing-list  being spammed ? huhu...

anyway, do never reply to the former message. simply because it's a trap !
here in belgium, some people have been ruined in tryingto do what they
wanted.
that's simple :
- first, they claim they need some money to be able to do the transfert
- second they claim money again to be able to pay an intermediary
- third they claim money again and again for an obscure reason
and you will never see the hundreds of dollars they promised you...

and if it's not the widow of president mobutu, it's another old african
dictator.
so, beware...

regards.

--
rien

ps: btw, being french, i do not remember that french authorities did
confiscate any Chateau...


From s_lott at yahoo.com  Sun Jun 16 06:10:22 2002
From: s_lott at yahoo.com (Steven Lott)
Date: Fri Jan  9 21:59:24 2004
Subject: [mod_python] urgent assistance Needed
In-Reply-To: <200206161002.g5GA2UC50427@eden.ispol.com>
Message-ID: <20020616131022.55491.qmail@web9607.mail.yahoo.com>

"confidence"?  to a listserver?  ha ha ha ha ha

I've seen this letter several times before, I think that someone
should shut down the servers at hotvoice.com because they are
clearly part of some kind of fraud.


--- "Mrs. Mariam M. Seseseko." <a_maseko1@hotvoice.com> wrote:
> Dear friend,
> 
[snip]This was in confidence considering my present
> circumstance and situation. [snip]


=====
--
S. Lott, CCP :-{)
S_LOTT@YAHOO.COM
http://www.mindspring.com/~slott1
Buccaneer #468: KaDiMa

Macintosh user: drinking upstream from the herd.

__________________________________________________
Do You Yahoo!?
Yahoo! - Official partner of 2002 FIFA World Cup
http://fifaworldcup.yahoo.com

From pyth at devel.trillke.net  Mon Jun 17 18:04:35 2002
From: pyth at devel.trillke.net (holger krekel)
Date: Fri Jan  9 21:59:24 2004
Subject: [mod_python] current state with apache 2.0?
Message-ID: <20020617180435.T15079@prim.han.de>

Hello,

i am interested in getting mod_python to work with apache2 and python2.2. 

1. How much trouble should i expect? 

2. Is there a usable cvs-branch for 3.0.0?

thanks,

    holger
 

From grisha at modpython.org  Mon Jun 17 12:29:37 2002
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:59:24 2004
Subject: [mod_python] current state with apache 2.0?
In-Reply-To: <20020617180435.T15079@prim.han.de>
Message-ID: <Pine.BSF.4.32.0206171227150.74873-100000@localhost>

The most usable one for apache 2.0 is HEAD actually. Your mileage will
vary, but it has worked for other people in its present state.

Grisha

On Mon, 17 Jun 2002, holger krekel wrote:

> Hello,
>
> i am interested in getting mod_python to work with apache2 and python2.2.
>
> 1. How much trouble should i expect?
>
> 2. Is there a usable cvs-branch for 3.0.0?
>
> thanks,
>
>     holger
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From colin at unibusiness.co.uk  Mon Jun 17 18:11:00 2002
From: colin at unibusiness.co.uk (Colin Coates)
Date: Fri Jan  9 21:59:24 2004
Subject: [mod_python] current state with apache 2.0?
References: <20020617180435.T15079@prim.han.de>
Message-ID: <002e01c21621$f3f8dce0$0e02015a@ColinPC>

Seconded!

I am very fresh to mod_python myself, but I am already quite impressed with its
elegance. (I tried using Zope, but got rather scared by the steepness of the
learning curve!)

I am very interested in getting mod_python to work with Apache2 and keeping it
up to date with releases of Python - especially seeing as I do web applications
for a living!

Kind Regards,
Colin.

----- Original Message -----
From: "holger krekel" <pyth@devel.trillke.net>
To: <mod_python@modpython.org>
Sent: Monday, June 17, 2002 5:04 PM
Subject: [mod_python] current state with apache 2.0?


> Hello,
>
> i am interested in getting mod_python to work with apache2 and python2.2.
>
> 1. How much trouble should i expect?
>
> 2. Is there a usable cvs-branch for 3.0.0?
>
> thanks,
>
>     holger
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>
>
>


From gbenson at redhat.com  Mon Jun 17 20:00:47 2002
From: gbenson at redhat.com (Gary Benson)
Date: Fri Jan  9 21:59:24 2004
Subject: [mod_python] current state with apache 2.0?
In-Reply-To: <20020617180435.T15079@prim.han.de>
Message-ID: <Pine.LNX.4.44.0206171958370.4793-100000@slippy.rat>

On Mon, 17 Jun 2002, holger krekel wrote:

> i am interested in getting mod_python to work with apache2 and python2.2. 
> 
> 1. How much trouble should i expect? 

With Apache 2.0.36 not a lot unless you try to write an input filter
since the API changed and mod_python hasn't been fixed yet.

It's nice and stable with Python 2.2 as well, although I understand there 
are some things in there that 2.2 doesn't like.

> 2. Is there a usable cvs-branch for 3.0.0?

Yup: HEAD :)

Cheers,
Gary

[ gbenson@redhat.com ][ GnuPG 85A8F78B ][ http://inauspicious.org/ ]


From Jacques.Maree at spacebel.be  Tue Jun 18 11:24:28 2002
From: Jacques.Maree at spacebel.be (=?iso-8859-1?Q?Jacques_Mar=E9e?=)
Date: Fri Jan  9 21:59:24 2004
Subject: [mod_python] modpython and SSL
Message-ID: <9310801AA6D6BD4CABF9AF8D3565D520051DA1@mail-hlt.hlt.spacebel.be>

We have used Apache + modpython + Python + MS-Access for a project, and
everything works fine.

Our client ask for a new development, but with the secure protocol SSL.

Do you have experimented such an environment? The Apache documentation shows
how to patch the HTTP server in order to handle SSL, but I wonder if
modpython will continue to work. In other words, do the CGIs receive the
same information when the httpd server uses SSL or when httpd server is
"unsecured" ?

Thanks 

Jacques MAREE

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20020618/b4ca138a/attachment-0002.htm
From gbenson at redhat.com  Tue Jun 18 16:30:16 2002
From: gbenson at redhat.com (Gary Benson)
Date: Fri Jan  9 21:59:24 2004
Subject: [mod_python] modpython and SSL
In-Reply-To: <9310801AA6D6BD4CABF9AF8D3565D520051DA1@mail-hlt.hlt.spacebel.be>
Message-ID: <Pine.LNX.4.44.0206181626470.6609-100000@slippy.rat>

On Tue, 18 Jun 2002, Jacques Mar?e wrote:

> We have used Apache + modpython + Python + MS-Access for a project, and
> everything works fine.
> 
> Our client ask for a new development, but with the secure protocol SSL.
> 
> Do you have experimented such an environment? The Apache documentation
> shows how to patch the HTTP server in order to handle SSL, but I wonder
> if modpython will continue to work. In other words, do the CGIs receive
> the same information when the httpd server uses SSL or when httpd server
> is "unsecured" ?

All your scripts should work straight out of the box unless you generate
absolute URLs (in which case you'll have to change the http to a https).
FYI CGIs and the like actually get _more_ information when SSL is running,
since a bunch of variables get set to let your scripts know what cipher is
in use and so on.

Don't forget to recompile all your modules (mod_python included) against
the SSL-patched Apache since they are binary-incompatible with each other.

Cheers,
Gary

[ gbenson@redhat.com ][ GnuPG 85A8F78B ][ http://inauspicious.org/ ]


From CMaine at BroadLink.com  Tue Jun 18 10:38:41 2002
From: CMaine at BroadLink.com (Chad Maine)
Date: Fri Jan  9 21:59:24 2004
Subject: [mod_python] modpython and SSL
Message-ID: <216CFCF61FEAD311AE64009027E23B7C01020030@mail.broadlink.com>

An easier option would be to use mod_ssl in place of an ssl-enabled apache.
http://www.modssl.org  We use mod_python and mod_ssl together with no
problems.

-----Original Message-----
From: Gary Benson [mailto:gbenson@redhat.com]
Sent: Tuesday, June 18, 2002 8:30 AM
To: Jacques Mar?e
Cc: 'mod_python@modpython.org'
Subject: Re: [mod_python] modpython and SSL



On Tue, 18 Jun 2002, Jacques Mar?e wrote:

> We have used Apache + modpython + Python + MS-Access for a project, and
> everything works fine.
> 
> Our client ask for a new development, but with the secure protocol SSL.
> 
> Do you have experimented such an environment? The Apache documentation
> shows how to patch the HTTP server in order to handle SSL, but I wonder
> if modpython will continue to work. In other words, do the CGIs receive
> the same information when the httpd server uses SSL or when httpd server
> is "unsecured" ?

All your scripts should work straight out of the box unless you generate
absolute URLs (in which case you'll have to change the http to a https).
FYI CGIs and the like actually get _more_ information when SSL is running,
since a bunch of variables get set to let your scripts know what cipher is
in use and so on.

Don't forget to recompile all your modules (mod_python included) against
the SSL-patched Apache since they are binary-incompatible with each other.

Cheers,
Gary

[ gbenson@redhat.com ][ GnuPG 85A8F78B ][ http://inauspicious.org/ ]

_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From gbenson at redhat.com  Tue Jun 18 18:49:45 2002
From: gbenson at redhat.com (Gary Benson)
Date: Fri Jan  9 21:59:25 2004
Subject: [mod_python] modpython and SSL
In-Reply-To: <216CFCF61FEAD311AE64009027E23B7C01020030@mail.broadlink.com>
Message-ID: <Pine.LNX.4.44.0206181844320.6609-100000@slippy.rat>

On Tue, 18 Jun 2002, Chad Maine wrote:

> An easier option would be to use mod_ssl in place of an ssl-enabled apache.
> http://www.modssl.org  We use mod_python and mod_ssl together with no
> problems.

mod_ssl == ssl-enabled apache. The original Apache API wasn't flexible
enough for mod_ssl to do what it does, and before you can build mod_ssl
you need to apply the mod_ssl EAPI (Literally extended API) patch and
rebuild Apache.  Since the API is changed, you _must_ rebuild any modules
compiled against the unpatched version.

> -----Original Message-----
> From: Gary Benson [mailto:gbenson@redhat.com]
> Sent: Tuesday, June 18, 2002 8:30 AM
> To: Jacques Mar?e
> Cc: 'mod_python@modpython.org'
> Subject: Re: [mod_python] modpython and SSL
> 
> On Tue, 18 Jun 2002, Jacques Mar?e wrote:
> 
> > We have used Apache + modpython + Python + MS-Access for a project, and
> > everything works fine.
> > 
> > Our client ask for a new development, but with the secure protocol SSL.
> > 
> > Do you have experimented such an environment? The Apache documentation
> > shows how to patch the HTTP server in order to handle SSL, but I wonder
> > if modpython will continue to work. In other words, do the CGIs receive
> > the same information when the httpd server uses SSL or when httpd server
> > is "unsecured" ?
> 
> All your scripts should work straight out of the box unless you generate
> absolute URLs (in which case you'll have to change the http to a https).
> FYI CGIs and the like actually get _more_ information when SSL is running,
> since a bunch of variables get set to let your scripts know what cipher is
> in use and so on.
> 
> Don't forget to recompile all your modules (mod_python included) against
> the SSL-patched Apache since they are binary-incompatible with each other.
> 
> Cheers,
> Gary
> 
> [ gbenson@redhat.com ][ GnuPG 85A8F78B ][ http://inauspicious.org/ ]
> 
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
> 

[ gbenson@redhat.com ][ GnuPG 85A8F78B ][ http://inauspicious.org/ ]


From grisha at modpython.org  Tue Jun 18 14:27:12 2002
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:59:25 2004
Subject: [mod_python] modpython and SSL
In-Reply-To: <Pine.LNX.4.44.0206181844320.6609-100000@slippy.rat>
Message-ID: <Pine.BSF.4.32.0206181424130.92285-100000@localhost>


On Tue, 18 Jun 2002, Gary Benson wrote:

> mod_ssl == ssl-enabled apache.

There is also something called Apache-SSL that the original poster may
have been referring to:

http://www.apache-ssl.org/#mod_ssl

I personaly favor mod_ssl, and have used with mod_python extensively with
no problems.

Grisha


From Nik.Barron at pennantplc.co.uk  Wed Jun 19 11:59:40 2002
From: Nik.Barron at pennantplc.co.uk (Nik Barron)
Date: Fri Jan  9 21:59:25 2004
Subject: [mod_python] DLLs and versions of Python
Message-ID: <F17550784FF9D111B7F100E02921B24741EA47@NT-SOTON-001>

Hi,

I have a question regarding the mod_python DLL and versions of Python. I
have an application using mod_python under Windows NT that is currently
running under 2.2, but I may need to drop back to 1.5. Looking through the
binaries directory on the website I can't find a recent DLL built for 1.5 --
is 1.5 no longer supported, or am I missing something obvious (the most
likely explanation!)

Many thanks,

Nick Barron
Manager, E-Services Division
Pennant Software Services Ltd -- Registered in England No. 3772667
PGP: A94C 4190 026E 3E02 6D50  C8FA 8620 3091 FF34 533D

From strang at nmr.mgh.harvard.edu  Wed Jun 19 10:38:29 2002
From: strang at nmr.mgh.harvard.edu (Gary Strangman)
Date: Fri Jan  9 21:59:25 2004
Subject: [mod_python] **kw syntax
Message-ID: <Pine.GSO.3.96.1020619103229.18745E-100000@bucky.nmr.mgh.harvard.edu>

Hi all,

I'm relatively new to mod_python (and apache), and so I'll bet my problem
is probably a direct consequence of that. I'm using mod_python to
dynamically generate a list of HTML checkboxes from a database. The list
of checkboxes then get inserted into a <form> block on a web page. I want
the <form>'s POST method deliver the (keyword,value) pairs from the form
to a python-based handler. My problem is this: I can't get get the **kw
syntax to work with mod_python. That is, if my form looks like this ... 

<form action="makechanges" method="POST">
  <input type=checkbox name="name1" checked>One<br>
  <input type=checkbox name="name2" checked>Two<br>
  <input type=checkbox name="name3">Three<br>
  <input type=checkbox name="name4">Four<br>
  <input type="submit">
</form>

... and my python function is defined as follows ...

def makechanges(request, **kw):

... makechanges() receives kw={} regardless of the status of the
checkboxes. If instead my function is defined as ... 

def makechanges(request, name1=None, **kw):

... then makechanges() gets name1='on' (if the name1 box was checked), but
nothing in kw, again regardless of checkbox status. The same happens if I
define the function as ...

def makechanges(request, name1=None, *args, **kw):

Any ideas on how to handle dynamically generated forms in general (and/or
with dynamically generated checkbox name attributes in particular)? Oh,
all this is on python2.2, mod_python2.7.6, apache1.3.24, Win98. 

Thanks.

Gary
strang-@at@-nmr.mgh.harvard.edu



From infomailsys at mail.ru  Thu Jun 20 09:37:47 2002
From: infomailsys at mail.ru (New Banner Systems)
Date: Fri Jan  9 21:59:25 2004
Subject: [mod_python] business gifts
Message-ID: <200206200530.g5K5UqC13957@eden.ispol.com>

An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20020620/c4080567/attachment-0002.htm
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/jpeg
Size: 18974 bytes
Desc: not available
Url : http://mailman.modpython.org/pipermail/mod_python/attachments/20020620/c4080567/attachment-0002.jpg
From sandor.kopanyi at mailbox.hu  Thu Jun 20 10:10:18 2002
From: sandor.kopanyi at mailbox.hu (sandor.kopanyi@mailbox.hu)
Date: Fri Jan  9 21:59:25 2004
Subject: [mod_python] **kw syntax
In-Reply-To: <Pine.GSO.3.96.1020619103229.18745E-100000@bucky.nmr.mgh.harvard.edu>
Message-ID: <20020620081018.28453.qmail@web2.mailbox.hu>

Hi Gary,

> I want the <form>'s POST method deliver the (keyword,value) pairs from
the form
> to a python-based handler. My problem is this: I can't get get the **kw
> syntax to work with mod_python. That is, if my form looks like this 

[...]

> ... and my python function is defined as follows ...
> 
> def makechanges(request, **kw):
> 
> ... makechanges() receives kw={} regardless of the status of the
> checkboxes. If instead my function is defined as ... 

Define your function like this:
def makechanges(request):

The request object contains your fields, in request.form.list .
You can process them in a loop:
for f in request.form.list:
    #f.name is the name of the field
    #f.value holds the value of the field

(See more in modpythion docs, chapter 4.4)

Cheers,
Sandor


--------------------------------------------------
http://www.mailbox.hu - Mert levelezni kell...


From pkr at daimi.au.dk  Thu Jun 20 11:36:58 2002
From: pkr at daimi.au.dk (Peter Kjellerup Rasmussen)
Date: Fri Jan  9 21:59:25 2004
Subject: [mod_python] mod_python with apache-2.0.39
Message-ID: <000a01c2183e$062bd4d0$0300000a@peter>

Is it possible to run mod_python with apache2? 
I've tried to compile it both as a dso and static but with no luck.

Reg.

Peter Rasmussen


From gionuein at autistici.org  Thu Jun 20 13:27:46 2002
From: gionuein at autistici.org (gionuein@autistici.org)
Date: Fri Jan  9 21:59:25 2004
Subject: [mod_python] mod_python.publisher+404 not found+sorry i know im a newbie...
Message-ID: <20020620132746.38D5633505@astio.investici.org>

hi guys-

it seems i have a problem ;))
basically, i compiled the sources and read docs
to make it works - i made basic changes to http.conf
and mod_python worked fine -
now id like to make something more complicated and im
lookin at mod_python.publisher - i follow the docs
http://www.modpython.org/live/mod_python-2.7.8/doc-html/tut-pub.html
and i change http.conf this way:

AddHandler python-program .py
PythonHandler mod_python.publisher

but when i try to get myfile.py - a '404 not found'
happens and im sure the file is in the right dir

someone can help me to understand what's going on?

red hat 7.2 /*/ 2.4.7 kernel

ps:
i surfed archives but i didn't find something
that satisfied me -
im quite a newbie on python stuff
im moving from a couple of years of php
;)



thanks a lot

tropiko

From grisha at modpython.org  Thu Jun 20 09:50:45 2002
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:59:25 2004
Subject: [mod_python] mod_python with apache-2.0.39
In-Reply-To: <000a01c2183e$062bd4d0$0300000a@peter>
Message-ID: <Pine.BSF.4.32.0206200949510.18732-100000@localhost>

Only the next version (3.x) will work with 2.0. 3.x is still alpha quality
I would say, and you can only get it through CVS.

Grisha

On Thu, 20 Jun 2002, Peter Kjellerup Rasmussen wrote:

> Is it possible to run mod_python with apache2?
> I've tried to compile it both as a dso and static but with no luck.
>
> Reg.
>
> Peter Rasmussen
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From mbp at samba.org  Fri Jun 21 04:30:57 2002
From: mbp at samba.org (Martin Pool)
Date: Fri Jan  9 21:59:25 2004
Subject: [mod_python] **kw syntax
In-Reply-To: <20020620081018.28453.qmail@web2.mailbox.hu>
References: <Pine.GSO.3.96.1020619103229.18745E-100000@bucky.nmr.mgh.harvard.edu> <20020620081018.28453.qmail@web2.mailbox.hu>
Message-ID: <20020620183053.GA3529@toey.sourcefrog.net>

On 20 Jun 2002, sandor.kopanyi@mailbox.hu wrote:

> Define your function like this:
> def makechanges(request):
> 
> The request object contains your fields, in request.form.list .
> You can process them in a loop:
> for f in request.form.list:
>     #f.name is the name of the field
>     #f.value holds the value of the field

I know that's the way to do it now.  However, I think the original
poster has a good point that it might be both intuitive and useful for
the publisher to pack any arguments that are not consumed by named
parameters into the keyword argument dictionary, if the function
accepts one.  I don't think this would be terribly hard to implement.

-- 
Martin 

Every Python user scoffed at it once, saying significant whitespace is
the past.
	-- Moshe Zadka (?)

From nicks at metrolink.com  Fri Jun 21 10:13:27 2002
From: nicks at metrolink.com (Nick Seidenman)
Date: Fri Jan  9 21:59:25 2004
Subject: [mod_python] server (internal) redirect
Message-ID: <3D133487.6020406@metrolink.com>

I'm using the publisher handler to construct a page that has SSI 
(server-side include) code in it.  Once the page is built I want to then 
run it back through the server.  Just setting

    req.content_type = text/x-server-parsed-html

doesh't do it.  Any suggestion?

Please note, I'm NOT talking about an HTTP redirect;  I'm talking about 
returning something to the publisher that will let it know it needs to 
run the output back through the server so that the SSI code can be 
processed before sending it back to the client.

TiA,

Nick


From grisha at modpython.org  Fri Jun 21 10:41:26 2002
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:59:25 2004
Subject: [mod_python] server (internal) redirect
In-Reply-To: <3D133487.6020406@metrolink.com>
Message-ID: <Pine.BSF.4.32.0206211036200.32967-100000@localhost>

I don't think this is possible with Apache 1.3. The content from
mod_python does not get later processed by mod_ssi, it goes directly to
the client.

I believe Apache 2.0 implements SSI as a filter, and you could do
something like this. But I don't think mod_python 3.0 will be released
before August.

In any event - you might want to rethink your strategy. Including a file
is very easily done in Python, I'm not sure why you would to delegate that
to mod_ssi.

Grisha

On Fri, 21 Jun 2002, Nick Seidenman wrote:

>
> I'm using the publisher handler to construct a page that has SSI
> (server-side include) code in it.  Once the page is built I want to then
> run it back through the server.  Just setting
>
>     req.content_type = text/x-server-parsed-html
>
> doesh't do it.  Any suggestion?
>
> Please note, I'm NOT talking about an HTTP redirect;  I'm talking about
> returning something to the publisher that will let it know it needs to
> run the output back through the server so that the SSI code can be
> processed before sending it back to the client.
>
> TiA,
>
> Nick
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From MAILER-DAEMON13240 at google.com  Fri Jun 21 21:49:17 2002
From: MAILER-DAEMON13240 at google.com (Farmgirl18692)
Date: Fri Jan  9 21:59:25 2004
Subject: [mod_python] Real ZOO web site, welcome! ID<prgbs|wkrqCprgs|wkrq1ruj>
Message-ID: <200206211746.g5LHk6C35124@eden.ispol.com>

An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20020621/ab11a66d/attachment-0002.htm
From l0biz0n at myrealbox.com  Fri Jun 21 18:11:57 2002
From: l0biz0n at myrealbox.com (l0biz0n)
Date: Fri Jan  9 21:59:25 2004
Subject: [mod_python] stupids out off the list
Message-ID: <7399959090.20020621181157@myrealbox.com>

hi list ,

who are the stupid , what is spaming the list with
porno advertisements.

--
Regards

|/\|_ o_ /\._ 
|\/|_)|/_\/| | mailto:l0biz0n@myrealbox.com



From jquinte at fadu.uba.ar  Fri Jun 21 19:03:54 2002
From: jquinte at fadu.uba.ar (Javier Quinteros)
Date: Fri Jan  9 21:59:25 2004
Subject: [mod_python] Real ZOO web site, welcome! ID<prgbs|wkrqCprgs|wkrq1ruj>
In-Reply-To: <200206211746.g5LHk6C35124@eden.ispol.com>
Message-ID: <FEV62KELGT8HBB0D9XW5YYNUSGC.3d13a2ca@upsala>

Are this animals using mod_python in their website ???  ;-)

/jq

21-Jun-02 2:49:17 PM, "Farmgirl18692" <MAILER-DAEMON13240@google.com> wrote:

>  The BEST zoo site on the @net!
>  Sex With Dogs
>  Horse Blow Jobs.
>  Snake Fuck.
>  REAL ANIMAL FUCKING!
>  100% HARDCORE!
>  ww1.only-beasts.com
>
>  unsub
>  Good luck, .
>
>
> _______________________________________________ Mod_python mailing list
> Mod_python@modpython.org http://www.modpython.org/mailman/listinfo/mod_python




From gionuein at autistici.org  Mon Jun 24 14:22:24 2002
From: gionuein at autistici.org (gionuein@autistici.org)
Date: Fri Jan  9 21:59:25 2004
Subject: [mod_python] includes/external files
Message-ID: <20020624142224.A110033886@astio.investici.org>

hi all -
i been dealing with mod python from a couple of weeks -
but i still dont understand to make stuff as php includes
works good in a python enviromente -
im really interested in web scripting -
and i lookin for a way to use includes or external files with routines and
code to manage my web site.

can someone help me?
a link to a good refernce would be great
;)

thank u very much

tropiko


From Hans.Yandle at cingular.com  Mon Jun 24 10:54:59 2002
From: Hans.Yandle at cingular.com (Yandle, Hans)
Date: Fri Jan  9 21:59:25 2004
Subject: [mod_python] includes/external files
Message-ID: <D31B04F24EDE7644BB169BB4F080778A01F4C4C5@s30342g004005>

If you would like a python approach to server side includes similar to what
php does, you might want to check out http://www.ccraig.org/software/pyhp/.
I use it for quick and small stuff. For more complicated work/methods/cgi, I
would recommend mod_python's Publisher Handler (manual 3.4) or the use of
other handlers. 

-----Original Message-----
From: gionuein@autistici.org [mailto:gionuein@autistici.org]
Sent: Monday, June 24, 2002 10:22 AM
To: mod_python@modpython.org
Subject: [mod_python] includes/external files



hi all -
i been dealing with mod python from a couple of weeks -
but i still dont understand to make stuff as php includes
works good in a python enviromente -
im really interested in web scripting -
and i lookin for a way to use includes or external files with routines and
code to manage my web site.

can someone help me?
a link to a good refernce would be great?
;)

thank u very much

tropiko

_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From Nik.Barron at pennantplc.co.uk  Wed Jun 26 17:01:56 2002
From: Nik.Barron at pennantplc.co.uk (Nik Barron)
Date: Fri Jan  9 21:59:25 2004
Subject: [mod_python] Instances and differences between Win32 and Linux
Message-ID: <F17550784FF9D111B7F100E02921B24741EA6A@NT-SOTON-001>

Hi,

I'm working on an XML application using mod_python. Without going into too
much detail, what it does is suck an XML file into memory and then allow
multiple users to work on the in-memory copy via the web. The main reason
for this is performance, as processing the file on the initial load is slow,
and also to provide granular locking (the file is split into 1500 or so key
elements, and the locking needs to be per element).

This works fine in Win32; I do the locking by a simple dictionary, e.g. if
user nik is editing requirement foo, editLocks['foo'] = 'nik' and so on.
This seems to work as expected.

However, I am in the process of moving it over to a Linux box for various
reasons. The code works, but it appears (I'm investigating in more detail at
the moment) that it is now running multiple instances, i.e. the locks
disappear between HTTP accesses. I'm guessing that this is because Apache on
Win32 is run as a single process, but as multiple processes on Un*x.

Is there a reliable way of handling such 'multi-user' persistent data under
Un*x, e.g multiple httpds pulling from the same Python? I'm guessing not :(

Many thanks!

Nick Barron
Manager, E-Services Division
Pennant Software Services Ltd -- Registered in England No. 3772667
PGP: A94C 4190 026E 3E02 6D50  C8FA 8620 3091 FF34 533D

From mbp at samba.org  Thu Jun 27 08:36:58 2002
From: mbp at samba.org (Martin Pool)
Date: Fri Jan  9 21:59:25 2004
Subject: [mod_python] Instances and differences between Win32 and Linux
In-Reply-To: <F17550784FF9D111B7F100E02921B24741EA6A@NT-SOTON-001>; from Nik.Barron@pennantplc.co.uk on Wed, Jun 26, 2002 at 05:01:56PM +0100
References: <F17550784FF9D111B7F100E02921B24741EA6A@NT-SOTON-001>
Message-ID: <20020627083658.A27621@va.samba.org>

On 26 Jun 2002, Nik Barron <Nik.Barron@pennantplc.co.uk> wrote:

> Hi,
> 
> I'm working on an XML application using mod_python. Without going into too
> much detail, what it does is suck an XML file into memory and then allow
> multiple users to work on the in-memory copy via the web. The main reason
> for this is performance, as processing the file on the initial load is slow,
> and also to provide granular locking (the file is split into 1500 or so key
> elements, and the locking needs to be per element).
> 
> This works fine in Win32; I do the locking by a simple dictionary, e.g. if
> user nik is editing requirement foo, editLocks['foo'] = 'nik' and so on.
> This seems to work as expected.

How do you make other threads wait for editing on foo to finish?  By
busy-waiting?
 
> However, I am in the process of moving it over to a Linux box for various
> reasons. The code works, but it appears (I'm investigating in more detail at
> the moment) that it is now running multiple instances, i.e. the locks
> disappear between HTTP accesses. I'm guessing that this is because Apache on
> Win32 is run as a single process, but as multiple processes on Un*x.

Yes, that is the correct explanation.
 
> Is there a reliable way of handling such 'multi-user' persistent data under
> Un*x, e.g multiple httpds pulling from the same Python? I'm guessing not :(

Not directly as far as I know.  In theory it might be possible using
Apache 2.0's MPM, though I'm not sure if it would be a good idea even
there.

The standard approach is to keep some kind of external shared storage
between the different children.  If you just need to share a single
hashtable, Python's 'shelve' library could be quite simple to use and
satisfactory.  Things based on some kind of shared-memory DB will not
necessarily be any slower than threads in a single memory space.

To make you feel better about this, there are some benefits to the
Unix approach:

 - it's more robust in the case where there's a bug that crashes 
    or hangs a single process child

 - on the whole I suspect you will be better able to execute concurrently 
   with multiple Python interpreters rather than a single image

 - you may have fewer concurrency bugs if data is private by default
   (separate processes) rather than shared by default (single image)

Cheers,
--
Martin

don't buy anything from Radio Shack -- http://radioslack.com/

From alain at onesite.org  Thu Jun 27 01:03:09 2002
From: alain at onesite.org (Alain Tesio)
Date: Fri Jan  9 21:59:25 2004
Subject: [mod_python] Interference with two directories trying to import a different module with the same name
Message-ID: <20020627010309.5f141858.alain@onesite.org>

Hi, I have an inteference from two scripts which
are supposed to be completely independent, but both
import a different module having a same name.

I just mention this in case you consider this problem to be
a bug, it's not a problem for me.

Details below if needed

Alain




In the apache config file :

# 1ST DIR

Alias /observer.py /home/observer/scripts/observer_www.py

<Directory /home/observer/scripts>
  AddHandler python-program .py
  PythonHandler observer_www
  PythonDebug On
</Directory>

# 2ND DIR

Alias /other/ /home/other/www/lib/other_www.py

<Directory "/home/other/www/lib">
  AddHandler python-program .py
  PythonHandler other_www
  PythonDebug On
</Directory>



Then I have an error when I try to get a page with the first
setup because it tries to use a module already imported by
the other one (it works fine though if I request this page
just after restarting apache because it loads the right
module, but of course the other one fails then)

http://www.floc.net/observer.py?page=login...

Traceback (most recent call last):

  File "/home/observer/scripts/observer_www.py", line 20, in handler
    (content_type,content)=wwwlib.out(selfurl,form_items)
....
  File "/home/other/www/lib/mycgi.py", line 379, in css_string
    for (key,value) in css:


From wkr at cs.ucsb.edu  Wed Jun 26 20:01:31 2002
From: wkr at cs.ucsb.edu (William Robertson)
Date: Fri Jan  9 21:59:25 2004
Subject: [mod_python] mod_python segfault
Message-ID: <20020627030131.GC19376@ip68-6-112-152.sb.sd.cox.net>

Hi,

I've been having problems installing mod_python 2.7.8 for Apache 1.3.26
on Gentoo Linux.  I compiled it as a DSO, using a python interpreter
compiled without threads, and am pretty certain I got the configuration
from the documentation correct for both Apache and the hello world
example.

When I tried to run the example, however, I got segfaults from
mod_python.so.  A gdb backtrace and some disassembly, confirmed by some
debugging code, shows that req->per_dir_config in the following line
(mod_python.c:560, in python_handler()) is uninitialized:

conf = (py_dir_config *) ap_get_module_config(req->per_dir_config, &python_module);

Any ideas?

-- 
| William Robertson | GPG:0x90A3BED4 | wkr@cs.ucsb.edu |

From mbp at samba.org  Thu Jun 27 13:25:00 2002
From: mbp at samba.org (Martin Pool)
Date: Fri Jan  9 21:59:25 2004
Subject: [mod_python] mod_python segfault
In-Reply-To: <20020627030131.GC19376@ip68-6-112-152.sb.sd.cox.net>
References: <20020627030131.GC19376@ip68-6-112-152.sb.sd.cox.net>
Message-ID: <20020627032457.GA30564@samba.org>

On 26 Jun 2002, William Robertson <wkr@cs.ucsb.edu> wrote:
> Hi,
> 
> I've been having problems installing mod_python 2.7.8 for Apache 1.3.26
> on Gentoo Linux.  I compiled it as a DSO, using a python interpreter
> compiled without threads, and am pretty certain I got the configuration
> from the documentation correct for both Apache and the hello world
> example.
> 
> When I tried to run the example, however, I got segfaults from
> mod_python.so.  A gdb backtrace and some disassembly, confirmed by some
> debugging code, shows that req->per_dir_config in the following line
> (mod_python.c:560, in python_handler()) is uninitialized:
> 
> conf = (py_dir_config *) ap_get_module_config(req->per_dir_config,
> &python_module);

At a guess, you are using a different version of the Apache source to
compile mod_python than the one that was used to build httpd itself.
Are you using an SSL patch perhaps?

-- 
Martin 

From wkr at cs.ucsb.edu  Wed Jun 26 22:27:48 2002
From: wkr at cs.ucsb.edu (William Robertson)
Date: Fri Jan  9 21:59:25 2004
Subject: [mod_python] mod_python segfault
In-Reply-To: <20020627032457.GA30564@samba.org>
References: <20020627030131.GC19376@ip68-6-112-152.sb.sd.cox.net> <20020627032457.GA30564@samba.org>
Message-ID: <20020627052748.GA19861@ip68-6-112-152.sb.sd.cox.net>

On 26 June 2002, Martin Pool [mbp@samba.org] wrote:
| At a guess, you are using a different version of the Apache source to
| compile mod_python than the one that was used to build httpd itself.
| Are you using an SSL patch perhaps?

I'm using mod_ssl, but that shouldn't matter as it's a DSO, right?
Anyway, trying without it loaded didn't make a difference.  Also, I'm
not compiling mod_python statically against an Apache source tree, and
I thought apxs would take care of using the correct Apache installation.

I did just try compiling against an Apache installation from a virgin
1.3.26 tree which worked perfectly, though.  Configurations were
identical AFAICT, so this is probably a Gentoo issue.  I guess I'll take
a closer look at those vendor patches...

-- 
| William Robertson | GPG:0x90A3BED4 | wkr@cs.ucsb.edu |


From mbp at samba.org  Thu Jun 27 16:15:25 2002
From: mbp at samba.org (Martin Pool)
Date: Fri Jan  9 21:59:25 2004
Subject: [mod_python] mod_python segfault
In-Reply-To: <20020627052748.GA19861@ip68-6-112-152.sb.sd.cox.net>
References: <20020627030131.GC19376@ip68-6-112-152.sb.sd.cox.net> <20020627032457.GA30564@samba.org> <20020627052748.GA19861@ip68-6-112-152.sb.sd.cox.net>
Message-ID: <20020627061521.GB11139@samba.org>

On 26 Jun 2002, William Robertson <wkr@cs.ucsb.edu> wrote:
> On 26 June 2002, Martin Pool [mbp@samba.org] wrote:
> | At a guess, you are using a different version of the Apache source to
> | compile mod_python than the one that was used to build httpd itself.
> | Are you using an SSL patch perhaps?
> 
> I'm using mod_ssl, but that shouldn't matter as it's a DSO, right?

Yes, it does matter.  No, it's not just a DSO; it's a patch and also a
DSO.

> Anyway, trying without it loaded didn't make a difference.

Right, but I suspect building Apache from scratch without it, or with
it, and then building mod_python against *that* would fix it.

If you can get apache+modssl+modpython from your distro that would be
simplest. 

> Also, I'm
> not compiling mod_python statically against an Apache source tree, and
> I thought apxs would take care of using the correct Apache installation.
> 
> I did just try compiling against an Apache installation from a virgin
> 1.3.26 tree which worked perfectly, though.  Configurations were
> identical AFAICT, so this is probably a Gentoo issue.  I guess I'll take
> a closer look at those vendor patches...
> 
-- 
Martin 

From Nik.Barron at pennantplc.co.uk  Thu Jun 27 08:06:42 2002
From: Nik.Barron at pennantplc.co.uk (Nik Barron)
Date: Fri Jan  9 21:59:25 2004
Subject: [mod_python] Instances and differences between Win32 and Linu
	x
Message-ID: <F17550784FF9D111B7F100E02921B24741EA6F@NT-SOTON-001>

> > This works fine in Win32; I do the locking by a simple 
> > dictionary, e.g. if user nik is editing requirement foo,
editLocks['foo'] = 
> > 'nik' and so on.
> 
> How do you make other threads wait for editing on foo to finish?  By
> busy-waiting?

Yep. The edit is fairly quick and there's only a dozen or so users, so the
chance of a collision is fairly small to begin with. 

> The standard approach is to keep some kind of external shared storage
> between the different children.  If you just need to share a single
> hashtable, Python's 'shelve' library could be quite simple to use and
> satisfactory.  Things based on some kind of shared-memory DB will not
> necessarily be any slower than threads in a single memory space.

Thanks, I'll have a look...

> To make you feel better about this, there are some benefits to the
> Unix approach:

Indeed. Unfortunately for the immediate future it'll probably have to stick
on Win32 as I need to get it up and running this week, but v2 should be a
lot nicer :-)

Many thanks again for the suggestions

Nik

From s13361562 at bach.sun.ac.za  Tue Jun  4 19:17:01 2002
From: s13361562 at bach.sun.ac.za (Hugo van der Merwe)
Date: Fri Jan  9 22:03:13 2004
Subject: [mod_python] publisher bugs / "conflicts" with other handlers
Message-ID: <20020604171701.GA11253@vervet.localnet>

Hello,

After some help from the list (esp Dustin Mitchell, thanks), I've sorted
out a lot of what I want to do. One last problem I have is that it
appears a TransHandler has a larger job than I want it to have. I get
404's when my TransHandler simply returns apache.DECLINED. I just want
the *usual* stuff to happen. It is apparent that my TransHandler is
overriding something, that is otherwise executed. How do I still get it
executed?

This part of the publisher is what is returning HTTP_NOT_FOUND:

    # get the path PATH_INFO (everthing after script)
    if not _req.subprocess_env.has_key("PATH_INFO"):
        raise apache.SERVER_RETURN, apache.HTTP_NOT_FOUND

subprocess_env does not have the "PATH_INFO" key at this point if I use
my own TransHandler. (All this handler really does is returns
apache.DECLINED - i.e. it is trying it's best to do "nothing" - for
debugging purposes of course ;)

With a normal request - i.e. no TransHandler defined, subprocess_env
contains:

[Tue Jun  4 18:46:37 2002] [error] ['UNIQUE_ID', 'GATEWAY_INTERFACE',
'SERVER_PROTOCOL', 'REQUEST_METHOD', 'QUERY_STRING', 'REQUEST_URI',
'SCRIPT_NAME', 'PATH_INFO', 'PATH_TRANSLATED']

subprocess_env when I have a TransHandler that simply returns
apache.DECLINED:

[Tue Jun  4 18:48:50 2002] [error] ['UNIQUE_ID', 'GATEWAY_INTERFACE',
'SERVER_PROTOCOL', 'REQUEST_METHOD', 'QUERY_STRING', 'REQUEST_URI',
'SCRIPT_NAME']

It's missing PATH_INFO and PATH_TRANSLATED. I do not want to set these
up myself: I don't know how... don't know exactly what must happen to
these. Can't I get the "default apache TransHandler" to take over this
job in the case where I don't want to do it?

Why does the publisher not simply look at e.g. _req.uri or
_req.unparsed_uri?

Thanks,
Hugo van der Merwe

From scott.l.hathaway at lmco.com  Wed Jun  5 09:00:33 2002
From: scott.l.hathaway at lmco.com (Hathaway, Scott L)
Date: Fri Jan  9 22:03:13 2004
Subject: [mod_python] installing mod_python on windows
Message-ID: <DFA15A3E9F82D4119D8C00508BE325420AA10038@emss07m02.lmtas.lmco.com>

Hello All,

I have installed mod_python for windows and I cannot start apache.  Can
someone tell me where I went wrong?
I am using: 

Windows 2000 Pro
Apache 2.0.35
Python 2.2.1
mod_python 2.7.6

Here are the appropriate sections of my conf file:
	LoadModule python_module modules/mod_python.dll
	AddModule mod_python.c

	<Directory "d:/Data/hathasl/apache/Apache2/htdocs/python">
		AddHandler python-program .py
		PythonHandler mptest
		PythonDebug on
	</Directory>

I tried to follow the install instructions on the mod_python website.

If there is any other information that I need to supply, please let me know.

Thanks in advance...
Scott Hathaway

From vmanera at manord.com  Wed Jun  5 18:45:46 2002
From: vmanera at manord.com (Manera, Villiam)
Date: Fri Jan  9 22:03:13 2004
Subject: [mod_python] problem in file download
Message-ID: <801EB84B006ED411898D00B0D03E524712CCB3@PROXYMAIL>

Hello,

I'm trying to download a file:

client side:
<FORM METHOD="POST"
ACTION="http://sviluppo.manord.com/cgi-mpy/prova.py/printfile "
ENCTYPE="multipart/form-data" NAME="FormDati">
<center>
<INPUT TYPE="file" NAME="file1"></center>
<center>
<INPUT TYPE="submit" NAME="invia" VALUE="Invia Dati"></center>

</FORM>

when I sumitted a file mod_python give me this:

Mod_python error: "PythonHandler mod_python.publisher"

Traceback (most recent call last):

  File "C:\Program Files\Python22\Lib\mod_python\apache.py", line 193, in
Dispatch
    result = object(req)

  File "C:\Program Files\Python22\Lib\mod_python\publisher.py", line 104, in
handler
    val = File(field)

  File "C:\Program Files\Python22\Lib\mod_python\publisher.py", line 308, in
__init__
    for m in field.file.__methods__:

  File "C:\programmi\Python22\Lib\tempfile.py", line 178, in __getattr__
    a = getattr(file, name)

AttributeError: 'file' object has no attribute '__methods__'


does anyone have any idea to solve this?

Villiam


From rien at yeepa.org  Wed Jun  5 19:02:51 2002
From: rien at yeepa.org (Adrien Plisson)
Date: Fri Jan  9 22:03:13 2004
Subject: [mod_python] installing mod_python on windows
References: <DFA15A3E9F82D4119D8C00508BE325420AA10038@emss07m02.lmtas.lmco.com>
Message-ID: <002201c20cb2$d4b7c300$01000001@RANDOM>

From: "Hathaway, Scott L" <scott.l.hathaway@lmco.com>
> I have installed mod_python for windows and I cannot start apache. 

It could be very useful if you tell us what Apache says when you launch it.
thanks.

-- 
rien


From johnny.morano at vlaanderen.be  Thu Jun  6 08:46:05 2002
From: johnny.morano at vlaanderen.be (Johnny Morano)
Date: Fri Jan  9 22:03:13 2004
Subject: [mod_python] problem in file download
In-Reply-To: <801EB84B006ED411898D00B0D03E524712CCB3@PROXYMAIL>
References: <801EB84B006ED411898D00B0D03E524712CCB3@PROXYMAIL>
Message-ID: <200206060741.g567fKl05763@s001032.vlaanderen.be>

On Wednesday 05 June 2002 18:45, you wrote:
> getattr(file, name)

is this possible on windows? i thought you could only do that on UNIX 
systems... well, that's the case in php at least. please correct me if i'm 
wrong.

could you maybe show the python code for handling the upload? i've written a 
few upload scripts as well, maybe we can share them ;-)

i usually use the req object too. like:

def insertFile(req):
	form = req.form
	fileObject = form['fileInputField']
	fileData = fileObject.file.read()
	open('/some/path/name/file','wb').write(fileData)

well, this is the very simple fileUploadThing

greetz,
johnny

-- 
Johnny Morano - Linux Consultant
___________________________________________________ 
 Ministerie Vlaamse Gemeenschap                    |
 Koning Albert II-laan, 7 (610) 1210 Brussel       |
 tel: 02/5531319 mail: johnny.morano@vlaanderen.be |

From jfk at metation.com  Thu Jun  6 10:36:22 2002
From: jfk at metation.com (=?iso-8859-1?q?J=F8rgen=20Fr=F8jk=20Kj=E6rsgaard=20{Metation}?=)
Date: Fri Jan  9 22:03:13 2004
Subject: [mod_python] Getting DocumentRoot directive
Message-ID: <02060610362205.00302@grace.informaticon.dk>

Hi,

Is it somehow possible to get the DocumentRoot directive from the Apache 
configuration in mod_python. I need to be able to refer subresources relative 
to DocumentRoot in documents processed by mod_python.

thanks,

J?rgen Fr?jk Kj?rsgaard, direkt?r og systemkonsulent
Metation aps - Kystvejen 29, DK-8000 ?rhus C
Web: www.metation.com  - Tlf: +45 8625 0038 - Mobil: +45 2925 6693

From johnny.morano at vlaanderen.be  Thu Jun  6 10:37:45 2002
From: johnny.morano at vlaanderen.be (Johnny Morano)
Date: Fri Jan  9 22:03:13 2004
Subject: R: [mod_python] problem in file download
In-Reply-To: <801EB84B006ED411898D00B0D03E524712CCB5@PROXYMAIL>
References: <801EB84B006ED411898D00B0D03E524712CCB5@PROXYMAIL>
Message-ID: <200206060933.g569X0l20728@s001032.vlaanderen.be>

On Thursday 06 June 2002 09:59, you wrote:
> 	fileDaSalvare=open(salva_su,'w')
> 	fileDaSalvare.write(form['file_costi'].value)
> 	fileDaSalvare.close()
>
> but work only with text-file

indeed .... change: fileDaSalvare=open(salva_su,'w') into 
fileDaSalvare=open(salva_su, 'wb')

'wb' stands for 'write binary' and this is required for non-textfiles in 
windows.

take a look at the following script (i called it fileUpload.py):
# fileUpload.py
#
from mod_python import util
from mod_python import apache

def form():
    output = """
<html>
<body>
    <form action="insert" method="post" enctype="multipart/form-data" 
name="form">
        File: <input type="file" name="fileField"><br>
        <input type="submit">
    </form>
</body>
</html>
"""
    return output

def insert(req):
    import string
    import os

    form = req.form
    uploadDir = '/tmp/'

    if(form.has_key('fileField')):
        fileData = form['fileField'].file.read()
        filePathName = uploadDir + form['fileField'].filename
        open(filePathName, 'wb').write(fileData)
        return '<html><body>file uploaded to '+filePathName+'</body></html>'
    else:
        return '<html><body>no file to upload</body></html>'

this works... or should work.. well, it works on my pc ;-)

hope this helps

greetz
-- 
Johnny Morano - Linux Consultant
___________________________________________________ 
 Ministerie Vlaamse Gemeenschap                    |
 Koning Albert II-laan, 7 (610) 1210 Brussel       |
 tel: 02/5531319 mail: johnny.morano@vlaanderen.be |

From johnny.morano at vlaanderen.be  Thu Jun  6 12:01:27 2002
From: johnny.morano at vlaanderen.be (Johnny Morano)
Date: Fri Jan  9 22:03:13 2004
Subject: R: R: [mod_python] problem in file download
In-Reply-To: <801EB84B006ED411898D00B0D03E524712CCBB@PROXYMAIL>
References: <801EB84B006ED411898D00B0D03E524712CCBB@PROXYMAIL>
Message-ID: <200206061056.g56Aufl00893@s001032.vlaanderen.be>

On Thursday 06 June 2002 11:45, you wrote:
>
> so I thonk is a bug of mod-python on windows?
>
> I currently use mod python 2.7.6 for python 2.2 and apache 1.3

well, i use mod_python 2.7.8 compiled for python 2.1 and apache 1.3.24
maybe that is the problem

> I tryed also your suggest for cgi(wb, instead that w), but the file will be
> corrupted (not all tranfered, size of 34.4 kb transfered only:4)

well, i have no experience with windows, just linux (debian!) ;-)

> tank you for the time spent for me.

no problem, just wish that i could have helped you ...

greetz,
johnny
-- 
Johnny Morano - Linux Consultant
___________________________________________________ 
 Ministerie Vlaamse Gemeenschap                    |
 Koning Albert II-laan, 7 (610) 1210 Brussel       |
 tel: 02/5531319 mail: johnny.morano@vlaanderen.be |

From Tony_Burger at circuitcity.com  Thu Jun  6 09:54:45 2002
From: Tony_Burger at circuitcity.com (Tony_Burger@circuitcity.com)
Date: Fri Jan  9 22:03:13 2004
Subject: [mod_python] Getting DocumentRoot directive
Message-ID: <OFDFD9B21B.C9EF0515-ON85256BD0.004C4460@ccity.com>

I do something similiar by just opening the config file for read and for ..
readlines() through it until I find what I'm looking for.


From chris at vindaloo.com  Thu Jun  6 11:31:53 2002
From: chris at vindaloo.com (Christopher Sean Hilton)
Date: Fri Jan  9 22:03:13 2004
Subject: [mod_python] problem in file download
In-Reply-To: <801EB84B006ED411898D00B0D03E524712CCB3@PROXYMAIL>; from vmanera@manord.com on Wed, Jun 05, 2002 at 06:45:46PM +0200
References: <801EB84B006ED411898D00B0D03E524712CCB3@PROXYMAIL>
Message-ID: <20020606113153.B6966@moosehead.dsl.net>

On Wed, Jun 05, 2002 at 06:45:46PM +0200, Manera, Villiam wrote:
> Hello,
> 
[snip...]
> 
> AttributeError: 'file' object has no attribute '__methods__'
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ 

I had this problem too. __methods__ is not included in python 2.2 If
you downgrade your python installation to the latest 2.1.x file posts
will work.

Chris Hilton


From chris at vindaloo.com  Thu Jun  6 17:54:26 2002
From: chris at vindaloo.com (Christopher Sean Hilton)
Date: Fri Jan  9 22:03:13 2004
Subject: R: R: [mod_python] problem in file download
In-Reply-To: <200206061056.g56Aufl00893@s001032.vlaanderen.be>; from johnny.morano@vlaanderen.be on Thu, Jun 06, 2002 at 12:01:27PM +0200
References: <801EB84B006ED411898D00B0D03E524712CCBB@PROXYMAIL> <200206061056.g56Aufl00893@s001032.vlaanderen.be>
Message-ID: <20020606175426.D61986@dantooine.vindaloo.com>

On Thu, Jun 06, 2002 at 12:01:27PM +0200, Johnny Morano wrote:
> On Thursday 06 June 2002 11:45, you wrote:
> >
> > so I thonk is a bug of mod-python on windows?
> >
> > I currently use mod python 2.7.6 for python 2.2 and apache 1.3
> 
> well, i use mod_python 2.7.8 compiled for python 2.1 and apache 1.3.24
> maybe that is the problem
> 

His problem is that python 2.2 does not include the __methods__ attribute 
for classes but the publisher.py code which actually handles the file inload 
depends on it. If he downgrades from python 2.2 to python 2.1 he'll have the 
__methods__ attribute of the file class. Someone needs to address this in 
the mod_python code however:

        for m in field.file.__methods__:
            self.__dict__[m] = getattr(field.file, m)

        self.headers = field.headers
        self.filename = field.filename

doesn't work in python 2.2 because __methods__ doesn't exist. The code 
appears to be trying to make local copies of all of the methods in the 
object that gets passed to the user. I had this problem in Unix (FreeBSD) 
two weeks ago and downgrading my python from 2.2 to 2.1 solved it. A google 
search on python, __methods__, 2.1 and 2.2 will yield more information.

Chris

-- 
Chris Hilton                                 chilton-at-vindaloo-dot-com
------------------------------------------------------------------------
                "All I was doing was trying to get home from work!"
                                                 -- Rosa Parks

From dustin at ywlcs.org  Thu Jun  6 22:44:43 2002
From: dustin at ywlcs.org (Dustin Mitchell)
Date: Fri Jan  9 22:03:13 2004
Subject: R: R: [mod_python] problem in file download
In-Reply-To: <20020606175426.D61986@dantooine.vindaloo.com>
References: <801EB84B006ED411898D00B0D03E524712CCBB@PROXYMAIL> <200206061056.g56Aufl00893@s001032.vlaanderen.be> <20020606175426.D61986@dantooine.vindaloo.com>
Message-ID: <20020607034443.GB1852@eleanor.internal.ywlcs.org>

>         for m in field.file.__methods__:
>             self.__dict__[m] = getattr(field.file, m)
> 
>         self.headers = field.headers
>         self.filename = field.filename

Untested in this instance, but in similar situations the equivalent of
dir(field.file) has worked for me.  It does all the chasing up the
inheritance hierarchy necessary.

Dustin

-- 

  Dustin Mitchell
  dustin@ywlcs.org
  http://people.cs.uchicago.edu/~dustin/

From john.garberson at nexos.com  Fri Jun  7 10:54:18 2002
From: john.garberson at nexos.com (John D. Garberson)
Date: Fri Jan  9 22:03:13 2004
Subject: [mod_python] problem in file download
Message-ID: <200206070854.KAA01558@ws2.nexos.com>

Hi,

You wrote a few days back:

> 
> Hello,
> 
> I'm trying to download a file:
> 
....
....
....
a = getattr(file, name)
> 
> AttributeError: 'file' object has no attribute '__methods__'
> 
> 
> does anyone have any idea to solve this?
> 
> Villiam



Having to downgrade seems a bit extreme [;-)

I don't know much about the publisher.py module, never having used it.
But if you do this import:

------------------------------------------------------------------------

from types import BuiltinMethodType

------------------------------------------------------------------------

then this function:

------------------------------------------------------------------------

def sim_methods(obj):
    return filter(lambda s, t=obj:
           type(getattr(t, s)) == BuiltinMethodType,
                                             dir(obj))

--------------------------------------------------------------------------

works under both 2.0 and 2.2.1 (I don't have a 2.1 any more) and delivers
the list of methods that it seems you want, looking at the publisher.py
source.  If you're not a fan of the functional programming approach, then
a list comprehension:

-----------------------------------------------------------------------

def sim_methods(obj):
    return [m for m in dir(obj)
                   if type(getattr(obj, m)) == BuiltinMethodType]

-----------------------------------------------------------------------

works just as well.

You could just replace the 'for m in field.file.__methods__:'

with

'for m in sim_methods(field.file):'

Hope this helps.

John


     John Garberson                             nexos ag 
     john.garberson@nexos.com                   Frobenstrasse 66 
                                                CH-4053 Basel, Switzerland
                                                Tel. 41 61 283 55 03
                                                Fax  41 61 283 55 01


From jfk at metation.com  Fri Jun  7 11:55:17 2002
From: jfk at metation.com (=?iso-8859-1?q?J=F8rgen=20Fr=F8jk=20Kj=E6rsgaard=20{Metation}?=)
Date: Fri Jan  9 22:03:13 2004
Subject: [mod_python] Getting DocumentRoot directive
In-Reply-To: <OFDFD9B21B.C9EF0515-ON85256BD0.004C4460@ccity.com>
References: <OFDFD9B21B.C9EF0515-ON85256BD0.004C4460@ccity.com>
Message-ID: <02060711551701.00287@grace.informaticon.dk>

Torsdag  6. Juni 2002 15:54 skrev Tony_Burger@circuitcity.com:
> I do something similiar by just opening the config file for read and for ..
> readlines() through it until I find what I'm looking for.

I thought about that solution, but, it seems a bit illogical, and will 
degenerate performance a bit. I'd expect Apache to have a method to fetch 
configuration values. If so, it would be a very good thing to have in 
mod_python...

/jfk

From vmanera at manord.com  Fri Jun  7 13:04:42 2002
From: vmanera at manord.com (Manera, Villiam)
Date: Fri Jan  9 22:03:13 2004
Subject: R: R: R: [mod_python] problem in file download
Message-ID: <801EB84B006ED411898D00B0D03E524712CCC6@PROXYMAIL>

I've fixed publisher.py : 
> for m in dir(field.file) :
and now the download seams to do well, but when I attempt to read the file:
	for F in req.form.list:
			if F.name == 'file_costi':
			a=F.file.read()  <-------------this message will
showed:
Mod_python error: "PythonHandler mod_python.publisher"

Traceback (most recent call last):

  File "C:\Program Files\Python22\Lib\mod_python\apache.py", line 193, in
Dispatch
    result = object(req)

  File "C:\Program Files\Python22\Lib\mod_python\publisher.py", line 171, in
handler
    result = apply(object, (), args)

  File "e:/script/cgi/cgi-mpy\download.py", line 48, in printfile
    #doc.append(dir(req))

ValueError: I/O operation on closed file

Villiam

-----Messaggio originale-----
Da: Dustin Mitchell [mailto:dustin@ywlcs.org]
Inviato: venerd? 7 giugno 2002 5.45
A: mod_python@modpython.org
Oggetto: Re: R: R: [mod_python] problem in file download


>         for m in field.file.__methods__:
>             self.__dict__[m] = getattr(field.file, m)
> 
>         self.headers = field.headers
>         self.filename = field.filename

Untested in this instance, but in similar situations the equivalent of
dir(field.file) has worked for me.  It does all the chasing up the
inheritance hierarchy necessary.

Dustin

-- 

  Dustin Mitchell
  dustin@ywlcs.org
  http://people.cs.uchicago.edu/~dustin/
_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From vmanera at manord.com  Fri Jun  7 14:32:13 2002
From: vmanera at manord.com (Manera, Villiam)
Date: Fri Jan  9 22:03:13 2004
Subject: R: [mod_python] problem in file download
Message-ID: <801EB84B006ED411898D00B0D03E524712CCC7@PROXYMAIL>

Wow!!!!! publisher.py patched with this function work fine!!!!

class File:
    """ Like a file, but also has headers and filename
    """
    def __init__(self, field):
        # steal all the file-like methods
        #for m in field.file.__methods__:
        #for m in dir(field.file):    #dont' work
        for m in self.sim_methods(field.file):
            self.__dict__[m] = getattr(field.file, m)

        self.headers = field.headers
        self.filename = field.filename
    
    def sim_methods(self,obj):
        from types import BuiltinMethodType   #parte aggiunta
        return filter(lambda s, t=obj:
           type(getattr(t, s)) == BuiltinMethodType, dir(obj))


thanks all
Villiam
-----Messaggio originale-----
Da: John D. Garberson [mailto:john.garberson@nexos.com]
Inviato: venerd? 7 giugno 2002 10.54
A: vmanera@manord.com
Cc: Mod_python@modpython.org
Oggetto: Re: [mod_python] problem in file download


Hi,

You wrote a few days back:

> 
> Hello,
> 
> I'm trying to download a file:
> 
....
....
....
a = getattr(file, name)
> 
> AttributeError: 'file' object has no attribute '__methods__'
> 
> 
> does anyone have any idea to solve this?
> 
> Villiam



Having to downgrade seems a bit extreme [;-)

I don't know much about the publisher.py module, never having used it.
But if you do this import:

------------------------------------------------------------------------

from types import BuiltinMethodType

------------------------------------------------------------------------

then this function:

------------------------------------------------------------------------

def sim_methods(obj):
    return filter(lambda s, t=obj:
           type(getattr(t, s)) == BuiltinMethodType,
                                             dir(obj))

--------------------------------------------------------------------------

works under both 2.0 and 2.2.1 (I don't have a 2.1 any more) and delivers
the list of methods that it seems you want, looking at the publisher.py
source.  If you're not a fan of the functional programming approach, then
a list comprehension:

-----------------------------------------------------------------------

def sim_methods(obj):
    return [m for m in dir(obj)
                   if type(getattr(obj, m)) == BuiltinMethodType]

-----------------------------------------------------------------------

works just as well.

You could just replace the 'for m in field.file.__methods__:'

with

'for m in sim_methods(field.file):'

Hope this helps.

John


     John Garberson                             nexos ag 
     john.garberson@nexos.com                   Frobenstrasse 66 
                                                CH-4053 Basel, Switzerland
                                                Tel. 41 61 283 55 03
                                                Fax  41 61 283 55 01

_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From geertj at boskant.nl  Fri Jun  7 14:47:18 2002
From: geertj at boskant.nl (geertj@boskant.nl)
Date: Fri Jan  9 22:03:13 2004
Subject: [mod_python] Getting DocumentRoot directive
In-Reply-To: <02060711551701.00287@grace.informaticon.dk>; from jfk@metation.com on Fri, Jun 07, 2002 at 11:55:17AM +0200
References: <OFDFD9B21B.C9EF0515-ON85256BD0.004C4460@ccity.com> <02060711551701.00287@grace.informaticon.dk>
Message-ID: <20020607144718.A4294@vader.boskant.nl>

On Fri, Jun 07, 2002 at 11:55:17AM +0200, J?rgen Fr?jk Kj?rsgaard {Metation} wrote:
> Torsdag  6. Juni 2002 15:54 skrev Tony_Burger@circuitcity.com:
> > I do something similiar by just opening the config file for read and for ..
> > readlines() through it until I find what I'm looking for.
> 
> I thought about that solution, but, it seems a bit illogical, and will 
> degenerate performance a bit. I'd expect Apache to have a method to fetch 
> configuration values. If so, it would be a very good thing to have in 
> mod_python...

I second that! Already a couple of times that I really missed this.

Greetings,
Geert

From chris at vindaloo.com  Fri Jun  7 09:07:48 2002
From: chris at vindaloo.com (Christopher Sean Hilton)
Date: Fri Jan  9 22:03:13 2004
Subject: R: [mod_python] problem in file download
In-Reply-To: <801EB84B006ED411898D00B0D03E524712CCC7@PROXYMAIL>; from vmanera@manord.com on Fri, Jun 07, 2002 at 02:32:13PM +0200
References: <801EB84B006ED411898D00B0D03E524712CCC7@PROXYMAIL>
Message-ID: <20020607090748.A62795@dantooine.vindaloo.com>

On Fri, Jun 07, 2002 at 02:32:13PM +0200, Manera, Villiam wrote:
> Wow!!!!! publisher.py patched with this function work fine!!!!
> 
> class File:
>     """ Like a file, but also has headers and filename
>     """
>     def __init__(self, field):
>         # steal all the file-like methods
>         #for m in field.file.__methods__:
>         #for m in dir(field.file):    #dont' work
>         for m in self.sim_methods(field.file):
>             self.__dict__[m] = getattr(field.file, m)
> 
>         self.headers = field.headers
>         self.filename = field.filename
>     
>     def sim_methods(self,obj):
>         from types import BuiltinMethodType   #parte aggiunta
>         return filter(lambda s, t=obj:
>            type(getattr(t, s)) == BuiltinMethodType, dir(obj))
> 
> 

That's the way to do it. I agree that having to downgrade to 2.1 seems a bit 
extreme but the way I was looking at it the is probably not the only piece 
of obsolete code modpython. You are probably right though and it's certain 
that the patch needs to be written.

Chris
-- 
Chris Hilton                                 chilton-at-vindaloo-dot-com
------------------------------------------------------------------------
                "All I was doing was trying to get home from work!"
                                                 -- Rosa Parks

From grisha at modpython.org  Fri Jun  7 09:50:02 2002
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 22:03:13 2004
Subject: R: [mod_python] problem in file download
In-Reply-To: <20020607090748.A62795@dantooine.vindaloo.com>
Message-ID: <Pine.BSF.4.32.0206070948080.33843-100000@localhost>

On Fri, 7 Jun 2002, Christopher Sean Hilton wrote:

> That's the way to do it. I agree that having to downgrade to 2.1 seems a bit
> extreme but the way I was looking at it the is probably not the only piece
> of obsolete code modpython. You are probably right though and it's certain
> that the patch needs to be written.

Yes, whatever free time I have I try to spend on the 3.0 version that will
run on Apache 2.0. Probably the simplest way to tackle this one is for
someone to add the publisher patch to the FAQ, at least for the time
being.

Grisha


From chris at vindaloo.com  Fri Jun  7 10:57:52 2002
From: chris at vindaloo.com (Christopher Sean Hilton)
Date: Fri Jan  9 22:03:13 2004
Subject: R: [mod_python] problem in file download
In-Reply-To: <Pine.BSF.4.32.0206070948080.33843-100000@localhost>; from grisha@modpython.org on Fri, Jun 07, 2002 at 09:50:02AM -0400
References: <20020607090748.A62795@dantooine.vindaloo.com> <Pine.BSF.4.32.0206070948080.33843-100000@localhost>
Message-ID: <20020607105752.A63035@dantooine.vindaloo.com>

On Fri, Jun 07, 2002 at 09:50:02AM -0400, Gregory (Grisha) Trubetskoy wrote:
> 
> On Fri, 7 Jun 2002, Christopher Sean Hilton wrote:
> 
> > That's the way to do it. I agree that having to downgrade to 2.1 seems a bit
> > extreme but the way I was looking at it the is probably not the only piece
> > of obsolete code modpython. You are probably right though and it's certain
> > that the patch needs to be written.
> 
> Yes, whatever free time I have I try to spend on the 3.0 version that will
> run on Apache 2.0. Probably the simplest way to tackle this one is for
> someone to add the publisher patch to the FAQ, at least for the time
> being.

I think that you can accomplish the result that your are looking for by 
replacing foo.__methods__ with dir(foo) and callable but I'm not sure of the 
exact construction. It's a little simpler than the patch submitted but a 
bird in the hand is worth two in the bush as they say.

Chris
-- 
Chris Hilton                                 chilton-at-vindaloo-dot-com
------------------------------------------------------------------------
                "All I was doing was trying to get home from work!"
                                                 -- Rosa Parks

From rob at sportsinjuryclinic.net  Fri Jun  7 19:56:17 2002
From: rob at sportsinjuryclinic.net (Rob)
Date: Fri Jan  9 22:03:13 2004
Subject: [mod_python] Sports Injury
Message-ID: <200206071852.g57IqrC37046@eden.ispol.com>

Hi,
www.sportsinjuryclinic.net offers visitors a free 'Virtual Diagnosis' and self help information on over 100 sports related injuries.
If you think this might be of interest to your site visitors, perhaps you could link to us. We would be happy to return the link.
Rob@sportsinjuryclinic.net

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20020607/9a3a132c/attachment-0003.htm
From alex at shop.com  Fri Jun  7 17:02:52 2002
From: alex at shop.com (S. Alexander Jacobson)
Date: Fri Jan  9 22:03:13 2004
Subject: [mod_python] Does Mod_python work w/ python 2.2?
Message-ID: <Pine.WNT.4.43.0206071659270.1068-100000@fanatic>

-Alex-

___________________________________________________________________
S. Alexander Jacobson                   i2x Media
1-212-787-1914 voice                    1-603-288-1280 fax



From chris at vindaloo.com  Fri Jun  7 17:52:49 2002
From: chris at vindaloo.com (Christopher Sean Hilton)
Date: Fri Jan  9 22:03:14 2004
Subject: [mod_python] Does Mod_python work w/ python 2.2?
In-Reply-To: <Pine.WNT.4.43.0206071659270.1068-100000@fanatic>; from alex@shop.com on Fri, Jun 07, 2002 at 05:02:52PM -0400
References: <Pine.WNT.4.43.0206071659270.1068-100000@fanatic>
Message-ID: <20020607175249.A64028@dantooine.vindaloo.com>

On Fri, Jun 07, 2002 at 05:02:52PM -0400, S. Alexander Jacobson wrote:

Some code in mod_python depends on constructions that are obsolete and gone 
in 2.2 particularly the __methods__, __members__ dictionaries from builtin 
types.

-- 
Chris Hilton                                 chilton-at-vindaloo-dot-com
------------------------------------------------------------------------
                "All I was doing was trying to get home from work!"
                                                 -- Rosa Parks

From alex at shop.com  Sat Jun  8 12:35:41 2002
From: alex at shop.com (S. Alexander Jacobson)
Date: Fri Jan  9 22:03:14 2004
Subject: [mod_python] Does Mod_python work w/ python 2.2?
In-Reply-To: <20020607175249.A64028@dantooine.vindaloo.com>
Message-ID: <Pine.WNT.4.43.0206081235160.1068-100000@fanatic>

So does that mean it won't work overall or that
some specific functionality won't work?

-Alex-

On Fri, 7 Jun 2002, Christopher Sean Hilton wrote:

> On Fri, Jun 07, 2002 at 05:02:52PM -0400, S. Alexander Jacobson wrote:
>
> Some code in mod_python depends on constructions that are obsolete and gone
> in 2.2 particularly the __methods__, __members__ dictionaries from builtin
> types.
>
> --
> Chris Hilton                                 chilton-at-vindaloo-dot-com
> ------------------------------------------------------------------------
>                 "All I was doing was trying to get home from work!"
>                                                  -- Rosa Parks
>

___________________________________________________________________
S. Alexander Jacobson                   i2x Media
1-212-787-1914 voice                    1-603-288-1280 fax



From johannes at erdfelt.com  Sat Jun  8 13:10:17 2002
From: johannes at erdfelt.com (Johannes Erdfelt)
Date: Fri Jan  9 22:03:14 2004
Subject: [mod_python] Does Mod_python work w/ python 2.2?
In-Reply-To: <Pine.WNT.4.43.0206081235160.1068-100000@fanatic>; from alex@shop.com on Sat, Jun 08, 2002 at 12:35:41PM -0400
References: <20020607175249.A64028@dantooine.vindaloo.com> <Pine.WNT.4.43.0206081235160.1068-100000@fanatic>
Message-ID: <20020608131017.L26987@sventech.com>

Some specific functionality. I've been using mod_python with python 2.2
for a couple of months now and I haven't stumbled across these problems
yet.

However, I will soon since my next project was handling uploaded files
:) Thankfully there is a patch for that now.

JE

On Sat, Jun 08, 2002, S. Alexander Jacobson <alex@shop.com> wrote:
> So does that mean it won't work overall or that
> some specific functionality won't work?
> 
> -Alex-
> 
> On Fri, 7 Jun 2002, Christopher Sean Hilton wrote:
> 
> > On Fri, Jun 07, 2002 at 05:02:52PM -0400, S. Alexander Jacobson wrote:
> >
> > Some code in mod_python depends on constructions that are obsolete and gone
> > in 2.2 particularly the __methods__, __members__ dictionaries from builtin
> > types.
> >
> > --
> > Chris Hilton                                 chilton-at-vindaloo-dot-com
> > ------------------------------------------------------------------------
> >                 "All I was doing was trying to get home from work!"
> >                                                  -- Rosa Parks
> >
> 
> ___________________________________________________________________
> S. Alexander Jacobson                   i2x Media
> 1-212-787-1914 voice                    1-603-288-1280 fax
> 
> 
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python

From dustin at ywlcs.org  Sat Jun  8 20:40:36 2002
From: dustin at ywlcs.org (Dustin Mitchell)
Date: Fri Jan  9 22:03:14 2004
Subject: [mod_python] Does Mod_python work w/ python 2.2?
In-Reply-To: <20020608131017.L26987@sventech.com>
References: <20020607175249.A64028@dantooine.vindaloo.com> <Pine.WNT.4.43.0206081235160.1068-100000@fanatic> <20020608131017.L26987@sventech.com>
Message-ID: <20020609014035.GE9104@eleanor.internal.ywlcs.org>

Specifically, the only problem so far is in a single line of the publisher
handler which is invoked only on file uploads.  So if you're (a) not using
file uploads or (b) not using publisher, you'll be fine.

Dustin

On Sat, Jun 08, 2002 at 01:10:17PM -0400, Johannes Erdfelt wrote:
> However, I will soon since my next project was handling uploaded files
> :) Thankfully there is a patch for that now.
> 
> On Sat, Jun 08, 2002, S. Alexander Jacobson <alex@shop.com> wrote:
> > So does that mean it won't work overall or that
> > some specific functionality won't work?

-- 

  Dustin Mitchell
  dustin@ywlcs.org
  http://people.cs.uchicago.edu/~dustin/

From johanfo at ohman.no  Sun Jun  9 19:15:21 2002
From: johanfo at ohman.no (=?iso-8859-1?Q?Johan_Fredrik_=D8hman?=)
Date: Fri Jan  9 22:03:14 2004
Subject: [mod_python] make_obcallback():
Message-ID: <000801c20fd9$41117c20$c167f081@matrisen>

make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.
[Sun Jun  9 19:13:08 2002] [error] [client 129.240.103.193] python_handler: make_obcallback returned no obCallBack!


What is most likely to cause this error ?

I'm running Python2.2 with latest mod_python and apache-1.3.22

--
Johan Fredrik ?hman
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20020609/f9a89c78/attachment-0003.htm
From jeffstearns at attbi.com  Sun Jun  9 21:34:57 2002
From: jeffstearns at attbi.com (Jeff Stearns)
Date: Fri Jan  9 22:03:14 2004
Subject: [mod_python] make_obcallback():
In-Reply-To: <000801c20fd9$41117c20$c167f081@matrisen>
Message-ID: <6B2FB838-7C2B-11D6-819E-0030653DCC28@attbi.com>

I imagine that mod_python isn't in the Python search path.  Check to see 
where you installed the mod_python modules.

-jeff stearns


On Sunday, June 9, 2002, at 10:15  AM, Johan Fredrik ?hman wrote:

> make_obcallback(): could not import mod_python.apache.
> make_obcallback(): could not call init.
> [Sun Jun? 9 19:13:08 2002] [error] [client 129.240.103.193] 
> python_handler: make_obcallback returned no obCallBack!
> ?
> ?
> What is most likely to cause this error ?
> ?
> I'm running Python2.2 with latest mod_python and?apache-1.3.22
> ?
> --
> Johan Fredrik ?hman
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 837 bytes
Desc: not available
Url : http://mailman.modpython.org/pipermail/mod_python/attachments/20020609/1dd7756b/attachment-0003.bin
From johanfo at ohman.no  Mon Jun 10 08:16:24 2002
From: johanfo at ohman.no (=?iso-8859-1?Q?Johan_Fredrik_=D8hman?=)
Date: Fri Jan  9 22:03:14 2004
Subject: [mod_python] make_obcallback():
References: <6B2FB838-7C2B-11D6-819E-0030653DCC28@attbi.com>
Message-ID: <001d01c21046$59b82270$c167f081@matrisen>

Thanks for your help.  I solved the problem myself not long after I had sent the mail to this group.  The reason for the error was that the PATH had changed from the time I compiled mod_python to the point where I started it.  This lead to the wrong python intepreter being executed.

--
JF?
  ----- Original Message ----- 
  From: Jeff Stearns 
  To: Johan Fredrik ?hman 
  Cc: mod_python@modpython.org 
  Sent: Monday, June 10, 2002 6:34 AM
  Subject: Re: [mod_python] make_obcallback():


  I imagine that mod_python isn't in the Python search path. Check to see where you installed the mod_python modules.

  -jeff stearns


  On Sunday, June 9, 2002, at 10:15 AM, Johan Fredrik ?hman wrote:


    make_obcallback(): could not import mod_python.apache.
    make_obcallback(): could not call init.
    [Sun Jun  9 19:13:08 2002] [error] [client 129.240.103.193] python_handler: make_obcallback returned no obCallBack!
     
     
    What is most likely to cause this error ?
     
    I'm running Python2.2 with latest mod_python and apache-1.3.22
     
    --
    Johan Fredrik ?hman

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20020610/eefffc3c/attachment-0003.htm
From sandor.kopanyi at mailbox.hu  Mon Jun 10 11:12:37 2002
From: sandor.kopanyi at mailbox.hu (sandor.kopanyi@mailbox.hu)
Date: Fri Jan  9 22:03:14 2004
Subject: [mod_python] Getting DocumentRoot directive
In-Reply-To: <20020607144718.A4294@vader.boskant.nl>
Message-ID: <20020610091237.26373.qmail@web2.mailbox.hu>

> > configuration values. If so, it would be a very good thing to have
in 
> > mod_python...
> 
> I second that! Already a couple of times that I really missed this.
> 

Me too!

Regards,
Sandor

--------------------------------------------------
http://www.mailbox.hu - Mert levelezni kell...


From sandor.kopanyi at mailbox.hu  Mon Jun 10 11:12:37 2002
From: sandor.kopanyi at mailbox.hu (sandor.kopanyi@mailbox.hu)
Date: Fri Jan  9 22:03:14 2004
Subject: [mod_python] Getting DocumentRoot directive
In-Reply-To: <20020607144718.A4294@vader.boskant.nl>
Message-ID: <20020610091237.26373.qmail@web2.mailbox.hu>

> > configuration values. If so, it would be a very good thing to have
in 
> > mod_python...
> 
> I second that! Already a couple of times that I really missed this.
> 

Me too!

Regards,
Sandor

--------------------------------------------------
http://www.mailbox.hu - Mert levelezni kell...


From johanfo at ohman.no  Tue Jun 11 11:01:48 2002
From: johanfo at ohman.no (=?iso-8859-1?Q?Johan_Fredrik_=D8hman?=)
Date: Fri Jan  9 22:03:14 2004
Subject: [mod_python] Pro / Cons with the Publisher
Message-ID: <000801c21126$a3037f20$c167f081@matrisen>

Hi there,  I'm considering writing a medium large website using mod_python.  I have already made my own session and template routines.  They are quite simple, but they do work, which I consider to be most important.   
However,  I'm not sure if to use the Publisher handler or not.  It seems like you loose a little control by using it.  Are there anybody out there who can fill me in with their experience on the Publisher handler ?  Pros / Cons ? 
I'd love to see some sites that was written with mod_python too, so if you have some examples, let me know !

--
Johan Fredrik ?hman
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20020611/2d28bc8c/attachment-0003.htm
From kastner.j at supp.cz  Tue Jun 11 11:40:15 2002
From: kastner.j at supp.cz (=?iso-8859-2?Q?Ji=F8=ED_Kastner?=)
Date: Fri Jan  9 22:03:14 2004
Subject: [mod_python] database example on win2k
Message-ID: <000d01c2112b$fde4ee60$0301a8c0@pentium>

is possible to establish permanent db connection on win2k (winnt,win9x...)?
i'm not sure if windoze know this way...
thanx
jiri kastner



From vmanera at manord.com  Tue Jun 11 17:47:44 2002
From: vmanera at manord.com (Manera, Villiam)
Date: Fri Jan  9 22:03:14 2004
Subject: R: [mod_python] database example on win2k
Message-ID: <801EB84B006ED411898D00B0D03E524712CCCD@PROXYMAIL>

yes it's possible.
I've write a pool of connection ad I give a pointer to it at anyone that
need a connection. If any is busy a new one will be created.

Villiam

-----Messaggio originale-----
Da: Jir? Kastner [mailto:kastner.j@supp.cz]
Inviato: martedi 11 giugno 2002 11.40
A: mod_python@modpython.org
Oggetto: [mod_python] database example on win2k


is possible to establish permanent db connection on win2k (winnt,win9x...)?
i'm not sure if windoze know this way...
thanx
jiri kastner


_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From a_maseko1 at hotvoice.com  Sun Jun 16 11:03:41 2002
From: a_maseko1 at hotvoice.com (Mrs. Mariam M. Seseseko.)
Date: Fri Jan  9 22:03:14 2004
Subject: [mod_python] urgent assistance Needed
Message-ID: <200206161002.g5GA2UC50427@eden.ispol.com>

Dear friend,

I am Mrs. Sese-seko widow of late President Mobutu
Sese-seko of Zaire, now known as Democratic Republic
of Congo (DRC). I am moved to write you this
letter. This was in confidence considering my present
circumstance and situation. I escaped along with my
husband and two of our sons Charles and Basher out of
Democratic Republic of Congo (DRC) to Abidjan, Cote
d'ivoire where my family and I settled, while we later
moved to settled in Morroco where my husband later
died of cancer disease.

However, due to this situation we decided to change
most of my husband's billions of dollars deposited in
Swiss bank and other countries into other forms of
money coded for safe purpose because the new head of
state of (Dr) Mr Laurent Kabila has made arrangement
with the Swiss government and other European countries
to freeze all my late husband's treasures deposited in
some european countries. Hence, my children and I
decided laying low in Africa to study the situation
till when things gets better. Like now that
president Kabila is dead and the son taking over
(Joseph Kabila). One of my late husband's chateaux in
Southern France was confiscated by the french
government, and as such I had to change my identity so
that my investment will not be traced and confiscated.

I have deposited the sum Eighteen Million United State
Dollars (US$18,000,000,00.) With a security company
for safe keeping. What I want you to do is to indicate
your interest that you can assist us in receiving the
money on our behalf, so that I can introduce you to my
son (charles) who has the out modalities for the claim
of the said funds. I want you to assist in investing
this money, but I will not want my identity revealed.
I will also want to acquire real/landed properties and
stock in multi-national companies and to engage in
other safe and non-speculative investments as advise
by your good self.

May I at this point emphasize the high level of
confidentiality, which this upcoming project demands,
and hope you will not betray the trust and
confidence, which I repose in you.In conclusion, if
you want to assist us, my son (JAMSE) shall divulge
to
you all briefs regarding this project, tell you where
the funds are currently being maintained and also
discuss remuneration for your services.For this reason
kindly furnish us your contact information,that is
your personal telephone and fax number for validation
purpose and acknowledge receipt of this mail using the
above email address.

Yours sincerely,

Mrs. Mariam M. Seseseko.







From rien at yeepa.org  Sun Jun 16 12:23:00 2002
From: rien at yeepa.org (Adrien Plisson)
Date: Fri Jan  9 22:03:14 2004
Subject: [mod_python] urgent assistance Needed
References: <200206161002.g5GA2UC50427@eden.ispol.com>
Message-ID: <000701c2151f$cb4918d0$01000001@RANDOM>

mod_python mailing-list  being spammed ? huhu...

anyway, do never reply to the former message. simply because it's a trap !
here in belgium, some people have been ruined in tryingto do what they
wanted.
that's simple :
- first, they claim they need some money to be able to do the transfert
- second they claim money again to be able to pay an intermediary
- third they claim money again and again for an obscure reason
and you will never see the hundreds of dollars they promised you...

and if it's not the widow of president mobutu, it's another old african
dictator.
so, beware...

regards.

--
rien

ps: btw, being french, i do not remember that french authorities did
confiscate any Chateau...


From s_lott at yahoo.com  Sun Jun 16 06:10:22 2002
From: s_lott at yahoo.com (Steven Lott)
Date: Fri Jan  9 22:03:14 2004
Subject: [mod_python] urgent assistance Needed
In-Reply-To: <200206161002.g5GA2UC50427@eden.ispol.com>
Message-ID: <20020616131022.55491.qmail@web9607.mail.yahoo.com>

"confidence"?  to a listserver?  ha ha ha ha ha

I've seen this letter several times before, I think that someone
should shut down the servers at hotvoice.com because they are
clearly part of some kind of fraud.


--- "Mrs. Mariam M. Seseseko." <a_maseko1@hotvoice.com> wrote:
> Dear friend,
> 
[snip]This was in confidence considering my present
> circumstance and situation. [snip]


=====
--
S. Lott, CCP :-{)
S_LOTT@YAHOO.COM
http://www.mindspring.com/~slott1
Buccaneer #468: KaDiMa

Macintosh user: drinking upstream from the herd.

__________________________________________________
Do You Yahoo!?
Yahoo! - Official partner of 2002 FIFA World Cup
http://fifaworldcup.yahoo.com

From pyth at devel.trillke.net  Mon Jun 17 18:04:35 2002
From: pyth at devel.trillke.net (holger krekel)
Date: Fri Jan  9 22:03:14 2004
Subject: [mod_python] current state with apache 2.0?
Message-ID: <20020617180435.T15079@prim.han.de>

Hello,

i am interested in getting mod_python to work with apache2 and python2.2. 

1. How much trouble should i expect? 

2. Is there a usable cvs-branch for 3.0.0?

thanks,

    holger
 

From grisha at modpython.org  Mon Jun 17 12:29:37 2002
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 22:03:14 2004
Subject: [mod_python] current state with apache 2.0?
In-Reply-To: <20020617180435.T15079@prim.han.de>
Message-ID: <Pine.BSF.4.32.0206171227150.74873-100000@localhost>

The most usable one for apache 2.0 is HEAD actually. Your mileage will
vary, but it has worked for other people in its present state.

Grisha

On Mon, 17 Jun 2002, holger krekel wrote:

> Hello,
>
> i am interested in getting mod_python to work with apache2 and python2.2.
>
> 1. How much trouble should i expect?
>
> 2. Is there a usable cvs-branch for 3.0.0?
>
> thanks,
>
>     holger
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From colin at unibusiness.co.uk  Mon Jun 17 18:11:00 2002
From: colin at unibusiness.co.uk (Colin Coates)
Date: Fri Jan  9 22:03:14 2004
Subject: [mod_python] current state with apache 2.0?
References: <20020617180435.T15079@prim.han.de>
Message-ID: <002e01c21621$f3f8dce0$0e02015a@ColinPC>

Seconded!

I am very fresh to mod_python myself, but I am already quite impressed with its
elegance. (I tried using Zope, but got rather scared by the steepness of the
learning curve!)

I am very interested in getting mod_python to work with Apache2 and keeping it
up to date with releases of Python - especially seeing as I do web applications
for a living!

Kind Regards,
Colin.

----- Original Message -----
From: "holger krekel" <pyth@devel.trillke.net>
To: <mod_python@modpython.org>
Sent: Monday, June 17, 2002 5:04 PM
Subject: [mod_python] current state with apache 2.0?


> Hello,
>
> i am interested in getting mod_python to work with apache2 and python2.2.
>
> 1. How much trouble should i expect?
>
> 2. Is there a usable cvs-branch for 3.0.0?
>
> thanks,
>
>     holger
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>
>
>


From gbenson at redhat.com  Mon Jun 17 20:00:47 2002
From: gbenson at redhat.com (Gary Benson)
Date: Fri Jan  9 22:03:14 2004
Subject: [mod_python] current state with apache 2.0?
In-Reply-To: <20020617180435.T15079@prim.han.de>
Message-ID: <Pine.LNX.4.44.0206171958370.4793-100000@slippy.rat>

On Mon, 17 Jun 2002, holger krekel wrote:

> i am interested in getting mod_python to work with apache2 and python2.2. 
> 
> 1. How much trouble should i expect? 

With Apache 2.0.36 not a lot unless you try to write an input filter
since the API changed and mod_python hasn't been fixed yet.

It's nice and stable with Python 2.2 as well, although I understand there 
are some things in there that 2.2 doesn't like.

> 2. Is there a usable cvs-branch for 3.0.0?

Yup: HEAD :)

Cheers,
Gary

[ gbenson@redhat.com ][ GnuPG 85A8F78B ][ http://inauspicious.org/ ]


From Jacques.Maree at spacebel.be  Tue Jun 18 11:24:28 2002
From: Jacques.Maree at spacebel.be (=?iso-8859-1?Q?Jacques_Mar=E9e?=)
Date: Fri Jan  9 22:03:14 2004
Subject: [mod_python] modpython and SSL
Message-ID: <9310801AA6D6BD4CABF9AF8D3565D520051DA1@mail-hlt.hlt.spacebel.be>

We have used Apache + modpython + Python + MS-Access for a project, and
everything works fine.

Our client ask for a new development, but with the secure protocol SSL.

Do you have experimented such an environment? The Apache documentation shows
how to patch the HTTP server in order to handle SSL, but I wonder if
modpython will continue to work. In other words, do the CGIs receive the
same information when the httpd server uses SSL or when httpd server is
"unsecured" ?

Thanks 

Jacques MAREE

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20020618/b4ca138a/attachment-0003.htm
From gbenson at redhat.com  Tue Jun 18 16:30:16 2002
From: gbenson at redhat.com (Gary Benson)
Date: Fri Jan  9 22:03:14 2004
Subject: [mod_python] modpython and SSL
In-Reply-To: <9310801AA6D6BD4CABF9AF8D3565D520051DA1@mail-hlt.hlt.spacebel.be>
Message-ID: <Pine.LNX.4.44.0206181626470.6609-100000@slippy.rat>

On Tue, 18 Jun 2002, Jacques Mar?e wrote:

> We have used Apache + modpython + Python + MS-Access for a project, and
> everything works fine.
> 
> Our client ask for a new development, but with the secure protocol SSL.
> 
> Do you have experimented such an environment? The Apache documentation
> shows how to patch the HTTP server in order to handle SSL, but I wonder
> if modpython will continue to work. In other words, do the CGIs receive
> the same information when the httpd server uses SSL or when httpd server
> is "unsecured" ?

All your scripts should work straight out of the box unless you generate
absolute URLs (in which case you'll have to change the http to a https).
FYI CGIs and the like actually get _more_ information when SSL is running,
since a bunch of variables get set to let your scripts know what cipher is
in use and so on.

Don't forget to recompile all your modules (mod_python included) against
the SSL-patched Apache since they are binary-incompatible with each other.

Cheers,
Gary

[ gbenson@redhat.com ][ GnuPG 85A8F78B ][ http://inauspicious.org/ ]


From CMaine at BroadLink.com  Tue Jun 18 10:38:41 2002
From: CMaine at BroadLink.com (Chad Maine)
Date: Fri Jan  9 22:03:14 2004
Subject: [mod_python] modpython and SSL
Message-ID: <216CFCF61FEAD311AE64009027E23B7C01020030@mail.broadlink.com>

An easier option would be to use mod_ssl in place of an ssl-enabled apache.
http://www.modssl.org  We use mod_python and mod_ssl together with no
problems.

-----Original Message-----
From: Gary Benson [mailto:gbenson@redhat.com]
Sent: Tuesday, June 18, 2002 8:30 AM
To: Jacques Mar?e
Cc: 'mod_python@modpython.org'
Subject: Re: [mod_python] modpython and SSL



On Tue, 18 Jun 2002, Jacques Mar?e wrote:

> We have used Apache + modpython + Python + MS-Access for a project, and
> everything works fine.
> 
> Our client ask for a new development, but with the secure protocol SSL.
> 
> Do you have experimented such an environment? The Apache documentation
> shows how to patch the HTTP server in order to handle SSL, but I wonder
> if modpython will continue to work. In other words, do the CGIs receive
> the same information when the httpd server uses SSL or when httpd server
> is "unsecured" ?

All your scripts should work straight out of the box unless you generate
absolute URLs (in which case you'll have to change the http to a https).
FYI CGIs and the like actually get _more_ information when SSL is running,
since a bunch of variables get set to let your scripts know what cipher is
in use and so on.

Don't forget to recompile all your modules (mod_python included) against
the SSL-patched Apache since they are binary-incompatible with each other.

Cheers,
Gary

[ gbenson@redhat.com ][ GnuPG 85A8F78B ][ http://inauspicious.org/ ]

_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From gbenson at redhat.com  Tue Jun 18 18:49:45 2002
From: gbenson at redhat.com (Gary Benson)
Date: Fri Jan  9 22:03:14 2004
Subject: [mod_python] modpython and SSL
In-Reply-To: <216CFCF61FEAD311AE64009027E23B7C01020030@mail.broadlink.com>
Message-ID: <Pine.LNX.4.44.0206181844320.6609-100000@slippy.rat>

On Tue, 18 Jun 2002, Chad Maine wrote:

> An easier option would be to use mod_ssl in place of an ssl-enabled apache.
> http://www.modssl.org  We use mod_python and mod_ssl together with no
> problems.

mod_ssl == ssl-enabled apache. The original Apache API wasn't flexible
enough for mod_ssl to do what it does, and before you can build mod_ssl
you need to apply the mod_ssl EAPI (Literally extended API) patch and
rebuild Apache.  Since the API is changed, you _must_ rebuild any modules
compiled against the unpatched version.

> -----Original Message-----
> From: Gary Benson [mailto:gbenson@redhat.com]
> Sent: Tuesday, June 18, 2002 8:30 AM
> To: Jacques Mar?e
> Cc: 'mod_python@modpython.org'
> Subject: Re: [mod_python] modpython and SSL
> 
> On Tue, 18 Jun 2002, Jacques Mar?e wrote:
> 
> > We have used Apache + modpython + Python + MS-Access for a project, and
> > everything works fine.
> > 
> > Our client ask for a new development, but with the secure protocol SSL.
> > 
> > Do you have experimented such an environment? The Apache documentation
> > shows how to patch the HTTP server in order to handle SSL, but I wonder
> > if modpython will continue to work. In other words, do the CGIs receive
> > the same information when the httpd server uses SSL or when httpd server
> > is "unsecured" ?
> 
> All your scripts should work straight out of the box unless you generate
> absolute URLs (in which case you'll have to change the http to a https).
> FYI CGIs and the like actually get _more_ information when SSL is running,
> since a bunch of variables get set to let your scripts know what cipher is
> in use and so on.
> 
> Don't forget to recompile all your modules (mod_python included) against
> the SSL-patched Apache since they are binary-incompatible with each other.
> 
> Cheers,
> Gary
> 
> [ gbenson@redhat.com ][ GnuPG 85A8F78B ][ http://inauspicious.org/ ]
> 
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
> 

[ gbenson@redhat.com ][ GnuPG 85A8F78B ][ http://inauspicious.org/ ]


From grisha at modpython.org  Tue Jun 18 14:27:12 2002
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 22:03:14 2004
Subject: [mod_python] modpython and SSL
In-Reply-To: <Pine.LNX.4.44.0206181844320.6609-100000@slippy.rat>
Message-ID: <Pine.BSF.4.32.0206181424130.92285-100000@localhost>


On Tue, 18 Jun 2002, Gary Benson wrote:

> mod_ssl == ssl-enabled apache.

There is also something called Apache-SSL that the original poster may
have been referring to:

http://www.apache-ssl.org/#mod_ssl

I personaly favor mod_ssl, and have used with mod_python extensively with
no problems.

Grisha


From Nik.Barron at pennantplc.co.uk  Wed Jun 19 11:59:40 2002
From: Nik.Barron at pennantplc.co.uk (Nik Barron)
Date: Fri Jan  9 22:03:14 2004
Subject: [mod_python] DLLs and versions of Python
Message-ID: <F17550784FF9D111B7F100E02921B24741EA47@NT-SOTON-001>

Hi,

I have a question regarding the mod_python DLL and versions of Python. I
have an application using mod_python under Windows NT that is currently
running under 2.2, but I may need to drop back to 1.5. Looking through the
binaries directory on the website I can't find a recent DLL built for 1.5 --
is 1.5 no longer supported, or am I missing something obvious (the most
likely explanation!)

Many thanks,

Nick Barron
Manager, E-Services Division
Pennant Software Services Ltd -- Registered in England No. 3772667
PGP: A94C 4190 026E 3E02 6D50  C8FA 8620 3091 FF34 533D

From strang at nmr.mgh.harvard.edu  Wed Jun 19 10:38:29 2002
From: strang at nmr.mgh.harvard.edu (Gary Strangman)
Date: Fri Jan  9 22:03:14 2004
Subject: [mod_python] **kw syntax
Message-ID: <Pine.GSO.3.96.1020619103229.18745E-100000@bucky.nmr.mgh.harvard.edu>

Hi all,

I'm relatively new to mod_python (and apache), and so I'll bet my problem
is probably a direct consequence of that. I'm using mod_python to
dynamically generate a list of HTML checkboxes from a database. The list
of checkboxes then get inserted into a <form> block on a web page. I want
the <form>'s POST method deliver the (keyword,value) pairs from the form
to a python-based handler. My problem is this: I can't get get the **kw
syntax to work with mod_python. That is, if my form looks like this ... 

<form action="makechanges" method="POST">
  <input type=checkbox name="name1" checked>One<br>
  <input type=checkbox name="name2" checked>Two<br>
  <input type=checkbox name="name3">Three<br>
  <input type=checkbox name="name4">Four<br>
  <input type="submit">
</form>

... and my python function is defined as follows ...

def makechanges(request, **kw):

... makechanges() receives kw={} regardless of the status of the
checkboxes. If instead my function is defined as ... 

def makechanges(request, name1=None, **kw):

... then makechanges() gets name1='on' (if the name1 box was checked), but
nothing in kw, again regardless of checkbox status. The same happens if I
define the function as ...

def makechanges(request, name1=None, *args, **kw):

Any ideas on how to handle dynamically generated forms in general (and/or
with dynamically generated checkbox name attributes in particular)? Oh,
all this is on python2.2, mod_python2.7.6, apache1.3.24, Win98. 

Thanks.

Gary
strang-@at@-nmr.mgh.harvard.edu



From infomailsys at mail.ru  Thu Jun 20 09:37:47 2002
From: infomailsys at mail.ru (New Banner Systems)
Date: Fri Jan  9 22:03:14 2004
Subject: [mod_python] business gifts
Message-ID: <200206200530.g5K5UqC13957@eden.ispol.com>

An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20020620/c4080567/attachment-0003.htm
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/jpeg
Size: 18974 bytes
Desc: not available
Url : http://mailman.modpython.org/pipermail/mod_python/attachments/20020620/c4080567/attachment-0003.jpg
From sandor.kopanyi at mailbox.hu  Thu Jun 20 10:10:18 2002
From: sandor.kopanyi at mailbox.hu (sandor.kopanyi@mailbox.hu)
Date: Fri Jan  9 22:03:14 2004
Subject: [mod_python] **kw syntax
In-Reply-To: <Pine.GSO.3.96.1020619103229.18745E-100000@bucky.nmr.mgh.harvard.edu>
Message-ID: <20020620081018.28453.qmail@web2.mailbox.hu>

Hi Gary,

> I want the <form>'s POST method deliver the (keyword,value) pairs from
the form
> to a python-based handler. My problem is this: I can't get get the **kw
> syntax to work with mod_python. That is, if my form looks like this 

[...]

> ... and my python function is defined as follows ...
> 
> def makechanges(request, **kw):
> 
> ... makechanges() receives kw={} regardless of the status of the
> checkboxes. If instead my function is defined as ... 

Define your function like this:
def makechanges(request):

The request object contains your fields, in request.form.list .
You can process them in a loop:
for f in request.form.list:
    #f.name is the name of the field
    #f.value holds the value of the field

(See more in modpythion docs, chapter 4.4)

Cheers,
Sandor


--------------------------------------------------
http://www.mailbox.hu - Mert levelezni kell...


From pkr at daimi.au.dk  Thu Jun 20 11:36:58 2002
From: pkr at daimi.au.dk (Peter Kjellerup Rasmussen)
Date: Fri Jan  9 22:03:14 2004
Subject: [mod_python] mod_python with apache-2.0.39
Message-ID: <000a01c2183e$062bd4d0$0300000a@peter>

Is it possible to run mod_python with apache2? 
I've tried to compile it both as a dso and static but with no luck.

Reg.

Peter Rasmussen


From gionuein at autistici.org  Thu Jun 20 13:27:46 2002
From: gionuein at autistici.org (gionuein@autistici.org)
Date: Fri Jan  9 22:03:15 2004
Subject: [mod_python] mod_python.publisher+404 not found+sorry i know im a newbie...
Message-ID: <20020620132746.38D5633505@astio.investici.org>

hi guys-

it seems i have a problem ;))
basically, i compiled the sources and read docs
to make it works - i made basic changes to http.conf
and mod_python worked fine -
now id like to make something more complicated and im
lookin at mod_python.publisher - i follow the docs
http://www.modpython.org/live/mod_python-2.7.8/doc-html/tut-pub.html
and i change http.conf this way:

AddHandler python-program .py
PythonHandler mod_python.publisher

but when i try to get myfile.py - a '404 not found'
happens and im sure the file is in the right dir

someone can help me to understand what's going on?

red hat 7.2 /*/ 2.4.7 kernel

ps:
i surfed archives but i didn't find something
that satisfied me -
im quite a newbie on python stuff
im moving from a couple of years of php
;)



thanks a lot

tropiko

From grisha at modpython.org  Thu Jun 20 09:50:45 2002
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 22:03:15 2004
Subject: [mod_python] mod_python with apache-2.0.39
In-Reply-To: <000a01c2183e$062bd4d0$0300000a@peter>
Message-ID: <Pine.BSF.4.32.0206200949510.18732-100000@localhost>

Only the next version (3.x) will work with 2.0. 3.x is still alpha quality
I would say, and you can only get it through CVS.

Grisha

On Thu, 20 Jun 2002, Peter Kjellerup Rasmussen wrote:

> Is it possible to run mod_python with apache2?
> I've tried to compile it both as a dso and static but with no luck.
>
> Reg.
>
> Peter Rasmussen
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From mbp at samba.org  Fri Jun 21 04:30:57 2002
From: mbp at samba.org (Martin Pool)
Date: Fri Jan  9 22:03:15 2004
Subject: [mod_python] **kw syntax
In-Reply-To: <20020620081018.28453.qmail@web2.mailbox.hu>
References: <Pine.GSO.3.96.1020619103229.18745E-100000@bucky.nmr.mgh.harvard.edu> <20020620081018.28453.qmail@web2.mailbox.hu>
Message-ID: <20020620183053.GA3529@toey.sourcefrog.net>

On 20 Jun 2002, sandor.kopanyi@mailbox.hu wrote:

> Define your function like this:
> def makechanges(request):
> 
> The request object contains your fields, in request.form.list .
> You can process them in a loop:
> for f in request.form.list:
>     #f.name is the name of the field
>     #f.value holds the value of the field

I know that's the way to do it now.  However, I think the original
poster has a good point that it might be both intuitive and useful for
the publisher to pack any arguments that are not consumed by named
parameters into the keyword argument dictionary, if the function
accepts one.  I don't think this would be terribly hard to implement.

-- 
Martin 

Every Python user scoffed at it once, saying significant whitespace is
the past.
	-- Moshe Zadka (?)

From nicks at metrolink.com  Fri Jun 21 10:13:27 2002
From: nicks at metrolink.com (Nick Seidenman)
Date: Fri Jan  9 22:03:15 2004
Subject: [mod_python] server (internal) redirect
Message-ID: <3D133487.6020406@metrolink.com>

I'm using the publisher handler to construct a page that has SSI 
(server-side include) code in it.  Once the page is built I want to then 
run it back through the server.  Just setting

    req.content_type = text/x-server-parsed-html

doesh't do it.  Any suggestion?

Please note, I'm NOT talking about an HTTP redirect;  I'm talking about 
returning something to the publisher that will let it know it needs to 
run the output back through the server so that the SSI code can be 
processed before sending it back to the client.

TiA,

Nick


From grisha at modpython.org  Fri Jun 21 10:41:26 2002
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 22:03:15 2004
Subject: [mod_python] server (internal) redirect
In-Reply-To: <3D133487.6020406@metrolink.com>
Message-ID: <Pine.BSF.4.32.0206211036200.32967-100000@localhost>

I don't think this is possible with Apache 1.3. The content from
mod_python does not get later processed by mod_ssi, it goes directly to
the client.

I believe Apache 2.0 implements SSI as a filter, and you could do
something like this. But I don't think mod_python 3.0 will be released
before August.

In any event - you might want to rethink your strategy. Including a file
is very easily done in Python, I'm not sure why you would to delegate that
to mod_ssi.

Grisha

On Fri, 21 Jun 2002, Nick Seidenman wrote:

>
> I'm using the publisher handler to construct a page that has SSI
> (server-side include) code in it.  Once the page is built I want to then
> run it back through the server.  Just setting
>
>     req.content_type = text/x-server-parsed-html
>
> doesh't do it.  Any suggestion?
>
> Please note, I'm NOT talking about an HTTP redirect;  I'm talking about
> returning something to the publisher that will let it know it needs to
> run the output back through the server so that the SSI code can be
> processed before sending it back to the client.
>
> TiA,
>
> Nick
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From MAILER-DAEMON13240 at google.com  Fri Jun 21 21:49:17 2002
From: MAILER-DAEMON13240 at google.com (Farmgirl18692)
Date: Fri Jan  9 22:03:15 2004
Subject: [mod_python] Real ZOO web site, welcome! ID<prgbs|wkrqCprgs|wkrq1ruj>
Message-ID: <200206211746.g5LHk6C35124@eden.ispol.com>

An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20020621/ab11a66d/attachment-0003.htm
From l0biz0n at myrealbox.com  Fri Jun 21 18:11:57 2002
From: l0biz0n at myrealbox.com (l0biz0n)
Date: Fri Jan  9 22:03:15 2004
Subject: [mod_python] stupids out off the list
Message-ID: <7399959090.20020621181157@myrealbox.com>

hi list ,

who are the stupid , what is spaming the list with
porno advertisements.

--
Regards

|/\|_ o_ /\._ 
|\/|_)|/_\/| | mailto:l0biz0n@myrealbox.com



From jquinte at fadu.uba.ar  Fri Jun 21 19:03:54 2002
From: jquinte at fadu.uba.ar (Javier Quinteros)
Date: Fri Jan  9 22:03:15 2004
Subject: [mod_python] Real ZOO web site, welcome! ID<prgbs|wkrqCprgs|wkrq1ruj>
In-Reply-To: <200206211746.g5LHk6C35124@eden.ispol.com>
Message-ID: <FEV62KELGT8HBB0D9XW5YYNUSGC.3d13a2ca@upsala>

Are this animals using mod_python in their website ???  ;-)

/jq

21-Jun-02 2:49:17 PM, "Farmgirl18692" <MAILER-DAEMON13240@google.com> wrote:

>  The BEST zoo site on the @net!
>  Sex With Dogs
>  Horse Blow Jobs.
>  Snake Fuck.
>  REAL ANIMAL FUCKING!
>  100% HARDCORE!
>  ww1.only-beasts.com
>
>  unsub
>  Good luck, .
>
>
> _______________________________________________ Mod_python mailing list
> Mod_python@modpython.org http://www.modpython.org/mailman/listinfo/mod_python




From gionuein at autistici.org  Mon Jun 24 14:22:24 2002
From: gionuein at autistici.org (gionuein@autistici.org)
Date: Fri Jan  9 22:03:15 2004
Subject: [mod_python] includes/external files
Message-ID: <20020624142224.A110033886@astio.investici.org>

hi all -
i been dealing with mod python from a couple of weeks -
but i still dont understand to make stuff as php includes
works good in a python enviromente -
im really interested in web scripting -
and i lookin for a way to use includes or external files with routines and
code to manage my web site.

can someone help me?
a link to a good refernce would be great
;)

thank u very much

tropiko


From Hans.Yandle at cingular.com  Mon Jun 24 10:54:59 2002
From: Hans.Yandle at cingular.com (Yandle, Hans)
Date: Fri Jan  9 22:03:15 2004
Subject: [mod_python] includes/external files
Message-ID: <D31B04F24EDE7644BB169BB4F080778A01F4C4C5@s30342g004005>

If you would like a python approach to server side includes similar to what
php does, you might want to check out http://www.ccraig.org/software/pyhp/.
I use it for quick and small stuff. For more complicated work/methods/cgi, I
would recommend mod_python's Publisher Handler (manual 3.4) or the use of
other handlers. 

-----Original Message-----
From: gionuein@autistici.org [mailto:gionuein@autistici.org]
Sent: Monday, June 24, 2002 10:22 AM
To: mod_python@modpython.org
Subject: [mod_python] includes/external files



hi all -
i been dealing with mod python from a couple of weeks -
but i still dont understand to make stuff as php includes
works good in a python enviromente -
im really interested in web scripting -
and i lookin for a way to use includes or external files with routines and
code to manage my web site.

can someone help me?
a link to a good refernce would be great?
;)

thank u very much

tropiko

_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From Nik.Barron at pennantplc.co.uk  Wed Jun 26 17:01:56 2002
From: Nik.Barron at pennantplc.co.uk (Nik Barron)
Date: Fri Jan  9 22:03:15 2004
Subject: [mod_python] Instances and differences between Win32 and Linux
Message-ID: <F17550784FF9D111B7F100E02921B24741EA6A@NT-SOTON-001>

Hi,

I'm working on an XML application using mod_python. Without going into too
much detail, what it does is suck an XML file into memory and then allow
multiple users to work on the in-memory copy via the web. The main reason
for this is performance, as processing the file on the initial load is slow,
and also to provide granular locking (the file is split into 1500 or so key
elements, and the locking needs to be per element).

This works fine in Win32; I do the locking by a simple dictionary, e.g. if
user nik is editing requirement foo, editLocks['foo'] = 'nik' and so on.
This seems to work as expected.

However, I am in the process of moving it over to a Linux box for various
reasons. The code works, but it appears (I'm investigating in more detail at
the moment) that it is now running multiple instances, i.e. the locks
disappear between HTTP accesses. I'm guessing that this is because Apache on
Win32 is run as a single process, but as multiple processes on Un*x.

Is there a reliable way of handling such 'multi-user' persistent data under
Un*x, e.g multiple httpds pulling from the same Python? I'm guessing not :(

Many thanks!

Nick Barron
Manager, E-Services Division
Pennant Software Services Ltd -- Registered in England No. 3772667
PGP: A94C 4190 026E 3E02 6D50  C8FA 8620 3091 FF34 533D

From mbp at samba.org  Thu Jun 27 08:36:58 2002
From: mbp at samba.org (Martin Pool)
Date: Fri Jan  9 22:03:15 2004
Subject: [mod_python] Instances and differences between Win32 and Linux
In-Reply-To: <F17550784FF9D111B7F100E02921B24741EA6A@NT-SOTON-001>; from Nik.Barron@pennantplc.co.uk on Wed, Jun 26, 2002 at 05:01:56PM +0100
References: <F17550784FF9D111B7F100E02921B24741EA6A@NT-SOTON-001>
Message-ID: <20020627083658.A27621@va.samba.org>

On 26 Jun 2002, Nik Barron <Nik.Barron@pennantplc.co.uk> wrote:

> Hi,
> 
> I'm working on an XML application using mod_python. Without going into too
> much detail, what it does is suck an XML file into memory and then allow
> multiple users to work on the in-memory copy via the web. The main reason
> for this is performance, as processing the file on the initial load is slow,
> and also to provide granular locking (the file is split into 1500 or so key
> elements, and the locking needs to be per element).
> 
> This works fine in Win32; I do the locking by a simple dictionary, e.g. if
> user nik is editing requirement foo, editLocks['foo'] = 'nik' and so on.
> This seems to work as expected.

How do you make other threads wait for editing on foo to finish?  By
busy-waiting?
 
> However, I am in the process of moving it over to a Linux box for various
> reasons. The code works, but it appears (I'm investigating in more detail at
> the moment) that it is now running multiple instances, i.e. the locks
> disappear between HTTP accesses. I'm guessing that this is because Apache on
> Win32 is run as a single process, but as multiple processes on Un*x.

Yes, that is the correct explanation.
 
> Is there a reliable way of handling such 'multi-user' persistent data under
> Un*x, e.g multiple httpds pulling from the same Python? I'm guessing not :(

Not directly as far as I know.  In theory it might be possible using
Apache 2.0's MPM, though I'm not sure if it would be a good idea even
there.

The standard approach is to keep some kind of external shared storage
between the different children.  If you just need to share a single
hashtable, Python's 'shelve' library could be quite simple to use and
satisfactory.  Things based on some kind of shared-memory DB will not
necessarily be any slower than threads in a single memory space.

To make you feel better about this, there are some benefits to the
Unix approach:

 - it's more robust in the case where there's a bug that crashes 
    or hangs a single process child

 - on the whole I suspect you will be better able to execute concurrently 
   with multiple Python interpreters rather than a single image

 - you may have fewer concurrency bugs if data is private by default
   (separate processes) rather than shared by default (single image)

Cheers,
--
Martin

don't buy anything from Radio Shack -- http://radioslack.com/

From alain at onesite.org  Thu Jun 27 01:03:09 2002
From: alain at onesite.org (Alain Tesio)
Date: Fri Jan  9 22:03:15 2004
Subject: [mod_python] Interference with two directories trying to import a different module with the same name
Message-ID: <20020627010309.5f141858.alain@onesite.org>

Hi, I have an inteference from two scripts which
are supposed to be completely independent, but both
import a different module having a same name.

I just mention this in case you consider this problem to be
a bug, it's not a problem for me.

Details below if needed

Alain




In the apache config file :

# 1ST DIR

Alias /observer.py /home/observer/scripts/observer_www.py

<Directory /home/observer/scripts>
  AddHandler python-program .py
  PythonHandler observer_www
  PythonDebug On
</Directory>

# 2ND DIR

Alias /other/ /home/other/www/lib/other_www.py

<Directory "/home/other/www/lib">
  AddHandler python-program .py
  PythonHandler other_www
  PythonDebug On
</Directory>



Then I have an error when I try to get a page with the first
setup because it tries to use a module already imported by
the other one (it works fine though if I request this page
just after restarting apache because it loads the right
module, but of course the other one fails then)

http://www.floc.net/observer.py?page=login...

Traceback (most recent call last):

  File "/home/observer/scripts/observer_www.py", line 20, in handler
    (content_type,content)=wwwlib.out(selfurl,form_items)
....
  File "/home/other/www/lib/mycgi.py", line 379, in css_string
    for (key,value) in css:


From wkr at cs.ucsb.edu  Wed Jun 26 20:01:31 2002
From: wkr at cs.ucsb.edu (William Robertson)
Date: Fri Jan  9 22:03:15 2004
Subject: [mod_python] mod_python segfault
Message-ID: <20020627030131.GC19376@ip68-6-112-152.sb.sd.cox.net>

Hi,

I've been having problems installing mod_python 2.7.8 for Apache 1.3.26
on Gentoo Linux.  I compiled it as a DSO, using a python interpreter
compiled without threads, and am pretty certain I got the configuration
from the documentation correct for both Apache and the hello world
example.

When I tried to run the example, however, I got segfaults from
mod_python.so.  A gdb backtrace and some disassembly, confirmed by some
debugging code, shows that req->per_dir_config in the following line
(mod_python.c:560, in python_handler()) is uninitialized:

conf = (py_dir_config *) ap_get_module_config(req->per_dir_config, &python_module);

Any ideas?

-- 
| William Robertson | GPG:0x90A3BED4 | wkr@cs.ucsb.edu |

From mbp at samba.org  Thu Jun 27 13:25:00 2002
From: mbp at samba.org (Martin Pool)
Date: Fri Jan  9 22:03:15 2004
Subject: [mod_python] mod_python segfault
In-Reply-To: <20020627030131.GC19376@ip68-6-112-152.sb.sd.cox.net>
References: <20020627030131.GC19376@ip68-6-112-152.sb.sd.cox.net>
Message-ID: <20020627032457.GA30564@samba.org>

On 26 Jun 2002, William Robertson <wkr@cs.ucsb.edu> wrote:
> Hi,
> 
> I've been having problems installing mod_python 2.7.8 for Apache 1.3.26
> on Gentoo Linux.  I compiled it as a DSO, using a python interpreter
> compiled without threads, and am pretty certain I got the configuration
> from the documentation correct for both Apache and the hello world
> example.
> 
> When I tried to run the example, however, I got segfaults from
> mod_python.so.  A gdb backtrace and some disassembly, confirmed by some
> debugging code, shows that req->per_dir_config in the following line
> (mod_python.c:560, in python_handler()) is uninitialized:
> 
> conf = (py_dir_config *) ap_get_module_config(req->per_dir_config,
> &python_module);

At a guess, you are using a different version of the Apache source to
compile mod_python than the one that was used to build httpd itself.
Are you using an SSL patch perhaps?

-- 
Martin 

From wkr at cs.ucsb.edu  Wed Jun 26 22:27:48 2002
From: wkr at cs.ucsb.edu (William Robertson)
Date: Fri Jan  9 22:03:15 2004
Subject: [mod_python] mod_python segfault
In-Reply-To: <20020627032457.GA30564@samba.org>
References: <20020627030131.GC19376@ip68-6-112-152.sb.sd.cox.net> <20020627032457.GA30564@samba.org>
Message-ID: <20020627052748.GA19861@ip68-6-112-152.sb.sd.cox.net>

On 26 June 2002, Martin Pool [mbp@samba.org] wrote:
| At a guess, you are using a different version of the Apache source to
| compile mod_python than the one that was used to build httpd itself.
| Are you using an SSL patch perhaps?

I'm using mod_ssl, but that shouldn't matter as it's a DSO, right?
Anyway, trying without it loaded didn't make a difference.  Also, I'm
not compiling mod_python statically against an Apache source tree, and
I thought apxs would take care of using the correct Apache installation.

I did just try compiling against an Apache installation from a virgin
1.3.26 tree which worked perfectly, though.  Configurations were
identical AFAICT, so this is probably a Gentoo issue.  I guess I'll take
a closer look at those vendor patches...

-- 
| William Robertson | GPG:0x90A3BED4 | wkr@cs.ucsb.edu |


From mbp at samba.org  Thu Jun 27 16:15:25 2002
From: mbp at samba.org (Martin Pool)
Date: Fri Jan  9 22:03:15 2004
Subject: [mod_python] mod_python segfault
In-Reply-To: <20020627052748.GA19861@ip68-6-112-152.sb.sd.cox.net>
References: <20020627030131.GC19376@ip68-6-112-152.sb.sd.cox.net> <20020627032457.GA30564@samba.org> <20020627052748.GA19861@ip68-6-112-152.sb.sd.cox.net>
Message-ID: <20020627061521.GB11139@samba.org>

On 26 Jun 2002, William Robertson <wkr@cs.ucsb.edu> wrote:
> On 26 June 2002, Martin Pool [mbp@samba.org] wrote:
> | At a guess, you are using a different version of the Apache source to
> | compile mod_python than the one that was used to build httpd itself.
> | Are you using an SSL patch perhaps?
> 
> I'm using mod_ssl, but that shouldn't matter as it's a DSO, right?

Yes, it does matter.  No, it's not just a DSO; it's a patch and also a
DSO.

> Anyway, trying without it loaded didn't make a difference.

Right, but I suspect building Apache from scratch without it, or with
it, and then building mod_python against *that* would fix it.

If you can get apache+modssl+modpython from your distro that would be
simplest. 

> Also, I'm
> not compiling mod_python statically against an Apache source tree, and
> I thought apxs would take care of using the correct Apache installation.
> 
> I did just try compiling against an Apache installation from a virgin
> 1.3.26 tree which worked perfectly, though.  Configurations were
> identical AFAICT, so this is probably a Gentoo issue.  I guess I'll take
> a closer look at those vendor patches...
> 
-- 
Martin 

From Nik.Barron at pennantplc.co.uk  Thu Jun 27 08:06:42 2002
From: Nik.Barron at pennantplc.co.uk (Nik Barron)
Date: Fri Jan  9 22:03:15 2004
Subject: [mod_python] Instances and differences between Win32 and Linu
	x
Message-ID: <F17550784FF9D111B7F100E02921B24741EA6F@NT-SOTON-001>

> > This works fine in Win32; I do the locking by a simple 
> > dictionary, e.g. if user nik is editing requirement foo,
editLocks['foo'] = 
> > 'nik' and so on.
> 
> How do you make other threads wait for editing on foo to finish?  By
> busy-waiting?

Yep. The edit is fairly quick and there's only a dozen or so users, so the
chance of a collision is fairly small to begin with. 

> The standard approach is to keep some kind of external shared storage
> between the different children.  If you just need to share a single
> hashtable, Python's 'shelve' library could be quite simple to use and
> satisfactory.  Things based on some kind of shared-memory DB will not
> necessarily be any slower than threads in a single memory space.

Thanks, I'll have a look...

> To make you feel better about this, there are some benefits to the
> Unix approach:

Indeed. Unfortunately for the immediate future it'll probably have to stick
on Win32 as I need to get it up and running this week, but v2 should be a
lot nicer :-)

Many thanks again for the suggestions

Nik

