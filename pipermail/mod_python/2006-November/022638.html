<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] How create a scheduler ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20How%20create%20a%20scheduler%20%3F&In-Reply-To=87zmapj82v.fsf%40tapsellferrier.co.uk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022637.html">
   <LINK REL="Next"  HREF="022639.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] How create a scheduler ?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20How%20create%20a%20scheduler%20%3F&In-Reply-To=87zmapj82v.fsf%40tapsellferrier.co.uk"
       TITLE="[mod_python] How create a scheduler ?">grahamd at dscpl.com.au
       </A><BR>
    <I>Sat Nov 18 07:00:36 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="022637.html">[mod_python] How create a scheduler ?
</A></li>
        <LI>Next message: <A HREF="022639.html">[mod_python] How create a scheduler ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22638">[ date ]</a>
              <a href="thread.html#22638">[ thread ]</a>
              <a href="subject.html#22638">[ subject ]</a>
              <a href="author.html#22638">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 18/11/2006, at 10:41 PM, Nic James Ferrier wrote:

&gt;<i> &quot;Alex Greif&quot; &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">alex.greif at gmail.com</A>&gt; writes:
</I>&gt;<i>
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i> how about creating a cron entry that create a http request?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Alex.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On 11/18/06, Seb &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">seb.dailly at gmail.com</A>&gt; wrote:
</I>&gt;&gt;&gt;<i> Hello,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I would like to know if we can create a scheduler inside  
</I>&gt;&gt;&gt;<i> mod_python. I
</I>&gt;&gt;&gt;<i> seems that the threads are not &quot;persistents&quot; and are closed when the
</I>&gt;&gt;&gt;<i> page is load. Is there any particular way for keeping a running  
</I>&gt;&gt;&gt;<i> thread
</I>&gt;&gt;&gt;<i> ? ( It is not for generating html but for periodic saves and data
</I>&gt;&gt;&gt;<i> updates )
</I>&gt;<i>
</I>&gt;<i> You could fork another process.
</I>
You can use the PythonImport directive to have a specific module  
imported
at the time that the Apache child process is created and prior to any  
actual
request having been received. From this you could create a new thread to
perform some periodic task.

As with any thread programming, you have to deal with all the  
concurrency
issues. Using mod_python you also have to deal with issues of automatic
module reloading. As such, you are best ensuring that any distinct  
thread
only operates within the context of modules which will not be  
candidates for
automatic module reloading. If you don't ensure this, things could  
screw up
quite badly. You also need to be mindful that there can be multiple  
Apache
child processes. This can be an issue if the thread is going to have  
to update
stuff on disk as well as you need to have external locking such that the
separate child processes don't interfere with each other.

For more information on the Apache/mod_python process/thread/interpreter
model read:

   <A HREF="http://www.dscpl.com.au/wiki/ModPython/Articles/">http://www.dscpl.com.au/wiki/ModPython/Articles/</A> 
TheProcessInterpreterModel

BTW, what exactly is it that you want the thread to do?

Graham
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022637.html">[mod_python] How create a scheduler ?
</A></li>
	<LI>Next message: <A HREF="022639.html">[mod_python] How create a scheduler ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22638">[ date ]</a>
              <a href="thread.html#22638">[ thread ]</a>
              <a href="subject.html#22638">[ subject ]</a>
              <a href="author.html#22638">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
