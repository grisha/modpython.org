<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Session problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Session%20problem&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022669.html">
   <LINK REL="Next"  HREF="022672.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Session problem</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Session%20problem&In-Reply-To="
       TITLE="[mod_python] Session problem">grahamd at dscpl.com.au
       </A><BR>
    <I>Wed Nov 22 19:23:10 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="022669.html">[mod_python] Session problem
</A></li>
        <LI>Next message: <A HREF="022672.html">Fwd: [mod_python] Session problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22670">[ date ]</a>
              <a href="thread.html#22670">[ thread ]</a>
              <a href="subject.html#22670">[ subject ]</a>
              <a href="author.html#22670">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jakub Labath wrote ..
&gt;<i> &gt; &gt; What I found weird is that the same mod_python request serviced two
</I>&gt;<i> &gt; &gt; different clients at different times, but perhaps that makes sense
</I>&gt;<i> for
</I>&gt;<i> &gt; &gt; preforked apache.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Just to clarify your terminology, it is the same mod_python *instance*
</I>&gt;<i> &gt; servicing 2 different client requests. And no, it is not weird, but
</I>&gt;<i> &gt; rather the whole point of mod_python. Well maybe not the *whole* point,
</I>&gt;<i> &gt; but a very important one. :) In the simplest case you get one python
</I>&gt;<i> &gt; interpreter per apache child process, thus avoiding the overhead of
</I>&gt;<i> &gt; creating a new interpreter for each request.
</I>&gt;<i> 
</I>&gt;<i> It was the same child process (that much makes sense too me too), but
</I>&gt;<i> it also had the same address for modpython request object. Which I
</I>&gt;<i> thought is little weird since if request comes from address A it
</I>&gt;<i> should not be the same as if it comes from address B.
</I>&gt;<i> But the python id is just a memory address so it is possible that it
</I>&gt;<i> was just reusing the same memory space.
</I>
You could always print out:

  req.connection.id
  req.connection.remote_addr

It is possible that the connection ID might get reused, but if the remote
address is the same for both requests, then you would really worry.

&gt;<i> &gt; A little light just went off in my head. Is it always *exactly* the same
</I>&gt;<i> &gt; session id being served up for *all* requests?
</I>&gt;<i> 
</I>&gt;<i> No 99% of the time all work works normally.
</I>&gt;<i> User A comes along gets his own cookie user B comes along gets her own
</I>&gt;<i> cookie ... and then in one moment user A gets the cookie that belongs
</I>&gt;<i> to user B. While B user still gets her own cookie. Then user A notices
</I>&gt;<i> that suddenly his username changed from Joe to Suzy and starts sending
</I>&gt;<i> rather angry emails, which I cannot really blame him for.
</I>&gt;<i> The problem seems to appear more often if the site is under heavier load.
</I>
Do both clients make requests to the server via any sort of proxy or otherwise
which could be caching pages? In your pages do you do anything to try and
manipulate how pages might be cached?

Graham
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022669.html">[mod_python] Session problem
</A></li>
	<LI>Next message: <A HREF="022672.html">Fwd: [mod_python] Session problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22670">[ date ]</a>
              <a href="thread.html#22670">[ thread ]</a>
              <a href="subject.html#22670">[ subject ]</a>
              <a href="author.html#22670">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
