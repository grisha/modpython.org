<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] loglevel
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20loglevel&In-Reply-To=76C4F396-7B38-4BF5-AC29-0BD0C7337620%40free.fr">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022584.html">
   <LINK REL="Next"  HREF="022586.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] loglevel</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20loglevel&In-Reply-To=76C4F396-7B38-4BF5-AC29-0BD0C7337620%40free.fr"
       TITLE="[mod_python] loglevel">grahamd at dscpl.com.au
       </A><BR>
    <I>Sat Nov 11 20:06:36 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="022584.html">[mod_python] loglevel
</A></li>
        <LI>Next message: <A HREF="022586.html">[mod_python] loglevel
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22585">[ date ]</a>
              <a href="thread.html#22585">[ thread ]</a>
              <a href="subject.html#22585">[ subject ]</a>
              <a href="author.html#22585">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 12/11/2006, at 4:38 AM, julien coron wrote:
&gt;<i> I would like to log my python handler only, not Apache.
</I>
If you want to do something that isn't normal, then don't expect it
to do what you want. ;-)

&gt;<i> There is also no output when I try to do &quot;print 'this is a log  
</I>&gt;<i> message' &quot;.
</I>
Correct. You shouldn't use 'print' in handlers as stdout stream of  
Apache
isn't guaranteed to go anywhere. If you go sys.stdout.flush() after
using 'print', if you are lucky it will end up in the Apache error log.

Where were you expecting it to go? Remember that Apache is generally
run as a daemon process and so it doesn't have a terminal to output
stuff to.

&gt;<i> The next try will be to use an other logger to manage that.
</I>
You probably want to investigate the 'logging' module in Python. If you
use that to log messages, you can then provide your own log handler
which logs either to the Apache error log file or to some other file of
your own. If you search the Internet properly, am sure you will find
examples of log handlers for log files already. There may even be one
in the logging module for all I know. In doing a separate log file  
through,
release that the logging system you use must support multiple processes
logging to it at the same time.

&gt;<i> Thanks,
</I>&gt;<i> Julien
</I>&gt;<i>
</I>&gt;<i> Le 10 nov. 06 &#224; 18:44, Martin Stoufer a &#233;crit :
</I>&gt;<i>
</I>&gt;&gt;<i> As I recall, the apache.log_error() method is a direct wrapper to  
</I>&gt;&gt;<i> the Apache logging API.   By setting the LogLevel to 'debug'  in  
</I>&gt;&gt;<i> httpd.conf, you should be seeing all messages. If you have it set  
</I>&gt;&gt;<i> at 'error', you will be ignoring &quot;info&quot; logged from mod_python.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I have not seen anything inside mod_python that will allow you  
</I>&gt;&gt;<i> arbitrarily set a logging level threshold.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> BTW, are you logging to the syslog mechanism, or to the apache  
</I>&gt;&gt;<i> logs? There may be a block in the syslog.conf dropping the messages.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">julien.coron at free.fr</A> wrote:
</I>&gt;&gt;&gt;<i> Hi Martin,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Allright for the loglevel, but is there a way to set the loglevel  
</I>&gt;&gt;&gt;<i> of apache to
</I>&gt;&gt;&gt;<i> &quot;error&quot; and the loglevel of mod_python to &quot;info&quot; ?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Selon Martin Stoufer &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">MCStoufer at lbl.gov</A>&gt;:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Julien,
</I>&gt;&gt;&gt;&gt;<i>     This is stored in the httpd.conf file for apache. Look for
</I>&gt;&gt;&gt;&gt;<i> &quot;LogLevel&quot; and change it so it includes the 'error' level. You  
</I>&gt;&gt;&gt;&gt;<i> may also
</I>&gt;&gt;&gt;&gt;<i> want to look at any specialized logging parameters for the  
</I>&gt;&gt;&gt;&gt;<i> Directory you
</I>&gt;&gt;&gt;&gt;<i> are serving content from. For this look for the &quot;LogFormat&quot;.  
</I>&gt;&gt;&gt;&gt;<i> Someone may
</I>&gt;&gt;&gt;&gt;<i> have redirected error messages to another log file.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">julien.coron at free.fr</A> wrote:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Hi,
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> I want to send some messages to the log file, but none under  
</I>&gt;&gt;&gt;&gt;&gt;<i> &quot;error&quot; are
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> traced:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> apache.log_error(&quot;This is an ERROR&quot;, apache.APLOG_ERR)
</I>&gt;&gt;&gt;&gt;&gt;<i> apache.log_error(&quot;This is an INFO&quot;, apache.APLOG_INFO)
</I>&gt;&gt;&gt;&gt;&gt;<i> apache.log_error(&quot;This is a DEBUG&quot;, apache.APLOG_DEBUG)
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> ...even if I set the loglevel of apache to &quot;debug&quot;.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Is there a way to set the loglevel of mod_python to &quot;debug&quot; and  
</I>&gt;&gt;&gt;&gt;&gt;<i> the apache
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> one
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> to &quot;error&quot; ?
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Julien CORON
</I>&gt;&gt;&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;&gt;&gt;<i> Mod_python mailing list
</I>&gt;&gt;&gt;&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;&gt;&gt;&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> --
</I>&gt;&gt;&gt;&gt;<i> * Martin C. Stoufer              *
</I>&gt;&gt;&gt;&gt;<i> * DST/DIDC/ITG                   *
</I>&gt;&gt;&gt;&gt;<i> * Lawrence Berkeley National Lab *
</I>&gt;&gt;&gt;&gt;<i> * MS 50B-2239 510-486-8662       *
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -- 
</I>&gt;&gt;<i> * Martin C. Stoufer              *
</I>&gt;&gt;<i> * DST/DIDC/ITG                   *
</I>&gt;&gt;<i> * Lawrence Berkeley National Lab *
</I>&gt;&gt;<i> * MS 50B-2239 510-486-8662       *
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022584.html">[mod_python] loglevel
</A></li>
	<LI>Next message: <A HREF="022586.html">[mod_python] loglevel
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22585">[ date ]</a>
              <a href="thread.html#22585">[ thread ]</a>
              <a href="subject.html#22585">[ subject ]</a>
              <a href="author.html#22585">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
