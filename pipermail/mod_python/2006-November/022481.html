<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Re: best practices; was &quot;is mod_python borked?&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20best%20practices%3B%20was%20%22is%20mod_python%20borked%3F%22&In-Reply-To=60FFE5F3-CB81-48F3-AB5C-A83C6A995927%40dscpl.com.au">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022478.html">
   <LINK REL="Next"  HREF="022482.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Re: best practices; was &quot;is mod_python borked?&quot;</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Jorey Bump</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20best%20practices%3B%20was%20%22is%20mod_python%20borked%3F%22&In-Reply-To=60FFE5F3-CB81-48F3-AB5C-A83C6A995927%40dscpl.com.au"
       TITLE="[mod_python] Re: best practices; was &quot;is mod_python borked?&quot;">list at joreybump.com
       </A><BR>
    <I>Sun Nov  5 10:31:19 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="022478.html">[mod_python] Re: best practices; was &quot;is mod_python borked?&quot;
</A></li>
        <LI>Next message: <A HREF="022482.html">[mod_python] Re: best practices; was &quot;is mod_python borked?&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22481">[ date ]</a>
              <a href="thread.html#22481">[ thread ]</a>
              <a href="subject.html#22481">[ subject ]</a>
              <a href="author.html#22481">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Graham Dumpleton wrote:
&gt;<i> Yes, forgot that '.' can be used in URL in place of '/' which can make
</I>&gt;<i> it even more interesting. I am guessing though that for this to work,
</I>&gt;<i> you would need to have been using SetHandler rather than AddHandler,
</I>&gt;<i> as imagine that using AddHandler would cause issues with Apache's
</I>&gt;<i> own attempt to match extensions against files. I'll have to try playing
</I>&gt;<i> with it some time to remind myself.
</I>
Yes, my example uses SetHandler. Things get even more interesting when 
we alter the example module a bit, name it index.py, and name the 
instance index:

page = &quot;&quot;&quot;&lt;html&gt;
&lt;head&gt;&lt;title&gt;What Am I?&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;&lt;h1&gt;Hello! What am I?&lt;/h1&gt;&lt;/body&gt;
&lt;/html&gt;
&quot;&quot;&quot;

class Dummy:
     def __call__(self):
         return page
     def html(self):
         return page

index = Dummy()

This adds some interesting possibilities to the list of URLs:

  <A HREF="http://host/dir/index.py/index.html">http://host/dir/index.py/index.html</A>
  <A HREF="http://host/dir/index/index.html">http://host/dir/index/index.html</A>
  <A HREF="http://host/dir/index/">http://host/dir/index/</A>
  <A HREF="http://host/dir/index.html">http://host/dir/index.html</A>
  <A HREF="http://host/dir/">http://host/dir/</A>
  <A HREF="http://host/dir/...">http://host/dir/...</A> many other variations

Using this technique, you could probably replace a small site of static 
pages entirely with index.py without breaking existing URLs. This 
assumes access is always gained through one of the following URLs:

  <A HREF="http://host/">http://host/</A>
  <A HREF="http://host/index.html">http://host/index.html</A>

Since SetHandler is used, you would need to adjust your configuration to 
support serving other resources like images, but it's doable. I think 
there is a small demand for this functionality, since the question of 
running an entire site via Publisher does pop up once in a while, as 
well as a desire to hide the technology driving the site.

So, back on topic, we can end up with ugly URLs like this:

  <A HREF="http://host/dir/index.py/index.html/">http://host/dir/index.py/index.html/</A>
  <A HREF="http://host/dir/index.py/index/html/">http://host/dir/index.py/index/html/</A>

that are the exact equivalent of these more friendly ones:

  <A HREF="http://host/dir/index.html/">http://host/dir/index.html/</A>
  <A HREF="http://host/dir/">http://host/dir/</A>

Now forcing slashes is no longer an issue of inserting them in the 
appropriate context, but of Publisher trying to determine the 
developer's intent. Since I don't believe that this is possible, and 
also find the default flexibility to be useful, maybe the best approach 
to provide such functionality to those who want it is to pass an option 
to Publisher, or even create a formal plugin system to strap on optional 
features.

</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022478.html">[mod_python] Re: best practices; was &quot;is mod_python borked?&quot;
</A></li>
	<LI>Next message: <A HREF="022482.html">[mod_python] Re: best practices; was &quot;is mod_python borked?&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22481">[ date ]</a>
              <a href="thread.html#22481">[ thread ]</a>
              <a href="subject.html#22481">[ subject ]</a>
              <a href="author.html#22481">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
