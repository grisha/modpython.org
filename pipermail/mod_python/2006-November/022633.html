<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Approach to mod_python &quot;secure&quot; code
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Approach%20to%20mod_python%20%22secure%22%20code&In-Reply-To=455D90A0.2000003%40paranoici.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022631.html">
   <LINK REL="Next"  HREF="022634.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Approach to mod_python &quot;secure&quot; code</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Approach%20to%20mod_python%20%22secure%22%20code&In-Reply-To=455D90A0.2000003%40paranoici.org"
       TITLE="[mod_python] Approach to mod_python &quot;secure&quot; code">grahamd at dscpl.com.au
       </A><BR>
    <I>Sat Nov 18 01:52:15 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="022631.html">[mod_python] Approach to mod_python &quot;secure&quot; code
</A></li>
        <LI>Next message: <A HREF="022634.html">[mod_python] Approach to mod_python &quot;secure&quot; code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22633">[ date ]</a>
              <a href="thread.html#22633">[ thread ]</a>
              <a href="subject.html#22633">[ subject ]</a>
              <a href="author.html#22633">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Given the nature of your questions and that you are new to Python,
as well as to mod_python, I would very much suggest that you not use
mod_python directly. Instead, I would recommend you go use one
of the higher level Python web frameworks such as Django and
Turbogears. So, go have a look at:

   <A HREF="http://www.djangoproject.com/">http://www.djangoproject.com/</A>
   <A HREF="http://www.turbogears.org/">http://www.turbogears.org/</A>

Use one of these and it will solve you a lot of hard work and you will
not have to worry unnecessarily about the sort of things you are
worrying about as other people have solved it already.

Graham

On 17/11/2006, at 9:36 PM, fizban wrote:

&gt;<i> Hi all,
</I>&gt;<i>
</I>&gt;<i> I'm new to python and mod_python, I've just started moving away  
</I>&gt;<i> from PHP
</I>&gt;<i> so I apology if my questions will look dumb :)
</I>&gt;<i> I'm finding it easy to learn python for now, there's plenty of docs
</I>&gt;<i> around, and mailing lists like this one (I've been lurking for a few
</I>&gt;<i> days) are pretty usefull. However there are things that I'm not  
</I>&gt;<i> sure I'm
</I>&gt;<i> approaching in the right way, so I'd need an hand by someone more
</I>&gt;<i> experienced than me.
</I>&gt;<i>
</I>&gt;<i> I'm in the process of converting a website to mod_python, and after  
</I>&gt;<i> some
</I>&gt;<i> reading I decided to opt for the &quot;my own handler&quot; approach. I'll  
</I>&gt;<i> have an
</I>&gt;<i> &quot;index.py&quot; (the name isn't important) using SetHandler. So my handler
</I>&gt;<i> will deal with all the requests for that directory.
</I>&gt;<i>
</I>&gt;<i> My approach to this is the following:
</I>&gt;<i>
</I>&gt;<i> 1* take req.uri, str() it (just in case?) and split('/') it.
</I>&gt;<i> [stuff = str(req.uri).split('/')
</I>&gt;<i> 2* take stuff[1], see if isalpha(), if so see if stuff[1] is in a  
</I>&gt;<i> tuple
</I>&gt;<i> (contains all the valid &quot;sections&quot;). if it is, we assume stuff[1] is
</I>&gt;<i> safe to deal with. if not, we return a custom 404.
</I>&gt;<i> 3* if stuff[1] is valid, and it is in a tuple containing a list of
</I>&gt;<i> special sections with a matching function, we run that function
</I>&gt;<i> [eval(&quot;%s(%s)&quot; % (section, &quot;req&quot;))]. some of these functions take  
</I>&gt;<i> other
</I>&gt;<i> arguments, like a (pre validated with similar approach) stuff[2], or
</I>&gt;<i> req.args (same here). otherwise we run some other routine, by parsing
</I>&gt;<i> and req.writing a template.
</I>&gt;<i> [stuff[2] or req.args are this time matched against regular  
</I>&gt;<i> expressions,
</I>&gt;<i> to see if they fit the arguments taken by the section functions]
</I>&gt;<i>
</I>&gt;<i> Do you guys think it's a decent approach in terms of &quot;security&quot;? Would
</I>&gt;<i> you take any other validation steps? As I said I'm really new to  
</I>&gt;<i> python
</I>&gt;<i> and mod_python, so since the website has some huge userbase, I'm  
</I>&gt;<i> really
</I>&gt;<i> worried about security.. We are not using (for various reasons) sql  
</I>&gt;<i> db,
</I>&gt;<i> only templates and local xml basically, so sql inj. is not an issue.
</I>&gt;<i>
</I>&gt;<i> Since the site re-design will force us to change all the URI, I have
</I>&gt;<i> setup some other function to see if str(req.uri) matches moved or
</I>&gt;<i> deleted pages, if so we return 410 or 301 messages. 404 give the
</I>&gt;<i> impression of a messed up site. Is str(req.uri) safe enough to be  
</I>&gt;<i> passed
</I>&gt;<i> as argument to the notfound() or moved() functions I've made?
</I>&gt;<i>
</I>&gt;<i> Thanks in advance for any hint or comment you may give me!
</I>&gt;<i> I'm also looking for any &quot;guide&quot; or paper about writing &quot;secure&quot; code
</I>&gt;<i> with mod_python, I haven't been able to find any on my own, for now :)
</I>&gt;<i>
</I>&gt;<i> Ciao,
</I>&gt;<i>
</I>&gt;<i> Andreas
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I></PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022631.html">[mod_python] Approach to mod_python &quot;secure&quot; code
</A></li>
	<LI>Next message: <A HREF="022634.html">[mod_python] Approach to mod_python &quot;secure&quot; code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22633">[ date ]</a>
              <a href="thread.html#22633">[ thread ]</a>
              <a href="subject.html#22633">[ subject ]</a>
              <a href="author.html#22633">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
