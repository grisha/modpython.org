<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Accesshandler and normal handler... how they working ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Accesshandler%20and%20normal%20handler...%20how%20they%20working%20%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022608.html">
   <LINK REL="Next"  HREF="022605.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Accesshandler and normal handler... how they working ?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>durumdara</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Accesshandler%20and%20normal%20handler...%20how%20they%20working%20%3F&In-Reply-To="
       TITLE="[mod_python] Accesshandler and normal handler... how they working ?">durumdara at gmail.com
       </A><BR>
    <I>Tue Nov 14 07:12:22 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="022608.html">[mod_python] How to format ssi dates ?
</A></li>
        <LI>Next message: <A HREF="022605.html">[mod_python] Accesshandler and normal handler... how they working
	?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22600">[ date ]</a>
              <a href="thread.html#22600">[ thread ]</a>
              <a href="subject.html#22600">[ subject ]</a>
              <a href="author.html#22600">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi !

I have an access handler, and a normal python handler in my site.
I use directories, and some of them are need protection. I use my login
method to enable user access.

The access handler is check the needed rights to any object. It get user
data from Session.
When access granted, it finished it's working.
When access denied, it send http403 error, and I catch this with custom
error documents (ssi).

But I want to know something - the background of access handler.

1.)
The access handler is existing in same Thread as Handler ?
So I want to know. Is modpy do this:
get url, server info, etc.
build request + other objects
get thread
result = thread.startaccesshandler(req)
if not result:
  gotoerrorhandler
else:
  result = thread.handler(req)
....
or it use another technology ?

2.)
Can I exchange some data across them ?
In this time I use file based right table(s).
Every file in this table has right property.
I need to load this table in the accesshandler to check grants.
And later, in the menu building I also need to load this table to check
grants (the menus are not accessable by user are hided).
Can I share these infos ? Can I write to the request object, and this
object is hold these infos to get them in normal handler ?

3.)
Can I force the access handler to redirect request ?
Example: the user click on menu that preserved for special users. I
don't want to redirect to error pages. Can I redirect to my special
page, or it is useable only in normal handler ?


Thanks for your help:
    dd






</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022608.html">[mod_python] How to format ssi dates ?
</A></li>
	<LI>Next message: <A HREF="022605.html">[mod_python] Accesshandler and normal handler... how they working
	?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22600">[ date ]</a>
              <a href="thread.html#22600">[ thread ]</a>
              <a href="subject.html#22600">[ subject ]</a>
              <a href="author.html#22600">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
