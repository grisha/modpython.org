<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Restricted Mode 
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Restricted%20Mode%20&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022542.html">
   <LINK REL="Next"  HREF="022544.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Restricted Mode </H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Restricted%20Mode%20&In-Reply-To="
       TITLE="[mod_python] Restricted Mode ">grahamd at dscpl.com.au
       </A><BR>
    <I>Wed Nov  8 15:58:57 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="022542.html">[mod_python] Restricted Mode 
</A></li>
        <LI>Next message: <A HREF="022544.html">[mod_python] Re: mod_python, the ITK MPM and sessions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22543">[ date ]</a>
              <a href="thread.html#22543">[ thread ]</a>
              <a href="subject.html#22543">[ subject ]</a>
              <a href="author.html#22543">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dr R. Sanderson wrote ..
&gt;<i> 
</I>&gt;<i> Hi all,
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://64.233.183.104/search?q=cache:DffNofD9DXgJ:www.cardsnotwords.com/card.html%3Fc%3D192+-zope+RuntimeError:+function+attributes+not+accessible+in+restricted+mode&amp;#38;hl=en&amp;#38;gl=uk&amp;#38;ct=clnk&amp;#38;cd=9">http://64.233.183.104/search?q=cache:DffNofD9DXgJ:www.cardsnotwords.com/card.html%3Fc%3D192+-zope+RuntimeError:+function+attributes+not+accessible+in+restricted+mode&amp;#38;hl=en&amp;#38;gl=uk&amp;#38;ct=clnk&amp;#38;cd=9</A>
</I>&gt;<i> 
</I>&gt;<i> We use 4Suite for XSLT processing within mod_python, however when we 
</I>&gt;<i> try to use functions within the stylesheets, it complains that python is
</I>&gt;<i> in restricted mode.
</I>&gt;<i> 
</I>&gt;<i> We're using Python 2.4.3 and mod_python 3.2.10, so it's not the previous
</I>&gt;<i> problem that was putting it into restricted mode fixed circa 
</I>&gt;<i> Python 2.3/mod_python 3.1
</I>&gt;<i> 
</I>&gt;<i> It doesn't /always/ do this, it seems to flip into it sometimes. 
</I>&gt;<i> Possibly when the httpd reloads, but we're not sure about that.
</I>&gt;<i> Given that, creating a minimal breaking script to demonstrate is quite
</I>&gt;<i> complicated.
</I>&gt;<i> 
</I>&gt;<i> Any help or suggestions appreciated!
</I>
I don't know about any fixes in mod_python 3.1.X related to restricted mode,
but there were some changes in mod_python 3.2.10 related to it. Even when
using mod_python 3.2.10, for it to work you still have to do one extra step
which is to force all the requests handlers which use the problematic package
to run within the context of the 'main_interpreter' instance. To do this, you
must use:

  PythonInterpreter main_interpreter

in conjunction with the Python*Handler directive which you are using to
trigger your mod_python handlers to run.

To confirm that your code is working within the context of the correct
interpreter, log the value of 'req.interpreter' into the Apache error log from
your handler.

There is some history of the issue in:

  <A HREF="http://issues.apache.org/jira/browse/MODPYTHON-77">http://issues.apache.org/jira/browse/MODPYTHON-77</A>

Please try this and then let us know if it works or not so we know whether this
can be given as a solution to others in the future.

Graham
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022542.html">[mod_python] Restricted Mode 
</A></li>
	<LI>Next message: <A HREF="022544.html">[mod_python] Re: mod_python, the ITK MPM and sessions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22543">[ date ]</a>
              <a href="thread.html#22543">[ thread ]</a>
              <a href="subject.html#22543">[ subject ]</a>
              <a href="author.html#22543">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
