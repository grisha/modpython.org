<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Re: best practices; was &quot;is mod_python borked?&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20best%20practices%3B%20was%20%22is%20mod_python%20borked%3F%22&In-Reply-To=454CED9A.5000406%40joreybump.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022476.html">
   <LINK REL="Next"  HREF="022481.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Re: best practices; was &quot;is mod_python borked?&quot;</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20best%20practices%3B%20was%20%22is%20mod_python%20borked%3F%22&In-Reply-To=454CED9A.5000406%40joreybump.com"
       TITLE="[mod_python] Re: best practices; was &quot;is mod_python borked?&quot;">grahamd at dscpl.com.au
       </A><BR>
    <I>Sun Nov  5 00:43:54 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="022476.html">[mod_python] Re: best practices; was &quot;is mod_python borked?&quot;
</A></li>
        <LI>Next message: <A HREF="022481.html">[mod_python] Re: best practices; was &quot;is mod_python borked?&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22478">[ date ]</a>
              <a href="thread.html#22478">[ thread ]</a>
              <a href="subject.html#22478">[ subject ]</a>
              <a href="author.html#22478">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yes, forgot that '.' can be used in URL in place of '/' which can make
it even more interesting. I am guessing though that for this to work,
you would need to have been using SetHandler rather than AddHandler,
as imagine that using AddHandler would cause issues with Apache's
own attempt to match extensions against files. I'll have to try playing
with it some time to remind myself.

Graham

On 05/11/2006, at 6:44 AM, Jorey Bump wrote:

&gt;<i> Graham Dumpleton wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> So whereas one should be able to use fixed relative links in a  
</I>&gt;&gt;<i> page generated from a __call__() method called by publisher, one is
</I>&gt;&gt;<i> instead forced to either make them absolute path links, or
</I>&gt;&gt;<i> dynamically determine what the relative link should be by looking at
</I>&gt;&gt;<i> the URL and what is determinable about where the point sits in the  
</I>&gt;&gt;<i> object hierarchy.
</I>&gt;&gt;<i> This issue is further complicated by how publisher automatically maps
</I>&gt;&gt;<i> a request against a physical directory when SetHandler is used to the
</I>&gt;&gt;<i> index.py file, and when it maps a request against a physical file,
</I>&gt;&gt;<i> whether SetHandler or AddHandler is used, against the index() method
</I>&gt;&gt;<i> contained within it.
</I>&gt;&gt;<i> Not only does one have to deal with the fact that publisher will
</I>&gt;&gt;<i> accept a URL with out without a trailing slash and doesn't force a
</I>&gt;&gt;<i> trailing slash to be added in appropriate contexts, you end up, as
</I>&gt;&gt;<i> explained in the referenced email, with multiple URLs that can map to
</I>&gt;&gt;<i> the same resource. If all these URLs were at the same context level
</I>&gt;&gt;<i> that wouldn't really matter, but they aren't and have differing  
</I>&gt;&gt;<i> numbers of slashes within the URL, further making the process of
</I>&gt;&gt;<i> working with relative URLs a mess.
</I>&gt;&gt;<i> In summary, the problems I see are publisher not doing the  
</I>&gt;&gt;<i> trailing slash redirect where appropriate and how automatic  
</I>&gt;&gt;<i> mapping to the
</I>&gt;&gt;<i> index file and index function are done resulting in different URLs
</I>&gt;&gt;<i> working with different base URL contexts.
</I>&gt;<i>
</I>&gt;<i> I think you've overlooked another case: Instance attributes or  
</I>&gt;<i> methods can be accessed with either slashes or dots as separators:
</I>&gt;<i>
</I>&gt;<i> class Dummy:
</I>&gt;<i>     def html(self):
</I>&gt;<i>         return &quot;&quot;&quot;&lt;html&gt;
</I>&gt;<i> &lt;head&gt;&lt;title&gt;What Am I?&lt;/title&gt;&lt;/head&gt;
</I>&gt;<i> &lt;body&gt;&lt;h1&gt;Hello! What am I?&lt;/h1&gt;&lt;/body&gt;
</I>&gt;<i> &lt;/html&gt;
</I>&gt;<i> &quot;&quot;&quot;
</I>&gt;<i>
</I>&gt;<i> instance = Dummy()
</I>&gt;<i>
</I>&gt;<i> Now we can access the method in multiple ways:
</I>&gt;<i>
</I>&gt;<i>  <A HREF="http://host/dir/module/instance.html">http://host/dir/module/instance.html</A>
</I>&gt;<i>  <A HREF="http://host/dir/module/instance/html">http://host/dir/module/instance/html</A>
</I>&gt;<i>  <A HREF="http://host/dir/module/instance.html/">http://host/dir/module/instance.html/</A>
</I>&gt;<i>  <A HREF="http://host/dir/module/instance/html/">http://host/dir/module/instance/html/</A>
</I>&gt;<i>
</I>&gt;<i> Determining the appropriate context to force a slash suddenly  
</I>&gt;<i> becomes a lot trickier. Clearly, there's a use for the dotted  
</I>&gt;<i> notation, not only as a way to obscure the technology used, but to  
</I>&gt;<i> replace static content without disturbing existing links, provide  
</I>&gt;<i> dynamically generated files with appropriate extensions for mime- 
</I>&gt;<i> handicapped browsers, and other clever uses best left to the  
</I>&gt;<i> programmer.
</I>&gt;<i>
</I>&gt;<i> I like the flexibility, and I'm happy to handle the details of URL  
</I>&gt;<i> creation within my own code. I mostly construct absolute path  
</I>&gt;<i> links, and it doesn't seem like that much of a burden. When I do  
</I>&gt;<i> use relative links, I determine what resources they are relative  
</I>&gt;<i> to, and try to protect the user from ever needing to edit the URL  
</I>&gt;<i> in the browser. If someone does, and things break, how is that  
</I>&gt;<i> different from any other mistyped URL?
</I>&gt;<i>
</I>&gt;<i> I understand the desire to include better support for relative and  
</I>&gt;<i> incorrect links, but it seems the only way to accomplish this  
</I>&gt;<i> automatically within Publisher is to introduce a limitation that is  
</I>&gt;<i> sure to break existing code (as Graham points out). Some developers  
</I>&gt;<i> really *like* to have URLs that never end in slashes, regardless of  
</I>&gt;<i> the resource's place in the heirarchy. I wouldn't be happy if  
</I>&gt;<i> Publisher suddenly started forcing slashes to appear where I didn't  
</I>&gt;<i> want them.
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I></PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022476.html">[mod_python] Re: best practices; was &quot;is mod_python borked?&quot;
</A></li>
	<LI>Next message: <A HREF="022481.html">[mod_python] Re: best practices; was &quot;is mod_python borked?&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22478">[ date ]</a>
              <a href="thread.html#22478">[ thread ]</a>
              <a href="subject.html#22478">[ subject ]</a>
              <a href="author.html#22478">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
