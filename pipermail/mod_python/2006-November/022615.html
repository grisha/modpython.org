<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Mod_python on HP-UX 11.11
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Mod_python%20on%20HP-UX%2011.11&In-Reply-To=5c06fa770611151149k3ec6b269m2ddc93f4f41d391e%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022614.html">
   <LINK REL="Next"  HREF="022616.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Mod_python on HP-UX 11.11</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Buehre, Joseph R</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Mod_python%20on%20HP-UX%2011.11&In-Reply-To=5c06fa770611151149k3ec6b269m2ddc93f4f41d391e%40mail.gmail.com"
       TITLE="[mod_python] Mod_python on HP-UX 11.11">joseph.r.buehre at boeing.com
       </A><BR>
    <I>Wed Nov 15 15:15:51 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="022614.html">[mod_python] Mod_python on HP-UX 11.11
</A></li>
        <LI>Next message: <A HREF="022616.html">[mod_python] Mod_python on HP-UX 11.11
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22615">[ date ]</a>
              <a href="thread.html#22615">[ thread ]</a>
              <a href="subject.html#22615">[ subject ]</a>
              <a href="author.html#22615">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Here is the -R and you are correct, I believe it is related to the FLEX,
this is in the src/Makefile and makefile.in

psp_parser.c: psp_parser.l
        @rm -f psp_parser.c
        $(LEX) -R -opsp_parser.c --header-file=include/psp_flex.h
psp_parser.l

NEXT MAKE RUN WITHOUT -R:

Compiling for DSO.

        /wwimacs6/apache2/bin/apxs -I/mod_python-3.2.10/src/include
-I/wwimacs6/apache2/include -I/opt/Boeing/python2.4.3/include/python2.4
-c mod_python.c _apachemodule.c requestobject.c tableobject.c util.c
serverobject.c connobject.c filterobject.c hlist.c hlistobject.c
-L/opt/Boeing/python2.4.3/lib
-L/opt/Boeing/python2.4.3/lib/python2.4/config  -Wl,-E -Wl,+s      -lm
-lpython2.4   -lnsl -lrt -ldld  -lpthread   -lm
/wwimacs6/apache2/build/libtool --silent --mode=compile
/opt/ansic/bin/cc -prefer-pic -O3 -DSSL_EXPERIMENTAL -DSSL_ENGINE
-D_REENTRANT -Ae +DAportable  -DHPUX11 -D_REENTRANT
-D_XOPEN_SOURCE_EXTENDED  -I/wwimacs6/apache2/include
-I/wwimacs6/apache2/include   -I/wwimacs6/apache2/include
-I/mod_python-3.2.10/src/include -I/wwimacs6/apache2/include
-I/opt/Boeing/python2.4.3/include/python2.4  -c -o mod_python.lo
mod_python.c &amp;&amp; touch mod_python.slo
cc: &quot;mod_python.c&quot;, line 313: warning 611: Type conversion loses &quot;const&quot;
qualifier.
cc: &quot;mod_python.c&quot;, line 313: warning 563: Argument #1 is not the
correct type.
cc: &quot;mod_python.c&quot;, line 427: warning 611: Type conversion loses &quot;const&quot;
qualifier.
cc: &quot;mod_python.c&quot;, line 458: warning 611: Type conversion loses &quot;const&quot;
qualifier.
cc: &quot;mod_python.c&quot;, line 540: warning 611: Type conversion loses &quot;const&quot;
qualifier.
/wwimacs6/apache2/build/libtool --silent --mode=compile
/opt/ansic/bin/cc -prefer-pic -O3 -DSSL_EXPERIMENTAL -DSSL_ENGINE
-D_REENTRANT -Ae +DAportable  -DHPUX11 -D_REENTRANT
-D_XOPEN_SOURCE_EXTENDED  -I/wwimacs6/apache2/include
-I/wwimacs6/apache2/include   -I/wwimacs6/apache2/include
-I/mod_python-3.2.10/src/include -I/wwimacs6/apache2/include
-I/opt/Boeing/python2.4.3/include/python2.4  -c -o _apachemodule.lo
_apachemodule.c &amp;&amp; touch _apachemodule.slo
/wwimacs6/apache2/build/libtool --silent --mode=compile
/opt/ansic/bin/cc -prefer-pic -O3 -DSSL_EXPERIMENTAL -DSSL_ENGINE
-D_REENTRANT -Ae +DAportable  -DHPUX11 -D_REENTRANT
-D_XOPEN_SOURCE_EXTENDED  -I/wwimacs6/apache2/include
-I/wwimacs6/apache2/include   -I/wwimacs6/apache2/include
-I/mod_python-3.2.10/src/include -I/wwimacs6/apache2/include
-I/opt/Boeing/python2.4.3/include/python2.4  -c -o requestobject.lo
requestobject.c &amp;&amp; touch requestobject.slo
cc: &quot;requestobject.c&quot;, line 426: warning 611: Type conversion loses
&quot;const&quot; qualifier.
cc: &quot;requestobject.c&quot;, line 427: warning 604: Pointers are not
assignment-compatible.
cc: &quot;requestobject.c&quot;, line 1447: warning 604: Pointers are not
assignment-compatible.
cc: &quot;requestobject.c&quot;, line 1454: warning 604: Pointers are not
assignment-compatible.
cc: &quot;requestobject.c&quot;, line 1569: warning 604: Pointers are not
assignment-compatible.
/wwimacs6/apache2/build/libtool --silent --mode=compile
/opt/ansic/bin/cc -prefer-pic -O3 -DSSL_EXPERIMENTAL -DSSL_ENGINE
-D_REENTRANT -Ae +DAportable  -DHPUX11 -D_REENTRANT
-D_XOPEN_SOURCE_EXTENDED  -I/wwimacs6/apache2/include
-I/wwimacs6/apache2/include   -I/wwimacs6/apache2/include
-I/mod_python-3.2.10/src/include -I/wwimacs6/apache2/include
-I/opt/Boeing/python2.4.3/include/python2.4  -c -o tableobject.lo
tableobject.c &amp;&amp; touch tableobject.slo
cc: &quot;tableobject.c&quot;, line 1057: warning 604: Pointers are not
assignment-compatible.
/wwimacs6/apache2/build/libtool --silent --mode=compile
/opt/ansic/bin/cc -prefer-pic -O3 -DSSL_EXPERIMENTAL -DSSL_ENGINE
-D_REENTRANT -Ae +DAportable  -DHPUX11 -D_REENTRANT
-D_XOPEN_SOURCE_EXTENDED  -I/wwimacs6/apache2/include
-I/wwimacs6/apache2/include   -I/wwimacs6/apache2/include
-I/mod_python-3.2.10/src/include -I/wwimacs6/apache2/include
-I/opt/Boeing/python2.4.3/include/python2.4  -c -o util.lo util.c &amp;&amp;
touch util.slo
/wwimacs6/apache2/build/libtool --silent --mode=compile
/opt/ansic/bin/cc -prefer-pic -O3 -DSSL_EXPERIMENTAL -DSSL_ENGINE
-D_REENTRANT -Ae +DAportable  -DHPUX11 -D_REENTRANT
-D_XOPEN_SOURCE_EXTENDED  -I/wwimacs6/apache2/include
-I/wwimacs6/apache2/include   -I/wwimacs6/apache2/include
-I/mod_python-3.2.10/src/include -I/wwimacs6/apache2/include
-I/opt/Boeing/python2.4.3/include/python2.4  -c -o serverobject.lo
serverobject.c &amp;&amp; touch serverobject.slo
cc: &quot;serverobject.c&quot;, line 351: warning 604: Pointers are not
assignment-compatible.
/wwimacs6/apache2/build/libtool --silent --mode=compile
/opt/ansic/bin/cc -prefer-pic -O3 -DSSL_EXPERIMENTAL -DSSL_ENGINE
-D_REENTRANT -Ae +DAportable  -DHPUX11 -D_REENTRANT
-D_XOPEN_SOURCE_EXTENDED  -I/wwimacs6/apache2/include
-I/wwimacs6/apache2/include   -I/wwimacs6/apache2/include
-I/mod_python-3.2.10/src/include -I/wwimacs6/apache2/include
-I/opt/Boeing/python2.4.3/include/python2.4  -c -o connobject.lo
connobject.c &amp;&amp; touch connobject.slo
/wwimacs6/apache2/build/libtool --silent --mode=compile
/opt/ansic/bin/cc -prefer-pic -O3 -DSSL_EXPERIMENTAL -DSSL_ENGINE
-D_REENTRANT -Ae +DAportable  -DHPUX11 -D_REENTRANT
-D_XOPEN_SOURCE_EXTENDED  -I/wwimacs6/apache2/include
-I/wwimacs6/apache2/include   -I/wwimacs6/apache2/include
-I/mod_python-3.2.10/src/include -I/wwimacs6/apache2/include
-I/opt/Boeing/python2.4.3/include/python2.4  -c -o filterobject.lo
filterobject.c &amp;&amp; touch filterobject.slo
/wwimacs6/apache2/build/libtool --silent --mode=compile
/opt/ansic/bin/cc -prefer-pic -O3 -DSSL_EXPERIMENTAL -DSSL_ENGINE
-D_REENTRANT -Ae +DAportable  -DHPUX11 -D_REENTRANT
-D_XOPEN_SOURCE_EXTENDED  -I/wwimacs6/apache2/include
-I/wwimacs6/apache2/include   -I/wwimacs6/apache2/include
-I/mod_python-3.2.10/src/include -I/wwimacs6/apache2/include
-I/opt/Boeing/python2.4.3/include/python2.4  -c -o hlist.lo hlist.c &amp;&amp;
touch hlist.slo
/wwimacs6/apache2/build/libtool --silent --mode=compile
/opt/ansic/bin/cc -prefer-pic -O3 -DSSL_EXPERIMENTAL -DSSL_ENGINE
-D_REENTRANT -Ae +DAportable  -DHPUX11 -D_REENTRANT
-D_XOPEN_SOURCE_EXTENDED  -I/wwimacs6/apache2/include
-I/wwimacs6/apache2/include   -I/wwimacs6/apache2/include
-I/mod_python-3.2.10/src/include -I/wwimacs6/apache2/include
-I/opt/Boeing/python2.4.3/include/python2.4  -c -o hlistobject.lo
hlistobject.c &amp;&amp; touch hlistobject.slo
/wwimacs6/apache2/build/libtool --silent --mode=link /opt/ansic/bin/cc
-o mod_python.la -I/mod_python-3.2.10/src/include
-I/wwimacs6/apache2/include -I/opt/Boeing/python2.4.3/include/python2.4
-rpath /wwimacs6/apache2/modules -module -avoid-version
hlistobject.lo hlist.lo filterobject.lo connobject.lo serverobject.lo
util.lo tableobject.lo requestobject.lo _apachemodule.lo mod_python.lo
-L/opt/Boeing/python2.4.3/lib
-L/opt/Boeing/python2.4.3/lib/python2.4/config -Wl,-E -Wl,+s -lm
-lpython2.4 -lnsl -lrt -ldld -lpthread -lm
        ln -s ../lib/python/mod_python mod_python
        ln -s ../src src
         -opsp_parser.c --header-file=include/psp_flex.h psp_parser.l
sh: -opsp_parser.c:  not found.
*** Error exit code 127

Stop.
*** Error exit code 1

Stop.
*** Error exit code 1

Stop.

The crazy thing about this is they removed the psp_parser.c object in
the Makefile prior to running:
 
$(LEX) -opsp_parser.c --header-file=include/psp_flex.h psp_parser.l


Thanks, 
Joe Buehre 
Mission Critical Systems Support 
314-791-9725

 mailto:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">joseph.r.buehre at boeing.com</A>


-----Original Message-----
From: Deron Meranda [mailto:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">deron.meranda at gmail.com</A>] 
Sent: Wednesday, November 15, 2006 1:50 PM
To: Buehre, Joseph R
Cc: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
Subject: Re: [mod_python] Mod_python on HP-UX 11.11

On 11/15/06, Buehre, Joseph R &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">joseph.r.buehre at boeing.com</A>&gt; wrote:
&gt;<i> LIBTOOL VERSION:
</I>&gt;<i>
</I>&gt;<i> ltmain.sh (GNU libtool) 1.4.3 (1.922.2.110 2002/10/23 01:39:54)
</I>
That libtool is quite old, and old libtools on HP-UX are buggy
sometimes.
If all else fails you may try replacing it with a newer version.  It's a
bit hackish, but when I've gotten stuck in the past (on other OSS
programs) with mysterious compiler/linker options it's sometimes worked
for me.

   <A HREF="http://directory.fsf.org/libtool.html">http://directory.fsf.org/libtool.html</A>

You may also consider whether you want to go up to Apache 2.2 rather
than 2.0.  (You must use the newest mod_python though).


&gt;<i> The -R is in the src/Makefile and is not in the Apache config_vars.mk 
</I>&gt;<i> file. I believe it is a compiler switch for the C compiler. Reference 
</I>&gt;<i> this link for -R <A HREF="http://docs.hp.com/en/B3901-90003/ch09s01.html">http://docs.hp.com/en/B3901-90003/ch09s01.html</A>
</I>
Can you show us the snippets of the Makefile where -R appears?
What about Makefile.in ?

-R is an obscure option to the lower-level compiler-only phase of the
compiler (i.e., ccom not cc).  If it appears it should always be
encapsulated in a -w option, such as

   -wc,-R   (no spaces)

I can't see how -R is needed, as it is a very low level optimzation
hint.  (If, in fact, the -R you see is intended to be the same as the HP
documented one).

In the mod_python I compiled I have no such -R option anyplace.
I can't explain why yours has it.  (Are you sure you're not confusing it
with the -R option to lex/flex?)

You could try just manually removing all references to -R from the
makefiles (after the configure step obviously).


&gt;<i> NEW MAKE RUN:  Removed silent as recommend but it must be hiding some 
</I>&gt;<i> where else...I tried to find it but to no avail.
</I>
The --silent option is burried very very deep; it's almost imposible to
remove.  When I need to see more details I don't use make, I run the
actual commands directly (run make first to see what commands it is
launching, then cut-n-paste the one you want and modify the options
directly).

However in this case I'm not sure we need to see the details, as the -R
in src/Makefile is obviously the source of the problem.

--
Deron Meranda

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022614.html">[mod_python] Mod_python on HP-UX 11.11
</A></li>
	<LI>Next message: <A HREF="022616.html">[mod_python] Mod_python on HP-UX 11.11
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22615">[ date ]</a>
              <a href="thread.html#22615">[ thread ]</a>
              <a href="subject.html#22615">[ subject ]</a>
              <a href="author.html#22615">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
