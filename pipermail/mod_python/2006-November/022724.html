<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] python path and 3.3
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20python%20path%20and%203.3&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022723.html">
   <LINK REL="Next"  HREF="022725.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] python path and 3.3</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20python%20path%20and%203.3&In-Reply-To="
       TITLE="[mod_python] python path and 3.3">grahamd at dscpl.com.au
       </A><BR>
    <I>Thu Nov 30 20:12:12 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="022723.html">[mod_python] python path and 3.3
</A></li>
        <LI>Next message: <A HREF="022725.html">[mod_python] python path and 3.3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22724">[ date ]</a>
              <a href="thread.html#22724">[ thread ]</a>
              <a href="subject.html#22724">[ subject ]</a>
              <a href="author.html#22724">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Eric Brunson wrote ..
&gt;<i> I just grabbed the latest SVN snapshot and installed it and I'm having
</I>&gt;<i> a problem with importing now.
</I>&gt;<i> 
</I>&gt;<i> Using the publisher handler I'm trying to get my app from 3.1.4 going,
</I>&gt;<i> but 3.3 no longer seems to want to find my lib/ subdirectory.  I've 
</I>&gt;<i> added the following to my .htaccess:
</I>&gt;<i> 
</I>&gt;<i> PythonPath &quot;['.']+sys.path&quot;
</I>&gt;<i> 
</I>&gt;<i> I can display the sys.path in an app and it includes &quot;.&quot;, but it just 
</I>&gt;<i> doesn't find a subdirectory &quot;lib&quot;
</I>&gt;<i> 
</I>&gt;<i> Is there something new with the module loading that I should be aware of?
</I>
Where is your 'lib' subdirectory relative to the directory you specified the
handler for?

What are you using to import modules from that directory, 'import',
'__import__' or 'apache.import_module()'?

What is the argument you are supplying to these to identify your module?

Does the module argument you are using contain a '/'?

At the moment I can't see how it would have worked before if you never had
PythonPath defined unless you were using '/' in a module name, for example:

  module = apache.import('lib/name')

This should still work with the new importer, but only if done from a publisher
file in the handler root directory, and not one in a subdirectory.

Anyway, can you please post the Apache configuration snippet you are using
to set the directory up for publisher, including any PythonPath directive being
set. Also describe how your directories look and where files live relative to
each other.

Sorry for not just providing a possible solution, but we are going to have to
deal with subtle little differences between new and old importer and for the
first people who run up against them, I want to understand the use cases
properly so I know how to help others later in the best way.

I will explain everything, but if you give me the information I can do a better
job.

Thanks.

Graham
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022723.html">[mod_python] python path and 3.3
</A></li>
	<LI>Next message: <A HREF="022725.html">[mod_python] python path and 3.3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22724">[ date ]</a>
              <a href="thread.html#22724">[ thread ]</a>
              <a href="subject.html#22724">[ subject ]</a>
              <a href="author.html#22724">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
