<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Re: best practices; was &quot;is mod_python borked?&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20best%20practices%3B%20was%20%22is%20mod_python%20borked%3F%22&In-Reply-To=E89DA8C8-4F6B-47E2-981E-4216C290D4E0%40dscpl.com.au">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022474.html">
   <LINK REL="Next"  HREF="022478.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Re: best practices; was &quot;is mod_python borked?&quot;</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Jorey Bump</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20best%20practices%3B%20was%20%22is%20mod_python%20borked%3F%22&In-Reply-To=E89DA8C8-4F6B-47E2-981E-4216C290D4E0%40dscpl.com.au"
       TITLE="[mod_python] Re: best practices; was &quot;is mod_python borked?&quot;">list at joreybump.com
       </A><BR>
    <I>Sat Nov  4 14:44:26 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="022474.html">[mod_python] Re: best practices; was &quot;is mod_python borked?&quot;
</A></li>
        <LI>Next message: <A HREF="022478.html">[mod_python] Re: best practices; was &quot;is mod_python borked?&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22476">[ date ]</a>
              <a href="thread.html#22476">[ thread ]</a>
              <a href="subject.html#22476">[ subject ]</a>
              <a href="author.html#22476">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Graham Dumpleton wrote:

&gt;<i> So whereas one should be able to use fixed relative links in a page 
</I>&gt;<i> generated from a __call__() method called by publisher, one is
</I>&gt;<i> instead forced to either make them absolute path links, or
</I>&gt;<i> dynamically determine what the relative link should be by looking at
</I>&gt;<i> the URL and what is determinable about where the point sits in the 
</I>&gt;<i> object hierarchy.
</I>&gt;<i> 
</I>&gt;<i> This issue is further complicated by how publisher automatically maps
</I>&gt;<i> a request against a physical directory when SetHandler is used to the
</I>&gt;<i> index.py file, and when it maps a request against a physical file,
</I>&gt;<i> whether SetHandler or AddHandler is used, against the index() method
</I>&gt;<i> contained within it.
</I>&gt;<i> 
</I>&gt;<i> Not only does one have to deal with the fact that publisher will
</I>&gt;<i> accept a URL with out without a trailing slash and doesn't force a
</I>&gt;<i> trailing slash to be added in appropriate contexts, you end up, as
</I>&gt;<i> explained in the referenced email, with multiple URLs that can map to
</I>&gt;<i> the same resource. If all these URLs were at the same context level
</I>&gt;<i> that wouldn't really matter, but they aren't and have differing 
</I>&gt;<i> numbers of slashes within the URL, further making the process of
</I>&gt;<i> working with relative URLs a mess.
</I>&gt;<i> 
</I>&gt;<i> In summary, the problems I see are publisher not doing the trailing 
</I>&gt;<i> slash redirect where appropriate and how automatic mapping to the
</I>&gt;<i> index file and index function are done resulting in different URLs
</I>&gt;<i> working with different base URL contexts.
</I>
I think you've overlooked another case: Instance attributes or methods 
can be accessed with either slashes or dots as separators:

class Dummy:
     def html(self):
         return &quot;&quot;&quot;&lt;html&gt;
&lt;head&gt;&lt;title&gt;What Am I?&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;&lt;h1&gt;Hello! What am I?&lt;/h1&gt;&lt;/body&gt;
&lt;/html&gt;
&quot;&quot;&quot;

instance = Dummy()

Now we can access the method in multiple ways:

  <A HREF="http://host/dir/module/instance.html">http://host/dir/module/instance.html</A>
  <A HREF="http://host/dir/module/instance/html">http://host/dir/module/instance/html</A>
  <A HREF="http://host/dir/module/instance.html/">http://host/dir/module/instance.html/</A>
  <A HREF="http://host/dir/module/instance/html/">http://host/dir/module/instance/html/</A>

Determining the appropriate context to force a slash suddenly becomes a 
lot trickier. Clearly, there's a use for the dotted notation, not only 
as a way to obscure the technology used, but to replace static content 
without disturbing existing links, provide dynamically generated files 
with appropriate extensions for mime-handicapped browsers, and other 
clever uses best left to the programmer.

I like the flexibility, and I'm happy to handle the details of URL 
creation within my own code. I mostly construct absolute path links, and 
it doesn't seem like that much of a burden. When I do use relative 
links, I determine what resources they are relative to, and try to 
protect the user from ever needing to edit the URL in the browser. If 
someone does, and things break, how is that different from any other 
mistyped URL?

I understand the desire to include better support for relative and 
incorrect links, but it seems the only way to accomplish this 
automatically within Publisher is to introduce a limitation that is sure 
to break existing code (as Graham points out). Some developers really 
*like* to have URLs that never end in slashes, regardless of the 
resource's place in the heirarchy. I wouldn't be happy if Publisher 
suddenly started forcing slashes to appear where I didn't want them.

</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022474.html">[mod_python] Re: best practices; was &quot;is mod_python borked?&quot;
</A></li>
	<LI>Next message: <A HREF="022478.html">[mod_python] Re: best practices; was &quot;is mod_python borked?&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22476">[ date ]</a>
              <a href="thread.html#22476">[ thread ]</a>
              <a href="subject.html#22476">[ subject ]</a>
              <a href="author.html#22476">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
