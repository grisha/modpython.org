<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Apache virtual host, mod_python and Roundup
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Apache%20virtual%20host%2C%20mod_python%20and%20Roundup&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024201.html">
   <LINK REL="Next"  HREF="024199.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Apache virtual host, mod_python and Roundup</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Tonu Mikk</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Apache%20virtual%20host%2C%20mod_python%20and%20Roundup&In-Reply-To="
       TITLE="[mod_python] Apache virtual host, mod_python and Roundup">tmikk at umn.edu
       </A><BR>
    <I>Wed Sep 12 15:16:49 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024201.html">[mod_python] Cheetah / mod_python problem: importing python
	module into cheetah template
</A></li>
        <LI>Next message: <A HREF="024199.html">[mod_python] importing egg format libs installed on a custom path
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24197">[ date ]</a>
              <a href="thread.html#24197">[ thread ]</a>
              <a href="subject.html#24197">[ subject ]</a>
              <a href="author.html#24197">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello, I hope that someone on mod_python mailing list can assist me with the Apache httpd.conf configuration.  I would like to implement Apache virtual hosts with Roundup (<A HREF="http://roundup.sf.net">http://roundup.sf.net</A>) which in turn uses mod_python.

My current httpd.conf configuration does not utilize Virtual hosts and serves following URLs 
<A HREF="http://rounduptest.dmc.umn.edu/roundup/dmc">http://rounduptest.dmc.umn.edu/roundup/dmc</A> and 
<A HREF="http://rounduptest.dmc.umn.edu/roundup/telgrants.">http://rounduptest.dmc.umn.edu/roundup/telgrants.</A>  

I would like to use URLs that would instead look like this:
<A HREF="http://roundup.dmc.umn.edu/">http://roundup.dmc.umn.edu/</A>
<A HREF="http://telgrants.dmc.umn.edu/">http://telgrants.dmc.umn.edu/</A>

The current portion httpd.conf related to Roundup is here.  The directory permissions directives are there to only allow access to the files from within our organization.  


#################################################
# Roundup Issue tracker
#################################################
# enable Python optimizations (like 'python -O')
PythonOptimize On
# let apache handle static files from 'html' directories
AliasMatch /roundup/(.+)/@@file/(.*) C:/roundup/$1/html/$2
# everything else is handled by roundup web UI
AliasMatch /roundup/([^/]+)/(?!@@file/)(.*) C:/roundup/$1/dummy.py/$2
# roundup requires a slash after tracker name - add it if missing
RedirectMatch permanent /roundup/([^/]+)$ /roundup/$1/
# common settings for all roundup trackers
&lt;Directory /&gt;
    Options None
    AllowOverride None
    Order deny,allow
    Deny from all
&lt;/Directory&gt;
&lt;Directory C:/roundup*&gt;
 # Order allow,deny
 # Allow from all
 # AllowOverride None
 # Options None
        AllowOverride None
         Options None
         Order deny,allow
         Deny from all
     Allow from umn.edu
         Allow from 192.168
         Allow from 131.212
         Allow from 128.101
         Allow from 160.94
         Allow from 146.57
         Allow from 134.84
        Allow from localhost
  AddHandler python-program .py
  PythonHandler roundup.cgi.apache
  # uncomment the following line to see tracebacks in the browser
  # (note that *some* tracebacks will be displayed anyway)
  PythonDebug On
&lt;/Directory&gt;
# roundup tracker homes
&lt;Directory C:/roundup/telgrants&gt;
  PythonOption TrackerHome C:/roundup/telgrants
&lt;/Directory&gt;
&lt;Directory C:/roundup/dmc&gt;
  PythonOption TrackerHome C:/roundup/dmc
&lt;/Directory&gt;
#End of section by Tonu

I experimented with virtual directory directives in httpd.config, but did not get them to work properly to serve Roundup pages with short URLs.  Looking at some other examples that people had done in similar situations (as example: <A HREF="http://trac.edgewall.org/wiki/TracModPython">http://trac.edgewall.org/wiki/TracModPython</A>) I realize that I will need mod_python directives inside the virtual host.  I include the Virtual Host directives here to show that I started with.    Would someone be able to translate the directives related to Roundup to the way they should look inside the virtual host?

Thank you,
Tonu

# Virtual hosts
NameVirtualHost 160.94.18.121:80
&lt;VirtualHost 160.94.18.121:80&gt;
ServerName rounduptest.dmc.umn.edu
DocumentRoot C:/roundup/dmc
&lt;/VirtualHost&gt;

&lt;VirtualHost 160.94.18.121:80&gt;
ServerName telgrantstest.dmc.umn.edu
DocumentRoot C:/roundup/telgrants
&lt;/VirtualHost&gt;


</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024201.html">[mod_python] Cheetah / mod_python problem: importing python
	module into cheetah template
</A></li>
	<LI>Next message: <A HREF="024199.html">[mod_python] importing egg format libs installed on a custom path
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24197">[ date ]</a>
              <a href="thread.html#24197">[ thread ]</a>
              <a href="subject.html#24197">[ subject ]</a>
              <a href="author.html#24197">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
