<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Apache 2.2 authen/authz and &quot;require&quot; semantics
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Apache%202.2%20authen/authz%20and%20%22require%22%20semantics&In-Reply-To=28012bc60709240333x2d342c38v7faf9e8fadefc05e%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024243.html">
   <LINK REL="Next"  HREF="024245.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Apache 2.2 authen/authz and &quot;require&quot; semantics</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Apache%202.2%20authen/authz%20and%20%22require%22%20semantics&In-Reply-To=28012bc60709240333x2d342c38v7faf9e8fadefc05e%40mail.gmail.com"
       TITLE="[mod_python] Apache 2.2 authen/authz and &quot;require&quot; semantics">graham.dumpleton at gmail.com
       </A><BR>
    <I>Mon Sep 24 06:46:47 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024243.html">[mod_python] Apache 2.2 authen/authz and &quot;require&quot; semantics
</A></li>
        <LI>Next message: <A HREF="024245.html">[mod_python] Apache 2.2 authen/authz and &quot;require&quot; semantics
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24244">[ date ]</a>
              <a href="thread.html#24244">[ thread ]</a>
              <a href="subject.html#24244">[ subject ]</a>
              <a href="author.html#24244">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 24/09/2007, Arnar Birgisson &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">arnarbi at gmail.com</A>&gt; wrote:
&gt;<i> Hello Graham,
</I>&gt;<i>
</I>&gt;<i> On 9/24/07, Graham Dumpleton &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">graham.dumpleton at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; Does it have to be configurable from Apache configuration, could you
</I>&gt;<i> &gt; just do it all in the Python script?
</I>&gt;<i>
</I>&gt;<i> Yes, I could do it all from a python script - any way that works :)
</I>&gt;<i>
</I>&gt;<i> &gt; So, we don't even use auth/authz for this bit, but just use a fixup handler.
</I>&gt;<i>
</I>&gt;<i> *goes to read about fixup-handlers*
</I>&gt;<i>
</I>&gt;<i> Can I return apache.HTTP_UNAUTHORIZED from a fixup-handler to make the
</I>&gt;<i> browser request username/passwd?
</I>
Technically you can. The issue will be that if you have defined
AuthType etc then the earlier auth handler phase may result in it not
getting that far.

When reading about fixup handlers, the main point to realise is that
for a authen handler you have:

*  Where multiple handlers are specified, if any handler in the
sequence returns a value other than apache.DECLINED, then execution of
all subsequent handlers for this phase are aborted.

For a fixup handler you instead have:

* Where multiple handlers are specified, if any handler in the
sequence returns a value other than apache.OK or apache.DECLINED, then
execution of all subsequent handlers for this phase are aborted.

This is referred to as RUN_FIRST as opposed to RUN_ALL. Ie., run until
first one returns and says it has done something, versus run all until
an error.

The other difference is purely the ordering of the phases and the
notional purpose of each phase.

If you really want to go deeply into understanding the difference, read:

  <A HREF="http://www.fmc-modeling.org/category/projects/apache/amp/4_4Request_Response_Loop.html">http://www.fmc-modeling.org/category/projects/apache/amp/4_4Request_Response_Loop.html</A>

Graham
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024243.html">[mod_python] Apache 2.2 authen/authz and &quot;require&quot; semantics
</A></li>
	<LI>Next message: <A HREF="024245.html">[mod_python] Apache 2.2 authen/authz and &quot;require&quot; semantics
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24244">[ date ]</a>
              <a href="thread.html#24244">[ thread ]</a>
              <a href="subject.html#24244">[ subject ]</a>
              <a href="author.html#24244">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
