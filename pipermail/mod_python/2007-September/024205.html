<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] MODPYTHON-225
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20MODPYTHON-225&In-Reply-To=F6CB2268-175D-46B8-A59F-A653C907BF60%40gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024204.html">
   <LINK REL="Next"  HREF="024206.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] MODPYTHON-225</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20MODPYTHON-225&In-Reply-To=F6CB2268-175D-46B8-A59F-A653C907BF60%40gmail.com"
       TITLE="[mod_python] MODPYTHON-225">graham.dumpleton at gmail.com
       </A><BR>
    <I>Fri Sep 14 04:33:47 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024204.html">[mod_python] MODPYTHON-225
</A></li>
        <LI>Next message: <A HREF="024206.html">[mod_python] MODPYTHON-225
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24205">[ date ]</a>
              <a href="thread.html#24205">[ thread ]</a>
              <a href="subject.html#24205">[ subject ]</a>
              <a href="author.html#24205">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 14/09/2007, Porcari Giovanni &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">giovanni.porcari at gmail.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Il giorno 14/set/07, alle ore 08:49, Graham Dumpleton ha scritto:
</I>&gt;<i>
</I>&gt;<i> &gt; What do you get when run:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;   otool -L mod_python.so
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> MacBookGP:/usr/local/apache2/modules gporcari$ otool -L mod_python.so
</I>&gt;<i> mod_python.so:
</I>&gt;<i>          /usr/lib/libSystem.B.dylib (compatibility version 1.0.0,
</I>&gt;<i> current version 88.1.3)
</I>&gt;<i>          /System/Library/Frameworks/Python.framework/Versions/2.3/
</I>&gt;<i> Python (compatibility version 2.3.0, current version 2.3.5)
</I>
This means mod_python was never correctly compiled against Python 2.5
in the first place.

The basic issue is that your Python 2.5 doesn't appear to be installed
in standard Apple frameworks directory, but somewhere else, eg,
/usr/local. What this means is that you have to modify the mod_python
src/Makefile after having run configure, and modify LDFLAGS, inserting
at the start something like:

  -Wl,-F/some/path/lib

where /some/path/lib is where your Python 2.5 framework library is installed.

This way it will find the correct version of the framework library
when linking and therefore at runtime hopefully also find the correct
one.

If still problems after this change, post the actual compilation
output where it is linking the mod_python.so so can see what option
and path you added. Also show new output from running otool on result.

Graham

BTW, please use reply all some response goes back onto mailing list.

&gt;<i> &gt; In the 'envvars' script file in the same directory as your httpd
</I>&gt;<i> &gt; binary, add:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;   PYTHONEXECUTABLE=/some/path/python
</I>&gt;<i> &gt;   export PYTHONEXECUTABLE
</I>&gt;<i>
</I>&gt;<i> i added:
</I>&gt;<i>
</I>&gt;<i>   PYTHONEXECUTABLE='/usr/local/bin/python'
</I>&gt;<i>    export PYTHONEXECUTABLE
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; where the path is to the Python 2.5 executable.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Stop and then start (not restart) your Apache.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Does that help?
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> still not working :(
</I>&gt;<i>
</I>&gt;<i> G.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; Graham
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On 14/09/2007, Porcari Giovanni &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">giovanni.porcari at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt;&gt; Hi All
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I am in the situation described here:
</I>&gt;<i> &gt;&gt; <A HREF="https://issues.apache.org/jira/browse/MODPYTHON-225">https://issues.apache.org/jira/browse/MODPYTHON-225</A>
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; OSX 10.4.10 - apache 2.2.6 - modpython 3.3.1
</I>&gt;<i> &gt;&gt; I installed python 2.5.1 using binary from python.org.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; the log file says:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; [Fri Sep 14 08:24:35 2007] [error] python_init: Python version
</I>&gt;<i> &gt;&gt; mismatch, expected '2.5.1', found '2.3.5'.
</I>&gt;<i> &gt;&gt; [Fri Sep 14 08:24:35 2007] [error] python_init: Python executable
</I>&gt;<i> &gt;&gt; found '/usr/local/apache2/bin/httpd'.
</I>&gt;<i> &gt;&gt; [Fri Sep 14 08:24:35 2007] [error] python_init: Python path being
</I>&gt;<i> &gt;&gt; used '/System/Library/Frameworks/Python.framework/Versions/2.3/lib/
</I>&gt;<i> &gt;&gt; python23.zip:/System/Library/Frameworks/Python.framework/Versions/
</I>&gt;<i> &gt;&gt; 2.3/
</I>&gt;<i> &gt;&gt; lib/python2.3/:/System/Library/Frameworks/Python.framework/Versions/
</I>&gt;<i> &gt;&gt; 2.3/lib/python2.3/plat-darwin:/System/Library/Frameworks/
</I>&gt;<i> &gt;&gt; Python.framework/Versions/2.3/lib/python2.3/plat-mac:/System/Library/
</I>&gt;<i> &gt;&gt; Frameworks/Python.framework/Versions/2.3/lib/python2.3/plat-mac/lib-
</I>&gt;<i> &gt;&gt; scriptpackages:/System/Library/Frameworks/Python.framework/Versions/
</I>&gt;<i> &gt;&gt; 2.3/lib/python2.3/lib-tk:/System/Library/Frameworks/Python.framework/
</I>&gt;<i> &gt;&gt; Versions/2.3/lib/python2.3/lib-dynload'.
</I>&gt;<i> &gt;&gt; [Fri Sep 14 08:24:35 2007] [notice] mod_python: Creating 8 session
</I>&gt;<i> &gt;&gt; mutexes based on 256 max processes and 0 max threads.
</I>&gt;<i> &gt;&gt; [Fri Sep 14 08:24:35 2007] [notice] mod_python: using
</I>&gt;<i> &gt;&gt; mutex_directory /tmp
</I>&gt;<i> &gt;&gt; [Fri Sep 14 08:24:35 2007] [notice] Apache/2.2.6 (Unix) mod_python/
</I>&gt;<i> &gt;&gt; 3.3.1 Python/2.3.5 configured -- resuming normal operations
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; So it seems that modpython find python 2.3.5 instead of 2.5.1.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; After a lot of attempts and google search i'm giving up :(
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Can you help me ?
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Thank you
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; G.Porcari
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt; Mod_python mailing list
</I>&gt;<i> &gt;&gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> &gt;&gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> &gt;&gt;
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024204.html">[mod_python] MODPYTHON-225
</A></li>
	<LI>Next message: <A HREF="024206.html">[mod_python] MODPYTHON-225
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24205">[ date ]</a>
              <a href="thread.html#24205">[ thread ]</a>
              <a href="subject.html#24205">[ subject ]</a>
              <a href="author.html#24205">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
