<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] mod_python or apache scalability?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20or%20apache%20scalability%3F&In-Reply-To=022001c8040b%2431c20790%24954616b0%24%40com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024273.html">
   <LINK REL="Next"  HREF="024279.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] mod_python or apache scalability?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20or%20apache%20scalability%3F&In-Reply-To=022001c8040b%2431c20790%24954616b0%24%40com"
       TITLE="[mod_python] mod_python or apache scalability?">graham.dumpleton at gmail.com
       </A><BR>
    <I>Mon Oct  1 21:46:46 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024273.html">[mod_python] mod_python or apache scalability?
</A></li>
        <LI>Next message: <A HREF="024279.html">[mod_python] mod_python or apache scalability?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24278">[ date ]</a>
              <a href="thread.html#24278">[ thread ]</a>
              <a href="subject.html#24278">[ subject ]</a>
              <a href="author.html#24278">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 01/10/2007, Alec Matusis &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">matusis at matusis.com</A>&gt; wrote:
&gt;<i> in the apache error log. We also got
</I>&gt;<i>
</I>&gt;<i> kernel: possible SYN flooding on port 80. Sending cookies.
</I>&gt;<i>
</I>&gt;<i> in /var/log/messages system log.
</I>
Have you determined for certain that you aren't the target of an
external SYN Flood DOS attack?

Do a Google search for 'kernel: possible SYN flooding on port 80.
Sending cookies' and you will find lots of stuff to read. Your running
out of or having a large number of socket connections may be
symptomatic of a large number of half open connections being created
and then being left in TIME_WAIT. Thus perhaps do some better analysis
of socket connection states using netstat. If not a SYN Flood, then
possibly follow some of the other suggestions in the pages you will
find when you do the search.

FWIW, I personally would try and move from prefork to worker MPM as
the number of Apache child processes you are running with is to my
mind excessive. Using worker would certainly drop memory usage for a
start as you wouldn't need as many child processes to be started. I
wouldn't be concerned about running out of threads as when running
worker I wouldn't suggest more than 25 threads per process as a
starting point anyway. If your mod_python application was creating
lots of threads, you are likely to hit the thread limit with prefork
and not just worker so which MPM is used shouldn't be an issue in that
case.

BTW, what operating system are you using?

Graham
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024273.html">[mod_python] mod_python or apache scalability?
</A></li>
	<LI>Next message: <A HREF="024279.html">[mod_python] mod_python or apache scalability?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24278">[ date ]</a>
              <a href="thread.html#24278">[ thread ]</a>
              <a href="subject.html#24278">[ subject ]</a>
              <a href="author.html#24278">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
