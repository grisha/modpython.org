<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python]  apache API and mod_python &lt;-&gt; protocol module
 integration
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20%20apache%20API%20and%20mod_python%20%3C-%3E%20protocol%20module%0A%20integration&In-Reply-To=004d01c34bde%2498310c40%2424c0c20a%40computer">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010270.html">
   <LINK REL="Next"  HREF="010278.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
<table border=0 width="100%"><tr><td valign="top">
   <H1>[mod_python]  apache API and mod_python &lt;-&gt; protocol module
 integration</H1>
    <B>Gregory (Grisha) Trubetskoy</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20%20apache%20API%20and%20mod_python%20%3C-%3E%20protocol%20module%0A%20integration&In-Reply-To=004d01c34bde%2498310c40%2424c0c20a%40computer"
       TITLE="[mod_python]  apache API and mod_python &lt;-&gt; protocol module
 integration">grisha at modpython.org
       </A><BR>
    <I>Wed Jul 16 23:20:22 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="010270.html">[mod_python]  apache API and mod_python &lt;-&gt; protocol module
	integration
</A></li>
        <LI>Next message: <A HREF="010278.html">[mod_python]  apache API and mod_python &lt;-&gt; protocol module
	integration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10274">[ date ]</a>
              <a href="thread.html#10274">[ thread ]</a>
              <a href="subject.html#10274">[ subject ]</a>
              <a href="author.html#10274">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
There is some sort of an error in your code, but because of a bug that was
fixed earlier your mod_python doesn't log the error in the log correctly.

Attached is another patch, this time to apache.py, that should log the
error correctly.

Grisha

On Wed, 16 Jul 2003, fitnah55 wrote:

&gt;<i>
</I>&gt;<i> duh.. add the port to listen
</I>&gt;<i>
</I>&gt;<i> heh
</I>&gt;<i>
</I>&gt;<i> coincidentally, i don't think the echo example is working
</I>&gt;<i>
</I>&gt;<i> [Tue Jul 15 13:03:18 2003] [error] python_connection:
</I>&gt;<i> ConnectionDispatch() returned nothing.
</I>&gt;<i>
</I>&gt;<i> hmm
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>-------------- next part --------------
--- apache.py	12 Jul 2003 02:40:45 -0000	1.70
+++ apache.py	16 Jul 2003 20:23:24 -0000	1.71
@@ -54,7 +54,7 @@
  #
  # Originally developed by Gregory Trubetskoy.
  #
- # $Id: apache.py,v 1.70 2003/07/12 02:40:45 grisha Exp $
+ # $Id: apache.py,v 1.71 2003/07/16 20:23:24 grisha Exp $
 
 import sys
 import traceback
@@ -103,7 +103,7 @@
         try:
 
             handler = conn.hlist.handler
-            
+
             # split module::handler
             l = handler.split('::', 1)
             module_name = l[0]
@@ -115,7 +115,7 @@
 
             # add the directory to pythonpath if
             # not there yet, or pythonpath specified
-            
+
             if config.has_key(&quot;PythonPath&quot;):
                 # we want to do as little evaling as possible,
                 # so we remember the path in un-evaled form and
@@ -161,7 +161,8 @@
             try:
                 exc_type, exc_value, exc_traceback = sys.exc_info()
                 result = self.ReportError(exc_type, exc_value, exc_traceback, srv=conn.base_server,
-                                          phase=filter.name, hname=handler, debug=debug)
+                                          phase=&quot;ConnectionHandler&quot;,
+                                          hname=handler, debug=debug)
             finally:
                 exc_traceback = None
 
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010270.html">[mod_python]  apache API and mod_python &lt;-&gt; protocol module
	integration
</A></li>
	<LI>Next message: <A HREF="010278.html">[mod_python]  apache API and mod_python &lt;-&gt; protocol module
	integration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10274">[ date ]</a>
              <a href="thread.html#10274">[ thread ]</a>
              <a href="subject.html#10274">[ subject ]</a>
              <a href="author.html#10274">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
