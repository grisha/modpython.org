<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python]  apache API and mod_python &lt;-&gt; protocol module
	integration
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20%20apache%20API%20and%20mod_python%20%3C-%3E%20protocol%20module%0A%09integration&In-Reply-To=20030716134923.B92465%40onyx.ispol.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010275.html">
   <LINK REL="Next"  HREF="010270.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
<table border=0 width="100%"><tr><td valign="top">
   <H1>[mod_python]  apache API and mod_python &lt;-&gt; protocol module
	integration</H1>
    <B>fitnah55</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20%20apache%20API%20and%20mod_python%20%3C-%3E%20protocol%20module%0A%09integration&In-Reply-To=20030716134923.B92465%40onyx.ispol.com"
       TITLE="[mod_python]  apache API and mod_python &lt;-&gt; protocol module
	integration">fitnah55 at hotmail.com
       </A><BR>
    <I>Wed Jul 16 17:00:43 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="010275.html">[mod_python] Getting access to a file from a post.
</A></li>
        <LI>Next message: <A HREF="010270.html">[mod_python]  apache API and mod_python &lt;-&gt; protocol module
	integration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10269">[ date ]</a>
              <a href="thread.html#10269">[ thread ]</a>
              <a href="subject.html#10269">[ subject ]</a>
              <a href="author.html#10269">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
hey..

how do i get the connectionhandler to work properly under a virtual host
and/or
just for a particular port?

everything is running off of a single IP address through about 5 domains
and 20 virtual hosts..

i need telnet access potentially across all of the hosts

all of this from the single application framework




&gt;<i> -----Original Message-----
</I>&gt;<i> From: Gregory (Grisha) Trubetskoy [mailto:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">grisha at modpython.org</A>] 
</I>&gt;<i> Sent: Wednesday, July 16, 2003 2:00 PM
</I>&gt;<i> To: Robert Sanderson
</I>&gt;<i> Cc: k d; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
</I>&gt;<i> Subject: Re: [mod_python] apache API and mod_python &lt;-&gt; 
</I>&gt;<i> protocol module integration
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Wed, 16 Jul 2003, Robert Sanderson wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; &gt; the basic idea is that apache2 by default accepts http 
</I>&gt;<i> like connections,
</I>&gt;<i> &gt; &gt; which aren't conducive to the synchronous communication 
</I>&gt;<i> of telnet..
</I>&gt;<i> 
</I>&gt;<i> There is an example of a simple echo module here:
</I>&gt;<i> 
</I><A HREF="http://www.modpython.org/live/current/doc-html/pyapi-conn.html">http://www.modpython.org/live/current/doc-html/pyapi-conn.html</A>

&gt;<i> &gt; keep-alive is vaguely similar but not good enough for the purposes
</I>of
&gt;<i> &gt; allowing a telnet or pop/3 gateway
</I>&gt;<i>
</I>&gt;<i> Currently, as I found when implementing Z39.50, it's a real pain as
</I>&gt;<i> there's no way to read in all available data, and if you try to read
</I>past
&gt;<i> the end of the available data the read will block.
</I>
This is not a problem of mod_python or Apache, this is the way sockets
work. If your protocol is such that you know ahead of time how much to
read (e.g. HTTP), then you can request this much data in one read.
Otherwise, you must read in smallest unit sizes of your protocol, which
(I'm guessing) is 1 byte in case of Z39.50.

&gt;<i> This makes it useless for something like (say) an IRC or MUD style
</I>&gt;<i> server where there might be data flowing in either direction at any
</I>&gt;<i> given time.  Mod_Perl on the other hand has a better system:
</I>&gt;<i> <A HREF="http://perl.apache.org/docs/2.0/user/handlers/protocols.html">http://perl.apache.org/docs/2.0/user/handlers/protocols.html</A>
</I>
Mod_perl doesn't do it any differently (unless I'm missing something). I
don't think implementing an IRC or MUD server in mod_perl is going to be
any different.

BTW, if using Apache is not a requirement, then doing something like
this
might be easier in twisted (twistedmatrix.com).

Grisha
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010275.html">[mod_python] Getting access to a file from a post.
</A></li>
	<LI>Next message: <A HREF="010270.html">[mod_python]  apache API and mod_python &lt;-&gt; protocol module
	integration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10269">[ date ]</a>
              <a href="thread.html#10269">[ thread ]</a>
              <a href="subject.html#10269">[ subject ]</a>
              <a href="author.html#10269">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
