<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python]  apache API and mod_python &lt;-&gt; protocol module
 integration
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20%20apache%20API%20and%20mod_python%20%3C-%3E%20protocol%20module%0A%20integration&In-Reply-To=Pine.LNX.4.44.0307161709550.2478-100000%40gondolin.hist.liv.ac.uk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006567.html">
   <LINK REL="Next"  HREF="006569.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python]  apache API and mod_python &lt;-&gt; protocol module
 integration</H1>
    <B>Gregory (Grisha) Trubetskoy</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20%20apache%20API%20and%20mod_python%20%3C-%3E%20protocol%20module%0A%20integration&In-Reply-To=Pine.LNX.4.44.0307161709550.2478-100000%40gondolin.hist.liv.ac.uk"
       TITLE="[mod_python]  apache API and mod_python &lt;-&gt; protocol module
 integration">grisha at modpython.org
       </A><BR>
    <I>Wed Jul 16 13:59:58 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="006567.html">[mod_python]  apache API and mod_python &lt;-&gt; protocol module
	integration
</A></li>
        <LI>Next message: <A HREF="006569.html">[mod_python]  apache API and mod_python &lt;-&gt; protocol module
	integration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6568">[ date ]</a>
              <a href="thread.html#6568">[ thread ]</a>
              <a href="subject.html#6568">[ subject ]</a>
              <a href="author.html#6568">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<table border=0 width="100%"><tr><td>
<!--beginarticle-->
<PRE>

On Wed, 16 Jul 2003, Robert Sanderson wrote:

&gt;<i> &gt; the basic idea is that apache2 by default accepts http like connections,
</I>&gt;<i> &gt; which aren't conducive to the synchronous communication of telnet..
</I>
There is an example of a simple echo module here:

<A HREF="http://www.modpython.org/live/current/doc-html/pyapi-conn.html">http://www.modpython.org/live/current/doc-html/pyapi-conn.html</A>

&gt;<i> &gt; keep-alive is vaguely similar but not good enough for the purposes of
</I>&gt;<i> &gt; allowing a telnet or pop/3 gateway
</I>&gt;<i>
</I>&gt;<i> Currently, as I found when implementing Z39.50, it's a real pain as
</I>&gt;<i> there's no way to read in all available data, and if you try to read past
</I>&gt;<i> the end of the available data the read will block.
</I>
This is not a problem of mod_python or Apache, this is the way sockets
work. If your protocol is such that you know ahead of time how much to
read (e.g. HTTP), then you can request this much data in one read.
Otherwise, you must read in smallest unit sizes of your protocol, which
(I'm guessing) is 1 byte in case of Z39.50.

&gt;<i> This makes it useless for something like (say) an IRC or MUD style
</I>&gt;<i> server where there might be data flowing in either direction at any
</I>&gt;<i> given time.  Mod_Perl on the other hand has a better system:
</I>&gt;<i> <A HREF="http://perl.apache.org/docs/2.0/user/handlers/protocols.html">http://perl.apache.org/docs/2.0/user/handlers/protocols.html</A>
</I>
Mod_perl doesn't do it any differently (unless I'm missing something). I
don't think implementing an IRC or MUD server in mod_perl is going to be
any different.

BTW, if using Apache is not a requirement, then doing something like this
might be easier in twisted (twistedmatrix.com).

Grisha
</PRE>
<!--endarticle-->
</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006567.html">[mod_python]  apache API and mod_python &lt;-&gt; protocol module
	integration
</A></li>
	<LI>Next message: <A HREF="006569.html">[mod_python]  apache API and mod_python &lt;-&gt; protocol module
	integration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6568">[ date ]</a>
              <a href="thread.html#6568">[ thread ]</a>
              <a href="subject.html#6568">[ subject ]</a>
              <a href="author.html#6568">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
