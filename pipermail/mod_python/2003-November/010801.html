<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Wierd pyPGSQL stuff with mod_python 3.1.2b
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Wierd%20pyPGSQL%20stuff%20with%20mod_python%203.1.2b&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010795.html">
   <LINK REL="Next"  HREF="010807.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
<table border=0 width="100%"><tr><td valign="top">
   <H1>[mod_python] Wierd pyPGSQL stuff with mod_python 3.1.2b</H1>
    <B>Julian Ciccale</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Wierd%20pyPGSQL%20stuff%20with%20mod_python%203.1.2b&In-Reply-To="
       TITLE="[mod_python] Wierd pyPGSQL stuff with mod_python 3.1.2b">jciccale at mac.com
       </A><BR>
    <I>Mon Nov 24 09:32:57 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="010795.html">[mod_python] mod_dav phases question
</A></li>
        <LI>Next message: <A HREF="010807.html">[mod_python] Wierd pyPGSQL stuff with mod_python 3.1.2b
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10801">[ date ]</a>
              <a href="thread.html#10801">[ thread ]</a>
              <a href="subject.html#10801">[ subject ]</a>
              <a href="author.html#10801">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Which python version are you using?

Are you sure the python interpreter that you use from the command line and the one that gets called wihthin httpd are the same?

Check it with
import sys
print sys.version


On Monday, November 24, 2003, at 07:02AM, Keith Randall &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">randallk at cpsc.ucalgary.ca</A>&gt; wrote:

&gt;<i>
</I>&gt;<i>Hi,
</I>&gt;<i>
</I>&gt;<i>I have a script that works fine with mod_python 2.7.8 + apache 1.3.28,
</I>&gt;<i>and I want to run it under apache 2.0.48 with mod_python 3.1.2b for
</I>&gt;<i>the session handling stuff.
</I>&gt;<i>
</I>&gt;<i>When I try to connect to my postgresql database in the following way:
</I>&gt;<i>
</I>&gt;<i>from pyPgSQL import PgSQL
</I>&gt;<i>pdb = PgSQL.connect( host = 'foo' , port='5432',database='foo',user='joe')
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Apache error_log says:
</I>&gt;<i>
</I>&gt;<i>PythonHandler mod_python.publisher: AttributeError: 'module' object has no attribute 'connect'
</I>&gt;<i>
</I>&gt;<i>and indeed when I do a dir(pgSQL), it lists the postgres-python datatypes but no connect function.
</I>&gt;<i>When I do the same outside apache/mod_python I can see the connect function.
</I>&gt;<i>
</I>&gt;<i>Any thoughts?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>dir(PgSQL)
</I>&gt;<i>running within mod_python:
</I>&gt;<i>
</I>&gt;<i>['BooleanType', 'BufferType', 'BuiltinFunctionType',
</I>&gt;<i>'BuiltinMethodType', 'ClassType', 'CodeType', 'ComplexType',
</I>&gt;<i>'DateTime', 'DictProxyType', 'DictType', 'DictionaryType',
</I>&gt;<i>'EllipsisType', 'FileType', 'FloatType', 'FrameType', 'FunctionType',
</I>&gt;<i>'GeneratorType', 'InstanceType', 'IntType', 'LambdaType', 'ListType',
</I>&gt;<i>'LongType', 'MethodType', 'ModuleType', 'NoneType',
</I>&gt;<i>'NotImplementedType', 'ObjectType', 'SliceType', 'StringType',
</I>&gt;<i>'StringTypes', 'TracebackType', 'TupleType', 'TypeType',
</I>&gt;<i>'UnboundMethodType', 'UnicodeType', 'XRangeType', '__builtins__',
</I>&gt;<i>'__doc__', '__file__', '__name__', 'copy', 'getdefaultencoding',
</I>&gt;<i>'getrefcount', 'new', 'noWeakRef', 're', 'string', 'sys', 'weakref']
</I>&gt;<i>
</I>&gt;<i>dir(PgSQL)
</I>&gt;<i>running outside mod_python:
</I>&gt;<i>
</I>&gt;<i>['BAD_RESPONSE', 'BINARY', 'BOOLEAN', 'BooleanType', 'BufferType',
</I>&gt;<i>'BuiltinFunctionType', 'BuiltinMethodType', 'COMMAND_OK',
</I>&gt;<i>'CONNECTION_BAD', 'CONNECTION_OK', 'COPY_IN', 'COPY_OUT', 'ClassType',
</I>&gt;<i>'CodeType', 'ComplexType', 'Connection', 'Cursor', 'DATETIME',
</I>&gt;<i>'DBAPITypeObject', 'DataError', 'DatabaseError', 'Date',
</I>&gt;<i>'DateFromTicks', 'DateTime', 'DateTimeDelta', 'DateTimeDeltaType',
</I>&gt;<i>'DateTimeType', 'DictProxyType', 'DictType', 'DictionaryType',
</I>&gt;<i>'EMPTY_QUERY', 'EllipsisType', 'Error', 'FATAL_ERROR', 'FileType',
</I>&gt;<i>'FloatType', 'FrameType', 'FunctionType', 'GeneratorType',
</I>&gt;<i>'HAVE_LONG_LONG_SUPPORT', 'INV_READ', 'INV_SEEK_CUR', 'INV_SEEK_END',
</I>&gt;<i>'INV_SEEK_SET', 'INV_WRITE', 'InstanceType', 'IntType',
</I>&gt;<i>'IntegrityError', 'InterfaceError', 'InternalError', 'LambdaType',
</I>&gt;<i>'ListType', 'LongType', 'MethodType', 'ModuleType', 'NONFATAL_ERROR',
</I>&gt;<i>'NUMBER', 'NoneType', 'NotImplementedType', 'NotSupportedError',
</I>&gt;<i>'OTHER', 'ObjectType', 'OperationalError', 'PG_ABSTIME', 'PG_ACLITEM',
</I>&gt;<i>'PG_BIGINT', 'PG_BLOB', 'PG_BOOL', 'PG_BOX', 'PG_BPCHAR', 'PG_BYTEA',
</I>&gt;<i>'PG_CASH', 'PG_CHAR', 'PG_CID', 'PG_CIDR', 'PG_CIRCLE', 'PG_DATE',
</I>&gt;<i>'PG_FLOAT', 'PG_FLOAT4', 'PG_FLOAT8', 'PG_False', 'PG_INET',
</I>&gt;<i>'PG_INT2', 'PG_INT2VECTOR', 'PG_INT4', 'PG_INT8', 'PG_INTEGER',
</I>&gt;<i>'PG_INTERVAL', 'PG_LINE', 'PG_LSEG', 'PG_MACADDR', 'PG_MONEY',
</I>&gt;<i>'PG_NAME', 'PG_NUMERIC', 'PG_OID', 'PG_OIDVECTOR', 'PG_PATH',
</I>&gt;<i>'PG_POINT', 'PG_POLYGON', 'PG_REFCURSOR', 'PG_REGPROC', 'PG_RELTIME',
</I>&gt;<i>'PG_ROWID', 'PG_SMALLINT', 'PG_TEXT', 'PG_TID', 'PG_TIME',
</I>&gt;<i>'PG_TIMESTAMP', 'PG_TIMESTAMPTZ', 'PG_TIMETZ', 'PG_TINTERVAL',
</I>&gt;<i>'PG_True', 'PG_UNKNOWN', 'PG_VARBIT', 'PG_VARCHAR', 'PG_XID',
</I>&gt;<i>'PG_ZPBIT', 'POLLING_ACTIVE', 'POLLING_FAILED', 'POLLING_OK',
</I>&gt;<i>'POLLING_READING', 'POLLING_WRITING', 'PQconndefaults', 'PQconnectdb',
</I>&gt;<i>'PQftypeName', 'PQresStatus', 'PQresType', 'PgArray', 'PgBoolean',
</I>&gt;<i>'PgBooleanFromInteger', 'PgBooleanFromString', 'PgBooleanType',
</I>&gt;<i>'PgBytea', 'PgConnectionType', 'PgInt2', 'PgInt2Type', 'PgInt8',
</I>&gt;<i>'PgInt8Type', 'PgLargeObject', 'PgLargeObjectType', 'PgMoney',
</I>&gt;<i>'PgNumeric', 'PgOther', 'PgQuoteBytea', 'PgQuoteString',
</I>&gt;<i>'PgResultSet', 'PgResultType', 'PgTypes', 'PgUnQuoteBytea',
</I>&gt;<i>'PgVersion', 'PgVersionType', 'ProgrammingError', 'RESULT_DDL',
</I>&gt;<i>'RESULT_DML', 'RESULT_DQL', 'RESULT_EMPTY', 'RESULT_ERROR', 'ROWID',
</I>&gt;<i>'STRING', 'SliceType', 'StringType', 'StringTypes', 'TUPLES_OK',
</I>&gt;<i>'Time', 'TimeFromTicks', 'Timestamp', 'TimestampFromTicks',
</I>&gt;<i>'TracebackType', 'TupleType', 'TypeCache', 'TypeType',
</I>&gt;<i>'UnboundMethodType', 'UnicodeType', 'Warning', 'XRangeType',
</I>&gt;<i>'__builtins__', '__doc__', '__file__', '__name__', '_handleArray',
</I>&gt;<i>'_quote', '_quoteall', 'apilevel', 'connect', 'copy',
</I>&gt;<i>'dateTimeDelta2Interval', 'fetchReturnsList', 'getdefaultencoding',
</I>&gt;<i>'getrefcount', 'libpq', 'make_PgResultSetClass', 'new',
</I>&gt;<i>'noPostgresCursor', 'noWeakRef', 'paramstyle', 're', 're_4UP',
</I>&gt;<i>'re_DQL', 're_DRI', 're_DRT', 'replace', 'string', 'sys',
</I>&gt;<i>'threadsafety', 'version', 'weakref']
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>httpd.conf:
</I>&gt;<i>
</I>&gt;<i>LoadModule python_module /var/www2/modules/mod_python.so
</I>&gt;<i>&lt;Directory /var/www2/htdocs/billing&gt;  
</I>&gt;<i>SetHandler python-program
</I>&gt;<i>PythonHandler mod_python.publisher
</I>&gt;<i>&lt;/Directory&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>Mod_python mailing list
</I>&gt;<i><A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i><A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010795.html">[mod_python] mod_dav phases question
</A></li>
	<LI>Next message: <A HREF="010807.html">[mod_python] Wierd pyPGSQL stuff with mod_python 3.1.2b
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10801">[ date ]</a>
              <a href="thread.html#10801">[ thread ]</a>
              <a href="subject.html#10801">[ subject ]</a>
              <a href="author.html#10801">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
