<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Form-based authentication using mod_puthon / Apache
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Form-based%20authentication%20using%20mod_puthon%20/%20Apache&In-Reply-To=C0FC22C08B82074A88B500617641577787A7CB%40johnson.mediapulse.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003417.html">
   <LINK REL="Next"  HREF="003421.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Form-based authentication using mod_puthon / Apache</H1>
    <B>Joao S. O. Bueno</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Form-based%20authentication%20using%20mod_puthon%20/%20Apache&In-Reply-To=C0FC22C08B82074A88B500617641577787A7CB%40johnson.mediapulse.net"
       TITLE="[mod_python] Form-based authentication using mod_puthon / Apache">gwidion at mpc.com.br
       </A><BR>
    <I>Tue Nov 25 00:32:40 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="003417.html">[mod_python] Form-based authentication using mod_puthon / Apache
</A></li>
        <LI>Next message: <A HREF="003421.html">[mod_python] PSP imports
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3420">[ date ]</a>
              <a href="thread.html#3420">[ thread ]</a>
              <a href="subject.html#3420">[ subject ]</a>
              <a href="author.html#3420">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Monday 24 November 2003 16:55, Michael C. Neel wrote:

&gt;<i> 1.  base64 decode it, and check our md5 sig
</I>&gt;<i> 2.  ungzip the string and parse it back to it's object/string form
</I>&gt;<i> 3.  make sure the IP, user-agent match the current request
</I>&gt;<i> 4.  make sure the timestamp is within our limit for a login
</I>&gt;<i>
</I>&gt;<i> Now even if someone gets a copy of the cookie, if they don't know
</I>&gt;<i> the MD5 key they can't alter it.  Most likely their ip and or
</I>&gt;<i> user-agent won't match either, but if it does the odds are the
</I>&gt;<i> timeout may have been reached already, esp if it's kept low like 5
</I>&gt;<i> or 10 minutes.
</I>&gt;<i>
</I>&gt;<i> Mike
</I>

Wow...I got it all right without asking.
&gt;<i>From everything you wrote, the only thing I did not do was: encode the 
</I>user agent string - I just used the client IP.
And I did not use GZIP because the MD5 hash has got a fixed length.

Oh..no..let's see...it is a bit different, what I had done:
1) pick up login time, client IP, server side Key, random session ID 
strings and save them server side
2) generate a MD5 hash from the above and use it as a cookie.
3) at each page load, pick the cookie, and compare it with one 
regenerated from strings saved on the server side, (and client IP). 
If there is no time out, and the hashed strings matched, serve the 
page.


Again, I am not  using mod_python's sessions because I am restricted 
to mod_python 2.7.x for this project.

Regards,

	JS
	-&gt;&lt;-




</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003417.html">[mod_python] Form-based authentication using mod_puthon / Apache
</A></li>
	<LI>Next message: <A HREF="003421.html">[mod_python] PSP imports
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3420">[ date ]</a>
              <a href="thread.html#3420">[ thread ]</a>
              <a href="subject.html#3420">[ subject ]</a>
              <a href="author.html#3420">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
