<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Persist database conn,
	or pers. variables - where I put them ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Persist%20database%20conn%2C%0A%09or%20pers.%20variables%20-%20where%20I%20put%20them%20%3F&In-Reply-To=200609270955.27051.sdavis2%40mail.nih.gov">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022133.html">
   <LINK REL="Next"  HREF="022147.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Persist database conn,
	or pers. variables - where I put them ?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Richard Lewis</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Persist%20database%20conn%2C%0A%09or%20pers.%20variables%20-%20where%20I%20put%20them%20%3F&In-Reply-To=200609270955.27051.sdavis2%40mail.nih.gov"
       TITLE="[mod_python] Persist database conn,
	or pers. variables - where I put them ?">richardlewis at fastmail.co.uk
       </A><BR>
    <I>Wed Sep 27 10:04:56 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="022133.html">[mod_python] Persist database conn,
	or pers. variables - where I put them ?
</A></li>
        <LI>Next message: <A HREF="022147.html">[mod_python] Persist database conn,	or pers. variables - where
	I put them ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22134">[ date ]</a>
              <a href="thread.html#22134">[ thread ]</a>
              <a href="subject.html#22134">[ subject ]</a>
              <a href="author.html#22134">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wednesday 27 September 2006 14:55, Sean Davis wrote:
&gt;<i> On Wednesday 27 September 2006 09:16, Fredrik Sandin wrote:
</I>&gt;<i> &gt; I asked the same question some time ago:
</I>&gt;<i> &gt; <A HREF="http://modpython.org/pipermail/mod_python/2006-August/021924.html">http://modpython.org/pipermail/mod_python/2006-August/021924.html</A>
</I>&gt;<i> &gt; Graham Dumpleton suggested to use XML-RPC.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; As far as I have understood mod_python, or actually Apache, was
</I>&gt;<i> &gt; not designed to allow for object persistency.
</I>&gt;<i>
</I>&gt;<i> Is this actually true (at least the Apache part)?  Under mod_perl (I'm a
</I>&gt;<i> mod_python total newbie), object persistence can be accomplished in several
</I>&gt;<i> ways including global variables that remain in shared memory (but this is
</I>&gt;<i> only within a single child), a database, in an in-memory or on-disk cache,
</I>&gt;<i> or in a session (just an interface to a cache or database).  Depends on
</I>&gt;<i> your definition, but Apache, it seems to me, is absolutely suited to allow
</I>&gt;<i> object persistence.
</I>&gt;<i>
</I>Persistance is all right: you can use global variables as you suggested.

The problem comes at tidying up time. Apache provides no method of performing 
operations when the server shuts down. This is especially relevant with 
things like open database connections and is probably why the original poster 
was talking about XML-RPC. A workable solution is to open your database 
connections in a separate process to Apache/mod_python and connect via a 
local socket or with something like XML-RPC or with 
<A HREF="http://sourceforge.net/projects/sqlrelay">http://sourceforge.net/projects/sqlrelay</A>

Cheers,
Richard
-- 
-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
Richard Lewis
Sonic Arts Research Archive
<A HREF="http://www.sara.uea.ac.uk/">http://www.sara.uea.ac.uk/</A>
JID: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">ironchicken at jabber.earth.li</A>
-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022133.html">[mod_python] Persist database conn,
	or pers. variables - where I put them ?
</A></li>
	<LI>Next message: <A HREF="022147.html">[mod_python] Persist database conn,	or pers. variables - where
	I put them ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22134">[ date ]</a>
              <a href="thread.html#22134">[ thread ]</a>
              <a href="subject.html#22134">[ subject ]</a>
              <a href="author.html#22134">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
