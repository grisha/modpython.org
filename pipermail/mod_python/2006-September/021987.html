<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] errors in default mod_python docs for 3.2.10
	publisher setup
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20errors%20in%20default%20mod_python%20docs%20for%203.2.10%0A%09publisher%20setup&In-Reply-To=44F7948C.8090405%40houghton.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021988.html">
   <LINK REL="Next"  HREF="021989.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] errors in default mod_python docs for 3.2.10
	publisher setup</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20errors%20in%20default%20mod_python%20docs%20for%203.2.10%0A%09publisher%20setup&In-Reply-To=44F7948C.8090405%40houghton.net"
       TITLE="[mod_python] errors in default mod_python docs for 3.2.10
	publisher setup">grahamd at dscpl.com.au
       </A><BR>
    <I>Fri Sep  1 21:30:47 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021988.html">[mod_python] threads and FreeBSD: LD_PRELOAD=/usr/lib/libc_r.so
	the	same as --enable-threads?
</A></li>
        <LI>Next message: <A HREF="021989.html">[mod_python] Re: Mod_python Digest, Vol 42, Issue 4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21987">[ date ]</a>
              <a href="thread.html#21987">[ thread ]</a>
              <a href="subject.html#21987">[ subject ]</a>
              <a href="author.html#21987">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 01/09/2006, at 12:01 PM, Blair P. Houghton wrote:

&gt;<i> I happened to get frustrated enough to plug the right magic
</I>&gt;<i> into the right search box (the one at <A HREF="http://modpython.org/,">http://modpython.org/,</A>
</I>&gt;<i> as Google wasn't helping) and found the answer to the reason
</I>&gt;<i> that /my/ publisher setup wasn't finding my scripts.  The answer
</I>&gt;<i> is that the setup I was following from the 3.2.10 doc tree is
</I>&gt;<i> incomplete, and doesn't say that the URI for a publisher-mediated
</I>&gt;<i> script has to include the name of the method being invoked.
</I>
It does, in as much as the example shows that is the case. It just does
not spell it out in words as a requirement. Ie., it always uses  
&quot;form.py/email&quot;.

&gt;<i> I.e., this document is inadequate:
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.modpython.org/live/mod_python-3.2.10/doc-html/tut-pub.html">http://www.modpython.org/live/mod_python-3.2.10/doc-html/tut-pub.html</A>
</I>&gt;<i>
</I>&gt;<i> the three .conf lines are correct, but the description omits the
</I>&gt;<i> correct URI formula.  Just browsing to <A HREF="http://domain/path/script">http://domain/path/script</A>
</I>&gt;<i> or <A HREF="http://domain/path/script.py">http://domain/path/script.py</A> gets a 404 error, while
</I>&gt;<i> <A HREF="http://domain/path/script.py/handler">http://domain/path/script.py/handler</A> works fine.
</I>
Referencing just the script and no function name will work provided that
the code file contains a function called index().

That you use a name &quot;handler&quot; suggests you are getting a bit muddled
with the difference between basic mod_python handlers, where response
handler is always called handler() and name of function doesn't need  
to be
in the URL and mod_python.publisher where with the exception of index(),
the function does have to be in the URL.

&gt;<i> Note that the
</I>&gt;<i> '.py' suffix must be included also.
</I>
Not necessarily. Whether this is the case will depend on how Apache is
configured for MultiViews. Try the configuration:

   AddHandler mod_python .py
   PythonHandler mod_python.publisher
   PythonDebug On

   Options +MultiViews
   MultiviewsMatch Handlers

   AddType text/html;qs=1.0 .py
   AddType text/html;qs=0.9 .html
   AddType text/plain;qs=0.8 .txt

On mod_python web site, do searches for &quot;MultiViews MultiviewsMatch&quot; and
&quot;MultiviewsMatch DirectoryIndex&quot; for other discussions on this topic.  
Ones
which include most are probably:

   <A HREF="http://www.modpython.org/pipermail/mod_python/2006-June/021435.html">http://www.modpython.org/pipermail/mod_python/2006-June/021435.html</A>
   <A HREF="http://www.modpython.org/pipermail/mod_python/2006-March/020501.html">http://www.modpython.org/pipermail/mod_python/2006-March/020501.html</A>

&gt;<i> This document has a different .conf, but does give
</I>&gt;<i> the correct instructions for the URI:
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.modpython.org/live/current/doc-html/hand-pub-intro.html">http://www.modpython.org/live/current/doc-html/hand-pub-intro.html</A>
</I>&gt;<i>
</I>&gt;<i> Okay.  For grins I just tried the second .conf setup, and
</I>&gt;<i> now it works with or without the '.py' suffix, but the
</I>&gt;<i> handler name is still required.*
</I>&gt;<i>
</I>&gt;<i> I have not tested any PATH environment-variable variations.  I do  
</I>&gt;<i> know that I have one installation (the XAMPP bundle on Win XP) that  
</I>&gt;<i> does not need any explicit Python elements in the PATH at all.  How  
</I>&gt;<i> that works I don't know.  But this one (the DeveloperSide.net  
</I>&gt;<i> bundle, with mod_python added on afterward...I forget whose  
</I>&gt;<i> mod_python build it was, I'm pretty sure I got it from a  
</I>&gt;<i> modpython.org mirror).
</I>&gt;<i>
</I>&gt;<i> I believe that the document from the live/current tree should be  
</I>&gt;<i> moved to the document in the live/mod_python-
</I>&gt;<i> 3.2.10 tree ASAP so that people won't be caught by this any more.
</I>
Those two trees are the same document, just different parts of the  
same document.
Both AddHandler and SetHandler approaches can work, but they are used  
for
different reasons.

Graham

&gt;<i> I'd do it myself but I'm not even sure that this email will get  
</I>&gt;<i> through so I'm not quite up to speed on monkeying around the  
</I>&gt;<i> project files, nor even if they're modifiable by mod_python newbs.   
</I>&gt;<i> Another of the pleasures of open source.
</I>&gt;<i>
</I>&gt;<i> --Blair
</I>&gt;<i>
</I>&gt;<i> * - here are the significant lines from the working .conf:
</I>&gt;<i>
</I>&gt;<i>  LoadModule python_module modules/mod_python.so
</I>&gt;<i>
</I>&gt;<i>  &amp;lt;Directory /www/webroot&gt;
</I>&gt;<i>    SetHandler mod_python    PythonHandler mod_python.publisher
</I>&gt;<i>  &amp;lt;/Directory&gt;
</I>&gt;<i>
</I>&gt;<i> The path &quot;modules/mod_python.so&quot; is
</I>&gt;<i> relative to the Apache install directory; in this case
</I>&gt;<i> the full path is C:/www/Apache22/modules/mod_python.so&quot;.
</I>&gt;<i> &quot;/www/webroot&quot; is the base of my served-file tree, so it
</I>&gt;<i> could have been just &quot;/&quot; or the Directory lines could
</I>&gt;<i> be omitted entirely and the behavior is the same on my
</I>&gt;<i> system.  The working URI is &quot;<A HREF="http://localhost/script/handler&quot;.">http://localhost/script/handler&quot;.</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021988.html">[mod_python] threads and FreeBSD: LD_PRELOAD=/usr/lib/libc_r.so
	the	same as --enable-threads?
</A></li>
	<LI>Next message: <A HREF="021989.html">[mod_python] Re: Mod_python Digest, Vol 42, Issue 4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21987">[ date ]</a>
              <a href="thread.html#21987">[ thread ]</a>
              <a href="subject.html#21987">[ subject ]</a>
              <a href="author.html#21987">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
