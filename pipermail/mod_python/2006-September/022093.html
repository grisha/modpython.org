<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Cookies &amp; mod_rewrite
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Cookies%20%26%20mod_rewrite&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022092.html">
   <LINK REL="Next"  HREF="022094.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Cookies &amp; mod_rewrite</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>CARTWRIGHT, Guy, GBM</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Cookies%20%26%20mod_rewrite&In-Reply-To="
       TITLE="[mod_python] Cookies &amp; mod_rewrite">Guy.CARTWRIGHT at rbos.com
       </A><BR>
    <I>Mon Sep 18 09:13:03 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="022092.html">[mod_python] how to compile mod_python3.2.10 in the windows,
	is there something to reference
</A></li>
        <LI>Next message: <A HREF="022094.html">[mod_python] Lama, sorry: Windows, Apache 2.2.3, ModPy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22093">[ date ]</a>
              <a href="thread.html#22093">[ thread ]</a>
              <a href="subject.html#22093">[ subject ]</a>
              <a href="author.html#22093">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

I'm using mod_python to perform NTLM authentication. In my handler script
&quot;ntlmhandler.py&quot; a cookie gets set using the following code:

cookie = Cookie.Cookie('username', user, path='/')
Cookie.add_cookie(req, cookie)   

With the following apache conf for some reason the cookie is not getting
passed in the request to the rewrite url. When requesting a page in the
/ntlm directory without the rewrite rule in place, the above cookie is
getting set fine. Does anybody have any ideas why this might be the case?

&lt;VirtualHost 192.168.100.100:80&gt;
    ServerName myserver.com
    KeepAlive On

    DocumentRoot /ntlm/

    &lt;Directory /ntlm&gt; 
        AddHandler mod_python .py
        PythonAuthenHandler ntlmhandler
        PythonDebug On
        AuthType NTLM
        require valid-user

        RewriteEngine On
        RewriteRule ^(.*)$
<A HREF="http://192.168.100.100:5090/VirtualHostBase/http/myserver.com:80/dev/content">http://192.168.100.100:5090/VirtualHostBase/http/myserver.com:80/dev/content</A>
_root/VirtualHostRoot/$1 [P,L]    

    &lt;/Directory&gt;    

&lt;/VirtualHost&gt;

Regards

Guy

***********************************************************************************
The Royal Bank of Scotland plc. Registered in Scotland No 90312. Registered Office: 36 St Andrew Square, Edinburgh EH2 2YB. 
Authorised and regulated by the Financial Services Authority 
 
This e-mail message is confidential and for use by the 
addressee only. If the message is received by anyone other 
than the addressee, please return the message to the sender 
by replying to it and then delete the message from your 
computer. Internet e-mails are not necessarily secure. The 
Royal Bank of Scotland plc does not accept responsibility for 
changes made to this message after it was sent. 

Whilst all reasonable care has been taken to avoid the 
transmission of viruses, it is the responsibility of the recipient to 
ensure that the onward transmission, opening or use of this 
message and any attachments will not adversely affect its 
systems or data. No responsibility is accepted by The 
Royal Bank of Scotland plc in this regard and the recipient should carry 
out such virus and other checks as it considers appropriate. 
Visit our websites at: 
<A HREF="http://www.rbos.com">http://www.rbos.com</A>
<A HREF="http://www.rbsmarkets.com">http://www.rbsmarkets.com</A> 
***********************************************************************************
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022092.html">[mod_python] how to compile mod_python3.2.10 in the windows,
	is there something to reference
</A></li>
	<LI>Next message: <A HREF="022094.html">[mod_python] Lama, sorry: Windows, Apache 2.2.3, ModPy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22093">[ date ]</a>
              <a href="thread.html#22093">[ thread ]</a>
              <a href="subject.html#22093">[ subject ]</a>
              <a href="author.html#22093">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
