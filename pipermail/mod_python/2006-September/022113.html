<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] util.Fieldstorage and form
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20util.Fieldstorage%20and%20form&In-Reply-To=013e01c6dd3d%24b6b5a920%24c7010a0a%40talentica.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022112.html">
   <LINK REL="Next"  HREF="022114.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] util.Fieldstorage and form</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Jim Gallacher</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20util.Fieldstorage%20and%20form&In-Reply-To=013e01c6dd3d%24b6b5a920%24c7010a0a%40talentica.com"
       TITLE="[mod_python] util.Fieldstorage and form">jpg at jgassociates.ca
       </A><BR>
    <I>Thu Sep 21 08:32:03 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="022112.html">[mod_python] util.Fieldstorage and form   
</A></li>
        <LI>Next message: <A HREF="022114.html">[mod_python] util.Fieldstorage and form
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22113">[ date ]</a>
              <a href="thread.html#22113">[ thread ]</a>
              <a href="subject.html#22113">[ subject ]</a>
              <a href="author.html#22113">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>sandip wrote:
&gt;<i> Hi all,
</I>&gt;<i>    Other day i was trying to build upload functionality in psp. I am 
</I>&gt;<i> handling form(method: POST) submission in psp.
</I>&gt;<i> this form contain a hidden element and  a element of type file for upload.
</I>&gt;<i> I observed certain things. When I use form['field'] to access value of 
</I>&gt;<i> hidden form element,and in same code
</I>&gt;<i> if I use FieldStorage(req) to get the attributes of uploaded file. I 
</I>&gt;<i> can't access file attributes.
</I>&gt;<i> 
</I>&gt;<i> but if I use only FieldStorage to access all the elements of form, I 
</I>&gt;<i> could access it.
</I>&gt;<i> 
</I>&gt;<i> so why can't I  use both form and FieldStorage in same code?
</I>
The form you see in psp is actually a FieldStorage instance which is 
automatically created when the psp parse encounters mention of the form 
variable.

FieldStorage may only be called once per request, as it consumes the 
request body. Wnen it is called a second time, there is nothing left to 
read.

The usual solution is to store a reference to the form in your request 
object, and pass that around to any functions that need it.

&lt;%
   stuff = form['stuff']
   req.form = form
%&gt;

You'll then be able to access the form in code outside of the psp page.

Jim

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022112.html">[mod_python] util.Fieldstorage and form   
</A></li>
	<LI>Next message: <A HREF="022114.html">[mod_python] util.Fieldstorage and form
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22113">[ date ]</a>
              <a href="thread.html#22113">[ thread ]</a>
              <a href="subject.html#22113">[ subject ]</a>
              <a href="author.html#22113">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
