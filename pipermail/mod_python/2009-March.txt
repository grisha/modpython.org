From graham.dumpleton at gmail.com  Sun Mar  1 01:55:34 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Sun Mar  1 01:55:41 2009
Subject: [mod_python] can't import python scripts into my index.py file
In-Reply-To: <1235887364.20867.5.camel@quirky>
References: <1235868660.16521.15.camel@quirky>
	<88e286470902282045t27e5340akfdc6d400448058da@mail.gmail.com>
	<1235887364.20867.5.camel@quirky>
Message-ID: <88e286470902282255n2646acfdma8aa53de21da135a@mail.gmail.com>

Same problems:

  http://www.dscpl.com.au/wiki/ModPython/Articles/ModuleImportingIsBroken

Compile mod_python from source code if binary package is no good.

Graham

2009/3/1 Ron Phelps <rphelps@redshift.com>:
> Graham,
>
> I was wrong as to the mod_python version I have installed at home. I
> have 3.2.10. Does this version have the same import module problems? I
> can't upgrade to 3.3.1 as it requires a version of libc6 that is not
> compatible with just about everything else on my system.
>
> Thanks again,
>
> Ron
>
> On Sun, 2009-03-01 at 15:45 +1100, Graham Dumpleton wrote:
>> 2009/3/1 Ron Phelps <rphelps@redshift.com>:
>> > I have similar mod_python setups at work and home. The differences are
>> > at work the setup is Ubuntu Gutsy and at home I have Ubuntu Feisty so
>> > the home installation uses 3.2 mod_python and the work 3.3. The other
>> > difference is at home I have apache2 configured for two virtual
>> > websites. The work installation is only one website.
>> >
>> > The problem is I can't import python scripts from index.py on my home
>> > installation but I have no problem at work. Scripts in both
>> > installations are in the home directory of the website.
>> >
>> > -------------------
>> > Code example from work, index.py uses a href link to call the following
>> > python script all imports work eps_extract is python script in the same
>> > directory as index.py
>> >
>> > from cgi import escape
>> > from urllib import unquote
>> >
>> > #Import database and plotting functions
>> > from select import select
>> > import eps_extract
>> >
>> > def frame():
>> >
>> > ? ? ? ?s = """\
>> > ? ? ? ?...
>> > ? ? ? ?html code here
>> > ? ? ? ?..."""
>> >
>> > ? ?return s
>> >
>> > def plots():
>> >
>> > ? ? ? ?etc ...
>> >
>> > ------------------------
>> > Code example from home - index.py:
>> > I have tried simply using the import statement as above
>> > and like below. The scripts weatherstation and pexpect are in the same
>> > directory as index.py
>> >
>> > import sys, os
>> > from mod_python import apache
>> > weatherstation = apache.import_module("weatherstation")
>> > pexpect ?= apache.import_module("pexpect")
>> >
>> > Mod_python returns
>> >
>> > ImportError: No module named weatherstation
>> >
>> >
>> > Thanks for any help you can give.
>>
>> Simple, upgrade your home machine so it matches the latest version of
>> mod_python (3.3.1) used at work.
>>
>> The module importer has lots of problems in the older version and you
>> really do not want to use it.
>>
>> Once you have upgraded and use same version on both, then read the
>> documentation. Specifically that for import_module() in:
>>
>> ? http://www.modpython.org/live/current/doc-html/pyapi-apmeth.html
>>
>> Graham
>>
>>
>> Graham
>>
>
>

From matt at aqueduct.co.uk  Sun Mar  1 14:19:05 2009
From: matt at aqueduct.co.uk (Matthew O'Riordan)
Date: Sun Mar  1 14:19:11 2009
Subject: [mod_python] Problem installing on Mac OS X
Message-ID: <CAF0C7AC-599B-4E16-AF51-328A0E980221@aqueduct.co.uk>

Hi

I am running Python 2.5 and Apache 2.2.11 on Mac OS X, and have been  
trying to install Mod_Python (3.3.1) but unfortunately keep getting an  
error "apxs:Error: Command failed with rc=65536".

I have tried upgrading to Python 2.6 and that has made no difference.

I would really appreciate some help / advice to get Mod_Python running  
under Apache but am stumped as I can't seem to find any answers on the  
web specific to this issue, although have found a few people who have  
run into this issue.

Thanks,
Matthew O'Riordan

----


Here is the output from the Console:

Macintosh:mod_python-3.3.1 matthew$ ./configure
checking for gcc... gcc
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables...
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ANSI C... none needed
checking for ar... ar
checking for a BSD-compatible install... /usr/bin/install -c
checking whether make sets $(MAKE)... yes
checking for main in -lm... yes
checking for an ANSI C-conforming const... yes
checking your blood pressure... a bit high, but we can proceed
configure: checking whether apxs is available...
checking for --with-apxs... no
checking for apxs in /usr/local/apache/sbin... no
checking for apxs in your PATH... checking for apxs... /usr/sbin/apxs
found /usr/sbin/apxs, we'll use this. Use --with-apxs to specify  
another.
checking Apache version... 2.2.11
checking for Apache libexec directory... /usr/libexec/apache2
checking for Apache include directory... -I/usr/include/apache2
checking for --with-python... no
checking for python... /usr/bin/python
checking Python version... 2.6
checking Python install prefix... /Library/Frameworks/Python.framework/ 
Versions/2.6
checking checking where python libraries are installed... /Library/ 
Frameworks/Python.framework/Versions/2.6/lib/python2.6
checking what libraries Python was linked with... -framework   
Python    -ldl
checking linker flags used to link Python...
checking where Python include files are... -I/Library/Frameworks/ 
Python.framework/Versions/2.6/include/python2.6
checking for --with-python-src... no
checking for --with-mutex-dir... no
Using MUTEX_DIR /tmp
checking for --with-max-locks... no
Using 8 MAX_LOCKS.
checking for --with-flex... no
checking for flex... /usr/bin/flex
found /usr/bin/flex, we'll use this. Use --with-flex to specify another.
checking flex version... 2.5.33. Good
configure: creating ./config.status
config.status: creating Makefile
config.status: creating src/Makefile
config.status: creating Doc/Makefile
config.status: creating src/include/mod_python.h
config.status: creating test/Makefile
config.status: creating test/testconf.py
config.status: creating dist/setup.py
config.status: creating dist/Makefile

Macintosh:mod_python-3.3.1 matthew$ make

Compiling for DSO.

/usr/sbin/apxs -I/Users/matthew/Downloads/mod_python-3.3.1/src/include  
-I/usr/include/apache2 -I/Library/Frameworks/Python.framework/Versions/ 
2.6/include/python2.6 -c mod_python.c _apachemodule.c requestobject.c  
tableobject.c util.c serverobject.c connobject.c filterobject.c  
hlist.c hlistobject.c finfoobject.c -Wl,-framework,Python  -u  
_PyMac_Error /Versions//   -arch ppc -arch i386 -isysroot /Developer/ 
SDKs/MacOSX10.4u.sdk -g    -lm  -framework  Python    -ldl
/usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer-pic  
-arch i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk  -DDARWIN - 
DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2   
-I/usr/include/apache2   -I/usr/include/apache2 -I/usr/include -I/ 
Users/matthew/Downloads/mod_python-3.3.1/src/include -I/usr/include/ 
apache2 -I/Library/Frameworks/Python.framework/Versions/2.6/include/ 
python2.6  -c -o mod_python.lo mod_python.c && touch mod_python.slo
mod_python.c: In function ?python_init?:
mod_python.c:826: warning: initialization from incompatible pointer type
/usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer-pic  
-arch i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk  -DDARWIN - 
DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2   
-I/usr/include/apache2   -I/usr/include/apache2 -I/usr/include -I/ 
Users/matthew/Downloads/mod_python-3.3.1/src/include -I/usr/include/ 
apache2 -I/Library/Frameworks/Python.framework/Versions/2.6/include/ 
python2.6  -c -o _apachemodule.lo _apachemodule.c && touch  
_apachemodule.slo
/usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer-pic  
-arch i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk  -DDARWIN - 
DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2   
-I/usr/include/apache2   -I/usr/include/apache2 -I/usr/include -I/ 
Users/matthew/Downloads/mod_python-3.3.1/src/include -I/usr/include/ 
apache2 -I/Library/Frameworks/Python.framework/Versions/2.6/include/ 
python2.6  -c -o requestobject.lo requestobject.c && touch  
requestobject.slo
/usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer-pic  
-arch i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk  -DDARWIN - 
DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2   
-I/usr/include/apache2   -I/usr/include/apache2 -I/usr/include -I/ 
Users/matthew/Downloads/mod_python-3.3.1/src/include -I/usr/include/ 
apache2 -I/Library/Frameworks/Python.framework/Versions/2.6/include/ 
python2.6  -c -o tableobject.lo tableobject.c && touch tableobject.slo
tableobject.c:329: warning: initialization from incompatible pointer  
type
tableobject.c:1092: warning: initialization from incompatible pointer  
type
/usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer-pic  
-arch i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk  -DDARWIN - 
DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2   
-I/usr/include/apache2   -I/usr/include/apache2 -I/usr/include -I/ 
Users/matthew/Downloads/mod_python-3.3.1/src/include -I/usr/include/ 
apache2 -I/Library/Frameworks/Python.framework/Versions/2.6/include/ 
python2.6  -c -o util.lo util.c && touch util.slo
/usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer-pic  
-arch i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk  -DDARWIN - 
DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2   
-I/usr/include/apache2   -I/usr/include/apache2 -I/usr/include -I/ 
Users/matthew/Downloads/mod_python-3.3.1/src/include -I/usr/include/ 
apache2 -I/Library/Frameworks/Python.framework/Versions/2.6/include/ 
python2.6  -c -o serverobject.lo serverobject.c && touch  
serverobject.slo
serverobject.c:387: warning: initialization from incompatible pointer  
type
/usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer-pic  
-arch i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk  -DDARWIN - 
DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/apache2   
-I/usr/include/apache2   -I/usr/include/apache2 -I/usr/include -I/ 
Users/matthew/Downloads/mod_python-3.3.1/src/include -I/usr/include/ 
apache2 -I/Library/Frameworks/Python.framework/Versions/2.6/include/ 
python2.6  -c -o connobject.lo connobject.c && touch connobject.slo
connobject.c: In function ?_conn_read?:
connobject.c:142: error: request for member ?next? in something not a  
structure or union
apxs:Error: Command failed with rc=65536
.
make[1]: *** [mod_python.so] Error 1
make: *** [do_dso] Error 2
Macintosh:mod_python-3.3.1 matthew$



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090301/113bbd6a/attachment.html
From graham.dumpleton at gmail.com  Sun Mar  1 15:12:06 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Sun Mar  1 15:12:12 2009
Subject: [mod_python] Problem installing on Mac OS X
In-Reply-To: <CAF0C7AC-599B-4E16-AF51-328A0E980221@aqueduct.co.uk>
References: <CAF0C7AC-599B-4E16-AF51-328A0E980221@aqueduct.co.uk>
Message-ID: <88e286470903011212qa140bc1x4af17941005e2a2f@mail.gmail.com>

2009/3/2 Matthew O'Riordan <matt@aqueduct.co.uk>:
> Hi
> I am running Python 2.5 and Apache 2.2.11 on Mac OS X, and have been trying
> to install Mod_Python (3.3.1) but unfortunately keep getting an error
> "apxs:Error: Command failed with rc=65536".
> I have tried upgrading to Python 2.6 and that has made no difference.
> I would really appreciate some help / advice to get Mod_Python running under
> Apache but am stumped as I can't seem to find any answers on the web
> specific to this issue, although have found a few people who have run into
> this issue.

Use mod_python source code from subversion repository.

  svn co https://svn.apache.org/repos/asf/quetzalcoatl/mod_python/trunk
mod_python-trunk

The fix for that and various other MacOS X build issues is contained there.

BTW, if you are only wanting to host a WSGI capable application, such
as Django, Trac or TurboGears, you may want to look at mod_wsgi
instead.

Graham

> Thanks,
> Matthew O'Riordan
> ----
>
> Here is the output from the Console:
> Macintosh:mod_python-3.3.1 matthew$ ./configure
> checking for gcc... gcc
> checking for C compiler default output file name... a.out
> checking whether the C compiler works... yes
> checking whether we are cross compiling... no
> checking for suffix of executables...
> checking for suffix of object files... o
> checking whether we are using the GNU C compiler... yes
> checking whether gcc accepts -g... yes
> checking for gcc option to accept ANSI C... none needed
> checking for ar... ar
> checking for a BSD-compatible install... /usr/bin/install -c
> checking whether make sets $(MAKE)... yes
> checking for main in -lm... yes
> checking for an ANSI C-conforming const... yes
> checking your blood pressure... a bit high, but we can proceed
> configure: checking whether apxs is available...
> checking for --with-apxs... no
> checking for apxs in /usr/local/apache/sbin... no
> checking for apxs in your PATH... checking for apxs... /usr/sbin/apxs
> found /usr/sbin/apxs, we'll use this. Use --with-apxs to specify another.
> checking Apache version... 2.2.11
> checking for Apache libexec directory... /usr/libexec/apache2
> checking for Apache include directory... -I/usr/include/apache2
> checking for --with-python... no
> checking for python... /usr/bin/python
> checking Python version... 2.6
> checking Python install prefix...
> /Library/Frameworks/Python.framework/Versions/2.6
> checking checking where python libraries are installed...
> /Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6
> checking what libraries Python was linked with... -framework ?Python ? ?-ldl
>
> checking linker flags used to link Python...
> checking where Python include files are...
> -I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6
> checking for --with-python-src... no
> checking for --with-mutex-dir... no
> Using MUTEX_DIR /tmp
> checking for --with-max-locks... no
> Using 8 MAX_LOCKS.
> checking for --with-flex... no
> checking for flex... /usr/bin/flex
> found /usr/bin/flex, we'll use this. Use --with-flex to specify another.
> checking flex version... 2.5.33. Good
> configure: creating ./config.status
> config.status: creating Makefile
> config.status: creating src/Makefile
> config.status: creating Doc/Makefile
> config.status: creating src/include/mod_python.h
> config.status: creating test/Makefile
> config.status: creating test/testconf.py
> config.status: creating dist/setup.py
> config.status: creating dist/Makefile
> Macintosh:mod_python-3.3.1 matthew$ make
> Compiling for DSO.
> /usr/sbin/apxs -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
> -I/usr/include/apache2
> -I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6 -c
> mod_python.c _apachemodule.c requestobject.c tableobject.c util.c
> serverobject.c connobject.c filterobject.c hlist.c hlistobject.c
> finfoobject.c -Wl,-framework,Python ?-u _PyMac_Error /Versions// ? -arch ppc
> -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -g ? ?-lm ?-framework
> ?Python ? ?-ldl
> /usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer-pic -arch
> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk ?-DDARWIN
> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
> ?-I/usr/include/apache2 ? -I/usr/include/apache2 -I/usr/include
> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
> -I/usr/include/apache2
> -I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6 ?-c -o
> mod_python.lo mod_python.c && touch mod_python.slo
> mod_python.c: In function ?python_init?:
> mod_python.c:826: warning: initialization from incompatible pointer type
> /usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer-pic -arch
> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk ?-DDARWIN
> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
> ?-I/usr/include/apache2 ? -I/usr/include/apache2 -I/usr/include
> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
> -I/usr/include/apache2
> -I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6 ?-c -o
> _apachemodule.lo _apachemodule.c && touch _apachemodule.slo
> /usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer-pic -arch
> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk ?-DDARWIN
> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
> ?-I/usr/include/apache2 ? -I/usr/include/apache2 -I/usr/include
> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
> -I/usr/include/apache2
> -I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6 ?-c -o
> requestobject.lo requestobject.c && touch requestobject.slo
> /usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer-pic -arch
> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk ?-DDARWIN
> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
> ?-I/usr/include/apache2 ? -I/usr/include/apache2 -I/usr/include
> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
> -I/usr/include/apache2
> -I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6 ?-c -o
> tableobject.lo tableobject.c && touch tableobject.slo
> tableobject.c:329: warning: initialization from incompatible pointer type
> tableobject.c:1092: warning: initialization from incompatible pointer type
> /usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer-pic -arch
> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk ?-DDARWIN
> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
> ?-I/usr/include/apache2 ? -I/usr/include/apache2 -I/usr/include
> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
> -I/usr/include/apache2
> -I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6 ?-c -o
> util.lo util.c && touch util.slo
> /usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer-pic -arch
> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk ?-DDARWIN
> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
> ?-I/usr/include/apache2 ? -I/usr/include/apache2 -I/usr/include
> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
> -I/usr/include/apache2
> -I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6 ?-c -o
> serverobject.lo serverobject.c && touch serverobject.slo
> serverobject.c:387: warning: initialization from incompatible pointer type
> /usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer-pic -arch
> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk ?-DDARWIN
> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
> ?-I/usr/include/apache2 ? -I/usr/include/apache2 -I/usr/include
> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
> -I/usr/include/apache2
> -I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6 ?-c -o
> connobject.lo connobject.c && touch connobject.slo
> connobject.c: In function ?_conn_read?:
> connobject.c:142: error: request for member ?next? in something not a
> structure or union
> apxs:Error: Command failed with rc=65536
> .
> make[1]: *** [mod_python.so] Error 1
> make: *** [do_dso] Error 2
> Macintosh:mod_python-3.3.1 matthew$
>
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>
>

From graham.dumpleton at gmail.com  Sun Mar  1 16:59:20 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Sun Mar  1 16:59:27 2009
Subject: [mod_python] Debian maintainer for mod_python needed.
Message-ID: <88e286470903011359u41ece16fxdd8c179e57b58a25@mail.gmail.com>

FYI. Person who previously looked after Debian packaging of mod_python
is no longer going to do it.

Another nail in the coffin of mod_python perhaps if no one else steps
up to do it.

If you are interested in doing it, suggest you get in contact with the
Debian folks.

  http://groups.google.com/group/linux.debian.bugs.dist/browse_frm/thread/d0e48234d5019a58

Graham
From matt at aqueduct.co.uk  Sun Mar  1 17:27:52 2009
From: matt at aqueduct.co.uk (Matthew O'Riordan)
Date: Sun Mar  1 17:27:58 2009
Subject: [mod_python] Problem installing on Mac OS X
In-Reply-To: <88e286470903011212qa140bc1x4af17941005e2a2f@mail.gmail.com>
References: <CAF0C7AC-599B-4E16-AF51-328A0E980221@aqueduct.co.uk>
	<88e286470903011212qa140bc1x4af17941005e2a2f@mail.gmail.com>
Message-ID: <B980FD97-ECF8-43C3-9408-24DD354B9482@aqueduct.co.uk>

Hi Graham

Thank you very much, that worked a treat.  Thank you for the very  
prompt response.

BTW. I am not clear on why I would use a WSGI capable applciation as  
opposed to what mod_python offers.  Can you point me in the direction  
of something I can read on the differences and why mod_wsgi may in  
fact be better (I am going to be building my application on Django)?

Thanks,
Matt

On 1 Mar 2009, at 20:12, Graham Dumpleton wrote:

> 2009/3/2 Matthew O'Riordan <matt@aqueduct.co.uk>:
>> Hi
>> I am running Python 2.5 and Apache 2.2.11 on Mac OS X, and have  
>> been trying
>> to install Mod_Python (3.3.1) but unfortunately keep getting an error
>> "apxs:Error: Command failed with rc=65536".
>> I have tried upgrading to Python 2.6 and that has made no difference.
>> I would really appreciate some help / advice to get Mod_Python  
>> running under
>> Apache but am stumped as I can't seem to find any answers on the web
>> specific to this issue, although have found a few people who have  
>> run into
>> this issue.
>
> Use mod_python source code from subversion repository.
>
>  svn co https://svn.apache.org/repos/asf/quetzalcoatl/mod_python/trunk
> mod_python-trunk
>
> The fix for that and various other MacOS X build issues is contained  
> there.
>
> BTW, if you are only wanting to host a WSGI capable application, such
> as Django, Trac or TurboGears, you may want to look at mod_wsgi
> instead.
>
> Graham
>
>> Thanks,
>> Matthew O'Riordan
>> ----
>>
>> Here is the output from the Console:
>> Macintosh:mod_python-3.3.1 matthew$ ./configure
>> checking for gcc... gcc
>> checking for C compiler default output file name... a.out
>> checking whether the C compiler works... yes
>> checking whether we are cross compiling... no
>> checking for suffix of executables...
>> checking for suffix of object files... o
>> checking whether we are using the GNU C compiler... yes
>> checking whether gcc accepts -g... yes
>> checking for gcc option to accept ANSI C... none needed
>> checking for ar... ar
>> checking for a BSD-compatible install... /usr/bin/install -c
>> checking whether make sets $(MAKE)... yes
>> checking for main in -lm... yes
>> checking for an ANSI C-conforming const... yes
>> checking your blood pressure... a bit high, but we can proceed
>> configure: checking whether apxs is available...
>> checking for --with-apxs... no
>> checking for apxs in /usr/local/apache/sbin... no
>> checking for apxs in your PATH... checking for apxs... /usr/sbin/apxs
>> found /usr/sbin/apxs, we'll use this. Use --with-apxs to specify  
>> another.
>> checking Apache version... 2.2.11
>> checking for Apache libexec directory... /usr/libexec/apache2
>> checking for Apache include directory... -I/usr/include/apache2
>> checking for --with-python... no
>> checking for python... /usr/bin/python
>> checking Python version... 2.6
>> checking Python install prefix...
>> /Library/Frameworks/Python.framework/Versions/2.6
>> checking checking where python libraries are installed...
>> /Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6
>> checking what libraries Python was linked with... -framework   
>> Python    -ldl
>>
>> checking linker flags used to link Python...
>> checking where Python include files are...
>> -I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6
>> checking for --with-python-src... no
>> checking for --with-mutex-dir... no
>> Using MUTEX_DIR /tmp
>> checking for --with-max-locks... no
>> Using 8 MAX_LOCKS.
>> checking for --with-flex... no
>> checking for flex... /usr/bin/flex
>> found /usr/bin/flex, we'll use this. Use --with-flex to specify  
>> another.
>> checking flex version... 2.5.33. Good
>> configure: creating ./config.status
>> config.status: creating Makefile
>> config.status: creating src/Makefile
>> config.status: creating Doc/Makefile
>> config.status: creating src/include/mod_python.h
>> config.status: creating test/Makefile
>> config.status: creating test/testconf.py
>> config.status: creating dist/setup.py
>> config.status: creating dist/Makefile
>> Macintosh:mod_python-3.3.1 matthew$ make
>> Compiling for DSO.
>> /usr/sbin/apxs -I/Users/matthew/Downloads/mod_python-3.3.1/src/ 
>> include
>> -I/usr/include/apache2
>> -I/Library/Frameworks/Python.framework/Versions/2.6/include/ 
>> python2.6 -c
>> mod_python.c _apachemodule.c requestobject.c tableobject.c util.c
>> serverobject.c connobject.c filterobject.c hlist.c hlistobject.c
>> finfoobject.c -Wl,-framework,Python  -u _PyMac_Error /Versions//   - 
>> arch ppc
>> -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -g    -lm  - 
>> framework
>>  Python    -ldl
>> /usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer- 
>> pic -arch
>> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk  -DDARWIN
>> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/ 
>> apache2
>>  -I/usr/include/apache2   -I/usr/include/apache2 -I/usr/include
>> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
>> -I/usr/include/apache2
>> -I/Library/Frameworks/Python.framework/Versions/2.6/include/ 
>> python2.6  -c -o
>> mod_python.lo mod_python.c && touch mod_python.slo
>> mod_python.c: In function ?python_init?:
>> mod_python.c:826: warning: initialization from incompatible pointer  
>> type
>> /usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer- 
>> pic -arch
>> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk  -DDARWIN
>> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/ 
>> apache2
>>  -I/usr/include/apache2   -I/usr/include/apache2 -I/usr/include
>> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
>> -I/usr/include/apache2
>> -I/Library/Frameworks/Python.framework/Versions/2.6/include/ 
>> python2.6  -c -o
>> _apachemodule.lo _apachemodule.c && touch _apachemodule.slo
>> /usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer- 
>> pic -arch
>> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk  -DDARWIN
>> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/ 
>> apache2
>>  -I/usr/include/apache2   -I/usr/include/apache2 -I/usr/include
>> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
>> -I/usr/include/apache2
>> -I/Library/Frameworks/Python.framework/Versions/2.6/include/ 
>> python2.6  -c -o
>> requestobject.lo requestobject.c && touch requestobject.slo
>> /usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer- 
>> pic -arch
>> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk  -DDARWIN
>> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/ 
>> apache2
>>  -I/usr/include/apache2   -I/usr/include/apache2 -I/usr/include
>> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
>> -I/usr/include/apache2
>> -I/Library/Frameworks/Python.framework/Versions/2.6/include/ 
>> python2.6  -c -o
>> tableobject.lo tableobject.c && touch tableobject.slo
>> tableobject.c:329: warning: initialization from incompatible  
>> pointer type
>> tableobject.c:1092: warning: initialization from incompatible  
>> pointer type
>> /usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer- 
>> pic -arch
>> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk  -DDARWIN
>> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/ 
>> apache2
>>  -I/usr/include/apache2   -I/usr/include/apache2 -I/usr/include
>> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
>> -I/usr/include/apache2
>> -I/Library/Frameworks/Python.framework/Versions/2.6/include/ 
>> python2.6  -c -o
>> util.lo util.c && touch util.slo
>> /usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer- 
>> pic -arch
>> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk  -DDARWIN
>> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/ 
>> apache2
>>  -I/usr/include/apache2   -I/usr/include/apache2 -I/usr/include
>> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
>> -I/usr/include/apache2
>> -I/Library/Frameworks/Python.framework/Versions/2.6/include/ 
>> python2.6  -c -o
>> serverobject.lo serverobject.c && touch serverobject.slo
>> serverobject.c:387: warning: initialization from incompatible  
>> pointer type
>> /usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer- 
>> pic -arch
>> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk  -DDARWIN
>> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/ 
>> apache2
>>  -I/usr/include/apache2   -I/usr/include/apache2 -I/usr/include
>> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
>> -I/usr/include/apache2
>> -I/Library/Frameworks/Python.framework/Versions/2.6/include/ 
>> python2.6  -c -o
>> connobject.lo connobject.c && touch connobject.slo
>> connobject.c: In function ?_conn_read?:
>> connobject.c:142: error: request for member ?next? in something not a
>> structure or union
>> apxs:Error: Command failed with rc=65536
>> .
>> make[1]: *** [mod_python.so] Error 1
>> make: *** [do_dso] Error 2
>> Macintosh:mod_python-3.3.1 matthew$
>>
>>
>>
>> _______________________________________________
>> Mod_python mailing list
>> Mod_python@modpython.org
>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>
>>


From graham.dumpleton at gmail.com  Sun Mar  1 17:45:42 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Sun Mar  1 17:45:50 2009
Subject: [mod_python] Problem installing on Mac OS X
In-Reply-To: <B980FD97-ECF8-43C3-9408-24DD354B9482@aqueduct.co.uk>
References: <CAF0C7AC-599B-4E16-AF51-328A0E980221@aqueduct.co.uk>
	<88e286470903011212qa140bc1x4af17941005e2a2f@mail.gmail.com>
	<B980FD97-ECF8-43C3-9408-24DD354B9482@aqueduct.co.uk>
Message-ID: <88e286470903011445p230590c9uf9573803d4a6fb38@mail.gmail.com>

2009/3/2 Matthew O'Riordan <matt@aqueduct.co.uk>:
> Hi Graham
>
> Thank you very much, that worked a treat. ?Thank you for the very prompt
> response.
>
> BTW. I am not clear on why I would use a WSGI capable applciation as opposed
> to what mod_python offers. ?Can you point me in the direction of something I
> can read on the differences and why mod_wsgi may in fact be better (I am
> going to be building my application on Django)?

WSGI is a generic interface which allows a Python web application to
be hosted on different hosting mechanisms. The mod_wsgi module for
Apache is purpose built for it. With how you are running Django now
you are relying on a mod_python specific binding for Django rather
than the generic WSGI interface that Django also supports. By going
the mod_python route you are encumbering yourself with greater memory
usage as mod_python is loading a lot of stuff you don't need for
hosting Django. The raw performance of mod_python is also not as good
as mod_wsgi. The mod_wsgi module also has daemon mode, which allows
separation from Apache child processes for your application, giving
more predictable performance if you haven't been bothered to customise
default Apache MPM settings, which aren't suitable for large Python
web applications.

For some real data see:

  http://collingrady.wordpress.com/2009/01/06/mod_python-versus-mod_wsgi/
  http://code.google.com/p/modwsgi/wiki/PerformanceEstimates

Go onto #django irc and you will very much find that mod_python is out
of favour these days, despite what official Django documentation still
says about it.

Graham

> Thanks,
> Matt
>
> On 1 Mar 2009, at 20:12, Graham Dumpleton wrote:
>
>> 2009/3/2 Matthew O'Riordan <matt@aqueduct.co.uk>:
>>>
>>> Hi
>>> I am running Python 2.5 and Apache 2.2.11 on Mac OS X, and have been
>>> trying
>>> to install Mod_Python (3.3.1) but unfortunately keep getting an error
>>> "apxs:Error: Command failed with rc=65536".
>>> I have tried upgrading to Python 2.6 and that has made no difference.
>>> I would really appreciate some help / advice to get Mod_Python running
>>> under
>>> Apache but am stumped as I can't seem to find any answers on the web
>>> specific to this issue, although have found a few people who have run
>>> into
>>> this issue.
>>
>> Use mod_python source code from subversion repository.
>>
>> ?svn co https://svn.apache.org/repos/asf/quetzalcoatl/mod_python/trunk
>> mod_python-trunk
>>
>> The fix for that and various other MacOS X build issues is contained
>> there.
>>
>> BTW, if you are only wanting to host a WSGI capable application, such
>> as Django, Trac or TurboGears, you may want to look at mod_wsgi
>> instead.
>>
>> Graham
>>
>>> Thanks,
>>> Matthew O'Riordan
>>> ----
>>>
>>> Here is the output from the Console:
>>> Macintosh:mod_python-3.3.1 matthew$ ./configure
>>> checking for gcc... gcc
>>> checking for C compiler default output file name... a.out
>>> checking whether the C compiler works... yes
>>> checking whether we are cross compiling... no
>>> checking for suffix of executables...
>>> checking for suffix of object files... o
>>> checking whether we are using the GNU C compiler... yes
>>> checking whether gcc accepts -g... yes
>>> checking for gcc option to accept ANSI C... none needed
>>> checking for ar... ar
>>> checking for a BSD-compatible install... /usr/bin/install -c
>>> checking whether make sets $(MAKE)... yes
>>> checking for main in -lm... yes
>>> checking for an ANSI C-conforming const... yes
>>> checking your blood pressure... a bit high, but we can proceed
>>> configure: checking whether apxs is available...
>>> checking for --with-apxs... no
>>> checking for apxs in /usr/local/apache/sbin... no
>>> checking for apxs in your PATH... checking for apxs... /usr/sbin/apxs
>>> found /usr/sbin/apxs, we'll use this. Use --with-apxs to specify another.
>>> checking Apache version... 2.2.11
>>> checking for Apache libexec directory... /usr/libexec/apache2
>>> checking for Apache include directory... -I/usr/include/apache2
>>> checking for --with-python... no
>>> checking for python... /usr/bin/python
>>> checking Python version... 2.6
>>> checking Python install prefix...
>>> /Library/Frameworks/Python.framework/Versions/2.6
>>> checking checking where python libraries are installed...
>>> /Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6
>>> checking what libraries Python was linked with... -framework ?Python
>>> ?-ldl
>>>
>>> checking linker flags used to link Python...
>>> checking where Python include files are...
>>> -I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6
>>> checking for --with-python-src... no
>>> checking for --with-mutex-dir... no
>>> Using MUTEX_DIR /tmp
>>> checking for --with-max-locks... no
>>> Using 8 MAX_LOCKS.
>>> checking for --with-flex... no
>>> checking for flex... /usr/bin/flex
>>> found /usr/bin/flex, we'll use this. Use --with-flex to specify another.
>>> checking flex version... 2.5.33. Good
>>> configure: creating ./config.status
>>> config.status: creating Makefile
>>> config.status: creating src/Makefile
>>> config.status: creating Doc/Makefile
>>> config.status: creating src/include/mod_python.h
>>> config.status: creating test/Makefile
>>> config.status: creating test/testconf.py
>>> config.status: creating dist/setup.py
>>> config.status: creating dist/Makefile
>>> Macintosh:mod_python-3.3.1 matthew$ make
>>> Compiling for DSO.
>>> /usr/sbin/apxs -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
>>> -I/usr/include/apache2
>>> -I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6 -c
>>> mod_python.c _apachemodule.c requestobject.c tableobject.c util.c
>>> serverobject.c connobject.c filterobject.c hlist.c hlistobject.c
>>> finfoobject.c -Wl,-framework,Python ?-u _PyMac_Error /Versions// ? -arch
>>> ppc
>>> -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -g ? ?-lm
>>> ?-framework
>>> ?Python ? ?-ldl
>>> /usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer-pic
>>> -arch
>>> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk ?-DDARWIN
>>> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
>>> ?-I/usr/include/apache2 ? -I/usr/include/apache2 -I/usr/include
>>> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
>>> -I/usr/include/apache2
>>> -I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6 ?-c
>>> -o
>>> mod_python.lo mod_python.c && touch mod_python.slo
>>> mod_python.c: In function ?python_init?:
>>> mod_python.c:826: warning: initialization from incompatible pointer type
>>> /usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer-pic
>>> -arch
>>> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk ?-DDARWIN
>>> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
>>> ?-I/usr/include/apache2 ? -I/usr/include/apache2 -I/usr/include
>>> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
>>> -I/usr/include/apache2
>>> -I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6 ?-c
>>> -o
>>> _apachemodule.lo _apachemodule.c && touch _apachemodule.slo
>>> /usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer-pic
>>> -arch
>>> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk ?-DDARWIN
>>> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
>>> ?-I/usr/include/apache2 ? -I/usr/include/apache2 -I/usr/include
>>> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
>>> -I/usr/include/apache2
>>> -I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6 ?-c
>>> -o
>>> requestobject.lo requestobject.c && touch requestobject.slo
>>> /usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer-pic
>>> -arch
>>> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk ?-DDARWIN
>>> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
>>> ?-I/usr/include/apache2 ? -I/usr/include/apache2 -I/usr/include
>>> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
>>> -I/usr/include/apache2
>>> -I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6 ?-c
>>> -o
>>> tableobject.lo tableobject.c && touch tableobject.slo
>>> tableobject.c:329: warning: initialization from incompatible pointer type
>>> tableobject.c:1092: warning: initialization from incompatible pointer
>>> type
>>> /usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer-pic
>>> -arch
>>> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk ?-DDARWIN
>>> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
>>> ?-I/usr/include/apache2 ? -I/usr/include/apache2 -I/usr/include
>>> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
>>> -I/usr/include/apache2
>>> -I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6 ?-c
>>> -o
>>> util.lo util.c && touch util.slo
>>> /usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer-pic
>>> -arch
>>> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk ?-DDARWIN
>>> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
>>> ?-I/usr/include/apache2 ? -I/usr/include/apache2 -I/usr/include
>>> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
>>> -I/usr/include/apache2
>>> -I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6 ?-c
>>> -o
>>> serverobject.lo serverobject.c && touch serverobject.slo
>>> serverobject.c:387: warning: initialization from incompatible pointer
>>> type
>>> /usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer-pic
>>> -arch
>>> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk ?-DDARWIN
>>> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp ?-I/usr/include/apache2
>>> ?-I/usr/include/apache2 ? -I/usr/include/apache2 -I/usr/include
>>> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
>>> -I/usr/include/apache2
>>> -I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6 ?-c
>>> -o
>>> connobject.lo connobject.c && touch connobject.slo
>>> connobject.c: In function ?_conn_read?:
>>> connobject.c:142: error: request for member ?next? in something not a
>>> structure or union
>>> apxs:Error: Command failed with rc=65536
>>> .
>>> make[1]: *** [mod_python.so] Error 1
>>> make: *** [do_dso] Error 2
>>> Macintosh:mod_python-3.3.1 matthew$
>>>
>>>
>>>
>>> _______________________________________________
>>> Mod_python mailing list
>>> Mod_python@modpython.org
>>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>>
>>>
>
>

From matt at aqueduct.co.uk  Sun Mar  1 20:20:44 2009
From: matt at aqueduct.co.uk (Matthew O'Riordan)
Date: Sun Mar  1 20:20:52 2009
Subject: [mod_python] Problem installing on Mac OS X
In-Reply-To: <88e286470903011445p230590c9uf9573803d4a6fb38@mail.gmail.com>
References: <CAF0C7AC-599B-4E16-AF51-328A0E980221@aqueduct.co.uk>
	<88e286470903011212qa140bc1x4af17941005e2a2f@mail.gmail.com>
	<B980FD97-ECF8-43C3-9408-24DD354B9482@aqueduct.co.uk>
	<88e286470903011445p230590c9uf9573803d4a6fb38@mail.gmail.com>
Message-ID: <ED2DB6C5-AC9B-4C6B-9992-F7494CE95319@aqueduct.co.uk>

Thanks Graham, again really appreciate your help.

On 1 Mar 2009, at 22:45, Graham Dumpleton wrote:

> 2009/3/2 Matthew O'Riordan <matt@aqueduct.co.uk>:
>> Hi Graham
>>
>> Thank you very much, that worked a treat.  Thank you for the very  
>> prompt
>> response.
>>
>> BTW. I am not clear on why I would use a WSGI capable applciation  
>> as opposed
>> to what mod_python offers.  Can you point me in the direction of  
>> something I
>> can read on the differences and why mod_wsgi may in fact be better  
>> (I am
>> going to be building my application on Django)?
>
> WSGI is a generic interface which allows a Python web application to
> be hosted on different hosting mechanisms. The mod_wsgi module for
> Apache is purpose built for it. With how you are running Django now
> you are relying on a mod_python specific binding for Django rather
> than the generic WSGI interface that Django also supports. By going
> the mod_python route you are encumbering yourself with greater memory
> usage as mod_python is loading a lot of stuff you don't need for
> hosting Django. The raw performance of mod_python is also not as good
> as mod_wsgi. The mod_wsgi module also has daemon mode, which allows
> separation from Apache child processes for your application, giving
> more predictable performance if you haven't been bothered to customise
> default Apache MPM settings, which aren't suitable for large Python
> web applications.
>
> For some real data see:
>
>  http://collingrady.wordpress.com/2009/01/06/mod_python-versus-mod_wsgi/
>  http://code.google.com/p/modwsgi/wiki/PerformanceEstimates
>
> Go onto #django irc and you will very much find that mod_python is out
> of favour these days, despite what official Django documentation still
> says about it.
>
> Graham
>
>> Thanks,
>> Matt
>>
>> On 1 Mar 2009, at 20:12, Graham Dumpleton wrote:
>>
>>> 2009/3/2 Matthew O'Riordan <matt@aqueduct.co.uk>:
>>>>
>>>> Hi
>>>> I am running Python 2.5 and Apache 2.2.11 on Mac OS X, and have  
>>>> been
>>>> trying
>>>> to install Mod_Python (3.3.1) but unfortunately keep getting an  
>>>> error
>>>> "apxs:Error: Command failed with rc=65536".
>>>> I have tried upgrading to Python 2.6 and that has made no  
>>>> difference.
>>>> I would really appreciate some help / advice to get Mod_Python  
>>>> running
>>>> under
>>>> Apache but am stumped as I can't seem to find any answers on the  
>>>> web
>>>> specific to this issue, although have found a few people who have  
>>>> run
>>>> into
>>>> this issue.
>>>
>>> Use mod_python source code from subversion repository.
>>>
>>> svn co https://svn.apache.org/repos/asf/quetzalcoatl/mod_python/ 
>>> trunk
>>> mod_python-trunk
>>>
>>> The fix for that and various other MacOS X build issues is contained
>>> there.
>>>
>>> BTW, if you are only wanting to host a WSGI capable application,  
>>> such
>>> as Django, Trac or TurboGears, you may want to look at mod_wsgi
>>> instead.
>>>
>>> Graham
>>>
>>>> Thanks,
>>>> Matthew O'Riordan
>>>> ----
>>>>
>>>> Here is the output from the Console:
>>>> Macintosh:mod_python-3.3.1 matthew$ ./configure
>>>> checking for gcc... gcc
>>>> checking for C compiler default output file name... a.out
>>>> checking whether the C compiler works... yes
>>>> checking whether we are cross compiling... no
>>>> checking for suffix of executables...
>>>> checking for suffix of object files... o
>>>> checking whether we are using the GNU C compiler... yes
>>>> checking whether gcc accepts -g... yes
>>>> checking for gcc option to accept ANSI C... none needed
>>>> checking for ar... ar
>>>> checking for a BSD-compatible install... /usr/bin/install -c
>>>> checking whether make sets $(MAKE)... yes
>>>> checking for main in -lm... yes
>>>> checking for an ANSI C-conforming const... yes
>>>> checking your blood pressure... a bit high, but we can proceed
>>>> configure: checking whether apxs is available...
>>>> checking for --with-apxs... no
>>>> checking for apxs in /usr/local/apache/sbin... no
>>>> checking for apxs in your PATH... checking for apxs... /usr/sbin/ 
>>>> apxs
>>>> found /usr/sbin/apxs, we'll use this. Use --with-apxs to specify  
>>>> another.
>>>> checking Apache version... 2.2.11
>>>> checking for Apache libexec directory... /usr/libexec/apache2
>>>> checking for Apache include directory... -I/usr/include/apache2
>>>> checking for --with-python... no
>>>> checking for python... /usr/bin/python
>>>> checking Python version... 2.6
>>>> checking Python install prefix...
>>>> /Library/Frameworks/Python.framework/Versions/2.6
>>>> checking checking where python libraries are installed...
>>>> /Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6
>>>> checking what libraries Python was linked with... -framework   
>>>> Python
>>>> -ldl
>>>>
>>>> checking linker flags used to link Python...
>>>> checking where Python include files are...
>>>> -I/Library/Frameworks/Python.framework/Versions/2.6/include/ 
>>>> python2.6
>>>> checking for --with-python-src... no
>>>> checking for --with-mutex-dir... no
>>>> Using MUTEX_DIR /tmp
>>>> checking for --with-max-locks... no
>>>> Using 8 MAX_LOCKS.
>>>> checking for --with-flex... no
>>>> checking for flex... /usr/bin/flex
>>>> found /usr/bin/flex, we'll use this. Use --with-flex to specify  
>>>> another.
>>>> checking flex version... 2.5.33. Good
>>>> configure: creating ./config.status
>>>> config.status: creating Makefile
>>>> config.status: creating src/Makefile
>>>> config.status: creating Doc/Makefile
>>>> config.status: creating src/include/mod_python.h
>>>> config.status: creating test/Makefile
>>>> config.status: creating test/testconf.py
>>>> config.status: creating dist/setup.py
>>>> config.status: creating dist/Makefile
>>>> Macintosh:mod_python-3.3.1 matthew$ make
>>>> Compiling for DSO.
>>>> /usr/sbin/apxs -I/Users/matthew/Downloads/mod_python-3.3.1/src/ 
>>>> include
>>>> -I/usr/include/apache2
>>>> -I/Library/Frameworks/Python.framework/Versions/2.6/include/ 
>>>> python2.6 -c
>>>> mod_python.c _apachemodule.c requestobject.c tableobject.c util.c
>>>> serverobject.c connobject.c filterobject.c hlist.c hlistobject.c
>>>> finfoobject.c -Wl,-framework,Python  -u _PyMac_Error / 
>>>> Versions//   -arch
>>>> ppc
>>>> -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -g    -lm
>>>> -framework
>>>> Python    -ldl
>>>> /usr/share/httpd/build/libtool --silent --mode=compile gcc - 
>>>> prefer-pic
>>>> -arch
>>>> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk  -DDARWIN
>>>> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/ 
>>>> apache2
>>>> -I/usr/include/apache2   -I/usr/include/apache2 -I/usr/include
>>>> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
>>>> -I/usr/include/apache2
>>>> -I/Library/Frameworks/Python.framework/Versions/2.6/include/ 
>>>> python2.6  -c
>>>> -o
>>>> mod_python.lo mod_python.c && touch mod_python.slo
>>>> mod_python.c: In function ?python_init?:
>>>> mod_python.c:826: warning: initialization from incompatible  
>>>> pointer type
>>>> /usr/share/httpd/build/libtool --silent --mode=compile gcc - 
>>>> prefer-pic
>>>> -arch
>>>> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk  -DDARWIN
>>>> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/ 
>>>> apache2
>>>> -I/usr/include/apache2   -I/usr/include/apache2 -I/usr/include
>>>> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
>>>> -I/usr/include/apache2
>>>> -I/Library/Frameworks/Python.framework/Versions/2.6/include/ 
>>>> python2.6  -c
>>>> -o
>>>> _apachemodule.lo _apachemodule.c && touch _apachemodule.slo
>>>> /usr/share/httpd/build/libtool --silent --mode=compile gcc - 
>>>> prefer-pic
>>>> -arch
>>>> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk  -DDARWIN
>>>> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/ 
>>>> apache2
>>>> -I/usr/include/apache2   -I/usr/include/apache2 -I/usr/include
>>>> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
>>>> -I/usr/include/apache2
>>>> -I/Library/Frameworks/Python.framework/Versions/2.6/include/ 
>>>> python2.6  -c
>>>> -o
>>>> requestobject.lo requestobject.c && touch requestobject.slo
>>>> /usr/share/httpd/build/libtool --silent --mode=compile gcc - 
>>>> prefer-pic
>>>> -arch
>>>> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk  -DDARWIN
>>>> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/ 
>>>> apache2
>>>> -I/usr/include/apache2   -I/usr/include/apache2 -I/usr/include
>>>> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
>>>> -I/usr/include/apache2
>>>> -I/Library/Frameworks/Python.framework/Versions/2.6/include/ 
>>>> python2.6  -c
>>>> -o
>>>> tableobject.lo tableobject.c && touch tableobject.slo
>>>> tableobject.c:329: warning: initialization from incompatible  
>>>> pointer type
>>>> tableobject.c:1092: warning: initialization from incompatible  
>>>> pointer
>>>> type
>>>> /usr/share/httpd/build/libtool --silent --mode=compile gcc - 
>>>> prefer-pic
>>>> -arch
>>>> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk  -DDARWIN
>>>> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/ 
>>>> apache2
>>>> -I/usr/include/apache2   -I/usr/include/apache2 -I/usr/include
>>>> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
>>>> -I/usr/include/apache2
>>>> -I/Library/Frameworks/Python.framework/Versions/2.6/include/ 
>>>> python2.6  -c
>>>> -o
>>>> util.lo util.c && touch util.slo
>>>> /usr/share/httpd/build/libtool --silent --mode=compile gcc - 
>>>> prefer-pic
>>>> -arch
>>>> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk  -DDARWIN
>>>> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/ 
>>>> apache2
>>>> -I/usr/include/apache2   -I/usr/include/apache2 -I/usr/include
>>>> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
>>>> -I/usr/include/apache2
>>>> -I/Library/Frameworks/Python.framework/Versions/2.6/include/ 
>>>> python2.6  -c
>>>> -o
>>>> serverobject.lo serverobject.c && touch serverobject.slo
>>>> serverobject.c:387: warning: initialization from incompatible  
>>>> pointer
>>>> type
>>>> /usr/share/httpd/build/libtool --silent --mode=compile gcc - 
>>>> prefer-pic
>>>> -arch
>>>> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk  -DDARWIN
>>>> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp  -I/usr/include/ 
>>>> apache2
>>>> -I/usr/include/apache2   -I/usr/include/apache2 -I/usr/include
>>>> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
>>>> -I/usr/include/apache2
>>>> -I/Library/Frameworks/Python.framework/Versions/2.6/include/ 
>>>> python2.6  -c
>>>> -o
>>>> connobject.lo connobject.c && touch connobject.slo
>>>> connobject.c: In function ?_conn_read?:
>>>> connobject.c:142: error: request for member ?next? in something  
>>>> not a
>>>> structure or union
>>>> apxs:Error: Command failed with rc=65536
>>>> .
>>>> make[1]: *** [mod_python.so] Error 1
>>>> make: *** [do_dso] Error 2
>>>> Macintosh:mod_python-3.3.1 matthew$
>>>>
>>>>
>>>>
>>>> _______________________________________________
>>>> Mod_python mailing list
>>>> Mod_python@modpython.org
>>>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>>>
>>>>
>>
>>


From mihamina at lab.vectoris.fr  Mon Mar  2 15:20:30 2009
From: mihamina at lab.vectoris.fr (Mihamina Rakotomandimby)
Date: Mon Mar  2 15:20:48 2009
Subject: [mod_python] Publisher, how to handle sessions
Message-ID: <49AC3F8E.8090509@lab.vectoris.fr>

Hi
My .htaccess: 
http://lab.vectoris.fr/projects/vectoris/browser/EncycloPyDia/trunk/.htaccess
My Python file:
http://lab.vectoris.fr/projects/vectoris/browser/EncycloPyDia/trunk/index.py

Two templates:
http://lab.vectoris.fr/projects/vectoris/browser/EncycloPyDia/trunk/index.html
http://lab.vectoris.fr/projects/vectoris/browser/EncycloPyDia/trunk/index_2.html

Please, these files are crappy, just for testing purpose, disable your 
--pedant flag ;-).

I see the session mecanism working with those files:
If a session['login'] is set, then it's OK.

When using PSP handler (not the Publisher) just using a variable named 
"session" is enough to handle sessions. Here, I had to instanciate one 
in each function.
On the other hand, I saw forms are very easily handled, they are 
automagically set to variables.

Is there a way, using the Publisher, to easily handle sessions?

My real goal is to use templating-like code, just like this one given in 
example, _and_ easily handle forms and session. I do want to use 
mod_python (just mod_python, nothig more): the publisher might not be 
the best approach?

Thank you!

-- 
Chef de projet chez Vectoris
http://www.google.com/search?q=mihamina+rakotomandimby
Telephone: +261 33 11 207 36
From graham.dumpleton at gmail.com  Mon Mar  2 16:38:52 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Mon Mar  2 16:38:59 2009
Subject: [mod_python] Publisher, how to handle sessions
In-Reply-To: <49AC3F8E.8090509@lab.vectoris.fr>
References: <49AC3F8E.8090509@lab.vectoris.fr>
Message-ID: <88e286470903021338v7b7c2467y1769dd6fbb8ff50c@mail.gmail.com>

You will get deadlock doing that.

In the publisher function assign the session to:

  req.session

and not a local variable.

By assigning it to req.session, PSP code will see it and use it rather
than trying to create a new one and causing a deadlock.

Graham

2009/3/3 Mihamina Rakotomandimby <mihamina@lab.vectoris.fr>:
> Hi
> My .htaccess:
> http://lab.vectoris.fr/projects/vectoris/browser/EncycloPyDia/trunk/.htaccess
> My Python file:
> http://lab.vectoris.fr/projects/vectoris/browser/EncycloPyDia/trunk/index.py
>
> Two templates:
> http://lab.vectoris.fr/projects/vectoris/browser/EncycloPyDia/trunk/index.html
> http://lab.vectoris.fr/projects/vectoris/browser/EncycloPyDia/trunk/index_2.html
>
> Please, these files are crappy, just for testing purpose, disable your
> --pedant flag ;-).
>
> I see the session mecanism working with those files:
> If a session['login'] is set, then it's OK.
>
> When using PSP handler (not the Publisher) just using a variable named
> "session" is enough to handle sessions. Here, I had to instanciate one in
> each function.
> On the other hand, I saw forms are very easily handled, they are
> automagically set to variables.
>
> Is there a way, using the Publisher, to easily handle sessions?
>
> My real goal is to use templating-like code, just like this one given in
> example, _and_ easily handle forms and session. I do want to use mod_python
> (just mod_python, nothig more): the publisher might not be the best
> approach?
>
> Thank you!
>
> --
> Chef de projet chez Vectoris
> http://www.google.com/search?q=mihamina+rakotomandimby
> Telephone: +261 33 11 207 36
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>
From mihamina at lab.vectoris.fr  Mon Mar  2 23:21:59 2009
From: mihamina at lab.vectoris.fr (Mihamina Rakotomandimby)
Date: Mon Mar  2 23:22:25 2009
Subject: [mod_python] Publisher, how to handle sessions
In-Reply-To: <88e286470903021338v7b7c2467y1769dd6fbb8ff50c@mail.gmail.com>
References: <49AC3F8E.8090509@lab.vectoris.fr>
	<88e286470903021338v7b7c2467y1769dd6fbb8ff50c@mail.gmail.com>
Message-ID: <49ACB067.5030808@lab.vectoris.fr>

Graham Dumpleton wrote:
> You will get deadlock doing that.

Ok, that's (one of) the point where I really needed help :-)

> By assigning it to req.session,

Is it about assigning once (and never more later)? No more 
instanciation, then.

-- 
Chef de projet chez Vectoris
http://www.google.com/search?q=mihamina+rakotomandimby
Telephone: +261 33 11 207 36
From graham.dumpleton at gmail.com  Mon Mar  2 23:39:33 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Mon Mar  2 23:39:38 2009
Subject: [mod_python] Publisher, how to handle sessions
In-Reply-To: <49ACB067.5030808@lab.vectoris.fr>
References: <49AC3F8E.8090509@lab.vectoris.fr>
	<88e286470903021338v7b7c2467y1769dd6fbb8ff50c@mail.gmail.com>
	<49ACB067.5030808@lab.vectoris.fr>
Message-ID: <88e286470903022039v1d948d89j87e7b5c9698094ce@mail.gmail.com>

2009/3/3 Mihamina Rakotomandimby <mihamina@lab.vectoris.fr>:
> Graham Dumpleton wrote:
>>
>> You will get deadlock doing that.
>
> Ok, that's (one of) the point where I really needed help :-)
>
>> By assigning it to req.session,
>
> Is it about assigning once (and never more later)? No more instanciation,
> then.

Only one session object should be created for a request. The
convention you should follow everywhere if mixing publisher and PSP,
or if calling common routines which also want to fiddle session stuff
is:

  if not hasattr(req, 'session'):
    req.session = Session.Session(req)

and then use req.session. This is what PSP does, presuming you aren't
using obsolete mod_python version. If you are using old mod_python
version, ensure you upgrade to mod_python 3.3.1.

BTW, why do you only want to use mod_python when there are lots of
options available for this today, many arguably a lot better than
mod_python?

Graham
From mihamina at lab.vectoris.fr  Tue Mar  3 00:01:53 2009
From: mihamina at lab.vectoris.fr (Mihamina Rakotomandimby (R12y))
Date: Tue Mar  3 00:02:04 2009
Subject: [mod_python] Publisher, how to handle sessions
In-Reply-To: <88e286470903022039v1d948d89j87e7b5c9698094ce@mail.gmail.com>
References: <49AC3F8E.8090509@lab.vectoris.fr>	
	<88e286470903021338v7b7c2467y1769dd6fbb8ff50c@mail.gmail.com>	
	<49ACB067.5030808@lab.vectoris.fr>
	<88e286470903022039v1d948d89j87e7b5c9698094ce@mail.gmail.com>
Message-ID: <49ACB9C1.30208@lab.vectoris.fr>

Graham Dumpleton wrote:
> BTW, why do you only want to use mod_python when there are lots of
> options available for this today, many arguably a lot better than
> mod_python?

Low to high level learning.

-- 
                              Chef de projet chez Vectoris
                                  Phone: +261 33 11 207 36
System: xUbuntu 8.10 with almost all from package install
    http://www.google.com/search?q=mihamina+rakotomandimby
From graham.dumpleton at gmail.com  Tue Mar  3 00:07:25 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Tue Mar  3 00:07:31 2009
Subject: [mod_python] Publisher, how to handle sessions
In-Reply-To: <49ACB9C1.30208@lab.vectoris.fr>
References: <49AC3F8E.8090509@lab.vectoris.fr>
	<88e286470903021338v7b7c2467y1769dd6fbb8ff50c@mail.gmail.com>
	<49ACB067.5030808@lab.vectoris.fr>
	<88e286470903022039v1d948d89j87e7b5c9698094ce@mail.gmail.com>
	<49ACB9C1.30208@lab.vectoris.fr>
Message-ID: <88e286470903022107s16f41912u9c5350c42b0ba450@mail.gmail.com>

2009/3/3 Mihamina Rakotomandimby (R12y) <mihamina@lab.vectoris.fr>:
> Graham Dumpleton wrote:
>>
>> BTW, why do you only want to use mod_python when there are lots of
>> options available for this today, many arguably a lot better than
>> mod_python?
>
> Low to high level learning.

Consider looking at Werkzeug then.

  http://werkzeug.pocoo.org/

Graham

> --
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? Chef de projet chez Vectoris
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? Phone: +261 33 11 207 36
> System: xUbuntu 8.10 with almost all from package install
> ? http://www.google.com/search?q=mihamina+rakotomandimby
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>

From mihamina at lab.vectoris.fr  Tue Mar  3 04:11:35 2009
From: mihamina at lab.vectoris.fr (Mihamina Rakotomandimby (R12y))
Date: Tue Mar  3 04:11:45 2009
Subject: [mod_python] "static" content is 404'ed
Message-ID: <49ACF447.6070203@lab.vectoris.fr>

Hi all,
This is the tree view:
http://lab.vectoris.fr/projects/vectoris/browser/EncycloPyDia/trunk
The template:
http://lab.vectoris.fr/projects/vectoris/browser/EncycloPyDia/trunk/index.html
The python script:
http://lab.vectoris.fr/projects/vectoris/browser/EncycloPyDia/trunk/index.py

The final goal is to make an FCKEditor appear.
My working copy is reachable (for me) at:
http://localhost/~mihamina/EncycloPyDia/
(I put the trunk into my $HOME/public_html/)

The intermediate problem is: when trying to reach
http://localhost/~mihamina/EncycloPyDia/tmp or
http://localhost/~mihamina/EncycloPyDia/fckeditor or
http://localhost/~mihamina/EncycloPyDia/source ...
wich exist, I face a 404 HTTP error.

Seems only *.py are allowed to be requested.

The FCKEditor is made of an iframe located in
http://localhost/~mihamina/EncycloPyDia/fckeditor/editor/fckeditor.html

Due to the current behaviour, it's not reached.
What should I setup in order to let some filesystem directories to be
reached?

Thank you.
-- 
                             Chef de projet chez Vectoris
                                 Phone: +261 33 11 207 36
System: xUbuntu 8.10 with almost all from package install
   http://www.google.com/search?q=mihamina+rakotomandimby
From graham.dumpleton at gmail.com  Tue Mar  3 04:55:06 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Tue Mar  3 04:55:12 2009
Subject: [mod_python] "static" content is 404'ed
In-Reply-To: <49ACF447.6070203@lab.vectoris.fr>
References: <49ACF447.6070203@lab.vectoris.fr>
Message-ID: <88e286470903030155u49d8d4a8p4685a21043667f05@mail.gmail.com>

2009/3/3 Mihamina Rakotomandimby (R12y) <mihamina@lab.vectoris.fr>:
> Hi all,
> This is the tree view:
> http://lab.vectoris.fr/projects/vectoris/browser/EncycloPyDia/trunk
> The template:
> http://lab.vectoris.fr/projects/vectoris/browser/EncycloPyDia/trunk/index.html
> The python script:
> http://lab.vectoris.fr/projects/vectoris/browser/EncycloPyDia/trunk/index.py
>
> The final goal is to make an FCKEditor appear.
> My working copy is reachable (for me) at:
> http://localhost/~mihamina/EncycloPyDia/
> (I put the trunk into my $HOME/public_html/)
>
> The intermediate problem is: when trying to reach
> http://localhost/~mihamina/EncycloPyDia/tmp or
> http://localhost/~mihamina/EncycloPyDia/fckeditor or
> http://localhost/~mihamina/EncycloPyDia/source ...
> wich exist, I face a 404 HTTP error.
>
> Seems only *.py are allowed to be requested.
>
> The FCKEditor is made of an iframe located in
> http://localhost/~mihamina/EncycloPyDia/fckeditor/editor/fckeditor.html
>
> Due to the current behaviour, it's not reached.
> What should I setup in order to let some filesystem directories to be
> reached?

How have you configured to have mod_python handlers
(mod_python.publisher) executed for requests.

If you are using SetHandler, that is your problem, as mod_python will
handle all requests in the directory.

In .htaccess of subdirectories, try adding:

  SetHandler None

Otherwise read:

  http://www.dscpl.com.au/wiki/ModPython/Articles/SetHandlerVersusAddHandler

and then post details of how you are setting up Apache to have your
mod_python stuff executed.

Graham
From mihamina at lab.vectoris.fr  Tue Mar  3 07:21:21 2009
From: mihamina at lab.vectoris.fr (Mihamina Rakotomandimby (R12y))
Date: Tue Mar  3 07:21:49 2009
Subject: [mod_python] "static" content is 404'ed
In-Reply-To: <88e286470903030155u49d8d4a8p4685a21043667f05@mail.gmail.com>
References: <49ACF447.6070203@lab.vectoris.fr>
	<88e286470903030155u49d8d4a8p4685a21043667f05@mail.gmail.com>
Message-ID: <49AD20C1.8080309@lab.vectoris.fr>

Graham Dumpleton wrote:
> How have you configured to have mod_python handlers
> (mod_python.publisher) executed for requests.

http://lab.vectoris.fr/projects/vectoris/browser/EncycloPyDia/trunk/.htaccess

> If you are using SetHandler, that is your problem, as mod_python will
> handle all requests in the directory.
> 
> In .htaccess of subdirectories, try adding:
>   SetHandler None

I'll try.

>   http://www.dscpl.com.au/wiki/ModPython/Articles/SetHandlerVersusAddHandler

Thanks.
-- 
                             Chef de projet chez Vectoris
                                 Phone: +261 33 11 207 36
System: xUbuntu 8.10 with almost all from package install
   http://www.google.com/search?q=mihamina+rakotomandimby
From noreply at ci.faniq.com  Sat Mar  7 02:33:43 2009
From: noreply at ci.faniq.com (Simi N)
Date: Sat Mar  7 02:33:48 2009
Subject: [mod_python] [SPAM] Simi N has sent you a private message
Message-ID: <200903070733.n277Xhlx009591@modpython.org>

An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090307/fb804aed/attachment.html
From dyamins at gmail.com  Sun Mar  8 22:26:43 2009
From: dyamins at gmail.com (Dan Yamins)
Date: Sun Mar  8 22:26:44 2009
Subject: [mod_python] problems installing on OS 10.5
Message-ID: <15e4667e0903081926l7e3fb5f0u91e79eba91c3dba2@mail.gmail.com>

Hi, I'm having problems building mod_python on Mac OS10.5.


Here's how the problem arose:

1) I got source for the 3.3.1 release.  I built the source following the
directions on the website (
http://www.modpython.org/live/current/doc-html/inst-compiling.html).    The
build seemed to have gone fine.


2) Then, I tried to configure apache.   At the end of the make install
process, it told me to add the following line to  my httpd.conf file:

   LoadModule python_module        libexec/apache2/mod_python.so

I did this, and then restarted apache.


3) At this point, I began to get the message "Firefox can't establish
connection to server..." for all the servers served by apache on my machine.



4) So, I ran the command apachectl -t .   This produced the following
output:


"syntax error on line 116 of /private/etc/apache2/httpd.conf: Cannot load
/usr/libexec/apache2/mod_python.so into server:
dlopen(/usr/libexec/apache2/mod_python.so, 10): no suitable image found.
Did find:\n\t/usr/libexec/apache2/mod_python.so: no matching architecture in
universal wrapper"


5) So I looked up this error on google.  Apparently this is a known problem
(see e.g.
http://mail-archives.apache.org/mod_mbox/quetz-mod_python-dev/200807.mbox/%3C569803375.1216130972521.JavaMail.jira@brutus%3E).
It was suggested that the the problem is that "the compiler is not creating
a full fat version of the Apache module for mod_wsgi and when it is loaded
into Apache, it can't find correct version for the architecture."

I followed these instructions here:
http://code.google.com/p/modwsgi/wiki/InstallationOnMacOSX
(-- albeit they're for wsgi, but shold be similar for mod_python).

After modifying the Makefile and redoing make && sudo make install, it still
does not work.  I still get the same error from apachectl, and
running "file /usr/libexec/apache2/mod_python.so"  shows that I still don't
have 64bit binaries:

"/usr/libexec/apache2/mod_python.so: Mach-O universal binary with 2
architectures
/usr/libexec/apache2/mod_python.so (for architecture i386):    Mach-O bundle
i386
/usr/libexec/apache2/mod_python.so (for architecture ppc):    Mach-O bundle
ppc"


6) So, what do I do?

Thanks,
Dan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090308/ec9d3101/attachment.html
From graham.dumpleton at gmail.com  Sun Mar  8 22:34:46 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Sun Mar  8 22:34:52 2009
Subject: [mod_python] problems installing on OS 10.5
In-Reply-To: <15e4667e0903081926l7e3fb5f0u91e79eba91c3dba2@mail.gmail.com>
References: <15e4667e0903081926l7e3fb5f0u91e79eba91c3dba2@mail.gmail.com>
Message-ID: <88e286470903081934w64214dffh802dd8ef294a130e@mail.gmail.com>

2009/3/9 Dan Yamins <dyamins@gmail.com>:
> Hi, I'm having problems building mod_python on Mac OS10.5.
>
>
> Here's how the problem arose:
>
> 1) I got source for the 3.3.1 release.? I built the source following the
> directions on the website
> (http://www.modpython.org/live/current/doc-html/inst-compiling.html).??? The
> build seemed to have gone fine.
>
>
> 2) Then, I tried to configure apache. ? At the end of the make install
> process, it told me to add the following line to? my httpd.conf file:
>
> ?? LoadModule python_module??? ??? libexec/apache2/mod_python.so
>
> I did this, and then restarted apache.
>
>
> 3) At this point, I began to get the message "Firefox can't establish
> connection to server..." for all the servers served by apache on my machine.
>
>
> 4) So, I ran the command apachectl -t .?? This produced the following
> output:
>
>
> "syntax error on line 116 of /private/etc/apache2/httpd.conf: Cannot load
> /usr/libexec/apache2/mod_python.so into server:
> dlopen(/usr/libexec/apache2/mod_python.so, 10): no suitable image found.
> Did find:\n\t/usr/libexec/apache2/mod_python.so: no matching architecture in
> universal wrapper"
>
>
> 5) So I looked up this error on google.? Apparently this is a known problem
> (see e.g.
> http://mail-archives.apache.org/mod_mbox/quetz-mod_python-dev/200807.mbox/%3C569803375.1216130972521.JavaMail.jira@brutus%3E).
> It was suggested that the the problem is that "the compiler is not creating
> a full fat version of the Apache module for mod_wsgi and when it is loaded
> into Apache, it can't find correct version for the architecture."
>
> I followed these instructions here:
> http://code.google.com/p/modwsgi/wiki/InstallationOnMacOSX
> (-- albeit they're for wsgi, but shold be similar for mod_python).
>
> After modifying the Makefile and redoing make && sudo make install, it still
> does not work.? I still get the same error from apachectl, and
> running "file /usr/libexec/apache2/mod_python.so"? shows that I still don't
> have 64bit binaries:
>
> "/usr/libexec/apache2/mod_python.so: Mach-O universal binary with 2
> architectures
> /usr/libexec/apache2/mod_python.so (for architecture i386):??? Mach-O bundle
> i386
> /usr/libexec/apache2/mod_python.so (for architecture ppc):??? Mach-O bundle
> ppc"
>
>
> 6) So, what do I do?

Use source code for mod_python from mod_python subversion repository
as that version includes all MacOS X Leopard fixes.

Even better, if you are only wanting to host an application that
support WSGI interface and not using mod_python specific APIs, use
mod_wsgi instead. Pretty well all Python web applications and
frameworks support WSGI interface these days and mod_wsgi is arguably
a better solution these days.

Graham

From dyamins at gmail.com  Sun Mar  8 23:16:55 2009
From: dyamins at gmail.com (Dan Yamins)
Date: Sun Mar  8 23:16:57 2009
Subject: [mod_python] problems installing on OS 10.5
In-Reply-To: <88e286470903081934w64214dffh802dd8ef294a130e@mail.gmail.com>
References: <15e4667e0903081926l7e3fb5f0u91e79eba91c3dba2@mail.gmail.com>
	<88e286470903081934w64214dffh802dd8ef294a130e@mail.gmail.com>
Message-ID: <15e4667e0903082016t56095e35x4d16a9969de91043@mail.gmail.com>

>
> Use source code for mod_python from mod_python subversion repository
> as that version includes all MacOS X Leopard fixes.
>

Graham, thanks for your quick reply.   I already tried this, actually, as
one of the pages I found said that the svn trunk had the fixes in it.
However, I wasn't able to get anywhere with this approach since I couldn't
compile the code I got from trunk.

If you're interested in the error it was, at the "make stage:

"
daniel-yaminss-macbook-pro:mod_python-trunk danielyamins$ make

Compiling for DSO.

<snip ...>

/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5/pyport.h:761:2:
error: #error "LONG_BIT definition appears wrong for platform (bad gcc/glibc
config?)."
lipo: can't figure out the architecture type of:
/var/folders/RL/RL57YSioGTWoMJh4O1-SFk+++TI/-Tmp-//ccKJqCJ6.out
apxs:Error: Command failed with rc=65536
.
make[1]: *** [mod_python.so] Error 1
make: *** [do_dso] Error 2
"

I decided not to follow up on this, but if it's the only way to get the
fixes, I'll try to figure it out.

>Even better, if you are only wanting to host an application that
>support WSGI interface and not using mod_python specific APIs, use
>mod_wsgi instead. Pretty well all Python web applications and
>frameworks support WSGI interface these days and mod_wsgi is arguably a
better solution these days

Well -- here is what I want to do -- tell me if mod_python is the right
solution -- perhaps I'm barking up the wrong tree entirely.   I've built an
application currently using CGI.   It's quite slow, in part because each
request to the application requires the importation of a number of fairly
heavy modules.   (e.g. it will take 3-4 secs to load the page not because of
the dynamic code running in each cgi module but because of the overhead of
having to restart python interpreter and reload all the modules the code
uses).  I was hoping using mod_python as a way to not have to restart the
python interpreter.  But maybe mod_wsgi is the right thing? Sorry for my
ignorance, and happy to switch approaches if wsgi would be better for my
need.


thanks,
Dan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090308/de22f4f9/attachment.html
From graham.dumpleton at gmail.com  Sun Mar  8 23:33:39 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Sun Mar  8 23:33:45 2009
Subject: [mod_python] problems installing on OS 10.5
In-Reply-To: <15e4667e0903082016t56095e35x4d16a9969de91043@mail.gmail.com>
References: <15e4667e0903081926l7e3fb5f0u91e79eba91c3dba2@mail.gmail.com>
	<88e286470903081934w64214dffh802dd8ef294a130e@mail.gmail.com>
	<15e4667e0903082016t56095e35x4d16a9969de91043@mail.gmail.com>
Message-ID: <88e286470903082033v2ae4f300uf5264263f720b63c@mail.gmail.com>

2009/3/9 Dan Yamins <dyamins@gmail.com>:
>
>>
>> Use source code for mod_python from mod_python subversion repository
>> as that version includes all MacOS X Leopard fixes.
>
> Graham, thanks for your quick reply.?? I already tried this, actually, as
> one of the pages I found said that the svn trunk had the fixes in it.
> However, I wasn't able to get anywhere with this approach since I couldn't
> compile the code I got from trunk.
>
> If you're interested in the error it was, at the "make stage:
>
> "
> daniel-yaminss-macbook-pro:mod_python-trunk danielyamins$ make
>
> Compiling for DSO.
>
> <snip ...>
>
> /Library/Frameworks/Python.framework/Versions/2.5/include/python2.5/pyport.h:761:2:
> error: #error "LONG_BIT definition appears wrong for platform (bad gcc/glibc
> config?)."
> lipo: can't figure out the architecture type of:
> /var/folders/RL/RL57YSioGTWoMJh4O1-SFk+++TI/-Tmp-//ccKJqCJ6.out
> apxs:Error: Command failed with rc=65536
> .
> make[1]: *** [mod_python.so] Error 1
> make: *** [do_dso] Error 2
> "
>
> I decided not to follow up on this, but if it's the only way to get the
> fixes, I'll try to figure it out.

This is because you are trying to use MacPorts version of Python, or
one you installed yourself, which doesn't include all architectures as
part of the Python installation. That or you are using version of GCC
which didn't come with MacOS X and it doesn't support generation of 64
bit binaries properly. This is covered in the mod_wsgi documentation.

Whose Python installation are you using? If your compiled from source
code, what 'configure' line did you use with Python when installing
it?

>>Even better, if you are only wanting to host an application that
>>support WSGI interface and not using mod_python specific APIs, use
>>mod_wsgi instead. Pretty well all Python web applications and
>>frameworks support WSGI interface these days and mod_wsgi is arguably a
>> better solution these days
>
> Well -- here is what I want to do -- tell me if mod_python is the right
> solution -- perhaps I'm barking up the wrong tree entirely. ? I've built an
> application currently using CGI.?? It's quite slow, in part because each
> request to the application requires the importation of a number of fairly
> heavy modules.?? (e.g. it will take 3-4 secs to load the page not because of
> the dynamic code running in each cgi module but because of the overhead of
> having to restart python interpreter and reload all the modules the code
> uses).? I was hoping using mod_python as a way to not have to restart the
> python interpreter.? But maybe mod_wsgi is the right thing? Sorry for my
> ignorance, and happy to switch approaches if wsgi would be better for my
> need.

If it is CGI, then see about turning it into a WSGI application. The
main difference is that the request environment is passed as a
parameter into your application rather than it being in os.environ.
When generating a response, you need to return it from the
application, rather that just using 'print' to produce it. Another
thing that may catch you is that since now persistent if using
mod_wsgi, you need to ensure you don't preserve temporary working
state in variables that could be incorrectly accessed by subsequent
request. Otherwise usually not too hard to convert a CGI application
to WSGI.

Finally, if your scripts are multithread safe, you would want to
ensure that you use mod_wsgi daemon mode with only a single threaded
process.

Graham

From dyamins at gmail.com  Mon Mar  9 00:29:33 2009
From: dyamins at gmail.com (Dan Yamins)
Date: Mon Mar  9 00:29:36 2009
Subject: [mod_python] problems installing on OS 10.5
In-Reply-To: <88e286470903082033v2ae4f300uf5264263f720b63c@mail.gmail.com>
References: <15e4667e0903081926l7e3fb5f0u91e79eba91c3dba2@mail.gmail.com>
	<88e286470903081934w64214dffh802dd8ef294a130e@mail.gmail.com>
	<15e4667e0903082016t56095e35x4d16a9969de91043@mail.gmail.com>
	<88e286470903082033v2ae4f300uf5264263f720b63c@mail.gmail.com>
Message-ID: <15e4667e0903082129p6b6351b7p6744caff4a8b20e6@mail.gmail.com>

>
>
> This is because you are trying to use MacPorts version of Python, or
> one you installed yourself, which doesn't include all architectures as
> part of the Python installation. That or you are using version of GCC
> which didn't come with MacOS X and it doesn't support generation of 64
> bit binaries properly. This is covered in the mod_wsgi documentation.
>

Well -- I guess I'm using the GCC that came with Xcode.    The python I'm
using the is the build of 2.5.2 that I got as a binary from www.python.org,
the frameork install that's gets installed in:

/Library/Frameworks/Python.framework/Versions/Current/bin/python

I've never had a problem building 64 binaries before ...


If it is CGI, then see about turning it into a WSGI application.


So, you're saying that the object of not having to have a new python
interprerter opened for every request is achieved properly if I use wsgi?


Thanks very much for this information below, though I think I need to
understand the wsgi model sort of from scratch ...

Dan

The
> main difference is that the request environment is passed as a
> parameter into your application rather than it being in os.environ.
> When generating a response, you need to return it from the
> application, rather that just using 'print' to produce it. Another
> thing that may catch you is that since now persistent if using
> mod_wsgi, you need to ensure you don't preserve temporary working
> state in variables that could be incorrectly accessed by subsequent
> request. Otherwise usually not too hard to convert a CGI application
> to WSGI.
>
> Finally, if your scripts are multithread safe, you would want to
> ensure that you use mod_wsgi daemon mode with only a single threaded
> process.
>
> Graham
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090309/f366c536/attachment-0001.html
From graham.dumpleton at gmail.com  Mon Mar  9 00:34:16 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Mon Mar  9 00:34:22 2009
Subject: [mod_python] problems installing on OS 10.5
In-Reply-To: <15e4667e0903082129p6b6351b7p6744caff4a8b20e6@mail.gmail.com>
References: <15e4667e0903081926l7e3fb5f0u91e79eba91c3dba2@mail.gmail.com>
	<88e286470903081934w64214dffh802dd8ef294a130e@mail.gmail.com>
	<15e4667e0903082016t56095e35x4d16a9969de91043@mail.gmail.com>
	<88e286470903082033v2ae4f300uf5264263f720b63c@mail.gmail.com>
	<15e4667e0903082129p6b6351b7p6744caff4a8b20e6@mail.gmail.com>
Message-ID: <88e286470903082134v3b9e0e8fia16665b8d961d031@mail.gmail.com>

2009/3/9 Dan Yamins <dyamins@gmail.com>:
>
>>
>>
>> This is because you are trying to use MacPorts version of Python, or
>> one you installed yourself, which doesn't include all architectures as
>> part of the Python installation. That or you are using version of GCC
>> which didn't come with MacOS X and it doesn't support generation of 64
>> bit binaries properly. This is covered in the mod_wsgi documentation.
>
> Well -- I guess I'm using the GCC that came with Xcode. ?? The python I'm
> using the is the build of 2.5.2 that I got as a binary from www.python.org,
> the frameork install that's gets installed in:
>
> /Library/Frameworks/Python.framework/Versions/Current/bin/python
>
> I've never had a problem building 64 binaries before ...

The binary MacOS X installer from www.python.org doesn't have 64 bit
architecture built into the framework and thus why it fails. This is
again mentioned in the mod_wsgi documentation. :-)

>> If it is CGI, then see about turning it into a WSGI application.
>
> So, you're saying that the object of not having to have a new python
> interprerter opened for every request is achieved properly if I use wsgi?
>
>
> Thanks very much for this information below, though I think I need to
> understand the wsgi model sort of from scratch ...

It isn't just the WSGI model, but how it is hosted. Technically you
can host WSGI within CGI and a separate process is still created for
each request. Even Google App Engine which supports WSGI has a mode
whereby process only used for one request. Other hosting mechanisms,
including a different mode of Google App Engine support the
application being persistent.

For a discussion about process/thread models available with mod_wsgi
have a read of:

  http://code.google.com/p/modwsgi/wiki/ProcessesAndThreading

Graham

> Dan
>
>> The
>> main difference is that the request environment is passed as a
>> parameter into your application rather than it being in os.environ.
>> When generating a response, you need to return it from the
>> application, rather that just using 'print' to produce it. Another
>> thing that may catch you is that since now persistent if using
>> mod_wsgi, you need to ensure you don't preserve temporary working
>> state in variables that could be incorrectly accessed by subsequent
>> request. Otherwise usually not too hard to convert a CGI application
>> to WSGI.
>>
>> Finally, if your scripts are multithread safe, you would want to
>> ensure that you use mod_wsgi daemon mode with only a single threaded
>> process.
>>
>> Graham
>
>

From luismahou at gmail.com  Mon Mar  9 08:10:30 2009
From: luismahou at gmail.com (Luis Manuel Parrondo Merino)
Date: Mon Mar  9 08:10:36 2009
Subject: [mod_python] mod_python.so is not copied into Apache module folder
	in Windows
Message-ID: <dd33aad80903090510j3bce1db1k52e6944cd2dc28f0@mail.gmail.com>

Hi all,
I hope you can help me with this problem:
I'm using Apache 2.2.11 and Python 2.5.4 and I'm trying to install
mod_python 3.3.1 (on Windows Vista). mod_python installer 'seems' to work:
First, it copies the necessary files into Python directory, and then ask me
for the Apache base directory.
The first task is done properly. At least, in my Python distribution appears
many files related with mod_python.
But I think that the second one is going wrong. I can't find mod_python.so
file into Apache modules directory. And the installer doesn't complain about
anything.

I suppose that I'm missing something, but I'm totally block. Can anyone help
me?

Thanks in advance,
Luisma
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090309/b5af3ce0/attachment.html
From tonightslastsong at gmail.com  Mon Mar  9 11:20:13 2009
From: tonightslastsong at gmail.com (Tim Valenta)
Date: Mon Mar  9 11:20:15 2009
Subject: [mod_python] mod_python.so is not copied into Apache module 
	folder in Windows
In-Reply-To: <dd33aad80903090510j3bce1db1k52e6944cd2dc28f0@mail.gmail.com>
References: <dd33aad80903090510j3bce1db1k52e6944cd2dc28f0@mail.gmail.com>
Message-ID: <d01b8cf20903090820m654efbd9reae25b255348f7a0@mail.gmail.com>

I've actually experience the same thing each and every time I installed on
Windows.  Once, I installed, ran apache, it complained about the same error.
 then I ran it again and it worked fine.
If that doesn't work, then you've likely forgotten something very subtle.  I
always forget what it is, though.. You'll have to give me a little while to
remember.. I'm toying with my install right now to try to remember what it
was.

It's really a cryptic error, because the files *are* in fact in place, yet
apache's log just says that it can't find the file.

2009/3/9 Luis Manuel Parrondo Merino <luismahou@gmail.com>

> Hi all,
> I hope you can help me with this problem:
> I'm using Apache 2.2.11 and Python 2.5.4 and I'm trying to install
> mod_python 3.3.1 (on Windows Vista). mod_python installer 'seems' to work:
> First, it copies the necessary files into Python directory, and then ask me
> for the Apache base directory.
> The first task is done properly. At least, in my Python distribution
> appears many files related with mod_python.
> But I think that the second one is going wrong. I can't find mod_python.so
> file into Apache modules directory. And the installer doesn't complain about
> anything.
>
> I suppose that I'm missing something, but I'm totally block. Can anyone
> help me?
>
> Thanks in advance,
> Luisma
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>
>


-- 
"If you had a katana, ..."
Party like it's 1234567890
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090309/2cbff566/attachment.html
From tonightslastsong at gmail.com  Mon Mar  9 11:55:40 2009
From: tonightslastsong at gmail.com (Tim Valenta)
Date: Mon Mar  9 11:55:46 2009
Subject: [mod_python] mod_python.so is not copied into Apache module 
	folder in Windows
In-Reply-To: <d01b8cf20903090820m654efbd9reae25b255348f7a0@mail.gmail.com>
References: <dd33aad80903090510j3bce1db1k52e6944cd2dc28f0@mail.gmail.com>
	<d01b8cf20903090820m654efbd9reae25b255348f7a0@mail.gmail.com>
Message-ID: <d01b8cf20903090855p3502b4c4na5f6e85f1c550dde@mail.gmail.com>

You know.. I think I was remembering an annoying installation of SVN into
apache, which caused all kinds of strange "missing file but not really"
trouble.
I just went through the process again (on Windows 7, actually, but it's the
same thing.  That's what I use at home, running mod_python without trouble),
and apache itself seems to be fine.

Ah, I may have misread your initial message.. "I can't find mod_python.so
file into Apache modules directory" .. It should have done that for you.
 All you have to do is add a line into APACHE-INSTALLATION/conf/httpd.conf.
 There's a big section with "LoadModule" lines.  Anywhere in there just add
another which looks like this:

LoadModule python_module modules/mod_python.so

Have you done that part?

Tim

On Mon, Mar 9, 2009 at 9:20 AM, Tim Valenta <tonightslastsong@gmail.com>wrote:

> I've actually experience the same thing each and every time I installed on
> Windows.  Once, I installed, ran apache, it complained about the same error.
>  then I ran it again and it worked fine.
> If that doesn't work, then you've likely forgotten something very subtle.
>  I always forget what it is, though.. You'll have to give me a little while
> to remember.. I'm toying with my install right now to try to remember what
> it was.
>
> It's really a cryptic error, because the files *are* in fact in place, yet
> apache's log just says that it can't find the file.
>
> 2009/3/9 Luis Manuel Parrondo Merino <luismahou@gmail.com>
>
>> Hi all,
>> I hope you can help me with this problem:
>> I'm using Apache 2.2.11 and Python 2.5.4 and I'm trying to install
>> mod_python 3.3.1 (on Windows Vista). mod_python installer 'seems' to work:
>> First, it copies the necessary files into Python directory, and then ask me
>> for the Apache base directory.
>> The first task is done properly. At least, in my Python distribution
>> appears many files related with mod_python.
>> But I think that the second one is going wrong. I can't find mod_python.so
>> file into Apache modules directory. And the installer doesn't complain about
>> anything.
>>
>> I suppose that I'm missing something, but I'm totally block. Can anyone
>> help me?
>>
>> Thanks in advance,
>> Luisma
>>
>> _______________________________________________
>> Mod_python mailing list
>> Mod_python@modpython.org
>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>
>>
>
>
> --
> "If you had a katana, ..."
> Party like it's 1234567890
>



-- 
"If you had a katana, ..."
Party like it's 1234567890
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090309/48db5712/attachment.html
From jdunn at nodetwo.org  Mon Mar  9 17:22:51 2009
From: jdunn at nodetwo.org (Jordan Dunn)
Date: Mon Mar  9 17:22:56 2009
Subject: [mod_python] mod_python wont use version 2.5.4 on windows
Message-ID: <a0e02cbb0903091422p3e4582f7ob35fd9b022cae6ac@mail.gmail.com>

i installed apache2.2 and python 2.5.4, and when i installed mod_python it
installed fine, but in the apache logs it says its looking for 2.5 instead
of 2.5.4? how can i fix this?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090309/0e932451/attachment.html
From tonightslastsong at gmail.com  Mon Mar  9 17:26:55 2009
From: tonightslastsong at gmail.com (Tim Valenta)
Date: Mon Mar  9 17:27:00 2009
Subject: [mod_python] mod_python wont use version 2.5.4 on windows
In-Reply-To: <a0e02cbb0903091422p3e4582f7ob35fd9b022cae6ac@mail.gmail.com>
References: <a0e02cbb0903091422p3e4582f7ob35fd9b022cae6ac@mail.gmail.com>
Message-ID: <d01b8cf20903091426r27ad577cq908431bb06ff4648@mail.gmail.com>

If I'm not mistaken, I think it still runs, right?  It does give a warning,
but that is because that version was compiled with Python 2.5 (straight 2.5,
not 2.5.2 or 2.5.4)
I'm not sure if there's anything you'll be able to simply change to fix it.
 It shouldn't have any problems though.  (At least, I haven't experienced
any.)

Tim

2009/3/9 Jordan Dunn <jdunn@nodetwo.org>

> i installed apache2.2 and python 2.5.4, and when i installed mod_python it
> installed fine, but in the apache logs it says its looking for 2.5 instead
> of 2.5.4? how can i fix this?
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>
>


-- 
"If you had a katana, ..."
Party like it's 1234567890
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090309/b8bc71ae/attachment.html
From graham.dumpleton at gmail.com  Mon Mar  9 17:30:04 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Mon Mar  9 17:30:09 2009
Subject: [mod_python] mod_python wont use version 2.5.4 on windows
In-Reply-To: <d01b8cf20903091426r27ad577cq908431bb06ff4648@mail.gmail.com>
References: <a0e02cbb0903091422p3e4582f7ob35fd9b022cae6ac@mail.gmail.com>
	<d01b8cf20903091426r27ad577cq908431bb06ff4648@mail.gmail.com>
Message-ID: <88e286470903091430j37e894a6gc1b2a5215da5b647@mail.gmail.com>

Correct, it is effectively a warning only in this case. Because
Windows uses a DLL for Python library it automatically picks up the
newer version.

It would however be a problem on UNIX if mod_python had been compiled
against a static Python library instead of a shared library.

Graham

2009/3/10 Tim Valenta <tonightslastsong@gmail.com>:
> If I'm not mistaken, I think it still runs, right? ?It does give a warning,
> but that is because that version was compiled with Python 2.5 (straight 2.5,
> not 2.5.2 or 2.5.4)
> I'm not sure if there's anything you'll be able to simply change to fix it.
> ?It shouldn't have any problems though. ?(At least, I haven't experienced
> any.)
> Tim
>
> 2009/3/9 Jordan Dunn <jdunn@nodetwo.org>
>>
>> i installed apache2.2 and python 2.5.4, and when i installed mod_python it
>> installed fine, but in the apache logs it says its looking for 2.5 instead
>> of 2.5.4? how can i fix this?
>> _______________________________________________
>> Mod_python mailing list
>> Mod_python@modpython.org
>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>
>
>
>
> --
> "If you had a katana, ..."
> Party like it's 1234567890
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>
>

From graham.dumpleton at gmail.com  Mon Mar  9 17:42:27 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Mon Mar  9 17:42:34 2009
Subject: [mod_python] mod_python wont use version 2.5.4 on windows
In-Reply-To: <a0e02cbb0903091436h74e42c26y8ece2d5d209061e2@mail.gmail.com>
References: <a0e02cbb0903091422p3e4582f7ob35fd9b022cae6ac@mail.gmail.com>
	<d01b8cf20903091426r27ad577cq908431bb06ff4648@mail.gmail.com>
	<88e286470903091430j37e894a6gc1b2a5215da5b647@mail.gmail.com>
	<a0e02cbb0903091436h74e42c26y8ece2d5d209061e2@mail.gmail.com>
Message-ID: <88e286470903091442x39daeb4cua9fcca5c3968a368@mail.gmail.com>

2009/3/10 Jordan Dunn <jdunn@nodetwo.org>:
> the only problem in having is that in IE7 it is printing the source instead
> of just the html.

Unrelated. If you are having that problem you mustn't be configuring
Apache correctly for your specific mod_python application.

Please use reply-all and keep followups on the list.

Graham

> On Mon, Mar 9, 2009 at 4:30 PM, Graham Dumpleton
> <graham.dumpleton@gmail.com> wrote:
>>
>> Correct, it is effectively a warning only in this case. Because
>> Windows uses a DLL for Python library it automatically picks up the
>> newer version.
>>
>> It would however be a problem on UNIX if mod_python had been compiled
>> against a static Python library instead of a shared library.
>>
>> Graham
>>
>> 2009/3/10 Tim Valenta <tonightslastsong@gmail.com>:
>> > If I'm not mistaken, I think it still runs, right? ?It does give a
>> > warning,
>> > but that is because that version was compiled with Python 2.5 (straight
>> > 2.5,
>> > not 2.5.2 or 2.5.4)
>> > I'm not sure if there's anything you'll be able to simply change to fix
>> > it.
>> > ?It shouldn't have any problems though. ?(At least, I haven't
>> > experienced
>> > any.)
>> > Tim
>> >
>> > 2009/3/9 Jordan Dunn <jdunn@nodetwo.org>
>> >>
>> >> i installed apache2.2 and python 2.5.4, and when i installed mod_python
>> >> it
>> >> installed fine, but in the apache logs it says its looking for 2.5
>> >> instead
>> >> of 2.5.4? how can i fix this?
>> >> _______________________________________________
>> >> Mod_python mailing list
>> >> Mod_python@modpython.org
>> >> http://mailman.modpython.org/mailman/listinfo/mod_python
>> >>
>> >
>> >
>> >
>> > --
>> > "If you had a katana, ..."
>> > Party like it's 1234567890
>> >
>> > _______________________________________________
>> > Mod_python mailing list
>> > Mod_python@modpython.org
>> > http://mailman.modpython.org/mailman/listinfo/mod_python
>> >
>> >
>
>

From tonightslastsong at gmail.com  Mon Mar  9 17:52:15 2009
From: tonightslastsong at gmail.com (Tim Valenta)
Date: Mon Mar  9 17:52:20 2009
Subject: [mod_python] mod_python wont use version 2.5.4 on windows
In-Reply-To: <88e286470903091442x39daeb4cua9fcca5c3968a368@mail.gmail.com>
References: <a0e02cbb0903091422p3e4582f7ob35fd9b022cae6ac@mail.gmail.com>
	<d01b8cf20903091426r27ad577cq908431bb06ff4648@mail.gmail.com>
	<88e286470903091430j37e894a6gc1b2a5215da5b647@mail.gmail.com>
	<a0e02cbb0903091436h74e42c26y8ece2d5d209061e2@mail.gmail.com>
	<88e286470903091442x39daeb4cua9fcca5c3968a368@mail.gmail.com>
Message-ID: <d01b8cf20903091452u37964d5en54d2ec7bccd55e1b@mail.gmail.com>

Make sure you set the content type to text/html instead of what the default
is.  I don't think mod_python is going to do that part for you.
http://www.modpython.org/pipermail/mod_python/2006-November/022587.html

On Mon, Mar 9, 2009 at 3:42 PM, Graham Dumpleton <graham.dumpleton@gmail.com
> wrote:

> 2009/3/10 Jordan Dunn <jdunn@nodetwo.org>:
> > the only problem in having is that in IE7 it is printing the source
> instead
> > of just the html.
>
> Unrelated. If you are having that problem you mustn't be configuring
> Apache correctly for your specific mod_python application.
>
> Please use reply-all and keep followups on the list.
>
> Graham
>
> > On Mon, Mar 9, 2009 at 4:30 PM, Graham Dumpleton
> > <graham.dumpleton@gmail.com> wrote:
> >>
> >> Correct, it is effectively a warning only in this case. Because
> >> Windows uses a DLL for Python library it automatically picks up the
> >> newer version.
> >>
> >> It would however be a problem on UNIX if mod_python had been compiled
> >> against a static Python library instead of a shared library.
> >>
> >> Graham
> >>
> >> 2009/3/10 Tim Valenta <tonightslastsong@gmail.com>:
> >> > If I'm not mistaken, I think it still runs, right?  It does give a
> >> > warning,
> >> > but that is because that version was compiled with Python 2.5
> (straight
> >> > 2.5,
> >> > not 2.5.2 or 2.5.4)
> >> > I'm not sure if there's anything you'll be able to simply change to
> fix
> >> > it.
> >> >  It shouldn't have any problems though.  (At least, I haven't
> >> > experienced
> >> > any.)
> >> > Tim
> >> >
> >> > 2009/3/9 Jordan Dunn <jdunn@nodetwo.org>
> >> >>
> >> >> i installed apache2.2 and python 2.5.4, and when i installed
> mod_python
> >> >> it
> >> >> installed fine, but in the apache logs it says its looking for 2.5
> >> >> instead
> >> >> of 2.5.4? how can i fix this?
> >> >> _______________________________________________
> >> >> Mod_python mailing list
> >> >> Mod_python@modpython.org
> >> >> http://mailman.modpython.org/mailman/listinfo/mod_python
> >> >>
> >> >
> >> >
> >> >
> >> > --
> >> > "If you had a katana, ..."
> >> > Party like it's 1234567890
> >> >
> >> > _______________________________________________
> >> > Mod_python mailing list
> >> > Mod_python@modpython.org
> >> > http://mailman.modpython.org/mailman/listinfo/mod_python
> >> >
> >> >
> >
> >
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>



-- 
"If you had a katana, ..."
Party like it's 1234567890
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090309/a8f2e089/attachment.html
From jdunn at nodetwo.org  Mon Mar  9 18:09:24 2009
From: jdunn at nodetwo.org (Jordan Dunn)
Date: Mon Mar  9 18:09:30 2009
Subject: [mod_python] mod_python wont use version 2.5.4 on windows
In-Reply-To: <d01b8cf20903091452u37964d5en54d2ec7bccd55e1b@mail.gmail.com>
References: <a0e02cbb0903091422p3e4582f7ob35fd9b022cae6ac@mail.gmail.com>
	<d01b8cf20903091426r27ad577cq908431bb06ff4648@mail.gmail.com>
	<88e286470903091430j37e894a6gc1b2a5215da5b647@mail.gmail.com>
	<a0e02cbb0903091436h74e42c26y8ece2d5d209061e2@mail.gmail.com>
	<88e286470903091442x39daeb4cua9fcca5c3968a368@mail.gmail.com>
	<d01b8cf20903091452u37964d5en54d2ec7bccd55e1b@mail.gmail.com>
Message-ID: <a0e02cbb0903091509s5d3fbfe6j964e9e19920a2fb7@mail.gmail.com>

do you have to set that if your using publisher instead of psp?

On Mon, Mar 9, 2009 at 4:52 PM, Tim Valenta <tonightslastsong@gmail.com>wrote:

> Make sure you set the content type to text/html instead of what the default
> is.  I don't think mod_python is going to do that part for you.
> http://www.modpython.org/pipermail/mod_python/2006-November/022587.html
>
>
> On Mon, Mar 9, 2009 at 3:42 PM, Graham Dumpleton <
> graham.dumpleton@gmail.com> wrote:
>
>> 2009/3/10 Jordan Dunn <jdunn@nodetwo.org>:
>> > the only problem in having is that in IE7 it is printing the source
>> instead
>> > of just the html.
>>
>> Unrelated. If you are having that problem you mustn't be configuring
>> Apache correctly for your specific mod_python application.
>>
>> Please use reply-all and keep followups on the list.
>>
>> Graham
>>
>> > On Mon, Mar 9, 2009 at 4:30 PM, Graham Dumpleton
>> > <graham.dumpleton@gmail.com> wrote:
>> >>
>> >> Correct, it is effectively a warning only in this case. Because
>> >> Windows uses a DLL for Python library it automatically picks up the
>> >> newer version.
>> >>
>> >> It would however be a problem on UNIX if mod_python had been compiled
>> >> against a static Python library instead of a shared library.
>> >>
>> >> Graham
>> >>
>> >> 2009/3/10 Tim Valenta <tonightslastsong@gmail.com>:
>> >> > If I'm not mistaken, I think it still runs, right?  It does give a
>> >> > warning,
>> >> > but that is because that version was compiled with Python 2.5
>> (straight
>> >> > 2.5,
>> >> > not 2.5.2 or 2.5.4)
>> >> > I'm not sure if there's anything you'll be able to simply change to
>> fix
>> >> > it.
>> >> >  It shouldn't have any problems though.  (At least, I haven't
>> >> > experienced
>> >> > any.)
>> >> > Tim
>> >> >
>> >> > 2009/3/9 Jordan Dunn <jdunn@nodetwo.org>
>> >> >>
>> >> >> i installed apache2.2 and python 2.5.4, and when i installed
>> mod_python
>> >> >> it
>> >> >> installed fine, but in the apache logs it says its looking for 2.5
>> >> >> instead
>> >> >> of 2.5.4? how can i fix this?
>> >> >> _______________________________________________
>> >> >> Mod_python mailing list
>> >> >> Mod_python@modpython.org
>> >> >> http://mailman.modpython.org/mailman/listinfo/mod_python
>> >> >>
>> >> >
>> >> >
>> >> >
>> >> > --
>> >> > "If you had a katana, ..."
>> >> > Party like it's 1234567890
>> >> >
>> >> > _______________________________________________
>> >> > Mod_python mailing list
>> >> > Mod_python@modpython.org
>> >> > http://mailman.modpython.org/mailman/listinfo/mod_python
>> >> >
>> >> >
>> >
>> >
>>
>> _______________________________________________
>> Mod_python mailing list
>> Mod_python@modpython.org
>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>
>
>
>
> --
> "If you had a katana, ..."
> Party like it's 1234567890
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090309/17212e0f/attachment-0001.html
From tonightslastsong at gmail.com  Mon Mar  9 18:11:22 2009
From: tonightslastsong at gmail.com (Tim Valenta)
Date: Mon Mar  9 18:11:28 2009
Subject: [mod_python] mod_python wont use version 2.5.4 on windows
In-Reply-To: <a0e02cbb0903091509s5d3fbfe6j964e9e19920a2fb7@mail.gmail.com>
References: <a0e02cbb0903091422p3e4582f7ob35fd9b022cae6ac@mail.gmail.com>
	<d01b8cf20903091426r27ad577cq908431bb06ff4648@mail.gmail.com>
	<88e286470903091430j37e894a6gc1b2a5215da5b647@mail.gmail.com>
	<a0e02cbb0903091436h74e42c26y8ece2d5d209061e2@mail.gmail.com>
	<88e286470903091442x39daeb4cua9fcca5c3968a368@mail.gmail.com>
	<d01b8cf20903091452u37964d5en54d2ec7bccd55e1b@mail.gmail.com>
	<a0e02cbb0903091509s5d3fbfe6j964e9e19920a2fb7@mail.gmail.com>
Message-ID: <d01b8cf20903091511n2cb2840ahae4fb28e12c78307@mail.gmail.com>

I know I still did.  I haven't used psp.  You could set your default Apache
content type to be 'text/html' if you want, and then you wouldn't have to do
it manually each time.  But whatever fits your situation is best.
Tim

On Mon, Mar 9, 2009 at 4:09 PM, Jordan Dunn <jdunn@nodetwo.org> wrote:

> do you have to set that if your using publisher instead of psp?
>
>
> On Mon, Mar 9, 2009 at 4:52 PM, Tim Valenta <tonightslastsong@gmail.com>wrote:
>
>> Make sure you set the content type to text/html instead of what the
>> default is.  I don't think mod_python is going to do that part for you.
>> http://www.modpython.org/pipermail/mod_python/2006-November/022587.html
>>
>>
>> On Mon, Mar 9, 2009 at 3:42 PM, Graham Dumpleton <
>> graham.dumpleton@gmail.com> wrote:
>>
>>> 2009/3/10 Jordan Dunn <jdunn@nodetwo.org>:
>>> > the only problem in having is that in IE7 it is printing the source
>>> instead
>>> > of just the html.
>>>
>>> Unrelated. If you are having that problem you mustn't be configuring
>>> Apache correctly for your specific mod_python application.
>>>
>>> Please use reply-all and keep followups on the list.
>>>
>>> Graham
>>>
>>> > On Mon, Mar 9, 2009 at 4:30 PM, Graham Dumpleton
>>> > <graham.dumpleton@gmail.com> wrote:
>>> >>
>>> >> Correct, it is effectively a warning only in this case. Because
>>> >> Windows uses a DLL for Python library it automatically picks up the
>>> >> newer version.
>>> >>
>>> >> It would however be a problem on UNIX if mod_python had been compiled
>>> >> against a static Python library instead of a shared library.
>>> >>
>>> >> Graham
>>> >>
>>> >> 2009/3/10 Tim Valenta <tonightslastsong@gmail.com>:
>>> >> > If I'm not mistaken, I think it still runs, right?  It does give a
>>> >> > warning,
>>> >> > but that is because that version was compiled with Python 2.5
>>> (straight
>>> >> > 2.5,
>>> >> > not 2.5.2 or 2.5.4)
>>> >> > I'm not sure if there's anything you'll be able to simply change to
>>> fix
>>> >> > it.
>>> >> >  It shouldn't have any problems though.  (At least, I haven't
>>> >> > experienced
>>> >> > any.)
>>> >> > Tim
>>> >> >
>>> >> > 2009/3/9 Jordan Dunn <jdunn@nodetwo.org>
>>> >> >>
>>> >> >> i installed apache2.2 and python 2.5.4, and when i installed
>>> mod_python
>>> >> >> it
>>> >> >> installed fine, but in the apache logs it says its looking for 2.5
>>> >> >> instead
>>> >> >> of 2.5.4? how can i fix this?
>>> >> >> _______________________________________________
>>> >> >> Mod_python mailing list
>>> >> >> Mod_python@modpython.org
>>> >> >> http://mailman.modpython.org/mailman/listinfo/mod_python
>>> >> >>
>>> >> >
>>> >> >
>>> >> >
>>> >> > --
>>> >> > "If you had a katana, ..."
>>> >> > Party like it's 1234567890
>>> >> >
>>> >> > _______________________________________________
>>> >> > Mod_python mailing list
>>> >> > Mod_python@modpython.org
>>> >> > http://mailman.modpython.org/mailman/listinfo/mod_python
>>> >> >
>>> >> >
>>> >
>>> >
>>>
>>> _______________________________________________
>>> Mod_python mailing list
>>> Mod_python@modpython.org
>>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>>
>>
>>
>>
>> --
>> "If you had a katana, ..."
>> Party like it's 1234567890
>>
>
>


-- 
"If you had a katana, ..."
Party like it's 1234567890
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090309/8c9715ba/attachment.html
From graham.dumpleton at gmail.com  Mon Mar  9 18:45:49 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Mon Mar  9 18:45:54 2009
Subject: [mod_python] mod_python wont use version 2.5.4 on windows
In-Reply-To: <d01b8cf20903091511n2cb2840ahae4fb28e12c78307@mail.gmail.com>
References: <a0e02cbb0903091422p3e4582f7ob35fd9b022cae6ac@mail.gmail.com>
	<d01b8cf20903091426r27ad577cq908431bb06ff4648@mail.gmail.com>
	<88e286470903091430j37e894a6gc1b2a5215da5b647@mail.gmail.com>
	<a0e02cbb0903091436h74e42c26y8ece2d5d209061e2@mail.gmail.com>
	<88e286470903091442x39daeb4cua9fcca5c3968a368@mail.gmail.com>
	<d01b8cf20903091452u37964d5en54d2ec7bccd55e1b@mail.gmail.com>
	<a0e02cbb0903091509s5d3fbfe6j964e9e19920a2fb7@mail.gmail.com>
	<d01b8cf20903091511n2cb2840ahae4fb28e12c78307@mail.gmail.com>
Message-ID: <88e286470903091545x466ce7eeye2d2a7619a40b0a0@mail.gmail.com>

2009/3/10 Tim Valenta <tonightslastsong@gmail.com>:
> I know I still did. ?I haven't used psp. ?You could set your default Apache
> content type to be 'text/html' if you want, and then you wouldn't have to do
> it manually each time. ?But whatever fits your situation is best.

Do not override the default Apache content type as it will effect the
whole server.

PSP handler should already set req.content_type to 'text/html'.

The publisher handler will try and guess whether returned content is
text/html if not explicitly set. This guess isn't done though where
req.write() is used, only being done where response is returned as
string from publisher function. The guessing code tries to determine
if it is HTML by looking at last 100 characters of the response and
seeing if it matches regex:

re_html = re.compile(r"</HTML\s*>\s*$",re.I)

If for some reason the closing HTML tag is missing or badly formatted
it will not know it is HTML.

The safest way is always to set req.content_type explicitly.

Graham

> Tim
>
> On Mon, Mar 9, 2009 at 4:09 PM, Jordan Dunn <jdunn@nodetwo.org> wrote:
>>
>> do you have to set that if your using publisher instead of psp?
>>
>> On Mon, Mar 9, 2009 at 4:52 PM, Tim Valenta <tonightslastsong@gmail.com>
>> wrote:
>>>
>>> Make sure you set the content type to text/html instead of what the
>>> default is. ?I don't think mod_python is going to do that part for you.
>>> http://www.modpython.org/pipermail/mod_python/2006-November/022587.html
>>>
>>> On Mon, Mar 9, 2009 at 3:42 PM, Graham Dumpleton
>>> <graham.dumpleton@gmail.com> wrote:
>>>>
>>>> 2009/3/10 Jordan Dunn <jdunn@nodetwo.org>:
>>>> > the only problem in having is that in IE7 it is printing the source
>>>> > instead
>>>> > of just the html.
>>>>
>>>> Unrelated. If you are having that problem you mustn't be configuring
>>>> Apache correctly for your specific mod_python application.
>>>>
>>>> Please use reply-all and keep followups on the list.
>>>>
>>>> Graham
>>>>
>>>> > On Mon, Mar 9, 2009 at 4:30 PM, Graham Dumpleton
>>>> > <graham.dumpleton@gmail.com> wrote:
>>>> >>
>>>> >> Correct, it is effectively a warning only in this case. Because
>>>> >> Windows uses a DLL for Python library it automatically picks up the
>>>> >> newer version.
>>>> >>
>>>> >> It would however be a problem on UNIX if mod_python had been compiled
>>>> >> against a static Python library instead of a shared library.
>>>> >>
>>>> >> Graham
>>>> >>
>>>> >> 2009/3/10 Tim Valenta <tonightslastsong@gmail.com>:
>>>> >> > If I'm not mistaken, I think it still runs, right? ?It does give a
>>>> >> > warning,
>>>> >> > but that is because that version was compiled with Python 2.5
>>>> >> > (straight
>>>> >> > 2.5,
>>>> >> > not 2.5.2 or 2.5.4)
>>>> >> > I'm not sure if there's anything you'll be able to simply change to
>>>> >> > fix
>>>> >> > it.
>>>> >> > ?It shouldn't have any problems though. ?(At least, I haven't
>>>> >> > experienced
>>>> >> > any.)
>>>> >> > Tim
>>>> >> >
>>>> >> > 2009/3/9 Jordan Dunn <jdunn@nodetwo.org>
>>>> >> >>
>>>> >> >> i installed apache2.2 and python 2.5.4, and when i installed
>>>> >> >> mod_python
>>>> >> >> it
>>>> >> >> installed fine, but in the apache logs it says its looking for 2.5
>>>> >> >> instead
>>>> >> >> of 2.5.4? how can i fix this?
>>>> >> >> _______________________________________________
>>>> >> >> Mod_python mailing list
>>>> >> >> Mod_python@modpython.org
>>>> >> >> http://mailman.modpython.org/mailman/listinfo/mod_python
>>>> >> >>
>>>> >> >
>>>> >> >
>>>> >> >
>>>> >> > --
>>>> >> > "If you had a katana, ..."
>>>> >> > Party like it's 1234567890
>>>> >> >
>>>> >> > _______________________________________________
>>>> >> > Mod_python mailing list
>>>> >> > Mod_python@modpython.org
>>>> >> > http://mailman.modpython.org/mailman/listinfo/mod_python
>>>> >> >
>>>> >> >
>>>> >
>>>> >
>>>>
>>>> _______________________________________________
>>>> Mod_python mailing list
>>>> Mod_python@modpython.org
>>>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>>
>>>
>>>
>>> --
>>> "If you had a katana, ..."
>>> Party like it's 1234567890
>>
>
>
>
> --
> "If you had a katana, ..."
> Party like it's 1234567890
>

From tonightslastsong at gmail.com  Mon Mar  9 19:00:42 2009
From: tonightslastsong at gmail.com (Tim Valenta)
Date: Mon Mar  9 19:00:48 2009
Subject: [mod_python] mod_python wont use version 2.5.4 on windows
In-Reply-To: <88e286470903091545x466ce7eeye2d2a7619a40b0a0@mail.gmail.com>
References: <a0e02cbb0903091422p3e4582f7ob35fd9b022cae6ac@mail.gmail.com>
	<d01b8cf20903091426r27ad577cq908431bb06ff4648@mail.gmail.com>
	<88e286470903091430j37e894a6gc1b2a5215da5b647@mail.gmail.com>
	<a0e02cbb0903091436h74e42c26y8ece2d5d209061e2@mail.gmail.com>
	<88e286470903091442x39daeb4cua9fcca5c3968a368@mail.gmail.com>
	<d01b8cf20903091452u37964d5en54d2ec7bccd55e1b@mail.gmail.com>
	<a0e02cbb0903091509s5d3fbfe6j964e9e19920a2fb7@mail.gmail.com>
	<d01b8cf20903091511n2cb2840ahae4fb28e12c78307@mail.gmail.com>
	<88e286470903091545x466ce7eeye2d2a7619a40b0a0@mail.gmail.com>
Message-ID: <d01b8cf20903091600r2c59ad6te273a42929ab44d6@mail.gmail.com>

> Do not override the default Apache content type as it will effect the
> whole server.

And if that's what you want, then it's just as well.  Anything that
isn't text/plain would have to specify its type, and that'd be no
different than if it were text/html instead.

But if your server isn't just running this new project, then don't
change it, as Graham said.  If it's your own thing, then do whatever
you want, with the future in mind :)

Tim

On Mon, Mar 9, 2009 at 4:45 PM, Graham Dumpleton
<graham.dumpleton@gmail.com> wrote:
>
> 2009/3/10 Tim Valenta <tonightslastsong@gmail.com>:
> > I know I still did. ?I haven't used psp. ?You could set your default Apache
> > content type to be 'text/html' if you want, and then you wouldn't have to do
> > it manually each time. ?But whatever fits your situation is best.
>
> Do not override the default Apache content type as it will effect the
> whole server.
>
> PSP handler should already set req.content_type to 'text/html'.
>
> The publisher handler will try and guess whether returned content is
> text/html if not explicitly set. This guess isn't done though where
> req.write() is used, only being done where response is returned as
> string from publisher function. The guessing code tries to determine
> if it is HTML by looking at last 100 characters of the response and
> seeing if it matches regex:
>
> re_html = re.compile(r"</HTML\s*>\s*$",re.I)
>
> If for some reason the closing HTML tag is missing or badly formatted
> it will not know it is HTML.
>
> The safest way is always to set req.content_type explicitly.
>
> Graham
>
> > Tim
> >
> > On Mon, Mar 9, 2009 at 4:09 PM, Jordan Dunn <jdunn@nodetwo.org> wrote:
> >>
> >> do you have to set that if your using publisher instead of psp?
> >>
> >> On Mon, Mar 9, 2009 at 4:52 PM, Tim Valenta <tonightslastsong@gmail.com>
> >> wrote:
> >>>
> >>> Make sure you set the content type to text/html instead of what the
> >>> default is. ?I don't think mod_python is going to do that part for you.
> >>> http://www.modpython.org/pipermail/mod_python/2006-November/022587.html
> >>>
> >>> On Mon, Mar 9, 2009 at 3:42 PM, Graham Dumpleton
> >>> <graham.dumpleton@gmail.com> wrote:
> >>>>
> >>>> 2009/3/10 Jordan Dunn <jdunn@nodetwo.org>:
> >>>> > the only problem in having is that in IE7 it is printing the source
> >>>> > instead
> >>>> > of just the html.
> >>>>
> >>>> Unrelated. If you are having that problem you mustn't be configuring
> >>>> Apache correctly for your specific mod_python application.
> >>>>
> >>>> Please use reply-all and keep followups on the list.
> >>>>
> >>>> Graham
> >>>>
> >>>> > On Mon, Mar 9, 2009 at 4:30 PM, Graham Dumpleton
> >>>> > <graham.dumpleton@gmail.com> wrote:
> >>>> >>
> >>>> >> Correct, it is effectively a warning only in this case. Because
> >>>> >> Windows uses a DLL for Python library it automatically picks up the
> >>>> >> newer version.
> >>>> >>
> >>>> >> It would however be a problem on UNIX if mod_python had been compiled
> >>>> >> against a static Python library instead of a shared library.
> >>>> >>
> >>>> >> Graham
> >>>> >>
> >>>> >> 2009/3/10 Tim Valenta <tonightslastsong@gmail.com>:
> >>>> >> > If I'm not mistaken, I think it still runs, right? ?It does give a
> >>>> >> > warning,
> >>>> >> > but that is because that version was compiled with Python 2.5
> >>>> >> > (straight
> >>>> >> > 2.5,
> >>>> >> > not 2.5.2 or 2.5.4)
> >>>> >> > I'm not sure if there's anything you'll be able to simply change to
> >>>> >> > fix
> >>>> >> > it.
> >>>> >> > ?It shouldn't have any problems though. ?(At least, I haven't
> >>>> >> > experienced
> >>>> >> > any.)
> >>>> >> > Tim
> >>>> >> >
> >>>> >> > 2009/3/9 Jordan Dunn <jdunn@nodetwo.org>
> >>>> >> >>
> >>>> >> >> i installed apache2.2 and python 2.5.4, and when i installed
> >>>> >> >> mod_python
> >>>> >> >> it
> >>>> >> >> installed fine, but in the apache logs it says its looking for 2.5
> >>>> >> >> instead
> >>>> >> >> of 2.5.4? how can i fix this?
> >>>> >> >> _______________________________________________
> >>>> >> >> Mod_python mailing list
> >>>> >> >> Mod_python@modpython.org
> >>>> >> >> http://mailman.modpython.org/mailman/listinfo/mod_python
> >>>> >> >>
> >>>> >> >
> >>>> >> >
> >>>> >> >
> >>>> >> > --
> >>>> >> > "If you had a katana, ..."
> >>>> >> > Party like it's 1234567890
> >>>> >> >
> >>>> >> > _______________________________________________
> >>>> >> > Mod_python mailing list
> >>>> >> > Mod_python@modpython.org
> >>>> >> > http://mailman.modpython.org/mailman/listinfo/mod_python
> >>>> >> >
> >>>> >> >
> >>>> >
> >>>> >
> >>>>
> >>>> _______________________________________________
> >>>> Mod_python mailing list
> >>>> Mod_python@modpython.org
> >>>> http://mailman.modpython.org/mailman/listinfo/mod_python
> >>>
> >>>
> >>>
> >>> --
> >>> "If you had a katana, ..."
> >>> Party like it's 1234567890
> >>
> >
> >
> >
> > --
> > "If you had a katana, ..."
> > Party like it's 1234567890
> >



--
"If you had a katana, ..."
Party like it's 1234567890

From clodoaldo.pinto.neto at gmail.com  Mon Mar  9 19:21:07 2009
From: clodoaldo.pinto.neto at gmail.com (Clodoaldo Pinto Neto)
Date: Mon Mar  9 19:21:13 2009
Subject: [mod_python] mod_python wont use version 2.5.4 on windows
In-Reply-To: <d01b8cf20903091600r2c59ad6te273a42929ab44d6@mail.gmail.com>
References: <a0e02cbb0903091422p3e4582f7ob35fd9b022cae6ac@mail.gmail.com>
	<d01b8cf20903091426r27ad577cq908431bb06ff4648@mail.gmail.com>
	<88e286470903091430j37e894a6gc1b2a5215da5b647@mail.gmail.com>
	<a0e02cbb0903091436h74e42c26y8ece2d5d209061e2@mail.gmail.com>
	<88e286470903091442x39daeb4cua9fcca5c3968a368@mail.gmail.com>
	<d01b8cf20903091452u37964d5en54d2ec7bccd55e1b@mail.gmail.com>
	<a0e02cbb0903091509s5d3fbfe6j964e9e19920a2fb7@mail.gmail.com>
	<d01b8cf20903091511n2cb2840ahae4fb28e12c78307@mail.gmail.com>
	<88e286470903091545x466ce7eeye2d2a7619a40b0a0@mail.gmail.com>
	<d01b8cf20903091600r2c59ad6te273a42929ab44d6@mail.gmail.com>
Message-ID: <a595de7a0903091621m7c63f5c7nec9f79dab49ed85b@mail.gmail.com>

2009/3/9 Tim Valenta <tonightslastsong@gmail.com>:
>> Do not override the default Apache content type as it will effect the
>> whole server.
>
> And if that's what you want, then it's just as well. ?Anything that
> isn't text/plain would have to specify its type, and that'd be no
> different than if it were text/html instead.

Not sure I understand what you mean. Plain text is rendered
inconveniently by the browsers if the content type is text/html, like
it will use a fancy font, in instead of fixed, and will not respect
new lines making most kinds of texts, like code, much harder or next
to impossible to read.

Regards, Clodoaldo

> But if your server isn't just running this new project, then don't
> change it, as Graham said. ?If it's your own thing, then do whatever
> you want, with the future in mind :)
>
> Tim
>
> On Mon, Mar 9, 2009 at 4:45 PM, Graham Dumpleton
> <graham.dumpleton@gmail.com> wrote:
>>
>> 2009/3/10 Tim Valenta <tonightslastsong@gmail.com>:
>> > I know I still did. ?I haven't used psp. ?You could set your default Apache
>> > content type to be 'text/html' if you want, and then you wouldn't have to do
>> > it manually each time. ?But whatever fits your situation is best.
>>
>> Do not override the default Apache content type as it will effect the
>> whole server.
>>
>> PSP handler should already set req.content_type to 'text/html'.
>>
>> The publisher handler will try and guess whether returned content is
>> text/html if not explicitly set. This guess isn't done though where
>> req.write() is used, only being done where response is returned as
>> string from publisher function. The guessing code tries to determine
>> if it is HTML by looking at last 100 characters of the response and
>> seeing if it matches regex:
>>
>> re_html = re.compile(r"</HTML\s*>\s*$",re.I)
>>
>> If for some reason the closing HTML tag is missing or badly formatted
>> it will not know it is HTML.
>>
>> The safest way is always to set req.content_type explicitly.
>>
>> Graham
>>
>> > Tim
>> >
>> > On Mon, Mar 9, 2009 at 4:09 PM, Jordan Dunn <jdunn@nodetwo.org> wrote:
>> >>
>> >> do you have to set that if your using publisher instead of psp?
>> >>
>> >> On Mon, Mar 9, 2009 at 4:52 PM, Tim Valenta <tonightslastsong@gmail.com>
>> >> wrote:
>> >>>
>> >>> Make sure you set the content type to text/html instead of what the
>> >>> default is. ?I don't think mod_python is going to do that part for you.
>> >>> http://www.modpython.org/pipermail/mod_python/2006-November/022587.html
>> >>>
>> >>> On Mon, Mar 9, 2009 at 3:42 PM, Graham Dumpleton
>> >>> <graham.dumpleton@gmail.com> wrote:
>> >>>>
>> >>>> 2009/3/10 Jordan Dunn <jdunn@nodetwo.org>:
>> >>>> > the only problem in having is that in IE7 it is printing the source
>> >>>> > instead
>> >>>> > of just the html.
>> >>>>
>> >>>> Unrelated. If you are having that problem you mustn't be configuring
>> >>>> Apache correctly for your specific mod_python application.
>> >>>>
>> >>>> Please use reply-all and keep followups on the list.
>> >>>>
>> >>>> Graham
>> >>>>
>> >>>> > On Mon, Mar 9, 2009 at 4:30 PM, Graham Dumpleton
>> >>>> > <graham.dumpleton@gmail.com> wrote:
>> >>>> >>
>> >>>> >> Correct, it is effectively a warning only in this case. Because
>> >>>> >> Windows uses a DLL for Python library it automatically picks up the
>> >>>> >> newer version.
>> >>>> >>
>> >>>> >> It would however be a problem on UNIX if mod_python had been compiled
>> >>>> >> against a static Python library instead of a shared library.
>> >>>> >>
>> >>>> >> Graham
>> >>>> >>
>> >>>> >> 2009/3/10 Tim Valenta <tonightslastsong@gmail.com>:
>> >>>> >> > If I'm not mistaken, I think it still runs, right? ?It does give a
>> >>>> >> > warning,
>> >>>> >> > but that is because that version was compiled with Python 2.5
>> >>>> >> > (straight
>> >>>> >> > 2.5,
>> >>>> >> > not 2.5.2 or 2.5.4)
>> >>>> >> > I'm not sure if there's anything you'll be able to simply change to
>> >>>> >> > fix
>> >>>> >> > it.
>> >>>> >> > ?It shouldn't have any problems though. ?(At least, I haven't
>> >>>> >> > experienced
>> >>>> >> > any.)
>> >>>> >> > Tim
>> >>>> >> >
>> >>>> >> > 2009/3/9 Jordan Dunn <jdunn@nodetwo.org>
>> >>>> >> >>
>> >>>> >> >> i installed apache2.2 and python 2.5.4, and when i installed
>> >>>> >> >> mod_python
>> >>>> >> >> it
>> >>>> >> >> installed fine, but in the apache logs it says its looking for 2.5
>> >>>> >> >> instead
>> >>>> >> >> of 2.5.4? how can i fix this?
>> >>>> >> >> _______________________________________________
>> >>>> >> >> Mod_python mailing list
>> >>>> >> >> Mod_python@modpython.org
>> >>>> >> >> http://mailman.modpython.org/mailman/listinfo/mod_python
>> >>>> >> >>
>> >>>> >> >
>> >>>> >> >
>> >>>> >> >
>> >>>> >> > --
>> >>>> >> > "If you had a katana, ..."
>> >>>> >> > Party like it's 1234567890
>> >>>> >> >
>> >>>> >> > _______________________________________________
>> >>>> >> > Mod_python mailing list
>> >>>> >> > Mod_python@modpython.org
>> >>>> >> > http://mailman.modpython.org/mailman/listinfo/mod_python
>> >>>> >> >
>> >>>> >> >
>> >>>> >
>> >>>> >
>> >>>>
>> >>>> _______________________________________________
>> >>>> Mod_python mailing list
>> >>>> Mod_python@modpython.org
>> >>>> http://mailman.modpython.org/mailman/listinfo/mod_python
>> >>>
>> >>>
>> >>>
>> >>> --
>> >>> "If you had a katana, ..."
>> >>> Party like it's 1234567890
>> >>
>> >
>> >
>> >
>> > --
>> > "If you had a katana, ..."
>> > Party like it's 1234567890
>> >
>
>
>
> --
> "If you had a katana, ..."
> Party like it's 1234567890
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>

From tonightslastsong at gmail.com  Mon Mar  9 20:40:04 2009
From: tonightslastsong at gmail.com (Tim Valenta)
Date: Mon Mar  9 20:40:10 2009
Subject: [mod_python] mod_python wont use version 2.5.4 on windows
In-Reply-To: <a595de7a0903091621m7c63f5c7nec9f79dab49ed85b@mail.gmail.com>
References: <a0e02cbb0903091422p3e4582f7ob35fd9b022cae6ac@mail.gmail.com>
	<88e286470903091430j37e894a6gc1b2a5215da5b647@mail.gmail.com>
	<a0e02cbb0903091436h74e42c26y8ece2d5d209061e2@mail.gmail.com>
	<88e286470903091442x39daeb4cua9fcca5c3968a368@mail.gmail.com>
	<d01b8cf20903091452u37964d5en54d2ec7bccd55e1b@mail.gmail.com>
	<a0e02cbb0903091509s5d3fbfe6j964e9e19920a2fb7@mail.gmail.com>
	<d01b8cf20903091511n2cb2840ahae4fb28e12c78307@mail.gmail.com>
	<88e286470903091545x466ce7eeye2d2a7619a40b0a0@mail.gmail.com>
	<d01b8cf20903091600r2c59ad6te273a42929ab44d6@mail.gmail.com>
	<a595de7a0903091621m7c63f5c7nec9f79dab49ed85b@mail.gmail.com>
Message-ID: <d01b8cf20903091740s238adc1al9b9fc1b7d63eed33@mail.gmail.com>

All I'm saying is that it's case-specific.  If you never need to be
rendering plain text, and you're handling your JS/CSS whatever on your own,
then great.
And if you want plain text at times, then just throw a req.content_type =
"text/html" in some basic header include file.  The end. :)

Tim

On Mon, Mar 9, 2009 at 5:21 PM, Clodoaldo Pinto Neto <
clodoaldo.pinto.neto@gmail.com> wrote:

> 2009/3/9 Tim Valenta <tonightslastsong@gmail.com>:
> >> Do not override the default Apache content type as it will effect the
> >> whole server.
> >
> > And if that's what you want, then it's just as well.  Anything that
> > isn't text/plain would have to specify its type, and that'd be no
> > different than if it were text/html instead.
>
> Not sure I understand what you mean. Plain text is rendered
> inconveniently by the browsers if the content type is text/html, like
> it will use a fancy font, in instead of fixed, and will not respect
> new lines making most kinds of texts, like code, much harder or next
> to impossible to read.
>
> Regards, Clodoaldo
>
> > But if your server isn't just running this new project, then don't
> > change it, as Graham said.  If it's your own thing, then do whatever
> > you want, with the future in mind :)
> >
> > Tim
> >
> > On Mon, Mar 9, 2009 at 4:45 PM, Graham Dumpleton
> > <graham.dumpleton@gmail.com> wrote:
> >>
> >> 2009/3/10 Tim Valenta <tonightslastsong@gmail.com>:
> >> > I know I still did.  I haven't used psp.  You could set your default
> Apache
> >> > content type to be 'text/html' if you want, and then you wouldn't have
> to do
> >> > it manually each time.  But whatever fits your situation is best.
> >>
> >> Do not override the default Apache content type as it will effect the
> >> whole server.
> >>
> >> PSP handler should already set req.content_type to 'text/html'.
> >>
> >> The publisher handler will try and guess whether returned content is
> >> text/html if not explicitly set. This guess isn't done though where
> >> req.write() is used, only being done where response is returned as
> >> string from publisher function. The guessing code tries to determine
> >> if it is HTML by looking at last 100 characters of the response and
> >> seeing if it matches regex:
> >>
> >> re_html = re.compile(r"</HTML\s*>\s*$",re.I)
> >>
> >> If for some reason the closing HTML tag is missing or badly formatted
> >> it will not know it is HTML.
> >>
> >> The safest way is always to set req.content_type explicitly.
> >>
> >> Graham
> >>
> >> > Tim
> >> >
> >> > On Mon, Mar 9, 2009 at 4:09 PM, Jordan Dunn <jdunn@nodetwo.org>
> wrote:
> >> >>
> >> >> do you have to set that if your using publisher instead of psp?
> >> >>
> >> >> On Mon, Mar 9, 2009 at 4:52 PM, Tim Valenta <
> tonightslastsong@gmail.com>
> >> >> wrote:
> >> >>>
> >> >>> Make sure you set the content type to text/html instead of what the
> >> >>> default is.  I don't think mod_python is going to do that part for
> you.
> >> >>>
> http://www.modpython.org/pipermail/mod_python/2006-November/022587.html
> >> >>>
> >> >>> On Mon, Mar 9, 2009 at 3:42 PM, Graham Dumpleton
> >> >>> <graham.dumpleton@gmail.com> wrote:
> >> >>>>
> >> >>>> 2009/3/10 Jordan Dunn <jdunn@nodetwo.org>:
> >> >>>> > the only problem in having is that in IE7 it is printing the
> source
> >> >>>> > instead
> >> >>>> > of just the html.
> >> >>>>
> >> >>>> Unrelated. If you are having that problem you mustn't be
> configuring
> >> >>>> Apache correctly for your specific mod_python application.
> >> >>>>
> >> >>>> Please use reply-all and keep followups on the list.
> >> >>>>
> >> >>>> Graham
> >> >>>>
> >> >>>> > On Mon, Mar 9, 2009 at 4:30 PM, Graham Dumpleton
> >> >>>> > <graham.dumpleton@gmail.com> wrote:
> >> >>>> >>
> >> >>>> >> Correct, it is effectively a warning only in this case. Because
> >> >>>> >> Windows uses a DLL for Python library it automatically picks up
> the
> >> >>>> >> newer version.
> >> >>>> >>
> >> >>>> >> It would however be a problem on UNIX if mod_python had been
> compiled
> >> >>>> >> against a static Python library instead of a shared library.
> >> >>>> >>
> >> >>>> >> Graham
> >> >>>> >>
> >> >>>> >> 2009/3/10 Tim Valenta <tonightslastsong@gmail.com>:
> >> >>>> >> > If I'm not mistaken, I think it still runs, right?  It does
> give a
> >> >>>> >> > warning,
> >> >>>> >> > but that is because that version was compiled with Python 2.5
> >> >>>> >> > (straight
> >> >>>> >> > 2.5,
> >> >>>> >> > not 2.5.2 or 2.5.4)
> >> >>>> >> > I'm not sure if there's anything you'll be able to simply
> change to
> >> >>>> >> > fix
> >> >>>> >> > it.
> >> >>>> >> >  It shouldn't have any problems though.  (At least, I haven't
> >> >>>> >> > experienced
> >> >>>> >> > any.)
> >> >>>> >> > Tim
> >> >>>> >> >
> >> >>>> >> > 2009/3/9 Jordan Dunn <jdunn@nodetwo.org>
> >> >>>> >> >>
> >> >>>> >> >> i installed apache2.2 and python 2.5.4, and when i installed
> >> >>>> >> >> mod_python
> >> >>>> >> >> it
> >> >>>> >> >> installed fine, but in the apache logs it says its looking
> for 2.5
> >> >>>> >> >> instead
> >> >>>> >> >> of 2.5.4? how can i fix this?
> >> >>>> >> >> _______________________________________________
> >> >>>> >> >> Mod_python mailing list
> >> >>>> >> >> Mod_python@modpython.org
> >> >>>> >> >> http://mailman.modpython.org/mailman/listinfo/mod_python
> >> >>>> >> >>
> >> >>>> >> >
> >> >>>> >> >
> >> >>>> >> >
> >> >>>> >> > --
> >> >>>> >> > "If you had a katana, ..."
> >> >>>> >> > Party like it's 1234567890
> >> >>>> >> >
> >> >>>> >> > _______________________________________________
> >> >>>> >> > Mod_python mailing list
> >> >>>> >> > Mod_python@modpython.org
> >> >>>> >> > http://mailman.modpython.org/mailman/listinfo/mod_python
> >> >>>> >> >
> >> >>>> >> >
> >> >>>> >
> >> >>>> >
> >> >>>>
> >> >>>> _______________________________________________
> >> >>>> Mod_python mailing list
> >> >>>> Mod_python@modpython.org
> >> >>>> http://mailman.modpython.org/mailman/listinfo/mod_python
> >> >>>
> >> >>>
> >> >>>
> >> >>> --
> >> >>> "If you had a katana, ..."
> >> >>> Party like it's 1234567890
> >> >>
> >> >
> >> >
> >> >
> >> > --
> >> > "If you had a katana, ..."
> >> > Party like it's 1234567890
> >> >
> >
> >
> >
> > --
> > "If you had a katana, ..."
> > Party like it's 1234567890
> >
> > _______________________________________________
> > Mod_python mailing list
> > Mod_python@modpython.org
> > http://mailman.modpython.org/mailman/listinfo/mod_python
> >
>



-- 
"If you had a katana, ..."
Party like it's 1234567890
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090309/8588ec83/attachment.html
From graham.dumpleton at gmail.com  Mon Mar  9 20:46:45 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Mon Mar  9 20:46:53 2009
Subject: [mod_python] mod_python wont use version 2.5.4 on windows
In-Reply-To: <d01b8cf20903091740s238adc1al9b9fc1b7d63eed33@mail.gmail.com>
References: <a0e02cbb0903091422p3e4582f7ob35fd9b022cae6ac@mail.gmail.com>
	<a0e02cbb0903091436h74e42c26y8ece2d5d209061e2@mail.gmail.com>
	<88e286470903091442x39daeb4cua9fcca5c3968a368@mail.gmail.com>
	<d01b8cf20903091452u37964d5en54d2ec7bccd55e1b@mail.gmail.com>
	<a0e02cbb0903091509s5d3fbfe6j964e9e19920a2fb7@mail.gmail.com>
	<d01b8cf20903091511n2cb2840ahae4fb28e12c78307@mail.gmail.com>
	<88e286470903091545x466ce7eeye2d2a7619a40b0a0@mail.gmail.com>
	<d01b8cf20903091600r2c59ad6te273a42929ab44d6@mail.gmail.com>
	<a595de7a0903091621m7c63f5c7nec9f79dab49ed85b@mail.gmail.com>
	<d01b8cf20903091740s238adc1al9b9fc1b7d63eed33@mail.gmail.com>
Message-ID: <88e286470903091746u790cb368q73d56b06bfc8e556@mail.gmail.com>

The danger in overriding the Apache default content type, rather than
having the Python code self contained, is that when you try and run
your application in a different Apache environment it will stop
working until you realise that you had changed something outside of
the actual Python code to get it to work.

Thus, changing the default in Apache can be considered bad practice as
far as portability and maintainability of code. It certainly isn't
something you want to do if trying to develop a product which you
expect other people would want to install.

So, by all means do it in your own environment if you want to, but
please don't suggest it is a good thing for others to do, it isn't.

Graham

2009/3/10 Tim Valenta <tonightslastsong@gmail.com>:
> All I'm saying is that it's case-specific. ?If you never need to be
> rendering plain text, and you're handling your JS/CSS whatever on your own,
> then great.
> And if you want plain text at times, then just throw a req.content_type =
> "text/html" in some basic header include file. ?The end. :)
> Tim
> On Mon, Mar 9, 2009 at 5:21 PM, Clodoaldo Pinto Neto
> <clodoaldo.pinto.neto@gmail.com> wrote:
>>
>> 2009/3/9 Tim Valenta <tonightslastsong@gmail.com>:
>> >> Do not override the default Apache content type as it will effect the
>> >> whole server.
>> >
>> > And if that's what you want, then it's just as well. ?Anything that
>> > isn't text/plain would have to specify its type, and that'd be no
>> > different than if it were text/html instead.
>>
>> Not sure I understand what you mean. Plain text is rendered
>> inconveniently by the browsers if the content type is text/html, like
>> it will use a fancy font, in instead of fixed, and will not respect
>> new lines making most kinds of texts, like code, much harder or next
>> to impossible to read.
>>
>> Regards, Clodoaldo
>>
>> > But if your server isn't just running this new project, then don't
>> > change it, as Graham said. ?If it's your own thing, then do whatever
>> > you want, with the future in mind :)
>> >
>> > Tim
>> >
>> > On Mon, Mar 9, 2009 at 4:45 PM, Graham Dumpleton
>> > <graham.dumpleton@gmail.com> wrote:
>> >>
>> >> 2009/3/10 Tim Valenta <tonightslastsong@gmail.com>:
>> >> > I know I still did. ?I haven't used psp. ?You could set your default
>> >> > Apache
>> >> > content type to be 'text/html' if you want, and then you wouldn't
>> >> > have to do
>> >> > it manually each time. ?But whatever fits your situation is best.
>> >>
>> >> Do not override the default Apache content type as it will effect the
>> >> whole server.
>> >>
>> >> PSP handler should already set req.content_type to 'text/html'.
>> >>
>> >> The publisher handler will try and guess whether returned content is
>> >> text/html if not explicitly set. This guess isn't done though where
>> >> req.write() is used, only being done where response is returned as
>> >> string from publisher function. The guessing code tries to determine
>> >> if it is HTML by looking at last 100 characters of the response and
>> >> seeing if it matches regex:
>> >>
>> >> re_html = re.compile(r"</HTML\s*>\s*$",re.I)
>> >>
>> >> If for some reason the closing HTML tag is missing or badly formatted
>> >> it will not know it is HTML.
>> >>
>> >> The safest way is always to set req.content_type explicitly.
>> >>
>> >> Graham
>> >>
>> >> > Tim
>> >> >
>> >> > On Mon, Mar 9, 2009 at 4:09 PM, Jordan Dunn <jdunn@nodetwo.org>
>> >> > wrote:
>> >> >>
>> >> >> do you have to set that if your using publisher instead of psp?
>> >> >>
>> >> >> On Mon, Mar 9, 2009 at 4:52 PM, Tim Valenta
>> >> >> <tonightslastsong@gmail.com>
>> >> >> wrote:
>> >> >>>
>> >> >>> Make sure you set the content type to text/html instead of what the
>> >> >>> default is. ?I don't think mod_python is going to do that part for
>> >> >>> you.
>> >> >>>
>> >> >>> http://www.modpython.org/pipermail/mod_python/2006-November/022587.html
>> >> >>>
>> >> >>> On Mon, Mar 9, 2009 at 3:42 PM, Graham Dumpleton
>> >> >>> <graham.dumpleton@gmail.com> wrote:
>> >> >>>>
>> >> >>>> 2009/3/10 Jordan Dunn <jdunn@nodetwo.org>:
>> >> >>>> > the only problem in having is that in IE7 it is printing the
>> >> >>>> > source
>> >> >>>> > instead
>> >> >>>> > of just the html.
>> >> >>>>
>> >> >>>> Unrelated. If you are having that problem you mustn't be
>> >> >>>> configuring
>> >> >>>> Apache correctly for your specific mod_python application.
>> >> >>>>
>> >> >>>> Please use reply-all and keep followups on the list.
>> >> >>>>
>> >> >>>> Graham
>> >> >>>>
>> >> >>>> > On Mon, Mar 9, 2009 at 4:30 PM, Graham Dumpleton
>> >> >>>> > <graham.dumpleton@gmail.com> wrote:
>> >> >>>> >>
>> >> >>>> >> Correct, it is effectively a warning only in this case. Because
>> >> >>>> >> Windows uses a DLL for Python library it automatically picks up
>> >> >>>> >> the
>> >> >>>> >> newer version.
>> >> >>>> >>
>> >> >>>> >> It would however be a problem on UNIX if mod_python had been
>> >> >>>> >> compiled
>> >> >>>> >> against a static Python library instead of a shared library.
>> >> >>>> >>
>> >> >>>> >> Graham
>> >> >>>> >>
>> >> >>>> >> 2009/3/10 Tim Valenta <tonightslastsong@gmail.com>:
>> >> >>>> >> > If I'm not mistaken, I think it still runs, right? ?It does
>> >> >>>> >> > give a
>> >> >>>> >> > warning,
>> >> >>>> >> > but that is because that version was compiled with Python 2.5
>> >> >>>> >> > (straight
>> >> >>>> >> > 2.5,
>> >> >>>> >> > not 2.5.2 or 2.5.4)
>> >> >>>> >> > I'm not sure if there's anything you'll be able to simply
>> >> >>>> >> > change to
>> >> >>>> >> > fix
>> >> >>>> >> > it.
>> >> >>>> >> > ?It shouldn't have any problems though. ?(At least, I haven't
>> >> >>>> >> > experienced
>> >> >>>> >> > any.)
>> >> >>>> >> > Tim
>> >> >>>> >> >
>> >> >>>> >> > 2009/3/9 Jordan Dunn <jdunn@nodetwo.org>
>> >> >>>> >> >>
>> >> >>>> >> >> i installed apache2.2 and python 2.5.4, and when i installed
>> >> >>>> >> >> mod_python
>> >> >>>> >> >> it
>> >> >>>> >> >> installed fine, but in the apache logs it says its looking
>> >> >>>> >> >> for 2.5
>> >> >>>> >> >> instead
>> >> >>>> >> >> of 2.5.4? how can i fix this?
>> >> >>>> >> >> _______________________________________________
>> >> >>>> >> >> Mod_python mailing list
>> >> >>>> >> >> Mod_python@modpython.org
>> >> >>>> >> >> http://mailman.modpython.org/mailman/listinfo/mod_python
>> >> >>>> >> >>
>> >> >>>> >> >
>> >> >>>> >> >
>> >> >>>> >> >
>> >> >>>> >> > --
>> >> >>>> >> > "If you had a katana, ..."
>> >> >>>> >> > Party like it's 1234567890
>> >> >>>> >> >
>> >> >>>> >> > _______________________________________________
>> >> >>>> >> > Mod_python mailing list
>> >> >>>> >> > Mod_python@modpython.org
>> >> >>>> >> > http://mailman.modpython.org/mailman/listinfo/mod_python
>> >> >>>> >> >
>> >> >>>> >> >
>> >> >>>> >
>> >> >>>> >
>> >> >>>>
>> >> >>>> _______________________________________________
>> >> >>>> Mod_python mailing list
>> >> >>>> Mod_python@modpython.org
>> >> >>>> http://mailman.modpython.org/mailman/listinfo/mod_python
>> >> >>>
>> >> >>>
>> >> >>>
>> >> >>> --
>> >> >>> "If you had a katana, ..."
>> >> >>> Party like it's 1234567890
>> >> >>
>> >> >
>> >> >
>> >> >
>> >> > --
>> >> > "If you had a katana, ..."
>> >> > Party like it's 1234567890
>> >> >
>> >
>> >
>> >
>> > --
>> > "If you had a katana, ..."
>> > Party like it's 1234567890
>> >
>> > _______________________________________________
>> > Mod_python mailing list
>> > Mod_python@modpython.org
>> > http://mailman.modpython.org/mailman/listinfo/mod_python
>> >
>
>
>
> --
> "If you had a katana, ..."
> Party like it's 1234567890
>

From tonightslastsong at gmail.com  Mon Mar  9 20:50:11 2009
From: tonightslastsong at gmail.com (Tim Valenta)
Date: Mon Mar  9 20:50:17 2009
Subject: [mod_python] mod_python wont use version 2.5.4 on windows
In-Reply-To: <88e286470903091746u790cb368q73d56b06bfc8e556@mail.gmail.com>
References: <a0e02cbb0903091422p3e4582f7ob35fd9b022cae6ac@mail.gmail.com>
	<88e286470903091442x39daeb4cua9fcca5c3968a368@mail.gmail.com>
	<d01b8cf20903091452u37964d5en54d2ec7bccd55e1b@mail.gmail.com>
	<a0e02cbb0903091509s5d3fbfe6j964e9e19920a2fb7@mail.gmail.com>
	<d01b8cf20903091511n2cb2840ahae4fb28e12c78307@mail.gmail.com>
	<88e286470903091545x466ce7eeye2d2a7619a40b0a0@mail.gmail.com>
	<d01b8cf20903091600r2c59ad6te273a42929ab44d6@mail.gmail.com>
	<a595de7a0903091621m7c63f5c7nec9f79dab49ed85b@mail.gmail.com>
	<d01b8cf20903091740s238adc1al9b9fc1b7d63eed33@mail.gmail.com>
	<88e286470903091746u790cb368q73d56b06bfc8e556@mail.gmail.com>
Message-ID: <d01b8cf20903091750l4deaf6e5l300687c6bc31f8b3@mail.gmail.com>

Which is why I spoke on the matter myself:>> >> >>> Make sure you set the
content type to text/html instead of what the
>> >> >>> default is.  I don't think mod_python is going to do that part for
>> >> >>> you.
>> >> >>>
>> >> >>>
http://www.modpython.org/pipermail/mod_python/2006-November/022587.html
>> >> >>>

Tim

On Mon, Mar 9, 2009 at 6:46 PM, Graham Dumpleton <graham.dumpleton@gmail.com
> wrote:

> The danger in overriding the Apache default content type, rather than
> having the Python code self contained, is that when you try and run
> your application in a different Apache environment it will stop
> working until you realise that you had changed something outside of
> the actual Python code to get it to work.
>
> Thus, changing the default in Apache can be considered bad practice as
> far as portability and maintainability of code. It certainly isn't
> something you want to do if trying to develop a product which you
> expect other people would want to install.
>
> So, by all means do it in your own environment if you want to, but
> please don't suggest it is a good thing for others to do, it isn't.
>
> Graham
>
> 2009/3/10 Tim Valenta <tonightslastsong@gmail.com>:
> > All I'm saying is that it's case-specific.  If you never need to be
> > rendering plain text, and you're handling your JS/CSS whatever on your
> own,
> > then great.
> > And if you want plain text at times, then just throw a req.content_type =
> > "text/html" in some basic header include file.  The end. :)
> > Tim
> > On Mon, Mar 9, 2009 at 5:21 PM, Clodoaldo Pinto Neto
> > <clodoaldo.pinto.neto@gmail.com> wrote:
> >>
> >> 2009/3/9 Tim Valenta <tonightslastsong@gmail.com>:
> >> >> Do not override the default Apache content type as it will effect the
> >> >> whole server.
> >> >
> >> > And if that's what you want, then it's just as well.  Anything that
> >> > isn't text/plain would have to specify its type, and that'd be no
> >> > different than if it were text/html instead.
> >>
> >> Not sure I understand what you mean. Plain text is rendered
> >> inconveniently by the browsers if the content type is text/html, like
> >> it will use a fancy font, in instead of fixed, and will not respect
> >> new lines making most kinds of texts, like code, much harder or next
> >> to impossible to read.
> >>
> >> Regards, Clodoaldo
> >>
> >> > But if your server isn't just running this new project, then don't
> >> > change it, as Graham said.  If it's your own thing, then do whatever
> >> > you want, with the future in mind :)
> >> >
> >> > Tim
> >> >
> >> > On Mon, Mar 9, 2009 at 4:45 PM, Graham Dumpleton
> >> > <graham.dumpleton@gmail.com> wrote:
> >> >>
> >> >> 2009/3/10 Tim Valenta <tonightslastsong@gmail.com>:
> >> >> > I know I still did.  I haven't used psp.  You could set your
> default
> >> >> > Apache
> >> >> > content type to be 'text/html' if you want, and then you wouldn't
> >> >> > have to do
> >> >> > it manually each time.  But whatever fits your situation is best.
> >> >>
> >> >> Do not override the default Apache content type as it will effect the
> >> >> whole server.
> >> >>
> >> >> PSP handler should already set req.content_type to 'text/html'.
> >> >>
> >> >> The publisher handler will try and guess whether returned content is
> >> >> text/html if not explicitly set. This guess isn't done though where
> >> >> req.write() is used, only being done where response is returned as
> >> >> string from publisher function. The guessing code tries to determine
> >> >> if it is HTML by looking at last 100 characters of the response and
> >> >> seeing if it matches regex:
> >> >>
> >> >> re_html = re.compile(r"</HTML\s*>\s*$",re.I)
> >> >>
> >> >> If for some reason the closing HTML tag is missing or badly formatted
> >> >> it will not know it is HTML.
> >> >>
> >> >> The safest way is always to set req.content_type explicitly.
> >> >>
> >> >> Graham
> >> >>
> >> >> > Tim
> >> >> >
> >> >> > On Mon, Mar 9, 2009 at 4:09 PM, Jordan Dunn <jdunn@nodetwo.org>
> >> >> > wrote:
> >> >> >>
> >> >> >> do you have to set that if your using publisher instead of psp?
> >> >> >>
> >> >> >> On Mon, Mar 9, 2009 at 4:52 PM, Tim Valenta
> >> >> >> <tonightslastsong@gmail.com>
> >> >> >> wrote:
> >> >> >>>
> >> >> >>> Make sure you set the content type to text/html instead of what
> the
> >> >> >>> default is.  I don't think mod_python is going to do that part
> for
> >> >> >>> you.
> >> >> >>>
> >> >> >>>
> http://www.modpython.org/pipermail/mod_python/2006-November/022587.html
> >> >> >>>
> >> >> >>> On Mon, Mar 9, 2009 at 3:42 PM, Graham Dumpleton
> >> >> >>> <graham.dumpleton@gmail.com> wrote:
> >> >> >>>>
> >> >> >>>> 2009/3/10 Jordan Dunn <jdunn@nodetwo.org>:
> >> >> >>>> > the only problem in having is that in IE7 it is printing the
> >> >> >>>> > source
> >> >> >>>> > instead
> >> >> >>>> > of just the html.
> >> >> >>>>
> >> >> >>>> Unrelated. If you are having that problem you mustn't be
> >> >> >>>> configuring
> >> >> >>>> Apache correctly for your specific mod_python application.
> >> >> >>>>
> >> >> >>>> Please use reply-all and keep followups on the list.
> >> >> >>>>
> >> >> >>>> Graham
> >> >> >>>>
> >> >> >>>> > On Mon, Mar 9, 2009 at 4:30 PM, Graham Dumpleton
> >> >> >>>> > <graham.dumpleton@gmail.com> wrote:
> >> >> >>>> >>
> >> >> >>>> >> Correct, it is effectively a warning only in this case.
> Because
> >> >> >>>> >> Windows uses a DLL for Python library it automatically picks
> up
> >> >> >>>> >> the
> >> >> >>>> >> newer version.
> >> >> >>>> >>
> >> >> >>>> >> It would however be a problem on UNIX if mod_python had been
> >> >> >>>> >> compiled
> >> >> >>>> >> against a static Python library instead of a shared library.
> >> >> >>>> >>
> >> >> >>>> >> Graham
> >> >> >>>> >>
> >> >> >>>> >> 2009/3/10 Tim Valenta <tonightslastsong@gmail.com>:
> >> >> >>>> >> > If I'm not mistaken, I think it still runs, right?  It does
> >> >> >>>> >> > give a
> >> >> >>>> >> > warning,
> >> >> >>>> >> > but that is because that version was compiled with Python
> 2.5
> >> >> >>>> >> > (straight
> >> >> >>>> >> > 2.5,
> >> >> >>>> >> > not 2.5.2 or 2.5.4)
> >> >> >>>> >> > I'm not sure if there's anything you'll be able to simply
> >> >> >>>> >> > change to
> >> >> >>>> >> > fix
> >> >> >>>> >> > it.
> >> >> >>>> >> >  It shouldn't have any problems though.  (At least, I
> haven't
> >> >> >>>> >> > experienced
> >> >> >>>> >> > any.)
> >> >> >>>> >> > Tim
> >> >> >>>> >> >
> >> >> >>>> >> > 2009/3/9 Jordan Dunn <jdunn@nodetwo.org>
> >> >> >>>> >> >>
> >> >> >>>> >> >> i installed apache2.2 and python 2.5.4, and when i
> installed
> >> >> >>>> >> >> mod_python
> >> >> >>>> >> >> it
> >> >> >>>> >> >> installed fine, but in the apache logs it says its looking
> >> >> >>>> >> >> for 2.5
> >> >> >>>> >> >> instead
> >> >> >>>> >> >> of 2.5.4? how can i fix this?
> >> >> >>>> >> >> _______________________________________________
> >> >> >>>> >> >> Mod_python mailing list
> >> >> >>>> >> >> Mod_python@modpython.org
> >> >> >>>> >> >> http://mailman.modpython.org/mailman/listinfo/mod_python
> >> >> >>>> >> >>
> >> >> >>>> >> >
> >> >> >>>> >> >
> >> >> >>>> >> >
> >> >> >>>> >> > --
> >> >> >>>> >> > "If you had a katana, ..."
> >> >> >>>> >> > Party like it's 1234567890
> >> >> >>>> >> >
> >> >> >>>> >> > _______________________________________________
> >> >> >>>> >> > Mod_python mailing list
> >> >> >>>> >> > Mod_python@modpython.org
> >> >> >>>> >> > http://mailman.modpython.org/mailman/listinfo/mod_python
> >> >> >>>> >> >
> >> >> >>>> >> >
> >> >> >>>> >
> >> >> >>>> >
> >> >> >>>>
> >> >> >>>> _______________________________________________
> >> >> >>>> Mod_python mailing list
> >> >> >>>> Mod_python@modpython.org
> >> >> >>>> http://mailman.modpython.org/mailman/listinfo/mod_python
> >> >> >>>
> >> >> >>>
> >> >> >>>
> >> >> >>> --
> >> >> >>> "If you had a katana, ..."
> >> >> >>> Party like it's 1234567890
> >> >> >>
> >> >> >
> >> >> >
> >> >> >
> >> >> > --
> >> >> > "If you had a katana, ..."
> >> >> > Party like it's 1234567890
> >> >> >
> >> >
> >> >
> >> >
> >> > --
> >> > "If you had a katana, ..."
> >> > Party like it's 1234567890
> >> >
> >> > _______________________________________________
> >> > Mod_python mailing list
> >> > Mod_python@modpython.org
> >> > http://mailman.modpython.org/mailman/listinfo/mod_python
> >> >
> >
> >
> >
> > --
> > "If you had a katana, ..."
> > Party like it's 1234567890
> >
>



-- 
"If you had a katana, ..."
Party like it's 1234567890
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090309/bb7ecee8/attachment.html
From tom at or-as.be  Tue Mar 10 15:35:09 2009
From: tom at or-as.be (Tom Van Acker)
Date: Tue Mar 10 15:35:27 2009
Subject: [mod_python] cgi.FieldStorage() does not list POST,
	nor GET variables
Message-ID: <4CA46D6FA76D45AEBB99AFBAF7B6AF91@HPTom>

Skipped content of type multipart/alternative-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090310/59d69d49/mod_pythontestpage.htm
From snktagarwal at gmail.com  Wed Mar 11 10:41:27 2009
From: snktagarwal at gmail.com (sanket agarwal)
Date: Wed Mar 11 10:41:34 2009
Subject: [mod_python] mod_python opening a text file instead of showing it
	on the browser
Message-ID: <7e6fec580903110741s6a61c6bp5cdeed72c6668a77@mail.gmail.com>

apache 2.2.8
mod_py 3.3.1

I am having a problem in setting up mod python properly in my system. I wen
through the docs where it said about testing. I am facing a problem when I
access that script like : http://localhost/mptest.

Instead of showing up the Hello World! in the browser it tries to open it in
a text format, in mozilla it gives me an option to save it instead of
displaying it as a response.

My htttpd.conf is as follows:

<Location /mpinfo>
    SetHandler mod_python
    PythonHandler mod_python.testhandler
</Location>

<Directory /var/www/>
        AddHandler mod_python .py
        PythonHandler mptest
        PythonDebug On
</Directory>


And mpinfo is definitely showing up with lots of server info :)

My RootServer is /var/www
Python file is /var/www/mptest.py

the contents are

    from mod_python import apache

    def handler(req):
        req.content_type = 'text/plain'
        req.write("Hello World!")



        return apache.OK

 As told in the docs.

Please disambiguate this anomaly.!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090311/334bf0d8/attachment.html
From tom at or-as.be  Wed Mar 11 13:09:55 2009
From: tom at or-as.be (Tom Van Acker)
Date: Wed Mar 11 13:10:08 2009
Subject: [mod_python] cgi.FieldStorage() does not list POST,
	nor GET variables
Message-ID: <7D199B31B80C4200BE369002043C1D6A@HPTom>

Dear All,

Recently, we moved an application to a server running Linux/SUSE, apache 
2.2.4, with mod_python 3.3.1.
In the attachment, I included the output from the testhandler (as described 
in http://www.modpython.org/live/current/doc-html/inst-trouble.html).

This application worked perfect before, but now, for some strange reason, 
nothing works anymore.
I spent a whole day investigating this problem, but now I'm stuck.
It seems like form variables are simply not passed to the python scripts. I 
tried using GET or POST  methods,
I tried the cgihandler and the publisher .... nothing helps.

I'm using cgi.FieldStorage() to get to the form variables, but the result is 
empty, no matter what I do.

This is how the apache configuration looks;

<Directory /srv/www/htdocs/>
  Options ExecCGI FollowSymLinks
  AllowOverride None
  Order allow,deny
  allow from all
  SetHandler mod_python
  PythonHandler mod_python.cgihandler
  PythonDebug On
</Directory>

A very simple python program I used for testing looks like this;

#!/usr/bin/python

import cgi

form = cgi.FieldStorage()

str=('%d ' % (len(form.keys())))
for name in form.keys():
    str=str+"Input: " + name + " value: " + form[name].value + "<BR>"

str=str+"Finished!"

print "Content-Type: text/html\n\n"
print str

The ouput simply is "0 Finished".
I'm really stuck, I'm afraid. Any help is greatly appreciated.

Thanks in advance,
Tom 

From graham.dumpleton at gmail.com  Wed Mar 11 16:01:23 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Wed Mar 11 16:01:29 2009
Subject: [mod_python] mod_python opening a text file instead of showing it
	on the browser
In-Reply-To: <7e6fec580903110741s6a61c6bp5cdeed72c6668a77@mail.gmail.com>
References: <7e6fec580903110741s6a61c6bp5cdeed72c6668a77@mail.gmail.com>
Message-ID: <88e286470903111301p67db31f0sbf49f82616a4a383@mail.gmail.com>

Try some of the suggestions and debugging tips in:

  http://www.dscpl.com.au/wiki/ModPython/Articles/GettingModPythonWorking

Graham

2009/3/12 sanket agarwal <snktagarwal@gmail.com>:
> apache 2.2.8
> mod_py 3.3.1
>
> I am having a problem in setting up mod python properly in my system. I wen
> through the docs where it said about testing. I am facing a problem when I
> access that script like : http://localhost/mptest.
>
> Instead of showing up the Hello World! in the browser it tries to open it in
> a text format, in mozilla it gives me an option to save it instead of
> displaying it as a response.
>
> My htttpd.conf is as follows:
>
> <Location /mpinfo>
> ??? SetHandler mod_python
> ??? PythonHandler mod_python.testhandler
> </Location>
>
> <Directory /var/www/>
> ??????? AddHandler mod_python .py
> ??????? PythonHandler mptest
> ??????? PythonDebug On
> </Directory>
>
>
> And mpinfo is definitely showing up with lots of server info :)
>
> My RootServer is /var/www
> Python file is /var/www/mptest.py
>
> the contents are
>
>     from mod_python import apache
>
>     def handler(req):
>         req.content_type = 'text/plain'
>         req.write("Hello World!")
>
>
>
>         return apache.OK
>
> As told in the docs.
>
> Please disambiguate this anomaly.!
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>
>

From snktagarwal at gmail.com  Wed Mar 11 16:48:02 2009
From: snktagarwal at gmail.com (sanket agarwal)
Date: Wed Mar 11 16:48:08 2009
Subject: [mod_python] mod_python opening a text file instead of showing it
	on the browser
In-Reply-To: <88e286470903111301p67db31f0sbf49f82616a4a383@mail.gmail.com>
References: <7e6fec580903110741s6a61c6bp5cdeed72c6668a77@mail.gmail.com>
	<88e286470903111301p67db31f0sbf49f82616a4a383@mail.gmail.com>
Message-ID: <7e6fec580903111348v3213c19ekad524242b4cef770@mail.gmail.com>

It worked.
Thanx. I'll back with some more queries as soon as i encounter them. :-)

Sanket

On Thu, Mar 12, 2009 at 1:31 AM, Graham Dumpleton <
graham.dumpleton@gmail.com> wrote:

> Try some of the suggestions and debugging tips in:
>
>  http://www.dscpl.com.au/wiki/ModPython/Articles/GettingModPythonWorking
>
> Graham
>
> 2009/3/12 sanket agarwal <snktagarwal@gmail.com>:
> > apache 2.2.8
> > mod_py 3.3.1
> >
> > I am having a problem in setting up mod python properly in my system. I
> wen
> > through the docs where it said about testing. I am facing a problem when
> I
> > access that script like : http://localhost/mptest.
> >
> > Instead of showing up the Hello World! in the browser it tries to open it
> in
> > a text format, in mozilla it gives me an option to save it instead of
> > displaying it as a response.
> >
> > My htttpd.conf is as follows:
> >
> > <Location /mpinfo>
> >     SetHandler mod_python
> >     PythonHandler mod_python.testhandler
> > </Location>
> >
> > <Directory /var/www/>
> >         AddHandler mod_python .py
> >         PythonHandler mptest
> >         PythonDebug On
> > </Directory>
> >
> >
> > And mpinfo is definitely showing up with lots of server info :)
> >
> > My RootServer is /var/www
> > Python file is /var/www/mptest.py
> >
> > the contents are
> >
> >     from mod_python import apache
> >
> >     def handler(req):
> >         req.content_type = 'text/plain'
> >         req.write("Hello World!")
> >
> >
> >
> >         return apache.OK
> >
> > As told in the docs.
> >
> > Please disambiguate this anomaly.!
> >
> > _______________________________________________
> > Mod_python mailing list
> > Mod_python@modpython.org
> > http://mailman.modpython.org/mailman/listinfo/mod_python
> >
> >
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090312/20106858/attachment.html
From jimmcd at ns.sympatico.ca  Fri Mar 13 23:40:03 2009
From: jimmcd at ns.sympatico.ca (Jim McDonald)
Date: Fri Mar 13 23:40:18 2009
Subject: [mod_python] python_init errors
Message-ID: <49BB2713.8090305@ns.sympatico.ca>

Ever since I installed /mod_python/ (3.3), Apache 2.2 launches with 
these error messages:

    1. [date-time] [error] python_init: Python version mismatch,
    expected '2.5', found '2.5.2'.

    2. [date-time] [error] python_init: Python executable found
    'C:\\Program Files\\Apache Software
    Foundation\\Apache2.2\\bin\\httpd.exe'.

    3. [date-time] [error] python_init: Python path being used
    'C:\\WINDOWS\\system32\\python25.zip;D:\\Program
    Files\\Python\\Lib;D:\\Program Files\\Python\\DLLs;D:\\Program
    Files\\Python\\Lib\\lib-tk;;C:\\Program Files\\Apache Software
    Foundation\\Apache2.2\\bin'.

When I follow the documented set-up instructions and test the system 
with /mptest.py/ as the handler, my system passes the test, but I can't 
get any joy from /mod_python.publisher/, at all.

I've seen many posts on many sites about the first error message, but I 
haven't seen any informative reply to those posts. I don't even know if 
the problem is significant.

And I'm still struggling to achieve basic functionality in /mod_python/, 
so I wonder if this message is pointing at the problem.

As for the second, it makes no sense to me. Is it saying that it thinks 
/httpd.exe/ is python? Or what? I'd really like to know what this error is.

And the third is even less intelligible. I'm unable to find a file 
called '/python25.zip/' anywhere on my system, and there certainly isn't 
one in "C:\WINDOWS\system32\". Where in the world did Apache get the 
idea that I want that in my python path? And what is the function of the 
python path, anyway?

It looks to me as if /python_init/ (whatever that is--I presume it's 
some piece of /mod_python/ to which I have no direct access) is messed 
up. But how did it get that way? Is this the work of the post-install 
configuration business? Is it something I can fix in /httpd.conf/?

I'm presuming that there are masses of happy /mod_python/ users out 
there who are using Apache 2.2 and the usual LAMP or WAMP stack. But I 
think (judging from the forlorn cries I hear all over the web) I'm 
speaking for a pretty sizable population of frustrated would-be users 
who can't get past the the initial set-up problems.

If any of you blessed many could spare a few moments for us wretched 
few, we'd all be deeply grateful.
-- 
J
-------------- next part --------------
Skipped content of type multipart/related
From graham.dumpleton at gmail.com  Sat Mar 14 01:22:28 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Sat Mar 14 01:22:38 2009
Subject: [mod_python] python_init errors
In-Reply-To: <49BB2713.8090305@ns.sympatico.ca>
References: <49BB2713.8090305@ns.sympatico.ca>
Message-ID: <88e286470903132222x5db2119o7d393a2354ca11a8@mail.gmail.com>

2009/3/14 Jim McDonald <jimmcd@ns.sympatico.ca>:
> Ever since I installed mod_python (3.3), Apache 2.2 launches with these
> error messages:
>
> 1. [date-time] [error] python_init: Python version mismatch, expected '2.5',
> found '2.5.2'.

Ignore it:

  http://issues.apache.org/jira/browse/MODPYTHON-205

On Windows it is of no significance. Even on UNIX it doesn't matter
unless your Python installation didn't provide a shared library or
mod_python wasn't using the shared library.

> 2. [date-time] [error] python_init: Python executable found 'C:\\Program
> Files\\Apache Software Foundation\\Apache2.2\\bin\\httpd.exe'.
>
> 3. [date-time] [error] python_init: Python path being used
> 'C:\\WINDOWS\\system32\\python25.zip;D:\\Program
> Files\\Python\\Lib;D:\\Program Files\\Python\\DLLs;D:\\Program
> Files\\Python\\Lib\\lib-tk;;C:\\Program Files\\Apache Software
> Foundation\\Apache2.2\\bin'.

These aren't errors and are just information messages to help in case
1 did mean something, but it doesn't actually.

The one about executable location was always misleading and should
have just been dropped, as always shows location of Apache server
executable and not Python.

> When I follow the documented set-up instructions and test the system with
> mptest.py as the handler, my system passes the test, but I can't get any joy
> from mod_python.publisher, at all.
>
> I've seen many posts on many sites about the first error message, but I
> haven't seen any informative reply to those posts. I don't even know if the
> problem is significant.
>
> And I'm still struggling to achieve basic functionality in mod_python, so I
> wonder if this message is pointing at the problem.
>
> As for the second, it makes no sense to me. Is it saying that it thinks
> httpd.exe is python? Or what? I'd really like to know what this error is.
>
> And the third is even less intelligible. I'm unable to find a file called
> 'python25.zip' anywhere on my system, and there certainly isn't one in
> "C:\WINDOWS\system32\". Where in the world did Apache get the idea that I
> want that in my python path? And what is the function of the python path,
> anyway?

If you do not know what PYTHONPATH or sys.path in Python are about
then go read the Python documentation.

The python25.zip is in there as it is one of the standard things that
Python on a Windows box looks for. Keep in mind that Python is
actually being run albeit embedded in Apache. Thus, don't think it is
Apache doing these things, it is actually Python.

> It looks to me as if python_init (whatever that is--I presume it's some
> piece of mod_python to which I have no direct access) is messed up. But how
> did it get that way? Is this the work of the post-install configuration
> business? Is it something I can fix in httpd.conf?
>
> I'm presuming that there are masses of happy mod_python users out there who
> are using Apache 2.2 and the usual LAMP or WAMP stack. But I think (judging
> from the forlorn cries I hear all over the web) I'm speaking for a pretty
> sizable population of frustrated would-be users who can't get past the the
> initial set-up problems.
>
> If any of you blessed many could spare a few moments for us wretched few,
> we'd all be deeply grateful.

None of those messages are important and can be completely ignored.

Since you don't actually say what the problem is when running
mod_python.publisher, can't help you there.

Graham
From graham.dumpleton at gmail.com  Sat Mar 14 21:39:32 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Sat Mar 14 21:39:41 2009
Subject: [mod_python] python_init errors
In-Reply-To: <49BC5A64.3050708@ns.sympatico.ca>
References: <49BB2713.8090305@ns.sympatico.ca>
	<88e286470903132222x5db2119o7d393a2354ca11a8@mail.gmail.com>
	<49BBDB3E.9000101@ns.sympatico.ca>
	<88e286470903141716v5f0d948ala55f0d92a3b44b4e@mail.gmail.com>
	<49BC5A64.3050708@ns.sympatico.ca>
Message-ID: <88e286470903141839m2a4a31c5o58caad421777756e@mail.gmail.com>

2009/3/15 Jim McDonald <jimmcd@ns.sympatico.ca>:
> Graham Dumpleton wrote:
>
> 2009/3/15 Jim McDonald <jimmcd@ns.sympatico.ca>:
>
>
> OK.
>
> The mod_python.publisher problem is like this:
>
> ??? Following the instructions in the mod_python manual, I created a test
> directory under my Apache server root called 'Python' and added to
> httpd.conf these lines:
>
> ???? <Directory "C:/Program Files/Apache Software
> Foundation/Apache2.2/htdocs/Python/">
> ??????? AddHandler mod_python .py
> ??????? PythonHandler mptest
> ??????? PythonDebug On
> ??? </Directory>
>
> Mptest.py is, of course, the test script described in the manual.
>
> It worked as described.
>
> I then proceeded to the 'Tutorial' in the manual and substituted
> mod_python.publisher for mptest in httpd.conf. I also added the form.htm
> page to /htdocs and form.py to the Python directory. This resulted in a 404
> error--"The requested URL /Python/form.py/email was not found on this
> server." Simpler scripts (like mptest.py) in the same directory fail in the
> same way.
>
> No error shows up in Apache's error log.
>
> It's very puzzling to me that Apache is unable to find files that are
> plainly present in the places where it says it can't find them. Any advice?
>
>
> Post the contents of the form.py file.
>
> Also have a read of:
>
>   http://webpython.codepoint.net/mod_python_tutorial
>
> It is a better tutorial.
>
> Graham
>
>
>
> Form.py goes like this:
>
> import smtplib
>
> WEBMASTER = "webmaster"??? #webmaster email
> SMTP_SERVER = "SIRIUS"?? ? # That's the name of my server.
> ??? ?? ?? ?? ?? ?? ?? ?? ? # The rest of the code is cut-and-pasted
> ??? ?? ?? ?? ?? ?? ?? ?? ? # out of the tutorial.
> def email(req, name, email, comment):
> ??? if not (name and email and comment):
> ??? ??? return "A required parameter is missing, \
> ??? ??? ??? ??? ??? please go back and complete the form."
> ??? msg = """\
> From: %s
> SubjectL feedback
> To: %s
>
> I have the following comment:
>
> %s
>
> Thank you,
>
> %s
>
> """ % (email, WEBMASTER, comment, name)
>
> ??? # send it out
> ??? conn = smtplib.SMTP(SMTP_SERVER)
> ??? conn.sendmail(email, (WEBMASTER), msg)
> ??? conn.quit()
>
> ??? # provide feedback to the user
> ??? s = """\
> <html>
>
> Dear %s,<br>
> Thank you for your kind comments. \n
> We will get back to you shortly.
>
> </html>""" % name
>
> ??? return s
>
> It takes input from this web form:
>
> ?<html>
> ????? Please provide feedback below:
> ? <p>
> ? <form action="Python/form.py/email" method="POST">
>
> ????? Name:??? <input type="text" name="name"><br>
> ????? Email:?? <input type="text" name="email"><br>
> ????? Comment: <textarea name="comment" rows=4 cols=20></textarea><br>
> ????? <input type="submit">
>
> ? </form>
> ? </html>
>
> I hope this sheds light.
>
> Thanks very much for your attention to this and for your quick response.
>
> I'll go and have a look now at the tutorial you mentioned.

This only has a chance of working if HTML file is in too directory of
server. Where have you put it? If in same directory as .py file,
change 'action' in form to be just 'form.py/email'.

Please use reply-all and keep followups on the list.



Graham

From jimmcd at ns.sympatico.ca  Sat Mar 14 22:54:05 2009
From: jimmcd at ns.sympatico.ca (Jim McDonald)
Date: Sat Mar 14 22:54:18 2009
Subject: [mod_python] python_init errors
In-Reply-To: <88e286470903141839m2a4a31c5o58caad421777756e@mail.gmail.com>
References: <49BB2713.8090305@ns.sympatico.ca>	<88e286470903132222x5db2119o7d393a2354ca11a8@mail.gmail.com>	<49BBDB3E.9000101@ns.sympatico.ca>	<88e286470903141716v5f0d948ala55f0d92a3b44b4e@mail.gmail.com>	<49BC5A64.3050708@ns.sympatico.ca>
	<88e286470903141839m2a4a31c5o58caad421777756e@mail.gmail.com>
Message-ID: <49BC6DCD.2@ns.sympatico.ca>

Graham Dumpleton wrote:
> 2009/3/15 Jim McDonald <jimmcd@ns.sympatico.ca>:
>   
>> Graham Dumpleton wrote:
>>
>> 2009/3/15 Jim McDonald <jimmcd@ns.sympatico.ca>:
>>
>>
>> OK.
>>
>> The mod_python.publisher problem is like this:
>>
>>     Following the instructions in the mod_python manual, I created a test
>> directory under my Apache server root called 'Python' and added to
>> httpd.conf these lines:
>>
>>      <Directory "C:/Program Files/Apache Software
>> Foundation/Apache2.2/htdocs/Python/">
>>         AddHandler mod_python .py
>>         PythonHandler mptest
>>         PythonDebug On
>>     </Directory>
>>
>> Mptest.py is, of course, the test script described in the manual.
>>
>> It worked as described.
>>
>> I then proceeded to the 'Tutorial' in the manual and substituted
>> mod_python.publisher for mptest in httpd.conf. I also added the form.htm
>> page to /htdocs and form.py to the Python directory. This resulted in a 404
>> error--"The requested URL /Python/form.py/email was not found on this
>> server." Simpler scripts (like mptest.py) in the same directory fail in the
>> same way.
>>
>> No error shows up in Apache's error log.
>>
>> It's very puzzling to me that Apache is unable to find files that are
>> plainly present in the places where it says it can't find them. Any advice?
>>
>>
>> Post the contents of the form.py file.
>>
>> Also have a read of:
>>
>>   http://webpython.codepoint.net/mod_python_tutorial
>>
>> It is a better tutorial.
>>
>> Graham
>>
>>
>>
>> Form.py goes like this:
>>
>> import smtplib
>>
>> WEBMASTER = "webmaster"    #webmaster email
>> SMTP_SERVER = "SIRIUS"     # That's the name of my server.
>>                            # The rest of the code is cut-and-pasted
>>                            # out of the tutorial.
>> def email(req, name, email, comment):
>>     if not (name and email and comment):
>>         return "A required parameter is missing, \
>>                     please go back and complete the form."
>>     msg = """\
>> From: %s
>> SubjectL feedback
>> To: %s
>>
>> I have the following comment:
>>
>> %s
>>
>> Thank you,
>>
>> %s
>>
>> """ % (email, WEBMASTER, comment, name)
>>
>>     # send it out
>>     conn = smtplib.SMTP(SMTP_SERVER)
>>     conn.sendmail(email, (WEBMASTER), msg)
>>     conn.quit()
>>
>>     # provide feedback to the user
>>     s = """\
>> <html>
>>
>> Dear %s,<br>
>> Thank you for your kind comments. \n
>> We will get back to you shortly.
>>
>> </html>""" % name
>>
>>     return s
>>
>> It takes input from this web form:
>>
>>  <html>
>>       Please provide feedback below:
>>   <p>
>>   <form action="Python/form.py/email" method="POST">
>>
>>       Name:    <input type="text" name="name"><br>
>>       Email:   <input type="text" name="email"><br>
>>       Comment: <textarea name="comment" rows=4 cols=20></textarea><br>
>>       <input type="submit">
>>
>>   </form>
>>   </html>
>>
>> I hope this sheds light.
>>
>> Thanks very much for your attention to this and for your quick response.
>>
>> I'll go and have a look now at the tutorial you mentioned.
>>     
>
> This only has a chance of working if HTML file is in too directory of
> server. Where have you put it? If in same directory as .py file,
> change 'action' in form to be just 'form.py/email'.
>
> Please use reply-all and keep followups on the list.
>
>
>
> Graham
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>
>   
It was in the root directory. I moved it to the Python directory, 
amended the path as suggested, and ran it from there. Same result.

-- 
-------------- next part --------------
Skipped content of type multipart/related
From graham.dumpleton at gmail.com  Sat Mar 14 22:58:40 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Sat Mar 14 22:58:50 2009
Subject: [mod_python] python_init errors
In-Reply-To: <49BC6DCD.2@ns.sympatico.ca>
References: <49BB2713.8090305@ns.sympatico.ca>
	<88e286470903132222x5db2119o7d393a2354ca11a8@mail.gmail.com>
	<49BBDB3E.9000101@ns.sympatico.ca>
	<88e286470903141716v5f0d948ala55f0d92a3b44b4e@mail.gmail.com>
	<49BC5A64.3050708@ns.sympatico.ca>
	<88e286470903141839m2a4a31c5o58caad421777756e@mail.gmail.com>
	<49BC6DCD.2@ns.sympatico.ca>
Message-ID: <88e286470903141958y1858c690ofcaffa24e5cf36d2@mail.gmail.com>

2009/3/15 Jim McDonald <jimmcd@ns.sympatico.ca>:
> Graham Dumpleton wrote:
>
> 2009/3/15 Jim McDonald <jimmcd@ns.sympatico.ca>:
>
>
> Graham Dumpleton wrote:
>
> 2009/3/15 Jim McDonald <jimmcd@ns.sympatico.ca>:
>
>
> OK.
>
> The mod_python.publisher problem is like this:
>
> ??? Following the instructions in the mod_python manual, I created a test
> directory under my Apache server root called 'Python' and added to
> httpd.conf these lines:
>
> ???? <Directory "C:/Program Files/Apache Software
> Foundation/Apache2.2/htdocs/Python/">
> ??????? AddHandler mod_python .py
> ??????? PythonHandler mptest
> ??????? PythonDebug On
> ??? </Directory>
>
> Mptest.py is, of course, the test script described in the manual.
>
> It worked as described.
>
> I then proceeded to the 'Tutorial' in the manual and substituted
> mod_python.publisher for mptest in httpd.conf. I also added the form.htm
> page to /htdocs and form.py to the Python directory. This resulted in a 404
> error--"The requested URL /Python/form.py/email was not found on this
> server." Simpler scripts (like mptest.py) in the same directory fail in the
> same way.
>
> No error shows up in Apache's error log.
>
> It's very puzzling to me that Apache is unable to find files that are
> plainly present in the places where it says it can't find them. Any advice?
>
>
> Post the contents of the form.py file.
>
> Also have a read of:
>
>   http://webpython.codepoint.net/mod_python_tutorial
>
> It is a better tutorial.
>
> Graham
>
>
>
> Form.py goes like this:
>
> import smtplib
>
> WEBMASTER = "webmaster"??? #webmaster email
> SMTP_SERVER = "SIRIUS"?? ? # That's the name of my server.
> ??? ?? ?? ?? ?? ?? ?? ?? ? # The rest of the code is cut-and-pasted
> ??? ?? ?? ?? ?? ?? ?? ?? ? # out of the tutorial.
> def email(req, name, email, comment):
> ??? if not (name and email and comment):
> ??? ??? return "A required parameter is missing, \
> ??? ??? ??? ??? ??? please go back and complete the form."
> ??? msg = """\
> From: %s
> SubjectL feedback
> To: %s
>
> I have the following comment:
>
> %s
>
> Thank you,
>
> %s
>
> """ % (email, WEBMASTER, comment, name)
>
> ??? # send it out
> ??? conn = smtplib.SMTP(SMTP_SERVER)
> ??? conn.sendmail(email, (WEBMASTER), msg)
> ??? conn.quit()
>
> ??? # provide feedback to the user
> ??? s = """\
> <html>
>
> Dear %s,<br>
> Thank you for your kind comments. \n
> We will get back to you shortly.
>
> </html>""" % name
>
> ??? return s
>
> It takes input from this web form:
>
> ?<html>
> ????? Please provide feedback below:
> ? <p>
> ? <form action="Python/form.py/email" method="POST">
>
> ????? Name:??? <input type="text" name="name"><br>
> ????? Email:?? <input type="text" name="email"><br>
> ????? Comment: <textarea name="comment" rows=4 cols=20></textarea><br>
> ????? <input type="submit">
>
> ? </form>
> ? </html>
>
> I hope this sheds light.
>
> Thanks very much for your attention to this and for your quick response.
>
> I'll go and have a look now at the tutorial you mentioned.
>
>
> This only has a chance of working if HTML file is in too directory of
> server. Where have you put it? If in same directory as .py file,
> change 'action' in form to be just 'form.py/email'.
>
> Please use reply-all and keep followups on the list.
>
>
>
> Graham
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>
>
>
> It was in the root directory. I moved it to the Python directory, amended
> the path as suggested, and ran it from there. Same result.

Hmmm, is your code file really called 'Form.py' as you said. Your
action is referencing 'form.py'. This isn't Windows, the case of names
is important.

Graham

From jimmcd at ns.sympatico.ca  Sun Mar 15 00:37:25 2009
From: jimmcd at ns.sympatico.ca (Jim McDonald)
Date: Sun Mar 15 00:37:42 2009
Subject: [mod_python] python_init errors
In-Reply-To: <88e286470903141958y1858c690ofcaffa24e5cf36d2@mail.gmail.com>
References: <49BB2713.8090305@ns.sympatico.ca>	<88e286470903132222x5db2119o7d393a2354ca11a8@mail.gmail.com>	<49BBDB3E.9000101@ns.sympatico.ca>	<88e286470903141716v5f0d948ala55f0d92a3b44b4e@mail.gmail.com>	<49BC5A64.3050708@ns.sympatico.ca>	<88e286470903141839m2a4a31c5o58caad421777756e@mail.gmail.com>	<49BC6DCD.2@ns.sympatico.ca>
	<88e286470903141958y1858c690ofcaffa24e5cf36d2@mail.gmail.com>
Message-ID: <49BC8605.7010100@ns.sympatico.ca>

Graham Dumpleton wrote:
> 2009/3/15 Jim McDonald <jimmcd@ns.sympatico.ca>:
>   
>> Graham Dumpleton wrote:
>>
>> 2009/3/15 Jim McDonald <jimmcd@ns.sympatico.ca>:
>>
>>
>> Graham Dumpleton wrote:
>>
>> 2009/3/15 Jim McDonald <jimmcd@ns.sympatico.ca>:
>>
>>
>> OK.
>>
>> The mod_python.publisher problem is like this:
>>
>>     Following the instructions in the mod_python manual, I created a test
>> directory under my Apache server root called 'Python' and added to
>> httpd.conf these lines:
>>
>>      <Directory "C:/Program Files/Apache Software
>> Foundation/Apache2.2/htdocs/Python/">
>>         AddHandler mod_python .py
>>         PythonHandler mptest
>>         PythonDebug On
>>     </Directory>
>>
>> Mptest.py is, of course, the test script described in the manual.
>>
>> It worked as described.
>>
>> I then proceeded to the 'Tutorial' in the manual and substituted
>> mod_python.publisher for mptest in httpd.conf. I also added the form.htm
>> page to /htdocs and form.py to the Python directory. This resulted in a 404
>> error--"The requested URL /Python/form.py/email was not found on this
>> server." Simpler scripts (like mptest.py) in the same directory fail in the
>> same way.
>>
>> No error shows up in Apache's error log.
>>
>> It's very puzzling to me that Apache is unable to find files that are
>> plainly present in the places where it says it can't find them. Any advice?
>>
>>
>> Post the contents of the form.py file.
>>
>> Also have a read of:
>>
>>   http://webpython.codepoint.net/mod_python_tutorial
>>
>> It is a better tutorial.
>>
>> Graham
>>
>>
>>
>> Form.py goes like this:
>>
>> import smtplib
>>
>> WEBMASTER = "webmaster"    #webmaster email
>> SMTP_SERVER = "SIRIUS"     # That's the name of my server.
>>                            # The rest of the code is cut-and-pasted
>>                            # out of the tutorial.
>> def email(req, name, email, comment):
>>     if not (name and email and comment):
>>         return "A required parameter is missing, \
>>                     please go back and complete the form."
>>     msg = """\
>> From: %s
>> SubjectL feedback
>> To: %s
>>
>> I have the following comment:
>>
>> %s
>>
>> Thank you,
>>
>> %s
>>
>> """ % (email, WEBMASTER, comment, name)
>>
>>     # send it out
>>     conn = smtplib.SMTP(SMTP_SERVER)
>>     conn.sendmail(email, (WEBMASTER), msg)
>>     conn.quit()
>>
>>     # provide feedback to the user
>>     s = """\
>> <html>
>>
>> Dear %s,<br>
>> Thank you for your kind comments. \n
>> We will get back to you shortly.
>>
>> </html>""" % name
>>
>>     return s
>>
>> It takes input from this web form:
>>
>>  <html>
>>       Please provide feedback below:
>>   <p>
>>   <form action="Python/form.py/email" method="POST">
>>
>>       Name:    <input type="text" name="name"><br>
>>       Email:   <input type="text" name="email"><br>
>>       Comment: <textarea name="comment" rows=4 cols=20></textarea><br>
>>       <input type="submit">
>>
>>   </form>
>>   </html>
>>
>> I hope this sheds light.
>>
>> Thanks very much for your attention to this and for your quick response.
>>
>> I'll go and have a look now at the tutorial you mentioned.
>>
>>
>> This only has a chance of working if HTML file is in too directory of
>> server. Where have you put it? If in same directory as .py file,
>> change 'action' in form to be just 'form.py/email'.
>>
>> Please use reply-all and keep followups on the list.
>>
>>
>>
>> Graham
>>
>> _______________________________________________
>> Mod_python mailing list
>> Mod_python@modpython.org
>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>
>>
>>
>> It was in the root directory. I moved it to the Python directory, amended
>> the path as suggested, and ran it from there. Same result.
>>     
>
> Hmmm, is your code file really called 'Form.py' as you said. Your
> action is referencing 'form.py'. This isn't Windows, the case of names
> is important.
>
> Graham
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>
>   
Good point. No, it was actually called 'FORM.PY'

Unhappily, though, changing the reference made no difference.

I want to emphasize, though, that I have several python files in the the 
Python directory (which is the subject of the /httpd.conf /directive), 
and, as long as /mod_python.publisher/ is the handler, Apache can't see 
any of them. Even the charmingly simple /mptest.py.

/Well, hardly any of them. There's one called /index.py /that runs when 
I navigate to the Python directory and click on it. Its code looks like 
this:
          def index(req):
              return "We are in index()"

          def hello(req):
              return "We are in hello()"

The others not only refuse to run, they give a 404 error. I can't see 
what distinguishes this one from the others in that respect. Do you see 
anything special about it?

-- 
-------------- next part --------------
Skipped content of type multipart/related
From graham.dumpleton at gmail.com  Sun Mar 15 01:11:17 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Sun Mar 15 01:11:27 2009
Subject: [mod_python] python_init errors
In-Reply-To: <49BC8605.7010100@ns.sympatico.ca>
References: <49BB2713.8090305@ns.sympatico.ca>
	<88e286470903132222x5db2119o7d393a2354ca11a8@mail.gmail.com>
	<49BBDB3E.9000101@ns.sympatico.ca>
	<88e286470903141716v5f0d948ala55f0d92a3b44b4e@mail.gmail.com>
	<49BC5A64.3050708@ns.sympatico.ca>
	<88e286470903141839m2a4a31c5o58caad421777756e@mail.gmail.com>
	<49BC6DCD.2@ns.sympatico.ca>
	<88e286470903141958y1858c690ofcaffa24e5cf36d2@mail.gmail.com>
	<49BC8605.7010100@ns.sympatico.ca>
Message-ID: <88e286470903142211m51954cdfgf4f30f75103c3324@mail.gmail.com>

> 2009/3/15 Jim McDonald <jimmcd@ns.sympatico.ca>:
>
>
> OK.
>
> The mod_python.publisher problem is like this:
>
> ??? Following the instructions in the mod_python manual, I created a test
> directory under my Apache server root called 'Python' and added to
> httpd.conf these lines:
>
> ???? <Directory "C:/Program Files/Apache Software
> Foundation/Apache2.2/htdocs/Python/">
> ??????? AddHandler mod_python .py
> ??????? PythonHandler mptest
> ??????? PythonDebug On
> ??? </Directory>
>
> Mptest.py is, of course, the test script described in the manual.
>
> It worked as described.
>
> I then proceeded to the 'Tutorial' in the manual and substituted
> mod_python.publisher for mptest in httpd.conf. I also added the form.htm
> page to /htdocs and form.py to the Python directory. This resulted in a 404
> error--"The requested URL /Python/form.py/email was not found on this
> server." Simpler scripts (like mptest.py) in the same directory fail in the
> same way.
>
> No error shows up in Apache's error log.
>
> It's very puzzling to me that Apache is unable to find files that are
> plainly present in the places where it says it can't find them. Any advice?
>
>
> Post the contents of the form.py file.
>
> Also have a read of:
>
>   http://webpython.codepoint.net/mod_python_tutorial
>
> It is a better tutorial.
>
> Graham
>
>
>
> Form.py goes like this:
>
> import smtplib
>
> WEBMASTER = "webmaster"??? #webmaster email
> SMTP_SERVER = "SIRIUS"?? ? # That's the name of my server.
> ??? ?? ?? ?? ?? ?? ?? ?? ? # The rest of the code is cut-and-pasted
> ??? ?? ?? ?? ?? ?? ?? ?? ? # out of the tutorial.
> def email(req, name, email, comment):
> ??? if not (name and email and comment):
> ??? ??? return "A required parameter is missing, \
> ??? ??? ??? ??? ??? please go back and complete the form."
> ??? msg = """\
> From: %s
> SubjectL feedback
> To: %s
>
> I have the following comment:
>
> %s
>
> Thank you,
>
> %s
>
> """ % (email, WEBMASTER, comment, name)
>
> ??? # send it out
> ??? conn = smtplib.SMTP(SMTP_SERVER)
> ??? conn.sendmail(email, (WEBMASTER), msg)
> ??? conn.quit()
>
> ??? # provide feedback to the user
> ??? s = """\
> <html>
>
> Dear %s,<br>
> Thank you for your kind comments. \n
> We will get back to you shortly.
>
> </html>""" % name
>
> ??? return s
>
> It takes input from this web form:
>
> ?<html>
> ????? Please provide feedback below:
> ? <p>
> ? <form action="Python/form.py/email" method="POST">
>
> ????? Name:??? <input type="text" name="name"><br>
> ????? Email:?? <input type="text" name="email"><br>
> ????? Comment: <textarea name="comment" rows=4 cols=20></textarea><br>
> ????? <input type="submit">
>
> ? </form>
> ? </html>
>
> I hope this sheds light.
>
> Thanks very much for your attention to this and for your quick response.
>
> I'll go and have a look now at the tutorial you mentioned.
>
>
> This only has a chance of working if HTML file is in too directory of
> server. Where have you put it? If in same directory as .py file,
> change 'action' in form to be just 'form.py/email'.
>
> Please use reply-all and keep followups on the list
>
> It was in the root directory. I moved it to the Python directory, amended
> the path as suggested, and ran it from there. Same result.
>
>
> Hmmm, is your code file really called 'Form.py' as you said. Your
> action is referencing 'form.py'. This isn't Windows, the case of names
> is important.
>
>
> Good point. No, it was actually called 'FORM.PY'
>
> Unhappily, though, changing the reference made no difference.
>
> I want to emphasize, though, that I have several python files in the the
> Python directory (which is the subject of the httpd.conf directive), and, as
> long as mod_python.publisher is the handler, Apache can't see any of them.
> Even the charmingly simple mptest.py.
>
> Well, hardly any of them. There's one called index.py that runs when I
> navigate to the Python directory and click on it. Its code looks like this:
> ??? ??? ? def index(req):
> ??? ??? ??? ? return "We are in index()"
>
> ??? ??? ? def hello(req):
> ?? ?? ??? ??? return "We are in hello()"
>
> The others not only refuse to run, they give a 404 error. I can't see what
> distinguishes this one from the others in that respect. Do you see anything
> special about it?

What exactly is the URL in the web browser when you access 'index.py'
and it works?

The 'index.py' file is special. The documentation explains, as it
should about the 'index' function within a file being special.

Graham

From jimmcd at ns.sympatico.ca  Sun Mar 15 12:05:29 2009
From: jimmcd at ns.sympatico.ca (Jim McDonald)
Date: Sun Mar 15 12:05:47 2009
Subject: [mod_python] python_init errors
In-Reply-To: <88e286470903142211m51954cdfgf4f30f75103c3324@mail.gmail.com>
References: <49BB2713.8090305@ns.sympatico.ca>	<88e286470903132222x5db2119o7d393a2354ca11a8@mail.gmail.com>	<49BBDB3E.9000101@ns.sympatico.ca>	<88e286470903141716v5f0d948ala55f0d92a3b44b4e@mail.gmail.com>	<49BC5A64.3050708@ns.sympatico.ca>	<88e286470903141839m2a4a31c5o58caad421777756e@mail.gmail.com>	<49BC6DCD.2@ns.sympatico.ca>	<88e286470903141958y1858c690ofcaffa24e5cf36d2@mail.gmail.com>	<49BC8605.7010100@ns.sympatico.ca>
	<88e286470903142211m51954cdfgf4f30f75103c3324@mail.gmail.com>
Message-ID: <49BD2749.8040707@ns.sympatico.ca>

Graham Dumpleton wrote:
>> 2009/3/15 Jim McDonald <jimmcd@ns.sympatico.ca>:
>>
>>
>> OK.
>>
>> The mod_python.publisher problem is like this:
>>
>>     Following the instructions in the mod_python manual, I created a test
>> directory under my Apache server root called 'Python' and added to
>> httpd.conf these lines:
>>
>>      <Directory "C:/Program Files/Apache Software
>> Foundation/Apache2.2/htdocs/Python/">
>>         AddHandler mod_python .py
>>         PythonHandler mptest
>>         PythonDebug On
>>     </Directory>
>>
>> Mptest.py is, of course, the test script described in the manual.
>>
>> It worked as described.
>>
>> I then proceeded to the 'Tutorial' in the manual and substituted
>> mod_python.publisher for mptest in httpd.conf. I also added the form.htm
>> page to /htdocs and form.py to the Python directory. This resulted in a 404
>> error--"The requested URL /Python/form.py/email was not found on this
>> server." Simpler scripts (like mptest.py) in the same directory fail in the
>> same way.
>>
>> No error shows up in Apache's error log.
>>
>> It's very puzzling to me that Apache is unable to find files that are
>> plainly present in the places where it says it can't find them. Any advice?
>>
>>
>> Post the contents of the form.py file.
>>
>> Also have a read of:
>>
>>   http://webpython.codepoint.net/mod_python_tutorial
>>
>> It is a better tutorial.
>>
>> Graham
>>
>>
>>
>> Form.py goes like this:
>>
>> import smtplib
>>
>> WEBMASTER = "webmaster"    #webmaster email
>> SMTP_SERVER = "SIRIUS"     # That's the name of my server.
>>                            # The rest of the code is cut-and-pasted
>>                            # out of the tutorial.
>> def email(req, name, email, comment):
>>     if not (name and email and comment):
>>         return "A required parameter is missing, \
>>                     please go back and complete the form."
>>     msg = """\
>> From: %s
>> SubjectL feedback
>> To: %s
>>
>> I have the following comment:
>>
>> %s
>>
>> Thank you,
>>
>> %s
>>
>> """ % (email, WEBMASTER, comment, name)
>>
>>     # send it out
>>     conn = smtplib.SMTP(SMTP_SERVER)
>>     conn.sendmail(email, (WEBMASTER), msg)
>>     conn.quit()
>>
>>     # provide feedback to the user
>>     s = """\
>> <html>
>>
>> Dear %s,<br>
>> Thank you for your kind comments. \n
>> We will get back to you shortly.
>>
>> </html>""" % name
>>
>>     return s
>>
>> It takes input from this web form:
>>
>>  <html>
>>       Please provide feedback below:
>>   <p>
>>   <form action="Python/form.py/email" method="POST">
>>
>>       Name:    <input type="text" name="name"><br>
>>       Email:   <input type="text" name="email"><br>
>>       Comment: <textarea name="comment" rows=4 cols=20></textarea><br>
>>       <input type="submit">
>>
>>   </form>
>>   </html>
>>
>> I hope this sheds light.
>>
>> Thanks very much for your attention to this and for your quick response.
>>
>> I'll go and have a look now at the tutorial you mentioned.
>>
>>
>> This only has a chance of working if HTML file is in too directory of
>> server. Where have you put it? If in same directory as .py file,
>> change 'action' in form to be just 'form.py/email'.
>>
>> Please use reply-all and keep followups on the list
>>
>> It was in the root directory. I moved it to the Python directory, amended
>> the path as suggested, and ran it from there. Same result.
>>
>>
>> Hmmm, is your code file really called 'Form.py' as you said. Your
>> action is referencing 'form.py'. This isn't Windows, the case of names
>> is important.
>>
>>
>> Good point. No, it was actually called 'FORM.PY'
>>
>> Unhappily, though, changing the reference made no difference.
>>
>> I want to emphasize, though, that I have several python files in the the
>> Python directory (which is the subject of the httpd.conf directive), and, as
>> long as mod_python.publisher is the handler, Apache can't see any of them.
>> Even the charmingly simple mptest.py.
>>
>> Well, hardly any of them. There's one called index.py that runs when I
>> navigate to the Python directory and click on it. Its code looks like this:
>>           def index(req):
>>               return "We are in index()"
>>
>>           def hello(req):
>>               return "We are in hello()"
>>
>> The others not only refuse to run, they give a 404 error. I can't see what
>> distinguishes this one from the others in that respect. Do you see anything
>> special about it?
>>     
>
> What exactly is the URL in the web browser when you access 'index.py'
> and it works?
>
> The 'index.py' file is special. The documentation explains, as it
> should about the 'index' function within a file being special.
>
> Graham
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>
>   
This is the URL: http://sirius/Python/index.py.

I have to put that right in the address bar to run it. But when I type 
the URLs of most of the other python programs--which are in the same 
directory--, I get a 404 error.
    There's another one (also from the mod_python manual--"7.1.1 
Introduction" where the /mod_python.publisher /explanation begins) which 
looks like this:

  """ Publisher example """
  def say(req, what="NOTHING"):
      return "I am saying %s" % what


It works when the URL passes it an argument (like 
"http://sirius/Python/nothing.py/say?what=as little as possible."), even 
a null argument like "http://sirius/Python/nothing.py/say". But if we 
pass it no argument ("http://sirius/Python/nothing.py"), we get that 404.

The documentation on Traversal (7.1.2.1) says that 404 is what we get 
"if an object in the path could not be found". So I suppose that that's 
what's happening. But what object might it be?


-- 
-------------- next part --------------
Skipped content of type multipart/related
From graham.dumpleton at gmail.com  Sun Mar 15 16:24:26 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Sun Mar 15 16:24:34 2009
Subject: [mod_python] python_init errors
In-Reply-To: <49BD2749.8040707@ns.sympatico.ca>
References: <49BB2713.8090305@ns.sympatico.ca>
	<49BBDB3E.9000101@ns.sympatico.ca>
	<88e286470903141716v5f0d948ala55f0d92a3b44b4e@mail.gmail.com>
	<49BC5A64.3050708@ns.sympatico.ca>
	<88e286470903141839m2a4a31c5o58caad421777756e@mail.gmail.com>
	<49BC6DCD.2@ns.sympatico.ca>
	<88e286470903141958y1858c690ofcaffa24e5cf36d2@mail.gmail.com>
	<49BC8605.7010100@ns.sympatico.ca>
	<88e286470903142211m51954cdfgf4f30f75103c3324@mail.gmail.com>
	<49BD2749.8040707@ns.sympatico.ca>
Message-ID: <88e286470903151324h262982f0ua646ee4cc4a20c1@mail.gmail.com>

Did you read that other tutorial I told you to read? See:

  http://webpython.codepoint.net/mod_python_publisher_uri_traversal

The perhaps go back and work through that tutorial from start to
finish instead of the one on the main mod_python site and then see if
it makes more sense.

Graham

2009/3/16 Jim McDonald <jimmcd@ns.sympatico.ca>:
> Graham Dumpleton wrote:
>
> 2009/3/15 Jim McDonald <jimmcd@ns.sympatico.ca>:
>
>
> OK.
>
> The mod_python.publisher problem is like this:
>
> ??? Following the instructions in the mod_python manual, I created a test
> directory under my Apache server root called 'Python' and added to
> httpd.conf these lines:
>
> ???? <Directory "C:/Program Files/Apache Software
> Foundation/Apache2.2/htdocs/Python/">
> ??????? AddHandler mod_python .py
> ??????? PythonHandler mptest
> ??????? PythonDebug On
> ??? </Directory>
>
> Mptest.py is, of course, the test script described in the manual.
>
> It worked as described.
>
> I then proceeded to the 'Tutorial' in the manual and substituted
> mod_python.publisher for mptest in httpd.conf. I also added the form.htm
> page to /htdocs and form.py to the Python directory. This resulted in a 404
> error--"The requested URL /Python/form.py/email was not found on this
> server." Simpler scripts (like mptest.py) in the same directory fail in the
> same way.
>
> No error shows up in Apache's error log.
>
> It's very puzzling to me that Apache is unable to find files that are
> plainly present in the places where it says it can't find them. Any advice?
>
>
> Post the contents of the form.py file.
>
> Also have a read of:
>
>   http://webpython.codepoint.net/mod_python_tutorial
>
> It is a better tutorial.
>
> Graham
>
>
>
> Form.py goes like this:
>
> import smtplib
>
> WEBMASTER = "webmaster"??? #webmaster email
> SMTP_SERVER = "SIRIUS"?? ? # That's the name of my server.
> ??? ?? ?? ?? ?? ?? ?? ?? ? # The rest of the code is cut-and-pasted
> ??? ?? ?? ?? ?? ?? ?? ?? ? # out of the tutorial.
> def email(req, name, email, comment):
> ??? if not (name and email and comment):
> ??? ??? return "A required parameter is missing, \
> ??? ??? ??? ??? ??? please go back and complete the form."
> ??? msg = """\
> From: %s
> SubjectL feedback
> To: %s
>
> I have the following comment:
>
> %s
>
> Thank you,
>
> %s
>
> """ % (email, WEBMASTER, comment, name)
>
> ??? # send it out
> ??? conn = smtplib.SMTP(SMTP_SERVER)
> ??? conn.sendmail(email, (WEBMASTER), msg)
> ??? conn.quit()
>
> ??? # provide feedback to the user
> ??? s = """\
> <html>
>
> Dear %s,<br>
> Thank you for your kind comments. \n
> We will get back to you shortly.
>
> </html>""" % name
>
> ??? return s
>
> It takes input from this web form:
>
> ?<html>
> ????? Please provide feedback below:
> ? <p>
> ? <form action="Python/form.py/email" method="POST">
>
> ????? Name:??? <input type="text" name="name"><br>
> ????? Email:?? <input type="text" name="email"><br>
> ????? Comment: <textarea name="comment" rows=4 cols=20></textarea><br>
> ????? <input type="submit">
>
> ? </form>
> ? </html>
>
> I hope this sheds light.
>
> Thanks very much for your attention to this and for your quick response.
>
> I'll go and have a look now at the tutorial you mentioned.
>
>
> This only has a chance of working if HTML file is in too directory of
> server. Where have you put it? If in same directory as .py file,
> change 'action' in form to be just 'form.py/email'.
>
> Please use reply-all and keep followups on the list
>
> It was in the root directory. I moved it to the Python directory, amended
> the path as suggested, and ran it from there. Same result.
>
>
> Hmmm, is your code file really called 'Form.py' as you said. Your
> action is referencing 'form.py'. This isn't Windows, the case of names
> is important.
>
>
> Good point. No, it was actually called 'FORM.PY'
>
> Unhappily, though, changing the reference made no difference.
>
> I want to emphasize, though, that I have several python files in the the
> Python directory (which is the subject of the httpd.conf directive), and, as
> long as mod_python.publisher is the handler, Apache can't see any of them.
> Even the charmingly simple mptest.py.
>
> Well, hardly any of them. There's one called index.py that runs when I
> navigate to the Python directory and click on it. Its code looks like this:
> ??? ??? ? def index(req):
> ??? ??? ??? ? return "We are in index()"
>
> ??? ??? ? def hello(req):
> ?? ?? ??? ??? return "We are in hello()"
>
> The others not only refuse to run, they give a 404 error. I can't see what
> distinguishes this one from the others in that respect. Do you see anything
> special about it?
>
>
> What exactly is the URL in the web browser when you access 'index.py'
> and it works?
>
> The 'index.py' file is special. The documentation explains, as it
> should about the 'index' function within a file being special.
>
> Graham
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>
>
>
> This is the URL: http://sirius/Python/index.py.
>
> I have to put that right in the address bar to run it. But when I type the
> URLs of most of the other python programs--which are in the same
> directory--, I get a 404 error.
> ??? There's another one (also from the mod_python manual--"7.1.1
> Introduction" where the mod_python.publisher explanation begins) which looks
> like this:
>
>   """ Publisher example """
>   def say(req, what="NOTHING"):
>       return "I am saying %s" % what
>
> It works when the URL passes it an argument (like
> "http://sirius/Python/nothing.py/say?what=as little as possible."), even a
> null argument like "http://sirius/Python/nothing.py/say". But if we pass it
> no argument ("http://sirius/Python/nothing.py"), we get that 404.
>
> The documentation on Traversal (7.1.2.1) says that 404 is what we get "if an
> object in the path could not be found". So I suppose that that's what's
> happening. But what object might it be?
>
>
> --
>

From mihamina at lab.vectoris.fr  Tue Mar 17 04:45:56 2009
From: mihamina at lab.vectoris.fr (Mihamina Rakotomandimby (R12y))
Date: Tue Mar 17 04:46:15 2009
Subject: [mod_python] using genshi
Message-ID: <49BF6344.8040507@lab.vectoris.fr>

Hi,
I have mod_python 3.1 installed using publisher and would like to use 
Genshi.
That is because I have many loops to perform and the Publisher 
templating system is not enough for me.
Have you got any tutorial on using Genshi with mod_python?
Thank you.

-- 
                              Chef de projet chez Vectoris
                                  Phone: +261 33 11 207 36
System: xUbuntu 8.10 with almost all from package install
    http://www.google.com/search?q=mihamina+rakotomandimby
From Gayatri.Tripathi at Sun.COM  Wed Mar 18 02:53:32 2009
From: Gayatri.Tripathi at Sun.COM (Gayatri.Tripathi@Sun.COM)
Date: Wed Mar 18 02:50:22 2009
Subject: [mod_python] Need help
Message-ID: <49C09A6C.6000607@Sun.COM>


* How to get the repository
* Has anybody started porting it to opensolaris
From rphelps at redshift.com  Wed Mar 18 23:09:28 2009
From: rphelps at redshift.com (Ron Phelps)
Date: Wed Mar 18 23:10:03 2009
Subject: [mod_python] Modpython, Apache, Matplotlib which is responsible
Message-ID: <1237432168.6165.2.camel@quirky>

Trying to get Apache to display an graph plotfile.png but get an error

The website has 

index.py with links to 

page1.py
page2.py
...
pagen.py

page1.py calls matplotlib to plot some data retrieved from a database.
Matplotlib can't write to the www-data root (permissions problem) so I
have it write to /tmp.
I then copy the file to the www-data root using pexpect.run('cp
plotfile.png'). 
However page1.py fails to display the graph. The error is 
"can't find /page1.py/plotfile.png."  Page1.py is not a directory 
The file has the owner:group of www-data. 

I have verified that the file is in the www-root directory. 

Don't know if it is an issue but page1.py has two frames. One which is
for displaying data. 

Is Apache or Mod_python the cause?

Ron 



From scarfboy at gmail.com  Thu Mar 19 07:48:25 2009
From: scarfboy at gmail.com (Bart)
Date: Thu Mar 19 07:48:33 2009
Subject: [mod_python] Modpython, Apache, Matplotlib which is responsible
In-Reply-To: <1237432168.6165.2.camel@quirky>
References: <1237432168.6165.2.camel@quirky>
Message-ID: <b71082d80903190448u7aae22f8tda9e291cb6778942@mail.gmail.com>

On Thu, Mar 19, 2009 at 4:09 AM, Ron Phelps <rphelps@redshift.com> wrote:
> Trying to get Apache to display an graph plotfile.png but get an error
>
> The website has
>
> index.py with links to
>
> page1.py
> page2.py
> ...
> pagen.py
>
> page1.py calls matplotlib to plot some data retrieved from a database.
> Matplotlib can't write to the www-data root (permissions problem) so I
> have it write to /tmp.
> I then copy the file to the www-data root using pexpect.run('cp
> plotfile.png').
> However page1.py fails to display the graph. The error is
> "can't find /page1.py/plotfile.png." ?Page1.py is not a directory
> The file has the owner:group of www-data.
>
> I have verified that the file is in the www-root directory.
>
> Don't know if it is an issue but page1.py has two frames. One which is
> for displaying data.
>
> Is Apache or Mod_python the cause?


You seem to have used SetHandler, to hand over control to mod_python
unconditionally (for all URLs).
You also seem to be using mod_python.publisher, which is fine
(although it's a pain with relative URLs), but which won't fall back
to serving files, which things like vampire will do.

IIRC, you can just use AddHandler to handle only .py URLs via
mod_python (though I'm not sure, I only used publisher briefly and
it's a good while back now).

A simpler option may be copying those files to a subdirectory and
telling apache "SetHandler none" for it, which gets you basic apache
treatment (in this case for its file serving).


By the way, you can have matplotlib serve things via memory, avoiding
the bother of files completely (for most backends, anyway).


--Bart

From graham.dumpleton at gmail.com  Thu Mar 19 17:31:03 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Thu Mar 19 17:31:12 2009
Subject: [mod_python] Modpython, Apache, Matplotlib which is responsible
In-Reply-To: <b71082d80903190448u7aae22f8tda9e291cb6778942@mail.gmail.com>
References: <1237432168.6165.2.camel@quirky>
	<b71082d80903190448u7aae22f8tda9e291cb6778942@mail.gmail.com>
Message-ID: <88e286470903191431t3f60b47cs98c72ab5c19df6ce@mail.gmail.com>

2009/3/19 Bart <scarfboy@gmail.com>:
> On Thu, Mar 19, 2009 at 4:09 AM, Ron Phelps <rphelps@redshift.com> wrote:
>> Trying to get Apache to display an graph plotfile.png but get an error
>>
>> The website has
>>
>> index.py with links to
>>
>> page1.py
>> page2.py
>> ...
>> pagen.py
>>
>> page1.py calls matplotlib to plot some data retrieved from a database.
>> Matplotlib can't write to the www-data root (permissions problem) so I
>> have it write to /tmp.
>> I then copy the file to the www-data root using pexpect.run('cp
>> plotfile.png').
>> However page1.py fails to display the graph. The error is
>> "can't find /page1.py/plotfile.png." ?Page1.py is not a directory
>> The file has the owner:group of www-data.
>>
>> I have verified that the file is in the www-root directory.
>>
>> Don't know if it is an issue but page1.py has two frames. One which is
>> for displaying data.
>>
>> Is Apache or Mod_python the cause?
>
>
> You seem to have used SetHandler, to hand over control to mod_python
> unconditionally (for all URLs).
> You also seem to be using mod_python.publisher, which is fine
> (although it's a pain with relative URLs), but which won't fall back
> to serving files, which things like vampire will do.
>
> IIRC, you can just use AddHandler to handle only .py URLs via
> mod_python (though I'm not sure, I only used publisher briefly and
> it's a good while back now).
>
> A simpler option may be copying those files to a subdirectory and
> telling apache "SetHandler none" for it, which gets you basic apache
> treatment (in this case for its file serving).
>
>
> By the way, you can have matplotlib serve things via memory, avoiding
> the bother of files completely (for most backends, anyway).

The following may be of interest if this relates to SetHandler/AddHandler.

  http://www.dscpl.com.au/wiki/ModPython/Articles/SetHandlerVersusAddHandler

Graham

From michelle.westwater at googlemail.com  Mon Mar 23 18:41:40 2009
From: michelle.westwater at googlemail.com (Michelle Westwater)
Date: Mon Mar 23 18:41:48 2009
Subject: [mod_python] Form based user authentication
Message-ID: <67ec3ee80903231541m129849d0x52657e5396836445@mail.gmail.com>

Hello

I'm struggling to implement form based user authentication using mod_python
3.3.1 and fedora core 10. I've managed to setup basic authentication
which pops up an ugly browser box, however I would prefer a redirect to a
login html form.

Is there any examples showing how to setup form based authentication?

Thanks
Michelle
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090323/a5f8c371/attachment.html
From Gayatri.Tripathi at Sun.COM  Tue Mar 24 02:07:34 2009
From: Gayatri.Tripathi at Sun.COM (Gayatri.Tripathi@Sun.COM)
Date: Tue Mar 24 02:04:27 2009
Subject: [mod_python] mod_python to build version 3.2.8
Message-ID: <49C878A6.6050606@Sun.COM>

Hi,

I have downloaded the svn trunk repository of  Mod_Python. I am able to 
configure and build it.

My requirement is to build version 3.2.8. Can someone guide to checkout 
and build a particular version of mod_python.

Thanks,
Gayatri

From graham.dumpleton at gmail.com  Tue Mar 24 02:09:40 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Tue Mar 24 02:09:50 2009
Subject: [mod_python] mod_python to build version 3.2.8
In-Reply-To: <49C878A6.6050606@Sun.COM>
References: <49C878A6.6050606@Sun.COM>
Message-ID: <88e286470903232309gaa4dddh560adeba8c656199@mail.gmail.com>

2009/3/24  <Gayatri.Tripathi@sun.com>:
> Hi,
>
> I have downloaded the svn trunk repository of ?Mod_Python. I am able to
> configure and build it.
>
> My requirement is to build version 3.2.8. Can someone guide to checkout and
> build a particular version of mod_python.

Why do you need an old version, it is broken?

If you still really have to have it, the 3.2.8 tar ball is still
accessible from:

  http://apache.wildit.net.au/httpd/modpython/

Graham

From graham.dumpleton at gmail.com  Tue Mar 24 02:31:50 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Tue Mar 24 02:32:00 2009
Subject: [mod_python] mod_python to build version 3.2.8
In-Reply-To: <49C87C4B.9090605@Sun.COM>
References: <49C878A6.6050606@Sun.COM>
	<88e286470903232309gaa4dddh560adeba8c656199@mail.gmail.com>
	<49C87C4B.9090605@Sun.COM>
Message-ID: <88e286470903232331x33ad79ddgd42e6350f872faf7@mail.gmail.com>

2009/3/24  <Gayatri.Tripathi@sun.com>:
> We need to port it to OpenSolaris as its going to be used in our projects.
>
> BTW I was also getting the Errors below when I was trying to build the trunk
> :
>
> /usr/lib/python2.4/pycc -OPT:Olimit=0 -DNDEBUG
> -I/home/openSolPackPorting/modPythonTrunkRepo/trunk/src/include
> -I/usr/include/python2.4 -c
> /home/openSolPackPorting/modPythonTrunkRepo/trunk/src/psp_string.c -o
> build/temp.solaris-2.11-i86pc-2.4/home/openSolPackPorting/modPythonTrunkRepo/trunk/src/psp_string.o
> cc: Warning: option -T passed to ld
> cc: Option -: requires an argument
> error: command '/usr/lib/python2.4/pycc' failed with exit status 1
> *** Error code 1
> make: Fatal error: Command failed for target `build'
> Current working directory
> /home/openSolPackPorting/modPythonTrunkRepo/trunk/dist
> *** Error code 1
> The following command caused the error:
> cd dist && make build
> make: Fatal error: Command failed for target `do_dso'
> --------------------------------
> My machine configuration is:
>
> SunOS hostname 5.11 snv_107 i86pc i386 i86pc

What is:

  /usr/lib/python2.4/pycc

Please use reply-all and keep discussion on the list.

Graham

> Thanks,
> Gayatri
>
> On 03/24/09 11:39, Graham Dumpleton wrote:
>
> 2009/3/24  <Gayatri.Tripathi@sun.com>:
>
>
> Hi,
>
> I have downloaded the svn trunk repository of ?Mod_Python. I am able to
> configure and build it.
>
> My requirement is to build version 3.2.8. Can someone guide to checkout and
> build a particular version of mod_python.
>
>
> Why do you need an old version, it is broken?
>
> If you still really have to have it, the 3.2.8 tar ball is still
> accessible from:
>
>   http://apache.wildit.net.au/httpd/modpython/
>
> Graham
>

From Gayatri.Tripathi at Sun.COM  Tue Mar 24 02:50:04 2009
From: Gayatri.Tripathi at Sun.COM (Gayatri.Tripathi@Sun.COM)
Date: Tue Mar 24 02:46:51 2009
Subject: [mod_python] mod_python to build version 3.2.8
In-Reply-To: <88e286470903232331x33ad79ddgd42e6350f872faf7@mail.gmail.com>
References: <49C878A6.6050606@Sun.COM>
	<88e286470903232309gaa4dddh560adeba8c656199@mail.gmail.com>
	<49C87C4B.9090605@Sun.COM>
	<88e286470903232331x33ad79ddgd42e6350f872faf7@mail.gmail.com>
Message-ID: <49C8829C.5060405@Sun.COM>

I also dont know what is pycc. When I do a make again after this error 
it says build is up to date.

On 03/24/09 12:01, Graham Dumpleton wrote:
> 2009/3/24  <Gayatri.Tripathi@sun.com>:
>   
>> We need to port it to OpenSolaris as its going to be used in our projects.
>>
>> BTW I was also getting the Errors below when I was trying to build the trunk
>> :
>>
>> /usr/lib/python2.4/pycc -OPT:Olimit=0 -DNDEBUG
>> -I/home/openSolPackPorting/modPythonTrunkRepo/trunk/src/include
>> -I/usr/include/python2.4 -c
>> /home/openSolPackPorting/modPythonTrunkRepo/trunk/src/psp_string.c -o
>> build/temp.solaris-2.11-i86pc-2.4/home/openSolPackPorting/modPythonTrunkRepo/trunk/src/psp_string.o
>> cc: Warning: option -T passed to ld
>> cc: Option -: requires an argument
>> error: command '/usr/lib/python2.4/pycc' failed with exit status 1
>> *** Error code 1
>> make: Fatal error: Command failed for target `build'
>> Current working directory
>> /home/openSolPackPorting/modPythonTrunkRepo/trunk/dist
>> *** Error code 1
>> The following command caused the error:
>> cd dist && make build
>> make: Fatal error: Command failed for target `do_dso'
>> --------------------------------
>> My machine configuration is:
>>
>> SunOS hostname 5.11 snv_107 i86pc i386 i86pc
>>     
>
> What is:
>
>   /usr/lib/python2.4/pycc
>
> Please use reply-all and keep discussion on the list.
>
> Graham
>
>   
>> Thanks,
>> Gayatri
>>
>> On 03/24/09 11:39, Graham Dumpleton wrote:
>>
>> 2009/3/24  <Gayatri.Tripathi@sun.com>:
>>
>>
>> Hi,
>>
>> I have downloaded the svn trunk repository of  Mod_Python. I am able to
>> configure and build it.
>>
>> My requirement is to build version 3.2.8. Can someone guide to checkout and
>> build a particular version of mod_python.
>>
>>
>> Why do you need an old version, it is broken?
>>
>> If you still really have to have it, the 3.2.8 tar ball is still
>> accessible from:
>>
>>   http://apache.wildit.net.au/httpd/modpython/
>>
>> Graham
>>
>>     
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090324/527c23f8/attachment.html
From graham.dumpleton at gmail.com  Tue Mar 24 05:54:18 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Tue Mar 24 05:54:27 2009
Subject: [mod_python] mod_python to build version 3.2.8
In-Reply-To: <49C8829C.5060405@Sun.COM>
References: <49C878A6.6050606@Sun.COM>
	<88e286470903232309gaa4dddh560adeba8c656199@mail.gmail.com>
	<49C87C4B.9090605@Sun.COM>
	<88e286470903232331x33ad79ddgd42e6350f872faf7@mail.gmail.com>
	<49C8829C.5060405@Sun.COM>
Message-ID: <88e286470903240254s7c12f536q4bf5d5b8e2717cad@mail.gmail.com>

2009/3/24  <Gayatri.Tripathi@sun.com>:
> I also dont know what is pycc. When I do a make again after this error it
> says build is up to date.
>
> On 03/24/09 12:01, Graham Dumpleton wrote:
>
> 2009/3/24  <Gayatri.Tripathi@sun.com>:
>
>
> We need to port it to OpenSolaris as its going to be used in our projects.
>
> BTW I was also getting the Errors below when I was trying to build the trunk
> :
>
> /usr/lib/python2.4/pycc -OPT:Olimit=0 -DNDEBUG
> -I/home/openSolPackPorting/modPythonTrunkRepo/trunk/src/include
> -I/usr/include/python2.4 -c
> /home/openSolPackPorting/modPythonTrunkRepo/trunk/src/psp_string.c -o
> build/temp.solaris-2.11-i86pc-2.4/home/openSolPackPorting/modPythonTrunkRepo/trunk/src/psp_string.o
> cc: Warning: option -T passed to ld
> cc: Option -: requires an argument

More than likely the problem is that Apache was built with Sun C and
Python with gcc or vice versa. The end result is that the options
obtained from apxs in Apache cause problems when pycc is executed to
build the Python extension module.

This is all I can suggest.

Graham

> error: command '/usr/lib/python2.4/pycc' failed with exit status 1
> *** Error code 1
> make: Fatal error: Command failed for target `build'
> Current working directory
> /home/openSolPackPorting/modPythonTrunkRepo/trunk/dist
> *** Error code 1
> The following command caused the error:
> cd dist && make build
> make: Fatal error: Command failed for target `do_dso'
> --------------------------------
> My machine configuration is:
>
> SunOS hostname 5.11 snv_107 i86pc i386 i86pc
>
>
> What is:
>
>   /usr/lib/python2.4/pycc
>
> Please use reply-all and keep discussion on the list.
>
> Graham
>
>
>
> Thanks,
> Gayatri
>
> On 03/24/09 11:39, Graham Dumpleton wrote:
>
> 2009/3/24  <Gayatri.Tripathi@sun.com>:
>
>
> Hi,
>
> I have downloaded the svn trunk repository of ?Mod_Python. I am able to
> configure and build it.
>
> My requirement is to build version 3.2.8. Can someone guide to checkout and
> build a particular version of mod_python.
>
>
> Why do you need an old version, it is broken?
>
> If you still really have to have it, the 3.2.8 tar ball is still
> accessible from:
>
>   http://apache.wildit.net.au/httpd/modpython/
>
> Graham
>
>

From rahul.warhekar at edisphere.com  Fri Mar 27 08:25:24 2009
From: rahul.warhekar at edisphere.com (rahul)
Date: Fri Mar 27 08:27:46 2009
Subject: [mod_python] Getting error as The system cannot find the file
	specified
In-Reply-To: <88e286470901160125j1ef60566q24c06f8c983b201f@mail.gmail.com>
Message-ID: <20090327122748.B03236A45B9@server1.edisphere.com>

Hello all,

I am using my mod_python for my web application.

And I am getting "WindowsError: [Errno 2] The system cannot find the file
specified" error.

Any quick help reg this will be greatly appreciated and this is really
urgent.

Thanks in advance.

Rahul

From tonightslastsong at gmail.com  Fri Mar 27 14:38:24 2009
From: tonightslastsong at gmail.com (Tim Valenta)
Date: Fri Mar 27 14:38:41 2009
Subject: [mod_python] Getting error as The system cannot find the file 
	specified
In-Reply-To: <20090327122748.B03236A45B9@server1.edisphere.com>
References: <88e286470901160125j1ef60566q24c06f8c983b201f@mail.gmail.com> 
	<20090327122748.B03236A45B9@server1.edisphere.com>
Message-ID: <d01b8cf20903271138q633d8d37g1c499107b51b8951@mail.gmail.com>

When do you get the error?  When you start Apache?
Tim

On Fri, Mar 27, 2009 at 6:25 AM, rahul <rahul.warhekar@edisphere.com> wrote:

> Hello all,
>
> I am using my mod_python for my web application.
>
> And I am getting "WindowsError: [Errno 2] The system cannot find the file
> specified" error.
>
> Any quick help reg this will be greatly appreciated and this is really
> urgent.
>
> Thanks in advance.
>
> Rahul
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>



-- 
"Python is the unholy bastard step-child between Ruby and PHP."
"I'd let an ipod blow up on my leg for $150,000."
"but Ben and Jerry do make a lovely couple."
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090327/a9fd6393/attachment.html
From sandhya.samson at gmail.com  Fri Mar 27 16:39:32 2009
From: sandhya.samson at gmail.com (Sandhya Uppada)
Date: Fri Mar 27 16:39:34 2009
Subject: [mod_python] Error testing installation of mod_python
Message-ID: <e3f16c60903271339k2df65ba1lcea5ea2815a1afc0@mail.gmail.com>

Hi,

I'm trying to install mod python on my Windows XP. I installed and
configured mod_python as per the installtion guide but when I test it using
the simple "hello world" program, I get HTTP 404 Error. I'm new to this and
need help in figuring this out. Following is the /mpinfo output. Pls give me
some pointers that can look at and correct this error.

Regards,
Sandhya

  Apache version Apache/2.2.11 (Win32) mod_python/3.3.1 Python/2.5.4 Apache
threaded MPM Yes, maximum 64 threads / process Apache forked MPM No (single
process MPM) Apache server root C:/Program Files/Apache Software
Foundation/Apache2.2 Apache document root C:/Program Files/Apache Software
Foundation/Apache2.2/htdocs Apache error log C:/Program Files/Apache
Software Foundation/Apache2.2\logs/error.log (view last 100
lines<http://localhost/mpinfo?view_log=1>
) Python sys.version 2.5.4 (r254:67916, Dec 23 2008, 15:10:54) [MSC v.1310
32 bit (Intel)] Python sys.path

C:\WINDOWS\system32\python25.zip
C:\Python25\Lib
C:\Python25\DLLs
C:\Python25\Lib\lib-tk
C:\Program Files\Apache Software Foundation\Apache2.2
C:\Program Files\Apache Software Foundation\Apache2.2\bin
C:\Python25
C:\Python25\lib\site-packages

 Python interpreter name BOB_SANDY.domain_not_set.invalid mod_python.publisher
available Yes mod_python.psp available Yes Request input headers  Key Value
Accept image/gif, image/x-xbitmap, image/jpeg, image/pjpeg,
application/x-shockwave-flash, application/vnd.ms-excel,
application/vnd.ms-powerpoint, application/msword, */* Accept-Language en-us
UA-CPU x86 Accept-Encoding gzip, deflate User-Agent Mozilla/4.0 (compatible;
MSIE 7.0; Windows NT 5.1; MSDigitalLocker; .NET CLR 1.1.4322; InfoPath.1)
Host localhost Connection Keep-Alive Request environment  Key Value
GATEWAY_INTERFACE CGI/1.1 SERVER_PROTOCOL HTTP/1.1 REQUEST_METHOD GET
QUERY_STRING  REQUEST_URI /mpinfo SCRIPT_NAME /mpinfo HTTP_ACCEPT image/gif,
image/x-xbitmap, image/jpeg, image/pjpeg, application/x-shockwave-flash,
application/vnd.ms-excel, application/vnd.ms-powerpoint, application/msword,
*/* HTTP_ACCEPT_LANGUAGE en-us HTTP_UA_CPU x86 HTTP_ACCEPT_ENCODING gzip,
deflate HTTP_USER_AGENT Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1;
MSDigitalLocker; .NET CLR 1.1.4322; InfoPath.1) HTTP_HOST localhost
HTTP_CONNECTION Keep-Alive PATH
C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\Program
Files\HPQ\IAM\bin;C:\Program Files\Java\jdk1.6.0_12\bin;C:\Program
Files\Sun\JavaDB\bin;C:\Python26;C:\Eclipse-SDK-3.4.1-win32\eclipse
SystemRoot C:\WINDOWS COMSPEC C:\WINDOWS\system32\cmd.exe PATHEXT
.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH WINDIR C:\WINDOWS
SERVER_SIGNATURE  SERVER_SOFTWARE Apache/2.2.11 (Win32) mod_python/3.3.1
Python/2.5.4 SERVER_NAME localhost SERVER_ADDR 127.0.0.1 SERVER_PORT 80
REMOTE_ADDR 127.0.0.1 DOCUMENT_ROOT C:/Program Files/Apache Software
Foundation/Apache2.2/htdocs SERVER_ADMIN name@somedomain.com
SCRIPT_FILENAME C:/Program
Files/Apache Software Foundation/Apache2.2/htdocs/mpinfo REMOTE_PORT 3354
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090327/0d834ef4/attachment.html
From tonightslastsong at gmail.com  Fri Mar 27 16:47:46 2009
From: tonightslastsong at gmail.com (Tim Valenta)
Date: Fri Mar 27 16:48:09 2009
Subject: [mod_python] Error testing installation of mod_python
In-Reply-To: <e3f16c60903271339k2df65ba1lcea5ea2815a1afc0@mail.gmail.com>
References: <e3f16c60903271339k2df65ba1lcea5ea2815a1afc0@mail.gmail.com>
Message-ID: <d01b8cf20903271347u5e93cfd5md4741eac5985e54@mail.gmail.com>

I notice that it says your gateway interface is CGI, but I'm not sure if
that's what it always says or not.  (I have never quite payed attention to
that part before.)
It took me a while to get used to the way mod_python decides if a URL maps
to a function or not.  If I remember right, that "/mpinfo" call should look
for an "mpinfo.py" file's "index" function.  (I think to reach index.py's
"mpinfo" function, you'd have to pull a string or two more, or just request
"/index/mpinfo").

If I've gotten that wrong somehow, someone feel free to correct me, but
that's how I remember it working.  I don't have it in front of me yet.

Tim

2009/3/27 Sandhya Uppada <sandhya.samson@gmail.com>

> Hi,
>
> I'm trying to install mod python on my Windows XP. I installed and
> configured mod_python as per the installtion guide but when I test it using
> the simple "hello world" program, I get HTTP 404 Error. I'm new to this and
> need help in figuring this out. Following is the /mpinfo output. Pls give me
> some pointers that can look at and correct this error.
>
> Regards,
> Sandhya
>
>   Apache version Apache/2.2.11 (Win32) mod_python/3.3.1 Python/2.5.4 Apache
> threaded MPM Yes, maximum 64 threads / process Apache forked MPM No
> (single process MPM) Apache server root C:/Program Files/Apache Software
> Foundation/Apache2.2 Apache document root C:/Program Files/Apache Software
> Foundation/Apache2.2/htdocs Apache error log C:/Program Files/Apache
> Software Foundation/Apache2.2\logs/error.log (view last 100 lines<http://localhost/mpinfo?view_log=1>
> ) Python sys.version 2.5.4 (r254:67916, Dec 23 2008, 15:10:54) [MSC v.1310
> 32 bit (Intel)] Python sys.path
>
> C:\WINDOWS\system32\python25.zip
> C:\Python25\Lib
> C:\Python25\DLLs
> C:\Python25\Lib\lib-tk
> C:\Program Files\Apache Software Foundation\Apache2.2
> C:\Program Files\Apache Software Foundation\Apache2.2\bin
> C:\Python25
> C:\Python25\lib\site-packages
>
>  Python interpreter name BOB_SANDY.domain_not_set.invalid mod_python.publisher
> available Yes mod_python.psp available Yes Request input headers  Key
> Value Accept image/gif, image/x-xbitmap, image/jpeg, image/pjpeg,
> application/x-shockwave-flash, application/vnd.ms-excel,
> application/vnd.ms-powerpoint, application/msword, */* Accept-Language
> en-us UA-CPU x86 Accept-Encoding gzip, deflate User-Agent Mozilla/4.0
> (compatible; MSIE 7.0; Windows NT 5.1; MSDigitalLocker; .NET CLR 1.1.4322;
> InfoPath.1) Host localhost Connection Keep-Alive Request environment  Key
> Value GATEWAY_INTERFACE CGI/1.1 SERVER_PROTOCOL HTTP/1.1 REQUEST_METHOD
> GET QUERY_STRING  REQUEST_URI /mpinfo SCRIPT_NAME /mpinfo HTTP_ACCEPT image/gif,
> image/x-xbitmap, image/jpeg, image/pjpeg, application/x-shockwave-flash,
> application/vnd.ms-excel, application/vnd.ms-powerpoint, application/msword,
> */* HTTP_ACCEPT_LANGUAGE en-us HTTP_UA_CPU x86 HTTP_ACCEPT_ENCODING gzip,
> deflate HTTP_USER_AGENT Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1;
> MSDigitalLocker; .NET CLR 1.1.4322; InfoPath.1) HTTP_HOST localhost
> HTTP_CONNECTION Keep-Alive PATH C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\Program
> Files\HPQ\IAM\bin;C:\Program Files\Java\jdk1.6.0_12\bin;C:\Program
> Files\Sun\JavaDB\bin;C:\Python26;C:\Eclipse-SDK-3.4.1-win32\eclipse
> SystemRoot C:\WINDOWS COMSPEC C:\WINDOWS\system32\cmd.exe PATHEXT
> .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH WINDIR C:\WINDOWS
> SERVER_SIGNATURE  SERVER_SOFTWARE Apache/2.2.11 (Win32) mod_python/3.3.1
> Python/2.5.4 SERVER_NAME localhost SERVER_ADDR 127.0.0.1 SERVER_PORT 80
> REMOTE_ADDR 127.0.0.1 DOCUMENT_ROOT C:/Program Files/Apache Software
> Foundation/Apache2.2/htdocs SERVER_ADMIN name@somedomain.com
> SCRIPT_FILENAME C:/Program Files/Apache Software
> Foundation/Apache2.2/htdocs/mpinfo REMOTE_PORT 3354
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>
>


-- 
"Python is the unholy bastard step-child between Ruby and PHP."
"I'd let an ipod blow up on my leg for $150,000."
"but Ben and Jerry do make a lovely couple."
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090327/52b86610/attachment-0001.html
From graham.dumpleton at gmail.com  Fri Mar 27 19:33:55 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Fri Mar 27 19:34:03 2009
Subject: [mod_python] Error testing installation of mod_python
In-Reply-To: <d01b8cf20903271347u5e93cfd5md4741eac5985e54@mail.gmail.com>
References: <e3f16c60903271339k2df65ba1lcea5ea2815a1afc0@mail.gmail.com>
	<d01b8cf20903271347u5e93cfd5md4741eac5985e54@mail.gmail.com>
Message-ID: <88e286470903271633k107e6b80vd73c2eface2e97b1@mail.gmail.com>

2009/3/28 Tim Valenta <tonightslastsong@gmail.com>:
> I notice that it says your gateway interface is CGI, but I'm not sure if
> that's what it always says or not. ?(I have never quite payed attention to
> that part before.)

You can ignore it as mod_python simply forces req.subprocess_env to be
populated with CGI stuff. This has side affect of adding it.

> It took me a while to get used to the way mod_python decides if a URL maps
> to a function or not. ?If I remember right, that "/mpinfo" call should look
> for an "mpinfo.py" file's "index" function. ?(I think to reach index.py's
> "mpinfo" function, you'd have to pull a string or two more, or just request
> "/index/mpinfo").
> If I've gotten that wrong somehow, someone feel free to correct me, but
> that's how I remember it working. ?I don't have it in front of me yet.

Mostly irrelevant. They are using:

  <Location /mpinfo>
  PythonHandler mod_python.testhandler
  SetHandler mod_python
  </Location>

So, using internal module of mod_python. No file actually coming into play.

Original poster should read and work through:

  http://www.dscpl.com.au/wiki/ModPython/Articles/GettingModPythonWorking

This may give them a clue as to what they are doing wrong.

Graham

> Tim
> 2009/3/27 Sandhya Uppada <sandhya.samson@gmail.com>
>>
>> Hi,
>>
>> I'm trying to install mod python on my Windows XP. I installed and
>> configured mod_python as per the installtion guide but when I test it using
>> the simple "hello world" program, I get HTTP 404 Error. I'm new to this and
>> need help in figuring this out. Following is the /mpinfo output. Pls give me
>> some pointers that can look at and correct this error.
>>
>> Regards,
>> Sandhya
>>
>> Apache version Apache/2.2.11 (Win32) mod_python/3.3.1 Python/2.5.4
>> Apache threaded MPM Yes, maximum 64 threads / process
>> Apache forked MPM No (single process MPM)
>> Apache server root C:/Program Files/Apache Software Foundation/Apache2.2
>> Apache document root C:/Program Files/Apache Software
>> Foundation/Apache2.2/htdocs
>> Apache error log C:/Program Files/Apache Software
>> Foundation/Apache2.2\logs/error.log (view last 100 lines)
>> Python sys.version 2.5.4 (r254:67916, Dec 23 2008, 15:10:54) [MSC v.1310
>> 32 bit (Intel)]
>> Python sys.path
>>
>> C:\WINDOWS\system32\python25.zip
>> C:\Python25\Lib
>> C:\Python25\DLLs
>> C:\Python25\Lib\lib-tk
>> C:\Program Files\Apache Software Foundation\Apache2.2
>> C:\Program Files\Apache Software Foundation\Apache2.2\bin
>> C:\Python25
>> C:\Python25\lib\site-packages
>>
>> Python interpreter name BOB_SANDY.domain_not_set.invalid
>> mod_python.publisher available Yes
>> mod_python.psp available Yes
>>
>> Request input headers
>>
>> Key Value
>> Accept image/gif, image/x-xbitmap, image/jpeg, image/pjpeg,
>> application/x-shockwave-flash, application/vnd.ms-excel,
>> application/vnd.ms-powerpoint, application/msword, */*
>> Accept-Language en-us
>> UA-CPU x86
>> Accept-Encoding gzip, deflate
>> User-Agent Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1;
>> MSDigitalLocker; .NET CLR 1.1.4322; InfoPath.1)
>> Host localhost
>> Connection Keep-Alive
>>
>> Request environment
>>
>> Key Value
>> GATEWAY_INTERFACE CGI/1.1
>> SERVER_PROTOCOL HTTP/1.1
>> REQUEST_METHOD GET
>> QUERY_STRING
>> REQUEST_URI /mpinfo
>> SCRIPT_NAME /mpinfo
>> HTTP_ACCEPT image/gif, image/x-xbitmap, image/jpeg, image/pjpeg,
>> application/x-shockwave-flash, application/vnd.ms-excel,
>> application/vnd.ms-powerpoint, application/msword, */*
>> HTTP_ACCEPT_LANGUAGE en-us
>> HTTP_UA_CPU x86
>> HTTP_ACCEPT_ENCODING gzip, deflate
>> HTTP_USER_AGENT Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1;
>> MSDigitalLocker; .NET CLR 1.1.4322; InfoPath.1)
>> HTTP_HOST localhost
>> HTTP_CONNECTION Keep-Alive
>> PATH C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\Program
>> Files\HPQ\IAM\bin;C:\Program Files\Java\jdk1.6.0_12\bin;C:\Program
>> Files\Sun\JavaDB\bin;C:\Python26;C:\Eclipse-SDK-3.4.1-win32\eclipse
>> SystemRoot C:\WINDOWS
>> COMSPEC C:\WINDOWS\system32\cmd.exe
>> PATHEXT .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH
>> WINDIR C:\WINDOWS
>> SERVER_SIGNATURE
>> SERVER_SOFTWARE Apache/2.2.11 (Win32) mod_python/3.3.1 Python/2.5.4
>> SERVER_NAME localhost
>> SERVER_ADDR 127.0.0.1
>> SERVER_PORT 80
>> REMOTE_ADDR 127.0.0.1
>> DOCUMENT_ROOT C:/Program Files/Apache Software Foundation/Apache2.2/htdocs
>> SERVER_ADMIN name@somedomain.com
>> SCRIPT_FILENAME C:/Program Files/Apache Software
>> Foundation/Apache2.2/htdocs/mpinfo
>> REMOTE_PORT 3354
>> _______________________________________________
>> Mod_python mailing list
>> Mod_python@modpython.org
>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>
>
>
>
> --
> "Python is the unholy bastard step-child between Ruby and PHP."
> "I'd let an ipod blow up on my leg for $150,000."
> "but Ben and Jerry do make a lovely couple."
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>
>

From graham.dumpleton at gmail.com  Fri Mar 27 19:48:20 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Fri Mar 27 19:48:22 2009
Subject: [mod_python] Error testing installation of mod_python
In-Reply-To: <d01b8cf20903271639s52ea8c69yc0632ca09ea0e07e@mail.gmail.com>
References: <e3f16c60903271339k2df65ba1lcea5ea2815a1afc0@mail.gmail.com>
	<d01b8cf20903271347u5e93cfd5md4741eac5985e54@mail.gmail.com>
	<88e286470903271633k107e6b80vd73c2eface2e97b1@mail.gmail.com>
	<d01b8cf20903271639s52ea8c69yc0632ca09ea0e07e@mail.gmail.com>
Message-ID: <88e286470903271648v61a9db1fo4e3f18e1d404763a@mail.gmail.com>

2009/3/28 Tim Valenta <tonightslastsong@gmail.com>:
>> Mostly irrelevant. They are using:
>>
>> ?<Location /mpinfo>
>> ?PythonHandler mod_python.testhandler
>
> Mostly not irrelevant, because it should be made sure that this
> specific location directive is the one being used. ?If it's not
> included at all, then clearly a 404 would happen because it'd be
> looking for index.py files somewhere.
>
> Just wanted to clarify that I'm not a mumbling idiot. ?I should have
> been more clear where I was coming from.

The output they posted in the first message is what is output by the
mod_python.testhandler. You started talking about /mpinfo, which was
the URL he had mapped to that. Your explanation was therefore
irrelevant to the /mpinfo output as he produced it as it doesn't using
anything you talked about. What you talked about was also how
mod_python.publisher works, which isn't even the basic mod_python
handler mechanism which is most likely what he is trying to get going
because that is what is used for the first hello world example in the
mod_python documentation, not mod_python.publisher.

The document I referenced gives better instructions on how to set up
that first basic mod_python handler.

Graham

> On Fri, Mar 27, 2009 at 5:33 PM, Graham Dumpleton
> <graham.dumpleton@gmail.com> wrote:
>>
>> 2009/3/28 Tim Valenta <tonightslastsong@gmail.com>:
>> > I notice that it says your gateway interface is CGI, but I'm not sure if
>> > that's what it always says or not. ?(I have never quite payed attention to
>> > that part before.)
>>
>> You can ignore it as mod_python simply forces req.subprocess_env to be
>> populated with CGI stuff. This has side affect of adding it.
>>
>> > It took me a while to get used to the way mod_python decides if a URL maps
>> > to a function or not. ?If I remember right, that "/mpinfo" call should look
>> > for an "mpinfo.py" file's "index" function. ?(I think to reach index.py's
>> > "mpinfo" function, you'd have to pull a string or two more, or just request
>> > "/index/mpinfo").
>> > If I've gotten that wrong somehow, someone feel free to correct me, but
>> > that's how I remember it working. ?I don't have it in front of me yet.
>>
>> Mostly irrelevant. They are using:
>>
>> ?<Location /mpinfo>
>> ?PythonHandler mod_python.testhandler
>> ?SetHandler mod_python
>> ?</Location>
>>
>> So, using internal module of mod_python. No file actually coming into play.
>>
>> Original poster should read and work through:
>>
>> ?http://www.dscpl.com.au/wiki/ModPython/Articles/GettingModPythonWorking
>>
>> This may give them a clue as to what they are doing wrong.
>>
>> Graham
>>
>> > Tim
>> > 2009/3/27 Sandhya Uppada <sandhya.samson@gmail.com>
>> >>
>> >> Hi,
>> >>
>> >> I'm trying to install mod python on my Windows XP. I installed and
>> >> configured mod_python as per the installtion guide but when I test it using
>> >> the simple "hello world" program, I get HTTP 404 Error. I'm new to this and
>> >> need help in figuring this out. Following is the /mpinfo output. Pls give me
>> >> some pointers that can look at and correct this error.
>> >>
>> >> Regards,
>> >> Sandhya
>> >>
>> >> Apache version Apache/2.2.11 (Win32) mod_python/3.3.1 Python/2.5.4
>> >> Apache threaded MPM Yes, maximum 64 threads / process
>> >> Apache forked MPM No (single process MPM)
>> >> Apache server root C:/Program Files/Apache Software Foundation/Apache2.2
>> >> Apache document root C:/Program Files/Apache Software
>> >> Foundation/Apache2.2/htdocs
>> >> Apache error log C:/Program Files/Apache Software
>> >> Foundation/Apache2.2\logs/error.log (view last 100 lines)
>> >> Python sys.version 2.5.4 (r254:67916, Dec 23 2008, 15:10:54) [MSC v.1310
>> >> 32 bit (Intel)]
>> >> Python sys.path
>> >>
>> >> C:\WINDOWS\system32\python25.zip
>> >> C:\Python25\Lib
>> >> C:\Python25\DLLs
>> >> C:\Python25\Lib\lib-tk
>> >> C:\Program Files\Apache Software Foundation\Apache2.2
>> >> C:\Program Files\Apache Software Foundation\Apache2.2\bin
>> >> C:\Python25
>> >> C:\Python25\lib\site-packages
>> >>
>> >> Python interpreter name BOB_SANDY.domain_not_set.invalid
>> >> mod_python.publisher available Yes
>> >> mod_python.psp available Yes
>> >>
>> >> Request input headers
>> >>
>> >> Key Value
>> >> Accept image/gif, image/x-xbitmap, image/jpeg, image/pjpeg,
>> >> application/x-shockwave-flash, application/vnd.ms-excel,
>> >> application/vnd.ms-powerpoint, application/msword, */*
>> >> Accept-Language en-us
>> >> UA-CPU x86
>> >> Accept-Encoding gzip, deflate
>> >> User-Agent Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1;
>> >> MSDigitalLocker; .NET CLR 1.1.4322; InfoPath.1)
>> >> Host localhost
>> >> Connection Keep-Alive
>> >>
>> >> Request environment
>> >>
>> >> Key Value
>> >> GATEWAY_INTERFACE CGI/1.1
>> >> SERVER_PROTOCOL HTTP/1.1
>> >> REQUEST_METHOD GET
>> >> QUERY_STRING
>> >> REQUEST_URI /mpinfo
>> >> SCRIPT_NAME /mpinfo
>> >> HTTP_ACCEPT image/gif, image/x-xbitmap, image/jpeg, image/pjpeg,
>> >> application/x-shockwave-flash, application/vnd.ms-excel,
>> >> application/vnd.ms-powerpoint, application/msword, */*
>> >> HTTP_ACCEPT_LANGUAGE en-us
>> >> HTTP_UA_CPU x86
>> >> HTTP_ACCEPT_ENCODING gzip, deflate
>> >> HTTP_USER_AGENT Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1;
>> >> MSDigitalLocker; .NET CLR 1.1.4322; InfoPath.1)
>> >> HTTP_HOST localhost
>> >> HTTP_CONNECTION Keep-Alive
>> >> PATH C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\Program
>> >> Files\HPQ\IAM\bin;C:\Program Files\Java\jdk1.6.0_12\bin;C:\Program
>> >> Files\Sun\JavaDB\bin;C:\Python26;C:\Eclipse-SDK-3.4.1-win32\eclipse
>> >> SystemRoot C:\WINDOWS
>> >> COMSPEC C:\WINDOWS\system32\cmd.exe
>> >> PATHEXT .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH
>> >> WINDIR C:\WINDOWS
>> >> SERVER_SIGNATURE
>> >> SERVER_SOFTWARE Apache/2.2.11 (Win32) mod_python/3.3.1 Python/2.5.4
>> >> SERVER_NAME localhost
>> >> SERVER_ADDR 127.0.0.1
>> >> SERVER_PORT 80
>> >> REMOTE_ADDR 127.0.0.1
>> >> DOCUMENT_ROOT C:/Program Files/Apache Software Foundation/Apache2.2/htdocs
>> >> SERVER_ADMIN name@somedomain.com
>> >> SCRIPT_FILENAME C:/Program Files/Apache Software
>> >> Foundation/Apache2.2/htdocs/mpinfo
>> >> REMOTE_PORT 3354
>> >> _______________________________________________
>> >> Mod_python mailing list
>> >> Mod_python@modpython.org
>> >> http://mailman.modpython.org/mailman/listinfo/mod_python
>> >>
>> >
>> >
>> >
>> > --
>> > "Python is the unholy bastard step-child between Ruby and PHP."
>> > "I'd let an ipod blow up on my leg for $150,000."
>> > "but Ben and Jerry do make a lovely couple."
>> >
>> > _______________________________________________
>> > Mod_python mailing list
>> > Mod_python@modpython.org
>> > http://mailman.modpython.org/mailman/listinfo/mod_python
>> >
>> >
>
>
>
> --
> "Python is the unholy bastard step-child between Ruby and PHP."
> "I'd let an ipod blow up on my leg for $150,000."
> "but Ben and Jerry do make a lovely couple."
>

From tonightslastsong at gmail.com  Fri Mar 27 20:01:52 2009
From: tonightslastsong at gmail.com (Tim Valenta)
Date: Fri Mar 27 20:02:17 2009
Subject: [mod_python] Error testing installation of mod_python
In-Reply-To: <88e286470903271648v61a9db1fo4e3f18e1d404763a@mail.gmail.com>
References: <e3f16c60903271339k2df65ba1lcea5ea2815a1afc0@mail.gmail.com> 
	<d01b8cf20903271347u5e93cfd5md4741eac5985e54@mail.gmail.com> 
	<88e286470903271633k107e6b80vd73c2eface2e97b1@mail.gmail.com> 
	<d01b8cf20903271639s52ea8c69yc0632ca09ea0e07e@mail.gmail.com> 
	<88e286470903271648v61a9db1fo4e3f18e1d404763a@mail.gmail.com>
Message-ID: <d01b8cf20903271701x345c4516h2d0172c8e8a6eef6@mail.gmail.com>

I also had troubles trying to make a non-'publisher' handler work, and so
rather than battling a hello world example, I had cut straight to the
publisher, which felt more natural for the casual "I need to know how to
work with mod_python" user.  I can't say that I was ready to be writing
custom handlers (hello world tutorial or not), when resource
routing/handling isn't the core of what I would look into a high-level
language for.  That's the sort of thing that I would expect is already taken
care of.  Might make a good tutorial to learn how to do it (and to clearly
advertise that it's capable of such things) but when turned black and white:
 publisher was the best way to simply get rolling.
I agree entirely that the page to which you've referenced is valuable
information for correcting any problems being had.

I also submit that mpinfo might not be worth the trouble to wrestle with if
you don't need to know about your own local WinXP server right this instant.

Best of luck,
Tim

On Fri, Mar 27, 2009 at 5:48 PM, Graham Dumpleton <
graham.dumpleton@gmail.com> wrote:

> 2009/3/28 Tim Valenta <tonightslastsong@gmail.com>:
> >> Mostly irrelevant. They are using:
> >>
> >>  <Location /mpinfo>
> >>  PythonHandler mod_python.testhandler
> >
> > Mostly not irrelevant, because it should be made sure that this
> > specific location directive is the one being used.  If it's not
> > included at all, then clearly a 404 would happen because it'd be
> > looking for index.py files somewhere.
> >
> > Just wanted to clarify that I'm not a mumbling idiot.  I should have
> > been more clear where I was coming from.
>
> The output they posted in the first message is what is output by the
> mod_python.testhandler. You started talking about /mpinfo, which was
> the URL he had mapped to that. Your explanation was therefore
> irrelevant to the /mpinfo output as he produced it as it doesn't using
> anything you talked about. What you talked about was also how
> mod_python.publisher works, which isn't even the basic mod_python
> handler mechanism which is most likely what he is trying to get going
> because that is what is used for the first hello world example in the
> mod_python documentation, not mod_python.publisher.
>
> The document I referenced gives better instructions on how to set up
> that first basic mod_python handler.
>
> Graham
>
> > On Fri, Mar 27, 2009 at 5:33 PM, Graham Dumpleton
> > <graham.dumpleton@gmail.com> wrote:
> >>
> >> 2009/3/28 Tim Valenta <tonightslastsong@gmail.com>:
> >> > I notice that it says your gateway interface is CGI, but I'm not sure
> if
> >> > that's what it always says or not.  (I have never quite payed
> attention to
> >> > that part before.)
> >>
> >> You can ignore it as mod_python simply forces req.subprocess_env to be
> >> populated with CGI stuff. This has side affect of adding it.
> >>
> >> > It took me a while to get used to the way mod_python decides if a URL
> maps
> >> > to a function or not.  If I remember right, that "/mpinfo" call should
> look
> >> > for an "mpinfo.py" file's "index" function.  (I think to reach
> index.py's
> >> > "mpinfo" function, you'd have to pull a string or two more, or just
> request
> >> > "/index/mpinfo").
> >> > If I've gotten that wrong somehow, someone feel free to correct me,
> but
> >> > that's how I remember it working.  I don't have it in front of me yet.
> >>
> >> Mostly irrelevant. They are using:
> >>
> >>  <Location /mpinfo>
> >>  PythonHandler mod_python.testhandler
> >>  SetHandler mod_python
> >>  </Location>
> >>
> >> So, using internal module of mod_python. No file actually coming into
> play.
> >>
> >> Original poster should read and work through:
> >>
> >>
> http://www.dscpl.com.au/wiki/ModPython/Articles/GettingModPythonWorking
> >>
> >> This may give them a clue as to what they are doing wrong.
> >>
> >> Graham
> >>
> >> > Tim
> >> > 2009/3/27 Sandhya Uppada <sandhya.samson@gmail.com>
> >> >>
> >> >> Hi,
> >> >>
> >> >> I'm trying to install mod python on my Windows XP. I installed and
> >> >> configured mod_python as per the installtion guide but when I test it
> using
> >> >> the simple "hello world" program, I get HTTP 404 Error. I'm new to
> this and
> >> >> need help in figuring this out. Following is the /mpinfo output. Pls
> give me
> >> >> some pointers that can look at and correct this error.
> >> >>
> >> >> Regards,
> >> >> Sandhya
> >> >>
> >> >> Apache version Apache/2.2.11 (Win32) mod_python/3.3.1 Python/2.5.4
> >> >> Apache threaded MPM Yes, maximum 64 threads / process
> >> >> Apache forked MPM No (single process MPM)
> >> >> Apache server root C:/Program Files/Apache Software
> Foundation/Apache2.2
> >> >> Apache document root C:/Program Files/Apache Software
> >> >> Foundation/Apache2.2/htdocs
> >> >> Apache error log C:/Program Files/Apache Software
> >> >> Foundation/Apache2.2\logs/error.log (view last 100 lines)
> >> >> Python sys.version 2.5.4 (r254:67916, Dec 23 2008, 15:10:54) [MSC
> v.1310
> >> >> 32 bit (Intel)]
> >> >> Python sys.path
> >> >>
> >> >> C:\WINDOWS\system32\python25.zip
> >> >> C:\Python25\Lib
> >> >> C:\Python25\DLLs
> >> >> C:\Python25\Lib\lib-tk
> >> >> C:\Program Files\Apache Software Foundation\Apache2.2
> >> >> C:\Program Files\Apache Software Foundation\Apache2.2\bin
> >> >> C:\Python25
> >> >> C:\Python25\lib\site-packages
> >> >>
> >> >> Python interpreter name BOB_SANDY.domain_not_set.invalid
> >> >> mod_python.publisher available Yes
> >> >> mod_python.psp available Yes
> >> >>
> >> >> Request input headers
> >> >>
> >> >> Key Value
> >> >> Accept image/gif, image/x-xbitmap, image/jpeg, image/pjpeg,
> >> >> application/x-shockwave-flash, application/vnd.ms-excel,
> >> >> application/vnd.ms-powerpoint, application/msword, */*
> >> >> Accept-Language en-us
> >> >> UA-CPU x86
> >> >> Accept-Encoding gzip, deflate
> >> >> User-Agent Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1;
> >> >> MSDigitalLocker; .NET CLR 1.1.4322; InfoPath.1)
> >> >> Host localhost
> >> >> Connection Keep-Alive
> >> >>
> >> >> Request environment
> >> >>
> >> >> Key Value
> >> >> GATEWAY_INTERFACE CGI/1.1
> >> >> SERVER_PROTOCOL HTTP/1.1
> >> >> REQUEST_METHOD GET
> >> >> QUERY_STRING
> >> >> REQUEST_URI /mpinfo
> >> >> SCRIPT_NAME /mpinfo
> >> >> HTTP_ACCEPT image/gif, image/x-xbitmap, image/jpeg, image/pjpeg,
> >> >> application/x-shockwave-flash, application/vnd.ms-excel,
> >> >> application/vnd.ms-powerpoint, application/msword, */*
> >> >> HTTP_ACCEPT_LANGUAGE en-us
> >> >> HTTP_UA_CPU x86
> >> >> HTTP_ACCEPT_ENCODING gzip, deflate
> >> >> HTTP_USER_AGENT Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1;
> >> >> MSDigitalLocker; .NET CLR 1.1.4322; InfoPath.1)
> >> >> HTTP_HOST localhost
> >> >> HTTP_CONNECTION Keep-Alive
> >> >> PATH
> C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\Program
> >> >> Files\HPQ\IAM\bin;C:\Program Files\Java\jdk1.6.0_12\bin;C:\Program
> >> >> Files\Sun\JavaDB\bin;C:\Python26;C:\Eclipse-SDK-3.4.1-win32\eclipse
> >> >> SystemRoot C:\WINDOWS
> >> >> COMSPEC C:\WINDOWS\system32\cmd.exe
> >> >> PATHEXT .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH
> >> >> WINDIR C:\WINDOWS
> >> >> SERVER_SIGNATURE
> >> >> SERVER_SOFTWARE Apache/2.2.11 (Win32) mod_python/3.3.1 Python/2.5.4
> >> >> SERVER_NAME localhost
> >> >> SERVER_ADDR 127.0.0.1
> >> >> SERVER_PORT 80
> >> >> REMOTE_ADDR 127.0.0.1
> >> >> DOCUMENT_ROOT C:/Program Files/Apache Software
> Foundation/Apache2.2/htdocs
> >> >> SERVER_ADMIN name@somedomain.com
> >> >> SCRIPT_FILENAME C:/Program Files/Apache Software
> >> >> Foundation/Apache2.2/htdocs/mpinfo
> >> >> REMOTE_PORT 3354
> >> >> _______________________________________________
> >> >> Mod_python mailing list
> >> >> Mod_python@modpython.org
> >> >> http://mailman.modpython.org/mailman/listinfo/mod_python
> >> >>
> >> >
> >> >
> >> >
> >> > --
> >> > "Python is the unholy bastard step-child between Ruby and PHP."
> >> > "I'd let an ipod blow up on my leg for $150,000."
> >> > "but Ben and Jerry do make a lovely couple."
> >> >
> >> > _______________________________________________
> >> > Mod_python mailing list
> >> > Mod_python@modpython.org
> >> > http://mailman.modpython.org/mailman/listinfo/mod_python
> >> >
> >> >
> >
> >
> >
> > --
> > "Python is the unholy bastard step-child between Ruby and PHP."
> > "I'd let an ipod blow up on my leg for $150,000."
> > "but Ben and Jerry do make a lovely couple."
> >
>



-- 
"Python is the unholy bastard step-child between Ruby and PHP."
"I'd let an ipod blow up on my leg for $150,000."
"but Ben and Jerry do make a lovely couple."
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090327/45b74304/attachment-0001.html
From graham.dumpleton at gmail.com  Fri Mar 27 20:12:59 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Fri Mar 27 20:13:09 2009
Subject: [mod_python] Error testing installation of mod_python
In-Reply-To: <d01b8cf20903271701x345c4516h2d0172c8e8a6eef6@mail.gmail.com>
References: <e3f16c60903271339k2df65ba1lcea5ea2815a1afc0@mail.gmail.com>
	<d01b8cf20903271347u5e93cfd5md4741eac5985e54@mail.gmail.com>
	<88e286470903271633k107e6b80vd73c2eface2e97b1@mail.gmail.com>
	<d01b8cf20903271639s52ea8c69yc0632ca09ea0e07e@mail.gmail.com>
	<88e286470903271648v61a9db1fo4e3f18e1d404763a@mail.gmail.com>
	<d01b8cf20903271701x345c4516h2d0172c8e8a6eef6@mail.gmail.com>
Message-ID: <88e286470903271712l2fd4e291l95628791946577d3@mail.gmail.com>

2009/3/28 Tim Valenta <tonightslastsong@gmail.com>:
> I also had troubles trying to make a non-'publisher' handler work, and so
> rather than battling a hello world example, I had cut straight to the
> publisher, which felt more natural for the casual "I need to know how to
> work with mod_python" user. ?I can't say that I was ready to be writing
> custom handlers (hello world tutorial or not), when resource
> routing/handling isn't the core of what I would look into a high-level
> language for. ?That's the sort of thing that I would expect is already taken
> care of.

Which is why mod_python is a poor choice these days anyway. You are
better off using one of the Python web frameworks such as Django,
Pylons or TurboGears. For something more componentised, then try
Werkzeug.

> Might make a good tutorial to learn how to do it (and to clearly
> advertise that it's capable of such things) but when turned black and white:
> ?publisher was the best way to simply get rolling.

For a tutorial see:

  http://webpython.codepoint.net/mod_python_tutorial

> I agree entirely that the page to which you've referenced is valuable
> information for correcting any problems being had.
> I also submit that mpinfo might not be worth the trouble to wrestle with if
> you don't need to know about your own local WinXP server right this instant.

The real question is whether mod_python is even worth the trouble
these days given that better options exist. ;-)

Graham

> Best of luck,
> Tim
>
> On Fri, Mar 27, 2009 at 5:48 PM, Graham Dumpleton
> <graham.dumpleton@gmail.com> wrote:
>>
>> 2009/3/28 Tim Valenta <tonightslastsong@gmail.com>:
>> >> Mostly irrelevant. They are using:
>> >>
>> >> ?<Location /mpinfo>
>> >> ?PythonHandler mod_python.testhandler
>> >
>> > Mostly not irrelevant, because it should be made sure that this
>> > specific location directive is the one being used. ?If it's not
>> > included at all, then clearly a 404 would happen because it'd be
>> > looking for index.py files somewhere.
>> >
>> > Just wanted to clarify that I'm not a mumbling idiot. ?I should have
>> > been more clear where I was coming from.
>>
>> The output they posted in the first message is what is output by the
>> mod_python.testhandler. You started talking about /mpinfo, which was
>> the URL he had mapped to that. Your explanation was therefore
>> irrelevant to the /mpinfo output as he produced it as it doesn't using
>> anything you talked about. What you talked about was also how
>> mod_python.publisher works, which isn't even the basic mod_python
>> handler mechanism which is most likely what he is trying to get going
>> because that is what is used for the first hello world example in the
>> mod_python documentation, not mod_python.publisher.
>>
>> The document I referenced gives better instructions on how to set up
>> that first basic mod_python handler.
>>
>> Graham
>>
>> > On Fri, Mar 27, 2009 at 5:33 PM, Graham Dumpleton
>> > <graham.dumpleton@gmail.com> wrote:
>> >>
>> >> 2009/3/28 Tim Valenta <tonightslastsong@gmail.com>:
>> >> > I notice that it says your gateway interface is CGI, but I'm not sure
>> >> > if
>> >> > that's what it always says or not. ?(I have never quite payed
>> >> > attention to
>> >> > that part before.)
>> >>
>> >> You can ignore it as mod_python simply forces req.subprocess_env to be
>> >> populated with CGI stuff. This has side affect of adding it.
>> >>
>> >> > It took me a while to get used to the way mod_python decides if a URL
>> >> > maps
>> >> > to a function or not. ?If I remember right, that "/mpinfo" call
>> >> > should look
>> >> > for an "mpinfo.py" file's "index" function. ?(I think to reach
>> >> > index.py's
>> >> > "mpinfo" function, you'd have to pull a string or two more, or just
>> >> > request
>> >> > "/index/mpinfo").
>> >> > If I've gotten that wrong somehow, someone feel free to correct me,
>> >> > but
>> >> > that's how I remember it working. ?I don't have it in front of me
>> >> > yet.
>> >>
>> >> Mostly irrelevant. They are using:
>> >>
>> >> ?<Location /mpinfo>
>> >> ?PythonHandler mod_python.testhandler
>> >> ?SetHandler mod_python
>> >> ?</Location>
>> >>
>> >> So, using internal module of mod_python. No file actually coming into
>> >> play.
>> >>
>> >> Original poster should read and work through:
>> >>
>> >>
>> >> ?http://www.dscpl.com.au/wiki/ModPython/Articles/GettingModPythonWorking
>> >>
>> >> This may give them a clue as to what they are doing wrong.
>> >>
>> >> Graham
>> >>
>> >> > Tim
>> >> > 2009/3/27 Sandhya Uppada <sandhya.samson@gmail.com>
>> >> >>
>> >> >> Hi,
>> >> >>
>> >> >> I'm trying to install mod python on my Windows XP. I installed and
>> >> >> configured mod_python as per the installtion guide but when I test
>> >> >> it using
>> >> >> the simple "hello world" program, I get HTTP 404 Error. I'm new to
>> >> >> this and
>> >> >> need help in figuring this out. Following is the /mpinfo output. Pls
>> >> >> give me
>> >> >> some pointers that can look at and correct this error.
>> >> >>
>> >> >> Regards,
>> >> >> Sandhya
>> >> >>
>> >> >> Apache version Apache/2.2.11 (Win32) mod_python/3.3.1 Python/2.5.4
>> >> >> Apache threaded MPM Yes, maximum 64 threads / process
>> >> >> Apache forked MPM No (single process MPM)
>> >> >> Apache server root C:/Program Files/Apache Software
>> >> >> Foundation/Apache2.2
>> >> >> Apache document root C:/Program Files/Apache Software
>> >> >> Foundation/Apache2.2/htdocs
>> >> >> Apache error log C:/Program Files/Apache Software
>> >> >> Foundation/Apache2.2\logs/error.log (view last 100 lines)
>> >> >> Python sys.version 2.5.4 (r254:67916, Dec 23 2008, 15:10:54) [MSC
>> >> >> v.1310
>> >> >> 32 bit (Intel)]
>> >> >> Python sys.path
>> >> >>
>> >> >> C:\WINDOWS\system32\python25.zip
>> >> >> C:\Python25\Lib
>> >> >> C:\Python25\DLLs
>> >> >> C:\Python25\Lib\lib-tk
>> >> >> C:\Program Files\Apache Software Foundation\Apache2.2
>> >> >> C:\Program Files\Apache Software Foundation\Apache2.2\bin
>> >> >> C:\Python25
>> >> >> C:\Python25\lib\site-packages
>> >> >>
>> >> >> Python interpreter name BOB_SANDY.domain_not_set.invalid
>> >> >> mod_python.publisher available Yes
>> >> >> mod_python.psp available Yes
>> >> >>
>> >> >> Request input headers
>> >> >>
>> >> >> Key Value
>> >> >> Accept image/gif, image/x-xbitmap, image/jpeg, image/pjpeg,
>> >> >> application/x-shockwave-flash, application/vnd.ms-excel,
>> >> >> application/vnd.ms-powerpoint, application/msword, */*
>> >> >> Accept-Language en-us
>> >> >> UA-CPU x86
>> >> >> Accept-Encoding gzip, deflate
>> >> >> User-Agent Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1;
>> >> >> MSDigitalLocker; .NET CLR 1.1.4322; InfoPath.1)
>> >> >> Host localhost
>> >> >> Connection Keep-Alive
>> >> >>
>> >> >> Request environment
>> >> >>
>> >> >> Key Value
>> >> >> GATEWAY_INTERFACE CGI/1.1
>> >> >> SERVER_PROTOCOL HTTP/1.1
>> >> >> REQUEST_METHOD GET
>> >> >> QUERY_STRING
>> >> >> REQUEST_URI /mpinfo
>> >> >> SCRIPT_NAME /mpinfo
>> >> >> HTTP_ACCEPT image/gif, image/x-xbitmap, image/jpeg, image/pjpeg,
>> >> >> application/x-shockwave-flash, application/vnd.ms-excel,
>> >> >> application/vnd.ms-powerpoint, application/msword, */*
>> >> >> HTTP_ACCEPT_LANGUAGE en-us
>> >> >> HTTP_UA_CPU x86
>> >> >> HTTP_ACCEPT_ENCODING gzip, deflate
>> >> >> HTTP_USER_AGENT Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1;
>> >> >> MSDigitalLocker; .NET CLR 1.1.4322; InfoPath.1)
>> >> >> HTTP_HOST localhost
>> >> >> HTTP_CONNECTION Keep-Alive
>> >> >> PATH
>> >> >> C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\Program
>> >> >> Files\HPQ\IAM\bin;C:\Program Files\Java\jdk1.6.0_12\bin;C:\Program
>> >> >> Files\Sun\JavaDB\bin;C:\Python26;C:\Eclipse-SDK-3.4.1-win32\eclipse
>> >> >> SystemRoot C:\WINDOWS
>> >> >> COMSPEC C:\WINDOWS\system32\cmd.exe
>> >> >> PATHEXT .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH
>> >> >> WINDIR C:\WINDOWS
>> >> >> SERVER_SIGNATURE
>> >> >> SERVER_SOFTWARE Apache/2.2.11 (Win32) mod_python/3.3.1 Python/2.5.4
>> >> >> SERVER_NAME localhost
>> >> >> SERVER_ADDR 127.0.0.1
>> >> >> SERVER_PORT 80
>> >> >> REMOTE_ADDR 127.0.0.1
>> >> >> DOCUMENT_ROOT C:/Program Files/Apache Software
>> >> >> Foundation/Apache2.2/htdocs
>> >> >> SERVER_ADMIN name@somedomain.com
>> >> >> SCRIPT_FILENAME C:/Program Files/Apache Software
>> >> >> Foundation/Apache2.2/htdocs/mpinfo
>> >> >> REMOTE_PORT 3354
>> >> >> _______________________________________________
>> >> >> Mod_python mailing list
>> >> >> Mod_python@modpython.org
>> >> >> http://mailman.modpython.org/mailman/listinfo/mod_python
>> >> >>
>> >> >
>> >> >
>> >> >
>> >> > --
>> >> > "Python is the unholy bastard step-child between Ruby and PHP."
>> >> > "I'd let an ipod blow up on my leg for $150,000."
>> >> > "but Ben and Jerry do make a lovely couple."
>> >> >
>> >> > _______________________________________________
>> >> > Mod_python mailing list
>> >> > Mod_python@modpython.org
>> >> > http://mailman.modpython.org/mailman/listinfo/mod_python
>> >> >
>> >> >
>> >
>> >
>> >
>> > --
>> > "Python is the unholy bastard step-child between Ruby and PHP."
>> > "I'd let an ipod blow up on my leg for $150,000."
>> > "but Ben and Jerry do make a lovely couple."
>> >
>
>
>
> --
> "Python is the unholy bastard step-child between Ruby and PHP."
> "I'd let an ipod blow up on my leg for $150,000."
> "but Ben and Jerry do make a lovely couple."
>

From peuchele at hotmail.com  Sat Mar 28 23:07:50 2009
From: peuchele at hotmail.com (Fernando Vicente)
Date: Sat Mar 28 23:07:59 2009
Subject: [mod_python] Sharing mod_python experiences
Message-ID: <COL118-W79D55AC177830D11B0DF15C88C0@phx.gbl>



Hi,

This is my first e-mail to the list. I started using mod_python a few months ago and I already like it very much. Thanks for this great module!!!
I wrote two articles in my personal blog about how to configure mod_python in MacOS X intel and also a small mod_python application that monitor the progress of files being uploaded.
Many of the information was taken from this forum, so I thought it can be a good idea to post it here if anyone is interested.


http://www.alfersoft.com.ar/blog/2009/03/03/macos-x-105x-intel-mod_python-pil-pycaptcha-notes/

http://www.alfersoft.com.ar/blog/2009/03/28/file-upload-progress-with-mod_python/


Thanks
Fernando
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090329/07668eec/attachment.html
From webmaster at world-vr.com  Sun Mar 29 00:01:46 2009
From: webmaster at world-vr.com (David Sfiligoi)
Date: Sat Mar 28 23:15:00 2009
Subject: [mod_python] multiple processing of the same python script by the
	handler
Message-ID: <200903290001.46876.webmaster@world-vr.com>

Hi List,

I have been working around, trying to resolve you name it this problem for at 
least a year now.  I don't know what to do anymore...everytime I implement 
some new functionality to my system I find myself writing bastard code to 
work around this issue.

The simplest way to 'reproduce' this issue is by using the logging module.

To explain this in its simplest form I can use the logging module. A simple 
script that takes all the parameters passed to the script via the url and log 
them to a file via the logger. 

from mod_python import Cookie, apache
from mod_python import util

import logging, logging.handlers

logger = logging.getLogger('mymodpythong app.py')
logging_handler = logging.FileHandler('/mylogfile.log')    
formatter = logging.Formatter('%(asctime)s %(levelname)s %(message)s')
logging_handler.setFormatter(formatter)
logger.addHandler(logging_handler)
logger.setLevel(logging.INFO)

def handler(req):
	request_data = util.FieldStorage(req)
	clientip = req.get_remote_host(apache.REMOTE_NOLOOKUP)
	str_req_data = str(clientip) + "| "
	for key in request_data:
	        str_req_data += str(key) + ": " + str(request_data[key]) + "| "


	logger.info(str_req_data[:-2])
	return apache.OK



Now the behavior on my apache 2.2(on prefork mpm) is the following.  I can get 
1 line logged or 2 or 5 with the exact same data.  It almost looks like 
modpython process is processing the same data a few time sand who ever finish 
first get promoted to return the data to apache.  Now this doesn't only apply 
to logging, if I open a socket and send data to another server, on that 
server side they would get the same multiple same data. 

This is a log snapshot from my production system.  This is an log from a 
visitor who loads the page.  (the html page sends the onUnload event to the 
python script). As you can see mod python logged 3 times the same data

2009-03-28 21:57:49,854 INFO 76.177.106.67| CC: US| tdid: XXXXXXX| product: 
removed| version: db2.9| unloadTime: 0.003| unloadLoc: urlremoved| event: 
unload| Referer: urlremoved| cookietid: None
2009-03-28 21:57:49,854 INFO 76.177.106.67| CC: US| tdid: XXXXXXX| product: 
removed| version: db2.9| unloadTime: 0.003| unloadLoc: urlremoved| event: 
unload| Referer: urlremovedl| cookietid: None
2009-03-28 21:57:49,854 INFO 76.177.106.67| CC: US| tdid: XXXXXXX| product: 
removed| version: db2.9| unloadTime: 0.003| unloadLoc: urlremoved| event: 
unload| Referer: urlremoved| cookietid: None
2009-03-28 21:57:52,785 INFO 76.177.106.67| CC: US| tdid: XXXXXXX| product: 
removed| version: db2.9| unloadTime: 3.249| unloadLoc: urlremoved| event: 
onload| Referer: urlremoved| cookietid: None
2009-03-28 21:57:52,785 INFO 76.177.106.67| CC: US| tdid: XXXXXXX| product: 
removed| version: db2.9| unloadTime: 3.249| unloadLoc: urlremoved| event: 
onload| Referer: urlremoved| cookietid: None
2009-03-28 21:57:52,785 INFO 76.177.106.67| CC: US| tdid: XXXXXXX| product: 
removed| version: db2.9| unloadTime: 3.249| unloadLoc: urlremoved| event: 
onload| Referer: urlremoved| cookietid: None


Thanks,

David
From graham.dumpleton at gmail.com  Sun Mar 29 05:45:01 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Sun Mar 29 05:45:05 2009
Subject: [mod_python] multiple processing of the same python script by the
	handler
In-Reply-To: <200903290001.46876.webmaster@world-vr.com>
References: <200903290001.46876.webmaster@world-vr.com>
Message-ID: <88e286470903290245s1c4c6fccx65e5510bcc846f6@mail.gmail.com>

2009/3/29 David Sfiligoi <webmaster@world-vr.com>:
> Hi List,
>
> I have been working around, trying to resolve you name it this problem for at
> least a year now. ?I don't know what to do anymore...everytime I implement
> some new functionality to my system I find myself writing bastard code to
> work around this issue.
>
> The simplest way to 'reproduce' this issue is by using the logging module.
>
> To explain this in its simplest form I can use the logging module. A simple
> script that takes all the parameters passed to the script via the url and log
> them to a file via the logger.
>
> from mod_python import Cookie, apache
> from mod_python import util
>
> import logging, logging.handlers
>
> logger = logging.getLogger('mymodpythong app.py')
> logging_handler = logging.FileHandler('/mylogfile.log')
> formatter = logging.Formatter('%(asctime)s %(levelname)s %(message)s')
> logging_handler.setFormatter(formatter)
> logger.addHandler(logging_handler)
> logger.setLevel(logging.INFO)
>
> def handler(req):
> ? ? ? ?request_data = util.FieldStorage(req)
> ? ? ? ?clientip = req.get_remote_host(apache.REMOTE_NOLOOKUP)
> ? ? ? ?str_req_data = str(clientip) + "| "
> ? ? ? ?for key in request_data:
> ? ? ? ? ? ? ? ?str_req_data += str(key) + ": " + str(request_data[key]) + "| "
>
>
> ? ? ? ?logger.info(str_req_data[:-2])
> ? ? ? ?return apache.OK
>
>
>
> Now the behavior on my apache 2.2(on prefork mpm) is the following. ?I can get
> 1 line logged or 2 or 5 with the exact same data. ?It almost looks like
> modpython process is processing the same data a few time sand who ever finish
> first get promoted to return the data to apache. ?Now this doesn't only apply
> to logging, if I open a socket and send data to another server, on that
> server side they would get the same multiple same data.
>
> This is a log snapshot from my production system. ?This is an log from a
> visitor who loads the page. ?(the html page sends the onUnload event to the
> python script). As you can see mod python logged 3 times the same data
>
> 2009-03-28 21:57:49,854 INFO 76.177.106.67| CC: US| tdid: XXXXXXX| product:
> removed| version: db2.9| unloadTime: 0.003| unloadLoc: urlremoved| event:
> unload| Referer: urlremoved| cookietid: None
> 2009-03-28 21:57:49,854 INFO 76.177.106.67| CC: US| tdid: XXXXXXX| product:
> removed| version: db2.9| unloadTime: 0.003| unloadLoc: urlremoved| event:
> unload| Referer: urlremovedl| cookietid: None
> 2009-03-28 21:57:49,854 INFO 76.177.106.67| CC: US| tdid: XXXXXXX| product:
> removed| version: db2.9| unloadTime: 0.003| unloadLoc: urlremoved| event:
> unload| Referer: urlremoved| cookietid: None
> 2009-03-28 21:57:52,785 INFO 76.177.106.67| CC: US| tdid: XXXXXXX| product:
> removed| version: db2.9| unloadTime: 3.249| unloadLoc: urlremoved| event:
> onload| Referer: urlremoved| cookietid: None
> 2009-03-28 21:57:52,785 INFO 76.177.106.67| CC: US| tdid: XXXXXXX| product:
> removed| version: db2.9| unloadTime: 3.249| unloadLoc: urlremoved| event:
> onload| Referer: urlremoved| cookietid: None
> 2009-03-28 21:57:52,785 INFO 76.177.106.67| CC: US| tdid: XXXXXXX| product:
> removed| version: db2.9| unloadTime: 3.249| unloadLoc: urlremoved| event:
> onload| Referer: urlremoved| cookietid: None

If you change a mod_python handler script, it will be automatically
reloaded. This would be a problem in your code as you installed a log
handler each time it is loaded into the same process. Having multiple
instances of the log handler installed would result in the same
information possibly being logged multiple times.

I would suggest you add inside your handler script:

  req.log_error("I have been called")

If that appears twice in the Apache error log file then I would be
concerned, otherwise I would say the problem is with your use of the
logging module.

Also read about import_module() in:

  http://www.modpython.org/live/current/doc-html/pyapi-apmeth.html

as it explains a bit about module reloading and the way to preserve
global data or avoid stuff which performs additive operations each
time it is loaded.

Graham

From bruce.bushby at googlemail.com  Sun Mar 29 07:17:58 2009
From: bruce.bushby at googlemail.com (bruce bushby)
Date: Sun Mar 29 07:18:08 2009
Subject: [mod_python] mod_python session/form based user authentication
Message-ID: <e9fd6bd0903290417n6bd432b2m678e3768188b8800@mail.gmail.com>

Hi

I've been struggling to implement form based user authentication for some
time now so I'm posting my progress in the hope that
more experienced members will comment and any new starters will save
themselves some time.

A big thanks to John Calixto for getting back to me and suggesting "AuthType
wgtiauth" and "Require wgti-user"


The example works as follows:
- Attempt to access the protected area gets intercepted by authenhandler, if
not authorized redirect to login, if login successful, continue to original
url.
- Uses DbmSessions (nice when used with a load balancer and RedHat GFS)



Cheers
Bruce




My setup:

              OS: Linux Fedora Core 8
       Apache: Apache/2.2.6 (Fedora)
mod_python: 3.3.1



*** add an entry in your hosts file:*
127.0.0.1       www.mysite.com  mysite.com mysite



*/etc/httpd/conf/httpd.conf setup (virtual host):
*NameVirtualHost *:80
<VirtualHost *:80>
        ServerName www.mysite.com
        ServerAlias mysite
        ServerAdmin webmaster@mysite
        DocumentRoot /var/www/html/mysite

        <Directory />
                SetHandler mod_python
                AddHandler mod_python.publisher .py
                PythonHandler mod_python.publisher
                PythonOption mod_python.dbm_session.database_filename
"/var/www/html/mysite/dbm/mp_sess.dbm"
                PythonOption ApplicationPath "/"
                PythonPath "sys.path+['/var/www/html/mysite/modules']"
                PythonDebug On
        </Directory>

        <Directory /var/www/html/mysite/members>
                AuthType wgtiauth
                AuthName "members"
                Require wgti-user
                PythonAuthenHandler authsession
                PythonAuthzHandler authsession
        </Directory>

        ErrorLog /var/log/httpd/error.log
        CustomLog /var/log/httpd/access.log combined

        LogLevel debug
        ServerSignature On

</VirtualHost>



[root@core mysite]# pwd
/var/www/html/mysite
[root@core mysite]# find . -ls
6069239    4 drwxr-x---   6 apache   apache       4096 Mar 29 00:37 .
6069464    4 drwxr-x---   2 apache   apache       4096 Mar 29 11:43 ./html
6069466    4 -rwxr-x---   1 apache   apache        236 Mar 26 22:35
./html/login.html
6069467    4 -rwxr-x---   1 apache   apache        213 Mar 28 10:40
./html/indexWelcome.html
6069478    4 -rwxr-x---   1 apache   apache        448 Mar 29 00:37
./index.py
6069469    4 drwxr-x---   2 apache   apache       4096 Mar 29 11:43 ./dbm
6069195   12 -rw-r-----   1 apache   apache      12288 Mar 29 11:44
./dbm/mp_sess.dbm
6069471    4 drwxr-x---   3 apache   apache       4096 Mar 28 10:57
./members
6069472    4 drwxr-x---   2 apache   apache       4096 Mar 28 10:56
./members/html
6069473    4 -rwxr-x---   1 apache   apache        159 Mar 28 10:17
./members/html/membersWelcome.html
6069474    4 -rwxr-x---   1 apache   apache        158 Mar 28 10:56
./members/html/membersForum.html
6069475    4 -rwxr-x---   1 apache   apache        569 Mar 28 10:57
./members/index.py
6069476    4 drwxr-x---   2 apache   apache       4096 Mar 29 11:40
./modules
6069194    4 -rwxr-x---   1 apache   apache       1173 Mar 29 03:10
./modules/funcs.pyc
6069196    4 -rwxr-x---   1 apache   apache       1019 Mar 29 03:10
./modules/authsession.pyc
6069497    4 -rwxr-x---   1 apache   apache        588 Mar 29 03:09
./modules/authsession.py
6069498    4 -rwxr-x---   1 apache   apache        804 Mar 29 03:09
./modules/funcs.py



-------------------------------------
./html/login.html
-------------------------------------
<html>
<body>
        Login <br>
        <form action=authenticate method=post>
        <input name=user type=text><br>
        <input name=password type=password><br>
        <input name=submit type=submit value=Login>
</body>
</html>


-------------------------------------
./html/indexWelcome.html
-------------------------------------
<html>
<body>
        index
                <br>
        source address: %s
                <br>
                <br>
                <a href=http://mysite/members>members</a>
                <br>
                <br>
                <a href=/login>login</a>
                <br>
                <a href=logout>logout</a>
</body>
</html>


-------------------------------------
./index.py
-------------------------------------
from funcs import *
from mod_python import util
from mod_python import Cookie
from mod_python import apache
from mod_python import Session

def index(req):
        util.redirect(req,"http://mysite/welcome")

def welcome(req):
        f = open("/var/www/html/mysite/html/indexWelcome.html")
        indexWelcome = f.read()
        return indexWelcome % req.connection.remote_ip

def login(req):
        f = open("/var/www/html/mysite/html/login.html")
        login = f.read()
        return login


-------------------------------------
./members/html/membersWelcome.html
-------------------------------------
<html>
<body>
        members
                <br>
        source address: %s
                <br>
                <br>
                <a href=/welcome>Home</a>
                <br>
                <a href=/logout>Logout</a>
</body>
</html>


-------------------------------------
./members/html/membersForum.html
-------------------------------------
<html>
<body>
        forum:
                <br>
        source address: %s
                <br>
                <br>
                <a href=/welcome>Home</a>
                <br>
                <a href=/logout>Logout</a>
</body>
</html>


-------------------------------------
./members/index.py
-------------------------------------
from funcs import *
from mod_python import util
from mod_python import apache
from mod_python import Cookie
from mod_python import Session

def index(req):
        util.redirect(req,"http://mysite/members/welcome")


def welcome(req):
        f = open("/var/www/html/mysite/members/html/membersWelcome.html")
        membersWelcome = f.read()
        return membersWelcome % req.connection.remote_ip

def forum(req):
        f = open("/var/www/html/mysite/members/html/membersForum.html")
        membersForum = f.read()
        return membersForum % req.connection.remote_ip


-------------------------------------
./modules/authsession.py
-------------------------------------
from mod_python import util
from mod_python import apache
from mod_python import Session


def authenhandler(req):
        req.user = "nobody"
        req.session = Session.DbmSession(req)

        if req.session.is_new():
                req.session['referer'] = "http://mysite" + req.unparsed_uri
                req.session.save()
                util.redirect(req,"http://mysite/login")

        if req.session.has_key('authstatus') and req.session['authstatus']
== "authenticated":
                return apache.OK

        return apache.HTTP_UNAUTHORIZED


def authzhandler(req):
        if req.user:
                return apache.OK

        return apache.HTTP_UNAUTHORIZED


-------------------------------------
./modules/funcs.py
-------------------------------------
from mod_python import util
from mod_python import apache
from mod_python import Session

def authenticate(req):

        req.session = Session.DbmSession(req)
        if req.session.is_new():
                req.session['referer'] = "http://mysite/welcome"

        referer = req.session['referer']

        user = req.form['user']
        password = req.form['password']

        if user == "demo" and password == "demo":
                req.user = user
                req.session['user'] = user
                req.session['authstatus'] = 'authenticated'
                req.session.save()
                util.redirect(req,referer)
        else:
                req.session.delete()
                req.session = Session.DbmSession(req)
                referer = req.session['referer']
                req.session.save()
                util.redirect(req,"http://mysite/login")

def logout(req):
        req.session = Session.DbmSession(req)
        req.session.delete()
        util.redirect(req,"http://mysite/welcome")
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090329/8916c798/attachment-0001.html
From graham.dumpleton at gmail.com  Sun Mar 29 18:23:15 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Sun Mar 29 18:23:24 2009
Subject: [mod_python] mod_python session/form based user authentication
In-Reply-To: <e9fd6bd0903290417n6bd432b2m678e3768188b8800@mail.gmail.com>
References: <e9fd6bd0903290417n6bd432b2m678e3768188b8800@mail.gmail.com>
Message-ID: <88e286470903291523h31169aebi5230cc2632f14a7@mail.gmail.com>

2009/3/29 bruce bushby <bruce.bushby@googlemail.com>:
> Hi
>
> I've been struggling to implement form based user authentication for some
> time now so I'm posting my progress in the hope that
> more experienced members will comment and any new starters will save
> themselves some time.
>
> A big thanks to John Calixto for getting back to me and suggesting "AuthType
> wgtiauth" and "Require wgti-user"
>
>
> The example works as follows:
> - Attempt to access the protected area gets intercepted by authenhandler, if
> not authorized redirect to login, if login successful, continue to original
> url.
>
> ...
>
> def authenhandler(req):
> ??????? req.user = "nobody"
> ??????? req.session = Session.DbmSession(req)
>
> ??????? if req.session.is_new():
> ??????????????? req.session['referer'] = "http://mysite" + req.unparsed_uri
> ??????????????? req.session.save()
> ??????????????? util.redirect(req,"http://mysite/login")
>
> ??????? if req.session.has_key('authstatus') and req.session['authstatus']
> == "authenticated":
> ??????????????? return apache.OK
>
> ??????? return apache.HTTP_UNAUTHORIZED

Technically this is incorrect/incomplete.

1. An authentication handler should be checking whether it is the
handler that should run for the AuthType used. Thus should have the
following check as first thing done:

  if req.auth_type() != 'wgtiauth':
    return apache.DECLINED

2. If the authentication handler successfully authenticated user, only
then should it be setting req.user. It should not be doing it all the
time even if authentication failed. It is not technically a good idea
to be setting it to 'nobody' and it should really be the actual user
name. That way you can then use other Apache directives such as
'Require user'.

3. If the authentication handler was successful, it should be setting
req.ap_auth_type to be the authentication type.

  req.ap_auth_type = req.auth_type()

> def authzhandler(req):
> ??????? if req.user:
> ??????????????? return apache.OK
>
> ??????? return apache.HTTP_UNAUTHORIZED

Your whole authorisation handler is not needed, so get rid of:

                Require wgti-user
                PythonAuthzHandler authsession

and replace it with:

                Require valid-user

As I said before though, you should only be setting req.user if user
authenticated properly.

Graham

From webmaster at world-vr.com  Sun Mar 29 22:15:31 2009
From: webmaster at world-vr.com (David Sfiligoi)
Date: Sun Mar 29 21:28:47 2009
Subject: [mod_python] multiple processing of the same python script by the
	handler
In-Reply-To: <88e286470903290245s1c4c6fccx65e5510bcc846f6@mail.gmail.com>
References: <200903290001.46876.webmaster@world-vr.com>
	<88e286470903290245s1c4c6fccx65e5510bcc846f6@mail.gmail.com>
Message-ID: <200903292215.31384.webmaster@world-vr.com>

Hi Graham,

Yes I agree defining my logger outside the mod python handler was a bad idea.  
Using the req.log_error works of course.  Obviously if I wanted integrate 
this into all the other apps that revolve around those logs, i'd have to 
write a converter or change each apps which parses the log data.

I'd like to understand this a bit better, perhaps I have the wrong basic idea 
on how the python handler works in overall, but if I install the log handler 
in the handler function and delete the log objects before ending, shouldn't 
that take care of the multiple logging issue?  

Or are you saying that each piece of code that should not produce multiple 
entries of the same thing should really be inside a module so I can let 
import_module() take care of it?

Im seeing the same 'multiplicity' issue when I open a socket while in handler 
function. This is really what trigger the question.

Thanks,

David




On Sunday 29 March 2009 05:45:01 am Graham Dumpleton wrote:
>
> If you change a mod_python handler script, it will be automatically
> reloaded. This would be a problem in your code as you installed a log
> handler each time it is loaded into the same process. Having multiple
> instances of the log handler installed would result in the same
> information possibly being logged multiple times.
>
> I would suggest you add inside your handler script:
>
>   req.log_error("I have been called")
>
> If that appears twice in the Apache error log file then I would be
> concerned, otherwise I would say the problem is with your use of the
> logging module.
>
> Also read about import_module() in:
>
>   http://www.modpython.org/live/current/doc-html/pyapi-apmeth.html
>
> as it explains a bit about module reloading and the way to preserve
> global data or avoid stuff which performs additive operations each
> time it is loaded.
>
> Graham


From graham.dumpleton at gmail.com  Sun Mar 29 21:33:46 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Sun Mar 29 21:33:49 2009
Subject: [mod_python] multiple processing of the same python script by the
	handler
In-Reply-To: <200903292215.31384.webmaster@world-vr.com>
References: <200903290001.46876.webmaster@world-vr.com>
	<88e286470903290245s1c4c6fccx65e5510bcc846f6@mail.gmail.com>
	<200903292215.31384.webmaster@world-vr.com>
Message-ID: <88e286470903291833r62b83923n2793d76031d665ad@mail.gmail.com>

2009/3/30 David Sfiligoi <webmaster@world-vr.com>:
> Hi Graham,
>
> Yes I agree defining my logger outside the mod python handler was a bad idea.
> Using the req.log_error works of course. ?Obviously if I wanted integrate
> this into all the other apps that revolve around those logs, i'd have to
> write a converter or change each apps which parses the log data.
>
> I'd like to understand this a bit better, perhaps I have the wrong basic idea
> on how the python handler works in overall, but if I install the log handler
> in the handler function and delete the log objects before ending, shouldn't
> that take care of the multiple logging issue?
>
> Or are you saying that each piece of code that should not produce multiple
> entries of the same thing should really be inside a module so I can let
> import_module() take care of it?

Put logging initialisation in a completely separate module outside of
document tree and not inside of the handler code files. Setup
PythonPath if need be where that separate module is located,  and then
have handler code files import that module from that other location.

This should ensure that the logging initialisation code is imported
and run only once per process. If you intentionally then change the
logging initialisation module code, you will need to restart Apache.

> Im seeing the same 'multiplicity' issue when I open a socket while in handler
> function. This is really what trigger the question.

That I can't explain at this point. I was assuming that your
duplicated logging may have been confusing the issue.

> Thanks,
>
> David
>
>
>
>
> On Sunday 29 March 2009 05:45:01 am Graham Dumpleton wrote:
>>
>> If you change a mod_python handler script, it will be automatically
>> reloaded. This would be a problem in your code as you installed a log
>> handler each time it is loaded into the same process. Having multiple
>> instances of the log handler installed would result in the same
>> information possibly being logged multiple times.
>>
>> I would suggest you add inside your handler script:
>>
>> ? req.log_error("I have been called")
>>
>> If that appears twice in the Apache error log file then I would be
>> concerned, otherwise I would say the problem is with your use of the
>> logging module.
>>
>> Also read about import_module() in:
>>
>> ? http://www.modpython.org/live/current/doc-html/pyapi-apmeth.html
>>
>> as it explains a bit about module reloading and the way to preserve
>> global data or avoid stuff which performs additive operations each
>> time it is loaded.
>>
>> Graham
>
>
>

From bruce.bushby at googlemail.com  Sun Mar 29 21:43:40 2009
From: bruce.bushby at googlemail.com (bruce bushby)
Date: Sun Mar 29 21:43:49 2009
Subject: [mod_python] mod_python session/form based user authentication
In-Reply-To: <88e286470903291523h31169aebi5230cc2632f14a7@mail.gmail.com>
References: <e9fd6bd0903290417n6bd432b2m678e3768188b8800@mail.gmail.com>
	<88e286470903291523h31169aebi5230cc2632f14a7@mail.gmail.com>
Message-ID: <e9fd6bd0903291843r7822d84fmbec0a93ce9a3480d@mail.gmail.com>

Hi Graeme

Thanks for the feedback. The issue I've been stuck with ( for 3 months now)
is how to prevent the "browser pop-up"  user/password dialog box.
I've tried so many combinations, but every time I have "AuthType
Basic/Require valid-user" set, the browser pops up the login dialog box but
I want
"html form login/authentication"

req.user = "nobody" was set as a place holder because without it I get:
  [ req->user is NULL. Assign something to req.user if returning OK to avoid
this error ]

I've just tried the following:
AuthType session
AuthName "members"
Require valid-session

...and it works......but only if I "set req.user = nobody" as a temp place
holder...or I get the req->user is NULL error


I'll admit I don't have a clue....I got this far by trial and error, which
is not very efficient.....I'm waiting for your book ...hint hint :))

Is there a secret to prevent the "browser password pop-up box" and redirect
to a html login page? I've spent 3 months
googling and can't find a simple example.

Thanks again
Bruce













On Sun, Mar 29, 2009 at 11:23 PM, Graham Dumpleton <
graham.dumpleton@gmail.com> wrote:

> 2009/3/29 bruce bushby <bruce.bushby@googlemail.com>:
> > Hi
> >
> > I've been struggling to implement form based user authentication for some
> > time now so I'm posting my progress in the hope that
> > more experienced members will comment and any new starters will save
> > themselves some time.
> >
> > A big thanks to John Calixto for getting back to me and suggesting
> "AuthType
> > wgtiauth" and "Require wgti-user"
> >
> >
> > The example works as follows:
> > - Attempt to access the protected area gets intercepted by authenhandler,
> if
> > not authorized redirect to login, if login successful, continue to
> original
> > url.
> >
> > ...
> >
> > def authenhandler(req):
> >         req.user = "nobody"
> >         req.session = Session.DbmSession(req)
> >
> >         if req.session.is_new():
> >                 req.session['referer'] = "http://mysite" +
> req.unparsed_uri
> >                 req.session.save()
> >                 util.redirect(req,"http://mysite/login")
> >
> >         if req.session.has_key('authstatus') and
> req.session['authstatus']
> > == "authenticated":
> >                 return apache.OK
> >
> >         return apache.HTTP_UNAUTHORIZED
>
> Technically this is incorrect/incomplete.
>
> 1. An authentication handler should be checking whether it is the
> handler that should run for the AuthType used. Thus should have the
> following check as first thing done:
>
>  if req.auth_type() != 'wgtiauth':
>    return apache.DECLINED
>
> 2. If the authentication handler successfully authenticated user, only
> then should it be setting req.user. It should not be doing it all the
> time even if authentication failed. It is not technically a good idea
> to be setting it to 'nobody' and it should really be the actual user
> name. That way you can then use other Apache directives such as
> 'Require user'.
>
> 3. If the authentication handler was successful, it should be setting
> req.ap_auth_type to be the authentication type.
>
>  req.ap_auth_type = req.auth_type()
>
> > def authzhandler(req):
> >         if req.user:
> >                 return apache.OK
> >
> >         return apache.HTTP_UNAUTHORIZED
>
> Your whole authorisation handler is not needed, so get rid of:
>
>                Require wgti-user
>                PythonAuthzHandler authsession
>
> and replace it with:
>
>                Require valid-user
>
> As I said before though, you should only be setting req.user if user
> authenticated properly.
>
> Graham
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090330/40f1a49a/attachment.html
From graham.dumpleton at gmail.com  Sun Mar 29 23:16:58 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Sun Mar 29 23:17:03 2009
Subject: [mod_python] mod_python session/form based user authentication
In-Reply-To: <e9fd6bd0903291843r7822d84fmbec0a93ce9a3480d@mail.gmail.com>
References: <e9fd6bd0903290417n6bd432b2m678e3768188b8800@mail.gmail.com>
	<88e286470903291523h31169aebi5230cc2632f14a7@mail.gmail.com>
	<e9fd6bd0903291843r7822d84fmbec0a93ce9a3480d@mail.gmail.com>
Message-ID: <88e286470903292016p14a335daxc3c55c006e11f051@mail.gmail.com>

2009/3/30 bruce bushby <bruce.bushby@googlemail.com>:
> Hi Graeme
>
> Thanks for the feedback. The issue I've been stuck with ( for 3 months now)
> is how to prevent the "browser pop-up"? user/password dialog box.
> I've tried so many combinations, but every time I have "AuthType
> Basic/Require valid-user" set, the browser pops up the login dialog box but
> I want
> "html form login/authentication"

Try setting:

  AuthBasicAuthoritative Off

in Apache configuration.

But then, if you aren't setting AuthType to be Basic, this shouldn't
be an issue.

> req.user = "nobody" was set as a place holder because without it I get:
> ? [ req->user is NULL. Assign something to req.user if returning OK to avoid
> this error ]

Even as a place holder, didn't need to be set in all cases and could
cause an issue if there were multiple authentication handlers being
executed.

> I've just tried the following:
> AuthType session
> AuthName "members"
> Require valid-session

The Require isn't much point if you haven't written an authorization
handler that understands valid-session.

> ...and it works......but only if I "set req.user = nobody" as a temp place
> holder...or I get the req->user is NULL error
>
>
> I'll admit I don't have a clue....I got this far by trial and error, which
> is not very efficient.....I'm waiting for your book ...hint hint :))

I will not be writing a book on mod_python. IMHO mod_python is dying
and the quicker people stop using it and shift to WSGI based Python
web applications the better.

The only problem in saying that is the alternatives don't support
writing Apache input/output filters nor custom session based
authetication/authorisation schemes that cover multiple applications.
The latter though will be supported in Apache 2.4 though through
mod_session, so no need to be fiddling within using mod_python at that
point. You could also right now just use:

  http://www.openfusion.com.au/labs/mod_auth_tkt/

> Is there a secret to prevent the "browser password pop-up box" and redirect
> to a html login page? I've spent 3 months
> googling and can't find a simple example.

For a working form/session based authentication handler, that is that
I presume it still works, see:

  http://www.modpython.org/pipermail/mod_python/2006-May/021172.html

The correct attachment address is:

  http://www.modpython.org/pipermail/mod_python/attachments/20060520/813620d0/sessionmanager.tar.gz

See the .htaccess file as to how it all ties together. The _session.py
file is also extensively documented.

Graham

>
> Thanks again
> Bruce
>
>
>
>
>
>
>
>
>
>
>
>
>
> On Sun, Mar 29, 2009 at 11:23 PM, Graham Dumpleton
> <graham.dumpleton@gmail.com> wrote:
>>
>> 2009/3/29 bruce bushby <bruce.bushby@googlemail.com>:
>> > Hi
>> >
>> > I've been struggling to implement form based user authentication for
>> > some
>> > time now so I'm posting my progress in the hope that
>> > more experienced members will comment and any new starters will save
>> > themselves some time.
>> >
>> > A big thanks to John Calixto for getting back to me and suggesting
>> > "AuthType
>> > wgtiauth" and "Require wgti-user"
>> >
>> >
>> > The example works as follows:
>> > - Attempt to access the protected area gets intercepted by
>> > authenhandler, if
>> > not authorized redirect to login, if login successful, continue to
>> > original
>> > url.
>> >
>> > ...
>> >
>> > def authenhandler(req):
>> > ??????? req.user = "nobody"
>> > ??????? req.session = Session.DbmSession(req)
>> >
>> > ??????? if req.session.is_new():
>> > ??????????????? req.session['referer'] = "http://mysite" +
>> > req.unparsed_uri
>> > ??????????????? req.session.save()
>> > ??????????????? util.redirect(req,"http://mysite/login")
>> >
>> > ??????? if req.session.has_key('authstatus') and
>> > req.session['authstatus']
>> > == "authenticated":
>> > ??????????????? return apache.OK
>> >
>> > ??????? return apache.HTTP_UNAUTHORIZED
>>
>> Technically this is incorrect/incomplete.
>>
>> 1. An authentication handler should be checking whether it is the
>> handler that should run for the AuthType used. Thus should have the
>> following check as first thing done:
>>
>> ?if req.auth_type() != 'wgtiauth':
>> ? ?return apache.DECLINED
>>
>> 2. If the authentication handler successfully authenticated user, only
>> then should it be setting req.user. It should not be doing it all the
>> time even if authentication failed. It is not technically a good idea
>> to be setting it to 'nobody' and it should really be the actual user
>> name. That way you can then use other Apache directives such as
>> 'Require user'.
>>
>> 3. If the authentication handler was successful, it should be setting
>> req.ap_auth_type to be the authentication type.
>>
>> ?req.ap_auth_type = req.auth_type()
>>
>> > def authzhandler(req):
>> > ??????? if req.user:
>> > ??????????????? return apache.OK
>> >
>> > ??????? return apache.HTTP_UNAUTHORIZED
>>
>> Your whole authorisation handler is not needed, so get rid of:
>>
>> ? ? ? ? ? ? ? ?Require wgti-user
>> ? ? ? ? ? ? ? ?PythonAuthzHandler authsession
>>
>> and replace it with:
>>
>> ? ? ? ? ? ? ? ?Require valid-user
>>
>> As I said before though, you should only be setting req.user if user
>> authenticated properly.
>>
>> Graham
>
>

From rahul.warhekar at edisphere.com  Mon Mar 30 01:00:25 2009
From: rahul.warhekar at edisphere.com (rahul)
Date: Mon Mar 30 01:02:52 2009
Subject: [mod_python] Getting error as The system cannot find the file
	specified
In-Reply-To: <d01b8cf20903271138q633d8d37g1c499107b51b8951@mail.gmail.com>
Message-ID: <20090330050253.88CC76A45B5@server1.edisphere.com>

No I get error while using util.redirect(req,"path to file")

 

Regards 

rahul

 

  _____  

From: Tim Valenta [mailto:tonightslastsong@gmail.com] 
Sent: Saturday, March 28, 2009 12:08 AM
To: rahul
Cc: Graham Dumpleton; mod_python@modpython.org
Subject: Re: [mod_python] Getting error as The system cannot find the file
specified

 

When do you get the error?  When you start Apache?

 

Tim

On Fri, Mar 27, 2009 at 6:25 AM, rahul <rahul.warhekar@edisphere.com> wrote:

Hello all,

I am using my mod_python for my web application.

And I am getting "WindowsError: [Errno 2] The system cannot find the file
specified" error.

Any quick help reg this will be greatly appreciated and this is really
urgent.

Thanks in advance.

Rahul

_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://mailman.modpython.org/mailman/listinfo/mod_python




-- 
"Python is the unholy bastard step-child between Ruby and PHP."
"I'd let an ipod blow up on my leg for $150,000."
"but Ben and Jerry do make a lovely couple."

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090330/ce832163/attachment.html
From graham.dumpleton at gmail.com  Mon Mar 30 01:07:04 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Mon Mar 30 01:07:12 2009
Subject: [mod_python] Getting error as The system cannot find the file 
	specified
In-Reply-To: <20090330050253.88CC76A45B5@server1.edisphere.com>
References: <d01b8cf20903271138q633d8d37g1c499107b51b8951@mail.gmail.com>
	<20090330050253.88CC76A45B5@server1.edisphere.com>
Message-ID: <88e286470903292207k171e7b59y5deff4cccb6982d4@mail.gmail.com>

What is "path to file"?

It must be a properly formed URI, ie., 'http://host/.....'. You should
not be just supplying a local URL without the 'http://host' bit.

Graham

2009/3/30 rahul <rahul.warhekar@edisphere.com>:
> No I get error while using util.redirect(req,?path to file?)
>
>
>
> Regards
>
> rahul
>
>
>
> ________________________________
>
> From: Tim Valenta [mailto:tonightslastsong@gmail.com]
> Sent: Saturday, March 28, 2009 12:08 AM
> To: rahul
> Cc: Graham Dumpleton; mod_python@modpython.org
> Subject: Re: [mod_python] Getting error as The system cannot find the file
> specified
>
>
>
> When do you get the error? ?When you start Apache?
>
>
>
> Tim
>
> On Fri, Mar 27, 2009 at 6:25 AM, rahul <rahul.warhekar@edisphere.com> wrote:
>
> Hello all,
>
> I am using my mod_python for my web application.
>
> And I am getting "WindowsError: [Errno 2] The system cannot find the file
> specified" error.
>
> Any quick help reg this will be greatly appreciated and this is really
> urgent.
>
> Thanks in advance.
>
> Rahul
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>
>
> --
> "Python is the unholy bastard step-child between Ruby and PHP."
> "I'd let an ipod blow up on my leg for $150,000."
> "but Ben and Jerry do make a lovely couple."

From mike at subfocal.net  Mon Mar 30 01:24:26 2009
From: mike at subfocal.net (Mike Mueller)
Date: Mon Mar 30 01:24:34 2009
Subject: [mod_python] Reloading PSP sometimes shows old pages
Message-ID: <20090330052426.GK24998@samus.subfocal.net>

I'm trying to do some site development in mod_python, using psp.  Since
I'm making frequent changes, it'd be nice if I can quickly reload them.

What I'm seeing is that reload doesn't always work.  A lot of times,
hitting reload will simply show the same version I was already looking
at, even though the .psp file has changed on the server.  Sometimes,
it'll update and show me the new one.  Sometimes, strangely, it'll show
me an even older version of the page than the one I'm currently viewing.

i.e. if I insert text into the page and reload after each one, "change 1",
"change 2", "change 3"... sometimes I'll see change 3, sometimes it'll
hop back to change 1, and continued reloads bounce around between the
versions.  Firefox seems to do this more than Opera, but I've seen it in
both browsers.  I've even turned off Firefox's cache with the web
development toolbar extension, without much difference.

Unfortunately, the problem is random enough that it's hard to tell when
a particular tweak has improved the situation.  It seems like navigating
to a different page, then coming to the desired page, will frequently
work.

Via searching, I've found a lot of information, but I'm still having
problems.

Right now, I have:

  PythonDebug On
  PythonAutoReload On  (even though this should be on by default)
  MaxRequestsPerChild 1 (based on Django's mod_python devel advice)

I'm using Apache 2.2.8-1ubuntu0.5, mod_python 3.3.1-2build1 on an Ubuntu
8.04 system.  As far as I can tell, I don't have any Apache caching
turned on.

Testing with Firefox 3.0.8 and Opera 9.64.

-- 
Mike Mueller
mike@subfocal.net
From graham.dumpleton at gmail.com  Mon Mar 30 01:31:04 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Mon Mar 30 01:31:05 2009
Subject: [mod_python] Reloading PSP sometimes shows old pages
In-Reply-To: <20090330052426.GK24998@samus.subfocal.net>
References: <20090330052426.GK24998@samus.subfocal.net>
Message-ID: <88e286470903292231u8ecc566sd7b70cc9bab386c1@mail.gmail.com>

2009/3/30 Mike Mueller <mike@subfocal.net>:
> I'm trying to do some site development in mod_python, using psp. ?Since
> I'm making frequent changes, it'd be nice if I can quickly reload them.
>
> What I'm seeing is that reload doesn't always work. ?A lot of times,
> hitting reload will simply show the same version I was already looking
> at, even though the .psp file has changed on the server. ?Sometimes,
> it'll update and show me the new one. ?Sometimes, strangely, it'll show
> me an even older version of the page than the one I'm currently viewing.
>
> i.e. if I insert text into the page and reload after each one, "change 1",
> "change 2", "change 3"... sometimes I'll see change 3, sometimes it'll
> hop back to change 1, and continued reloads bounce around between the
> versions. ?Firefox seems to do this more than Opera, but I've seen it in
> both browsers. ?I've even turned off Firefox's cache with the web
> development toolbar extension, without much difference.
>
> Unfortunately, the problem is random enough that it's hard to tell when
> a particular tweak has improved the situation. ?It seems like navigating
> to a different page, then coming to the desired page, will frequently
> work.
>
> Via searching, I've found a lot of information, but I'm still having
> problems.
>
> Right now, I have:
>
> ?PythonDebug On
> ?PythonAutoReload On ?(even though this should be on by default)
> ?MaxRequestsPerChild 1 (based on Django's mod_python devel advice)
>
> I'm using Apache 2.2.8-1ubuntu0.5, mod_python 3.3.1-2build1 on an Ubuntu
> 8.04 system. ?As far as I can tell, I don't have any Apache caching
> turned on.

Are the changes you are making contained totally within the PSP files,
or are they actually in separate Python modules imported and use from
the PSP pages?

Are you saying that you still see the problem with MaxRequestsPerChild set to 1?

Graham

From mike at subfocal.net  Mon Mar 30 01:41:09 2009
From: mike at subfocal.net (Mike Mueller)
Date: Mon Mar 30 01:41:16 2009
Subject: [mod_python] Reloading PSP sometimes shows old pages
In-Reply-To: <88e286470903292231u8ecc566sd7b70cc9bab386c1@mail.gmail.com>
References: <20090330052426.GK24998@samus.subfocal.net>
	<88e286470903292231u8ecc566sd7b70cc9bab386c1@mail.gmail.com>
Message-ID: <20090330054109.GL24998@samus.subfocal.net>

On Mon, Mar 30, 2009 at 04:31:04PM +1100, Graham Dumpleton wrote:
> Are the changes you are making contained totally within the PSP files,
> or are they actually in separate Python modules imported and use from
> the PSP pages?
> 
> Are you saying that you still see the problem with MaxRequestsPerChild set to 1?
> 
> Graham

Good point, here's the exact situation:

Page1.psp and Page2.psp both include common.psp, using the <%@include %>
syntax.  common.psp has the navigation menu and other common page
contents, in a function called gen_header().  I was changing the code of
this function, while reloading a window pointed at Page1.psp (or
Page2.psp).

Yes, the problem occurs with MaxRequestsPerChild 1.
(And I restarted apache after setting this.)

Thanks!

-- 
Mike Mueller
mike@subfocal.net
From rahul.warhekar at edisphere.com  Mon Mar 30 01:46:12 2009
From: rahul.warhekar at edisphere.com (rahul.warhekar@edisphere.com)
Date: Mon Mar 30 01:46:08 2009
Subject: [mod_python] Getting error as The system cannot find the file  
	specified
In-Reply-To: <88e286470903292207k171e7b59y5deff4cccb6982d4@mail.gmail.com>
References: <d01b8cf20903271138q633d8d37g1c499107b51b8951@mail.gmail.com>
	<20090330050253.88CC76A45B5@server1.edisphere.com>
	<88e286470903292207k171e7b59y5deff4cccb6982d4@mail.gmail.com>
Message-ID: <3624.59.90.39.43.1238391972.squirrel@www.edisphere.com>

hello all

I am using virtual machine. On it we are having wamp server 2.6 running.

any suggestion for this situation.

Any help will be greatly appreciated.

Thanks
rahul



> What is "path to file"?
>
> It must be a properly formed URI, ie., 'http://host/.....'. You should
> not be just supplying a local URL without the 'http://host' bit.
>
> Graham
>
> 2009/3/30 rahul <rahul.warhekar@edisphere.com>:
>> No I get error while using util.redirect(req,?path to file?)
>>
>>
>>
>> Regards
>>
>> rahul
>>
>>
>>
>> ________________________________
>>
>> From: Tim Valenta [mailto:tonightslastsong@gmail.com]
>> Sent: Saturday, March 28, 2009 12:08 AM
>> To: rahul
>> Cc: Graham Dumpleton; mod_python@modpython.org
>> Subject: Re: [mod_python] Getting error as The system cannot find the
>> file
>> specified
>>
>>
>>
>> When do you get the error? ?When you start Apache?
>>
>>
>>
>> Tim
>>
>> On Fri, Mar 27, 2009 at 6:25 AM, rahul <rahul.warhekar@edisphere.com>
>> wrote:
>>
>> Hello all,
>>
>> I am using my mod_python for my web application.
>>
>> And I am getting "WindowsError: [Errno 2] The system cannot find the
>> file
>> specified" error.
>>
>> Any quick help reg this will be greatly appreciated and this is really
>> urgent.
>>
>> Thanks in advance.
>>
>> Rahul
>>
>> _______________________________________________
>> Mod_python mailing list
>> Mod_python@modpython.org
>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>
>>
>> --
>> "Python is the unholy bastard step-child between Ruby and PHP."
>> "I'd let an ipod blow up on my leg for $150,000."
>> "but Ben and Jerry do make a lovely couple."
>


From graham.dumpleton at gmail.com  Mon Mar 30 01:47:02 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Mon Mar 30 01:47:10 2009
Subject: [mod_python] Reloading PSP sometimes shows old pages
In-Reply-To: <20090330054109.GL24998@samus.subfocal.net>
References: <20090330052426.GK24998@samus.subfocal.net>
	<88e286470903292231u8ecc566sd7b70cc9bab386c1@mail.gmail.com>
	<20090330054109.GL24998@samus.subfocal.net>
Message-ID: <88e286470903292247rb81e0dbrcfd6e0334448a8f5@mail.gmail.com>

2009/3/30 Mike Mueller <mike@subfocal.net>:
> On Mon, Mar 30, 2009 at 04:31:04PM +1100, Graham Dumpleton wrote:
>> Are the changes you are making contained totally within the PSP files,
>> or are they actually in separate Python modules imported and use from
>> the PSP pages?
>>
>> Are you saying that you still see the problem with MaxRequestsPerChild set to 1?
>>
>> Graham
>
> Good point, here's the exact situation:
>
> Page1.psp and Page2.psp both include common.psp, using the <%@include %>
> syntax. ?common.psp has the navigation menu and other common page
> contents, in a function called gen_header(). ?I was changing the code of
> this function, while reloading a window pointed at Page1.psp (or
> Page2.psp).
>
> Yes, the problem occurs with MaxRequestsPerChild 1.
> (And I restarted apache after setting this.)

If MaxRequestsPerChild is 1 then it can't be a caching problem within
mod_python.

What is the actual URL path (don't care about host), are you relying
on additional path information passed to the request or query string
arguments?

Do you connect your browser direct to that Apache instance or do you
go via some firewall proxy/cache? Do you have any sort of caching
enabled in Apache?

Graham

From graham.dumpleton at gmail.com  Mon Mar 30 01:50:21 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Mon Mar 30 01:50:23 2009
Subject: [mod_python] Getting error as The system cannot find the file 
	specified
In-Reply-To: <3624.59.90.39.43.1238391972.squirrel@www.edisphere.com>
References: <d01b8cf20903271138q633d8d37g1c499107b51b8951@mail.gmail.com>
	<20090330050253.88CC76A45B5@server1.edisphere.com>
	<88e286470903292207k171e7b59y5deff4cccb6982d4@mail.gmail.com>
	<3624.59.90.39.43.1238391972.squirrel@www.edisphere.com>
Message-ID: <88e286470903292250g13508a3yaa69ac7bd1447f93@mail.gmail.com>

You did not answer my question.

What is your code passing as the second argument to:

  util.redirect

function call?

I cannot help if you do not answer the question. You are already
stressing the abilities of the crystal ball as it is by not supplying
enough actual useful information.

Graham

2009/3/30  <rahul.warhekar@edisphere.com>:
> hello all
>
> I am using virtual machine. On it we are having wamp server 2.6 running.
>
> any suggestion for this situation.
>
> Any help will be greatly appreciated.
>
> Thanks
> rahul
>
>
>
>> What is "path to file"?
>>
>> It must be a properly formed URI, ie., 'http://host/.....'. You should
>> not be just supplying a local URL without the 'http://host' bit.
>>
>> Graham
>>
>> 2009/3/30 rahul <rahul.warhekar@edisphere.com>:
>>> No I get error while using util.redirect(req,?path to file?)
>>>
>>>
>>>
>>> Regards
>>>
>>> rahul
>>>
>>>
>>>
>>> ________________________________
>>>
>>> From: Tim Valenta [mailto:tonightslastsong@gmail.com]
>>> Sent: Saturday, March 28, 2009 12:08 AM
>>> To: rahul
>>> Cc: Graham Dumpleton; mod_python@modpython.org
>>> Subject: Re: [mod_python] Getting error as The system cannot find the
>>> file
>>> specified
>>>
>>>
>>>
>>> When do you get the error? ?When you start Apache?
>>>
>>>
>>>
>>> Tim
>>>
>>> On Fri, Mar 27, 2009 at 6:25 AM, rahul <rahul.warhekar@edisphere.com>
>>> wrote:
>>>
>>> Hello all,
>>>
>>> I am using my mod_python for my web application.
>>>
>>> And I am getting "WindowsError: [Errno 2] The system cannot find the
>>> file
>>> specified" error.
>>>
>>> Any quick help reg this will be greatly appreciated and this is really
>>> urgent.
>>>
>>> Thanks in advance.
>>>
>>> Rahul
>>>
>>> _______________________________________________
>>> Mod_python mailing list
>>> Mod_python@modpython.org
>>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>>
>>>
>>> --
>>> "Python is the unholy bastard step-child between Ruby and PHP."
>>> "I'd let an ipod blow up on my leg for $150,000."
>>> "but Ben and Jerry do make a lovely couple."
>>
>
>
>

From rahul.warhekar at edisphere.com  Mon Mar 30 01:58:40 2009
From: rahul.warhekar at edisphere.com (rahul.warhekar@edisphere.com)
Date: Mon Mar 30 01:58:37 2009
Subject: [mod_python] Getting error as The system cannot find the file  
	specified
In-Reply-To: <88e286470903292250g13508a3yaa69ac7bd1447f93@mail.gmail.com>
References: <d01b8cf20903271138q633d8d37g1c499107b51b8951@mail.gmail.com>
	<20090330050253.88CC76A45B5@server1.edisphere.com>
	<88e286470903292207k171e7b59y5deff4cccb6982d4@mail.gmail.com>
	<3624.59.90.39.43.1238391972.squirrel@www.edisphere.com>
	<88e286470903292250g13508a3yaa69ac7bd1447f93@mail.gmail.com>
Message-ID: <4191.59.90.39.43.1238392720.squirrel@www.edisphere.com>

ok, sorry for that,

I am using util.redirect(req,"/edi/modules/index.psp")

my document root dir is c:\wamp\www

Thanks
Rahul

> You did not answer my question.
>
> What is your code passing as the second argument to:
>
>   util.redirect
>
> function call?
>
> I cannot help if you do not answer the question. You are already
> stressing the abilities of the crystal ball as it is by not supplying
> enough actual useful information.
>
> Graham
>
> 2009/3/30  <rahul.warhekar@edisphere.com>:
>> hello all
>>
>> I am using virtual machine. On it we are having wamp server 2.6 running.
>>
>> any suggestion for this situation.
>>
>> Any help will be greatly appreciated.
>>
>> Thanks
>> rahul
>>
>>
>>
>>> What is "path to file"?
>>>
>>> It must be a properly formed URI, ie., 'http://host/.....'. You should
>>> not be just supplying a local URL without the 'http://host' bit.
>>>
>>> Graham
>>>
>>> 2009/3/30 rahul <rahul.warhekar@edisphere.com>:
>>>> No I get error while using util.redirect(req,?path to file?)
>>>>
>>>>
>>>>
>>>> Regards
>>>>
>>>> rahul
>>>>
>>>>
>>>>
>>>> ________________________________
>>>>
>>>> From: Tim Valenta [mailto:tonightslastsong@gmail.com]
>>>> Sent: Saturday, March 28, 2009 12:08 AM
>>>> To: rahul
>>>> Cc: Graham Dumpleton; mod_python@modpython.org
>>>> Subject: Re: [mod_python] Getting error as The system cannot find the
>>>> file
>>>> specified
>>>>
>>>>
>>>>
>>>> When do you get the error? ?When you start Apache?
>>>>
>>>>
>>>>
>>>> Tim
>>>>
>>>> On Fri, Mar 27, 2009 at 6:25 AM, rahul <rahul.warhekar@edisphere.com>
>>>> wrote:
>>>>
>>>> Hello all,
>>>>
>>>> I am using my mod_python for my web application.
>>>>
>>>> And I am getting "WindowsError: [Errno 2] The system cannot find the
>>>> file
>>>> specified" error.
>>>>
>>>> Any quick help reg this will be greatly appreciated and this is really
>>>> urgent.
>>>>
>>>> Thanks in advance.
>>>>
>>>> Rahul
>>>>
>>>> _______________________________________________
>>>> Mod_python mailing list
>>>> Mod_python@modpython.org
>>>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>>>
>>>>
>>>> --
>>>> "Python is the unholy bastard step-child between Ruby and PHP."
>>>> "I'd let an ipod blow up on my leg for $150,000."
>>>> "but Ben and Jerry do make a lovely couple."
>>>
>>
>>
>>
>


From rahul.warhekar at edisphere.com  Mon Mar 30 02:01:47 2009
From: rahul.warhekar at edisphere.com (rahul.warhekar@edisphere.com)
Date: Mon Mar 30 02:01:43 2009
Subject: [mod_python] Getting error as The system cannot find the file  
	specified
In-Reply-To: <4191.59.90.39.43.1238392720.squirrel@www.edisphere.com>
References: <d01b8cf20903271138q633d8d37g1c499107b51b8951@mail.gmail.com>
	<20090330050253.88CC76A45B5@server1.edisphere.com>
	<88e286470903292207k171e7b59y5deff4cccb6982d4@mail.gmail.com>
	<3624.59.90.39.43.1238391972.squirrel@www.edisphere.com>
	<88e286470903292250g13508a3yaa69ac7bd1447f93@mail.gmail.com>
	<4191.59.90.39.43.1238392720.squirrel@www.edisphere.com>
Message-ID: <4324.59.90.39.43.1238392907.squirrel@www.edisphere.com>

along with below also keep in mind that i am using virtual machine
for my server.

thaks

Rahul



> ok, sorry for that,
>
> I am using util.redirect(req,"/edi/modules/index.psp")
>
> my document root dir is c:\wamp\www
>
> Thanks
> Rahul
>
>> You did not answer my question.
>>
>> What is your code passing as the second argument to:
>>
>>   util.redirect
>>
>> function call?
>>
>> I cannot help if you do not answer the question. You are already
>> stressing the abilities of the crystal ball as it is by not supplying
>> enough actual useful information.
>>
>> Graham
>>
>> 2009/3/30  <rahul.warhekar@edisphere.com>:
>>> hello all
>>>
>>> I am using virtual machine. On it we are having wamp server 2.6
>>> running.
>>>
>>> any suggestion for this situation.
>>>
>>> Any help will be greatly appreciated.
>>>
>>> Thanks
>>> rahul
>>>
>>>
>>>
>>>> What is "path to file"?
>>>>
>>>> It must be a properly formed URI, ie., 'http://host/.....'. You should
>>>> not be just supplying a local URL without the 'http://host' bit.
>>>>
>>>> Graham
>>>>
>>>> 2009/3/30 rahul <rahul.warhekar@edisphere.com>:
>>>>> No I get error while using util.redirect(req,?path to file?)
>>>>>
>>>>>
>>>>>
>>>>> Regards
>>>>>
>>>>> rahul
>>>>>
>>>>>
>>>>>
>>>>> ________________________________
>>>>>
>>>>> From: Tim Valenta [mailto:tonightslastsong@gmail.com]
>>>>> Sent: Saturday, March 28, 2009 12:08 AM
>>>>> To: rahul
>>>>> Cc: Graham Dumpleton; mod_python@modpython.org
>>>>> Subject: Re: [mod_python] Getting error as The system cannot find the
>>>>> file
>>>>> specified
>>>>>
>>>>>
>>>>>
>>>>> When do you get the error? ?When you start Apache?
>>>>>
>>>>>
>>>>>
>>>>> Tim
>>>>>
>>>>> On Fri, Mar 27, 2009 at 6:25 AM, rahul <rahul.warhekar@edisphere.com>
>>>>> wrote:
>>>>>
>>>>> Hello all,
>>>>>
>>>>> I am using my mod_python for my web application.
>>>>>
>>>>> And I am getting "WindowsError: [Errno 2] The system cannot find the
>>>>> file
>>>>> specified" error.
>>>>>
>>>>> Any quick help reg this will be greatly appreciated and this is
>>>>> really
>>>>> urgent.
>>>>>
>>>>> Thanks in advance.
>>>>>
>>>>> Rahul
>>>>>
>>>>> _______________________________________________
>>>>> Mod_python mailing list
>>>>> Mod_python@modpython.org
>>>>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>>>>
>>>>>
>>>>> --
>>>>> "Python is the unholy bastard step-child between Ruby and PHP."
>>>>> "I'd let an ipod blow up on my leg for $150,000."
>>>>> "but Ben and Jerry do make a lovely couple."
>>>>
>>>
>>>
>>>
>>
>
>


From mike at subfocal.net  Mon Mar 30 02:01:56 2009
From: mike at subfocal.net (Mike Mueller)
Date: Mon Mar 30 02:02:05 2009
Subject: [mod_python] Reloading PSP sometimes shows old pages
In-Reply-To: <88e286470903292247rb81e0dbrcfd6e0334448a8f5@mail.gmail.com>
References: <20090330052426.GK24998@samus.subfocal.net>
	<88e286470903292231u8ecc566sd7b70cc9bab386c1@mail.gmail.com>
	<20090330054109.GL24998@samus.subfocal.net>
	<88e286470903292247rb81e0dbrcfd6e0334448a8f5@mail.gmail.com>
Message-ID: <20090330060156.GM24998@samus.subfocal.net>

On Mon, Mar 30, 2009 at 04:47:02PM +1100, Graham Dumpleton wrote:
> 2009/3/30 Mike Mueller <mike@subfocal.net>:
> > Good point, here's the exact situation:
> >
> > Page1.psp and Page2.psp both include common.psp, using the <%@include %>
> > syntax. ?common.psp has the navigation menu and other common page
> > contents, in a function called gen_header(). ?I was changing the code of
> > this function, while reloading a window pointed at Page1.psp (or
> > Page2.psp).
> >
> > Yes, the problem occurs with MaxRequestsPerChild 1.
> > (And I restarted apache after setting this.)
> 
> If MaxRequestsPerChild is 1 then it can't be a caching problem within
> mod_python.
> 
> What is the actual URL path (don't care about host), are you relying
> on additional path information passed to the request or query string
> arguments?
> 
> Do you connect your browser direct to that Apache instance or do you
> go via some firewall proxy/cache? Do you have any sort of caching
> enabled in Apache?
> 
> Graham

The URL has no query string, it's just http://host:81/~mike/test/page.psp.
No POST parameters or anything, a very simple page.

No proxy.  Browser is on the same host as Apache.  As I said in the
first email, no caching in Apache, as far as I can tell.  (I grepped
around the config files looking for any caching that might've been
enabled by default, and came up empty.)

The more I play with it, the more I think it may just be Firefox that
sucks.  The bouncing-between-versions only happens in it.  I thought
Opera had it because the first time I loaded my page in Opera, I got an
old version (several versions prior) of the page.  That was before
changing MaxRequestsPerChild.  But I haven't seen that in Opera since.

Opera's only problem is that reload doesn't always update to latest...
sometimes I have to navigate away and come back, or it'll keep showing
me the version it has loaded.  (I've tried various combos of shift,
ctrl+shift, etc. while clicking reload).

Also, after a certain length of time (a minute or two?), both browsers
simply load the latest version, with no weird old versions appearing.

This is frustrating.

-- 
Mike Mueller
mike@subfocal.net
From graham.dumpleton at gmail.com  Mon Mar 30 02:03:07 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Mon Mar 30 02:03:17 2009
Subject: [mod_python] Getting error as The system cannot find the file 
	specified
In-Reply-To: <4191.59.90.39.43.1238392720.squirrel@www.edisphere.com>
References: <d01b8cf20903271138q633d8d37g1c499107b51b8951@mail.gmail.com>
	<20090330050253.88CC76A45B5@server1.edisphere.com>
	<88e286470903292207k171e7b59y5deff4cccb6982d4@mail.gmail.com>
	<3624.59.90.39.43.1238391972.squirrel@www.edisphere.com>
	<88e286470903292250g13508a3yaa69ac7bd1447f93@mail.gmail.com>
	<4191.59.90.39.43.1238392720.squirrel@www.edisphere.com>
Message-ID: <88e286470903292303j506ba5f1ha41b017e29b6d4e2@mail.gmail.com>

2009/3/30  <rahul.warhekar@edisphere.com>:
> ok, sorry for that,
>
> I am using util.redirect(req,"/edi/modules/index.psp")

Technically the second argument, as I said before, must be a full URI,
including 'http://host'. Supplying a path only as you have may or may
not work depending on the browser.

For starters, therefore change it to:

  util.redirect(req,req.construct_url("/edi/modules/index.psp"))

and see if that works.

And that you are using a virtual machine is likely got nothing to do with it.

Graham

> my document root dir is c:\wamp\www
>
> Thanks
> Rahul
>
>> You did not answer my question.
>>
>> What is your code passing as the second argument to:
>>
>> ? util.redirect
>>
>> function call?
>>
>> I cannot help if you do not answer the question. You are already
>> stressing the abilities of the crystal ball as it is by not supplying
>> enough actual useful information.
>>
>> Graham
>>
>> 2009/3/30 ?<rahul.warhekar@edisphere.com>:
>>> hello all
>>>
>>> I am using virtual machine. On it we are having wamp server 2.6 running.
>>>
>>> any suggestion for this situation.
>>>
>>> Any help will be greatly appreciated.
>>>
>>> Thanks
>>> rahul
>>>
>>>
>>>
>>>> What is "path to file"?
>>>>
>>>> It must be a properly formed URI, ie., 'http://host/.....'. You should
>>>> not be just supplying a local URL without the 'http://host' bit.
>>>>
>>>> Graham
>>>>
>>>> 2009/3/30 rahul <rahul.warhekar@edisphere.com>:
>>>>> No I get error while using util.redirect(req,?path to file?)
>>>>>
>>>>>
>>>>>
>>>>> Regards
>>>>>
>>>>> rahul
>>>>>
>>>>>
>>>>>
>>>>> ________________________________
>>>>>
>>>>> From: Tim Valenta [mailto:tonightslastsong@gmail.com]
>>>>> Sent: Saturday, March 28, 2009 12:08 AM
>>>>> To: rahul
>>>>> Cc: Graham Dumpleton; mod_python@modpython.org
>>>>> Subject: Re: [mod_python] Getting error as The system cannot find the
>>>>> file
>>>>> specified
>>>>>
>>>>>
>>>>>
>>>>> When do you get the error? ?When you start Apache?
>>>>>
>>>>>
>>>>>
>>>>> Tim
>>>>>
>>>>> On Fri, Mar 27, 2009 at 6:25 AM, rahul <rahul.warhekar@edisphere.com>
>>>>> wrote:
>>>>>
>>>>> Hello all,
>>>>>
>>>>> I am using my mod_python for my web application.
>>>>>
>>>>> And I am getting "WindowsError: [Errno 2] The system cannot find the
>>>>> file
>>>>> specified" error.
>>>>>
>>>>> Any quick help reg this will be greatly appreciated and this is really
>>>>> urgent.
>>>>>
>>>>> Thanks in advance.
>>>>>
>>>>> Rahul
>>>>>
>>>>> _______________________________________________
>>>>> Mod_python mailing list
>>>>> Mod_python@modpython.org
>>>>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>>>>
>>>>>
>>>>> --
>>>>> "Python is the unholy bastard step-child between Ruby and PHP."
>>>>> "I'd let an ipod blow up on my leg for $150,000."
>>>>> "but Ben and Jerry do make a lovely couple."
>>>>
>>>
>>>
>>>
>>
>
>
>

From rahul.warhekar at edisphere.com  Mon Mar 30 02:03:48 2009
From: rahul.warhekar at edisphere.com (rahul.warhekar@edisphere.com)
Date: Mon Mar 30 02:03:45 2009
Subject: [mod_python] Getting error as The system cannot find the file  
	specified
In-Reply-To: <4324.59.90.39.43.1238392907.squirrel@www.edisphere.com>
References: <d01b8cf20903271138q633d8d37g1c499107b51b8951@mail.gmail.com>
	<20090330050253.88CC76A45B5@server1.edisphere.com>
	<88e286470903292207k171e7b59y5deff4cccb6982d4@mail.gmail.com>
	<3624.59.90.39.43.1238391972.squirrel@www.edisphere.com>
	<88e286470903292250g13508a3yaa69ac7bd1447f93@mail.gmail.com>
	<4191.59.90.39.43.1238392720.squirrel@www.edisphere.com>
	<4324.59.90.39.43.1238392907.squirrel@www.edisphere.com>
Message-ID: <4402.59.90.39.43.1238393028.squirrel@www.edisphere.com>

in normal machine it is working fine

> along with below also keep in mind that i am using virtual machine
> for my server.
>
> thaks
>
> Rahul
>
>
>
>> ok, sorry for that,
>>
>> I am using util.redirect(req,"/edi/modules/index.psp")
>>
>> my document root dir is c:\wamp\www
>>
>> Thanks
>> Rahul
>>
>>> You did not answer my question.
>>>
>>> What is your code passing as the second argument to:
>>>
>>>   util.redirect
>>>
>>> function call?
>>>
>>> I cannot help if you do not answer the question. You are already
>>> stressing the abilities of the crystal ball as it is by not supplying
>>> enough actual useful information.
>>>
>>> Graham
>>>
>>> 2009/3/30  <rahul.warhekar@edisphere.com>:
>>>> hello all
>>>>
>>>> I am using virtual machine. On it we are having wamp server 2.6
>>>> running.
>>>>
>>>> any suggestion for this situation.
>>>>
>>>> Any help will be greatly appreciated.
>>>>
>>>> Thanks
>>>> rahul
>>>>
>>>>
>>>>
>>>>> What is "path to file"?
>>>>>
>>>>> It must be a properly formed URI, ie., 'http://host/.....'. You
>>>>> should
>>>>> not be just supplying a local URL without the 'http://host' bit.
>>>>>
>>>>> Graham
>>>>>
>>>>> 2009/3/30 rahul <rahul.warhekar@edisphere.com>:
>>>>>> No I get error while using util.redirect(req,?path to file?)
>>>>>>
>>>>>>
>>>>>>
>>>>>> Regards
>>>>>>
>>>>>> rahul
>>>>>>
>>>>>>
>>>>>>
>>>>>> ________________________________
>>>>>>
>>>>>> From: Tim Valenta [mailto:tonightslastsong@gmail.com]
>>>>>> Sent: Saturday, March 28, 2009 12:08 AM
>>>>>> To: rahul
>>>>>> Cc: Graham Dumpleton; mod_python@modpython.org
>>>>>> Subject: Re: [mod_python] Getting error as The system cannot find
>>>>>> the
>>>>>> file
>>>>>> specified
>>>>>>
>>>>>>
>>>>>>
>>>>>> When do you get the error? ?When you start Apache?
>>>>>>
>>>>>>
>>>>>>
>>>>>> Tim
>>>>>>
>>>>>> On Fri, Mar 27, 2009 at 6:25 AM, rahul
>>>>>> <rahul.warhekar@edisphere.com>
>>>>>> wrote:
>>>>>>
>>>>>> Hello all,
>>>>>>
>>>>>> I am using my mod_python for my web application.
>>>>>>
>>>>>> And I am getting "WindowsError: [Errno 2] The system cannot find the
>>>>>> file
>>>>>> specified" error.
>>>>>>
>>>>>> Any quick help reg this will be greatly appreciated and this is
>>>>>> really
>>>>>> urgent.
>>>>>>
>>>>>> Thanks in advance.
>>>>>>
>>>>>> Rahul
>>>>>>
>>>>>> _______________________________________________
>>>>>> Mod_python mailing list
>>>>>> Mod_python@modpython.org
>>>>>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>>>>>
>>>>>>
>>>>>> --
>>>>>> "Python is the unholy bastard step-child between Ruby and PHP."
>>>>>> "I'd let an ipod blow up on my leg for $150,000."
>>>>>> "but Ben and Jerry do make a lovely couple."
>>>>>
>>>>
>>>>
>>>>
>>>
>>
>>
>
>
>


From graham.dumpleton at gmail.com  Mon Mar 30 02:09:08 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Mon Mar 30 02:09:11 2009
Subject: [mod_python] Reloading PSP sometimes shows old pages
In-Reply-To: <20090330060156.GM24998@samus.subfocal.net>
References: <20090330052426.GK24998@samus.subfocal.net>
	<88e286470903292231u8ecc566sd7b70cc9bab386c1@mail.gmail.com>
	<20090330054109.GL24998@samus.subfocal.net>
	<88e286470903292247rb81e0dbrcfd6e0334448a8f5@mail.gmail.com>
	<20090330060156.GM24998@samus.subfocal.net>
Message-ID: <88e286470903292309n660f1e05m85d72ca9bedede5@mail.gmail.com>

2009/3/30 Mike Mueller <mike@subfocal.net>:
> On Mon, Mar 30, 2009 at 04:47:02PM +1100, Graham Dumpleton wrote:
>> 2009/3/30 Mike Mueller <mike@subfocal.net>:
>> > Good point, here's the exact situation:
>> >
>> > Page1.psp and Page2.psp both include common.psp, using the <%@include %>
>> > syntax. ?common.psp has the navigation menu and other common page
>> > contents, in a function called gen_header(). ?I was changing the code of
>> > this function, while reloading a window pointed at Page1.psp (or
>> > Page2.psp).
>> >
>> > Yes, the problem occurs with MaxRequestsPerChild 1.
>> > (And I restarted apache after setting this.)
>>
>> If MaxRequestsPerChild is 1 then it can't be a caching problem within
>> mod_python.
>>
>> What is the actual URL path (don't care about host), are you relying
>> on additional path information passed to the request or query string
>> arguments?
>>
>> Do you connect your browser direct to that Apache instance or do you
>> go via some firewall proxy/cache? Do you have any sort of caching
>> enabled in Apache?
>>
>> Graham
>
> The URL has no query string, it's just http://host:81/~mike/test/page.psp.
> No POST parameters or anything, a very simple page.
>
> No proxy. ?Browser is on the same host as Apache. ?As I said in the
> first email, no caching in Apache, as far as I can tell. ?(I grepped
> around the config files looking for any caching that might've been
> enabled by default, and came up empty.)
>
> The more I play with it, the more I think it may just be Firefox that
> sucks. ?The bouncing-between-versions only happens in it. ?I thought
> Opera had it because the first time I loaded my page in Opera, I got an
> old version (several versions prior) of the page. ?That was before
> changing MaxRequestsPerChild. ?But I haven't seen that in Opera since.
>
> Opera's only problem is that reload doesn't always update to latest...
> sometimes I have to navigate away and come back, or it'll keep showing
> me the version it has loaded. ?(I've tried various combos of shift,
> ctrl+shift, etc. while clicking reload).
>
> Also, after a certain length of time (a minute or two?), both browsers
> simply load the latest version, with no weird old versions appearing.
>
> This is frustrating.

All I can suggest is that log using req.log_error() from the PSP page
and include in the response of the page, both the date/time and the
process ID.

Logging will help to verify if page actually being processed. It being
in the page should make it easier to verify that data is actually
changing or not. If that part of data changes but remainder of page
doesn't then would have to be a caching issue with mod_python and
MaxRequestsPerChild isn't working.

See if that shows any pattern. Logically every request should have a
different date/time and pid if MaxRequestsPerChild is set to 1.

Graham

From mike at subfocal.net  Mon Mar 30 02:29:52 2009
From: mike at subfocal.net (Mike Mueller)
Date: Mon Mar 30 02:30:01 2009
Subject: [mod_python] Reloading PSP sometimes shows old pages
In-Reply-To: <88e286470903292309n660f1e05m85d72ca9bedede5@mail.gmail.com>
References: <20090330052426.GK24998@samus.subfocal.net>
	<88e286470903292231u8ecc566sd7b70cc9bab386c1@mail.gmail.com>
	<20090330054109.GL24998@samus.subfocal.net>
	<88e286470903292247rb81e0dbrcfd6e0334448a8f5@mail.gmail.com>
	<20090330060156.GM24998@samus.subfocal.net>
	<88e286470903292309n660f1e05m85d72ca9bedede5@mail.gmail.com>
Message-ID: <20090330062952.GN24998@samus.subfocal.net>

On Mon, Mar 30, 2009 at 05:09:08PM +1100, Graham Dumpleton wrote:
> 2009/3/30 Mike Mueller <mike@subfocal.net>:
> > The URL has no query string, it's just http://host:81/~mike/test/page.psp.
> > No POST parameters or anything, a very simple page.
> >
> > No proxy. ?Browser is on the same host as Apache. ?As I said in the
> > first email, no caching in Apache, as far as I can tell. ?(I grepped
> > around the config files looking for any caching that might've been
> > enabled by default, and came up empty.)
> >
> > The more I play with it, the more I think it may just be Firefox that
> > sucks. ?The bouncing-between-versions only happens in it. ?I thought
> > Opera had it because the first time I loaded my page in Opera, I got an
> > old version (several versions prior) of the page. ?That was before
> > changing MaxRequestsPerChild. ?But I haven't seen that in Opera since.
> >
> > Opera's only problem is that reload doesn't always update to latest...
> > sometimes I have to navigate away and come back, or it'll keep showing
> > me the version it has loaded. ?(I've tried various combos of shift,
> > ctrl+shift, etc. while clicking reload).
> >
> > Also, after a certain length of time (a minute or two?), both browsers
> > simply load the latest version, with no weird old versions appearing.
> >
> > This is frustrating.
> 
> All I can suggest is that log using req.log_error() from the PSP page
> and include in the response of the page, both the date/time and the
> process ID.
> 
> Logging will help to verify if page actually being processed. It being
> in the page should make it easier to verify that data is actually
> changing or not. If that part of data changes but remainder of page
> doesn't then would have to be a caching issue with mod_python and
> MaxRequestsPerChild isn't working.
> 
> See if that shows any pattern. Logically every request should have a
> different date/time and pid if MaxRequestsPerChild is set to 1.
> 
> Graham

Thanks for all the help.  I'm still confused. :)

I printed the request time, the mtime, and the PID on every page.  The
result looks like this:

Request time: Mon Mar 30 00:00:00 2009
Modify time:  Wed Dec 31 00:00:00 1969
PID:          6379

That's req.request_time and req.mtime passed through datetime's ctime()
function.  (i.e. datetime.date.fromtimestamp(req.mtime).ctime()). I'm
not sure if it indicates a problem, or if the request object simply
doesn't bother filling in the times correctly.

For example, the PSP documentation says:
> When a file is used as the source, the code object resulting from the
> specified file is stored in a memory cache keyed on file name and file
> modification time. The cache is global to the Python interpreter.
> Therefore, unless the file modification time changes, the file is
> parsed and resulting code is compiled only once per interpreter. 

Is it possible that this incorrect mtime is affecting PSP's internal
page caching algorithm?

By the way, the resulting behavior after this change is:
F5 F5 F5 -> keeps showing the same PID.  Hit F5 thirty times and the PID
jumps up a couple times, 6379, 6388, 6401, and then stays at 6401 for a
while.  If I go 'touch' the common.psp source file, it doesn't seem to
cause Firefox or Opera to see a new page.  They keep seeing the old one
for some arbitrary period of time.

-- 
Mike Mueller
mike@subfocal.net
From graham.dumpleton at gmail.com  Mon Mar 30 02:39:55 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Mon Mar 30 02:40:04 2009
Subject: [mod_python] Reloading PSP sometimes shows old pages
In-Reply-To: <20090330062952.GN24998@samus.subfocal.net>
References: <20090330052426.GK24998@samus.subfocal.net>
	<88e286470903292231u8ecc566sd7b70cc9bab386c1@mail.gmail.com>
	<20090330054109.GL24998@samus.subfocal.net>
	<88e286470903292247rb81e0dbrcfd6e0334448a8f5@mail.gmail.com>
	<20090330060156.GM24998@samus.subfocal.net>
	<88e286470903292309n660f1e05m85d72ca9bedede5@mail.gmail.com>
	<20090330062952.GN24998@samus.subfocal.net>
Message-ID: <88e286470903292339q1a72a6bdq2851a02046d5bb88@mail.gmail.com>

2009/3/30 Mike Mueller <mike@subfocal.net>:
> On Mon, Mar 30, 2009 at 05:09:08PM +1100, Graham Dumpleton wrote:
>> 2009/3/30 Mike Mueller <mike@subfocal.net>:
>> > The URL has no query string, it's just http://host:81/~mike/test/page.psp.
>> > No POST parameters or anything, a very simple page.
>> >
>> > No proxy. ?Browser is on the same host as Apache. ?As I said in the
>> > first email, no caching in Apache, as far as I can tell. ?(I grepped
>> > around the config files looking for any caching that might've been
>> > enabled by default, and came up empty.)
>> >
>> > The more I play with it, the more I think it may just be Firefox that
>> > sucks. ?The bouncing-between-versions only happens in it. ?I thought
>> > Opera had it because the first time I loaded my page in Opera, I got an
>> > old version (several versions prior) of the page. ?That was before
>> > changing MaxRequestsPerChild. ?But I haven't seen that in Opera since.
>> >
>> > Opera's only problem is that reload doesn't always update to latest...
>> > sometimes I have to navigate away and come back, or it'll keep showing
>> > me the version it has loaded. ?(I've tried various combos of shift,
>> > ctrl+shift, etc. while clicking reload).
>> >
>> > Also, after a certain length of time (a minute or two?), both browsers
>> > simply load the latest version, with no weird old versions appearing.
>> >
>> > This is frustrating.
>>
>> All I can suggest is that log using req.log_error() from the PSP page
>> and include in the response of the page, both the date/time and the
>> process ID.
>>
>> Logging will help to verify if page actually being processed. It being
>> in the page should make it easier to verify that data is actually
>> changing or not. If that part of data changes but remainder of page
>> doesn't then would have to be a caching issue with mod_python and
>> MaxRequestsPerChild isn't working.
>>
>> See if that shows any pattern. Logically every request should have a
>> different date/time and pid if MaxRequestsPerChild is set to 1.
>>
>> Graham
>
> Thanks for all the help. ?I'm still confused. :)
>
> I printed the request time, the mtime, and the PID on every page. ?The
> result looks like this:
>
> Request time: Mon Mar 30 00:00:00 2009
> Modify time: ?Wed Dec 31 00:00:00 1969
> PID: ? ? ? ? ?6379
>
> That's req.request_time and req.mtime passed through datetime's ctime()
> function. ?(i.e. datetime.date.fromtimestamp(req.mtime).ctime()). I'm
> not sure if it indicates a problem, or if the request object simply
> doesn't bother filling in the times correctly.

There isn't such a thing as req.request_time.

The req.mtime value will not be anything meaningful for PSP stuff
under mod_python.

Use time.asctime().

> For example, the PSP documentation says:
>> When a file is used as the source, the code object resulting from the
>> specified file is stored in a memory cache keyed on file name and file
>> modification time. The cache is global to the Python interpreter.
>> Therefore, unless the file modification time changes, the file is
>> parsed and resulting code is compiled only once per interpreter.
>
> Is it possible that this incorrect mtime is affecting PSP's internal
> page caching algorithm?

No, doesn't look at it. It does it own call of os.path.getmtime().

> By the way, the resulting behavior after this change is:
> F5 F5 F5 -> keeps showing the same PID. ?Hit F5 thirty times and the PID
> jumps up a couple times, 6379, 6388, 6401, and then stays at 6401 for a
> while. ?If I go 'touch' the common.psp source file, it doesn't seem to
> cause Firefox or Opera to see a new page. ?They keep seeing the old one
> for some arbitrary period of time.

But did you add logging for Apache error log to see if each page hit
actually resulted in mod_python even handling the request. At the same
time, look at Apache access log to see if any request registered
there.

Graham

From mike at subfocal.net  Mon Mar 30 02:41:00 2009
From: mike at subfocal.net (Mike Mueller)
Date: Mon Mar 30 02:41:08 2009
Subject: [mod_python] Reloading PSP sometimes shows old pages
In-Reply-To: <20090330062952.GN24998@samus.subfocal.net>
References: <20090330052426.GK24998@samus.subfocal.net>
	<88e286470903292231u8ecc566sd7b70cc9bab386c1@mail.gmail.com>
	<20090330054109.GL24998@samus.subfocal.net>
	<88e286470903292247rb81e0dbrcfd6e0334448a8f5@mail.gmail.com>
	<20090330060156.GM24998@samus.subfocal.net>
	<88e286470903292309n660f1e05m85d72ca9bedede5@mail.gmail.com>
	<20090330062952.GN24998@samus.subfocal.net>
Message-ID: <20090330064100.GO24998@samus.subfocal.net>

On Mon, Mar 30, 2009 at 02:29:52AM -0400, Mike Mueller wrote:
> On Mon, Mar 30, 2009 at 05:09:08PM +1100, Graham Dumpleton wrote:
> > 2009/3/30 Mike Mueller <mike@subfocal.net>:
> > > The URL has no query string, it's just http://host:81/~mike/test/page.psp.
> > > No POST parameters or anything, a very simple page.
> > >
> > > No proxy. ?Browser is on the same host as Apache. ?As I said in the
> > > first email, no caching in Apache, as far as I can tell. ?(I grepped
> > > around the config files looking for any caching that might've been
> > > enabled by default, and came up empty.)
> > >
> > > The more I play with it, the more I think it may just be Firefox that
> > > sucks. ?The bouncing-between-versions only happens in it. ?I thought
> > > Opera had it because the first time I loaded my page in Opera, I got an
> > > old version (several versions prior) of the page. ?That was before
> > > changing MaxRequestsPerChild. ?But I haven't seen that in Opera since.
> > >
> > > Opera's only problem is that reload doesn't always update to latest...
> > > sometimes I have to navigate away and come back, or it'll keep showing
> > > me the version it has loaded. ?(I've tried various combos of shift,
> > > ctrl+shift, etc. while clicking reload).
> > >
> > > Also, after a certain length of time (a minute or two?), both browsers
> > > simply load the latest version, with no weird old versions appearing.
> > >
> > > This is frustrating.
> > 
> > All I can suggest is that log using req.log_error() from the PSP page
> > and include in the response of the page, both the date/time and the
> > process ID.
> > 
> > Logging will help to verify if page actually being processed. It being
> > in the page should make it easier to verify that data is actually
> > changing or not. If that part of data changes but remainder of page
> > doesn't then would have to be a caching issue with mod_python and
> > MaxRequestsPerChild isn't working.
> > 
> > See if that shows any pattern. Logically every request should have a
> > different date/time and pid if MaxRequestsPerChild is set to 1.
> > 
> > Graham
> 
> Thanks for all the help.  I'm still confused. :)
> 
> I printed the request time, the mtime, and the PID on every page.  The
> result looks like this:
> 
> Request time: Mon Mar 30 00:00:00 2009
> Modify time:  Wed Dec 31 00:00:00 1969
> PID:          6379
> 
> That's req.request_time and req.mtime passed through datetime's ctime()
> function.  (i.e. datetime.date.fromtimestamp(req.mtime).ctime()). I'm
> not sure if it indicates a problem, or if the request object simply
> doesn't bother filling in the times correctly.
> 
> For example, the PSP documentation says:
> > When a file is used as the source, the code object resulting from the
> > specified file is stored in a memory cache keyed on file name and file
> > modification time. The cache is global to the Python interpreter.
> > Therefore, unless the file modification time changes, the file is
> > parsed and resulting code is compiled only once per interpreter. 
> 
> Is it possible that this incorrect mtime is affecting PSP's internal
> page caching algorithm?
> 
> By the way, the resulting behavior after this change is:
> F5 F5 F5 -> keeps showing the same PID.  Hit F5 thirty times and the PID
> jumps up a couple times, 6379, 6388, 6401, and then stays at 6401 for a
> while.  If I go 'touch' the common.psp source file, it doesn't seem to
> cause Firefox or Opera to see a new page.  They keep seeing the old one
> for some arbitrary period of time.

Oops, I should've used a datetime object in the above snippet, not a
date object.  Now it looks like this:

Request time: Mon Mar 30 02:38:45 2009
Modify time:  Wed Dec 31 19:00:00 1969
PID:          6403

Also, interestingly, the request time keeps ticking up, second by
second, while showing the same PID.  Every request appears to be
generated by the server, and is NOT a result of browser caching.  At
least I've figured _something_ out here... :) 

-- 
Mike Mueller
mike@subfocal.net
From clodoaldo.pinto.neto at gmail.com  Mon Mar 30 09:23:25 2009
From: clodoaldo.pinto.neto at gmail.com (Clodoaldo Pinto Neto)
Date: Mon Mar 30 09:23:34 2009
Subject: [mod_python] mod_python session/form based user authentication
In-Reply-To: <88e286470903292016p14a335daxc3c55c006e11f051@mail.gmail.com>
References: <e9fd6bd0903290417n6bd432b2m678e3768188b8800@mail.gmail.com>
	<88e286470903291523h31169aebi5230cc2632f14a7@mail.gmail.com>
	<e9fd6bd0903291843r7822d84fmbec0a93ce9a3480d@mail.gmail.com>
	<88e286470903292016p14a335daxc3c55c006e11f051@mail.gmail.com>
Message-ID: <a595de7a0903300623t21d39f9ch4eaa8bf7006d261b@mail.gmail.com>

2009/3/30 Graham Dumpleton <graham.dumpleton@gmail.com>:
> 2009/3/30 bruce bushby <bruce.bushby@googlemail.com>:
>> Hi Graeme
>>
>> Thanks for the feedback. The issue I've been stuck with ( for 3 months now)
>> is how to prevent the "browser pop-up"? user/password dialog box.
>> I've tried so many combinations, but every time I have "AuthType
>> Basic/Require valid-user" set, the browser pops up the login dialog box but
>> I want
>> "html form login/authentication"
>
> Try setting:
>
> ?AuthBasicAuthoritative Off
>
> in Apache configuration.
>
> But then, if you aren't setting AuthType to be Basic, this shouldn't
> be an issue.
>
>> req.user = "nobody" was set as a place holder because without it I get:
>> ? [ req->user is NULL. Assign something to req.user if returning OK to avoid
>> this error ]
>
> Even as a place holder, didn't need to be set in all cases and could
> cause an issue if there were multiple authentication handlers being
> executed.
>
>> I've just tried the following:
>> AuthType session
>> AuthName "members"
>> Require valid-session
>
> The Require isn't much point if you haven't written an authorization
> handler that understands valid-session.
>
>> ...and it works......but only if I "set req.user = nobody" as a temp place
>> holder...or I get the req->user is NULL error
>>
>>
>> I'll admit I don't have a clue....I got this far by trial and error, which
>> is not very efficient.....I'm waiting for your book ...hint hint :))
>
> I will not be writing a book on mod_python. IMHO mod_python is dying
> and the quicker people stop using it and shift to WSGI based Python
> web applications the better.
>
> The only problem in saying that is the alternatives don't support

I think there is one more problem in saying that. The number of people
insisting in using mod_python shows that there is a place for
something simple like the publisher handler. Even so long time after
the alternatives have been available and so long time after the
alternatives advocates have been saying they are much better still
many of the beginners don't embrace them. And tool kits like Werkzeug
are not those beginners expected answer. The tendency of the
frameworks authors trying to get them as complex as possible also do
not help.

Developers (the good ones) love simplicity. My mod_python/CGI tutorial
is still growing in visits and CGI is still the visits champion! Not
saying mod_python should be kept alive, just that there is a clearly
delimited space for something like the publisher and trying to steer
the simplicity seekers out of that is not really productive. I'm
afraid they will just feel like there is no point in going with
python.

Regards, Clodoaldo

> writing Apache input/output filters nor custom session based
> authetication/authorisation schemes that cover multiple applications.
> The latter though will be supported in Apache 2.4 though through
> mod_session, so no need to be fiddling within using mod_python at that
> point. You could also right now just use:
>
> ?http://www.openfusion.com.au/labs/mod_auth_tkt/
>
>> Is there a secret to prevent the "browser password pop-up box" and redirect
>> to a html login page? I've spent 3 months
>> googling and can't find a simple example.
>
> For a working form/session based authentication handler, that is that
> I presume it still works, see:
>
> ?http://www.modpython.org/pipermail/mod_python/2006-May/021172.html
>
> The correct attachment address is:
>
> ?http://www.modpython.org/pipermail/mod_python/attachments/20060520/813620d0/sessionmanager.tar.gz
>
> See the .htaccess file as to how it all ties together. The _session.py
> file is also extensively documented.
>
> Graham
>
>>
>> Thanks again
>> Bruce
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>> On Sun, Mar 29, 2009 at 11:23 PM, Graham Dumpleton
>> <graham.dumpleton@gmail.com> wrote:
>>>
>>> 2009/3/29 bruce bushby <bruce.bushby@googlemail.com>:
>>> > Hi
>>> >
>>> > I've been struggling to implement form based user authentication for
>>> > some
>>> > time now so I'm posting my progress in the hope that
>>> > more experienced members will comment and any new starters will save
>>> > themselves some time.
>>> >
>>> > A big thanks to John Calixto for getting back to me and suggesting
>>> > "AuthType
>>> > wgtiauth" and "Require wgti-user"
>>> >
>>> >
>>> > The example works as follows:
>>> > - Attempt to access the protected area gets intercepted by
>>> > authenhandler, if
>>> > not authorized redirect to login, if login successful, continue to
>>> > original
>>> > url.
>>> >
>>> > ...
>>> >
>>> > def authenhandler(req):
>>> > ??????? req.user = "nobody"
>>> > ??????? req.session = Session.DbmSession(req)
>>> >
>>> > ??????? if req.session.is_new():
>>> > ??????????????? req.session['referer'] = "http://mysite" +
>>> > req.unparsed_uri
>>> > ??????????????? req.session.save()
>>> > ??????????????? util.redirect(req,"http://mysite/login")
>>> >
>>> > ??????? if req.session.has_key('authstatus') and
>>> > req.session['authstatus']
>>> > == "authenticated":
>>> > ??????????????? return apache.OK
>>> >
>>> > ??????? return apache.HTTP_UNAUTHORIZED
>>>
>>> Technically this is incorrect/incomplete.
>>>
>>> 1. An authentication handler should be checking whether it is the
>>> handler that should run for the AuthType used. Thus should have the
>>> following check as first thing done:
>>>
>>> ?if req.auth_type() != 'wgtiauth':
>>> ? ?return apache.DECLINED
>>>
>>> 2. If the authentication handler successfully authenticated user, only
>>> then should it be setting req.user. It should not be doing it all the
>>> time even if authentication failed. It is not technically a good idea
>>> to be setting it to 'nobody' and it should really be the actual user
>>> name. That way you can then use other Apache directives such as
>>> 'Require user'.
>>>
>>> 3. If the authentication handler was successful, it should be setting
>>> req.ap_auth_type to be the authentication type.
>>>
>>> ?req.ap_auth_type = req.auth_type()
>>>
>>> > def authzhandler(req):
>>> > ??????? if req.user:
>>> > ??????????????? return apache.OK
>>> >
>>> > ??????? return apache.HTTP_UNAUTHORIZED
>>>
>>> Your whole authorisation handler is not needed, so get rid of:
>>>
>>> ? ? ? ? ? ? ? ?Require wgti-user
>>> ? ? ? ? ? ? ? ?PythonAuthzHandler authsession
>>>
>>> and replace it with:
>>>
>>> ? ? ? ? ? ? ? ?Require valid-user
>>>
>>> As I said before though, you should only be setting req.user if user
>>> authenticated properly.
>>>
>>> Graham
>>
>>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>

From bruce.bushby at googlemail.com  Mon Mar 30 11:06:32 2009
From: bruce.bushby at googlemail.com (bruce bushby)
Date: Mon Mar 30 11:06:42 2009
Subject: [mod_python] mod_python session/form based user authentication
In-Reply-To: <a595de7a0903300623t21d39f9ch4eaa8bf7006d261b@mail.gmail.com>
References: <e9fd6bd0903290417n6bd432b2m678e3768188b8800@mail.gmail.com>
	<88e286470903291523h31169aebi5230cc2632f14a7@mail.gmail.com>
	<e9fd6bd0903291843r7822d84fmbec0a93ce9a3480d@mail.gmail.com>
	<88e286470903292016p14a335daxc3c55c006e11f051@mail.gmail.com>
	<a595de7a0903300623t21d39f9ch4eaa8bf7006d261b@mail.gmail.com>
Message-ID: <e9fd6bd0903300806j2d6c2c5fudf632b514d2aacf8@mail.gmail.com>

I'm a complete novice but from what I've seen I really enjoy mod_python,
mostly because I'm hacking about at home, hosting
on my broadband and don't need anything more then the most simple solution
possible.

However, if I were tasked with developing a large commercial web app in
python, I would adopt mod_wsgi, so to me I see both modules having a long
life. I'd go so far as to say that the python language and the wsgi spec
need mod_python. I'm surprised there was a need for "PEP 333"
when there appears to be very little interest in mod_python. I say very
little interest because when compared to php, mod_python uptake is
neglegable
which surprises me because php as a language can hardly compare to python.





On Mon, Mar 30, 2009 at 2:23 PM, Clodoaldo Pinto Neto <
clodoaldo.pinto.neto@gmail.com> wrote:

> 2009/3/30 Graham Dumpleton <graham.dumpleton@gmail.com>:
> > 2009/3/30 bruce bushby <bruce.bushby@googlemail.com>:
> >> Hi Graeme
> >>
> >> Thanks for the feedback. The issue I've been stuck with ( for 3 months
> now)
> >> is how to prevent the "browser pop-up"  user/password dialog box.
> >> I've tried so many combinations, but every time I have "AuthType
> >> Basic/Require valid-user" set, the browser pops up the login dialog box
> but
> >> I want
> >> "html form login/authentication"
> >
> > Try setting:
> >
> >  AuthBasicAuthoritative Off
> >
> > in Apache configuration.
> >
> > But then, if you aren't setting AuthType to be Basic, this shouldn't
> > be an issue.
> >
> >> req.user = "nobody" was set as a place holder because without it I get:
> >>   [ req->user is NULL. Assign something to req.user if returning OK to
> avoid
> >> this error ]
> >
> > Even as a place holder, didn't need to be set in all cases and could
> > cause an issue if there were multiple authentication handlers being
> > executed.
> >
> >> I've just tried the following:
> >> AuthType session
> >> AuthName "members"
> >> Require valid-session
> >
> > The Require isn't much point if you haven't written an authorization
> > handler that understands valid-session.
> >
> >> ...and it works......but only if I "set req.user = nobody" as a temp
> place
> >> holder...or I get the req->user is NULL error
> >>
> >>
> >> I'll admit I don't have a clue....I got this far by trial and error,
> which
> >> is not very efficient.....I'm waiting for your book ...hint hint :))
> >
> > I will not be writing a book on mod_python. IMHO mod_python is dying
> > and the quicker people stop using it and shift to WSGI based Python
> > web applications the better.
> >
> > The only problem in saying that is the alternatives don't support
>
> I think there is one more problem in saying that. The number of people
> insisting in using mod_python shows that there is a place for
> something simple like the publisher handler. Even so long time after
> the alternatives have been available and so long time after the
> alternatives advocates have been saying they are much better still
> many of the beginners don't embrace them. And tool kits like Werkzeug
> are not those beginners expected answer. The tendency of the
> frameworks authors trying to get them as complex as possible also do
> not help.
>
> Developers (the good ones) love simplicity. My mod_python/CGI tutorial
> is still growing in visits and CGI is still the visits champion! Not
> saying mod_python should be kept alive, just that there is a clearly
> delimited space for something like the publisher and trying to steer
> the simplicity seekers out of that is not really productive. I'm
> afraid they will just feel like there is no point in going with
> python.
>
> Regards, Clodoaldo
>
> > writing Apache input/output filters nor custom session based
> > authetication/authorisation schemes that cover multiple applications.
> > The latter though will be supported in Apache 2.4 though through
> > mod_session, so no need to be fiddling within using mod_python at that
> > point. You could also right now just use:
> >
> >  http://www.openfusion.com.au/labs/mod_auth_tkt/
> >
> >> Is there a secret to prevent the "browser password pop-up box" and
> redirect
> >> to a html login page? I've spent 3 months
> >> googling and can't find a simple example.
> >
> > For a working form/session based authentication handler, that is that
> > I presume it still works, see:
> >
> >  http://www.modpython.org/pipermail/mod_python/2006-May/021172.html
> >
> > The correct attachment address is:
> >
> >
> http://www.modpython.org/pipermail/mod_python/attachments/20060520/813620d0/sessionmanager.tar.gz
> >
> > See the .htaccess file as to how it all ties together. The _session.py
> > file is also extensively documented.
> >
> > Graham
> >
> >>
> >> Thanks again
> >> Bruce
> >>
> >>
> >>
> >>
> >>
> >>
> >>
> >>
> >>
> >>
> >>
> >>
> >>
> >> On Sun, Mar 29, 2009 at 11:23 PM, Graham Dumpleton
> >> <graham.dumpleton@gmail.com> wrote:
> >>>
> >>> 2009/3/29 bruce bushby <bruce.bushby@googlemail.com>:
> >>> > Hi
> >>> >
> >>> > I've been struggling to implement form based user authentication for
> >>> > some
> >>> > time now so I'm posting my progress in the hope that
> >>> > more experienced members will comment and any new starters will save
> >>> > themselves some time.
> >>> >
> >>> > A big thanks to John Calixto for getting back to me and suggesting
> >>> > "AuthType
> >>> > wgtiauth" and "Require wgti-user"
> >>> >
> >>> >
> >>> > The example works as follows:
> >>> > - Attempt to access the protected area gets intercepted by
> >>> > authenhandler, if
> >>> > not authorized redirect to login, if login successful, continue to
> >>> > original
> >>> > url.
> >>> >
> >>> > ...
> >>> >
> >>> > def authenhandler(req):
> >>> >         req.user = "nobody"
> >>> >         req.session = Session.DbmSession(req)
> >>> >
> >>> >         if req.session.is_new():
> >>> >                 req.session['referer'] = "http://mysite" +
> >>> > req.unparsed_uri
> >>> >                 req.session.save()
> >>> >                 util.redirect(req,"http://mysite/login")
> >>> >
> >>> >         if req.session.has_key('authstatus') and
> >>> > req.session['authstatus']
> >>> > == "authenticated":
> >>> >                 return apache.OK
> >>> >
> >>> >         return apache.HTTP_UNAUTHORIZED
> >>>
> >>> Technically this is incorrect/incomplete.
> >>>
> >>> 1. An authentication handler should be checking whether it is the
> >>> handler that should run for the AuthType used. Thus should have the
> >>> following check as first thing done:
> >>>
> >>>  if req.auth_type() != 'wgtiauth':
> >>>    return apache.DECLINED
> >>>
> >>> 2. If the authentication handler successfully authenticated user, only
> >>> then should it be setting req.user. It should not be doing it all the
> >>> time even if authentication failed. It is not technically a good idea
> >>> to be setting it to 'nobody' and it should really be the actual user
> >>> name. That way you can then use other Apache directives such as
> >>> 'Require user'.
> >>>
> >>> 3. If the authentication handler was successful, it should be setting
> >>> req.ap_auth_type to be the authentication type.
> >>>
> >>>  req.ap_auth_type = req.auth_type()
> >>>
> >>> > def authzhandler(req):
> >>> >         if req.user:
> >>> >                 return apache.OK
> >>> >
> >>> >         return apache.HTTP_UNAUTHORIZED
> >>>
> >>> Your whole authorisation handler is not needed, so get rid of:
> >>>
> >>>                Require wgti-user
> >>>                PythonAuthzHandler authsession
> >>>
> >>> and replace it with:
> >>>
> >>>                Require valid-user
> >>>
> >>> As I said before though, you should only be setting req.user if user
> >>> authenticated properly.
> >>>
> >>> Graham
> >>
> >>
> >
> > _______________________________________________
> > Mod_python mailing list
> > Mod_python@modpython.org
> > http://mailman.modpython.org/mailman/listinfo/mod_python
> >
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090330/d448c0ed/attachment.html
From graham.dumpleton at gmail.com  Mon Mar 30 18:52:50 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Mon Mar 30 18:52:52 2009
Subject: [mod_python] Re: Future of mod_python.
Message-ID: <88e286470903301552r4283bba7y7d8be9fcf2769ae@mail.gmail.com>

2009/3/30 Graham Dumpleton <graham.dumpleton@gmail.com>:
> I will not be writing a book on mod_python. IMHO mod_python is dying
> and the quicker people stop using it and shift to WSGI based Python
> web applications the better.

Let me add a few thoughts to this.

Yes mod_python provides a simple option in the form of publisher and
being in one package means a low barrier to getting something going,
unlike other options where various dependencies need to be installed.
Even if you were to write a publisher equivalent on top of something
like webob or Werkzeug, you are still going to face the problem of
having to install the dependencies it requires as well as a means to
host it. This is one of the things that many people dislike about
other frameworks or toolkits, although Django has a reasonable balance
and tries to be self contained as possible. So I can understand where
people are coming from in preferring mod_python in this respect.

If you stay with mod_python though, there are huge uncertainties as to
whether it can be easily or sensible be ported to Python 3.0 without
making porting applications to it from Python 2.X quite a lot of work
and possibly not worth the effort. So, use mod_python and you may have
to accept that you would never be able to use Python 3.0. This is one
aspect of why it might be said that mod_python is dying.

The bigger problem though is that there are no current active
developers working on mod_python. Me answering questions does not
constitute an active developer. Already the latest tarballs for
mod_python will not compile on the most up to date Apache and APR
libraries, nor build/run properly on MacOS X Leopard with Apple's
version of Apache. The changes are in the subversion repository, but
don't even have enough active developers to satisfy Apache rules
regarding voting on releases.

So, mod_python may still through its ownership of the name that ties
Python to Apache appear to be a logical choice for most people and so
may for some things still be seeing increasing use, the developer
community side of things has basically gone.

As I have said before, I may well be in part to blame for no interest
on the development side. That is, because I answer questions on the
user list still, people see things as all going fine and think that
there are people looking after the development side when there isn't.
Thus I raise my conjecture that maybe what might be best for
mod_python is for me to unsubscribe from this list. That way it will
give others the chance to step up and start helping and grow
sufficient knowledge themselves that they could take over development
of mod_python if they were interested enough. In unsubscribing from
user list, I would still stay on the developer list, but only so that
at some point a transition could occur to anyone who steps up and says
they are interested in taking over.

Graham
From rahul.warhekar at edisphere.com  Mon Mar 30 23:55:18 2009
From: rahul.warhekar at edisphere.com (rahul)
Date: Mon Mar 30 23:57:40 2009
Subject: [mod_python] Getting error as The system cannot find the file
	specified
In-Reply-To: <88e286470903292303j506ba5f1ha41b017e29b6d4e2@mail.gmail.com>
Message-ID: <20090331035742.CFAA56A45B5@server1.edisphere.com>

Hi graham,

I have done what you suggested but was not successful.
My code in index.psp is 


<%
import os
from mod_python import Session
from mod_python import util
from mod_python import psp
_REQUEST = util.FieldStorage(req)
view = "reports"
user =''
session.load()

if view=='reports':
	
util.redirect(req,"modules/reports/index.psp?hidval=f&showcnt=25&user=%s"%se
ssion['user'])
else:
	req.write("Invalid User")

%>

And full error message is 

Mod_python Error: mod python stuff
And in last it gives 

File C:/wamp/www/edi/modules/reports/index.psp
WindowsError [Errno2]: The system cannot find the file specified.


According to me it seems that my mod_python code is not getting executed or
either it is not registered.

Any suggestion on this will be greatly appreciated.

Thanks,

Rahul


-----Original Message-----
From: Graham Dumpleton [mailto:graham.dumpleton@gmail.com] 
Sent: Monday, March 30, 2009 11:33 AM
To: rahul.warhekar@edisphere.com
Cc: Tim Valenta; mod_python@modpython.org
Subject: Re: [mod_python] Getting error as The system cannot find the file
specified

2009/3/30  <rahul.warhekar@edisphere.com>:
> ok, sorry for that,
>
> I am using util.redirect(req,"/edi/modules/index.psp")

Technically the second argument, as I said before, must be a full URI,
including 'http://host'. Supplying a path only as you have may or may
not work depending on the browser.

For starters, therefore change it to:

  util.redirect(req,req.construct_url("/edi/modules/index.psp"))

and see if that works.

And that you are using a virtual machine is likely got nothing to do with
it.

Graham

> my document root dir is c:\wamp\www
>
> Thanks
> Rahul
>
>> You did not answer my question.
>>
>> What is your code passing as the second argument to:
>>
>> ? util.redirect
>>
>> function call?
>>
>> I cannot help if you do not answer the question. You are already
>> stressing the abilities of the crystal ball as it is by not supplying
>> enough actual useful information.
>>
>> Graham
>>
>> 2009/3/30 ?<rahul.warhekar@edisphere.com>:
>>> hello all
>>>
>>> I am using virtual machine. On it we are having wamp server 2.6 running.
>>>
>>> any suggestion for this situation.
>>>
>>> Any help will be greatly appreciated.
>>>
>>> Thanks
>>> rahul
>>>
>>>
>>>
>>>> What is "path to file"?
>>>>
>>>> It must be a properly formed URI, ie., 'http://host/.....'. You should
>>>> not be just supplying a local URL without the 'http://host' bit.
>>>>
>>>> Graham
>>>>
>>>> 2009/3/30 rahul <rahul.warhekar@edisphere.com>:
>>>>> No I get error while using util.redirect(req,?path to file?)
>>>>>
>>>>>
>>>>>
>>>>> Regards
>>>>>
>>>>> rahul
>>>>>
>>>>>
>>>>>
>>>>> ________________________________
>>>>>
>>>>> From: Tim Valenta [mailto:tonightslastsong@gmail.com]
>>>>> Sent: Saturday, March 28, 2009 12:08 AM
>>>>> To: rahul
>>>>> Cc: Graham Dumpleton; mod_python@modpython.org
>>>>> Subject: Re: [mod_python] Getting error as The system cannot find the
>>>>> file
>>>>> specified
>>>>>
>>>>>
>>>>>
>>>>> When do you get the error? ?When you start Apache?
>>>>>
>>>>>
>>>>>
>>>>> Tim
>>>>>
>>>>> On Fri, Mar 27, 2009 at 6:25 AM, rahul <rahul.warhekar@edisphere.com>
>>>>> wrote:
>>>>>
>>>>> Hello all,
>>>>>
>>>>> I am using my mod_python for my web application.
>>>>>
>>>>> And I am getting "WindowsError: [Errno 2] The system cannot find the
>>>>> file
>>>>> specified" error.
>>>>>
>>>>> Any quick help reg this will be greatly appreciated and this is really
>>>>> urgent.
>>>>>
>>>>> Thanks in advance.
>>>>>
>>>>> Rahul
>>>>>
>>>>> _______________________________________________
>>>>> Mod_python mailing list
>>>>> Mod_python@modpython.org
>>>>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>>>>
>>>>>
>>>>> --
>>>>> "Python is the unholy bastard step-child between Ruby and PHP."
>>>>> "I'd let an ipod blow up on my leg for $150,000."
>>>>> "but Ben and Jerry do make a lovely couple."
>>>>
>>>
>>>
>>>
>>
>
>
>


From graham.dumpleton at gmail.com  Tue Mar 31 00:21:09 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Tue Mar 31 00:21:16 2009
Subject: [mod_python] Getting error as The system cannot find the file 
	specified
In-Reply-To: <20090331035742.CFAA56A45B5@server1.edisphere.com>
References: <88e286470903292303j506ba5f1ha41b017e29b6d4e2@mail.gmail.com>
	<20090331035742.CFAA56A45B5@server1.edisphere.com>
Message-ID: <88e286470903302121g397be4ebgbd229454e3cbaae5@mail.gmail.com>

2009/3/31 rahul <rahul.warhekar@edisphere.com>:
> Hi graham,
>
> I have done what you suggested but was not successful.
> My code in index.psp is
>
>
> <%
> import os
> from mod_python import Session
> from mod_python import util
> from mod_python import psp
> _REQUEST = util.FieldStorage(req)
> view = "reports"
> user =''
> session.load()
>
> if view=='reports':
>
> util.redirect(req,"modules/reports/index.psp?hidval=f&showcnt=25&user=%s"%se
> ssion['user'])

This isn't what I told you to use.

Having a path that doesn't start with a '/' will not ever work either.

> else:
> ? ? ? ?req.write("Invalid User")
>
> %>
>
> And full error message is

That is not the full message.

Post the complete Python traceback giving lines numbers, files etc.

Graham

> Mod_python Error: mod python stuff
> And in last it gives
>
> File C:/wamp/www/edi/modules/reports/index.psp
> WindowsError [Errno2]: The system cannot find the file specified.
>
>
> According to me it seems that my mod_python code is not getting executed or
> either it is not registered.
>
> Any suggestion on this will be greatly appreciated.
>
> Thanks,
>
> Rahul
>
>
> -----Original Message-----
> From: Graham Dumpleton [mailto:graham.dumpleton@gmail.com]
> Sent: Monday, March 30, 2009 11:33 AM
> To: rahul.warhekar@edisphere.com
> Cc: Tim Valenta; mod_python@modpython.org
> Subject: Re: [mod_python] Getting error as The system cannot find the file
> specified
>
> 2009/3/30 ?<rahul.warhekar@edisphere.com>:
>> ok, sorry for that,
>>
>> I am using util.redirect(req,"/edi/modules/index.psp")
>
> Technically the second argument, as I said before, must be a full URI,
> including 'http://host'. Supplying a path only as you have may or may
> not work depending on the browser.
>
> For starters, therefore change it to:
>
> ?util.redirect(req,req.construct_url("/edi/modules/index.psp"))
>
> and see if that works.
>
> And that you are using a virtual machine is likely got nothing to do with
> it.
>
> Graham
>
>> my document root dir is c:\wamp\www
>>
>> Thanks
>> Rahul
>>
>>> You did not answer my question.
>>>
>>> What is your code passing as the second argument to:
>>>
>>> ? util.redirect
>>>
>>> function call?
>>>
>>> I cannot help if you do not answer the question. You are already
>>> stressing the abilities of the crystal ball as it is by not supplying
>>> enough actual useful information.
>>>
>>> Graham
>>>
>>> 2009/3/30 ?<rahul.warhekar@edisphere.com>:
>>>> hello all
>>>>
>>>> I am using virtual machine. On it we are having wamp server 2.6 running.
>>>>
>>>> any suggestion for this situation.
>>>>
>>>> Any help will be greatly appreciated.
>>>>
>>>> Thanks
>>>> rahul
>>>>
>>>>
>>>>
>>>>> What is "path to file"?
>>>>>
>>>>> It must be a properly formed URI, ie., 'http://host/.....'. You should
>>>>> not be just supplying a local URL without the 'http://host' bit.
>>>>>
>>>>> Graham
>>>>>
>>>>> 2009/3/30 rahul <rahul.warhekar@edisphere.com>:
>>>>>> No I get error while using util.redirect(req,?path to file?)
>>>>>>
>>>>>>
>>>>>>
>>>>>> Regards
>>>>>>
>>>>>> rahul
>>>>>>
>>>>>>
>>>>>>
>>>>>> ________________________________
>>>>>>
>>>>>> From: Tim Valenta [mailto:tonightslastsong@gmail.com]
>>>>>> Sent: Saturday, March 28, 2009 12:08 AM
>>>>>> To: rahul
>>>>>> Cc: Graham Dumpleton; mod_python@modpython.org
>>>>>> Subject: Re: [mod_python] Getting error as The system cannot find the
>>>>>> file
>>>>>> specified
>>>>>>
>>>>>>
>>>>>>
>>>>>> When do you get the error? ?When you start Apache?
>>>>>>
>>>>>>
>>>>>>
>>>>>> Tim
>>>>>>
>>>>>> On Fri, Mar 27, 2009 at 6:25 AM, rahul <rahul.warhekar@edisphere.com>
>>>>>> wrote:
>>>>>>
>>>>>> Hello all,
>>>>>>
>>>>>> I am using my mod_python for my web application.
>>>>>>
>>>>>> And I am getting "WindowsError: [Errno 2] The system cannot find the
>>>>>> file
>>>>>> specified" error.
>>>>>>
>>>>>> Any quick help reg this will be greatly appreciated and this is really
>>>>>> urgent.
>>>>>>
>>>>>> Thanks in advance.
>>>>>>
>>>>>> Rahul
>>>>>>
>>>>>> _______________________________________________
>>>>>> Mod_python mailing list
>>>>>> Mod_python@modpython.org
>>>>>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>>>>>
>>>>>>
>>>>>> --
>>>>>> "Python is the unholy bastard step-child between Ruby and PHP."
>>>>>> "I'd let an ipod blow up on my leg for $150,000."
>>>>>> "but Ben and Jerry do make a lovely couple."
>>>>>
>>>>
>>>>
>>>>
>>>
>>
>>
>>
>
>

From rahul.warhekar at edisphere.com  Tue Mar 31 00:41:13 2009
From: rahul.warhekar at edisphere.com (rahul.warhekar@edisphere.com)
Date: Tue Mar 31 00:41:09 2009
Subject: [mod_python] Getting error as The system cannot find the file  
	specified
In-Reply-To: <88e286470903302121g397be4ebgbd229454e3cbaae5@mail.gmail.com>
References: <88e286470903292303j506ba5f1ha41b017e29b6d4e2@mail.gmail.com>
	<20090331035742.CFAA56A45B5@server1.edisphere.com>
	<88e286470903302121g397be4ebgbd229454e3cbaae5@mail.gmail.com>
Message-ID: <1248.59.90.39.43.1238474473.squirrel@www.edisphere.com>

Traceback is:-

Mod_python error: "PythonHandler mod_python.psp"

File C:/wamp/www/edi/modules/reports/index.psp in line no 43
WindowsError: [Errno 2] The system cannot find the file specified

I have this much traceback only with me. Any idea depending on this.

>> util.redirect(req,"modules/reports/index.psp?hidval=f&showcnt=25&user=%s"%se
>> ssion['user'])

i have made it as

util.redirect(req,"http://localhost/edi/modules/reports/index.psp?hidval=f&showcnt=25&user=%s"%se
ssion['user'])

Still not working

Rahul


> 2009/3/31 rahul <rahul.warhekar@edisphere.com>:
>> Hi graham,
>>
>> I have done what you suggested but was not successful.
>> My code in index.psp is
>>
>>
>> <%
>> import os
>> from mod_python import Session
>> from mod_python import util
>> from mod_python import psp
>> _REQUEST = util.FieldStorage(req)
>> view = "reports"
>> user =''
>> session.load()
>>
>> if view=='reports':
>>
>> util.redirect(req,"modules/reports/index.psp?hidval=f&showcnt=25&user=%s"%se
>> ssion['user'])
>
> This isn't what I told you to use.
>
> Having a path that doesn't start with a '/' will not ever work either.
>
>> else:
>> ? ? ? ?req.write("Invalid User")
>>
>> %>
>>
>> And full error message is
>
> That is not the full message.
>
> Post the complete Python traceback giving lines numbers, files etc.
>
> Graham
>
>> Mod_python Error: mod python stuff
>> And in last it gives
>>
>> File C:/wamp/www/edi/modules/reports/index.psp
>> WindowsError [Errno2]: The system cannot find the file specified.
>>
>>
>> According to me it seems that my mod_python code is not getting executed
>> or
>> either it is not registered.
>>
>> Any suggestion on this will be greatly appreciated.
>>
>> Thanks,
>>
>> Rahul
>>
>>
>> -----Original Message-----
>> From: Graham Dumpleton [mailto:graham.dumpleton@gmail.com]
>> Sent: Monday, March 30, 2009 11:33 AM
>> To: rahul.warhekar@edisphere.com
>> Cc: Tim Valenta; mod_python@modpython.org
>> Subject: Re: [mod_python] Getting error as The system cannot find the
>> file
>> specified
>>
>> 2009/3/30 ?<rahul.warhekar@edisphere.com>:
>>> ok, sorry for that,
>>>
>>> I am using util.redirect(req,"/edi/modules/index.psp")
>>
>> Technically the second argument, as I said before, must be a full URI,
>> including 'http://host'. Supplying a path only as you have may or may
>> not work depending on the browser.
>>
>> For starters, therefore change it to:
>>
>> ?util.redirect(req,req.construct_url("/edi/modules/index.psp"))
>>
>> and see if that works.
>>
>> And that you are using a virtual machine is likely got nothing to do
>> with
>> it.
>>
>> Graham
>>
>>> my document root dir is c:\wamp\www
>>>
>>> Thanks
>>> Rahul
>>>
>>>> You did not answer my question.
>>>>
>>>> What is your code passing as the second argument to:
>>>>
>>>> ? util.redirect
>>>>
>>>> function call?
>>>>
>>>> I cannot help if you do not answer the question. You are already
>>>> stressing the abilities of the crystal ball as it is by not supplying
>>>> enough actual useful information.
>>>>
>>>> Graham
>>>>
>>>> 2009/3/30 ?<rahul.warhekar@edisphere.com>:
>>>>> hello all
>>>>>
>>>>> I am using virtual machine. On it we are having wamp server 2.6
>>>>> running.
>>>>>
>>>>> any suggestion for this situation.
>>>>>
>>>>> Any help will be greatly appreciated.
>>>>>
>>>>> Thanks
>>>>> rahul
>>>>>
>>>>>
>>>>>
>>>>>> What is "path to file"?
>>>>>>
>>>>>> It must be a properly formed URI, ie., 'http://host/.....'. You
>>>>>> should
>>>>>> not be just supplying a local URL without the 'http://host' bit.
>>>>>>
>>>>>> Graham
>>>>>>
>>>>>> 2009/3/30 rahul <rahul.warhekar@edisphere.com>:
>>>>>>> No I get error while using util.redirect(req,?path to file?)
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> Regards
>>>>>>>
>>>>>>> rahul
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> ________________________________
>>>>>>>
>>>>>>> From: Tim Valenta [mailto:tonightslastsong@gmail.com]
>>>>>>> Sent: Saturday, March 28, 2009 12:08 AM
>>>>>>> To: rahul
>>>>>>> Cc: Graham Dumpleton; mod_python@modpython.org
>>>>>>> Subject: Re: [mod_python] Getting error as The system cannot find
>>>>>>> the
>>>>>>> file
>>>>>>> specified
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> When do you get the error? ?When you start Apache?
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> Tim
>>>>>>>
>>>>>>> On Fri, Mar 27, 2009 at 6:25 AM, rahul
>>>>>>> <rahul.warhekar@edisphere.com>
>>>>>>> wrote:
>>>>>>>
>>>>>>> Hello all,
>>>>>>>
>>>>>>> I am using my mod_python for my web application.
>>>>>>>
>>>>>>> And I am getting "WindowsError: [Errno 2] The system cannot find
>>>>>>> the
>>>>>>> file
>>>>>>> specified" error.
>>>>>>>
>>>>>>> Any quick help reg this will be greatly appreciated and this is
>>>>>>> really
>>>>>>> urgent.
>>>>>>>
>>>>>>> Thanks in advance.
>>>>>>>
>>>>>>> Rahul
>>>>>>>
>>>>>>> _______________________________________________
>>>>>>> Mod_python mailing list
>>>>>>> Mod_python@modpython.org
>>>>>>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>>>>>>
>>>>>>>
>>>>>>> --
>>>>>>> "Python is the unholy bastard step-child between Ruby and PHP."
>>>>>>> "I'd let an ipod blow up on my leg for $150,000."
>>>>>>> "but Ben and Jerry do make a lovely couple."
>>>>>>
>>>>>
>>>>>
>>>>>
>>>>
>>>
>>>
>>>
>>
>>
>


From graham.dumpleton at gmail.com  Tue Mar 31 00:54:34 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Tue Mar 31 00:54:43 2009
Subject: [mod_python] Getting error as The system cannot find the file 
	specified
In-Reply-To: <1248.59.90.39.43.1238474473.squirrel@www.edisphere.com>
References: <88e286470903292303j506ba5f1ha41b017e29b6d4e2@mail.gmail.com>
	<20090331035742.CFAA56A45B5@server1.edisphere.com>
	<88e286470903302121g397be4ebgbd229454e3cbaae5@mail.gmail.com>
	<1248.59.90.39.43.1238474473.squirrel@www.edisphere.com>
Message-ID: <88e286470903302154h3d0cb41ci2940f11eb5edf703@mail.gmail.com>

2009/3/31  <rahul.warhekar@edisphere.com>:
> Traceback is:-
>
> Mod_python error: "PythonHandler mod_python.psp"
>
> File C:/wamp/www/edi/modules/reports/index.psp in line no 43
> WindowsError: [Errno 2] The system cannot find the file specified
>
> I have this much traceback only with me. Any idea depending on this.

The only remaining suggestion I have then is to check that the user
that the Apache service runs as has the necessary privileges to access
the directories/files that make up your project.

Also calculate exactly what line 43 is in the file. I don't believe
you have identified this to us. If there is no line 43, then it is
possibly identifying the line in the generate Python code for the PSP
page. In that case, enable PSP debug mode using:

  AddHandler mod_python .psp_
  PythonHandler mod_python.psp | .psp_

and access URL 'index.psp_'.

Check manual on how to do this, as my memory on how to do that is really bad.

Graham

>>> util.redirect(req,"modules/reports/index.psp?hidval=f&showcnt=25&user=%s"%se
>>> ssion['user'])
>
> i have made it as
>
> util.redirect(req,"http://localhost/edi/modules/reports/index.psp?hidval=f&showcnt=25&user=%s"%se
> ssion['user'])
>
> Still not working
>
> Rahul
>
>
>> 2009/3/31 rahul <rahul.warhekar@edisphere.com>:
>>> Hi graham,
>>>
>>> I have done what you suggested but was not successful.
>>> My code in index.psp is
>>>
>>>
>>> <%
>>> import os
>>> from mod_python import Session
>>> from mod_python import util
>>> from mod_python import psp
>>> _REQUEST = util.FieldStorage(req)
>>> view = "reports"
>>> user =''
>>> session.load()
>>>
>>> if view=='reports':
>>>
>>> util.redirect(req,"modules/reports/index.psp?hidval=f&showcnt=25&user=%s"%se
>>> ssion['user'])
>>
>> This isn't what I told you to use.
>>
>> Having a path that doesn't start with a '/' will not ever work either.
>>
>>> else:
>>> ? ? ? ?req.write("Invalid User")
>>>
>>> %>
>>>
>>> And full error message is
>>
>> That is not the full message.
>>
>> Post the complete Python traceback giving lines numbers, files etc.
>>
>> Graham
>>
>>> Mod_python Error: mod python stuff
>>> And in last it gives
>>>
>>> File C:/wamp/www/edi/modules/reports/index.psp
>>> WindowsError [Errno2]: The system cannot find the file specified.
>>>
>>>
>>> According to me it seems that my mod_python code is not getting executed
>>> or
>>> either it is not registered.
>>>
>>> Any suggestion on this will be greatly appreciated.
>>>
>>> Thanks,
>>>
>>> Rahul
>>>
>>>
>>> -----Original Message-----
>>> From: Graham Dumpleton [mailto:graham.dumpleton@gmail.com]
>>> Sent: Monday, March 30, 2009 11:33 AM
>>> To: rahul.warhekar@edisphere.com
>>> Cc: Tim Valenta; mod_python@modpython.org
>>> Subject: Re: [mod_python] Getting error as The system cannot find the
>>> file
>>> specified
>>>
>>> 2009/3/30 ?<rahul.warhekar@edisphere.com>:
>>>> ok, sorry for that,
>>>>
>>>> I am using util.redirect(req,"/edi/modules/index.psp")
>>>
>>> Technically the second argument, as I said before, must be a full URI,
>>> including 'http://host'. Supplying a path only as you have may or may
>>> not work depending on the browser.
>>>
>>> For starters, therefore change it to:
>>>
>>> ?util.redirect(req,req.construct_url("/edi/modules/index.psp"))
>>>
>>> and see if that works.
>>>
>>> And that you are using a virtual machine is likely got nothing to do
>>> with
>>> it.
>>>
>>> Graham
>>>
>>>> my document root dir is c:\wamp\www
>>>>
>>>> Thanks
>>>> Rahul
>>>>
>>>>> You did not answer my question.
>>>>>
>>>>> What is your code passing as the second argument to:
>>>>>
>>>>> ? util.redirect
>>>>>
>>>>> function call?
>>>>>
>>>>> I cannot help if you do not answer the question. You are already
>>>>> stressing the abilities of the crystal ball as it is by not supplying
>>>>> enough actual useful information.
>>>>>
>>>>> Graham
>>>>>
>>>>> 2009/3/30 ?<rahul.warhekar@edisphere.com>:
>>>>>> hello all
>>>>>>
>>>>>> I am using virtual machine. On it we are having wamp server 2.6
>>>>>> running.
>>>>>>
>>>>>> any suggestion for this situation.
>>>>>>
>>>>>> Any help will be greatly appreciated.
>>>>>>
>>>>>> Thanks
>>>>>> rahul
>>>>>>
>>>>>>
>>>>>>
>>>>>>> What is "path to file"?
>>>>>>>
>>>>>>> It must be a properly formed URI, ie., 'http://host/.....'. You
>>>>>>> should
>>>>>>> not be just supplying a local URL without the 'http://host' bit.
>>>>>>>
>>>>>>> Graham
>>>>>>>
>>>>>>> 2009/3/30 rahul <rahul.warhekar@edisphere.com>:
>>>>>>>> No I get error while using util.redirect(req,?path to file?)
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> Regards
>>>>>>>>
>>>>>>>> rahul
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> ________________________________
>>>>>>>>
>>>>>>>> From: Tim Valenta [mailto:tonightslastsong@gmail.com]
>>>>>>>> Sent: Saturday, March 28, 2009 12:08 AM
>>>>>>>> To: rahul
>>>>>>>> Cc: Graham Dumpleton; mod_python@modpython.org
>>>>>>>> Subject: Re: [mod_python] Getting error as The system cannot find
>>>>>>>> the
>>>>>>>> file
>>>>>>>> specified
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> When do you get the error? ?When you start Apache?
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> Tim
>>>>>>>>
>>>>>>>> On Fri, Mar 27, 2009 at 6:25 AM, rahul
>>>>>>>> <rahul.warhekar@edisphere.com>
>>>>>>>> wrote:
>>>>>>>>
>>>>>>>> Hello all,
>>>>>>>>
>>>>>>>> I am using my mod_python for my web application.
>>>>>>>>
>>>>>>>> And I am getting "WindowsError: [Errno 2] The system cannot find
>>>>>>>> the
>>>>>>>> file
>>>>>>>> specified" error.
>>>>>>>>
>>>>>>>> Any quick help reg this will be greatly appreciated and this is
>>>>>>>> really
>>>>>>>> urgent.
>>>>>>>>
>>>>>>>> Thanks in advance.
>>>>>>>>
>>>>>>>> Rahul
>>>>>>>>
>>>>>>>> _______________________________________________
>>>>>>>> Mod_python mailing list
>>>>>>>> Mod_python@modpython.org
>>>>>>>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>>>>>>>
>>>>>>>>
>>>>>>>> --
>>>>>>>> "Python is the unholy bastard step-child between Ruby and PHP."
>>>>>>>> "I'd let an ipod blow up on my leg for $150,000."
>>>>>>>> "but Ben and Jerry do make a lovely couple."
>>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>
>>>>
>>>>
>>>>
>>>
>>>
>>
>
>
>

From durumdara at gmail.com  Tue Mar 31 05:25:15 2009
From: durumdara at gmail.com (Durumdara)
Date: Tue Mar 31 05:25:24 2009
Subject: [mod_python] Log is full with redirection messages...
Message-ID: <9e384ef60903310225y73811f3eve4a30cfd090e0062@mail.gmail.com>

Hi!
Please suggest me some tips, how to avoid this effect.

I have a "shop" that have "items".

When item purchased without problems, I redirect the user to the page to
avoid F5/Refresh effect and to show some "success" message.
When some item not existing, I redirect the user to the page "Does not
exists!".

I do this with:
   util.redirect(R.Request, './page.ptml', 1)

Because of this, the error log is full with "non-error" elements, and it is
hard to find the real errors.

The web spiders uses caches, and steps to many items that "vanished now", so
my is log is 95% of redir messages.

Please help me a little: how to redirect them without error messages, and
how to make 404 or other error without see the silent exception in the log?

Thanks for your help:
   dd
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090331/a050374a/attachment.html
From graham.dumpleton at gmail.com  Tue Mar 31 05:52:03 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Tue Mar 31 05:52:12 2009
Subject: [mod_python] Log is full with redirection messages...
In-Reply-To: <9e384ef60903310225y73811f3eve4a30cfd090e0062@mail.gmail.com>
References: <9e384ef60903310225y73811f3eve4a30cfd090e0062@mail.gmail.com>
Message-ID: <88e286470903310252sed087c5g39a4ed17aece0df6@mail.gmail.com>

2009/3/31 Durumdara <durumdara@gmail.com>:
> Hi!
> Please suggest me some tips, how to avoid this effect.
> I have a "shop" that have "items".
> When item purchased without problems, I redirect the user to the page to
> avoid F5/Refresh effect and to show some "success" message.
> When some item not existing, I redirect the user to the page "Does not
> exists!".
> I do this with:
> ?? util.redirect(R.Request, './page.ptml', 1)

The second argument to util.redirect() must be a proper URL, inclusive
of 'http://host' to work properly. Some browsers may work if absolute
path for same site, but not guaranteed. Definitely should not be a
relative path.

So, use an absolute URL path and pass it through req.construct_url()
to have appropriate 'http://host' added at the front.

  util.redirect(R.Request, req.construct_url('/some/absolute/url/page.ptml'), 1)

Graham

> Because of this, the error log is full with "non-error" elements, and it is
> hard to find the real errors.
> The web spiders uses caches, and steps to many items that "vanished now", so
> my is log is 95% of redir messages.
> Please help me a little: how to redirect them without error messages, and
> how to make 404 or other error without see the silent exception in the log?
> Thanks for your help:
> ?? dd
>
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://mailman.modpython.org/mailman/listinfo/mod_python
>
>

From durumdara at gmail.com  Tue Mar 31 06:42:10 2009
From: durumdara at gmail.com (Durumdara)
Date: Tue Mar 31 06:42:19 2009
Subject: [mod_python] Log is full with redirection messages...
In-Reply-To: <88e286470903310252sed087c5g39a4ed17aece0df6@mail.gmail.com>
References: <9e384ef60903310225y73811f3eve4a30cfd090e0062@mail.gmail.com>
	<88e286470903310252sed087c5g39a4ed17aece0df6@mail.gmail.com>
Message-ID: <9e384ef60903310342m662b8117y7319458c6f306389@mail.gmail.com>

Hi!

Thanks for your idea.
I found the base of the error.
In the beginings I don't know mod_python good, and I handle the errors in my
way:

try:
    DoProcess
except:
    if DevelopMode:
       raise
    else:
       LogToApache(GetLastError)

I changed this in every site to DebugMode = Off /On way, but in this I
forget to do...
Because in the first time I don't know about DebugMode's "Log error to the
apache logs only" effect.


If I simplified to:

DoProcess

and to DebugMode (On/Off)

the redirection messages are vanished...

This happening with me many times, because I develop many thing that is
already in the systems, only I do not read the F* manual fully... :-)

See "req.construct()" is in my older way:
        self.FullURL = 'http://' + self.Request.hostname + '' +
self.Request.unparsed_uri
        self.FullURLNoArgs = 'http://' + self.Request.hostname + '' +
self.Request.uri

:-)

Thanks for your help:
   dd

2009/3/31 Graham Dumpleton <graham.dumpleton@gmail.com>

> 2009/3/31 Durumdara <durumdara@gmail.com>:
> > Hi!
> > Please suggest me some tips, how to avoid this effect.
> > I have a "shop" that have "items".
> > When item purchased without problems, I redirect the user to the page to
> > avoid F5/Refresh effect and to show some "success" message.
> > When some item not existing, I redirect the user to the page "Does not
> > exists!".
> > I do this with:
> >    util.redirect(R.Request, './page.ptml', 1)
>
> The second argument to util.redirect() must be a proper URL, inclusive
> of 'http://host' to work properly. Some browsers may work if absolute
> path for same site, but not guaranteed. Definitely should not be a
> relative path.
>
> So, use an absolute URL path and pass it through req.construct_url()
> to have appropriate 'http://host' added at the front.
>
>  util.redirect(R.Request,
> req.construct_url('/some/absolute/url/page.ptml'), 1)
>
> Graham
>
> > Because of this, the error log is full with "non-error" elements, and it
> is
> > hard to find the real errors.
> > The web spiders uses caches, and steps to many items that "vanished now",
> so
> > my is log is 95% of redir messages.
> > Please help me a little: how to redirect them without error messages, and
> > how to make 404 or other error without see the silent exception in the
> log?
> > Thanks for your help:
> >    dd
> >
> >
> >
> > _______________________________________________
> > Mod_python mailing list
> > Mod_python@modpython.org
> > http://mailman.modpython.org/mailman/listinfo/mod_python
> >
> >
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20090331/4366dd8b/attachment.html
From rahul.warhekar at edisphere.com  Tue Mar 31 07:27:43 2009
From: rahul.warhekar at edisphere.com (rahul.warhekar@edisphere.com)
Date: Tue Mar 31 07:27:40 2009
Subject: [mod_python] Getting error as The system cannot find the file  
	specified
In-Reply-To: <88e286470903302154h3d0cb41ci2940f11eb5edf703@mail.gmail.com>
References: <88e286470903292303j506ba5f1ha41b017e29b6d4e2@mail.gmail.com>
	<20090331035742.CFAA56A45B5@server1.edisphere.com>
	<88e286470903302121g397be4ebgbd229454e3cbaae5@mail.gmail.com>
	<1248.59.90.39.43.1238474473.squirrel@www.edisphere.com>
	<88e286470903302154h3d0cb41ci2940f11eb5edf703@mail.gmail.com>
Message-ID: <1120.59.90.39.43.1238498863.squirrel@www.edisphere.com>

hi graham

I just got entire trace please have a look at it

Mod_python error: "PythonHandler mod_python.psp"

Traceback (most recent call last):

  File "C:\Python24\lib\site-packages\mod_python\apache.py", line 299, in
HandlerDispatch
    result = object(req)

  File "C:\Python24\lib\site-packages\mod_python\psp.py", line 302, in
handler
    p.run()

  File "C:\Python24\lib\site-packages\mod_python\psp.py", line 213, in run
    exec code in global_scope

  File "C:/wamp/www/edi/modules/reports/index.psp", line 43, in ?

WindowsError: [Errno 2] The system cannot find the file specified



my index.psp contents are,


<%
import os
from mod_python import Session
from mod_python import util
from mod_python import psp
_REQUEST = util.FieldStorage(req)
view = "reports"
user =''
session.load()
try:
	user = session['user']
	user_name = session['user']
except KeyError,e:
	util.redirect(req,"/edi/login.psp")
try:
	new=session['my_filter']
except KeyError,e:
	util.redirect(req,"/edi/login.psp")


if view=='reports':
	util.redirect(req,'/edi/modules/reports/index.psp?hidval=f&showcnt=25&user=%s'%session['user'])
else:
	req.write("Invalid User")

%>


I have nothing on my line no 43.

Rahul

> 2009/3/31  <rahul.warhekar@edisphere.com>:
>> Traceback is:-
>>
>> Mod_python error: "PythonHandler mod_python.psp"
>>
>> File C:/wamp/www/edi/modules/reports/index.psp in line no 43
>> WindowsError: [Errno 2] The system cannot find the file specified
>>
>> I have this much traceback only with me. Any idea depending on this.
>
> The only remaining suggestion I have then is to check that the user
> that the Apache service runs as has the necessary privileges to access
> the directories/files that make up your project.
>
> Also calculate exactly what line 43 is in the file. I don't believe
> you have identified this to us. If there is no line 43, then it is
> possibly identifying the line in the generate Python code for the PSP
> page. In that case, enable PSP debug mode using:
>
>   AddHandler mod_python .psp_
>   PythonHandler mod_python.psp | .psp_
>
> and access URL 'index.psp_'.
>
> Check manual on how to do this, as my memory on how to do that is really
> bad.
>
> Graham
>
>>>> util.redirect(req,"modules/reports/index.psp?hidval=f&showcnt=25&user=%s"%se
>>>> ssion['user'])
>>
>> i have made it as
>>
>> util.redirect(req,"http://localhost/edi/modules/reports/index.psp?hidval=f&showcnt=25&user=%s"%se
>> ssion['user'])
>>
>> Still not working
>>
>> Rahul
>>
>>
>>> 2009/3/31 rahul <rahul.warhekar@edisphere.com>:
>>>> Hi graham,
>>>>
>>>> I have done what you suggested but was not successful.
>>>> My code in index.psp is
>>>>
>>>>
>>>> <%
>>>> import os
>>>> from mod_python import Session
>>>> from mod_python import util
>>>> from mod_python import psp
>>>> _REQUEST = util.FieldStorage(req)
>>>> view = "reports"
>>>> user =''
>>>> session.load()
>>>>
>>>> if view=='reports':
>>>>
>>>> util.redirect(req,"modules/reports/index.psp?hidval=f&showcnt=25&user=%s"%se
>>>> ssion['user'])
>>>
>>> This isn't what I told you to use.
>>>
>>> Having a path that doesn't start with a '/' will not ever work either.
>>>
>>>> else:
>>>> ? ? ? ?req.write("Invalid User")
>>>>
>>>> %>
>>>>
>>>> And full error message is
>>>
>>> That is not the full message.
>>>
>>> Post the complete Python traceback giving lines numbers, files etc.
>>>
>>> Graham
>>>
>>>> Mod_python Error: mod python stuff
>>>> And in last it gives
>>>>
>>>> File C:/wamp/www/edi/modules/reports/index.psp
>>>> WindowsError [Errno2]: The system cannot find the file specified.
>>>>
>>>>
>>>> According to me it seems that my mod_python code is not getting
>>>> executed
>>>> or
>>>> either it is not registered.
>>>>
>>>> Any suggestion on this will be greatly appreciated.
>>>>
>>>> Thanks,
>>>>
>>>> Rahul
>>>>
>>>>
>>>> -----Original Message-----
>>>> From: Graham Dumpleton [mailto:graham.dumpleton@gmail.com]
>>>> Sent: Monday, March 30, 2009 11:33 AM
>>>> To: rahul.warhekar@edisphere.com
>>>> Cc: Tim Valenta; mod_python@modpython.org
>>>> Subject: Re: [mod_python] Getting error as The system cannot find the
>>>> file
>>>> specified
>>>>
>>>> 2009/3/30 ?<rahul.warhekar@edisphere.com>:
>>>>> ok, sorry for that,
>>>>>
>>>>> I am using util.redirect(req,"/edi/modules/index.psp")
>>>>
>>>> Technically the second argument, as I said before, must be a full URI,
>>>> including 'http://host'. Supplying a path only as you have may or may
>>>> not work depending on the browser.
>>>>
>>>> For starters, therefore change it to:
>>>>
>>>> ?util.redirect(req,req.construct_url("/edi/modules/index.psp"))
>>>>
>>>> and see if that works.
>>>>
>>>> And that you are using a virtual machine is likely got nothing to do
>>>> with
>>>> it.
>>>>
>>>> Graham
>>>>
>>>>> my document root dir is c:\wamp\www
>>>>>
>>>>> Thanks
>>>>> Rahul
>>>>>
>>>>>> You did not answer my question.
>>>>>>
>>>>>> What is your code passing as the second argument to:
>>>>>>
>>>>>> ? util.redirect
>>>>>>
>>>>>> function call?
>>>>>>
>>>>>> I cannot help if you do not answer the question. You are already
>>>>>> stressing the abilities of the crystal ball as it is by not
>>>>>> supplying
>>>>>> enough actual useful information.
>>>>>>
>>>>>> Graham
>>>>>>
>>>>>> 2009/3/30 ?<rahul.warhekar@edisphere.com>:
>>>>>>> hello all
>>>>>>>
>>>>>>> I am using virtual machine. On it we are having wamp server 2.6
>>>>>>> running.
>>>>>>>
>>>>>>> any suggestion for this situation.
>>>>>>>
>>>>>>> Any help will be greatly appreciated.
>>>>>>>
>>>>>>> Thanks
>>>>>>> rahul
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>> What is "path to file"?
>>>>>>>>
>>>>>>>> It must be a properly formed URI, ie., 'http://host/.....'. You
>>>>>>>> should
>>>>>>>> not be just supplying a local URL without the 'http://host' bit.
>>>>>>>>
>>>>>>>> Graham
>>>>>>>>
>>>>>>>> 2009/3/30 rahul <rahul.warhekar@edisphere.com>:
>>>>>>>>> No I get error while using util.redirect(req,?path to file?)
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> Regards
>>>>>>>>>
>>>>>>>>> rahul
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> ________________________________
>>>>>>>>>
>>>>>>>>> From: Tim Valenta [mailto:tonightslastsong@gmail.com]
>>>>>>>>> Sent: Saturday, March 28, 2009 12:08 AM
>>>>>>>>> To: rahul
>>>>>>>>> Cc: Graham Dumpleton; mod_python@modpython.org
>>>>>>>>> Subject: Re: [mod_python] Getting error as The system cannot find
>>>>>>>>> the
>>>>>>>>> file
>>>>>>>>> specified
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> When do you get the error? ?When you start Apache?
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> Tim
>>>>>>>>>
>>>>>>>>> On Fri, Mar 27, 2009 at 6:25 AM, rahul
>>>>>>>>> <rahul.warhekar@edisphere.com>
>>>>>>>>> wrote:
>>>>>>>>>
>>>>>>>>> Hello all,
>>>>>>>>>
>>>>>>>>> I am using my mod_python for my web application.
>>>>>>>>>
>>>>>>>>> And I am getting "WindowsError: [Errno 2] The system cannot find
>>>>>>>>> the
>>>>>>>>> file
>>>>>>>>> specified" error.
>>>>>>>>>
>>>>>>>>> Any quick help reg this will be greatly appreciated and this is
>>>>>>>>> really
>>>>>>>>> urgent.
>>>>>>>>>
>>>>>>>>> Thanks in advance.
>>>>>>>>>
>>>>>>>>> Rahul
>>>>>>>>>
>>>>>>>>> _______________________________________________
>>>>>>>>> Mod_python mailing list
>>>>>>>>> Mod_python@modpython.org
>>>>>>>>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> --
>>>>>>>>> "Python is the unholy bastard step-child between Ruby and PHP."
>>>>>>>>> "I'd let an ipod blow up on my leg for $150,000."
>>>>>>>>> "but Ben and Jerry do make a lovely couple."
>>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>
>>>>>
>>>>>
>>>>>
>>>>
>>>>
>>>
>>
>>
>>
>


From graham.dumpleton at gmail.com  Tue Mar 31 07:42:43 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Tue Mar 31 07:42:47 2009
Subject: [mod_python] Getting error as The system cannot find the file 
	specified
In-Reply-To: <1120.59.90.39.43.1238498863.squirrel@www.edisphere.com>
References: <88e286470903292303j506ba5f1ha41b017e29b6d4e2@mail.gmail.com>
	<20090331035742.CFAA56A45B5@server1.edisphere.com>
	<88e286470903302121g397be4ebgbd229454e3cbaae5@mail.gmail.com>
	<1248.59.90.39.43.1238474473.squirrel@www.edisphere.com>
	<88e286470903302154h3d0cb41ci2940f11eb5edf703@mail.gmail.com>
	<1120.59.90.39.43.1238498863.squirrel@www.edisphere.com>
Message-ID: <88e286470903310442y2400e492ka8fdc868c503da22@mail.gmail.com>

Enable the PSP code debugging feature I asked you to. Documentation
mentions it at:

  http://www.modpython.org/live/current/doc-html/hand-psp.html

In other words, you want to enable .psp_ requests to get side by side
comparison of PSP code and generated Python code.

Graham

2009/3/31  <rahul.warhekar@edisphere.com>:
> hi graham
>
> I just got entire trace please have a look at it
>
> Mod_python error: "PythonHandler mod_python.psp"
>
> Traceback (most recent call last):
>
> ?File "C:\Python24\lib\site-packages\mod_python\apache.py", line 299, in
> HandlerDispatch
> ? ?result = object(req)
>
> ?File "C:\Python24\lib\site-packages\mod_python\psp.py", line 302, in
> handler
> ? ?p.run()
>
> ?File "C:\Python24\lib\site-packages\mod_python\psp.py", line 213, in run
> ? ?exec code in global_scope
>
> ?File "C:/wamp/www/edi/modules/reports/index.psp", line 43, in ?
>
> WindowsError: [Errno 2] The system cannot find the file specified
>
>
>
> my index.psp contents are,
>
>
> <%
> import os
> from mod_python import Session
> from mod_python import util
> from mod_python import psp
> _REQUEST = util.FieldStorage(req)
> view = "reports"
> user =''
> session.load()
> try:
> ? ? ? ?user = session['user']
> ? ? ? ?user_name = session['user']
> except KeyError,e:
> ? ? ? ?util.redirect(req,"/edi/login.psp")
> try:
> ? ? ? ?new=session['my_filter']
> except KeyError,e:
> ? ? ? ?util.redirect(req,"/edi/login.psp")
>
>
> if view=='reports':
> ? ? ? ?util.redirect(req,'/edi/modules/reports/index.psp?hidval=f&showcnt=25&user=%s'%session['user'])
> else:
> ? ? ? ?req.write("Invalid User")
>
> %>
>
>
> I have nothing on my line no 43.
>
> Rahul
>
>> 2009/3/31 ?<rahul.warhekar@edisphere.com>:
>>> Traceback is:-
>>>
>>> Mod_python error: "PythonHandler mod_python.psp"
>>>
>>> File C:/wamp/www/edi/modules/reports/index.psp in line no 43
>>> WindowsError: [Errno 2] The system cannot find the file specified
>>>
>>> I have this much traceback only with me. Any idea depending on this.
>>
>> The only remaining suggestion I have then is to check that the user
>> that the Apache service runs as has the necessary privileges to access
>> the directories/files that make up your project.
>>
>> Also calculate exactly what line 43 is in the file. I don't believe
>> you have identified this to us. If there is no line 43, then it is
>> possibly identifying the line in the generate Python code for the PSP
>> page. In that case, enable PSP debug mode using:
>>
>> ? AddHandler mod_python .psp_
>> ? PythonHandler mod_python.psp | .psp_
>>
>> and access URL 'index.psp_'.
>>
>> Check manual on how to do this, as my memory on how to do that is really
>> bad.
>>
>> Graham
>>
>>>>> util.redirect(req,"modules/reports/index.psp?hidval=f&showcnt=25&user=%s"%se
>>>>> ssion['user'])
>>>
>>> i have made it as
>>>
>>> util.redirect(req,"http://localhost/edi/modules/reports/index.psp?hidval=f&showcnt=25&user=%s"%se
>>> ssion['user'])
>>>
>>> Still not working
>>>
>>> Rahul
>>>
>>>
>>>> 2009/3/31 rahul <rahul.warhekar@edisphere.com>:
>>>>> Hi graham,
>>>>>
>>>>> I have done what you suggested but was not successful.
>>>>> My code in index.psp is
>>>>>
>>>>>
>>>>> <%
>>>>> import os
>>>>> from mod_python import Session
>>>>> from mod_python import util
>>>>> from mod_python import psp
>>>>> _REQUEST = util.FieldStorage(req)
>>>>> view = "reports"
>>>>> user =''
>>>>> session.load()
>>>>>
>>>>> if view=='reports':
>>>>>
>>>>> util.redirect(req,"modules/reports/index.psp?hidval=f&showcnt=25&user=%s"%se
>>>>> ssion['user'])
>>>>
>>>> This isn't what I told you to use.
>>>>
>>>> Having a path that doesn't start with a '/' will not ever work either.
>>>>
>>>>> else:
>>>>> ? ? ? ?req.write("Invalid User")
>>>>>
>>>>> %>
>>>>>
>>>>> And full error message is
>>>>
>>>> That is not the full message.
>>>>
>>>> Post the complete Python traceback giving lines numbers, files etc.
>>>>
>>>> Graham
>>>>
>>>>> Mod_python Error: mod python stuff
>>>>> And in last it gives
>>>>>
>>>>> File C:/wamp/www/edi/modules/reports/index.psp
>>>>> WindowsError [Errno2]: The system cannot find the file specified.
>>>>>
>>>>>
>>>>> According to me it seems that my mod_python code is not getting
>>>>> executed
>>>>> or
>>>>> either it is not registered.
>>>>>
>>>>> Any suggestion on this will be greatly appreciated.
>>>>>
>>>>> Thanks,
>>>>>
>>>>> Rahul
>>>>>
>>>>>
>>>>> -----Original Message-----
>>>>> From: Graham Dumpleton [mailto:graham.dumpleton@gmail.com]
>>>>> Sent: Monday, March 30, 2009 11:33 AM
>>>>> To: rahul.warhekar@edisphere.com
>>>>> Cc: Tim Valenta; mod_python@modpython.org
>>>>> Subject: Re: [mod_python] Getting error as The system cannot find the
>>>>> file
>>>>> specified
>>>>>
>>>>> 2009/3/30 ?<rahul.warhekar@edisphere.com>:
>>>>>> ok, sorry for that,
>>>>>>
>>>>>> I am using util.redirect(req,"/edi/modules/index.psp")
>>>>>
>>>>> Technically the second argument, as I said before, must be a full URI,
>>>>> including 'http://host'. Supplying a path only as you have may or may
>>>>> not work depending on the browser.
>>>>>
>>>>> For starters, therefore change it to:
>>>>>
>>>>> ?util.redirect(req,req.construct_url("/edi/modules/index.psp"))
>>>>>
>>>>> and see if that works.
>>>>>
>>>>> And that you are using a virtual machine is likely got nothing to do
>>>>> with
>>>>> it.
>>>>>
>>>>> Graham
>>>>>
>>>>>> my document root dir is c:\wamp\www
>>>>>>
>>>>>> Thanks
>>>>>> Rahul
>>>>>>
>>>>>>> You did not answer my question.
>>>>>>>
>>>>>>> What is your code passing as the second argument to:
>>>>>>>
>>>>>>> ? util.redirect
>>>>>>>
>>>>>>> function call?
>>>>>>>
>>>>>>> I cannot help if you do not answer the question. You are already
>>>>>>> stressing the abilities of the crystal ball as it is by not
>>>>>>> supplying
>>>>>>> enough actual useful information.
>>>>>>>
>>>>>>> Graham
>>>>>>>
>>>>>>> 2009/3/30 ?<rahul.warhekar@edisphere.com>:
>>>>>>>> hello all
>>>>>>>>
>>>>>>>> I am using virtual machine. On it we are having wamp server 2.6
>>>>>>>> running.
>>>>>>>>
>>>>>>>> any suggestion for this situation.
>>>>>>>>
>>>>>>>> Any help will be greatly appreciated.
>>>>>>>>
>>>>>>>> Thanks
>>>>>>>> rahul
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>> What is "path to file"?
>>>>>>>>>
>>>>>>>>> It must be a properly formed URI, ie., 'http://host/.....'. You
>>>>>>>>> should
>>>>>>>>> not be just supplying a local URL without the 'http://host' bit.
>>>>>>>>>
>>>>>>>>> Graham
>>>>>>>>>
>>>>>>>>> 2009/3/30 rahul <rahul.warhekar@edisphere.com>:
>>>>>>>>>> No I get error while using util.redirect(req,?path to file?)
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> Regards
>>>>>>>>>>
>>>>>>>>>> rahul
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> ________________________________
>>>>>>>>>>
>>>>>>>>>> From: Tim Valenta [mailto:tonightslastsong@gmail.com]
>>>>>>>>>> Sent: Saturday, March 28, 2009 12:08 AM
>>>>>>>>>> To: rahul
>>>>>>>>>> Cc: Graham Dumpleton; mod_python@modpython.org
>>>>>>>>>> Subject: Re: [mod_python] Getting error as The system cannot find
>>>>>>>>>> the
>>>>>>>>>> file
>>>>>>>>>> specified
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> When do you get the error? ?When you start Apache?
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> Tim
>>>>>>>>>>
>>>>>>>>>> On Fri, Mar 27, 2009 at 6:25 AM, rahul
>>>>>>>>>> <rahul.warhekar@edisphere.com>
>>>>>>>>>> wrote:
>>>>>>>>>>
>>>>>>>>>> Hello all,
>>>>>>>>>>
>>>>>>>>>> I am using my mod_python for my web application.
>>>>>>>>>>
>>>>>>>>>> And I am getting "WindowsError: [Errno 2] The system cannot find
>>>>>>>>>> the
>>>>>>>>>> file
>>>>>>>>>> specified" error.
>>>>>>>>>>
>>>>>>>>>> Any quick help reg this will be greatly appreciated and this is
>>>>>>>>>> really
>>>>>>>>>> urgent.
>>>>>>>>>>
>>>>>>>>>> Thanks in advance.
>>>>>>>>>>
>>>>>>>>>> Rahul
>>>>>>>>>>
>>>>>>>>>> _______________________________________________
>>>>>>>>>> Mod_python mailing list
>>>>>>>>>> Mod_python@modpython.org
>>>>>>>>>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> --
>>>>>>>>>> "Python is the unholy bastard step-child between Ruby and PHP."
>>>>>>>>>> "I'd let an ipod blow up on my leg for $150,000."
>>>>>>>>>> "but Ben and Jerry do make a lovely couple."
>>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>
>>>>>
>>>>
>>>
>>>
>>>
>>
>
>
>

From rahul.warhekar at edisphere.com  Tue Mar 31 08:00:23 2009
From: rahul.warhekar at edisphere.com (rahul.warhekar@edisphere.com)
Date: Tue Mar 31 08:00:21 2009
Subject: [mod_python] Getting error as The system cannot find the file  
	specified
In-Reply-To: <88e286470903310442y2400e492ka8fdc868c503da22@mail.gmail.com>
References: <88e286470903292303j506ba5f1ha41b017e29b6d4e2@mail.gmail.com>
	<20090331035742.CFAA56A45B5@server1.edisphere.com>
	<88e286470903302121g397be4ebgbd229454e3cbaae5@mail.gmail.com>
	<1248.59.90.39.43.1238474473.squirrel@www.edisphere.com>
	<88e286470903302154h3d0cb41ci2940f11eb5edf703@mail.gmail.com>
	<1120.59.90.39.43.1238498863.squirrel@www.edisphere.com>
	<88e286470903310442y2400e492ka8fdc868c503da22@mail.gmail.com>
Message-ID: <1397.59.90.39.43.1238500823.squirrel@www.edisphere.com>

I already have Enabled the PSP code debugging feature.
I am using citrix Xen server to host this setup.(virtual machine)

rahul

> Enable the PSP code debugging feature I asked you to. Documentation
> mentions it at:
>
>   http://www.modpython.org/live/current/doc-html/hand-psp.html
>
> In other words, you want to enable .psp_ requests to get side by side
> comparison of PSP code and generated Python code.
>
> Graham
>
> 2009/3/31  <rahul.warhekar@edisphere.com>:
>> hi graham
>>
>> I just got entire trace please have a look at it
>>
>> Mod_python error: "PythonHandler mod_python.psp"
>>
>> Traceback (most recent call last):
>>
>> ?File "C:\Python24\lib\site-packages\mod_python\apache.py", line 299, in
>> HandlerDispatch
>> ? ?result = object(req)
>>
>> ?File "C:\Python24\lib\site-packages\mod_python\psp.py", line 302, in
>> handler
>> ? ?p.run()
>>
>> ?File "C:\Python24\lib\site-packages\mod_python\psp.py", line 213, in
>> run
>> ? ?exec code in global_scope
>>
>> ?File "C:/wamp/www/edi/modules/reports/index.psp", line 43, in ?
>>
>> WindowsError: [Errno 2] The system cannot find the file specified
>>
>>
>>
>> my index.psp contents are,
>>
>>
>> <%
>> import os
>> from mod_python import Session
>> from mod_python import util
>> from mod_python import psp
>> _REQUEST = util.FieldStorage(req)
>> view = "reports"
>> user =''
>> session.load()
>> try:
>> ? ? ? ?user = session['user']
>> ? ? ? ?user_name = session['user']
>> except KeyError,e:
>> ? ? ? ?util.redirect(req,"/edi/login.psp")
>> try:
>> ? ? ? ?new=session['my_filter']
>> except KeyError,e:
>> ? ? ? ?util.redirect(req,"/edi/login.psp")
>>
>>
>> if view=='reports':
>> ? ? ?
>> ?util.redirect(req,'/edi/modules/reports/index.psp?hidval=f&showcnt=25&user=%s'%session['user'])
>> else:
>> ? ? ? ?req.write("Invalid User")
>>
>> %>
>>
>>
>> I have nothing on my line no 43.
>>
>> Rahul
>>
>>> 2009/3/31 ?<rahul.warhekar@edisphere.com>:
>>>> Traceback is:-
>>>>
>>>> Mod_python error: "PythonHandler mod_python.psp"
>>>>
>>>> File C:/wamp/www/edi/modules/reports/index.psp in line no 43
>>>> WindowsError: [Errno 2] The system cannot find the file specified
>>>>
>>>> I have this much traceback only with me. Any idea depending on this.
>>>
>>> The only remaining suggestion I have then is to check that the user
>>> that the Apache service runs as has the necessary privileges to access
>>> the directories/files that make up your project.
>>>
>>> Also calculate exactly what line 43 is in the file. I don't believe
>>> you have identified this to us. If there is no line 43, then it is
>>> possibly identifying the line in the generate Python code for the PSP
>>> page. In that case, enable PSP debug mode using:
>>>
>>> ? AddHandler mod_python .psp_
>>> ? PythonHandler mod_python.psp | .psp_
>>>
>>> and access URL 'index.psp_'.
>>>
>>> Check manual on how to do this, as my memory on how to do that is
>>> really
>>> bad.
>>>
>>> Graham
>>>
>>>>>> util.redirect(req,"modules/reports/index.psp?hidval=f&showcnt=25&user=%s"%se
>>>>>> ssion['user'])
>>>>
>>>> i have made it as
>>>>
>>>> util.redirect(req,"http://localhost/edi/modules/reports/index.psp?hidval=f&showcnt=25&user=%s"%se
>>>> ssion['user'])
>>>>
>>>> Still not working
>>>>
>>>> Rahul
>>>>
>>>>
>>>>> 2009/3/31 rahul <rahul.warhekar@edisphere.com>:
>>>>>> Hi graham,
>>>>>>
>>>>>> I have done what you suggested but was not successful.
>>>>>> My code in index.psp is
>>>>>>
>>>>>>
>>>>>> <%
>>>>>> import os
>>>>>> from mod_python import Session
>>>>>> from mod_python import util
>>>>>> from mod_python import psp
>>>>>> _REQUEST = util.FieldStorage(req)
>>>>>> view = "reports"
>>>>>> user =''
>>>>>> session.load()
>>>>>>
>>>>>> if view=='reports':
>>>>>>
>>>>>> util.redirect(req,"modules/reports/index.psp?hidval=f&showcnt=25&user=%s"%se
>>>>>> ssion['user'])
>>>>>
>>>>> This isn't what I told you to use.
>>>>>
>>>>> Having a path that doesn't start with a '/' will not ever work
>>>>> either.
>>>>>
>>>>>> else:
>>>>>> ? ? ? ?req.write("Invalid User")
>>>>>>
>>>>>> %>
>>>>>>
>>>>>> And full error message is
>>>>>
>>>>> That is not the full message.
>>>>>
>>>>> Post the complete Python traceback giving lines numbers, files etc.
>>>>>
>>>>> Graham
>>>>>
>>>>>> Mod_python Error: mod python stuff
>>>>>> And in last it gives
>>>>>>
>>>>>> File C:/wamp/www/edi/modules/reports/index.psp
>>>>>> WindowsError [Errno2]: The system cannot find the file specified.
>>>>>>
>>>>>>
>>>>>> According to me it seems that my mod_python code is not getting
>>>>>> executed
>>>>>> or
>>>>>> either it is not registered.
>>>>>>
>>>>>> Any suggestion on this will be greatly appreciated.
>>>>>>
>>>>>> Thanks,
>>>>>>
>>>>>> Rahul
>>>>>>
>>>>>>
>>>>>> -----Original Message-----
>>>>>> From: Graham Dumpleton [mailto:graham.dumpleton@gmail.com]
>>>>>> Sent: Monday, March 30, 2009 11:33 AM
>>>>>> To: rahul.warhekar@edisphere.com
>>>>>> Cc: Tim Valenta; mod_python@modpython.org
>>>>>> Subject: Re: [mod_python] Getting error as The system cannot find
>>>>>> the
>>>>>> file
>>>>>> specified
>>>>>>
>>>>>> 2009/3/30 ?<rahul.warhekar@edisphere.com>:
>>>>>>> ok, sorry for that,
>>>>>>>
>>>>>>> I am using util.redirect(req,"/edi/modules/index.psp")
>>>>>>
>>>>>> Technically the second argument, as I said before, must be a full
>>>>>> URI,
>>>>>> including 'http://host'. Supplying a path only as you have may or
>>>>>> may
>>>>>> not work depending on the browser.
>>>>>>
>>>>>> For starters, therefore change it to:
>>>>>>
>>>>>> ?util.redirect(req,req.construct_url("/edi/modules/index.psp"))
>>>>>>
>>>>>> and see if that works.
>>>>>>
>>>>>> And that you are using a virtual machine is likely got nothing to do
>>>>>> with
>>>>>> it.
>>>>>>
>>>>>> Graham
>>>>>>
>>>>>>> my document root dir is c:\wamp\www
>>>>>>>
>>>>>>> Thanks
>>>>>>> Rahul
>>>>>>>
>>>>>>>> You did not answer my question.
>>>>>>>>
>>>>>>>> What is your code passing as the second argument to:
>>>>>>>>
>>>>>>>> ? util.redirect
>>>>>>>>
>>>>>>>> function call?
>>>>>>>>
>>>>>>>> I cannot help if you do not answer the question. You are already
>>>>>>>> stressing the abilities of the crystal ball as it is by not
>>>>>>>> supplying
>>>>>>>> enough actual useful information.
>>>>>>>>
>>>>>>>> Graham
>>>>>>>>
>>>>>>>> 2009/3/30 ?<rahul.warhekar@edisphere.com>:
>>>>>>>>> hello all
>>>>>>>>>
>>>>>>>>> I am using virtual machine. On it we are having wamp server 2.6
>>>>>>>>> running.
>>>>>>>>>
>>>>>>>>> any suggestion for this situation.
>>>>>>>>>
>>>>>>>>> Any help will be greatly appreciated.
>>>>>>>>>
>>>>>>>>> Thanks
>>>>>>>>> rahul
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>> What is "path to file"?
>>>>>>>>>>
>>>>>>>>>> It must be a properly formed URI, ie., 'http://host/.....'. You
>>>>>>>>>> should
>>>>>>>>>> not be just supplying a local URL without the 'http://host' bit.
>>>>>>>>>>
>>>>>>>>>> Graham
>>>>>>>>>>
>>>>>>>>>> 2009/3/30 rahul <rahul.warhekar@edisphere.com>:
>>>>>>>>>>> No I get error while using util.redirect(req,?path to file?)
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> Regards
>>>>>>>>>>>
>>>>>>>>>>> rahul
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> ________________________________
>>>>>>>>>>>
>>>>>>>>>>> From: Tim Valenta [mailto:tonightslastsong@gmail.com]
>>>>>>>>>>> Sent: Saturday, March 28, 2009 12:08 AM
>>>>>>>>>>> To: rahul
>>>>>>>>>>> Cc: Graham Dumpleton; mod_python@modpython.org
>>>>>>>>>>> Subject: Re: [mod_python] Getting error as The system cannot
>>>>>>>>>>> find
>>>>>>>>>>> the
>>>>>>>>>>> file
>>>>>>>>>>> specified
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> When do you get the error? ?When you start Apache?
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> Tim
>>>>>>>>>>>
>>>>>>>>>>> On Fri, Mar 27, 2009 at 6:25 AM, rahul
>>>>>>>>>>> <rahul.warhekar@edisphere.com>
>>>>>>>>>>> wrote:
>>>>>>>>>>>
>>>>>>>>>>> Hello all,
>>>>>>>>>>>
>>>>>>>>>>> I am using my mod_python for my web application.
>>>>>>>>>>>
>>>>>>>>>>> And I am getting "WindowsError: [Errno 2] The system cannot
>>>>>>>>>>> find
>>>>>>>>>>> the
>>>>>>>>>>> file
>>>>>>>>>>> specified" error.
>>>>>>>>>>>
>>>>>>>>>>> Any quick help reg this will be greatly appreciated and this is
>>>>>>>>>>> really
>>>>>>>>>>> urgent.
>>>>>>>>>>>
>>>>>>>>>>> Thanks in advance.
>>>>>>>>>>>
>>>>>>>>>>> Rahul
>>>>>>>>>>>
>>>>>>>>>>> _______________________________________________
>>>>>>>>>>> Mod_python mailing list
>>>>>>>>>>> Mod_python@modpython.org
>>>>>>>>>>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> --
>>>>>>>>>>> "Python is the unholy bastard step-child between Ruby and PHP."
>>>>>>>>>>> "I'd let an ipod blow up on my leg for $150,000."
>>>>>>>>>>> "but Ben and Jerry do make a lovely couple."
>>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>
>>>>>>
>>>>>
>>>>
>>>>
>>>>
>>>
>>
>>
>>
>


From graham.dumpleton at gmail.com  Tue Mar 31 16:36:16 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Tue Mar 31 16:36:19 2009
Subject: [mod_python] Getting error as The system cannot find the file 
	specified
In-Reply-To: <1397.59.90.39.43.1238500823.squirrel@www.edisphere.com>
References: <88e286470903292303j506ba5f1ha41b017e29b6d4e2@mail.gmail.com>
	<20090331035742.CFAA56A45B5@server1.edisphere.com>
	<88e286470903302121g397be4ebgbd229454e3cbaae5@mail.gmail.com>
	<1248.59.90.39.43.1238474473.squirrel@www.edisphere.com>
	<88e286470903302154h3d0cb41ci2940f11eb5edf703@mail.gmail.com>
	<1120.59.90.39.43.1238498863.squirrel@www.edisphere.com>
	<88e286470903310442y2400e492ka8fdc868c503da22@mail.gmail.com>
	<1397.59.90.39.43.1238500823.squirrel@www.edisphere.com>
Message-ID: <88e286470903311336n16661be2r50992c821b9c8482@mail.gmail.com>

2009/3/31  <rahul.warhekar@edisphere.com>:
> I already have Enabled the PSP code debugging feature.

Then why aren't you posting anything about the result you would have
seen in the browser from it.

It would have shown the PSP code and generated Python code side by
side. Since you don't seem to know how to interpret that, you could
have at least posted what the generated Python code was.

> I am using citrix Xen server to host this setup.(virtual machine)

As I said before, don't care that it is a virtual machine. If you seem
to think it is related to the virtual machine, then perhaps you should
be talking to the Xen people.

As is, since am not getting back useful information and you seem not
to know yourself how to go about debugging the issue, not sure I can
do anything else to help you. I have tried hard and frankly don't have
any more time to help if you are going to make it all the more
difficult by requiring me to tease information out of you.

Only last suggestion is for you to make sure that there is actually a
newline on the very last line of your PSP file.

Graham

> rahul
>
>> Enable the PSP code debugging feature I asked you to. Documentation
>> mentions it at:
>>
>> ? http://www.modpython.org/live/current/doc-html/hand-psp.html
>>
>> In other words, you want to enable .psp_ requests to get side by side
>> comparison of PSP code and generated Python code.
>>
>> Graham
>>
>> 2009/3/31 ?<rahul.warhekar@edisphere.com>:
>>> hi graham
>>>
>>> I just got entire trace please have a look at it
>>>
>>> Mod_python error: "PythonHandler mod_python.psp"
>>>
>>> Traceback (most recent call last):
>>>
>>> ?File "C:\Python24\lib\site-packages\mod_python\apache.py", line 299, in
>>> HandlerDispatch
>>> ? ?result = object(req)
>>>
>>> ?File "C:\Python24\lib\site-packages\mod_python\psp.py", line 302, in
>>> handler
>>> ? ?p.run()
>>>
>>> ?File "C:\Python24\lib\site-packages\mod_python\psp.py", line 213, in
>>> run
>>> ? ?exec code in global_scope
>>>
>>> ?File "C:/wamp/www/edi/modules/reports/index.psp", line 43, in ?
>>>
>>> WindowsError: [Errno 2] The system cannot find the file specified
>>>
>>>
>>>
>>> my index.psp contents are,
>>>
>>>
>>> <%
>>> import os
>>> from mod_python import Session
>>> from mod_python import util
>>> from mod_python import psp
>>> _REQUEST = util.FieldStorage(req)
>>> view = "reports"
>>> user =''
>>> session.load()
>>> try:
>>> ? ? ? ?user = session['user']
>>> ? ? ? ?user_name = session['user']
>>> except KeyError,e:
>>> ? ? ? ?util.redirect(req,"/edi/login.psp")
>>> try:
>>> ? ? ? ?new=session['my_filter']
>>> except KeyError,e:
>>> ? ? ? ?util.redirect(req,"/edi/login.psp")
>>>
>>>
>>> if view=='reports':
>>>
>>> ?util.redirect(req,'/edi/modules/reports/index.psp?hidval=f&showcnt=25&user=%s'%session['user'])
>>> else:
>>> ? ? ? ?req.write("Invalid User")
>>>
>>> %>
>>>
>>>
>>> I have nothing on my line no 43.
>>>
>>> Rahul
>>>
>>>> 2009/3/31 ?<rahul.warhekar@edisphere.com>:
>>>>> Traceback is:-
>>>>>
>>>>> Mod_python error: "PythonHandler mod_python.psp"
>>>>>
>>>>> File C:/wamp/www/edi/modules/reports/index.psp in line no 43
>>>>> WindowsError: [Errno 2] The system cannot find the file specified
>>>>>
>>>>> I have this much traceback only with me. Any idea depending on this.
>>>>
>>>> The only remaining suggestion I have then is to check that the user
>>>> that the Apache service runs as has the necessary privileges to access
>>>> the directories/files that make up your project.
>>>>
>>>> Also calculate exactly what line 43 is in the file. I don't believe
>>>> you have identified this to us. If there is no line 43, then it is
>>>> possibly identifying the line in the generate Python code for the PSP
>>>> page. In that case, enable PSP debug mode using:
>>>>
>>>> ? AddHandler mod_python .psp_
>>>> ? PythonHandler mod_python.psp | .psp_
>>>>
>>>> and access URL 'index.psp_'.
>>>>
>>>> Check manual on how to do this, as my memory on how to do that is
>>>> really
>>>> bad.
>>>>
>>>> Graham
>>>>
>>>>>>> util.redirect(req,"modules/reports/index.psp?hidval=f&showcnt=25&user=%s"%se
>>>>>>> ssion['user'])
>>>>>
>>>>> i have made it as
>>>>>
>>>>> util.redirect(req,"http://localhost/edi/modules/reports/index.psp?hidval=f&showcnt=25&user=%s"%se
>>>>> ssion['user'])
>>>>>
>>>>> Still not working
>>>>>
>>>>> Rahul
>>>>>
>>>>>
>>>>>> 2009/3/31 rahul <rahul.warhekar@edisphere.com>:
>>>>>>> Hi graham,
>>>>>>>
>>>>>>> I have done what you suggested but was not successful.
>>>>>>> My code in index.psp is
>>>>>>>
>>>>>>>
>>>>>>> <%
>>>>>>> import os
>>>>>>> from mod_python import Session
>>>>>>> from mod_python import util
>>>>>>> from mod_python import psp
>>>>>>> _REQUEST = util.FieldStorage(req)
>>>>>>> view = "reports"
>>>>>>> user =''
>>>>>>> session.load()
>>>>>>>
>>>>>>> if view=='reports':
>>>>>>>
>>>>>>> util.redirect(req,"modules/reports/index.psp?hidval=f&showcnt=25&user=%s"%se
>>>>>>> ssion['user'])
>>>>>>
>>>>>> This isn't what I told you to use.
>>>>>>
>>>>>> Having a path that doesn't start with a '/' will not ever work
>>>>>> either.
>>>>>>
>>>>>>> else:
>>>>>>> ? ? ? ?req.write("Invalid User")
>>>>>>>
>>>>>>> %>
>>>>>>>
>>>>>>> And full error message is
>>>>>>
>>>>>> That is not the full message.
>>>>>>
>>>>>> Post the complete Python traceback giving lines numbers, files etc.
>>>>>>
>>>>>> Graham
>>>>>>
>>>>>>> Mod_python Error: mod python stuff
>>>>>>> And in last it gives
>>>>>>>
>>>>>>> File C:/wamp/www/edi/modules/reports/index.psp
>>>>>>> WindowsError [Errno2]: The system cannot find the file specified.
>>>>>>>
>>>>>>>
>>>>>>> According to me it seems that my mod_python code is not getting
>>>>>>> executed
>>>>>>> or
>>>>>>> either it is not registered.
>>>>>>>
>>>>>>> Any suggestion on this will be greatly appreciated.
>>>>>>>
>>>>>>> Thanks,
>>>>>>>
>>>>>>> Rahul
>>>>>>>
>>>>>>>
>>>>>>> -----Original Message-----
>>>>>>> From: Graham Dumpleton [mailto:graham.dumpleton@gmail.com]
>>>>>>> Sent: Monday, March 30, 2009 11:33 AM
>>>>>>> To: rahul.warhekar@edisphere.com
>>>>>>> Cc: Tim Valenta; mod_python@modpython.org
>>>>>>> Subject: Re: [mod_python] Getting error as The system cannot find
>>>>>>> the
>>>>>>> file
>>>>>>> specified
>>>>>>>
>>>>>>> 2009/3/30 ?<rahul.warhekar@edisphere.com>:
>>>>>>>> ok, sorry for that,
>>>>>>>>
>>>>>>>> I am using util.redirect(req,"/edi/modules/index.psp")
>>>>>>>
>>>>>>> Technically the second argument, as I said before, must be a full
>>>>>>> URI,
>>>>>>> including 'http://host'. Supplying a path only as you have may or
>>>>>>> may
>>>>>>> not work depending on the browser.
>>>>>>>
>>>>>>> For starters, therefore change it to:
>>>>>>>
>>>>>>> ?util.redirect(req,req.construct_url("/edi/modules/index.psp"))
>>>>>>>
>>>>>>> and see if that works.
>>>>>>>
>>>>>>> And that you are using a virtual machine is likely got nothing to do
>>>>>>> with
>>>>>>> it.
>>>>>>>
>>>>>>> Graham
>>>>>>>
>>>>>>>> my document root dir is c:\wamp\www
>>>>>>>>
>>>>>>>> Thanks
>>>>>>>> Rahul
>>>>>>>>
>>>>>>>>> You did not answer my question.
>>>>>>>>>
>>>>>>>>> What is your code passing as the second argument to:
>>>>>>>>>
>>>>>>>>> ? util.redirect
>>>>>>>>>
>>>>>>>>> function call?
>>>>>>>>>
>>>>>>>>> I cannot help if you do not answer the question. You are already
>>>>>>>>> stressing the abilities of the crystal ball as it is by not
>>>>>>>>> supplying
>>>>>>>>> enough actual useful information.
>>>>>>>>>
>>>>>>>>> Graham
>>>>>>>>>
>>>>>>>>> 2009/3/30 ?<rahul.warhekar@edisphere.com>:
>>>>>>>>>> hello all
>>>>>>>>>>
>>>>>>>>>> I am using virtual machine. On it we are having wamp server 2.6
>>>>>>>>>> running.
>>>>>>>>>>
>>>>>>>>>> any suggestion for this situation.
>>>>>>>>>>
>>>>>>>>>> Any help will be greatly appreciated.
>>>>>>>>>>
>>>>>>>>>> Thanks
>>>>>>>>>> rahul
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>> What is "path to file"?
>>>>>>>>>>>
>>>>>>>>>>> It must be a properly formed URI, ie., 'http://host/.....'. You
>>>>>>>>>>> should
>>>>>>>>>>> not be just supplying a local URL without the 'http://host' bit.
>>>>>>>>>>>
>>>>>>>>>>> Graham
>>>>>>>>>>>
>>>>>>>>>>> 2009/3/30 rahul <rahul.warhekar@edisphere.com>:
>>>>>>>>>>>> No I get error while using util.redirect(req,?path to file?)
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> Regards
>>>>>>>>>>>>
>>>>>>>>>>>> rahul
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> ________________________________
>>>>>>>>>>>>
>>>>>>>>>>>> From: Tim Valenta [mailto:tonightslastsong@gmail.com]
>>>>>>>>>>>> Sent: Saturday, March 28, 2009 12:08 AM
>>>>>>>>>>>> To: rahul
>>>>>>>>>>>> Cc: Graham Dumpleton; mod_python@modpython.org
>>>>>>>>>>>> Subject: Re: [mod_python] Getting error as The system cannot
>>>>>>>>>>>> find
>>>>>>>>>>>> the
>>>>>>>>>>>> file
>>>>>>>>>>>> specified
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> When do you get the error? ?When you start Apache?
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> Tim
>>>>>>>>>>>>
>>>>>>>>>>>> On Fri, Mar 27, 2009 at 6:25 AM, rahul
>>>>>>>>>>>> <rahul.warhekar@edisphere.com>
>>>>>>>>>>>> wrote:
>>>>>>>>>>>>
>>>>>>>>>>>> Hello all,
>>>>>>>>>>>>
>>>>>>>>>>>> I am using my mod_python for my web application.
>>>>>>>>>>>>
>>>>>>>>>>>> And I am getting "WindowsError: [Errno 2] The system cannot
>>>>>>>>>>>> find
>>>>>>>>>>>> the
>>>>>>>>>>>> file
>>>>>>>>>>>> specified" error.
>>>>>>>>>>>>
>>>>>>>>>>>> Any quick help reg this will be greatly appreciated and this is
>>>>>>>>>>>> really
>>>>>>>>>>>> urgent.
>>>>>>>>>>>>
>>>>>>>>>>>> Thanks in advance.
>>>>>>>>>>>>
>>>>>>>>>>>> Rahul
>>>>>>>>>>>>
>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>> Mod_python mailing list
>>>>>>>>>>>> Mod_python@modpython.org
>>>>>>>>>>>> http://mailman.modpython.org/mailman/listinfo/mod_python
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> --
>>>>>>>>>>>> "Python is the unholy bastard step-child between Ruby and PHP."
>>>>>>>>>>>> "I'd let an ipod blow up on my leg for $150,000."
>>>>>>>>>>>> "but Ben and Jerry do make a lovely couple."
>>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>
>>>>>
>>>>>
>>>>>
>>>>
>>>
>>>
>>>
>>
>
>
>

From webmaster at world-vr.com  Tue Mar 31 21:26:09 2009
From: webmaster at world-vr.com (David Sfiligoi)
Date: Tue Mar 31 20:39:29 2009
Subject: [mod_python] multiple processing of the same python script by the
	handler
In-Reply-To: <88e286470903291833r62b83923n2793d76031d665ad@mail.gmail.com>
References: <200903290001.46876.webmaster@world-vr.com>
	<200903292215.31384.webmaster@world-vr.com>
	<88e286470903291833r62b83923n2793d76031d665ad@mail.gmail.com>
Message-ID: <200903312126.09568.webmaster@world-vr.com>

Hi Graham,

Thanks for the quick response.   I have implemented a module which I place 
in / (literally) for ensuring that the test works.   I then also wrote a 
small stress test app which would hit the script with a parameter which 
increments at each request to see so I can see if there is multiplicity of 
logging.   Unfortunately there was still multiple entries of the same log 
data.  I should  say that the data received by the server on the other end of 
the socket is now unique(seems to be so far anyway). So thank you for 
assisting :-)   The issue with the logging module still baffles me.  Perhaps 
somebody else on the list has input?

def handler(req):
    davelogger = apache.import_module("/davelogger.py")    
    request_data = util.FieldStorage(req)
    clientip = req.get_remote_host(apache.REMOTE_NOLOOKUP)
    geoip = 'NL'
    str_req_data = str(clientip) + "| CC: " + str(geoip) + "| "
    str_req_datadb = "ip: " + str(clientip) + "| CC: " + str(geoip) + "| "
    for key in request_data:
        str_req_datadb += "| " + str(key) + ": " + str(request_data[key])
        str_req_data += str(key) + ": " + str(request_data[key]) + "| "

    davelogger.logdata(str_req_data[:-2],str_req_datadb)
    return apache.OK

davelogger.py module:

def logdata(data,datadb):
    logger = logging.getLogger('mylogger.py')
    logging_handler = 
logging.FileHandler('/usr/local/apache2/htdocs/mylog.log')    
    formatter = logging.Formatter('%(asctime)s %(levelname)s %(message)s')
    logging_handler.setFormatter(formatter)
    logger.addHandler(logging_handler)
    logger.setLevel(logging.INFO)

    curtime = datetime.now().isoformat(' ')
    try: 
        s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        s.settimeout(0.5)
        s.connect(('10.0.0.2', 8199))
        message = "date: " + str(curtime[:-4] + "| " + datadb)
        len_sent = s.send(message)
        s.close()
        
    except:
        data += '| dbupdate: failed|'
        pass
    logger.info(data)
    
    
log data from the logger module
2009-03-29 23:28:48,452 INFO 10.0.0.2| CC: NL| x: 195
2009-03-29 23:28:48,452 INFO 10.0.0.2| CC: NL| x: 195
2009-03-29 23:28:48,452 INFO 10.0.0.2| CC: NL| x: 195
2009-03-29 23:28:48,452 INFO 10.0.0.2| CC: NL| x: 195
2009-03-29 23:28:48,452 INFO 10.0.0.2| CC: NL| x: 195
2009-03-29 23:28:48,452 INFO 10.0.0.2| CC: NL| x: 195
2009-03-29 23:28:48,452 INFO 10.0.0.2| CC: NL| x: 195
2009-03-29 23:28:48,500 INFO 10.0.0.2| CC: NL| x: 196
2009-03-29 23:28:48,500 INFO 10.0.0.2| CC: NL| x: 196
2009-03-29 23:28:48,500 INFO 10.0.0.2| CC: NL| x: 196
2009-03-29 23:28:48,500 INFO 10.0.0.2| CC: NL| x: 196
2009-03-29 23:28:48,500 INFO 10.0.0.2| CC: NL| x: 196
2009-03-29 23:28:48,500 INFO 10.0.0.2| CC: NL| x: 196

stdout from the socket server:
{'date': '2009-03-29 
23:28:48', 'ip': '10.0.0.2', 'CC': 'NL', 'eventid': '0de8b6b1b019d19bc3e7eb5ca986cdcade75e20587211569eebdfcc8', 'x': '194'}
{'date': '2009-03-29 
23:28:48', 'ip': '10.0.0.2', 'CC': 'NL', 'eventid': 'bc728c0113bb35d748bf2be0fae52a85242c87a0d41495aeee9d69c0', 'x': '195'}
{'date': '2009-03-29 
23:28:48', 'ip': '10.0.0.2', 'CC': 'NL', 'eventid': '9f946b3948d2f2b84b241e25f1a05f2260e53a98a7d1af5a61787f38', 'x': '196'}


On Sunday 29 March 2009 09:33:46 pm you wrote:


> 2009/3/30 David Sfiligoi <webmaster@world-vr.com>:
> > Hi Graham,
> >
> > Yes I agree defining my logger outside the mod python handler was a bad
> > idea. Using the req.log_error works of course. ?Obviously if I wanted
> > integrate this into all the other apps that revolve around those logs,
> > i'd have to write a converter or change each apps which parses the log
> > data.
> >
> > I'd like to understand this a bit better, perhaps I have the wrong basic
> > idea on how the python handler works in overall, but if I install the log
> > handler in the handler function and delete the log objects before ending,
> > shouldn't that take care of the multiple logging issue?
> >
> > Or are you saying that each piece of code that should not produce
> > multiple entries of the same thing should really be inside a module so I
> > can let import_module() take care of it?
>
> Put logging initialisation in a completely separate module outside of
> document tree and not inside of the handler code files. Setup
> PythonPath if need be where that separate module is located,  and then
> have handler code files import that module from that other location.
>
> This should ensure that the logging initialisation code is imported
> and run only once per process. If you intentionally then change the
> logging initialisation module code, you will need to restart Apache.
>
> > Im seeing the same 'multiplicity' issue when I open a socket while in
> > handler function. This is really what trigger the question.
>
> That I can't explain at this point. I was assuming that your
> duplicated logging may have been confusing the issue.
>
> > Thanks,
> >
> > David
> >
> > On Sunday 29 March 2009 05:45:01 am Graham Dumpleton wrote:
> >> If you change a mod_python handler script, it will be automatically
> >> reloaded. This would be a problem in your code as you installed a log
> >> handler each time it is loaded into the same process. Having multiple
> >> instances of the log handler installed would result in the same
> >> information possibly being logged multiple times.
> >>
> >> I would suggest you add inside your handler script:
> >>
> >> ? req.log_error("I have been called")
> >>
> >> If that appears twice in the Apache error log file then I would be
> >> concerned, otherwise I would say the problem is with your use of the
> >> logging module.
> >>
> >> Also read about import_module() in:
> >>
> >> ? http://www.modpython.org/live/current/doc-html/pyapi-apmeth.html
> >>
> >> as it explains a bit about module reloading and the way to preserve
> >> global data or avoid stuff which performs additive operations each
> >> time it is loaded.
> >>
> >> Graham



From graham.dumpleton at gmail.com  Tue Mar 31 20:44:58 2009
From: graham.dumpleton at gmail.com (Graham Dumpleton)
Date: Tue Mar 31 20:45:12 2009
Subject: [mod_python] multiple processing of the same python script by the
	handler
In-Reply-To: <200903312126.09568.webmaster@world-vr.com>
References: <200903290001.46876.webmaster@world-vr.com>
	<200903292215.31384.webmaster@world-vr.com>
	<88e286470903291833r62b83923n2793d76031d665ad@mail.gmail.com>
	<200903312126.09568.webmaster@world-vr.com>
Message-ID: <88e286470903311744t7a347055kf2c8f66e52ebe02c@mail.gmail.com>

You have the registration of the logger inside a function which is
called multiple times. It needs to be a global scope in the module so
it is only done once. See below.

2009/4/1 David Sfiligoi <webmaster@world-vr.com>:
> Hi Graham,
>
> Thanks for the quick response. ? I have implemented a module which I place
> in / (literally) for ensuring that the test works. ? I then also wrote a
> small stress test app which would hit the script with a parameter which
> increments at each request to see so I can see if there is multiplicity of
> logging. ? Unfortunately there was still multiple entries of the same log
> data. ?I should ?say that the data received by the server on the other end of
> the socket is now unique(seems to be so far anyway). So thank you for
> assisting :-) ? The issue with the logging module still baffles me. ?Perhaps
> somebody else on the list has input?
>
> def handler(req):
> ? ?davelogger = apache.import_module("/davelogger.py")
> ? ?request_data = util.FieldStorage(req)
> ? ?clientip = req.get_remote_host(apache.REMOTE_NOLOOKUP)
> ? ?geoip = 'NL'
> ? ?str_req_data = str(clientip) + "| CC: " + str(geoip) + "| "
> ? ?str_req_datadb = "ip: " + str(clientip) + "| CC: " + str(geoip) + "| "
> ? ?for key in request_data:
> ? ? ? ?str_req_datadb += "| " + str(key) + ": " + str(request_data[key])
> ? ? ? ?str_req_data += str(key) + ": " + str(request_data[key]) + "| "
>
> ? ?davelogger.logdata(str_req_data[:-2],str_req_datadb)
> ? ?return apache.OK
>
> davelogger.py module:
>
> def logdata(data,datadb):
> ? ?logger = logging.getLogger('mylogger.py')
> ? ?logging_handler =
> logging.FileHandler('/usr/local/apache2/htdocs/mylog.log')
> ? ?formatter = logging.Formatter('%(asctime)s %(levelname)s %(message)s')
> ? ?logging_handler.setFormatter(formatter)
> ? ?logger.addHandler(logging_handler)
> ? ?logger.setLevel(logging.INFO)

Parts of above initialisation should be at global scope in module, not
inside function which is called multiple times.

Graham

>
> ? ?curtime = datetime.now().isoformat(' ')
> ? ?try:
> ? ? ? ?s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
> ? ? ? ?s.settimeout(0.5)
> ? ? ? ?s.connect(('10.0.0.2', 8199))
> ? ? ? ?message = "date: " + str(curtime[:-4] + "| " + datadb)
> ? ? ? ?len_sent = s.send(message)
> ? ? ? ?s.close()
>
> ? ?except:
> ? ? ? ?data += '| dbupdate: failed|'
> ? ? ? ?pass
> ? ?logger.info(data)
>
>
> log data from the logger module
> 2009-03-29 23:28:48,452 INFO 10.0.0.2| CC: NL| x: 195
> 2009-03-29 23:28:48,452 INFO 10.0.0.2| CC: NL| x: 195
> 2009-03-29 23:28:48,452 INFO 10.0.0.2| CC: NL| x: 195
> 2009-03-29 23:28:48,452 INFO 10.0.0.2| CC: NL| x: 195
> 2009-03-29 23:28:48,452 INFO 10.0.0.2| CC: NL| x: 195
> 2009-03-29 23:28:48,452 INFO 10.0.0.2| CC: NL| x: 195
> 2009-03-29 23:28:48,452 INFO 10.0.0.2| CC: NL| x: 195
> 2009-03-29 23:28:48,500 INFO 10.0.0.2| CC: NL| x: 196
> 2009-03-29 23:28:48,500 INFO 10.0.0.2| CC: NL| x: 196
> 2009-03-29 23:28:48,500 INFO 10.0.0.2| CC: NL| x: 196
> 2009-03-29 23:28:48,500 INFO 10.0.0.2| CC: NL| x: 196
> 2009-03-29 23:28:48,500 INFO 10.0.0.2| CC: NL| x: 196
> 2009-03-29 23:28:48,500 INFO 10.0.0.2| CC: NL| x: 196
>
> stdout from the socket server:
> {'date': '2009-03-29
> 23:28:48', 'ip': '10.0.0.2', 'CC': 'NL', 'eventid': '0de8b6b1b019d19bc3e7eb5ca986cdcade75e20587211569eebdfcc8', 'x': '194'}
> {'date': '2009-03-29
> 23:28:48', 'ip': '10.0.0.2', 'CC': 'NL', 'eventid': 'bc728c0113bb35d748bf2be0fae52a85242c87a0d41495aeee9d69c0', 'x': '195'}
> {'date': '2009-03-29
> 23:28:48', 'ip': '10.0.0.2', 'CC': 'NL', 'eventid': '9f946b3948d2f2b84b241e25f1a05f2260e53a98a7d1af5a61787f38', 'x': '196'}
>
>
> On Sunday 29 March 2009 09:33:46 pm you wrote:
>
>
>> 2009/3/30 David Sfiligoi <webmaster@world-vr.com>:
>> > Hi Graham,
>> >
>> > Yes I agree defining my logger outside the mod python handler was a bad
>> > idea. Using the req.log_error works of course. ?Obviously if I wanted
>> > integrate this into all the other apps that revolve around those logs,
>> > i'd have to write a converter or change each apps which parses the log
>> > data.
>> >
>> > I'd like to understand this a bit better, perhaps I have the wrong basic
>> > idea on how the python handler works in overall, but if I install the log
>> > handler in the handler function and delete the log objects before ending,
>> > shouldn't that take care of the multiple logging issue?
>> >
>> > Or are you saying that each piece of code that should not produce
>> > multiple entries of the same thing should really be inside a module so I
>> > can let import_module() take care of it?
>>
>> Put logging initialisation in a completely separate module outside of
>> document tree and not inside of the handler code files. Setup
>> PythonPath if need be where that separate module is located, ?and then
>> have handler code files import that module from that other location.
>>
>> This should ensure that the logging initialisation code is imported
>> and run only once per process. If you intentionally then change the
>> logging initialisation module code, you will need to restart Apache.
>>
>> > Im seeing the same 'multiplicity' issue when I open a socket while in
>> > handler function. This is really what trigger the question.
>>
>> That I can't explain at this point. I was assuming that your
>> duplicated logging may have been confusing the issue.
>>
>> > Thanks,
>> >
>> > David
>> >
>> > On Sunday 29 March 2009 05:45:01 am Graham Dumpleton wrote:
>> >> If you change a mod_python handler script, it will be automatically
>> >> reloaded. This would be a problem in your code as you installed a log
>> >> handler each time it is loaded into the same process. Having multiple
>> >> instances of the log handler installed would result in the same
>> >> information possibly being logged multiple times.
>> >>
>> >> I would suggest you add inside your handler script:
>> >>
>> >> ? req.log_error("I have been called")
>> >>
>> >> If that appears twice in the Apache error log file then I would be
>> >> concerned, otherwise I would say the problem is with your use of the
>> >> logging module.
>> >>
>> >> Also read about import_module() in:
>> >>
>> >> ? http://www.modpython.org/live/current/doc-html/pyapi-apmeth.html
>> >>
>> >> as it explains a bit about module reloading and the way to preserve
>> >> global data or avoid stuff which performs additive operations each
>> >> time it is loaded.
>> >>
>> >> Graham
>
>
>

