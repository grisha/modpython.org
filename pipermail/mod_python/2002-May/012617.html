<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Serving files via mod_python
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Serving%20files%20via%20mod_python&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012613.html">
   <LINK REL="Next"  HREF="012620.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Serving files via mod_python</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Hugo van der Merwe</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Serving%20files%20via%20mod_python&In-Reply-To="
       TITLE="[mod_python] Serving files via mod_python">s13361562 at bach.sun.ac.za
       </A><BR>
    <I>Mon May 20 21:05:31 EST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="012613.html">[mod_python] Re: Your Logo
</A></li>
        <LI>Next message: <A HREF="012620.html">[mod_python] Serving files via mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12617">[ date ]</a>
              <a href="thread.html#12617">[ thread ]</a>
              <a href="subject.html#12617">[ subject ]</a>
              <a href="author.html#12617">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I want to use mod_python to control what files can be downloaded by
whom, and to log such file transfers (with my own code). One possibility
is also to convert some files' contents on the fly.

I am currently using:

f = open(filename, &quot;r&quot;)
while 1:
  data = f.read(1048576)
  if data = &quot;&quot;: break
  req.write(data)

It seems to work fine. I just wonder if this is bad (performance wise, I
wonder what the best &quot;size&quot; would be, instead of 1M). These are
potentially *large* files I'm dealing with, things like cd images. At a
later date I guess I'll have to figure out how to do download resuming,
etc. I'm sure Apache does a better job of this, maybe I should rather
let Apache handle it, how can I do this while controlling it all from
modPython? I guess I could just define a PythonAuthenHandler, and let
Apache do the actual serving? Does the PythonAuthenHandler have full
access to just about everything a normal handler would? (URL, etc.)

If there was some way to give Apache a file handle or something like
that, from which it should serve the data...

Thanks,
Hugo van der Merwe

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012613.html">[mod_python] Re: Your Logo
</A></li>
	<LI>Next message: <A HREF="012620.html">[mod_python] Serving files via mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12617">[ date ]</a>
              <a href="thread.html#12617">[ thread ]</a>
              <a href="subject.html#12617">[ subject ]</a>
              <a href="author.html#12617">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
