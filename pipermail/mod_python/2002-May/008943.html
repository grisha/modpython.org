<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [dustin@ywlcs.org: Re: [mod_python] [patch] make autoreload more useful]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bdustin%40ywlcs.org%3A%20Re%3A%20%5Bmod_python%5D%20%5Bpatch%5D%20make%20autoreload%20more%20useful%5D&In-Reply-To=20020530004544.GF2519%40eleanor.internal.ywlcs.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008941.html">
   <LINK REL="Next"  HREF="008945.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
<table border=0 width="100%"><tr><td valign="top">
   <H1>[dustin@ywlcs.org: Re: [mod_python] [patch] make autoreload more useful]</H1>
    <B>Martin Pool</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bdustin%40ywlcs.org%3A%20Re%3A%20%5Bmod_python%5D%20%5Bpatch%5D%20make%20autoreload%20more%20useful%5D&In-Reply-To=20020530004544.GF2519%40eleanor.internal.ywlcs.org"
       TITLE="[dustin@ywlcs.org: Re: [mod_python] [patch] make autoreload more useful]">mbp at samba.org
       </A><BR>
    <I>Thu May 30 11:02:10 EST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="008941.html">[dustin@ywlcs.org: Re: [mod_python] [patch] make autoreload more useful]
</A></li>
        <LI>Next message: <A HREF="008945.html">[dustin@ywlcs.org: Re: [mod_python] [patch] make autoreload more useful]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8943">[ date ]</a>
              <a href="thread.html#8943">[ thread ]</a>
              <a href="subject.html#8943">[ subject ]</a>
              <a href="author.html#8943">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 29 May 2002, Dustin Mitchell &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">dustin at ywlcs.org</A>&gt; wrote:

&gt;<i> Right, and in a development environment (the only place one would use a
</I>&gt;<i> reloader) I suppose that would be acceptable.  However, if you're testing
</I>&gt;<i> against the production database server (a not-unreasonable proposition for a
</I>&gt;<i> small to midsize shop with a complex database schema), all those extra
</I>&gt;<i> connections might prove to be a burden.  And you can't guarantee that Python
</I>&gt;<i> will close them when the module is &quot;unloaded&quot;, as the module may continue to
</I>&gt;<i> exist for some time.
</I>
(I realize it's only an example.)

How often are developers changing and testing their code -- every few
minutes at most?  Suppose every ten seconds on average if you have a
few developers.  If your database can't cope with merely opening and
closing connections at that frequency I think you have big problems
that need to be addressed in some other way.  (More hardware, local
cache, ...)

It's equally or more likely that holding idle connections open
indefinitely would cause resource problems.

Anyhow, such a shop could always forbid use of the reloader.  There's
no need to penalize all users for the sake of this rare and
hypothetical case.

&gt;<i> Regarding permanent variables, under ordinary Python reload semantics, you
</I>&gt;<i> can do something like:
</I>
I guess you could just stick the reference into somewhere in sys, but
of course that might result in other modules that you *do* want to
have reloaded actually not being so.

I think the real problem is that without reloading, if you ever forget
to restart Apache, different apache children can have different
versions of the code, which is very confusing.

-- 
Martin 

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008941.html">[dustin@ywlcs.org: Re: [mod_python] [patch] make autoreload more useful]
</A></li>
	<LI>Next message: <A HREF="008945.html">[dustin@ywlcs.org: Re: [mod_python] [patch] make autoreload more useful]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8943">[ date ]</a>
              <a href="thread.html#8943">[ thread ]</a>
              <a href="subject.html#8943">[ subject ]</a>
              <a href="author.html#8943">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
