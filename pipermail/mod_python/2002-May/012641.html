<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] [patch] make autoreload more useful
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20%5Bpatch%5D%20make%20autoreload%20more%20useful&In-Reply-To=20020530005312.GG2519%40eleanor.internal.ywlcs.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012639.html">
   <LINK REL="Next"  HREF="012638.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] [patch] make autoreload more useful</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Martin Pool</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20%5Bpatch%5D%20make%20autoreload%20more%20useful&In-Reply-To=20020530005312.GG2519%40eleanor.internal.ywlcs.org"
       TITLE="[mod_python] [patch] make autoreload more useful">mbp at samba.org
       </A><BR>
    <I>Thu May 30 11:08:15 EST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="012639.html">[mod_python] [patch] make autoreload more useful
</A></li>
        <LI>Next message: <A HREF="012638.html">[dustin@ywlcs.org: Re: [mod_python] [patch] make autoreload more useful]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12641">[ date ]</a>
              <a href="thread.html#12641">[ thread ]</a>
              <a href="subject.html#12641">[ subject ]</a>
              <a href="author.html#12641">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 29 May 2002, Dustin Mitchell &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">dustin at ywlcs.org</A>&gt; wrote:

&gt;<i> And the cost will be zero, if AutoReload is turned off :-)
</I>
Yes, that's the nice thing.

&gt;<i> True, but there are valid reasons to want to test and develop such
</I>&gt;<i> opportunistic caching mechanisms (since anything opportunistic is by at least
</I>&gt;<i> a little bit nondeterministic, it probably needs the most testing).
</I>
Yes.  You can test them (without changing the code) perfectly well
with this patch.  If you're changing the caching code then by
definition you need to restart one way or another.

Indeed, having objects in memory where the same datastructure is
modified by different versions of the code (with different bugs)
sounds like a recipe for confusion.  Suppose an earlier version of the
cache code actually broke one of the data structure invariants on the
cache -- you *want* to dump and reinitialize the thing.

&gt;<i> BTW: I assume you're not implying that opportunistic caching is overly
</I>&gt;<i> fragile!  It's a great technique!  Relying on not being reloaded, however, is
</I>&gt;<i> obviously stupid, since the Apache API *will* reload you :-)
</I>
Yes, that's what I meant: it's only dumb if you *rely* on persistence,
rather than just taking advantage of it when it happens.

Indeed an important part of testing that kind of code would be to set
MaxRequestsPerChild to a low number and make sure that it still works
when it is always being flushed.

-- 
Martin 

Every Python user scoffed at it once, saying significant whitespace is
the past.
	-- Moshe Zadka (?)

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012639.html">[mod_python] [patch] make autoreload more useful
</A></li>
	<LI>Next message: <A HREF="012638.html">[dustin@ywlcs.org: Re: [mod_python] [patch] make autoreload more useful]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12641">[ date ]</a>
              <a href="thread.html#12641">[ thread ]</a>
              <a href="subject.html#12641">[ subject ]</a>
              <a href="author.html#12641">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
