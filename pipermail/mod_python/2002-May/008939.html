<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] [patch] make autoreload more useful
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20%5Bpatch%5D%20make%20autoreload%20more%20useful&In-Reply-To=20020529124504.GG1280%40eleanor.internal.ywlcs.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008938.html">
   <LINK REL="Next"  HREF="008940.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
<table border=0 width="100%"><tr><td valign="top">
   <H1>[mod_python] [patch] make autoreload more useful</H1>
    <B>Ian Clelland</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20%5Bpatch%5D%20make%20autoreload%20more%20useful&In-Reply-To=20020529124504.GG1280%40eleanor.internal.ywlcs.org"
       TITLE="[mod_python] [patch] make autoreload more useful">ian at veryfresh.com
       </A><BR>
    <I>Wed May 29 15:57:38 EST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="008938.html">[mod_python] [patch] make autoreload more useful
</A></li>
        <LI>Next message: <A HREF="008940.html">[mod_python] [patch] make autoreload more useful
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8939">[ date ]</a>
              <a href="thread.html#8939">[ thread ]</a>
              <a href="subject.html#8939">[ subject ]</a>
              <a href="author.html#8939">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> 2. One other difficulty: some modules actually *do* want to have global
</I>&gt;<i> state.  For example, a MySQL interface should be able to establish its
</I>&gt;<i> connection once and maintain that through many requests.
</I>
But in general, you can't guarantee this in *any* situation. All of the 
modules have to work properly when none of their resources are 
installed (say, on server startup,) and they have to be prepared to die 
at any point.

Usually, persistent connections are used for performance reasons only; 
the modules would otherwise be perfectly happy re-opening every 
database connection on every hit.

This auto-reload feature should only be used during development anyway, 
so performance issues like this shouldn't be a problem (turn it off 
during heavy load testing, of course), and it would be much easier than 
completely restarting the web server after every source file change, 
which is what I'm currently doing.


&gt;<i> Perhaps there should be a mechanism for a module to say &quot;don't remove 
</I>&gt;<i> me!&quot;, or at least &quot;preserve the value of this variable&quot;.
</I>
I don't think this is possible in the general case (and I'm pretty sure 
Python doesn't support it). What would happen if a new version of the 
source file uses a different name for the variable? Or worse, uses the 
same variable (name) for a completely different purpose?


Ian
&lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">ian at veryfresh.com</A>&gt;

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008938.html">[mod_python] [patch] make autoreload more useful
</A></li>
	<LI>Next message: <A HREF="008940.html">[mod_python] [patch] make autoreload more useful
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8939">[ date ]</a>
              <a href="thread.html#8939">[ thread ]</a>
              <a href="subject.html#8939">[ subject ]</a>
              <a href="author.html#8939">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
