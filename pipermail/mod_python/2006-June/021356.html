<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] passing pickles
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20passing%20pickles&In-Reply-To=20060609173311.GC15781%40asu.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021355.html">
   <LINK REL="Next"  HREF="021357.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] passing pickles</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Jorey Bump</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20passing%20pickles&In-Reply-To=20060609173311.GC15781%40asu.edu"
       TITLE="[mod_python] passing pickles">list at joreybump.com
       </A><BR>
    <I>Fri Jun  9 13:55:39 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021355.html">[mod_python] passing pickles
</A></li>
        <LI>Next message: <A HREF="021357.html">[mod_python] passing pickles
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21356">[ date ]</a>
              <a href="thread.html#21356">[ thread ]</a>
              <a href="subject.html#21356">[ subject ]</a>
              <a href="author.html#21356">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>David Bear wrote:
&gt;<i> Many thanks for all the great comments and suggestions.
</I>&gt;<i> 
</I>&gt;<i> I do see how passing a pickled in a form object is any less secure
</I>&gt;<i> then passing the same information in a string. It would be easy to
</I>&gt;<i> added two items to make it 'unbreakable'.
</I>&gt;<i> 
</I>&gt;<i> first, after base64 encoding the pickle, I could create an md5sum and
</I>&gt;<i> put that into a second form elment. Then, I could include one
</I>&gt;<i> non-pickled item in a third form element. So, it would look something
</I>&gt;<i> like this.
</I>&gt;<i> 
</I>&gt;<i> shorthand psuedo code (not python)
</I>&gt;<i> form1 = [name, address, phone]
</I>&gt;<i> pickledform1 = base64(pickle(form1))
</I>&gt;<i> check = md5sum(pickeldform1)
</I>&gt;<i> form1 = [pickkledform1, name(from form 1), ,check, additional form fields]
</I>
If I understand your pseudocode correctly, I could still unencode the 
pickle, alter it, reencode it, generate a new md5sum, then submit it.

You could mitigate this by storing the md5sum on the server only for 
comparison, but then you might as well just save the pickle on the 
server. Of course, you could extend this by using only the md5sum as a 
hidden form input value to locate/identify the pickle on the server, but 
an ordinary randomized string is good enough for that.

It all depends on the problem you're trying to solve, and the risks 
involved with exposing the pickle data or letting it be altered. Just 
keep in mind that exchanging the pickle with the client for the sake of 
offloading the storage won't save you much if it increases latency and 
the bandwidth used by your application. As a cookie replacement for 
session management, it's kind of interesting, though (as long as 
altering it doesn't allow access to other user accounts, for example).


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021355.html">[mod_python] passing pickles
</A></li>
	<LI>Next message: <A HREF="021357.html">[mod_python] passing pickles
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21356">[ date ]</a>
              <a href="thread.html#21356">[ thread ]</a>
              <a href="subject.html#21356">[ subject ]</a>
              <a href="author.html#21356">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
