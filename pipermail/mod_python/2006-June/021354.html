<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] passing pickles
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20passing%20pickles&In-Reply-To=29a6ca010606062245x481fec9frccdf0d270d89571a%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021340.html">
   <LINK REL="Next"  HREF="021355.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] passing pickles</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>David Bear</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20passing%20pickles&In-Reply-To=29a6ca010606062245x481fec9frccdf0d270d89571a%40mail.gmail.com"
       TITLE="[mod_python] passing pickles">David.Bear at asu.edu
       </A><BR>
    <I>Fri Jun  9 13:33:11 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021340.html">[mod_python] passing pickles
</A></li>
        <LI>Next message: <A HREF="021355.html">[mod_python] passing pickles
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21354">[ date ]</a>
              <a href="thread.html#21354">[ thread ]</a>
              <a href="subject.html#21354">[ subject ]</a>
              <a href="author.html#21354">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Many thanks for all the great comments and suggestions.

I do see how passing a pickled in a form object is any less secure
then passing the same information in a string. It would be easy to
added two items to make it 'unbreakable'.

first, after base64 encoding the pickle, I could create an md5sum and
put that into a second form elment. Then, I could include one
non-pickled item in a third form element. So, it would look something
like this.

shorthand psuedo code (not python)
form1 = [name, address, phone]
pickledform1 = base64(pickle(form1))
check = md5sum(pickeldform1)
form1 = [pickkledform1, name(from form 1), ,check, additional form fields]

Really, the only point of pickling the items from the first form is
just to save effort when collecting and handling the form data from
the second form.

However, if that is the only thing that is gained from doing this..
then its not much.

I'm still hesitating using session objects as I don't understand
them.. and have read too many things about problems they cause.

On Tue, Jun 06, 2006 at 10:45:20PM -0700, Colin Bean wrote:
&gt;<i> Hi David,
</I>&gt;<i> 
</I>&gt;<i> I wouldn't consider this method safe at all; a user could easily craft
</I>&gt;<i> their own pickled data that does something nasty and edit the source
</I>&gt;<i> of the form page to post it to your server.  Would it work to store a
</I>&gt;<i> user's prior form data in a session?  You could still use data from
</I>&gt;<i> the first form to generate the second page dynamically.
</I>&gt;<i> 
</I>&gt;<i> -Colin
</I>&gt;<i> 
</I>&gt;<i> On 6/6/06, David Bear &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">David.Bear at asu.edu</A>&gt; wrote:
</I>&gt;<i> &gt;I'm thinking of a simple way to pass form data between different
</I>&gt;<i> &gt;forms. For example, if I have page1 with form1 in it, and then for
</I>&gt;<i> &gt;page2 dynamically generate the form elements for form2 including data
</I>&gt;<i> &gt;from form1, how safe is it to put a python pickle in a form element?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;for example, something like
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&lt;input type=&quot;hidden&quot; name=&quot;priordata&quot; value=&quot;pythonpicklegoeshere&quot; &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;when the form is submitted, I should get a req.form[&quot;priordata&quot;] that
</I>&gt;<i> &gt;I can de-pickle right?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;--
</I>&gt;<i> &gt;David Bear
</I>&gt;<i> &gt;phone:  480-965-8257
</I>&gt;<i> &gt;fax:    480-965-9189
</I>&gt;<i> &gt;College of Public Programs/ASU
</I>&gt;<i> &gt;Wilson Hall 232
</I>&gt;<i> &gt;Tempe, AZ 85287-0803
</I>&gt;<i> &gt; &quot;Beware the IP portfolio, everyone will be suspect of trespassing&quot;
</I>&gt;<i> &gt;_______________________________________________
</I>&gt;<i> &gt;Mod_python mailing list
</I>&gt;<i> &gt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> &gt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> &gt;
</I>
-- 
David Bear
phone: 	480-965-8257
fax: 	480-965-9189
College of Public Programs/ASU
Wilson Hall 232
Tempe, AZ 85287-0803
 &quot;Beware the IP portfolio, everyone will be suspect of trespassing&quot;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021340.html">[mod_python] passing pickles
</A></li>
	<LI>Next message: <A HREF="021355.html">[mod_python] passing pickles
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21354">[ date ]</a>
              <a href="thread.html#21354">[ thread ]</a>
              <a href="subject.html#21354">[ subject ]</a>
              <a href="author.html#21354">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
