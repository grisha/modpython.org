<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] How to make mod_python (Win32) not to rely
	onregistrykey?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20How%20to%20make%20mod_python%20%28Win32%29%20not%20to%20rely%0A%09onregistrykey%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021496.html">
   <LINK REL="Next"  HREF="021500.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] How to make mod_python (Win32) not to rely
	onregistrykey?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20How%20to%20make%20mod_python%20%28Win32%29%20not%20to%20rely%0A%09onregistrykey%3F&In-Reply-To="
       TITLE="[mod_python] How to make mod_python (Win32) not to rely
	onregistrykey?">grahamd at dscpl.com.au
       </A><BR>
    <I>Mon Jun 26 19:07:16 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021496.html">[mod_python] How to make mod_python (Win32) not to rely
	on	registry key?
</A></li>
        <LI>Next message: <A HREF="021500.html">[mod_python] How to make mod_python (Win32) not to rely
	onregistrykey?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21497">[ date ]</a>
              <a href="thread.html#21497">[ thread ]</a>
              <a href="subject.html#21497">[ subject ]</a>
              <a href="author.html#21497">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>For what he was trying to do, this was not an option. See:

  <A HREF="http://www.modpython.org/pipermail/mod_python/2006-June/021453.html">http://www.modpython.org/pipermail/mod_python/2006-June/021453.html</A>
  <A HREF="http://www.modpython.org/pipermail/mod_python/2006-June/021456.html">http://www.modpython.org/pipermail/mod_python/2006-June/021456.html</A>

In short, he wants to be able to run stuff off a USB drive and avoid
having to make modifications to the Win32 registry or anywhere'
else outside of the Apache configuration itself.

I unfortunately don't know anything about how Python is configured
on Win32 so it knows where to find things.

If anyone else has suggestions, would be appreciated.

Graham

John Keyes wrote ..
&gt;<i> Sanja,
</I>&gt;<i> 
</I>&gt;<i> Try setting the PYTHON_HOME environment variable:
</I>&gt;<i>    set PYTHON_HOME=c:/Python24
</I>&gt;<i> 
</I>&gt;<i> -John K
</I>&gt;<i> 
</I>&gt;<i> Graham Dumpleton wrote:
</I>&gt;<i> &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">sanja at bougakov.com</A> wrote ..
</I>&gt;<i> &gt;&gt; Hello, Graham,
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; The problem is that adding the
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;    PythonPath &quot;sys.path +
</I>&gt;<i> &gt;&gt; ['C:/Python24/Lib','C:/Python24/Lib/mod_python','C:/Python24/DLLs','C:/Python24/Lib/lib-tk']&quot;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; line in httpd.conf doesn't help - I still get the
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;   [Mon Jun 26 15:56:04 2006] [error] [client 127.0.0.1] python_handler:
</I>&gt;<i> &gt;&gt;   make_obcallback returned no obCallBack!
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; in Apache's error.log file. But when I restore the
</I>&gt;<i> &gt;&gt; HKCU\Software\Python\PythonCore\2.4\PythonPath Registry hive and restart
</I>&gt;<i> &gt;&gt; Apache, everything works OK.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I don't know what happens on Win32, but on UNIX mod_python gets
</I>&gt;<i> &gt; installed in a 'site-packages' directory and the 'site-packages'
</I>&gt;<i> &gt; directory only would be in sys.path, and not the mod_python package
</I>&gt;<i> &gt; directory.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Where is the mod_python package installed?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Does the user which Apache runs as have permission to read the stuff
</I>&gt;<i> in
</I>&gt;<i> &gt; the mod_python package directory?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Can people who know Win32 better than I help out at this point.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Graham
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;&gt;&gt; The SetEnv directive only affects environment variables inherited by
</I>&gt;<i> &gt;&gt;&gt; CGI scripts. It does not affect the environment of Apache itself and
</I>&gt;<i> &gt;&gt;&gt; thus does not affect the environment of mod_python. In order to add
</I>&gt;<i> &gt;&gt;&gt; extra directories into the Python module search path, use the
</I>&gt;<i> &gt;&gt;&gt; PythonPath directive as documented in the mod_python documentation.
</I>&gt;<i> &gt;&gt;&gt; Graham
</I>&gt;<i> &gt;&gt;&gt; On 23/06/2006, at 8:00 PM, sanja at bougakov.com wrote:
</I>&gt;<i> &gt;&gt;&gt;&gt; The problem is that mod_python doesn't look at these env.
</I>&gt;<i> &gt;&gt;&gt;&gt; variables. It checks only HKCU\Software\Python registry hive.
</I>&gt;<i> &gt;&gt;&gt;&gt; If I remove it and restart Apache, I get &quot;error 500&quot;.
</I>&gt;<i> &gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt; Mod_python mailing list
</I>&gt;<i> &gt;&gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> &gt;&gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mod_python mailing list
</I>&gt;<i> &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> &gt; 
</I></PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021496.html">[mod_python] How to make mod_python (Win32) not to rely
	on	registry key?
</A></li>
	<LI>Next message: <A HREF="021500.html">[mod_python] How to make mod_python (Win32) not to rely
	onregistrykey?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21497">[ date ]</a>
              <a href="thread.html#21497">[ thread ]</a>
              <a href="subject.html#21497">[ subject ]</a>
              <a href="author.html#21497">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
