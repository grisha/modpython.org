<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] return type of parse method of class SignedCookie
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20return%20type%20of%20parse%20method%20of%20class%20SignedCookie&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021456.html">
   <LINK REL="Next"  HREF="021455.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] return type of parse method of class SignedCookie</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Daniel Nogradi</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20return%20type%20of%20parse%20method%20of%20class%20SignedCookie&In-Reply-To="
       TITLE="[mod_python] return type of parse method of class SignedCookie">nogradi at gmail.com
       </A><BR>
    <I>Fri Jun 23 16:41:56 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021456.html">[mod_python] How to make mod_python (Win32) not to rely on
	registry key?
</A></li>
        <LI>Next message: <A HREF="021455.html">[mod_python] return type of parse method of class SignedCookie
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21454">[ date ]</a>
              <a href="thread.html#21454">[ thread ]</a>
              <a href="subject.html#21454">[ subject ]</a>
              <a href="author.html#21454">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm slightly confused about the return type of the parse method of
SignedCookie and the way one should check if the cookie was signed
correctly. Cookie.py defines the parse method as

class SignedCookie(Cookie):
    ....
    def parse(Class, s, secret):

        dict = _parse_cookie(s, Class)
        ....
        return dict

and the function _parse_cookie is defined something like

def _parse_cookie(str, Class):
    ....
    result = {}
    ....
    return result

so it seems to me that the return type of the parse method of
SignedCookie is dict so I don't really know what to make of the docs
saying

  Note: Always check the types of objects returned by
SignedCookie.parse().If it is an instance
  of Cookie (as opposed to SignedCookie), the signature verification has failed:

  # assume spam is supposed to be a signed cookie
  if type(spam) is not Cookie.SignedCookie:
      # do something that indicates cookie isn't signed correctly

Isn't the return type always dict and never Cookie.SignedCookie? Or am
I misunderstanding something somewhere?
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021456.html">[mod_python] How to make mod_python (Win32) not to rely on
	registry key?
</A></li>
	<LI>Next message: <A HREF="021455.html">[mod_python] return type of parse method of class SignedCookie
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21454">[ date ]</a>
              <a href="thread.html#21454">[ thread ]</a>
              <a href="subject.html#21454">[ subject ]</a>
              <a href="author.html#21454">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
