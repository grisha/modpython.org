<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] segmentation fault
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20segmentation%20fault&In-Reply-To=448580DB.7090104%40ulb.ac.be">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021328.html">
   <LINK REL="Next"  HREF="021333.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] segmentation fault</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Jim Gallacher</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20segmentation%20fault&In-Reply-To=448580DB.7090104%40ulb.ac.be"
       TITLE="[mod_python] segmentation fault">jpg at jgassociates.ca
       </A><BR>
    <I>Tue Jun  6 12:03:37 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021328.html">[mod_python] segmentation fault
</A></li>
        <LI>Next message: <A HREF="021333.html">[mod_python] running templates, was segmentation fault
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21330">[ date ]</a>
              <a href="thread.html#21330">[ thread ]</a>
              <a href="subject.html#21330">[ subject ]</a>
              <a href="author.html#21330">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Julien Cigar wrote:
&gt;<i> I found the problem.
</I>&gt;<i> The problem was that I have to put a relative path in place of an 
</I>&gt;<i> absolute path ...
</I>
Interesting. I'm not sure if this is a know problem, but I'll 
investigate it as segmentation faults suck.

&gt;<i> Another question about the include directive, why can't I do:
</I>&gt;<i> mytemplate.run({'body' : 'invasive/list.psp'})
</I>&gt;<i> 
</I>&gt;<i> and in my template file :
</I>&gt;<i> &lt;%@ include file=&quot;&lt;%= body %&gt;&quot;%&gt;
</I>&gt;<i> 
</I>&gt;<i> This doesn't work .. any idea ?
</I>
I assume it's a limitation of the parser but I don't know if this use 
case has come up before. I'm not sure how easy it would be to tweak the 
parser to work recursively or if it's worth the effort. Others are of 
course free to investigate. :)

As an alternative you could do:

body_template = psp.PSP(req, filename=&quot;list.psp&quot;)
mytemplate.run({'body' : body_template})

Jim

&gt;<i> Jim Gallacher wrote:
</I>&gt;&gt;<i> Julien Cigar wrote:
</I>&gt;&gt;&gt;<i> Hello,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Any idea what could make Apache2 segfaulting when I have an: &lt;%@ 
</I>&gt;&gt;&gt;<i> include file=&quot;/foo/bar/views/lol.html&quot; %&gt; in a PSP template ?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> [Tue Jun 06 14:21:35 2006] [notice] child pid 28455 exit signal 
</I>&gt;&gt;&gt;<i> Segmentation fault (11)
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> If I remove the &lt;%@ include %&gt; statement, everything work fine.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> (mod_python 3.2.8, apache 2.0.55)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Is lol.html just html, or does it contain python or psp code as well?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Does lol.html parse correctly on its own? You can test it in a command 
</I>&gt;&gt;<i> line interpreter:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> from mod_python import _psp
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> code = _psp.parse('lol.html')
</I>&gt;&gt;<i> print code
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Jim
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> 
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021328.html">[mod_python] segmentation fault
</A></li>
	<LI>Next message: <A HREF="021333.html">[mod_python] running templates, was segmentation fault
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21330">[ date ]</a>
              <a href="thread.html#21330">[ thread ]</a>
              <a href="subject.html#21330">[ subject ]</a>
              <a href="author.html#21330">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
