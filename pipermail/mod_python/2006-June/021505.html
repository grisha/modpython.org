<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] How to make mod_python (Win32) not to
	relyonregistrykey?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20How%20to%20make%20mod_python%20%28Win32%29%20not%20to%0A%09relyonregistrykey%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021515.html">
   <LINK REL="Next"  HREF="021507.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] How to make mod_python (Win32) not to
	relyonregistrykey?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20How%20to%20make%20mod_python%20%28Win32%29%20not%20to%0A%09relyonregistrykey%3F&In-Reply-To="
       TITLE="[mod_python] How to make mod_python (Win32) not to
	relyonregistrykey?">grahamd at dscpl.com.au
       </A><BR>
    <I>Tue Jun 27 18:18:49 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021515.html">[mod_python] How to make mod_python (Win32) not to rely
	onregistrykey?
</A></li>
        <LI>Next message: <A HREF="021507.html">[mod_python] &quot;Internal Server Error&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21505">[ date ]</a>
              <a href="thread.html#21505">[ thread ]</a>
              <a href="subject.html#21505">[ subject ]</a>
              <a href="author.html#21505">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Nicolas Lehuen wrote ..
&gt;<i> I'm not sure this is a mod_python problem, rather a Python problem.
</I>&gt;<i> There is a &quot;Movable Python&quot; project which is precisely what you may
</I>&gt;<i> want : a Python distribution that doesn't need to be installed.
</I>&gt;<i> Apparently the server is down right now, but you'll find it here :
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://www.voidspace.org.uk/python/movpy/">http://www.voidspace.org.uk/python/movpy/</A>
</I>&gt;<i> 
</I>&gt;<i> Anyway, let me get things clear : what you would like is to be able to
</I>&gt;<i> specify relative paths in the PythonPath directive, right ? So it's
</I>&gt;<i> not related anymore with the need to set environment variable.
</I>&gt;<i> 
</I>&gt;<i> Have you just tried to use the PythonPath directive, and NOT the
</I>&gt;<i> environment variable, providing it absolute paths for a starter ? We
</I>&gt;<i> must first check whether the PythonPath directive solves the problem
</I>&gt;<i> if provided with absolute paths, before trying to patch it to accept
</I>&gt;<i> relative paths.
</I>
PythonPath is what I suggested in the first place. Apparently it didn't
work as mod_python callback creation failed. See:

  <A HREF="http://www.modpython.org/pipermail/mod_python/2006-June/021495.html">http://www.modpython.org/pipermail/mod_python/2006-June/021495.html</A>

Unfortunately it is a bit hard to debug why with mod_python 3.2.8
whereas if there was 3.2.9rc? as Win32 package to try, it now generates
lots of debug when callback creation fails to help track down why.

I've wandered in the past whether a PythonHome directive might be
useful. The intent being that mod_python takes that value and populates
PYTHONHOME environment variable before it actually calls init functions
for Python. I saw its use as quite limited so hadn't done anything about
it, but maybe it might have helped in this situation.

Graham

&gt;<i> 2006/6/27, <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">sanja at bougakov.com</A> &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">sanja at bougakov.com</A>&gt;:
</I>&gt;<i> &gt; It doesn't seem to be the perfect option - it will keep ugly DOS window
</I>&gt;<i> &gt; open all the time Apache works.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Maybe someone will suggest how to patch mod_python sources to specify
</I>&gt;<i> &gt; PYTHONPATH relative to the location of mod_python.dll?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Yours,
</I>&gt;<i> &gt; Sanja
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; I think that's the way to go, because it looks like Python doesn't
</I>&gt;<i> &gt; &gt; like the environment variables set by Apache. I need to investigate
</I>&gt;<i> &gt; &gt; more, but your solution, John, is a sure bet.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Regards,
</I>&gt;<i> &gt; &gt; Nicolas
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; 2006/6/27, John Keyes &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">john.keyes at secantus.com</A>&gt;:
</I>&gt;<i> &gt; &gt;&gt; I think he can still do it if he launches apache from a batch
</I>&gt;<i> &gt; &gt;&gt; file.  Inside this batch file set the PYTHON_HOME.  This
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mod_python mailing list
</I>&gt;<i> &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> &gt;
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I></PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021515.html">[mod_python] How to make mod_python (Win32) not to rely
	onregistrykey?
</A></li>
	<LI>Next message: <A HREF="021507.html">[mod_python] &quot;Internal Server Error&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21505">[ date ]</a>
              <a href="thread.html#21505">[ thread ]</a>
              <a href="subject.html#21505">[ subject ]</a>
              <a href="author.html#21505">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
