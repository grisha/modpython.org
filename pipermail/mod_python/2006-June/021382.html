<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Re: Mike's psp upload
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20Mike%27s%20psp%20upload&In-Reply-To=015801c68edb%24b1dc88c0%24c7010a0a%40SANDIP">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021377.html">
   <LINK REL="Next"  HREF="021390.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Re: Mike's psp upload</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Mike Looijmans</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20Mike%27s%20psp%20upload&In-Reply-To=015801c68edb%24b1dc88c0%24c7010a0a%40SANDIP"
       TITLE="[mod_python] Re: Mike's psp upload">nlv11281 at natlab.research.philips.com
       </A><BR>
    <I>Tue Jun 13 09:57:35 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021377.html">[mod_python] Re: Mike's psp upload
</A></li>
        <LI>Next message: <A HREF="021390.html">[mod_python] Re: Mike's psp upload
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21382">[ date ]</a>
              <a href="thread.html#21382">[ thread ]</a>
              <a href="subject.html#21382">[ subject ]</a>
              <a href="author.html#21382">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The default behaviour of FieldStorage is to place the uploaded file in 
some temp location. By providing the callback, you can prevent the file 
being stored twice (once on temp, once on the final location). This 
allows uploading files of many gigabytes without consuming diskspace or 
memory.

Note that by doing:
    filedata = afile.file.read()
you read the entire file into system memory. If a user sends you a 1GB 
file, your server is likely to &quot;die&quot; there. Use one of the 
shutil.copyfile functions to copy the file to where you want, without 
(potentially) consuming megabytes of memory.


Mike Looijmans
Philips Natlab / Topic Automation


sandip more wrote:
&gt;<i> hello all,
</I>&gt;<i>  I am also trying to implement file upload functionality with psp. I 
</I>&gt;<i> didn't get the use of callback function.
</I>&gt;<i> I am able to access the data of uploaded file with following code.
</I>&gt;<i>  
</I>&gt;<i> frm = util.FieldStorage(req)
</I>&gt;<i> for afile in frm.getlist('UploadFile'):
</I>&gt;<i>     filedata = afile.file.read()
</I>&gt;<i>     #write filedata to some file in local directory with name 
</I>&gt;<i> afile.filename.
</I>&gt;<i>  
</I>&gt;<i> can someone explain me..what is the need of this callback function? also 
</I>&gt;<i> how it works?
</I>&gt;<i>  
</I>&gt;<i>  
</I>&gt;<i> Thanks
</I>&gt;<i> Sandip
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021377.html">[mod_python] Re: Mike's psp upload
</A></li>
	<LI>Next message: <A HREF="021390.html">[mod_python] Re: Mike's psp upload
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21382">[ date ]</a>
              <a href="thread.html#21382">[ thread ]</a>
              <a href="subject.html#21382">[ subject ]</a>
              <a href="author.html#21382">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
