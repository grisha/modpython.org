<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Problem getting the Publisher handler to return
	nothing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Problem%20getting%20the%20Publisher%20handler%20to%20return%0A%09nothing&In-Reply-To=88e286470801311620n520b3288j22b76b27bc0ec42e%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024796.html">
   <LINK REL="Next"  HREF="024799.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Problem getting the Publisher handler to return
	nothing</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Charles Collis</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Problem%20getting%20the%20Publisher%20handler%20to%20return%0A%09nothing&In-Reply-To=88e286470801311620n520b3288j22b76b27bc0ec42e%40mail.gmail.com"
       TITLE="[mod_python] Problem getting the Publisher handler to return
	nothing">charles.collis at gmail.com
       </A><BR>
    <I>Sat Feb  2 14:30:11 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="024796.html">[mod_python] Physical paths ?
</A></li>
        <LI>Next message: <A HREF="024799.html">[mod_python] Problem getting the Publisher handler to return
	nothing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24797">[ date ]</a>
              <a href="thread.html#24797">[ thread ]</a>
              <a href="subject.html#24797">[ subject ]</a>
              <a href="author.html#24797">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Fantastic, that did the trick!

I have updated the FAQ accordingly (
<A HREF="http://www.modpython.org/FAQ/faqw.py?req=all#2.19">http://www.modpython.org/FAQ/faqw.py?req=all#2.19</A>). Although the FAQ entry
still mentions &quot;forcing a 200 response&quot; - and I'm not actually sure whether
&quot;raise apache.SERVER_RETURN, apache.HTTP_NO_CONTENT&quot; is still forcing a 200
response or not. If that is now inaccurate perhaps some who knows could
tweak the FAQ entry.

Anyway, thanks for all the help, much appreciated.

Charles.

On Feb 1, 2008 12:20 AM, Graham Dumpleton &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">graham.dumpleton at gmail.com</A>&gt;
wrote:

&gt;<i> On 01/02/2008, Charles Collis &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">charles.collis at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; Hadn't tried it before, but have now - unfortunately still no joy.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; If I return 'apache.HTTP_NO_CONTENT' my browser then shows a blank page
</I>&gt;<i> with
</I>&gt;<i> &gt; '24' at the top which presumably is the code for 'HTTP_NO_CONTENT'.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; If I raise the error:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; raise apache.HTTP_NO_CONTENT, apache.OK (whether I put ',apache.OK'
</I>&gt;<i> there or
</I>&gt;<i> &gt; not),
</I>&gt;<i>
</I>&gt;<i> Use:
</I>&gt;<i>
</I>&gt;<i>  raise apache.SERVER_RETURN, apache.HTTP_NO_CONTENT
</I>&gt;<i>
</I>&gt;<i> I am not sure though whether that will still trigger Apache to send a
</I>&gt;<i> default error page. You may have to use:
</I>&gt;<i>
</I>&gt;<i>  req.status = apache.HTTP_NO_CONTENT
</I>&gt;<i>  raise apache.SERVER_RETURN, apache.DONE
</I>&gt;<i>
</I>&gt;<i> to be absolutely sure that Apache doesn't further process it.
</I>&gt;<i>
</I>&gt;<i> Graham
</I>&gt;<i>
</I>&gt;<i> &gt; I get an error message in browser saying:
</I>&gt;<i> &gt; 'TypeError: exceptions must be classes, instances, or strings
</I>&gt;<i> (deprecated),
</I>&gt;<i> &gt; not int'
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Have you tried returning apache.HTTP_NO_CONTENT ?
</I>&gt;<i> &gt; &gt; According to [0],
</I>&gt;<i> &gt; &gt; <A HREF="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html">http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html</A>
</I>&gt;<i> &gt; this should
</I>&gt;<i> &gt; &gt; cause clients do nothing. As the behaviour of the client cannot be
</I>&gt;<i> &gt; &gt; controlled except for a status code in the header, this might be an
</I>&gt;<i> &gt; &gt; option easier than creating internal requests using Ajax.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mod_python mailing list
</I>&gt;<i> &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20080202/ec951277/attachment.html">http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20080202/ec951277/attachment.html</A>
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024796.html">[mod_python] Physical paths ?
</A></li>
	<LI>Next message: <A HREF="024799.html">[mod_python] Problem getting the Publisher handler to return
	nothing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24797">[ date ]</a>
              <a href="thread.html#24797">[ thread ]</a>
              <a href="subject.html#24797">[ subject ]</a>
              <a href="author.html#24797">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
