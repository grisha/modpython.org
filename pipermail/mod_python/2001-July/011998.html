<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Session data (Sorry for bringing this up again..
	.)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Session%20data%20%28Sorry%20for%20bringing%20this%20up%20again..%0A%09.%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011992.html">
   <LINK REL="Next"  HREF="012000.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Session data (Sorry for bringing this up again..
	.)</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Chris Hagner</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Session%20data%20%28Sorry%20for%20bringing%20this%20up%20again..%0A%09.%29&In-Reply-To="
       TITLE="[mod_python] Session data (Sorry for bringing this up again..
	.)">CHagner at fool.com
       </A><BR>
    <I>Tue Jul  3 08:50:12 EST 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="011992.html">[mod_python] HTMLgen
</A></li>
        <LI>Next message: <A HREF="012000.html">[mod_python] Translation handler help?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11998">[ date ]</a>
              <a href="thread.html#11998">[ thread ]</a>
              <a href="subject.html#11998">[ subject ]</a>
              <a href="author.html#11998">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>An alternative would be to have a separate daemon running on the server
(outside of apache/mod_python) that creates/serves/pools/persists your
connections.  Thus, each apache child process/python subinterp would hit
this daemon to get connections.  This model (or something similar) is almost
required if you're going to run apache with many child procs... or multiple
apache instances on the same box.  Either way, you don't really want 100
connections (or more! ack) open to the database.  Heck, if you're running
multiple web servers all hitting a single database, you can easily see how
the total number of connections gets painfully large.  You probably want
something along the lines of 5-10 connections in a db connection pool
(although this is highly dependent on the design of the pool and the
daemon).

Chris

-----Original Message-----
From: Ben Leslie [mailto:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">benno at sesgroup.net</A>]
Sent: Tuesday, July 03, 2001 2:25 AM
To: Matthew Wood
Cc: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
Subject: Re: [mod_python] Session data (Sorry for bringing this up
again...)


On Tue, 03 Jul 2001, Matthew Wood wrote:

&lt;snip&gt;

&gt;<i>
</I>&gt;<i> This brings me to my question:
</I>&gt;<i> Would  it  be appropriate to keep a database connection in each of the
</I>&gt;<i> memory  spaces?
</I>

Yes. This is exactly what I do.

In your handler you have a global variable holding the db connection. In 
the handler you check the db handler is alive and recreate if necessary 
(this should really only happen the first time that process is used)

Benno
_______________________________________________
Mod_python mailing list
<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
<A HREF="http://www.modpython.org/mailman/listinfo/mod_python">http://www.modpython.org/mailman/listinfo/mod_python</A>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011992.html">[mod_python] HTMLgen
</A></li>
	<LI>Next message: <A HREF="012000.html">[mod_python] Translation handler help?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11998">[ date ]</a>
              <a href="thread.html#11998">[ thread ]</a>
              <a href="subject.html#11998">[ subject ]</a>
              <a href="author.html#11998">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
