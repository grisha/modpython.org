<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] More on import errors in 2.7.5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20More%20on%20import%20errors%20in%202.7.5&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000957.html">
   <LINK REL="Next"  HREF="000952.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] More on import errors in 2.7.5</H1>
    <B>Tom Emerson</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20More%20on%20import%20errors%20in%202.7.5&In-Reply-To="
       TITLE="[mod_python] More on import errors in 2.7.5">tree at basistech.com
       </A><BR>
    <I>Thu Jul 19 09:16:14 EST 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="000957.html">[mod_python] mod_python mailing list archive issue
</A></li>
        <LI>Next message: <A HREF="000952.html">[mod_python] Compiling problem.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#958">[ date ]</a>
              <a href="thread.html#958">[ thread ]</a>
              <a href="subject.html#958">[ subject ]</a>
              <a href="author.html#958">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>A couple of days ago I posted a question about strange import
behaviors with 2.7.5,

&lt;<A HREF="http://www.modpython.org/pipermail/mod_python/2001-July/001519.html">http://www.modpython.org/pipermail/mod_python/2001-July/001519.html</A>&gt;

I haven't heard from anyone with a solution, though scanning the
archives it appears that this has been an issue for a while for some
people. So I started digging.

The short: the problem is still there.

The long:

- I reverted to 2.7.2 and the problem is still there. &lt;sigh&gt;

- I added some log_error() calls in various places in both publisher.py
  and apache.py to verify the state of the world upto the point
  apache.py attempts to reload the module. As far as I can tell,
  everything is valid up to the point of the reload call: sys.modules
  includes an entry for the module I'm reloading, the pathnames to the
  module are correct, everything looks fine, but reload() is throwing
  an ImportError.

  I observed that this problem usually happens in the following
  scenario:

  1) The module is loaded successfully.
  2) You make a modification to the module source which causes
     mod_python to reload the module. This works fine.
  3) You make another modification to the module that will cause an
     error when the module is being parsed when it is reloaded.
  4) You fix the error and reload.
  5) Bam, ImportError.

  Could it be the case that the module is partially initialized and
  isn't really reloadable?

Also, FWIW, the server doesn't have write access to the directory
containing these modules, so the .pyc files are not being created.

Food for thought.

    -tree

-- 
Tom Emerson                                          Basis Technology Corp.
Sr. Sinostringologist                              <A HREF="http://www.basistech.com">http://www.basistech.com</A>
  &quot;Beware the lollipop of mediocrity: lick it once and you suck forever&quot;

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000957.html">[mod_python] mod_python mailing list archive issue
</A></li>
	<LI>Next message: <A HREF="000952.html">[mod_python] Compiling problem.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#958">[ date ]</a>
              <a href="thread.html#958">[ thread ]</a>
              <a href="subject.html#958">[ subject ]</a>
              <a href="author.html#958">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
