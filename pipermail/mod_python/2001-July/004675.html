<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] usign the apache log ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20usign%20the%20apache%20log%20%3F&In-Reply-To=3B6157B7.F05239DB%40netgroup.dk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004674.html">
   <LINK REL="Next"  HREF="004676.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] usign the apache log ?</H1>
    <B>riesch at nieuw.nl</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20usign%20the%20apache%20log%20%3F&In-Reply-To=3B6157B7.F05239DB%40netgroup.dk"
       TITLE="[mod_python] usign the apache log ?">riesch at nieuw.nl
       </A><BR>
    <I>Fri Jul 27 15:15:58 EST 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="004674.html">[mod_python] usign the apache log ?
</A></li>
        <LI>Next message: <A HREF="004676.html">[mod_python] usign the apache log ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4675">[ date ]</a>
              <a href="thread.html#4675">[ thread ]</a>
              <a href="subject.html#4675">[ subject ]</a>
              <a href="author.html#4675">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<table border=0 width="100%"><tr><td>
<!--beginarticle-->
<PRE>hi there,


what you can do is write your own log-class. I've done something like this:


class Log:
   def __init__(self, file, mode):
      if __debug__:
         delf.__descriptor = open(file, mode)
   
   def __del__(self):
      self.close()

   def append(self, string):
      self.__descriptor.write(string + &quot;\n\n&quot;)
      # add some more information if you please

   def close(self):
      self.__descriptor.close()


   # Variables
   __descriptor = []
#

global log
log = Log(&quot;log.txt&quot;)


When you import this module, the log-instance will be known and be the same for every file that imports this module (the global takes care of this) and every write (wherever) happens in the same file.
To write stuff:

import from Log *

log.append(&quot;something happened&quot;)


I hope this helps,
Richard

      


On Fri, Jul 27, 2001 at 01:59:51PM +0200, Bo Lorentsen wrote:
&gt;<i> Hi ...
</I>&gt;<i> 
</I>&gt;<i> I have been writing a system using this mod_python module, and it just
</I>&gt;<i> work out fine for me. Its really a nice Python tool, keep up the good
</I>&gt;<i> work. But (there is always a but :-)) I really like to be able to se
</I>&gt;<i> more about what is going in inside my code, and I therefor looked for a
</I>&gt;<i> way to write to the apache log file, but found nothing in mod_python.
</I>&gt;<i> 
</I>&gt;<i> In the O'reilly book &quot;Writing Apache modules with Perl and C&quot; they have
</I>&gt;<i> an example where they got a logger out of the Request class (or whatever
</I>&gt;<i> they call it i Perl :-)). This don't seem to be the case in mod_python,
</I>&gt;<i> and the only reference I could find to logging is the PythonLogHandler,
</I>&gt;<i> and that don't sound like anything I could use.
</I>&gt;<i> 
</I>&gt;<i> Is there something i have misunderstood, or is there a way do redirect
</I>&gt;<i> stdout/err to the log or something fancy like that ?
</I>&gt;<i> 
</I>&gt;<i> Thanks in advance !
</I>&gt;<i> 
</I>&gt;<i> /BL
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://www.modpython.org/mailman/listinfo/mod_python">http://www.modpython.org/mailman/listinfo/mod_python</A>
</I>
</PRE>
<!--endarticle-->
</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004674.html">[mod_python] usign the apache log ?
</A></li>
	<LI>Next message: <A HREF="004676.html">[mod_python] usign the apache log ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4675">[ date ]</a>
              <a href="thread.html#4675">[ thread ]</a>
              <a href="subject.html#4675">[ subject ]</a>
              <a href="author.html#4675">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
