<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Problems w/ mod python
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Problems%20w/%20mod%20python&In-Reply-To=4dc0cfea0804180549j53dd400xeda2f67747ebad4b%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025215.html">
   <LINK REL="Next"  HREF="025217.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Problems w/ mod python</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Problems%20w/%20mod%20python&In-Reply-To=4dc0cfea0804180549j53dd400xeda2f67747ebad4b%40mail.gmail.com"
       TITLE="[mod_python] Problems w/ mod python">graham.dumpleton at gmail.com
       </A><BR>
    <I>Sat Apr 19 00:11:09 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025215.html">[mod_python] Problems w/ mod python
</A></li>
        <LI>Next message: <A HREF="025217.html">[mod_python] trying to build mod_python on mac os x 10.3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25216">[ date ]</a>
              <a href="thread.html#25216">[ thread ]</a>
              <a href="subject.html#25216">[ subject ]</a>
              <a href="author.html#25216">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2008/4/18 Victor Subervi &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">victorsubervi at gmail.com</A>&gt;:
&gt;<i>
</I>&gt;<i> On Thu, Apr 17, 2008 at 6:23 PM, Graham Dumpleton
</I>&gt;<i> &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">graham.dumpleton at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 2008/4/18 Joseph Bernhardt &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">joe at incomps.com</A>&gt;:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; 2008/4/18 Joseph Bernhardt &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">joe at incomps.com</A>&gt;:
</I>&gt;<i> &gt; &gt;  &gt; &gt;
</I>&gt;<i> &gt; &gt;  &gt; &gt;
</I>&gt;<i> &gt; &gt;  &gt; &gt;
</I>&gt;<i> &gt; &gt;  &gt; &gt;
</I>&gt;<i> &gt; &gt;  &gt; &gt; 1) How do I import a file in the same folder as the script which is
</I>&gt;<i> &gt; &gt;  &gt; &gt; importing? This does not work:
</I>&gt;<i> &gt; &gt;  &gt; &gt;
</I>&gt;<i> &gt; &gt;  &gt; &gt; Is this directory in your module path?  sys.path
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> This is what ended up working...
</I>&gt;<i>
</I>&gt;<i> import sys,os
</I>&gt;<i> sys.path.append(os.getcwd())
</I>&gt;<i> from example import example
</I>
That is wrong. You cannot rely on os.getcwd() value as under Apache it
could be anything, although would usually be '/' because Apache
generally sets current working directory to root of filesystem. So,
unless your code was elsewhere setting the current working directory,
can't see how that would work. If you are setting the current working
directory, be aware that you shouldn't do that either when using
Apache as it is a shared application environment and doubly would
cause problems if multithreading is also used.

If you need to work out a path relative to where a source file is, you
calculate it using:

  here = os.path.dirname(__file__)

You should not however add such a directory to sys.path if the source
code file was one which mod_python imported using its module importing
mechanism as you will then have an overlap and you could end up with
the same source file being imported multiple times under different
names.

Is 'example' actually a package? Have you tried moving it outside of
the document tree and then setting sys.path or using PythonPath like I
said in other email?

Graham

&gt;<i> Concerning the problems with errors (IntegrityError, OperationalError), I
</I>&gt;<i> have indeed imported MySQLdb, but that does not resolve the problem. Other
</I>&gt;<i> ideas?
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025215.html">[mod_python] Problems w/ mod python
</A></li>
	<LI>Next message: <A HREF="025217.html">[mod_python] trying to build mod_python on mac os x 10.3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25216">[ date ]</a>
              <a href="thread.html#25216">[ thread ]</a>
              <a href="subject.html#25216">[ subject ]</a>
              <a href="author.html#25216">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
