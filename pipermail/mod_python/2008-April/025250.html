<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Problem getting my web app to work with remote
	oracle server
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Problem%20getting%20my%20web%20app%20to%20work%20with%20remote%0A%09oracle%20server&In-Reply-To=88e286470804291436q16393a7fj84220f0f5dc731e1%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025249.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Problem getting my web app to work with remote
	oracle server</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Problem%20getting%20my%20web%20app%20to%20work%20with%20remote%0A%09oracle%20server&In-Reply-To=88e286470804291436q16393a7fj84220f0f5dc731e1%40mail.gmail.com"
       TITLE="[mod_python] Problem getting my web app to work with remote
	oracle server">graham.dumpleton at gmail.com
       </A><BR>
    <I>Wed Apr 30 02:05:14 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025249.html">[mod_python] Problem getting my web app to work with remote
	oracle server
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25250">[ date ]</a>
              <a href="thread.html#25250">[ thread ]</a>
              <a href="subject.html#25250">[ subject ]</a>
              <a href="author.html#25250">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2008/4/30 Graham Dumpleton &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">graham.dumpleton at gmail.com</A>&gt;:
&gt;<i> Please keep replies on list, have bounced this back to list so all can
</I>&gt;<i>  see and perhaps comment.
</I>&gt;<i>
</I>&gt;<i>  2008/4/30 wayne collier &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Wayne.Collier at noaa.gov</A>&gt;:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i>  &gt;  Hi Graham. I set these in /etc/init.d/httpd file. I have following set :
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;  export LD_LIBRARY_PATH=/u01/app/oracle/product/10.2.0/client_1/lib:
</I>&gt;<i>  &gt;  TNS_ADMIN=/u01/app/oracle/product/10.2.0/client_1/network/admin ; export
</I>&gt;<i>  &gt; TNS_ADMIN
</I>&gt;<i>  &gt;  ORACLE_HOME=/u01/app/oracle/product/10.2.0/client_1;  export ORACLE_HOME
</I>
One hopes then that you always use init.d scripts to stop and start it
then, as using apachectl directly will not pick up those entries.

Next thing is, have you tried running your Python script from command
line but as user that Apache runs as rather than yourself. Code in
mod_python will run as that Apache user and so if it can't read files
in Oracle installation area, or that user otherwise doesn't have
permission to connect to Oracle in some way, you will have problems.

Graham

&gt;<i>  &gt;
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;  Graham Dumpleton wrote:
</I>&gt;<i>  &gt;  2008/4/16 wayne collier &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Wayne.Collier at noaa.gov</A>&gt;:
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;  I'm having a frustrating time getting my web app to connect with a remote
</I>&gt;<i>  &gt; oracle server.
</I>&gt;<i>  &gt;  However, from the linux prompt I am able to run oracle commands to connect
</I>&gt;<i>  &gt; to database.
</I>&gt;<i>  &gt;  The error message I get are as follows:
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;  Mod_python error: &quot;PythonHandler mod_python.psp&quot; Traceback (most recent
</I>&gt;<i>  &gt; call last):
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;  File &quot;apache.py&quot;, line 299, in HandlerDispatch result = object(req)
</I>&gt;<i>  &gt;  File &quot;/usr/local/lib/python2.4/site-packages/mod_python/psp.py&quot;, line 302,
</I>&gt;<i>  &gt; in handler p.run()
</I>&gt;<i>  &gt;  File &quot;/usr/local/lib/python2.4/site-packages/mod_python/psp.py&quot;, line 213,
</I>&gt;<i>  &gt; in run exec code in global_scope
</I>&gt;<i>  &gt;  File &quot;/var/www/html/psp/modinfo.psp&quot;, line 58, in ? oracle =
</I>&gt;<i>  &gt; cx_Oracle.connect(myUid, myPwd, myDsn)
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;  DatabaseError: ORA-12541: TNS:no listener
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;  I suspect that it has something to do with the permission of the apache
</I>&gt;<i>  &gt; user defined in the httpd.conf file.
</I>&gt;<i>  &gt;  Also, I have set the ORACLE_HOME,LD_LIBRARY_PATH and TNS_ADMIN variable to
</I>&gt;<i>  &gt; load and be initialized on startup. But it does not work!!!
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;  Exactly where have you set these?
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt; Graham
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;  Can someone help me with this?
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;  Wayne
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;  My set up is as follows:
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;  PYTHON 2.4.4c1 (#1, Nov 6 2006, 14:14:48)
</I>&gt;<i>  &gt;  operating system [GCC 3.4.6 20060404 (Red Hat 3.4.6-3)]
</I>&gt;<i>  &gt;  MOD_PYTHON 3.2.10
</I>&gt;<i>  &gt;  Apache version 2.0.52
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt; _______________________________________________
</I>&gt;<i>  &gt;  Mod_python mailing list
</I>&gt;<i>  &gt;  <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i>  &gt;  <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;  _______________________________________________
</I>&gt;<i>  &gt; Mod_python mailing list
</I>&gt;<i>  &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i>  &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;
</I>&gt;<i>
</I></PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025249.html">[mod_python] Problem getting my web app to work with remote
	oracle server
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25250">[ date ]</a>
              <a href="thread.html#25250">[ thread ]</a>
              <a href="subject.html#25250">[ subject ]</a>
              <a href="author.html#25250">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
