<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Importing modules in a new process.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Importing%20modules%20in%20a%20new%20process.&In-Reply-To=000001c899b5%2429466a30%247bd33e90%24%40com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025139.html">
   <LINK REL="Next"  HREF="025142.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Importing modules in a new process.</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Jorey Bump</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Importing%20modules%20in%20a%20new%20process.&In-Reply-To=000001c899b5%2429466a30%247bd33e90%24%40com"
       TITLE="[mod_python] Importing modules in a new process.">list at joreybump.com
       </A><BR>
    <I>Tue Apr  8 16:39:59 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025139.html">[mod_python] Importing modules in a new process.
</A></li>
        <LI>Next message: <A HREF="025142.html">[mod_python] Importing modules in a new process.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25140">[ date ]</a>
              <a href="thread.html#25140">[ thread ]</a>
              <a href="subject.html#25140">[ subject ]</a>
              <a href="author.html#25140">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Joseph Bernhardt wrote, at 04/08/2008 04:14 PM:

&gt;<i> When starting a new python process via
</I>&gt;<i> Popen, it is not only using an older version of python installed on
</I>&gt;<i> the server, but is also using the module paths associated with that
</I>&gt;<i> version!  I realize that this is no longer a mod_python problem, but
</I>&gt;<i> I have been unable to post to the python-list or python-help forums
</I>&gt;<i> through python.org (don't know why, but it keeps being returned as
</I>&gt;<i> though my address has been blocked), so I was hoping you could tell
</I>&gt;<i> me how to change the default python version on RHEL 2.6.9?  I have
</I>&gt;<i> been searching all over and can't find how it is to be done!
</I>
On most systems, python is just a symlink to another binary:

  $ which python
  /usr/bin/python
  $ ls -l /usr/bin/python
  lrwxrwxrwx 1 root root 9 2007-07-23 17:10 /usr/bin/python -&gt; python2.5

For my example, I might do this (as root):

  rm /usr/bin/python
  ln -s /usr/local/bin/python3.0 /usr/bin/python

However, you probably shouldn't do this. Many distributions (and I think 
especially RHEL) provide system utilities written in python, and they 
target the version provided with the distribution. You could easily 
break your system or other applications that depend on python.

A better alternative would be to specify the full path to the desired 
version of python in your popen statement:

   subprocess.Popen(['/usr/local/bin/python3.0 myapp.py', shell=True)

This is not very portable, but that's what you get when you install 
multiple versions of python. Remember to change your code when you 
migrate it (or develop on a system where you can leave the defaults alone).

Of course, it's pretty strange to popen a python app in mod_python. Does 
it need to be a subprocess, as opposed to simply importing it and 
exposing a public API? The latter approach would be more beneficial in 
the long run.

</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025139.html">[mod_python] Importing modules in a new process.
</A></li>
	<LI>Next message: <A HREF="025142.html">[mod_python] Importing modules in a new process.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25140">[ date ]</a>
              <a href="thread.html#25140">[ thread ]</a>
              <a href="subject.html#25140">[ subject ]</a>
              <a href="author.html#25140">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
