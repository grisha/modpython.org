<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] memory consumption increase on httpd reload
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=Re%3A%20%5Bmod_python%5D%20memory%20consumption%20increase%20on%20httpd%20reload&In-Reply-To=%3C5410E6E6.4090705%40datanethost.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026638.html">
   <LINK REL="Next"  HREF="026640.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] memory consumption increase on httpd reload</H1>
    <B>Nathan Adams</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=Re%3A%20%5Bmod_python%5D%20memory%20consumption%20increase%20on%20httpd%20reload&In-Reply-To=%3C5410E6E6.4090705%40datanethost.net%3E"
       TITLE="[mod_python] memory consumption increase on httpd reload">adamsna at datanethost.net
       </A><BR>
    <I>Thu Sep 11 00:03:50 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="026638.html">[mod_python] memory consumption increase on httpd reload
</A></li>
        <LI>Next message: <A HREF="026640.html">[mod_python] memory consumption increase on httpd reload
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26639">[ date ]</a>
              <a href="thread.html#26639">[ thread ]</a>
              <a href="subject.html#26639">[ subject ]</a>
              <a href="author.html#26639">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Aman,

Many years ago when we were using mod_python we noticed a similar issue. 
At the time our solution was to move to mod_wsgi. However, now that 
Grisha is maintaining the project again you might want to compile from 
source because the maintainers may have assumed that mod_python was 
permanently gone. It's actually very easy on CentOS as all the prereqs 
can be downloaded using yum.

If you do this and mod_python is still an issue then sending over some 
sample code to reproduce the problem might help. I have also heard of 
some issues if you have both mod_python and mod_wsgi in the same Apache 
instance ( 
<A HREF="https://code.google.com/p/modwsgi/wiki/InstallationIssues#Using_ModPython_and_ModWsgi">https://code.google.com/p/modwsgi/wiki/InstallationIssues#Using_ModPython_and_ModWsgi</A> 
). If you are curious you could check out similar products like mod_wsgi 
(wouldn't recommend as it's configuration is non-intuitive and it's 
author can be quite intimidating), uWSGI, or even gunicorn and see if 
your memory increase problem exists with those products. I've personally 
only had to interact with mod_wsgi and while the product itself isn't 
buggy and works great the configuration can be a pain and it doesn't 
help that the documentation is lacking.


On 9/10/2014 10:17 AM, Grisha Trubetskoy wrote:
&gt;<i>
</I>&gt;<i> Aman
</I>&gt;<i>
</I>&gt;<i> It's hard to say what might be the cause of that without more detail 
</I>&gt;<i> on how mod_python is configured and exactly what you mean by &quot;reload&quot;. 
</I>&gt;<i> It also might be that CentOS 5.4 and 6.4 have an outdated version of 
</I>&gt;<i> mod_python and this bug may be fixed already.
</I>&gt;<i>
</I>&gt;<i> How much of a memory increase are you observing, and is that really a 
</I>&gt;<i> problem? Also, are you actually using mod_python, if not, may be the 
</I>&gt;<i> fix is as simple as to remove it from the configuration?
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i>
</I>&gt;<i> Grisha
</I>&gt;<i>
</I>&gt;<i> On Wed, Sep 10, 2014 at 11:09 AM, aman aggarwal &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">amanagg at gmail.com</A> 
</I>&gt;<i> &lt;mailto:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">amanagg at gmail.com</A>&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>     Hi,
</I>&gt;<i>
</I>&gt;<i>     We have observed an issue wherein httpd process memory consumption
</I>&gt;<i>     is increased when ever the httpd process is &quot;reload&quot;. We have
</I>&gt;<i>     boiled the issue that it is due to only with inclusion of
</I>&gt;<i>     mod_python package.
</I>&gt;<i>
</I>&gt;<i>     This is observed on both Centos 5.4 and Centos 6.4 versions.
</I>&gt;<i>     Please provide the inputs.
</I>&gt;<i>
</I>&gt;<i>     regards,
</I>&gt;<i>     Aman Aggarwal
</I>&gt;<i>
</I>&gt;<i>     _______________________________________________
</I>&gt;<i>     mod_python mailing list
</I>&gt;<i>     <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A> &lt;mailto:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>&gt;
</I>&gt;<i>     <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mailman.modpython.org/pipermail/mod_python/attachments/20140910/fad9e044/attachment.html">http://mailman.modpython.org/pipermail/mod_python/attachments/20140910/fad9e044/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026638.html">[mod_python] memory consumption increase on httpd reload
</A></li>
	<LI>Next message: <A HREF="026640.html">[mod_python] memory consumption increase on httpd reload
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26639">[ date ]</a>
              <a href="thread.html#26639">[ thread ]</a>
              <a href="subject.html#26639">[ subject ]</a>
              <a href="author.html#26639">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the mod_python
mailing list</a><br>
</body></html>
