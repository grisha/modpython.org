<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] mod_python strange error
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20strange%20error&In-Reply-To=780387.39888.qm%40web50002.mail.re2.yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023547.html">
   <LINK REL="Next"  HREF="023549.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] mod_python strange error</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20strange%20error&In-Reply-To=780387.39888.qm%40web50002.mail.re2.yahoo.com"
       TITLE="[mod_python] mod_python strange error">graham.dumpleton at gmail.com
       </A><BR>
    <I>Wed May  2 18:56:31 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023547.html">[mod_python] mod_python strange error
</A></li>
        <LI>Next message: <A HREF="023549.html">[mod_python] in modpython ,how to restrict the upload file size?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23548">[ date ]</a>
              <a href="thread.html#23548">[ thread ]</a>
              <a href="subject.html#23548">[ subject ]</a>
              <a href="author.html#23548">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You cannot in mod_python pickle certain types of Python objects that
are located within a Python code file/module which is managed by the
mod_python module importer. See:

  <A HREF="http://www.dscpl.com.au/wiki/ModPython/Articles/IssuesWithSessionObjects">http://www.dscpl.com.au/wiki/ModPython/Articles/IssuesWithSessionObjects</A>

You will need to move the objects/types to be pickled into a normal
Python module which appears on the standard Python module search path
outside of your Apache/web application document tree.

Also, read about the import_module() method in the mod_python documentation:

  <A HREF="http://www.modpython.org/live/current/doc-html/pyapi-apmeth.html">http://www.modpython.org/live/current/doc-html/pyapi-apmeth.html</A>

This will describe other details about how the mod_python module importer works.

BTW, what have you set PythonPath to in your Apache configuration?
What you have set that to may be contributing to you getting this
specific error message when normally I would have expected to see
something else.

Graham

On 03/05/07, Gheorghe Limboi &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">ghitzacatalin at yahoo.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> can sombody tell my what can cause the error below:
</I>&gt;<i>
</I>&gt;<i> AssertionError: Import cycle in
</I>&gt;<i> /usr/local/nav/apache/webroot/status/StatusPrefs.py.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> the whole output is :
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> MOD_PYTHON ERROR
</I>&gt;<i>
</I>&gt;<i> ProcessId:      5472
</I>&gt;<i> Interpreter:    'test.pknet.ro'
</I>&gt;<i>
</I>&gt;<i> ServerName:     'test.pknet.ro'
</I>&gt;<i> DocumentRoot:   '/usr/local/nav/apache/webroot'
</I>&gt;<i>
</I>&gt;<i> URI:            '/status/'
</I>&gt;<i> Location:       None
</I>&gt;<i> Directory:      '/usr/local/nav/apache/webroot/status/'
</I>&gt;<i> Filename:       '/usr/local/nav/apache/webroot/status/'
</I>&gt;<i> PathInfo:       ''
</I>&gt;<i>
</I>&gt;<i> Phase:          'PythonHandler'
</I>&gt;<i> Handler:        'status'
</I>&gt;<i>
</I>&gt;<i> Traceback (most recent call last):
</I>&gt;<i>
</I>&gt;<i>   File
</I>&gt;<i> &quot;/usr/lib/python2.4/site-packages/mod_python/importer.py&quot;,
</I>&gt;<i> line 1537, in HandlerDispatch
</I>&gt;<i>     default=default_handler, arg=req, silent=hlist.silent)
</I>&gt;<i>
</I>&gt;<i>   File
</I>&gt;<i> &quot;/usr/lib/python2.4/site-packages/mod_python/importer.py&quot;,
</I>&gt;<i> line 1229, in _process_target
</I>&gt;<i>     result = _execute_target(config, req, object, arg)
</I>&gt;<i>
</I>&gt;<i>   File
</I>&gt;<i> &quot;/usr/lib/python2.4/site-packages/mod_python/importer.py&quot;,
</I>&gt;<i> line 1128, in _execute_target
</I>&gt;<i>     result = object(arg)
</I>&gt;<i>
</I>&gt;<i>   File &quot;/usr/local/nav/apache/webroot/status/status.py&quot;,
</I>&gt;<i> line 71, in handler
</I>&gt;<i>     output = indexInternal(req)
</I>&gt;<i>
</I>&gt;<i>   File &quot;/usr/local/nav/apache/webroot/status/status.py&quot;,
</I>&gt;<i> line 107, in indexInternal
</I>&gt;<i>     prefs = HandleStatusPrefs.loadPrefs(req)
</I>&gt;<i>
</I>&gt;<i>   File
</I>&gt;<i> &quot;/usr/local/nav/apache/webroot/status/StatusPrefs.py&quot;, line
</I>&gt;<i> 340, in loadPrefs
</I>&gt;<i>     prefs = cPickle.loads(data)
</I>&gt;<i>
</I>&gt;<i>   File
</I>&gt;<i> &quot;/usr/lib/python2.4/site-packages/mod_python/importer.py&quot;,
</I>&gt;<i> line 991, in load_module
</I>&gt;<i>     return _global_modules_cache.import_module(self.__file)
</I>&gt;<i>
</I>&gt;<i>   File
</I>&gt;<i> &quot;/usr/lib/python2.4/site-packages/mod_python/importer.py&quot;,
</I>&gt;<i> line 488, in import_module
</I>&gt;<i>     assert(file != parent_info.file), &quot;Import cycle in %s.&quot; % file
</I>&gt;<i>
</I>&gt;<i> AssertionError: Import cycle in
</I>&gt;<i> /usr/local/nav/apache/webroot/status/StatusPrefs.py.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Tx,
</I>&gt;<i> gheorghe
</I>&gt;<i>  ________________________________
</I>&gt;<i> Ahhh...imagining that irresistible &quot;new car&quot; smell?
</I>&gt;<i>  Check out new cars at Yahoo! Autos.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023547.html">[mod_python] mod_python strange error
</A></li>
	<LI>Next message: <A HREF="023549.html">[mod_python] in modpython ,how to restrict the upload file size?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23548">[ date ]</a>
              <a href="thread.html#23548">[ thread ]</a>
              <a href="subject.html#23548">[ subject ]</a>
              <a href="author.html#23548">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
