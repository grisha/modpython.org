<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Installation problems with mod_python
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Installation%20problems%20with%20mod_python&In-Reply-To=200705091018.l49AIJWG008960%40modpython.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023582.html">
   <LINK REL="Next"  HREF="023583.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Installation problems with mod_python</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Installation%20problems%20with%20mod_python&In-Reply-To=200705091018.l49AIJWG008960%40modpython.org"
       TITLE="[mod_python] Installation problems with mod_python">graham.dumpleton at gmail.com
       </A><BR>
    <I>Thu May 10 02:27:11 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023582.html">[mod_python] Installation problems with mod_python
</A></li>
        <LI>Next message: <A HREF="023583.html">[mod_python] Multiple loading of same module with winnt MPM
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23585">[ date ]</a>
              <a href="thread.html#23585">[ thread ]</a>
              <a href="subject.html#23585">[ subject ]</a>
              <a href="author.html#23585">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 09/05/07, Ben Thompson &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">ben at kilgore.demon.co.uk</A>&gt; wrote:
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Problem: When I point my browser at a file with the extension .py, the
</I>&gt;<i> browser displays the contents of the file rather than the results of running
</I>&gt;<i> it. Apache and python both seem to run ok. I have checked FAQs/How
</I>&gt;<i> Tos/Getting Started guides but without success.
</I>&gt;<i>
</I>&gt;<i> Platform: Windows XP Professional Version 2002 Service Pack 2
</I>&gt;<i>
</I>&gt;<i> Here are the relevant lines from httpd.conf:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> # Python
</I>&gt;<i>
</I>&gt;<i> LoadModule python_module modules/mod_python.so
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> # Python
</I>&gt;<i>
</I>&gt;<i> &lt;Directory E:/Projects/Web/Home/htdocs/test&gt;
</I>&gt;<i>
</I>&gt;<i>         AddHandler mod_python .py
</I>&gt;<i>
</I>&gt;<i>         PythonHandler mptest
</I>&gt;<i>
</I>&gt;<i>         PythonDebug On
</I>&gt;<i>
</I>&gt;<i> &lt;/Directory&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;Location /mpinfo&gt;
</I>&gt;<i>
</I>&gt;<i>       SetHandler mod_python
</I>&gt;<i>
</I>&gt;<i>       PythonHandler mod_python.testhandler
</I>&gt;<i>
</I>&gt;<i> &lt;/Location&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;Directory E:/Projects/Web/Home/htdocs/test&gt;
</I>&gt;<i>
</I>&gt;<i> AllowOverride FileInfo
</I>&gt;<i>
</I>&gt;<i> &lt;/Directory&gt;
</I>
What is your 'DocumentRoot' directive set to which indicates where
your Apache document root directory is? If for some reason it doesn't
match as a prefix to the above locations it may not work as a result.

Unless  I am missing the obvious, the configuration otherwise looks okay.

BTW, what is the actual URL you are using to access the page?

&gt;<i> The mpinfo location directive seems to work. Here is the Apache version line
</I>&gt;<i> from <A HREF="http://localhost/mpinfo:">http://localhost/mpinfo:</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Apache/2.2.4 (Win32) mod_python/3.3.1 Python/2.5.1 PHP/5.2.1
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> But I see no sign of mod_python being loaded successfully in logs/error.log.
</I>
That appears to be because a change suggested by someone:

  <A HREF="http://issues.apache.org/jira/browse/MODPYTHON-195">http://issues.apache.org/jira/browse/MODPYTHON-195</A>

was actually not completely correct.

It causes no harm in the scheme of things but means the initialisation
message for mod_python/Python isn't shown in the error logs. I have
reopened that issue so it can be fixed in a future version.

&gt;<i> [Sun May 06 23:55:56 2007] [error] python_init: Python version mismatch,
</I>&gt;<i> expected '2.5', found '2.5.1'.
</I>&gt;<i>
</I>&gt;<i> [Sun May 06 23:55:56 2007] [error] python_init: Python executable found
</I>&gt;<i> 'E:\\Program Files\\Apache Software
</I>&gt;<i> Foundation\\Apache2.2\\bin\\httpd.exe'.
</I>&gt;<i>
</I>&gt;<i> [Sun May 06 23:55:56 2007] [error] python_init: Python path being used
</I>&gt;<i> 'C:\\WINDOWS\\system32\\python25.zip;E:\\Python25\\Lib;E:\\Python25\\DLLs;E:\\Python25\\Lib\\lib-tk;;E:\\Program
</I>&gt;<i> Files\\Apache Software Foundation\\Apache2.2\\bin'.
</I>
This shouldn't cause an issue, but your mod_python was compiled
against a different version of Python than you are using.

&gt;<i> At one point I read a suggestion to create a .htaccess file in my test
</I>&gt;<i> directory (:/Projects/Web/Home/htdocs/test) but on Windows
</I>&gt;<i> you can't name a file &quot;.htaccess&quot; so I guess that the right thing to do was
</I>&gt;<i> to call it &quot;htaccess&quot; with no extension.
</I>
In your Apache configuration files, what is the directive
'AccessFileName' set to. This is what dictates what the htaccess file
will be named. As far as I know you can still call files .htaccess on
Windows, but often more convenient to call it something else. If you
are changing it, you may also have to change:

&lt;FilesMatch &quot;^\.ht&quot;&gt;
    Order allow,deny
    Deny from all
&lt;/FilesMatch&gt;

to something more appropriate so the files aren't accessible.

&gt;<i> E:/Projects/Web/Home/htdocs/test/htaccess contains:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> AddHandler mod_python .py
</I>&gt;<i>
</I>&gt;<i> PythonHandler mptest
</I>&gt;<i>
</I>&gt;<i> PythonDebug On
</I>
The best way of determing if a htaccess file is being read is to put a
syntax error in it. That way it should yield a 500 error. Ie., put a
line in it containing:

  XXXERROR

Graham
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023582.html">[mod_python] Installation problems with mod_python
</A></li>
	<LI>Next message: <A HREF="023583.html">[mod_python] Multiple loading of same module with winnt MPM
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23585">[ date ]</a>
              <a href="thread.html#23585">[ thread ]</a>
              <a href="subject.html#23585">[ subject ]</a>
              <a href="author.html#23585">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
