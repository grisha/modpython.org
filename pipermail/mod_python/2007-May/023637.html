<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] compile on 64-bit windows server 2003
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20compile%20on%2064-bit%20windows%20server%202003&In-Reply-To=588860ab0705150525rb0504d9la24f0bbc65370121%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023639.html">
   <LINK REL="Next"  HREF="023641.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] compile on 64-bit windows server 2003</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20compile%20on%2064-bit%20windows%20server%202003&In-Reply-To=588860ab0705150525rb0504d9la24f0bbc65370121%40mail.gmail.com"
       TITLE="[mod_python] compile on 64-bit windows server 2003">graham.dumpleton at gmail.com
       </A><BR>
    <I>Tue May 15 17:22:40 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023639.html">[mod_python] mod_python handlers seem to start in the wrong
	directory
</A></li>
        <LI>Next message: <A HREF="023641.html">[mod_python] empty docstrings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23637">[ date ]</a>
              <a href="thread.html#23637">[ thread ]</a>
              <a href="subject.html#23637">[ subject ]</a>
              <a href="author.html#23637">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>---------- Forwarded message ----------
From: Henk van den Toorn &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">hvdtoorn at gmail.com</A>&gt;
Date: 15-May-2007 22:25
Subject: Re: [mod_python] compile on 64-bit windows server 2003
To: Graham Dumpleton &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">graham.dumpleton at gmail.com</A>&gt;


Hi,

Thanks Graham! I've gotten it to compile, now I'm testing the module.

Just to share my steps with the community :

The old mail ( <A HREF="http://www.modpython.org/pipermail/mod_python/2006-September/022092.html">http://www.modpython.org/pipermail/mod_python/2006-September/022092.html</A>
) was a big help, but you need to set up some more environment
variables in order to get it to work on the AMD64 ( = EM-64T / x64)
platform.

You need to download and install:
- Windows platform SDK (which comes with a compiler etc.)
- A binary apache installation (the same installation you want to use
your mod_python with)
- the mod_python sources (on the site it says it's for linux, but it
is in fact for windows as well)

The platform SDK gives you several command line environments set up
for the different platforms it supports. For AMD64, use the &quot;x64-bit
retail&quot; version. You can find the command lines in the start menu /
programs.

- You have to set up some variables to tell the python distutils and
the build script what you are doing, so type:

set DISTUTILS_USE_SDK=1
set MSSdk=1
set APACHESRC=[your installation path to apache]

- cd into the \dist directory within the mod_python sources
- now run the build_installer.bat script

If all goes well, all parts are built and a windows installer is put
in the \dist\dist directory. I got an error saying it cannot find the
Python25\Lib\distutils\command\wininst- 8.0.exe file, but copying
wininst-7.1.exe into a file called wininst-8.0.exe (and recompiling
mod_python) just worked for me.
- Unfortunately, the post-install python script does not work, saying
it cannot find python.exe , so I run the \dist\win32_postinstall.py
script by hand, which actually puts the mod_python.so file into the
server \modules\ path.

 As I said, I'm testing now...



On 15/05/07, Graham Dumpleton &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">graham.dumpleton at gmail.com</A>&gt; wrote:
&gt;<i> Did you find these instructions.
</I>&gt;<i>
</I>&gt;<i>   <A HREF="http://www.modpython.org/pipermail/mod_python/2006-September/022092.html">http://www.modpython.org/pipermail/mod_python/2006-September/022092.html</A>
</I>&gt;<i>
</I>&gt;<i> I'm not a Windows person so cant help, but if you try these
</I>&gt;<i> instructions and report back what the problems are then others here
</I>&gt;<i> probably can help.
</I>&gt;<i>
</I>&gt;<i> Graham
</I>&gt;<i>
</I>&gt;<i> On 15/05/07, Henk van den Toorn &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">hvdtoorn at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; Hello, people!
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I'm very much interested in building the latest (3.3.1) version of
</I>&gt;<i> &gt; mod_python on a 64-bit server (win2003). I have gotten the sources from
</I>&gt;<i> &gt; the download pages and the source for apache httpd as well (it seems
</I>&gt;<i> &gt; like you need that in order to find the httpd.h files and more)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Does anybody have experience doing this? Or can the way to address this
</I>&gt;<i> &gt; problem be found somewhere on the internet? I've searched everywhere but
</I>&gt;<i> &gt; I cannot find anything how to do this and all build attempts fail.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thanks in advance! Greetings, Henk
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mod_python mailing list
</I>&gt;<i> &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I></PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023639.html">[mod_python] mod_python handlers seem to start in the wrong
	directory
</A></li>
	<LI>Next message: <A HREF="023641.html">[mod_python] empty docstrings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23637">[ date ]</a>
              <a href="thread.html#23637">[ thread ]</a>
              <a href="subject.html#23637">[ subject ]</a>
              <a href="author.html#23637">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
