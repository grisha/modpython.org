<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] dot dot in the url
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20dot%20dot%20in%20the%20url&In-Reply-To=46456022.9050206%40rogerbinns.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023611.html">
   <LINK REL="Next"  HREF="023614.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] dot dot in the url</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20dot%20dot%20in%20the%20url&In-Reply-To=46456022.9050206%40rogerbinns.com"
       TITLE="[mod_python] dot dot in the url">graham.dumpleton at gmail.com
       </A><BR>
    <I>Sat May 12 03:16:21 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023611.html">[mod_python] dot dot in the url
</A></li>
        <LI>Next message: <A HREF="023614.html">[mod_python] dot dot in the url
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23613">[ date ]</a>
              <a href="thread.html#23613">[ thread ]</a>
              <a href="subject.html#23613">[ subject ]</a>
              <a href="author.html#23613">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 12/05/07, Roger Binns &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">rogerb at rogerbinns.com</A>&gt; wrote:
&gt;<i> &gt; Note how it says that are removed as part of the resolution process.
</I>&gt;<i>
</I>&gt;<i> On Monday I'll investigate if I can prevent this happening by using a
</I>&gt;<i> PythonTransHandler or possibly the header handler if they get called
</I>&gt;<i> before the URI is munged.
</I>
Elimination of '..' and '.' elements in path is done before
translate_name handlers. I think the only way to do anything before
the point that the elements are eliminated in req.uri is using an
Apache quick_handler and that cannot be hooked using mod_python. But
then using a quick handler totally circumvents all the Apache phases
meaning you loose all the authentication stuff as well, thus not of
much use to you.

You can possibly rewrite req.filename in a translate_name handler with
bits from req.unparsed_uri but you would have to be sure you only do
it for your base URI which in itself may be hard to determine if it
has disappeared because of the path resolution.

BTW, how do other REST people address this problem? If it was such a
big issue I would have expected to hear other people asking similar
questions but there haven't been. Or do others simply ensure that they
put validators on data to prevent use of path elements that would
cause problems or map everything through IDs instead of using
arbitrary user input data?

Graham
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023611.html">[mod_python] dot dot in the url
</A></li>
	<LI>Next message: <A HREF="023614.html">[mod_python] dot dot in the url
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23613">[ date ]</a>
              <a href="thread.html#23613">[ thread ]</a>
              <a href="subject.html#23613">[ subject ]</a>
              <a href="author.html#23613">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
