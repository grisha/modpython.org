<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] dot dot in the url
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20dot%20dot%20in%20the%20url&In-Reply-To=29a6ca010705141220w77a7e45fq6e36de03dcf6f4e9%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023622.html">
   <LINK REL="Next"  HREF="023612.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] dot dot in the url</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Roger Binns</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20dot%20dot%20in%20the%20url&In-Reply-To=29a6ca010705141220w77a7e45fq6e36de03dcf6f4e9%40mail.gmail.com"
       TITLE="[mod_python] dot dot in the url">rogerb at rogerbinns.com
       </A><BR>
    <I>Mon May 14 17:45:51 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023622.html">[mod_python] dot dot in the url
</A></li>
        <LI>Next message: <A HREF="023612.html">[mod_python] lookup_uri
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23623">[ date ]</a>
              <a href="thread.html#23623">[ thread ]</a>
              <a href="subject.html#23623">[ subject ]</a>
              <a href="author.html#23623">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Colin Bean wrote:
&gt;&gt;<i> Sort of... I'd consider encoding the entire path a different solution
</I>&gt;&gt;<i> to escaping specific problem characters (and you make this distinction
</I>&gt;&gt;<i> below).  Base64 encoding would also handle more than just the /./ and
</I>&gt;&gt;<i> /../ problem cases, it would handle any other url-unfriendly
</I>&gt;&gt;<i> characters that appear in your book titles ('#' and foreign language
</I>&gt;&gt;<i> characters come to mind, although you could still escape / url encode
</I>&gt;&gt;<i> those).
</I>
All those characters are url encoded(*).  The foreign characters are
dealt with by making the url be utf8 encoded.  You do get the raw bytes
from the utf8 % encoded and it all works fine (I have extensive test
suites).

My top tip for that kind of testing is to go to wikipedia.org and copy
all the text on the front page to use as your test string.  You get a
lot of characters, right to left text and codepoints above 0xffff all at
once.

(*) The URL encoding of / or . doesn't help as Apache unescapes it
before normalization etc.

Roger
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFGSNiPmOOfHg372QQRAuZyAJ9tgzgRYxVNvU5JKI6EN5K4HNFfHwCfXLm/
9TijtzxrFguex9LeexDK25k=
=OTnc
-----END PGP SIGNATURE-----
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023622.html">[mod_python] dot dot in the url
</A></li>
	<LI>Next message: <A HREF="023612.html">[mod_python] lookup_uri
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23623">[ date ]</a>
              <a href="thread.html#23623">[ thread ]</a>
              <a href="subject.html#23623">[ subject ]</a>
              <a href="author.html#23623">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
