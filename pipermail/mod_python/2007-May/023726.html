<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] MySQL connections not closing properly
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20MySQL%20connections%20not%20closing%20properly&In-Reply-To=41B623DE-5999-4946-B206-DDD5917F6891%40octopart.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023694.html">
   <LINK REL="Next"  HREF="023665.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] MySQL connections not closing properly</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Mike Looijmans</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20MySQL%20connections%20not%20closing%20properly&In-Reply-To=41B623DE-5999-4946-B206-DDD5917F6891%40octopart.com"
       TITLE="[mod_python] MySQL connections not closing properly">nlv11281 at natlab.research.philips.com
       </A><BR>
    <I>Tue May 29 01:35:27 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023694.html">[mod_python] MySQL connections not closing properly
</A></li>
        <LI>Next message: <A HREF="023665.html">[mod_python] Trouble installing mod_python on XP with Apache 2.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23726">[ date ]</a>
              <a href="thread.html#23726">[ thread ]</a>
              <a href="subject.html#23726">[ subject ]</a>
              <a href="author.html#23726">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> From your post i understand that this only happens if you kill Apache. Since it is not normal 
practice to stop the HTTP server often, it does not seem like a problem to me. MySQL can handle the 
aborted connections without any problem, so don't bother try to solve something that does not need 
solving. Attempting to shut things down gracefully will actually only make things less stable in 
this particular case.


Mike Looijmans
Philips Natlab / Topic Automation


Andres Morey wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> I am using mod_python 3.3.1 with Python 2.5, Apache 2.2.4, MySQL  5.0.27 
</I>&gt;<i> and MySQLdb 1.2.2. When I stop the server I get &quot;Aborted  connection&quot; 
</I>&gt;<i> warnings in MySQL even though I am closing the database  connections 
</I>&gt;<i> properly when an object goes out of scope (by using the  __del__ 
</I>&gt;<i> method). These warnings only happen when a python instance  with an open 
</I>&gt;<i> database connection is killed abruptly, so I think it  has something to 
</I>&gt;<i> do with the way that mod_python shuts down the  python interpreter.
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023694.html">[mod_python] MySQL connections not closing properly
</A></li>
	<LI>Next message: <A HREF="023665.html">[mod_python] Trouble installing mod_python on XP with Apache 2.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23726">[ date ]</a>
              <a href="thread.html#23726">[ thread ]</a>
              <a href="subject.html#23726">[ subject ]</a>
              <a href="author.html#23726">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
