<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Solaris 8 and ld errors
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Solaris%208%20and%20ld%20errors&In-Reply-To=81693BD26641CD4CB6107697CD71B94F0446587C%40AVN3VS003.ees.hhs.gov">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023680.html">
   <LINK REL="Next"  HREF="023692.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Solaris 8 and ld errors</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Cherry, Erskin (ACF) (CTR)</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Solaris%208%20and%20ld%20errors&In-Reply-To=81693BD26641CD4CB6107697CD71B94F0446587C%40AVN3VS003.ees.hhs.gov"
       TITLE="[mod_python] Solaris 8 and ld errors">Erskin.Cherry at ACF.hhs.gov
       </A><BR>
    <I>Tue May 22 08:30:21 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023680.html">[mod_python] mod_python crash
</A></li>
        <LI>Next message: <A HREF="023692.html">[mod_python] MySQL connections not closing properly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23664">[ date ]</a>
              <a href="thread.html#23664">[ thread ]</a>
              <a href="subject.html#23664">[ subject ]</a>
              <a href="author.html#23664">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Howdy folks. First off, I'd like to thank you for
helping, or even just being available to help. I
really appreciate it.

That said, I'm having some troubles getting
mod_python going as a DSO with Apache 1.3.31 and
Python 2.5 on a Solaris 8 box.

The configure script is given the location of
apxs and (as was later discovered might help)
specifically told to --enable-libgcc

I'm using gcc 3.4.6 and the Solaris ld.

Everything compiles cleanly and installs, but
after adding only the basic lines to the httpd.conf:

	LoadModule python_module    libexec/mod_python.so

and then: 

	ClearModuleList
	AddModule mod_python.c

and the rest of the modules, things get hairy.

[<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">root at machine</A> mod_python-2.7.11]# /usr/local/apache/bin/apachectl
configtest
Syntax error on line 60 of /usr/local/apache/conf/httpd.conf:
Cannot load /usr/local/apache/libexec/mod_python.so into server:
ld.so.1: /usr/local/apache/bin/httpd: fatal: relocation error: file
/usr/local/apache/libexec/mod_python.so: symbol __muldi3: referenced
symbol not found

Some Google work has indicated that this might have something to do with
the differences between GNU ld and the Solaris ld, and the libgcc
library. This was what led me to add the --enable-libgcc configure
option, but that doesn't change the problem.

Other searching suggested that using GNU ld exclusively might fix this,
but I'm less comfortable doing that, since I don't know what things it
might break. I've also considered trying a static module, but would
rather not have to recompile Apache for business control reasons.

I should mention that while I can type ./configure, make, make install
with the best of them, and understand the basic theory behind what ld is
doing, I could very easily be making a basic error here, (such as
needing to pass another flag somewhere) as I know much more in theory
than in practice.

Any ideas?
-- 
Erskin L. Cherry - Web Developer
Administration for Children and Families - Office of Administration
Contractor through Encore Management Corporation
202-260-4645 (office) - 808-387-3173 (cellular)
 



</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023680.html">[mod_python] mod_python crash
</A></li>
	<LI>Next message: <A HREF="023692.html">[mod_python] MySQL connections not closing properly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23664">[ date ]</a>
              <a href="thread.html#23664">[ thread ]</a>
              <a href="subject.html#23664">[ subject ]</a>
              <a href="author.html#23664">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
