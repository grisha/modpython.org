<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] implications of multiple interpreters
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20implications%20of%20multiple%20interpreters&In-Reply-To=88e286470705042019j1ab64084sf917ce34e633c24b%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023560.html">
   <LINK REL="Next"  HREF="023562.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] implications of multiple interpreters</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>John Raines</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20implications%20of%20multiple%20interpreters&In-Reply-To=88e286470705042019j1ab64084sf917ce34e633c24b%40mail.gmail.com"
       TITLE="[mod_python] implications of multiple interpreters">jrraines at comcast.net
       </A><BR>
    <I>Sat May  5 07:05:24 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023560.html">[mod_python] implications of multiple interpreters
</A></li>
        <LI>Next message: <A HREF="023562.html">[mod_python] implications of multiple interpreters
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23561">[ date ]</a>
              <a href="thread.html#23561">[ thread ]</a>
              <a href="subject.html#23561">[ subject ]</a>
              <a href="author.html#23561">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>My point was that there is presumably one global flag that tells the  
calendar module whether the first weekday is Sunday or Monday. I'm  
presuming that if one subinterpreter changes the default Monday to  
Sunday that all the subinterpreters also see this happen. The flag  
iprobably isn't set on a per interpreter basis and even if it were, a  
browser client isn't guarranteed the same subinterpreter on the next  
request.
The first weekday needs to be restored to the default and the end of  
each page request  and if the client wants something else, it will  
need to be set up each  request by some mechanism usng cookies or  
sessions or something similar.  The first weekday thing can be set  
but not directly read; you can figure out what it is by looking at  
the returned calendar for a specific month.

  If  I understood the python 3.0 issue it was similar to this, but  
more difficult: they were considering adding the ability to override  
arithmetic operators for some classes and this would be global  
behavior. There would typically be no way to reset THAT to default   
and restore it  to what was wanted on each request.
On May 4, 2007, at 10:19 PM, Graham Dumpleton wrote:

&gt;<i> As 'calendar' is a pure Python module any problem wouldn't be anything
</I>&gt;<i> to do with multiple sub interpreters as each sub interpreter has its
</I>&gt;<i> own copy of pure Python code modules. Any problem you saw is more
</I>&gt;<i> likely the result of using the Apache worker MPM on UNIX, or using a
</I>&gt;<i> Windows box, and the fact that distinct requests can be running
</I>&gt;<i> concurrently within the one sub interpreter of a process in different
</I>&gt;<i> threads.
</I>&gt;<i>
</I>&gt;<i> Graham
</I>&gt;<i>
</I>&gt;<i> On 04/05/07, John Raines &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">jrraines at comcast.net</A>&gt; wrote:
</I>&gt;&gt;<i> Last night I found a bug in my code that involved using
</I>&gt;&gt;<i> calendar.setfirstweekday in one place and later assuming that it was
</I>&gt;&gt;<i> the default at another place (actually an earlier place that I came
</I>&gt;&gt;<i> back to).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> As I think about this there may be an interaction with multiple
</I>&gt;&gt;<i> interpreters so that this MIGHTt ave been hard to reproduce and find.
</I>&gt;&gt;<i> I fixed my problem but I am interested in understanding the
</I>&gt;&gt;<i> implications of multiple interpreters for issues of this sort.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I suspect this is not dissimilar to the brief thread earlier in the
</I>&gt;&gt;<i> week about python 3.0.
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mod_python mailing list
</I>&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;&gt;<i>
</I>
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023560.html">[mod_python] implications of multiple interpreters
</A></li>
	<LI>Next message: <A HREF="023562.html">[mod_python] implications of multiple interpreters
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23561">[ date ]</a>
              <a href="thread.html#23561">[ thread ]</a>
              <a href="subject.html#23561">[ subject ]</a>
              <a href="author.html#23561">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
