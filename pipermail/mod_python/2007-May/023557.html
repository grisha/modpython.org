<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Pre and postprocess blocks (Publisher mode)?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Pre%20and%20postprocess%20blocks%20%28Publisher%20mode%29%3F&In-Reply-To=463AEAD3.6050809%40gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023556.html">
   <LINK REL="Next"  HREF="023572.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Pre and postprocess blocks (Publisher mode)?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Pre%20and%20postprocess%20blocks%20%28Publisher%20mode%29%3F&In-Reply-To=463AEAD3.6050809%40gmail.com"
       TITLE="[mod_python] Pre and postprocess blocks (Publisher mode)?">graham.dumpleton at gmail.com
       </A><BR>
    <I>Fri May  4 05:50:59 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023556.html">[mod_python] Pre and postprocess blocks (Publisher mode)?
</A></li>
        <LI>Next message: <A HREF="023572.html">[mod_python] Pre and postprocess blocks (Publisher mode)?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23557">[ date ]</a>
              <a href="thread.html#23557">[ thread ]</a>
              <a href="subject.html#23557">[ subject ]</a>
              <a href="author.html#23557">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 04/05/07, durumdara &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">durumdara at gmail.com</A>&gt; wrote:
&gt;<i> Hi!
</I>&gt;<i>
</I>&gt;<i> I tried Pylons to see and check it... how to working, what I need to
</I>&gt;<i> learn about it... from it... :-)
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://groups.google.com/group/pylons-discuss/browse_thread/thread/8870ed10d821c06f">http://groups.google.com/group/pylons-discuss/browse_thread/thread/8870ed10d821c06f</A>
</I>&gt;<i>
</I>&gt;<i> I probably ported my modpy site to pylons-type site.
</I>&gt;<i>
</I>&gt;<i> One thing I like in it: it have preprocess, and postprocess phase where
</I>&gt;<i> I define the common operations.
</I>&gt;<i>
</I>&gt;<i> Example: session, database handling, right/access checking, etc.
</I>&gt;<i>
</I>&gt;<i> So pylons is starts with _before_ procedure, what defined in base
</I>&gt;<i> controller and &quot;overrideable&quot; in any controllers; and next it is
</I>&gt;<i> traverses the path to controller/action.
</I>&gt;<i> Then it is calls the actual &quot;controller object&quot;'s actual function (named
</I>&gt;<i> as action). This procedure is get back a Response object.
</I>&gt;<i> Finally it is call the _after_ procedure, and finished with request.
</I>&gt;<i>
</I>&gt;<i> Because the controllers are python modules, it is avoid the &quot;same module
</I>&gt;<i> name&quot; hell (in another modules I can use same name - example index).
</I>
What exactly are you talking about when you say 'same module name hell'?

Note that packages like Pylons, Django etc rely on standard module
importing mechanism so module names have to be unique or contained
with a package structure. The mod_python module importer supports
being able to load modules based on absolute path as well, thus
allowing same module names in multiple contexts and still support
module reloading. See the apache.import_module() function described
in:

  <A HREF="http://www.modpython.org/live/current/doc-html/pyapi-apmeth.html">http://www.modpython.org/live/current/doc-html/pyapi-apmeth.html</A>

&gt;<i> I know that modpy supports publisher mode, that same like pylons'
</I>&gt;<i> working method.
</I>&gt;<i>
</I>&gt;<i> 1.)
</I>&gt;<i> But I want to know: how the modpython helps me to I do pre- and
</I>&gt;<i> postprocess operations?
</I>
Apache/mod_python actually has a much better developed concept of
request processing phases than Pylons and other monolithic solutions
such as Django. Have a look at the section '4.4.4 Process HTTP
Request' in:

  <A HREF="http://www.fmc-modeling.org/projects/apache/html/4_4Request_Response_Loop.html">http://www.fmc-modeling.org/projects/apache/html/4_4Request_Response_Loop.html</A>

In mod_python most of the phases can have code associated with them. See:

  <A HREF="http://www.modpython.org/live/current/doc-html/dir-handlers.html">http://www.modpython.org/live/current/doc-html/dir-handlers.html</A>

A post handler or cleanup handler can be registered using the
req.register_cleanup() method. See documentation in:

  <A HREF="http://www.modpython.org/live/current/doc-html/pyapi-mprequest-meth.html">http://www.modpython.org/live/current/doc-html/pyapi-mprequest-meth.html</A>

Note that you can also define stacked handlers for PythonHandler as
another means of implementing a request in multiple phases.

One can also use other Apache modules to implement some phases, thus
avoiding duplication of effort.

&gt;<i> 2.)
</I>&gt;<i> Can I get paths/pages without extensions like in pylons?
</I>&gt;<i> Example:
</I>&gt;<i> www.somesite.com/main
</I>&gt;<i> www.somesite.com/search
</I>&gt;<i> And not:
</I>&gt;<i> www.somesite.com/main.py
</I>&gt;<i> www.somesite.com/search.py
</I>
Yes. See discussion of SetHandler/AddHandler differences and
MultiViews feature of Apache in:

  <A HREF="http://www.dscpl.com.au/wiki/ModPython/Articles/SetHandlerVersusAddHandler">http://www.dscpl.com.au/wiki/ModPython/Articles/SetHandlerVersusAddHandler</A>

&gt;<i> In publisher mode how the paths are working?
</I>&gt;<i> When I have a module named main.py that have many subfunctions, what
</I>&gt;<i> path I need to use?
</I>&gt;<i> www.somesite.com/main.py/index
</I>&gt;<i> www.somesite.com/main.py/search
</I>&gt;<i> or
</I>&gt;<i> www.somesite.com/main/index
</I>&gt;<i> www.somesite.com/main/search
</I>&gt;<i> ?
</I>
Either if you set up the Apache configuration correctly.

Also read documentation:

  <A HREF="http://www.modpython.org/live/current/doc-html/hand-pub-alg.html">http://www.modpython.org/live/current/doc-html/hand-pub-alg.html</A>

Overall, Apache/mod_python is probably more flexible and through use
of other Apache modules can be controlled to a much higher degree
without having to write too much custom code for URL dispatching which
is just going to bloat your application.

So, read through all those references and try and take it in. Then
perhaps come back with more specific questions with examples of what
you have tried.

Graham
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023556.html">[mod_python] Pre and postprocess blocks (Publisher mode)?
</A></li>
	<LI>Next message: <A HREF="023572.html">[mod_python] Pre and postprocess blocks (Publisher mode)?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23557">[ date ]</a>
              <a href="thread.html#23557">[ thread ]</a>
              <a href="subject.html#23557">[ subject ]</a>
              <a href="author.html#23557">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
