<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Setting HTTP response status line
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Setting%20HTTP%20response%20status%20line&In-Reply-To=463E5BF2.5050602%40rogerbinns.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023571.html">
   <LINK REL="Next"  HREF="023631.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Setting HTTP response status line</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Mike Looijmans</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Setting%20HTTP%20response%20status%20line&In-Reply-To=463E5BF2.5050602%40rogerbinns.com"
       TITLE="[mod_python] Setting HTTP response status line">nlv11281 at natlab.research.philips.com
       </A><BR>
    <I>Tue May  8 02:11:09 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023571.html">[mod_python] Setting HTTP response status line
</A></li>
        <LI>Next message: <A HREF="023631.html">[mod_python] Setting HTTP response status line
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23574">[ date ]</a>
              <a href="thread.html#23574">[ thread ]</a>
              <a href="subject.html#23574">[ subject ]</a>
              <a href="author.html#23574">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Roger Binns wrote:
&gt;<i> Yup, I have to revisit how to deal with returning error information in
</I>&gt;<i> machine and human readable forms.  Short of the status line, I guess
</I>&gt;<i> headers are going to be the best for machine readable.
</I>
When testing, I just return a 500 page, with an Exception header and a format of text/plain with the 
traceback and stuff. The handler code just throws that text in a new exception and that makes it end 
up into the test logs (unless the call was supposed to fail - bad weather testing is good for the soul).

&gt;<i> Hmmm, I wonder if I could pickle an exception and traceback, base64
</I>&gt;<i> encode it and return in a header?  Kidding :-)
</I>
Why in the header? You can use the body as well, so you won't need the encoding at all. It can be 
done, but you must have all the modules that are touched in the traceback at the client side.

On second guess, it won't work because the objects the stack trace refers to can probably not be 
pickled anyway (callables, instances of weird classes, ...). It's safer to convert to text first 
using the traceback module.

--
Mike Looijmans
Philips Natlab / Topic Automation



</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023571.html">[mod_python] Setting HTTP response status line
</A></li>
	<LI>Next message: <A HREF="023631.html">[mod_python] Setting HTTP response status line
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23574">[ date ]</a>
              <a href="thread.html#23574">[ thread ]</a>
              <a href="subject.html#23574">[ subject ]</a>
              <a href="author.html#23574">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
