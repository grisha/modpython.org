<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] mod_python.publisher weirdness
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python.publisher%20weirdness&In-Reply-To=001301c42282%247cb07b10%246702a8c0%40gato">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015422.html">
   <LINK REL="Next"  HREF="015406.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] mod_python.publisher weirdness</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Jorey Bump</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python.publisher%20weirdness&In-Reply-To=001301c42282%247cb07b10%246702a8c0%40gato"
       TITLE="[mod_python] mod_python.publisher weirdness">list+mod_python at joreybump.com
       </A><BR>
    <I>Wed Apr 14 21:37:51 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="015422.html">[mod_python] mod_python.publisher weirdness
</A></li>
        <LI>Next message: <A HREF="015406.html">[mod_python] mod_python.publisher weirdness
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15429">[ date ]</a>
              <a href="thread.html#15429">[ thread ]</a>
              <a href="subject.html#15429">[ subject ]</a>
              <a href="author.html#15429">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jeff Hinrichs wrote:

&gt;<i> ----- Original Message ----- 
</I>&gt;<i> From: &quot;Jorey Bump&quot; &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">list+mod_python at joreybump.com</A>&gt;
</I>&gt;<i>
</I>&gt;&gt;<i>For this reason, you should avoid setting your DirectoryIndex to a
</I>&gt;&gt;<i>python module (index.py). Use a gateway index.html page, instead, or
</I>&gt;&gt;<i>link directly to the python file.
</I>&gt;<i> 
</I>&gt;<i> Could you explain what you mean by gateway index.html page? Something that
</I>&gt;<i> redirects requests to / to the proper module?
</I>
An example would be a form-based application. Let's say you have a 
survey about snakes, and want people to go to:

  <A HREF="http://www.example.com/survey/">http://www.example.com/survey/</A>

This would take them to a default page named index.html, which would 
simply be a form with the action set to:

  <A HREF="http://www.example.com/survey/snake.py/submit">http://www.example.com/survey/snake.py/submit</A>

When someone submits the form, your module takes over, and returns a 
page that may contain links to other functions in snake.py. This allows 
you to keep your application's files in one directory, and distribute 
them easily to other mod_python installations (as long as they aren't 
already using another snake.py).

But don't think index.py is evil. You could put a single index.py in the 
root of your site, and drive the entire thing from it. Then you could 
create a new module for each application, give it a unique name, and 
keep it in the root directory alongside index.py. Putting all of your 
modules in one directory will help you to avoid name clashes, and 
encourage you to reuse code.

You could even put all of your modules in a directory in your 
PYTHONPATH, safely outside the DocumentRoot, and import them as needed. 
Each virtual host could have a directory appended to its PYTHONPATH and 
drive its entire site with index.py and any static files it might need, 
such as images. With simplicity comes enormous flexibility.

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015422.html">[mod_python] mod_python.publisher weirdness
</A></li>
	<LI>Next message: <A HREF="015406.html">[mod_python] mod_python.publisher weirdness
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15429">[ date ]</a>
              <a href="thread.html#15429">[ thread ]</a>
              <a href="subject.html#15429">[ subject ]</a>
              <a href="author.html#15429">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
