<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] no fragments in uri
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20no%20fragments%20in%20uri&In-Reply-To=16518.38693.820379.384234%40gargle.gargle.HOWL">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015463.html">
   <LINK REL="Next"  HREF="015462.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] no fragments in uri</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Michael S. Fischer</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20no%20fragments%20in%20uri&In-Reply-To=16518.38693.820379.384234%40gargle.gargle.HOWL"
       TITLE="[mod_python] no fragments in uri">michael at dynamine.net
       </A><BR>
    <I>Wed Apr 21 10:03:26 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="015463.html">[mod_python] no fragments in uri
</A></li>
        <LI>Next message: <A HREF="015462.html">[mod_python] Example doesn't work
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15464">[ date ]</a>
              <a href="thread.html#15464">[ thread ]</a>
              <a href="subject.html#15464">[ subject ]</a>
              <a href="author.html#15464">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>There's nothing wrong with mod_python.  req.uri has only what is requested
from the server via the GET header, but neither the host nor the fragment is
given to the server by the browser.  Watch the application-level traffic and
see for yourself.

When name-based virtual hosting is being used, you can additionally examine
the Host: header.

Best,

--Michael

&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python-bounces at modpython.org</A> 
</I>&gt;<i> [mailto:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python-bounces at modpython.org</A>] On Behalf Of Daniel 
</I>&gt;<i> J. Popowich
</I>&gt;<i> Sent: Wednesday, April 21, 2004 8:46 AM
</I>&gt;<i> To: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
</I>&gt;<i> Subject: [mod_python] no fragments in uri
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I'm using modpython 3.1.3 built against python 2.3.2 and 
</I>&gt;<i> apache 2.0.40.  I'm not getting uri fragments from 
</I>&gt;<i> req.unparsed_uri or req.parsed_uri.  For example, with this handler:
</I>&gt;<i> 
</I>&gt;<i>     from mod_python import apache
</I>&gt;<i> 
</I>&gt;<i>     def handler(req):
</I>&gt;<i> 
</I>&gt;<i> 	req.content_type = 'text/plain'
</I>&gt;<i> 	req.write('unparsed_uri: %s\n' % req.unparsed_uri)
</I>&gt;<i> 	req.write('parsed_uri: %s\n' % str(req.parsed_uri))
</I>&gt;<i> 
</I>&gt;<i> 	return apache.OK
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> And specifying this URL with my browser:
</I>&gt;<i> 
</I>&gt;<i>     <A HREF="http://localhost/~dpopowich/py/?abc=1#foo">http://localhost/~dpopowich/py/?abc=1#foo</A>
</I>&gt;<i> 
</I>&gt;<i> I'm getting this output:
</I>&gt;<i> 
</I>&gt;<i>     unparsed_uri: /~dpopowich/py/?abc=1
</I>&gt;<i>     parsed_uri: (None, None, None, None, None, None, 
</I>&gt;<i> '/~dpopowich/py/', 'abc=1', None)
</I>&gt;<i> 
</I>&gt;<i> Note how parsed_uri is also missing scheme and host info as well.
</I>&gt;<i> 
</I>&gt;<i> Whereas the following python script gives expected output:
</I>&gt;<i> 
</I>&gt;<i>     import urlparse
</I>&gt;<i>     print 
</I>&gt;<i> urlparse.urlsplit('<A HREF="http://localhost/~dpopowich/py/?abc=1#foo'">http://localhost/~dpopowich/py/?abc=1#foo'</A>)
</I>&gt;<i> 
</I>&gt;<i> Output:
</I>&gt;<i> 
</I>&gt;<i>     ('http', 'localhost', '/~dpopowich/py/', 'abc=1', 'foo')
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ------------------
</I>&gt;<i> Daniel Popowich
</I>&gt;<i> Network Specialist
</I>&gt;<i> -------------------------------------
</I>&gt;<i> Mohawk Trail Regional School District
</I>&gt;<i> 24 Ashfield Rd.
</I>&gt;<i> Shelburne Falls, MA 01370
</I>&gt;<i> 413.625.0192 x14
</I>&gt;<i> -------------------------------------
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015463.html">[mod_python] no fragments in uri
</A></li>
	<LI>Next message: <A HREF="015462.html">[mod_python] Example doesn't work
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15464">[ date ]</a>
              <a href="thread.html#15464">[ thread ]</a>
              <a href="subject.html#15464">[ subject ]</a>
              <a href="author.html#15464">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
