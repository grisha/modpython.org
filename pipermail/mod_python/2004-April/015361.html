<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] session example
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20session%20example&In-Reply-To=1081239182.4072668e638a3%40imp5-q.free.fr">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015360.html">
   <LINK REL="Next"  HREF="015366.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] session example</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>John Mudd</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20session%20example&In-Reply-To=1081239182.4072668e638a3%40imp5-q.free.fr"
       TITLE="[mod_python] session example">mudd at vex.net
       </A><BR>
    <I>Tue Apr  6 06:02:02 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="015360.html">[mod_python] session example
</A></li>
        <LI>Next message: <A HREF="015366.html">[mod_python] session example
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15361">[ date ]</a>
              <a href="thread.html#15361">[ thread ]</a>
              <a href="subject.html#15361">[ subject ]</a>
              <a href="author.html#15361">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I may be way off so feel free to correct me but here what I've come to
believe.  It's necessary to write cookies before any other writes.  So
you need to save the session (which writes it's cookie) before any other
writes.

John


On Tue, 2004-04-06 at 04:13, <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">pascalbarbedor at free.fr</A> wrote:
&gt;<i> hi 
</I>&gt;<i> thanks for preceeding answer but I cant make it work.
</I>&gt;<i> 
</I>&gt;<i> what's wrong with this:
</I>&gt;<i> ---------------------------------------
</I>&gt;<i> sess=Session.Session(req)
</I>&gt;<i> 
</I>&gt;<i> if sess.is_new():
</I>&gt;<i>     req.write(sess.id())
</I>&gt;<i> else :
</I>&gt;<i>     req.write('used session %s'%sess.id())
</I>&gt;<i> 
</I>&gt;<i> sess['login']='toto'
</I>&gt;<i> 
</I>&gt;<i> req.write(&quot;%s&quot;%sess)
</I>&gt;<i> 
</I>&gt;<i> sess.save()
</I>&gt;<i> ----------------------------------------
</I>&gt;<i> 
</I>&gt;<i> shouldn't it display session used on second reload of the page ?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> thanks
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015360.html">[mod_python] session example
</A></li>
	<LI>Next message: <A HREF="015366.html">[mod_python] session example
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15361">[ date ]</a>
              <a href="thread.html#15361">[ thread ]</a>
              <a href="subject.html#15361">[ subject ]</a>
              <a href="author.html#15361">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
