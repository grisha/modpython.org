<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Session variables
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Session%20variables&In-Reply-To=407D7375.5060104%40q-voz.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015417.html">
   <LINK REL="Next"  HREF="015454.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Session variables</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>John Mudd</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Session%20variables&In-Reply-To=407D7375.5060104%40q-voz.com"
       TITLE="[mod_python] Session variables">mudd at vex.net
       </A><BR>
    <I>Wed Apr 14 14:46:34 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="015417.html">[mod_python] Session variables
</A></li>
        <LI>Next message: <A HREF="015454.html">[mod_python] Session variables
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15419">[ date ]</a>
              <a href="thread.html#15419">[ thread ]</a>
              <a href="subject.html#15419">[ subject ]</a>
              <a href="author.html#15419">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Unfortunately I was wrong in some respects.  Here's Grisha's response.

John


---


The cookie is set in the __init__ method of the session object, so
saving
the session and the cookie are not related.

Also keep in mind that the cookie is set only once - when the session is
new. After that there is no need for it, it's the client who has to send
the cookie to the server every time, the server does not need to
&quot;return&quot;
it. So if your session persists over 100 HTTP requests, 1 will have a
cookie header, and 99 will not.

Grisha





On Wed, 2004-04-14 at 13:23, Gustavo C&#243;rdova Avila wrote:
&gt;<i> Ach, this is beautiful, concise, clear, and to the point.
</I>&gt;<i> 
</I>&gt;<i> Thankyou so much!!
</I>&gt;<i> 
</I>&gt;<i> -gustavo
</I>&gt;<i> 
</I>&gt;<i> John Mudd wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt;I think the session object is auto loaded (if one already exists).  You
</I>&gt;<i> &gt;can request a session for a specific sid but I don't know why.  The sid
</I>&gt;<i> &gt;is auto saved in a cookie for you.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;	session = Session.Session(req, None, secretKey)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;If you saved a session before for this same client, and it hasn't
</I>&gt;<i> &gt;expired yet. you'll get the same session back.  If it's a mew client or
</I>&gt;<i> &gt;te session expired you'll get a new (blank) session.  Use is_new() to
</I>&gt;<i> &gt;test.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;	if session.is_new():
</I>&gt;<i> &gt;	
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Once you have a session object you can store stuff in it.  Like a
</I>&gt;<i> &gt;dictionary.  You can also set (and later reset) a timeout.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;    session['login'] = login
</I>&gt;<i> &gt;    session['passwd'] = passwd
</I>&gt;<i> &gt;    session['page'] = nextPage
</I>&gt;<i> &gt;    session['loginCount'] = loginCount
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;And it seems that a &quot;pysid&quot; cookie is auto generated when you save the
</I>&gt;<i> &gt;session object.  
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;	session.save()
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Pretty cool.  Now if there is just an automatic way to tell if a new
</I>&gt;<i> &gt;session is the result of an old session expiring...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;John
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;On Thu, 2004-04-01 at 11:58, <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">jakob at simon-gaarde.dk</A> wrote:
</I>&gt;<i> &gt;  
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt;Hello.
</I>&gt;<i> &gt;&gt;I can see that you can save and load session values from mod_python 3.1,
</I>&gt;<i> &gt;&gt;but unfortunately I don't understand how this works. Could someone
</I>&gt;<i> &gt;&gt;elabourate with an example please?
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;Best regards Jakob Simon-Gaarde
</I>&gt;<i> &gt;&gt;_______________________________________________
</I>&gt;<i> &gt;&gt;Mod_python mailing list
</I>&gt;<i> &gt;&gt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> &gt;&gt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> &gt;&gt;    
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;_______________________________________________
</I>&gt;<i> &gt;Mod_python mailing list
</I>&gt;<i> &gt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> &gt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;  
</I>&gt;<i> &gt;
</I>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015417.html">[mod_python] Session variables
</A></li>
	<LI>Next message: <A HREF="015454.html">[mod_python] Session variables
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15419">[ date ]</a>
              <a href="thread.html#15419">[ thread ]</a>
              <a href="subject.html#15419">[ subject ]</a>
              <a href="author.html#15419">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
