<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Sanitizing user input... but not totally.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Sanitizing%20user%20input...%20but%20not%20totally.&In-Reply-To=F0DE25E7-F6ED-4264-98AD-77B4195B320C%40ataribaby.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019571.html">
   <LINK REL="Next"  HREF="019572.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Sanitizing user input... but not totally.</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Deron Meranda</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Sanitizing%20user%20input...%20but%20not%20totally.&In-Reply-To=F0DE25E7-F6ED-4264-98AD-77B4195B320C%40ataribaby.org"
       TITLE="[mod_python] Sanitizing user input... but not totally.">deron.meranda at gmail.com
       </A><BR>
    <I>Tue Nov 22 12:59:54 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="019571.html">[mod_python] Sanitizing user input... but not totally.
</A></li>
        <LI>Next message: <A HREF="019572.html">[mod_python] Sanitizing user input... but not totally.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19573">[ date ]</a>
              <a href="thread.html#19573">[ thread ]</a>
              <a href="subject.html#19573">[ subject ]</a>
              <a href="author.html#19573">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/22/05, Anthony L. &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">anthony at ataribaby.org</A>&gt; wrote:
&gt;<i> Does mod_python or even Python have a function for sanitizing user
</I>&gt;<i> input?
</I>
Santizing is usually very application specific.  Both in what
patterns of characters are acceptible, as well as what to do
if the rules aren't met (simply remove the offending characters,
replace them with something else, show an error page, etc.)

So it's usually best for each application to provide it's own
functions to do this.

However, you should be aware of some common mechanisms
in the libraries you may import.  For instance,

In myghty:
  m.apply_escapes()

In cgi:
  cgi.escape()

In urllib, urllib2:
  urllib.quote(), urllib2.quote_plus()

In DBI (most python database interfaces):
  db.escape()   % use for embedding values in SQL statements

For Unix shell commands (if you're invoking external apps):
  shlex.escape()

Also if you're wanting to make sure filenames are &quot;safe&quot; you
may also want to apply this test:
  import os
  def is_filename_safe( f ):
     if not f or f.startswith('.') or f.find(os.path.sep)&gt;=0:
        return false
     return true

&gt;<i> Am I better off using regular expressions? It's my understanding that
</I>&gt;<i> the above code is better performance and load wise versus regular
</I>&gt;<i> expressions where there are many simultaneous user inputs.
</I>
Performance depends on what kind of filtering you are doing.
If using regular expressions though, you should try to use
compiled regular expression objects.  That eliminates most of
the expensive part of using re's for the second and subsequent
use.

Also look at the standard function string.translate().  It may do
much of what you want.

--
Deron Meranda

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019571.html">[mod_python] Sanitizing user input... but not totally.
</A></li>
	<LI>Next message: <A HREF="019572.html">[mod_python] Sanitizing user input... but not totally.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19573">[ date ]</a>
              <a href="thread.html#19573">[ thread ]</a>
              <a href="subject.html#19573">[ subject ]</a>
              <a href="author.html#19573">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
