<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] mod_python article
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20article&In-Reply-To=1131573688.29628%40dscpl.user.openhosting.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019500.html">
   <LINK REL="Next"  HREF="019502.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] mod_python article</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Jorey Bump</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20article&In-Reply-To=1131573688.29628%40dscpl.user.openhosting.com"
       TITLE="[mod_python] mod_python article">list at joreybump.com
       </A><BR>
    <I>Wed Nov  9 17:36:36 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="019500.html">[mod_python] mod_python article
</A></li>
        <LI>Next message: <A HREF="019502.html">[mod_python] mod_python article
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19501">[ date ]</a>
              <a href="thread.html#19501">[ thread ]</a>
              <a href="subject.html#19501">[ subject ]</a>
              <a href="author.html#19501">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Graham Dumpleton wrote:
&gt;<i> A few comments of my own to expand on what Jorey as already
</I>&gt;<i> pointed out.
</I>&gt;<i> 
</I>&gt;<i> Jorey Bump wrote ..
</I>&gt;<i> 
</I>&gt;&gt;<i>1. Replace AddHandler with SetHandler in your example configuration.
</I>&gt;<i> 
</I>&gt;<i> Even if SetHandler is used, with the action specified in the form, the
</I>&gt;<i> mod_python code would need to be saved as &quot;python/index.py&quot;.
</I>
Natch. I don't recommend starting off with this in a tutorial, though, 
as it's an advanced topic. Well, it's pretty simple, actually, but not 
when compared to the notion of other index.* files (index.html, 
index.php, index.pl,...). Furthermore, it's not standardized across 
versions of mod_python still in use.

&gt;<i> If the name of the mod_python code file were &quot;python/getmonth.py&quot; then
</I>&gt;<i> your action would need to be &quot;python/getmonth.py/getMonth&quot;.
</I>
Or &quot;python/getmonth/getMonth&quot;, when using SetHandler, requiring some 
further explanation of the differences between AddHandler &amp; SetHandler...

&gt;<i> It isn't clear what the name of the mod_python code file is supposed to
</I>&gt;<i> be, so anyone following the article may get confused.
</I>&gt;<i> 
</I>&gt;<i> One could still use AddHandler if it were corrected to:
</I>&gt;<i> 
</I>&gt;<i>   AddHandler mod_python.py
</I>
Corrected correction:

  AddHandler mod_python .py

But the context of the article suggests he wants SetHandler:

&quot;This means that all files under the directory will be processed by the 
mod_python handler.&quot;

&gt;<i> If you want to not be able to use &quot;.py&quot; in the URL, then you have extra
</I>&gt;<i> work to do to ensure that MultiViews matching in Apache is properly
</I>&gt;<i> configured.
</I>
Or just use SetHandler, of course.

&gt;&gt;<i>2. Provide the name of your published module.
</I>&gt;<i> 
</I>&gt;<i> Is this what I described further above as far as the name of the mod_python
</I>&gt;<i> code file, or do you mean something else???
</I>
Yes. I was intentionally terse, to help emphasize the karmic 
implications of each point. Using SetHandler goes a long way towards 
fixing the article, but only if the published module is named index.py. 
As you suggest, it's better to use a different file name for 
demonstration purposes.

&gt;&gt;<i>3. Use a return statement instead of req.write().
</I>&gt;<i> 
</I>&gt;<i> Thus you mod_python code becomes:
</I>&gt;<i> 
</I>&gt;<i>    import calendar
</I>&gt;<i>    def getMonth(req,month):
</I>&gt;<i>       req.content_type = 'text/plain'
</I>&gt;<i>       req.write(calendar.month(2005, int(month),2,3))
</I>&gt;<i>       return &quot;\n&quot;
</I>&gt;<i> 
</I>&gt;<i> or if returned as result:
</I>&gt;<i> 
</I>&gt;<i>   import calendar
</I>&gt;<i>   def getMonth(req,month):
</I>&gt;<i>       return calendar.month(2005, int(month),2,3)
</I>
The second example is best for an introduction to Publisher. I think a 
simple Publisher tutorial is possible without exploring all of the 
pitfalls in detail, but their existence should be noted.

Joshua, are you able to revise the article? I don't think a beginner 
could get mod_python.publisher working as described. I won't comment on 
the PSP part, as I don't use it. But, your overall presentation is quite 
nice, if you can fix the errors.


</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019500.html">[mod_python] mod_python article
</A></li>
	<LI>Next message: <A HREF="019502.html">[mod_python] mod_python article
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19501">[ date ]</a>
              <a href="thread.html#19501">[ thread ]</a>
              <a href="subject.html#19501">[ subject ]</a>
              <a href="author.html#19501">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
