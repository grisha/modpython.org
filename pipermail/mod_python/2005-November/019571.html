<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Sanitizing user input... but not totally.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Sanitizing%20user%20input...%20but%20not%20totally.&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019570.html">
   <LINK REL="Next"  HREF="019573.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Sanitizing user input... but not totally.</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Anthony L.</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Sanitizing%20user%20input...%20but%20not%20totally.&In-Reply-To="
       TITLE="[mod_python] Sanitizing user input... but not totally.">anthony at ataribaby.org
       </A><BR>
    <I>Tue Nov 22 12:30:44 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="019570.html">[mod_python] PSP Templating printing in plain text
</A></li>
        <LI>Next message: <A HREF="019573.html">[mod_python] Sanitizing user input... but not totally.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19571">[ date ]</a>
              <a href="thread.html#19571">[ thread ]</a>
              <a href="subject.html#19571">[ subject ]</a>
              <a href="author.html#19571">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Does mod_python or even Python have a function for sanitizing user  
input? I wrote the following code which does the trick, but it only  
allows alphanumeric characters:

	s = '#/A%(.n=t$h^&amp;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">o at n</A>*&quot;:;&lt;.?/-_+=!y)'
         return filter(lambda c:c.isalnum(), s)

This does a great job of cleaning up the string, but I would like to  
extend it to allow certain extra characters as I desire. For example,  
in certain inputs I want to allow underscores, tildes, periods, and  
spaces.

Am I better off using regular expressions? It's my understanding that  
the above code is better performance and load wise versus regular  
expressions where there are many simultaneous user inputs.

I'd like to remain positive by building a whitelist of acceptable  
characters rather than to blacklist every possible bad character, but  
I would like to code unicode support as well, so I am nervous about  
scanning each and every character in a user input to see if it is not  
on the allowable list... seems inefficient.

Anthony
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019570.html">[mod_python] PSP Templating printing in plain text
</A></li>
	<LI>Next message: <A HREF="019573.html">[mod_python] Sanitizing user input... but not totally.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19571">[ date ]</a>
              <a href="thread.html#19571">[ thread ]</a>
              <a href="subject.html#19571">[ subject ]</a>
              <a href="author.html#19571">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
