<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Re: Calling APR optional functions provided by
	modules
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20Calling%20APR%20optional%20functions%20provided%20by%0A%09modules&In-Reply-To=5c06fa770511231304r2325fdffke4b718404704c0b5%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019626.html">
   <LINK REL="Next"  HREF="019612.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Re: Calling APR optional functions provided by
	modules</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20Calling%20APR%20optional%20functions%20provided%20by%0A%09modules&In-Reply-To=5c06fa770511231304r2325fdffke4b718404704c0b5%40mail.gmail.com"
       TITLE="[mod_python] Re: Calling APR optional functions provided by
	modules">grahamd at dscpl.com.au
       </A><BR>
    <I>Wed Nov 23 18:42:55 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="019626.html">[mod_python] Re: Calling APR optional functions provided by
	modules
</A></li>
        <LI>Next message: <A HREF="019612.html">[mod_python] strange behavior of form + patch for mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19609">[ date ]</a>
              <a href="thread.html#19609">[ thread ]</a>
              <a href="subject.html#19609">[ subject ]</a>
              <a href="author.html#19609">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sorry, quick answer as have practically no time for the next week to
read email. Already gotten in trouble for sending this. :-)

The issue has been discussed previously and I posted some
sample code which might be able to be adapted to create a loadable
module for Python usable in context of mod_python to achieve
some of what you want.

See mailing list archive:

   <A HREF="http://www.modpython.org/pipermail/mod_python/2005-May/018164.html">http://www.modpython.org/pipermail/mod_python/2005-May/018164.html</A>
   <A HREF="http://www.modpython.org/pipermail/mod_python/attachments/">http://www.modpython.org/pipermail/mod_python/attachments/</A> 
20050523/9fa0275b/_mp_mod_ssl.obj
   <A HREF="http://www.modpython.org/pipermail/mod_python/attachments/">http://www.modpython.org/pipermail/mod_python/attachments/</A> 
20050523/9fa0275b/setup.obj

This way of doing things means that there is no changes needed to  
mod_python,
however, it can be a bit tricky to build the module in the first place.

You'll just need to go back and forth through mailing list archive  
thread, as will
not necessarily have more time to discuss it further.

Graham


On 24/11/2005, at 8:04 AM, Deron Meranda wrote:

&gt;<i> I went ahead and coded and tested patches to mod_python 3.2.5b
</I>&gt;<i> which allow access to many mod_ssl parameters in early request
</I>&gt;<i> phases.
</I>&gt;<i>
</I>&gt;<i> I don't know how contributed enhancements like this are normally
</I>&gt;<i> handled, so I'm attaching the patch files to this email.  If they
</I>&gt;<i> should instead go someplace else please let me know.
</I>&gt;<i>
</I>&gt;<i> Basically I added two new methods to the request object.
</I>&gt;<i>
</I>&gt;<i>   req.is_https()
</I>&gt;<i>   req.ssl_var()
</I>&gt;<i>
</I>&gt;<i> which will invoke the mod_ssl optional functions ssl_is_https()
</I>&gt;<i> and ssl_var_lookup().  They safely handle the case where
</I>&gt;<i> mod_ssl is not loaded or not available.
</I>&gt;<i>
</I>&gt;<i> They also work perfectly fine from say the PythonAccessHandler
</I>&gt;<i> phase, whereas using subprocess_env does not.
</I>&gt;<i> --
</I>&gt;<i> Deron Meranda
</I>&gt;<i>
</I>&gt;<i> &lt;requestobject.c.patch&gt;
</I>&gt;<i> &lt;modpython4.tex.patch&gt;
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019626.html">[mod_python] Re: Calling APR optional functions provided by
	modules
</A></li>
	<LI>Next message: <A HREF="019612.html">[mod_python] strange behavior of form + patch for mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19609">[ date ]</a>
              <a href="thread.html#19609">[ thread ]</a>
              <a href="subject.html#19609">[ subject ]</a>
              <a href="author.html#19609">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
