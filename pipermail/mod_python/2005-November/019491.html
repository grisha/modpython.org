<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] mod_python module path
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20module%20path&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019485.html">
   <LINK REL="Next"  HREF="019497.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] mod_python module path</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20module%20path&In-Reply-To="
       TITLE="[mod_python] mod_python module path">grahamd at dscpl.com.au
       </A><BR>
    <I>Tue Nov  8 18:40:53 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="019485.html">[mod_python] Bugreport: mod_python replaces &quot;\n&quot; on \n
</A></li>
        <LI>Next message: <A HREF="019497.html">[mod_python] Apache2, mod_python and nss_ldap: Coredump
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19491">[ date ]</a>
              <a href="thread.html#19491">[ thread ]</a>
              <a href="subject.html#19491">[ subject ]</a>
              <a href="author.html#19491">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>In terms of what might be considered preferred practice, especially when
using a multithreaded Apache MPM, if you feel that you must set sys.path
in your actual Python code, do it from a module imported using the
PythonImport directive. These imports only happen once and before
multiple threads for handling requests come into play. Thus no need
to check if it is already in sys.path.

If the Python modules you want to use are really a part of your web
application, as opposed to some generic modules, you might also consider
instead using apache.import_module(). This will allow you to specify
exactly where to load modules from at the time the call is made thereby
avoiding the issue of setting sys.path altogether.

If using apache.import_module() or PythonHandler on your own
modules in the document tree, always be aware though of the problems
that exist in mod_python in the area of module loading/reloading. See:

  <A HREF="http://www.dscpl.com.au/articles/modpython-002.html">http://www.dscpl.com.au/articles/modpython-002.html</A>
  <A HREF="http://www.dscpl.com.au/articles/modpython-003.html">http://www.dscpl.com.au/articles/modpython-003.html</A>

Graham


Nick wrote ..
&gt;<i> For performance reasons, it's always faster to do
</I>&gt;<i> 
</I>&gt;<i> if PYPATH not in sys.path: sys.path.append(PYPATH)
</I>&gt;<i> 
</I>&gt;<i> rather than to raise and handle an exception.
</I>&gt;<i> 
</I>&gt;<i> Nick
</I>&gt;<i> 
</I>&gt;<i> jelle wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; What works for me in the python file and prevents redundant path entries:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; PYPATH = '/home/somegroovypath/my/py'
</I>&gt;<i> &gt; import sys
</I>&gt;<i> &gt; try: sys.path.index(PYPATH)
</I>&gt;<i> &gt; except: sys.path.append(PYPATH)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; On Tue, 8 Nov 2005, Jorey Bump wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;&gt; Pedro Ferreira wrote:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Hello all.
</I>&gt;<i> &gt;&gt;&gt; I'm starting with mod_python, and I'm thinnking about developing a
</I>&gt;<i> &gt;&gt;&gt; web application using it. However, I have some python packages of my
</I>&gt;<i> &gt;&gt;&gt; own, that i wanted to use, and don't know how to add them to the 
</I>&gt;<i> &gt;&gt;&gt; module path. I made a symlink in site-packages, to my module 
</I>&gt;<i> &gt;&gt;&gt; directory, and it works. However, I'll need to do it without 
</I>&gt;<i> &gt;&gt;&gt; administrator privileges. How is it possible? Is there any variable
</I>&gt;<i> I 
</I>&gt;<i> &gt;&gt;&gt; should change?
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I use the PythonPath directive in my virtual host configuration:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; PythonPath &quot;['/var/www/vhosts/www.example.com/python'] + sys.path&quot;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; For more info, see:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; <A HREF="http://www.modpython.org/live/current/doc-html/dir-other-pp.html">http://www.modpython.org/live/current/doc-html/dir-other-pp.html</A>
</I>&gt;<i> &gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt; Mod_python mailing list
</I>&gt;<i> &gt;&gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> &gt;&gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mod_python mailing list
</I>&gt;<i> &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I></PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019485.html">[mod_python] Bugreport: mod_python replaces &quot;\n&quot; on \n
</A></li>
	<LI>Next message: <A HREF="019497.html">[mod_python] Apache2, mod_python and nss_ldap: Coredump
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19491">[ date ]</a>
              <a href="thread.html#19491">[ thread ]</a>
              <a href="subject.html#19491">[ subject ]</a>
              <a href="author.html#19491">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
