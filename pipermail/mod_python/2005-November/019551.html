<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] mod_python.so: undefined symbol: ap_loaded_modules
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python.so%3A%20undefined%20symbol%3A%20ap_loaded_modules&In-Reply-To=1132115146.7655%40dscpl.user.openhosting.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019547.html">
   <LINK REL="Next"  HREF="019552.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] mod_python.so: undefined symbol: ap_loaded_modules</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Mark Dokter</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python.so%3A%20undefined%20symbol%3A%20ap_loaded_modules&In-Reply-To=1132115146.7655%40dscpl.user.openhosting.com"
       TITLE="[mod_python] mod_python.so: undefined symbol: ap_loaded_modules">dokter at icg.tu-graz.ac.at
       </A><BR>
    <I>Wed Nov 16 10:20:29 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="019547.html">[mod_python] mod_python.so: undefined symbol: ap_loaded_modules
</A></li>
        <LI>Next message: <A HREF="019552.html">[mod_python] mod_python.so: undefined symbol: ap_loaded_modules
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19551">[ date ]</a>
              <a href="thread.html#19551">[ thread ]</a>
              <a href="subject.html#19551">[ subject ]</a>
              <a href="author.html#19551">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wednesday 16 November 2005 05:25, Graham Dumpleton wrote:

&gt;<i> A random bit of information that may not be relevant, but if you have
</I>&gt;<i> multiple versions of Python installed and the one which is first in your
</I>&gt;<i> PATH is not the same one as mod_python was built for, and you run
</I>&gt;<i> &quot;apachectl restart&quot; or &quot;apachectl start&quot; explicitly, mod_python can fail
</I>&gt;<i> because it will use the one found in PATH and not the one it was built
</I>&gt;<i> for.
</I>&gt;<i>
</I>
I followed the FAQ to check the mod_python version:
Set sys.path to 
&gt;&gt;&gt;<i> sys.path
</I>['/usr/lib/python2.3/site-packages', '/usr/lib/python2.3', ...]

When importing mod_python.psp this gabe me:
&gt;&gt;&gt;<i> import mod_python.psp
</I>Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in ?
  File &quot;/usr/lib/python2.3/site-packages/mod_python/psp.py&quot;, line 20, in ?
    import apache, Session, util, _psp
  File &quot;/usr/lib/python2.3/site-packages/mod_python/apache.py&quot;, line 28, in ?
    import _apache
ImportError: No module named _apache

According to the FAQ this should be version 3.1 (as apt already told me)

I set the PythonPath variable in /etc/apache2/mods-enabled/mod_python.conf 
like this:

PythonPath &quot;['/usr/lib/python2.3','/usr/lib/python2.3/site-packages',
[/usr/lib/apache2/modules']&quot;

But I still get this in the log file:
[Wed Nov 16 16:06:42 2005] [error] make_obcallback: could not import 
mod_python.apache.\n


&gt;<i> The reason for failure can be because the one found doesn't have the
</I>&gt;<i> mod_python Python code components installed for it, or it has a
</I>&gt;<i> different version mod_python Python code components which are
</I>&gt;<i> incompatible.
</I>&gt;<i>
</I>
I have the same package versions installed on another Debian system where it 
works. So there must be something wrong with the configuration. The faulty 
system was set up by someone else a while ago. There is 
a /usr/lib/python2.2, /usr/lib/python2.4 and a /usr/local/python2.3. But 
according to my PATH settings only /usr/lib/python2.3 is used. mod_python is 
installed in /usr/lib/python2.3/site-packages/mod_python.


&gt;<i> You may get a better indication of what the problem is if you were using
</I>&gt;<i> mod_python 3.2 (BETA) as older versions didn't always write out or flush
</I>&gt;<i> out error messages properly which gave an indication of the true reason
</I>&gt;<i> for the error. You may also only find error messages in the Apache log
</I>&gt;<i> file appearing when you later shut Apache down. Ie., they don't end up
</I>&gt;<i> in the log at time of startup when the problem occurs, but when buffers
</I>&gt;<i> flushed on shutdown.
</I>&gt;<i>
</I>
3.2 is not available in the testing and unstable tree and I don't want to 
create a deb for it (never done that before - I actually prefer Gentoo, but 
here at work I have to use Debian).
I'll consider this as the last option.

&gt;<i> Graham
</I>
thx for suggestions,

Mark
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019547.html">[mod_python] mod_python.so: undefined symbol: ap_loaded_modules
</A></li>
	<LI>Next message: <A HREF="019552.html">[mod_python] mod_python.so: undefined symbol: ap_loaded_modules
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19551">[ date ]</a>
              <a href="thread.html#19551">[ thread ]</a>
              <a href="subject.html#19551">[ subject ]</a>
              <a href="author.html#19551">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
