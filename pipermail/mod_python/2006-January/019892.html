<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] streaming zipped data with publisher
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20streaming%20zipped%20data%20with%20publisher&In-Reply-To=5f56302b0601071250i42a8222cgbddf330e85f715be%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019891.html">
   <LINK REL="Next"  HREF="019893.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] streaming zipped data with publisher</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Sean Jamieson</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20streaming%20zipped%20data%20with%20publisher&In-Reply-To=5f56302b0601071250i42a8222cgbddf330e85f715be%40mail.gmail.com"
       TITLE="[mod_python] streaming zipped data with publisher">sean at barriescene.com
       </A><BR>
    <I>Sat Jan  7 16:55:55 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="019891.html">[mod_python] streaming zipped data with publisher
</A></li>
        <LI>Next message: <A HREF="019893.html">[mod_python] streaming zipped data with publisher
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19892">[ date ]</a>
              <a href="thread.html#19892">[ thread ]</a>
              <a href="subject.html#19892">[ subject ]</a>
              <a href="author.html#19892">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sure it is, even with the temporary file option, all you have to do is 
set the content-type header to application/x-gzipped or something like 
that (application/octet-stream is always a fallback value; this forces 
download, and doesn't allow it to recognize the file format for use with 
an external application), then output the file (possibly setting the 
Content-Length header first, to be polite)

with or with out the file is your choice, all you have to do is output 
the binary data, and no other output (not even a single space) or you 
will corrupt it.

Daniel Nogradi wrote:

&gt;<i>Is it possible to &quot;stream&quot; zipped data using the publisher handler?
</I>&gt;<i>
</I>&gt;<i>In my situation I would create the zipped archive upon client input
</I>&gt;<i>and want to return the archive immediately. What I have in mind is
</I>&gt;<i>creating a zip archive (using the zipfile module perhaps) in memory
</I>&gt;<i>and than sending that to the client without actually creating a zip
</I>&gt;<i>file on the disk of the server.
</I>&gt;<i>
</I>&gt;<i>In case this would not be possible I could live with creating a
</I>&gt;<i>temporary file and returning that to the client, but at the moment the
</I>&gt;<i>only way I can do this is through a link (such as &lt;a
</I>&gt;<i>href='data.zip'&gt;click here&lt;/a&gt;)  but in this case it would be a 2-step
</I>&gt;<i>process: (1) user clicks on something which creates the archive and
</I>&gt;<i>sends back the link in html (2) user clicks on the link. Is it not
</I>&gt;<i>possible to send the zip file immediately after its creation?
</I>&gt;<i>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>Mod_python mailing list
</I>&gt;<i><A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i><A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019891.html">[mod_python] streaming zipped data with publisher
</A></li>
	<LI>Next message: <A HREF="019893.html">[mod_python] streaming zipped data with publisher
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19892">[ date ]</a>
              <a href="thread.html#19892">[ thread ]</a>
              <a href="subject.html#19892">[ subject ]</a>
              <a href="author.html#19892">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
