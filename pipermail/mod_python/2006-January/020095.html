<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Simple Issue, Baffling
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Simple%20Issue%2C%20Baffling&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020097.html">
   <LINK REL="Next"  HREF="020098.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Simple Issue, Baffling</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>David Worley</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Simple%20Issue%2C%20Baffling&In-Reply-To="
       TITLE="[mod_python] Simple Issue, Baffling">dworley at communityconnect.com
       </A><BR>
    <I>Thu Jan 26 15:13:19 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020097.html">[mod_python] Syntax error in generated psp code
</A></li>
        <LI>Next message: <A HREF="020098.html">[mod_python] Simple Issue, Baffling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20095">[ date ]</a>
              <a href="thread.html#20095">[ thread ]</a>
              <a href="subject.html#20095">[ subject ]</a>
              <a href="author.html#20095">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello, all. I'm new to mod_python and somewhat new to server side
programming.

I've read the documentation, and I can't seem to find out something
relatively simple.

I'm writing a CSS preprocessor. It's meant to grab a request for a .css
file, process another file and return the result to the browser. The
issue I have is that I can't get the handler to return content the
browser actually uses.

To clarify, I'm running Apache 2.0, Python 2.4 on Windows XP.

So with the following httpd.conf entry:

&lt;Directory /some/file/system/directory&gt;
	AddHandler python-program .sss
	PythonHandler switch
	PythonDebug On
&lt;/Directory&gt;

And the following Python code, in switch.py:

from mod_python import apache

def handler(req):
	req.content_type = &quot;text/css&quot;
	req.write(&quot;&quot;&quot;\
body { background-color: red; }&quot;&quot;&quot;)
	return apache.OK

This works. It works great. When I request
<A HREF="http://localhost/some/file/system/directory/style.css,">http://localhost/some/file/system/directory/style.css,</A> I get the body
declaration above. BUT the browser doesn't use it!

I have the same problem when declaring req.content_type = &quot;text/html&quot;:
the code is returned properly, but it isn't rendered as HTML. It's just
text, as far as the browser is concerned.

Please let me know if I've totally missed something simple in the
documentation, or misunderstood the handlers, or whatever it is I've
done wrong.

Thanks!

===============================
David Worley
Senior Front End Developer
<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">dworley at communityconnect.com</A>
=============================== 

</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020097.html">[mod_python] Syntax error in generated psp code
</A></li>
	<LI>Next message: <A HREF="020098.html">[mod_python] Simple Issue, Baffling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20095">[ date ]</a>
              <a href="thread.html#20095">[ thread ]</a>
              <a href="subject.html#20095">[ subject ]</a>
              <a href="author.html#20095">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
