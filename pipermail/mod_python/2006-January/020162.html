<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] importing modules in PSP
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20importing%20modules%20in%20PSP&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020161.html">
   <LINK REL="Next"  HREF="020163.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] importing modules in PSP</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20importing%20modules%20in%20PSP&In-Reply-To="
       TITLE="[mod_python] importing modules in PSP">grahamd at dscpl.com.au
       </A><BR>
    <I>Mon Jan 30 17:34:04 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020161.html">[mod_python] importing modules in PSP
</A></li>
        <LI>Next message: <A HREF="020163.html">[mod_python] VirtualDocumentRoot, PythonPath and Subinterpreters
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20162">[ date ]</a>
              <a href="thread.html#20162">[ thread ]</a>
              <a href="subject.html#20162">[ subject ]</a>
              <a href="author.html#20162">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>.: smilelover :. wrote ..
&gt;<i> Hi, another question ;)
</I>&gt;<i> in classic CGI I can import a .py file that lies in the same directory
</I>&gt;<i> as  
</I>&gt;<i> an ordinary module. e.g. if I have files index.py and foo.py, I can put
</I>&gt;<i> &quot;import foo&quot; in index.py and it works.
</I>&gt;<i> Nevertheless, in PSP it doesn't work :( 
</I>
Where within your Apache configuration did you include
&quot;PythonHandler mod_python.psp&quot;? Have you overriden the
PythonPath setting for mod_python?

Provided that the PythonHandler directive was defined within
the context of a Directory directive or in a .htaccess file and
you did not override PythonPath directive, then the directory
that the PythonHandler directive was specified for, should
have been automatically added to sys.path. When this occurs,
if your &quot;foo.py&quot; is in that PythonHandler directory, your
&quot;import&quot; should have found the module.

If you use Location directive, put PythonHandler directive
for .psp files at global context, or override PythonPath, then
this is not going to work.

Either way, you might simply be better of using something
like:

  import os
  from mod_python import apache
  directory = os.path.dirname(req.filename)
  foo = apache.import_module(&quot;foo&quot;,path=[directory])

Ie., in place of saying &quot;import foo&quot;. Using the longer approach
you can say exactly where the &quot;foo&quot; module is located that you
want to import and it does not matter that the directory is not
in sys.path.

Graham
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020161.html">[mod_python] importing modules in PSP
</A></li>
	<LI>Next message: <A HREF="020163.html">[mod_python] VirtualDocumentRoot, PythonPath and Subinterpreters
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20162">[ date ]</a>
              <a href="thread.html#20162">[ thread ]</a>
              <a href="subject.html#20162">[ subject ]</a>
              <a href="author.html#20162">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
