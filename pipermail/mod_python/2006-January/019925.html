<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] error while inserting data
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20error%20while%20inserting%20data&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019908.html">
   <LINK REL="Next"  HREF="019909.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] error while inserting data</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Dave Britton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20error%20while%20inserting%20data&In-Reply-To="
       TITLE="[mod_python] error while inserting data">dave at davebritton.com
       </A><BR>
    <I>Tue Jan 10 07:32:52 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="019908.html">[mod_python] error while inserting data
</A></li>
        <LI>Next message: <A HREF="019909.html">[mod_python] Re: error while inserting data
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19925">[ date ]</a>
              <a href="thread.html#19925">[ thread ]</a>
              <a href="subject.html#19925">[ subject ]</a>
              <a href="author.html#19925">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Construct the sql query and print it out before you do the cursor.execute. Then you can see what is wrong with the query that causes it to fail in Oracle. eg:

sql = &quot;INSERT INTO PERSONALDETAILS (firstname,middlename,lastname) VALUES (%s, %s, %s)&quot;%(fname,mname,lname)
writeln(sql)
# now you will see the bad SQL statement!

Possibly you have no value for one of the cgi variables because of leaving the form field blank (such as no middle name), which will cause the function to fail because that variable will not exist. You must be sure you have default values set for your cgi variable in the function definition eg: def index(req, fname=&quot;&quot;, mname='&quot;&quot;, lname=&quot;&quot;) so that all variables will exist and have valid string definitions even if the user does not enter anything into that field on the html form. Also, maybe you misspelled one of the form variable names in the html form. We cannot tell from this snippet.
-Dave
  ----- Original Message ----- 
  From: python eager 
  To: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A> 
  Sent: Monday, January 09, 2006 8:01 AM
  Subject: [mod_python] error while inserting data


  Hi 
   i m getting the following errors. Please solve this problem
  Hi this is my code snippet. 

            req = self.request()
            fname = req.field('fname')
            mname = req.field('mname')
            lname = req.field('lname')
            dbconnection = cx_Oracle.connect(&quot;myuser&quot;, &quot;mypassword&quot;, &quot;mydatabase&quot;)
            cursor = dbconnection.cursor()
            cursor.arraysize = 50
            self.writeln(&quot;hello&quot;)
            cursor.execute(&quot;INSERT INTO PERSONALDETAILS     (firstname,middlename,lastname) VALUES (%s, %s, %s)&quot;, (fname,mname,lname))
   dbconnection.commit()

  While executing i am getting the following error 

  cursor.execute(&quot;INSERT INTO PERSONALDETAILS(firstname,middlename,lastname) VALUES (%s, %s, %s)&quot;, (fname,mname,lname))
  DatabaseError: ORA-01036: illegal variable name/number

  please solve this problem.

  regards
  Python Eager



------------------------------------------------------------------------------
  Yahoo! Photos
  Ring in the New Year with Photo Calendars. Add photos, events, holidays, whatever.


------------------------------------------------------------------------------


  _______________________________________________
  Mod_python mailing list
  <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
  <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20060110/30dd323a/attachment-0001.html">http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20060110/30dd323a/attachment-0001.html</A>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019908.html">[mod_python] error while inserting data
</A></li>
	<LI>Next message: <A HREF="019909.html">[mod_python] Re: error while inserting data
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19925">[ date ]</a>
              <a href="thread.html#19925">[ thread ]</a>
              <a href="subject.html#19925">[ subject ]</a>
              <a href="author.html#19925">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
