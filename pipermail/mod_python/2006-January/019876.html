<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] How can one examine dynamically added handlers?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20How%20can%20one%20examine%20dynamically%20added%20handlers%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019878.html">
   <LINK REL="Next"  HREF="019877.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] How can one examine dynamically added handlers?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Joseph Barillari</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20How%20can%20one%20examine%20dynamically%20added%20handlers%3F&In-Reply-To="
       TITLE="[mod_python] How can one examine dynamically added handlers?">joeb at mit.edu
       </A><BR>
    <I>Wed Jan  4 22:20:22 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="019878.html">[mod_python] Session Management for the beginner
</A></li>
        <LI>Next message: <A HREF="019877.html">[mod_python] How can one examine dynamically added handlers?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19876">[ date ]</a>
              <a href="thread.html#19876">[ thread ]</a>
              <a href="subject.html#19876">[ subject ]</a>
              <a href="author.html#19876">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm a big fan of mod_python -- I've been using it for a few days and
it's been great so far.

I'm a bit confused by the add_handler function, though.  Is there any
way to get a list (from within the PDB, for instance) of all the
dynamically registered handlers for a given request?

Because add_handler fails silently if the supplied handler is bogus,
it's not easy to figure out where problems lie. If I add a
PythonHandler with add_handler, and it doesn't get executed, is there
an easy way to tell if it didn't get executed because it (a) wasn't
the first handler on the list, (b) had an invalid module name, or (c)
some other reason?

I've dug around in the source; it appears that the handlers for future
phases (i.e., not the current phase) are stored in request_req-&gt;pool,
which isn't visible from within Python.

                         
If specificity helps, my current problem is this: I have the following
two lines in a PythonTransHandler:

req.add_handler(&quot;PythonLogHandler&quot;,&quot;mptest::loghandler&quot;)
req.add_handler(&quot;PythonHandler&quot;,&quot;mptest::handler&quot;)

The PythonLogHandler gets executed, but the PythonHandler doesn't. I
suspect this is because the default action for log-handlers is to
execute everything, but the default action for content handlers
(PythonHandler) is to execute only the first handler in the list -- so
the default apache handler gets executed instead. I'm not sure how to
override this using add_handler.

thanks in advance,

Joe
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019878.html">[mod_python] Session Management for the beginner
</A></li>
	<LI>Next message: <A HREF="019877.html">[mod_python] How can one examine dynamically added handlers?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19876">[ date ]</a>
              <a href="thread.html#19876">[ thread ]</a>
              <a href="subject.html#19876">[ subject ]</a>
              <a href="author.html#19876">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
