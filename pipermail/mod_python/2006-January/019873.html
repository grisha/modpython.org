<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Feature Request: Additions to mod_python.util
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Feature%20Request%3A%20Additions%20to%20mod_python.util&In-Reply-To=43BC097F.1060606%40barriescene.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019872.html">
   <LINK REL="Next"  HREF="019894.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Feature Request: Additions to mod_python.util</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Deron Meranda</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Feature%20Request%3A%20Additions%20to%20mod_python.util&In-Reply-To=43BC097F.1060606%40barriescene.com"
       TITLE="[mod_python] Feature Request: Additions to mod_python.util">deron.meranda at gmail.com
       </A><BR>
    <I>Wed Jan  4 14:17:44 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="019872.html">[mod_python] Feature Request: Additions to mod_python.util
</A></li>
        <LI>Next message: <A HREF="019894.html">[mod_python] Feature Request: Additions to mod_python.util
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19873">[ date ]</a>
              <a href="thread.html#19873">[ thread ]</a>
              <a href="subject.html#19873">[ subject ]</a>
              <a href="author.html#19873">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> &gt;&gt; 2. html(encode|decode) for translating all defined entity characters;
</I>&gt;<i> &gt;&gt; currently pythons default cgi.escape only translates &quot;&amp;&quot;, &quot;&lt;&quot; and
</I>&gt;<i> &gt;&gt; &quot;&gt;&quot;, and xml.sax.saxutils.escape is both silly if you're not using
</I>&gt;<i> &gt;&gt; sax for anything else, and not convenient as you have to give it the
</I>&gt;<i> &gt;&gt; translation table.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I probably understand your question wrong, but...
</I>&gt;<i> &gt; &amp;&lt;&gt; are the only characters that need escaping, so cgi.escape should
</I>&gt;<i> &gt; be sufficient. International characters can be output using the right
</I>&gt;<i> &gt; codepage in your header, or by using &amp;...; markups.
</I>
Remember that cgi.escape can take an optional second parameter,
which when True will also escape the double-quote, &quot;, character.
That is quite useful when the string is part of an attribute value
within an (X)HTML tag.  Then, really, you should have no need to escape
any other character.

The best technique is to simply output UTF-8 documents, writing
the raw unicode characters into the document.  If using unicode
strings in python code, just use the encode string method to get
it into utf8, such as: u'hello'.encode('utf8')

Using UTF-8, you don't need any entity references at all, other than the
four: &amp;amp;, &amp;lt;, &amp;gt;, and &amp;#34 -- which is what cgi.escape
does.

&gt;<i> &gt; &gt; Also a simple method to unescape these is quite useful aswell.
</I>
For a simple way, look at the standard htmlentitydefs module.
It should be pretty easy to write a search-replace function which
uses those dictionaries.

Of course to do it correctly is pretty hard, especially in full XML
where you may have things like CDATA sections and such.  So
usually you need to use a full XML parser.
--
Deron Meranda

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019872.html">[mod_python] Feature Request: Additions to mod_python.util
</A></li>
	<LI>Next message: <A HREF="019894.html">[mod_python] Feature Request: Additions to mod_python.util
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19873">[ date ]</a>
              <a href="thread.html#19873">[ thread ]</a>
              <a href="subject.html#19873">[ subject ]</a>
              <a href="author.html#19873">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
