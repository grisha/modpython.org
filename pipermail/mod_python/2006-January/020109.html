<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Simple Issue, Baffling
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Simple%20Issue%2C%20Baffling&In-Reply-To=EE702CA684057843958BF6CE882E910101CF90F7%40cci019.hq.communityconnect.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020104.html">
   <LINK REL="Next"  HREF="020115.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Simple Issue, Baffling</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Waitman Gobble</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Simple%20Issue%2C%20Baffling&In-Reply-To=EE702CA684057843958BF6CE882E910101CF90F7%40cci019.hq.communityconnect.com"
       TITLE="[mod_python] Simple Issue, Baffling">waitman at waitman.net
       </A><BR>
    <I>Thu Jan 26 17:03:31 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020104.html">[mod_python] Simple Issue, Baffling
</A></li>
        <LI>Next message: <A HREF="020115.html">[mod_python] Simple Issue, Baffling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20109">[ date ]</a>
              <a href="thread.html#20109">[ thread ]</a>
              <a href="subject.html#20109">[ subject ]</a>
              <a href="author.html#20109">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

It works ok for me on apache/linux, but my config is a little different


httpd.conf


        RewriteEngine on
        RewriteCond %{REQUEST_URI} ^/xcss/(.*)$
        RewriteRule ^/xcss/(.*)$ /css.py?r=$1


            SetHandler mod_python
            PythonHandler mod_python.publisher
            PythonDebug Off
            PythonLogHandler log::logger




<A HREF="http://pyblog.com/test.htm">http://pyblog.com/test.htm</A>

&lt;html&gt;
&lt;head&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;/xcss/css.css&quot; type=&quot;text/css&quot;&gt;
&lt;/head&gt;

&lt;body&gt;
&lt;h1&gt;FOO&lt;/h1&gt;
&lt;/body&gt;

&lt;/html&gt;






<A HREF="http://pyblog.com/xcss/foo.css">http://pyblog.com/xcss/foo.css</A>

body { background-color: yellow; }






<A HREF="http://pyblog.com/css.py">http://pyblog.com/css.py</A>


from mod_python import apache
import cgi

def index(req):

    req.content_type = &quot;text/css&quot;
    req.send_http_header()
    req.did_success=True
    content=&quot;body { background-color: yellow; }&quot;
    return (content)



Waitman




David Worley wrote:
&gt;<i> I have Firefox set to have no cache. Despite that, I still Shift+Refresh
</I>&gt;<i> when I'm testing a new app.
</I>&gt;<i> 
</I>&gt;<i> It's not that it's holding on to an old request, it's more that the
</I>&gt;<i> server never returned content the browser recognized as CSS, or HTML.
</I>&gt;<i> 
</I>&gt;<i> Thanks for the suggestion, though!
</I>&gt;<i> 
</I>&gt;<i> ===============================
</I>&gt;<i> David Worley
</I>&gt;<i> Senior Front End Developer
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">dworley at communityconnect.com</A>
</I>&gt;<i> =============================== 
</I>&gt;<i> 
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python-bounces at modpython.org</A>
</I>&gt;<i> [mailto:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python-bounces at modpython.org</A>] On Behalf Of Eric Strand
</I>&gt;<i> Sent: Thursday, January 26, 2006 4:42 PM
</I>&gt;<i> To: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
</I>&gt;<i> Subject: Re: [mod_python] Simple Issue, Baffling
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Might it have to do with browser caching?  In the past I've encounter 
</I>&gt;<i> similar frustration, and realized the browser was being too helpful.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> David Worley wrote:
</I>&gt;&gt;<i> Yeah, typo. Thanks for pointing that out.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The preprocessor is going to get a request for a .css file, find a
</I>&gt;<i> .sss
</I>&gt;&gt;<i> file, process it, and return it as CSS.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It's correct in the actual program.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Believe me, I've combed over everything small like that. I wouldn't
</I>&gt;<i> have
</I>&gt;&gt;<i> written without doing so. It seems like I've missed something in my
</I>&gt;&gt;<i> understanding of the req object, or the content_type property, or in
</I>&gt;<i> the
</I>&gt;&gt;<i> way that AddHandler works.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Any ideas?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ===============================
</I>&gt;&gt;<i> David Worley
</I>&gt;&gt;<i> Senior Front End Developer
</I>&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">dworley at communityconnect.com</A>
</I>&gt;&gt;<i> =============================== 
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -----Original Message-----
</I>&gt;&gt;<i> From: Waitman Gobble [mailto:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">waitman at waitman.net</A>] 
</I>&gt;&gt;<i> Sent: Thursday, January 26, 2006 4:23 PM
</I>&gt;&gt;<i> To: Jim Gallacher
</I>&gt;&gt;<i> Cc: David Worley; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
</I>&gt;&gt;<i> Subject: Re: [mod_python] Simple Issue, Baffling
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Sorry to jump in the middle of the conversation, but is
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> AddHandler python-program .sss
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> supposed to be
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> AddHandler python-program .css
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ???
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Take care,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Waitman
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Jim Gallacher wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> David Worley wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> I'm writing a CSS preprocessor. It's meant to grab a request for a
</I>&gt;&gt;<i> .css
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> So with the following httpd.conf entry:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> &lt;Directory /some/file/system/directory&gt;
</I>&gt;&gt;&gt;&gt;<i>    AddHandler python-program .sss
</I>&gt;&gt;&gt;&gt;<i>    PythonHandler switch
</I>&gt;&gt;&gt;&gt;<i>    PythonDebug On
</I>&gt;&gt;&gt;&gt;<i> &lt;/Directory&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mod_python mailing list
</I>&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I></PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020104.html">[mod_python] Simple Issue, Baffling
</A></li>
	<LI>Next message: <A HREF="020115.html">[mod_python] Simple Issue, Baffling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20109">[ date ]</a>
              <a href="thread.html#20109">[ thread ]</a>
              <a href="subject.html#20109">[ subject ]</a>
              <a href="author.html#20109">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
