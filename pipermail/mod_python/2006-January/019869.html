<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Session Management for the beginner
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Session%20Management%20for%20the%20beginner&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019867.html">
   <LINK REL="Next"  HREF="019871.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Session Management for the beginner</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Jim Steil</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Session%20Management%20for%20the%20beginner&In-Reply-To="
       TITLE="[mod_python] Session Management for the beginner">jim at qlf.com
       </A><BR>
    <I>Wed Jan  4 09:45:18 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="019867.html">[mod_python] error connecting in oracle 9i
</A></li>
        <LI>Next message: <A HREF="019871.html">[mod_python] Session Management for the beginner
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19869">[ date ]</a>
              <a href="thread.html#19869">[ thread ]</a>
              <a href="subject.html#19869">[ subject ]</a>
              <a href="author.html#19869">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, I'm new to mod_python and apache in general, and am confused about 
how to implement session management.  I'm using the Publisher handler 
and PSP templates.

Here is the relevant portion of my http.conf file:

&lt;Directory &quot;c:/program files/apache group/apache2/htdocs/motion&quot;&gt;
      AddHandler mod_python .py
      PythonHandler mod_python.publisher
      PythonAuthenHandler myAuthScript
      PythonDebug On
      AuthType Basic
      AuthName &quot;Restricted Area&quot;
      require valid-user
&lt;/Directory&gt;

...and here is my python module:

from mod_python import psp

import time
import mx.ODBC
import mx.ODBC.Windows

def secUserList(req, page='', sortSeq=''):
    if page:
        startPage = int(page)
    else:
        startPage = 1
   
    pageLength = 20
   
    sql = 'call secUser_list(\'' + sortSeq + '\', ' + repr(startPage) + 
', ' + repr(pageLength) + ')'
    db = mx.ODBC.Windows.DriverConnect('DSN=motion;UID=userid;PWD=password')
    c = db.cursor()
    c.execute(sql)
   
    htmlText = ''
    for secUserId, firstName, lastName, logonName, email in c.fetchall():
        htmlText = htmlText + '&lt;tr 
onmouseover=&quot;style.backgroundColor=\'#FFF0AF\'; style.cursor=\'hand\';&quot; 
onclick=&quot;location.href=\'secUserProfile?secUserId=' + &quot;%i&quot; % secUserId + 
'\'&quot; onmouseout=&quot;style.backgroundColor=\'#ffffff\';&quot;&gt;&lt;td&gt;' + firstName + 
'&lt;/td&gt;&lt;td&gt;' + lastName + '&lt;/td&gt;&lt;td&gt;' + logonName + '&lt;/td&gt;&lt;td&gt;' + email + 
'&lt;/td&gt;&lt;/tr&gt;\n'
       
    previousPage = 1
    if startPage &gt; 1:
        previousPage = startPage - 1
   
    nextPage = startPage + 1
    c.close()
    db.close()
   
    parmDict = {'title':'User List', 'rowHtml':htmlText, 
'previousPage':previousPage, 'nextPage':nextPage, 'startPage':startPage}
   
    template = psp.PSP(req, filename='secUserList.html')
    template.run(vars = parmDict)


My question is;  How do I implement the session?  Where do I put the 
code?  I want to be able to store my database login credentials in the 
session object.  I'm guessing I'm missing something really obvious, but 
can't seem to get my head around it.  Any help or pointers to good 
examples would really be appreciated.

    -Jim

-- 
Jim Steil
IT Manager
Quality Liquid Feeds
(608) 935-2345
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20060104/49c3679e/attachment-0001.html">http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20060104/49c3679e/attachment-0001.html</A>
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019867.html">[mod_python] error connecting in oracle 9i
</A></li>
	<LI>Next message: <A HREF="019871.html">[mod_python] Session Management for the beginner
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19869">[ date ]</a>
              <a href="thread.html#19869">[ thread ]</a>
              <a href="subject.html#19869">[ subject ]</a>
              <a href="author.html#19869">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
