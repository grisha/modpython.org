<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Simple Issue, Baffling
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Simple%20Issue%2C%20Baffling&In-Reply-To=EE702CA684057843958BF6CE882E910101CF90E9%40cci019.hq.communityconnect.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020118.html">
   <LINK REL="Next"  HREF="020101.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Simple Issue, Baffling</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Eric Strand</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Simple%20Issue%2C%20Baffling&In-Reply-To=EE702CA684057843958BF6CE882E910101CF90E9%40cci019.hq.communityconnect.com"
       TITLE="[mod_python] Simple Issue, Baffling">estrand at isomedia.com
       </A><BR>
    <I>Thu Jan 26 17:06:02 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020118.html">[mod_python] Simple Issue, Baffling
</A></li>
        <LI>Next message: <A HREF="020101.html">[mod_python] Simple Issue, Baffling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20110">[ date ]</a>
              <a href="thread.html#20110">[ thread ]</a>
              <a href="subject.html#20110">[ subject ]</a>
              <a href="author.html#20110">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
By using &quot;text/html&quot;, the browser will treat it as HTML, but since you 
have no HTML tags in the file being returned (it's just CSS styles), it 
will appear as text.  There is nothing unusual there.

The fact that the CSS file is not being used when inside a &lt;link&gt; tag 
may indicated that the path in the link tag does not have the correct 
path to the CSS file.  (You probably have double checked this, but I 
point it out just offer up a suggestion that hasn't been explicitly 
dismissed.)

If you don't already use it, you might find the &quot;live headers&quot; firefox 
plugin useful to see what the browser is up to:

<A HREF="http://livehttpheaders.mozdev.org/">http://livehttpheaders.mozdev.org/</A>

--Eric


David Worley wrote:
&gt;<i> To clarify further:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://localhost/some/file/system/directory/style.css">http://localhost/some/file/system/directory/style.css</A> is only ever
</I>&gt;<i> called from an HTML file, via a &lt;link&gt; tag. The HTML is valid. The HTML
</I>&gt;<i> page is NOT generated by mod_python. It's just a plain HTML file in the
</I>&gt;<i> folder. I created it just for testing dynamically created CSS files.
</I>&gt;<i> 
</I>&gt;<i> The separate issue of &quot;text/html&quot; content is, indeed, handled by another
</I>&gt;<i> handler. The two are unrelated. When text/css content wouldn't work, I
</I>&gt;<i> tried something simpler: plain HTML return content.
</I>&gt;<i> 
</I>&gt;<i> Simply put, req.write(xxx) returns content that my browser does not make
</I>&gt;<i> use of, whether CSS or HTML, despite the explicit declaration of
</I>&gt;<i> req.content_type. The browser just thinks it's text.
</I>&gt;<i> 
</I>&gt;<i> It may be more accurate to say that the server never returns HTML or
</I>&gt;<i> CSS, rather than saying that the browser never renders the file
</I>&gt;<i> returned.
</I>&gt;<i> 
</I>&gt;<i> ===============================
</I>&gt;<i> David Worley
</I>&gt;<i> Senior Front End Developer
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">dworley at communityconnect.com</A>
</I>&gt;<i> =============================== 
</I>&gt;<i> 
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: Jim Gallacher [mailto:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">jpg at jgassociates.ca</A>] 
</I>&gt;<i> Sent: Thursday, January 26, 2006 4:15 PM
</I>&gt;<i> To: David Worley
</I>&gt;<i> Cc: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
</I>&gt;<i> Subject: Re: [mod_python] Simple Issue, Baffling
</I>&gt;<i> 
</I>&gt;<i> David Worley wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i>Hello, all. I'm new to mod_python and somewhat new to server side
</I>&gt;&gt;<i>programming.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>I've read the documentation, and I can't seem to find out something
</I>&gt;&gt;<i>relatively simple.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>I'm writing a CSS preprocessor. It's meant to grab a request for a
</I>&gt;<i> 
</I>&gt;<i> .css
</I>&gt;<i> 
</I>&gt;&gt;<i>file, process another file and return the result to the browser. The
</I>&gt;&gt;<i>issue I have is that I can't get the handler to return content the
</I>&gt;&gt;<i>browser actually uses.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>To clarify, I'm running Apache 2.0, Python 2.4 on Windows XP.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>So with the following httpd.conf entry:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>&lt;Directory /some/file/system/directory&gt;
</I>&gt;&gt;<i>	AddHandler python-program .sss
</I>&gt;&gt;<i>	PythonHandler switch
</I>&gt;&gt;<i>	PythonDebug On
</I>&gt;&gt;<i>&lt;/Directory&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>And the following Python code, in switch.py:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>from mod_python import apache
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>def handler(req):
</I>&gt;&gt;<i>	req.content_type = &quot;text/css&quot;
</I>&gt;&gt;<i>	req.write(&quot;&quot;&quot;\
</I>&gt;&gt;<i>body { background-color: red; }&quot;&quot;&quot;)
</I>&gt;&gt;<i>	return apache.OK
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>This works. It works great. When I request
</I>&gt;&gt;<i><A HREF="http://localhost/some/file/system/directory/style.css,">http://localhost/some/file/system/directory/style.css,</A> I get the body
</I>&gt;&gt;<i>declaration above. BUT the browser doesn't use it!
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Maybe I don't understand the question but why would it? The browser only
</I>&gt;<i> 
</I>&gt;<i> uses the stylesheet to render the page when it's specified in an html 
</I>&gt;<i> &lt;style&gt; tag.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i>I have the same problem when declaring req.content_type = &quot;text/html&quot;:
</I>&gt;&gt;<i>the code is returned properly, but it isn't rendered as HTML. It's
</I>&gt;<i> 
</I>&gt;<i> just
</I>&gt;<i> 
</I>&gt;&gt;<i>text, as far as the browser is concerned.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> You got me there, unless you are saying you are getting the python code 
</I>&gt;<i> as opposed to the html you send with req.write. Are you writing valid 
</I>&gt;<i> html? Any chance there is a typo in req.content_type = 'text/html'? Are 
</I>&gt;<i> you using a different handler for generating the html?
</I>&gt;<i> 
</I>&gt;<i> It would help if you can clarify your problem a little.
</I>&gt;<i> 
</I>&gt;<i> Jim
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> 
</I></PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020118.html">[mod_python] Simple Issue, Baffling
</A></li>
	<LI>Next message: <A HREF="020101.html">[mod_python] Simple Issue, Baffling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20110">[ date ]</a>
              <a href="thread.html#20110">[ thread ]</a>
              <a href="subject.html#20110">[ subject ]</a>
              <a href="author.html#20110">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
