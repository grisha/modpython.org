<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] SetHandler trick to have pretty url's
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20SetHandler%20trick%20to%20have%20pretty%20url%27s&In-Reply-To=20060110065205.60534.qmail%40web34811.mail.mud.yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019918.html">
   <LINK REL="Next"  HREF="019921.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] SetHandler trick to have pretty url's</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20SetHandler%20trick%20to%20have%20pretty%20url%27s&In-Reply-To=20060110065205.60534.qmail%40web34811.mail.mud.yahoo.com"
       TITLE="[mod_python] SetHandler trick to have pretty url's">grahamd at dscpl.com.au
       </A><BR>
    <I>Tue Jan 10 04:14:55 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="019918.html">[mod_python] SetHandler trick to have pretty url's
</A></li>
        <LI>Next message: <A HREF="019921.html">[mod_python] SetHandler trick to have pretty url's
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19919">[ date ]</a>
              <a href="thread.html#19919">[ thread ]</a>
              <a href="subject.html#19919">[ subject ]</a>
              <a href="author.html#19919">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 10/01/2006, at 5:52 PM, courtney ludwin wrote:

&gt;<i> I was looking for a way to pretty up my mod_python
</I>&gt;<i> url's the other day and I figured out a trick that
</I>&gt;<i> works w/ the 'FilesMatch' directive in httpd.conf, I
</I>&gt;<i> figure I'd share with the list....
</I>&gt;<i>
</I>&gt;<i>  &lt;FilesMatch &quot;(^[^\.]*$|^[^\?]*[\?]+[^$]+$)&quot;&gt;
</I>&gt;<i>     SetHandler python-program
</I>&gt;<i>     PythonHandler common.dispatch.dispatcher
</I>&gt;<i>     PythonDebug On
</I>&gt;<i>   &lt;/FilesMatch&gt;
</I>&gt;<i>
</I>&gt;<i> This match expression says anything without a file
</I>&gt;<i> extension should be handled by dispatcher.py otherwise
</I>&gt;<i> apache should handle it normally.  I wrote the
</I>&gt;<i> dispatcher use a config file to map url's to
</I>&gt;<i> mod_python handlers.
</I>&gt;<i>
</I>&gt;<i> Followed up a quick example in my blog:
</I>&gt;<i> <A HREF="http://2centspoorer.blogspot.com/2006/01/creating-your-own-modpython-">http://2centspoorer.blogspot.com/2006/01/creating-your-own-modpython-</A> 
</I>&gt;<i> request.html
</I>&gt;<i>
</I>&gt;<i> Hope you find it useful.
</I>
For simple cases, your handler could simply include the following at
the start:

   stub, extn = os.path.splitext(req.filename)
   if not extn:
     return apache.DECLINED

Returning apache.DECLINED will trigger Apache to perform its normal
handling of static files. Thus, accessing any static file such as
an image will still result in the image being returned.

If you wanted to mix PHP in the same directory, you have to be a
bit more tricky and disable mod_python in the Apache configuration
for the .php extension if using this trick. Ie.,

   SetHandler python-program
   PythonHandler common.dispatch.dispatcher
   PythonDebug On

   &lt;Files *.php&gt;
   SetHandler None
   &lt;/Files&gt;

This latter approach means everything goes to Apache but you disable
it for extensions which should be handled by Apache. This works the
opposite way of what you are doing. You could even say:

   SetHandler python-program
   PythonHandler common.dispatch.dispatcher
   PythonDebug On

   &lt;Files *.*&gt;
   SetHandler None
   &lt;/Files&gt;

This does away with your complicated FilesMatch pattern altogether and
the change to the handler isn't needed either.

Graham

</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019918.html">[mod_python] SetHandler trick to have pretty url's
</A></li>
	<LI>Next message: <A HREF="019921.html">[mod_python] SetHandler trick to have pretty url's
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19919">[ date ]</a>
              <a href="thread.html#19919">[ thread ]</a>
              <a href="subject.html#19919">[ subject ]</a>
              <a href="author.html#19919">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
