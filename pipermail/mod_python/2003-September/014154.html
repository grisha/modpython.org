<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Best practise for database connection pooling?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Best%20practise%20for%20database%20connection%20pooling%3F&In-Reply-To=3F57F815.8020300%40bath.ac.uk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014151.html">
   <LINK REL="Next"  HREF="014156.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Best practise for database connection pooling?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>David Fraser</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Best%20practise%20for%20database%20connection%20pooling%3F&In-Reply-To=3F57F815.8020300%40bath.ac.uk"
       TITLE="[mod_python] Best practise for database connection pooling?">davidf at sjsoft.com
       </A><BR>
    <I>Fri Sep  5 09:53:31 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="014151.html">[mod_python] Best practise for database connection pooling?
</A></li>
        <LI>Next message: <A HREF="014156.html">[mod_python] ANNOUNCE: Mod_python 3.1.0 Alpha
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14154">[ date ]</a>
              <a href="thread.html#14154">[ thread ]</a>
              <a href="subject.html#14154">[ subject ]</a>
              <a href="author.html#14154">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Simon Willison wrote:

&gt;<i> We are looking to build a large content management system using 
</I>&gt;<i> mod_python and PostgreSQL. I'm interested in what is considered &quot;best 
</I>&gt;<i> practise&quot; for database connection pooling. So far, I've been playing 
</I>&gt;<i> with the idea of setting up a single database connection as a global 
</I>&gt;<i> variable at the start of each mod_python script - since scripts stay 
</I>&gt;<i> in memory between requests, this can be reused for requests without 
</I>&gt;<i> needing to reopen the connection. It also means that every httpd child 
</I>&gt;<i> process spun off by the server ends up with its own database connection.
</I>
We have a system where we use multiple different database connections 
for different applications running on the same server.
Each application object exists once per child, and has its own database 
connection.

&gt;<i> The postgres server is running on the same machine as the web server, 
</I>&gt;<i> but we may move to separate servers for the two in the future. Am I on 
</I>&gt;<i> the right track, or is there a better way of managing database 
</I>&gt;<i> connnections?
</I>
You may want to look at <A HREF="http://sqlrelay.sourceforge.net/">http://sqlrelay.sourceforge.net/</A> - I haven't 
used it, but it seems useful particularly if you have separate servers.
For those not going and reading the page:
SQL Relay is a persistent database connection pooling, proxying and load 
balancing system for Unix and Linux supporting ODBC, Oracle, MySQL, 
mSQL, PostgreSQL, Sybase, MS SQL Server, IBM DB2, Interbase, Lago and 
SQLite with APIs for C, C++, Perl, Perl-DBD, Python, Python-DB, Zope, 
PHP, Ruby, Ruby-DBD, TCL and Java, command line clients, a GUI 
configuration tool and extensive documentation. The APIs support 
advanced database operations such as bind variables, multi-row fetches, 
client side result set caching and suspended transactions. It is ideal 
for speeding up database-driven web-based applications, accessing 
databases from unsupported platforms, migrating between databases, 
distributing access to replicated databases and throttling database access.

&gt;<i>
</I>&gt;<i> Incidentally, the database connection module we are using is 
</I>&gt;<i> <A HREF="http://pypgsql.sourceforge.net/">http://pypgsql.sourceforge.net/</A>
</I>
I've found PyGreSQL to be better...
<A HREF="http://www.druid.net/pygresql/">http://www.druid.net/pygresql/</A>
But you may find otherwise...

David

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014151.html">[mod_python] Best practise for database connection pooling?
</A></li>
	<LI>Next message: <A HREF="014156.html">[mod_python] ANNOUNCE: Mod_python 3.1.0 Alpha
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14154">[ date ]</a>
              <a href="thread.html#14154">[ thread ]</a>
              <a href="subject.html#14154">[ subject ]</a>
              <a href="author.html#14154">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
