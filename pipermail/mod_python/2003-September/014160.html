<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Handler publisher with multiple directories on the
	same tree
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Handler%20publisher%20with%20multiple%20directories%20on%20the%0A%09same%20tree&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014159.html">
   <LINK REL="Next"  HREF="014162.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Handler publisher with multiple directories on the
	same tree</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Mike Looijmans</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Handler%20publisher%20with%20multiple%20directories%20on%20the%0A%09same%20tree&In-Reply-To="
       TITLE="[mod_python] Handler publisher with multiple directories on the
	same tree">mike.looijmans at asml.com
       </A><BR>
    <I>Mon Sep  8 13:35:35 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="014159.html">[mod_python] 
	Handler publisher with multiple directories on the same tree
</A></li>
        <LI>Next message: <A HREF="014162.html">[mod_python] Handler publisher with multiple directories on the
 same tree
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14160">[ date ]</a>
              <a href="thread.html#14160">[ thread ]</a>
              <a href="subject.html#14160">[ subject ]</a>
              <a href="author.html#14160">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>My guess:

If you wait for about a minute, the server will drop the keepalive
connection and another child process will handle your request. The effect is
that you probably get a brand new environment. Probably if you repeat often
enough, it will break completely when all childs are &quot;loaded&quot;.

The problem is probably that you have equal named scripts in each directory.
So if you have

/a/foo.py
/b/foo.py

The first call will fetch /a/foo.py, and when you want to load the 'b'
version, it will just return the 'a' version because a 'foo' script is
already imported, even if pythonpath no longer contains the /a/ directory.

Scripts must have unique names, even when in different directories.

A good workaround is to use the &quot;PythonInterpreter&quot; directive, set it to per
directory or specify a unique interpreter name for each directory.
Each interpreter will have its own modules, so the &quot;already loaded&quot; effect
won't bite you.
This does, however, consume more memory.

This is also great for testing, you can add a &quot;test&quot; directory with a
different interpreter and have an environment completely set apart with it
own set of scripts and data and so.

[snip]
&gt;<i>But I got a unpleasent surprise, that is, using browser, I access one of
</I>&gt;<i>the projects subsection and everything is OK. After I got the page, I
</I>&gt;<i>tried to access to another of the subsection and I got an 404, page not
</I>&gt;<i>found. If I wait for a while (I don't know exactly, but something like
</I>&gt;<i>one minute) and made reload on browser, I can now see this subsection.
</I>



-- 
The information contained in this communication and any attachments is confidential and may be privileged, and is for the sole use of the intended recipient(s). Any unauthorized review, use, disclosure or distribution is prohibited. If you are not the intended recipient, please notify the sender immediately by replying to this message and destroy all copies of this message and any attachments. ASML is neither liable for the proper and complete transmission of the information contained in this communication, nor for any delay in its receipt.


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014159.html">[mod_python] 
	Handler publisher with multiple directories on the same tree
</A></li>
	<LI>Next message: <A HREF="014162.html">[mod_python] Handler publisher with multiple directories on the
 same tree
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14160">[ date ]</a>
              <a href="thread.html#14160">[ thread ]</a>
              <a href="subject.html#14160">[ subject ]</a>
              <a href="author.html#14160">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
