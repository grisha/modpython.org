<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] module not reloading?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20module%20not%20reloading%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010534.html">
   <LINK REL="Next"  HREF="010536.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
<table border=0 width="100%"><tr><td valign="top">
   <H1>[mod_python] module not reloading?</H1>
    <B>Michael C. Neel</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20module%20not%20reloading%3F&In-Reply-To="
       TITLE="[mod_python] module not reloading?">neel at mediapulse.com
       </A><BR>
    <I>Fri Sep 26 16:30:50 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="010534.html">[mod_python] module not reloading?
</A></li>
        <LI>Next message: <A HREF="010536.html">[mod_python] 
	Win32 Binary of modpython 3.0.3 that has the Python 2.3 patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10535">[ date ]</a>
              <a href="thread.html#10535">[ thread ]</a>
              <a href="subject.html#10535">[ subject ]</a>
              <a href="author.html#10535">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hmm, without seeing any code, I'm out of ideas.  Here is the (python
2.2.2) docs on reload(), with all it's gotcha's you need to avoid...

reload(module) 
Re-parse and re-initialize an already imported module. The argument must
be a module object, so it must have been successfully imported before.
This is useful if you have edited the module source file using an
external editor and want to try out the new version without leaving the
Python interpreter. The return value is the module object (the same as
the module argument). 
There are a number of caveats: 

If a module is syntactically correct but its initialization fails, the
first import statement for it does not bind its name locally, but does
store a (partially initialized) module object in sys.modules. To reload
the module you must first import it again (this will bind the name to
the partially initialized module object) before you can reload() it. 

When a module is reloaded, its dictionary (containing the module's
global variables) is retained. Redefinitions of names will override the
old definitions, so this is generally not a problem. If the new version
of a module does not define a name that was defined by the old version,
the old definition remains. This feature can be used to the module's
advantage if it maintains a global table or cache of objects -- with a
try statement it can test for the table's presence and skip its
initialization if desired. 

It is legal though generally not very useful to reload built-in or
dynamically loaded modules, except for sys, __main__ and __builtin__. In
many cases, however, extension modules are not designed to be
initialized more than once, and may fail in arbitrary ways when
reloaded. 

If a module imports objects from another module using from ... import
..., calling reload() for the other module does not redefine the objects
imported from it -- one way around this is to re-execute the from
statement, another is to use import and qualified names (module.name)
instead. 

If a module instantiates instances of a class, reloading the module that
defines the class does not affect the method definitions of the
instances -- they continue to use the old class definition. The same is
true for derived classes. 



&gt;<i> -----Original Message-----
</I>&gt;<i> From: Michael S. Fischer [mailto:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">michael at dynamine.net</A>] 
</I>&gt;<i> Sent: Friday, September 26, 2003 4:20 PM
</I>&gt;<i> To: Michael C. Neel
</I>&gt;<i> Cc: Seung Chan Lim; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
</I>&gt;<i> Subject: Re: [mod_python] module not reloading?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Actually, my problem is that the main module reloads, but my called 
</I>&gt;<i> modules don't, even if I call reload() explicitly.
</I>&gt;<i> 
</I>&gt;<i> --Michael
</I>&gt;<i> 
</I>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010534.html">[mod_python] module not reloading?
</A></li>
	<LI>Next message: <A HREF="010536.html">[mod_python] 
	Win32 Binary of modpython 3.0.3 that has the Python 2.3 patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10535">[ date ]</a>
              <a href="thread.html#10535">[ thread ]</a>
              <a href="subject.html#10535">[ subject ]</a>
              <a href="author.html#10535">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
