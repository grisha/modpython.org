<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] About retrieving cookies...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20About%20retrieving%20cookies...&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026526.html">
   <LINK REL="Next"  HREF="026524.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] About retrieving cookies...</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>V&#237;ctor</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20About%20retrieving%20cookies...&In-Reply-To="
       TITLE="[mod_python] About retrieving cookies...">victor.gil.sepulveda at gmail.com
       </A><BR>
    <I>Thu Mar  4 10:49:18 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="026526.html">[mod_python] The link in the mailing list home that points to the
	'archives' is invalid
</A></li>
        <LI>Next message: <A HREF="026524.html">[mod_python] About retrieving cookies...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26522">[ date ]</a>
              <a href="thread.html#26522">[ thread ]</a>
              <a href="subject.html#26522">[ subject ]</a>
              <a href="author.html#26522">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear all,

I've got a bunch of problems using cookies. First, it seems that if
you want to store a cookie, you MUST do it before any req.write()
sentence, isn't it?

Next... I've managed to store a simple cookie named &quot;login_cookie&quot;
with value 100. I can see it in the cookies manager in firefox, and it
has the right value. The cookie has an expiration time of 30 days from
now.

The problem is that... it's absolutely impossible to retrieve it from
the browser.

I have a small test page with this javascript function (it uses prototype):

function accessPage(){
				new Ajax.Request(access_base_dir+'access', {
			
					method: 'post',
					
					onSuccess: function(response) {
						$(&quot;resultados&quot;).innerHTML =response.responseText;
					},
					
					onFailure:function(response) {
						$(&quot;resultados&quot;).innerHTML= &quot;Failed to access.&quot;+response.responseText;

					}
				});
				
			}

This function just asks 'access' to return the content. 'access' looks
like this:

@_session_getter
def access(req):
	
	(logged,user_id) = getSessionData(req)
	
	all_cookies = Cookie.get_cookies(req)
	
	req.write(&quot;Access: &quot; +str(all_cookies))

And guess what, it only writes Access: {'pysid': } , the session
cookie, but &quot;login_cookie&quot; is not anywhere.

My apache config for this folder is:


&lt;Directory &quot;htdocs/python/test&quot;&gt;
	AddHandler mod_python .py
	PythonHandler mod_python.publisher
	PythonDebug On
&lt;/Directory&gt;

Do you know If I'm missing anything obvious that prevents the cookie
retrieval to work?

Thanks!,
-- 

V&#237;ctor Gil Sep&#250;lveda
E. Informatica - FIB - UPC

</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026526.html">[mod_python] The link in the mailing list home that points to the
	'archives' is invalid
</A></li>
	<LI>Next message: <A HREF="026524.html">[mod_python] About retrieving cookies...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26522">[ date ]</a>
              <a href="thread.html#26522">[ thread ]</a>
              <a href="subject.html#26522">[ subject ]</a>
              <a href="author.html#26522">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
