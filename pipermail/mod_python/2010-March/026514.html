<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] passing parameters from index() to POST method
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20passing%20parameters%20from%20index%28%29%20to%20POST%20method&In-Reply-To=4B8EFE89.6060605%40mianos.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026513.html">
   <LINK REL="Next"  HREF="026515.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] passing parameters from index() to POST method</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20passing%20parameters%20from%20index%28%29%20to%20POST%20method&In-Reply-To=4B8EFE89.6060605%40mianos.com"
       TITLE="[mod_python] passing parameters from index() to POST method">graham.dumpleton at gmail.com
       </A><BR>
    <I>Wed Mar  3 19:41:11 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="026513.html">[mod_python] passing parameters from index() to POST method
</A></li>
        <LI>Next message: <A HREF="026515.html">[mod_python] passing parameters from index() to POST method
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26514">[ date ]</a>
              <a href="thread.html#26514">[ thread ]</a>
              <a href="subject.html#26514">[ subject ]</a>
              <a href="author.html#26514">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 4 March 2010 11:27, Rob Fowler &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">legal at mianos.com</A>&gt; wrote:
&gt;<i> Although that works fine and will call my post function, the apache server
</I>&gt;<i> calls the handler a second time so all the local variables are new.
</I>
You better explain that a bit better. The handler function should not
be called multiple times for the same request.

Dump out req.uri to see what URL is being accessed on each call. They
may actually be two separate requests. This can occur where a web
browser keeps requesting a favicon.ico and it doesn't exist.

Graham

&gt;<i> What I
</I>&gt;<i> want to do is pass a parameter to the 'POST' function (gen_keys here).
</I>&gt;<i> For example, to change my example to the model suggested below:
</I>&gt;<i>
</I>&gt;<i> def gen_keys(dictionary):
</I>&gt;<i> &#160; &#160;do stuff
</I>&gt;<i>
</I>&gt;<i> def handler(req):
</I>&gt;<i> &#160; &#160;If req.method == &quot;POST&quot;:
</I>&gt;<i> &#160; &#160; &#160; &#160;gen_keys(specificDictionary )
</I>&gt;<i> &#160; &#160;else:
</I>&gt;<i> &#160; &#160; &#160; &#160;specificDictionary = readDictionary(&quot;/blah/specialdict.txt&quot;, &quot;rule
</I>&gt;<i> 1&quot;)
</I>&gt;<i> &#160; &#160; &#160; &#160;req.write(&quot;&quot;&quot;&lt;HTML ... &lt;FORM value=&quot;form&quot; action=&quot;handler.py/handler&quot;
</I>&gt;<i> method=&quot;post&quot;&gt; etc
</I>&gt;<i> &#160; &#160;return apache.OK
</I>&gt;<i>
</I>&gt;<i> Just use global variables? I don't like to use them in apache modules, just
</I>&gt;<i> the vibe.
</I>&gt;<i>
</I>&gt;<i> On 4/03/2010 12:30 AM, Martijn Moeling wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm nut excacly sure what you are trying to achieve.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> In your index.py handler you can:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> from wifikeys import gen_keys
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> def handler(req):
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;If req.method == &quot;POST&quot;:
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;gen_keys(parameters here)
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;else:
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;normal handler code
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;retrun apache.OK
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Mar 3, 2010, at 12:28 PM, Rob Fowler wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026513.html">[mod_python] passing parameters from index() to POST method
</A></li>
	<LI>Next message: <A HREF="026515.html">[mod_python] passing parameters from index() to POST method
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26514">[ date ]</a>
              <a href="thread.html#26514">[ thread ]</a>
              <a href="subject.html#26514">[ subject ]</a>
              <a href="author.html#26514">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
