<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] ImportError: Cannot find _apache
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20ImportError%3A%20Cannot%20find%20_apache&In-Reply-To=BAY1-F149Pf3efdKzaX00005a12%40hotmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002593.html">
   <LINK REL="Next"  HREF="002595.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] ImportError: Cannot find _apache</H1>
    <B>Dustin Mitchell</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20ImportError%3A%20Cannot%20find%20_apache&In-Reply-To=BAY1-F149Pf3efdKzaX00005a12%40hotmail.com"
       TITLE="[mod_python] ImportError: Cannot find _apache">dustin at ywlcs.org
       </A><BR>
    <I>Thu May 29 08:45:00 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="002593.html">[mod_python] ImportError: Cannot find _apache
</A></li>
        <LI>Next message: <A HREF="002595.html">[mod_python] LONG_LONG -&gt; PY_LONG_LONG in python-2.3b1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2594">[ date ]</a>
              <a href="thread.html#2594">[ thread ]</a>
              <a href="subject.html#2594">[ subject ]</a>
              <a href="author.html#2594">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, May 29, 2003 at 09:37:35PM +1000, Graeme Matthew wrote:
&gt;<i> &gt;&gt;&gt;from mod_python import apache
</I>&gt;<i> Traceback (most recent call last):
</I>&gt;<i>  File &quot;&lt;stdin&gt;&quot;, line 1, in ?
</I>&gt;<i>  File &quot;/usr/local/lib/python2.2/site-packages/mod_python/apache.py&quot;, line 
</I>&gt;<i> 67, in ?
</I>&gt;<i>    import _apache
</I>&gt;<i> ImportError: No module named _apache
</I>&gt;<i> &gt;&gt;&gt;import mod_python
</I>&gt;<i> &gt;&gt;&gt;from mod_python import apache
</I>
The reason you don't get an error the next time is this:  During the first
import, Python partially loads and constructs the mod_python.apache module,
until it gets to &quot;import _apache&quot;, which causes an exception.  However, at
that point the mod_python.apache module is *loaded*, it's just not completely
initialized.  So when you get to the second from..import, Python finds that
mod_python.apache is already loaded and simply returns a reference to the
loaded (but still not initialized) module.

The reason _apache can't be found is that it's the mechanism by which Python
can communicate with the Apache process in which it is running.  Since, at
the command line, you're not running in an Apache process, there's no such
module.  Specifically, that module is provided by mod_python.so, which is
loaded by Apache when it starts up, but not loaded or even referenced by the
command-line-invoked Python.

Dustin

-- 

  Dustin Mitchell
  <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">dustin at ywlcs.org</A>/<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">djmitche at alumni.uchicago.edu</A>
  <A HREF="http://people.cs.uchicago.edu/~dustin/">http://people.cs.uchicago.edu/~dustin/</A>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002593.html">[mod_python] ImportError: Cannot find _apache
</A></li>
	<LI>Next message: <A HREF="002595.html">[mod_python] LONG_LONG -&gt; PY_LONG_LONG in python-2.3b1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2594">[ date ]</a>
              <a href="thread.html#2594">[ thread ]</a>
              <a href="subject.html#2594">[ subject ]</a>
              <a href="author.html#2594">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
