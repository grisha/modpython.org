<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] mod_python slowness
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20slowness&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013622.html">
   <LINK REL="Next"  HREF="013630.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] mod_python slowness</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Jack Diederich</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20slowness&In-Reply-To="
       TITLE="[mod_python] mod_python slowness">jack_diederich at email.com
       </A><BR>
    <I>Tue May 13 15:35:10 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="013622.html">[mod_python] mod_python slowness
</A></li>
        <LI>Next message: <A HREF="013630.html">[mod_python] mod_python slowness
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13624">[ date ]</a>
              <a href="thread.html#13624">[ thread ]</a>
              <a href="subject.html#13624">[ subject ]</a>
              <a href="author.html#13624">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> 
</I>&gt;<i> I'm pretty sure this is not a DNS problem.  I can break down each loop
</I>&gt;<i> that calls the database, and it shows 0.7 seconds per row returning
</I>&gt;<i> instead of like 0.03 seconds.  The dns servers are all configured
</I>&gt;<i> correctly for both forward and reverse lookups, and I do not have the same
</I>&gt;<i> problems in PHP (other the fact that PHP is crap compared to python - but
</I>&gt;<i> it's not this slow).
</I>
Are you doing anything wierd like running apache or progres
through inetd (so it has to start a new process for every
request)?  Or are you doing a new database connection for
each row?

If the identical python program takes 1/10th the time running
stand-alone I think the DNS was one the right track - it must
be a network related problem.

You might also want to print to the resulting page the time
the process took from start to finish.  If the page is very
complicated it might look slower even if it isn't.

You can also try commenting out all the database calls and
timing the stand alone and mod_python versions.  That will
at least allow you to narrow down the problem.  Also consider
using 'strace' on the stand alone and the apache version.
Compare the system calls between the two to see if something
pathological is happening in the mod_python case.

-jack
-- 
_______________________________________________
Sign-up for your own FREE Personalized E-mail at Mail.com
<A HREF="http://www.mail.com/?sr=signup">http://www.mail.com/?sr=signup</A>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013622.html">[mod_python] mod_python slowness
</A></li>
	<LI>Next message: <A HREF="013630.html">[mod_python] mod_python slowness
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13624">[ date ]</a>
              <a href="thread.html#13624">[ thread ]</a>
              <a href="subject.html#13624">[ subject ]</a>
              <a href="author.html#13624">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
