<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] mod_python slowness
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20slowness&In-Reply-To=Pine.LNX.4.44.0305130857230.10997-100000%40mx1.neteconomist.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006219.html">
   <LINK REL="Next"  HREF="006226.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] mod_python slowness</H1>
    <B>Gregory (Grisha) Trubetskoy</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20slowness&In-Reply-To=Pine.LNX.4.44.0305130857230.10997-100000%40mx1.neteconomist.com"
       TITLE="[mod_python] mod_python slowness">grisha at modpython.org
       </A><BR>
    <I>Tue May 13 10:31:58 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="006219.html">[mod_python] mod_python slowness
</A></li>
        <LI>Next message: <A HREF="006226.html">[mod_python] mod_python slowness
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6221">[ date ]</a>
              <a href="thread.html#6221">[ thread ]</a>
              <a href="subject.html#6221">[ subject ]</a>
              <a href="author.html#6221">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<table border=0 width="100%"><tr><td>
<!--beginarticle-->
<PRE>
I'd first make sure it is not a DNS problem - probably the easiest thing
is to run tcpdump on port 53 to what DNS activity takes place when a
request comes in. Make sure that apache does not resolve host names, also
watch out for postgres using tcpwrappers to resolve host names for
incoming connections.

Grisha

On Tue, 13 May 2003, Alex Turner wrote:

&gt;<i>
</I>&gt;<i> I have a scripts that takes an XML document, munges it and turns it into
</I>&gt;<i> HTML to be outputed to the user.  It's setup so that it will run either as
</I>&gt;<i> a request handler in mod_python or as a stand alone application.  I am
</I>&gt;<i> having extreme problem with the script being slow when running in
</I>&gt;<i> mod_python.  I have done some timings, and it is 10-20 times slower
</I>&gt;<i> that it is standalone.  The program makes calls to a Postgresql database
</I>&gt;<i> using the stock pg module.  The system is running mod_python 3.0.3
</I>&gt;<i> w/apache 2.0.43.  I just upgraded to mod_python 3.0.3 to see if that would
</I>&gt;<i> help and it didn't.  Everything else is stock RedHat 8.0 - python-2.2.1-17.
</I>&gt;<i>
</I>&gt;<i> I can't seem to use the profiler to narrow down the problem at all because
</I>&gt;<i> I can't seem to figure out how to execute the profiler on a function that
</I>&gt;<i> takes arguments, and all the functions take at least the HTTP request
</I>&gt;<i> object as an argument, which makes it hard to use the python profiler.
</I>&gt;<i> Even so the script runs fine stand alone.  The one page I am looking at
</I>&gt;<i> goes from 2.2 seconds to 23 seconds.
</I>&gt;<i>
</I>&gt;<i> Has anyone had any similar issues?
</I>&gt;<i>
</I>&gt;<i> Alex Turner
</I>&gt;<i> NetEconomist
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>
</PRE>
<!--endarticle-->
</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006219.html">[mod_python] mod_python slowness
</A></li>
	<LI>Next message: <A HREF="006226.html">[mod_python] mod_python slowness
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6221">[ date ]</a>
              <a href="thread.html#6221">[ thread ]</a>
              <a href="subject.html#6221">[ subject ]</a>
              <a href="author.html#6221">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
