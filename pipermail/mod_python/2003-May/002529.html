<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] mod_python slowness
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20slowness&In-Reply-To=20030513102833.C56353-100000%40oldchief.reply.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002524.html">
   <LINK REL="Next"  HREF="002530.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] mod_python slowness</H1>
    <B>Alex Turner</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20slowness&In-Reply-To=20030513102833.C56353-100000%40oldchief.reply.net"
       TITLE="[mod_python] mod_python slowness">aturner at neteconomist.com
       </A><BR>
    <I>Tue May 13 12:51:54 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="002524.html">[mod_python] mod_python slowness
</A></li>
        <LI>Next message: <A HREF="002530.html">[mod_python] mod_python slowness
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2529">[ date ]</a>
              <a href="thread.html#2529">[ thread ]</a>
              <a href="subject.html#2529">[ subject ]</a>
              <a href="author.html#2529">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
I'm pretty sure this is not a DNS problem.  I can break down each loop
that calls the database, and it shows 0.7 seconds per row returning
instead of like 0.03 seconds.  The dns servers are all configured
correctly for both forward and reverse lookups, and I do not have the same
problems in PHP (other the fact that PHP is crap compared to python - but
it's not this slow).

Alex Turner
NetEconomist

On Tue, 13 May 2003, Gregory (Grisha) Trubetskoy wrote:

&gt;<i> 
</I>&gt;<i> I'd first make sure it is not a DNS problem - probably the easiest thing
</I>&gt;<i> is to run tcpdump on port 53 to what DNS activity takes place when a
</I>&gt;<i> request comes in. Make sure that apache does not resolve host names, also
</I>&gt;<i> watch out for postgres using tcpwrappers to resolve host names for
</I>&gt;<i> incoming connections.
</I>&gt;<i> 
</I>&gt;<i> Grisha
</I>&gt;<i> 
</I>&gt;<i> On Tue, 13 May 2003, Alex Turner wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I have a scripts that takes an XML document, munges it and turns it into
</I>&gt;<i> &gt; HTML to be outputed to the user.  It's setup so that it will run either as
</I>&gt;<i> &gt; a request handler in mod_python or as a stand alone application.  I am
</I>&gt;<i> &gt; having extreme problem with the script being slow when running in
</I>&gt;<i> &gt; mod_python.  I have done some timings, and it is 10-20 times slower
</I>&gt;<i> &gt; that it is standalone.  The program makes calls to a Postgresql database
</I>&gt;<i> &gt; using the stock pg module.  The system is running mod_python 3.0.3
</I>&gt;<i> &gt; w/apache 2.0.43.  I just upgraded to mod_python 3.0.3 to see if that would
</I>&gt;<i> &gt; help and it didn't.  Everything else is stock RedHat 8.0 - python-2.2.1-17.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I can't seem to use the profiler to narrow down the problem at all because
</I>&gt;<i> &gt; I can't seem to figure out how to execute the profiler on a function that
</I>&gt;<i> &gt; takes arguments, and all the functions take at least the HTTP request
</I>&gt;<i> &gt; object as an argument, which makes it hard to use the python profiler.
</I>&gt;<i> &gt; Even so the script runs fine stand alone.  The one page I am looking at
</I>&gt;<i> &gt; goes from 2.2 seconds to 23 seconds.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Has anyone had any similar issues?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Alex Turner
</I>&gt;<i> &gt; NetEconomist
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mod_python mailing list
</I>&gt;<i> &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> 
</I>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002524.html">[mod_python] mod_python slowness
</A></li>
	<LI>Next message: <A HREF="002530.html">[mod_python] mod_python slowness
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2529">[ date ]</a>
              <a href="thread.html#2529">[ thread ]</a>
              <a href="subject.html#2529">[ subject ]</a>
              <a href="author.html#2529">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
