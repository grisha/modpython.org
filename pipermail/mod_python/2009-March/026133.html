<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Reloading PSP sometimes shows old pages
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Reloading%20PSP%20sometimes%20shows%20old%20pages&In-Reply-To=88e286470903292247rb81e0dbrcfd6e0334448a8f5%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026129.html">
   <LINK REL="Next"  HREF="026136.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Reloading PSP sometimes shows old pages</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Mike Mueller</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Reloading%20PSP%20sometimes%20shows%20old%20pages&In-Reply-To=88e286470903292247rb81e0dbrcfd6e0334448a8f5%40mail.gmail.com"
       TITLE="[mod_python] Reloading PSP sometimes shows old pages">mike at subfocal.net
       </A><BR>
    <I>Mon Mar 30 02:01:56 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="026129.html">[mod_python] Reloading PSP sometimes shows old pages
</A></li>
        <LI>Next message: <A HREF="026136.html">[mod_python] Reloading PSP sometimes shows old pages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26133">[ date ]</a>
              <a href="thread.html#26133">[ thread ]</a>
              <a href="subject.html#26133">[ subject ]</a>
              <a href="author.html#26133">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Mar 30, 2009 at 04:47:02PM +1100, Graham Dumpleton wrote:
&gt;<i> 2009/3/30 Mike Mueller &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mike at subfocal.net</A>&gt;:
</I>&gt;<i> &gt; Good point, here's the exact situation:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Page1.psp and Page2.psp both include common.psp, using the &lt;%@include %&gt;
</I>&gt;<i> &gt; syntax. &#160;common.psp has the navigation menu and other common page
</I>&gt;<i> &gt; contents, in a function called gen_header(). &#160;I was changing the code of
</I>&gt;<i> &gt; this function, while reloading a window pointed at Page1.psp (or
</I>&gt;<i> &gt; Page2.psp).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Yes, the problem occurs with MaxRequestsPerChild 1.
</I>&gt;<i> &gt; (And I restarted apache after setting this.)
</I>&gt;<i> 
</I>&gt;<i> If MaxRequestsPerChild is 1 then it can't be a caching problem within
</I>&gt;<i> mod_python.
</I>&gt;<i> 
</I>&gt;<i> What is the actual URL path (don't care about host), are you relying
</I>&gt;<i> on additional path information passed to the request or query string
</I>&gt;<i> arguments?
</I>&gt;<i> 
</I>&gt;<i> Do you connect your browser direct to that Apache instance or do you
</I>&gt;<i> go via some firewall proxy/cache? Do you have any sort of caching
</I>&gt;<i> enabled in Apache?
</I>&gt;<i> 
</I>&gt;<i> Graham
</I>
The URL has no query string, it's just <A HREF="http://host:81/~mike/test/page.psp.">http://host:81/~mike/test/page.psp.</A>
No POST parameters or anything, a very simple page.

No proxy.  Browser is on the same host as Apache.  As I said in the
first email, no caching in Apache, as far as I can tell.  (I grepped
around the config files looking for any caching that might've been
enabled by default, and came up empty.)

The more I play with it, the more I think it may just be Firefox that
sucks.  The bouncing-between-versions only happens in it.  I thought
Opera had it because the first time I loaded my page in Opera, I got an
old version (several versions prior) of the page.  That was before
changing MaxRequestsPerChild.  But I haven't seen that in Opera since.

Opera's only problem is that reload doesn't always update to latest...
sometimes I have to navigate away and come back, or it'll keep showing
me the version it has loaded.  (I've tried various combos of shift,
ctrl+shift, etc. while clicking reload).

Also, after a certain length of time (a minute or two?), both browsers
simply load the latest version, with no weird old versions appearing.

This is frustrating.

-- 
Mike Mueller
<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mike at subfocal.net</A>
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026129.html">[mod_python] Reloading PSP sometimes shows old pages
</A></li>
	<LI>Next message: <A HREF="026136.html">[mod_python] Reloading PSP sometimes shows old pages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26133">[ date ]</a>
              <a href="thread.html#26133">[ thread ]</a>
              <a href="subject.html#26133">[ subject ]</a>
              <a href="author.html#26133">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
