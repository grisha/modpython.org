<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] problems installing on OS 10.5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20problems%20installing%20on%20OS%2010.5&In-Reply-To=15e4667e0903082016t56095e35x4d16a9969de91043%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026061.html">
   <LINK REL="Next"  HREF="026063.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] problems installing on OS 10.5</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20problems%20installing%20on%20OS%2010.5&In-Reply-To=15e4667e0903082016t56095e35x4d16a9969de91043%40mail.gmail.com"
       TITLE="[mod_python] problems installing on OS 10.5">graham.dumpleton at gmail.com
       </A><BR>
    <I>Sun Mar  8 23:33:39 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="026061.html">[mod_python] problems installing on OS 10.5
</A></li>
        <LI>Next message: <A HREF="026063.html">[mod_python] problems installing on OS 10.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26062">[ date ]</a>
              <a href="thread.html#26062">[ thread ]</a>
              <a href="subject.html#26062">[ subject ]</a>
              <a href="author.html#26062">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2009/3/9 Dan Yamins &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">dyamins at gmail.com</A>&gt;:
&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Use source code for mod_python from mod_python subversion repository
</I>&gt;&gt;<i> as that version includes all MacOS X Leopard fixes.
</I>&gt;<i>
</I>&gt;<i> Graham, thanks for your quick reply.&#160;&#160; I already tried this, actually, as
</I>&gt;<i> one of the pages I found said that the svn trunk had the fixes in it.
</I>&gt;<i> However, I wasn't able to get anywhere with this approach since I couldn't
</I>&gt;<i> compile the code I got from trunk.
</I>&gt;<i>
</I>&gt;<i> If you're interested in the error it was, at the &quot;make stage:
</I>&gt;<i>
</I>&gt;<i> &quot;
</I>&gt;<i> daniel-yaminss-macbook-pro:mod_python-trunk danielyamins$ make
</I>&gt;<i>
</I>&gt;<i> Compiling for DSO.
</I>&gt;<i>
</I>&gt;<i> &lt;snip ...&gt;
</I>&gt;<i>
</I>&gt;<i> /Library/Frameworks/Python.framework/Versions/2.5/include/python2.5/pyport.h:761:2:
</I>&gt;<i> error: #error &quot;LONG_BIT definition appears wrong for platform (bad gcc/glibc
</I>&gt;<i> config?).&quot;
</I>&gt;<i> lipo: can't figure out the architecture type of:
</I>&gt;<i> /var/folders/RL/RL57YSioGTWoMJh4O1-SFk+++TI/-Tmp-//ccKJqCJ6.out
</I>&gt;<i> apxs:Error: Command failed with rc=65536
</I>&gt;<i> .
</I>&gt;<i> make[1]: *** [mod_python.so] Error 1
</I>&gt;<i> make: *** [do_dso] Error 2
</I>&gt;<i> &quot;
</I>&gt;<i>
</I>&gt;<i> I decided not to follow up on this, but if it's the only way to get the
</I>&gt;<i> fixes, I'll try to figure it out.
</I>
This is because you are trying to use MacPorts version of Python, or
one you installed yourself, which doesn't include all architectures as
part of the Python installation. That or you are using version of GCC
which didn't come with MacOS X and it doesn't support generation of 64
bit binaries properly. This is covered in the mod_wsgi documentation.

Whose Python installation are you using? If your compiled from source
code, what 'configure' line did you use with Python when installing
it?

&gt;&gt;<i>Even better, if you are only wanting to host an application that
</I>&gt;&gt;<i>support WSGI interface and not using mod_python specific APIs, use
</I>&gt;&gt;<i>mod_wsgi instead. Pretty well all Python web applications and
</I>&gt;&gt;<i>frameworks support WSGI interface these days and mod_wsgi is arguably a
</I>&gt;&gt;<i> better solution these days
</I>&gt;<i>
</I>&gt;<i> Well -- here is what I want to do -- tell me if mod_python is the right
</I>&gt;<i> solution -- perhaps I'm barking up the wrong tree entirely. &#160; I've built an
</I>&gt;<i> application currently using CGI.&#160;&#160; It's quite slow, in part because each
</I>&gt;<i> request to the application requires the importation of a number of fairly
</I>&gt;<i> heavy modules.&#160;&#160; (e.g. it will take 3-4 secs to load the page not because of
</I>&gt;<i> the dynamic code running in each cgi module but because of the overhead of
</I>&gt;<i> having to restart python interpreter and reload all the modules the code
</I>&gt;<i> uses).&#160; I was hoping using mod_python as a way to not have to restart the
</I>&gt;<i> python interpreter.&#160; But maybe mod_wsgi is the right thing? Sorry for my
</I>&gt;<i> ignorance, and happy to switch approaches if wsgi would be better for my
</I>&gt;<i> need.
</I>
If it is CGI, then see about turning it into a WSGI application. The
main difference is that the request environment is passed as a
parameter into your application rather than it being in os.environ.
When generating a response, you need to return it from the
application, rather that just using 'print' to produce it. Another
thing that may catch you is that since now persistent if using
mod_wsgi, you need to ensure you don't preserve temporary working
state in variables that could be incorrectly accessed by subsequent
request. Otherwise usually not too hard to convert a CGI application
to WSGI.

Finally, if your scripts are multithread safe, you would want to
ensure that you use mod_wsgi daemon mode with only a single threaded
process.

Graham

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026061.html">[mod_python] problems installing on OS 10.5
</A></li>
	<LI>Next message: <A HREF="026063.html">[mod_python] problems installing on OS 10.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26062">[ date ]</a>
              <a href="thread.html#26062">[ thread ]</a>
              <a href="subject.html#26062">[ subject ]</a>
              <a href="author.html#26062">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
