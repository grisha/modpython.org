<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] mod_python wont use version 2.5.4 on windows
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20wont%20use%20version%202.5.4%20on%20windows&In-Reply-To=d01b8cf20903091511n2cb2840ahae4fb28e12c78307%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026074.html">
   <LINK REL="Next"  HREF="026076.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] mod_python wont use version 2.5.4 on windows</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20wont%20use%20version%202.5.4%20on%20windows&In-Reply-To=d01b8cf20903091511n2cb2840ahae4fb28e12c78307%40mail.gmail.com"
       TITLE="[mod_python] mod_python wont use version 2.5.4 on windows">graham.dumpleton at gmail.com
       </A><BR>
    <I>Mon Mar  9 18:45:49 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="026074.html">[mod_python] mod_python wont use version 2.5.4 on windows
</A></li>
        <LI>Next message: <A HREF="026076.html">[mod_python] mod_python wont use version 2.5.4 on windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26075">[ date ]</a>
              <a href="thread.html#26075">[ thread ]</a>
              <a href="subject.html#26075">[ subject ]</a>
              <a href="author.html#26075">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2009/3/10 Tim Valenta &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">tonightslastsong at gmail.com</A>&gt;:
&gt;<i> I know I still did. &#160;I haven't used psp. &#160;You could set your default Apache
</I>&gt;<i> content type to be 'text/html' if you want, and then you wouldn't have to do
</I>&gt;<i> it manually each time. &#160;But whatever fits your situation is best.
</I>
Do not override the default Apache content type as it will effect the
whole server.

PSP handler should already set req.content_type to 'text/html'.

The publisher handler will try and guess whether returned content is
text/html if not explicitly set. This guess isn't done though where
req.write() is used, only being done where response is returned as
string from publisher function. The guessing code tries to determine
if it is HTML by looking at last 100 characters of the response and
seeing if it matches regex:

re_html = re.compile(r&quot;&lt;/HTML\s*&gt;\s*$&quot;,re.I)

If for some reason the closing HTML tag is missing or badly formatted
it will not know it is HTML.

The safest way is always to set req.content_type explicitly.

Graham

&gt;<i> Tim
</I>&gt;<i>
</I>&gt;<i> On Mon, Mar 9, 2009 at 4:09 PM, Jordan Dunn &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">jdunn at nodetwo.org</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> do you have to set that if your using publisher instead of psp?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Mon, Mar 9, 2009 at 4:52 PM, Tim Valenta &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">tonightslastsong at gmail.com</A>&gt;
</I>&gt;&gt;<i> wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Make sure you set the content type to text/html instead of what the
</I>&gt;&gt;&gt;<i> default is. &#160;I don't think mod_python is going to do that part for you.
</I>&gt;&gt;&gt;<i> <A HREF="http://www.modpython.org/pipermail/mod_python/2006-November/022587.html">http://www.modpython.org/pipermail/mod_python/2006-November/022587.html</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> On Mon, Mar 9, 2009 at 3:42 PM, Graham Dumpleton
</I>&gt;&gt;&gt;<i> &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">graham.dumpleton at gmail.com</A>&gt; wrote:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> 2009/3/10 Jordan Dunn &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">jdunn at nodetwo.org</A>&gt;:
</I>&gt;&gt;&gt;&gt;<i> &gt; the only problem in having is that in IE7 it is printing the source
</I>&gt;&gt;&gt;&gt;<i> &gt; instead
</I>&gt;&gt;&gt;&gt;<i> &gt; of just the html.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Unrelated. If you are having that problem you mustn't be configuring
</I>&gt;&gt;&gt;&gt;<i> Apache correctly for your specific mod_python application.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Please use reply-all and keep followups on the list.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Graham
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> &gt; On Mon, Mar 9, 2009 at 4:30 PM, Graham Dumpleton
</I>&gt;&gt;&gt;&gt;<i> &gt; &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">graham.dumpleton at gmail.com</A>&gt; wrote:
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; Correct, it is effectively a warning only in this case. Because
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; Windows uses a DLL for Python library it automatically picks up the
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; newer version.
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; It would however be a problem on UNIX if mod_python had been compiled
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; against a static Python library instead of a shared library.
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; Graham
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; 2009/3/10 Tim Valenta &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">tonightslastsong at gmail.com</A>&gt;:
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt; If I'm not mistaken, I think it still runs, right? &#160;It does give a
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt; warning,
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt; but that is because that version was compiled with Python 2.5
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt; (straight
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt; 2.5,
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt; not 2.5.2 or 2.5.4)
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt; I'm not sure if there's anything you'll be able to simply change to
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt; fix
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt; it.
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt; &#160;It shouldn't have any problems though. &#160;(At least, I haven't
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt; experienced
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt; any.)
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt; Tim
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt; 2009/3/9 Jordan Dunn &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">jdunn at nodetwo.org</A>&gt;
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt;&gt; i installed apache2.2 and python 2.5.4, and when i installed
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt;&gt; mod_python
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt;&gt; it
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt;&gt; installed fine, but in the apache logs it says its looking for 2.5
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt;&gt; instead
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt;&gt; of 2.5.4? how can i fix this?
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt;&gt; _______________________________________________
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt;&gt; Mod_python mailing list
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt;&gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt;&gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt; --
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt; &quot;If you had a katana, ...&quot;
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt; Party like it's 1234567890
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt; _______________________________________________
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt; Mod_python mailing list
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;&gt;&gt;<i> &gt;
</I>&gt;&gt;&gt;&gt;<i> &gt;
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;&gt;<i> Mod_python mailing list
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> --
</I>&gt;&gt;&gt;<i> &quot;If you had a katana, ...&quot;
</I>&gt;&gt;&gt;<i> Party like it's 1234567890
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> &quot;If you had a katana, ...&quot;
</I>&gt;<i> Party like it's 1234567890
</I>&gt;<i>
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026074.html">[mod_python] mod_python wont use version 2.5.4 on windows
</A></li>
	<LI>Next message: <A HREF="026076.html">[mod_python] mod_python wont use version 2.5.4 on windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26075">[ date ]</a>
              <a href="thread.html#26075">[ thread ]</a>
              <a href="subject.html#26075">[ subject ]</a>
              <a href="author.html#26075">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
