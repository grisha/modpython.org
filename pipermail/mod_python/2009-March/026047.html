<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Problem installing on Mac OS X
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Problem%20installing%20on%20Mac%20OS%20X&In-Reply-To=B980FD97-ECF8-43C3-9408-24DD354B9482%40aqueduct.co.uk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026046.html">
   <LINK REL="Next"  HREF="026048.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Problem installing on Mac OS X</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Problem%20installing%20on%20Mac%20OS%20X&In-Reply-To=B980FD97-ECF8-43C3-9408-24DD354B9482%40aqueduct.co.uk"
       TITLE="[mod_python] Problem installing on Mac OS X">graham.dumpleton at gmail.com
       </A><BR>
    <I>Sun Mar  1 17:45:42 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="026046.html">[mod_python] Problem installing on Mac OS X
</A></li>
        <LI>Next message: <A HREF="026048.html">[mod_python] Problem installing on Mac OS X
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26047">[ date ]</a>
              <a href="thread.html#26047">[ thread ]</a>
              <a href="subject.html#26047">[ subject ]</a>
              <a href="author.html#26047">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2009/3/2 Matthew O'Riordan &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">matt at aqueduct.co.uk</A>&gt;:
&gt;<i> Hi Graham
</I>&gt;<i>
</I>&gt;<i> Thank you very much, that worked a treat. &#160;Thank you for the very prompt
</I>&gt;<i> response.
</I>&gt;<i>
</I>&gt;<i> BTW. I am not clear on why I would use a WSGI capable applciation as opposed
</I>&gt;<i> to what mod_python offers. &#160;Can you point me in the direction of something I
</I>&gt;<i> can read on the differences and why mod_wsgi may in fact be better (I am
</I>&gt;<i> going to be building my application on Django)?
</I>
WSGI is a generic interface which allows a Python web application to
be hosted on different hosting mechanisms. The mod_wsgi module for
Apache is purpose built for it. With how you are running Django now
you are relying on a mod_python specific binding for Django rather
than the generic WSGI interface that Django also supports. By going
the mod_python route you are encumbering yourself with greater memory
usage as mod_python is loading a lot of stuff you don't need for
hosting Django. The raw performance of mod_python is also not as good
as mod_wsgi. The mod_wsgi module also has daemon mode, which allows
separation from Apache child processes for your application, giving
more predictable performance if you haven't been bothered to customise
default Apache MPM settings, which aren't suitable for large Python
web applications.

For some real data see:

  <A HREF="http://collingrady.wordpress.com/2009/01/06/mod_python-versus-mod_wsgi/">http://collingrady.wordpress.com/2009/01/06/mod_python-versus-mod_wsgi/</A>
  <A HREF="http://code.google.com/p/modwsgi/wiki/PerformanceEstimates">http://code.google.com/p/modwsgi/wiki/PerformanceEstimates</A>

Go onto #django irc and you will very much find that mod_python is out
of favour these days, despite what official Django documentation still
says about it.

Graham

&gt;<i> Thanks,
</I>&gt;<i> Matt
</I>&gt;<i>
</I>&gt;<i> On 1 Mar 2009, at 20:12, Graham Dumpleton wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> 2009/3/2 Matthew O'Riordan &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">matt at aqueduct.co.uk</A>&gt;:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Hi
</I>&gt;&gt;&gt;<i> I am running Python 2.5 and Apache 2.2.11 on Mac OS X, and have been
</I>&gt;&gt;&gt;<i> trying
</I>&gt;&gt;&gt;<i> to install Mod_Python (3.3.1) but unfortunately keep getting an error
</I>&gt;&gt;&gt;<i> &quot;apxs:Error: Command failed with rc=65536&quot;.
</I>&gt;&gt;&gt;<i> I have tried upgrading to Python 2.6 and that has made no difference.
</I>&gt;&gt;&gt;<i> I would really appreciate some help / advice to get Mod_Python running
</I>&gt;&gt;&gt;<i> under
</I>&gt;&gt;&gt;<i> Apache but am stumped as I can't seem to find any answers on the web
</I>&gt;&gt;&gt;<i> specific to this issue, although have found a few people who have run
</I>&gt;&gt;&gt;<i> into
</I>&gt;&gt;&gt;<i> this issue.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Use mod_python source code from subversion repository.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &#160;svn co <A HREF="https://svn.apache.org/repos/asf/quetzalcoatl/mod_python/trunk">https://svn.apache.org/repos/asf/quetzalcoatl/mod_python/trunk</A>
</I>&gt;&gt;<i> mod_python-trunk
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The fix for that and various other MacOS X build issues is contained
</I>&gt;&gt;<i> there.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> BTW, if you are only wanting to host a WSGI capable application, such
</I>&gt;&gt;<i> as Django, Trac or TurboGears, you may want to look at mod_wsgi
</I>&gt;&gt;<i> instead.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Graham
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Thanks,
</I>&gt;&gt;&gt;<i> Matthew O'Riordan
</I>&gt;&gt;&gt;<i> ----
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Here is the output from the Console:
</I>&gt;&gt;&gt;<i> Macintosh:mod_python-3.3.1 matthew$ ./configure
</I>&gt;&gt;&gt;<i> checking for gcc... gcc
</I>&gt;&gt;&gt;<i> checking for C compiler default output file name... a.out
</I>&gt;&gt;&gt;<i> checking whether the C compiler works... yes
</I>&gt;&gt;&gt;<i> checking whether we are cross compiling... no
</I>&gt;&gt;&gt;<i> checking for suffix of executables...
</I>&gt;&gt;&gt;<i> checking for suffix of object files... o
</I>&gt;&gt;&gt;<i> checking whether we are using the GNU C compiler... yes
</I>&gt;&gt;&gt;<i> checking whether gcc accepts -g... yes
</I>&gt;&gt;&gt;<i> checking for gcc option to accept ANSI C... none needed
</I>&gt;&gt;&gt;<i> checking for ar... ar
</I>&gt;&gt;&gt;<i> checking for a BSD-compatible install... /usr/bin/install -c
</I>&gt;&gt;&gt;<i> checking whether make sets $(MAKE)... yes
</I>&gt;&gt;&gt;<i> checking for main in -lm... yes
</I>&gt;&gt;&gt;<i> checking for an ANSI C-conforming const... yes
</I>&gt;&gt;&gt;<i> checking your blood pressure... a bit high, but we can proceed
</I>&gt;&gt;&gt;<i> configure: checking whether apxs is available...
</I>&gt;&gt;&gt;<i> checking for --with-apxs... no
</I>&gt;&gt;&gt;<i> checking for apxs in /usr/local/apache/sbin... no
</I>&gt;&gt;&gt;<i> checking for apxs in your PATH... checking for apxs... /usr/sbin/apxs
</I>&gt;&gt;&gt;<i> found /usr/sbin/apxs, we'll use this. Use --with-apxs to specify another.
</I>&gt;&gt;&gt;<i> checking Apache version... 2.2.11
</I>&gt;&gt;&gt;<i> checking for Apache libexec directory... /usr/libexec/apache2
</I>&gt;&gt;&gt;<i> checking for Apache include directory... -I/usr/include/apache2
</I>&gt;&gt;&gt;<i> checking for --with-python... no
</I>&gt;&gt;&gt;<i> checking for python... /usr/bin/python
</I>&gt;&gt;&gt;<i> checking Python version... 2.6
</I>&gt;&gt;&gt;<i> checking Python install prefix...
</I>&gt;&gt;&gt;<i> /Library/Frameworks/Python.framework/Versions/2.6
</I>&gt;&gt;&gt;<i> checking checking where python libraries are installed...
</I>&gt;&gt;&gt;<i> /Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6
</I>&gt;&gt;&gt;<i> checking what libraries Python was linked with... -framework &#160;Python
</I>&gt;&gt;&gt;<i> &#160;-ldl
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> checking linker flags used to link Python...
</I>&gt;&gt;&gt;<i> checking where Python include files are...
</I>&gt;&gt;&gt;<i> -I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6
</I>&gt;&gt;&gt;<i> checking for --with-python-src... no
</I>&gt;&gt;&gt;<i> checking for --with-mutex-dir... no
</I>&gt;&gt;&gt;<i> Using MUTEX_DIR /tmp
</I>&gt;&gt;&gt;<i> checking for --with-max-locks... no
</I>&gt;&gt;&gt;<i> Using 8 MAX_LOCKS.
</I>&gt;&gt;&gt;<i> checking for --with-flex... no
</I>&gt;&gt;&gt;<i> checking for flex... /usr/bin/flex
</I>&gt;&gt;&gt;<i> found /usr/bin/flex, we'll use this. Use --with-flex to specify another.
</I>&gt;&gt;&gt;<i> checking flex version... 2.5.33. Good
</I>&gt;&gt;&gt;<i> configure: creating ./config.status
</I>&gt;&gt;&gt;<i> config.status: creating Makefile
</I>&gt;&gt;&gt;<i> config.status: creating src/Makefile
</I>&gt;&gt;&gt;<i> config.status: creating Doc/Makefile
</I>&gt;&gt;&gt;<i> config.status: creating src/include/mod_python.h
</I>&gt;&gt;&gt;<i> config.status: creating test/Makefile
</I>&gt;&gt;&gt;<i> config.status: creating test/testconf.py
</I>&gt;&gt;&gt;<i> config.status: creating dist/setup.py
</I>&gt;&gt;&gt;<i> config.status: creating dist/Makefile
</I>&gt;&gt;&gt;<i> Macintosh:mod_python-3.3.1 matthew$ make
</I>&gt;&gt;&gt;<i> Compiling for DSO.
</I>&gt;&gt;&gt;<i> /usr/sbin/apxs -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
</I>&gt;&gt;&gt;<i> -I/usr/include/apache2
</I>&gt;&gt;&gt;<i> -I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6 -c
</I>&gt;&gt;&gt;<i> mod_python.c _apachemodule.c requestobject.c tableobject.c util.c
</I>&gt;&gt;&gt;<i> serverobject.c connobject.c filterobject.c hlist.c hlistobject.c
</I>&gt;&gt;&gt;<i> finfoobject.c -Wl,-framework,Python &#160;-u _PyMac_Error /Versions// &#160; -arch
</I>&gt;&gt;&gt;<i> ppc
</I>&gt;&gt;&gt;<i> -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -g &#160; &#160;-lm
</I>&gt;&gt;&gt;<i> &#160;-framework
</I>&gt;&gt;&gt;<i> &#160;Python &#160; &#160;-ldl
</I>&gt;&gt;&gt;<i> /usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer-pic
</I>&gt;&gt;&gt;<i> -arch
</I>&gt;&gt;&gt;<i> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk &#160;-DDARWIN
</I>&gt;&gt;&gt;<i> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp &#160;-I/usr/include/apache2
</I>&gt;&gt;&gt;<i> &#160;-I/usr/include/apache2 &#160; -I/usr/include/apache2 -I/usr/include
</I>&gt;&gt;&gt;<i> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
</I>&gt;&gt;&gt;<i> -I/usr/include/apache2
</I>&gt;&gt;&gt;<i> -I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6 &#160;-c
</I>&gt;&gt;&gt;<i> -o
</I>&gt;&gt;&gt;<i> mod_python.lo mod_python.c &amp;&amp; touch mod_python.slo
</I>&gt;&gt;&gt;<i> mod_python.c: In function &#8216;python_init&#8217;:
</I>&gt;&gt;&gt;<i> mod_python.c:826: warning: initialization from incompatible pointer type
</I>&gt;&gt;&gt;<i> /usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer-pic
</I>&gt;&gt;&gt;<i> -arch
</I>&gt;&gt;&gt;<i> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk &#160;-DDARWIN
</I>&gt;&gt;&gt;<i> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp &#160;-I/usr/include/apache2
</I>&gt;&gt;&gt;<i> &#160;-I/usr/include/apache2 &#160; -I/usr/include/apache2 -I/usr/include
</I>&gt;&gt;&gt;<i> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
</I>&gt;&gt;&gt;<i> -I/usr/include/apache2
</I>&gt;&gt;&gt;<i> -I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6 &#160;-c
</I>&gt;&gt;&gt;<i> -o
</I>&gt;&gt;&gt;<i> _apachemodule.lo _apachemodule.c &amp;&amp; touch _apachemodule.slo
</I>&gt;&gt;&gt;<i> /usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer-pic
</I>&gt;&gt;&gt;<i> -arch
</I>&gt;&gt;&gt;<i> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk &#160;-DDARWIN
</I>&gt;&gt;&gt;<i> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp &#160;-I/usr/include/apache2
</I>&gt;&gt;&gt;<i> &#160;-I/usr/include/apache2 &#160; -I/usr/include/apache2 -I/usr/include
</I>&gt;&gt;&gt;<i> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
</I>&gt;&gt;&gt;<i> -I/usr/include/apache2
</I>&gt;&gt;&gt;<i> -I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6 &#160;-c
</I>&gt;&gt;&gt;<i> -o
</I>&gt;&gt;&gt;<i> requestobject.lo requestobject.c &amp;&amp; touch requestobject.slo
</I>&gt;&gt;&gt;<i> /usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer-pic
</I>&gt;&gt;&gt;<i> -arch
</I>&gt;&gt;&gt;<i> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk &#160;-DDARWIN
</I>&gt;&gt;&gt;<i> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp &#160;-I/usr/include/apache2
</I>&gt;&gt;&gt;<i> &#160;-I/usr/include/apache2 &#160; -I/usr/include/apache2 -I/usr/include
</I>&gt;&gt;&gt;<i> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
</I>&gt;&gt;&gt;<i> -I/usr/include/apache2
</I>&gt;&gt;&gt;<i> -I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6 &#160;-c
</I>&gt;&gt;&gt;<i> -o
</I>&gt;&gt;&gt;<i> tableobject.lo tableobject.c &amp;&amp; touch tableobject.slo
</I>&gt;&gt;&gt;<i> tableobject.c:329: warning: initialization from incompatible pointer type
</I>&gt;&gt;&gt;<i> tableobject.c:1092: warning: initialization from incompatible pointer
</I>&gt;&gt;&gt;<i> type
</I>&gt;&gt;&gt;<i> /usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer-pic
</I>&gt;&gt;&gt;<i> -arch
</I>&gt;&gt;&gt;<i> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk &#160;-DDARWIN
</I>&gt;&gt;&gt;<i> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp &#160;-I/usr/include/apache2
</I>&gt;&gt;&gt;<i> &#160;-I/usr/include/apache2 &#160; -I/usr/include/apache2 -I/usr/include
</I>&gt;&gt;&gt;<i> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
</I>&gt;&gt;&gt;<i> -I/usr/include/apache2
</I>&gt;&gt;&gt;<i> -I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6 &#160;-c
</I>&gt;&gt;&gt;<i> -o
</I>&gt;&gt;&gt;<i> util.lo util.c &amp;&amp; touch util.slo
</I>&gt;&gt;&gt;<i> /usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer-pic
</I>&gt;&gt;&gt;<i> -arch
</I>&gt;&gt;&gt;<i> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk &#160;-DDARWIN
</I>&gt;&gt;&gt;<i> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp &#160;-I/usr/include/apache2
</I>&gt;&gt;&gt;<i> &#160;-I/usr/include/apache2 &#160; -I/usr/include/apache2 -I/usr/include
</I>&gt;&gt;&gt;<i> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
</I>&gt;&gt;&gt;<i> -I/usr/include/apache2
</I>&gt;&gt;&gt;<i> -I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6 &#160;-c
</I>&gt;&gt;&gt;<i> -o
</I>&gt;&gt;&gt;<i> serverobject.lo serverobject.c &amp;&amp; touch serverobject.slo
</I>&gt;&gt;&gt;<i> serverobject.c:387: warning: initialization from incompatible pointer
</I>&gt;&gt;&gt;<i> type
</I>&gt;&gt;&gt;<i> /usr/share/httpd/build/libtool --silent --mode=compile gcc -prefer-pic
</I>&gt;&gt;&gt;<i> -arch
</I>&gt;&gt;&gt;<i> i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk &#160;-DDARWIN
</I>&gt;&gt;&gt;<i> -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp &#160;-I/usr/include/apache2
</I>&gt;&gt;&gt;<i> &#160;-I/usr/include/apache2 &#160; -I/usr/include/apache2 -I/usr/include
</I>&gt;&gt;&gt;<i> -I/Users/matthew/Downloads/mod_python-3.3.1/src/include
</I>&gt;&gt;&gt;<i> -I/usr/include/apache2
</I>&gt;&gt;&gt;<i> -I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6 &#160;-c
</I>&gt;&gt;&gt;<i> -o
</I>&gt;&gt;&gt;<i> connobject.lo connobject.c &amp;&amp; touch connobject.slo
</I>&gt;&gt;&gt;<i> connobject.c: In function &#8216;_conn_read&#8217;:
</I>&gt;&gt;&gt;<i> connobject.c:142: error: request for member &#8216;next&#8217; in something not a
</I>&gt;&gt;&gt;<i> structure or union
</I>&gt;&gt;&gt;<i> apxs:Error: Command failed with rc=65536
</I>&gt;&gt;&gt;<i> .
</I>&gt;&gt;&gt;<i> make[1]: *** [mod_python.so] Error 1
</I>&gt;&gt;&gt;<i> make: *** [do_dso] Error 2
</I>&gt;&gt;&gt;<i> Macintosh:mod_python-3.3.1 matthew$
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> Mod_python mailing list
</I>&gt;&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026046.html">[mod_python] Problem installing on Mac OS X
</A></li>
	<LI>Next message: <A HREF="026048.html">[mod_python] Problem installing on Mac OS X
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26047">[ date ]</a>
              <a href="thread.html#26047">[ thread ]</a>
              <a href="subject.html#26047">[ subject ]</a>
              <a href="author.html#26047">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
