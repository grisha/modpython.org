<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] loading configuration
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20loading%20configuration&In-Reply-To=2613171a0807140018n2fd20a9h5def6fbedd969bea%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025431.html">
   <LINK REL="Next"  HREF="025433.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] loading configuration</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Bart</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20loading%20configuration&In-Reply-To=2613171a0807140018n2fd20a9h5def6fbedd969bea%40mail.gmail.com"
       TITLE="[mod_python] loading configuration">scarfboy at gmail.com
       </A><BR>
    <I>Mon Jul 14 04:04:02 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025431.html">[mod_python] loading configuration
</A></li>
        <LI>Next message: <A HREF="025433.html">[mod_python] Re: [modwsgi] loading configuration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25432">[ date ]</a>
              <a href="thread.html#25432">[ thread ]</a>
              <a href="subject.html#25432">[ subject ]</a>
              <a href="author.html#25432">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I haven't used mod_wsgi yet so I don't know how much this applies to
it, but in mod_python my solution would probably be to put all my
configuration in variables in a config.py file and use the existing
mod_python reloading behaviour of reloading it *only* when its
modification date changes (...meaning whenever you edit it).

Note that if you do this, you want to explicitly call that
config.py-reloader function in every handler, so that it will check
every time. The check alone without it having to reload is pretty
light -- and as light as you're going to get if you want it fully
automatic, since you do want it to continually check the disk (and OS
caches are nice for this sort of thing).

(I'd personally move the reloading check into a decorator to keep that
reloader code in use in a single place instead of pasting it inside
each handler. For me that makes sense anyway, since I already use
decorators to apply Unicode conversion, selectively do form parsing
and such.)


I think you want to avoid having to duplicate this with your own
custom config-reloading code, since doing it yourself means you have
to think about handling per-child *and* as soon as possible, which is
annoying when you want to force a reload from code, since you would
probably hand that wish in via a handler (in a apache single child)
and would then have to communicate that wish somehow. (the way the
reloader uses mtime sounds like a handy solution to this, and if you
can just use it without any custom hacks, all the better...)


Regards,
--Bart


2008/7/14 bharath venkatesh &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">bharathv6.project at gmail.com</A>&gt;:
&gt;<i>
</I>&gt;<i> hi everyone,
</I>&gt;<i>                     I want to load certain configuration from a
</I>&gt;<i> configuration file  when a appache starts in mod python or mod wsgi  using a
</I>&gt;<i> function take for example load_config() .. i don't want to include this
</I>&gt;<i> load_config function inside handler as i don't want it to  execute every
</I>&gt;<i> time.. and  also  when ever changes are made in the configuration file i
</I>&gt;<i> should be able to load the changed configuration with out restarting appache
</I>&gt;<i> ... can any one tell me how this can be done ...
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> bharath
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025431.html">[mod_python] loading configuration
</A></li>
	<LI>Next message: <A HREF="025433.html">[mod_python] Re: [modwsgi] loading configuration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25432">[ date ]</a>
              <a href="thread.html#25432">[ thread ]</a>
              <a href="subject.html#25432">[ subject ]</a>
              <a href="author.html#25432">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
