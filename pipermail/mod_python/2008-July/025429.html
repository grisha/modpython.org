<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] mod_python or wsgi
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20or%20wsgi&In-Reply-To=88e286470807110317h1527d895od4898b867f97a950%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025428.html">
   <LINK REL="Next"  HREF="025430.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] mod_python or wsgi</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Sean Allen</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20or%20wsgi&In-Reply-To=88e286470807110317h1527d895od4898b867f97a950%40mail.gmail.com"
       TITLE="[mod_python] mod_python or wsgi">sean at monkeysnatchbanana.com
       </A><BR>
    <I>Fri Jul 11 08:59:38 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025428.html">[mod_python] mod_python or wsgi
</A></li>
        <LI>Next message: <A HREF="025430.html">[mod_python] Apache fails to start
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25429">[ date ]</a>
              <a href="thread.html#25429">[ thread ]</a>
              <a href="subject.html#25429">[ subject ]</a>
              <a href="author.html#25429">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Jul 11, 2008, at 6:17 AM, Graham Dumpleton wrote:

&gt;<i> 2008/7/11 Sean Allen &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">sean at monkeysnatchbanana.com</A>&gt;:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Jul 10, 2008, at 10:07 PM, Graham Dumpleton wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> We have one PostReadRequestHandler
</I>&gt;&gt;&gt;&gt;<i> All the rest of RequestHandlers
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> The PostReadRequestHandler does some across the board setup  
</I>&gt;&gt;&gt;&gt;<i> including
</I>&gt;&gt;&gt;&gt;<i> setting
</I>&gt;&gt;&gt;&gt;<i> the remote_ip in the connection to the value of X-Forwarded-For,  
</I>&gt;&gt;&gt;&gt;<i> if said
</I>&gt;&gt;&gt;&gt;<i> header exists and if the connection is being proxied.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Is that something which could be done by mod_headers or one of the
</I>&gt;&gt;&gt;<i> other modules available for fiddling with headers?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Graham
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Well, the entire idea is that in mod_perl the remote_ip returns  
</I>&gt;&gt;<i> 127.0.0.1
</I>&gt;&gt;<i> and the X-Forwarded-For header has the actual real value. The
</I>&gt;&gt;<i> PostReadRequestHandler
</I>&gt;&gt;<i> corrects that so that code doesnt need to know if it is being  
</I>&gt;&gt;<i> proxied to or
</I>&gt;&gt;<i> not.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> So that is a bit beyond what mod_headers does. I take it from the  
</I>&gt;&gt;<i> question,
</I>&gt;&gt;<i> this could be an issue?
</I>&gt;<i>
</I>&gt;<i> Hmmm, you do realise though that the client IP cannot even really be
</I>&gt;<i> relied upon? For example, large ISPs often have all traffic from that
</I>&gt;<i> IP appearing as same client IP. This can often cause problems for
</I>&gt;<i> session based mechanisms which use client IP address in some way.
</I>
I understand but we need to rely on them as much as possible for  
various legal reasons.
For example, we need the ip address if someone asks for more info
by filling out a form. If we mail them and they later complain and we  
dont
have an ip address that they came from ( even an aggregated one ), isps
tend to frown on you as its part of CAN-SPAM in the US to have to  
provide
'signup' url and ip address.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025428.html">[mod_python] mod_python or wsgi
</A></li>
	<LI>Next message: <A HREF="025430.html">[mod_python] Apache fails to start
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25429">[ date ]</a>
              <a href="thread.html#25429">[ thread ]</a>
              <a href="subject.html#25429">[ subject ]</a>
              <a href="author.html#25429">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
