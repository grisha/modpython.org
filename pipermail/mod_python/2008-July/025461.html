<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] global variables are not made global?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20global%20variables%20are%20not%20made%20global%3F&In-Reply-To=88e286470807201944q26553830v3a0af6cdfc2701f9%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025460.html">
   <LINK REL="Next"  HREF="025458.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] global variables are not made global?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Mephisto</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20global%20variables%20are%20not%20made%20global%3F&In-Reply-To=88e286470807201944q26553830v3a0af6cdfc2701f9%40mail.gmail.com"
       TITLE="[mod_python] global variables are not made global?">badmephisto at gmail.com
       </A><BR>
    <I>Mon Jul 21 01:51:01 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025460.html">[mod_python] global variables are not made global?
</A></li>
        <LI>Next message: <A HREF="025458.html">[mod_python] Dropping of support for non threaded Python.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25461">[ date ]</a>
              <a href="thread.html#25461">[ thread ]</a>
              <a href="subject.html#25461">[ subject ]</a>
              <a href="author.html#25461">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>i'm so embarrassed, i cant write python I'm sorry. I made sure that I knew
how to do imports before I emailed here, but actually when i tried it i did
it just like you, with main.a and import main. However in my actual code for
mod_python I do from main import *, and then i tried to refer to a, just
normally without any prefix like in main.a. And it turns out that you cant
do that, it won't work. Sorry about that. Thank you very much for your help.

On Sun, Jul 20, 2008 at 10:44 PM, Graham Dumpleton &lt;
<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">graham.dumpleton at gmail.com</A>&gt; wrote:

&gt;<i> I assume that in the second file you are at least doing:
</I>&gt;<i>
</I>&gt;<i>  import main
</I>&gt;<i>
</I>&gt;<i> and then referencing 'a' as 'main.a' in the code.
</I>&gt;<i>
</I>&gt;<i> I was assuming that you were getting this most fundamental concept of
</I>&gt;<i> Python correct.
</I>&gt;<i>
</I>&gt;<i> You should really post a complete (but small) example of real code
</I>&gt;<i> that shows your problem.
</I>&gt;<i>
</I>&gt;<i> Graham
</I>&gt;<i>
</I>&gt;<i> 2008/7/21 Mephisto &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">badmephisto at gmail.com</A>&gt;:
</I>&gt;<i> &gt; Hi, thank you fro your reply. I should have been a little clearer. I am
</I>&gt;<i> &gt; running Windows XP and the entire code is processed within one single
</I>&gt;<i> &gt; request, so I don't see how the problems with different interpreters
</I>&gt;<i> should
</I>&gt;<i> &gt; affect me. Is there something else that I could try?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Sun, Jul 20, 2008 at 9:54 PM, Graham Dumpleton
</I>&gt;<i> &gt; &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">graham.dumpleton at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; 2008/7/21 Mephisto &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">badmephisto at gmail.com</A>&gt;:
</I>&gt;<i> &gt;&gt; &gt; Hi, I have been trying to fix this for a while, but I cant seem to do
</I>&gt;<i> &gt;&gt; &gt; it:
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; essentially this is my code:
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; in my main .py file that handles requests:
</I>&gt;<i> &gt;&gt; &gt; from otherfile import othermethod
</I>&gt;<i> &gt;&gt; &gt; def handler():
</I>&gt;<i> &gt;&gt; &gt; global a
</I>&gt;<i> &gt;&gt; &gt; a=5
</I>&gt;<i> &gt;&gt; &gt; othermethod()
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; in otherfile:
</I>&gt;<i> &gt;&gt; &gt; def othermethod()
</I>&gt;<i> &gt;&gt; &gt;    #in this method, the value of a is not defined, even though i made
</I>&gt;<i> it
</I>&gt;<i> &gt;&gt; &gt; global!
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; even though it says in the documentation that global data is normally
</I>&gt;<i> &gt;&gt; &gt; retained and handled. And all of the previous code runs within the
</I>&gt;<i> same
</I>&gt;<i> &gt;&gt; &gt; request... am i doing something wrong? or not doing something?
</I>&gt;<i> &gt;&gt; &gt; thank you
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Read:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> <A HREF="http://www.dscpl.com.au/wiki/ModPython/Articles/TheProcessInterpreterModel">http://www.dscpl.com.au/wiki/ModPython/Articles/TheProcessInterpreterModel</A>
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Apache is a multiprocess web server (except on Windows), thus
</I>&gt;<i> &gt;&gt; subsequent requests will not necessarily be handled by the same
</I>&gt;<i> &gt;&gt; process.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; It is not clear from your example whether you are talking about data
</I>&gt;<i> &gt;&gt; persisting across requests, or whether you are talking about data seen
</I>&gt;<i> &gt;&gt; by other modules imported as part of same request.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; BTW, relying on globals is also dangerous for configurations where
</I>&gt;<i> &gt;&gt; Apache is running multithreaded.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; That document summaries issues about global data and persistence at the
</I>&gt;<i> &gt;&gt; end.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Graham
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20080721/0281dd00/attachment-0001.html">http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20080721/0281dd00/attachment-0001.html</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025460.html">[mod_python] global variables are not made global?
</A></li>
	<LI>Next message: <A HREF="025458.html">[mod_python] Dropping of support for non threaded Python.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25461">[ date ]</a>
              <a href="thread.html#25461">[ thread ]</a>
              <a href="subject.html#25461">[ subject ]</a>
              <a href="author.html#25461">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
