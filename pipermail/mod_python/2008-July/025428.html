<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] mod_python or wsgi
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20or%20wsgi&In-Reply-To=5DDD8015-654B-4515-96F0-939D1EA7ED98%40monkeysnatchbanana.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025427.html">
   <LINK REL="Next"  HREF="025429.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] mod_python or wsgi</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20or%20wsgi&In-Reply-To=5DDD8015-654B-4515-96F0-939D1EA7ED98%40monkeysnatchbanana.com"
       TITLE="[mod_python] mod_python or wsgi">graham.dumpleton at gmail.com
       </A><BR>
    <I>Fri Jul 11 06:17:23 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025427.html">[mod_python] mod_python or wsgi
</A></li>
        <LI>Next message: <A HREF="025429.html">[mod_python] mod_python or wsgi
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25428">[ date ]</a>
              <a href="thread.html#25428">[ thread ]</a>
              <a href="subject.html#25428">[ subject ]</a>
              <a href="author.html#25428">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2008/7/11 Sean Allen &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">sean at monkeysnatchbanana.com</A>&gt;:
&gt;<i>
</I>&gt;<i> On Jul 10, 2008, at 10:07 PM, Graham Dumpleton wrote:
</I>&gt;<i>
</I>&gt;&gt;&gt;<i> We have one PostReadRequestHandler
</I>&gt;&gt;&gt;<i> All the rest of RequestHandlers
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> The PostReadRequestHandler does some across the board setup including
</I>&gt;&gt;&gt;<i> setting
</I>&gt;&gt;&gt;<i> the remote_ip in the connection to the value of X-Forwarded-For, if said
</I>&gt;&gt;&gt;<i> header exists and if the connection is being proxied.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Is that something which could be done by mod_headers or one of the
</I>&gt;&gt;<i> other modules available for fiddling with headers?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Graham
</I>&gt;<i>
</I>&gt;<i> Well, the entire idea is that in mod_perl the remote_ip returns 127.0.0.1
</I>&gt;<i> and the X-Forwarded-For header has the actual real value. The
</I>&gt;<i> PostReadRequestHandler
</I>&gt;<i> corrects that so that code doesnt need to know if it is being proxied to or
</I>&gt;<i> not.
</I>&gt;<i>
</I>&gt;<i> So that is a bit beyond what mod_headers does. I take it from the question,
</I>&gt;<i> this could be an issue?
</I>
Hmmm, you do realise though that the client IP cannot even really be
relied upon? For example, large ISPs often have all traffic from that
IP appearing as same client IP. This can often cause problems for
session based mechanisms which use client IP address in some way.

Anyway, it isn't really a problem at all if you are using WSGI, as
that sort of transformation can be done as WSGI middleware, given that
that change is only targeting your application content provider and
not any other phases of Apache.

Graham
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025427.html">[mod_python] mod_python or wsgi
</A></li>
	<LI>Next message: <A HREF="025429.html">[mod_python] mod_python or wsgi
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25428">[ date ]</a>
              <a href="thread.html#25428">[ thread ]</a>
              <a href="subject.html#25428">[ subject ]</a>
              <a href="author.html#25428">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
