<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Execution Order of Handlers &amp; MVC in mod_python
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Execution%20Order%20of%20Handlers%20%26%20MVC%20in%20mod_python&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016926.html">
   <LINK REL="Next"  HREF="016911.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Execution Order of Handlers &amp; MVC in mod_python</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Alexis Marrero-Narv&#225;ez</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Execution%20Order%20of%20Handlers%20%26%20MVC%20in%20mod_python&In-Reply-To="
       TITLE="[mod_python] Execution Order of Handlers &amp; MVC in mod_python">amarrero at mitre.org
       </A><BR>
    <I>Wed Dec  1 20:33:58 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="016926.html">[mod_python] Re: problem installing mod_python-3.1.3 with Python
	2.4
</A></li>
        <LI>Next message: <A HREF="016911.html">[mod_python] Execution Order of Handlers &amp; MVC in mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16907">[ date ]</a>
              <a href="thread.html#16907">[ thread ]</a>
              <a href="subject.html#16907">[ subject ]</a>
              <a href="author.html#16907">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I need enlightenment with this subject. I have the following 
configuration.
	
Alias /python/ &quot;/Users/amarre/Sites/web-app/&quot;
&lt;Directory &quot;/Users/amarre/Sites/web-app/&quot;&gt;
     AddHandler mod_python .py
     PythonHandler hello
     AddHandler mod_python .psp
     PythonHandler mod_python.psp
     PythonDebug On
&lt;/Directory&gt;

In my /Users/amarre/Sites/web-app/ I have two files hello.py and 
hello_a.psp. If I visit the url <A HREF="http://localhost/python/hello_a.psp">http://localhost/python/hello_a.psp</A> I 
display the ouput of hello.py concatenated with the output of 
hello_a.psp. This tells me that one (hello.py) was executed before the 
other one (hello_a.psp).
  I understand that if I define more than one handle they executed in 
the order they are added but, the first handler was added for &quot;.py&quot; 
files and the second one for &quot;.psp&quot;. And that's what is confusing me.

How can I change the configuration to have both files coexist in the 
same directory while executing just the one being addressed by the URL?

The next question is regarding how to implement the MVC pattern. How 
does this two options compare:

Combining mod_python.publisher with PSP templates vs. mod_python 
generic handler and mod_python.psp handler. By the second I mean doing 
all the business logic in the generic handler and using the req object 
as a container of anything that needs to be passed on to the psp. For 
instance:

def handler(req):
	#do all logic
	#now add any data to the req object
	req.name = 'name'
	req.greeting = 'hello'
	return apache.OK

Then in the psp, we can use req.name and req.greeting as we please. To 
be more fancy I could create a Container object that I then put it in 
the request object for later use in the PSP.

One of the disadvantages that I see by implementing by using publisher 
+ psp is that you don't have the great power of doing 
<A HREF="http://example.com/mypsp.psp_">http://example.com/mypsp.psp_</A> (underscore for debbuging).

How does this two options compare and why should I go for one rather 
than the other?

The last question is (related to the first one), how can I configure 
httpd.conf so I could have multiple python scripts in the same 
directory and be able to address them separately. For instance:
/python_scripts/hello.py
/python_script/bye.py

Access each one independently of the other one.

I hope that anyone can understand all this!

Cheers,
/amn


</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016926.html">[mod_python] Re: problem installing mod_python-3.1.3 with Python
	2.4
</A></li>
	<LI>Next message: <A HREF="016911.html">[mod_python] Execution Order of Handlers &amp; MVC in mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16907">[ date ]</a>
              <a href="thread.html#16907">[ thread ]</a>
              <a href="subject.html#16907">[ subject ]</a>
              <a href="author.html#16907">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
