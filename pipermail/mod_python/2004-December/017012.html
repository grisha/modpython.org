<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] With OS X and Python 2.4 - installed but not working
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20With%20OS%20X%20and%20Python%202.4%20-%20installed%20but%20not%20working&In-Reply-To=C70ED904-5498-11D9-9805-000D93AF8AD2%40pengale.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017011.html">
   <LINK REL="Next"  HREF="017014.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] With OS X and Python 2.4 - installed but not working</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20With%20OS%20X%20and%20Python%202.4%20-%20installed%20but%20not%20working&In-Reply-To=C70ED904-5498-11D9-9805-000D93AF8AD2%40pengale.com"
       TITLE="[mod_python] With OS X and Python 2.4 - installed but not working">grahamd at dscpl.com.au
       </A><BR>
    <I>Wed Dec 22 23:40:51 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="017011.html">[mod_python] With OS X and Python 2.4 - installed but not working
</A></li>
        <LI>Next message: <A HREF="017014.html">[mod_python] With OS X and Python 2.4 - installed but not working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17012">[ date ]</a>
              <a href="thread.html#17012">[ thread ]</a>
              <a href="subject.html#17012">[ subject ]</a>
              <a href="author.html#17012">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>For ideas, run something like:

  otool -L /usr/local/apache-2.0/modules/mod_python.so

What does it output for you?

For me it generates:

/usr/local/apache-2.0/modules/mod_python.so:
        /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 71.1.1)
        /System/Library/Frameworks/Python.framework/Versions/2.3/Python (compatibility version 
2.3.0, current version 2.3.0)

But then that is correct in my case as I patched mod_python so it will
work with standard Python 2.3 shipped with Mac OS X, thus avoiding
building Python 2.4 and trying to get it to work. :-)

Then look at the dyld manual page. You might find you have to set the
DYLD_FRAMEWORK_PATH environment variable so that otool/httpd
will look in the correct place for your framework for Python 2.4. It
is probably simply ignoring your new version and still using the old.

BTW, the patches required for mod_python so it will work with Python
2.3 shipped with Mac OS X can be found amongst other patches at:

  <A HREF="http://www.dscpl.com.au/projects/vampire/PATCHES">http://www.dscpl.com.au/projects/vampire/PATCHES</A>



On Dec 22 22:11, Jason Stitt &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">jason at pengale.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Subject: [mod_python] With OS X and Python 2.4 - installed but not working
</I>&gt;<i>
</I>&gt;<i> I am trying to get fresh source builds of Apache 2.0.52, Python 2.4 and 
</I>&gt;<i> Mod Python 3.1.3 -- that is, all the latest stable versions -- working 
</I>&gt;<i> on my Mac (OS X 10.3.7). I'm putting them in a separate directory 
</I>&gt;<i> ~/server (so as not to mess around with the factory-default 
</I>&gt;<i> installations). It's not quite working.
</I>&gt;<i> 
</I>&gt;<i> Apache went in fine. I tried to install Python normally, but it refused 
</I>&gt;<i> to create a libpython for me (which mod_python said it needed), even 
</I>&gt;<i> with the --enable-shared configuration flag. So I made it a framework 
</I>&gt;<i> under ~/server/frameworks. In both cases, the python interpreter itself 
</I>&gt;<i> worked fine.
</I>&gt;<i> 
</I>&gt;<i> Then came mod_python. Once I did the framework install of python, it 
</I>&gt;<i> compiled OK. I gave it a --with-python flag pointing at the executable 
</I>&gt;<i> in my framework install. I have added the LoadModule to my config file, 
</I>&gt;<i> which looks like this:
</I>&gt;<i> 
</I>&gt;<i> LoadModule python_module 
</I>&gt;<i> /Users/jason/server/apache2/modules/mod_python.so
</I>&gt;<i> &lt;Directory /Users/jason/server/apache2/htdocs&gt;
</I>&gt;<i>          AddHandler mod_python .py
</I>&gt;<i>          PythonHandler mod_python.publisher
</I>&gt;<i>          PythonDebug On
</I>&gt;<i> &lt;/Directory&gt;
</I>&gt;<i> 
</I>&gt;<i> The server string reads:
</I>&gt;<i> Apache/2.0.52 (Unix) mod_python/3.1.3 Python/2.3 Server at localhost 
</I>&gt;<i> Port 8000
</I>&gt;<i> 
</I>&gt;<i> Note the odd inclusion of Python/2.3. I checked mod_python's makefile 
</I>&gt;<i> and it references only my shiny new python 2.4 directory.
</I>&gt;<i> 
</I>&gt;<i> Anyway, whenever I try to actually visit a python page, it either 
</I>&gt;<i> hangs/times out, or gives me a 500 internal server error. Nothing is 
</I>&gt;<i> written to the error_log.
</I>&gt;<i> 
</I>&gt;<i> Anyone experienced with this type of build on OS X? Any ideas?
</I>&gt;<i> 
</I>&gt;<i> Thanks much,
</I>&gt;<i> Jason
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> 
</I>
--
Graham Dumpleton (<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">grahamd at dscpl.com.au</A>)
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017011.html">[mod_python] With OS X and Python 2.4 - installed but not working
</A></li>
	<LI>Next message: <A HREF="017014.html">[mod_python] With OS X and Python 2.4 - installed but not working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17012">[ date ]</a>
              <a href="thread.html#17012">[ thread ]</a>
              <a href="subject.html#17012">[ subject ]</a>
              <a href="author.html#17012">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
