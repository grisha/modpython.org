<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Re: problem installing mod_python-3.1.3 with Python
	2.4
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20problem%20installing%20mod_python-3.1.3%20with%20Python%0A%092.4&In-Reply-To=41B4065D.3090302%40sjsoft.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016954.html">
   <LINK REL="Next"  HREF="016936.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Re: problem installing mod_python-3.1.3 with Python
	2.4</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Nicolas Lehuen</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20problem%20installing%20mod_python-3.1.3%20with%20Python%0A%092.4&In-Reply-To=41B4065D.3090302%40sjsoft.com"
       TITLE="[mod_python] Re: problem installing mod_python-3.1.3 with Python
	2.4">nicolas at lehuen.com
       </A><BR>
    <I>Mon Dec  6 03:49:14 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="016954.html">[mod_python] Re: problem installing mod_python-3.1.3 with Python
	2.4
</A></li>
        <LI>Next message: <A HREF="016936.html">[mod_python] Apache caching / reloading / restarting solution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16955">[ date ]</a>
              <a href="thread.html#16955">[ thread ]</a>
              <a href="subject.html#16955">[ subject ]</a>
              <a href="author.html#16955">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> -----Message d'origine-----
</I>&gt;<i> De : David Fraser [mailto:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">davidf at sjsoft.com</A>] 
</I>&gt;<i> Envoy&#233; : lundi 6 d&#233;cembre 2004 08:12
</I>
[...]

&gt;<i> &gt;OK, I've managed to rebuild mod_python.so for Win32 with Python 2.4 
</I>&gt;<i> &gt;support, and it seems to work properly. If you want the 
</I>&gt;<i> binary version, 
</I>&gt;<i> &gt;write me and I'll send it to you. Note that I've tried it on Apache 
</I>&gt;<i> &gt;2.0.52 compiled with VC 7.1 too, so your mileage may vary if 
</I>&gt;<i> you have 
</I>&gt;<i> &gt;the standard build of Apache.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;The problem is that I could not rebuild _psp.pyd, so PSP 
</I>&gt;<i> pages are not 
</I>&gt;<i> &gt;working for now. Until now, I only needed to rebuild mod_python.so 
</I>&gt;<i> &gt;since the patches I wrote were targeting this module, so I've just 
</I>&gt;<i> &gt;noticed that building _psp.pyd is not as straightforward as building 
</I>&gt;<i> &gt;mod_python.so, mainly because there are no project file or 
</I>&gt;<i> setup.py for 
</I>&gt;<i> &gt;this. It seems that the subversion repository misses 
</I>&gt;<i> something there. 
</I>&gt;<i> &gt;Grisha, can you tell us how to rebuild _psp.pyd ?
</I>&gt;<i> &gt;  
</I>&gt;<i> &gt;
</I>&gt;<i> Glad someone has done this. Could you include the details of 
</I>&gt;<i> how you built it?
</I>&gt;<i> 
</I>&gt;<i> You may also want to try the modifications I did to 
</I>&gt;<i> setup.py.in which enables it to build the extensions
</I>&gt;<i> 
</I>&gt;<i> It's in the mailing list archives but I've attached my latest 
</I>&gt;<i> version here in case.
</I>&gt;<i> 
</I>&gt;<i> David
</I>
Well, actually rebuilding mod_python.so using Visual Studio .NET 2003 is
quite easy, you just have to open the .vcproj file which is in the
subversion repository, convert it to a VC 7.1 project, fiddle with the path
setting to point to the Python 2.4 installation and you're done. You get a
bunch of warnings (about 50 warning related to &quot;inconsistent DLL reference&quot;
or something like that) but the final binary is usable. Well, at least the
Python 2.3 version that I've built in the same way is usable since I've been
using it in production for a few months now ; I have just made a few tests
with the Python 2.4 version and it seems OK.

I'll give a try to your setup.py.in modifications since I'd rather find a
way to build a win32 version without using the .vcproj file, which requires
the full Visual Studio .NET 2003 I think... Being able to use the free
Microsoft compiler or MinGW is much more democratic.

Regards,
Nicolas



</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016954.html">[mod_python] Re: problem installing mod_python-3.1.3 with Python
	2.4
</A></li>
	<LI>Next message: <A HREF="016936.html">[mod_python] Apache caching / reloading / restarting solution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16955">[ date ]</a>
              <a href="thread.html#16955">[ thread ]</a>
              <a href="subject.html#16955">[ subject ]</a>
              <a href="author.html#16955">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
