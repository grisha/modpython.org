<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Passing data across handlers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Passing%20data%20across%20handlers&In-Reply-To=39BCE08A.4758A8DC%40caveosystems.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000300.html">
   <LINK REL="Next"  HREF="000303.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Passing data across handlers</H1>
    <B>Gregory Trubetskoy</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Passing%20data%20across%20handlers&In-Reply-To=39BCE08A.4758A8DC%40caveosystems.com"
       TITLE="[mod_python] Passing data across handlers">grisha at modpython.org
       </A><BR>
    <I>Mon Sep 11 14:37:25 EST 2000</I>
    <P><UL>
        <LI>Previous message: <A HREF="000300.html">[mod_python] Passing data across handlers
</A></li>
        <LI>Next message: <A HREF="000303.html">[mod_python] Passing data across handlers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#302">[ date ]</a>
              <a href="thread.html#302">[ thread ]</a>
              <a href="subject.html#302">[ subject ]</a>
              <a href="author.html#302">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 11 Sep 2000, Rich Salz wrote:

&gt;<i> I don't fully understand how mod_python does sub-interpreters; I'll have
</I>&gt;<i> to reread the docs.
</I>
The things you should read are:

The top of
<A HREF="http://www.modpython.org/live/mod_python-2.5/doc/pythonapi.html">http://www.modpython.org/live/mod_python-2.5/doc/pythonapi.html</A>

as well as
<A HREF="http://www.modpython.org/live/mod_python-2.5/doc/directives.html#PythonInterpreter">http://www.modpython.org/live/mod_python-2.5/doc/directives.html#PythonInterpreter</A>
<A HREF="http://www.modpython.org/live/mod_python-2.5/doc/directives.html#PythonInterpPerDirectory">http://www.modpython.org/live/mod_python-2.5/doc/directives.html#PythonInterpPerDirectory</A>
<A HREF="http://www.modpython.org/live/mod_python-2.5/doc/directives.html#PythonInterpPerServer">http://www.modpython.org/live/mod_python-2.5/doc/directives.html#PythonInterpPerServer</A>

&gt;<i> It never occured to me that there could/would be different interps for
</I>&gt;<i> each handler.
</I>
This would happen for example if authentication is handled by an
application entirely different from the one creating content. If your
PyhtonAuthenHandler is in the httpd.conf file and the app is driven by a
PythonHandler in an .htaccess file, you'd have the same request, but
different handlers would have different suninterpreters.

&gt;<i> I suggest that the docs make it more clear that the handlers are
</I>&gt;<i> &quot;stateless&quot;.
</I>
...or make ways to retain state... :-)

Here is a suggestion - if I provided a way to store a pointer to a Python
object in notes - would that solve your problem? You create the object,
then call some function that returns a string that you can store in
notes. Then you can call another function that you pass that string
and it will return the Python object. That way mod_python does not need to
concern itself with the context in which the object is used, and you can
pass the object between handlers.

&gt;<i> For us, the cleanest thing is one interp/request, with no state kept
</I>&gt;<i> across requests.  
</I>
In most cases there would be one interp per request, or you can ensure it
by using the PythonInterpreter directive. For example, sticking something
like &quot;PythonInterpreter MyOnlyInterpreter&quot; into httpd.conf would make the
whole server run under one interpreter.

&gt;<i> That seems most like the &quot;classic&quot; apache processing model.
</I>
Apache was designed with multiple users and multiple applications in mind.
That's why it supports .htaccess files. Mod_python's subinterpreters
extend that notion. You can have two different application with clashing
module names run on the same server with no problems because they could be
run in different subinterpreters. Or you can have two instances of the
same application run in separate subinterpreters. Try that with mod_perl.


Grisha



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000300.html">[mod_python] Passing data across handlers
</A></li>
	<LI>Next message: <A HREF="000303.html">[mod_python] Passing data across handlers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#302">[ date ]</a>
              <a href="thread.html#302">[ thread ]</a>
              <a href="subject.html#302">[ subject ]</a>
              <a href="author.html#302">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
