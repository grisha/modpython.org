<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Status of Mac OS X / Apache 1.3 / mod_python 2.7.10.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Status%20of%20Mac%20OS%20X%20/%20Apache%201.3%20/%20mod_python%202.7.10.&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015977.html">
   <LINK REL="Next"  HREF="015979.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Status of Mac OS X / Apache 1.3 / mod_python 2.7.10.</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Status%20of%20Mac%20OS%20X%20/%20Apache%201.3%20/%20mod_python%202.7.10.&In-Reply-To="
       TITLE="[mod_python] Status of Mac OS X / Apache 1.3 / mod_python 2.7.10.">grahamd at dscpl.com.au
       </A><BR>
    <I>Sat Jul 31 19:13:26 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="015977.html">[mod_python] servlet
</A></li>
        <LI>Next message: <A HREF="015979.html">[mod_python] Status of Mac OS X / Apache 1.3 / mod_python 2.7.10.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15978">[ date ]</a>
              <a href="thread.html#15978">[ thread ]</a>
              <a href="subject.html#15978">[ subject ]</a>
              <a href="author.html#15978">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I wanted to get mod_python working with the standard version of Apache 
(1.3) that
comes with Mac OS 10.3 but before I even tried I noted a number of 
posts in various
places on the net asking how to get it to work since they weren't even 
able to
get it to compile or if they did, the apache process died when 
mod_python was
loaded. In my search, I couldn't find anyone indicating that they had 
solved the
problem. The only positive indication was someone making available a 
prebuilt
version of mod_python but this was for Mac OS 10.1 and it has since 
been removed
from the net.

Actually trying it myself, I fixed the obvious problems with the 
makefiles and build
process but also found that the apache process died. Digging further, I 
found the
underlying problem was that Py_IsInitialized() always returned true, 
even on the
first time it was called from the python_init() function in 
mod_python.c. As such,
the required call to Py_Initialize() never occurred, nor did setup for 
threading.
Because initialisation of the interpreter never occurred, Python 
subsequently died
the first time a Python function was actually called. Adding a separate 
initialisation
flag in python_init() fixed the problem and so far on a simple example 
it is working
okay.

That said, what is the official status of mod_python 2.7.10 on Mac OS X 
with the
version of Apache (1.3) that comes with the OS?

Can post instructions/patch later if there is the interest.


--
Graham Dumpleton (<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">grahamd at dscpl.com.au</A>)

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015977.html">[mod_python] servlet
</A></li>
	<LI>Next message: <A HREF="015979.html">[mod_python] Status of Mac OS X / Apache 1.3 / mod_python 2.7.10.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15978">[ date ]</a>
              <a href="thread.html#15978">[ thread ]</a>
              <a href="subject.html#15978">[ subject ]</a>
              <a href="author.html#15978">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
