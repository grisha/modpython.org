<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] query_vars and form_vars
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20query_vars%20and%20form_vars&In-Reply-To=40EA06F1.3060401%40joreybump.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015907.html">
   <LINK REL="Next"  HREF="015883.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] query_vars and form_vars</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Gregory (Grisha) Trubetskoy</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20query_vars%20and%20form_vars&In-Reply-To=40EA06F1.3060401%40joreybump.com"
       TITLE="[mod_python] query_vars and form_vars">grisha at modpython.org
       </A><BR>
    <I>Tue Jul  6 11:43:04 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="015907.html">[mod_python] query_vars and form_vars
</A></li>
        <LI>Next message: <A HREF="015883.html">[mod_python] query_vars and form_vars
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15879">[ date ]</a>
              <a href="thread.html#15879">[ thread ]</a>
              <a href="subject.html#15879">[ subject ]</a>
              <a href="author.html#15879">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
This behaviour is part of mod_python.util.FieldStorage class, which is a 
little convenience tool. Protocol compliance is of little or no relevance 
here, since you're free not to use it and process input data using your 
own code or, for example using Python standard library FieldStorage.

Also, if I remember it correctly, most relevant RFC's tend to focus on the 
behaviour of the browser (e.g. the user should be warned before a POST if 
you hit reload, but not for GET), and there is nothing there about how the 
form variables should appear to an application.

As to why it processes GET and POST together and GET wins - that's a 
matter of personal preference. I find it convenient to be able to override 
variables in a form by appending them to the URL, and I think most 
user-friendly applications should behave this way, because IMHO ability to 
tinker with the URL is a good thing.

Some people believe that this should not be allowed because it enables a 
user to alter hidden POST variables, which would otherwise be difficult, 
but this seems to me like a silly argument. There are much more certain 
ways of ensuring that hidden variables have not been modified, e.g. an MD5 
or SHA signature passed along.

Grisha


On Mon, 5 Jul 2004, Jorey Bump wrote:

&gt;<i> mod_python user wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hi all,
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I'm new to python and consequently mod_python but have discovered the 
</I>&gt;&gt;<i> servlet&quot; package, and actually have a small templated webapp up and 
</I>&gt;&gt;<i> running.  Extremely powerful language.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I would like to be able to retrieve both _form_ and _query_ variables, 
</I>&gt;&gt;<i> even if they share the same name. e.g.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i>   &lt;form method='post' action='/?name=NAME_ONE'&gt;
</I>&gt;&gt;<i>     &lt;input type='hidden' name='name' value='NAME_TWO' /&gt;
</I>&gt;&gt;<i>     &lt;input type='submit' /&gt;
</I>&gt;&gt;<i>   &lt;/form&gt;
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> It seems that when both a GET and POST variable share the same name that 
</I>&gt;&gt;<i> the GET (query) variable always wins.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Does anybody know how this might be accomplished?
</I>&gt;<i>
</I>&gt;<i> I don't know about servlets, but mod_publisher returns a list:
</I>&gt;<i>
</I>&gt;<i> ['NAME_ONE', 'NAME_TWO']
</I>&gt;<i>
</I>&gt;<i> I don't know what causes this behaviour. Since only a POST request is sent, 
</I>&gt;<i> not a GET, I would expect any arguments in the URL to be ignored and only 
</I>&gt;<i> variables in the message body to be recognized.
</I>&gt;<i>
</I>&gt;<i> I'd find out if this follows some kind of standard before relying on the 
</I>&gt;<i> order the values appear in a list. It could be arbitrary or undocumented (and 
</I>&gt;<i> therefore unpredictable).
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I></PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015907.html">[mod_python] query_vars and form_vars
</A></li>
	<LI>Next message: <A HREF="015883.html">[mod_python] query_vars and form_vars
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15879">[ date ]</a>
              <a href="thread.html#15879">[ thread ]</a>
              <a href="subject.html#15879">[ subject ]</a>
              <a href="author.html#15879">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
