<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Crash on getting request's allowed_xmethods an boundary
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Crash%20on%20getting%20request%27s%20allowed_xmethods%20an%20boundary&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015948.html">
   <LINK REL="Next"  HREF="015949.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Crash on getting request's allowed_xmethods an boundary</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Daniele Varrazzo</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Crash%20on%20getting%20request%27s%20allowed_xmethods%20an%20boundary&In-Reply-To="
       TITLE="[mod_python] Crash on getting request's allowed_xmethods an boundary">dvarrazzo at virgilio.it
       </A><BR>
    <I>Mon Jul 19 21:03:54 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="015948.html">[mod_python] importing home made modules
</A></li>
        <LI>Next message: <A HREF="015949.html">[mod_python] trouble instaling mod_python over apache 1.3.31
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15946">[ date ]</a>
              <a href="thread.html#15946">[ thread ]</a>
              <a href="subject.html#15946">[ subject ]</a>
              <a href="author.html#15946">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi everybody,

i'm experiencing crashing of the apache process when a mod_python handler
access the properties &quot;boundary&quot; and &quot;allowed_xmethods&quot; of the request
argument. This prevents the use of some interactive remote debuggers (such
ActiveState's) that try to read the contents of the variables in the
namespace and graphically present them in tree form.

I reported the crash on win32 platform. I am using python 2.3.4, apache
2.0.47, mod_python 3.1.3.

To show the bug here is a simple handler. It publishes the content of the
req object. Clicking on the url, the property is read and published.
Clicking on one of &quot;allowed_xmethods&quot; or &quot;boundary&quot; crashes apache. Actually
a plain read such as &quot;x = req.boundary&quot; is enough to crash.

from mod_python import apache

def handler(req):
    req.write(&quot;&lt;html&gt;&lt;body&gt;&quot;)
    if req.args is None:
        for k in dir(req):
            req.write(&quot;&lt;a href=%s?attr=%s&gt;request.%s&lt;/a&gt;&lt;br/&gt;&quot;
                      % (req.uri, k, k))
    else:
        attr = dict([ t.split('=') for t in req.args.split('&amp;') ])['attr']
        req.write(str(getattr(req, attr)))

    req.write(&quot;&lt;/body&gt;&lt;/html&gt;&quot;)
    return apache.OK

I published the script through:

&lt;Directory &quot;C:/httproot/test&quot;&gt;
  AddHandler python-program .py
  PythonHandler mptest
  PythonDebug On
  PythonPath &quot;['C:/httproot/test']+sys.path&quot;
&lt;/Directory&gt;

Daniele

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015948.html">[mod_python] importing home made modules
</A></li>
	<LI>Next message: <A HREF="015949.html">[mod_python] trouble instaling mod_python over apache 1.3.31
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15946">[ date ]</a>
              <a href="thread.html#15946">[ thread ]</a>
              <a href="subject.html#15946">[ subject ]</a>
              <a href="author.html#15946">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
