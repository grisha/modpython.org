<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] RE: Apache on Windows and concurrency
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20RE%3A%20Apache%20on%20Windows%20and%20concurrency&In-Reply-To=200407061601.i66G1jIG028347%40modpython.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015886.html">
   <LINK REL="Next"  HREF="015885.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] RE: Apache on Windows and concurrency</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Iain Mackay</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20RE%3A%20Apache%20on%20Windows%20and%20concurrency&In-Reply-To=200407061601.i66G1jIG028347%40modpython.org"
       TITLE="[mod_python] RE: Apache on Windows and concurrency">imm at iain-mackay.org
       </A><BR>
    <I>Tue Jul  6 20:00:36 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="015886.html">[mod_python] script gives 404 error...
</A></li>
        <LI>Next message: <A HREF="015885.html">[mod_python] RE: Apache on Windows and concurrency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15884">[ date ]</a>
              <a href="thread.html#15884">[ thread ]</a>
              <a href="subject.html#15884">[ subject ]</a>
              <a href="author.html#15884">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all
I'm finding mod_python to be a very powerful tool. I have an application in
mind that is rather similar to some work I noticed in this list the other
day, i.e. using mod_python to provide sophisticated authentication for
WebDAV access to a repository.
One issue that has troubled me today is that it seems the observation that
one process=one interpreter, and therefore database connections (or other
data) may be shared in global variables, does not work for a default Apache
Windows configuration.
I may have missed something in the documentation but it seems essential that
Apache should have ThreadsPerChild=1, or you find multiple instances of your
handlers running concurrently, creating havoc with your shared updateable
variables.
I found a discussion of this problem on the web a few years back, but
nothing relating to current Apache and mod_python.
I don't think there is a way to, perhaps, query the server configuration to
at least detect a multi-threaded context.
I'm a little surprised that the Python interpreter itself doesn't suffer
catastrophic failures if it is called by Apache from multiple threads. So
maybe mod_python is ensuring there is one Python thread per process thread?
And if so, is there any way an application can interact with that, and maybe
have threads of its own to synchronize access to global resources?
Thanks for your consideration of these remarks
Iain



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015886.html">[mod_python] script gives 404 error...
</A></li>
	<LI>Next message: <A HREF="015885.html">[mod_python] RE: Apache on Windows and concurrency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15884">[ date ]</a>
              <a href="thread.html#15884">[ thread ]</a>
              <a href="subject.html#15884">[ subject ]</a>
              <a href="author.html#15884">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
