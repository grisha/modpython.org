<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Multiple interpreter instances?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Multiple%20interpreter%20instances%3F&In-Reply-To=20040715210524.GB31943%40debian.mki-btc.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015941.html">
   <LINK REL="Next"  HREF="015940.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Multiple interpreter instances?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Stefan Hudac</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Multiple%20interpreter%20instances%3F&In-Reply-To=20040715210524.GB31943%40debian.mki-btc.com"
       TITLE="[mod_python] Multiple interpreter instances?">stevohudac at yahoo.com
       </A><BR>
    <I>Thu Jul 15 20:54:53 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="015941.html">[mod_python] Multiple interpreter instances?
</A></li>
        <LI>Next message: <A HREF="015940.html">[mod_python] python_cleanup/bsddb error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15944">[ date ]</a>
              <a href="thread.html#15944">[ thread ]</a>
              <a href="subject.html#15944">[ subject ]</a>
              <a href="author.html#15944">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Volodya

You are right but just partially. Apache 2.xx really introduced threaded 
model, but just as an addition to its forked model. In real life Apache 
still creates couple of forks which then run couple of threads. So to 
get to my original question, memory is shared among mod_python instances 
on one fork, but not in between forks. :-( Still doesn't solve my problem.

Thank you all guys to confirm what I suspected.

stefan

Volodya wrote:

&gt;<i> On Thu, Jul 15, 2004 at 01:19:27PM -0500, Johnathan Gurley wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i>Correct me if I'm wrong, but fork copies the parent process's memory
</I>&gt;&gt;<i>into the child process's memory, but the child has its own unique
</I>&gt;&gt;<i>stack and heap.  This would make it very difficult to share Python
</I>&gt;&gt;<i>memory between Apache instances, as the Apache instances themselves
</I>&gt;&gt;<i>have separate memory space.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Apache 2 introduced threaded model. Threads share process's memory.
</I>&gt;<i> With Mod_python 3.x and Apache 2.x you can share  global variables per
</I>&gt;<i> Apache's virtual server for example. And it seems threads work fine on
</I>&gt;<i> Linux, Windows and FreeBSD 5.x (but not FreeBSD 4.x).
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015941.html">[mod_python] Multiple interpreter instances?
</A></li>
	<LI>Next message: <A HREF="015940.html">[mod_python] python_cleanup/bsddb error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15944">[ date ]</a>
              <a href="thread.html#15944">[ thread ]</a>
              <a href="subject.html#15944">[ subject ]</a>
              <a href="author.html#15944">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
