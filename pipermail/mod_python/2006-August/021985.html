<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] errors in default mod_python docs for 3.2.10 publisher
	setup
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20errors%20in%20default%20mod_python%20docs%20for%203.2.10%20publisher%0A%09setup&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021971.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] errors in default mod_python docs for 3.2.10 publisher
	setup</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Blair P. Houghton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20errors%20in%20default%20mod_python%20docs%20for%203.2.10%20publisher%0A%09setup&In-Reply-To="
       TITLE="[mod_python] errors in default mod_python docs for 3.2.10 publisher
	setup">blair at houghton.net
       </A><BR>
    <I>Thu Aug 31 22:01:48 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021971.html">[mod_python] Python 2.5
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21985">[ date ]</a>
              <a href="thread.html#21985">[ thread ]</a>
              <a href="subject.html#21985">[ subject ]</a>
              <a href="author.html#21985">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I happened to get frustrated enough to plug the right magic
into the right search box (the one at <A HREF="http://modpython.org/,">http://modpython.org/,</A>
as Google wasn't helping) and found the answer to the reason
that /my/ publisher setup wasn't finding my scripts.  The answer
is that the setup I was following from the 3.2.10 doc tree is
incomplete, and doesn't say that the URI for a publisher-mediated
script has to include the name of the method being invoked.

I.e., this document is inadequate:

<A HREF="http://www.modpython.org/live/mod_python-3.2.10/doc-html/tut-pub.html">http://www.modpython.org/live/mod_python-3.2.10/doc-html/tut-pub.html</A>

the three .conf lines are correct, but the description omits the
correct URI formula.  Just browsing to <A HREF="http://domain/path/script">http://domain/path/script</A>
or <A HREF="http://domain/path/script.py">http://domain/path/script.py</A> gets a 404 error, while
<A HREF="http://domain/path/script.py/handler">http://domain/path/script.py/handler</A> works fine.  Note that the
'.py' suffix must be included also.

This document has a different .conf, but does give
the correct instructions for the URI:

<A HREF="http://www.modpython.org/live/current/doc-html/hand-pub-intro.html">http://www.modpython.org/live/current/doc-html/hand-pub-intro.html</A>

Okay.  For grins I just tried the second .conf setup, and
now it works with or without the '.py' suffix, but the
handler name is still required.*

I have not tested any PATH environment-variable 
variations.  I do know that I have one installation 
(the XAMPP bundle on Win XP) that does not need any 
explicit Python elements in the PATH at all.  How that 
works I don't know.  But this one (the 
DeveloperSide.net bundle, with mod_python added on 
afterward...I forget whose mod_python build it was, I'm 
pretty sure I got it from a modpython.org mirror).

I believe that the document from the live/current tree 
should be moved to the document in the live/mod_python-
3.2.10 tree ASAP so that people won't be caught by this 
any more.  I'd do it myself but I'm not even sure that 
this email will get through so I'm not quite up to 
speed on monkeying around the project files, nor even 
if they're modifiable by mod_python newbs.  Another of 
the pleasures of open source.

--Blair

* - here are the significant lines from the working .conf:

  LoadModule python_module modules/mod_python.so

  &amp;lt;Directory /www/webroot&gt;
    SetHandler mod_python 
    PythonHandler mod_python.publisher
  &amp;lt;/Directory&gt;

The path &quot;modules/mod_python.so&quot; is
relative to the Apache install directory; in this case
the full path is C:/www/Apache22/modules/mod_python.so&quot;.
&quot;/www/webroot&quot; is the base of my served-file tree, so it
could have been just &quot;/&quot; or the Directory lines could
be omitted entirely and the behavior is the same on my
system.  The working URI is &quot;<A HREF="http://localhost/script/handler&quot;.">http://localhost/script/handler&quot;.</A>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021971.html">[mod_python] Python 2.5
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21985">[ date ]</a>
              <a href="thread.html#21985">[ thread ]</a>
              <a href="subject.html#21985">[ subject ]</a>
              <a href="author.html#21985">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
