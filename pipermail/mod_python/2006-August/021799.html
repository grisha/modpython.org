<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] sys.path
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20sys.path&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021798.html">
   <LINK REL="Next"  HREF="021807.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] sys.path</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20sys.path&In-Reply-To="
       TITLE="[mod_python] sys.path">grahamd at dscpl.com.au
       </A><BR>
    <I>Thu Aug 10 18:41:38 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021798.html">[mod_python] Shared global variables among apache children?
</A></li>
        <LI>Next message: <A HREF="021807.html">[mod_python] sys.path
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21799">[ date ]</a>
              <a href="thread.html#21799">[ thread ]</a>
              <a href="subject.html#21799">[ subject ]</a>
              <a href="author.html#21799">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>luby liao wrote ..
&gt;<i> After I installed mod_python and tested it, it did not work.  I got a
</I>&gt;<i> 'Internal Server' error.  The cause was that sys.path was incorrect.  I
</I>&gt;<i> used
</I>&gt;<i> /usr/local/bin/python2.3 to build, but sys.path did not include
</I>&gt;<i> /usr/local/lib/python2.3..., instead, it included sub-directories of
</I>&gt;<i> /usr/lib/python2.3.  This problem is easily fixed by setting up soft links.
</I>&gt;<i> But I am curious as to how the build process determines the sys.path. 
</I>
By some strange magic that I don't even fully understand.

In short, when Python is initialised by mod_python at run time, Python does
various checks to try and work out where everything is installed and from
that setup sys.path. One of the prime ways it uses to determine this is to
look at which 'python' executable is found in the PATH of the user which
Apache is executed as. If it can't find one, it possibly falls back to some
standard defaults (not sure).

End result is that it appears that the PATH of the user that Apache runs as
does not include '/usr/local/bin' towards the head and thus doesn't find the
version of Python you actually used to build mod_python. Thus, add that
bin directory to the start of PATH for user Apache runs as or in the Apache
startup scripts, whatever may be appropriate for your platform.


Graham
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021798.html">[mod_python] Shared global variables among apache children?
</A></li>
	<LI>Next message: <A HREF="021807.html">[mod_python] sys.path
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21799">[ date ]</a>
              <a href="thread.html#21799">[ thread ]</a>
              <a href="subject.html#21799">[ subject ]</a>
              <a href="author.html#21799">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
