<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Server Side Printing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Server%20Side%20Printing&In-Reply-To=75E2CF5B-33F5-4E27-A903-389852DF250F%40dscpl.com.au">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021819.html">
   <LINK REL="Next"  HREF="021821.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Server Side Printing</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>S.R.Pard&#225;</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Server%20Side%20Printing&In-Reply-To=75E2CF5B-33F5-4E27-A903-389852DF250F%40dscpl.com.au"
       TITLE="[mod_python] Server Side Printing">linux at qbox.es
       </A><BR>
    <I>Sat Aug 12 08:29:29 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021819.html">[mod_python] Server Side Printing
</A></li>
        <LI>Next message: <A HREF="021821.html">[mod_python] Server Side Printing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21820">[ date ]</a>
              <a href="thread.html#21820">[ thread ]</a>
              <a href="subject.html#21820">[ subject ]</a>
              <a href="author.html#21820">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ok, 

Thank You Very Much, Graham.

That looks a way to the solution. 

You understand me, and like you pointed, the idea is to print content on
the fly.

And now you will understand I want to use HTML because at this moment I
would prefer not to get inside on another Page Description language to
generate the documents. 
I know HTML itsn't WYSIWYG but in a Server Side printing environment I
can have it controled, and I can change later to another document format
if needed with more time to develop it. So I will try html2ps first
before pdf2ps.

I will investigate further. 
I wonder if mod_python can get the own page as the onthefly source after
send the request. 
Or if the file can be something like:
&quot;<A HREF="http://server/printableBill.psp?num=0248;&quot;">http://server/printableBill.psp?num=0248;&quot;</A>


Thank You again.

	S.R.Parda

El s&#225;b, 12-08-2006 a las 21:47 +1000, Graham Dumpleton escribi&#243;:
&gt;<i> On 12/08/2006, at 9:39 PM, Graham Dumpleton wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; Please keep discussion on the mailing list. I have forwarded your
</I>&gt;<i> &gt; response back there.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On 12/08/2006, at 9:18 PM, S.R.Pard&#225; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; Ok, I will try to explain it better.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I have now in the server a PDF (or HTML) that I can open with eVince.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; How I send that document to a network printer from ModPython's
</I>&gt;<i> &gt;&gt; interpreted code when client user press PRINT button in one page.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; So server receive a HTTP request for:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; 	<A HREF="http://server/printBill.psp?doc=bill0248.pdf">http://server/printBill.psp?doc=bill0248.pdf</A>
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; So I want to code a printBill.psp page that prints like:
</I>&gt;<i> &gt;&gt; &lt;%
</I>&gt;<i> &gt;&gt; PrinterName = &quot;HP-4100&quot;		#Thats the name of the printer for bills
</I>&gt;<i> &gt;&gt; DocumentToPrint = form('doc')   #The Document the user want to print
</I>&gt;<i> &gt;&gt; SendToPrint (PrinterName, DocumentToPrint)
</I>&gt;<i> &gt;&gt; %&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Now , how I code SendToPrint.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Do I need to use some library ?
</I>&gt;<i> &gt;&gt; Can I execute evince from shell indicating some parameter to print  
</I>&gt;<i> &gt;&gt; on a
</I>&gt;<i> &gt;&gt; specified printer?
</I>&gt;<i> 
</I>&gt;<i> If the PDF were a file stored in the file system, in UNIX the command
</I>&gt;<i> to print it would be:
</I>&gt;<i> 
</I>&gt;<i>    pdf2ps somefile.pdf | lp -s -d HP-4100
</I>&gt;<i> 
</I>&gt;<i> In other words, convert to postscript and use 'lp' to spool to desired
</I>&gt;<i> printer. The '-s' option (may depend on platform), just tells lp to not
</I>&gt;<i> output status string about job number it was queued at.
</I>&gt;<i> 
</I>&gt;<i> This command could be invoked from Python using 'os.system()'.
</I>&gt;<i> Alternatively, if PDF content generated by Python code on the fly,
</I>&gt;<i> the you might want to use the 'popen2' module to create the command
</I>&gt;<i> as a pipe you can send data into in which case the command would
</I>&gt;<i> just be:
</I>&gt;<i> 
</I>&gt;<i>    pdf2ps | lp -s -d HP-4100
</I>&gt;<i> 
</I>&gt;<i> If you can't find pdf2ps, then get a copy of 'ghostscript' package for
</I>&gt;<i> your system and install that.
</I>&gt;<i> 
</I>&gt;<i> Graham
</I>&gt;<i> 
</I>&gt;<i> &gt;&gt; The principal problem is not be able to print from client if we can't
</I>&gt;<i> &gt;&gt; select the printer from the server , because user can't select every
</I>&gt;<i> &gt;&gt; time a printer for every kind of document he prints.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; El s&#225;b, 12-08-2006 a las 20:24 +1000, Graham Dumpleton escribi&#243;:
</I>&gt;<i> &gt;&gt;&gt; On 12/08/2006, at 7:22 PM, S.R.Pard&#225; wrote:
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; Hi all,
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; I'm considering solutions to print HTML pages served by some  
</I>&gt;<i> &gt;&gt;&gt;&gt; Linux OS
</I>&gt;<i> &gt;&gt;&gt;&gt; with Apache and  Mod_Python.
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; I am looking a server side approach, that is: I want the server
</I>&gt;<i> &gt;&gt;&gt;&gt; send the
</I>&gt;<i> &gt;&gt;&gt;&gt; HTML output when required to one of varios network printers
</I>&gt;<i> &gt;&gt;&gt;&gt; installed in
</I>&gt;<i> &gt;&gt;&gt;&gt; the server.
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; I have not idea about linux printing , I would need an orientation
</I>&gt;<i> &gt;&gt;&gt;&gt; about
</I>&gt;<i> &gt;&gt;&gt;&gt; what have to know.
</I>&gt;<i> &gt;&gt;&gt;&gt; Are any python module for printing?
</I>&gt;<i> &gt;&gt;&gt;&gt; Must I execute some shell command to print inside python?
</I>&gt;<i> &gt;&gt;&gt;&gt; Must I generate a PostScript document from the HTML document to  
</I>&gt;<i> &gt;&gt;&gt;&gt; print
</I>&gt;<i> &gt;&gt;&gt;&gt; it ?
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; More details:
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; Web Clients (Windows probably) will print some documents  
</I>&gt;<i> &gt;&gt;&gt;&gt; received. But
</I>&gt;<i> &gt;&gt;&gt;&gt; the documents have diferent formats (size, orientation, duplex  
</I>&gt;<i> &gt;&gt;&gt;&gt; option)
</I>&gt;<i> &gt;&gt;&gt;&gt; so it's desiderable the automatic printer/configuration selection
</I>&gt;<i> &gt;&gt;&gt;&gt; ( that
</I>&gt;<i> &gt;&gt;&gt;&gt; is: witout a printer selection dialog in IE or Firefox and the  
</I>&gt;<i> &gt;&gt;&gt;&gt; default
</I>&gt;<i> &gt;&gt;&gt;&gt; printer isn't valid for all documents)
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; As I found in client window Javascript it's not capable of select
</I>&gt;<i> &gt;&gt;&gt;&gt; printers in client side, I have to investigate with VBscript, and
</I>&gt;<i> &gt;&gt;&gt;&gt; another possibility would be install an ActiveX control to do that
</I>&gt;<i> &gt;&gt;&gt;&gt; (restricting possible client options).
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; So I think the server approach, would be better because it  
</I>&gt;<i> &gt;&gt;&gt;&gt; eliminates
</I>&gt;<i> &gt;&gt;&gt;&gt; printer management in client, and assures the same HTML render
</I>&gt;<i> &gt;&gt;&gt;&gt; configuration for all printings, independent of client  
</I>&gt;<i> &gt;&gt;&gt;&gt; configuration /
</I>&gt;<i> &gt;&gt;&gt;&gt; browser.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Not sure I really understand what you are trying to do, but if your
</I>&gt;<i> &gt;&gt;&gt; target
</I>&gt;<i> &gt;&gt;&gt; is a printer, not sure why you would want to try and render to HTML
</I>&gt;<i> &gt;&gt;&gt; and then print that. Your better option would be target PDF as your
</I>&gt;<i> &gt;&gt;&gt; display format and then print the PDF file.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Suggest you have a look at the following sites:
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;    <A HREF="http://www.openreport.org">http://www.openreport.org</A>
</I>&gt;<i> &gt;&gt;&gt;    <A HREF="http://www.reportlab.org">http://www.reportlab.org</A>
</I>&gt;<i> &gt;&gt;&gt;    <A HREF="http://www.reportlab.com">http://www.reportlab.com</A>
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; With these solutions, one option is to describe documents as RML.  
</I>&gt;<i> &gt;&gt;&gt; This
</I>&gt;<i> &gt;&gt;&gt; can be filled out with data from some source and then translated  
</I>&gt;<i> &gt;&gt;&gt; into
</I>&gt;<i> &gt;&gt;&gt; PDF
</I>&gt;<i> &gt;&gt;&gt; or HTML. Thus HTML becomes a screen representation but PDF what
</I>&gt;<i> &gt;&gt;&gt; is used for printing.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; If you already have the document generation side worked out, and are
</I>&gt;<i> &gt;&gt;&gt; only really after solution for printing, not sure how Apache and
</I>&gt;<i> &gt;&gt;&gt; mod_python
</I>&gt;<i> &gt;&gt;&gt; comes in to it all.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Anyway, hope the sites I reference might be of some help.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Graham
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mod_python mailing list
</I>&gt;<i> &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> 
</I>
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021819.html">[mod_python] Server Side Printing
</A></li>
	<LI>Next message: <A HREF="021821.html">[mod_python] Server Side Printing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21820">[ date ]</a>
              <a href="thread.html#21820">[ thread ]</a>
              <a href="subject.html#21820">[ subject ]</a>
              <a href="author.html#21820">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
