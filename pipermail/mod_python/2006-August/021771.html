<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Re: \[mod_python\] In ubuntu 6\.06\!
	make_obcallback\(\): could not import mod_python\.apache
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20%5C%5Bmod_python%5C%5D%20In%20ubuntu%206%5C.06%5C%21%0A%09make_obcallback%5C%28%5C%29%3A%20could%20not%20import%20mod_python%5C.apache&In-Reply-To=44d9baae.39c8e69f.127f.ffffda62%40mx.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021770.html">
   <LINK REL="Next"  HREF="021772.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Re: \[mod_python\] In ubuntu 6\.06\!
	make_obcallback\(\): could not import mod_python\.apache</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20%5C%5Bmod_python%5C%5D%20In%20ubuntu%206%5C.06%5C%21%0A%09make_obcallback%5C%28%5C%29%3A%20could%20not%20import%20mod_python%5C.apache&In-Reply-To=44d9baae.39c8e69f.127f.ffffda62%40mx.gmail.com"
       TITLE="[mod_python] Re: \[mod_python\] In ubuntu 6\.06\!
	make_obcallback\(\): could not import mod_python\.apache">grahamd at dscpl.com.au
       </A><BR>
    <I>Wed Aug  9 06:46:52 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021770.html">[mod_python] get_options() in apache module
</A></li>
        <LI>Next message: <A HREF="021772.html">[mod_python] Re: \\[mod_python\\] In ubuntu 6\\.06\\!
	make_obcallback\\(\\): could not import mod_python\\.apache
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21771">[ date ]</a>
              <a href="thread.html#21771">[ thread ]</a>
              <a href="subject.html#21771">[ subject ]</a>
              <a href="author.html#21771">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Looks like your Python 2.4 installation has been stuffed up, or you have
Python 2.4.1a0 installed somewhere else on your box as well and that
is what is being found. One possibility is that Python 2.4 package is  
split
into main and dev and you have main from Python 2.4.3 but dev from the
older Python 2.4.1a0 and that is stuffing things up.

Graham

On 09/08/2006, at 8:36 PM, yeqiwei wrote:

&gt;<i> Thanks!
</I>&gt;<i> In my os,the /usr/bin/python is linking to /usr/bin/python2.4.
</I>&gt;<i>
</I>&gt;<i> I solved this problem by replacing libapache-mod-python2.4 with  
</I>&gt;<i> libapache-mod-python2.3,
</I>&gt;<i> And using python2.3 instead of python2.4
</I>&gt;<i>
</I>&gt;<i> the python2.4 version in ubuntu is python 2.4.3,
</I>&gt;<i> in apache log, I find that &quot;mod_python/2.7.10 Python/2.4.1a0&quot;
</I>&gt;<i> does this matter? 2.4.1a0 or  2.4.3
</I>&gt;<i>
</I>&gt;&gt;<i> These problems are always hard to debug when using mod_python 2.7.X.
</I>&gt;&gt;<i> Some extra debug was added in mod_python 3.2.10 to make it easier to
</I>&gt;&gt;<i> work out, but that requires Apache 2.0/2.2 and you can't use  
</I>&gt;&gt;<i> Apache 1.3.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Anyway, all I can think of is that the user that Apache runs as is
</I>&gt;&gt;<i> finding a
</I>&gt;&gt;<i> different version of the python executable on its PATH or it is
</I>&gt;&gt;<i> getting confused
</I>&gt;&gt;<i> by you having multiple versions installed. Do you have any other
</I>&gt;&gt;<i> versions
</I>&gt;&gt;<i> of Python installed, such as in /usr/local/bin, even perhaps a
</I>&gt;&gt;<i> symlink there
</I>&gt;&gt;<i> pointing to python2.3.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Any chance of upgrading to Apache 2.2 and mod_python 3.2.10?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Graham
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On 08/08/2006, at 5:24 PM, yeqiwei wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> My os is Ubuntu 6.06.
</I>&gt;&gt;&gt;<i> Apache is 1.3.34
</I>&gt;&gt;&gt;<i> mod_python is 2.7.10
</I>&gt;&gt;&gt;<i> python 2.4.1a0
</I>&gt;&gt;&gt;<i> I install these software using the apt-get install command.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> apache documentroot is /var/www. And I make a dir test.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> in http.conf, I write this:
</I>&gt;&gt;&gt;<i> &lt;Directory /var/www/test&gt;
</I>&gt;&gt;&gt;<i> 		AddHandler python-program  .py
</I>&gt;&gt;&gt;<i> 		PythonHandler mptest
</I>&gt;&gt;&gt;<i>         PYtohnDebug On
</I>&gt;&gt;&gt;<i> &lt;/Directory&gt;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> and in the modules.conf
</I>&gt;&gt;&gt;<i> LoadModule  python_module /usr/lib/apache/1.3/mod_python
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> in /var/www/test, I put a mptest.py file the content is
</I>&gt;&gt;&gt;<i> from mod_python import apache
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> def handler(req):
</I>&gt;&gt;&gt;<i>     req.send_http_header()
</I>&gt;&gt;&gt;<i>     req.write(&quot;Hello World!&quot;)
</I>&gt;&gt;&gt;<i>     return apache.OK
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> when I point to <A HREF="http://127.0.0.l/test/mptest.py,">http://127.0.0.l/test/mptest.py,</A>  get the 500
</I>&gt;&gt;&gt;<i> Internal Server Error
</I>&gt;&gt;&gt;<i> And I check the apache error.log,fount that
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> make_obcallback():could not import mod_python.apache
</I>&gt;&gt;&gt;<i> make_obcallback():could not call init
</I>&gt;&gt;&gt;<i> ........python_handler: make_obcallback returned no obCallBack!
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I have install python2.3 and python 2.4,but the /usr/bin/python is
</I>&gt;&gt;&gt;<i> linked to
</I>&gt;&gt;&gt;<i> the /usr/bin/python2.4.
</I>&gt;&gt;&gt;<i> And I run mptest.py in shell, the error information is that:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Traceback (most recent call last)
</I>&gt;&gt;&gt;<i>  File &quot;/var/www/test/mptest.py&quot;,line 1, in ?
</I>&gt;&gt;&gt;<i>    from mod_python import apache
</I>&gt;&gt;&gt;<i>  File &quot;/usr/lib/python2.4/site-packages/mod_python/apache.py&quot;,line
</I>&gt;&gt;&gt;<i> 55 in ?
</I>&gt;&gt;&gt;<i>    import _apache
</I>&gt;&gt;&gt;<i> ImportError: No module named _apache
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> How can I solve this problem?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> Mod_python mailing list
</I>&gt;&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;&gt;<i>
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021770.html">[mod_python] get_options() in apache module
</A></li>
	<LI>Next message: <A HREF="021772.html">[mod_python] Re: \\[mod_python\\] In ubuntu 6\\.06\\!
	make_obcallback\\(\\): could not import mod_python\\.apache
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21771">[ date ]</a>
              <a href="thread.html#21771">[ thread ]</a>
              <a href="subject.html#21771">[ subject ]</a>
              <a href="author.html#21771">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
