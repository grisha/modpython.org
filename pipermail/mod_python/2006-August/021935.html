<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Object persistence?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Object%20persistence%3F&In-Reply-To=op.teuchqvu9etm87%40avari254.mt.ltu.se">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021924.html">
   <LINK REL="Next"  HREF="021937.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Object persistence?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Object%20persistence%3F&In-Reply-To=op.teuchqvu9etm87%40avari254.mt.ltu.se"
       TITLE="[mod_python] Object persistence?">grahamd at dscpl.com.au
       </A><BR>
    <I>Fri Aug 25 23:36:14 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021924.html">[mod_python] Object persistence?
</A></li>
        <LI>Next message: <A HREF="021937.html">[mod_python] Object persistence?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21935">[ date ]</a>
              <a href="thread.html#21935">[ thread ]</a>
              <a href="subject.html#21935">[ subject ]</a>
              <a href="author.html#21935">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 25/08/2006, at 11:16 PM, Fredrik Sandin wrote:

&gt;<i>
</I>&gt;<i> Hello!
</I>&gt;<i>
</I>&gt;<i> I am new to mod_python and could need some advice. I want to create an
</I>&gt;<i> online GUI with mod_python for an existing application written in  
</I>&gt;<i> Python.
</I>&gt;<i>
</I>&gt;<i> The Python application organizes distributed computations and  
</I>&gt;<i> therefore
</I>&gt;<i> maintains network connections to a number of computers. Users post  
</I>&gt;<i> jobs,
</I>&gt;<i> which are sent somewhere for execution and then the result is sent  
</I>&gt;<i> back
</I>&gt;<i> by a callback function. Illustration of principle:
</I>&gt;<i>
</I>&gt;<i> class MyComputerCluster:
</I>&gt;<i> 	def __init__(self, callback):
</I>&gt;<i> 		self.callback = callback
</I>&gt;<i> 		...
</I>&gt;<i> 	def post_job(self, description):
</I>&gt;<i> 		...
</I>&gt;<i>
</I>&gt;<i> def mycallback(userid, result):
</I>&gt;<i> 	print 'User %d requested: %s' % (userid, result)
</I>&gt;<i>
</I>&gt;<i> mycluster = MyComputerCluster(mycallback)
</I>&gt;<i> mycluster.post_job('compute the meaning of 42')
</I>&gt;<i> ...
</I>&gt;<i>
</I>&gt;<i> Now, there is one major issue - Is it possible to create an object  
</I>&gt;<i> of type
</I>&gt;<i> MyComputerCluster for each user of the online GUI and keep it in  
</I>&gt;<i> memory
</I>&gt;<i> between calls, without spoiling the network connections maintained  
</I>&gt;<i> by the
</I>&gt;<i> object? Session variables can be used as reference for a persistent  
</I>&gt;<i> object,
</I>&gt;<i> but how to create it?
</I>&gt;<i>
</I>&gt;<i> A solution would be to write an independent service that creates the
</I>&gt;<i> objects and listens for requests (post_job, get_result), but that  
</I>&gt;<i> takes
</I>&gt;<i> time...
</I>
Does the code above you give as an example already exist and a part of
your existing Python application? What framework is your application for
performing the distributed jobs written in, or is it some home grown  
custom
framework?

I have a sense of what you want to do, but because no real  
information is
provided about the existing application or what framework it uses, it  
is hard
to give any advice.

Anyway, if the issue is more about how handlers in mod_python might
communicate with your application, you might look at XML-RPC using the
xmlrpclib module in Python. Depending on the framework the application
uses though, it may not be possible to embed an XML-RPC server in the
application which could respond to the handlers run under mod_python.

Can you perhaps be clearer about the separation between your mod_python
handlers and your application and how you intend communicating between
the two.

Graham
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021924.html">[mod_python] Object persistence?
</A></li>
	<LI>Next message: <A HREF="021937.html">[mod_python] Object persistence?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21935">[ date ]</a>
              <a href="thread.html#21935">[ thread ]</a>
              <a href="subject.html#21935">[ subject ]</a>
              <a href="author.html#21935">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
