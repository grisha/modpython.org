<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Object persistence?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Object%20persistence%3F&In-Reply-To=op.tezozgwe9etm87%40avari254.mt.ltu.se">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021937.html">
   <LINK REL="Next"  HREF="021939.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Object persistence?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Object%20persistence%3F&In-Reply-To=op.tezozgwe9etm87%40avari254.mt.ltu.se"
       TITLE="[mod_python] Object persistence?">grahamd at dscpl.com.au
       </A><BR>
    <I>Mon Aug 28 07:48:05 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021937.html">[mod_python] Object persistence?
</A></li>
        <LI>Next message: <A HREF="021939.html">[mod_python] Object persistence?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21938">[ date ]</a>
              <a href="thread.html#21938">[ thread ]</a>
              <a href="subject.html#21938">[ subject ]</a>
              <a href="author.html#21938">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 28/08/2006, at 8:34 PM, Fredrik Sandin wrote:

&gt;<i> Dear Graham,
</I>&gt;<i>
</I>&gt;<i> yes, the code I gave as an example represents an existing Python
</I>&gt;<i> application. It is home-gown, so your suggestion to embed an XML-RPC
</I>&gt;<i> server could do the trick, will have a closer look at it. Thanks!
</I>&gt;<i>
</I>&gt;<i> By the way, why is it so difficult to support persistent objects,
</I>&gt;<i> a &quot;state&quot;, from one call to the next? The mod_php application itself
</I>&gt;<i> has a state, and each user can be associated with a sessid, so the
</I>&gt;<i> problem must be that a user could be served by different mod_php
</I>&gt;<i> processes from one call to the next?
</I>&gt;<i>
</I>&gt;<i> In that case, would it not be possible to use the sessid to make
</I>&gt;<i> sure that a user is served by the same mod_php process as long
</I>&gt;<i> as the session is valid?
</I>
You can't control to which Apache child process subsequent requests
get directed.

In terms of what you are trying to do, a mod_python Session object can
at least be used to hold a handle of some sort used to identify  
something
in your backend application.

Take for example recipe at:

   <A HREF="http://aspn.activestate.com/ASPN/Cookbook/Python/Recipe/81613">http://aspn.activestate.com/ASPN/Cookbook/Python/Recipe/81613</A>

In this example the backend framework creates a unique cursor instance
identified by an ID. This ID is used by the XML-RPC client to  
construct a
new URL which addresses the cursor instance. The client can then
interact with the cursor, with any cursor state maintained until the  
client
says it no longer needs the cursor or the inactivity timer expires at  
which
point the cursor instance self destructs.

Now, if mod_python were the client, the ID used to identify the  
cursor isn't
something which you would want to be pushing all the way back to the
user web browser in a cookie, as someone else could fake it up and
access someone else's cursor. Thus, the ID for the cursor could be  
stored
in the mod_python Session object with it then being available for  
mod_python
handlers to access on each request, no matter which child process  
handles
the request, and mod_python handler acts as XML-RPC client to access
backend using ID as identifier in URL.

Hope you can follow what I am talking about.

Graham
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021937.html">[mod_python] Object persistence?
</A></li>
	<LI>Next message: <A HREF="021939.html">[mod_python] Object persistence?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21938">[ date ]</a>
              <a href="thread.html#21938">[ thread ]</a>
              <a href="subject.html#21938">[ subject ]</a>
              <a href="author.html#21938">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
