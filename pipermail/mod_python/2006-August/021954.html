<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Publisher + PSP + Sessions?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Publisher%20%2B%20PSP%20%2B%20Sessions%3F&In-Reply-To=op.te3cs5dq9etm87%40avari254.mt.ltu.se">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021953.html">
   <LINK REL="Next"  HREF="021955.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Publisher + PSP + Sessions?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Publisher%20%2B%20PSP%20%2B%20Sessions%3F&In-Reply-To=op.te3cs5dq9etm87%40avari254.mt.ltu.se"
       TITLE="[mod_python] Publisher + PSP + Sessions?">grahamd at dscpl.com.au
       </A><BR>
    <I>Wed Aug 30 07:17:11 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021953.html">[mod_python] session object error
</A></li>
        <LI>Next message: <A HREF="021955.html">[mod_python] Mailing List
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21954">[ date ]</a>
              <a href="thread.html#21954">[ thread ]</a>
              <a href="subject.html#21954">[ subject ]</a>
              <a href="author.html#21954">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please keep followups on the mailing list. A few comments below.

On 30/08/2006, at 8:01 PM, Fredrik Sandin wrote:

&gt;<i> Dear Graham,
</I>&gt;<i>
</I>&gt;<i> thanks! Guided by Google, I tried session=Session.Session(req)
</I>&gt;<i> (did not realise that it should be stored in req.session) and
</I>&gt;<i> ended up with a timeout when trying to load the page.
</I>&gt;<i>
</I>&gt;<i> The problem was an older version of mod_python, after upgrading
</I>&gt;<i> to 3.2.10 it works fine.
</I>&gt;<i>
</I>&gt;<i> I started learning mod_python a few days ago to implement an
</I>&gt;<i> online GUI. The example psp site on the mod_python homepage
</I>&gt;<i> set me off in the right direction, I think, because I like
</I>&gt;<i> the idea to separate the logic from the templates. However,
</I>&gt;<i> I think that the example site/source could benefit from a few
</I>&gt;<i> additions:
</I>
The problem we have at the moment is that current active developers
do not have ready access to make modifications to the web site.
 From memory, not sure that the publisher/PSP example there represents
best practice in respect to doing things anyway. Certainly with
mod_python 3.3 there are perhaps better ways of doing the same
thing.

&gt;<i> 1. Show how to handle sessions (as you did above). It is not
</I>&gt;<i>    sufficient to have access to the session variable inside the
</I>&gt;<i>    templates when the logic should be factored out elsewhere.
</I>&gt;<i>
</I>&gt;<i> 2. Show how to handle forms and form input, including argument
</I>&gt;<i>    matching and type conversion. The same thing applies here, it
</I>&gt;<i>    is not sufficient to have access to the form variable inside
</I>&gt;<i>    the templates when the logic should be factored out.
</I>
If you are using mod_python 3.2.10 or earlier, you have to explicitly
pass the form object created by mod_python.publisher into the PSP
run() function. From memory:

   page = psp.PSP(req, filename='...')
   page.run({&quot;form&quot;: req.form})

This is not optimal as PSP tries to decode form parameters a second
time, although the mod_python.publisher ones take precedence here
since they are passed in.

In mod_python 3.3, PSP will automatically use value of req.form which
is inherited from something else such as mod_python.publisher. There
are various other issues related to forms and session objects and
using mod_python.publisher and mod_python.psp together which are also
fixed in mod_python 3.3.

We will possibly cut a development snapshot of 3.3 soon for initial
testing. If you really wanted to use it in the mean time, you would
have to use source code out of subversion repository.

Graham

</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021953.html">[mod_python] session object error
</A></li>
	<LI>Next message: <A HREF="021955.html">[mod_python] Mailing List
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21954">[ date ]</a>
              <a href="thread.html#21954">[ thread ]</a>
              <a href="subject.html#21954">[ subject ]</a>
              <a href="author.html#21954">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
