<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] util.FieldStorage wrong about method restrictions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20util.FieldStorage%20wrong%20about%20method%20restrictions&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021839.html">
   <LINK REL="Next"  HREF="021848.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] util.FieldStorage wrong about method restrictions</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20util.FieldStorage%20wrong%20about%20method%20restrictions&In-Reply-To="
       TITLE="[mod_python] util.FieldStorage wrong about method restrictions">grahamd at dscpl.com.au
       </A><BR>
    <I>Mon Aug 14 19:17:05 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021839.html">[mod_python] mod_python sessions, locking, and PSP
</A></li>
        <LI>Next message: <A HREF="021848.html">[mod_python] i beg the developers to make mod_python can be import
	in python command line.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21847">[ date ]</a>
              <a href="thread.html#21847">[ thread ]</a>
              <a href="subject.html#21847">[ subject ]</a>
              <a href="author.html#21847">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Nic James Ferrier wrote ..
&gt;<i> Jim Gallacher &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">jpg at jgassociates.ca</A>&gt; writes:
</I>&gt;<i> 
</I>&gt;<i> &gt; It's my understanding that PUT is used for uploading binary objects such
</I>&gt;<i> &gt; as files, without creating the MIME message usually associated with
</I>&gt;<i> &gt; POST. FieldStorage really doesn't make sense in that context.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I might be wrong though.
</I>&gt;<i> 
</I>&gt;<i> PUT is used for changing the entity pointed at by the URI.
</I>&gt;<i> 
</I>&gt;<i> But the entity could be represented as an XML document, a binary
</I>&gt;<i> object or as a list of fields.
</I>&gt;<i> 
</I>&gt;<i> Here is RFC2616, section 9.6, Page 55:
</I>&gt;<i> 
</I>&gt;<i>    The fundamental difference between the POST and PUT requests is
</I>&gt;<i>    reflected in the different meaning of the Request-URI. The URI in a
</I>&gt;<i>    POST request identifies the resource that will handle the enclosed
</I>&gt;<i>    entity. That resource might be a data-accepting process, a gateway to
</I>&gt;<i>    some other protocol, or a separate entity that accepts annotations.
</I>&gt;<i>    In contrast, the URI in a PUT request identifies the entity enclosed
</I>&gt;<i>    with the request -- the user agent knows what URI is intended and the
</I>&gt;<i>    server MUST NOT attempt to apply the request to some other
</I>&gt;<i>    resource.
</I>&gt;<i> 
</I>&gt;<i> Really that is the only difference. Which is why both cgi.FieldStorage
</I>&gt;<i> and util.FieldStorage should allow PUT as well as POST.
</I>&gt;<i> 
</I>&gt;<i> Still, mod_python's wants to behave like cgi's. So I'll go talk to the
</I>&gt;<i> cgi people about changing their's first.
</I>
Just because I referenced cgi.FieldStorage does not mean we are simply
following what they have done, it was just one indicator I used for trying
to work out what is regarded as common/good practice in regard to use
of POST/PUT and multipart/form data.

I also did other searching on the Internet and of the few pages of search
results I checked, I couldn't find one example of where someone was using
multipart/form data in conjunction with a PUT request. Where PUT was
used, the target of the update was included in its raw form as the content
and where content type was specified, it was an adjunct to the data just
to indicate what format the data was. For example, image/jpeg, text/xml
etc. That is, it was used in the same way that the content type of the file
would be returned as if it were a GET request for that file.

In other words, you seem to want to do something that is out of the
ordinary and not commonly accepted practice. Besides pointing at the
RFC and saying that it may allow it, can you instead point at some instances
where this is actually done in practice. If you can show that this is a
commonly accepted technique, then we might consider it a worthwhile
change. In the mean time, you can use the bit of wrapper code I posted
in the first place to make it work.

Graham
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021839.html">[mod_python] mod_python sessions, locking, and PSP
</A></li>
	<LI>Next message: <A HREF="021848.html">[mod_python] i beg the developers to make mod_python can be import
	in python command line.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21847">[ date ]</a>
              <a href="thread.html#21847">[ thread ]</a>
              <a href="subject.html#21847">[ subject ]</a>
              <a href="author.html#21847">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
