<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] encoding
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20encoding&In-Reply-To=44F34F4E.6020602%40ulb.ac.be">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021943.html">
   <LINK REL="Next"  HREF="021942.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] encoding</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Joshua &quot;Jag&quot; Ginsberg</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20encoding&In-Reply-To=44F34F4E.6020602%40ulb.ac.be"
       TITLE="[mod_python] encoding">listspam at flowtheory.net
       </A><BR>
    <I>Tue Aug 29 10:40:54 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021943.html">[mod_python] encoding
</A></li>
        <LI>Next message: <A HREF="021942.html">[mod_python] encoding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21946">[ date ]</a>
              <a href="thread.html#21946">[ thread ]</a>
              <a href="subject.html#21946">[ subject ]</a>
              <a href="author.html#21946">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> &gt;
</I>&gt;<i> &gt; So when you .decode('utf8') a string encoded in UTF-8 you are taking a
</I>&gt;<i> &gt;   
</I>&gt;<i> 
</I>&gt;<i> That was my question, how can be sure that a string is always encoded in 
</I>&gt;<i> UTF-8 when the user submit the form ?
</I>
&gt;<i>From (shameless plug) <A HREF="http://starboard.flowtheory.net/blog/?q=node/206">http://starboard.flowtheory.net/blog/?q=node/206</A> :
</I>
&quot;... So it all originates to the question: what character set did the
member's web browser encode the form data in?

You may be unaware of the fact that your browser can be configured to
use different character set encodings. But it makes a big difference. By
default, most browsers will use the UTF-8 character set encoding, in
which case form data that includes the character &quot;&#233;&quot; will submit it as
&quot;%C3%A9&quot;. However, if your browser uses the Latin1 encoding, it will
submit the same letter as &quot;%E9&quot;. So how do we tell which character set
your browser was using?

The HTTP 1.1 standard requires that when providing posted form data to a
web server, the request must specify the character set used as a part of
the &quot;Content-Type&quot; header. However, none of the major browsers on the
market do this because too many i18n-unaware programmers have made
server-side scripts that don't understand the syntax used. So Microsoft
employed a quite clever hack: if you add a hidden form variable named
_charset_ to your form, it will automatically populate the value of this
form variable with the character set encoding the client is using. And
in fact, Mozilla followed suit. But other browsers, such as Konqueror,
have not.

So effectively, to handle all cases properly, you may have to put some
UTF-8 encoded characters into a hidden form field and wait for the user
to submit the form. If the UTF-8 encoded characters come back the same,
then they submitted the form as UTF-8. If not, you can use
trial-and-error to attempt to elucidate what encoding they used.

...&quot;

-jag


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021943.html">[mod_python] encoding
</A></li>
	<LI>Next message: <A HREF="021942.html">[mod_python] encoding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21946">[ date ]</a>
              <a href="thread.html#21946">[ thread ]</a>
              <a href="subject.html#21946">[ subject ]</a>
              <a href="author.html#21946">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
