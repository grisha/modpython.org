<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Problem with mod_python and send data with a form
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Problem%20with%20mod_python%20and%20send%20data%20with%20a%20form&In-Reply-To=C10B4AB4.5CA2%25dbizier%40gecko-electronic.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021877.html">
   <LINK REL="Next"  HREF="021887.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Problem with mod_python and send data with a form</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Problem%20with%20mod_python%20and%20send%20data%20with%20a%20form&In-Reply-To=C10B4AB4.5CA2%25dbizier%40gecko-electronic.com"
       TITLE="[mod_python] Problem with mod_python and send data with a form">grahamd at dscpl.com.au
       </A><BR>
    <I>Fri Aug 18 20:00:17 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021877.html">[mod_python] Problem with mod_python and send data with a form
</A></li>
        <LI>Next message: <A HREF="021887.html">[mod_python] Re: Enhancements for better content negotiation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21886">[ date ]</a>
              <a href="thread.html#21886">[ thread ]</a>
              <a href="subject.html#21886">[ subject ]</a>
              <a href="author.html#21886">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On visual examination, I can't see anything specifically that looks  
wrong.

There is a potential conflict due to .py files being setup as both  
cgihandler
and publisher. I think that that in the Directory directive should take
precedence but I am not totally sure, as the Files one is at global  
scope
and may actually get merged with the other to create a scenario where
it might want to call both cgihandler and publisher in turn. If this  
were the
case it would fail as your file is not setup as a cgihandler.

If you can, see if you can get hold of any error messages from the  
Apache
error log related to your attempt to make the request. Can you also  
use a
command line program such as curl or wget to make a request against
the URL so you can see the actual error code that comes back and any
raw content in the response. You may be able to do this if you have  
certain
debug plugins for Firefox (don't know what they are called).

Finally, have you tried a straight GET request from your browser against
that URL, ie., don't use a POST form. Does it return anything in that  
situation.
Also, where is your export.php page. Based on action it would have to be
in root directory of site, is that the case?

Anyone else spot anything obvious I am missing?

Graham

On 19/08/2006, at 12:45 AM, David Bizier wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I'm a beginner with mod_python and Python (also with english langage,
</I>&gt;<i> sorry). I tried some exemple code and all works fine!
</I>&gt;<i>
</I>&gt;<i> Unfortunately, I have a problem to send data with a form (POST ou  
</I>&gt;<i> GET) to a
</I>&gt;<i> .py script file. When I try to send data to my .py file, with  
</I>&gt;<i> Firefox, I see
</I>&gt;<i> a blank page, without text or error message.
</I>&gt;<i>
</I>&gt;<i> Here is my form (export.php):
</I>&gt;<i>
</I>&gt;<i> ------------------
</I>&gt;<i> &lt;html&gt;
</I>&gt;<i>    &lt;body&gt;
</I>&gt;<i>   &lt;FORM name=&quot;frm1&quot; action=&quot;scripts/python/toto.py/say&quot; method=&quot;POST&quot;&gt;
</I>&gt;<i>     &lt;TABLE&gt;
</I>&gt;<i>       &lt;TR&gt;
</I>&gt;<i>         &lt;TD&gt;First Name: &lt;/TD&gt;
</I>&gt;<i>         &lt;TD&gt;&lt;INPUT type=&quot;text&quot; name=&quot;firstname&quot; value=&quot;Bob&quot;&gt;&lt;/TD&gt;
</I>&gt;<i>       &lt;/TR&gt;
</I>&gt;<i>       &lt;TR&gt;
</I>&gt;<i>         &lt;TD colspan=&quot;2&quot; align=&quot;center&quot;&gt;&lt;INPUT type=&quot;submit&quot;  
</I>&gt;<i> value=&quot;Go&quot;&gt;&lt;/TD&gt;
</I>&gt;<i>       &lt;/TR&gt;
</I>&gt;<i>     &lt;/TABLE&gt;
</I>&gt;<i>   &lt;/FORM&gt;
</I>&gt;<i>    &lt;/body&gt;
</I>&gt;<i> &lt;/html&gt;
</I>&gt;<i> --------------------
</I>&gt;<i>
</I>&gt;<i> And here is my python page (toto.py):
</I>&gt;<i>
</I>&gt;<i> -------------------
</I>&gt;<i> from mod_python import apache
</I>&gt;<i> from mod_python import util
</I>&gt;<i>
</I>&gt;<i> def say(req, firstname=&quot;NOTHING&quot;):
</I>&gt;<i>      req.content_type = &quot;text/html&quot;
</I>&gt;<i>      return &quot;I am saying %s&quot; % firstname
</I>&gt;<i> -------------------
</I>&gt;<i>
</I>&gt;<i> I have found a apache config file, on my server, with these lines:
</I>&gt;<i>
</I>&gt;<i>         &quot;...
</I>&gt;<i>         &lt;IfModule mod_python.c&gt;
</I>&gt;<i>         &lt;Files ~ (\.py$)&gt;
</I>&gt;<i>                 SetHandler python-program
</I>&gt;<i>                 PythonHandler   mod_python.cgihandler
</I>&gt;<i>         &lt;/Files&gt;
</I>&gt;<i>         &lt;/IfModule&gt;
</I>&gt;<i>
</I>&gt;<i>         &quot;...'
</I>&gt;<i>
</I>&gt;<i>         &lt;/Directory&gt;
</I>&gt;<i>
</I>&gt;<i>         &lt;Directory /var/www/vhosts/monSiteWeb.com/httpdocs/scripts/ 
</I>&gt;<i> python&gt;
</I>&gt;<i>                 Options -Indexes FollowSymLinks MultiViews
</I>&gt;<i>                 AllowOverride All
</I>&gt;<i>                 AddHandler mod_python .py
</I>&gt;<i>                 PythonHandler mod_python.publisher
</I>&gt;<i>                 PythonDebug On
</I>&gt;<i>         &lt;/Directory&gt;
</I>&gt;<i>
</I>&gt;<i> Thanks for your help! I would like to find an answer shortly to  
</I>&gt;<i> continue my
</I>&gt;<i> project!
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> David
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021877.html">[mod_python] Problem with mod_python and send data with a form
</A></li>
	<LI>Next message: <A HREF="021887.html">[mod_python] Re: Enhancements for better content negotiation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21886">[ date ]</a>
              <a href="thread.html#21886">[ thread ]</a>
              <a href="subject.html#21886">[ subject ]</a>
              <a href="author.html#21886">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
