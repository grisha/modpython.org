<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] mod_python adapter for mod_wsgi in the make
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20adapter%20for%20mod_wsgi%20in%20the%20make&In-Reply-To=88e286470911252018y658d165fp87bf63e4494cd041%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026381.html">
   <LINK REL="Next"  HREF="026383.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] mod_python adapter for mod_wsgi in the make</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Martijn Moeling</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20adapter%20for%20mod_wsgi%20in%20the%20make&In-Reply-To=88e286470911252018y658d165fp87bf63e4494cd041%40mail.gmail.com"
       TITLE="[mod_python] mod_python adapter for mod_wsgi in the make">martijn at xs4us.nu
       </A><BR>
    <I>Thu Nov 26 05:13:43 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="026381.html">[mod_python] mod_python adapter for mod_wsgi in the make
</A></li>
        <LI>Next message: <A HREF="026383.html">[mod_python] mod_python adapter for mod_wsgi in the make
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26382">[ date ]</a>
              <a href="thread.html#26382">[ thread ]</a>
              <a href="subject.html#26382">[ subject ]</a>
              <a href="author.html#26382">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Graham,

Thank you for the info.

I might very well use the SWIG bindings, I'll have a closer look at it.
MP coders might be happy with just embedded mode...

Anyhow, I'll keep things updated on the MP mailing list for now.

Martijn

 
On Nov 26, 2009, at 5:18 AM, Graham Dumpleton wrote:

&gt;<i> I have moved it to:
</I>&gt;<i> 
</I>&gt;<i>  <A HREF="http://bitbucket.org/grahamdumpleton/apswigpy/">http://bitbucket.org/grahamdumpleton/apswigpy/</A>
</I>&gt;<i> 
</I>&gt;<i> I'll add some basic documentation on building and usage.
</I>&gt;<i> 
</I>&gt;<i> Graham
</I>&gt;<i> 
</I>&gt;<i> 2009/11/26 Graham Dumpleton &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">graham.dumpleton at gmail.com</A>&gt;:
</I>&gt;&gt;<i> FWIW, happy to move that ap_swig_py out to my bitbucket space if
</I>&gt;&gt;<i> others want to help progress it as a basis for mod_python like more
</I>&gt;&gt;<i> integrated interface into Apache internals.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Graham
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 2009/11/26 Graham Dumpleton &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">graham.dumpleton at gmail.com</A>&gt;:
</I>&gt;&gt;&gt;<i> Hmmm, did I ever point you to my SWIG bindings for Apache C API.
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i>  <A HREF="http://code.google.com/p/modwsgi/source/browse/#svn/sandbox/ap_swig_py">http://code.google.com/p/modwsgi/source/browse/#svn/sandbox/ap_swig_py</A>
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> I stopped work on it because no one was interested, but gives you more
</I>&gt;&gt;&gt;<i> direct access to Apache request_rec object plus all the native Apache
</I>&gt;&gt;&gt;<i> APIs which mod_python has a tendency to want to use at lowest levels.
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> It can only be used in mod_wsgi embedded mode though, not daemon mode.
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> To use you need to also set:
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i>  WSGIPassApacheRequest On
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> in Apache configuration.
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> It is been a long time since I played with it, but from memory can do
</I>&gt;&gt;&gt;<i> things like:
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i>  from apache.httpd import *
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i>  def application(environ, start_response):
</I>&gt;&gt;&gt;<i>    r = request_rec(environ['apache.request_rec'])
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i>    ap_internal_redirect('/some/other/path', r)
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i>    # Dummy WSGI response as redirect already sent response.
</I>&gt;&gt;&gt;<i>    start_response('200 OK', [])
</I>&gt;&gt;&gt;<i>    return []
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> The request_rec is already going to give you a requets object like
</I>&gt;&gt;&gt;<i> mod_python, although actually closer to original Apache one than
</I>&gt;&gt;&gt;<i> mod_python.
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> Graham
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> 2009/11/25 Martijn Moeling &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">martijn at xs4us.nu</A>&gt;:
</I>&gt;&gt;&gt;&gt;<i> Hi all you mod_python fans!
</I>&gt;&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;&gt;<i> Since I am developing a python web-os (with browser based desktop) which
</I>&gt;&gt;&gt;&gt;<i> is heavily dependant on mod_python I am not very happy to see the
</I>&gt;&gt;&gt;&gt;<i> development stop of MP.
</I>&gt;&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;&gt;<i> Since MOD_WSGI is the alternative I know for a while now I have to move.
</I>&gt;&gt;&gt;&gt;<i> In my case this seems possible to crate a &quot;fake&quot; MOD_PYTHON module which
</I>&gt;&gt;&gt;&gt;<i> communicates with MOD_WSGI and runs the application.
</I>&gt;&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;&gt;<i> Up to now I have had some success but there is still some work to do
</I>&gt;&gt;&gt;&gt;<i> around apache.py but it all seems possible. That said, I do not use the
</I>&gt;&gt;&gt;&gt;<i> Publisher handler and I might not be able to implement that part or I
</I>&gt;&gt;&gt;&gt;<i> might need help
</I>&gt;&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;&gt;<i> I will put this out under the same license conditions as MP and since I
</I>&gt;&gt;&gt;&gt;<i> am close to releasing the first beta I am starting to get curious about
</I>&gt;&gt;&gt;&gt;<i> interest, If I have to put up a new project on some google or
</I>&gt;&gt;&gt;&gt;<i> sourceforge server etc.
</I>&gt;&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;&gt;<i> As far as I can see there are no real problems (it might with input and
</I>&gt;&gt;&gt;&gt;<i> output filters, nut sure yet) and there are still some parameters for
</I>&gt;&gt;&gt;&gt;<i> the Request Object to be filled in. My OS (app) seems to start working,
</I>&gt;&gt;&gt;&gt;<i> even stuff like my own build webdav server.
</I>&gt;&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;&gt;<i> So If anyone has interesting comments to make, shoot
</I>&gt;&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;&gt;<i> The 'beta' name for the project is &quot;mod_Python adapter for mod_wsgi&quot;
</I>&gt;&gt;&gt;&gt;<i> Anyone who comes up with something better gets a free copy :-)
</I>&gt;&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;&gt;<i> Martijn Moeling
</I>&gt;&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;&gt;<i> Mod_python mailing list
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026381.html">[mod_python] mod_python adapter for mod_wsgi in the make
</A></li>
	<LI>Next message: <A HREF="026383.html">[mod_python] mod_python adapter for mod_wsgi in the make
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26382">[ date ]</a>
              <a href="thread.html#26382">[ thread ]</a>
              <a href="subject.html#26382">[ subject ]</a>
              <a href="author.html#26382">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
