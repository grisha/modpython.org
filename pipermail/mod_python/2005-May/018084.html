<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Cookies and sessions trouble
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Cookies%20and%20sessions%20trouble&In-Reply-To=1115954693.25469%40dscpl.user.openhosting.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018090.html">
   <LINK REL="Next"  HREF="018079.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Cookies and sessions trouble</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Nicolas Lehuen</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Cookies%20and%20sessions%20trouble&In-Reply-To=1115954693.25469%40dscpl.user.openhosting.com"
       TITLE="[mod_python] Cookies and sessions trouble">nicolas.lehuen at gmail.com
       </A><BR>
    <I>Fri May 13 02:09:03 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="018090.html">[mod_python] (more) Cookies trouble
</A></li>
        <LI>Next message: <A HREF="018079.html">[mod_python] Cookies and sessions trouble
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18084">[ date ]</a>
              <a href="thread.html#18084">[ thread ]</a>
              <a href="subject.html#18084">[ subject ]</a>
              <a href="author.html#18084">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2005/5/13, Graham Dumpleton &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">grahamd at dscpl.com.au</A>&gt;:
[...]
&gt;<i> 
</I>&gt;<i> Using &quot;import main&quot; is not a good idea when the &quot;main.py&quot; is also being
</I>&gt;<i> loaded by mod_python by its module loading system. Instead of:
</I>&gt;<i> 
</I>&gt;<i>   import main
</I>&gt;<i> 
</I>&gt;<i> use:
</I>&gt;<i> 
</I>&gt;<i>   main = apache.import_module(&quot;main&quot;)
</I>&gt;<i> 
</I>&gt;<i> You may have to use something like:
</I>&gt;<i> 
</I>&gt;<i>   import os
</I>&gt;<i> 
</I>&gt;<i>   directory = os.path.split(__file__)[0]
</I>&gt;<i>   main = apache.import_module(&quot;main&quot;,path=[directory])
</I>&gt;<i> 
</I>&gt;<i> if wanting to load a module from a location not in sys.path. The latter is
</I>&gt;<i> in some ways perfered so as to make sure you get the correct version.
</I>&gt;<i> 
</I>&gt;<i> Hmmm, this all may not work in mod_python 3.2 from what I have
</I>&gt;<i> seen of changes to module loading mechanism used specifically for
</I>&gt;<i> mod_python.publisher in that version. You may have to replace use of
</I>&gt;<i> apache.import_module() with use of publisher specific module loader
</I>&gt;<i> in that version when it is available.
</I>
Indeed. In the upcoming mod_python 3.2, published modules are not
imported using apache.import_module, so doing as described above would
work BUT the imported module would be another instance of the
published one... It would be OK for reusing code but not for sharing
data between pages.

I didn't think about this use case, I'll have to add a function to the
publisher module so that a page can be imported in another page for
code reusal or data sharing. Something like publisher.import_page ?

Regards,

Nicolas

</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018090.html">[mod_python] (more) Cookies trouble
</A></li>
	<LI>Next message: <A HREF="018079.html">[mod_python] Cookies and sessions trouble
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18084">[ date ]</a>
              <a href="thread.html#18084">[ thread ]</a>
              <a href="subject.html#18084">[ subject ]</a>
              <a href="author.html#18084">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
