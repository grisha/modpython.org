<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Compile problems - Mod_Python 3.1.4
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Compile%20problems%20-%20Mod_Python%203.1.4&In-Reply-To=c298f2d705050911557abe44f4%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018021.html">
   <LINK REL="Next"  HREF="018024.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Compile problems - Mod_Python 3.1.4</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Frank Gruman</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Compile%20problems%20-%20Mod_Python%203.1.4&In-Reply-To=c298f2d705050911557abe44f4%40mail.gmail.com"
       TITLE="[mod_python] Compile problems - Mod_Python 3.1.4">fgatwork at verizon.net
       </A><BR>
    <I>Mon May  9 15:57:29 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="018021.html">[mod_python] Compile problems - Mod_Python 3.1.4
</A></li>
        <LI>Next message: <A HREF="018024.html">[mod_python] Compile problems - Mod_Python 3.1.4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18022">[ date ]</a>
              <a href="thread.html#18022">[ thread ]</a>
              <a href="subject.html#18022">[ subject ]</a>
              <a href="author.html#18022">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Nicolas,

The script you are running is automatically included as part of the make 
process on Linux.

But I am willing to try anything...

Running the script with the method you specify returns the same ending 
error code that I found earlier (about the APXS definition not found).  
Thanks for the idea, though.

Anyone have any idea why the setup.py script is not able to pass the 
APXS value from config.status back to setup.py (getconfigure_option 
function).  I have verified that there is a value assigned in 
config.status (/usr/local/apache2/bin/apxs).

Oh - also realized I didn't provide OS - SLES 9.

Regards,
Frank

Nicolas Lehuen wrote:

&gt;<i>Hi,
</I>&gt;<i>
</I>&gt;<i>Just a wild guess, as I'm building under Win32... Did you try :
</I>&gt;<i>
</I>&gt;<i>python setup.py install
</I>&gt;<i>
</I>&gt;<i>?
</I>&gt;<i>
</I>&gt;<i>This works under Win32.
</I>&gt;<i>
</I>&gt;<i>Regards,
</I>&gt;<i>
</I>&gt;<i>Nicolas
</I>&gt;<i>
</I>&gt;<i>2005/5/9, Frank Gruman &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">fgatwork at verizon.net</A>&gt;:
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;&gt;<i>Hello all,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>I am trying to test the latest Apache dev version, and found an issue when trying to compile mod_python 3.1.4 with it.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>I originally tired using Apache 2.1.5-dev (from tip on Friday, 06-May) with mod_python 3.1.4 and Python 2.4.1.  When this failed, I thought that there might have been a resolution in the current mod_python tip, so pulled the mod_python tip as of 09-May @ 13:00.  Still ran into the same errors.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>The system goes through the ./configure without any issues.  Please see the steps / output below.  It gets quite long, so please bear with me.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>*  Configure *****************************************
</I>&gt;&gt;<i>toybox:/sources/mod_python-3.1.4 # ./configure --with-apxs=/usr/local/apache2/bin/apxs
</I>&gt;&gt;<i>checking for gcc... gcc
</I>&gt;&gt;<i>checking for C compiler default output... a.out
</I>&gt;&gt;<i>checking whether the C compiler works... yes
</I>&gt;&gt;<i>checking whether we are cross compiling... no
</I>&gt;&gt;<i>checking for suffix of executables...
</I>&gt;&gt;<i>checking for suffix of object files... o
</I>&gt;&gt;<i>checking whether we are using the GNU C compiler... yes
</I>&gt;&gt;<i>checking whether gcc accepts -g... yes
</I>&gt;&gt;<i>checking for ar... ar
</I>&gt;&gt;<i>checking for a BSD-compatible install... /usr/bin/install -c
</I>&gt;&gt;<i>checking whether make sets ${MAKE}... yes
</I>&gt;&gt;<i>checking for main in -lm... yes
</I>&gt;&gt;<i>checking for gcc option to accept ANSI C... none needed
</I>&gt;&gt;<i>checking for an ANSI C-conforming const... yes
</I>&gt;&gt;<i>checking your blood pressure... a bit high, but we can proceed
</I>&gt;&gt;<i>configure: checking whether apxs is available...
</I>&gt;&gt;<i>checking for --with-apxs... /usr/local/apache2/bin/apxs executable, good
</I>&gt;&gt;<i>checking Apache version... 2.1.5-dev
</I>&gt;&gt;<i>checking for Apache libexec directory... /usr/local/apache2/modules
</I>&gt;&gt;<i>checking for Apache include directory... -I/usr/local/apache2/include
</I>&gt;&gt;<i>checking for --with-python... no
</I>&gt;&gt;<i>checking for python... /usr/bin/python
</I>&gt;&gt;<i>checking Python version... 2.4
</I>&gt;&gt;<i>checking Python install prefix... /usr
</I>&gt;&gt;<i>checking for Py_NewInterpreter in -lpython2.4... yes
</I>&gt;&gt;<i>checking what libraries Python was linked with... -lpython2.4   -lpthread -ldl  -lutil   -lm
</I>&gt;&gt;<i>checking linker flags used to link Python...
</I>&gt;&gt;<i>checking where Python include files are... -I/usr/include/python2.4
</I>&gt;&gt;<i>configure: creating ./config.status
</I>&gt;&gt;<i>config.status: creating Makefile
</I>&gt;&gt;<i>config.status: creating src/Makefile
</I>&gt;&gt;<i>config.status: creating Doc/Makefile
</I>&gt;&gt;<i>config.status: creating test/testconf.py
</I>&gt;&gt;<i>config.status: creating dist/setup.py
</I>&gt;&gt;<i>config.status: creating dist/Makefile
</I>&gt;&gt;<i>toybox:/sources/mod_python-3.1.4 #
</I>&gt;&gt;<i>****************************************************
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>No warnings or errors.  Looks good.  Let's go on...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>* 1st Make *****************************************
</I>&gt;&gt;<i>toybox:/sources/mod_python-3.1.4 # make
</I>&gt;&gt;<i>make[1]: Entering directory `/sources/mod_python-3.1.4/src'
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Compiling for DSO.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>
</I>&lt;snipped log as it was getting to big for the message board&gt;

&gt;&gt;<i>/usr/local/apache2/build/libtool --silent --mode=link gcc -o mod_python.la  -rpath /usr/local/apache2/modules -module -avoid-version    hlistobject.lo hlist.lo filterobject.lo connobject.lo serverobject.lo util.lo tableobject.lo requestobject.lo _apachemodule.lo mod_python.lo -L/usr/lib/python2.4/config -Xlinker -export-dynamic -lm -lpython2.4 -lpthread -ldl -lutil -lm
</I>&gt;&gt;<i>make[1]: Leaving directory `/sources/mod_python-3.1.4/src'
</I>&gt;&gt;<i>make[1]: Entering directory `/sources/mod_python-3.1.4/dist'
</I>&gt;&gt;<i>ln -s ../lib/python/mod_python
</I>&gt;&gt;<i>ln -s ../src
</I>&gt;&gt;<i>make[2]: Entering directory `/sources/mod_python-3.1.4/src'
</I>&gt;&gt;<i>/usr/local/bin/flex -R -opsp_parser.c --header-file=include/psp_flex.h psp_parser.l
</I>&gt;&gt;<i>make[2]: /usr/local/bin/flex: Command not found
</I>&gt;&gt;<i>make[2]: *** [psp_parser.c] Error 127
</I>&gt;&gt;<i>make[2]: Leaving directory `/sources/mod_python-3.1.4/src'
</I>&gt;&gt;<i>make[1]: *** [build] Error 2
</I>&gt;&gt;<i>make[1]: Leaving directory `/sources/mod_python-3.1.4/dist'
</I>&gt;&gt;<i>make: *** [do_dso] Error 2
</I>&gt;&gt;<i>toybox:/sources/mod_python-3.1.4 #
</I>&gt;&gt;<i>***************************************************
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>It appears I the system could not find psp_parser.c.  This is not in the src directory.  I looked at the SVN repository, and found it there.  Not sure why it didn't come with the initial checkout, but I manually downloaded it.  Let's try to do a MAKE again.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>* 2nd Make ****************************************
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>toybox:/sources/mod_python-3.1.4 # make clean &amp;&amp; make
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>
</I>&lt;snipped log as it was getting to big for the message board&gt;


&gt;&gt;<i>/usr/local/apache2/build/libtool --silent --mode=link gcc -o mod_python.la  -rpath /usr/local/apache2/modules -module -avoid-version    hlistobject.lo hlist.lo filterobject.lo connobject.lo serverobject.lo util.lo tableobject.lo requestobject.lo _apachemodule.lo mod_python.lo -L/usr/lib/python2.4/config -Xlinker -export-dynamic -lm -lpython2.4 -lpthread -ldl -lutil -lm
</I>&gt;&gt;<i>make[1]: Leaving directory `/sources/mod_python-3.1.4/src'
</I>&gt;&gt;<i>make[1]: Entering directory `/sources/mod_python-3.1.4/dist'
</I>&gt;&gt;<i>ln -s ../lib/python/mod_python
</I>&gt;&gt;<i>make[2]: Entering directory `/sources/mod_python-3.1.4/src'
</I>&gt;&gt;<i>make[2]: `psp_parser.c' is up to date.
</I>&gt;&gt;<i>make[2]: Leaving directory `/sources/mod_python-3.1.4/src'
</I>&gt;&gt;<i>/usr/bin/python setup.py build
</I>&gt;&gt;<i>Traceback (most recent call last):
</I>&gt;&gt;<i>  File &quot;setup.py&quot;, line 138, in ?
</I>&gt;&gt;<i>    ModPyModule = ModPyExtension(getmp_srcdir(), [getmp_includedir(), getapache_includedir()], [getapache_libdir()])
</I>&gt;&gt;<i>  File &quot;setup.py&quot;, line 80, in getapache_includedir
</I>&gt;&gt;<i>    return getapxs_option(&quot;INCLUDEDIR&quot;)
</I>&gt;&gt;<i>  File &quot;setup.py&quot;, line 68, in getapxs_option
</I>&gt;&gt;<i>    APXS = getapxs_location()
</I>&gt;&gt;<i>  File &quot;setup.py&quot;, line 65, in getapxs_location
</I>&gt;&gt;<i>    return getconfigure_option(&quot;APXS&quot;)
</I>&gt;&gt;<i>  File &quot;setup.py&quot;, line 47, in getconfigure_option
</I>&gt;&gt;<i>    raise AssertionError(&quot;unable to find @%s@ definition in %s&quot;, (option_name, config_status_file))
</I>&gt;&gt;<i>AssertionError: ('unable to find @%s@ definition in %s', ('APXS', '/sources/mod_python-3.1.4/config.status'))
</I>&gt;&gt;<i>make[1]: *** [build] Error 1
</I>&gt;&gt;<i>make[1]: Leaving directory `/sources/mod_python-3.1.4/dist'
</I>&gt;&gt;<i>make: *** [do_dso] Error 2
</I>&gt;&gt;<i>toybox:/sources/mod_python-3.1.4 #
</I>&gt;&gt;<i>****************************************************
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>So - now it seems to have problems reading the value I passed for the APXS parameter.  And I can't figure out why.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Any ideas??
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Regards,
</I>&gt;&gt;<i>Frank
</I>&gt;&gt;<i>_______________________________________________
</I>&gt;&gt;<i>Mod_python mailing list
</I>&gt;&gt;<i><A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;&gt;<i><A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20050509/4fe9ede1/attachment.html">http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20050509/4fe9ede1/attachment.html</A>
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018021.html">[mod_python] Compile problems - Mod_Python 3.1.4
</A></li>
	<LI>Next message: <A HREF="018024.html">[mod_python] Compile problems - Mod_Python 3.1.4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18022">[ date ]</a>
              <a href="thread.html#18022">[ thread ]</a>
              <a href="subject.html#18022">[ subject ]</a>
              <a href="author.html#18022">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
