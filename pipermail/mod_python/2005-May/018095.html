<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] os.system() call does not work within mod_python
	script
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20os.system%28%29%20call%20does%20not%20work%20within%20mod_python%0A%09script&In-Reply-To=428676C0.6060904%40aon.at">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018094.html">
   <LINK REL="Next"  HREF="018096.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] os.system() call does not work within mod_python
	script</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20os.system%28%29%20call%20does%20not%20work%20within%20mod_python%0A%09script&In-Reply-To=428676C0.6060904%40aon.at"
       TITLE="[mod_python] os.system() call does not work within mod_python
	script">grahamd at dscpl.com.au
       </A><BR>
    <I>Sat May 14 19:21:27 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="018094.html">[mod_python] os.system() call does not work within mod_python script
</A></li>
        <LI>Next message: <A HREF="018096.html">[mod_python] os.system() call does not work within mod_python
	script
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18095">[ date ]</a>
              <a href="thread.html#18095">[ thread ]</a>
              <a href="subject.html#18095">[ subject ]</a>
              <a href="author.html#18095">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 15/05/2005, at 8:08 AM, Arno Wilhelm wrote:

&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> I have got a proble for which I cannot find a proper solution:
</I>&gt;<i>
</I>&gt;<i> Whenever a user on his browser hits a certain page (served by 
</I>&gt;<i> mod_python) the mod_python should send a SIGUSR signal to a certain 
</I>&gt;<i> process in order to force a update on him like this
</I>&gt;<i>
</I>&gt;<i> # os.system( &quot;kill -s SIGUSR1 26199&quot; )
</I>&gt;<i>
</I>&gt;<i> Whenever I make this call from within a python script it works. But 
</I>&gt;<i> whenever I try to build it into the mod_python script that is handled 
</I>&gt;<i> by apache it does not work. After that I have experimented with other 
</I>&gt;<i> os.system calls from within mod_python scripts and all of them seem to 
</I>&gt;<i> be ignored somehow.
</I>&gt;<i>
</I>&gt;<i> Could someone here possibly shed some light on this issue, since I am 
</I>&gt;<i> on the end of my knowledge.
</I>
A few things to consider.

1. Set full pathnames to the programs in the command.

The PATH setup for Apache may not be that useful. It may reference
some standard locations, but not much. Thus, if you expect program
to be found by searching PATH, it may not work.

2. Don't rely on the current working directory to be anything specific.

Normally current working directory would be '/' and nothing to to do
with where any Python request handler will be. Any references to files
should always be as absolute paths.

3. Apache usually runs as user &quot;nobody&quot; or some other special user.

Because Apache runs as a special user, it often will not have the
necessary privileges to be able to write to directories or send signals
to processes running as another user.

4. Log output of scripts to a directory in &quot;/tmp&quot;.

As a way of working out problems, send the output of any commands to
a log file in &quot;/tmp&quot;. Ie., run your command as:

   os.system( &quot;kill -s SIGUSR1 26199 &gt;&gt; /tmp/dummy.log 2&gt;&amp;1&quot; )

This will allow you to see any errors. With the way that Apache works,
you might not otherwise see errors generated by a call to os.system()
until Apache is shutdown and certain buffers are flushed out.

Graham


</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018094.html">[mod_python] os.system() call does not work within mod_python script
</A></li>
	<LI>Next message: <A HREF="018096.html">[mod_python] os.system() call does not work within mod_python
	script
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18095">[ date ]</a>
              <a href="thread.html#18095">[ thread ]</a>
              <a href="subject.html#18095">[ subject ]</a>
              <a href="author.html#18095">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
