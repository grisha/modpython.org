<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] problem to import pylab of matplotlib
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20problem%20to%20import%20pylab%20of%20matplotlib&In-Reply-To=429706BB.3080304%40free.fr">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018194.html">
   <LINK REL="Next"  HREF="018196.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] problem to import pylab of matplotlib</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20problem%20to%20import%20pylab%20of%20matplotlib&In-Reply-To=429706BB.3080304%40free.fr"
       TITLE="[mod_python] problem to import pylab of matplotlib">grahamd at dscpl.com.au
       </A><BR>
    <I>Fri May 27 08:01:31 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="018194.html">[mod_python] problem to import pylab of matplotlib
</A></li>
        <LI>Next message: <A HREF="018196.html">[mod_python] problem to import pylab of matplotlib
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18195">[ date ]</a>
              <a href="thread.html#18195">[ thread ]</a>
              <a href="subject.html#18195">[ subject ]</a>
              <a href="author.html#18195">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 27/05/2005, at 9:38 PM, Damien wrote:
&gt;<i> the content of /usr/lib/python2.3/site-packages/pylab.py is :
</I>&gt;<i>
</I>&gt;<i> from matplotlib.pylab import *
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> If y replace the &quot;import pylab&quot; by &quot;from matplotlib.pylab import *&quot; in 
</I>&gt;<i> my index.py
</I>&gt;<i> i have a new error  :
</I>&gt;<i>
</I>&gt;<i> pylab function
</I>&gt;<i> &lt;pre&gt;
</I>&gt;<i> Mod_python error: &quot;PythonHandler index&quot;
</I>&gt;<i>
</I>&gt;<i> Traceback (most recent call last):
</I>&gt;<i>
</I>&gt;<i>  File &quot;/usr/lib/python2.3/site-packages/mod_python/apache.py&quot;, line 
</I>&gt;<i> 299, in HandlerDispatch
</I>&gt;<i>    result = object(req)
</I>&gt;<i>
</I>&gt;<i>  File &quot;/var/www/html/index.py&quot;, line 15, in handler
</I>&gt;<i>    for i in dir(pylab):
</I>&gt;<i>
</I>&gt;<i> NameError: global name 'pylab' is not defined
</I>&gt;<i>
</I>&gt;<i> &lt;/pre&gt;
</I>
You would need to use:

   for in globals().keys():

instead of:

   for i in dir(pylab):

as using &quot;from matplotlib.pylab import *&quot; imports them into your own
globals.

This means that instead of:

   pylab.figure(1)

you would also just use:

   figure(1)

Anyway, the original pylib.py should have worked as standard Python
import is being used.

One possibility for problems is that everything is contained in .so 
files.
There may be some sort of problem loading these within the context of 
the
Apache process. I would though have expected to see a Python exception
if there was.

Only thing I can think of is to stop and start Apache and then look in
the Apache error log file. There may be errors which are getting sent
to stderr but which aren't getting flushed immediately (known issue).
By shutting down Apache these error messages usually then get flushed
and can be seen.

Graham

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018194.html">[mod_python] problem to import pylab of matplotlib
</A></li>
	<LI>Next message: <A HREF="018196.html">[mod_python] problem to import pylab of matplotlib
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18195">[ date ]</a>
              <a href="thread.html#18195">[ thread ]</a>
              <a href="subject.html#18195">[ subject ]</a>
              <a href="author.html#18195">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
