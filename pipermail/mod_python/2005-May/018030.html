<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] req.sendfile(): specifying a name for the file sent?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20req.sendfile%28%29%3A%20specifying%20a%20name%20for%20the%20file%20sent%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018029.html">
   <LINK REL="Next"  HREF="018033.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] req.sendfile(): specifying a name for the file sent?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>David Y. Badawi, M.D.</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20req.sendfile%28%29%3A%20specifying%20a%20name%20for%20the%20file%20sent%3F&In-Reply-To="
       TITLE="[mod_python] req.sendfile(): specifying a name for the file sent?">davidbadawi at yahoo.com
       </A><BR>
    <I>Mon May  9 19:10:10 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="018029.html">[mod_python] mod_python not working (Newbie-alert!)
</A></li>
        <LI>Next message: <A HREF="018033.html">[mod_python] mod_python session trouble
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18030">[ date ]</a>
              <a href="thread.html#18030">[ thread ]</a>
              <a href="subject.html#18030">[ subject ]</a>
              <a href="author.html#18030">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I had a similar issue with mod_python some time back where I had two requirements:
-a txt file had to be generated
-a dynamically generated title for the document (to make saving the document more organized)
 
I created a handler for handling any URIs ending with '.txt' as opposed to .py or .psp to write out the request. Recall that mod_python doesn't care as much about the file name as it does for the suffix of the file.
 
My way is pretty hacky-i'd be curious to see what the pyGurus have to suggest.
 
David

Calvin Chen &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">calvin.chen at gmail.com</A>&gt; wrote:
Hello,

Right now, when I use req.sendfile(), the file download prompt comes
up and asks me if I want to download a file. So far so good. The
contents of this file is exactly how I wanted it to be. So far so
good.

I have this code in example.py:

---------
def index(req):
req.content_type='text/file'
req.sendfile('PATH_TO_FILE/name.txt')
---------

When the file is sent to the user, the file's default name is the URI
(ie 'example'), and I'd like to specify the filename, for example,
'name.txt' instead of 'example.'

Any ideas?

Thanks,
Calvin

_______________________________________________
Mod_python mailing list
<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>


David Y. Badawi, M.D.
Northwest Eye Physicians
1588 North Arlington Heights Road
Arlington Heights, Illinois 60004

Phone: 847 392 9220
Fax:     847 392 9252
email:  <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">davidbadawi at yahoo.com</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20050509/3ad194e2/attachment.html">http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20050509/3ad194e2/attachment.html</A>
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018029.html">[mod_python] mod_python not working (Newbie-alert!)
</A></li>
	<LI>Next message: <A HREF="018033.html">[mod_python] mod_python session trouble
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18030">[ date ]</a>
              <a href="thread.html#18030">[ thread ]</a>
              <a href="subject.html#18030">[ subject ]</a>
              <a href="author.html#18030">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
