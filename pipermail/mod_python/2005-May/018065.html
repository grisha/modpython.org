<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Outgoing apache handler
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Outgoing%20apache%20handler&In-Reply-To=c298f2d705050902057ea6ac75%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018014.html">
   <LINK REL="Next"  HREF="018054.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Outgoing apache handler</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Lee Brown</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Outgoing%20apache%20handler&In-Reply-To=c298f2d705050902057ea6ac75%40mail.gmail.com"
       TITLE="[mod_python] Outgoing apache handler">administrator at leebrown.org
       </A><BR>
    <I>Thu May 12 09:16:42 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="018014.html">[mod_python] Outgoing apache handler
</A></li>
        <LI>Next message: <A HREF="018054.html">[mod_python] Outgoing apache handler
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18065">[ date ]</a>
              <a href="thread.html#18065">[ thread ]</a>
              <a href="subject.html#18065">[ subject ]</a>
              <a href="author.html#18065">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Greetings!

A filter might (or might not) be the best place to do this.  XSLT transform
engines like Xalan want to have the whole source document available in one
chunk, but a filter object has no way of knowing that it has the whole
source stream available to it when called.  (It might, it might not; you'd
have to run some test cases to be sure.)

A &quot;brute force&quot; way to implement the transform as a filter would be to use
something like Saxon, which can handle piecewise data input, but the
downside to that is that you'd end up writing your own transform engine in
Python.

Doing the transform in the content phase, however, allows you to fetch the
entire source document and feed it to the transform engine.  Another
advantage of doing it in the content phase is that it gives you a chance to
&quot;tweak&quot; the result tree.

In the application I'm currently working on, I have a mixture of both static
and dynamic content to be served.  I use XSLT to build up the static content
from XML data and then I inject computed content by manipulating the result
tree DOM.  This works pretty well, though using PyXML to manipulate the DOM
is a lot slower that using Pyana to do straight transforms.  My next
development step is to figure out a way to pre-process the dynamic content
into an XML stream so that I can build the content all in one shot through
the XSLT engine.

Best Regards,
Lee E. Brown
(<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">administrator at leebrown.org</A>)

-----Original Message-----
From: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python-bounces at modpython.org</A>
[mailto:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python-bounces at modpython.org</A>] On Behalf Of Nicolas Lehuen
Sent: Monday, May 09, 2005 5:05 AM
To: Simon Wittber
Cc: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
Subject: Re: [mod_python] Outgoing apache handler

I have done nothing similar, but I think the way to go would be to implement
a filter. See :

<A HREF="http://www.modpython.org/live/current/doc-html/pyapi-filter.html">http://www.modpython.org/live/current/doc-html/pyapi-filter.html</A>

Regards,

Nicolas

2005/5/9, Simon Wittber &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">simonwittber at gmail.com</A>&gt;:
&gt;<i> Hello chaps.
</I>&gt;<i> 
</I>&gt;<i> I want to write a handler which will process outgoing xml files.
</I>&gt;<i> 
</I>&gt;<i> It will check for an xsl stylesheet declaration, and transform the xml 
</I>&gt;<i> server side before sending the content to the browser.
</I>&gt;<i> 
</I>&gt;<i> My question is, which apache phase should I add this handler to, and 
</I>&gt;<i> has anyone else done something similar?
</I>&gt;<i> 
</I>&gt;<i> Sw.
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>
_______________________________________________
Mod_python mailing list
<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018014.html">[mod_python] Outgoing apache handler
</A></li>
	<LI>Next message: <A HREF="018054.html">[mod_python] Outgoing apache handler
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18065">[ date ]</a>
              <a href="thread.html#18065">[ thread ]</a>
              <a href="subject.html#18065">[ subject ]</a>
              <a href="author.html#18065">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
