<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] mod_python session trouble
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20session%20trouble&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018048.html">
   <LINK REL="Next"  HREF="018036.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] mod_python session trouble</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20session%20trouble&In-Reply-To="
       TITLE="[mod_python] mod_python session trouble">grahamd at dscpl.com.au
       </A><BR>
    <I>Tue May 10 01:53:44 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="018048.html">[mod_python] mod_python session trouble
</A></li>
        <LI>Next message: <A HREF="018036.html">[mod_python] mod_python session trouble
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18034">[ date ]</a>
              <a href="thread.html#18034">[ thread ]</a>
              <a href="subject.html#18034">[ subject ]</a>
              <a href="author.html#18034">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>It would help if you can isolate it to a very small example which
demonstrates the problem and post it here.

BTW, are you using req.internal_redirect() in any way, especially
where you are trying to access the session object both before
and after the redirection? Also, are you stashing any data within
the &quot;req&quot; object for use in later phases of processing?

Can possibly be related to unlocking of session not being done
properly. Are you using &quot;prefork&quot; or a multithread MPM with Apache
such as &quot;worker&quot;?

There have been some issues with use of sessions and internal
session locking code that have come up before, but at this stage
couldn't be sure what is relevant and what isn't, so extra information
including code example would help.

Graham

Wouter van Marle wrote ..
&gt;<i> Hi all,
</I>&gt;<i> 
</I>&gt;<i> Recently I started experimenting with mod_python and the Session module.
</I>&gt;<i> I run into a very serious problem (tested in both Mozilla/Linux and
</I>&gt;<i> Safari/Mac), which appears to be a server side problem, in the
</I>&gt;<i> interaction of mod_python with Apache.
</I>&gt;<i> Description:
</I>&gt;<i> I open a session using sess=Session.Session(req).
</I>&gt;<i> When trying to load the same page (with session) again, it goes fine for
</I>&gt;<i> no more than about five times (sometimes not at all), and after that the
</I>&gt;<i> page hangs: waiting for response from server. I have noticed that there
</I>&gt;<i> are many new apache processes created, one for every attempted reload.
</I>&gt;<i> Restarting the server (service httpd restart) fixes the problem.
</I>&gt;<i> Switching off cookies in the browser also solves this problem, though it
</I>&gt;<i> of course also prevents session tracking and storage.
</I>&gt;<i> 
</I>&gt;<i> Software:
</I>&gt;<i> - Apache 2.0.50-5mdk (installed from Mandrake rpm)
</I>&gt;<i> - Python 2.3.4-6mdk
</I>&gt;<i> - mod_python 3.2.3 (rpm name: apache2-mod_python-2.0.50_3.1.3-1mdk)
</I>&gt;<i>
</I>&gt;<i> Anyone having the same problem? Any solutions?
</I>&gt;<i> Instead of sessions I've tried to use cookies, but info is only really
</I>&gt;<i> updated after the page is refreshed from the browser! I can set a cookie
</I>&gt;<i> and when re-reading it immediate after it is still the old info. So
</I>&gt;<i> that's also not a great solution.
</I>&gt;<i> 
</I>&gt;<i> Wouter.
</I></PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018048.html">[mod_python] mod_python session trouble
</A></li>
	<LI>Next message: <A HREF="018036.html">[mod_python] mod_python session trouble
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18034">[ date ]</a>
              <a href="thread.html#18034">[ thread ]</a>
              <a href="subject.html#18034">[ subject ]</a>
              <a href="author.html#18034">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
