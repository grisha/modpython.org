<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] How to initialize a variable using PythonImport and
	access it from a Handler?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20How%20to%20initialize%20a%20variable%20using%20PythonImport%20and%0A%09access%20it%20from%20a%20Handler%3F&In-Reply-To=2389d47305050211349baed3e%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017979.html">
   <LINK REL="Next"  HREF="017981.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] How to initialize a variable using PythonImport and
	access it from a Handler?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20How%20to%20initialize%20a%20variable%20using%20PythonImport%20and%0A%09access%20it%20from%20a%20Handler%3F&In-Reply-To=2389d47305050211349baed3e%40mail.gmail.com"
       TITLE="[mod_python] How to initialize a variable using PythonImport and
	access it from a Handler?">grahamd at dscpl.com.au
       </A><BR>
    <I>Mon May  2 16:44:19 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="017979.html">[mod_python] How to initialize a variable using PythonImport and
	access it from a Handler?
</A></li>
        <LI>Next message: <A HREF="017981.html">[mod_python] How to initialize a variable using PythonImport and
	access it from a Handler?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17980">[ date ]</a>
              <a href="thread.html#17980">[ thread ]</a>
              <a href="subject.html#17980">[ subject ]</a>
              <a href="author.html#17980">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You have either hit the weird restricted mode problem that some people  
are
seeing with Python 2.3.5 or later versions of Python, or perhaps it is
simply because you have initialised the variable in the  
&quot;main_interpreter&quot;
yet the request is being handled in a different interpreter. Have you  
named
explicitly the interpreter to be used as &quot;main_interpreter&quot; for part of  
URL
namespace requests are handled in? Ie.,

   PythonInterpreter main_interpreter

By default interpreter will have name something like your hostname and  
thus
would be a distinct interpreter and thus distinct global data space.  
Using
just Python code, you cant access between interpreters.

Graham

On 03/05/2005, at 4:34 AM, jarrod roberson wrote:

&gt;<i> I am trying to get access to a list that is being updated by a Twisted  
</I>&gt;<i> Reactor.
</I>&gt;<i> I do a PythonIport myapp main_interpreter in httpd.conf
</I>&gt;<i> I have a handler that I want to print out the contents of list  
</I>&gt;<i> returned from a function on the global object, but I get this error
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Any ideas . . .
</I>&gt;<i>
</I>&gt;<i> Mod_python error: &quot;PythonHandler viewZeroConf&quot;
</I>&gt;<i>
</I>&gt;<i> Traceback (most recent call last):
</I>&gt;<i>
</I>&gt;<i>   File  
</I>&gt;<i> &quot;/System/Library/Frameworks/Python.framework/Versions/2.3/lib/ 
</I>&gt;<i> python2.3/site-packages/mod_python/apache.py&quot;, line 287, in  
</I>&gt;<i> HandlerDispatch
</I>&gt;<i>
</I>&gt;<i>     log=debug)
</I>&gt;<i>
</I>&gt;<i>   File  
</I>&gt;<i> &quot;/System/Library/Frameworks/Python.framework/Versions/2.3/lib/ 
</I>&gt;<i> python2.3/site-packages/mod_python/apache.py&quot;, line 457, in  
</I>&gt;<i> import_module
</I>&gt;<i>     module = imp.load_module(mname, f, p, d)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>   File &quot;/www/viewZeroConf.py&quot;, line 2, in ?
</I>&gt;<i>     import myapp
</I>&gt;<i>
</I>&gt;<i>   File &quot;/www/weblife/__init__.py&quot;, line 7, in ?
</I>&gt;<i>     from twisted.internet import reactor
</I>&gt;<i>
</I>&gt;<i>   File  
</I>&gt;<i> &quot;/System/Library/Frameworks/Python.framework/Versions/2.3/lib/ 
</I>&gt;<i> python2.3/site-packages/twisted/internet/reactor.py&quot;, line 11, in ?
</I>&gt;<i>
</I>&gt;<i>     from twisted.internet import selectreactor
</I>&gt;<i>
</I>&gt;<i>   File  
</I>&gt;<i> &quot;/System/Library/Frameworks/Python.framework/Versions/2.3/lib/ 
</I>&gt;<i> python2.3/site-packages/twisted/internet/selectreactor.py&quot;, line 22,  
</I>&gt;<i> in ?
</I>&gt;<i>     from
</I>&gt;<i> twisted.internet import posixbase
</I>&gt;<i>
</I>&gt;<i>   File  
</I>&gt;<i> &quot;/System/Library/Frameworks/Python.framework/Versions/2.3/lib/ 
</I>&gt;<i> python2.3/site-packages/twisted/internet/posixbase.py&quot;, line 25, in ?
</I>&gt;<i>     from twisted.internet import tcp, udp
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>   File  
</I>&gt;<i> &quot;/System/Library/Frameworks/Python.framework/Versions/2.3/lib/ 
</I>&gt;<i> python2.3/site-packages/twisted/internet/tcp.py&quot;, line 65, in ?
</I>&gt;<i>     from twisted.internet import protocol, defer, base, address
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>   File  
</I>&gt;<i> &quot;/System/Library/Frameworks/Python.framework/Versions/2.3/lib/ 
</I>&gt;<i> python2.3/site-packages/twisted/internet/protocol.py&quot;, line 25, in ?
</I>&gt;<i>     class Factory:
</I>&gt;<i>
</I>&gt;<i>   File  
</I>&gt;<i> &quot;/System/Library/Frameworks/Python.framework/Versions/2.3/lib/ 
</I>&gt;<i> python2.3/site-packages/zope/interface/advice.py&quot;, line 132, in advise
</I>&gt;<i>
</I>&gt;<i>     return callback(newClass)
</I>&gt;<i>
</I>&gt;<i>   File  
</I>&gt;<i> &quot;/System/Library/Frameworks/Python.framework/Versions/2.3/lib/ 
</I>&gt;<i> python2.3/site-packages/zope/interface/declarations.py&quot;, line 550, in  
</I>&gt;<i> _implements_advice
</I>&gt;<i>     classImplements(cls, *interfaces)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>   File  
</I>&gt;<i> &quot;/System/Library/Frameworks/Python.framework/Versions/2.3/lib/ 
</I>&gt;<i> python2.3/site-packages/zope/interface/declarations.py&quot;, line 526, in  
</I>&gt;<i> classImplements
</I>&gt;<i>     spec = implementedBy(cls)
</I>&gt;<i>
</I>&gt;<i>   File  
</I>&gt;<i> &quot;/System/Library/Frameworks/Python.framework/Versions/2.3/lib/ 
</I>&gt;<i> python2.3/site-packages/zope/interface/declarations.py&quot;, line 364, in  
</I>&gt;<i> implementedByFallback
</I>&gt;<i>
</I>&gt;<i>     spec = cls.__dict__.get('__implemented__')
</I>&gt;<i>
</I>&gt;<i> RuntimeError: class.__dict__ not accessible in restricted mode
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017979.html">[mod_python] How to initialize a variable using PythonImport and
	access it from a Handler?
</A></li>
	<LI>Next message: <A HREF="017981.html">[mod_python] How to initialize a variable using PythonImport and
	access it from a Handler?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17980">[ date ]</a>
              <a href="thread.html#17980">[ thread ]</a>
              <a href="subject.html#17980">[ subject ]</a>
              <a href="author.html#17980">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
