<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] frustrating problem importing packages with
	mod_python
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20frustrating%20problem%20importing%20packages%20with%0A%09mod_python&In-Reply-To=42963ACC.2090602%40potenzaconsulting.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018182.html">
   <LINK REL="Next"  HREF="018184.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] frustrating problem importing packages with
	mod_python</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20frustrating%20problem%20importing%20packages%20with%0A%09mod_python&In-Reply-To=42963ACC.2090602%40potenzaconsulting.com"
       TITLE="[mod_python] frustrating problem importing packages with
	mod_python">grahamd at dscpl.com.au
       </A><BR>
    <I>Thu May 26 17:55:35 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="018182.html">[mod_python] frustrating problem importing packages with mod_python
</A></li>
        <LI>Next message: <A HREF="018184.html">[mod_python] frustrating problem importing packages with
	mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18183">[ date ]</a>
              <a href="thread.html#18183">[ thread ]</a>
              <a href="subject.html#18183">[ subject ]</a>
              <a href="author.html#18183">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Where is the &quot;steve&quot; package located in relation to the directory
containing the handler? What is your Python sys.path set to? Are
you overriding &quot;PythonPath&quot; directive? Are you using a &quot;.htaccess&quot;
file to enable use of publisher or the main Apache configuration
file? If the latter, have you used the &quot;Directory&quot; directive or
the &quot;Location&quot; directive to surround the mod_python definitions?

Try and answer these questions. Also post what the part of your
Apache configuration looks like where you enable use of publisher
for mod_python.

One warning, if you use &quot;Location&quot; in the Apache configuration
instead of &quot;Directory&quot;, mod_python will not be able to add to the
Python module search path the physical directory for which the
PythonHandler directive is defined, ie., where your handler
potentially resides. As such, if your &quot;steve&quot; package is in a
subdirectory of your handler it will not be able to find it.
Further, even if &quot;Directory&quot; is used, if both the handler and
the &quot;steve&quot; package are in a subdirectory of the directory for
which PythonHandler is defined, it will not find &quot;steve&quot; as only
the top most PythonHandler directory is added to the module search
path.

Anyway, explain better how your directories are laid out etc
and then we might be able to be more specific.

Graham


On 27/05/2005, at 7:08 AM, Stephen Potenza wrote:

&gt;<i> I setup a simple mod_python publisher and it's working perfectly.
</I>&gt;<i>
</I>&gt;<i> [index.py]
</I>&gt;<i> def index():
</I>&gt;<i>     return &quot;hi from index&quot;
</I>&gt;<i>
</I>&gt;<i> When I access it through <A HREF="http://localhost/python/,">http://localhost/python/,</A> I see &quot;hi from
</I>&gt;<i> index&quot;... everything works fine.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> However, when I try import a module from a package I created named
</I>&gt;<i> &quot;steve&quot;, I get the following error:
</I>&gt;<i>
</I>&gt;<i> -------------------------------------------------------------------
</I>&gt;<i> Mod_python error: &quot;PythonHandler mod_python.publisher&quot;
</I>&gt;<i>
</I>&gt;<i> Traceback (most recent call last):
</I>&gt;<i>
</I>&gt;<i>   File &quot;/usr/lib/python2.3/site-packages/mod_python/apache.py&quot;, line
</I>&gt;<i> 299, in HandlerDispatch
</I>&gt;<i>     result = object(req)
</I>&gt;<i>
</I>&gt;<i>   File &quot;/usr/lib/python2.3/site-packages/mod_python/publisher.py&quot;, line
</I>&gt;<i> 98, in handler
</I>&gt;<i>     path=[path])
</I>&gt;<i>
</I>&gt;<i>   File &quot;/usr/lib/python2.3/site-packages/mod_python/apache.py&quot;, line
</I>&gt;<i> 457, in import_module
</I>&gt;<i>     module = imp.load_module(mname, f, p, d)
</I>&gt;<i>
</I>&gt;<i>   File &quot;/var/www/python/index.py&quot;, line 1, in ?
</I>&gt;<i>     from steve import dummy
</I>&gt;<i>
</I>&gt;<i> ImportError: No module named steve
</I>&gt;<i> -------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> [index.py]
</I>&gt;<i> from steve import dummy
</I>&gt;<i>
</I>&gt;<i> def index():
</I>&gt;<i>     return dummy.say()
</I>&gt;<i>
</I>&gt;<i> if __name__ == &quot;__main__&quot;:
</I>&gt;<i>     print index()
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The &quot;steve&quot; package/directory contains two files:
</I>&gt;<i>
</I>&gt;<i> - __init__.py (blank)
</I>&gt;<i> - dummy.py
</I>&gt;<i>
</I>&gt;<i> [dummy.py]
</I>&gt;<i> def say():
</I>&gt;<i>     return &quot;this is dummy!&quot;
</I>&gt;<i>
</I>&gt;<i> When I run index.py from the command line, it works perfectly. Any 
</I>&gt;<i> ideas??
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Steve
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018182.html">[mod_python] frustrating problem importing packages with mod_python
</A></li>
	<LI>Next message: <A HREF="018184.html">[mod_python] frustrating problem importing packages with
	mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18183">[ date ]</a>
              <a href="thread.html#18183">[ thread ]</a>
              <a href="subject.html#18183">[ subject ]</a>
              <a href="author.html#18183">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
