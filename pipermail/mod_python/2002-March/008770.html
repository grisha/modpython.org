<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] persistant variables
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20persistant%20variables&In-Reply-To=20020321111659.GA8699%40fullfactor.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008769.html">
   <LINK REL="Next"  HREF="008773.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
<table border=0 width="100%"><tr><td valign="top">
   <H1>[mod_python] persistant variables</H1>
    <B>Gary Maynard</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20persistant%20variables&In-Reply-To=20020321111659.GA8699%40fullfactor.com"
       TITLE="[mod_python] persistant variables">maynard at mpi-cbg.de
       </A><BR>
    <I>Thu Mar 21 13:15:18 EST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="008769.html">[mod_python] Installation problems
</A></li>
        <LI>Next message: <A HREF="008773.html">[mod_python] persistant variables
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8770">[ date ]</a>
              <a href="thread.html#8770">[ thread ]</a>
              <a href="subject.html#8770">[ subject ]</a>
              <a href="author.html#8770">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
  I want to know how to store persistant variables in mod_python. I have
written some simple code that works like this:

def handler(req):
        global testthis
        try:
                d = testthis
        except:
                testthis = 1
        req.send_http_header()
        req.write(str(testthis))
        testthis = testthis + 1
        return apache.OK

each time the script is run it should print the last value of testthis and
then increment it.

However, because Apache has several servers running, I end up with several
instances of testhis, one of which gets printed and incremented each time.

How can I force mod_python to only have one instance of the variable? Or
should I be trying to do this in an entirely different way?

I can set Apache to only start with one server (which makes it work),
however it will spawn more servers if it gets two hits at the same time, so
this won't really work.

thanks
Gary




</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008769.html">[mod_python] Installation problems
</A></li>
	<LI>Next message: <A HREF="008773.html">[mod_python] persistant variables
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8770">[ date ]</a>
              <a href="thread.html#8770">[ thread ]</a>
              <a href="subject.html#8770">[ subject ]</a>
              <a href="author.html#8770">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
