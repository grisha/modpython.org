<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Installation problems
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Installation%20problems&In-Reply-To=200203210536.g2L5akf61316%40mail.via.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012464.html">
   <LINK REL="Next"  HREF="012467.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Installation problems</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Ian Clelland</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Installation%20problems&In-Reply-To=200203210536.g2L5akf61316%40mail.via.net"
       TITLE="[mod_python] Installation problems">ian at veryfresh.com
       </A><BR>
    <I>Thu Mar 21 03:16:59 EST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="012464.html">[mod_python] Installation problems
</A></li>
        <LI>Next message: <A HREF="012467.html">[mod_python] persistant variables
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12466">[ date ]</a>
              <a href="thread.html#12466">[ thread ]</a>
              <a href="subject.html#12466">[ subject ]</a>
              <a href="author.html#12466">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I believe that your problems stem from the fact that you are trying to 
use mod_python as if it was a 'traditional' scripting language like PHP 
or ASP.

With either of those languages, you can simply write scripts with the 
appropriate extensions, place them in a web-accessable directory, and 
they're automatically executable.

With mod_python, you are actually writing Apache modules in the python 
language. You need to use Apache directives to configure those modules 
to be activated at the appropriate times.

Depending on how you want to do things, I see two ways to get your test 
script to run:

1) Install the script as a handler. This is the closest to what you are 
   currently doing. The problem is that Python cannot find your module. 
   You can just add the line

     PythonPath &quot;sys.path+['/usr/local/httpd/htdocs/test']&quot;

   to your &lt;Directory&gt; entry, and the module should load.

2) Use the supplied Publisher handler (check the tutorial at 
   www.modpython.org). This is a great hack which allows a single 
   handler to load .py files from anywhere in your site. It appears to 
   be closer to what you intended to do, which is to just run a .py 
   file out of a URL.


I hope that helps clear things up.

A couple of quick points about your original email:

&gt;<i> /test/mptest.py  - I am asked what program to use to execute this file
</I>This is because you have associated a MIME type with the .py extension, 
and Apache doesn't know what to do with it. (The mod_python module 
doesn't deal with MIME types like mod_php). The only thing it can do is 
offer the file for download.

&gt;<i> /test/mptest      - lists the ASCII source of the file
</I>In this case, Apache's content negotiation is finding the best match 
for /mptest and returning that to you as a text document.

&gt;<i>     &lt;IfModule mod_python.c&gt;
</I>&gt;<i>     AddType application/x-httpd-py .py
</I>&gt;<i>     &lt;/IfModule&gt;
</I>This section is unnecessary, and should probably be deleted.

&gt;<i> PYTHONPATH:	/usr/lib/python2.1:/usr/lib/python2.1/plat-linux2:
</I>&gt;<i> /usr/lib/python2.1/lib-tk:/usr/lib/python2.1/lib-dynload:/usr/lib/
</I>&gt;<i> python2.1/site-packages:/usr/lib/apache/lib/python/site-packages
</I>This variable shows the locations where Python will look for modules 
when you use an import statement (or a Python*Handler directive). Since 
/usr/local/httpd/htdocs/test is not in the list, Python cannot find 
your mptest module.


Regards,
Ian
&lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">ian at veryfresh.com</A>&gt;

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012464.html">[mod_python] Installation problems
</A></li>
	<LI>Next message: <A HREF="012467.html">[mod_python] persistant variables
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12466">[ date ]</a>
              <a href="thread.html#12466">[ thread ]</a>
              <a href="subject.html#12466">[ subject ]</a>
              <a href="author.html#12466">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
