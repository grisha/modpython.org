<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Session always create new session ID
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Session%20always%20create%20new%20session%20ID&In-Reply-To=20041003065505.GA2619%40barbucha.martin.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016553.html">
   <LINK REL="Next"  HREF="016555.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Session always create new session ID</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Lukas Almad Linhart</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Session%20always%20create%20new%20session%20ID&In-Reply-To=20041003065505.GA2619%40barbucha.martin.net"
       TITLE="[mod_python] Session always create new session ID">xlinl01 at vse.cz
       </A><BR>
    <I>Sun Oct  3 12:24:28 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="016553.html">[mod_python] Session always create new session ID
</A></li>
        <LI>Next message: <A HREF="016555.html">[mod_python] Session always create new session ID
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16554">[ date ]</a>
              <a href="thread.html#16554">[ thread ]</a>
              <a href="subject.html#16554">[ subject ]</a>
              <a href="author.html#16554">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Zdravim, 

s mod_pythonem pomerne silne zacinam a je to prechod z klasickeho pythonu a 
pomerne dlouhe dobe skriptovani v php, takze docela zmena. Kazdopadne se 
nebranim pouziti jinych handleru, ale psp ani spyce (byt se mi spyce libi) 
nechci pouzivat, zvlast proto, ze ani moc netouzim po vkladani python kodu 
primo do zdrojaku. 

Je nejaky problem s volanim session.save (pomalost etc.)? Vzhledem k tomu, ze 
si budu psat stejne vlastni template system, tak mi to nijak extra nevadi, 
asi min, nez pouzit nejakou implementaci, ktera bude nejak horsi 
(implementuje zbytecne kraviny, ne tak stabilni apod.). 

&gt;<i> Also, session id is stored as a cookie (pysid) on client side, so maybe no
</I>&gt;<i> need to print it each time into each link element.
</I>
A co lide co maji vyple cookies? ;)

&gt;<i> But there is something else id like to know -- is there a way how can i
</I>&gt;<i> rename the default name ('pysid') of a session -- ie. if im using 2 sites
</I>&gt;<i> on my server which both use session, there will be a problem.
</I>
Koukal jsem do zdrojaku mod_pythonu a tam je prefix nastavitelny v Session.py, 
takze by to asi slo hacknout a predelat tak, aby to jelo generovalo nejaky 
prefix nebo tak neco. 
A nebo, pouzit DbmSession, na coz se asi stejne chystam :-]

Kazdopadne dik za rady (spoluzaku ;)), 

-- 

Lukas &quot;Almad&quot; Linhart

[:: <A HREF="http://www.Include.cz/">http://www.Include.cz/</A> ::]
[:: Including Your wishes ::]
[:: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Almad at Include.cz</A> ::]

E-mail Martin Slouf ze dne Sun 3. of October 2004 08:55:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> look at the code listening bellow, you have to call session.save() (handler
</I>&gt;<i> request) manually at end of each request.  maybe using another handler
</I>&gt;<i> (mod_python.servlet -- <A HREF="http://home.comcast.net/~d.popowich/mpservlets/">http://home.comcast.net/~d.popowich/mpservlets/</A>) is
</I>&gt;<i> more convenient.
</I>&gt;<i>
</I>&gt;<i> Also, session id is stored as a cookie (pysid) on client side, so maybe no
</I>&gt;<i> need to print it each time into each link element.
</I>&gt;<i>
</I>&gt;<i> But there is something else id like to know -- is there a way how can i
</I>&gt;<i> rename the default name ('pysid') of a session -- ie. if im using 2 sites
</I>&gt;<i> on my server which both use session, there will be a problem.
</I>&gt;<i>
</I>&gt;<i> reagrds, martin.
</I>&gt;<i>
</I>&gt;<i> (mo&#382;n&#225; m&#367;&#382;u i &#269;esky? :)
</I>&gt;<i>
</I>&gt;<i> - - - -
</I>&gt;<i>
</I>&gt;<i> #! /usr/bin/env python
</I>&gt;<i> # -*- ISO-8859-2 -*-
</I>&gt;<i>
</I>&gt;<i> # Time-stamp: &lt; session_test.py (15:20 25.9.2004) &gt;
</I>&gt;<i>
</I>&gt;<i> from mod_python import apache
</I>&gt;<i> from mod_python import Session
</I>&gt;<i>
</I>&gt;<i> def index(req):
</I>&gt;<i>     s = Session.Session(req, timeout = 1)
</I>&gt;<i>     if (s.is_new()):
</I>&gt;<i>         s[&quot;count&quot;] = 0
</I>&gt;<i>         s[&quot;tmp&quot;] = &quot;message&quot;
</I>&gt;<i>         s[&quot;list&quot;] = [&quot;1&quot;, &quot;b&quot;, &quot;2&quot;, &quot;d&quot;]
</I>&gt;<i>         s[&quot;square&quot;] = Square(5)
</I>&gt;<i>     s[&quot;count&quot;] += 1
</I>&gt;<i>     req.write(s.id() + &quot;\n&quot;)
</I>&gt;<i>     req.write(str(s) + &quot;\n&quot;)
</I>&gt;<i>     req.write(str(s[&quot;square&quot;].a) + &quot;\n&quot;)
</I>&gt;<i>     s.save()
</I>&gt;<i>
</I>&gt;<i> def invalidate(req):
</I>&gt;<i>     s = Session.Session(req)
</I>&gt;<i>     s.invalidate()
</I>&gt;<i>     req.write(&quot;invalidate&quot;)
</I>&gt;<i>
</I>&gt;<i> class Square:
</I>&gt;<i>     def __init__(self, a = 0):
</I>&gt;<i>         self.a = 0
</I>&gt;<i>     def __str__(self):
</I>&gt;<i>         return &quot;Square: a = %d&quot; % (self.a,)
</I>&gt;<i>     def __repr__(self):
</I>&gt;<i>         return str(self)
</I>&gt;<i>
</I>&gt;<i> - - - -
</I>&gt;<i>
</I>&gt;<i> # .htacces
</I>&gt;<i>
</I>&gt;<i> AddHandler mod_python .py
</I>&gt;<i> PythonHandler mod_python.publisher
</I>&gt;<i> PythonDebug On
</I>&gt;<i> PythonAutoReload On
</I>-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 190 bytes
Desc: not available
Url : <A HREF="http://modpython.org/pipermail/mod_python/attachments/20041003/b30b35bd/attachment.bin">http://modpython.org/pipermail/mod_python/attachments/20041003/b30b35bd/attachment.bin</A>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016553.html">[mod_python] Session always create new session ID
</A></li>
	<LI>Next message: <A HREF="016555.html">[mod_python] Session always create new session ID
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16554">[ date ]</a>
              <a href="thread.html#16554">[ thread ]</a>
              <a href="subject.html#16554">[ subject ]</a>
              <a href="author.html#16554">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
