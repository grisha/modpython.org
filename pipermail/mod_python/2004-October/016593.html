<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Udate python modules without restarting Apache
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Udate%20python%20modules%20without%20restarting%20Apache&In-Reply-To=680bcd95041007140951ce3d62%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016591.html">
   <LINK REL="Next"  HREF="016594.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Udate python modules without restarting Apache</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Udate%20python%20modules%20without%20restarting%20Apache&In-Reply-To=680bcd95041007140951ce3d62%40mail.gmail.com"
       TITLE="[mod_python] Udate python modules without restarting Apache">grahamd at dscpl.com.au
       </A><BR>
    <I>Fri Oct  8 08:30:11 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="016591.html">[mod_python] Udate python modules without restarting Apache
</A></li>
        <LI>Next message: <A HREF="016594.html">[mod_python] Udate python modules without restarting Apache
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16593">[ date ]</a>
              <a href="thread.html#16593">[ thread ]</a>
              <a href="subject.html#16593">[ subject ]</a>
              <a href="author.html#16593">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Friday, October 8, 2004, at 07:09  AM, berry groenendijk wrote:

&gt;<i> There is indeed very little information on the Internet about the
</I>&gt;<i> apache.import_module funtion. I did find this Wiki page:
</I>&gt;<i> <A HREF="http://modpython.coedit.net/ReloadingModules">http://modpython.coedit.net/ReloadingModules</A>
</I>&gt;<i>
</I>&gt;<i> I now import all my Python modules using apache.import_module, except
</I>&gt;<i> for all the Standard Library imports. All indirectly imported modules
</I>&gt;<i> are also imported with apache.import_module. In my .htaccess file I
</I>&gt;<i> have set PythonAutoReload On.
</I>&gt;<i>
</I>&gt;<i> But, when I make a change in a module, save it and refresh my browser,
</I>&gt;<i> the module is NOT reloaded. Why? Has anyone succefully used
</I>&gt;<i> apache.import_module?
</I>
Is the module you change one that is directly listed in a PythonHandler
directive, or if using mod_python.publisher, is it a module which is
being directly loaded by mod_python.publisher?

If it isn't and it is one of your common modules which is imported by
one falling into the above class of modules, then you still may at
least need to touch all the top level modules which use it. This is
because import_module() will not reload a top level module if what is
changed is actually in a module it imports.

Ie., if a.py imports b.py using import_module() and b.py is changed, but
then access is to a.py for the web page, neither a.py nor b.py will be
imported. You need to touch a.py first as well. If I understand things
correctly, it should then import a.py again, which in turn, since b.py
was modified should see import_module() import it as well.

What content handler system are you using, publisher, psp, home grown?
Can you describe how the modules/files relate and what is being changed?

--
Graham Dumpleton (<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">grahamd at dscpl.com.au</A>)

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016591.html">[mod_python] Udate python modules without restarting Apache
</A></li>
	<LI>Next message: <A HREF="016594.html">[mod_python] Udate python modules without restarting Apache
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16593">[ date ]</a>
              <a href="thread.html#16593">[ thread ]</a>
              <a href="subject.html#16593">[ subject ]</a>
              <a href="author.html#16593">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
