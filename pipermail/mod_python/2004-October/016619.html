<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] does add_handler even work?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20does%20add_handler%20even%20work%3F&In-Reply-To=20041013023126.GT32367%40sventech.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016618.html">
   <LINK REL="Next"  HREF="016620.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] does add_handler even work?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20does%20add_handler%20even%20work%3F&In-Reply-To=20041013023126.GT32367%40sventech.com"
       TITLE="[mod_python] does add_handler even work?">grahamd at dscpl.com.au
       </A><BR>
    <I>Tue Oct 12 22:34:35 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="016618.html">[mod_python] does add_handler even work?
</A></li>
        <LI>Next message: <A HREF="016620.html">[mod_python] does add_handler even work?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16619">[ date ]</a>
              <a href="thread.html#16619">[ thread ]</a>
              <a href="subject.html#16619">[ subject ]</a>
              <a href="author.html#16619">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Oct 12 19:31, Johannes Erdfelt &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">johannes at erdfelt.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Subject: Re: [mod_python] does add_handler even work?
</I>&gt;<i>
</I>&gt;<i> On Tue, Oct 12, 2004, Graham Dumpleton &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">grahamd at dscpl.com.au</A>&gt; wrote:
</I>&gt;<i> &gt; On Oct 12 17:37, Johannes Erdfelt &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">johannes at erdfelt.com</A>&gt; wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Vampire can be found at:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;   <A HREF="http://www.dscpl.com.au/projects/vampire">http://www.dscpl.com.au/projects/vampire</A>
</I>&gt;<i> 
</I>&gt;<i> I looked at Vampire at one point and it too seems to have the same
</I>&gt;<i> problem with PHP and autoindex as I've been running into.
</I>&gt;<i> 
</I>&gt;<i> Or am I mistaken?
</I>
Try adding the following after the SetHandler for mod_python.

  &lt;Files *.php&gt;
  SetHandler None
  &lt;/Files&gt;

For example, in my .htaccess file I have put:

  SetHandler python-program
  PythonHandler vampire

  &lt;Files *.php&gt;
  SetHandler None
  &lt;/Files&gt;

Just for .php files, it should undo the SetHandler directive used above that point.
 his appears to now allow me to dump PHP files in the same directory as that
managed by mod_python using a SetHandler directive.

In respect of mod_autoindex, is the problem you have that with Apache 1.3, a
reference against the directory would still honour setting of DirectoryIndex and
thus redirect to index.html as an example, but with Apache 2.0 it doesn't?

I found this problem with Apache 2.0 as well, although I note that in Apache 1.3
it only worked for the top level directory managed by mod_python. If there were
subdirectories under that, it wouldn't work for them anyway.

In Vampire 1.1 I specifically have a setting, eg:

  PythonOption VampireDirectoryIndex index.html

to get around this problem. That is, I handle the redirection with Vampire when a
directory access occurs. With Apache 1.3, I use a HTTP redirect, but with Apache 2.0
I use an internal redirect.

I have an actual note about this issue on updated web page I put up for Vampire 1.1.

Hope this helps.

--
Graham Dumpleton (<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">grahamd at dscpl.com.au</A>)
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016618.html">[mod_python] does add_handler even work?
</A></li>
	<LI>Next message: <A HREF="016620.html">[mod_python] does add_handler even work?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16619">[ date ]</a>
              <a href="thread.html#16619">[ thread ]</a>
              <a href="subject.html#16619">[ subject ]</a>
              <a href="author.html#16619">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
