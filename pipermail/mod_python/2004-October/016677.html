<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] ImportError: No module named index
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20ImportError%3A%20No%20module%20named%20index&In-Reply-To=002b01c4b7d5%249f799940%241e02a8c0%40leet">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016675.html">
   <LINK REL="Next"  HREF="016676.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] ImportError: No module named index</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20ImportError%3A%20No%20module%20named%20index&In-Reply-To=002b01c4b7d5%249f799940%241e02a8c0%40leet"
       TITLE="[mod_python] ImportError: No module named index">grahamd at dscpl.com.au
       </A><BR>
    <I>Thu Oct 21 21:42:50 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="016675.html">[mod_python] ImportError: No module named index
</A></li>
        <LI>Next message: <A HREF="016676.html">[mod_python] ANN: Vampire 1.2 is now available.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16677">[ date ]</a>
              <a href="thread.html#16677">[ thread ]</a>
              <a href="subject.html#16677">[ subject ]</a>
              <a href="author.html#16677">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 22/10/2004, at 11:22 AM, Robert Geller wrote:
&gt;<i> It returns the following error:
</I>&gt;<i> &#160;
</I>&gt;<i> Mod_python error: &quot;PythonHandler index.n::index&quot;
</I>&gt;<i>
</I>&gt;<i> Traceback (most recent call last):
</I>&gt;<i>
</I>&gt;<i>   File 
</I>&gt;<i> &quot;/usr/local/python/lib/python2.4/site-packages/mod_python/apache.py&quot;, 
</I>&gt;<i> line 287, in HandlerDispatch
</I>&gt;<i>     log=debug)
</I>&gt;<i>
</I>&gt;<i>   File 
</I>&gt;<i> &quot;/usr/local/python/lib/python2.4/site-packages/mod_python/apache.py&quot;, 
</I>&gt;<i> line 454, in import_module
</I>&gt;<i>     f, p, d = imp.find_module(parts[i], path)
</I>&gt;<i>
</I>&gt;<i> ImportError: No module named index
</I>&gt;<i> &#160;
</I>&gt;<i> Oddly, when I make the handler file, or module, &quot;index.py&quot;, it works! 
</I>&gt;<i> But I don't *want* to make any related file have the
</I>&gt;<i> *.py extension, even if it's just the handler. I realize I can use 
</I>&gt;<i> index.py for the handler and then *.n for the front-end files,
</I>&gt;<i> but that's not how I want to do things.
</I>&gt;<i> &#160;
</I>&gt;<i> If anybody could please advise me on making actual *handlers* without 
</I>&gt;<i> .py extensions, that would be great!
</I>
Using mod_python by itself it cannot be done. This is because the
mod_python.apache.import_module() uses the Python &quot;imp&quot; module
and it will only allow importing of modules with a valid Python
module extension.

   &gt;&gt;&gt; import imp
   &gt;&gt;&gt; imp.get_suffixes()
   [('.so', 'rb', 3), ('module.so', 'rb', 3), ('.py', 'U', 1), ('.pyc', 
'rb', 2)]

The mod_python.servlet system uses an alternate extensions to .py,
namely .mps, but it only manages this by not using the Python &quot;imp&quot;
module and instead using exec/execfile() to implement its own module
loading system. When using exec/execfile() you can give it any
arbitrary filename and it will read its contents as Python code.

Now, if the reason you don't want to use the .py extension is purely
so that the means of implementation isn't reflected on the URL, then
have a look at Vampire (<A HREF="http://www.dscpl.com.au/projects/vampire">http://www.dscpl.com.au/projects/vampire</A>).
This allows you to use more traditional file extensions appropriate
to the type of content being returned, but even though access to the
actual Python code file is blocked, the Python code is still stored
in a .py file. Vampire is though implemented in a way to avoid a
lot of the problems which arise with using a .py extension in the
first place.

As to what else you can do, you would have to explain better why
you don't want to use a .py extension for the Python code files.

--
Graham Dumpleton (<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">grahamd at dscpl.com.au</A>)

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016675.html">[mod_python] ImportError: No module named index
</A></li>
	<LI>Next message: <A HREF="016676.html">[mod_python] ANN: Vampire 1.2 is now available.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16677">[ date ]</a>
              <a href="thread.html#16677">[ thread ]</a>
              <a href="subject.html#16677">[ subject ]</a>
              <a href="author.html#16677">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
