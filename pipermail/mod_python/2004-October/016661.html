<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Approaches to handling input forms.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Approaches%20to%20handling%20input%20forms.&In-Reply-To=1098229902.36767%40dscpl.com.au">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016657.html">
   <LINK REL="Next"  HREF="016663.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Approaches to handling input forms.</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Byron Ellacott</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Approaches%20to%20handling%20input%20forms.&In-Reply-To=1098229902.36767%40dscpl.com.au"
       TITLE="[mod_python] Approaches to handling input forms.">bje at apnic.net
       </A><BR>
    <I>Tue Oct 19 20:21:09 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="016657.html">[mod_python] Approaches to handling input forms.
</A></li>
        <LI>Next message: <A HREF="016663.html">[mod_python] Approaches to handling input forms.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16661">[ date ]</a>
              <a href="thread.html#16661">[ thread ]</a>
              <a href="subject.html#16661">[ subject ]</a>
              <a href="author.html#16661">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Graham Dumpleton wrote:
&gt;<i> Imagine there is a form for logging into a site and its url is at &quot;login&quot;. I've
</I>&gt;<i> ignored extensions in this discussion as different mechanisms may or may
</I>&gt;<i> not make it easy to use them.
</I>&gt;<i> Is there a tendency to have the form when submitted, post back using
</I>&gt;<i> the same url, ie., ACTION field in form is not set, or to a different url.
</I>
Your wording is mildly confusing here - let me see if my morning-addled 
brain has managed to interpret this correctly.

Your server has returned to the user an HTML page with a form in it, at 
a url of &quot;/login&quot;.  The user is now submitting a response to this form, 
and you're asking where people tend to have such things submitted?  I'll 
be going with the assumption that this is what you're asking.

&gt;<i> In this approach you tend to end up with a lot of things jumbled up into
</I>&gt;<i> one content handler and it could perceivably get a bit messy.
</I>
I've taken the approach that producing content in response to a GET 
request is an entirely separate action to taking an action in response 
to a POST request.  This means I've got very clearly separated view code 
and action code; you can consider this an MVC approach, where a POST 
handler is controller logic, and a GET handler is view logic.

A POST action handler will do its work, and return status information 
and a GET location.  Currently, I just pretend at this point that the 
request was that GET originally, because that makes including the POST 
result information trivial, but I plan to use an external redirect using 
an HTTP/1.1 303 code, since this has all the behaviours I desire: Back 
works, reloads don't resubmit the POST, and the URL location bar 
reflects what the user is seeing.

For HTTP/1.0 clients, the 302 does more or less the same thing.  Some 
browsers are just too ancient to do the right thing no matter what you 
do, and I tend not to worry about them.  If it's a specific requirement 
that you need to support pre-1998 browsers, you probably want to keep 
the entire system as trivially simple as possible anyway.

(Bad enough that we still need to support Internet Explorer, which is 
stuck in the 90s as far as standards are concerned.)

&gt;<i> If the form and the processor of the form are at different urls, there is a
</I>&gt;<i> better separation of functionality of presenting the form and its processing.
</I>&gt;<i> Being different urls though, you might have to be a bit trickier as far as
</I>&gt;<i> using redirects to get back to where you want when login is sucessful
</I>&gt;<i> especially if it is a generic login processor.
</I>
They can be at the same URL just fine, if you're distinguishing between 
a POST and a GET.

-- 
bje
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016657.html">[mod_python] Approaches to handling input forms.
</A></li>
	<LI>Next message: <A HREF="016663.html">[mod_python] Approaches to handling input forms.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16661">[ date ]</a>
              <a href="thread.html#16661">[ thread ]</a>
              <a href="subject.html#16661">[ subject ]</a>
              <a href="author.html#16661">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
