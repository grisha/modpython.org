<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] modpy3.2 + apache2.2 + odbc + dbisam - substitute to
	cgi ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20modpy3.2%20%2B%20apache2.2%20%2B%20odbc%20%2B%20dbisam%20-%20substitute%20to%0A%09cgi%20%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023073.html">
   <LINK REL="Next"  HREF="023076.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] modpy3.2 + apache2.2 + odbc + dbisam - substitute to
	cgi ?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>durumdara</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20modpy3.2%20%2B%20apache2.2%20%2B%20odbc%20%2B%20dbisam%20-%20substitute%20to%0A%09cgi%20%3F&In-Reply-To="
       TITLE="[mod_python] modpy3.2 + apache2.2 + odbc + dbisam - substitute to
	cgi ?">durumdara at gmail.com
       </A><BR>
    <I>Tue Jan 23 09:44:43 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023073.html">[mod_python] how to run multiple subinterpreters from mod_python
</A></li>
        <LI>Next message: <A HREF="023076.html">[mod_python] Version strings (or Server signature)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23074">[ date ]</a>
              <a href="thread.html#23074">[ thread ]</a>
              <a href="subject.html#23074">[ subject ]</a>
              <a href="author.html#23074">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi!

My problem is that:

I need to use DBISAM databases.
There is no native Python driver for DBISAM, but DBISAM have ODBC driver.

I build two sites with DBISAM local database, and with ODBC drived by 
pywin32 odbc module.
Everything is worked good (it seems to be) if I drop my cursors on every 
request.

But now I needed to change ODBC to remote mode (to read remote database).
Yesterday I simple changed the settings of the driver, and next I found 
me in the hell... :-(((

In every 2.-3. request the httpd.exe is crashed. No error msg. generated 
(logs), only Windows create some dumps about it.
In the event log I see that ntdll.dll and sometimes the odbc.pyd is the 
source of the error.
Interesting thing, that my sites are working good with odbc.pyd and 
DBISAM when they are not used remote databases.

I tried everything: I set MaxReqPChild to 1 (to cleanup), close 
cursors/databases on finishing of scripts, etc.
When I try to do same thing with normal python interpreter, I cannot do 
it. I can open many-many connections, and they are cleaned up normally...

Next I downloaded mxODBC, and tried it. It is working good, but it's 
prices are not good for me.

Today I download the pyodbc package, but it is possible not thread-safe. 
Or possible it is not working good later, I don't know.
I have not experienced with this.

BUT IF WILL NOT WORKING, I WILL NEED SOME CHANGING.

So:
I need some information to prepare to change if needed.
There is two way to working with dbisam + odbc under apache.
First: I need to write a database server (socketserver) that communicate 
beetween my apache processes and ODBC database. It is payful.
Second: I need to change to cgi mode to avoid these problems.

Please help me: what you offer me when I want to use cgi? The modpy 
library can supports this working mode? Or what I need to do for it?
Please offer me some library, and example to prepare if the problems 
appearing!

Thanks for your help:
    dd

</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023073.html">[mod_python] how to run multiple subinterpreters from mod_python
</A></li>
	<LI>Next message: <A HREF="023076.html">[mod_python] Version strings (or Server signature)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23074">[ date ]</a>
              <a href="thread.html#23074">[ thread ]</a>
              <a href="subject.html#23074">[ subject ]</a>
              <a href="author.html#23074">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
