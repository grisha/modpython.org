<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> (Fwd) Re: [mod_python] How to pass values
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%28Fwd%29%20Re%3A%20%5Bmod_python%5D%20How%20to%20pass%20values&In-Reply-To=45B9F7A4.3241.4C3101%40export.hope.cz">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023123.html">
   <LINK REL="Next"  HREF="023126.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>(Fwd) Re: [mod_python] How to pass values</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%28Fwd%29%20Re%3A%20%5Bmod_python%5D%20How%20to%20pass%20values&In-Reply-To=45B9F7A4.3241.4C3101%40export.hope.cz"
       TITLE="(Fwd) Re: [mod_python] How to pass values">grahamd at dscpl.com.au
       </A><BR>
    <I>Fri Jan 26 16:19:51 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023123.html">(Fwd) Re: [mod_python] How to pass values
</A></li>
        <LI>Next message: <A HREF="023126.html">(Fwd) Re: [mod_python] How to pass values
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23125">[ date ]</a>
              <a href="thread.html#23125">[ thread ]</a>
              <a href="subject.html#23125">[ subject ]</a>
              <a href="author.html#23125">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Use some standard debugging techniques yourself to try and work it out.

On 26/01/2007, at 10:44 PM, <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">export at hope.cz</A> wrote:

&gt;<i> Graham,
</I>&gt;<i> Thank you for your reply.
</I>&gt;<i> I have
</I>&gt;<i>
</I>&gt;<i> def inputfilter(filter):
</I>&gt;<i> filter.req.myflag = True
</I>
Add:

   filter.req.log_error('inputfilter')

&gt;<i> ...
</I>&gt;<i> ...
</I>&gt;<i>
</I>&gt;<i> so, as you can see the first command in input filter
</I>&gt;<i> is filter.req.myflag = True
</I>&gt;<i> but yet, I can not access the req.myflag
</I>&gt;<i> in my request handler.
</I>&gt;<i> When I try
</I>&gt;<i> req.write(`req.myflag`)
</I>
Add before this:

   req.log_error('handler')

In other words, use the logging system to dump information into the  
Apache
log files to see if the input filter is actually being called. It  
would look like it
isn't. What have you done so far to confirm it is?

Graham

&gt;<i> I will receive the same error:
</I>&gt;<i>
</I>&gt;<i> AttributeError: 'mp_request' object has no attribute 'myflag'
</I>&gt;<i>
</I>&gt;<i> What shall I try to solve the problem. Do you have any idea?
</I>&gt;<i> Thank you
</I>&gt;<i> Lad
</I>&gt;<i>
</I>&gt;&gt;<i> Your input filter can't have been called then, or not the part  
</I>&gt;&gt;<i> where you
</I>&gt;&gt;<i> assigned the attribute. If the variable may not be there in all
</I>&gt;&gt;<i> situations,
</I>&gt;&gt;<i> then use:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> if hasattr(req, 'myflag'):
</I>&gt;&gt;<i> if req.myflag:
</I>&gt;&gt;<i> ..
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Graham
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On 26/01/2007, at 7:09 PM, <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">export at hope.cz</A> wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Graham ,
</I>&gt;&gt;&gt;<i> Thank you for your reply and help.
</I>&gt;&gt;&gt;<i> I tried the way you suggested but I received the error
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> AttributeError: 'mp_request' object has no attribute 'myflag'
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Can you please help?
</I>&gt;&gt;&gt;<i> Thank you
</I>&gt;&gt;&gt;<i> Lad.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> On 26/01/2007, at 2:45 AM, <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">export at hope.cz</A> wrote:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Depending on a value being calculated in input filter,
</I>&gt;&gt;&gt;&gt;&gt;<i> I will have to make a decission in request handler.
</I>&gt;&gt;&gt;&gt;&gt;<i> What is a way to find out the value of the variable from input
</I>&gt;&gt;&gt;&gt;&gt;<i> filter in request handler?
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> I believe this was mentioned before.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> In filter, set an attribute on the request object:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> def inputfilter(filter):
</I>&gt;&gt;&gt;&gt;<i> ...
</I>&gt;&gt;&gt;&gt;<i> filter.req.myflag = True
</I>&gt;&gt;&gt;&gt;<i> ...
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> In the request handler, you can then access that variable.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> def handler(req):
</I>&gt;&gt;&gt;&gt;<i> ...
</I>&gt;&gt;&gt;&gt;<i> if req.myflag:
</I>&gt;&gt;&gt;&gt;<i> ...
</I>&gt;&gt;&gt;&gt;<i> ...
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Graham
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------- End of forwarded message -------
</I></PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023123.html">(Fwd) Re: [mod_python] How to pass values
</A></li>
	<LI>Next message: <A HREF="023126.html">(Fwd) Re: [mod_python] How to pass values
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23125">[ date ]</a>
              <a href="thread.html#23125">[ thread ]</a>
              <a href="subject.html#23125">[ subject ]</a>
              <a href="author.html#23125">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
