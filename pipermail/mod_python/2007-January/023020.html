<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] changing publisher `content' before sent to client
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20changing%20publisher%20%60content%27%20before%20sent%20to%20client&In-Reply-To=45AD1A19.5050900%40joreybump.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023019.html">
   <LINK REL="Next"  HREF="023021.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] changing publisher `content' before sent to client</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Jaime Wyant</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20changing%20publisher%20%60content%27%20before%20sent%20to%20client&In-Reply-To=45AD1A19.5050900%40joreybump.com"
       TITLE="[mod_python] changing publisher `content' before sent to client">programmer.py at gmail.com
       </A><BR>
    <I>Tue Jan 16 13:41:29 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023019.html">[mod_python] changing publisher `content' before sent to client
</A></li>
        <LI>Next message: <A HREF="023021.html">[mod_python] changing publisher `content' before sent to client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23020">[ date ]</a>
              <a href="thread.html#23020">[ thread ]</a>
              <a href="subject.html#23020">[ subject ]</a>
              <a href="author.html#23020">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I must be missing something obvious here...

But, I want the publisher to continue mapping URLS like it is doing now.  Is
there some way to have the publisher do this, but automagically call some
other function (like index below) before doing a req.write?

jw

On 1/16/07, Jorey Bump &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">list at joreybump.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Jaime Wyant wrote:
</I>&gt;<i> &gt; Actually, I need to perform string manipulation on *everything* that
</I>&gt;<i> &gt; gets handled by publisher.  I don't want to manually edit each function
</I>&gt;<i> &gt; that the handler exposes.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; FWIW, I'm doing this because I would like to have two versions of my
</I>&gt;<i> &gt; website -&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; test.mysite.com
</I>&gt;<i> &gt; real.mysite.com
</I>&gt;<i>
</I>&gt;<i> def index(req)
</I>&gt;<i>      body = do_stuff_with_your_modules(req)
</I>&gt;<i>      return body.replace(&quot;test.mysite.com&quot;, &quot;real.mysite.com&quot;)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 
&quot;Government does not solve problems; it subsidizes them.&quot;
Ronald Reagan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20070116/cde6d6b3/attachment.html">http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20070116/cde6d6b3/attachment.html</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023019.html">[mod_python] changing publisher `content' before sent to client
</A></li>
	<LI>Next message: <A HREF="023021.html">[mod_python] changing publisher `content' before sent to client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23020">[ date ]</a>
              <a href="thread.html#23020">[ thread ]</a>
              <a href="subject.html#23020">[ subject ]</a>
              <a href="author.html#23020">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
