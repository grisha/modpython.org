<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] how to handle xforms with publisher handler
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20how%20to%20handle%20xforms%20with%20publisher%20handler&In-Reply-To=1169066921.19333%40dscpl.user.openhosting.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023036.html">
   <LINK REL="Next"  HREF="023037.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] how to handle xforms with publisher handler</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Emiliano Moscato</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20how%20to%20handle%20xforms%20with%20publisher%20handler&In-Reply-To=1169066921.19333%40dscpl.user.openhosting.com"
       TITLE="[mod_python] how to handle xforms with publisher handler">moski666 at gmail.com
       </A><BR>
    <I>Wed Jan 24 12:09:38 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023036.html">[mod_python] how to handle xforms with publisher handler
</A></li>
        <LI>Next message: <A HREF="023037.html">[mod_python] Problems with ZODB / modpython
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23092">[ date ]</a>
              <a href="thread.html#23092">[ thread ]</a>
              <a href="subject.html#23092">[ subject ]</a>
              <a href="author.html#23092">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, I'm sorry, I've forgot to send this lines:

        # figure out boundary
        try:
            i = ctype.lower().rindex(&quot;boundary=&quot;)
            end = set([ctype.find(';', i+9), ctype.find(' ', i+9)])
            end.discard(-1)
            if len(end) &gt; 0:
                boundary = ctype[i+9:min(list(end))]
            else:
                boundary = ctype[i+9:]
            boundary_str = boundary
            if len(boundary) &gt;= 2 and boundary[0] == boundary[-1] == '&quot;':
                boundary = boundary[1:-1]
            boundary = re.compile(&quot;--&quot; + re.escape(boundary) + &quot;(--)?\r?\n&quot;)


        except ValueError:
            raise apache.SERVER_RETURN, apache.HTTP_BAD_REQUEST


Is a little long, but I didn't find a shorter way.

Graham et all, I'm interested on the another tip (how to treat xml dom
models), I'd like to know your opinion about my opinion sent with the first
bugfix. I'd like to use mod_python (and publisher handler if possible) in
our framework.
Thanks

Emiliano

2007/1/17, Graham Dumpleton &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">grahamd at dscpl.com.au</A>&gt;:
&gt;<i>
</I>&gt;<i> Emiliano Moscato wrote ..
</I>&gt;<i> &gt; Hi;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I've followed my tiny work with FieldStorage.
</I>&gt;<i> &gt; I changed the line:
</I>&gt;<i> &gt;             boundary = ctype[i+9:]
</I>&gt;<i> &gt; for:
</I>&gt;<i> &gt;             boundary = ctype[i+9:ctype.find(';',i+9)]
</I>&gt;<i> &gt; to fix the problem with boundary.
</I>&gt;<i>
</I>&gt;<i> I don't think this will always work. Where there is no semicolon then the
</I>&gt;<i> result would be:
</I>&gt;<i>
</I>&gt;<i>   boundary = ctype[i+9:-1]
</I>&gt;<i>
</I>&gt;<i> This would have the affect of dropping off the last character in the value
</I>&gt;<i> which may be part of the boundary tag or the quote which might surround
</I>&gt;<i> it.
</I>&gt;<i>
</I>&gt;<i> Graham
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; I've tried to use this method without any other change to FieldStorage
</I>&gt;<i> &gt; and
</I>&gt;<i> &gt; works. I only need this bugfix and it is a good new for me.
</I>&gt;<i> &gt; On the other hand, I was thinking about the matter with
</I>&gt;<i> &quot;application/xml&quot;
</I>&gt;<i> &gt; serialize method and the name of the method says all: who uses
</I>&gt;<i> &gt; &quot;application/xml&quot; as serialize method waits in the server for an xml
</I>&gt;<i> &gt; document, not for its mapping to a dict, and it have nothing to do with
</I>&gt;<i> &gt; xforms.
</I>&gt;<i> &gt; For example: cherryPy, where I come from, uses the same philosophy of
</I>&gt;<i> put
</I>&gt;<i> &gt; the form fields as attributes of an object, but when it receives an
</I>&gt;<i> &gt; &quot;application/xml&quot; puts it available in &quot;threadData&quot; attribute.
</I>&gt;<i> &gt; Thanks for the attention :)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Emiliano
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>

-- 
mOsKi
&quot;No hay nada que uno haga mal , lo que hay es poco vino.&quot; Autor Anonimo
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20070124/82705a61/attachment.html">http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20070124/82705a61/attachment.html</A>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023036.html">[mod_python] how to handle xforms with publisher handler
</A></li>
	<LI>Next message: <A HREF="023037.html">[mod_python] Problems with ZODB / modpython
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23092">[ date ]</a>
              <a href="thread.html#23092">[ thread ]</a>
              <a href="subject.html#23092">[ subject ]</a>
              <a href="author.html#23092">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
