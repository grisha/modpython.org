<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] question on new import functionality (python 3.3.0b)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20question%20on%20new%20import%20functionality%20%28python%203.3.0b%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022960.html">
   <LINK REL="Next"  HREF="022962.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] question on new import functionality (python 3.3.0b)</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20question%20on%20new%20import%20functionality%20%28python%203.3.0b%29&In-Reply-To="
       TITLE="[mod_python] question on new import functionality (python 3.3.0b)">grahamd at dscpl.com.au
       </A><BR>
    <I>Tue Jan  9 18:56:46 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="022960.html">[mod_python] question on new import functionality (python 3.3.0b)
</A></li>
        <LI>Next message: <A HREF="022962.html">[mod_python] mod_python and sqlite
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22961">[ date ]</a>
              <a href="thread.html#22961">[ thread ]</a>
              <a href="subject.html#22961">[ subject ]</a>
              <a href="author.html#22961">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Detmar Meurers wrote ..
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> I'm transitioning to mod_python 3.3.0b and have a question about the
</I>&gt;<i> description of import_module at
</I>&gt;<i> <A HREF="http://www.modpython.org/live/mod_python-3.3.0b/doc-html/pyapi-apmeth.html">http://www.modpython.org/live/mod_python-3.3.0b/doc-html/pyapi-apmeth.html</A>
</I>&gt;<i> where it states
</I>&gt;<i> 
</I>&gt;<i>      As a new feature in mod_python 3.3, when using the standard
</I>&gt;<i>      Python &#237;mport' statement to import a module, if the import is
</I>&gt;<i>      being done from a module which was previously imported by the
</I>&gt;<i>      mod_python module importer, it is equivalent to having called
</I>&gt;<i>      apache.import_module() directly.
</I>&gt;<i>  
</I>&gt;<i>      For example:
</I>&gt;<i> 
</I>&gt;<i>         import name
</I>&gt;<i> 
</I>&gt;<i>      is equivalent to:
</I>&gt;<i>     
</I>&gt;<i>         from mod_python import apache
</I>&gt;<i>             name = apache.import_module('name')
</I>&gt;<i> 	    
</I>&gt;<i> 
</I>&gt;<i> In a setup where I am using the mod_python.publisher to
</I>&gt;<i> load a file index.py as specified in an .htaccess file stating
</I>&gt;<i> 
</I>&gt;<i> DirectoryIndex index.html index.py
</I>&gt;<i> AddHandler python-program .py
</I>&gt;<i> PythonHandler mod_python.publisher
</I>&gt;<i> 
</I>&gt;<i> is that index.py being loaded using the new module importer?
</I>
Yes, modules imported by mod_python.publisher from the document
tree use the mod_python importing/caching mechanism.

&gt;<i> Can I just use plain &quot;import&quot; in such an index.py file loaded by the
</I>&gt;<i> mod_python.publisher in order to import other modules using the new
</I>&gt;<i> importing mechanism - or do I have to explicitly use
</I>&gt;<i> &quot;apache.import_module&quot; in that index.py?
</I>
Yes. It will first look in the same directory for the desired module,
then in directories in __mp_path__ and the 'mod_python.importer.path'.
If found here, that module itself is also imported using the mod_python
importer, will be cached and also be a candidate for reloading.

If the module cannot be found in those places, the search is handed
off to the standard Python module importer which will look in sys.path,
this being able to be customised using PythonPath directive.

Note that the mod_python importer/cache doesn't work with Python
packages. Python packages should always be on sys.path and will be
handled by the standard Python module importer.

Graham
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022960.html">[mod_python] question on new import functionality (python 3.3.0b)
</A></li>
	<LI>Next message: <A HREF="022962.html">[mod_python] mod_python and sqlite
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22961">[ date ]</a>
              <a href="thread.html#22961">[ thread ]</a>
              <a href="subject.html#22961">[ subject ]</a>
              <a href="author.html#22961">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
