<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Several handlers- not releasing memory
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Several%20handlers-%20not%20releasing%20memory&In-Reply-To=13C99F26-ACCD-48F1-A62C-D496DCC18160%40dscpl.com.au">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023005.html">
   <LINK REL="Next"  HREF="023007.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Several handlers- not releasing memory</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>export at hope.cz</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Several%20handlers-%20not%20releasing%20memory&In-Reply-To=13C99F26-ACCD-48F1-A62C-D496DCC18160%40dscpl.com.au"
       TITLE="[mod_python] Several handlers- not releasing memory">export at hope.cz
       </A><BR>
    <I>Mon Jan 15 10:41:08 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023005.html">[mod_python] Several handlers
</A></li>
        <LI>Next message: <A HREF="023007.html">[mod_python] how to define publisher when page not found
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23008">[ date ]</a>
              <a href="thread.html#23008">[ thread ]</a>
              <a href="subject.html#23008">[ subject ]</a>
              <a href="author.html#23008">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Graham,
Thank you for your reply.
So I removed Django handlers from conf.httpd and made a static page where FORM looks 
like this

&lt;form method=&quot;post&quot; action=&quot;/cgi-bin/handler.py&quot; enctype=&quot;multipart/form-data&quot;&gt;
...
...
&lt;/form&gt;

Now ,  no Django is  running but still the memory is not released and in the reading/filtering 
process,  memory is going up and up?
Is my assumption that the memory should be release after each writing(  before each 
reading) that is  done  in InputFilter  correct?
Or do I make a mistake somewhere?

Thank you for your reply
Lad


&gt;<i> Are you still running Django as the content handler? Are you sure that
</I> &gt;the increase in memory size isn't something to do with Django?
&gt;<i> 
</I>&gt;<i> Instead of running Django as the response handler write a small
</I>&gt;<i> custom handler which does:
</I>&gt;<i> 
</I>&gt;<i> def handler(req):
</I>&gt;<i>    req.content_type = 'text/plain'
</I>&gt;<i>    req.write(req.read())
</I>&gt;<i>    return apache.OK
</I>&gt;<i> 
</I>&gt;<i> You will then need to create a static HTML page with a POST form that
</I>&gt;<i> posts to the URL which matches the handler. This should have the
</I>&gt;<i> result of exercising the filter with the contents of the POST being
</I>&gt;<i> returned as the response.
</I>&gt;<i> 
</I>&gt;<i> See if that small example still uses increasing resources.
</I>&gt;<i> 
</I>&gt;<i> Graham
</I>

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023005.html">[mod_python] Several handlers
</A></li>
	<LI>Next message: <A HREF="023007.html">[mod_python] how to define publisher when page not found
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23008">[ date ]</a>
              <a href="thread.html#23008">[ thread ]</a>
              <a href="subject.html#23008">[ subject ]</a>
              <a href="author.html#23008">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
