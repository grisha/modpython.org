<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] mod_php vs mod_py - include vs. import
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_php%20vs%20mod_py%20-%20include%20vs.%20import&In-Reply-To=0F3FF02C-3F7C-11D8-9AD2-000A95A072FC%40sb.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014737.html">
   <LINK REL="Next"  HREF="014729.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] mod_php vs mod_py - include vs. import</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Brian Hawthorne</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_php%20vs%20mod_py%20-%20include%20vs.%20import&In-Reply-To=0F3FF02C-3F7C-11D8-9AD2-000A95A072FC%40sb.org"
       TITLE="[mod_python] mod_php vs mod_py - include vs. import">brianh at exelixis.com
       </A><BR>
    <I>Mon Jan  5 11:31:56 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="014737.html">[mod_python] mod_php vs mod_py - include vs. import
</A></li>
        <LI>Next message: <A HREF="014729.html">[mod_python] Zope Access Rule in mod_py
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14738">[ date ]</a>
              <a href="thread.html#14738">[ thread ]</a>
              <a href="subject.html#14738">[ subject ]</a>
              <a href="author.html#14738">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>be careful though; there are some hidden gotchas lurking in this solution.
for example, if you reload a module defining some base class, but don't
reload all modules defining subclasses of that base, then the base class
object will no longer be the same as the corresponding base class object
in the __bases__ list for subclasses, and isinstance(sub, base) will fail
(leading to other failures, like the new builtin 'super' won't work
properly).

i did a lot of head scratching before i figured this out; but if all
you're reloading are static configuration modules exporting simple things
like constant immutable string or numeric variables, you should be ok.

cheers,
brian


On Mon, 5 Jan 2004, Kevin Ballard wrote:

&gt;<i> There's an easy solution:
</I>&gt;<i>
</I>&gt;<i> Keep a table of the modification dates of the relevant modules. In your
</I>&gt;<i> handler function, compare the modification dates you stored with the
</I>&gt;<i> current ones, and if any differ call reload() on that module.
</I>&gt;<i>
</I>&gt;<i> If you want an example, ask me and I can make one. But it shouldn't be
</I>&gt;<i> too hard to do on your own.
</I>&gt;<i>
</I>&gt;<i> HTH,
</I>&gt;<i> Kevin
</I>&gt;<i>
</I>&gt;<i> On Jan 5, 2004, at 3:46 AM, <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">fowlertrainer at anonym.hu</A> wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; I want to control my website with only one py file: the main.py.
</I>&gt;<i> &gt; But I got experience with one ugly thing in mod_python.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; In mod_php, the main.php file is can include many files, and all of
</I>&gt;<i> &gt; them can include many other files.
</I>&gt;<i> &gt; When I modify some or one of these files, the website is refreshed.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; But in mod_python, I cannot use the include, I have only one way to
</I>&gt;<i> &gt; share/split my sources: the import.
</I>&gt;<i> &gt; It is ok, but when I modify some of these imported files, the website
</I>&gt;<i> &gt; is not refreshed !!!
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; My solution in this time to I use only one file.
</I>&gt;<i> &gt; It is not too good, because it is growing too much, and I cannot
</I>&gt;<i> &gt; separate it to units.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Have any solution to this problem ????
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Kevin Ballard
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">kevin at sb.org</A>
</I>&gt;<i> <A HREF="http://www.tildesoft.com">http://www.tildesoft.com</A>
</I>&gt;<i> <A HREF="http://kevin.sb.org">http://kevin.sb.org</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014737.html">[mod_python] mod_php vs mod_py - include vs. import
</A></li>
	<LI>Next message: <A HREF="014729.html">[mod_python] Zope Access Rule in mod_py
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14738">[ date ]</a>
              <a href="thread.html#14738">[ thread ]</a>
              <a href="subject.html#14738">[ subject ]</a>
              <a href="author.html#14738">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
