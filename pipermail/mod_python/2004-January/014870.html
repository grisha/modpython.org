<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] 
	Porting from python cgi module - with backwards compatibility
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20%0A%09Porting%20from%20python%20cgi%20module%20-%20with%20backwards%20compatibility&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014866.html">
   <LINK REL="Next"  HREF="014868.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] 
	Porting from python cgi module - with backwards compatibility</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Jim Ramsay</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20%0A%09Porting%20from%20python%20cgi%20module%20-%20with%20backwards%20compatibility&In-Reply-To="
       TITLE="[mod_python] 
	Porting from python cgi module - with backwards compatibility">lists at jimramsay.com
       </A><BR>
    <I>Wed Jan 21 14:50:23 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="014866.html">[mod_python] XMLRPCpublisher ver 0.1
</A></li>
        <LI>Next message: <A HREF="014868.html">[mod_python] Session
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14870">[ date ]</a>
              <a href="thread.html#14870">[ thread ]</a>
              <a href="subject.html#14870">[ subject ]</a>
              <a href="author.html#14870">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have a python program (tmda-cgi - <A HREF="http://www.tmda.net/tmda-cgi/">http://www.tmda.net/tmda-cgi/</A>) which 
I would like to start working with mod_python if possible, but I need to 
know two things:

1 - Depending on the configuration, some people run this script SUID 
root, as it must os.setuid() to other users.  Is it possible to do this 
with mod_python?  Or only if root runs the apache server?

2 - To get around this (and the fact that scripts themselves can't be 
executed SUID) in the existing implementation, we have written a tiny C 
wrapper which is SUID, which then loads the python interpreter which 
runs the real python program, which imports and uses the 'cgi' module. 
Is it possible (or easy) to write a mod_python wrapper which imports and 
executes this existing program without changing the existing program?

If it's not possible to do (1), at least the configurations which don't 
require the SUID functionality could run under mod_python with the 
wrapper in (2).

I saw an old archived email which suggested that:

os.env = req.subprocess_env

in a handler just before I run the existing methods would do it.  Is 
this still the case?  Will it work for both GET and POST HTTP methods?

-- 
Jim Ramsay
&quot;Me fail English?  That's unpossible!&quot;

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014866.html">[mod_python] XMLRPCpublisher ver 0.1
</A></li>
	<LI>Next message: <A HREF="014868.html">[mod_python] Session
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14870">[ date ]</a>
              <a href="thread.html#14870">[ thread ]</a>
              <a href="subject.html#14870">[ subject ]</a>
              <a href="author.html#14870">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
