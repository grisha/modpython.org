<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] SetEnv and add_common_vars()
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20SetEnv%20and%20add_common_vars%28%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014805.html">
   <LINK REL="Next"  HREF="014809.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] SetEnv and add_common_vars()</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Michael C. Neel</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20SetEnv%20and%20add_common_vars%28%29&In-Reply-To="
       TITLE="[mod_python] SetEnv and add_common_vars()">neel at mediapulse.com
       </A><BR>
    <I>Mon Jan 12 17:05:01 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="014805.html">[mod_python] typehandler in mod_python 3.0.3
</A></li>
        <LI>Next message: <A HREF="014809.html">[mod_python] SetEnv and add_common_vars()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14808">[ date ]</a>
              <a href="thread.html#14808">[ thread ]</a>
              <a href="subject.html#14808">[ subject ]</a>
              <a href="author.html#14808">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>IIRC (and it's been a while) the &quot;env's&quot; everyone is used to are part of
the CGI spec, and don't apply outside of it though often it will be
recreated.  mod_perl has a function you can call to setup the standard
env that a cgi script would have, but as Grisha pointed out it isn't the
best use of resources.

Look though the docs on the request, server, and connection objects.
Between those is everything you need to create the env's you are looking
for.  REMOTE_ADDR and SCRIPT_NAME are not client headers, so that's why
you don't see them in headers_in.

I'd recommend downloading Sam Spade for Windows from samspade.org, it
has a browser in it that shows you exactly the information being passed
between the client and server.

HTH,
Mike

&gt;<i> -----Original Message-----
</I>&gt;<i> From: Edwin Grubbs [mailto:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">egrubbs at rackspace.com</A>] 
</I>&gt;<i> Sent: Monday, January 12, 2004 4:37 PM
</I>&gt;<i> To: Gregory (Grisha) Trubetskoy
</I>&gt;<i> Cc: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
</I>&gt;<i> Subject: Re: [mod_python] SetEnv and add_common_vars()
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Sun, Jan 11, 2004 at 11:27:12PM -0500, Gregory (Grisha) 
</I>&gt;<i> Trubetskoy wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; On Sun, 11 Jan 2004, Edwin Grubbs wrote:
</I>&gt;<i> &gt; &gt; The objective is to access the environment variables that 
</I>&gt;<i> are unique to
</I>&gt;<i> &gt; &gt; each request such as REMOTE_ADDR, HTTP_USER_AGENT, and 
</I>&gt;<i> our own cookies
</I>&gt;<i> &gt; &gt; such as SESSION_COOKIE.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Hmm... This may be a bug somehwere, I'll have to take a 
</I>&gt;<i> look at it. But,
</I>&gt;<i> &gt; all of this information is available directly without having to use
</I>&gt;<i> &gt; subprocess_env, as part of the request object or req.headers_in.
</I>&gt;<i> &gt; Subprocess_env is an inefficient way of doing it since it 
</I>&gt;<i> is artificially
</I>&gt;<i> &gt; constructed from the same sources to which mod_python 
</I>&gt;<i> allows you direct
</I>&gt;<i> &gt; access.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Grisha
</I>&gt;<i> 
</I>&gt;<i> The req.headers_in variable does not contain the REMOTE_ADDR or the
</I>&gt;<i> SCRIPT_NAME variables which can not be passed in using PythonOption.
</I>&gt;<i> 
</I>&gt;<i> -Edwin
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> 
</I>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014805.html">[mod_python] typehandler in mod_python 3.0.3
</A></li>
	<LI>Next message: <A HREF="014809.html">[mod_python] SetEnv and add_common_vars()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14808">[ date ]</a>
              <a href="thread.html#14808">[ thread ]</a>
              <a href="subject.html#14808">[ subject ]</a>
              <a href="author.html#14808">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
