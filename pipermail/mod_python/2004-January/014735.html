<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Zope Access Rule in mod_py
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Zope%20Access%20Rule%20in%20mod_py&In-Reply-To=754856212.20040105094734%40anonym.hu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014729.html">
   <LINK REL="Next"  HREF="014736.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Zope Access Rule in mod_py</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Kevin Ballard</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Zope%20Access%20Rule%20in%20mod_py&In-Reply-To=754856212.20040105094734%40anonym.hu"
       TITLE="[mod_python] Zope Access Rule in mod_py">kevin at sb.org
       </A><BR>
    <I>Mon Jan  5 07:46:01 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="014729.html">[mod_python] Zope Access Rule in mod_py
</A></li>
        <LI>Next message: <A HREF="014736.html">[mod_python] Zope Access Rule in mod_py
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14735">[ date ]</a>
              <a href="thread.html#14735">[ thread ]</a>
              <a href="subject.html#14735">[ subject ]</a>
              <a href="author.html#14735">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Well, that URL isn't valid. I assume you mean something like

<A HREF="http://my.domain.com/root/users/files/work1">http://my.domain.com/root/users/files/work1</A>

right?

That's not hard. There's a few variations on the solution:

1) If you want it to only work for valid directory trees (i.e. 
/root/users/files/work1 is valid but /root/foo/bar wouldn't be, 
assuming /root/foo doesn't exist) then you can use a &lt;Directory&gt; 
directive. Stick a SetHandler python-program and PythonHandler main in 
there (assuming the directory with main.py will be in the Python path, 
i.e. if the main.py is in the directory specified in the &lt;Directory&gt; 
directive. If it's not there, use the PythonPath directive to tell it 
where to look).

2) If you want it to work for all paths that match a pattern (say, all 
paths starting with /root/) then use a &lt;Files&gt; directive and set the 
same handlers as #1. Same caveats with the python include path.

3) If you want it to apply to every single request to your site, add 
the handlers from #1 in the root level of your httpd.conf file. Same 
caveats apply to the include path for main.py (although since this 
isn't nested, it's just the default Python path so you'll need to add 
the directory for main.py, such as sys.path+['/foo'])

HTH,
Kevin

On Jan 5, 2004, at 3:47 AM, <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">fowlertrainer at anonym.hu</A> wrote:

&gt;<i> I want to this:
</I>&gt;<i>
</I>&gt;<i> When the user type this path:
</I>&gt;<i> <A HREF="http://root/users/files/work1">http://root/users/files/work1</A>
</I>&gt;<i> then the Apache don't raise an error, only call a py file's procedure 
</I>&gt;<i> with this path.
</I>&gt;<i>
</I>&gt;<i> I can take this path, and do anything what I needed. If the path is 
</I>&gt;<i> wrong, I can show error message, if not,
</I>&gt;<i> I can show the result. In the example the path is don't exists, but I 
</I>&gt;<i> redirect the process to the my UserFileHandler method,
</I>&gt;<i> and I do get this user file named &quot;Work1&quot;.
</I>&gt;<i>
</I>&gt;<i> This is just like Access Rule in Zope.
</I>&gt;<i>
</I>&gt;<i> Can I do that in mod_python ?
</I>
-- 
Kevin Ballard
<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">kevin at sb.org</A>
<A HREF="http://www.tildesoft.com">http://www.tildesoft.com</A>
<A HREF="http://kevin.sb.org">http://kevin.sb.org</A>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014729.html">[mod_python] Zope Access Rule in mod_py
</A></li>
	<LI>Next message: <A HREF="014736.html">[mod_python] Zope Access Rule in mod_py
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14735">[ date ]</a>
              <a href="thread.html#14735">[ thread ]</a>
              <a href="subject.html#14735">[ subject ]</a>
              <a href="author.html#14735">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
