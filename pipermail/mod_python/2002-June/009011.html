<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Instances and differences between Win32 and Linux
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Instances%20and%20differences%20between%20Win32%20and%20Linux&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009009.html">
   <LINK REL="Next"  HREF="009012.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
<table border=0 width="100%"><tr><td valign="top">
   <H1>[mod_python] Instances and differences between Win32 and Linux</H1>
    <B>Nik Barron</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Instances%20and%20differences%20between%20Win32%20and%20Linux&In-Reply-To="
       TITLE="[mod_python] Instances and differences between Win32 and Linux">Nik.Barron at pennantplc.co.uk
       </A><BR>
    <I>Wed Jun 26 17:01:56 EST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="009009.html">[mod_python] includes/external files
</A></li>
        <LI>Next message: <A HREF="009012.html">[mod_python] Instances and differences between Win32 and Linux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9011">[ date ]</a>
              <a href="thread.html#9011">[ thread ]</a>
              <a href="subject.html#9011">[ subject ]</a>
              <a href="author.html#9011">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm working on an XML application using mod_python. Without going into too
much detail, what it does is suck an XML file into memory and then allow
multiple users to work on the in-memory copy via the web. The main reason
for this is performance, as processing the file on the initial load is slow,
and also to provide granular locking (the file is split into 1500 or so key
elements, and the locking needs to be per element).

This works fine in Win32; I do the locking by a simple dictionary, e.g. if
user nik is editing requirement foo, editLocks['foo'] = 'nik' and so on.
This seems to work as expected.

However, I am in the process of moving it over to a Linux box for various
reasons. The code works, but it appears (I'm investigating in more detail at
the moment) that it is now running multiple instances, i.e. the locks
disappear between HTTP accesses. I'm guessing that this is because Apache on
Win32 is run as a single process, but as multiple processes on Un*x.

Is there a reliable way of handling such 'multi-user' persistent data under
Un*x, e.g multiple httpds pulling from the same Python? I'm guessing not :(

Many thanks!

Nick Barron
Manager, E-Services Division
Pennant Software Services Ltd -- Registered in England No. 3772667
PGP: A94C 4190 026E 3E02 6D50  C8FA 8620 3091 FF34 533D

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009009.html">[mod_python] includes/external files
</A></li>
	<LI>Next message: <A HREF="009012.html">[mod_python] Instances and differences between Win32 and Linux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9011">[ date ]</a>
              <a href="thread.html#9011">[ thread ]</a>
              <a href="subject.html#9011">[ subject ]</a>
              <a href="author.html#9011">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
