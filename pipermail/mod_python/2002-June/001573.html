<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> R: [mod_python] problem in file download
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=R%3A%20%5Bmod_python%5D%20problem%20in%20file%20download&In-Reply-To=801EB84B006ED411898D00B0D03E524712CCC7%40PROXYMAIL">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001571.html">
   <LINK REL="Next"  HREF="001574.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>R: [mod_python] problem in file download</H1>
    <B>Christopher Sean Hilton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=R%3A%20%5Bmod_python%5D%20problem%20in%20file%20download&In-Reply-To=801EB84B006ED411898D00B0D03E524712CCC7%40PROXYMAIL"
       TITLE="R: [mod_python] problem in file download">chris at vindaloo.com
       </A><BR>
    <I>Fri Jun  7 09:07:48 EST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="001571.html">R: [mod_python] problem in file download
</A></li>
        <LI>Next message: <A HREF="001574.html">R: [mod_python] problem in file download
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1573">[ date ]</a>
              <a href="thread.html#1573">[ thread ]</a>
              <a href="subject.html#1573">[ subject ]</a>
              <a href="author.html#1573">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Jun 07, 2002 at 02:32:13PM +0200, Manera, Villiam wrote:
&gt;<i> Wow!!!!! publisher.py patched with this function work fine!!!!
</I>&gt;<i> 
</I>&gt;<i> class File:
</I>&gt;<i>     &quot;&quot;&quot; Like a file, but also has headers and filename
</I>&gt;<i>     &quot;&quot;&quot;
</I>&gt;<i>     def __init__(self, field):
</I>&gt;<i>         # steal all the file-like methods
</I>&gt;<i>         #for m in field.file.__methods__:
</I>&gt;<i>         #for m in dir(field.file):    #dont' work
</I>&gt;<i>         for m in self.sim_methods(field.file):
</I>&gt;<i>             self.__dict__[m] = getattr(field.file, m)
</I>&gt;<i> 
</I>&gt;<i>         self.headers = field.headers
</I>&gt;<i>         self.filename = field.filename
</I>&gt;<i>     
</I>&gt;<i>     def sim_methods(self,obj):
</I>&gt;<i>         from types import BuiltinMethodType   #parte aggiunta
</I>&gt;<i>         return filter(lambda s, t=obj:
</I>&gt;<i>            type(getattr(t, s)) == BuiltinMethodType, dir(obj))
</I>&gt;<i> 
</I>&gt;<i> 
</I>
That's the way to do it. I agree that having to downgrade to 2.1 seems a bit 
extreme but the way I was looking at it the is probably not the only piece 
of obsolete code modpython. You are probably right though and it's certain 
that the patch needs to be written.

Chris
-- 
Chris Hilton                                 chilton-at-vindaloo-dot-com
------------------------------------------------------------------------
                &quot;All I was doing was trying to get home from work!&quot;
                                                 -- Rosa Parks

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001571.html">R: [mod_python] problem in file download
</A></li>
	<LI>Next message: <A HREF="001574.html">R: [mod_python] problem in file download
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1573">[ date ]</a>
              <a href="thread.html#1573">[ thread ]</a>
              <a href="subject.html#1573">[ subject ]</a>
              <a href="author.html#1573">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
