<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Re: Django-mod_python taking time loading libraries
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20Django-mod_python%20taking%20time%20loading%20libraries&In-Reply-To=2613171a0912220808q51fe7a0ud3e9e6028914cd86%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026413.html">
   <LINK REL="Next"  HREF="026416.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Re: Django-mod_python taking time loading libraries</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20Django-mod_python%20taking%20time%20loading%20libraries&In-Reply-To=2613171a0912220808q51fe7a0ud3e9e6028914cd86%40mail.gmail.com"
       TITLE="[mod_python] Re: Django-mod_python taking time loading libraries">graham.dumpleton at gmail.com
       </A><BR>
    <I>Tue Dec 22 16:49:58 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="026413.html">[mod_python] Re: Django-mod_python taking time loading libraries
</A></li>
        <LI>Next message: <A HREF="026416.html">[mod_python] Re: Django-mod_python taking time loading libraries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26415">[ date ]</a>
              <a href="thread.html#26415">[ thread ]</a>
              <a href="subject.html#26415">[ subject ]</a>
              <a href="author.html#26415">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2009/12/23 bharath venkatesh &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">bharathv6.project at gmail.com</A>&gt;:
&gt;<i> will mod wsgi in Daemon mode&#160; solve this issue&#160; as loading libraries and
</I>&gt;<i> initialising is done only once ?
</I>
Maybe.

As documented in:

  <A HREF="http://blog.dscpl.com.au/2009/03/load-spikes-and-excessive-memory-usage.html">http://blog.dscpl.com.au/2009/03/load-spikes-and-excessive-memory-usage.html</A>

the OP is having problems because of how embedded mode Python
applications work in Apache. This may be  exacerbated by using prefork
MPM with Apache. Same issues come up with mod_wsgi embedded mode as
with mod_python if you do not configure your Apache correctly for fat
Python web applications. If you are limited in being able to do that
because Apache is heavily used for static file serving or mod_php, you
really should use mod_wsgi daemon mode instead as described in that
post.

Why daemon mode will help is fixed number of persistent processes and
more specifically defaulting to one process, so you only incur startup
cost once and not for many processes, or in case of embedded mode also
not when the processes get recycled as is default for Apache.

Graham

&gt;<i> On Tue, Dec 22, 2009 at 5:13 PM, bharath venkatesh
</I>&gt;<i> &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">bharathv6.project at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &#160; &#160; Django with mod python&#160; is taking time loading libraries . I am using
</I>&gt;&gt;<i> python&#160; open source libraries like montylingua , simplejson and django is
</I>&gt;&gt;<i> taking
</I>&gt;&gt;<i> time loading these libraries .
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> When django is run using python manage.py runserver first request takes
</I>&gt;&gt;<i> time but rest of the requests doesn't take time ( quite fast ) ,which&#160; is
</I>&gt;&gt;<i> acceptable but when django is used along with apache and mod_python it takes
</I>&gt;&gt;<i> time as much time as django takes for first request&#160; when run using python
</I>&gt;&gt;<i> manage.py runserver for almost every request.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> How to avoid this as our performance is greatly hindered by this behaviour
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> is it possible to cache these external open source libraries&#160; ?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks in Advance,
</I>&gt;&gt;<i> Bharath
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026413.html">[mod_python] Re: Django-mod_python taking time loading libraries
</A></li>
	<LI>Next message: <A HREF="026416.html">[mod_python] Re: Django-mod_python taking time loading libraries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26415">[ date ]</a>
              <a href="thread.html#26415">[ thread ]</a>
              <a href="subject.html#26415">[ subject ]</a>
              <a href="author.html#26415">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
