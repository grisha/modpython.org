<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Re: Django-mod_python taking time loading libraries
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20Django-mod_python%20taking%20time%20loading%20libraries&In-Reply-To=88e286470912221349q2afbc7b6x94063c598feab30%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026415.html">
   <LINK REL="Next"  HREF="026417.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Re: Django-mod_python taking time loading libraries</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>bharath venkatesh</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20Django-mod_python%20taking%20time%20loading%20libraries&In-Reply-To=88e286470912221349q2afbc7b6x94063c598feab30%40mail.gmail.com"
       TITLE="[mod_python] Re: Django-mod_python taking time loading libraries">bharathv6.project at gmail.com
       </A><BR>
    <I>Wed Dec 23 05:50:39 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="026415.html">[mod_python] Re: Django-mod_python taking time loading libraries
</A></li>
        <LI>Next message: <A HREF="026417.html">[mod_python] Re: Django-mod_python taking time loading libraries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26416">[ date ]</a>
              <a href="thread.html#26416">[ thread ]</a>
              <a href="subject.html#26416">[ subject ]</a>
              <a href="author.html#26416">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Graham,

     Thanks for the link it was very informative
*- Technically running embedded mode with prefork MPM should offer the best
performance, especially for machines with many cpus/cores. *
*- just because mod_wsgi embedded mode and prefork MPM may be the fastest
solution out there for Apache*
**
As above lines (from link ) suggests ,can we use mod_wsgi embedded mode and
prefork MPM (as meantioned that it is best ) ?and tune apache not to load
libraries and intialise every thime  (as our apache is already running as
prefork MPM and also our machines are multi core (8 cores) and has 16 AG
Ram)  or we have to use mod_wsgi in daemon mode to pervent huge loading and
intialising time ? but  as daemon mode is used with worker MPM we have to
recompile apache
Thanks,
Bharath


On Wed, Dec 23, 2009 at 3:19 AM, Graham Dumpleton &lt;
<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">graham.dumpleton at gmail.com</A>&gt; wrote:

&gt;<i> 2009/12/23 bharath venkatesh &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">bharathv6.project at gmail.com</A>&gt;:
</I>&gt;<i> &gt; will mod wsgi in Daemon mode  solve this issue  as loading libraries and
</I>&gt;<i> &gt; initialising is done only once ?
</I>&gt;<i>
</I>&gt;<i> Maybe.
</I>&gt;<i>
</I>&gt;<i> As documented in:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://blog.dscpl.com.au/2009/03/load-spikes-and-excessive-memory-usage.html">http://blog.dscpl.com.au/2009/03/load-spikes-and-excessive-memory-usage.html</A>
</I>&gt;<i>
</I>&gt;<i> the OP is having problems because of how embedded mode Python
</I>&gt;<i> applications work in Apache. This may be  exacerbated by using prefork
</I>&gt;<i> MPM with Apache. Same issues come up with mod_wsgi embedded mode as
</I>&gt;<i> with mod_python if you do not configure your Apache correctly for fat
</I>&gt;<i> Python web applications. If you are limited in being able to do that
</I>&gt;<i> because Apache is heavily used for static file serving or mod_php, you
</I>&gt;<i> really should use mod_wsgi daemon mode instead as described in that
</I>&gt;<i> post.
</I>&gt;<i>
</I>&gt;<i> Why daemon mode will help is fixed number of persistent processes and
</I>&gt;<i> more specifically defaulting to one process, so you only incur startup
</I>&gt;<i> cost once and not for many processes, or in case of embedded mode also
</I>&gt;<i> not when the processes get recycled as is default for Apache.
</I>&gt;<i>
</I>&gt;<i> Graham
</I>&gt;<i>
</I>&gt;<i> &gt; On Tue, Dec 22, 2009 at 5:13 PM, bharath venkatesh
</I>&gt;<i> &gt; &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">bharathv6.project at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Hi,
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;     Django with mod python  is taking time loading libraries . I am
</I>&gt;<i> using
</I>&gt;<i> &gt;&gt; python  open source libraries like montylingua , simplejson and django
</I>&gt;<i> is
</I>&gt;<i> &gt;&gt; taking
</I>&gt;<i> &gt;&gt; time loading these libraries .
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; When django is run using python manage.py runserver first request takes
</I>&gt;<i> &gt;&gt; time but rest of the requests doesn't take time ( quite fast ) ,which
</I>&gt;<i> is
</I>&gt;<i> &gt;&gt; acceptable but when django is used along with apache and mod_python it
</I>&gt;<i> takes
</I>&gt;<i> &gt;&gt; time as much time as django takes for first request  when run using
</I>&gt;<i> python
</I>&gt;<i> &gt;&gt; manage.py runserver for almost every request.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; How to avoid this as our performance is greatly hindered by this
</I>&gt;<i> behaviour
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; is it possible to cache these external open source libraries  ?
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Thanks in Advance,
</I>&gt;<i> &gt;&gt; Bharath
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mod_python mailing list
</I>&gt;<i> &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20091223/cec115bf/attachment.html">http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20091223/cec115bf/attachment.html</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026415.html">[mod_python] Re: Django-mod_python taking time loading libraries
</A></li>
	<LI>Next message: <A HREF="026417.html">[mod_python] Re: Django-mod_python taking time loading libraries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26416">[ date ]</a>
              <a href="thread.html#26416">[ thread ]</a>
              <a href="subject.html#26416">[ subject ]</a>
              <a href="author.html#26416">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
