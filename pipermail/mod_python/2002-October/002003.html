<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Perhaps bug in mod_pythons configure.in ? (python 2.2 and undefined symbol &quot;openpty&quot;)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Perhaps%20bug%20in%20mod_pythons%20configure.in%20%3F%20%28python%202.2%20and%20undefined%20symbol%20%22openpty%22%29&In-Reply-To=20021005131050.32347.qmail%40email.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002002.html">
   <LINK REL="Next"  HREF="002004.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Perhaps bug in mod_pythons configure.in ? (python 2.2 and undefined symbol &quot;openpty&quot;)</H1>
    <B>Mateusz Korniak</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Perhaps%20bug%20in%20mod_pythons%20configure.in%20%3F%20%28python%202.2%20and%20undefined%20symbol%20%22openpty%22%29&In-Reply-To=20021005131050.32347.qmail%40email.com"
       TITLE="[mod_python] Perhaps bug in mod_pythons configure.in ? (python 2.2 and undefined symbol &quot;openpty&quot;)">mateusz at ant.gliwice.pl
       </A><BR>
    <I>Sat Oct  5 15:39:48 EST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="002002.html">[mod_python] Apache 2.0.42
</A></li>
        <LI>Next message: <A HREF="002004.html">[mod_python] Two more fixes to ac/am stuff (patches included)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2003">[ date ]</a>
              <a href="thread.html#2003">[ thread ]</a>
              <a href="subject.html#2003">[ subject ]</a>
              <a href="author.html#2003">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Saturday 05 October 2002 15:10, Jack Diederich wrote:

&gt;<i> &gt; NE&gt;   It seems, BETA2 of mod_python 3 is not compatible with
</I>&gt;<i> &gt; NE&gt; Apache-2.0.42. It builds successfully, but when apache is asked to
</I>&gt;<i> &gt; NE&gt; test new configuration it complains about undefined symbol &quot;openpty&quot;
</I>&gt;<i> &gt; NE&gt; while trying to load mod_python into the server.
</I>
&gt;<i> For me (mod_python 2x, linux, Python 2.2.1) I needed to symlink
</I>&gt;<i> Modules/Makefile to the root Python Makefile or ./configure would leave out
</I>&gt;<i> some libraries in the linker line.  I don't remember if libutil was one of
</I>&gt;<i> them.
</I>&gt;<i>
</I>I've run at similar behavior ....
I'm totally ignorant about autoconf/automake stuff but I think problem affects 
python 2.2 bug in configure.in.

2.2 version triggers bad path to Makefile -&gt; python is badly recognaised as 
linked without libs -&gt; symbols are missing.

# set python std library variable
AC_MSG_CHECKING(what libraries Python was linked with)
AC_SUBST(LIBS)
if test -z &quot;$PYTHON_SRC&quot;; then
  PyLIBP=${PyEXEC_INSTALLDIR}/lib/python${PyVERSION}
  PyLIBPL=${PyLIBP}/config
  PyPYTHONLIBS=${PyLIBPL}/libpython${PyVERSION}.a
  PyLIBS=`grep &quot;^LIB[[SMC]]=&quot; ${PyLIBPL}/Makefile | cut -f2 -d= | tr 
'\011\012\015' '   '`
  PyMODLIBS=`grep &quot;^LOCALMODLIBS=&quot; ${PyLIBPL}/Makefile | cut -f2 -d= | tr 
'\011\012\015' '   '`
  PY_LIBS=&quot;${PyPYTHONLIBS} ${PyLIBS} ${PyMODLIBS}&quot;
else
  PyPYTHONLIBS=${PYTHON_SRC}/libpython${PyVERSION}.a
  if test ${PyVERSION} = &quot;2.1&quot;; then
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ IMHO This test should be possitive for 2.2 
too

    PyLIBS=`grep &quot;^LIB[[SMC]]=&quot; ${PYTHON_SRC}/Makefile | cut -f2 -d= | tr 
'\011\012\015' '   '`
    PyMODLIBS=`grep &quot;^LOCALMODLIBS=&quot; ${PYTHON_SRC}/Makefile | cut -f2 -d= | tr 
'\011\012\015' '   '`
  else
    PyLIBS=`grep &quot;^LIB[[SMC]]=&quot; ${PYTHON_SRC}/Modules/Makefile | cut -f2 -d= | 
tr '\011\012\015' '   '`
    PyMODLIBS=`grep &quot;^LOCALMODLIBS=&quot; ${PYTHON_SRC}/Modules/Makefile | cut -f2 
-d= | tr '\011\012\015' '   '`
  fi
  PY_LIBS=&quot;${PyPYTHONLIBS} ${PyLIBS} ${PyMODLIBS}&quot;
fi


-- 
Mateusz Korniak
&quot;Black holes are where God divided by zero.&quot; - Steven Wright



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002002.html">[mod_python] Apache 2.0.42
</A></li>
	<LI>Next message: <A HREF="002004.html">[mod_python] Two more fixes to ac/am stuff (patches included)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2003">[ date ]</a>
              <a href="thread.html#2003">[ thread ]</a>
              <a href="subject.html#2003">[ subject ]</a>
              <a href="author.html#2003">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
