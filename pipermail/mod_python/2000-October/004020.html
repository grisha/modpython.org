<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Apache 1.3.12 + mod_python + ??? = segfault
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Apache%201.3.12%20%2B%20mod_python%20%2B%20%3F%3F%3F%20%3D%20segfault&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004063.html">
   <LINK REL="Next"  HREF="004021.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Apache 1.3.12 + mod_python + ??? = segfault</H1>
    <B>Brian Mueller</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Apache%201.3.12%20%2B%20mod_python%20%2B%20%3F%3F%3F%20%3D%20segfault&In-Reply-To="
       TITLE="[mod_python] Apache 1.3.12 + mod_python + ??? = segfault">bmueller at creotech.com
       </A><BR>
    <I>Tue Oct  3 03:18:07 EST 2000</I>
    <P><UL>
        <LI>Previous message: <A HREF="004063.html">[mod_python] retaining state between handlers
</A></li>
        <LI>Next message: <A HREF="004021.html">[mod_python] Issue with mod_python Fatal Python error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4020">[ date ]</a>
              <a href="thread.html#4020">[ thread ]</a>
              <a href="subject.html#4020">[ subject ]</a>
              <a href="author.html#4020">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<table border=0 width="100%"><tr><td>
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hello,

Recently I installed mod_python on my Apache 1.3.12 setup:

- -----

[<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">root at shiva</A> speedy]# httpd -l
Compiled-in modules:
  http_core.c
  mod_so.c
suexec: enabled; valid wrapper /usr/sbin/suexec
[<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">root at shiva</A> speedy]# httpd -v
Server version: Apache-AdvancedExtranetServer/1.3.12
(NetRevolution/Linux-Mandrake)
Server build: May 8 2000 04:59:44
Performance Tuned by SGI <A HREF="http://www.sgi.com/">http://www.sgi.com/</A>

- -----

Once I installed it I placed the LoadModule and AddModule at the top of
their respective sections within the httpd.conf file.  I reloaded apache
and checked the error log and the output was as follows:

[Sun Oct  1 04:02:02 2000] [notice] Apache-AdvancedExtranetServer/1.3.12 
(NetRevolution/Linux-Mandrake) mod_ssl/2.6.4 OpenSSL/0.9.5a mod_perl/1.22
mod_python/2.4.1 Python/1.5.2 configured -- resuming normal operations
[Sun Oct  1 04:02:02 2000] [notice] suEXEC mechanism enabled (wrapper:
/usr/sbin/suexec)

- -----


all was well, then I installed the following items.

CURL
PSPELL
mhash 0.8.2
mcrypt 2.5.4
libmcrypt 2.4.4
mcal
php4 4.0.2 (with the above supported + mySQL and PostrgreSQL support)

Once I did this I added the php4 stuff to the httpd.conf file and attempted
to restart.  Nothing happened, httpd -X shows a segmentation fault (core
dumped).  I removed php4 from my httpd.conf file and tried again with the
same results.  I readded php4 to my httpd.conf file and commented out the
mod_python references and now it works, though without mod_python.  

I am hoping that someone can shed some light on this as it appears that
something I installed above has caused mod_python to cease working.  Here
is my most recent error_log entry from after I removed mod_python

- -----

[Tue Oct  3 02:36:38 2000] [notice] Apache-AdvancedExtranetServer/1.3.12 
(NetRevolution/Linux-Mandrake) mod_ssl/2.6.4 OpenSSL/0.9.5a mod_perl/1.22
PHP/4.0.2 configured -- resuming normal operations
[Tue Oct  3 02:36:38 2000] [notice] suEXEC mechanism enabled (wrapper:
/usr/sbin/suexec)

- -----

and here is relavent sections from my httpd.conf file.

- -----

##
## httpd.conf -- Apache HTTP server configuration file
##
# This is the main server configuration file. See URL
<A HREF="http://www.apache.org/">http://www.apache.org/</A>
# for instructions.
# Do NOT simply read the instructions in here without understanding
# what they do, if you are unsure consult the online docs. You have been
# warned.  
# Originally by Rob McCool
#---------------------- Use *ONLY* httpd.conf ---------------------------
#
# With all new apache versions, use of access.conf and srm.conf are
# deprecated. We only use httpd.conf.
#
# These 2 directives are needed by some modules, for example FrontPage

#ResourceConfig /dev/null
#AccessConfig /dev/null

#---------------- Dynamic Shared Object (DSO) Support ---------------------
#
# To be able to use the functionality of a module which was built as a DSO
you
# have to place corresponding `LoadModule' lines at this location so the
# directives contained in it are actually available _before_ they are used.
# Please read the file README.DSO in the Apache 1.3 distribution for more
# details about the DSO mechanism and run `httpd -l' for the list of
already
# built-in (statically linked and thus always available) modules in your
httpd
# binary.
#
# Example:
# LoadModule foo_module libexec/mod_foo.so
#
# Documentation for modules is in &quot;/home/httpd/manual/mod&quot; in HTML format.

#LoadModule mmap_static_module modules/mod_mmap_static.so
#LoadModule python_module        modules/mod_python.so
LoadModule env_module         modules/mod_env.so
LoadModule config_log_module  modules/mod_log_config.so
LoadModule agent_log_module   modules/mod_log_agent.so
LoadModule referer_log_module modules/mod_log_referer.so
#LoadModule mime_magic_module  modules/mod_mime_magic.so
LoadModule mime_module        modules/mod_mime.so
LoadModule negotiation_module modules/mod_negotiation.so
LoadModule status_module      modules/mod_status.so
LoadModule info_module        modules/mod_info.so

### You have the choice between mod_include and mod_include_xssi
### Choose only one! mod_include is more secure, while 
### the xssi module has a lot more features
LoadModule includes_module    modules/mod_include.so
#LoadModule includes_module    modules/mod_include_xssi.so

LoadModule autoindex_module   modules/mod_autoindex.so
LoadModule dir_module         modules/mod_dir.so
LoadModule cgi_module         modules/mod_cgi.so
LoadModule asis_module        modules/mod_asis.so
LoadModule imap_module        modules/mod_imap.so
LoadModule action_module      modules/mod_actions.so
#LoadModule speling_module     modules/mod_speling.so
LoadModule userdir_module     modules/mod_userdir.so
LoadModule proxy_module       modules/libproxy.so
LoadModule alias_module       modules/mod_alias.so
LoadModule rewrite_module     modules/mod_rewrite.so
LoadModule access_module      modules/mod_access.so
LoadModule auth_module        modules/mod_auth.so
LoadModule anon_auth_module   modules/mod_auth_anon.so
#LoadModule dbm_auth_module    modules/mod_auth_dbm.so
#LoadModule db_auth_module     modules/mod_auth_db.so
LoadModule digest_module      modules/mod_digest.so
#LoadModule cern_meta_module   modules/mod_cern_meta.so
LoadModule expires_module     modules/mod_expires.so
LoadModule headers_module     modules/mod_headers.so
LoadModule usertrack_module   modules/mod_usertrack.so
#LoadModule example_module     modules/mod_example.so
#LoadModule unique_id_module   modules/mod_unique_id.so
LoadModule setenvif_module    modules/mod_setenvif.so

#  Reconstruction of the complete module list from all available modules
#  (static and shared ones) to achieve correct module execution order.
#  [WHENEVER YOU CHANGE THE LOADMODULE SECTION ABOVE UPDATE THIS, TOO]
ClearModuleList
#AddModule mod_mmap_static.c
#AddModule mod_python.c
AddModule mod_env.c
AddModule mod_log_config.c
AddModule mod_log_agent.c
AddModule mod_log_referer.c
#AddModule mod_mime_magic.c
AddModule mod_mime.c
AddModule mod_negotiation.c
AddModule mod_status.c
AddModule mod_info.c
AddModule mod_include.c
#AdModule mod_include_xssi.c
AddModule mod_autoindex.c
AddModule mod_dir.c
AddModule mod_cgi.c
AddModule mod_asis.c
AddModule mod_imap.c
AddModule mod_actions.c
#AddModule mod_speling.c
AddModule mod_userdir.c
AddModule mod_proxy.c
AddModule mod_alias.c
AddModule mod_rewrite.c
AddModule mod_access.c
AddModule mod_auth.c
AddModule mod_auth_anon.c
#AddModule mod_auth_dbm.c
#AddModule mod_auth_db.c
AddModule mod_digest.c
#AddModule mod_cern_meta.c
AddModule mod_expires.c
AddModule mod_headers.c
AddModule mod_usertrack.c
#AddModule mod_example.c
#AddModule mod_unique_id.c
AddModule mod_so.c
AddModule mod_setenvif.c




####################################
# Add-on Modules and Virtual Hosts #
####################################
#
# Each time we install an add-on module , the post-install script of the
RPM
# adds an &quot;Include&quot; line to read the configuration for that module. When we
# remove the module, we keep the Include line, but we zero out the config 
# file so Apache doesn't complain.
#
# We also put virtual hosts &quot;Includes&quot; in this section. This will be used
by
# administration scripts. Instead of parsing all httpd.conf to modify a
# vhost, we just include the config file. Each type of vhosting has its own
# config file.
#

Include conf/vhosts/Vhosts.conf

Include conf/addon-modules/mod_php4.conf
Include conf/addon-modules/mod_perl.conf
Include conf/ssl/mod_ssl.conf
Include conf/ssl/ssl.default-vhost.conf

- -----

This is in it's currently usable format with mod_python commented out.

Any help would be most appreciated as we had expected to have this new
server online by the end of October.

Thank you,

Brian Mueller


==============================================================
Brian R. Mueller          President and CEO
  CreoTech                &quot;We are the future&quot;

WEB: www.creotech.com     EMAIL: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">bmueller at creotech.com</A>
PHONE: 513.722.8645       TOLL FREE: 800-972-5290
MOBILE: 513.258.9614      FAX: 419.735.7405
ICQ: 63821393             ICQ Pager: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">63821393 at pager.icq.com</A>
WIRELESS WEB PAGING: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">5132589614 at messaging.sprintpcs.com</A>

PGP Key available at <A HREF="http://www.creotech.com/pgp/bmueller.asc">http://www.creotech.com/pgp/bmueller.asc</A>
fingerprint:
9AEE DE48 5D4A 1814 996A
5EAA 315B FF76 30CC 159B
ID: 0xF19B87E8

Network Development &amp; Design,
Custom Programming for the desktop and the web
Traditional Print Media, CD-ROM Prototyping - more
==============================================================

-----BEGIN PGP SIGNATURE-----
Version: 6.5.1ckt <A HREF="http://irfaiad.virtualave.net/">http://irfaiad.virtualave.net/</A>
Comment: KeyID: 0x315BFF7630CC159B
Comment: Fingerprint: 9AEE DE48 5D4A 1814 996A  5EAA 315B FF76 30CC 159B

iQA/AwUBOdmyXjFb/3YwzBWbEQLfJACgpiQHWdEVTrBztyvZMe/QQhuEU4QAnRcl
qaLUz5eMBrawOVx7jXhiuLWL
=ljD8
-----END PGP SIGNATURE-----



</PRE>
<!--endarticle-->
</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004063.html">[mod_python] retaining state between handlers
</A></li>
	<LI>Next message: <A HREF="004021.html">[mod_python] Issue with mod_python Fatal Python error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4020">[ date ]</a>
              <a href="thread.html#4020">[ thread ]</a>
              <a href="subject.html#4020">[ subject ]</a>
              <a href="author.html#4020">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
