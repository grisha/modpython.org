<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Mod_python 3.0 BETA / Apache2 segfault
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Mod_python%203.0%20BETA%20/%20Apache2%20segfault&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009334.html">
   <LINK REL="Next"  HREF="009321.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
<table border=0 width="100%"><tr><td valign="top">
   <H1>[mod_python] Mod_python 3.0 BETA / Apache2 segfault</H1>
    <B>Bryan Mongeau</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Mod_python%203.0%20BETA%20/%20Apache2%20segfault&In-Reply-To="
       TITLE="[mod_python] Mod_python 3.0 BETA / Apache2 segfault">bryan at eevolved.com
       </A><BR>
    <I>Fri Sep 13 16:04:02 EST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="009334.html">[mod_python] more info about the segfault bug
</A></li>
        <LI>Next message: <A HREF="009321.html">[mod_python] Mod_python 3.0 BETA / Apache2 segfault
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9320">[ date ]</a>
              <a href="thread.html#9320">[ thread ]</a>
              <a href="subject.html#9320">[ subject ]</a>
              <a href="author.html#9320">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I have tested out the 3.0 BETA with apache 2 and discovered a segfault.

$ gdb ./httpd
GNU gdb 5.2.1
(gdb) run -X
Starting program: /usr/local/apache2/bin/httpd -X

Program received signal SIGSEGV, Segmentation fault.
0x400e8eef in apr_pstrcat (a=0x81d7fe8) at apr_strings.c:175
175             apr_size_t cplen = strlen(cp);
(gdb) bt
#0  0x400e8eef in apr_pstrcat (a=0x81d7fe8) at apr_strings.c:175
#1  0x402ed68d in python_handler (req=0x81d8020, phase=0x40369247 
&quot;PythonTransHandler&quot;)
    at mod_python.c:764
#2  0x402eea6d in PythonTransHandler (req=0x81d8020) at mod_python.c:1687
#3  0x0808cd48 in ap_run_translate_name (r=0x81d8020) at request.c:108
#4  0x0808d5ec in ap_process_request_internal (r=0x81d8020) at request.c:167
#5  0x08069e02 in ap_process_request (r=0x81d8020) at http_request.c:255
#6  0x08065dab in ap_process_http_connection (c=0x81d40e0) at http_core.c:293
#7  0x080831c8 in ap_run_process_connection (c=0x81d40e0) at connection.c:85
#8  0x0808346f in ap_process_connection (c=0x81d40e0, csd=0x81d4010) at 
connection.c:207
#9  0x08078cc2 in child_main (child_num_arg=0) at prefork.c:696
#10 0x08078d80 in make_child (s=0x80b5378, slot=0) at prefork.c:736
#11 0x08078e71 in startup_children (number_to_start=5) at prefork.c:808
#12 0x0807917d in ap_mpm_run (_pconf=0x80b2cb0, plog=0x80ead90, s=0x80b5378) 
at prefork.c:1024
#13 0x0807e67c in main (argc=2, argv=0xbffff934) at main.c:645
#14 0x401933c1 in __libc_start_main () from /lib/libc.so.6


FIX: Comment out lines 764-767 and 770 of mod_python.c. Seems to compile and 
run fine. Impact on functionality unknown.

Please advise,
-- 
Bryan Mongeau
eEvolved Inc. - IT Consulting &amp; Custom Software
<A HREF="http://eevolved.com/">http://eevolved.com/</A>
--
&quot;The hardest thing in the world to understand is the income tax.&quot;-- Einstein


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009334.html">[mod_python] more info about the segfault bug
</A></li>
	<LI>Next message: <A HREF="009321.html">[mod_python] Mod_python 3.0 BETA / Apache2 segfault
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9320">[ date ]</a>
              <a href="thread.html#9320">[ thread ]</a>
              <a href="subject.html#9320">[ subject ]</a>
              <a href="author.html#9320">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
