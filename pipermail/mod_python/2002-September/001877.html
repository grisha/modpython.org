<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] How can I have sensible URLs?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20How%20can%20I%20have%20sensible%20URLs%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001878.html">
   <LINK REL="Next"  HREF="001882.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] How can I have sensible URLs?</H1>
    <B>Peter Bittner</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20How%20can%20I%20have%20sensible%20URLs%3F&In-Reply-To="
       TITLE="[mod_python] How can I have sensible URLs?">peter.bittner at gmx.net
       </A><BR>
    <I>Wed Sep  4 17:56:13 EST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="001878.html">[mod_python] How can I have sensible URLs?
</A></li>
        <LI>Next message: <A HREF="001882.html">[mod_python] How can I have sensible URLs?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1877">[ date ]</a>
              <a href="thread.html#1877">[ thread ]</a>
              <a href="subject.html#1877">[ subject ]</a>
              <a href="author.html#1877">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi!

&gt;<i> &quot;Grisha&quot; wrote:
</I>&gt;<i> &gt; Basically, the publisher doesn't have a &quot;default&quot; method name. (There is
</I>&gt;<i> &gt; no particular reason for this, it just didn't occur to me at the time of
</I>&gt;<i> &gt; writing.)
</I>
I have adapted my publisher.py so that is now takes a &quot;default()&quot; method by
default 
if no one is specified in the URL. (See the the code below.)

Do you think this adaption is worth being part of the &quot;official&quot; mod_python?
Anyone 
who finds this interesting? (Anyone who wouldn't like it?)

&gt;<i> I do get a little of a headache when I think of users removing the
</I>&gt;<i> &quot;/dothis&quot; from a &quot;<A HREF="http://www.mydomain.com/myscript/dothis&quot;">http://www.mydomain.com/myscript/dothis&quot;</A> and then
</I>&gt;<i> getting a &quot;404 Not Found&quot;.  :-(
</I>
I was a little bit unprecise: It is not a 404 that is raised, it is a
&quot;IndexError: 
string index out of range&quot; that is displayed.

I have changed the code in &quot;publisher.py&quot; from

80:    if func_path[-1] == &quot;.&quot;:
81:        func_path = func_path[:-1]

to the following: (the numbers on the left are the line numbers)

80:    if func_path == &quot;&quot;:          # set method name to &quot;default&quot;
81:        func_path = &quot;default&quot;    # if none is specified in the URL
82:    elif func_path[-1] == &quot;.&quot;:
83:        func_path = func_path[:-1]

(Actually, now it displays the 404 if no &quot;default&quot; method is present! ;-)
*argl*)

Now I have a default-method in each script and I can call scripts by 
&quot;<A HREF="http://servername/scriptname/&quot;.">http://servername/scriptname/&quot;.</A> It works! :-)

Please send me your comments about this change. Does anyone feel this should
be a 
default mod_python behavior? (I don't like to know my mod_python code only
works on 
my very own server and nowhere else, hugh!)

Cheers,
Peter


-- 
Peter Bittner
mobil: +43/(0)650/4151545
web: <A HREF="http://www.bittner.at.tf">http://www.bittner.at.tf</A> - <A HREF="http://beam.to/htmlkurs">http://beam.to/htmlkurs</A>
mail: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">peter.bittner at gmx.net</A>

&quot;Free software is like free speech, not free beer&quot; (Richard Stallman)

GMX - Die Kommunikationsplattform im Internet.
<A HREF="http://www.gmx.net">http://www.gmx.net</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/octet-stream
Size: 81 bytes
Desc: not available
Url : <A HREF="http://mailman.modpython.org/pipermail/mod_python/attachments/20020904/8932dce9/attachment.obj">http://mailman.modpython.org/pipermail/mod_python/attachments/20020904/8932dce9/attachment.obj</A>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001878.html">[mod_python] How can I have sensible URLs?
</A></li>
	<LI>Next message: <A HREF="001882.html">[mod_python] How can I have sensible URLs?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1877">[ date ]</a>
              <a href="thread.html#1877">[ thread ]</a>
              <a href="subject.html#1877">[ subject ]</a>
              <a href="author.html#1877">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
