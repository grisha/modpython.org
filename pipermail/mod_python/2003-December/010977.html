<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Changing the status code with custom content
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Changing%20the%20status%20code%20with%20custom%20content&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010978.html">
   <LINK REL="Next"  HREF="010988.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
<table border=0 width="100%"><tr><td valign="top">
   <H1>[mod_python] Changing the status code with custom content</H1>
    <B>Michael C. Neel</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Changing%20the%20status%20code%20with%20custom%20content&In-Reply-To="
       TITLE="[mod_python] Changing the status code with custom content">neel at mediapulse.com
       </A><BR>
    <I>Mon Dec 22 11:44:42 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="010978.html">[mod_python] redirects and url rewriting
</A></li>
        <LI>Next message: <A HREF="010988.html">[mod_python] Changing the status code with custom content
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10977">[ date ]</a>
              <a href="thread.html#10977">[ thread ]</a>
              <a href="subject.html#10977">[ subject ]</a>
              <a href="author.html#10977">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm having trouble using mod_python to change the status code and have
custom content in the error message.  If I return something other than
apache.OK in my handler, the status line is set correctly set but apache
returns the default error page.  If I have sent custom content for the
error message, the apache error message is added to the end of the
document.  I can get around this by using an ErrorDocument directive in
apache's conf, but I loose access to the traceback of the error and thus
the ability to have a really custom error message.

At first glance this didn't seem to matter.  As long as the content said
error, the user knew of the problem, even if the status was 200 OK.
However I've found out now with search bots this does matter - they
don't know that they have a bad url for the site and are indexing error
pages thinking they are legit.

Any thoughts on what I may be over looking?

Thanks,
Mike

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010978.html">[mod_python] redirects and url rewriting
</A></li>
	<LI>Next message: <A HREF="010988.html">[mod_python] Changing the status code with custom content
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10977">[ date ]</a>
              <a href="thread.html#10977">[ thread ]</a>
              <a href="subject.html#10977">[ subject ]</a>
              <a href="author.html#10977">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
