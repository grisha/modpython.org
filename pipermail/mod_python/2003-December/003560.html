<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Re: Persistant data
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20Persistant%20data&In-Reply-To=brqv6q%243h7%241%40sea.gmane.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003556.html">
   <LINK REL="Next"  HREF="003557.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Re: Persistant data</H1>
    <B>David Fraser</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20Persistant%20data&In-Reply-To=brqv6q%243h7%241%40sea.gmane.org"
       TITLE="[mod_python] Re: Persistant data">davidf at sjsoft.com
       </A><BR>
    <I>Thu Dec 18 08:24:56 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="003556.html">[mod_python] Re: Persistant data
</A></li>
        <LI>Next message: <A HREF="003557.html">[mod_python] Re: Persistant data
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3560">[ date ]</a>
              <a href="thread.html#3560">[ thread ]</a>
              <a href="subject.html#3560">[ subject ]</a>
              <a href="author.html#3560">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Russell Yanofsky wrote:

&gt;<i>Timothy Stebbing wrote:
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;&gt;<i>Is there some way to persist data resource using apache? Im writing a
</I>&gt;&gt;<i>simple protocol module
</I>&gt;&gt;<i>using PythonConnectionHandler, this takes queries and runs them
</I>&gt;&gt;<i>against various backends,
</I>&gt;&gt;<i>ie postgres, Lupy (indexer), etc. I want to persist my connections to
</I>&gt;&gt;<i>these resources across all
</I>&gt;&gt;<i>requests.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Ive tried adding a db 'pool' into a module, but the module is reloaded
</I>&gt;&gt;<i>for each request serviced.
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Is the module containing the db pool the same one that you specified in
</I>&gt;<i>PythonConnectionHandler? If so, you should try storing the pool in a
</I>&gt;<i>different module and accessing it with an import statement.
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;&gt;<i>Im wondering if there is some way I can add objects into these 'apache
</I>&gt;&gt;<i>tables' ? would that make
</I>&gt;&gt;<i>them persistant, and if so how do I do that? I was also wondering if I
</I>&gt;&gt;<i>could somehow access the
</I>&gt;&gt;<i>main namespace from child interpreters?
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>I doubt Mod_Python is using a different interpreter for each request. It's
</I>&gt;<i>probably just reloading the one module.
</I>&gt;<i>  
</I>&gt;<i>
</I>It's quite possible that mod_python is using different interpreters for 
different requests if Apache is loaded with multiple processes. Each 
process will then have its own interpreter. So if you have 20 
interpreters, the likelihood that the first 4 requests each use a unique 
interpreter is 72.67%
This can make it look like each request uses its own interpreter, 
whereas actually there are a pool of interpreters being shared

David


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003556.html">[mod_python] Re: Persistant data
</A></li>
	<LI>Next message: <A HREF="003557.html">[mod_python] Re: Persistant data
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3560">[ date ]</a>
              <a href="thread.html#3560">[ thread ]</a>
              <a href="subject.html#3560">[ subject ]</a>
              <a href="author.html#3560">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
