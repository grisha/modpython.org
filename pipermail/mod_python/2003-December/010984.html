<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] redirects and url rewriting
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20redirects%20and%20url%20rewriting&In-Reply-To=3FE74B03.70506%40dynamine.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010983.html">
   <LINK REL="Next"  HREF="010982.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
<table border=0 width="100%"><tr><td valign="top">
   <H1>[mod_python] redirects and url rewriting</H1>
    <B>Daniel J. Popowich</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20redirects%20and%20url%20rewriting&In-Reply-To=3FE74B03.70506%40dynamine.net"
       TITLE="[mod_python] redirects and url rewriting">dpopowich at mtrsd.k12.ma.us
       </A><BR>
    <I>Mon Dec 22 15:36:01 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="010983.html">[mod_python] redirects and url rewriting
</A></li>
        <LI>Next message: <A HREF="010982.html">[mod_python] redirects and url rewriting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10984">[ date ]</a>
              <a href="thread.html#10984">[ thread ]</a>
              <a href="subject.html#10984">[ subject ]</a>
              <a href="author.html#10984">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Michael S. Fischer writes:
&gt;<i> I wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; Browsers determine what to display in the address bar based on two 
</I>&gt;<i> &gt; things only: (1) the URL requested by a user (bookmark, address bar or 
</I>&gt;<i> &gt; some other UI mechanism), or (2) an HTTP Redirect: header returned by 
</I>&gt;<i> &gt; the server.
</I>&gt;<i> 
</I>
Yes, of course.  Duh.  I now think I understand what's going on:

  1. A call to req.internal_redirect(uri) will return the content of
     the uri as the address the user asked for UNLESS the HTTP
     Location header is sent.  This is what I had been originally
     expecting until the redirect to certain urls (like
     <A HREF="http://localhost/manual">http://localhost/manual</A>) changed in my browser's address bar.
     Confusion insued until Kevin Ballard replied with clues that...

  2. ...apache, when receiving requests that are directories (or
     aliases/symlinks to directories) without the trailing slash,
     actually sends a 301 response.  So, a request like
     <A HREF="http://host/foo">http://host/foo</A> will generate a 301 response if foo is a
     directory and send a &quot;Location: <A HREF="http://host/foo/&quot;">http://host/foo/&quot;</A> header.  I was
     first shocked by this (think of all the extra bytes flooding the
     'net because of this!!), but understand it's the only way within
     the protocol to make relative links work.  (Although it begs the
     question why the protocol doesn't have a Real-Location header, or
     some such, to let the browser know what the real url for the
     requested page should be without having to go fetch it.)

Sound right?

Knowing now what I can expect consistantly (and knowing it's not for
lack of understanding mod_python subtleties) and can continue with my
app design.  Thanks for all your help!

Dan


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010983.html">[mod_python] redirects and url rewriting
</A></li>
	<LI>Next message: <A HREF="010982.html">[mod_python] redirects and url rewriting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10984">[ date ]</a>
              <a href="thread.html#10984">[ thread ]</a>
              <a href="subject.html#10984">[ subject ]</a>
              <a href="author.html#10984">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
