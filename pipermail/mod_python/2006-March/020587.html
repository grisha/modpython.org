<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Bug with document root.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Bug%20with%20document%20root.&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020601.html">
   <LINK REL="Next"  HREF="020588.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Bug with document root.</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Wouter van Marle</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Bug%20with%20document%20root.&In-Reply-To="
       TITLE="[mod_python] Bug with document root.">wouter at squirrel-systems.com
       </A><BR>
    <I>Sun Mar 12 09:44:20 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020601.html">[mod_python] Re: Specifying GET/POST method for FieldStorage
</A></li>
        <LI>Next message: <A HREF="020588.html">[mod_python] Bug with document root.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20587">[ date ]</a>
              <a href="thread.html#20587">[ thread ]</a>
              <a href="subject.html#20587">[ subject ]</a>
              <a href="author.html#20587">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I think I ran into a bug of mod_python, regarding sessions. If I define
my site (and document root) in the Vhosts section, I get the below
error. If it is defined in the main configuration of apache (single
site) then there is no problem. Very strange, as the Vhosts idea used to
work (well... that is... Apache recognises and uses only the first
definition, so not all goes that great). Running Mandrake 10.1.

Wouter.


Mod_python error: &quot;PythonHandler mod_python.publisher&quot;

Traceback (most recent call last):

  File &quot;/usr/lib/python2.3/site-packages/mod_python/apache.py&quot;, line
299, in HandlerDispatch
    result = object(req)

  File &quot;/usr/lib/python2.3/site-packages/mod_python/publisher.py&quot;, line
136, in handler
    result = util.apply_fs_data(object, req.form, req=req)

  File &quot;/usr/lib/python2.3/site-packages/mod_python/util.py&quot;, line 361,
in apply_fs_data
    return object(**args)

  File &quot;/var/www/html/jaimys/python/main.py&quot;, line 38, in home
    req.session = util.getSession(req)

  File &quot;/var/www/html/jaimys/python/util.py&quot;, line 80, in getSession
    sess = Session.Session(req)

  File &quot;/usr/lib/python2.3/site-packages/mod_python/Session.py&quot;, line
389, in Session
    timeout=timeout, lock=lock)

  File &quot;/usr/lib/python2.3/site-packages/mod_python/Session.py&quot;, line
294, in __init__
    timeout=timeout, lock=lock)

  File &quot;/usr/lib/python2.3/site-packages/mod_python/Session.py&quot;, line
132, in __init__
    Cookie.add_cookie(self._req, self.make_cookie())

  File &quot;/usr/lib/python2.3/site-packages/mod_python/Session.py&quot;, line
160, in make_cookie
    c.path = dirpath[len(docroot):]

TypeError: unsubscriptable objectMod_python error: &quot;PythonHandler
mod_python.publisher&quot;

Traceback (most recent call last):

  File &quot;/usr/lib/python2.3/site-packages/mod_python/apache.py&quot;, line
299, in HandlerDispatch
    result = object(req)

  File &quot;/usr/lib/python2.3/site-packages/mod_python/publisher.py&quot;, line
136, in handler
    result = util.apply_fs_data(object, req.form, req=req)

  File &quot;/usr/lib/python2.3/site-packages/mod_python/util.py&quot;, line 361,
in apply_fs_data
    return object(**args)

  File &quot;/var/www/html/jaimys/python/main.py&quot;, line 38, in home
    req.session = util.getSession(req)

  File &quot;/var/www/html/jaimys/python/util.py&quot;, line 80, in getSession
    sess = Session.Session(req)

  File &quot;/usr/lib/python2.3/site-packages/mod_python/Session.py&quot;, line
389, in Session
    timeout=timeout, lock=lock)

  File &quot;/usr/lib/python2.3/site-packages/mod_python/Session.py&quot;, line
294, in __init__
    timeout=timeout, lock=lock)

  File &quot;/usr/lib/python2.3/site-packages/mod_python/Session.py&quot;, line
132, in __init__
    Cookie.add_cookie(self._req, self.make_cookie())

  File &quot;/usr/lib/python2.3/site-packages/mod_python/Session.py&quot;, line
160, in make_cookie
    c.path = dirpath[len(docroot):]

TypeError: unsubscriptable object
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20060312/da848dd3/attachment.html">http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20060312/da848dd3/attachment.html</A>
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020601.html">[mod_python] Re: Specifying GET/POST method for FieldStorage
</A></li>
	<LI>Next message: <A HREF="020588.html">[mod_python] Bug with document root.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20587">[ date ]</a>
              <a href="thread.html#20587">[ thread ]</a>
              <a href="subject.html#20587">[ subject ]</a>
              <a href="author.html#20587">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
