<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] psp prints
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20psp%20prints&In-Reply-To=1a5f2e680603080241s3b20592m36c7172cc238b7f%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020573.html">
   <LINK REL="Next"  HREF="020575.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] psp prints</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20psp%20prints&In-Reply-To=1a5f2e680603080241s3b20592m36c7172cc238b7f%40mail.gmail.com"
       TITLE="[mod_python] psp prints">grahamd at dscpl.com.au
       </A><BR>
    <I>Wed Mar  8 05:49:05 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020573.html">[mod_python] psp prints
</A></li>
        <LI>Next message: <A HREF="020575.html">[mod_python] AIX - someone must have got it work !
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20574">[ date ]</a>
              <a href="thread.html#20574">[ thread ]</a>
              <a href="subject.html#20574">[ subject ]</a>
              <a href="author.html#20574">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 08/03/2006, at 9:41 PM, Peter Sheldrick wrote:

&gt;<i> If i do it like that, i get the unambigous error: &quot;NameError: global 
</I>&gt;<i> name 'req' is not defined&quot;. I have imported a module into my psp page 
</I>&gt;<i> - those functions gerate html. These functions don't know about the 
</I>&gt;<i> page variable req. So is the best way to pass req to all the functions 
</I>&gt;<i> i want to call (and that want to print)?. Is this just a missuse and 
</I>&gt;<i> psp should be self contained; this means: only use functions defined 
</I>&gt;<i> within the psp page?
</I>
Passing &quot;req&quot; to functions called from the PSP page is fine
and would be necessary in a lot of cases.

Maybe some others on the mailing list who use PSP on a regular
basis might give suggestions on how to best structure stuff,
but in general it is possibly better to have as little Python
code in the actual PSP page as possible, with it all being
separated into separate functions. That way the PSP page is
cleaner and code is reusable across multiple pages.

PS, please remember to use reply-all so messages go back to
the mailing list.

Graham


&gt;<i> On 3/8/06, Graham Dumpleton &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">grahamd at dscpl.com.au</A>&gt; wrote:
</I>&gt;&gt;<i> On 08/03/2006, at 9:19 PM, Peter Sheldrick wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt; With psp you can gereate html by doing &lt;%= &quot;html&quot; %&gt; or def fun:
</I>&gt;&gt;<i> &gt; return &quot;html&quot; &lt;%= fun() %&gt; is there a way for fun to just &quot;print&quot; 
</I>&gt;&gt;<i> the
</I>&gt;&gt;<i> &gt; html? For example when it is called by a few functions first i don't
</I>&gt;&gt;<i> &gt; want to have to pass the return string of fun() to all above
</I>&gt;&gt;<i> &gt; functions.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> You can still call req.write().
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &lt;%=
</I>&gt;&gt;<i>  req.write(&quot;html&quot;)
</I>&gt;&gt;<i> %&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Is that what you want?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Graham
</I>&gt;&gt;<i>
</I>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020573.html">[mod_python] psp prints
</A></li>
	<LI>Next message: <A HREF="020575.html">[mod_python] AIX - someone must have got it work !
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20574">[ date ]</a>
              <a href="thread.html#20574">[ thread ]</a>
              <a href="subject.html#20574">[ subject ]</a>
              <a href="author.html#20574">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
