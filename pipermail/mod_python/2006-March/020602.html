<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Re: Specifying GET/POST method for FieldStorage
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20Specifying%20GET/POST%20method%20for%20FieldStorage&In-Reply-To=441533CF.2070007%40natlab.research.philips.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020600.html">
   <LINK REL="Next"  HREF="020601.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Re: Specifying GET/POST method for FieldStorage</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Fr&#233;d&#233;ric Jolliton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20Specifying%20GET/POST%20method%20for%20FieldStorage&In-Reply-To=441533CF.2070007%40natlab.research.philips.com"
       TITLE="[mod_python] Re: Specifying GET/POST method for FieldStorage">mod_python at frederic.jolliton.com
       </A><BR>
    <I>Mon Mar 13 12:45:33 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020600.html">[mod_python] Re: Specifying GET/POST method for FieldStorage
</A></li>
        <LI>Next message: <A HREF="020601.html">[mod_python] Re: Specifying GET/POST method for FieldStorage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20602">[ date ]</a>
              <a href="thread.html#20602">[ thread ]</a>
              <a href="subject.html#20602">[ subject ]</a>
              <a href="author.html#20602">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>[Since everyone is top posting, I will don't take the time to
copy&amp;paste parts of my previous post for the context..]

To summarize, I'm proposing:

util.FieldStorage()                   # as usual, return all fields
util.FieldStorage( source = 'all' )   # same as above
util.FieldStorage( source = 'query' ) # only fields from QS
util.FieldStorage( source = 'post' )  # only fields from POST method

&gt;<i> Objections:
</I>&gt;<i> 1. GET and POST are really, really bad names.
</I>
I agree. Then perhaps something like source='query' and source='post',
defaulting to source='all' (see above.)

&gt;<i> 2. You already have what you want, you're just making things
</I>&gt;<i> complex.
</I>
I want more control, more possibility, more power. I don't see
complexity here.

&gt;<i> Explanation:
</I>&gt;<i> 1. A GET request differs from a POST request in more ways than just
</I>&gt;<i> &quot;where the parameters are&quot;. A POST instructs the browser to &quot;not do it
</I>&gt;<i> again&quot; on reload, because a POST has a side-effect (it changes data on
</I>&gt;<i> the server). A GET is a read-only action that does not affect server
</I>&gt;<i> state and can be issued as many times as desired.
</I>
You're talking about web browsers and HTML. That's only conventions.
You seems to imply that's the only way. But we agree on the different
meaning according to the origin, and that's the reason for my patch.

But even the query string is only convention (it could be any string
with any syntax you want) as long as it doesn't come from a form with
GET method !

So, here is another (contrived) example:

Say I've my own syntax for the &quot;query&quot; string where &amp; and = have
potentially different meaning (that's my right), and I use only POST
method for forms.

I've URLs such as:

<A HREF="http://example.com/books?sort=title/cat=computing&amp;math">http://example.com/books?sort=title/cat=computing&amp;math</A>

or

<A HREF="http://example.com/books?id:ZmllbGQ=/group:YW5vdGhlciBmaWVsZA==">http://example.com/books?id:ZmllbGQ=/group:YW5vdGhlciBmaWVsZA==</A>

(base64 encoded values)

or.. well, lot of other possible example for whatever reasons.

However, I want to process the POST fields normally, so in such case I
could want to do:

-=-=-
# Process the query string with my own syntax separately
data = processMyOwnSyntax( req.subprocess_env[ 'QUERY_STRING' ] )

# Reuse the useful util.FieldStorage for the POST fields only and
# don't try to parse query string because the data don't come from a
# form.
formFields = util.FieldStorage( source = 'post' )
-=-=-

&gt;<i> 2. On what you call a &quot;nameclash&quot;, FieldStorage will put the
</I>&gt;<i> req.args in req['title'][0] and the body version in req['title'][1].
</I>
Seriously ? :) How could you build serious stuff by relying on such
detail !

&gt;<i> I don't see why the whole mod_python community should adapt to your
</I>&gt;<i> single solution to your particular 'problem'.
</I>
Huh.

&gt;<i> I can think of about a dozen ways to get what you apparently want,
</I>&gt;<i> and modifying any underlying mod_python code is not part of any of
</I>&gt;<i> them.
</I>
Sure, I can just create my own FieldStorage class anyway. After all,
I'm only suggesting something. That such a change could be part of
mod_python or not is not a big concern to me.

And english is not my primary language, it's hard to me to explain
things correctly.

-- 
Fr&#233;d&#233;ric Jolliton

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020600.html">[mod_python] Re: Specifying GET/POST method for FieldStorage
</A></li>
	<LI>Next message: <A HREF="020601.html">[mod_python] Re: Specifying GET/POST method for FieldStorage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20602">[ date ]</a>
              <a href="thread.html#20602">[ thread ]</a>
              <a href="subject.html#20602">[ subject ]</a>
              <a href="author.html#20602">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
