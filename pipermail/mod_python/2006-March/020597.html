<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] some troubles with multiple applications in the
	onedirectory
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20some%20troubles%20with%20multiple%20applications%20in%20the%0A%09onedirectory&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020596.html">
   <LINK REL="Next"  HREF="020603.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] some troubles with multiple applications in the
	onedirectory</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20some%20troubles%20with%20multiple%20applications%20in%20the%0A%09onedirectory&In-Reply-To="
       TITLE="[mod_python] some troubles with multiple applications in the
	onedirectory">grahamd at dscpl.com.au
       </A><BR>
    <I>Sun Mar 12 18:23:33 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020596.html">[mod_python] some troubles with multiple applications in the one
	directory
</A></li>
        <LI>Next message: <A HREF="020603.html">[mod_python] AIX - someone must have got it work !
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20597">[ date ]</a>
              <a href="thread.html#20597">[ thread ]</a>
              <a href="subject.html#20597">[ subject ]</a>
              <a href="author.html#20597">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>stalker wrote ..
&gt;<i> this is the part of my .htaccess file
</I>&gt;<i> 
</I>&gt;<i> Options -Indexes
</I>&gt;<i> AddHandler mod_python .py
</I>&gt;<i> &lt;Files &quot;test1.py&quot;&gt;
</I>&gt;<i> 	PythonHandler test1
</I>&gt;<i> &lt;/Files&gt;
</I>&gt;<i> &lt;Files &quot;test2.py&quot;&gt;
</I>&gt;<i> 	PythonHandler test2
</I>&gt;<i> &lt;/Files&gt;
</I>&gt;<i> &lt;Files &quot;test3.py&quot;&gt;
</I>&gt;<i>        PythonHandler test3
</I>&gt;<i> &lt;/Files&gt;
</I>&gt;<i> &lt;Files &quot;test4.py&quot;&gt;
</I>&gt;<i>        PythonHandler test4
</I>&gt;<i> &lt;/Files&gt;
</I>&gt;<i> PythonDebug On
</I>&gt;<i> 
</I>&gt;<i> If i get <A HREF="http://localhost/dir/test1.py">http://localhost/dir/test1.py</A> - normal running
</I>&gt;<i> if i get <A HREF="http://my_network_ip/dir/test1.py">http://my_network_ip/dir/test1.py</A> - i get the error
</I>&gt;<i> 
</I>&gt;<i> Mod_python error: &quot;PythonHandler test1&quot;
</I>&gt;<i> ...
</I>&gt;<i> ImportError: No module named test1
</I>&gt;<i> 
</I>&gt;<i> how can i fix it?
</I>
This problem relates to:

  <A HREF="https://issues.apache.org/jira/browse/MODPYTHON-126">https://issues.apache.org/jira/browse/MODPYTHON-126</A>

Two things can be done to work around. The first is to explicitly
set PythonPath directive in that directory, to include that directory.
This may not be practical if you have other directories nested in
subdirectories.

The second thing that can be done is to put in a dummy fixup
handler in that directory.

  PythonFixupHandler _dummy

This should be outside of the Files directives. The _dummy.py
file should contain:

  from mod_python import apache

  def fixuphandler(req):
    return apache.OK

Use of the fixup handler is enough to trigger sys.path to be
correctly updated automatically with the path to the directory.

There is another workaround which is possibly more elegant,
but it requires use of mod_python out of subversion repository.
If I get a chance and it is of interest, I'll post about it later.

Graham
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020596.html">[mod_python] some troubles with multiple applications in the one
	directory
</A></li>
	<LI>Next message: <A HREF="020603.html">[mod_python] AIX - someone must have got it work !
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20597">[ date ]</a>
              <a href="thread.html#20597">[ thread ]</a>
              <a href="subject.html#20597">[ subject ]</a>
              <a href="author.html#20597">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
