<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Templates et. al.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Templates%20et.%20al.&In-Reply-To=ffa39deb0603272242j10eff07vb0bbf4646d7d081a%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020669.html">
   <LINK REL="Next"  HREF="020696.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Templates et. al.</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Jim Gallacher</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Templates%20et.%20al.&In-Reply-To=ffa39deb0603272242j10eff07vb0bbf4646d7d081a%40mail.gmail.com"
       TITLE="[mod_python] Templates et. al.">jpg at jgassociates.ca
       </A><BR>
    <I>Tue Mar 28 11:50:55 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020669.html">[mod_python] Templates et. al.
</A></li>
        <LI>Next message: <A HREF="020696.html">[mod_python] Templates et. al.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20684">[ date ]</a>
              <a href="thread.html#20684">[ thread ]</a>
              <a href="subject.html#20684">[ subject ]</a>
              <a href="author.html#20684">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>marinus van aswegen wrote:
&gt;<i> Hi All
</I>&gt;<i> 
</I>&gt;<i> I'm trying to find a good pattern to do page updates. The use case is as
</I>&gt;<i> follow:
</I>&gt;<i> The user is presented with a page, the user enters data, the user is
</I>&gt;<i> provided with feedback e.g. validation errors, failure, success.
</I>&gt;<i> 
</I>&gt;<i> I have implemented this in two ways, but I'd like to hear how others have
</I>&gt;<i> approached this problem.
</I>&gt;<i> 
</I>&gt;<i> option 1:
</I>&gt;<i> create a page render function
</I>&gt;<i> create a page handler function
</I>&gt;<i> if there's validation problems call the render function with args e.g.
</I>&gt;<i> update status
</I>&gt;<i> 
</I>&gt;<i> option 2:
</I>&gt;<i> create a page render function
</I>&gt;<i> create a page handler function
</I>&gt;<i> if there's validation problems render the page using the handler function
</I>&gt;<i> e.g. update status
</I>&gt;<i> 
</I>&gt;<i> I prefer option 1, because it retains the user input and I don't have to
</I>&gt;<i> manually populate fields again (option 2) , however I get situations where
</I>&gt;<i> the new page is just appended below the previous page. Is there a way to
</I>&gt;<i> tell mod_python to clear the slate?
</I>&gt;<i> 
</I>&gt;<i> This is how I render pages:
</I>&gt;<i> 
</I>&gt;<i>     # load the appropriate templates, mangle and render
</I>&gt;<i>     req.content_type ='text/html'
</I>&gt;<i>     tmpl = psp.PSP(req, filename='template.html')
</I>&gt;<i>     content = psp.PSP(req, filename= 'welcome.html', vars = {} )
</I>&gt;<i>     tmpl.run ( vars = {'status': status, 'content': content } )
</I>&gt;<i>     return apache.OK
</I>&gt;<i> 
</I>
I'm not sure what you mean by &quot;clear the slate&quot;, but if your page is 
getting rendered twice then you are calling your render function twice 
in the same request. There is not enough context in the code snippet 
above to really tell what is happening. Perhaps you could post a more 
complete example?

Jim

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020669.html">[mod_python] Templates et. al.
</A></li>
	<LI>Next message: <A HREF="020696.html">[mod_python] Templates et. al.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20684">[ date ]</a>
              <a href="thread.html#20684">[ thread ]</a>
              <a href="subject.html#20684">[ subject ]</a>
              <a href="author.html#20684">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
