<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] I need to create a Zip file on the fly and write it
	tothe stream without any temp files or in memory file creation?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20I%20need%20to%20create%20a%20Zip%20file%20on%20the%20fly%20and%20write%20it%0A%09tothe%20stream%20without%20any%20temp%20files%20or%20in%20memory%20file%20creation%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020557.html">
   <LINK REL="Next"  HREF="020549.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] I need to create a Zip file on the fly and write it
	tothe stream without any temp files or in memory file creation?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20I%20need%20to%20create%20a%20Zip%20file%20on%20the%20fly%20and%20write%20it%0A%09tothe%20stream%20without%20any%20temp%20files%20or%20in%20memory%20file%20creation%3F&In-Reply-To="
       TITLE="[mod_python] I need to create a Zip file on the fly and write it
	tothe stream without any temp files or in memory file creation?">grahamd at dscpl.com.au
       </A><BR>
    <I>Mon Mar  6 19:58:33 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020557.html">[mod_python] I need to create a Zip file on the fly and write
	it to	the stream without any temp files or in memory file creation?
</A></li>
        <LI>Next message: <A HREF="020549.html">[mod_python] Quixote 2.0 and mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20548">[ date ]</a>
              <a href="thread.html#20548">[ thread ]</a>
              <a href="subject.html#20548">[ subject ]</a>
              <a href="author.html#20548">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Can you please explain the .tell() issue and how it is a problem? If
you are packing it into an instance of StringIO rather than onto req,
then it will be able to find a .tell() function and others it needs.
Obviously, the issue with StringIO is that it must hold it all in
memory until everything is complete and only then can you send
data. Ie., can't be streamed as you go.

Thus, please show examples of how you were using ZipFile and go
into more detail of why it doesn't work and what errors you get.

Graham

jarrod roberson wrote ..
&gt;<i> just to stop the responses now mod_deflate is NOT what I need. I need the
</I>&gt;<i> end user to get a pop up that allows them to down load the contents of
</I>&gt;<i> a
</I>&gt;<i> directory as one big zip file.
</I>&gt;<i> 
</I>&gt;<i> I have a servlet in Java that does just this using the ZipOutputStream
</I>&gt;<i> and
</I>&gt;<i> it works great! You can download giant directorys with very very little
</I>&gt;<i> load
</I>&gt;<i> on the server since I am doing a ZERO level compression.
</I>&gt;<i> 
</I>&gt;<i> The reason I am looking at a mod_python solution is the way we have mod_dav
</I>&gt;<i> set up right now it takes over the namespace that we need to do redirects
</I>&gt;<i> from and can't get Apache to redirect the URL to the Java Servlet, and
</I>&gt;<i> we
</I>&gt;<i> have a big time crunch and can't re-archtiect the entire directory layout
</I>&gt;<i> to
</I>&gt;<i> try and fix it right now.
</I>&gt;<i> 
</I>&gt;<i> I saw a post recommending to use ZipFile, ZipFile won't work, it needs
</I>&gt;<i> .tell(). It updates all the zip headers after the fact.
</I>&gt;<i> I found something called zipstream.py, but alas, it does the same thing!
</I>&gt;<i> 
</I>&gt;<i> Before I go and write a ZipOutputStream wrapper around the request object,
</I>&gt;<i> I
</I>&gt;<i> wanted to see if any of you know of anythign out there that does this.
</I>&gt;<i> 
</I>&gt;<i> Thanks again, and remember mod_deflate is NOT going to work.
</I></PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020557.html">[mod_python] I need to create a Zip file on the fly and write
	it to	the stream without any temp files or in memory file creation?
</A></li>
	<LI>Next message: <A HREF="020549.html">[mod_python] Quixote 2.0 and mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20548">[ date ]</a>
              <a href="thread.html#20548">[ thread ]</a>
              <a href="subject.html#20548">[ subject ]</a>
              <a href="author.html#20548">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
