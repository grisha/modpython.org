<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Upgrade to mod_python 3.0.0 causes some handlers
	not to run.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Upgrade%20to%20mod_python%203.0.0%20causes%20some%20handlers%0A%09not%20to%20run.&In-Reply-To=1042340165.1840.16.camel%40jade.biology.duke.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005963.html">
   <LINK REL="Next"  HREF="005950.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Upgrade to mod_python 3.0.0 causes some handlers
	not to run.</H1>
    <B>Hunter Matthews</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Upgrade%20to%20mod_python%203.0.0%20causes%20some%20handlers%0A%09not%20to%20run.&In-Reply-To=1042340165.1840.16.camel%40jade.biology.duke.edu"
       TITLE="[mod_python] Upgrade to mod_python 3.0.0 causes some handlers
	not to run.">thm at duke.edu
       </A><BR>
    <I>Sun Jan 26 17:22:49 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="005963.html">[mod_python] Upgrade to mod_python 3.0.0 causes some handlers
	not to run.
</A></li>
        <LI>Next message: <A HREF="005950.html">[mod_python] session data and shared memory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5996">[ date ]</a>
              <a href="thread.html#5996">[ thread ]</a>
              <a href="subject.html#5996">[ subject ]</a>
              <a href="author.html#5996">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<table border=0 width="100%"><tr><td>
<!--beginarticle-->
<PRE>On Sat, 2003-01-11 at 21:56, Hunter Matthews wrote:
&gt;<i> I have program (current) that successfully uses the following
</I>&gt;<i> confirguration under apache 1.3.24 and mod_python 2.7.8 (redhat 7.2 or
</I>&gt;<i> 7.3, basically) to have a TypeHandler, AccessHandler, and PythonHander
</I>&gt;<i> run on some get requests.
</I>
This has been fixed. I'm mailing the list to let other mod_python users
know what we found.

&gt;<i> 
</I>&gt;<i> If I take this same configuration to httpd 2.0.40 and mod_python 3.0.0
</I>&gt;<i> (redhat 8.0) the python handler runs for the /XMLRPC requests, but
</I>&gt;<i> neither the TypeHandler or the AccessHandler is running for the
</I>&gt;<i> /XMLRPC/$RHN requests.
</I>
The problem turned out to be that if you did NOT specify the
&quot;SetHandler&quot; and used PythonModuleHandler in a configuration, mod_python
would not run the handlers you implemented.

The fix is, apparently, to both upgrade to mod_python 3.0.1, and to not
use PythonModuleHandler if you're not using SetHandler.

It looks like 3.0.1 will do the right thing with no SetHandler, IF you
specify all the handlers out that you want to use. PythonHandlerModule
is apparently still broken.

Here's the relevant part of our old configuration.

&gt;<i> &lt;Location ~ &quot;/XMLRPC$&quot;&gt;
</I>&gt;<i>     PythonPath &quot;sys.path + ['/usr/share/current']&quot;
</I>&gt;<i>     SetHandler python-program
</I>&gt;<i>     PythonHandler current_apache
</I>&gt;<i> &lt;/Location&gt;
</I>&gt;<i> 
</I>&gt;<i> &lt;Location /XMLRPC/$RHN&gt;
</I>&gt;<i>     PythonPath &quot;sys.path + ['/usr/share/current']&quot;
</I>&gt;<i>     PythonHandlerModule current_apache
</I>&gt;<i> &lt;/Location&gt;
</I>
And here's the one that a user reported success with when using
mod_python 3.0.1:

&lt;Location ~ &quot;/XMLRPC$&quot;&gt;
    PythonPath &quot;sys.path + ['/usr/share/current']&quot;
    SetHandler python-program
    PythonHandler current_apache
&lt;/Location&gt;

&lt;Location /XMLRPC/$RHN&gt;
    PythonPath &quot;sys.path + ['/usr/share/current']&quot;
    PythonTypeHandler current_apache
    PythonAccessHandler current_apache
&lt;/Location&gt;

-- 
Hunter Matthews                          Unix / Network Administrator
Office: BioScience 145/244               Duke Univ. Biology Department
Key: F0F88438 / FFB5 34C0 B350 99A4 BB02  9779 A5DB 8B09 F0F8 8438
Never take candy from strangers. Especially on the internet.


</PRE>
<!--endarticle-->
</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005963.html">[mod_python] Upgrade to mod_python 3.0.0 causes some handlers
	not to run.
</A></li>
	<LI>Next message: <A HREF="005950.html">[mod_python] session data and shared memory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5996">[ date ]</a>
              <a href="thread.html#5996">[ thread ]</a>
              <a href="subject.html#5996">[ subject ]</a>
              <a href="author.html#5996">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
