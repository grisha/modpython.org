<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Configuring Session.Session
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Configuring%20Session.Session&In-Reply-To=c298f2d705062814561f1f987d%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018545.html">
   <LINK REL="Next"  HREF="018546.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Configuring Session.Session</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Configuring%20Session.Session&In-Reply-To=c298f2d705062814561f1f987d%40mail.gmail.com"
       TITLE="[mod_python] Configuring Session.Session">grahamd at dscpl.com.au
       </A><BR>
    <I>Tue Jun 28 18:24:43 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="018545.html">[mod_python] Configuring Session.Session
</A></li>
        <LI>Next message: <A HREF="018546.html">[mod_python] Configuring Session.Session
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18547">[ date ]</a>
              <a href="thread.html#18547">[ thread ]</a>
              <a href="subject.html#18547">[ subject ]</a>
              <a href="author.html#18547">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Now that I have been up for a few minutes and had a shower and my head 
is
clear, I can answer this properly.

It should not be necessary to use ApplicationPath provided that 
PythonHandler
is set at the root of each applications directory structure. To my 
mind, this
is the preferable thing to do than setting PythonHandler at some level 
above
and hosting multiple applications under the same place. The reason is 
that
the handler directory accessible by req.hlist.directory gives useful 
context
information about where the root of the application is. This can be 
used in
ways such as retrieving config or template files from near the root of 
the
application directory structure.

That said, the use of a distinct PythonHandler directive will not work 
to keep
the session contexts separate in the case where the the application 
directories
are not stored under the HTTP server document root. For example, if 
they are
stored in a user directory accessed using &quot;/~user&quot;, or if the directory 
is mapped
into the URL namespace from elsewhere using Alias directive or other 
means. In
this case the ApplicationPath notionally is set to &quot;/&quot; so they will 
share the
same context regardless.

Note there is also currently a bug where if PythonHandler is defined in 
a Location
directive instead of a Directory directive you'll get a Python error. 
For now
one has to set ApplicationPath explicitly to avoid the bug, but in next 
version
it to will default to &quot;/&quot; in that case and so may still need to be 
overriden
explicitly in future to keep it separate.

Anyway, I would suggest simply setting PythonHandler at the root of 
each application
and only use ApplicationPath if one of the other situations is the case.

Graham

On 29/06/2005, at 7:56 AM, Nicolas Lehuen wrote:

&gt;<i> Duh, hence the code about ApplicationPath in 
</I>&gt;<i> Session.Session.make_cookie. This should work, of course. Thanks, 
</I>&gt;<i> Graham !
</I>&gt;<i>
</I>&gt;<i>  OK so Wayne, you may get what you want right now by setting the 
</I>&gt;<i> ApplicationPath option :
</I>&gt;<i>
</I>&gt;<i> PythonOption ApplicationPath /path/to/my/app/as/an/url
</I>&gt;<i>
</I>&gt;<i>  For example if app1 is accessible through <A HREF="http://localhost/app1">http://localhost/app1</A> and 
</I>&gt;<i> app2 accessible through <A HREF="http://localhost/app2,">http://localhost/app2,</A> then you would define 
</I>&gt;<i> PythonOption ApplicationPath /app1 in a Directory section or in a 
</I>&gt;<i> .htaccess file for your first app, and PythonOption ApplicationPath 
</I>&gt;<i> /app2 for your second app.
</I>&gt;<i>
</I>&gt;<i> Tell us if this works for you.
</I>&gt;<i>
</I>&gt;<i>  Regards,
</I>&gt;<i>  Nicolas
</I>&gt;<i>
</I>&gt;<i> 2005/6/28, Graham Dumpleton &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">grahamd at dscpl.com.au</A>&gt;:
</I>&gt;<i>  At a quick glance I can't see how this may or may not be used by the
</I>&gt;<i> Session
</I>&gt;<i> implementation, but isn't it possible to tie cookies to a particular
</I>&gt;<i> path
</I>&gt;<i> within in a domain? If the session was somehow associated with a path,
</I>&gt;<i> eg.
</I>&gt;<i> the handler root, could different session IDs for different parts of 
</I>&gt;<i> the
</I>&gt;<i> documentation tree simply be kept separate by appropriate use of 
</I>&gt;<i> Handler
</I>&gt;<i> directive in the root of each separate application context. How does 
</I>&gt;<i> the
</I>&gt;<i> existing ApplicationPath option come into this? Never exactly 
</I>&gt;<i> understood
</I>&gt;<i> what it did and thought that it was something related to having
</I>&gt;<i> different
</I>&gt;<i> session contexts? Seems to me that this might be better than fudging
</I>&gt;<i> what
</I>&gt;<i> name the session cookie uses.
</I>&gt;<i>
</I>&gt;<i> On 28/06/2005, at 11:32 PM, Nicolas Lehuen wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; Hi Wayne,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&#160;&#160;Right now it's not possible, unfortunately. It's not so difficult to
</I>&gt;<i> &gt; do, however, so you can expect it to be included in the next
</I>&gt;<i>  &gt; mod_python release.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&#160;&#160;If this is really urgent I can provide you a hack which will give 
</I>&gt;<i> you
</I>&gt;<i> &gt; the ability to define the session cookie name using &quot;PythonOption
</I>&gt;<i> &gt; SessionCookieName foobar &quot;. But it will be definitely a hack and will
</I>&gt;<i> &gt; turn you mod_python version into a non-standard one, which is not a
</I>&gt;<i> &gt; good idea. So it's better to wait for the next release if you can do
</I>&gt;<i> &gt; so.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&#160;&#160;Regards,
</I>&gt;<i> &gt;&#160;&#160;Nicolas
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 2005/6/28, Wayne Pierce &lt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">shalofin at gmail.com</A>&gt;:
</I>&gt;<i> &gt;&#160;&#160;Is it possible to change the session name mod_python sends?I have a
</I>&gt;<i> &gt; machine where I will be developing several mod_python apps and would
</I>&gt;<i>  &gt; like to keep the sessions separate.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; However, I have found that each app will use the same session name,
</I>&gt;<i> &gt; which has caused conflicts (especially when I reuse code between
</I>&gt;<i> &gt; apps).
</I>&gt;<i> &gt;
</I>&gt;<i>  &gt; I didn't find anything in the documentation to do this.Thanks,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Wayne
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt;&#160;&#160;Mod_python mailing list
</I>&gt;<i> &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i>  &gt; Mod_python mailing list
</I>&gt;<i> &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018545.html">[mod_python] Configuring Session.Session
</A></li>
	<LI>Next message: <A HREF="018546.html">[mod_python] Configuring Session.Session
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18547">[ date ]</a>
              <a href="thread.html#18547">[ thread ]</a>
              <a href="subject.html#18547">[ subject ]</a>
              <a href="author.html#18547">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
