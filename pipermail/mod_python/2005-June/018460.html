<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Download authorisation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Download%20authorisation&In-Reply-To=1119058710.24491.45.camel%40cm61-18-245-172.hkcable.com.hk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018408.html">
   <LINK REL="Next"  HREF="018462.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Download authorisation</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>jarrod roberson</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Download%20authorisation&In-Reply-To=1119058710.24491.45.camel%40cm61-18-245-172.hkcable.com.hk"
       TITLE="[mod_python] Download authorisation">jarrod.roberson at gmail.com
       </A><BR>
    <I>Wed Jun 22 01:18:53 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="018408.html">[mod_python] Download authorisation
</A></li>
        <LI>Next message: <A HREF="018462.html">[mod_python] Download authorisation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18460">[ date ]</a>
              <a href="thread.html#18460">[ thread ]</a>
              <a href="subject.html#18460">[ subject ]</a>
              <a href="author.html#18460">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 6/17/05, Wouter van Marle &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">wouter at squirrel-systems.com</A>&gt; wrote:
&gt;<i> 
</I>&gt;<i> Hi all,
</I>&gt;<i> 
</I>&gt;<i> I've a problem that I'm struggling with: how to allow a certain user a 
</I>&gt;<i> download, so that the user can download it once and only once? The 
</I>&gt;<i> authorisation part I have; what I'm struggling with is how to open the 
</I>&gt;<i> download for that specific file to the user (not too hard), and mainly how 
</I>&gt;<i> to check whether the file has been downloaded completely. Taking into 
</I>&gt;<i> account that a user may only be able to download it partly now, and has to 
</I>&gt;<i> resume later.
</I>&gt;<i> I can't find anything with google... can't think of a specific enough 
</I>&gt;<i> query.
</I>&gt;<i> 
</I>&gt;<i> Wouter. 
</I>


you could try just write a cleanup handler that deleted the file when the 
download was completed 200 OK.

If you want to allow ranged gets for partial downloads you will have to 
store what parts the person has downloaded somewhere in a file and update 
that and check for completion in a cleanup handler somewhere.

this is just a data tracking problem, if you have a single server this is 
easy to solve, if you have a cluster of servers it gets more complicated 
very quicklly



-- 
If you don't know what you want, you probably need a nap.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20050622/13645a9a/attachment.html">http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20050622/13645a9a/attachment.html</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018408.html">[mod_python] Download authorisation
</A></li>
	<LI>Next message: <A HREF="018462.html">[mod_python] Download authorisation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18460">[ date ]</a>
              <a href="thread.html#18460">[ thread ]</a>
              <a href="subject.html#18460">[ subject ]</a>
              <a href="author.html#18460">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
