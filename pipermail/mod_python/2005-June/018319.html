<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Opinion solicited re: saving state, form submission,
	and M-V-C concept 
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Opinion%20solicited%20re%3A%20saving%20state%2C%20form%20submission%2C%0A%09and%20M-V-C%20concept%20&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018311.html">
   <LINK REL="Next"  HREF="018321.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Opinion solicited re: saving state, form submission,
	and M-V-C concept </H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Al Pacifico</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Opinion%20solicited%20re%3A%20saving%20state%2C%20form%20submission%2C%0A%09and%20M-V-C%20concept%20&In-Reply-To="
       TITLE="[mod_python] Opinion solicited re: saving state, form submission,
	and M-V-C concept ">pacifico at drizzle.com
       </A><BR>
    <I>Wed Jun  8 00:38:25 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="018311.html">[mod_python] Thread safety
</A></li>
        <LI>Next message: <A HREF="018321.html">[mod_python] ANN: Vampire 1.7 is now available.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18319">[ date ]</a>
              <a href="thread.html#18319">[ thread ]</a>
              <a href="subject.html#18319">[ subject ]</a>
              <a href="author.html#18319">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm looking for suggestions re: solutions to the following problem.

I'm expanding templates using psp.PSP within a publisher handler because I
wish to separate application logic and presentation as much as possible. I
would like to have an HTML template that a HTML person can understand and
modify, as I don't have the artistic eye to create compelling HTML. My
preference is to code the business logic in classes, especially for
unit-testing outside the web browser. My application is not complex enough
to needs lots of sub-templates (or the object-orientation of the perl
HTML::Embperl framework, for example) and is therefore well-suited to a
simple HTML template model. It's 98% application and 2% content.

Now, to give a specific example:

In a representative part of the envisioned site, my browser visits a &quot;client
list&quot; page and clicks a client's name to link to a &quot;client detail&quot; page.
&gt;<i>From there, there are links to &quot;edit billing address,&quot; &quot;add/remove client
</I>representatives,&quot; &quot;change client's name,&quot; etc... you get the idea. After
filling in the appropriate form fields, I'd like clicking submit to land the
browser either back to the client list or to the client detail page (haven't
decided which, maybe give the user the option either).

What is the best way to validate and store the form data? (Also, let's
assume I'm allergic to javascript) I can think of:
1) submit goes to a new page that performs the processing, redirects
2) submit goes to a new page that performs the processing, then generates
the ultimate target page using PSP and the same template file (which brings
up the question, is PSP &quot;directory savvy&quot;). The name of the PSP template
file could be passed in the Session to the next page.
3) submit goes to either the &quot;client list&quot; or &quot;client detail&quot; page and both
are smart enough to know how to do the processing

My gut tells me that the latter is best and is best addressed with a
Transaction base class and a TransactionQueue class to minimize code
duplication and maximize maintainability. The logic of the publisher
function calling the PSP page containing the form would instantiate a
TransactionQueue, register a new Transaction class in it, and save it in
Session. Then whatever page receives the form data first registers itself
(or a redirect to the ultimate target) as the final element (in case the
form data is invalid and the browser needs to revisit the form page) and
then begins sequential execution of the operations registered in the
TransactionQueue instance.

My questions are:
1) What is the prevailing opinion re: best method given my description of
the problem (application rather than content)?
2) What are the pros and cons of various methods?
3) If my initial thought is correct, has someone implemented this, would
they share it with me, and how do others feel about it?

I've looked briefly at Myghty, PyWork, Vampire, JOTWeb, and Zope. None is
compelling, but maybe I need to look at one (or more) harder. I won't
comment on my first impressions of each, as they are only first impressions.

I'm often leery of &quot;frameworks&quot; from my previous experiences with mod_perl
(I'm new to mod_python) and HTML::Mason, which worked great for me at first,
but then gravitated in a less useful direction, eventually pushing me to
prefer HTML::Embperl and ultimately mod_perl without a framework instead.

Input is appreciated. If this question has already been thoroughly
addressed, please point me to the correct portion of the archive.

Thanks.
-al
Al Pacifico
Seattle, WA




</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018311.html">[mod_python] Thread safety
</A></li>
	<LI>Next message: <A HREF="018321.html">[mod_python] ANN: Vampire 1.7 is now available.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18319">[ date ]</a>
              <a href="thread.html#18319">[ thread ]</a>
              <a href="subject.html#18319">[ subject ]</a>
              <a href="author.html#18319">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
