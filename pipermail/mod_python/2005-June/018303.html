<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] dbhash or pickle
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20dbhash%20or%20pickle&In-Reply-To=42A48836.7000007%40sympatico.ca">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018295.html">
   <LINK REL="Next"  HREF="018296.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] dbhash or pickle</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Huzaifa Tapal</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20dbhash%20or%20pickle&In-Reply-To=42A48836.7000007%40sympatico.ca"
       TITLE="[mod_python] dbhash or pickle">huzaifa at hostway.com
       </A><BR>
    <I>Mon Jun  6 18:24:26 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="018295.html">[mod_python] dbhash or pickle
</A></li>
        <LI>Next message: <A HREF="018296.html">[mod_python] Built-in function type() unavailable in PSP?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18303">[ date ]</a>
              <a href="thread.html#18303">[ thread ]</a>
              <a href="subject.html#18303">[ subject ]</a>
              <a href="author.html#18303">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Well actually I was going to consider setting up configuration like the 
DBM Session by loading a dbm file and unpickling the config dict and 
save it back in it after the change.  I wasn't planning on using the 
Session since I don't use mod_python's Session management anyway.

I was trying to figure out what would be the best approach to saving the 
configuration on disk and keep the persistent one updated at the same 
time.  I am really trying to figure out whether to use the dbm to store 
the config dict pickle makes sense or should the pickle itself be just 
stored on disk directly.

Hozi

Jim Gallacher wrote:

&gt;<i> Huzaifa Tapal wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> I am in the process of extending a python based web app framework 
</I>&gt;&gt;<i> that I recently converted to mod_python.  I want to store the web app 
</I>&gt;&gt;<i> configuration in some form of pickle type file that can be modified 
</I>&gt;&gt;<i> with ease.  I was looking into the dbm use by mod python for DBM 
</I>&gt;&gt;<i> Session and was wondering if using that is better than pickling and 
</I>&gt;&gt;<i> unpickling.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> DbmSession (and the forth coming FileSession) use pickles to store the 
</I>&gt;<i> session data, so it's pretty much the same thing. However, sessions 
</I>&gt;<i> have a timeout value at which time the session data will be deleted, 
</I>&gt;<i> so a session may not be the best place to store configuration data.
</I>&gt;<i>
</I>&gt;&gt;<i> My goal really was to store the configuration in memory for use by 
</I>&gt;&gt;<i> any applications running in the framework to use and when the web app 
</I>&gt;&gt;<i> configuration is modified through a management interface, that 
</I>&gt;&gt;<i> in-memory configuration is updated and rewritten to the file-based 
</I>&gt;&gt;<i> configuraiton file.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> This is probably obvious but make sure you consider file locking 
</I>&gt;<i> issues so 2 processes are not trying to modify the filesystem data at 
</I>&gt;<i> the same time.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Jim
</I>&gt;<i>
</I>&gt;&gt;<i> Would saving that dictionary based configuration be much better if 
</I>&gt;&gt;<i> saved in the dbm file?  Any thoughts on what could be the best 
</I>&gt;&gt;<i> approach to this?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hozi
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mod_python mailing list
</I>&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018295.html">[mod_python] dbhash or pickle
</A></li>
	<LI>Next message: <A HREF="018296.html">[mod_python] Built-in function type() unavailable in PSP?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18303">[ date ]</a>
              <a href="thread.html#18303">[ thread ]</a>
              <a href="subject.html#18303">[ subject ]</a>
              <a href="author.html#18303">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
