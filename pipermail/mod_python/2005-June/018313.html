<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Thread safety
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Thread%20safety&In-Reply-To=4817b6fc05060613424b0047e1%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018304.html">
   <LINK REL="Next"  HREF="018335.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Thread safety</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Thread%20safety&In-Reply-To=4817b6fc05060613424b0047e1%40mail.gmail.com"
       TITLE="[mod_python] Thread safety">grahamd at dscpl.com.au
       </A><BR>
    <I>Tue Jun  7 19:06:52 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="018304.html">[mod_python] Thread safety
</A></li>
        <LI>Next message: <A HREF="018335.html">[mod_python] Thread safety
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18313">[ date ]</a>
              <a href="thread.html#18313">[ thread ]</a>
              <a href="subject.html#18313">[ subject ]</a>
              <a href="author.html#18313">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 07/06/2005, at 6:42 AM, Dan Eloff wrote:

&gt;<i> When using a request handler, mod_python calls handler(req) for every
</I>&gt;<i> incoming request. I would say it's a safe guess that this implies that
</I>&gt;<i> handler can be called concurrently in different threads and anything
</I>&gt;<i> done in this function and any functions it calls must be thread safe.
</I>&gt;<i> I didn't find any mention of this in the docs (I didn't look too
</I>&gt;<i> hard), so I thought I'd verify with the people sure to know.
</I>
BTW, you might want to read this old posting to the mailing list.

   <A HREF="http://www.modpython.org/pipermail/mod_python/2004-October/016605.html">http://www.modpython.org/pipermail/mod_python/2004-October/016605.html</A>

Using threading and having automatic module reloading enabled at the
same time can be quite dangerous. Most of the problems arise because
of how apache.import_module() is implemented so as to use standard
Python module importing mechanisms and storage of modules in 
sys.modules.

Some of these problems are eliminated by systems such as Vampire and
mpservlets which have their own module loading mechanism which does
not reload on top of an existing module. Vampire goes a bit further
than mpservlets in as much as Vampire provides a means of still 
preserving
data across module reloads under strict user control so that thread
locking issues can be addressed.

Note, I posted this a fair time ago and I hope it is still accurate. I
understand things a bit better now and so possibly I may know of
simpler ways around the problems. :-)


Graham

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018304.html">[mod_python] Thread safety
</A></li>
	<LI>Next message: <A HREF="018335.html">[mod_python] Thread safety
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18313">[ date ]</a>
              <a href="thread.html#18313">[ thread ]</a>
              <a href="subject.html#18313">[ subject ]</a>
              <a href="author.html#18313">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
