<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] PythonAuthenHandler Question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20PythonAuthenHandler%20Question&In-Reply-To=003f01c56878%241df4e4c0%24347ba8c0%40Laptop8100">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018270.html">
   <LINK REL="Next"  HREF="018273.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] PythonAuthenHandler Question</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20PythonAuthenHandler%20Question&In-Reply-To=003f01c56878%241df4e4c0%24347ba8c0%40Laptop8100"
       TITLE="[mod_python] PythonAuthenHandler Question">grahamd at dscpl.com.au
       </A><BR>
    <I>Sat Jun  4 00:37:20 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="018270.html">[mod_python] PythonAuthenHandler Question
</A></li>
        <LI>Next message: <A HREF="018273.html">[mod_python] mod_python w/apache 2.1.3-beta?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18272">[ date ]</a>
              <a href="thread.html#18272">[ thread ]</a>
              <a href="subject.html#18272">[ subject ]</a>
              <a href="author.html#18272">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 04/06/2005, at 6:09 AM, Al Pacifico wrote:

&gt;<i>
</I>&gt;<i> Apologies in advance because I come from an Apache 1.3 / mod_perl 
</I>&gt;<i> background
</I>&gt;<i> and am rusty at that to boot.
</I>&gt;<i>
</I>&gt;<i> I'm wondering how to use PythonAuthenHandler to set my client's 
</I>&gt;<i> directory
</I>&gt;<i> viewing permissions. I'm authenticating against an openLDAP server and 
</I>&gt;<i> the
</I>&gt;<i> basic authentication works.
</I>
If I understand you correctly, since you already have the authentication
bit working, you just want the user authorisation bit. Ie., control what
they can access. If this is the case, you should be able to access 
&quot;req.uri&quot;,
ie., the resource which the request is against, and in conjunction with
the user credentials you already have access to, work out if they should
be allowed access. You should be able to do this within you 
authenhandler
and would not need a separate authzhandler.

Have I misunderstood? Obviously I can't say how you determine if a URL 
is
accessible to a specific user, as that is going to depend on your 
requirements.

&gt;<i> On a side note, will a 'finally:' clause be executed even if the 
</I>&gt;<i> 'except:'
</I>&gt;<i> clause contains 'return' ? Or should I have result = apache.&lt;whatever&gt; 
</I>&gt;<i> and
</I>&gt;<i> place return result in the finally clause ?
</I>
 From memory, you can't have a &quot;finally&quot; clause at the same level as 
&quot;except&quot;.
Ie., if you can't have:

   try:
     ...
   except:
     ...
   finally:

Thus, if you want a finally clause, you must do:

   try:
     try:
       ...
     except:
       ...
   finally:
     ...

As example, if you have:

   def func():
     try:
       try:
         raise 1
       except:
         print &quot;except&quot;
         return &quot;except&quot;
     finally:
       print &quot;finally&quot;
       #return &quot;finally&quot;

   print func()

the result printed out from &quot;func()&quot; will be &quot;except&quot;. If you however
uncomment the return from the &quot;finally&quot;, the result printed out will
be &quot;finally&quot;.

Thus, as long as the &quot;finally&quot; doesn't have an explicit return, the
return from the &quot;except&quot; will be the result of the function in the
case that the exception is raised.

Someone please correct me if I am wrong.

Graham

</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018270.html">[mod_python] PythonAuthenHandler Question
</A></li>
	<LI>Next message: <A HREF="018273.html">[mod_python] mod_python w/apache 2.1.3-beta?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18272">[ date ]</a>
              <a href="thread.html#18272">[ thread ]</a>
              <a href="subject.html#18272">[ subject ]</a>
              <a href="author.html#18272">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
