<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] How to perform cleanup action when the python process
	dies?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20How%20to%20perform%20cleanup%20action%20when%20the%20python%20process%0A%09dies%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018344.html">
   <LINK REL="Next"  HREF="018341.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] How to perform cleanup action when the python process
	dies?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Dan Eloff</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20How%20to%20perform%20cleanup%20action%20when%20the%20python%20process%0A%09dies%3F&In-Reply-To="
       TITLE="[mod_python] How to perform cleanup action when the python process
	dies?">dan.eloff at gmail.com
       </A><BR>
    <I>Sat Jun 11 19:46:36 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="018344.html">[mod_python] Help! Error importing psp
</A></li>
        <LI>Next message: <A HREF="018341.html">[mod_python] How to perform cleanup action when the python process
	dies?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18340">[ date ]</a>
              <a href="thread.html#18340">[ thread ]</a>
              <a href="subject.html#18340">[ subject ]</a>
              <a href="author.html#18340">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have global resources that persist as long as the process does
(database connections) but they could also be files or sockets or
other resources that need to be released. Python destructors are very
dicey from what I've heard, there seems no guarantee that the __del__
method on the connection pool will be called before the database
module is itself destroyed. I can't use req.register_cleanup() since
the objects stay alive across all the requests. When apache is
restarted though, how do I ensure the database connections were closed
on exit?

I saw a similar post to this on the list, but it just recommends not
to trust python destructors for important things like closing a
database connection.

Thanks
-Dan

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018344.html">[mod_python] Help! Error importing psp
</A></li>
	<LI>Next message: <A HREF="018341.html">[mod_python] How to perform cleanup action when the python process
	dies?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18340">[ date ]</a>
              <a href="thread.html#18340">[ thread ]</a>
              <a href="subject.html#18340">[ subject ]</a>
              <a href="author.html#18340">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
