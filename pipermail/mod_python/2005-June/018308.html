<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] How to terminate responce?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20How%20to%20terminate%20responce%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018307.html">
   <LINK REL="Next"  HREF="018311.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] How to terminate responce?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20How%20to%20terminate%20responce%3F&In-Reply-To="
       TITLE="[mod_python] How to terminate responce?">grahamd at dscpl.com.au
       </A><BR>
    <I>Tue Jun  7 04:35:12 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="018307.html">[mod_python] How to terminate responce?
</A></li>
        <LI>Next message: <A HREF="018311.html">[mod_python] Thread safety
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18308">[ date ]</a>
              <a href="thread.html#18308">[ thread ]</a>
              <a href="subject.html#18308">[ subject ]</a>
              <a href="author.html#18308">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Clark wrote ..
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> With PSP, how to terminate current response?
</I>&gt;<i> 
</I>&gt;<i> I want to check some condition, if it's satisfied, I'll continue, 
</I>&gt;<i> otherwise I'll finish current page. To finish current page, is there
</I>&gt;<i> some function like &quot;req.end()&quot;?
</I>&gt;<i> 
</I>&gt;<i> For example, the PSP script is as follows:
</I>&gt;<i> 
</I>&gt;<i> &lt;%
</I>&gt;<i> if xx != 0:
</I>&gt;<i>    req.end(); 
</I>&gt;<i> 
</I>&gt;<i> ...
</I>&gt;<i> %&gt;
</I>&gt;<i> 
</I>&gt;<i> Actually, there isn't a function &quot;req.end()&quot;. I've try to use
</I>&gt;<i> &quot;sys.exit()&quot; instead, but this one will cause a exception. 
</I>&gt;<i> I want to finish the page normally, not a exception.
</I>&gt;<i> Can you give me some hints?
</I>
Try:

  raise apache.SERVER_RETURN, apache.OK

This might be okay if you are using mod_python.psp direct,
but if you are writing your own handler that is creating an
instance of PSP object and calling its run() method, you will
need to catch the exception, detect that it is just apache.OK
and then finish up your handler as normal. Any other exception
would need to be reraised.

Graham
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018307.html">[mod_python] How to terminate responce?
</A></li>
	<LI>Next message: <A HREF="018311.html">[mod_python] Thread safety
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18308">[ date ]</a>
              <a href="thread.html#18308">[ thread ]</a>
              <a href="subject.html#18308">[ subject ]</a>
              <a href="author.html#18308">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
