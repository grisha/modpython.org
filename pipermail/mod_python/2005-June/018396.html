<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] File upload limits
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20File%20upload%20limits&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018395.html">
   <LINK REL="Next"  HREF="018400.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] File upload limits</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20File%20upload%20limits&In-Reply-To="
       TITLE="[mod_python] File upload limits">grahamd at dscpl.com.au
       </A><BR>
    <I>Wed Jun 15 23:46:58 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="018395.html">[mod_python] Published example and URL's
</A></li>
        <LI>Next message: <A HREF="018400.html">[mod_python] Two mod_python applications crashing each other
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18396">[ date ]</a>
              <a href="thread.html#18396">[ thread ]</a>
              <a href="subject.html#18396">[ subject ]</a>
              <a href="author.html#18396">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Kai Hendry wrote ..
&gt;<i> I am writing a Web application which requires the user to upload a file.
</I>&gt;<i> 
</I>&gt;<i> It seems sensible to me to limit how large the file upload can be. After
</I>&gt;<i> searching around it seems that I need to modify Apache's content-length
</I>&gt;<i> attribute and that mod_python is what I should look at.
</I>&gt;<i> 
</I>&gt;<i> It would be nice if the FieldStorage class:
</I>&gt;<i> <A HREF="http://www.modpython.org/live/current/doc-html/pyapi-util-fstor-fld.html">http://www.modpython.org/live/current/doc-html/pyapi-util-fstor-fld.html</A>
</I>&gt;<i> Had an input limit, because I can't see one.
</I>&gt;<i> 
</I>&gt;<i> Does anyone have an example of this type of input checking I am after?
</I>
Why do you feel you need to &quot;modify Apache's content-length attribute&quot;?

I can understand you wanting to reject a request based on input
content length being larger than a certain amount, but not what
would be gained from modifying the content length.

As long as you aren't using mod_python.publisher, you could insert
into your handler before you use the FieldStorage class a check of
the req.headers_in[&quot;content-length&quot;] field to see if the combined total
of all form parameters in the POST containing the upload was
greater than some amount and reject it on that basis. Not sure if
the req.clength is the same thing as the &quot;content-length&quot; header or
not.

Without duplicating what FieldStorage does, can't see how you would
be able to reject it based on just the file upload part of a multipart
POST request being larger than a certain size.

Graham
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018395.html">[mod_python] Published example and URL's
</A></li>
	<LI>Next message: <A HREF="018400.html">[mod_python] Two mod_python applications crashing each other
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18396">[ date ]</a>
              <a href="thread.html#18396">[ thread ]</a>
              <a href="subject.html#18396">[ subject ]</a>
              <a href="author.html#18396">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
