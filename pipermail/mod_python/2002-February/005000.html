<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] More ugly &quot;make_obcallback returned no obCallBack!&quot;
 errors.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20More%20ugly%20%22make_obcallback%20returned%20no%20obCallBack%21%22%0A%20errors.&In-Reply-To=20020216162436.GC14969%40eleanor.internal.ywlcs.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004999.html">
   <LINK REL="Next"  HREF="005001.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] More ugly &quot;make_obcallback returned no obCallBack!&quot;
 errors.</H1>
    <B>Gregory (Grisha) Trubetskoy</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20More%20ugly%20%22make_obcallback%20returned%20no%20obCallBack%21%22%0A%20errors.&In-Reply-To=20020216162436.GC14969%40eleanor.internal.ywlcs.org"
       TITLE="[mod_python] More ugly &quot;make_obcallback returned no obCallBack!&quot;
 errors.">grisha at modpython.org
       </A><BR>
    <I>Sat Feb 16 13:14:47 EST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="004999.html">[mod_python] More ugly &quot;make_obcallback returned no obCallBack!&quot; errors.
</A></li>
        <LI>Next message: <A HREF="005001.html">[mod_python] Shameless mod_python market analysis
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5000">[ date ]</a>
              <a href="thread.html#5000">[ thread ]</a>
              <a href="subject.html#5000">[ subject ]</a>
              <a href="author.html#5000">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<table border=0 width="100%"><tr><td>
<!--beginarticle-->
<PRE>This looks like a bug, I'll have to take a look at it later.

As dirty work-around, try forcing the interpreter name by putting

PythonIntepreter my_interpreter

in the config at the top level (i.e. outside virtual servers)

This will, of course, make the virtual servers run in the same
interpreter, but it might solve the immediate problem, as I supsect it is
something with subinterpreters...

Grisha

On Sat, 16 Feb 2002, Dustin Mitchell wrote:

&gt;<i> These don't seem to have anything to do with bad paths.  Here's the situation:
</I>&gt;<i>
</I>&gt;<i> I have two name-based virtualhosts, each using mod_python.  They both use a
</I>&gt;<i> number of handlers.  Here are the relevant directives in the httpd.conf for
</I>&gt;<i> each vhost:
</I>&gt;<i>
</I>&gt;<i>   PythonAutoReload Off
</I>&gt;<i>   PythonDebug on
</I>&gt;<i>   PythonTransHandler handlers.translate::transhandler
</I>&gt;<i>   PythonHeaderParserHandler handlers.headers::cookies
</I>&gt;<i>   PythonHeaderParserHandler handlers.headers::formdata handlers.headers::login
</I>&gt;<i>   PythonAuthenHandler handlers.auth::check
</I>&gt;<i>   PythonLogHandler handlers.log::log
</I>&gt;<i>
</I>&gt;<i> I'm using Apache/1.3.22 (Unix) PHP/4.1.1 mod_python/2.7.6 Python/2.1
</I>&gt;<i> mod_ssl/2.8.5 OpenSSL/0.9.6.
</I>&gt;<i>
</I>&gt;<i> So here's what happens:  Each Apache &quot;server&quot; (i.e., operating system
</I>&gt;<i> process, as differentiated by PIDs) only seems to be able to serve one of the
</I>&gt;<i> two virtualhosts -- the other virtualhost will present &quot;Internal Server
</I>&gt;<i> Error&quot; with the logs listing errors importing modules for make_obcallback,
</I>&gt;<i> and the infamous &quot;make_obcallback returned no obCallBack!&quot; error.
</I>&gt;<i>
</I>&gt;<i> &gt;From the perspective of a single &quot;server&quot; (checked by setting
</I>&gt;<i> MaxSpareServers, MinSpareServers, and StartServers to 1), it can load
</I>&gt;<i> virtualhost A as many times as it would like.  Once a request comes in for
</I>&gt;<i> virtualhost B, however, obCallBack problems occur.  It doesn't matter which
</I>&gt;<i> virtualhost is loaded first -- it will be successful, and the second
</I>&gt;<i> virtualhost will not.
</I>&gt;<i>
</I>&gt;<i> I've tried some tricks to see exactly what the Python exception is when
</I>&gt;<i> mod_python can't load 'apache', but I'm not an extension-writer, and my
</I>&gt;<i> feeble attempts produced only segfaults.
</I>&gt;<i>
</I>&gt;<i> WITH_THREAD is not set.
</I>&gt;<i>
</I>&gt;<i> Any ideas?
</I>&gt;<i>
</I>&gt;<i> Dustin
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i>
</I>&gt;<i>   Dustin Mitchell
</I>&gt;<i>   <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">dustin at ywlcs.org</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://www.modpython.org/mailman/listinfo/mod_python">http://www.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>

</PRE>
<!--endarticle-->
</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004999.html">[mod_python] More ugly &quot;make_obcallback returned no obCallBack!&quot; errors.
</A></li>
	<LI>Next message: <A HREF="005001.html">[mod_python] Shameless mod_python market analysis
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5000">[ date ]</a>
              <a href="thread.html#5000">[ thread ]</a>
              <a href="subject.html#5000">[ subject ]</a>
              <a href="author.html#5000">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
