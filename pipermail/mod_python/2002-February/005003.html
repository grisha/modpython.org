<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] python's directives in httpd.conf
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20python%27s%20directives%20in%20httpd.conf&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005001.html">
   <LINK REL="Next"  HREF="005002.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] python's directives in httpd.conf</H1>
    <B>Alan Kennedy</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20python%27s%20directives%20in%20httpd.conf&In-Reply-To="
       TITLE="[mod_python] python's directives in httpd.conf">modpython at xhaus.com
       </A><BR>
    <I>Sun Feb 17 07:36:32 EST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="005001.html">[mod_python] Shameless mod_python market analysis
</A></li>
        <LI>Next message: <A HREF="005002.html">[mod_python] python's directives in httpd.conf
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5003">[ date ]</a>
              <a href="thread.html#5003">[ thread ]</a>
              <a href="subject.html#5003">[ subject ]</a>
              <a href="author.html#5003">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<table border=0 width="100%"><tr><td>
<!--beginarticle-->
<PRE>Daniel,

&gt;<i> I managed to run mptest.py (&quot;Hello World&quot; of official
</I>&gt;<i> doc) with Apache win32 but I don't manage to run the
</I>&gt;<i> others python scripts :
</I>&gt;<i> When I run the other python scripts, my browser show
</I>&gt;<i> me &quot;hello world&quot;...the same result than mptest.py !!
</I>
The answer to this question depends on your configuration. 
If your configuration looks something like this

&lt;Directory &quot;/some/directory/&quot;&gt;
    AddHandler python-program .py
    PythonHandler mptest
&lt;/Directory&gt;

Then what you're telling Apache is &quot;Run mptest.py whenever 
anyone requests a URI in the directory &quot;/some/directory&quot; 
which has the extension &quot;.py&quot;. So *all* of the following 
URIs result in the same call to the &quot;handler&quot; function 
of &quot;mptest.py&quot;.

<A HREF="http://someserver.com/some/directory/mptest.py">http://someserver.com/some/directory/mptest.py</A>
<A HREF="http://someserver.com/some/directory/anotherscript.py">http://someserver.com/some/directory/anotherscript.py</A>
<A HREF="http://someserver.com/some/directory/theScriptNameDoesNotMat">http://someserver.com/some/directory/theScriptNameDoesNotMat</A>
ter.py

The important section of the manual to understand is 
section 3.2: So what Exactly does Mod-python do? 

<A HREF="http://www.modpython.org/live/mod_python-2.7.6/doc-html/tut-">http://www.modpython.org/live/mod_python-2.7.6/doc-html/tut-</A>
what-it-do.html

In particular, you must understand the section at the 
bottom called &quot;Some food for thought&quot;.

&gt;<i> I think I must add or modify other apache python's 
</I>directives. So 
&gt;<i> - I woud like to get a good httpd.conf for Apache win32 
</I>and Python
&gt;<i> module which works.
</I>
&quot;Works&quot; is a relative thing. &quot;Works&quot; for what purpose is 
more the right question to ask. I've found that the bare 
minimum changes to a httpd.conf for mod_python are two 
changes, 

1. to load the modpython module, and 
2. to set up a handler module/function. 

These are handled as follows

1. Start with a clean httpd.conf from the Apache 
installation, and add the following entries.

LoadModule python_module modules/mod_python.{dll|so}

There should be a list of &quot;LoadModule&quot;s in the default 
httpd.conf, just put it with them. Probably best to put it 
before any other &quot;LoadModule&quot;.

Then add a python handler for whichever directories you 
wish. The following directive indicates that 
myPythonHandler.py should be run whenever any URI ending 
in &quot;.py&quot; is requested anywhere in the document tree.

&lt;Directory /my/document/root/&gt;
   AddHandler python-program .py
   PythonHandler myPythonHandler
&lt;/Directory&gt;

So whenever a request arrives for any URI ending in &quot;.py&quot;, 
anywhere in the document hierarchy, at any level, then 
the &quot;handler&quot; function in the module &quot;myPythonHandler.py&quot; 
will be run. 

&gt;<i> - some information about the &quot;standard&quot; headers of python 
</I>scripts
&gt;<i> running in Apache web server.
</I>
I'm not sure what you mean by &quot;headers&quot;. This is not CGI, 
so you don't need shebang lines, or anything like that. The 
only headers you need to know about are the HTTP headers 
sent back with each http response, such as &quot;Content-
type&quot;, &quot;Content-length&quot;, &quot;Content-encoding&quot;, and so on. 
These are set in your handler function as follows

def	handler(req):
	req.content_type = &quot;text/html&quot;
	req.headers_out['Content-Length'] = str(length)

Hopefully this well help you get configured and running.

Bon chance,

Alan.


---------------------------------------------
This message was sent using WebMail by CyberGate.
<A HREF="http://www.gate.net/webmail">http://www.gate.net/webmail</A>



</PRE>
<!--endarticle-->
</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005001.html">[mod_python] Shameless mod_python market analysis
</A></li>
	<LI>Next message: <A HREF="005002.html">[mod_python] python's directives in httpd.conf
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5003">[ date ]</a>
              <a href="thread.html#5003">[ thread ]</a>
              <a href="subject.html#5003">[ subject ]</a>
              <a href="author.html#5003">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
