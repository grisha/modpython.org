<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] PythonPath problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20PythonPath%20problem&In-Reply-To=1112149597.516%40dscpl.user.openhosting.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017788.html">
   <LINK REL="Next"  HREF="017789.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] PythonPath problem</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Shuying Wang</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20PythonPath%20problem&In-Reply-To=1112149597.516%40dscpl.user.openhosting.com"
       TITLE="[mod_python] PythonPath problem">shuying at gmail.com
       </A><BR>
    <I>Wed Mar 30 21:11:38 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="017788.html">[mod_python] PythonPath problem
</A></li>
        <LI>Next message: <A HREF="017789.html">[mod_python] seg fault with mod_python  - python-ldap
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17796">[ date ]</a>
              <a href="thread.html#17796">[ thread ]</a>
              <a href="subject.html#17796">[ subject ]</a>
              <a href="author.html#17796">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 29 Mar 2005 21:26:37 -0500, Graham Dumpleton
&lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">grahamd at dscpl.com.au</A>&gt; wrote:
&gt;<i> Before you tried to use mod_python.cgihandler, did you first try and
</I>&gt;<i> get a mptest.py type example going as documented? Have you gone
</I>
Yep. And that worked.  Although the mptest example in the
documentation that came with the package appeared to be missing the
line &quot;req.content_type= 'text/plain'&quot; which was required to get the
test script working. A simple CGI script which didn't import anything
but just displayed a string worked as well.

&gt;<i> through the Apache log files to see what you can find in the way of
</I>&gt;<i> errors or history of your actual requests etc? Did you manage to get
</I>
There was a log of these requests but no errors were logged.  I seem
to have progressed from a blank page however following your
suggestion. Now I get ImportError even though I've included the path
to that module via the PythonPath directive within &lt;Directory&gt;
directive.

&gt;<i> &gt; PythonPath &quot;sys.path + ['$python_lib', '$docroot']&quot;
</I>&gt;<i> &gt; ...
</I>&gt;<i> &gt; $python_lib and $docroot are 2 sub-directories in the current
</I>&gt;<i> &gt; directory and files in $docroot requires packages in $python_lib to
</I>&gt;<i> &gt; work.  If I do not use the PythonPath directive, I  get &quot;ImportError:
</I>&gt;<i> &gt; No module named x&quot; where x is a module in $python_lib. 
</I>&gt;<i> Are '$python_lib' and '$docroot' mean't to be indicative only of your
</I>&gt;<i> actual pathnames or is this actually what you are setting them to?
</I>
$python_lib and $docroot expands to the actual path where the
corresponding directories are located since httpd.conf is generated by
a script.
 
&gt;<i> To help us understand, you may want to show actual pathnames for
</I>&gt;<i> your document root and what these two values really are.
</I>
I've got a test environment where apache reads the configuration file
httpd.conf from a generated directory in /tmp.  $python_lib and
$docroot are directories of the python source in my home directory and
when the configuration file gets generated, points to the right
location.

In the CGI script which has imported modules, I first had 
&quot;import x,  y&quot; and when that resulted in &quot;ImportError: No module named
x&quot;, I tried
from mod_python import apache
xx =  apache.import_module(&quot;x&quot;) ...
which also gave me the same error.

Thanks,
Shuying
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017788.html">[mod_python] PythonPath problem
</A></li>
	<LI>Next message: <A HREF="017789.html">[mod_python] seg fault with mod_python  - python-ldap
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17796">[ date ]</a>
              <a href="thread.html#17796">[ thread ]</a>
              <a href="subject.html#17796">[ subject ]</a>
              <a href="author.html#17796">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
