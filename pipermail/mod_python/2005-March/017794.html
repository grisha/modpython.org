<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] All spawned threads in Restricted Exection Mode
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20All%20spawned%20threads%20in%20Restricted%20Exection%20Mode&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017807.html">
   <LINK REL="Next"  HREF="017799.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] All spawned threads in Restricted Exection Mode</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20All%20spawned%20threads%20in%20Restricted%20Exection%20Mode&In-Reply-To="
       TITLE="[mod_python] All spawned threads in Restricted Exection Mode">grahamd at dscpl.com.au
       </A><BR>
    <I>Wed Mar 30 18:28:26 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="017807.html">[mod_python] seg fault with mod_python  - python-ldap
</A></li>
        <LI>Next message: <A HREF="017799.html">[mod_python] All spawned threads in Restricted Exection Mode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17794">[ date ]</a>
              <a href="thread.html#17794">[ thread ]</a>
              <a href="subject.html#17794">[ subject ]</a>
              <a href="author.html#17794">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Alan Davies wrote ..
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> I've seen some comments on this problem in the past, and was wondering
</I>&gt;<i> if a fix/workaround has ever emerged.
</I>&gt;<i> 
</I>&gt;<i> It seems that when I spawn a thread in mod_python, the thread runs in
</I>&gt;<i> Restricted Execution Mode. I get errors like this when I try to do
</I>&gt;<i> simple things such as import Python Image Library's 'Image' module:
</I>&gt;<i> 
</I>&gt;<i>     RuntimeError: cannot unmarshal code objects in restricted execution
</I>&gt;<i>     mode
</I>&gt;<i> 
</I>&gt;<i> The same code running in the main thread works fine. I've tried python
</I>&gt;<i> versions 2.2 and 2.3, and just tried installing the latest versions I
</I>&gt;<i> could find: Apache/2.0.53 (Win32) mod_python/3.1.4 Python/2.4 - problem
</I>&gt;<i> is still there. A few months ago I had this code up and running on
</I>&gt;<i> this same machine, probably with Python 2.3.
</I>&gt;<i> 
</I>&gt;<i> Another machine with this configuration has no problem: Apache/2.0.52
</I>&gt;<i> (Win32) mod_python/3.1.3 Python/2.3.2
</I>&gt;<i> 
</I>&gt;<i> This is a very annoying problem; the ability to have a thread running
</I>&gt;<i> that persists across and interacts with http requests is my reason for
</I>&gt;<i> using mod_python, any ideas how I can solve this?
</I>
The only self contained purported examples of the problem worked for
other people and thus weren't useful in helping to track down any problem.

In the main it always seems to involve third party packages which are
non trivial or may be hard to install which makes it a harder process for
someone else to try and duplicate it. PIL as a third party package doesn't
have strange runtime requirements such as a database needing to be
created, so try and get as small an example as possible put together
and post here on the list and I at least can try it and see if I see the
problem. I would be testing it on Mac OS X, Apache 2.X and Python 2.3.

In the multithreaded stuff I am doing at the moment, I personally don't
have problems and mine is probably a stranger arrangement than most. :-)

Graham
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017807.html">[mod_python] seg fault with mod_python  - python-ldap
</A></li>
	<LI>Next message: <A HREF="017799.html">[mod_python] All spawned threads in Restricted Exection Mode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17794">[ date ]</a>
              <a href="thread.html#17794">[ thread ]</a>
              <a href="subject.html#17794">[ subject ]</a>
              <a href="author.html#17794">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
