<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] some questions about using mod_python
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20some%20questions%20about%20using%20mod_python&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017724.html">
   <LINK REL="Next"  HREF="017729.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] some questions about using mod_python</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>vegetax</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20some%20questions%20about%20using%20mod_python&In-Reply-To="
       TITLE="[mod_python] some questions about using mod_python">vegeta.z at gmail.com
       </A><BR>
    <I>Sat Mar 19 23:52:39 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="017724.html">[mod_python] Unicode Question
</A></li>
        <LI>Next message: <A HREF="017729.html">[mod_python] some questions about using mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17728">[ date ]</a>
              <a href="thread.html#17728">[ thread ]</a>
              <a href="subject.html#17728">[ subject ]</a>
              <a href="author.html#17728">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hi, i just finished reading the docs and i have some obstacles to start
implementing a web system using mod_python.

First 2 observations in the docs:
-please correct the docs in the hello world example,it doesnt work!
req.content_type = '/text/html' is needed,i spended an hour trying to find
the problem in the hello world??

-Please remark that in order to send any kind of output headers,including
cookies and sessions,the code should be before any req.write().

My doubts:

- PythonPath directive doesnt work at all,when i set it at any config level
i get a NOT FOUND error,from apache when i try to access anything that uses
mod_python, the definition is : PythonPath &quot;sys.path + ['/devel/classes']&quot;

- Where do i set a database connection pool to load at server
initialization ,so that all request can access it? is the pythonImport
directive the best place? where do i set a clean up function for the pool
at server finalization ?

- Is it ok to configure apache to just use one process and several threads
like in windows? what other implications it has? besides losing some of the
stability and safety that apache provides, is just that too many things go
wrong in the dynamic applications when mixing using both process and
threads.

- I want to use a MVC approach,the publisher's methods are the controlers
that do the processing and send internal redirects to psps to show the
results,so i need to pass objects to the psps from the pub methods,i need
those objects to be in the request object of the handler and available to
the target psp.

this code doesnt work,it shows an error saying req object has no
attribute,data: 

def regHandler(req):
    data = [1,2,'a']
    req.data = data
    req.internal_redirect('/var/www/myapp/psp/showReg.psp') 
    return apache.OK

showReq.psp:

the data :
&lt;%= req.prev.data %&gt;


I also tried to load the data in a session object retrieved or created in
reqHandler,but same results,the session object in the psp always creates a
new session and the gives : Key error, session object has no key 'data'

Also, the post in site
(<A HREF="http://dotnot.org/blog/archives/2004/06/27/nasty-deadlock-in-modpython-when-using-sessions/">http://dotnot.org/blog/archives/2004/06/27/nasty-deadlock-in-modpython-when-using-sessions/</A>)
,describing that some rare things happens to session locks,when internal
redirecting between python handlers,in my case the pspHandler and the
pythonHandler or publisher? how can i overcome those issues?

What exactly happens between internal redirects that affect mod_python
behavior,sessions,etc, when used like i want to use it? And is it fast to
internal redirect a lot? since all request phases are processed every time.

Thanks, in advance, sorry to have to many doubts =P

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017724.html">[mod_python] Unicode Question
</A></li>
	<LI>Next message: <A HREF="017729.html">[mod_python] some questions about using mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17728">[ date ]</a>
              <a href="thread.html#17728">[ thread ]</a>
              <a href="subject.html#17728">[ subject ]</a>
              <a href="author.html#17728">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
