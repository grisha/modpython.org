<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] file upload very slow in fieldStorage
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20file%20upload%20very%20slow%20in%20fieldStorage&In-Reply-To=4243F661.6090309%40copyrightwitness.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017754.html">
   <LINK REL="Next"  HREF="017760.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] file upload very slow in fieldStorage</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Craig Warren</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20file%20upload%20very%20slow%20in%20fieldStorage&In-Reply-To=4243F661.6090309%40copyrightwitness.net"
       TITLE="[mod_python] file upload very slow in fieldStorage">craig.warren at encorp.com
       </A><BR>
    <I>Fri Mar 25 11:18:30 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="017754.html">[mod_python] file upload very slow in fieldStorage
</A></li>
        <LI>Next message: <A HREF="017760.html">[mod_python] file upload very slow in fieldStorage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17755">[ date ]</a>
              <a href="thread.html#17755">[ thread ]</a>
              <a href="subject.html#17755">[ subject ]</a>
              <a href="author.html#17755">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Also be aware that  it doesn't stream it in (unless someone can tell me 
how to make it stream in), so it seems to read it all into memory (which 
might be your slowness, if it has to write to swap a lot) before it 
writes it to a tmp file.  We have had problems with this since we are 
running on an embedded system that doesn't have a swap, so we run out of 
memory.  I have been writing a handler that streams in the file, but 
have not completed it yet.  We switched to using WebDav to upload big 
files, but you can't really do it from a web interface, but it works 
over port 80 and &quot;streams&quot; the files in, which is nice.

Craig



Barry Pearce wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I am uploading a 155Mb file to my python handler (just using 
</I>&gt;<i> PythonHandler). The handler uses FieldStorage. However the time 
</I>&gt;<i> between the browser reporting the upload as complete, and *my* handler 
</I>&gt;<i> being called is quite excessive!
</I>&gt;<i>
</I>&gt;<i> Any ideas on where to investigate further? Does anyone know the 
</I>&gt;<i> particular area of code internals?
</I>&gt;<i>
</I>&gt;<i> Im concerned because I need to upload in GB!!!!
</I>

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017754.html">[mod_python] file upload very slow in fieldStorage
</A></li>
	<LI>Next message: <A HREF="017760.html">[mod_python] file upload very slow in fieldStorage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17755">[ date ]</a>
              <a href="thread.html#17755">[ thread ]</a>
              <a href="subject.html#17755">[ subject ]</a>
              <a href="author.html#17755">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
