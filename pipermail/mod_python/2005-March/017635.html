<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] mod_python stopped working
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20stopped%20working&In-Reply-To=42358C68.9040401%40switchcore.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017633.html">
   <LINK REL="Next"  HREF="017634.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] mod_python stopped working</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20stopped%20working&In-Reply-To=42358C68.9040401%40switchcore.com"
       TITLE="[mod_python] mod_python stopped working">grahamd at dscpl.com.au
       </A><BR>
    <I>Mon Mar 14 15:53:39 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="017633.html">[mod_python] mod_python stopped working
</A></li>
        <LI>Next message: <A HREF="017634.html">[mod_python] mod_python.publisher and Cheetah
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17635">[ date ]</a>
              <a href="thread.html#17635">[ thread ]</a>
              <a href="subject.html#17635">[ subject ]</a>
              <a href="author.html#17635">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Segmentation faults generally result from different packages being
used directly/indirectly within Apache and mod_python which have
been compiled against different versions of some shared libraries.

The two main libraries which seem to always trigger this are libexpat
and the MySQL shared libraries.

On Fedora, there was also a specific libexpat RPM version which would
cause segmentation faults.

First thing to try would be to disable PHP so that it isn't loaded
at all by Apache and then try the mod_python code. This is because
it is generally PHP which is the other package using these shared
libraries which are in conflict with what mod_python is using.

Also try reading over the following links:

   <A HREF="http://www.modpython.org/FAQ/faqw.py?req=show&amp;file=faq02.013.htp">http://www.modpython.org/FAQ/faqw.py?req=show&amp;file=faq02.013.htp</A>
   
<A HREF="http://www.modpython.org/pipermail/mod_python/2005-February/017305.html">http://www.modpython.org/pipermail/mod_python/2005-February/017305.html</A>

You can search for more from the search box on the mod_python site.

You would then need to investigate as to what shared libraries PHP
and various Python modules such as pyexpat may have been compiled
against.

One of the suggestions generally put up is to not trust the packaged
versions and build everything from source code so you know which
versions are used.

Graham

On Tuesday, March 15, 2005, at 12:06  AM, Toni Brkic wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I've used trac with mod_python but after an security update it stopped 
</I>&gt;<i> working so I assume the fault is in mod_python/apache2 and not in the 
</I>&gt;<i> python scritpts.
</I>&gt;<i>
</I>&gt;<i> But I would appreciate if anybody could give any hints how to pinpoint
</I>&gt;<i> where the problem is a little bit better, because right now I have no 
</I>&gt;<i> idea on how to go forward.
</I>&gt;<i>
</I>&gt;<i> My OS is Linux with SuSE9.1. The installed rpm:s i have are:
</I>&gt;<i> apache2-prefork-2.0.50-3.1
</I>&gt;<i> apache2-2.0.50-3.1
</I>&gt;<i> apache2-mod_python-3.1.3-37.6
</I>&gt;<i>
</I>&gt;<i> My error log looks like below when I use mod_python now. My scripts 
</I>&gt;<i> works fine with cgi.
</I>&gt;<i>
</I>&gt;<i> What I noticed is that before I got the message:
</I>&gt;<i> mod_python: (Re)importing module 'trac.ModPythonHandler'
</I>&gt;<i> But I dont get that anymore.
</I>&gt;<i>
</I>&gt;<i> [Mon Mar 14 11:00:46 2005] [notice] suEXEC mechanism enabled (wrapper: 
</I>&gt;<i> /usr/sbin/suexec2)
</I>&gt;<i> [Mon Mar 14 11:00:46 2005] [notice] mod_python: Creating 32 session 
</I>&gt;<i> mutexes based on 150 max processes and 0 max threads.
</I>&gt;<i> [Mon Mar 14 11:00:46 2005] [notice] Apache/2.0.50 (Linux/SUSE) 
</I>&gt;<i> configured -- resuming normal operations
</I>&gt;<i> [Mon Mar 14 11:01:04 2005] [notice] child pid 7377 exit signal 
</I>&gt;<i> Segmentation fault (11)
</I>&gt;<i> [Mon Mar 14 11:01:11 2005] [notice] child pid 7378 exit signal 
</I>&gt;<i> Segmentation fault (11)
</I>&gt;<i> [Mon Mar 14 11:01:21 2005] [notice] child pid 7376 exit signal 
</I>&gt;<i> Segmentation fault (11)
</I>&gt;<i> [Mon Mar 14 11:01:25 2005] [notice] child pid 7379 exit signal 
</I>&gt;<i> Segmentation fault (11)
</I>&gt;<i> [Mon Mar 14 11:03:04 2005] [notice] child pid 7380 exit signal 
</I>&gt;<i> Segmentation fault (11)
</I>&gt;<i> [Mon Mar 14 11:03:21 2005] [notice] child pid 7395 exit signal 
</I>&gt;<i> Segmentation fault (11)
</I>&gt;<i> [Mon Mar 14 11:05:37 2005] [warn] child process 7398 still did not 
</I>&gt;<i> exit, sending a SIGTERM
</I>&gt;<i> [Mon Mar 14 11:05:37 2005] [warn] child process 7396 still did not 
</I>&gt;<i> exit, sending a SIGTERM
</I>&gt;<i> [Mon Mar 14 11:05:37 2005] [warn] child process 7397 still did not 
</I>&gt;<i> exit, sending a SIGTERM
</I>&gt;<i> [Mon Mar 14 11:05:37 2005] [warn] child process 7426 still did not 
</I>&gt;<i> exit, sending a SIGTERM
</I>&gt;<i> [Mon Mar 14 11:05:37 2005] [warn] child process 7438 still did not 
</I>&gt;<i> exit, sending a SIGTERM
</I>&gt;<i> [Mon Mar 14 11:05:37 2005] [warn] child process 7398 still did not 
</I>&gt;<i> exit, sending a SIGTERM
</I>&gt;<i> [Mon Mar 14 11:05:37 2005] [warn] child process 7396 still did not 
</I>&gt;<i> exit, sending a SIGTERM
</I>&gt;<i> [Mon Mar 14 11:05:37 2005] [warn] child process 7397 still did not 
</I>&gt;<i> exit, sending a SIGTERM
</I>&gt;<i> [Mon Mar 14 11:05:37 2005] [warn] child process 7426 still did not 
</I>&gt;<i> exit, sending a SIGTERM
</I>&gt;<i> [Mon Mar 14 11:05:37 2005] [warn] child process 7438 still did not 
</I>&gt;<i> exit, sending a SIGTERM
</I>&gt;<i> [Mon Mar 14 11:05:38 2005] [notice] caught SIGTERM, shutting down
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017633.html">[mod_python] mod_python stopped working
</A></li>
	<LI>Next message: <A HREF="017634.html">[mod_python] mod_python.publisher and Cheetah
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17635">[ date ]</a>
              <a href="thread.html#17635">[ thread ]</a>
              <a href="subject.html#17635">[ subject ]</a>
              <a href="author.html#17635">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
