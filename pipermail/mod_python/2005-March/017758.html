<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Due to design of code util.FieldStorage causes
	MemoryError on V.Large files
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Due%20to%20design%20of%20code%20util.FieldStorage%20causes%0A%09MemoryError%20on%20V.Large%20files&In-Reply-To=42443ADB.4040001%40copyrightwitness.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017756.html">
   <LINK REL="Next"  HREF="017759.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Due to design of code util.FieldStorage causes
	MemoryError on V.Large files</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Jorey Bump</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Due%20to%20design%20of%20code%20util.FieldStorage%20causes%0A%09MemoryError%20on%20V.Large%20files&In-Reply-To=42443ADB.4040001%40copyrightwitness.net"
       TITLE="[mod_python] Due to design of code util.FieldStorage causes
	MemoryError on V.Large files">list at joreybump.com
       </A><BR>
    <I>Fri Mar 25 12:08:01 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="017756.html">[mod_python] Due to design of code util.FieldStorage causes
 MemoryError on V.Large files
</A></li>
        <LI>Next message: <A HREF="017759.html">[mod_python] Due to design of code util.FieldStorage causes
	MemoryError on V.Large files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17758">[ date ]</a>
              <a href="thread.html#17758">[ thread ]</a>
              <a href="subject.html#17758">[ subject ]</a>
              <a href="author.html#17758">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Barry Pearce wrote:

&gt;<i> Ive just tried to upload an .iso using FieldStorage - an unfortunately 
</I>&gt;<i> this causes some problems - namely it just calls 'readline' without a 
</I>&gt;<i> specific sizing.
</I>&gt;<i> 
</I>&gt;<i> Im going to take a look at the code and try to improve it so that it 
</I>&gt;<i> would cope with multi-GB files...
</I>
&gt;<i> Any thoughts before I plough headlong into this?
</I>
I would probably never allow transfers of this type using HTTP, so be 
sure to provide sane defaults and a limiting mechanism.

Also, considering the amount of time it would take to complete the 
transfer on just about any typical connection, how many simultaneous 
transfers would be possible in a default apache setup before it 
effectively stops serving pages?

How will you handle uploads of the same file when a luser keeps 
submitting the same form? For small files, this is a nuisance, but for 
large ones it could be a catastrophe.

Finally, consider every aspect of the worst case scenario and don't 
discount human stupidity. For example, a user once tried to send me an 
email with a 40GB attachment (the entire C: drive) using Outlook 
Express. His mail server properly identified the maximum size it would 
handle, but OE stubbornly continued to transfer bytes and attempted to 
clear out its Outbox all night long (he had gone to bed). In the 
morning, his provider gave him an angry call. We took the machine 
offline and spent a couple of hours trying to purge the message from OE 
(harder than you would think). Test your code with every browser 
available to you, and do every stupid thing you can think of before 
giving ordinary users the power to DoS your system.



</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017756.html">[mod_python] Due to design of code util.FieldStorage causes
 MemoryError on V.Large files
</A></li>
	<LI>Next message: <A HREF="017759.html">[mod_python] Due to design of code util.FieldStorage causes
	MemoryError on V.Large files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17758">[ date ]</a>
              <a href="thread.html#17758">[ thread ]</a>
              <a href="subject.html#17758">[ subject ]</a>
              <a href="author.html#17758">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
