<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] All spawned threads in Restricted Exection Mode
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20All%20spawned%20threads%20in%20Restricted%20Exection%20Mode&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017789.html">
   <LINK REL="Next"  HREF="017791.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] All spawned threads in Restricted Exection Mode</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Alan Davies</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20All%20spawned%20threads%20in%20Restricted%20Exection%20Mode&In-Reply-To="
       TITLE="[mod_python] All spawned threads in Restricted Exection Mode">alan at goatpunch.com
       </A><BR>
    <I>Wed Mar 30 14:45:27 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="017789.html">[mod_python] seg fault with mod_python  - python-ldap
</A></li>
        <LI>Next message: <A HREF="017791.html">[mod_python] Communicating between interpreters?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17790">[ date ]</a>
              <a href="thread.html#17790">[ thread ]</a>
              <a href="subject.html#17790">[ subject ]</a>
              <a href="author.html#17790">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I've seen some comments on this problem in the past, and was wondering
if a fix/workaround has ever emerged.

It seems that when I spawn a thread in mod_python, the thread runs in
Restricted Execution Mode. I get errors like this when I try to do
simple things such as import Python Image Library's 'Image' module:

    RuntimeError: cannot unmarshal code objects in restricted execution
    mode

The same code running in the main thread works fine. I've tried python
versions 2.2 and 2.3, and just tried installing the latest versions I
could find: Apache/2.0.53 (Win32) mod_python/3.1.4 Python/2.4 - problem
is still there. A few months ago I had this code up and running on
this same machine, probably with Python 2.3.

Another machine with this configuration has no problem: Apache/2.0.52
(Win32) mod_python/3.1.3 Python/2.3.2

This is a very annoying problem; the ability to have a thread running
that persists across and interacts with http requests is my reason for
using mod_python, any ideas how I can solve this?

Thanks,

--Alan
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017789.html">[mod_python] seg fault with mod_python  - python-ldap
</A></li>
	<LI>Next message: <A HREF="017791.html">[mod_python] Communicating between interpreters?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17790">[ date ]</a>
              <a href="thread.html#17790">[ thread ]</a>
              <a href="subject.html#17790">[ subject ]</a>
              <a href="author.html#17790">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
