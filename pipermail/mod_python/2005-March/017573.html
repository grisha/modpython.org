<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] options to suppress error when accessing module
	directly with Publisher
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20options%20to%20suppress%20error%20when%20accessing%20module%0A%09directly%20with%20Publisher&In-Reply-To=74f677104da01831fe52f5ac3a0f8819%40dscpl.com.au">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017572.html">
   <LINK REL="Next"  HREF="017574.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] options to suppress error when accessing module
	directly with Publisher</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20options%20to%20suppress%20error%20when%20accessing%20module%0A%09directly%20with%20Publisher&In-Reply-To=74f677104da01831fe52f5ac3a0f8819%40dscpl.com.au"
       TITLE="[mod_python] options to suppress error when accessing module
	directly with Publisher">grahamd at dscpl.com.au
       </A><BR>
    <I>Thu Mar  3 16:13:59 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="017572.html">[mod_python] options to suppress error when accessing module
	directly with Publisher
</A></li>
        <LI>Next message: <A HREF="017574.html">[mod_python] options to suppress error when accessing module
	directly with Publisher
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17573">[ date ]</a>
              <a href="thread.html#17573">[ thread ]</a>
              <a href="subject.html#17573">[ subject ]</a>
              <a href="author.html#17573">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yep, you must be using mod_python 2.7.X as there I get:

Mod_python error: &quot;PythonHandler mod_python.publisher&quot;

Traceback (most recent call last):

   File  
&quot;/System/Library/Frameworks/Python.framework/Versions/2.3/lib/ 
python2.3/site-packages/mod_python/apache.py&quot;, line 193, in Dispatch
     result = object(req)

   File  
&quot;/System/Library/Frameworks/Python.framework/Versions/2.3/lib/ 
python2.3/site-packages/mod_python/publisher.py&quot;, line 89, in handler
     if func_path[-1] == &quot;.&quot;:

IndexError: string index out of range

BTW, on a quick test of &quot;vampire:publisher&quot; on mod_python 2.7.X, which  
I hadn't tried
before, all four work as expect. Ie., first two are OK, second two 404,  
or with index
function second two yield index.

This is one of the benefits of having publisher code which is outside  
of the main
release. It can be made to work the same with both 2.7.X and 3.1.X  
versions of mod_python
and you don't have to suffer the fact that such bugs in 2.7.X will most  
likely never
be fixed.

Graham

On 04/03/2005, at 8:05 AM, Graham Dumpleton wrote:

&gt;<i> Which version of mod_python are you using?
</I>&gt;<i>
</I>&gt;<i> On mod_python-3.1.4 I get OK, OK, 404, 404. I don't get any mod_python  
</I>&gt;<i> error
</I>&gt;<i> for the last one.
</I>&gt;<i>
</I>&gt;<i> If I add an index() function, then the last two yield the index()  
</I>&gt;<i> function
</I>&gt;<i> instead as you are expecting.
</I>&gt;<i>
</I>&gt;<i> On 04/03/2005, at 7:14 AM, Jorey Bump wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> I'm replacing a directory of files with a single module for use with  
</I>&gt;&gt;<i> Publisher. As this location is used by a new set of users each cycle,  
</I>&gt;&gt;<i> I won't need to account for any old links. However, it's likely that  
</I>&gt;&gt;<i> some users will try backing up from the function to the module name  
</I>&gt;&gt;<i> itself, which will return a mod_python error (I have debug on). Is  
</I>&gt;&gt;<i> there any way to handle this error in another way?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> For example, given a module foo.py with a function bar, this is the  
</I>&gt;&gt;<i> link we will be distributing to users:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  <A HREF="http://example.com/foo/bar">http://example.com/foo/bar</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This also works:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  <A HREF="http://example.com/foo/bar/">http://example.com/foo/bar/</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> And this returns a 404 Not Found error, which is fine:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  <A HREF="http://example.com/foo">http://example.com/foo</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> But adding a slash returns a mod_python error:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  <A HREF="http://example.com/foo/">http://example.com/foo/</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This is the kind of thing that users will try to do to search for  
</I>&gt;&gt;<i> information. It's usually nonmalicious, and some browsers even  
</I>&gt;&gt;<i> provide convenient widgets to backtrack over an URL. I'd rather  
</I>&gt;&gt;<i> return a 404 than an interpreter error. Any thoughts?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It's interesting that naming a module index.py can hide the module  
</I>&gt;&gt;<i> name in an URL. Why not do the opposite, and allow a function named  
</I>&gt;&gt;<i> index in a module to be the default location if the module is called  
</I>&gt;&gt;<i> directly, with a trailing slash?
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mod_python mailing list
</I>&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017572.html">[mod_python] options to suppress error when accessing module
	directly with Publisher
</A></li>
	<LI>Next message: <A HREF="017574.html">[mod_python] options to suppress error when accessing module
	directly with Publisher
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17573">[ date ]</a>
              <a href="thread.html#17573">[ thread ]</a>
              <a href="subject.html#17573">[ subject ]</a>
              <a href="author.html#17573">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
