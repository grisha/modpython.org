<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] _req.write buffer/flush question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20_req.write%20buffer/flush%20question&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017759.html">
   <LINK REL="Next"  HREF="017763.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] _req.write buffer/flush question</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Chris Hagner</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20_req.write%20buffer/flush%20question&In-Reply-To="
       TITLE="[mod_python] _req.write buffer/flush question">chagner at yahoo.com
       </A><BR>
    <I>Fri Mar 25 15:50:20 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="017759.html">[mod_python] Due to design of code util.FieldStorage causes
	MemoryError on V.Large files
</A></li>
        <LI>Next message: <A HREF="017763.html">[mod_python] Due to design of code util.FieldStorage
	causes	MemoryError on V.Large files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17762">[ date ]</a>
              <a href="thread.html#17762">[ thread ]</a>
              <a href="subject.html#17762">[ subject ]</a>
              <a href="author.html#17762">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi there,

I am trying to figure out some strangeness that I'm
observing when having &gt; 1 _req.write() statements.  I
use a templating system, os my first call to
_req.write() gets the output of rendered HTML
template.  The second call is used when I turn on my
own internal debugging which dumps more information to
the browser (thus simplifying tracking down values and
settings).  This all worked fine under modpy 2.x but
I'm noticing that in 3.1 only a fraction of the second
call of _req.write() is showing up in the browser.

Initially, the second output didn't appear at all
until I turned off 'flush' when calling _req.write(). 
This was due to my framework being originally written
for modpy 2.x.  Now second output appears, but only a
fraction of it.  It appears to drop output after a
certain length.  Basically, when I try to write too
long string through the second _req.write() call, it
gets truncated (at least in mozilla).  In konqueror,
the second output doesn't appear at all.  Grrr.

Oh yeah, I did try various combinations of flushing or
telling the write to flush, but there was no real
improvement.

I haven't really kept up with the latest changes in
3.x, but there didn't seem to be anything in the docs
or in the mailing list.

Thanks for your help!

Chris



		
__________________________________ 
Do you Yahoo!? 
Yahoo! Small Business - Try our new resources site!
<A HREF="http://smallbusiness.yahoo.com/resources/">http://smallbusiness.yahoo.com/resources/</A> 
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017759.html">[mod_python] Due to design of code util.FieldStorage causes
	MemoryError on V.Large files
</A></li>
	<LI>Next message: <A HREF="017763.html">[mod_python] Due to design of code util.FieldStorage
	causes	MemoryError on V.Large files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17762">[ date ]</a>
              <a href="thread.html#17762">[ thread ]</a>
              <a href="subject.html#17762">[ subject ]</a>
              <a href="author.html#17762">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
