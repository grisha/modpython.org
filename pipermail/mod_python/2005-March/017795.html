<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Communicating between interpreters?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Communicating%20between%20interpreters%3F&In-Reply-To=2ae7aa1d050330123417259043%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017804.html">
   <LINK REL="Next"  HREF="017793.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Communicating between interpreters?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Gregory (Grisha) Trubetskoy</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Communicating%20between%20interpreters%3F&In-Reply-To=2ae7aa1d050330123417259043%40mail.gmail.com"
       TITLE="[mod_python] Communicating between interpreters?">grisha at modpython.org
       </A><BR>
    <I>Wed Mar 30 18:36:03 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="017804.html">[mod_python] Communicating between interpreters?
</A></li>
        <LI>Next message: <A HREF="017793.html">[mod_python] seg fault with mod_python  - python-ldap
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17795">[ date ]</a>
              <a href="thread.html#17795">[ thread ]</a>
              <a href="subject.html#17795">[ subject ]</a>
              <a href="author.html#17795">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
I did something like this about two years ago when I tried to make a 
mod_python based streaming server as a proof of concept. I still have the 
code somewhere, may be some day it'll be cleaned up and released.

I used an mmap file that I called a &quot;cuecard&quot;. A child that would be 
dedicated to writing was called a &quot;prompter&quot; and a process that read the 
cuecard and sent the data to the client was called an &quot;actor&quot;.

To syncronize reads and writes to the cuecard I used the apache.mpm_query 
to figure out whether we're multithreaded and then based on that either 
used the fcntl or the threading modules for locking.

It all wasn't terribly complicated and worked quite well actually. I 
really with I had more time to dust this thing off...

Grisha

On Wed, 30 Mar 2005, jonk wrote:

&gt;<i> Hi y'all, my first post.
</I>&gt;<i>
</I>&gt;<i> I'm running mod_python 3.1.3 (I think) on FC3. Now I was
</I>&gt;<i> wondering that is it possible for interpreters (surely mixing
</I>&gt;<i> things here but please read along if you can stand it) to share
</I>&gt;<i> data, and in what way(s)?
</I>&gt;<i>
</I>&gt;<i> I would like to have one interpreter (the master) to grab
</I>&gt;<i> video data, and others to feed it to clients. So this master
</I>&gt;<i> would take care of video data buffer, and also it would need
</I>&gt;<i> to pass data to and from slave interpreters (again, terms
</I>&gt;<i> a still somewhat fuzzy to me). Also some kind of mutex
</I>&gt;<i> system would be handy.
</I>&gt;<i>
</I>&gt;<i> If I did this in C, it would be really simple multithreaded
</I>&gt;<i> program. But I don't want to write stand alone web server
</I>&gt;<i> for this purpose, and I want to learn new things.
</I>&gt;<i>
</I>&gt;<i> So, to sum up, how to do inter process communications
</I>&gt;<i> in mod_python?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>    Jonk
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I></PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017804.html">[mod_python] Communicating between interpreters?
</A></li>
	<LI>Next message: <A HREF="017793.html">[mod_python] seg fault with mod_python  - python-ldap
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17795">[ date ]</a>
              <a href="thread.html#17795">[ thread ]</a>
              <a href="subject.html#17795">[ subject ]</a>
              <a href="author.html#17795">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
