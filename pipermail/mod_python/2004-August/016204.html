<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] How can I turn off apparent caching of python code?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20How%20can%20I%20turn%20off%20apparent%20caching%20of%20python%20code%3F&In-Reply-To=20040823195052.E38604%40onyx.ispol.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016201.html">
   <LINK REL="Next"  HREF="016212.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] How can I turn off apparent caching of python code?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20How%20can%20I%20turn%20off%20apparent%20caching%20of%20python%20code%3F&In-Reply-To=20040823195052.E38604%40onyx.ispol.com"
       TITLE="[mod_python] How can I turn off apparent caching of python code?">grahamd at dscpl.com.au
       </A><BR>
    <I>Wed Aug 25 13:20:03 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="016201.html">[mod_python] How can I turn off apparent caching of python code?
</A></li>
        <LI>Next message: <A HREF="016212.html">[mod_python] How can I turn off apparent caching of python code?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16204">[ date ]</a>
              <a href="thread.html#16204">[ thread ]</a>
              <a href="subject.html#16204">[ subject ]</a>
              <a href="author.html#16204">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 24/08/2004, at 9:54 AM, Gregory (Grisha) Trubetskoy wrote:

&gt;<i>
</I>&gt;<i> On Mon, 23 Aug 2004, Tobiah wrote:
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>  DEBUG = 1
</I>&gt;&gt;&gt;<i>  import mymodulea
</I>&gt;&gt;&gt;<i>  import mymoduleb
</I>&gt;&gt;&gt;<i>  if DEBUG:
</I>&gt;&gt;&gt;<i>         mymodulea = reload(mymodulea)
</I>&gt;&gt;&gt;<i>         mymoduleb = reload(mymoduleb)
</I>&gt;&gt;&gt;<i> That is O.K., but still, unwieldy.
</I>&gt;<i>
</I>&gt;<i> This method is pretty old, now a simpler way to do it is:
</I>&gt;<i>
</I>&gt;<i> mymodulea = apache.import_module(&quot;mymodulea&quot;)
</I>&gt;<i> mymoduleb = apache.import_module(&quot;mymoduleb&quot;)
</I>
No time right now for an extended description, will send one later, but 
Vampire which I
described recently and which is available at 
&quot;<A HREF="http://www.dscpl.com.au/projects/vampire&quot;">http://www.dscpl.com.au/projects/vampire&quot;</A>
has a module caching system which has explicit module importing similar 
to the
mod_python.apache module, but what it will do is track relationships 
between module
imports and is able to do a reload even when child imports are changed 
and not the
immediate module you are loading.

What this means is if that A imports B which imports C and similarly D 
imports C, if C
is then changed, all the modules which depend on C, ie., A, B and D 
will be automatically
reloaded when requested, rather than them being grabbed from the cache. 
If all your
application modules are in one place and you always use the module 
importer in Vampire
for importing any application module from a page, but also one 
application module from
another, any change to an application module should see anything that 
depends on it
automatically reloaded.

BTW, various problems I have seen with things appearing not to be 
reimported correctly
are actually because of intermediate proxy servers caching stuff. Thus 
need to explicitly
say not to cache stuff in response, although error pages can stuff that 
up also.



--
Graham Dumpleton (<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">grahamd at dscpl.com.au</A>)

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016201.html">[mod_python] How can I turn off apparent caching of python code?
</A></li>
	<LI>Next message: <A HREF="016212.html">[mod_python] How can I turn off apparent caching of python code?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16204">[ date ]</a>
              <a href="thread.html#16204">[ thread ]</a>
              <a href="subject.html#16204">[ subject ]</a>
              <a href="author.html#16204">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
