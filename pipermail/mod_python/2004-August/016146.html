<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] XSLT versus 'traditional' templating (was:
	mod_python  Live examples)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20XSLT%20versus%20%27traditional%27%20templating%20%28was%3A%0A%09mod_python%20%20Live%20examples%29&In-Reply-To=4124111A.40105%40apnic.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016169.html">
   <LINK REL="Next"  HREF="016061.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] XSLT versus 'traditional' templating (was:
	mod_python  Live examples)</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Nic Ferrier</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20XSLT%20versus%20%27traditional%27%20templating%20%28was%3A%0A%09mod_python%20%20Live%20examples%29&In-Reply-To=4124111A.40105%40apnic.net"
       TITLE="[mod_python] XSLT versus 'traditional' templating (was:
	mod_python  Live examples)">nferrier at tapsellferrier.co.uk
       </A><BR>
    <I>Thu Aug 19 10:29:01 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="016169.html">[mod_python] XSLT versus 'traditional' templating
</A></li>
        <LI>Next message: <A HREF="016061.html">[mod_python] mod_python Live examples
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16146">[ date ]</a>
              <a href="thread.html#16146">[ thread ]</a>
              <a href="subject.html#16146">[ subject ]</a>
              <a href="author.html#16146">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Byron Ellacott &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">bje at apnic.net</A>&gt; writes:

&gt;<i> &gt; And note that XSLT doesn't have to be slow; there's quite a lot of
</I>&gt;<i> &gt; research going into improving speed. The pipelining approach has
</I>&gt;<i> &gt; already been taken:
</I>&gt;<i> &gt;   <A HREF="http://xml.apache.org/xalan-j/xsltc_usage.html">http://xml.apache.org/xalan-j/xsltc_usage.html</A>
</I>&gt;<i> 
</I>&gt;<i> Sorry, but I'm not sure what you mean by pipelining.  Since an XSLT 
</I>&gt;<i> document can, at any point, examine any part of the source document, you 
</I>&gt;<i> /must/ have the entire source document available to perform a transform. 
</I>&gt;<i>   Consider how you would implement &lt;xsl:value-of 
</I>&gt;<i> select=&quot;//foo/bar[@baz='quux']&quot;&gt; without a full document, for instance. 
</I>&gt;<i>   In essense, XSLT is a document transformation tool, whereas 
</I>&gt;<i> traditional HTML templating mechanisms, including PSP, are stream 
</I>&gt;<i> templating tools.
</I>&gt;<i> 
</I>&gt;<i> On the other hand, it's perfectly valid to compile the XSLT document to 
</I>&gt;<i> some other, more convenient form, thus saving on the parsing, and it's 
</I>&gt;<i> also valid to cache DOM trees instead of XML strings.  But these don't 
</I>&gt;<i> change the basic fact that an XSLT transformation is still more complex 
</I>&gt;<i> than your ordinary run-of-the-mill template translations.
</I>
Yes, that's right. That's what xsltc does. The templates are compiled
into code that operates on a stream. It's clever and fast, but it's
also complicated.


&gt;<i> &gt; In a RESTfull application you could also just add another server.
</I>
&gt;<i> And I am talking not about scalability performance, but about
</I>&gt;<i> per-request response time.  If the system starts too slow to use for
</I>&gt;<i> one user making one request at a time, scaling well will simply mean
</I>&gt;<i> it can be too slow for lots of users at once.
</I>
What I was trying to say was that the biggest factor in XSLT
computation is memory size. If you can fit all the requests' DOM's
into memory then you will reduce the speed problem. I've recently been
working on a Java webapp with a similar architecture to the one you've
outlined, it is awfully slow when it isn't run on very large memory
servers but on big memory machines it's very quick.

But you're right. Stream based templating is always going to be
quicker.


&gt;<i> &gt; Python doesn't have 'standard' XSLT support yet... but when it
</I>&gt;<i> &gt; does it will be possible to pass DOMs around instead of XML
</I>&gt;<i> &gt; character streams. That will speed things up considerably.
</I>
&gt;<i> Sure, or you just say that you expect DOMs to be of the type you can
</I>&gt;<i> handle.  You're defining an API, you can also define the types of
</I>&gt;<i> the arguments and return values.
</I>
That's true. But I was getting at the performance issue. Currently
it's likely that passing your 'DOM' to an XSLT engine will require
serializtion of your DOM and then the XSLT engine to parse the
serialized form. 

When there is standard Python XSLT support we will presumably be able
to pass a DOM directly to an XSLT engine which will operate on it
directly. This is how one achieves reasonable XSLT performance with
Java for example.


&gt;<i> These aren't reasons to avoid the technologies, they are tradeoffs.
</I>&gt;<i> Your application will almost certainly feel slower, but it's likely
</I>&gt;<i> to have much better decoupling and maintainability, if you use XSLT
</I>&gt;<i> to transform XML data to markup.
</I>
I do agree with you. But I think your assesment of XSLT as slow is
(only) slightly misleading. Partly it's slow in Python because of a
lack of standard support (although this can be fixed by using things
like libxml2 for your xml and xslt).


Nic
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016169.html">[mod_python] XSLT versus 'traditional' templating
</A></li>
	<LI>Next message: <A HREF="016061.html">[mod_python] mod_python Live examples
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16146">[ date ]</a>
              <a href="thread.html#16146">[ thread ]</a>
              <a href="subject.html#16146">[ subject ]</a>
              <a href="author.html#16146">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
