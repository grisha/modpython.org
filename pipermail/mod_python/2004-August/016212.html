<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] How can I turn off apparent caching of python code?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20How%20can%20I%20turn%20off%20apparent%20caching%20of%20python%20code%3F&In-Reply-To=46078FA6-F63D-11D8-83D1-000393DCF16E%40dscpl.com.au">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016204.html">
   <LINK REL="Next"  HREF="016215.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] How can I turn off apparent caching of python code?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Jorey Bump</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20How%20can%20I%20turn%20off%20apparent%20caching%20of%20python%20code%3F&In-Reply-To=46078FA6-F63D-11D8-83D1-000393DCF16E%40dscpl.com.au"
       TITLE="[mod_python] How can I turn off apparent caching of python code?">list at joreybump.com
       </A><BR>
    <I>Wed Aug 25 12:04:59 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="016204.html">[mod_python] How can I turn off apparent caching of python code?
</A></li>
        <LI>Next message: <A HREF="016215.html">[mod_python] How can I turn off apparent caching of python code?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16212">[ date ]</a>
              <a href="thread.html#16212">[ thread ]</a>
              <a href="subject.html#16212">[ subject ]</a>
              <a href="author.html#16212">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Graham Dumpleton wrote:

&gt;<i> BTW, various problems I have seen with things appearing not to be 
</I>&gt;<i> reimported correctly
</I>&gt;<i> are actually because of intermediate proxy servers caching stuff. Thus 
</I>&gt;<i> need to explicitly
</I>&gt;<i> say not to cache stuff in response, although error pages can stuff that 
</I>&gt;<i> up also.
</I>
Within your application you can do this:

  req.headers_out['Pragma'] = 'no-cache'
  req.headers_out['Cache-Control'] = 'no-cache'
  req.headers_out['Expires'] = '-1'

Or you can simply set the headers in httpd.conf or .htaccess:

  &lt;Directory /var/www/foo/site&gt;
   AddHandler python-program .py
   PythonHandler mod_python.publisher
   PythonDebug On
   # set headers to prevent caching for anything in this directory
   Header set Pragma &quot;no-cache&quot;
   Header set Cache-Control &quot;no-cache&quot;
   Header set Expires &quot;-1&quot;
&lt;/Directory&gt;

Note: I use the somewhat outdated versions of apache and mod_python that 
come with Debian Woody, so be sure to check for the correct syntax for 
your versions. You might need to add the correct apache module to get 
the Header directives to work in httpd.conf.

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016204.html">[mod_python] How can I turn off apparent caching of python code?
</A></li>
	<LI>Next message: <A HREF="016215.html">[mod_python] How can I turn off apparent caching of python code?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16212">[ date ]</a>
              <a href="thread.html#16212">[ thread ]</a>
              <a href="subject.html#16212">[ subject ]</a>
              <a href="author.html#16212">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
