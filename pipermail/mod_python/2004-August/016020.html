<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] mptest.py testing failed
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mptest.py%20testing%20failed&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016022.html">
   <LINK REL="Next"  HREF="016023.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] mptest.py testing failed</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Suhaimi Jamalludin</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mptest.py%20testing%20failed&In-Reply-To="
       TITLE="[mod_python] mptest.py testing failed">suhaimi at niser.org.my
       </A><BR>
    <I>Tue Aug 10 13:49:19 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="016022.html">[mod_python] How long does a mod_python session last?
</A></li>
        <LI>Next message: <A HREF="016023.html">[mod_python] Stopping Reimports
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16020">[ date ]</a>
              <a href="thread.html#16020">[ thread ]</a>
              <a href="subject.html#16020">[ subject ]</a>
              <a href="author.html#16020">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All,

Really need your advice. I'm running FreeBSD5.2.1, apache 1.3.31, 
mod_python-2.7.10.
I got  this error in my httpd-error.log. FYI....apache is up an runing.

    make_obcallback(): could not import mod_python.apache.
    make_obcallback(): could not call init.
    [Tue Aug 10 11:57:32 2004] [error] [client 10.1.4.118] 
python_handler: make_obcallback returned no obCallBack!

Can somebody help me.

regards,
suhaimi

My step-by-step for mod_python on FreeBSD5.2.1
----------------------------------
1) Installed python
    # cd /usr/ports/lang/python
    # make -DWITHOUT_THREADS install clean

2) Installed mod_python
    # cd /usr/ports/www/mod_python
    # make -DWANT_EAPI install clean

3) Modify apache configuration file
    #vi /usr/local/etc/apache/http.conf
    add below line at the end of the http.conf
    ----snip-----
    &lt;Directory /usr/local/www/cgi-bin/modpython&gt;
      AddHandler python-program .py
      PythonHandler mptest
      PythonDebug On
    &lt;/Directory&gt;
    ----snap-----

4) Create mptest.py
    # vi /usr/local/www/cgi-bin/modpython/mptest.py
    add below line in mptest.py
    ----snip-----
    from mod_python import apache

    def handler(req):
            req.write(&quot;Hello World!&quot;)
            return apache.OK
    ----snap-----
   
5) Restart Apache
    # /usr/local/etc/rc.d/apache restart
   
6) Open Mozilla Web Browser type the mod_python test file as below.

    <A HREF="http://10.1.4.8/cgi-bin/modpython/mptest.py">http://10.1.4.8/cgi-bin/modpython/mptest.py</A>

    Browser output:
   
    Internal Server Error
    The server encountered an internal error or misconfiguration and was 
unable to complete your request.
    Please contact the server administrator, <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">root at local.domain</A> and 
inform them of the time the error occurred, and anything you might have 
done that may have caused the error.
    More information about this error may be available in the server 
error log.

7) Check apache log file
    # tail /var/log/httpd-error.log
   
    [Tue Aug 10 11:57:24 2004] [notice] caught SIGTERM, shutting down
    [Tue Aug 10 11:57:28 2004] [notice] Apache configured -- resuming 
normal operations
    [Tue Aug 10 11:57:28 2004] [notice] Accept mutex: flock (Default: flock)
    'import site' failed; use -v for traceback
    make_obcallback(): could not import mod_python.apache.
    make_obcallback(): could not call init.
    [Tue Aug 10 11:57:32 2004] [error] [client 10.1.4.118] 
python_handler: make_obcallback returned no obCallBack!
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016022.html">[mod_python] How long does a mod_python session last?
</A></li>
	<LI>Next message: <A HREF="016023.html">[mod_python] Stopping Reimports
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16020">[ date ]</a>
              <a href="thread.html#16020">[ thread ]</a>
              <a href="subject.html#16020">[ subject ]</a>
              <a href="author.html#16020">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
