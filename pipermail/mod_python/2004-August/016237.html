<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] how do i share variables accross requests?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20how%20do%20i%20share%20variables%20accross%20requests%3F&In-Reply-To=200408261033.59553.jpbarrette%40savoirfairelinux.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016228.html">
   <LINK REL="Next"  HREF="016256.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] how do i share variables accross requests?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>R. Pelizzi</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20how%20do%20i%20share%20variables%20accross%20requests%3F&In-Reply-To=200408261033.59553.jpbarrette%40savoirfairelinux.net"
       TITLE="[mod_python] how do i share variables accross requests?">r.pelizzi at virgilio.it
       </A><BR>
    <I>Thu Aug 26 20:59:11 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="016228.html">[mod_python] how do i share variables accross requests?
</A></li>
        <LI>Next message: <A HREF="016256.html">[mod_python] how do i share variables accross requests?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16237">[ date ]</a>
              <a href="thread.html#16237">[ thread ]</a>
              <a href="subject.html#16237">[ subject ]</a>
              <a href="author.html#16237">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jean-Philippe Barrette-LaPierre wrote:
&gt;<i> -----BEGIN PGP SIGNED MESSAGE-----
</I>&gt;<i> Hash: SHA1
</I>&gt;<i> 
</I>&gt;<i> On August 26, 2004 12:12 pm, R. Pelizzi wrote:
</I>   [CUT]
&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> for session management see:
</I>&gt;<i>    <A HREF="http://www.modpython.org/live/current/doc-html/pyapi-sess.html">http://www.modpython.org/live/current/doc-html/pyapi-sess.html</A> 
</I>&gt;<i> for &quot;persistance&quot; accross sessions see:
</I>&gt;<i>    <A HREF="http://www.modpython.org/live/current/doc-html/pyapi-cookie.html">http://www.modpython.org/live/current/doc-html/pyapi-cookie.html</A>
</I>&gt;<i> 
</I>&gt;&gt;<i>Thank you
</I>&gt;&gt;<i>Riccardo
</I>&gt;&gt;<i>_______________________________________________
</I>&gt;&gt;<i>Mod_python mailing list
</I>&gt;&gt;<i><A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;&gt;<i><A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> - -- 
</I>&gt;<i> Jean-Philippe Barrette-LaPierre
</I>&gt;<i> Maintener of curlpp
</I>&gt;<i> -----BEGIN PGP SIGNATURE-----
</I>&gt;<i> Version: GnuPG v1.2.4 (GNU/Linux)
</I>&gt;<i> 
</I>&gt;<i> iD8DBQFBLfTV4k/6r/h0g7kRAoO/AKCsSlIbqtkU3nqL+K1reyC+sgIxZACgjGbv
</I>&gt;<i> YW9RJDfSQ9fXFxdsiizhmEE=
</I>&gt;<i> =rs67
</I>&gt;<i> -----END PGP SIGNATURE-----
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> 
</I>
no. You didn't get the point. Suppose you want to print out how many 
users are browsing the site at the moment. You would have to count the 
active sessions. Unfortunately there's no way to do that. A quick 
workaround would be to use a variable global to all the sessions, add 1 
to it for every new session and register a cleanup function for the 
session that substract 1 to the variable. The variable would then count 
the active sessions, which roughly estimates how many users are browsing 
the site. Now, in this simple example i could just pickle the variable 
and store it on disk using dbm, mysql or whatever. But
1. what about unpickable objects? are all objects pickable?
2. is this a bit inefficient? You would have to read, unpickle and 
repickle the variable every time a new session begins or expires, or 
read and unpickle it on every request!
3. I'm lazy... anybody did this before and can post the code? ^_^
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016228.html">[mod_python] how do i share variables accross requests?
</A></li>
	<LI>Next message: <A HREF="016256.html">[mod_python] how do i share variables accross requests?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16237">[ date ]</a>
              <a href="thread.html#16237">[ thread ]</a>
              <a href="subject.html#16237">[ subject ]</a>
              <a href="author.html#16237">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
