<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Status of Mac OS X / Apache 1.3 / mod_python 2.7.10.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Status%20of%20Mac%20OS%20X%20/%20Apache%201.3%20/%20mod_python%202.7.10.&In-Reply-To=A1AF44AE-E2EC-11D8-963D-000A95AC6C3C%40Memora.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015992.html">
   <LINK REL="Next"  HREF="015994.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Status of Mac OS X / Apache 1.3 / mod_python 2.7.10.</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Justin Ryan</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Status%20of%20Mac%20OS%20X%20/%20Apache%201.3%20/%20mod_python%202.7.10.&In-Reply-To=A1AF44AE-E2EC-11D8-963D-000A95AC6C3C%40Memora.com"
       TITLE="[mod_python] Status of Mac OS X / Apache 1.3 / mod_python 2.7.10.">jryan at qutang.net
       </A><BR>
    <I>Wed Aug  4 16:26:12 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="015992.html">[mod_python] servlet HTMLPage write_js
</A></li>
        <LI>Next message: <A HREF="015994.html">[mod_python] Status of Mac OS X / Apache 1.3 / mod_python 2.7.10.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15993">[ date ]</a>
              <a href="thread.html#15993">[ thread ]</a>
              <a href="subject.html#15993">[ subject ]</a>
              <a href="author.html#15993">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Be careful when playing with the file/directory/link/whateva that is 
/System/Library/Frameworks/Python.Framework.  I ran into some wierdness 
trying to change this into a symlink and move it around (i.e. change it 
back and forth from pointing to Apple's python and my own).

Also, take care when using the 'python' command after installing your 
own framework build.  It's kind of a pain to get a framework build to 
stick python, pythonw, etc.. in /usr/bin - all of my stuff was in 
/usr/local/bin, even though I passed --prefix=/usr to the configure 
script.

Sure would be rad if there were a doc outlining how exactly apple 
builds python for inclusion into OSX. ;)

Cheers,

-=JR

On Jul 31, 2004, at 7:24 AM, Antonio Rodriguez wrote:

&gt;<i> Graham,
</I>&gt;<i>
</I>&gt;<i> I was able to get it 2.7.10 to work on the stock apache with OSX by 
</I>&gt;<i> just downloading the latest python and doing a framework build (after 
</I>&gt;<i> moving aside the one that comes with OSX). This seems like it might 
</I>&gt;<i> have caused a lot of headaches but std. python build as a framework 
</I>&gt;<i> does pretty well on OSX.
</I>&gt;<i>
</I>&gt;<i> AR
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Jul 31, 2004, at 4:13 AM, Graham Dumpleton wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> I wanted to get mod_python working with the standard version of 
</I>&gt;&gt;<i> Apache (1.3) that
</I>&gt;&gt;<i> comes with Mac OS 10.3 but before I even tried I noted a number of 
</I>&gt;&gt;<i> posts in various
</I>&gt;&gt;<i> places on the net asking how to get it to work since they weren't 
</I>&gt;&gt;<i> even able to
</I>&gt;&gt;<i> get it to compile or if they did, the apache process died when 
</I>&gt;&gt;<i> mod_python was
</I>&gt;&gt;<i> loaded. In my search, I couldn't find anyone indicating that they had 
</I>&gt;&gt;<i> solved the
</I>&gt;&gt;<i> problem. The only positive indication was someone making available a 
</I>&gt;&gt;<i> prebuilt
</I>&gt;&gt;<i> version of mod_python but this was for Mac OS 10.1 and it has since 
</I>&gt;&gt;<i> been removed
</I>&gt;&gt;<i> from the net.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Actually trying it myself, I fixed the obvious problems with the 
</I>&gt;&gt;<i> makefiles and build
</I>&gt;&gt;<i> process but also found that the apache process died. Digging further, 
</I>&gt;&gt;<i> I found the
</I>&gt;&gt;<i> underlying problem was that Py_IsInitialized() always returned true, 
</I>&gt;&gt;<i> even on the
</I>&gt;&gt;<i> first time it was called from the python_init() function in 
</I>&gt;&gt;<i> mod_python.c. As such,
</I>&gt;&gt;<i> the required call to Py_Initialize() never occurred, nor did setup 
</I>&gt;&gt;<i> for threading.
</I>&gt;&gt;<i> Because initialisation of the interpreter never occurred, Python 
</I>&gt;&gt;<i> subsequently died
</I>&gt;&gt;<i> the first time a Python function was actually called. Adding a 
</I>&gt;&gt;<i> separate initialisation
</I>&gt;&gt;<i> flag in python_init() fixed the problem and so far on a simple 
</I>&gt;&gt;<i> example it is working
</I>&gt;&gt;<i> okay.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> That said, what is the official status of mod_python 2.7.10 on Mac OS 
</I>&gt;&gt;<i> X with the
</I>&gt;&gt;<i> version of Apache (1.3) that comes with the OS?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Can post instructions/patch later if there is the interest.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> Graham Dumpleton (<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">grahamd at dscpl.com.au</A>)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mod_python mailing list
</I>&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015992.html">[mod_python] servlet HTMLPage write_js
</A></li>
	<LI>Next message: <A HREF="015994.html">[mod_python] Status of Mac OS X / Apache 1.3 / mod_python 2.7.10.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15993">[ date ]</a>
              <a href="thread.html#15993">[ thread ]</a>
              <a href="subject.html#15993">[ subject ]</a>
              <a href="author.html#15993">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
