<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Re: Your article: mod_python module importing is broken
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20Your%20article%3A%20mod_python%20module%20importing%20is%20broken&In-Reply-To=43269EEA.2090104%40genesilico.pl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019052.html">
   <LINK REL="Next"  HREF="019061.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Re: Your article: mod_python module importing is broken</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20Your%20article%3A%20mod_python%20module%20importing%20is%20broken&In-Reply-To=43269EEA.2090104%40genesilico.pl"
       TITLE="[mod_python] Re: Your article: mod_python module importing is broken">grahamd at dscpl.com.au
       </A><BR>
    <I>Wed Sep 14 23:11:59 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="019052.html">[mod_python] Writing modules in Python
</A></li>
        <LI>Next message: <A HREF="019061.html">[mod_python] Re: apachectl restart == dead mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19059">[ date ]</a>
              <a href="thread.html#19059">[ thread ]</a>
              <a href="subject.html#19059">[ subject ]</a>
              <a href="author.html#19059">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>What you are seeing is normal, especially if you are using the &quot;prefork&quot;
mode of Apache. What you will probably find is that each line of output
was from a different Apache child subprocess. The order in which
sys.path is constructed will be dependent upon the order in which
separately configured request handlers are visited by incoming requests.

Thus sys.path order is to a degree random as far as directories
corresponding to handlers. This is actually a bad thing and source
of various problems. Changes speculated on for mod_python 3.3/4.0
may improve this situation hopefully.

It is recommended you ask questions about mod_python on the mod_python
mailing list and not me direct. So please get on the mailing list if
you can and post any followups or further questions there.

Graham


On 13/09/2005, at 7:42 PM, Michal J. Gajda wrote:

&gt;<i> Dear Graham,
</I>&gt;<i>
</I>&gt;<i> I've just stumbled upon your article in which you explain many ways in 
</I>&gt;<i> which
</I>&gt;<i> mod_python module importing is broken:
</I>&gt;<i> <A HREF="http://www.dscpl.com.au/articles/modpython-003.html">http://www.dscpl.com.au/articles/modpython-003.html</A>
</I>&gt;<i>
</I>&gt;<i> I have a problem myself, and I'm interested if it is related to the 
</I>&gt;<i> problems you
</I>&gt;<i> explain in your article, or rather specific to my own Apache2 
</I>&gt;<i> configuration.
</I>&gt;<i>
</I>&gt;<i> When I try to print sys.path, I get a wide variety of results that 
</I>&gt;<i> suggest
</I>&gt;<i> contamination of sys.path between Python scripts placed in different
</I>&gt;<i> $USERDIR/public_html/ directories, like:
</I>&gt;<i> 1st run:
</I>&gt;<i> ['.', '/home/*/public_html/', '/usr/lib/python23.zip', 
</I>&gt;<i> '/usr/lib/python2.3',
</I>&gt;<i> '/usr/lib/python2.3/plat-linux2', '/usr/lib/python2.3/lib-tk',
</I>&gt;<i> '/usr/lib/python2.3/lib-dynload', 
</I>&gt;<i> '/usr/local/lib/python2.3/site-packages',
</I>&gt;<i> '/usr/lib/python2.3/site-packages', 
</I>&gt;<i> '/usr/lib/python2.3/site-packages/Numeric',
</I>&gt;<i> '/usr/lib/python2.3/site-packages/PIL',
</I>&gt;<i> '/usr/lib/python2.3/site-packages/gtk-2.0', '/usr/lib/site-python']
</I>&gt;<i> 2nd run (just a minute after):
</I>&gt;<i> ['/home/marcin/public_html/gs/', '/usr/lib/python23.zip', 
</I>&gt;<i> '/usr/lib/python2.3',
</I>&gt;<i> '/usr/lib/python2.3/plat-linux2', '/usr/lib/python2.3/lib-tk',
</I>&gt;<i> '/usr/lib/python2.3/lib-dynload', 
</I>&gt;<i> '/usr/local/lib/python2.3/site-packages',
</I>&gt;<i> '/usr/lib/python2.3/site-packages', 
</I>&gt;<i> '/usr/lib/python2.3/site-packages/Numeric',
</I>&gt;<i> '/usr/lib/python2.3/site-packages/PIL',
</I>&gt;<i> '/usr/lib/python2.3/site-packages/gtk-2.0', '/usr/lib/site-python']
</I>&gt;<i> 3rd run (just another minute after):
</I>&gt;<i> ['/usr/lib/python23.zip', '/usr/lib/python2.3',
</I>&gt;<i> '/usr/lib/python2.3/plat-linux2', '/usr/lib/python2.3/lib-tk',
</I>&gt;<i> '/usr/lib/python2.3/lib-dynload', 
</I>&gt;<i> '/usr/local/lib/python2.3/site-packages',
</I>&gt;<i> '/usr/lib/python2.3/site-packages', 
</I>&gt;<i> '/usr/lib/python2.3/site-packages/Numeric',
</I>&gt;<i> '/usr/lib/python2.3/site-packages/PIL',
</I>&gt;<i> '/usr/lib/python2.3/site-packages/gtk-2.0', '/usr/lib/site-python']
</I>&gt;<i>
</I>&gt;<i> Do you think these problems are related to what you write about, or is 
</I>&gt;<i> it a
</I>&gt;<i> completely different problem?
</I>&gt;<i> -- 
</I>&gt;<i> 	Sincerely
</I>&gt;<i> 		Michal J. Gajda
</I>&gt;<i> &lt;misiek.vcf&gt;
</I>
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019052.html">[mod_python] Writing modules in Python
</A></li>
	<LI>Next message: <A HREF="019061.html">[mod_python] Re: apachectl restart == dead mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19059">[ date ]</a>
              <a href="thread.html#19059">[ thread ]</a>
              <a href="subject.html#19059">[ subject ]</a>
              <a href="author.html#19059">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
