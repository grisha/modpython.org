<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Unable to get session variables. 
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Unable%20to%20get%20session%20variables.%20&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019130.html">
   <LINK REL="Next"  HREF="019132.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Unable to get session variables. </H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Ole Jacob Hagen</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Unable%20to%20get%20session%20variables.%20&In-Reply-To="
       TITLE="[mod_python] Unable to get session variables. ">waterthrill at yahoo.no
       </A><BR>
    <I>Wed Sep 21 11:50:31 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="019130.html">[mod_python] &quot;TypeError: argument 2 must be a mapping&quot; and
	other things
</A></li>
        <LI>Next message: <A HREF="019132.html">[mod_python] publisher  recursive function
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19129">[ date ]</a>
              <a href="thread.html#19129">[ thread ]</a>
              <a href="subject.html#19129">[ subject ]</a>
              <a href="author.html#19129">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I am struggling with one thing......Collecting the session variables.
I used to develop on debian computer, using *.psp files and *.py files.
My code worked on this computer. I used python-2.3, apache-2.0.5x, and
modpython-3.1.x

During these days, I have tried to use the same code on a gentoo-linux box.
I am using python-2.4, apache-2.0.54, and modpython-3.1.4.

It seems to me that I am able to store the session variables, but not
collect them.
I can see from firefox (file - preferences- privacy- view cookies) that
pysid-cookies have been created.

Why are the cookies variable collectable? Maybe they are empty, and not
writeable?


Please help.


Cheers,

Ole J.

Here is my code to save and get session variables:

*def* get_session(req):
    req.session = Session.Session(req)
    req.session.load()
    req.session.unlock()
    *return* req.session

*def* save_session(req,**data):
    req.session = get_session(req)
    req.session.lock()
    *for* key *in* data:
        req.session[key] = data[key]
    req.session.save()
    req.session.unlock()

***def* has_key(req,key):
    session =  get_session(req)
    *if* session.has_key(key):
        *return* True
    *else*:
        *return* False

*def* get_session_data(req,key):
    session = get_session(req)
    *if* session.has_key(key):
        *return* session[key]
    *return* {}





</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019130.html">[mod_python] &quot;TypeError: argument 2 must be a mapping&quot; and
	other things
</A></li>
	<LI>Next message: <A HREF="019132.html">[mod_python] publisher  recursive function
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19129">[ date ]</a>
              <a href="thread.html#19129">[ thread ]</a>
              <a href="subject.html#19129">[ subject ]</a>
              <a href="author.html#19129">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
