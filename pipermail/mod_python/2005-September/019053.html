<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] sys.argv does not work when accessed with mod_python
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20sys.argv%20does%20not%20work%20when%20accessed%20with%20mod_python&In-Reply-To=4322D765.3090808%40lhi.is">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018999.html">
   <LINK REL="Next"  HREF="019000.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] sys.argv does not work when accessed with mod_python</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20sys.argv%20does%20not%20work%20when%20accessed%20with%20mod_python&In-Reply-To=4322D765.3090808%40lhi.is"
       TITLE="[mod_python] sys.argv does not work when accessed with mod_python">grahamd at dscpl.com.au
       </A><BR>
    <I>Wed Sep 14 22:17:17 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="018999.html">[mod_python] sys.argv does not work when accessed with mod_python
</A></li>
        <LI>Next message: <A HREF="019000.html">[mod_python] mod_python for WinXP Pro
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19053">[ date ]</a>
              <a href="thread.html#19053">[ thread ]</a>
              <a href="subject.html#19053">[ subject ]</a>
              <a href="author.html#19053">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 10/09/2005, at 10:53 PM, Sigurdur Einarsson wrote:

&gt;<i> Hello list,
</I>&gt;<i>
</I>&gt;<i> It seems like I'm unable to use sys.argv[0] with mod_python, it
</I>&gt;<i> functions in the shell.  Is there something in mod_python that will do
</I>&gt;<i> the same thing or is there a way to allow mod_python to access the
</I>&gt;<i> function, assuming this is a security issue?
</I>
What exactly are you expecting to be obtaining from sys.argv[0]?

In a Python script run from the command line sys.argv[0] will yield the
pathname of the actual script which was run. Under mod_python, even if
sys.argv were able to somehow be set properly, the process corresponds
to an invocation of Apache &quot;httpd&quot; application.

Not knowing exactly what you are after, I'll give a few suggestions as
to what is available.

1. In any Python module file, you can access the global &quot;__file__&quot;. This
will give the pathname to the file corresponding to that module. The
last component of the pathname may be useful in identifying the
resource. Ie., 'os.path.split(__file__)[1]'.

2. For a particular request, you can access &quot;req.filename&quot;. This is the
physical resource as identified by Apache as being the target of a
request. Again, the last component of the pathname maybe useful.

3. Especially if you are using mod_python.publisher, req.path_info may
be useful. The value of this is what is used to identify the actual
function which is being executed.

Is what you are after the resource name as identified by a URI, or the
name of the particular function which was mapped to and called by
mod_python or some extension for mod_python, such as will be the case
with mod_python.publisher?

Graham

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018999.html">[mod_python] sys.argv does not work when accessed with mod_python
</A></li>
	<LI>Next message: <A HREF="019000.html">[mod_python] mod_python for WinXP Pro
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19053">[ date ]</a>
              <a href="thread.html#19053">[ thread ]</a>
              <a href="subject.html#19053">[ subject ]</a>
              <a href="author.html#19053">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
