<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] PythonImport: Can someone please draw a diagram for
	this idiot?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20PythonImport%3A%20Can%20someone%20please%20draw%20a%20diagram%20for%0A%09this%20idiot%3F&In-Reply-To=5E4C18D07172%40underdog">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019091.html">
   <LINK REL="Next"  HREF="019040.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] PythonImport: Can someone please draw a diagram for
	this idiot?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>jamestmcneill-python at yahoo.co.uk</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20PythonImport%3A%20Can%20someone%20please%20draw%20a%20diagram%20for%0A%09this%20idiot%3F&In-Reply-To=5E4C18D07172%40underdog"
       TITLE="[mod_python] PythonImport: Can someone please draw a diagram for
	this idiot?">jamestmcneill-python at yahoo.co.uk
       </A><BR>
    <I>Wed Sep 14 15:59:24 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="019091.html">[mod_python] Single import at startup
</A></li>
        <LI>Next message: <A HREF="019040.html">[mod_python] PythonImport: Can someone please draw a diagram
	for	this idiot?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19039">[ date ]</a>
              <a href="thread.html#19039">[ thread ]</a>
              <a href="subject.html#19039">[ subject ]</a>
              <a href="author.html#19039">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Lee,

Sorry for being crabbit, you didn't deserve it. Anyway I'm still on track
of this PythonImport thing, and a couple of simple test rule out come
possibilities.

1) I've run the main handler to show req.interpreter, and it is
'myinterpreter' as specified.
2) I've gone into IDLE and done what I'm trying to do in the main handler,
namely:

import mpglobals
cur = mpglobals.con.cursor()

That works correctly, and produces a compiled mpglobls.pyc in the same
folder. Also I stuck some logger code into mpglobals, and that wrote to a
text file as expected.
3) From this I can see that the PythonImport directive doesn't seem to be
working at all (or at least, in any way I expected it to). It does not
produce a compiled version of the module specified, nor does it run the
logger code. However it works, it does not run as if I had an &quot;import
mpglobals&quot; command in the main handler. In fact I've tried that, and it
runs properly, showing that mpglobals is on sys.path within the main
request handler, and that the code within it works properly.

Really, as far as I can see (not far admittedly) either we're into some
pretty weird territory with PythonImport and I'm just not getting all this
C API and subinterpreter doodah, or it simply doesn't work under my
configuration (Windows XP and Python 2.3).

Can anyone suggest a simple test to show whether or not PythonImport is
working at all on my system? Or have I already shown that it hasn't, with
what I've done already?

Cheers
Jim

--- Lee Brown wrote:

&gt;<i> Greetings!
</I>&gt;<i> 
</I>&gt;<i> It was not my intention to be condescending; rather, I was attempting to
</I>&gt;<i> be
</I>&gt;<i> in good humor and I apologize for the offense.  In fact, I had the exact
</I>&gt;<i> same problem with imports and namespaces only a few months ago.
</I>&gt;<i> 
</I>&gt;<i> If your object is still not accessible in the correct namespace, then
</I>&gt;<i> the
</I>&gt;<i> next thing to check is to see if your code is executing under the
</I>&gt;<i> interpreter name that you think it should.    The example code that
</I>&gt;<i> Jorey
</I>&gt;<i> Bump published will help you determine this.
</I>&gt;<i> 
</I>&gt;<i> I agree with you that doing an import once at server startup rather than
</I>&gt;<i> at
</I>&gt;<i> each request seems like a cleaner way to go.  The only drawback is that
</I>&gt;<i> if
</I>&gt;<i> you change the code in the imported module you'll have to re-start the
</I>&gt;<i> server but this usually isn't a problem for many applications.
</I>&gt;<i> 
</I>&gt;<i> Best Regards,
</I>&gt;<i> Lee E. Brown
</I>

++++++++++++++++++++++++++++++++++++++++++++++++++
+   If you've got a good excuse - don't use it   +
++++++++++++++++++++++++++++++++++++++++++++++++++)

</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019091.html">[mod_python] Single import at startup
</A></li>
	<LI>Next message: <A HREF="019040.html">[mod_python] PythonImport: Can someone please draw a diagram
	for	this idiot?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19039">[ date ]</a>
              <a href="thread.html#19039">[ thread ]</a>
              <a href="subject.html#19039">[ subject ]</a>
              <a href="author.html#19039">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
