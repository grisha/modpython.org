<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Dupe: Undefined symbol &quot;PyEval_AcquireLock&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Dupe%3A%20Undefined%20symbol%20%22PyEval_AcquireLock%22&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018996.html">
   <LINK REL="Next"  HREF="018998.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Dupe: Undefined symbol &quot;PyEval_AcquireLock&quot;</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Andrew Musselman</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Dupe%3A%20Undefined%20symbol%20%22PyEval_AcquireLock%22&In-Reply-To="
       TITLE="[mod_python] Dupe: Undefined symbol &quot;PyEval_AcquireLock&quot;">Andrew at cwu.EDU
       </A><BR>
    <I>Fri Sep  9 13:20:49 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="018996.html">[mod_python] Re: mod_python + MySQLdb + Apache strange behavoir
</A></li>
        <LI>Next message: <A HREF="018998.html">[mod_python] Dupe: Undefined symbol &quot;PyEval_AcquireLock&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18997">[ date ]</a>
              <a href="thread.html#18997">[ thread ]</a>
              <a href="subject.html#18997">[ subject ]</a>
              <a href="author.html#18997">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for the hints; it is strange that Makefile for python 2.4 has
these lines:

.if !defined(WITHOUT_THREADS)
CONFIGURE_ARGS+=        --with-threads

This seems to indicate that threads should be built in to the version I
have running.  Nevertheless, when I try &quot;import threading&quot; from within
python, I get this error:

Andrew Musselman
<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">andrew at cwu.edu</A>


&gt;&gt;&gt;<i> import threading
</I>Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in ?
  File &quot;/usr/local/lib/python2.4/threading.py&quot;, line 6, in ?
    import thread
ImportError: No module named thread

I do not understand how to use &quot;LIBS=-lc_r ./configure
--with-threads&quot;..  Is it possible to enter the &quot;LIBS=-lc_r&quot; somewhere in
the Makefile?

Thanks again.

Andrew

&gt;&gt;&gt;<i> Graham Dumpleton &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">grahamd at dscpl.com.au</A>&gt; 9/8/2005 6:50 PM &gt;&gt;&gt;
</I>My experience with FreeBSD systems is that threading wasn't builtin to
Python by default. To see if threading is builtin, from the command
line run Python and then do:

   import threading

If it fails, probably indicates Python wasn't built with threading
support in the first place. If this is the case, you will need to
rebuild Python with threading enabled. Note that on FreeBSD I believe
the POSIX thread library functions are in -lc_r, ie., reentrant
version of standard C library. Command line for configure probably
something like:

   LIBS=-lc_r ./configure --with-threads

Graham

On 09/09/2005, at 3:12 AM, Andrew Musselman wrote:

&gt;<i> Hi List, sorry for the dupe; I tried subscribing with another email 
</I>&gt;<i> account but wasn't able to confirm.  Here is my question again:
</I>&gt;<i>
</I>&gt;<i>  I am trying to run mod_python-3.1.4_1 with apache2 on FreeBSD 5.4 
</I>&gt;<i> STABLE.  My python version is python-2.4.1_1.
</I>&gt;<i>
</I>&gt;<i>  Everything is built from ports.
</I>&gt;<i>
</I>&gt;<i>  Here is the error I receive when starting apache:
</I>&gt;<i>  Syntax error on line 281 of /usr/local/etc/apache2/httpd.conf:
</I>&gt;<i>  Cannot load /usr/local/libexec/apache2/mod_python.so into server: 
</I>&gt;<i> /usr/local/libexec/apache2/mod_python.so: Undefined symbol 
</I>&gt;<i> &quot;PyEval_AcquireLock&quot;
</I>&gt;<i>
</I>&gt;<i>  Here is line 281 of httpd.conf:
</I>&gt;<i>  LoadModule python_module      libexec/apache2/mod_python.so
</I>&gt;<i>
</I>&gt;<i>  Has anyone seen this error before, or does anyone have suggestions
</I>on 
&gt;<i> how to isolate the problem?
</I>&gt;<i>
</I>&gt;<i>  Thank you for your time.
</I>&gt;<i>
</I>&gt;<i>  Best,
</I>&gt;<i>  Andrew
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A> 
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A> 
</I>

_______________________________________________
Mod_python mailing list
<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A> 
<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018996.html">[mod_python] Re: mod_python + MySQLdb + Apache strange behavoir
</A></li>
	<LI>Next message: <A HREF="018998.html">[mod_python] Dupe: Undefined symbol &quot;PyEval_AcquireLock&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18997">[ date ]</a>
              <a href="thread.html#18997">[ thread ]</a>
              <a href="subject.html#18997">[ subject ]</a>
              <a href="author.html#18997">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
