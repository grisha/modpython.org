<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] PythonImport: Can someone please draw a diagram
	forthis idiot?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20PythonImport%3A%20Can%20someone%20please%20draw%20a%20diagram%0A%09forthis%20idiot%3F&In-Reply-To=c298f2d705091401306b673e6d%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019026.html">
   <LINK REL="Next"  HREF="019029.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] PythonImport: Can someone please draw a diagram
	forthis idiot?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>jamestmcneill-python at yahoo.co.uk</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20PythonImport%3A%20Can%20someone%20please%20draw%20a%20diagram%0A%09forthis%20idiot%3F&In-Reply-To=c298f2d705091401306b673e6d%40mail.gmail.com"
       TITLE="[mod_python] PythonImport: Can someone please draw a diagram
	forthis idiot?">jamestmcneill-python at yahoo.co.uk
       </A><BR>
    <I>Wed Sep 14 07:00:42 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="019026.html">[mod_python] PythonImport: Can someone please draw a diagram
	forthis idiot?
</A></li>
        <LI>Next message: <A HREF="019029.html">[mod_python] PythonImport: Can someone please draw a diagram
	forthis idiot?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19028">[ date ]</a>
              <a href="thread.html#19028">[ thread ]</a>
              <a href="subject.html#19028">[ subject ]</a>
              <a href="author.html#19028">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Nicolas,

Thanks for that. Unfortunately I find that it doesn't really get me any
further. Using mpglobals.cur.execute just lets me know that it isn't
defined either (&quot;NameError: global name 'mpglobals' is not defined&quot; -
starting IDLE and looking at sys.path confirms that the directory is there
in the penultimate position), and trying to import it every time I service
a request kind of defeats the purpose, which is putting the database
connection handler into PythonImport to avoid the overhead involved in
it's creation at request time. As the manual says about PythonImport:
&quot;This is useful for initialization tasks that could be time consuming and
should not be done at the request processing time, e.g. initializing a
database connection.&quot;

I must admit that this is one of the key reasons for me to look at
mod_python at all, and honestly I haven't started dropping questions into
the mailing list until I'd exhausted everything I could find in the
archives and google etc. There are a couple of examples in the FAQ on
&quot;3.3. What is the best way to make persistent connections to a database?&quot;,
but I must admit to not being able to understand how this code is to be
worked into which stage of Apache handling, as surely as it reads it is
not intended to be run with every request?

As with my previous questions on ClearSilver, what I'd like to do is to
devise a minimal example of the use of PythonImport for creating permanent
database connections, as the manual states is possible.

Regards,
Jim

--- Nicolas Lehuen &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">nicolas.lehuen at gmail.com</A>&gt; wrote:

&gt;<i> Instead of &quot;cur.execute&quot; write &quot;mpglobals.cur.execute&quot;.
</I>&gt;<i> 
</I>&gt;<i> Or, if mpglobals is really on the sys.path, then you can drop
</I>&gt;<i> PythonImport 
</I>&gt;<i> and write :
</I>&gt;<i> 
</I>&gt;<i> from mpglobals import cur # or import * if you want all
</I>&gt;<i> cur.execute(...)
</I>
++++++++++++++++++++++++++++++++++++++++++++++++++
+   If you've got a good excuse - don't use it   +
++++++++++++++++++++++++++++++++++++++++++++++++++)

</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019026.html">[mod_python] PythonImport: Can someone please draw a diagram
	forthis idiot?
</A></li>
	<LI>Next message: <A HREF="019029.html">[mod_python] PythonImport: Can someone please draw a diagram
	forthis idiot?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19028">[ date ]</a>
              <a href="thread.html#19028">[ thread ]</a>
              <a href="subject.html#19028">[ subject ]</a>
              <a href="author.html#19028">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
