<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] PythonInterpPerDirec* Question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20PythonInterpPerDirec%2A%20Question&In-Reply-To=4320B131.40603%40hostway.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018983.html">
   <LINK REL="Next"  HREF="019008.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] PythonInterpPerDirec* Question</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20PythonInterpPerDirec%2A%20Question&In-Reply-To=4320B131.40603%40hostway.com"
       TITLE="[mod_python] PythonInterpPerDirec* Question">grahamd at dscpl.com.au
       </A><BR>
    <I>Thu Sep  8 22:16:35 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="018983.html">[mod_python] PythonInterpPerDirec* Question
</A></li>
        <LI>Next message: <A HREF="019008.html">[mod_python] PythonInterpPerDirec* Question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18987">[ date ]</a>
              <a href="thread.html#18987">[ thread ]</a>
              <a href="subject.html#18987">[ subject ]</a>
              <a href="author.html#18987">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 09/09/2005, at 7:46 AM, Huzaifa Tapal wrote:

&gt;<i>  Hello all,
</I>&gt;<i>
</I>&gt;<i>  I have a question about the usage of the PythonInterpPerDirectory and 
</I>&gt;<i> PythonInterpPerDirective directives.&#160; I am trying to setup a 
</I>&gt;<i> development box with mod_python support, and want to set it up in a 
</I>&gt;<i> way so that different users, within their cgi-bin can have multiple 
</I>&gt;<i> mod_python handler installations and each handler having its own set 
</I>&gt;<i> of sub-interpreters.&#160; After doing some research I found that the usage 
</I>&gt;<i> of the above two directives is the solutions (or maybe something else 
</I>&gt;<i> that I am not aware of).
</I>&gt;<i>
</I>&gt;<i>  I am trying to set the above directive in my httpd.conf file as 
</I>&gt;<i> follows:
</I>&gt;<i>
</I>&gt;<i>  &lt;Directory /home/*/www/cgi-bin/&gt;
</I>&gt;<i>  &#160;&#160;&#160;&#160;&#160;&#160; PythonInterpPerDirective On&#160;&#160;&#160;&#160;&#160;&#160; # or 
</I>&gt;<i> PythonInterpPerDirectory On
</I>&gt;<i>  &lt;/Directory&gt;
</I>
You can check whether this is even coming into play by including:

   deny from all

If the path pattern is right, you should then get Forbidden.

&gt;<i>  now I test this by creating two directories within a user's cgi-bin 
</I>&gt;<i> say /home/user/www/cgi-bin/handler1 and 
</I>&gt;<i> /home/user/www/cgi-bin/handler2 and add a handler module and a 
</I>&gt;<i> .htaccess file with the following contents:
</I>&gt;<i>
</I>&gt;<i> SetHandler mod_python
</I>&gt;<i>  PythonHandler mptest
</I>&gt;<i>  PythonDebug On
</I>&gt;<i>
</I>&gt;<i>  Within the handlers, I am creating a cache dictionary at global level 
</I>&gt;<i> and testing the cache for that dictionary by printing its values and 
</I>&gt;<i> also printing the id of the cache dictionary.&#160; When executing both 
</I>&gt;<i> handlers, it appears that both handlers in both directories are 
</I>&gt;<i> sharing the subinterpreters when they should not be.
</I>
I wouldn't necessarily rely on using Python id() as basis to determine
if they are same/different interpreter.

For starters, simply display value of &quot;req.interpreter&quot;. This will be
the name given to each interpreter. It should equate somehow to the path
to the physical directory.

Note that there are some bugs in the PythonInterpPerDirectory directive.
See:

   <A HREF="http://issues.apache.org/jira/browse/MODPYTHON-5">http://issues.apache.org/jira/browse/MODPYTHON-5</A>

This is address in mod_python 3.2 beta versions.

Graham


</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018983.html">[mod_python] PythonInterpPerDirec* Question
</A></li>
	<LI>Next message: <A HREF="019008.html">[mod_python] PythonInterpPerDirec* Question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18987">[ date ]</a>
              <a href="thread.html#18987">[ thread ]</a>
              <a href="subject.html#18987">[ subject ]</a>
              <a href="author.html#18987">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
