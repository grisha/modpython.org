<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Different Times in Apache Log, and within PSP files
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Different%20Times%20in%20Apache%20Log%2C%20and%20within%20PSP%20files&In-Reply-To=4e4a11f805091201454b409993%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019002.html">
   <LINK REL="Next"  HREF="019003.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Different Times in Apache Log, and within PSP files</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Different%20Times%20in%20Apache%20Log%2C%20and%20within%20PSP%20files&In-Reply-To=4e4a11f805091201454b409993%40mail.gmail.com"
       TITLE="[mod_python] Different Times in Apache Log, and within PSP files">grahamd at dscpl.com.au
       </A><BR>
    <I>Wed Sep 14 22:23:32 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="019002.html">[mod_python] Different Times in Apache Log, and within PSP files
</A></li>
        <LI>Next message: <A HREF="019003.html">[mod_python] ApplicationPath kills performance?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19054">[ date ]</a>
              <a href="thread.html#19054">[ thread ]</a>
              <a href="subject.html#19054">[ subject ]</a>
              <a href="author.html#19054">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 12/09/2005, at 6:45 PM, Simon Wittber wrote:

&gt;<i> Hello Chaps,
</I>&gt;<i>
</I>&gt;<i> I am encountering a problem, where a mod_python PSP page is reporting
</I>&gt;<i> a different time from the datetime.datetime.today() call than the
</I>&gt;<i> system time.
</I>&gt;<i>
</I>&gt;<i> Also, in the Apache2 logs below, it appears that something weird is
</I>&gt;<i> happening with the timestamp field. Any ideas on what might be going
</I>&gt;<i> on? We are using the MPM-worker model.
</I>&gt;<i>
</I>&gt;<i> Sw.
</I>&gt;<i>
</I>&gt;<i> xxx.xxx.xxx.xxx - 600030 [12/Sep/2005:07:55:18 +0800] &quot;GET /some/file/
</I>&gt;<i> HTTP/1.1&quot; 200 1792 &quot;<A HREF="http://some/referrer/file.psp&quot;">http://some/referrer/file.psp&quot;</A> &quot;Mozilla/5.0
</I>&gt;<i> (Windows; U; Windows NT 5.1; en-US; rv:1.7.7) Gecko/20050410&quot;
</I>&gt;<i> xxx.xxx.xxx.xxx - 600030 [11/Sep/2005:18:55:18 -0500] &quot;GET
</I>&gt;<i> /some/other/file HTTP/1.1&quot; 200 41610 &quot;<A HREF="http://some/referrer/file.psp&quot;">http://some/referrer/file.psp&quot;</A>
</I>&gt;<i> &quot;Mozilla/5.0 (Windows;U; Windows NT 5.1; en-US; rv:1.7.7)
</I>&gt;<i> Gecko/20050410&quot;
</I>
Note the presence of &quot;+0800&quot; and &quot;-0500&quot;. Each time is probably the
same but is being output as being in relation to different timezones.

Something, it may even not be a part of mod_python but some distinct
Apache module is possibly manipulating the timezone settings and thus
causing dates to be shown differently.

One way of manipulating the timezone setting is by setting the &quot;TZ&quot;
environment variable. This would not be a good thing to do if the worker
MPM was being used. This is because changing the environment variable
in a request handler running in one thread, would affect the environment
variable as seen by other threads, including code run by Apache to
create the above lines in the log file.

Graham

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019002.html">[mod_python] Different Times in Apache Log, and within PSP files
</A></li>
	<LI>Next message: <A HREF="019003.html">[mod_python] ApplicationPath kills performance?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19054">[ date ]</a>
              <a href="thread.html#19054">[ thread ]</a>
              <a href="subject.html#19054">[ subject ]</a>
              <a href="author.html#19054">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
