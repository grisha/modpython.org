<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] PythonInterpPerDirec* Question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20PythonInterpPerDirec%2A%20Question&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018985.html">
   <LINK REL="Next"  HREF="018987.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] PythonInterpPerDirec* Question</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Huzaifa Tapal</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20PythonInterpPerDirec%2A%20Question&In-Reply-To="
       TITLE="[mod_python] PythonInterpPerDirec* Question">huzaifa at hostway.com
       </A><BR>
    <I>Thu Sep  8 17:46:25 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="018985.html">[mod_python] Dupe: Undefined symbol &quot;PyEval_AcquireLock&quot;
</A></li>
        <LI>Next message: <A HREF="018987.html">[mod_python] PythonInterpPerDirec* Question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18983">[ date ]</a>
              <a href="thread.html#18983">[ thread ]</a>
              <a href="subject.html#18983">[ subject ]</a>
              <a href="author.html#18983">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello all,

I have a question about the usage of the PythonInterpPerDirectory and 
PythonInterpPerDirective directives.  I am trying to setup a development 
box with mod_python support, and want to set it up in a way so that 
different users, within their cgi-bin can have multiple mod_python 
handler installations and each handler having its own set of 
sub-interpreters.  After doing some research I found that the usage of 
the above two directives is the solutions (or maybe something else that 
I am not aware of).

I am trying to set the above directive in my httpd.conf file as follows:

&lt;Directory /home/*/www/cgi-bin/&gt;
       PythonInterpPerDirective On       # or PythonInterpPerDirectory On
&lt;/Directory&gt;

now I test this by creating two directories within a user's cgi-bin say 
/home/user/www/cgi-bin/handler1 and /home/user/www/cgi-bin/handler2 and 
add a handler module and a .htaccess file with the following contents:

SetHandler mod_python
PythonHandler mptest
PythonDebug On

Within the handlers, I am creating a cache dictionary at global level 
and testing the cache for that dictionary by printing its values and 
also printing the id of the cache dictionary.  When executing both 
handlers, it appears that both handlers in both directories are sharing 
the subinterpreters when they should not be.

Seeing that, I then create a .htaccess file in /home/user/www/cgi-bin 
directory with the contents:

PythonInterpPerDirective On  # or PythonInterpPerDirectory On

that seems to work as I want it to work.

The questions I have are:

   1. Why doesn't adding the PythonInterpPerDirec* directive work when I
      added to the server configuration file?
   2. Whats the best way to turn that directive on for all user's
      cgi-bin directories server wide without adding a .htaccess file
      for each user individually?
   3. Is there a better way of accomplishing what I want other than the
      directives?

Any help will be appreciated.

Hozi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20050908/452a8ebe/attachment.html">http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20050908/452a8ebe/attachment.html</A>
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018985.html">[mod_python] Dupe: Undefined symbol &quot;PyEval_AcquireLock&quot;
</A></li>
	<LI>Next message: <A HREF="018987.html">[mod_python] PythonInterpPerDirec* Question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18983">[ date ]</a>
              <a href="thread.html#18983">[ thread ]</a>
              <a href="subject.html#18983">[ subject ]</a>
              <a href="author.html#18983">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
