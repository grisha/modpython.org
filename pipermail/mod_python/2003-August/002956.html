<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Making an absolute URL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Making%20an%20absolute%20URL&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002955.html">
   <LINK REL="Next"  HREF="002957.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Making an absolute URL</H1>
    <B>Mike Looijmans</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Making%20an%20absolute%20URL&In-Reply-To="
       TITLE="[mod_python] Making an absolute URL">mike.looijmans at asml.com
       </A><BR>
    <I>Thu Aug 21 11:06:09 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="002955.html">[mod_python] pysco + mod_python?
</A></li>
        <LI>Next message: <A HREF="002957.html">[mod_python] Python 2.3/ modpython 3.0.3 problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2956">[ date ]</a>
              <a href="thread.html#2956">[ thread ]</a>
              <a href="subject.html#2956">[ subject ]</a>
              <a href="author.html#2956">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>As usual, there are many ways that lead to the same point.

I'm sending a 302 or 303 response to some queries to quickly redirect the
client to the 'next' page (for example after logging in is successful it
immediately proceeds to the 'calling' page by sending a &quot;303 See Other&quot;).

I did this previously with a Refresh header, but that doesn't work in Lynx
for example, it &quot;flashes&quot; the screen, and the 303 was specifically meant for
this purpose.

Only trouble now is that the &quot;Location&quot; header in a 30x response must be an
absolute URL instead of a relative one. If I just supply a relative URL, the
browsers grudgingly accept it, but it's just not right. So if the user
request <A HREF="http://myhost:8080/foo/">http://myhost:8080/foo/</A> i send a redirection to
<A HREF="http://myhost:8080/foo/bar">http://myhost:8080/foo/bar</A> by returning 302 (moved permanently) and add a
header &quot;Location: bar&quot;. But accoring to HTTP spec (RFC2068), the location
header should be &quot;Location: <A HREF="http://myhost:8080/foo/bar&quot;">http://myhost:8080/foo/bar&quot;</A> instead.

It should be easy to turn the URL into an absolute one. However, there are
many ways to do this, and I wonder what is the one that will work for all
client and server configurations.

For example, i want the URL to remain as the user typed it, so that there's
a difference between using <A HREF="http://localhost/foo/bar">http://localhost/foo/bar</A> or
<A HREF="http://localhost:80/foo/bar,">http://localhost:80/foo/bar,</A> between <A HREF="http://myhost.mydomain.com/">http://myhost.mydomain.com/</A> and
<A HREF="http://myhost/">http://myhost/</A> etc, etc.

Probably, the &quot;Host&quot; header from the client is a good thing for this, but it
is only mandatory for HTTP/1.1 and not for 1.0 which many browsers still
use.

Mike.





-- 
The information contained in this communication and any attachments is confidential and may be privileged, and is for the sole use of the intended recipient(s). Any unauthorized review, use, disclosure or distribution is prohibited. If you are not the intended recipient, please notify the sender immediately by replying to this message and destroy all copies of this message and any attachments. ASML is neither liable for the proper and complete transmission of the information contained in this communication, nor for any delay in its receipt.


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002955.html">[mod_python] pysco + mod_python?
</A></li>
	<LI>Next message: <A HREF="002957.html">[mod_python] Python 2.3/ modpython 3.0.3 problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2956">[ date ]</a>
              <a href="thread.html#2956">[ thread ]</a>
              <a href="subject.html#2956">[ subject ]</a>
              <a href="author.html#2956">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
