<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] PythonDebug and Traceback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20PythonDebug%20and%20Traceback&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014071.html">
   <LINK REL="Next"  HREF="014069.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] PythonDebug and Traceback</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Mike Looijmans</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20PythonDebug%20and%20Traceback&In-Reply-To="
       TITLE="[mod_python] PythonDebug and Traceback">mike.looijmans at asml.com
       </A><BR>
    <I>Wed Aug 27 07:21:05 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="014071.html">[mod_python] How do I serve up .html files?
</A></li>
        <LI>Next message: <A HREF="014069.html">[mod_python] IPC, db conn sharing, and other fine things
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14068">[ date ]</a>
              <a href="thread.html#14068">[ thread ]</a>
              <a href="subject.html#14068">[ subject ]</a>
              <a href="author.html#14068">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>Is there some way that you can have PythonDebug set to Off and still get
</I>&gt;<i>a traceback (I'm using 2.7.8 mod_python against python 2.2.2)?
</I>
Sure, but you'll have to display it yourself. My script usually look like
this:

req.content_type=&quot;text/html&quot;
writeheader(req, mytitle . . .)
try:
   # do some stuff (like connecting to the DB)
except:
   printexception(req)
printfooter(req, . . .)


--
The printexception() routine is defined as:
--

def formatexception():
   info = sys.exc_info()
    result = &quot;\n&lt;HR&gt;\n&lt;P&gt;&lt;B&gt;%s:&lt;/B&gt; %s&lt;/P&gt;\n&quot; % info[:2]
    if verbose:
        import traceback
        result += '&lt;PRE&gt;' + &quot;\n&quot;.join(traceback.format_tb(info[2])) +
'&lt;/PRE&gt;\n'
    return result

def printexception(req=sys.stdout):
    req.write(formatexception())

--
The 'verbose' global variable can be turned off and on by sending a request
to the server.



-- 
The information contained in this communication and any attachments is confidential and may be privileged, and is for the sole use of the intended recipient(s). Any unauthorized review, use, disclosure or distribution is prohibited. If you are not the intended recipient, please notify the sender immediately by replying to this message and destroy all copies of this message and any attachments. ASML is neither liable for the proper and complete transmission of the information contained in this communication, nor for any delay in its receipt.


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014071.html">[mod_python] How do I serve up .html files?
</A></li>
	<LI>Next message: <A HREF="014069.html">[mod_python] IPC, db conn sharing, and other fine things
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14068">[ date ]</a>
              <a href="thread.html#14068">[ thread ]</a>
              <a href="subject.html#14068">[ subject ]</a>
              <a href="author.html#14068">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
