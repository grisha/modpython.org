<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Cookies and redirect...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Cookies%20and%20redirect...&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002947.html">
   <LINK REL="Next"  HREF="002949.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Cookies and redirect...</H1>
    <B>David Fraser</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Cookies%20and%20redirect...&In-Reply-To="
       TITLE="[mod_python] Cookies and redirect...">davidf at sjsoft.com
       </A><BR>
    <I>Thu Aug 14 15:54:39 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="002947.html">[mod_python] YAQA mod_python and the missing _apache module
</A></li>
        <LI>Next message: <A HREF="002949.html">[mod_python] Cookies and redirect...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2948">[ date ]</a>
              <a href="thread.html#2948">[ thread ]</a>
              <a href="subject.html#2948">[ subject ]</a>
              <a href="author.html#2948">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

I came across the following problem and wondered if there was a workaround.
Basically I want to set a cookie in a certain directory, and at the same 
time issue a Redirect to another place.
So I wanted to do:
  req.headers_out.add('Set-Cookie', morsel.OutputString())
  req.headers_out.add('Location:', location)
  return apache.HTTP_MOVED_TEMPORARILY

However, I found that as soon as I return the HTTP_MOVED_TEMPORARILY, 
the Set-Cookie string seems to be removed from the headers going to the 
client (this was tested by using the livehttpheaders extension to Firebird).
I couldn't work out where in the code that was happening but suspect 
that it is standard Apache behaviour.
Is this because I'm not supposed to be allowed to do this, or is it odd?

(I have a workaround of having a page with a meta http-equiv=&quot;refresh&quot;, 
but wondered if there is a way to get it working as would like...)

Thanks
David


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002947.html">[mod_python] YAQA mod_python and the missing _apache module
</A></li>
	<LI>Next message: <A HREF="002949.html">[mod_python] Cookies and redirect...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2948">[ date ]</a>
              <a href="thread.html#2948">[ thread ]</a>
              <a href="subject.html#2948">[ subject ]</a>
              <a href="author.html#2948">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
