<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> /index.html wierdness was: RE: [mod_python] How do I serve up .html
	files?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=/index.html%20wierdness%20was%3A%20RE%3A%20%5Bmod_python%5D%20How%20do%20I%20serve%20up%20.html%0A%09files%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010384.html">
   <LINK REL="Next"  HREF="010378.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
<table border=0 width="100%"><tr><td valign="top">
   <H1>/index.html wierdness was: RE: [mod_python] How do I serve up .html
	files?</H1>
    <B>Michael C. Neel</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=/index.html%20wierdness%20was%3A%20RE%3A%20%5Bmod_python%5D%20How%20do%20I%20serve%20up%20.html%0A%09files%3F&In-Reply-To="
       TITLE="/index.html wierdness was: RE: [mod_python] How do I serve up .html
	files?">neel at mediapulse.com
       </A><BR>
    <I>Wed Aug 27 15:25:52 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="010384.html">[mod_python] Re: IPC, db conn sharing, and other fine things
</A></li>
        <LI>Next message: <A HREF="010378.html">[mod_python] 
 Newbie question: setting all calls to a certain directory to beprocessed
 by a script
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10376">[ date ]</a>
              <a href="thread.html#10376">[ thread ]</a>
              <a href="subject.html#10376">[ subject ]</a>
              <a href="author.html#10376">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've noticed this /index.html wierdness as well.  It seems (in 2.7.8 at
least) that unless there is a file in the document root called
index.html, mod_python is not called not matter if it's set in a
Location or Directory section.  I tested this with a simple:

def handler(req):
	assert 0, req.uri

With the conf of:

&lt;Location /&gt;
        SetHandler python-program
        PythonHandler www
&lt;/Location&gt;

and later with

&lt;Directory /home/httpd/webroot&gt;
        SetHandler python-program
        PythonHandler www
&lt;/Directory&gt;

And would always get a directory listing (or an error lising not allowed
page) for site.com/, but every other url tried would throw the assert
execption.  If I create an empty index.html file in the document root,
apache does its internal redirect and my assert get's picked up on the
redirect.  This is only needed for the root though, I do not need to
create the sub dirs or index.html pages in them.

Mike

&gt;<i> -----Original Message-----
</I>&gt;<i> From: Stian S&#248;iland [mailto:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">stian at soiland.no</A>] 
</I>&gt;<i> Sent: Wednesday, August 27, 2003 2:39 PM
</I>&gt;<i> To: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
</I>&gt;<i> Subject: Re: [mod_python] How do I serve up .html files?
</I>&gt;<i> 
</I>&gt;<i> Remember that even though you SetHandler to something, 
</I>&gt;<i> you'll also need to set DirectoryIndex to some EXISTING FILE. 
</I>&gt;<i> I did this
</I>&gt;<i> error as I included all python code in the pythonpath and had no files
</I>&gt;<i> in the actual path. I used SetHandler nav.web.devBrowser.dispatcher
</I>&gt;<i> in .htaccess for a blank directory.
</I>&gt;<i> 
</I>&gt;<i> Now, DirectoryIndex could not simply be index.html, as there were no
</I>&gt;<i> file index.html. I created a file &quot;index&quot; in the otherwise blank
</I>&gt;<i> directory, set DirectoryIndex to &quot;index&quot;, and everything worked.
</I>&gt;<i> 
</I>&gt;<i> If the file is removed, the blank directory listing is presented, but
</I>&gt;<i> other urls within the directory works.
</I>&gt;<i> 
</I>&gt;<i> (the handler receives the request as being to /index, and the file is
</I>&gt;<i> never actually read from disk due to SetHandler intercepting)
</I>&gt;<i> 
</I>&gt;<i> Now, some gurus might have a suggestion about getting rid of 
</I>&gt;<i> that empty
</I>&gt;<i> file. If so, please let me know! =)
</I>&gt;<i> 
</I>&gt;<i> 
</I>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010384.html">[mod_python] Re: IPC, db conn sharing, and other fine things
</A></li>
	<LI>Next message: <A HREF="010378.html">[mod_python] 
 Newbie question: setting all calls to a certain directory to beprocessed
 by a script
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10376">[ date ]</a>
              <a href="thread.html#10376">[ thread ]</a>
              <a href="subject.html#10376">[ subject ]</a>
              <a href="author.html#10376">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
