<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Child shutdowns?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Child%20shutdowns%3F&In-Reply-To=20030829164056.W56156%40onyx.ispol.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003030.html">
   <LINK REL="Next"  HREF="003031.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Child shutdowns?</H1>
    <B>Barry Warsaw</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Child%20shutdowns%3F&In-Reply-To=20030829164056.W56156%40onyx.ispol.com"
       TITLE="[mod_python] Child shutdowns?">barry at python.org
       </A><BR>
    <I>Fri Aug 29 17:47:20 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="003030.html">[mod_python] Child shutdowns?
</A></li>
        <LI>Next message: <A HREF="003031.html">[mod_python] Child shutdowns?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3029">[ date ]</a>
              <a href="thread.html#3029">[ thread ]</a>
              <a href="subject.html#3029">[ subject ]</a>
              <a href="author.html#3029">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, 2003-08-29 at 17:11, Gregory (Grisha) Trubetskoy wrote:
&gt;<i> Barry
</I>&gt;<i> 
</I>&gt;<i> If I remember this correctly, from the viewpoint of Apache, to create a
</I>&gt;<i> server object (or server_rec structure) you need to have a request,
</I>&gt;<i> because a server is created based on what the &quot;Host:&quot; header says (if it
</I>&gt;<i> is there at all) and by then going throught the config to see if there is
</I>&gt;<i> anything relevant. Once a server is created, it is cached and reused, but
</I>&gt;<i> it is not created at Apache startup (as an extreme example, mod_vhost
</I>&gt;<i> allows you to create an unlimited number of virtual servers without
</I>&gt;<i> specifying them in the config at all - so there is no way to know what the
</I>&gt;<i> server name is until a request for it comes in).
</I>&gt;<i> 
</I>&gt;<i> I don't know if Apache provides a way to do something at server creation
</I>&gt;<i> time, I'll check it out, but it's unlikely. For right now, the only way to
</I>&gt;<i> register a server cleanup is from within a request :-(
</I>
Thanks Grisha, both for the info and the offer to poke around.  I'll try
pushing my startup code into my request handler, and see if registering
my cleanup code at that time will work.

Cheers,
-Barry


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003030.html">[mod_python] Child shutdowns?
</A></li>
	<LI>Next message: <A HREF="003031.html">[mod_python] Child shutdowns?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3029">[ date ]</a>
              <a href="thread.html#3029">[ thread ]</a>
              <a href="subject.html#3029">[ subject ]</a>
              <a href="author.html#3029">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
