<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Mod python sys.stdin 
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Mod%20python%20sys.stdin%20&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003036.html">
   <LINK REL="Next"  HREF="003012.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Mod python sys.stdin </H1>
    <B>Mike Looijmans</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Mod%20python%20sys.stdin%20&In-Reply-To="
       TITLE="[mod_python] Mod python sys.stdin ">mike.looijmans at asml.com
       </A><BR>
    <I>Fri Aug 29 08:56:31 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="003036.html">[mod_python] ANNOUNCE: Mod_python 3.1.0 Alpha
</A></li>
        <LI>Next message: <A HREF="003012.html">[mod_python] 	Apache startup error using mod_python under Windows
	2000 (have	msvcr70.dll)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3005">[ date ]</a>
              <a href="thread.html#3005">[ thread ]</a>
              <a href="subject.html#3005">[ subject ]</a>
              <a href="author.html#3005">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Don't use publisher if you want to read the request (e.g. from a POST)
directly. Publisher will have eaten the whole request before calling your
function.

Use a standard &quot;handler&quot;, e.g. this (untested) one lets anyone POST a file
to the system in a cetain path, and report back how large it was and where
it was placed:

BUFSIZE=10240
SOMEBASEPATH = '/usr/local/uploads'

def handler(req):
    req.content_type = 'text/plain'
    destfilename = SOMEBASEPATH + req.path_info
    req.write('Writing: %s\n' % destfilename)
    dstfile = open(destfilename, 'wb')
    srcfile = req
    data = srcfile.read(BUFSIZE)
    c = 0
    while data:
        dstfile.write(data)
        c += len(data)
        data = srcfile.read(BUFSIZE)
    req.write('Wrote: %s bytes\n' % c)
    return apache.OK



-----Original Message-----
From: ktimm &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">ktimm at var-log.com</A>&gt;
To: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A> &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>&gt;
Date: Thursday, August 28, 2003 6:23 AM
Subject: [mod_python] Mod python sys.stdin


How do I get at sys.stdin with mod_python publisher. I know it's probably
something simple but I'm trying to convert an xml parser that was getting
though a cgi on sys.stdin and it keeps returning that there is no data to
parse.

Thanks
Kevin



-- 
The information contained in this communication and any attachments is confidential and may be privileged, and is for the sole use of the intended recipient(s). Any unauthorized review, use, disclosure or distribution is prohibited. If you are not the intended recipient, please notify the sender immediately by replying to this message and destroy all copies of this message and any attachments. ASML is neither liable for the proper and complete transmission of the information contained in this communication, nor for any delay in its receipt.


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003036.html">[mod_python] ANNOUNCE: Mod_python 3.1.0 Alpha
</A></li>
	<LI>Next message: <A HREF="003012.html">[mod_python] 	Apache startup error using mod_python under Windows
	2000 (have	msvcr70.dll)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3005">[ date ]</a>
              <a href="thread.html#3005">[ thread ]</a>
              <a href="subject.html#3005">[ subject ]</a>
              <a href="author.html#3005">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
