<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Authentication behaviour
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Authentication%20behaviour&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010313.html">
   <LINK REL="Next"  HREF="010315.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
<table border=0 width="100%"><tr><td valign="top">
   <H1>[mod_python] Authentication behaviour</H1>
    <B>Mike Looijmans</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Authentication%20behaviour&In-Reply-To="
       TITLE="[mod_python] Authentication behaviour">mike.looijmans at asml.com
       </A><BR>
    <I>Thu Aug  7 07:47:14 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="010313.html">[mod_python] Authentication behaviour
</A></li>
        <LI>Next message: <A HREF="010315.html">[mod_python] Authentication behaviour
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10314">[ date ]</a>
              <a href="thread.html#10314">[ thread ]</a>
              <a href="subject.html#10314">[ subject ]</a>
              <a href="author.html#10314">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I think in this case, you may want to consider the alternative, which is to
just provide a 'regular' request handler, and when authentication is
required but not given, just return a &quot;401 Unauthorized&quot; response with a
WWW-Authenticate header specifying the realm.

That will give the user a password popup and the browser will then retry the
same request. Note that for large POST request, this is wasting a lot of
bandwidth, as the first (and therefore unauthorized) POST request will be
completely rejected! It may be better to direct the user to a GET page first
to authenticate, and only after that page start doing the POST things.

Note that (unless the &quot;Digest&quot; authentication algorithm is used) the &quot;Basic&quot;
HTTP authentication is highly insecure and therefore you should never ever
use unix account data for this. Digest is only supported by IE and probably
the newer Mozilla's (haven't tried those, NS 6 did not support it).

I prefer using session cookies for authentication, since that is (if
implemented properly) more secure and allows the user to log out.

Mike.

-----Original Message-----
From: Conrad Steenberg &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">conrad at hep.caltech.edu</A>&gt;
To: ModPython mail list &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>&gt;
Date: Thursday, August 07, 2003 7:31 AM
Subject: [mod_python] Authentication behaviour


&gt;<i>Hi
</I>&gt;<i>
</I>&gt;<i>I have an authenhandler that basically ignores authentication headers
</I>&gt;<i>for GET requests, but requires them to be present for POST requests.
</I>&gt;<i>
</I>&gt;<i>With Apache 2.0.46 this worked fine with a setup like e.g.
</I>&gt;<i>&lt;Directory /opt/midir/&gt;
</I>&gt;<i>       SetHandler python-program
</I>&gt;<i>       AddHandler python-program .py
</I>&gt;<i>       PythonHandler my_handler
</I>&gt;<i>       PythonAuthenHandler my_handler
</I>&gt;<i>       AuthType Basic
</I>&gt;<i>       AuthName &quot;Restricted Area&quot;
</I>&gt;<i>&lt;/Directory&gt;
</I>&gt;<i>
</I>&gt;<i>In 2.0.47 the authenhandler doesn't get called unless I add
</I>&gt;<i>      require valid-user
</I>&gt;<i>to the above. But this makes browsers pop up a password dialog for
</I>&gt;<i>requests without authentication headers (GET requests in this case).
</I>&gt;<i>
</I>&gt;<i>Is there any way to make the browser not pop up the password dialog, but
</I>&gt;<i>still have the authenhandler called? I.e. where does the response get
</I>&gt;<i>generated that returns a &quot;authentication required&quot; value to the browser,
</I>&gt;<i>if not in the authenhandler?
</I>&gt;<i>
</I>&gt;<i>Any help appreciated!
</I>&gt;<i>
</I>&gt;<i>Conrad
</I>&gt;<i>
</I>&gt;<i>--
</I>&gt;<i>Conrad Steenberg &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">conrad at hep.caltech.edu</A>&gt;
</I>&gt;<i>--
</I>&gt;<i>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>Mod_python mailing list
</I>&gt;<i><A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i><A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010313.html">[mod_python] Authentication behaviour
</A></li>
	<LI>Next message: <A HREF="010315.html">[mod_python] Authentication behaviour
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10314">[ date ]</a>
              <a href="thread.html#10314">[ thread ]</a>
              <a href="subject.html#10314">[ subject ]</a>
              <a href="author.html#10314">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
