<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] getting Windows username (REMOTE_USER)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20getting%20Windows%20username%20%28REMOTE_USER%29&In-Reply-To=BAY124-W37C1CF531F3B5D548DED6D916B0%40phx.gbl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024558.html">
   <LINK REL="Next"  HREF="024561.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] getting Windows username (REMOTE_USER)</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20getting%20Windows%20username%20%28REMOTE_USER%29&In-Reply-To=BAY124-W37C1CF531F3B5D548DED6D916B0%40phx.gbl"
       TITLE="[mod_python] getting Windows username (REMOTE_USER)">graham.dumpleton at gmail.com
       </A><BR>
    <I>Sun Dec  9 21:42:36 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024558.html">[mod_python] getting Windows username (REMOTE_USER)
</A></li>
        <LI>Next message: <A HREF="024561.html">[mod_python] getting Windows username (REMOTE_USER)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24559">[ date ]</a>
              <a href="thread.html#24559">[ thread ]</a>
              <a href="subject.html#24559">[ subject ]</a>
              <a href="author.html#24559">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am not a Windows person, but as much as I understand it, I believe
you need mod_sspi installed and configured. See:

  <A HREF="http://sourceforge.net/projects/mod-auth-sspi/">http://sourceforge.net/projects/mod-auth-sspi/</A>
  <A HREF="http://www.gknw.net/docu/ntlmsspi/mod_auth_sspi/">http://www.gknw.net/docu/ntlmsspi/mod_auth_sspi/</A>

This should allow Apache authentication against a Windows domain to be
done transparently between IE and Apache without popup windows
requiring explicit password entry. In this circumstance, your client
machine user then should somehow be reflected in the req.user
attribute if mod_sspi does the right thing and sets it.

Graham

On 10/12/2007, Brett Dixon &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">drunkirishmic420 at hotmail.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> In my python handler Directory directive, i have the AuthTpye set to basic,
</I>&gt;<i> but thats about it.  I have tried &quot;ntlm&quot; but that hasnt done much.  Is there
</I>&gt;<i> a windows specific auth handler?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ________________________________
</I>&gt;<i> &gt; Date: Mon, 10 Dec 2007 07:04:52 +1100
</I>&gt;<i> &gt; From: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">graham.dumpleton at gmail.com</A>
</I>&gt;<i> &gt; To: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">drunkirishmic420 at hotmail.com</A>
</I>&gt;<i> &gt; Subject: Re: [mod_python] getting Windows username (REMOTE_USER)
</I>&gt;<i> &gt; CC: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mlopes at orangeway.org</A>; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; REMOTE_USER in PHP should be the same as req.user in mod_python.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The req.user attribute actually is 'user' attribute of internal Apache
</I>&gt;<i> &gt; request_rec structure. It is this value that is used to set
</I>&gt;<i> &gt; REMOTE_USER in CGI variable environments and presumably PHP.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This attribute isn't restricted to just HTTP Basic/Digest
</I>&gt;<i> &gt; authentication. Any authentication handler should be setting it
</I>&gt;<i> &gt; correctly, whether that be some special Windows specific
</I>&gt;<i> &gt; authentication mechanism or otherwise.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Do you have a Windows specific authentication handler enabled in your
</I>&gt;<i> &gt; Apache configuration?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Graham
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On 10/12/2007, Brett Dixon &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">drunkirishmic420 at hotmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; yes Marco, that is the user i am trying to retrieve. If it's not
</I>&gt;<i> possible
</I>&gt;<i> &gt; &gt; to get with apache/mod_python then its back to IIS i go :)
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Thanks guys
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; ________________________________
</I>&gt;<i> &gt; &gt; Date: Sun, 9 Dec 2007 12:55:01 +0000
</I>&gt;<i> &gt; &gt; From: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mlopes at orangeway.org</A>
</I>&gt;<i> &gt; &gt; To: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">graham.dumpleton at gmail.com</A>
</I>&gt;<i> &gt; &gt; Subject: Re: [mod_python] getting Windows username (REMOTE_USER)
</I>&gt;<i> &gt; &gt; CC: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">drunkirishmic420 at hotmail.com</A>; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; I'm guessing you're both talking about different things. I'm new to
</I>&gt;<i> &gt; &gt; mod_python but I'd say req.user is the HTTP user, the user given when
</I>&gt;<i> the
</I>&gt;<i> &gt; &gt; user is prompt for authentication by apache.
</I>&gt;<i> &gt; &gt; The &quot;user&quot; Brett is asking about is the username of the user logged in a
</I>&gt;<i> &gt; &gt; remote windows machine, wich I'd say he'd never be able to get cause the
</I>&gt;<i> &gt; &gt; client will never send it to the server side for security and privacy
</I>&gt;<i> &gt; &gt; reasons.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; On 12/9/07, Graham Dumpleton &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">graham.dumpleton at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; It should be set if an Apache authentication handler has actually
</I>&gt;<i> &gt; &gt; authorised a user. If it isn't being set, then the URL isn't being
</I>&gt;<i> &gt; &gt; authenticated or the authentication handler isn't compliant and doing
</I>&gt;<i> &gt; &gt; what is expected of an Apache authentication handler.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; What is the actual authentication handler you are using? What handler
</I>&gt;<i> &gt; &gt; phase are you trying to access this attribute?
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Please use reply-all to keep discussion on the mailing list.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Graham
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; On 09/12/2007, Brett Dixon &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">drunkirishmic420 at hotmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; i checked that one, but it is always None. Is there something in the
</I>&gt;<i> &gt; &gt; apache
</I>&gt;<i> &gt; &gt; &gt; config i need to set first?
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; ________________________________
</I>&gt;<i> &gt; &gt; &gt; &gt; Date: Sun, 9 Dec 2007 15:36:31 +1100
</I>&gt;<i> &gt; &gt; &gt; &gt; From: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">graham.dumpleton at gmail.com</A>
</I>&gt;<i> &gt; &gt; &gt; &gt; To: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">drunkirishmic420 at hotmail.com</A>
</I>&gt;<i> &gt; &gt; &gt; &gt; Subject: Re: [mod_python] getting Windows username (REMOTE_USER)
</I>&gt;<i> &gt; &gt; &gt; &gt; CC: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; Use:
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; req.user
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; Graham
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; On 09/12/2007, Brett Dixon &lt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">drunkirishmic420 at hotmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; I'm not sure if this is a mod_python specific question or if it
</I>&gt;<i> should
</I>&gt;<i> &gt; &gt; &gt; be
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; asked on the apache list. But is there any way to get the username
</I>&gt;<i> of
</I>&gt;<i> &gt; &gt; &gt; the
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; currently logged in user from Windows. In PHP you could just snag
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; REMOTE_USER or AUTH_USER. I guess I'm just not sure how to get
</I>&gt;<i> this
</I>&gt;<i> &gt; &gt; info
</I>&gt;<i> &gt; &gt; &gt; or
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; if i need to run another module in order for this information to
</I>&gt;<i> be
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; available.
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; Thanks
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; ________________________________
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; Get the power of Windows + Web with the new Windows Live. Power
</I>&gt;<i> up!
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; Mod_python mailing list
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; ________________________________
</I>&gt;<i> &gt; &gt; &gt; Share life as it happens with the new Windows Live. Share now!
</I>&gt;<i> &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; Mod_python mailing list
</I>&gt;<i> &gt; &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; ________________________________
</I>&gt;<i> &gt; &gt; Your smile counts. The more smiles you share, the more we donate. Join
</I>&gt;<i> in!
</I>&gt;<i>
</I>&gt;<i> ________________________________
</I>&gt;<i> Share life as it happens with the new Windows Live. Share now!
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024558.html">[mod_python] getting Windows username (REMOTE_USER)
</A></li>
	<LI>Next message: <A HREF="024561.html">[mod_python] getting Windows username (REMOTE_USER)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24559">[ date ]</a>
              <a href="thread.html#24559">[ thread ]</a>
              <a href="subject.html#24559">[ subject ]</a>
              <a href="author.html#24559">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
