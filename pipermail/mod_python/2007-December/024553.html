<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Distinguishing uploaded files from POST form data
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Distinguishing%20uploaded%20files%20from%20POST%20form%20data&In-Reply-To=a1119f280712082242h482b9cd0sdba8500137599903%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024551.html">
   <LINK REL="Next"  HREF="024556.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Distinguishing uploaded files from POST form data</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Bart</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Distinguishing%20uploaded%20files%20from%20POST%20form%20data&In-Reply-To=a1119f280712082242h482b9cd0sdba8500137599903%40mail.gmail.com"
       TITLE="[mod_python] Distinguishing uploaded files from POST form data">scarfboy at gmail.com
       </A><BR>
    <I>Sun Dec  9 08:45:35 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024551.html">[mod_python] Distinguishing uploaded files from POST form data
</A></li>
        <LI>Next message: <A HREF="024556.html">[mod_python] (no subject)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24553">[ date ]</a>
              <a href="thread.html#24553">[ thread ]</a>
              <a href="subject.html#24553">[ subject ]</a>
              <a href="author.html#24553">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>As I recall, files are just one type thing you can store in POST data.
The distinction is made in parsing, so yes, pretty much anything
makes that distinction.
PHP apparently chooses to put them in separate variables, while
(mod_)python doesn't, and you have to test what each member is
an instantiation of, mod_python.util.Field (a file) or StringField (a string).

You can likely imitate that for tests.
...though I get the impression I'm not answering the question you actually had.

--Bart


On Dec 9, 2007 7:42 AM, Michael M &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">tactics40 at gmail.com</A>&gt; wrote:
&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> I'm using mod_python for a project of mine. It's working very nicely, save a
</I>&gt;<i> few quirks.
</I>&gt;<i>
</I>&gt;<i> My question is how do you distinguish between regular form POST data and
</I>&gt;<i> uploaded files? In other words, I want to be able to take a FieldStorage
</I>&gt;<i> object and split it into something analogous to PHP's $_POST and $_FILES.
</I>&gt;<i> FieldStorage is a sloppy class which is tied way to closely to the
</I>&gt;<i> underlying implementation of HTTP. I was to abstract it so I can more easily
</I>&gt;<i> unittest my system (because mod_python absolutely hates being imported
</I>&gt;<i> outside of Apache). However, as far as I have been able to figure out,
</I>&gt;<i> there's no clear way to tell which is which. I can also imagine that maybe
</I>&gt;<i> PHP does a little black magic and the actual difference between uploaded
</I>&gt;<i> files and post data is fuzzier than Zend would have us all believe. If such
</I>&gt;<i> is the case, what would my best strategy be to try and make a good guess as
</I>&gt;<i> to when data is constitutes an uploaded file?
</I>&gt;<i>
</I>&gt;<i> Any help would be spectacular.
</I></PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024551.html">[mod_python] Distinguishing uploaded files from POST form data
</A></li>
	<LI>Next message: <A HREF="024556.html">[mod_python] (no subject)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24553">[ date ]</a>
              <a href="thread.html#24553">[ thread ]</a>
              <a href="subject.html#24553">[ subject ]</a>
              <a href="author.html#24553">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
