<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] mod_python / memcahced for on-the-fly
	renderingoflatex in html
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20/%20memcahced%20for%20on-the-fly%0A%09renderingoflatex%20in%20html&In-Reply-To=08AF9B44-8F1E-4651-BC9E-29A9EA2D59D3%40dscpl.com.au">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020835.html">
   <LINK REL="Next"  HREF="020836.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] mod_python / memcahced for on-the-fly
	renderingoflatex in html</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Jay</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20/%20memcahced%20for%20on-the-fly%0A%09renderingoflatex%20in%20html&In-Reply-To=08AF9B44-8F1E-4651-BC9E-29A9EA2D59D3%40dscpl.com.au"
       TITLE="[mod_python] mod_python / memcahced for on-the-fly
	renderingoflatex in html">jayed at meangrape.com
       </A><BR>
    <I>Mon Apr 10 08:58:25 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020835.html">[mod_python] mod_python / memcahced for on-the-fly
	renderingoflatex in html
</A></li>
        <LI>Next message: <A HREF="020836.html">[mod_python] Speaking of Output Filters....
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20837">[ date ]</a>
              <a href="thread.html#20837">[ thread ]</a>
              <a href="subject.html#20837">[ subject ]</a>
              <a href="author.html#20837">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Apr 10, 2006 at 08:01:43PM +1000, Graham Dumpleton wrote:
&gt;<i> I don't quite understand why req.set_content_length() wouldn't work as
</I>&gt;<i> long as it is called before the first call of filter.write(). After  
</I>&gt;<i> all, the
</I>&gt;<i> CONTENT_LENGTH filter works by doing the same thing. 
</I>
Actually, having tried it now, it seems to work.

&gt;<i> I would
</I>&gt;<i> highly recommend though that you upgrade to mod_python 3.2.8
</I>&gt;<i> if you are still using 3.1.2 as mentioned in your README.
</I>
It's on the list to do this week.

&gt;<i> Please let us know what you work out.
</I>
I can return the length and the data in both cases and it works fine.
	if not equations:
     		length = len(data)
     		return length, data

	if equations:
    		[...munge the parse-tree-object into a string...]
    		length = len(parse-tree-object-string)
    		return length, parse-tree-object-string

I can not return the length in both cases and not use the CONTENT_LENGTH
filter, and it works fine.
	if not equations:
		return data
	if equations:
		return munged-data

If I try to use the CONTENT_LENGTH filter and set the length manually,
it doesn't work.
	if not equations:
		return length, data
	if equations:
		return munged-data    (&lt;--- no length)

At this point, I no longer have the slightest clue what the code that
had the original problem looked like, and I'm too tired to dig around in
subversion to find it. Right now the problem looks to be fixed; I'll
keep poking at it to see how I can make it break if I find the time.

Thanks for all your help.

--
Jay.



</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020835.html">[mod_python] mod_python / memcahced for on-the-fly
	renderingoflatex in html
</A></li>
	<LI>Next message: <A HREF="020836.html">[mod_python] Speaking of Output Filters....
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20837">[ date ]</a>
              <a href="thread.html#20837">[ thread ]</a>
              <a href="subject.html#20837">[ subject ]</a>
              <a href="author.html#20837">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
