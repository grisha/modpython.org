<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Apache Configuration Help
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Apache%20Configuration%20Help&In-Reply-To=EE702CA684057843958BF6CE882E910102389B38%40cci019.hq.communityconnect.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020895.html">
   <LINK REL="Next"  HREF="020899.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Apache Configuration Help</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Jorey Bump</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Apache%20Configuration%20Help&In-Reply-To=EE702CA684057843958BF6CE882E910102389B38%40cci019.hq.communityconnect.com"
       TITLE="[mod_python] Apache Configuration Help">list at joreybump.com
       </A><BR>
    <I>Wed Apr 19 14:34:50 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020895.html">[mod_python] Apache Configuration Help
</A></li>
        <LI>Next message: <A HREF="020899.html">[mod_python] The new module loader
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20896">[ date ]</a>
              <a href="thread.html#20896">[ thread ]</a>
              <a href="subject.html#20896">[ subject ]</a>
              <a href="author.html#20896">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>David Worley wrote:
&gt;<i> I'm trying to get Apache to look up a couple directories for a python
</I>&gt;<i> script, so in my httpd.conf file I've added the following:
</I>&gt;<i> 
</I>&gt;<i> &lt;Directory 'C:\Program Files\Apache Group\Apache2\htdocs\mg\css'&gt;
</I>&gt;<i> 	AddHandler python-program .css
</I>&gt;<i> 	PythonHandler switch
</I>&gt;<i> 	PythonDebug On
</I>&gt;<i> &lt;/Directory&gt;
</I>&gt;<i> 
</I>&gt;<i> As far as I understand apache, this is saying any file in this directory
</I>&gt;<i> will be handled by the file &quot;switch.py&quot;.
</I>
No, it says that any request for a file ending in .css will be handled 
by a Python module named switch (using a function named 'handler' in the 
module).

&gt;<i> Now, what I need is for switch.py to be locate in the \htdocs\directory.
</I>
Not necessarily. It is sufficient for switch.py to be anywhere in your 
(meaning apache's) module search path. mod_python will attempt to 
prepend the specified directory to sys.path, but it is not always 
desirable to place your handler within your DocumentRoot (all of 
mod_python's supplied handlers are typically installed in site-packages 
and available to all users, for example).

&gt;<i> Does anyone know how to go about this?
</I>
Well, obviously, the easiest way is to save the file in the specified 
directory. :)

Whenever I write a handler, however, and don't want it available 
globally to all users on the system, I put it in a special directory 
outside of my DocumentRoot and prepend that directory to PythonPath:

PythonPath &quot;['/var/www/vhost/www.example.com/python'] + sys.path&quot;
&lt;Directory /var/www/vhost/www.example.com/website&gt;
   SetHandler python-program
   PythonHandler myhandler
&lt;/Directory&gt;

In this case, myhandler.py is in my virtual host's local python 
directory. Because I've used SetHandler, all files in the directory will 
be processed by the handler, regardless of extension. If you need to 
access other files in the directory without using mod_python, then use 
AddHandler as you did in your example.

Note that newer versions of mod_python support the use of 'mod_python' 
instead of the deprecated 'python-program' argument in (Add|Set)Handler 
directives.

</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020895.html">[mod_python] Apache Configuration Help
</A></li>
	<LI>Next message: <A HREF="020899.html">[mod_python] The new module loader
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20896">[ date ]</a>
              <a href="thread.html#20896">[ thread ]</a>
              <a href="subject.html#20896">[ subject ]</a>
              <a href="author.html#20896">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
