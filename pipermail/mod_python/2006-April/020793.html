<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] ValueError with Flash 8 FileReference.upload(url)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20ValueError%20with%20Flash%208%20FileReference.upload%28url%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020794.html">
   <LINK REL="Next"  HREF="020796.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] ValueError with Flash 8 FileReference.upload(url)</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Harold J. Ship</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20ValueError%20with%20Flash%208%20FileReference.upload%28url%29&In-Reply-To="
       TITLE="[mod_python] ValueError with Flash 8 FileReference.upload(url)">Harold at giant-steps-networks.com
       </A><BR>
    <I>Thu Apr  6 02:52:22 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020794.html">[mod_python] ValueError with Flash 8 FileReference.upload(url)
</A></li>
        <LI>Next message: <A HREF="020796.html">[mod_python] Apache + mod_python + SSLVerifyClient == broken url
	parsing?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20793">[ date ]</a>
              <a href="thread.html#20793">[ thread ]</a>
              <a href="subject.html#20793">[ subject ]</a>
              <a href="author.html#20793">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> 
Attached output.

LS0tLS0tLS0tLS0tYWUwZ0w2YWUwY0gyS003YWUwY0gySWo1ZWk0ZWk0DQpDb250ZW50LURp
c3Bv
c2l0aW9uOiBmb3JtLWRhdGE7IG5hbWU9IkZpbGVuYW1lIg0KDQpzYW1wbGUudHh0DQotLS0t
LS0t
LS0tLS1hZTBnTDZhZTBjSDJLTTdhZTBjSDJJajVlaTRlaTQNCkNvbnRlbnQtRGlzcG9zaXRp
b246
IGZvcm0tZGF0YTsgbmFtZT0iRmlsZWRhdGEiOyBmaWxlbmFtZT0ic2FtcGxlLnR4dCINCkNv
bnRl
bnQtVHlwZTogYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtDQoNClN0YXJ0IG9mIFNhbXBsZSBU
ZXh0
IEZpbGUgQ29udGVudHMNCkVuZCBvZiBTYW1wbGUgVGV4dCBGaWxlIENvbnRlbnRzDQoNCi0t
LS0t
LS0tLS0tLWFlMGdMNmFlMGNIMktNN2FlMGNIMklqNWVpNGVpNA0KQ29udGVudC1EaXNwb3Np
dGlv
bjogZm9ybS1kYXRhOyBuYW1lPSJVcGxvYWQiDQpTdWJtaXQgUXVlcnkNCi0tLS0tLS0tLS0t
LWFl
MGdMNmFlMGNIMktNN2FlMGNIMklqNWVpNGVpNA==


-----Original Message-----
From: Graham Dumpleton
Sent: Wednesday, April 05, 2006 11:57 PM
To: Harold J. Ship
Cc: Jim Gallacher; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
Subject: Re: [mod_python] ValueError with Flash 8
FileReference.upload(url)


If it isn't formatted per the standards for how multipart forms are
meant to be formatted, that it may be accepted on platform does not
matter as there are no guarantees it will be accepted on another.

Anyway, to settle this, capture your post data again using that handler,
but change the handler to:

from mod_python import apache
import base64

def handler(req):

     data = open(&quot;/some/path/post.dat&quot;, &quot;wb&quot;)
     data.write(base64.encodestring(req.read()))
     data.close()

     req.content_type = 'text/plain'
     req.write(&quot;Done&quot;)

     return apache.OK

By encoding it as base64 before being sent, we know for sure that
nothing about how it was written to file or dealt with by any mail
software will stuff up CR LF sequences and we can see exactly what was
received.

Graham

-------------- next part --------------
A non-text attachment was scrubbed...
Name: post.dat
Type: application/octet-stream
Size: 657 bytes
Desc: post.dat
Url : <A HREF="http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20060406/f98a7a3a/post.obj">http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20060406/f98a7a3a/post.obj</A>
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020794.html">[mod_python] ValueError with Flash 8 FileReference.upload(url)
</A></li>
	<LI>Next message: <A HREF="020796.html">[mod_python] Apache + mod_python + SSLVerifyClient == broken url
	parsing?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20793">[ date ]</a>
              <a href="thread.html#20793">[ thread ]</a>
              <a href="subject.html#20793">[ subject ]</a>
              <a href="author.html#20793">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
