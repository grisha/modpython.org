<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Distinguish http from https?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Distinguish%20http%20from%20https%3F&In-Reply-To=EA5A9E59-6ED1-4EB6-B22F-91E52FE6B178%40research.att.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020974.html">
   <LINK REL="Next"  HREF="020978.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Distinguish http from https?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Deron Meranda</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Distinguish%20http%20from%20https%3F&In-Reply-To=EA5A9E59-6ED1-4EB6-B22F-91E52FE6B178%40research.att.com"
       TITLE="[mod_python] Distinguish http from https?">deron.meranda at gmail.com
       </A><BR>
    <I>Tue Apr 25 12:49:40 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020974.html">[mod_python] Distinguish http from https?
</A></li>
        <LI>Next message: <A HREF="020978.html">[mod_python] Distinguish http from https?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20975">[ date ]</a>
              <a href="thread.html#20975">[ thread ]</a>
              <a href="subject.html#20975">[ subject ]</a>
              <a href="author.html#20975">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 4/25/06, Glenn Hochberg &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">gah at research.att.com</A>&gt; wrote:
&gt;<i> One (admittedly somewhat klugey) solution is to add:
</I>&gt;<i>         PythonOption ssl on
</I>&gt;<i> to your ssl VirtualHost container (i.e. typically in ssl.conf), and
</I>&gt;<i> then test for this option in your mod_python code, e.g.:
</I>&gt;<i>
</I>&gt;<i>      url = '<A HREF="http://'">http://'</A>
</I>&gt;<i>      if req.get_options().has_key('ssl'):  url = '<A HREF="https://'">https://'</A>
</I>&gt;<i>
</I>&gt;<i> This is what I've been using for some time, but it's great to know
</I>&gt;<i> that something less config-intrusive will be available in future.
</I>
I think you probably meant to put a == 'on' in the if test,
otherwise somebody may be tempted to change the config to
read &quot;off&quot;, thinking it would toggle your behavior.

Just to be clear though, that is not a good test for security, which
is what I think the original poster was after--to determine whether or
not the current HTTP connection was tunneled through TLS or SSL.

You can of course use the Apache SSLRequireSSL directive
in your VirtualHost section to enforce SSL only, in which case
then in combination with your PythonOption, it will work as a
quick solution.
--
Deron Meranda

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020974.html">[mod_python] Distinguish http from https?
</A></li>
	<LI>Next message: <A HREF="020978.html">[mod_python] Distinguish http from https?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20975">[ date ]</a>
              <a href="thread.html#20975">[ thread ]</a>
              <a href="subject.html#20975">[ subject ]</a>
              <a href="author.html#20975">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
