<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] The new module loader
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20The%20new%20module%20loader&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020896.html">
   <LINK REL="Next"  HREF="020900.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] The new module loader</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Dan Eloff</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20The%20new%20module%20loader&In-Reply-To="
       TITLE="[mod_python] The new module loader">dan.eloff at gmail.com
       </A><BR>
    <I>Wed Apr 19 18:06:30 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020896.html">[mod_python] Apache Configuration Help
</A></li>
        <LI>Next message: <A HREF="020900.html">[mod_python] The new module loader
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20899">[ date ]</a>
              <a href="thread.html#20899">[ thread ]</a>
              <a href="subject.html#20899">[ subject ]</a>
              <a href="author.html#20899">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I went digging through the mod_python files and discovered how the new
publisher loader works (using ModuleCache) and I borrowed the idea to import
modules for my handler.

The purpose of ModuleCache was to avoid sys.modules right?

I'm having some trouble with this, and I eventually tracked it down to
multiple versions of a dependancy module being loaded.

My handler loads one version, with empty module variables, while the actual
modules for the pages load different version(s) and populate them with data.
The changes are never reflected in the version kept by my handler (because
they are not the same)

This all makes sense, and is probably the intended effect, but what do you
do for modules like Session in mod_python, where MemorySession uses a static
class member to store sessions? Wouldn't the page modules each get their own
version and thusly prevent sessions from working?

I need to be able to reload modified modules, but also to make use of shared
modules. These seem to be conflicting needs, however. Does anybody have any
inisght into this situation that they can share?

Thanks,
-Dan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20060419/f689f234/attachment.html">http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20060419/f689f234/attachment.html</A>
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020896.html">[mod_python] Apache Configuration Help
</A></li>
	<LI>Next message: <A HREF="020900.html">[mod_python] The new module loader
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20899">[ date ]</a>
              <a href="thread.html#20899">[ thread ]</a>
              <a href="subject.html#20899">[ subject ]</a>
              <a href="author.html#20899">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
