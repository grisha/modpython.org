<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Example of session management using redirects.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Example%20of%20session%20management%20using%20redirects.&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021173.html">
   <LINK REL="Next"  HREF="021177.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Example of session management using redirects.</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Example%20of%20session%20management%20using%20redirects.&In-Reply-To="
       TITLE="[mod_python] Example of session management using redirects.">grahamd at dscpl.com.au
       </A><BR>
    <I>Sat May 20 06:33:03 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021173.html">[mod_python] Need help testing mod_python?
</A></li>
        <LI>Next message: <A HREF="021177.html">[mod_python] Example of session management using redirects.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21172">[ date ]</a>
              <a href="thread.html#21172">[ thread ]</a>
              <a href="subject.html#21172">[ subject ]</a>
              <a href="author.html#21172">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>As I said I might, am posting here (as attachment) some code of my own
which does session management with form based login. In this case, it
is using a multitude of redirects to do part of what it needs to do.

This code is probably going to be a bit different to what you have  
probably
seen before. This is because it will only work with mod_python 3.3 from
trunk of source code repository. This is the case as it is using  
specific
features of this new version of mod_python to allow it to be implemented
as an authenhandler.

Note that this code is very much an experiment in progress to allow me
to try out ideas and workarounds for some mod_python problems. I
don't guarantee that it will always work especially as I hadn't touched
it for a while and had to quickly fix a few things. Someone may find  
it of
interest though.

Anyway, by virtue of it being implemented as an authenhandler, the  
code can
technically perform authentication for files being served up as  
static files or
by mod_python, or even other Apache modules such as PHP or mod_perl.
Thus, it is a general purpose session based login mechanism.

As far as the login page goes, it can be implemented as static HTML, as
a PSP page, using mod_python.publisher, or again using some other
system such as PHP or mod_perl.

To specify whether files are public or private, you do stuff like the  
following
in your Apache configuration file:

   # Enable our session manager as primary means of
   # performing authentication. Specify that all files in
   # the directory are 'Private' by default and therefore
   # require user to have successfully logged in.

   AuthType Session
   AuthName Private

   # Ensure that the login page is publically accessible.
   # This must be done else they will not get opportunity
   # to login in the first place.

   &lt;Files login.html&gt;
   AuthName Public
   &lt;/Files&gt;

   # Now specify other files which don't actually require
   # the user to have logged in. This might for example be
   # the main index page. The empty case is intentional as
   # that ensures that access to the directory itself will
   # work, with the request actually being redirected
   # internally to the publically accessible index file.

   &lt;Files ~ '^(|index.html)$'&gt;
   AuthName Public
   &lt;/Files&gt;

Wish you all fun trying to understand it. :-)

If you do have questions, you better be quick, as am about to go on  
holidays.

Graham

-------------- next part --------------
A non-text attachment was scrubbed...
Name: sessionmanager.tar.gz
Type: application/x-gzip
Size: 6380 bytes
Desc: not available
Url : <A HREF="http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20060520/813620d0/sessionmanager.tar.gz">http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20060520/813620d0/sessionmanager.tar.gz</A>
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021173.html">[mod_python] Need help testing mod_python?
</A></li>
	<LI>Next message: <A HREF="021177.html">[mod_python] Example of session management using redirects.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21172">[ date ]</a>
              <a href="thread.html#21172">[ thread ]</a>
              <a href="subject.html#21172">[ subject ]</a>
              <a href="author.html#21172">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
