<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Graham's New Importer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Graham%27s%20New%20Importer&In-Reply-To=1147152154.26950%40dscpl.user.openhosting.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021075.html">
   <LINK REL="Next"  HREF="021076.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Graham's New Importer</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Dan Eloff</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Graham%27s%20New%20Importer&In-Reply-To=1147152154.26950%40dscpl.user.openhosting.com"
       TITLE="[mod_python] Graham's New Importer">dan.eloff at gmail.com
       </A><BR>
    <I>Tue May  9 11:40:50 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021075.html">[mod_python] Graham's New Importer
</A></li>
        <LI>Next message: <A HREF="021076.html">[mod_python] publisher + cheetah 
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21078">[ date ]</a>
              <a href="thread.html#21078">[ thread ]</a>
              <a href="subject.html#21078">[ subject ]</a>
              <a href="author.html#21078">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I think probably just:

PythonOption importer.path &quot;C:\Documents And Settings\...&quot; &quot;another path&quot;

I'm not sure the syntax allows for that, but something along those
lines is the idea. None of those paths should be on sys.path.

You shouldn't be able to specify this more than once for each python
interpreter. I don't know how to enforce that, but it would prevent
any wierdness with the same module being imported under different
circumstances in the same interpreter.

The paths should be used for all importing done by that interpreter,
and should be added to sys.path temporarily if you fallback to
python's import so that those modules can still be found.

There's probably some problems with all this, but I don't think
anything insurmountable, and you're no doubt familiar enough with the
system to spot the trouble before we start.

-Dan



On 5/8/06, Graham Dumpleton &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">grahamd at dscpl.com.au</A>&gt; wrote:
&gt;<i> Dan Eloff wrote ..
</I>&gt;<i> &gt; Hey Graham, I've been using your new module importer and it works like
</I>&gt;<i> &gt; a charm. I haven't had a single problem with it. Thanks!
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I would like to discuss having a general search path, and being able
</I>&gt;<i> &gt; to add directories to it. While I understand the reasons you have (and
</I>&gt;<i> &gt; they are valid, good reasons) for not wanting to do this, there are
</I>&gt;<i> &gt; also good reasons to have the ability. Right now, so I don't have to
</I>&gt;<i> &gt; stick the absolute path to pyserver components in every file, I've
</I>&gt;<i> &gt; moved pyserver to site-packages, giving up the reload ability. It also
</I>&gt;<i> &gt; prevents me from using the debugger without restarting the server. I
</I>&gt;<i> &gt; also find that I have some common includes off sys.path and I've sunk
</I>&gt;<i> &gt; to placing the absolute path in an extraneous module and importing
</I>&gt;<i> &gt; that whenever I need to import these common files so as to avoid
</I>&gt;<i> &gt; sticking the path everywhere. It's less than ideal. I think it would
</I>&gt;<i> &gt; really be a nice touch to be able to choose which behaviour you want.
</I>&gt;<i> &gt; Just add a PythonOption called search_path or import_path or
</I>&gt;<i> &gt; something, and if given the directories listed get added to the search
</I>&gt;<i> &gt; path for all importing needs.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; If you're not interested I'll add this, but I would want your
</I>&gt;<i> &gt; permission first before I go messing with your code.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; That aside, don't let my suggestion for improvement detract in any way
</I>&gt;<i> &gt; from your importer, it's really a great piece of work.
</I>&gt;<i>
</I>&gt;<i> This discussion should perhaps be on the developers mailing list, here
</I>&gt;<i> will do for the moment though.
</I>&gt;<i>
</I>&gt;<i> Now, before you contemplate making any code changes, just outline at a
</I>&gt;<i> high level what options/directives you have in mind should be added and
</I>&gt;<i> what defining them should cause to happen.
</I>&gt;<i>
</I>&gt;<i> In the mean time, I'll have to go back and read what I rambled on about
</I>&gt;<i> last time as I forget. I don't think though that I revealed everything you
</I>&gt;<i> could do and although some of the stuff I didn't mention may not be
</I>&gt;<i> directly useful, it may well form basis of implementing such stuff.
</I>&gt;<i>
</I>&gt;<i> Will be interested to here how you think such global search paths should
</I>&gt;<i> work. After all, you are probably the first to try and seriously use the
</I>&gt;<i> new importer in the new ways that it can be used.
</I>&gt;<i>
</I>&gt;<i> Anyway, will see what you have to say and make comments if appropriate.
</I>&gt;<i>
</I>&gt;<i> Graham
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021075.html">[mod_python] Graham's New Importer
</A></li>
	<LI>Next message: <A HREF="021076.html">[mod_python] publisher + cheetah 
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21078">[ date ]</a>
              <a href="thread.html#21078">[ thread ]</a>
              <a href="subject.html#21078">[ subject ]</a>
              <a href="author.html#21078">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
