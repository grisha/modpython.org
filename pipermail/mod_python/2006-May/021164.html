<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Custom Login with redirection back to referer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Custom%20Login%20with%20redirection%20back%20to%20referer&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021159.html">
   <LINK REL="Next"  HREF="021165.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Custom Login with redirection back to referer</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Geoff Skerrett</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Custom%20Login%20with%20redirection%20back%20to%20referer&In-Reply-To="
       TITLE="[mod_python] Custom Login with redirection back to referer">geoff at teammsa.com
       </A><BR>
    <I>Fri May 19 14:57:37 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021159.html">[mod_python] more psp and publisher questions
</A></li>
        <LI>Next message: <A HREF="021165.html">[mod_python] Custom Login with redirection back to referer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21164">[ date ]</a>
              <a href="thread.html#21164">[ thread ]</a>
              <a href="subject.html#21164">[ subject ]</a>
              <a href="author.html#21164">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am hoping someone can get me back on track and point me in thr right
direction.
 
I want to create a process where if the user requests a page they are not
authorized for then;
1) a custom logon form is displayed
2) the users submits and it is processed verifying against a database if the
user is valid
3) as part of the processing a session is created 
4) the session stores the some data  (userid, name, lastip, etc)
5) when complete the system redirects the user to the original page (ie the
referrer for the login)
 
I have a test case working and using the util.redirect function.  Everything
works fine, but the referred page is processed, it gets a new session so the
variables I have stored during the login page process aren't available to
the refered page.
 
What am I missing? What is the best strategy for storing the session
variables and dealing with this type of process ?
 
I am using the mp.publisher Apache/2.0.54 (Win32) mod_python/3.2.8
Python/2.4.1 Server
Geoff.
 


</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021159.html">[mod_python] more psp and publisher questions
</A></li>
	<LI>Next message: <A HREF="021165.html">[mod_python] Custom Login with redirection back to referer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21164">[ date ]</a>
              <a href="thread.html#21164">[ thread ]</a>
              <a href="subject.html#21164">[ subject ]</a>
              <a href="author.html#21164">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
