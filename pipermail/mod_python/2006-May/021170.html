<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Custom Login with redirection back to referer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Custom%20Login%20with%20redirection%20back%20to%20referer&In-Reply-To=F31F70F0-9C12-472B-A420-4FE70023CEB7%40dscpl.com.au">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021169.html">
   <LINK REL="Next"  HREF="021171.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Custom Login with redirection back to referer</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Deron Meranda</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Custom%20Login%20with%20redirection%20back%20to%20referer&In-Reply-To=F31F70F0-9C12-472B-A420-4FE70023CEB7%40dscpl.com.au"
       TITLE="[mod_python] Custom Login with redirection back to referer">deron.meranda at gmail.com
       </A><BR>
    <I>Sat May 20 02:38:10 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021169.html">[mod_python] Custom Login with redirection back to referer
</A></li>
        <LI>Next message: <A HREF="021171.html">[mod_python] Custom Login with redirection back to referer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21170">[ date ]</a>
              <a href="thread.html#21170">[ thread ]</a>
              <a href="subject.html#21170">[ subject ]</a>
              <a href="author.html#21170">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 5/20/06, Graham Dumpleton &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">grahamd at dscpl.com.au</A>&gt; wrote:
&gt;<i> The HTTP specification actually says for 307 (Temporary Redirection),
</I>&gt;<i> which is what one would want to use:
</I>
Yes, that works too and is quite common, although be aware that
most older browsers don't understand a 307.  So put a link
on the redirecting HTML page as well.  I'd stay away from a
302 though because it's semantics are more ambiguous.

I still prefer to send back a 401 or 403 as the semantics are
much more explicit as to what is happening (the user
doesn't have permissions to view the page).  This may be
important if you want to adhere to a REST design.  Also,
unlike redirects of various flavors, a 40x won't confuse any
spiders crawling your site (whether a public search engine,
or your own indexer, or perhaps even a site mirror-er).
Other rare edge cases could also occur with redirects, such
as a user doing a &quot;save target as&quot; where the link is to a URL
requiring login first.  Rather than seeing an error message, the
user may later find that the file they saved was actually the
HTML source to your login page.

This is mostly academic of course, but the intended purpose of
a 30x redirect is to say that the resource (or equivalent) which was
supposed to be at URL A can instead be found at URL B.  But in
this scenario that's not what you're doing.  URL A is simply not
accessible because of permissions, and URL B is a completely
different resource---the login page.

But do what you want.  Many/most sites use 30x.  The main
disadvantages of the 40x codes is that there is no auto
reloading; and that can often be more important than having
the precisely correct semantics.  With a 40x, the user will have
to click on a link on the error page to get to the login page.
But then again, depending on your usability philosophy, that
may be more desirable.  Seeing an error page saying you
need to login before your can view the page may be less of
a surprise then just seeing a login form when you expected
something else, with no explanation why.


&gt;<i> ... and may be even better for the login handler to
</I>&gt;<i> only work with POST requests and disallow GET requests.
</I>
Restricting the method to POST on a login is also good for security.
-- 
Deron Meranda

</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021169.html">[mod_python] Custom Login with redirection back to referer
</A></li>
	<LI>Next message: <A HREF="021171.html">[mod_python] Custom Login with redirection back to referer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21170">[ date ]</a>
              <a href="thread.html#21170">[ thread ]</a>
              <a href="subject.html#21170">[ subject ]</a>
              <a href="author.html#21170">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
