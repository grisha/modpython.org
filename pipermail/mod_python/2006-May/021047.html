<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] MemorySession and httpd processes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20MemorySession%20and%20httpd%20processes&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021062.html">
   <LINK REL="Next"  HREF="021048.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] MemorySession and httpd processes</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Alexis Marrero</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20MemorySession%20and%20httpd%20processes&In-Reply-To="
       TITLE="[mod_python] MemorySession and httpd processes">amarrero at mitre.org
       </A><BR>
    <I>Fri May  5 19:32:51 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021062.html">[mod_python] mod_python.servlet: DBNoMemoryError
</A></li>
        <LI>Next message: <A HREF="021048.html">[mod_python] MemorySession and httpd processes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21047">[ date ]</a>
              <a href="thread.html#21047">[ thread ]</a>
              <a href="subject.html#21047">[ subject ]</a>
              <a href="author.html#21047">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Is there anyway that I can use mod_python.Session.MemorySession  
through the different httpd processes? I guess that the answer is no,  
but I wanted to check.

I have a process that post data multiple times, one session.

The problems that I'm having is that httpd instantiate multiple  
servers by the ServerLimit in hte worker.c module.  Every time apache  
switches process for handling one of the requests for the requests  
mod_python believe that the session is not longer valid and creates a  
new one.

I had to change my httpd.conf to look like this:

###### httpd conf

# worker MPM
# StartServers: initial number of server processes to start
# MaxClients: maximum number of simultaneous client connections
# MinSpareThreads: minimum number of worker threads which are kept spare
# MaxSpareThreads: maximum number of worker threads which are kept spare
# ThreadsPerChild: constant number of worker threads in each server  
process
# MaxRequestsPerChild: maximum number of requests a server process  
serves
&lt;IfModule worker.c&gt;
ServerLimit          1
StartServers         1
MaxClients          25
MinSpareThreads     25
MaxSpareThreads     75
ThreadsPerChild     25
MaxRequestsPerChild  0
&lt;/IfModule&gt;

#######

In order to force apache to use the same process so the session can  
be share my multiple threads under the same process.

But as you can see this limits my number of Process to 1!

Is there any other more efficient way.

Note that the one of the objects that I need to save in the session  
CANNOT be pickled.

Thanks for any pointers,
/amn
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021062.html">[mod_python] mod_python.servlet: DBNoMemoryError
</A></li>
	<LI>Next message: <A HREF="021048.html">[mod_python] MemorySession and httpd processes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21047">[ date ]</a>
              <a href="thread.html#21047">[ thread ]</a>
              <a href="subject.html#21047">[ subject ]</a>
              <a href="author.html#21047">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
