<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] conditions for a 404
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20conditions%20for%20a%20404&In-Reply-To=20060525212840.GE9617%40asu.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021253.html">
   <LINK REL="Next"  HREF="021256.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] conditions for a 404</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Jorey Bump</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20conditions%20for%20a%20404&In-Reply-To=20060525212840.GE9617%40asu.edu"
       TITLE="[mod_python] conditions for a 404">list at joreybump.com
       </A><BR>
    <I>Thu May 25 20:54:17 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021253.html">[mod_python] conditions for a 404
</A></li>
        <LI>Next message: <A HREF="021256.html">[mod_python] [SPAM] Problem installing on Apache 1.3.34/Win32 -
	&quot;make_obcallback returned no obCallBack!&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21255">[ date ]</a>
              <a href="thread.html#21255">[ thread ]</a>
              <a href="subject.html#21255">[ subject ]</a>
              <a href="author.html#21255">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>David Bear wrote:

&gt;&gt;<i> def index(req):
</I>&gt;&gt;<i>     return &quot;\n&quot;.join([&quot;object name is %s &quot; % (i,) for i in dir(req)])
</I>
Did you try this? It's very simple and should work.

&gt;<i> I attempted a reformulation
</I>&gt;<i> of my original script. It still generates the 404 error.
</I>
How did you access it? Show the URL you used. If you are using 
AddHandler, try:

  <A HREF="http://host/directory/tddb.py/index">http://host/directory/tddb.py/index</A>

Remember to include the directory. Your original post did not, and your 
other message indicated that you have the module in a directory called 
test. This would rightly return a 404 error.

&gt;<i> from mod_python import session
</I>&gt;<i> 
</I>&gt;<i> page1 = '''
</I>&gt;<i> &lt;html&gt;
</I>&gt;<i>  &lt;head&gt;
</I>&gt;<i>   &lt;title&gt;page 1 &lt;/title&gt;
</I>&gt;<i>  &lt;/head&gt;
</I>&gt;<i>  &lt;body&gt;
</I>&gt;<i>   this is page 1 boo
</I>&gt;<i>  &lt;/body&gt;
</I>&gt;<i> &lt;/html&gt; 
</I>&gt;<i> '''
</I>&gt;<i> 
</I>&gt;<i> def index(req):
</I>&gt;<i>   return page1
</I>&gt;<i> 
</I>&gt;<i> def info(req):
</I>&gt;<i>   res = []
</I>&gt;<i>   thereq = dir(req)
</I>&gt;<i>   for i in thereq:
</I>&gt;<i>     res.append(i)
</I>&gt;<i>   return(&quot;%s &quot; % res)
</I>
If your module needs reworking, you'll know it from the debug output. 
But you're not there yet, and I fear you're troubleshooting in the wrong 
place. A 404 error is a simple thing to correct, although Publisher can 
introduce quirks that may have us chasing a red herring. You need to get 
output from your published module, so create one that is really simple 
and get it to work:

def eggs():
     return &quot;eggs&quot;

Create this as spam.py in the directory you have mod_python.publisher 
configured as the handler (we'll assume it's called test) and access 
like this:

  <A HREF="http://host/test/spam.py/eggs">http://host/test/spam.py/eggs</A>

Get that to work, and the rest will come easily.

&gt;<i> this is good advice. However, the best example code available at
</I>&gt;<i> modpython.org is at  <A HREF="http://modpython.org/examples/">http://modpython.org/examples/</A> using publisher
</I>&gt;<i> and psp.  I would love more example code to learn from. But it seem
</I>&gt;<i> rather scarce. There are no books at amazon about modpython. googling
</I>&gt;<i> for it almost always yields pages that use addons like vampire,
</I>&gt;<i> django, or other templating systems.
</I>&gt;<i> 
</I>&gt;<i> Any good sources for information on publisher?
</I>
A good book on Publisher would be only a few pages long. Examples are 
scarce because mod_python is extremely flexible, allowing programmers to 
write code according to their own style. I write Python apps in an 
almost purely functional style, for example, and that wouldn't appeal to 
someone who prefers an object oriented approach. I've also created my 
own templating and utility libraries, so my code wouldn't make much 
sense without access to those. But that's just a testament to how 
productive you can be, as soon as you understand mod_python enough to 
leverage the power of Python, which is it's primary focus. Take it 
slowly, read the short manual a few times, and keep a good Python 
reference at hand.


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021253.html">[mod_python] conditions for a 404
</A></li>
	<LI>Next message: <A HREF="021256.html">[mod_python] [SPAM] Problem installing on Apache 1.3.34/Win32 -
	&quot;make_obcallback returned no obCallBack!&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21255">[ date ]</a>
              <a href="thread.html#21255">[ thread ]</a>
              <a href="subject.html#21255">[ subject ]</a>
              <a href="author.html#21255">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
