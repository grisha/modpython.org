<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Session Management, Straight Answer?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Session%20Management%2C%20Straight%20Answer%3F&In-Reply-To=200605171014.3919%40centrum.cz">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021130.html">
   <LINK REL="Next"  HREF="021148.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Session Management, Straight Answer?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Session%20Management%2C%20Straight%20Answer%3F&In-Reply-To=200605171014.3919%40centrum.cz"
       TITLE="[mod_python] Session Management, Straight Answer?">grahamd at dscpl.com.au
       </A><BR>
    <I>Wed May 17 06:37:38 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021130.html">[mod_python] Session Management, Straight Answer?
</A></li>
        <LI>Next message: <A HREF="021148.html">[mod_python] Session Management, Straight Answer?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21131">[ date ]</a>
              <a href="thread.html#21131">[ thread ]</a>
              <a href="subject.html#21131">[ subject ]</a>
              <a href="author.html#21131">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm not sure you actually need the load() and delete() calls. The load 
() is
called from the constructor and the delete() from invalidate().

The session timeout is specified as seconds. Do you really mean to  
have it
be 30 seconds? The default timeout is 30 minutes.

If you are using mod_python 3.2.7 or later and are using PSP in  
conjunction
with publisher, set req.session to your session object and PSP will  
automatically
use it rather than create its own when &quot;session&quot; attribute is  
accessed in a page.
That way you can still access it from the PSP page.

At a quick glance, am bit concerned about whether it is is robust as  
a whole,
but don't have access to my own code at present and don't have time to
play with your code.

FWIW, I don't do my session creation management from the content handler
but in an earlier phase with the session object being left in  
req.session. This
way the session management will work no matter whether you are using PSP
pages, publisher, a mix of these or even custom handlers. Thus the  
session
management becomes a reusable unit in itself. Can't remember though  
whether
I was dependent on features specifically in mod_python 3.3 though.

Graham


On 17/05/2006, at 6:14 PM, .: smilelover :. wrote:

&gt;<i> I also struggled a lot to understand the sessions stuff and now I  
</I>&gt;<i> use sessions this way:
</I>&gt;<i>
</I>&gt;<i> in index I enter login and pass in a form and send it to  
</I>&gt;<i> check_login, which checks the login data and if correct, creates a  
</I>&gt;<i> session object, fills it with the data I need it to bear, sets  
</I>&gt;<i> timeout and saves it. On the check_login page there is a link that  
</I>&gt;<i> points to  &quot;section&quot; (some imaginary section, as if in some admin  
</I>&gt;<i> pass-protected area). In the section, I create another session  
</I>&gt;<i> object, but the first thing I do with it is sess.load(), which  
</I>&gt;<i> loads the data of the previously saved session. And thats it.
</I>&gt;<i>
</I>&gt;<i> I attached the code and templates (I use publisher) + .htaccess  
</I>&gt;<i> file. It should work for you.
</I>&gt;<i> With regular PSP it's probably different, as Graham wrote.
</I>&gt;<i>
</I>&gt;<i> This is the way I use it and it is quite possible it is some  
</I>&gt;<i> deprecated way. I don't know :) If anyone of you knows there are  
</I>&gt;<i> some serious mistakes in the way I use sessions, don't hesitate and  
</I>&gt;<i> post it here.
</I>&gt;<i> Thx.
</I>&gt;<i>
</I>&gt;<i> Dan
</I>&gt;<i> ______________________________________________________________
</I>&gt;&gt;<i> Od: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">max_lynch at sbcglobal.net</A>
</I>&gt;&gt;<i> Komu:  <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
</I>&gt;&gt;<i> CC:
</I>&gt;&gt;<i> Datum: 16.05.2006 06:08
</I>&gt;&gt;<i> P&#345;edm&#283;t: [mod_python] Session Management, Straight Answer?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  I have looked at many of the session management posts on the  
</I>&gt;&gt;<i> list, but I
</I>&gt;&gt;<i> am looking for a straightforward answer on how to make session data
</I>&gt;&gt;<i> persist through different pages.  I have seen examples on using
</I>&gt;&gt;<i> cookies/etc., but I would like a formal answer as it seems many  
</I>&gt;&gt;<i> people are
</I>&gt;&gt;<i> also stuck on this (I might post my experiences with mod_python on  
</I>&gt;&gt;<i> a site
</I>&gt;&gt;<i> as first-hand documentation, so that could help).  Also, I am  
</I>&gt;&gt;<i> using psp,
</I>&gt;&gt;<i> not the publisher stuff.  Love mod_python so far though, just a  
</I>&gt;&gt;<i> little
</I>&gt;&gt;<i> stuck!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks,
</I>&gt;&gt;<i> Max Lynch
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mod_python mailing list
</I>&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &lt;session.zip&gt;
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021130.html">[mod_python] Session Management, Straight Answer?
</A></li>
	<LI>Next message: <A HREF="021148.html">[mod_python] Session Management, Straight Answer?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21131">[ date ]</a>
              <a href="thread.html#21131">[ thread ]</a>
              <a href="subject.html#21131">[ subject ]</a>
              <a href="author.html#21131">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
