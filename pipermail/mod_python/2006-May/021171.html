<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Custom Login with redirection back to referer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Custom%20Login%20with%20redirection%20back%20to%20referer&In-Reply-To=5c06fa770605192338v20c640e6r81f8830cb1539ffa%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021170.html">
   <LINK REL="Next"  HREF="021174.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Custom Login with redirection back to referer</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Custom%20Login%20with%20redirection%20back%20to%20referer&In-Reply-To=5c06fa770605192338v20c640e6r81f8830cb1539ffa%40mail.gmail.com"
       TITLE="[mod_python] Custom Login with redirection back to referer">grahamd at dscpl.com.au
       </A><BR>
    <I>Sat May 20 03:40:30 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021170.html">[mod_python] Custom Login with redirection back to referer
</A></li>
        <LI>Next message: <A HREF="021174.html">[mod_python] Custom Login with redirection back to referer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21171">[ date ]</a>
              <a href="thread.html#21171">[ thread ]</a>
              <a href="subject.html#21171">[ subject ]</a>
              <a href="author.html#21171">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 20/05/2006, at 4:38 PM, Deron Meranda wrote:

&gt;<i> On 5/20/06, Graham Dumpleton &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">grahamd at dscpl.com.au</A>&gt; wrote:
</I>&gt;&gt;<i> The HTTP specification actually says for 307 (Temporary Redirection),
</I>&gt;&gt;<i> which is what one would want to use:
</I>&gt;<i>
</I>&gt;<i> Yes, that works too and is quite common, although be aware that
</I>&gt;<i> most older browsers don't understand a 307.  So put a link
</I>&gt;<i> on the redirecting HTML page as well.  I'd stay away from a
</I>&gt;<i> 302 though because it's semantics are more ambiguous.
</I>
Arrggh, I actually meant to say 302 and not 307, as util.redirect()
uses a 302. The specification still says much the same thing.

   The requested resource resides temporarily under a different URI.  
Since
   the redirection might be altered on occasion, the client SHOULD  
continue
   to use the Request-URI for future requests. This response is only  
cacheable
   if indicated by a Cache-Control or Expires header field.

Thus same argument should apply unless browser/cache is truly old.

&gt;<i> I still prefer to send back a 401 or 403 as the semantics are
</I>&gt;<i> much more explicit as to what is happening (the user
</I>&gt;<i> doesn't have permissions to view the page).  This may be
</I>&gt;<i> important if you want to adhere to a REST design.  Also,
</I>&gt;<i> unlike redirects of various flavors, a 40x won't confuse any
</I>&gt;<i> spiders crawling your site (whether a public search engine,
</I>&gt;<i> or your own indexer, or perhaps even a site mirror-er).
</I>&gt;<i> Other rare edge cases could also occur with redirects, such
</I>&gt;<i> as a user doing a &quot;save target as&quot; where the link is to a URL
</I>&gt;<i> requiring login first.  Rather than seeing an error message, the
</I>&gt;<i> user may later find that the file they saved was actually the
</I>&gt;<i> HTML source to your login page.
</I>&gt;<i>
</I>&gt;<i> This is mostly academic of course, but the intended purpose of
</I>&gt;<i> a 30x redirect is to say that the resource (or equivalent) which was
</I>&gt;<i> supposed to be at URL A can instead be found at URL B.  But in
</I>&gt;<i> this scenario that's not what you're doing.  URL A is simply not
</I>&gt;<i> accessible because of permissions, and URL B is a completely
</I>&gt;<i> different resource---the login page.
</I>&gt;<i>
</I>&gt;<i> But do what you want.  Many/most sites use 30x.  The main
</I>&gt;<i> disadvantages of the 40x codes is that there is no auto
</I>&gt;<i> reloading; and that can often be more important than having
</I>&gt;<i> the precisely correct semantics.  With a 40x, the user will have
</I>&gt;<i> to click on a link on the error page to get to the login page.
</I>
Can't one use JavaScript or HTTP-EQUIV header in 40x error response
to get browser to redirect automatically?

&gt;<i> But then again, depending on your usability philosophy, that
</I>&gt;<i> may be more desirable.  Seeing an error page saying you
</I>&gt;<i> need to login before your can view the page may be less of
</I>&gt;<i> a surprise then just seeing a login form when you expected
</I>&gt;<i> something else, with no explanation why.
</I>
What is you attitude on having the login form in the 40x error page  
itself?

Anyway, see where you are going now. What I'll do is post up my session
login stuff using 302 redirects, and then if I have time, will try  
and modify
it to use ideas you are talking about and see if we can't come up  
with code
for each which people can compare. Someone will just have to convert
my code to work with mod_python 3.2.8. :-)

Graham


</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021170.html">[mod_python] Custom Login with redirection back to referer
</A></li>
	<LI>Next message: <A HREF="021174.html">[mod_python] Custom Login with redirection back to referer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21171">[ date ]</a>
              <a href="thread.html#21171">[ thread ]</a>
              <a href="subject.html#21171">[ subject ]</a>
              <a href="author.html#21171">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
