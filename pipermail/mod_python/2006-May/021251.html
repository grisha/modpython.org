<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] conditions for a 404
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20conditions%20for%20a%20404&In-Reply-To=20060525174155.GB9617%40asu.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021250.html">
   <LINK REL="Next"  HREF="021254.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] conditions for a 404</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Nicolas Lehuen</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20conditions%20for%20a%20404&In-Reply-To=20060525174155.GB9617%40asu.edu"
       TITLE="[mod_python] conditions for a 404">nicolas at lehuen.com
       </A><BR>
    <I>Thu May 25 14:03:46 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021250.html">[mod_python] conditions for a 404
</A></li>
        <LI>Next message: <A HREF="021254.html">[mod_python] conditions for a 404
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21251">[ date ]</a>
              <a href="thread.html#21251">[ thread ]</a>
              <a href="subject.html#21251">[ subject ]</a>
              <a href="author.html#21251">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi David,

First of all, you may want to read your Apache error log to get more
information. In some cases, for security reasons, the user gets a
simple 404 error whereas there is a more precise error message in the
log.

If you cannot read the error log, you can try switching on the
PythonDebug configuration directive to get more detailled error
messages on the client side. Don't forget to remove it when launching
your site on a production server, though, because those error messages
usually contain stack trace, which gives a little bit more data to a
would-be hacker than you would like.

BTW, even if this should not lead to the problem you observe, you are
using the handler's style of coding instead of the publisher style.
Published functions or methods do not return apache.OK, they simply
return a string that needs to be returned to the client, or None if
req.write() is used to send content to the client. Also, you do not
need to use req.send_http_headers().

All this is assuming that you are using the latest mod_python release,
namely the 3.2.8 one. If you don't then I strongly suggest you
upgrade, because you've missed more than one year of bugfixes.

Tell us what is your precise configuration and what you can find in
your error log if you need more help.

Regards,
Nicolas

2006/5/25, David Bear &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">David.Bear at asu.edu</A>&gt;:
&gt;<i> I have a file called tddb.py which contains
</I>&gt;<i>
</I>&gt;<i> &quot;&quot;&quot;
</I>&gt;<i> from mod_python import session
</I>&gt;<i>
</I>&gt;<i> def index(req):
</I>&gt;<i>   req.content_type = &quot;text/plain&quot;
</I>&gt;<i>   req.send_http_header()
</I>&gt;<i>   req.write(&quot;hello world&quot;)
</I>&gt;<i>   keys = req.keys()
</I>&gt;<i>   for k in keys:
</I>&gt;<i>     req.write(&quot;object name is %s &quot; % k)
</I>&gt;<i>   req.write(&quot;done&quot;)
</I>&gt;<i>   return apache.OK
</I>&gt;<i>
</I>&gt;<i> It lives in a directory where publisher is set as the handler for all
</I>&gt;<i> .py files.
</I>&gt;<i>
</I>&gt;<i> When I run this via url <A HREF="http://myserver/tddb.py">http://myserver/tddb.py</A> apache returns a 404
</I>&gt;<i> error.
</I>&gt;<i>
</I>&gt;<i> I've checked that the file perms on 755 and group own by the webserver
</I>&gt;<i> group.
</I>&gt;<i>
</I>&gt;<i> I'm getting lost here. the more I use modpython the less I understand
</I>&gt;<i> it. What could be wrong?
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> David Bear
</I>&gt;<i> phone:  480-965-8257
</I>&gt;<i> fax:    480-965-9189
</I>&gt;<i> College of Public Programs/ASU
</I>&gt;<i> Wilson Hall 232
</I>&gt;<i> Tempe, AZ 85287-0803
</I>&gt;<i>  &quot;Beware the IP portfolio, everyone will be suspect of trespassing&quot;
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021250.html">[mod_python] conditions for a 404
</A></li>
	<LI>Next message: <A HREF="021254.html">[mod_python] conditions for a 404
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21251">[ date ]</a>
              <a href="thread.html#21251">[ thread ]</a>
              <a href="subject.html#21251">[ subject ]</a>
              <a href="author.html#21251">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
