From brianh at exelixis.com  Tue Mar  6 16:44:26 2001
From: brianh at exelixis.com (Brian Hawthorne)
Date: Fri Jan  9 21:46:12 2004
Subject: [mod_python] cookies
Message-ID: <Pine.GSO.4.05.10103061641090.15983-100000@timeless.exelixis.com>

hello all,  how is one to access the client's cookies from a function
being handled by the publisher handler?
i looked in os.environ, i tried req.add_common_vars() then looked at
req.subprocess_env, and i looked at req.headers_in.
i didn't see any cookie stuff anywhere!?

brian


From brett at bookshop.unsw.edu.au  Wed Mar  7 15:09:32 2001
From: brett at bookshop.unsw.edu.au (Brett Haydon)
Date: Fri Jan  9 21:46:12 2004
Subject: [mod_python] cookies 
Message-ID: <NCBBKMABOKFCDLPIKKGIGEOOCJAA.brett@bookshop.unsw.edu.au>

You're looking in the right place:
req.headers_in

You need to extract it
if req.headers_in.has_key('Cookie'):
	dofoo

No luck with that then make sure cookies are being set...
use mod_usertrack for an easy solution..

_______________________________________
Brett Haydon


From petar at metamarkets.com  Wed Mar  7 18:49:41 2001
From: petar at metamarkets.com (Petar Karafezov)
Date: Fri Jan  9 21:46:12 2004
Subject: [mod_python] util.FormStorage empty values issue
Message-ID: <86FC34EA3C4F074AA6BBFFE52ED83FED27BE10@METAEXCH.sfo.metamarkets.com>

Hiya all -

I'm using Apache/1.3.14 (Unix) mod_python/2.7.2 Python/2.0 and I seem to be
having a little issue when values from a form is '' (empty string). When the
value is '' they key itself does not get passed as a part of what
util.FormStorage returns.

Any ideas of how to get around this ?

Regards and thanks for the help,
Petar Karafezov

MetaMarkets.com
415-575-3015
-------------------------------------------
Investing Out Loud at
http://www.metamarkets.com
-------------------------------------------

From petar at metamarkets.com  Thu Mar  8 06:44:45 2001
From: petar at metamarkets.com (Petar Karafezov)
Date: Fri Jan  9 21:46:12 2004
Subject: [mod_python] FW: util.FormStorage empty values issue
Message-ID: <86FC34EA3C4F074AA6BBFFE52ED83FED27BE19@METAEXCH.sfo.metamarkets.com>

actually, I just found out the keep_empty_value set to 0 in util.py. I
changed the value to 1 and recompiled it. Now everything seems to be working
fine. Was there any reason keep_empty_value was set to 0 ? Did I changed the
library the right way ?

THanks for your help!

Regards,
Petar Karafezov

-----Original Message-----
From: Petar Karafezov 
Sent: Wednesday, March 07, 2001 6:50 PM
To: mod_python@modpython.org
Subject: util.FormStorage empty values issue


Hiya all -

I'm using Apache/1.3.14 (Unix) mod_python/2.7.2 Python/2.0 and I seem to be
having a little issue when values from a form is '' (empty string). When the
value is '' they key itself does not get passed as a part of what
util.FormStorage returns.

Any ideas of how to get around this ?

Regards and thanks for the help,
Petar Karafezov

MetaMarkets.com
415-575-3015
-------------------------------------------
Investing Out Loud at
http://www.metamarkets.com
-------------------------------------------

From grisha at verio.net  Thu Mar  8 10:21:20 2001
From: grisha at verio.net (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:46:12 2004
Subject: [mod_python] FW: util.FormStorage empty values issue
In-Reply-To: <86FC34EA3C4F074AA6BBFFE52ED83FED27BE19@METAEXCH.sfo.metamarkets.com>
Message-ID: <Pine.BSF.4.32.0103081020420.40846-100000@localhost>

That's the way the standard library FieldStorage performs, so I thought
I'd keep it consistent.

Grisha

On Thu, 8 Mar 2001, Petar Karafezov wrote:

> actually, I just found out the keep_empty_value set to 0 in util.py. I
> changed the value to 1 and recompiled it. Now everything seems to be working
> fine. Was there any reason keep_empty_value was set to 0 ? Did I changed the
> library the right way ?
>
> THanks for your help!
>
> Regards,
> Petar Karafezov
>
> -----Original Message-----
> From: Petar Karafezov
> Sent: Wednesday, March 07, 2001 6:50 PM
> To: mod_python@modpython.org
> Subject: util.FormStorage empty values issue
>
>
> Hiya all -
>
> I'm using Apache/1.3.14 (Unix) mod_python/2.7.2 Python/2.0 and I seem to be
> having a little issue when values from a form is '' (empty string). When the
> value is '' they key itself does not get passed as a part of what
> util.FormStorage returns.
>
> Any ideas of how to get around this ?
>
> Regards and thanks for the help,
> Petar Karafezov
>
> MetaMarkets.com
> 415-575-3015
> -------------------------------------------
> Investing Out Loud at
> http://www.metamarkets.com
> -------------------------------------------
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From webmaster at myeboard.com  Thu Mar  8 11:37:10 2001
From: webmaster at myeboard.com (Jamie Krasnoo)
Date: Fri Jan  9 21:46:12 2004
Subject: [mod_python] That -DEAPI thing again.
Message-ID: <NEBBLAGGCLKLIANPIBEJGECIDEAA.webmaster@myeboard.com>

Sorry to bring this up again. I was trying to compile mod_python as a DSO
and the warning :
[warn] Loaded DSO /usr/lib/apache/mod_python.so uses plain Apache 1.3 API,
this module might crash under EAPI! (please recompile it with -DEAPI)

came up. I found a lot questions on the same matter int he archives but no
real answeres. Ok one answer but that was a patch which I realy don't want
to docode and find out that its something bad. This should be a FAQ thing
already.

So. How do I get -DEAPI in there so I won't have the threat of Apache seg
faulting at some point?

Jamie Krasnoo
www.MyEBoard.com
webmaster@myeboard.com



From mike at mikebell.org  Thu Mar  8 11:58:29 2001
From: mike at mikebell.org (Mike Bell)
Date: Fri Jan  9 21:46:12 2004
Subject: [mod_python] That -DEAPI thing again.
In-Reply-To: <NEBBLAGGCLKLIANPIBEJGECIDEAA.webmaster@myeboard.com>; from webmaster@myeboard.com on Thu, Mar 08, 2001 at 11:37:10AM -0800
References: <NEBBLAGGCLKLIANPIBEJGECIDEAA.webmaster@myeboard.com>
Message-ID: <20010308115829.D13307@vaio.mikebell.org>

On Thu, Mar 08, 2001 at 11:37:10AM -0800, Jamie Krasnoo wrote:
> Sorry to bring this up again. I was trying to compile mod_python as a DSO
> and the warning :
> [warn] Loaded DSO /usr/lib/apache/mod_python.so uses plain Apache 1.3 API,
> this module might crash under EAPI! (please recompile it with -DEAPI)
> 
> came up. I found a lot questions on the same matter int he archives but no
> real answeres. Ok one answer but that was a patch which I realy don't want
> to docode and find out that its something bad. This should be a FAQ thing
> already.
> 
> So. How do I get -DEAPI in there so I won't have the threat of Apache seg
> faulting at some point?

Personally, I edit src/Makefile and change
OPT=
to
OPT=-DEAPI

From webmaster at myeboard.com  Thu Mar  8 12:35:32 2001
From: webmaster at myeboard.com (Jamie Krasnoo)
Date: Fri Jan  9 21:46:12 2004
Subject: [mod_python] That -DEAPI thing again.
In-Reply-To: <20010308115829.D13307@vaio.mikebell.org>
Message-ID: <NEBBLAGGCLKLIANPIBEJAECKDEAA.webmaster@myeboard.com>

Thanks Mike. I appreciate it.

-----Original Message-----
From: mod_python-admin@modpython.org
[mailto:mod_python-admin@modpython.org]On Behalf Of Mike Bell
Sent: Thursday, March 08, 2001 11:58 AM
To: mod_python@modpython.org
Subject: Re: [mod_python] That -DEAPI thing again.


On Thu, Mar 08, 2001 at 11:37:10AM -0800, Jamie Krasnoo wrote:
> Sorry to bring this up again. I was trying to compile mod_python as a DSO
> and the warning :
> [warn] Loaded DSO /usr/lib/apache/mod_python.so uses plain Apache 1.3 API,
> this module might crash under EAPI! (please recompile it with -DEAPI)
>
> came up. I found a lot questions on the same matter int he archives but no
> real answeres. Ok one answer but that was a patch which I realy don't want
> to docode and find out that its something bad. This should be a FAQ thing
> already.
>
> So. How do I get -DEAPI in there so I won't have the threat of Apache seg
> faulting at some point?

Personally, I edit src/Makefile and change
OPT=
to
OPT=-DEAPI
_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python


From petar at metamarkets.com  Fri Mar  9 10:20:43 2001
From: petar at metamarkets.com (Petar Karafezov)
Date: Fri Jan  9 21:46:12 2004
Subject: [mod_python] help needed with forms' parameters handling
Message-ID: <86FC34EA3C4F074AA6BBFFE52ED83FED27BE3E@METAEXCH.sfo.metamarkets.com>

Hello all -

I am running Apache/1.3.14 (Unix) mod_python/2.7.2 Python/2.0. At this point
I am not even sure that this is a mod_python issue, as I have seen this
same behavior before I ported my cgi to mod_python. I am not sure what to do
at this point..

Here's the issue:

When you do a POST to a python script you obtain the parameters using the
util.FieldStorage, when using cgi it's cgi.FieldStorage. The returned result
is a dictionary { key, value }. Everything is OK if you just what to work
with this dictionary. However, if you try to pass this dictionary object to
urllib.urlencode, we raise an exception:

Mod_python error: "PythonHandler parse2"

Traceback (most recent call last):

  File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line
189, in Dispatch
    result = object(self.req)

  File "/usr/local/apache/htdocs/test/parse2.py", line 147, in handler
    params=urllib.urlencode(form)	

  File "/usr/local/lib/python2.0/urllib.py", line 1086, in urlencode
    for k, v in dict.items():

AttributeError: 'FieldStorage' instance has no attribute 'items'


Now, the funny part is that if I get this object 'form' - which was defined
as form=util.FieldStorage(req) and just get the keys and values and form a
new dictionary, I can pass that new one to urllib.urlencode with no
problems.

...
    newparams={}                       
    for key in form.keys():
          newparams[key]=form[key]
    params=urllib.urlencode(newparams) 
...

Again, I run into the same issue with both util.FieldStorage when working
with mod_python and with cgi.FieldStorage when using my cgi version.

I am quite happy with this workaround until I bumped into a different issue,
which I am not exactly sure if it's related or not. When there're multiple
checkboxes on a form:

<input type="checkbox"  name="frequencies" value="DEM" priority="6" checked>
<input type="checkbox"  name="frequencies" value="HLF" priority="6">
<input type="checkbox"  name="frequencies" value="DAY" priority="6">
<input type="checkbox"  name="frequencies" value="WEK" priority="6">

and we have selected more than 1, then the form parameter value gets passed
to the server as an array. For example, if I'd select DEM and DAY from the
checkboxed above, my params would be:

'frequences' : ['DEM','DAY']

This is all great, but when I pass the parameters to the server - my python
script is playing the role of a proxy, then I am passing as value for
'frequences' the STRING "['DEM','DAY']" and not the ARRAY ['DEM','DAY']. 

So, somewhere in what I do/use the array gets converted to a string. The way
I see it is:

1) It could be the python's FieldStorage when I originally get the keys and
values
2) It could be that funky dictionary rewriting that I am doing before I pass
the form parameters to urllib.urlencode.
3) I could be something in what urlencode does.


I am not sure where to look at this point. 

Any ideas, anyone ?? Any help would be greatly appreciated!

Thanks for your help!

regards,

Petar Karafezov

MetaMarkets.com
415-575-3015
-------------------------------------------
Investing Out Loud at
http://www.metamarkets.com
-------------------------------------------



From grisha at verio.net  Fri Mar  9 13:39:34 2001
From: grisha at verio.net (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:46:12 2004
Subject: [mod_python] help needed with forms' parameters handling
In-Reply-To: <86FC34EA3C4F074AA6BBFFE52ED83FED27BE3E@METAEXCH.sfo.metamarkets.com>
Message-ID: <Pine.BSF.4.32.0103091338010.53766-100000@localhost>

This is probably because FieldStorage indeed doesn't have "items()" - just
like it says ;-)

May be in the future I'll add it. Until then - you'll have to copy it to
real dictionary, or you can subclass FieldStorage and add your own
items().

Grisha

On Fri, 9 Mar 2001, Petar Karafezov wrote:

> Hello all -
>
> I am running Apache/1.3.14 (Unix) mod_python/2.7.2 Python/2.0. At this point
> I am not even sure that this is a mod_python issue, as I have seen this
> same behavior before I ported my cgi to mod_python. I am not sure what to do
> at this point..
>
> Here's the issue:
>
> When you do a POST to a python script you obtain the parameters using the
> util.FieldStorage, when using cgi it's cgi.FieldStorage. The returned result
> is a dictionary { key, value }. Everything is OK if you just what to work
> with this dictionary. However, if you try to pass this dictionary object to
> urllib.urlencode, we raise an exception:
>
> Mod_python error: "PythonHandler parse2"
>
> Traceback (most recent call last):
>
>   File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line
> 189, in Dispatch
>     result = object(self.req)
>
>   File "/usr/local/apache/htdocs/test/parse2.py", line 147, in handler
>     params=urllib.urlencode(form)
>
>   File "/usr/local/lib/python2.0/urllib.py", line 1086, in urlencode
>     for k, v in dict.items():
>
> AttributeError: 'FieldStorage' instance has no attribute 'items'
>
>
> Now, the funny part is that if I get this object 'form' - which was defined
> as form=util.FieldStorage(req) and just get the keys and values and form a
> new dictionary, I can pass that new one to urllib.urlencode with no
> problems.
>
> ...
>     newparams={}
>     for key in form.keys():
>           newparams[key]=form[key]
>     params=urllib.urlencode(newparams)
> ...
>
> Again, I run into the same issue with both util.FieldStorage when working
> with mod_python and with cgi.FieldStorage when using my cgi version.
>
> I am quite happy with this workaround until I bumped into a different issue,
> which I am not exactly sure if it's related or not. When there're multiple
> checkboxes on a form:
>
> <input type="checkbox"  name="frequencies" value="DEM" priority="6" checked>
> <input type="checkbox"  name="frequencies" value="HLF" priority="6">
> <input type="checkbox"  name="frequencies" value="DAY" priority="6">
> <input type="checkbox"  name="frequencies" value="WEK" priority="6">
>
> and we have selected more than 1, then the form parameter value gets passed
> to the server as an array. For example, if I'd select DEM and DAY from the
> checkboxed above, my params would be:
>
> 'frequences' : ['DEM','DAY']
>
> This is all great, but when I pass the parameters to the server - my python
> script is playing the role of a proxy, then I am passing as value for
> 'frequences' the STRING "['DEM','DAY']" and not the ARRAY ['DEM','DAY'].
>
> So, somewhere in what I do/use the array gets converted to a string. The way
> I see it is:
>
> 1) It could be the python's FieldStorage when I originally get the keys and
> values
> 2) It could be that funky dictionary rewriting that I am doing before I pass
> the form parameters to urllib.urlencode.
> 3) I could be something in what urlencode does.
>
>
> I am not sure where to look at this point.
>
> Any ideas, anyone ?? Any help would be greatly appreciated!
>
> Thanks for your help!
>
> regards,
>
> Petar Karafezov
>
> MetaMarkets.com
> 415-575-3015
> -------------------------------------------
> Investing Out Loud at
> http://www.metamarkets.com
> -------------------------------------------
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From tino at wildenhain.de  Fri Mar  9 23:43:51 2001
From: tino at wildenhain.de (Tino Wildenhain)
Date: Fri Jan  9 21:46:12 2004
Subject: [mod_python] Re: help needed with forms' parameters handling
References: <86FC34EA3C4F074AA6BBFFE52ED83FED27BE3E@METAEXCH.sfo.metamarkets.com>
Message-ID: <3AA95CA7.DCF14032@wildenhain.de>

Hi Petar,

I suppose after a couple of headaches you may want to try out
zope as well ;) http://www.zope.org/
It saves you from most of the work with forms and many more.
Hard to grasp the principe of operation at first but profitable
at the end.

HTH
Tino

Petar Karafezov wrote:
> 
> Hello all -
> 
> I am running Apache/1.3.14 (Unix) mod_python/2.7.2 Python/2.0. At this point
> I am not even sure that this is a mod_python issue, as I have seen this
> same behavior before I ported my cgi to mod_python. I am not sure what to do
> at this point..
> 
> Here's the issue:
> 
> When you do a POST to a python script you obtain the parameters using the
> util.FieldStorage, when using cgi it's cgi.FieldStorage. The returned result
> is a dictionary { key, value }. Everything is OK if you just what to work
> with this dictionary. However, if you try to pass this dictionary object to
> urllib.urlencode, we raise an exception:
> 
> Mod_python error: "PythonHandler parse2"
> 
> Traceback (most recent call last):
> 
>   File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line
> 189, in Dispatch
>     result = object(self.req)
> 
>   File "/usr/local/apache/htdocs/test/parse2.py", line 147, in handler
>     params=urllib.urlencode(form)
> 
>   File "/usr/local/lib/python2.0/urllib.py", line 1086, in urlencode
>     for k, v in dict.items():
> 
> AttributeError: 'FieldStorage' instance has no attribute 'items'
> 
> Now, the funny part is that if I get this object 'form' - which was defined
> as form=util.FieldStorage(req) and just get the keys and values and form a
> new dictionary, I can pass that new one to urllib.urlencode with no
> problems.
> 
> ...
>     newparams={}
>     for key in form.keys():
>           newparams[key]=form[key]
>     params=urllib.urlencode(newparams)
> ...
> 
> Again, I run into the same issue with both util.FieldStorage when working
> with mod_python and with cgi.FieldStorage when using my cgi version.
> 
> I am quite happy with this workaround until I bumped into a different issue,
> which I am not exactly sure if it's related or not. When there're multiple
> checkboxes on a form:
> 
> <input type="checkbox"  name="frequencies" value="DEM" priority="6" checked>
> <input type="checkbox"  name="frequencies" value="HLF" priority="6">
> <input type="checkbox"  name="frequencies" value="DAY" priority="6">
> <input type="checkbox"  name="frequencies" value="WEK" priority="6">
> 
> and we have selected more than 1, then the form parameter value gets passed
> to the server as an array. For example, if I'd select DEM and DAY from the
> checkboxed above, my params would be:
> 
> 'frequences' : ['DEM','DAY']
> 
> This is all great, but when I pass the parameters to the server - my python
> script is playing the role of a proxy, then I am passing as value for
> 'frequences' the STRING "['DEM','DAY']" and not the ARRAY ['DEM','DAY'].
> 
> So, somewhere in what I do/use the array gets converted to a string. The way
> I see it is:
> 
> 1) It could be the python's FieldStorage when I originally get the keys and
> values
> 2) It could be that funky dictionary rewriting that I am doing before I pass
> the form parameters to urllib.urlencode.
> 3) I could be something in what urlencode does.
> 
> I am not sure where to look at this point.
> 
> Any ideas, anyone ?? Any help would be greatly appreciated!
> 
> Thanks for your help!
> 
> regards,
> 
> Petar Karafezov
> 
> MetaMarkets.com
> 415-575-3015
> -------------------------------------------
> Investing Out Loud at
> http://www.metamarkets.com
> -------------------------------------------
> 
> --
> http://mail.python.org/mailman/listinfo/python-list

From skidrow at nownuri.net  Wed Mar 14 11:38:58 2001
From: skidrow at nownuri.net (¼­ÅÂÁø)
Date: Fri Jan  9 21:46:12 2004
Subject: [mod_python] Some error while using MoinMoin
Message-ID: <200103140238.LAA14070@lion4.nownuri.net>

I've installed mod_python 2.6.3 and tested it out,

And tried to use MoinMoin(python CGI program..)

with modpython.cgihandler but I've got errors..

I use freebsd 4.2 release, apache 1.3.14 

and my httpd.conf file goes like this..

Addhandler python-program .py
PythonHandler mod_python.cgihandler
PythonDebug On

and It seems to work all right with any other python program

than this "MoinMoin" program..

the log goes like this..

Mod_python error: "PythonHandler mod_python.cgihandler"

Traceback (most recent call last):

  File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line 185,
 in Dispatch
    result = object(self.req)

  File "/usr/local/lib/python2.0/site-packages/mod_python/cgihandler.py", line 
76, in handler
    imp.load_module(module_name, fd, path, desc)

  File "/usr/local/www/cgi-bin/MoinMoin/wiki-moinmoin/moin.py", line 15, in ?
    cgimain.run()

  File "/usr/local/www/cgi-bin/MoinMoin/cgimain.py", line 161, in run
    cgi.print_exception()

  File "/usr/local/lib/python2.0/cgi.py", line 870, in print_exception
    print

  File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line 484,
 in write
    h, v = string.split(line, ":", 1)

ValueError: unpack list of wrong size

Thanks in advance...

 




--MIME Multi-part separator--


From kees.serier at relan.nl  Wed Mar 14 16:50:28 2001
From: kees.serier at relan.nl (Serier, Kees)
Date: Fri Jan  9 21:46:12 2004
Subject: [mod_python] Problem building apache+mod_python on AIX
Message-ID: <AA2536FEE0A9D311887000508B5EDF1E01C2BB68@ab00s003.ab.cadans.nl>

Hello,

I have the following problem with building apache 1.3.19 with mod_python
2.7.2 on AIX 4.2.1
I had the same problem with apache 1.3.14 and mod_python 2.7.1, never got it
running,
but gave it a new try with gcc 2.95.2
I rebuild everything with gcc:
- python 1.5.2
- apache 1.3.19
- mod_python 2.7.2
When rebuilding apache with mod_pyhton, I got Undefined symbol errors from
ld
=============
This is what I did:

Apache 1.3.19:
-------------
   ./configure (default without DSO)
   gmake
   gmake install
   Testing: worked fine (as dit 1.3.14) with CGI and python

Python 1.5.2
------------
   ./configure
   gmake
   gmake test
   gmake install
   Testing with apache 1.3.19 and CGI: worked fine

mod_python 2.7.2:
   ./configure --with-apache=../apache_1.3.19 --with-python=../Python-1.5.2/
   gmake
   gmake install
   
apache 1.3.19:
    cd  /usr/local/src/apache_1.3.19
    ./configure --activate-module=src/modules/python/libpython.a
    gmake
==================
Here follows the last of stdout and stderr:

gmake[4]: Entering directory
`/usr/local/src/apache_1.3.19/src/modules/python'
gmake[4]: Nothing to be done for `all'.
gmake[4]: Leaving directory
`/usr/local/src/apache_1.3.19/src/modules/python'
<=== src/modules/python
gmake[3]: Leaving directory `/usr/local/src/apache_1.3.19/src/modules'
<=== src/modules
gcc -c  -I./os/unix -I./include   -DAIX=42 -U__STR__ -DAIX_BIND_PROCESSOR
-DUSE_HSREGEX -DUSE_EXPAT -I./lib/expat-lite -DNO_DL_NEEDED `./apaci`
modules.c
gcc -c  -I./os/unix -I./include   -DAIX=42 -U__STR__ -DAIX_BIND_PROCESSOR
-DUSE_HSREGEX -DUSE_EXPAT -I./lib/expat-lite -DNO_DL_NEEDED `./apaci`
buildmark.c
gcc  -DAIX=42 -U__STR__ -DAIX_BIND_PROCESSOR -DUSE_HSREGEX -DUSE_EXPAT
-I./lib/expat-lite -DNO_DL_NEEDED `./apaci` -lm   \
      -o httpd buildmark.o modules.o modules/python/libpython.a
modules/standard/libstandard.a main/libmain.a ./os/unix/libos.a ap/libap.a
regex/libregex.a lib/expat-lite/libexpat.a
ld: 0711-317 ERROR: Undefined symbol: .Py_NewInterpreter
ld: 0711-317 ERROR: Undefined symbol: .PyThreadState_Swap
ld: 0711-317 ERROR: Undefined symbol: .PyDict_GetItemString
ld: 0711-317 ERROR: Undefined symbol: .PyCObject_FromVoidPtr
ld: 0711-317 ERROR: Undefined symbol: .PyDict_SetItemString
ld: 0711-317 ERROR: Undefined symbol: .PyCObject_AsVoidPtr
ld: 0711-317 ERROR: Undefined symbol: .PyThreadState_New
ld: 0711-317 ERROR: Undefined symbol: .PyObject_CallFunction
ld: 0711-317 ERROR: Undefined symbol: .PyErr_Fetch
ld: 0711-317 ERROR: Undefined symbol: .PyObject_Str
ld: 0711-317 ERROR: Undefined symbol: .PyString_AsString
ld: 0711-317 ERROR: Undefined symbol: .PyThreadState_Delete
ld: 0711-317 ERROR: Undefined symbol: .Py_GetVersion
ld: 0711-317 ERROR: Undefined symbol: .Py_IsInitialized
ld: 0711-317 ERROR: Undefined symbol: .Py_Initialize
ld: 0711-317 ERROR: Undefined symbol: .PyDict_New
ld: 0711-317 ERROR: Undefined symbol: .PyArg_ParseTuple
ld: 0711-317 ERROR: Undefined symbol: .PyErr_NoMemory
ld: 0711-317 ERROR: Undefined symbol: PyExc_KeyError
ld: 0711-317 ERROR: Undefined symbol: .PyErr_SetObject
ld: 0711-317 ERROR: Undefined symbol: .PyString_FromString
ld: 0711-317 ERROR: Undefined symbol: PyString_Type
ld: 0711-317 ERROR: Undefined symbol: PyExc_TypeError
ld: 0711-317 ERROR: Undefined symbol: .PyErr_SetString
ld: 0711-317 ERROR: Undefined symbol: _Py_NoneStruct
ld: 0711-317 ERROR: Undefined symbol: .PyList_New
ld: 0711-317 ERROR: Undefined symbol: .PyList_SetItem
ld: 0711-317 ERROR: Undefined symbol: .PyInt_FromLong
ld: 0711-317 ERROR: Undefined symbol: .Py_FindMethod
ld: 0711-317 ERROR: Undefined symbol: .PyString_ConcatAndDel
ld: 0711-317 ERROR: Undefined symbol: PyExc_IndexError
ld: 0711-317 ERROR: Undefined symbol: .PyString_FromStringAndSize
ld: 0711-317 ERROR: Undefined symbol: PyExc_IOError
ld: 0711-317 ERROR: Undefined symbol: ._PyString_Resize
ld: 0711-317 ERROR: Undefined symbol: .PyCallable_Check
ld: 0711-317 ERROR: Undefined symbol: PyExc_ValueError
ld: 0711-317 ERROR: Undefined symbol: .PyErr_Clear
ld: 0711-317 ERROR: Undefined symbol: .Py_BuildValue
ld: 0711-317 ERROR: Undefined symbol: .PyMember_Get
ld: 0711-317 ERROR: Undefined symbol: PyExc_AttributeError
ld: 0711-317 ERROR: Undefined symbol: .PyMember_Set
ld: 0711-317 ERROR: Undefined symbol: .PyTuple_New
ld: 0711-317 ERROR: Undefined symbol: .PyTuple_SetItem
ld: 0711-317 ERROR: Undefined symbol: .PyErr_BadArgument
ld: 0711-317 ERROR: Undefined symbol: .PyList_Append
ld: 0711-317 ERROR: Undefined symbol: .PyList_Size
ld: 0711-317 ERROR: Undefined symbol: .PyMapping_HasKeyString
ld: 0711-317 ERROR: Undefined symbol: .PyDict_GetItem
ld: 0711-317 ERROR: Undefined symbol: .PyDict_SetItem
ld: 0711-317 ERROR: Undefined symbol: PyType_Type
ld: 0711-317 ERROR: Undefined symbol: .Py_InitModule4
ld: 0711-317 ERROR: Undefined symbol: .PyModule_GetDict
ld: 0711-317 ERROR: Undefined symbol: .PyErr_NewException
ld: 0711-317 ERROR: Undefined symbol: .PyImport_ImportModule
ld: 0711-317 ERROR: Undefined symbol: .PyObject_CallMethod
ld: 0711-317 ERROR: Undefined symbol: .PyEval_SaveThread
ld: 0711-317 ERROR: Undefined symbol: .PyEval_RestoreThread
ld: 0711-317 ERROR: Undefined symbol: PyInt_Type
ld: 0711-317 ERROR: Undefined symbol: .PyInt_AsLong
ld: 0711-317 ERROR: Undefined symbol: Py_OptimizeFlag
ld: 0711-317 ERROR: Undefined symbol: .Py_Finalize
ld: 0711-317 ERROR: Undefined symbol: .PyObject_GetAttrString
ld: 0711-317 ERROR: Undefined symbol: .PySequence_Index
ld: 0711-317 ERROR: Undefined symbol: .PyList_SetSlice
ld: 0711-317 ERROR: Undefined symbol: .PyErr_Occurred
ld: 0711-317 ERROR: Undefined symbol: .PyErr_Print
ld: 0711-345 Use the -bloadmap or -bnoquiet option to obtain more
information.
collect2: ld returned 8 exit status
gmake[2]: *** [target_static] Error 1
gmake[2]: Leaving directory `/usr/local/src/apache_1.3.19/src'
gmake[1]: *** [build-std] Error 2
gmake[1]: Leaving directory `/usr/local/src/apache_1.3.19'
gmake: *** [build] Error 2

find /usr/local/src -name libpython.a -exec ls -l {} \;
-rwxr-xr-x   1 root     begeer     98020 Mar 14 15:53
./apache_1.3.19/src/modules/python/libpython.a
-rw-r--r--   1 root     beheer     98020 Mar 14 15:53
./mod_python-2.7.2/src/libpython.a


From brianh at exelixis.com  Wed Mar 14 11:45:40 2001
From: brianh at exelixis.com (Brian Hawthorne)
Date: Fri Jan  9 21:46:12 2004
Subject: [mod_python] _apache.parse_qsl is buggy (mod_python2.7.2)
Message-ID: <Pine.GSO.4.05.10103141145090.24622-100000@timeless.exelixis.com>

i thought it would be useful to point out (mod_python2.7.2) that this
function, implemented in _apachemodule.c, which should support the same
interface and functionality as the standard python cgi.parse_qsl, does not
correctly parse form values from an ampersand delimited string of
key=value pairs.  sometimes it simply drops some pairs, other times it
mangles the keys and/or values.  i worked around this by adding to 
line 110 of mod_python/util.py:
            import cgi
            pairs = cgi.parse_qsl(req.args, keep_blank_values=1)

brian hawthorne
Associate Informatics Research Scientist
Exelixis, Inc.



From ensim.ml.mod_python at ensim.com  Wed Mar 14 11:53:53 2001
From: ensim.ml.mod_python at ensim.com (Ensim-Newsgroups.Mailing-Lists.Mod_Python-List)
Date: Fri Jan  9 21:46:12 2004
Subject: [mod_python] any production systems out there?
Message-ID: <9AC41B8C4781464695BB013F106FCA3181A658@nasdaq.ms.ensim.com>

i'm trying to evaluate mod python for a production system, and i'd like to
get feedback...

- is anyone using mod_python in a production environment?
- is your production site a heavily hit site?
- are there any memory issues (does modpython consume an unusual amount of
memory)?
- are there any stability issues?


From CHagner at fool.com  Thu Mar 15 01:08:02 2001
From: CHagner at fool.com (Chris Hagner)
Date: Fri Jan  9 21:46:12 2004
Subject: [mod_python] PythonImport failure
Message-ID: <13CDDE6A53DBD311BC3200508B6F0C4804DAFC57@rover.foolhq.com>

Greetings,

I'm trying to get the PythonImport command to work.  Been through the
documentation, but it appears to want more than simply inserting 

   PythonImport mypackage.mymodule

within my Directory tags in httd.conf.

While mypackage.mymodule is under the standard python lib directory
(therefore should be found through the sys.path), the system spat out the
following...

    ...[error] directive_PythonImport: error importing mypackage.mymodule

I then moved the module to a different directory and appended that directory
to the sys.path using the PythonPath command (just to see if that allowed it
to find the module).  No luck.

I've found a handful of posts from June and August of last year, but no
posted solutions to getting the PythonImport command to work correctly.  Of
course, there's a CVS commit with the comment "PythonImport works now" so
I'm pretty sure it's me...

As a random test, I tried a standard module...

   PythonImport sys

which appeared to work (no error msg), but I'm not really confident that
this was a meaningful test.

Thanks in advance.

Chris
chagner _at_ fool _dot_ com



From rdevide at ican.at  Thu Mar 15 09:46:18 2001
From: rdevide at ican.at (Devide Robert)
Date: Fri Jan  9 21:46:12 2004
Subject: [mod_python] any production systems out there?
References: <9AC41B8C4781464695BB013F106FCA3181A658@nasdaq.ms.ensim.com>
Message-ID: <3AB0815A.5111D98C@ican.at>

> - is anyone using mod_python in a production environment?
yes, e.g. www.ican.at
using Linux, 
      Apache, 
      Mysql, 
  mod_Python
running on a serverfarm of 4 PCs

> - is your production site a heavily hit site?
1.100.000 Visits per Month, 3.700.000 Pageimpressions

> - are there any memory issues (does modpython consume an unusual amount of
> memory)?
no
(that is there occured memory leaks, but we didn't locate which
component of LAMP produces that,
we just set MaxRequestsPerChild in the apache config to a reasonable
value)

> - are there any stability issues?
no

dave

From grisha at verio.net  Thu Mar 15 11:26:25 2001
From: grisha at verio.net (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:46:13 2004
Subject: [mod_python] PythonImport failure
In-Reply-To: <13CDDE6A53DBD311BC3200508B6F0C4804DAFC57@rover.foolhq.com>
Message-ID: <Pine.BSF.4.32.0103151124130.18178-100000@localhost>

Chris -

Have you tried

>>> import mypackage.mymodule

from an interactive Python session?

Also, regarding PythonPath - if you read documentation carefully, you'll
notice that it says that no other directives have any effect at the time
PythonImport is executed.

Generally, you should not use PythonImport unless you *really* need it,
which is almost never the case.

Grisha


On Thu, 15 Mar 2001, Chris Hagner wrote:

> Greetings,
>
> I'm trying to get the PythonImport command to work.  Been through the
> documentation, but it appears to want more than simply inserting
>
>    PythonImport mypackage.mymodule
>
> within my Directory tags in httd.conf.
>
> While mypackage.mymodule is under the standard python lib directory
> (therefore should be found through the sys.path), the system spat out the
> following...
>
>     ...[error] directive_PythonImport: error importing mypackage.mymodule
>
> I then moved the module to a different directory and appended that directory
> to the sys.path using the PythonPath command (just to see if that allowed it
> to find the module).  No luck.
>
> I've found a handful of posts from June and August of last year, but no
> posted solutions to getting the PythonImport command to work correctly.  Of
> course, there's a CVS commit with the comment "PythonImport works now" so
> I'm pretty sure it's me...
>
> As a random test, I tried a standard module...
>
>    PythonImport sys
>
> which appeared to work (no error msg), but I'm not really confident that
> this was a meaningful test.
>
> Thanks in advance.
>
> Chris
> chagner _at_ fool _dot_ com
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From CHagner at fool.com  Thu Mar 15 12:06:46 2001
From: CHagner at fool.com (Chris Hagner)
Date: Fri Jan  9 21:46:13 2004
Subject: [mod_python] PythonImport failure
Message-ID: <13CDDE6A53DBD311BC3200508B6F0C4804DAFC63@rover.foolhq.com>

Thanks for the response.  For my tests, mypackage is a package named
'toolkit' and the mymodule is a module named 'brandconfig'.

Oh yeah, I'm doing this on Apache/1.3.19 (Win32) mod_python/2.7.1
Python/2.0.  I'm on Win2K (for development, sigh).

INTERACTIVE SESSION TEST:
******************************

Here's my python interactive session... the module only contains a single
variable x.

>>> import toolkit.brandconfig
>>> dir(toolkit.brandconfig)
['__builtins__', '__doc__', '__file__', '__name__', 'x']
>>> toolkit.brandconfig.x
123
>>> 

So, the module is importable in my python environment.


APACHE PYTHONIMPORT TEST:
******************************

Just to be sure, I ran the apache test again.  Here's the httpd.conf entry.
Nothing shocking.

<Directory "D:/site/brand1/htdocs">
   AddHandler python-program .py
   PythonHandler toolkit.publisher
   PythonDebug on
   PythonImport toolkit.brandconfig
</Directory>

Here's the response in the log upon starting apache.

   [Thu Mar 15 11:39:10 2001] [error] directive_PythonImport: error
importing toolkit.brandconfig

Same as before.  Now, just to be sure, I blew away the brandconfig.py file
(and the .pyc) so that it shouldn't even find it (just to see if I could get
a different error if it didn't even exist).  Result: No change.  Same error
in error.log.  Apparently, it's not even finding it.

APACHE PYTHON SCRIPT TEST:
******************************

So, it wasn't importing it on start up.  How about a python script in
mod_python?

Here's the code blurb...

	import foolkit.brandconfig
       out_string = "foolkit.brandconfig.x: %s \n"% foolkit.brandconfig.x

Did it work?  yup, the page displayed 

	foolkit.brandconfig.x: 123



Yes, I have read through the documentation and my need is to initialize a
number of objects (i.e. dbconn pool) for use throughout my applications.
Now, I am using a custom handler, so I could simply have the handler do this
initialization the first time it runs, but the PythonImport appeared to be a
code-free way to achieve this goal.  Do you all think this is a case where I
*really* need it?  If not, could someone share an example of when it really
deserves to be used?

Thanks again for the help.

Chris

-----Original Message-----
From: Gregory (Grisha) Trubetskoy [mailto:grisha@verio.net]
Sent: Thursday, March 15, 2001 11:26 AM
To: Chris Hagner
Cc: 'mod_python@modpython.org'
Subject: Re: [mod_python] PythonImport failure



Chris -

Have you tried

>>> import mypackage.mymodule

from an interactive Python session?

Also, regarding PythonPath - if you read documentation carefully, you'll
notice that it says that no other directives have any effect at the time
PythonImport is executed.

Generally, you should not use PythonImport unless you *really* need it,
which is almost never the case.

Grisha


On Thu, 15 Mar 2001, Chris Hagner wrote:

> Greetings,
>
> I'm trying to get the PythonImport command to work.  Been through the
> documentation, but it appears to want more than simply inserting
>
>    PythonImport mypackage.mymodule
>
> within my Directory tags in httd.conf.
>
> While mypackage.mymodule is under the standard python lib directory
> (therefore should be found through the sys.path), the system spat out the
> following...
>
>     ...[error] directive_PythonImport: error importing mypackage.mymodule
>
> I then moved the module to a different directory and appended that
directory
> to the sys.path using the PythonPath command (just to see if that allowed
it
> to find the module).  No luck.
>
> I've found a handful of posts from June and August of last year, but no
> posted solutions to getting the PythonImport command to work correctly.
Of
> course, there's a CVS commit with the comment "PythonImport works now" so
> I'm pretty sure it's me...
>
> As a random test, I tried a standard module...
>
>    PythonImport sys
>
> which appeared to work (no error msg), but I'm not really confident that
> this was a meaningful test.
>
> Thanks in advance.
>
> Chris
> chagner _at_ fool _dot_ com
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>

From L.A.Timochouk at ukc.ac.uk  Thu Mar 15 18:57:10 2001
From: L.A.Timochouk at ukc.ac.uk (Leonid Timochouk)
Date: Fri Jan  9 21:46:13 2004
Subject: [mod_python] any production systems out there?
In-Reply-To: <9AC41B8C4781464695BB013F106FCA3181A658@nasdaq.ms.ensim.com>
Message-ID: <Pine.GSO.4.21.0103151503450.9416-100000@myrtle.ukc.ac.uk>

Yes, we are using "mod_python" on our site (http://www.top-greetings.com)
which has a fairly heavy traffic. The performance seems to be very good,
and no memory-related problems were ever observed. So yes, "mod_python" IS
suitable for production systems!

Dr. Leonid Timochouk


From CHagner at fool.com  Thu Mar 15 14:13:11 2001
From: CHagner at fool.com (Chris Hagner)
Date: Fri Jan  9 21:46:13 2004
Subject: [mod_python] any production systems out there?
Message-ID: <13CDDE6A53DBD311BC3200508B6F0C4804DAFC69@rover.foolhq.com>

Can you give a little more details on your level of traffic.

Anything along the lines of #pages/month, # unique visitors (estimated,
although this is tough to get for most sites) and even # of servers (just
for my interest, not for any scientific calculations) would be great.

Thanks.

Chris

-----Original Message-----
From: Leonid Timochouk [mailto:L.A.Timochouk@ukc.ac.uk]
Sent: Thursday, March 15, 2001 1:57 PM
To: Ensim-Newsgroups.Mailing-Lists.Mod_Python-List
Cc: 'mod_python@modpython.org'
Subject: Re: [mod_python] any production systems out there?



Yes, we are using "mod_python" on our site (http://www.top-greetings.com)
which has a fairly heavy traffic. The performance seems to be very good,
and no memory-related problems were ever observed. So yes, "mod_python" IS
suitable for production systems!

Dr. Leonid Timochouk

_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From miguel at yorku.ca  Thu Mar 15 15:57:22 2001
From: miguel at yorku.ca (Miguel Marques)
Date: Fri Jan  9 21:46:13 2004
Subject: [mod_python] any production systems out there?
In-Reply-To: <9AC41B8C4781464695BB013F106FCA3181A658@nasdaq.ms.ensim.com>
References: <9AC41B8C4781464695BB013F106FCA3181A658@nasdaq.ms.ensim.com>
Message-ID: <20010315155722T.miguel@yorku.ca>

On Wed, 14 Mar 2001 11:53:53 -0800, "Ensim-Newsgroups.Mailing-Lists.Mod_Python-List" <ensim.ml.mod_python@ensim.com> wrote:
> i'm trying to evaluate mod python for a production system, and i'd like to
> get feedback...
> 
> - is anyone using mod_python in a production environment?

We use it at York University for seveal of our Web Applications.
Account Management System, Activation of Residence Network Drops,
the search interface to our LDAP server, etc, with more to come...

> - is your production site a heavily hit site?
Depends what you consider a heavily hit site.   We probably don't get
more than 50 to 60 users using our sites concurrently but unfortunately
I don't currently have good stats on usage.   As far as I can tell
performance is as good as applications written with mod_perl.

> - are there any memory issues (does modpython consume an unusual amount of
> memory)?
Yes, but less than than a httpd with mod_perl built in.
Still running mod_python/2.6.3 Python/1.5.2 other versions maybe
different.

> - are there any stability issues?
We had problems before the current version of mod_python with some
obscure bugs having to do with threading but those were fixed on
2.6.2.  Other than that no problems.

							Miguel

C. Miguel Marques, York University, Computing & Network Services
e-mail: miguel@yorku.ca, voice: (416)736-2100x22684, fax: (416)736-5830

From miguel at yorku.ca  Thu Mar 15 16:48:51 2001
From: miguel at yorku.ca (Miguel Marques)
Date: Fri Jan  9 21:46:13 2004
Subject: [mod_python] Passing C structure into python?
Message-ID: <20010315164851I.miguel@yorku.ca>

Greetings...

I previously had a authentication handler written in python which 
using a python extension opened a connection a database.

Since the main request handler was also written in python and needed
to use that connection to the database I just assigned the connection
object to a member of the request object in the authentication
handler.  The main request handler then could access the database
connection using that member of the request object.

I have now rewritten the authentication handler as an apache module
written in C but I still would like to pass that connection to the
database into the main request handler which is written in python.
(I'm opening a connection to the database on both places right now
which is impacting performance)

Any idea how I could do that?  I assume I'll need another python C
module to return me a python variable to use in the main request handler.
The question is where do I store the connection C structure in the
authentication handler so that the handler can get at it?
I don't think I can use the notes field for that.

Any help would be greatly appreciated...

						Miguel

C. Miguel Marques, York University, Computing & Network Services
e-mail: miguel@yorku.ca, voice: (416)736-2100x22684, fax: (416)736-5830

From grisha at verio.net  Thu Mar 15 17:31:33 2001
From: grisha at verio.net (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:46:13 2004
Subject: [mod_python] Passing C structure into python?
In-Reply-To: <20010315164851I.miguel@yorku.ca>
Message-ID: <Pine.BSF.4.32.0103151728420.19898-100000@localhost>

I think req->notes is your best bet. Look at mod_python.c in
get_request_object() for an example. It's not pretty, but it works....

Grisha

On Thu, 15 Mar 2001, Miguel Marques wrote:

> Greetings...
>
> I previously had a authentication handler written in python which
> using a python extension opened a connection a database.
>
> Since the main request handler was also written in python and needed
> to use that connection to the database I just assigned the connection
> object to a member of the request object in the authentication
> handler.  The main request handler then could access the database
> connection using that member of the request object.
>
> I have now rewritten the authentication handler as an apache module
> written in C but I still would like to pass that connection to the
> database into the main request handler which is written in python.
> (I'm opening a connection to the database on both places right now
> which is impacting performance)
>
> Any idea how I could do that?  I assume I'll need another python C
> module to return me a python variable to use in the main request handler.
> The question is where do I store the connection C structure in the
> authentication handler so that the handler can get at it?
> I don't think I can use the notes field for that.
>
> Any help would be greatly appreciated...
>
> 						Miguel
>
> C. Miguel Marques, York University, Computing & Network Services
> e-mail: miguel@yorku.ca, voice: (416)736-2100x22684, fax: (416)736-5830
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From brett at bookshop.unsw.edu.au  Fri Mar 16 15:08:04 2001
From: brett at bookshop.unsw.edu.au (Brett Haydon)
Date: Fri Jan  9 21:46:13 2004
Subject: [mod_python] Heavy Testing
Message-ID: <NCBBKMABOKFCDLPIKKGIEEAICKAA.brett@bookshop.unsw.edu.au>

Hi,

I'm just in the process of putting in an ecommerce
application based on modpython to replace an existing site,
and am just about to enter a beta testing phase on a live
site. I'm interested if anyone has feedback about their
experiences with medium-large sites.

Based on the existing usage I expect about 2000 page views a day
(17,000 hits).

The key area I'm concerned about is garbage collection/memory usage.
Having tested it with only 2-5 simultaneous clients over short periods makes
me a little nervous..

I can't help but wonder why python/modpython isn't growing as fast as
php as in principle python/modpython seems a superior solution (It sure as
hell is quicker to develop with).

regards,

______________________________________________
Brett Haydon


From ensim.ml.mod_python at ensim.com  Mon Mar 19 14:10:18 2001
From: ensim.ml.mod_python at ensim.com (Ensim-Newsgroups.Mailing-Lists.Mod_Python-List)
Date: Fri Jan  9 21:46:13 2004
Subject: [mod_python] setup of python2.1 with and without mod_python
Message-ID: <9AC41B8C4781464695BB013F106FCA3181A680@nasdaq.ms.ensim.com>

i want to be able to run regular python via shell and python via mod_python.

i got modpython to compile under 2.1beta with threading off.

is it possible to have the following environment on a server:

/usr/lib/python2.1/* compiled with threading on (pyc + so files)
/usr/bin/python compiled with threading on
** and **
apache's mod_python.so : dso apache module compiled with python threading
off (i downloaded 2.1 source, did a configure --without-threads, and
compiled mod_python against this source tree)

if my mod_python scripts import libraries from /usr/lib/python2.1/ (ie
import pyc and so files compiled with --with-threads), will it break in the
above environment?

basically, i don't want to have 2 different /usr/lib/python2.1...one for
regular python (invoked via shell) and one for use with mod_python.


From joost.damad at siemens.atea.be  Tue Mar 20 08:06:31 2001
From: joost.damad at siemens.atea.be (Joost Yervante Damad)
Date: Fri Jan  9 21:46:13 2004
Subject: [mod_python] setup of python2.1 with and without mod_python
In-Reply-To: <9AC41B8C4781464695BB013F106FCA3181A680@nasdaq.ms.ensim.com>; from ensim.ml.mod_python@ensim.com on Mon, Mar 19, 2001 at 02:10:18PM -0800
References: <9AC41B8C4781464695BB013F106FCA3181A680@nasdaq.ms.ensim.com>
Message-ID: <20010320080631.A1999@siemens.atea.be>

'Ensim-Newsgroups.Mailing-Lists.Mod_Python-List' wrote about '[mod_python] setup of python2.1 with and without mod_python' - Mon, Mar 19, 2001 at 11:10:18PM CET
> i want to be able to run regular python via shell and python via mod_python.
> 
> i got modpython to compile under 2.1beta with threading off.
> 
> is it possible to have the following environment on a server:
> 
> /usr/lib/python2.1/* compiled with threading on (pyc + so files)
> /usr/bin/python compiled with threading on
> ** and **
> apache's mod_python.so : dso apache module compiled with python threading
> off (i downloaded 2.1 source, did a configure --without-threads, and
> compiled mod_python against this source tree)
> 
> if my mod_python scripts import libraries from /usr/lib/python2.1/ (ie
> import pyc and so files compiled with --with-threads), will it break in the
> above environment?
> 
> basically, i don't want to have 2 different /usr/lib/python2.1...one for
> regular python (invoked via shell) and one for use with mod_python.
> 

Good point. In our lab setup we do the same:

 * mod_python uses an embedded non-threaded python interpreted
 * /opt/Python/* contains an installed normal python which is
   compiled *with* threading.

If I now use modules from that python it seems to work fine.

Is this legal/okay ?

-- 
Joost Damad - Siemens IC D NC A - +3214252297
--
Five is a sufficiently close approximation to infinity.
       -- Robert Firth
"One, two, five."
       -- Monty Python and the Holy Grail

From ensim.ml.mod_python at ensim.com  Tue Mar 20 16:37:59 2001
From: ensim.ml.mod_python at ensim.com (Ensim-Newsgroups.Mailing-Lists.Mod_Python-List)
Date: Fri Jan  9 21:46:13 2004
Subject: [mod_python] apache 1.3.14 + mod_python 2.7.2 + python 2.0/2.1b1 + PyGreSQL 3.
 1 + mxdatetime 2.0
Message-ID: <9AC41B8C4781464695BB013F106FCA3181A68A@nasdaq.ms.ensim.com>

thought you guys might interested on my experience with getting this up and
running.

- ensured python 1.5.2 wasn't installed (or you could set your path to
something like export PATH=/usr/local/python2.1/bin:$PATH, so the py2.x had
preference).  the python binary gets invoked by various build scripts
(disutils and makefiles), so its important the right version is being
invoked.
- had to compile python without thread support (mod_python requirement)
- needed to change mod_python's configure script in order to compile with
2.1b1 (had no problems with 2.0).  there was a line grep xxx
Modules/Makefile.  i changed it to grep xxx Makefile.
- set OPT=-DEAPI in src/Makefile in mod_python (from a posting to modpython
mailist list).
- changed pgdb.py and removed "import exceptions"...it was giving my
mod_python scripts weird errors.  it seems python 2.x moved the exceptions
module into built-ins.
- changed pgdb.py from "import DateTime" to "from mx import DateTime".  (i
used egenix's mxdatetime and compiled from source). DateTime is required by
pgdb.

i did a simple query from a mod_pythonscript and things seem to work.

btw, i wrote 2 scripts to do a simple query in php and mod_python and i got
these amazing results from httperf (server = pentium3-550/rh62/ide, client =
pentium3-300/rh70/ide):

MODPYTHON ============================================
dbtest.py:
from mod_python import apache
import pgdb
import sys
 
db = pgdb.connect(user='naris', database='perftest')
 
def handler(req):
    req.content_type = "text/html"
    req.send_http_header()
    cursor = db.cursor()
    cursor.execute("SELECT * FROM perftable")
    retval = cursor.fetchall()
    req.write(retval[0][0])
    req.write(retval[1][0])
    return apache.OK

./httperf --server=blueberry.wh.ensim.com --port=19638
--uri=/modpython/dbtest.py --num-conns=1 --num-calls=100
httperf --client=0/1 --server=blueberry.wh.ensim.com --port=19638
--uri=/modpython/dbtest.py --send-buffer=4096 --recv-buffer=16384
--num-conns=1 --num-calls=100
Maximum connect burst length: 0

Total: connections 1 requests 100 replies 100 test-duration 0.333 s

Connection rate: 3.0 conn/s (333.1 ms/conn, <=1 concurrent connections)
Connection time [ms]: min 333.1 avg 333.1 max 333.1 median 333.5 stddev 0.0
Connection time [ms]: connect 0.4
Connection length [replies/conn]: 100.000

Request rate: 300.2 req/s (3.3 ms/req)
Request size [B]: 92.0

Reply rate [replies/s]: min 0.0 avg 0.0 max 0.0 stddev 0.0 (0 samples)
Reply time [ms]: response 3.2 transfer 0.1
Reply size [B]: header 182.0 content 30.0 footer 2.0 (total 214.0)
Reply status: 1xx=0 2xx=100 3xx=0 4xx=0 5xx=0

CPU time [s]: user 0.07 system 0.22 (user 21.0% system 66.0% total 87.1%)
Net I/O: 89.1 KB/s (0.7*10^6 bps)

Errors: total 0 client-timo 0 socket-timo 0 connrefused 0 connreset 0
Errors: fd-unavail 0 addrunavail 0 ftab-full 0 other 0

PHP ============================================
dbtest.php:
<?php
   $database = pg_Connect ("dbname=perftest user=naris");
   $result = pg_Exec ($database, "select * from perftable");
   $arr = pg_fetch_array($result, 0);
   echo $arr[0];
   $arr = pg_fetch_array($result, 1);
   echo $arr[0];
?>
./httperf --server=blueberry.wh.ensim.com --port=19638 --uri=/php/dbtest.php
--num-conns=1 --num-calls=100
httperf --client=0/1 --server=blueberry.wh.ensim.com --port=19638
--uri=/php/dbtest.php --send-buffer=4096 --recv-buffer=16384 --num-conns=1
--num-calls=100
Maximum connect burst length: 0

Total: connections 1 requests 100 replies 100 test-duration 2.031 s

Connection rate: 0.5 conn/s (2031.0 ms/conn, <=1 concurrent connections)
Connection time [ms]: min 2031.0 avg 2031.0 max 2031.0 median 2031.5 stddev
0.0 Connection time [ms]: connect 0.5
Connection length [replies/conn]: 100.000

Request rate: 49.2 req/s (20.3 ms/req)
Request size [B]: 87.0

Reply rate [replies/s]: min 0.0 avg 0.0 max 0.0 stddev 0.0 (0 samples)
Reply time [ms]: response 20.3 transfer 0.0
Reply size [B]: header 208.0 content 30.0 footer 2.0 (total 240.0)
Reply status: 1xx=0 2xx=100 3xx=0 4xx=0 5xx=0

CPU time [s]: user 0.49 system 1.50 (user 24.1% system 73.9% total 98.0%)
Net I/O: 15.6 KB/s (0.1*10^6 bps)

Errors: total 0 client-timo 0 socket-timo 0 connrefused 0 connreset 0
Errors: fd-unavail 0 addrunavail 0 ftab-full 0 other 0

---
Naris Siamwalla
naris@ensim.com


From marcf at becomm.com  Wed Mar 21 12:55:55 2001
From: marcf at becomm.com (Marc Fiuczynski)
Date: Fri Jan  9 21:46:13 2004
Subject: [mod_python] problem with publisher.py File class w/ possible fix
Message-ID: <A9DFD9380C01D4118E740050DA7A89703860FA@becomm-mis2.becomm.com>

Hi,

I am having a problem with the publisher.py File class, which I have fixed,
but I would like your approval.

My configuration is as follows:
mod_python 2.7.2
python 2.0
apache 1.3.14
Red Hat Linux 7.0

I am using mod python to do http_post operations with files.  This uses the
publisher.py File class.  The __init__ method of that class steals all of
the file-like methods, as shown below:

        # steal all the file-like methods
        methods = field.file.__methods__
        for m in methods:
            self.__dict__[m] = methods[m]

I was getting an error in that last line saying that 'm' needed to be an
int.  (Sorry, I forget the actual error).  I found some other code that was
doing the exact same thing and noticed that they were assigning the methods
in a different manner (using setattr).  See below:

        # steal all the file-like methods
        file = field.file
        for method in file.__methods__:
            setattr(self, method, getattr(file, method))

This seems to work.  I am too nascent to Python to understand the history of
the built-in __xyz__ fields in objects, and whether this is something
specific to Python 2.0 versus an older version of Python.  Please review and
if it is the right thing, then feel free to incorporate this change into
your mod_python code base.

Cheers,
Marc


From marcf at becomm.com  Wed Mar 21 13:09:30 2001
From: marcf at becomm.com (Marc Fiuczynski)
Date: Fri Jan  9 21:46:13 2004
Subject: [mod_python] problem with auto_reload in apache.py
Message-ID: <A9DFD9380C01D4118E740050DA7A89703860FB@becomm-mis2.becomm.com>

Hi, 

apache.py seems to be having trouble reloading my python modules when I
update them.  This happens when apache is running with mod_python, and I
then change my python module.  It fails in several odd ways:

1) after I change my python module, mod_python will work every other time
that I use it via my browser.
2) after I change my python module, mod_python completely fails to reload
it.

In either case, if I send a HUP signal to the apache server, then everything
works just fine afterwards.



My configuration is as follows:
*	python module is being invoked via mod_python's publisher interface.
*	mod_python 2.7.2
*	python 2.0
*	apache 1.3.14
*	Red Hat Linux 7.0

I have apache configured with the following:
  AddHandler python-program .py
  PythonHandler mod_python.publisher
  PythonDebug On
  PythonNoReload Off

Can anyone provide some insight?!

Thanks,
Marc


From grisha at verio.net  Wed Mar 21 16:29:44 2001
From: grisha at verio.net (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:46:13 2004
Subject: [mod_python] problem with auto_reload in apache.py
In-Reply-To: <A9DFD9380C01D4118E740050DA7A89703860FB@becomm-mis2.becomm.com>
Message-ID: <Pine.BSF.4.32.0103211627550.79428-100000@localhost>

The reload mechanism isn't 100% reliable, and every once in a while you
will need to restart the server.

But if you're getting consistent problems, I would make sure that all the
permissions are set correctly - pay attention to what the apache server
runs as, as well as what the permissions are on the .py and .pyc files.

Grisha


On Wed, 21 Mar 2001, Marc Fiuczynski wrote:

> Hi,
>
> apache.py seems to be having trouble reloading my python modules when I
> update them.  This happens when apache is running with mod_python, and I
> then change my python module.  It fails in several odd ways:
>
> 1) after I change my python module, mod_python will work every other time
> that I use it via my browser.
> 2) after I change my python module, mod_python completely fails to reload
> it.
>
> In either case, if I send a HUP signal to the apache server, then everything
> works just fine afterwards.
>
>
>
> My configuration is as follows:
> *	python module is being invoked via mod_python's publisher interface.
> *	mod_python 2.7.2
> *	python 2.0
> *	apache 1.3.14
> *	Red Hat Linux 7.0
>
> I have apache configured with the following:
>   AddHandler python-program .py
>   PythonHandler mod_python.publisher
>   PythonDebug On
>   PythonNoReload Off
>
> Can anyone provide some insight?!
>
> Thanks,
> Marc
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From brianh at exelixis.com  Wed Mar 21 15:37:50 2001
From: brianh at exelixis.com (Brian Hawthorne)
Date: Fri Jan  9 21:46:13 2004
Subject: [mod_python] problem with auto_reload in apache.py
In-Reply-To: <A9DFD9380C01D4118E740050DA7A89703860FB@becomm-mis2.becomm.com>
Message-ID: <Pine.GSO.4.05.10103211531030.29056-100000@timeless.exelixis.com>

marc, i had very similar and equally strange problems with the
module reloading; if for example 3 different versions of the module had
been loaded since the last apache restart, it would use them in a random
repetitive sequence, like  12231321133313211223132112231321... etc.
_very_ strange.  i fixed the problem with some changes to the
mod_python.apache.import_module function.  i've included my improved
version below.

hope it helps!
brian

#---------------------------------------------------------------------
def import_module(module_name, req=None, path=None):
    """ 
    Get the module to handle the request. If
    autoreload is on, then the module will be reloaded
    if it has changed since the last import.
    """

    # get the options
    autoreload, debug = 1, None
    if req:
        config = req.get_config()
        autoreload = not config.has_key("PythonNoReload")
        debug = not config.has_key("PythonDebug")

    # try to import the module

    oldmtime = None
    mtime = None

    if  not autoreload:

        parts = string.split(module_name, '.')
        for i in range(len(parts)):
            f, p, d = imp.find_module(parts[i], path)
            try:
                mname = string.join(parts[:i+1], ".")
                module = imp.load_module(mname, f, p, d)
            finally:
                if f: f.close()
            if hasattr(module, "__path__"):
                path = module.__path__

        # import module
        #module = __import__(module_name)
        #components = string.split(module_name, '.')
        #for cmp in components[1:]:
        #    module = getattr(module, cmp)

    else:

        # keep track of file modification time and
        # try to reload it if it is newer
        if sys.modules.has_key(module_name):

            # the we won't even bother importing
            module = sys.modules[module_name]

            # does it have __mtime__ ?
            if sys.modules[module_name].__dict__.has_key("__mtime__"):
                # remember it
                oldmtime = sys.modules[ module_name ].__mtime__

        # import the module for the first time
        else:

            parts = string.split(module_name, '.')
            for i in range(len(parts)):
                f, p, d = imp.find_module(parts[i], path)
                try:
                    mname = string.join(parts[:i+1], ".")
                    module = imp.load_module(mname, f, p, d)
                finally:
                    if f: f.close()
                if hasattr(module, "__path__"):
                    path = module.__path__

##            module = __import__(module_name)
##            components = string.split(module_name, '.')
##            for cmp in components[1:]:
##                module = getattr(module, cmp)

        # find out the last modification time
        # but only if there is a __file__ attr
        if module.__dict__.has_key("__file__"):

            filepath = module.__file__

            if os.path.exists(filepath):

                mod = os.stat(filepath)
                mtime = mod[stat.ST_MTIME]

            # check also .py and take the newest
            if os.path.exists(filepath[:-1]) :

                # get the time of the .py file
                mod = os.stat(filepath[:-1])
                mtime = max(mtime, mod[stat.ST_MTIME])

    # if module is newer - reload
    if (autoreload and (oldmtime < mtime)):
        del sys.modules[module_name]
        # import the module as if for the first time
        parts = string.split(module_name, '.')
        for i in range(len(parts)):
            f, p, d = imp.find_module(parts[i], path)
            try:
                mname = string.join(parts[:i+1], ".")
                module = imp.load_module(mname, f, p, d)
            finally:
                if f: f.close()
            if hasattr(module, "__path__"):
                path = module.__path__

        #try: module = reload(module)
        #except: pass

    # save mtime
    module.__mtime__ = mtime

    return module
#---------------------------------------------------------------------

On Wed, 21 Mar 2001, Marc Fiuczynski wrote:

> Hi, 
> 
> apache.py seems to be having trouble reloading my python modules when I
> update them.  This happens when apache is running with mod_python, and I
> then change my python module.  It fails in several odd ways:
> 
> 1) after I change my python module, mod_python will work every other time
> that I use it via my browser.
> 2) after I change my python module, mod_python completely fails to reload
> it.
> 
> In either case, if I send a HUP signal to the apache server, then everything
> works just fine afterwards.
> 
> 
> 
> My configuration is as follows:
> *	python module is being invoked via mod_python's publisher interface.
> *	mod_python 2.7.2
> *	python 2.0
> *	apache 1.3.14
> *	Red Hat Linux 7.0
> 
> I have apache configured with the following:
>   AddHandler python-program .py
>   PythonHandler mod_python.publisher
>   PythonDebug On
>   PythonNoReload Off
> 
> Can anyone provide some insight?!
> 
> Thanks,
> Marc
> 
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
> 


From marcf at becomm.com  Wed Mar 21 17:58:18 2001
From: marcf at becomm.com (Marc Fiuczynski)
Date: Fri Jan  9 21:46:13 2004
Subject: [mod_python] problem with auto_reload in apache.py
Message-ID: <A9DFD9380C01D4118E740050DA7A8970386101@becomm-mis2.becomm.com>

Brian,

Your version of the code seems to make it work properly.

Thank you.

Marc

-----Original Message-----
From: Brian Hawthorne [mailto:brianh@exelixis.com]
Sent: Wednesday, March 21, 2001 3:38 PM
To: Marc Fiuczynski
Cc: 'mod_python@modpython.org'
Subject: Re: [mod_python] problem with auto_reload in apache.py


marc, i had very similar and equally strange problems with the
module reloading; if for example 3 different versions of the module had
been loaded since the last apache restart, it would use them in a random
repetitive sequence, like  12231321133313211223132112231321... etc.
_very_ strange.  i fixed the problem with some changes to the
mod_python.apache.import_module function.  i've included my improved
version below.

hope it helps!
brian

#---------------------------------------------------------------------
def import_module(module_name, req=None, path=None):
    """ 
    Get the module to handle the request. If
    autoreload is on, then the module will be reloaded
    if it has changed since the last import.
    """

    # get the options
    autoreload, debug = 1, None
    if req:
        config = req.get_config()
        autoreload = not config.has_key("PythonNoReload")
        debug = not config.has_key("PythonDebug")

    # try to import the module

    oldmtime = None
    mtime = None

    if  not autoreload:

        parts = string.split(module_name, '.')
        for i in range(len(parts)):
            f, p, d = imp.find_module(parts[i], path)
            try:
                mname = string.join(parts[:i+1], ".")
                module = imp.load_module(mname, f, p, d)
            finally:
                if f: f.close()
            if hasattr(module, "__path__"):
                path = module.__path__

        # import module
        #module = __import__(module_name)
        #components = string.split(module_name, '.')
        #for cmp in components[1:]:
        #    module = getattr(module, cmp)

    else:

        # keep track of file modification time and
        # try to reload it if it is newer
        if sys.modules.has_key(module_name):

            # the we won't even bother importing
            module = sys.modules[module_name]

            # does it have __mtime__ ?
            if sys.modules[module_name].__dict__.has_key("__mtime__"):
                # remember it
                oldmtime = sys.modules[ module_name ].__mtime__

        # import the module for the first time
        else:

            parts = string.split(module_name, '.')
            for i in range(len(parts)):
                f, p, d = imp.find_module(parts[i], path)
                try:
                    mname = string.join(parts[:i+1], ".")
                    module = imp.load_module(mname, f, p, d)
                finally:
                    if f: f.close()
                if hasattr(module, "__path__"):
                    path = module.__path__

##            module = __import__(module_name)
##            components = string.split(module_name, '.')
##            for cmp in components[1:]:
##                module = getattr(module, cmp)

        # find out the last modification time
        # but only if there is a __file__ attr
        if module.__dict__.has_key("__file__"):

            filepath = module.__file__

            if os.path.exists(filepath):

                mod = os.stat(filepath)
                mtime = mod[stat.ST_MTIME]

            # check also .py and take the newest
            if os.path.exists(filepath[:-1]) :

                # get the time of the .py file
                mod = os.stat(filepath[:-1])
                mtime = max(mtime, mod[stat.ST_MTIME])

    # if module is newer - reload
    if (autoreload and (oldmtime < mtime)):
        del sys.modules[module_name]
        # import the module as if for the first time
        parts = string.split(module_name, '.')
        for i in range(len(parts)):
            f, p, d = imp.find_module(parts[i], path)
            try:
                mname = string.join(parts[:i+1], ".")
                module = imp.load_module(mname, f, p, d)
            finally:
                if f: f.close()
            if hasattr(module, "__path__"):
                path = module.__path__

        #try: module = reload(module)
        #except: pass

    # save mtime
    module.__mtime__ = mtime

    return module
#---------------------------------------------------------------------

On Wed, 21 Mar 2001, Marc Fiuczynski wrote:

> Hi, 
> 
> apache.py seems to be having trouble reloading my python modules when I
> update them.  This happens when apache is running with mod_python, and I
> then change my python module.  It fails in several odd ways:
> 
> 1) after I change my python module, mod_python will work every other time
> that I use it via my browser.
> 2) after I change my python module, mod_python completely fails to reload
> it.
> 
> In either case, if I send a HUP signal to the apache server, then
everything
> works just fine afterwards.
> 
> 
> 
> My configuration is as follows:
> *	python module is being invoked via mod_python's publisher interface.
> *	mod_python 2.7.2
> *	python 2.0
> *	apache 1.3.14
> *	Red Hat Linux 7.0
> 
> I have apache configured with the following:
>   AddHandler python-program .py
>   PythonHandler mod_python.publisher
>   PythonDebug On
>   PythonNoReload Off
> 
> Can anyone provide some insight?!
> 
> Thanks,
> Marc
> 
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
> 

_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From rusfkk at yahoo.com  Sat Mar 24 02:12:11 2001
From: rusfkk at yahoo.com (Kirill)
Date: Fri Jan  9 21:46:13 2004
Subject: [mod_python] Ïðàâèëüíàÿ ðåãèñòðàöèÿ
Message-ID: <200103252211.f2PMBPc21389@eden.ispol.com>

??????????? ? 30 ?????????? ????????? ???????? ? ????????? - 30$.

??????????? ? 20 ????????????? ????????? ???????? ? ????????? - 20$.

??????????? ????? ? ????????? ???????? Rambler.ru, Yandex.ru
? ?????????? ?????? ????? ?? ?????? ???????? ??????? ?? ????? ????????
?????? - ??????????.

From ndonti at swbell.net  Sun Mar 25 18:36:09 2001
From: ndonti at swbell.net (Naresh Donti)
Date: Fri Jan  9 21:46:13 2004
Subject: [mod_python] mod_python and mod_ssl
Message-ID: <5.0.2.1.0.20010325183310.00a62de8@postoffice.swbell.net>

I added
SSLOptions +StdEnvVars
to the directory I am using mod_python with and noticed that the 
environment variables like HTTPS are not set.

Where should I look for these values?


From CHagner at fool.com  Tue Mar 27 13:12:57 2001
From: CHagner at fool.com (Chris Hagner)
Date: Fri Jan  9 21:46:13 2004
Subject: [mod_python] PythonImport failure
Message-ID: <13CDDE6A53DBD311BC3200508B6F0C4804DAFCFA@rover.foolhq.com>

A specific question about why PythonImport works for some modules and not
for others.

1.  The following statement works.  It compiles/imports apache.py at server
startup.

PythonImport mod_python.apache

2.  Now, when I create a dummy module in mod_python/MyObject.py

def myFunction():
    return "MyObject.myFunction()"

class MyObject:

    def __init__(self):
        pass

The following statement does not work.

PythonImport mod_pytnon.MyObject

Here's the error in error.log
[Tue Mar 27 13:07:56 2001] [error] directive_PythonImport: error import
mod_python.MyObject
TypeError: must assign list (not "string") to slice

Any help on this error msg?

BTW, the first error line appears at start up... second appears upon
immediate shutdown... probably just a buffer thing, but I thought I'd share.

3.  I also tried import a base module which worked fine.

PythonImport string

4.  But when I created a copy of string.py and simply renamed it, it didn't
work.

PythonImport copyofstring

Any thoughts on why mod_python appears to like some modules and not others?

Thanks in advance.

Chris



-----Original Message-----
From: Chris Hagner [mailto:CHagner@fool.com]
Sent: Thursday, March 15, 2001 12:07 PM
To: 'Gregory (Grisha) Trubetskoy'
Cc: 'mod_python@modpython.org'
Subject: RE: [mod_python] PythonImport failure


Thanks for the response.  For my tests, mypackage is a package named
'toolkit' and the mymodule is a module named 'brandconfig'.

Oh yeah, I'm doing this on Apache/1.3.19 (Win32) mod_python/2.7.1
Python/2.0.  I'm on Win2K (for development, sigh).

INTERACTIVE SESSION TEST:
******************************

Here's my python interactive session... the module only contains a single
variable x.

>>> import toolkit.brandconfig
>>> dir(toolkit.brandconfig)
['__builtins__', '__doc__', '__file__', '__name__', 'x']
>>> toolkit.brandconfig.x
123
>>> 

So, the module is importable in my python environment.


APACHE PYTHONIMPORT TEST:
******************************

Just to be sure, I ran the apache test again.  Here's the httpd.conf entry.
Nothing shocking.

<Directory "D:/site/brand1/htdocs">
   AddHandler python-program .py
   PythonHandler toolkit.publisher
   PythonDebug on
   PythonImport toolkit.brandconfig
</Directory>

Here's the response in the log upon starting apache.

   [Thu Mar 15 11:39:10 2001] [error] directive_PythonImport: error
importing toolkit.brandconfig

Same as before.  Now, just to be sure, I blew away the brandconfig.py file
(and the .pyc) so that it shouldn't even find it (just to see if I could get
a different error if it didn't even exist).  Result: No change.  Same error
in error.log.  Apparently, it's not even finding it.

APACHE PYTHON SCRIPT TEST:
******************************

So, it wasn't importing it on start up.  How about a python script in
mod_python?

Here's the code blurb...

	import foolkit.brandconfig
       out_string = "foolkit.brandconfig.x: %s \n"% foolkit.brandconfig.x

Did it work?  yup, the page displayed 

	foolkit.brandconfig.x: 123



Yes, I have read through the documentation and my need is to initialize a
number of objects (i.e. dbconn pool) for use throughout my applications.
Now, I am using a custom handler, so I could simply have the handler do this
initialization the first time it runs, but the PythonImport appeared to be a
code-free way to achieve this goal.  Do you all think this is a case where I
*really* need it?  If not, could someone share an example of when it really
deserves to be used?

Thanks again for the help.

Chris

-----Original Message-----
From: Gregory (Grisha) Trubetskoy [mailto:grisha@verio.net]
Sent: Thursday, March 15, 2001 11:26 AM
To: Chris Hagner
Cc: 'mod_python@modpython.org'
Subject: Re: [mod_python] PythonImport failure



Chris -

Have you tried

>>> import mypackage.mymodule

from an interactive Python session?

Also, regarding PythonPath - if you read documentation carefully, you'll
notice that it says that no other directives have any effect at the time
PythonImport is executed.

Generally, you should not use PythonImport unless you *really* need it,
which is almost never the case.

Grisha


On Thu, 15 Mar 2001, Chris Hagner wrote:

> Greetings,
>
> I'm trying to get the PythonImport command to work.  Been through the
> documentation, but it appears to want more than simply inserting
>
>    PythonImport mypackage.mymodule
>
> within my Directory tags in httd.conf.
>
> While mypackage.mymodule is under the standard python lib directory
> (therefore should be found through the sys.path), the system spat out the
> following...
>
>     ...[error] directive_PythonImport: error importing mypackage.mymodule
>
> I then moved the module to a different directory and appended that
directory
> to the sys.path using the PythonPath command (just to see if that allowed
it
> to find the module).  No luck.
>
> I've found a handful of posts from June and August of last year, but no
> posted solutions to getting the PythonImport command to work correctly.
Of
> course, there's a CVS commit with the comment "PythonImport works now" so
> I'm pretty sure it's me...
>
> As a random test, I tried a standard module...
>
>    PythonImport sys
>
> which appeared to work (no error msg), but I'm not really confident that
> this was a meaningful test.
>
> Thanks in advance.
>
> Chris
> chagner _at_ fool _dot_ com
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>
_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From grisha at verio.net  Tue Mar 27 16:00:45 2001
From: grisha at verio.net (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:46:13 2004
Subject: [mod_python] PythonImport failure
In-Reply-To: <13CDDE6A53DBD311BC3200508B6F0C4804DAFCFA@rover.foolhq.com>
Message-ID: <Pine.BSF.4.32.0103271600110.30562-100000@localhost>

Try the mod_python 2.7.2 DLL and see if the problems persist

Grisha

On Tue, 27 Mar 2001, Chris Hagner wrote:

> A specific question about why PythonImport works for some modules and not
> for others.
>
> 1.  The following statement works.  It compiles/imports apache.py at server
> startup.
>
> PythonImport mod_python.apache
>
> 2.  Now, when I create a dummy module in mod_python/MyObject.py
>
> def myFunction():
>     return "MyObject.myFunction()"
>
> class MyObject:
>
>     def __init__(self):
>         pass
>
> The following statement does not work.
>
> PythonImport mod_pytnon.MyObject
>
> Here's the error in error.log
> [Tue Mar 27 13:07:56 2001] [error] directive_PythonImport: error import
> mod_python.MyObject
> TypeError: must assign list (not "string") to slice
>
> Any help on this error msg?
>
> BTW, the first error line appears at start up... second appears upon
> immediate shutdown... probably just a buffer thing, but I thought I'd share.
>
> 3.  I also tried import a base module which worked fine.
>
> PythonImport string
>
> 4.  But when I created a copy of string.py and simply renamed it, it didn't
> work.
>
> PythonImport copyofstring
>
> Any thoughts on why mod_python appears to like some modules and not others?
>
> Thanks in advance.
>
> Chris
>
>
>
> -----Original Message-----
> From: Chris Hagner [mailto:CHagner@fool.com]
> Sent: Thursday, March 15, 2001 12:07 PM
> To: 'Gregory (Grisha) Trubetskoy'
> Cc: 'mod_python@modpython.org'
> Subject: RE: [mod_python] PythonImport failure
>
>
> Thanks for the response.  For my tests, mypackage is a package named
> 'toolkit' and the mymodule is a module named 'brandconfig'.
>
> Oh yeah, I'm doing this on Apache/1.3.19 (Win32) mod_python/2.7.1
> Python/2.0.  I'm on Win2K (for development, sigh).
>
> INTERACTIVE SESSION TEST:
> ******************************
>
> Here's my python interactive session... the module only contains a single
> variable x.
>
> >>> import toolkit.brandconfig
> >>> dir(toolkit.brandconfig)
> ['__builtins__', '__doc__', '__file__', '__name__', 'x']
> >>> toolkit.brandconfig.x
> 123
> >>>
>
> So, the module is importable in my python environment.
>
>
> APACHE PYTHONIMPORT TEST:
> ******************************
>
> Just to be sure, I ran the apache test again.  Here's the httpd.conf entry.
> Nothing shocking.
>
> <Directory "D:/site/brand1/htdocs">
>    AddHandler python-program .py
>    PythonHandler toolkit.publisher
>    PythonDebug on
>    PythonImport toolkit.brandconfig
> </Directory>
>
> Here's the response in the log upon starting apache.
>
>    [Thu Mar 15 11:39:10 2001] [error] directive_PythonImport: error
> importing toolkit.brandconfig
>
> Same as before.  Now, just to be sure, I blew away the brandconfig.py file
> (and the .pyc) so that it shouldn't even find it (just to see if I could get
> a different error if it didn't even exist).  Result: No change.  Same error
> in error.log.  Apparently, it's not even finding it.
>
> APACHE PYTHON SCRIPT TEST:
> ******************************
>
> So, it wasn't importing it on start up.  How about a python script in
> mod_python?
>
> Here's the code blurb...
>
> 	import foolkit.brandconfig
>        out_string = "foolkit.brandconfig.x: %s \n"% foolkit.brandconfig.x
>
> Did it work?  yup, the page displayed
>
> 	foolkit.brandconfig.x: 123
>
>
>
> Yes, I have read through the documentation and my need is to initialize a
> number of objects (i.e. dbconn pool) for use throughout my applications.
> Now, I am using a custom handler, so I could simply have the handler do this
> initialization the first time it runs, but the PythonImport appeared to be a
> code-free way to achieve this goal.  Do you all think this is a case where I
> *really* need it?  If not, could someone share an example of when it really
> deserves to be used?
>
> Thanks again for the help.
>
> Chris
>
> -----Original Message-----
> From: Gregory (Grisha) Trubetskoy [mailto:grisha@verio.net]
> Sent: Thursday, March 15, 2001 11:26 AM
> To: Chris Hagner
> Cc: 'mod_python@modpython.org'
> Subject: Re: [mod_python] PythonImport failure
>
>
>
> Chris -
>
> Have you tried
>
> >>> import mypackage.mymodule
>
> from an interactive Python session?
>
> Also, regarding PythonPath - if you read documentation carefully, you'll
> notice that it says that no other directives have any effect at the time
> PythonImport is executed.
>
> Generally, you should not use PythonImport unless you *really* need it,
> which is almost never the case.
>
> Grisha
>
>
> On Thu, 15 Mar 2001, Chris Hagner wrote:
>
> > Greetings,
> >
> > I'm trying to get the PythonImport command to work.  Been through the
> > documentation, but it appears to want more than simply inserting
> >
> >    PythonImport mypackage.mymodule
> >
> > within my Directory tags in httd.conf.
> >
> > While mypackage.mymodule is under the standard python lib directory
> > (therefore should be found through the sys.path), the system spat out the
> > following...
> >
> >     ...[error] directive_PythonImport: error importing mypackage.mymodule
> >
> > I then moved the module to a different directory and appended that
> directory
> > to the sys.path using the PythonPath command (just to see if that allowed
> it
> > to find the module).  No luck.
> >
> > I've found a handful of posts from June and August of last year, but no
> > posted solutions to getting the PythonImport command to work correctly.
> Of
> > course, there's a CVS commit with the comment "PythonImport works now" so
> > I'm pretty sure it's me...
> >
> > As a random test, I tried a standard module...
> >
> >    PythonImport sys
> >
> > which appeared to work (no error msg), but I'm not really confident that
> > this was a meaningful test.
> >
> > Thanks in advance.
> >
> > Chris
> > chagner _at_ fool _dot_ com
> >
> >
> > _______________________________________________
> > Mod_python mailing list
> > Mod_python@modpython.org
> > http://www.modpython.org/mailman/listinfo/mod_python
> >
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From CHagner at fool.com  Tue Mar 27 16:02:59 2001
From: CHagner at fool.com (Chris Hagner)
Date: Fri Jan  9 21:46:13 2004
Subject: [mod_python] PythonImport failure
Message-ID: <13CDDE6A53DBD311BC3200508B6F0C4804DAFCFC@rover.foolhq.com>

Actually, I was running the latest (2.7.2), but I downloaded the latest from
modpython.org just to be sure.  No change.

BTW, I'll be moving my dev environment to Linux shortly (whew), so I'll let
you know if the same issue persists.  If you have any other ideas, tests,
goose chases... I'm happy to try them out.

Thanks.

Chris

-----Original Message-----
From: Gregory (Grisha) Trubetskoy [mailto:grisha@verio.net]
Sent: Tuesday, March 27, 2001 4:01 PM
To: Chris Hagner
Cc: 'mod_python@modpython.org'
Subject: RE: [mod_python] PythonImport failure



Try the mod_python 2.7.2 DLL and see if the problems persist

Grisha

On Tue, 27 Mar 2001, Chris Hagner wrote:

> A specific question about why PythonImport works for some modules and not
> for others.
>
> 1.  The following statement works.  It compiles/imports apache.py at
server
> startup.
>
> PythonImport mod_python.apache
>
> 2.  Now, when I create a dummy module in mod_python/MyObject.py
>
> def myFunction():
>     return "MyObject.myFunction()"
>
> class MyObject:
>
>     def __init__(self):
>         pass
>
> The following statement does not work.
>
> PythonImport mod_pytnon.MyObject
>
> Here's the error in error.log
> [Tue Mar 27 13:07:56 2001] [error] directive_PythonImport: error import
> mod_python.MyObject
> TypeError: must assign list (not "string") to slice
>
> Any help on this error msg?
>
> BTW, the first error line appears at start up... second appears upon
> immediate shutdown... probably just a buffer thing, but I thought I'd
share.
>
> 3.  I also tried import a base module which worked fine.
>
> PythonImport string
>
> 4.  But when I created a copy of string.py and simply renamed it, it
didn't
> work.
>
> PythonImport copyofstring
>
> Any thoughts on why mod_python appears to like some modules and not
others?
>
> Thanks in advance.
>
> Chris
>
>
>
> -----Original Message-----
> From: Chris Hagner [mailto:CHagner@fool.com]
> Sent: Thursday, March 15, 2001 12:07 PM
> To: 'Gregory (Grisha) Trubetskoy'
> Cc: 'mod_python@modpython.org'
> Subject: RE: [mod_python] PythonImport failure
>
>
> Thanks for the response.  For my tests, mypackage is a package named
> 'toolkit' and the mymodule is a module named 'brandconfig'.
>
> Oh yeah, I'm doing this on Apache/1.3.19 (Win32) mod_python/2.7.1
> Python/2.0.  I'm on Win2K (for development, sigh).
>
> INTERACTIVE SESSION TEST:
> ******************************
>
> Here's my python interactive session... the module only contains a single
> variable x.
>
> >>> import toolkit.brandconfig
> >>> dir(toolkit.brandconfig)
> ['__builtins__', '__doc__', '__file__', '__name__', 'x']
> >>> toolkit.brandconfig.x
> 123
> >>>
>
> So, the module is importable in my python environment.
>
>
> APACHE PYTHONIMPORT TEST:
> ******************************
>
> Just to be sure, I ran the apache test again.  Here's the httpd.conf
entry.
> Nothing shocking.
>
> <Directory "D:/site/brand1/htdocs">
>    AddHandler python-program .py
>    PythonHandler toolkit.publisher
>    PythonDebug on
>    PythonImport toolkit.brandconfig
> </Directory>
>
> Here's the response in the log upon starting apache.
>
>    [Thu Mar 15 11:39:10 2001] [error] directive_PythonImport: error
> importing toolkit.brandconfig
>
> Same as before.  Now, just to be sure, I blew away the brandconfig.py file
> (and the .pyc) so that it shouldn't even find it (just to see if I could
get
> a different error if it didn't even exist).  Result: No change.  Same
error
> in error.log.  Apparently, it's not even finding it.
>
> APACHE PYTHON SCRIPT TEST:
> ******************************
>
> So, it wasn't importing it on start up.  How about a python script in
> mod_python?
>
> Here's the code blurb...
>
> 	import foolkit.brandconfig
>        out_string = "foolkit.brandconfig.x: %s \n"% foolkit.brandconfig.x
>
> Did it work?  yup, the page displayed
>
> 	foolkit.brandconfig.x: 123
>
>
>
> Yes, I have read through the documentation and my need is to initialize a
> number of objects (i.e. dbconn pool) for use throughout my applications.
> Now, I am using a custom handler, so I could simply have the handler do
this
> initialization the first time it runs, but the PythonImport appeared to be
a
> code-free way to achieve this goal.  Do you all think this is a case where
I
> *really* need it?  If not, could someone share an example of when it
really
> deserves to be used?
>
> Thanks again for the help.
>
> Chris
>
> -----Original Message-----
> From: Gregory (Grisha) Trubetskoy [mailto:grisha@verio.net]
> Sent: Thursday, March 15, 2001 11:26 AM
> To: Chris Hagner
> Cc: 'mod_python@modpython.org'
> Subject: Re: [mod_python] PythonImport failure
>
>
>
> Chris -
>
> Have you tried
>
> >>> import mypackage.mymodule
>
> from an interactive Python session?
>
> Also, regarding PythonPath - if you read documentation carefully, you'll
> notice that it says that no other directives have any effect at the time
> PythonImport is executed.
>
> Generally, you should not use PythonImport unless you *really* need it,
> which is almost never the case.
>
> Grisha
>
>
> On Thu, 15 Mar 2001, Chris Hagner wrote:
>
> > Greetings,
> >
> > I'm trying to get the PythonImport command to work.  Been through the
> > documentation, but it appears to want more than simply inserting
> >
> >    PythonImport mypackage.mymodule
> >
> > within my Directory tags in httd.conf.
> >
> > While mypackage.mymodule is under the standard python lib directory
> > (therefore should be found through the sys.path), the system spat out
the
> > following...
> >
> >     ...[error] directive_PythonImport: error importing
mypackage.mymodule
> >
> > I then moved the module to a different directory and appended that
> directory
> > to the sys.path using the PythonPath command (just to see if that
allowed
> it
> > to find the module).  No luck.
> >
> > I've found a handful of posts from June and August of last year, but no
> > posted solutions to getting the PythonImport command to work correctly.
> Of
> > course, there's a CVS commit with the comment "PythonImport works now"
so
> > I'm pretty sure it's me...
> >
> > As a random test, I tried a standard module...
> >
> >    PythonImport sys
> >
> > which appeared to work (no error msg), but I'm not really confident that
> > this was a meaningful test.
> >
> > Thanks in advance.
> >
> > Chris
> > chagner _at_ fool _dot_ com
> >
> >
> > _______________________________________________
> > Mod_python mailing list
> > Mod_python@modpython.org
> > http://www.modpython.org/mailman/listinfo/mod_python
> >
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>

_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From traylen at ccdc.cam.ac.uk  Wed Mar 28 18:24:23 2001
From: traylen at ccdc.cam.ac.uk (Steve Traylen)
Date: Fri Jan  9 21:46:13 2004
Subject: [mod_python] Compile on Solaris
Message-ID: <Pine.GSO.4.05.10103281821090.18392-100000@sun23.ccdc.cam.ac.uk>

I am trying to do a static build of mod_python on solaris.
but at the linking time to form httpd demon the compile fails
with a lot of undefined functions in libpython.a .

Does anyone have any ideas.

Below is the out put.

Much appreciated.

 Steve
 http://nrich.maths.org/~smt32/


===> os/unix
<=== os/unix
===> ap
<=== ap
===> main
<=== main
===> lib
===> lib/expat-lite
<=== lib/expat-lite
<=== lib
===> modules
===> modules/standard
<=== modules/standard
===> modules/ssl
<=== modules/ssl
===> modules/perl
<=== modules/perl
===> modules/python
mksh: Warning: newline is not last character in file Makefile
Current working directory /usr/local/src/apache_1.3.19/src/modules/python
<=== modules/python
<=== modules
gcc -c -I. -I/usr/local/lib/perl5/5.6.0/sun4-solaris/CORE -I/usr/local/include -I./os/unix -I./include   -DSOLARIS2=280 -DMOD_SSL=208101 -DMOD_PERL -DUSE_PERL_SSI -fno-strict-aliasing -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DEAPI -DEAPI_MM -DUSE_EXPAT -I./lib/expat-lite -DNO_DL_NEEDED `./apaci` modules.c
gcc -c -I. -I/usr/local/lib/perl5/5.6.0/sun4-solaris/CORE -I/usr/local/include -I./os/unix -I./include   -DSOLARIS2=280 -DMOD_SSL=208101 -DMOD_PERL -DUSE_PERL_SSI -fno-strict-aliasing -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DEAPI -DEAPI_MM -DUSE_EXPAT -I./lib/expat-lite -DNO_DL_NEEDED `./apaci` buildmark.c
gcc  -DSOLARIS2=280 -DMOD_SSL=208101 -DMOD_PERL -DUSE_PERL_SSI -fno-strict-aliasing -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DEAPI -DEAPI_MM -DUSE_EXPAT -I./lib/expat-lite -DNO_DL_NEEDED `./apaci` -L/usr/local/lib -L/usr/local/lib   \
      -o httpd buildmark.o modules.o  modules/ssl/libssl.a  modules/perl/libperl.a  modules/python/libpython.a  modules/standard/libstandard.a  main/libmain.a  ./os/unix/libos.a  ap/libap.a  lib/expat-lite/libexpat.a  -lsocket -lnsl  -lssl -lcrypto  -Wl,-E  -L/usr/local/lib  /usr/local/lib/perl5/5.6.0/sun4-solaris/auto/DynaLoader/DynaLoader.a -L/usr/local/lib/perl5/5.6.0/sun4-solaris/CORE -lperl -lsocket -lnsl -lgdbm -ldl -lm -lc -lcrypt -lsec  -lmm
modules/python/libpython.a(mod_python.o): In function `make_interpreter':
mod_python.o(.text+0xc): undefined reference to `Py_NewInterpreter'
mod_python.o(.text+0x74): undefined reference to `PyThreadState_Swap'
modules/python/libpython.a(mod_python.o): In function `get_interpreter_data':
mod_python.o(.text+0xd4): undefined reference to `PyDict_GetItemString'
mod_python.o(.text+0x140): undefined reference to `PyCObject_FromVoidPtr'
mod_python.o(.text+0x160): undefined reference to `PyDict_SetItemString'
mod_python.o(.text+0x174): undefined reference to `PyCObject_AsVoidPtr'
modules/python/libpython.a(mod_python.o): In function `python_cleanup':
mod_python.o(.text+0x36c): undefined reference to `PyThreadState_New'
mod_python.o(.text+0x37c): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x39c): undefined reference to `PyObject_CallFunction'
mod_python.o(.text+0x3bc): undefined reference to `PyErr_Fetch'
mod_python.o(.text+0x3cc): undefined reference to `PyObject_Str'
mod_python.o(.text+0x3dc): undefined reference to `PyObject_Str'
mod_python.o(.text+0x3ec): undefined reference to `PyObject_Str'
mod_python.o(.text+0x4ec): undefined reference to `PyString_AsString'
mod_python.o(.text+0x520): undefined reference to `PyString_AsString'
mod_python.o(.text+0x530): undefined reference to `PyString_AsString'
mod_python.o(.text+0x578): undefined reference to `PyString_AsString'
mod_python.o(.text+0x5ac): undefined reference to `PyString_AsString'
modules/python/libpython.a(mod_python.o)(.text+0x5bc): more undefined references to `PyString_AsString' follow
modules/python/libpython.a(mod_python.o): In function `python_cleanup':
mod_python.o(.text+0x6d0): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x6dc): undefined reference to `PyThreadState_Delete'
modules/python/libpython.a(mod_python.o): In function `python_init':
mod_python.o(.text+0x7dc): undefined reference to `Py_GetVersion'
mod_python.o(.text+0x824): undefined reference to `Py_IsInitialized'
mod_python.o(.text+0x838): undefined reference to `Py_Initialize'
mod_python.o(.text+0x844): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x84c): undefined reference to `PyDict_New'
modules/python/libpython.a(mod_python.o): In function `make_obcallback':
mod_python.o(.text+0xd2c): undefined reference to `PyImport_ImportModule'
mod_python.o(.text+0xd78): undefined reference to `PyObject_CallMethod'
modules/python/libpython.a(mod_python.o): In function `get_request_object':
mod_python.o(.text+0xe98): undefined reference to `PyEval_SaveThread'
mod_python.o(.text+0xeb4): undefined reference to `PyEval_RestoreThread'
mod_python.o(.text+0xf20): undefined reference to `PyEval_SaveThread'
mod_python.o(.text+0xf3c): undefined reference to `PyEval_RestoreThread'
modules/python/libpython.a(mod_python.o): In function `python_handler':
mod_python.o(.text+0x12bc): undefined reference to `PyThreadState_New'
mod_python.o(.text+0x12cc): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x1334): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x1340): undefined reference to `PyThreadState_Delete'
mod_python.o(.text+0x1570): undefined reference to `PyObject_CallMethod'
mod_python.o(.text+0x1580): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x158c): undefined reference to `PyThreadState_Delete'
mod_python.o(.text+0x15e4): undefined reference to `PyInt_Type'
mod_python.o(.text+0x15e8): undefined reference to `PyInt_Type'
mod_python.o(.text+0x1634): undefined reference to `PyInt_AsLong'
modules/python/libpython.a(mod_python.o): In function `python_cleanup_handler':
mod_python.o(.text+0x1978): undefined reference to `PyThreadState_New'
mod_python.o(.text+0x1988): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x19f0): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x19fc): undefined reference to `PyThreadState_Delete'
mod_python.o(.text+0x1b94): undefined reference to `PyObject_CallMethod'
mod_python.o(.text+0x1ba0): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x1bac): undefined reference to `PyThreadState_Delete'
modules/python/libpython.a(mod_python.o): In function `directive_PythonOptimize':
mod_python.o(.text+0x21c8): undefined reference to `Py_OptimizeFlag'
mod_python.o(.text+0x21cc): undefined reference to `Py_OptimizeFlag'
mod_python.o(.text+0x21e0): undefined reference to `Py_OptimizeFlag'
mod_python.o(.text+0x21e4): undefined reference to `Py_OptimizeFlag'
modules/python/libpython.a(mod_python.o): In function `python_finalize':
mod_python.o(.text+0x2568): undefined reference to `PyThreadState_New'
mod_python.o(.text+0x2578): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x2580): undefined reference to `Py_Finalize'
modules/python/libpython.a(mod_python.o): In function `PythonChildInitHandler':
mod_python.o(.text+0x26bc): undefined reference to `PyThreadState_New'
mod_python.o(.text+0x26cc): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x2734): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x2740): undefined reference to `PyThreadState_Delete'
mod_python.o(.text+0x2768): undefined reference to `PyImport_ImportModule'
mod_python.o(.text+0x2780): undefined reference to `PyObject_GetAttrString'
mod_python.o(.text+0x2790): undefined reference to `PyString_FromString'
mod_python.o(.text+0x27a4): undefined reference to `PySequence_Index'
mod_python.o(.text+0x27c8): undefined reference to `PyList_SetSlice'
mod_python.o(.text+0x28ac): undefined reference to `PyImport_ImportModule'
mod_python.o(.text+0x28c0): undefined reference to `PyErr_Occurred'
mod_python.o(.text+0x28d4): undefined reference to `PyErr_Print'
mod_python.o(.text+0x2908): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x2914): undefined reference to `PyThreadState_Delete'
modules/python/libpython.a(_apachemodule.o): In function `log_error':
_apachemodule.o(.text+0x30): undefined reference to `PyArg_ParseTuple'
_apachemodule.o(.text+0xb0): undefined reference to `PyErr_BadArgument'
_apachemodule.o(.text+0xf8): undefined reference to `_Py_NoneStruct'
_apachemodule.o(.text+0xfc): undefined reference to `_Py_NoneStruct'
_apachemodule.o(.text+0x100): undefined reference to `_Py_NoneStruct'
_apachemodule.o(.text+0x104): undefined reference to `_Py_NoneStruct'
_apachemodule.o(.text+0x108): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(_apachemodule.o)(.text+0x10c): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(_apachemodule.o): In function `parse_qs':
_apachemodule.o(.text+0x188): undefined reference to `PyArg_ParseTuple'
_apachemodule.o(.text+0x1ac): undefined reference to `PyList_New'
_apachemodule.o(.text+0x210): undefined reference to `PyString_FromStringAndSize'
_apachemodule.o(.text+0x32c): undefined reference to `_PyString_Resize'
_apachemodule.o(.text+0x33c): undefined reference to `PyList_Append'
_apachemodule.o(.text+0x3a0): undefined reference to `PyDict_New'
_apachemodule.o(.text+0x3cc): undefined reference to `PyList_Size'
_apachemodule.o(.text+0x43c): undefined reference to `PyString_FromStringAndSize'
_apachemodule.o(.text+0x46c): undefined reference to `PyString_FromStringAndSize'
_apachemodule.o(.text+0x620): undefined reference to `_PyString_Resize'
_apachemodule.o(.text+0x640): undefined reference to `_PyString_Resize'
_apachemodule.o(.text+0x650): undefined reference to `PyMapping_HasKeyString'
_apachemodule.o(.text+0x66c): undefined reference to `PyDict_GetItem'
_apachemodule.o(.text+0x680): undefined reference to `PyList_Append'
_apachemodule.o(.text+0x69c): undefined reference to `Py_BuildValue'
_apachemodule.o(.text+0x6b4): undefined reference to `PyDict_SetItem'
modules/python/libpython.a(_apachemodule.o): In function `parse_qsl':
_apachemodule.o(.text+0x834): undefined reference to `PyArg_ParseTuple'
_apachemodule.o(.text+0x858): undefined reference to `PyList_New'
_apachemodule.o(.text+0x8b8): undefined reference to `PyString_FromStringAndSize'
_apachemodule.o(.text+0x9e8): undefined reference to `_PyString_Resize'
_apachemodule.o(.text+0xa08): undefined reference to `PyString_FromStringAndSize'
_apachemodule.o(.text+0xa38): undefined reference to `PyString_FromStringAndSize'
_apachemodule.o(.text+0xbec): undefined reference to `_PyString_Resize'
_apachemodule.o(.text+0xc0c): undefined reference to `_PyString_Resize'
_apachemodule.o(.text+0xc24): undefined reference to `Py_BuildValue'
_apachemodule.o(.text+0xc34): undefined reference to `PyList_Append'
modules/python/libpython.a(_apachemodule.o): In function `init_apache':
_apachemodule.o(.text+0xd4c): undefined reference to `PyType_Type'
_apachemodule.o(.text+0xd50): undefined reference to `PyType_Type'
_apachemodule.o(.text+0xd60): undefined reference to `PyType_Type'
_apachemodule.o(.text+0xd64): undefined reference to `PyType_Type'
_apachemodule.o(.text+0xd74): undefined reference to `PyType_Type'
modules/python/libpython.a(_apachemodule.o)(.text+0xd78): more undefined references to `PyType_Type' follow
modules/python/libpython.a(_apachemodule.o): In function `init_apache':
_apachemodule.o(.text+0xdb0): undefined reference to `Py_InitModule4'
_apachemodule.o(.text+0xdc0): undefined reference to `PyModule_GetDict'
_apachemodule.o(.text+0xddc): undefined reference to `PyErr_NewException'
_apachemodule.o(.text+0xe28): undefined reference to `PyDict_SetItemString'
modules/python/libpython.a(requestobject.o): In function `MpRequest_FromRequest':
requestobject.o(.text+0x98): undefined reference to `PyErr_NoMemory'
modules/python/libpython.a(requestobject.o): In function `req_add_common_vars':
requestobject.o(.text+0x1fc): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x200): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x204): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x208): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x20c): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(requestobject.o)(.text+0x210): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(requestobject.o): In function `req_add_handler':
requestobject.o(.text+0x3f0): undefined reference to `PyArg_ParseTuple'
requestobject.o(.text+0x428): undefined reference to `PyExc_IndexError'
requestobject.o(.text+0x42c): undefined reference to `PyExc_IndexError'
requestobject.o(.text+0x458): undefined reference to `PyErr_SetString'
requestobject.o(.text+0x6d0): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x6d4): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x6d8): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x6dc): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x6e0): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(requestobject.o)(.text+0x6e4): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(requestobject.o): In function `req_get_basic_auth_pw':
requestobject.o(.text+0xb60): undefined reference to `PyString_FromString'
requestobject.o(.text+0xb7c): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0xb80): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0xb84): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0xb88): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0xb8c): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(requestobject.o)(.text+0xb90): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(requestobject.o): In function `req_get_remote_host':
requestobject.o(.text+0xc94): undefined reference to `PyArg_ParseTuple'
requestobject.o(.text+0xcec): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0xcf0): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0xcf4): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0xcf8): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0xcfc): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(requestobject.o)(.text+0xd00): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(requestobject.o): In function `req_get_remote_host':
requestobject.o(.text+0xd2c): undefined reference to `PyString_FromString'
modules/python/libpython.a(requestobject.o): In function `req_read':
requestobject.o(.text+0xdcc): undefined reference to `PyArg_ParseTuple'
requestobject.o(.text+0xe04): undefined reference to `PyString_FromString'
requestobject.o(.text+0xe5c): undefined reference to `PyInt_FromLong'
requestobject.o(.text+0xe94): undefined reference to `PyErr_SetObject'
requestobject.o(.text+0xf14): undefined reference to `PyString_FromString'
requestobject.o(.text+0xf68): undefined reference to `PyString_FromStringAndSize'
requestobject.o(.text+0x1114): undefined reference to `PyExc_IOError'
requestobject.o(.text+0x1118): undefined reference to `PyExc_IOError'
requestobject.o(.text+0x1124): undefined reference to `PyString_FromString'
requestobject.o(.text+0x1134): undefined reference to `PyErr_SetObject'
requestobject.o(.text+0x1198): undefined reference to `_PyString_Resize'
modules/python/libpython.a(requestobject.o): In function `req_readline':
requestobject.o(.text+0x11f8): undefined reference to `PyArg_ParseTuple'
requestobject.o(.text+0x1230): undefined reference to `PyString_FromString'
requestobject.o(.text+0x1288): undefined reference to `PyInt_FromLong'
requestobject.o(.text+0x12c0): undefined reference to `PyErr_SetObject'
requestobject.o(.text+0x1340): undefined reference to `PyString_FromString'
requestobject.o(.text+0x1394): undefined reference to `PyString_FromStringAndSize'
requestobject.o(.text+0x14b0): undefined reference to `_PyString_Resize'
requestobject.o(.text+0x1550): undefined reference to `PyErr_NoMemory'
requestobject.o(.text+0x1648): undefined reference to `PyExc_IOError'
requestobject.o(.text+0x164c): undefined reference to `PyExc_IOError'
requestobject.o(.text+0x1658): undefined reference to `PyString_FromString'
requestobject.o(.text+0x1668): undefined reference to `PyErr_SetObject'
requestobject.o(.text+0x179c): undefined reference to `_PyString_Resize'
modules/python/libpython.a(requestobject.o): In function `req_register_cleanup':
requestobject.o(.text+0x17fc): undefined reference to `PyArg_ParseTuple'
requestobject.o(.text+0x1854): undefined reference to `PyCallable_Check'
requestobject.o(.text+0x18ec): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x18f0): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x18f4): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x18f8): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x18fc): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(requestobject.o)(.text+0x1900): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(requestobject.o): In function `req_register_cleanup':
requestobject.o(.text+0x1928): undefined reference to `PyExc_ValueError'
requestobject.o(.text+0x192c): undefined reference to `PyExc_ValueError'
requestobject.o(.text+0x193c): undefined reference to `PyErr_SetString'
requestobject.o(.text+0x1984): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x1988): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x198c): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x1990): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x1994): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(requestobject.o)(.text+0x1998): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(requestobject.o): In function `req_write':
requestobject.o(.text+0x1a58): undefined reference to `PyArg_ParseTuple'
requestobject.o(.text+0x1ab4): undefined reference to `PyExc_IOError'
requestobject.o(.text+0x1ab8): undefined reference to `PyExc_IOError'
requestobject.o(.text+0x1ac8): undefined reference to `PyErr_SetString'
requestobject.o(.text+0x1adc): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x1ae0): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x1ae4): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x1ae8): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x1aec): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(requestobject.o)(.text+0x1af0): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(requestobject.o): In function `request_getattr':
requestobject.o(.text+0x2000): undefined reference to `Py_FindMethod'
requestobject.o(.text+0x202c): undefined reference to `PyErr_Clear'
requestobject.o(.text+0x2080): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x2084): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x2088): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x208c): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x2090): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(requestobject.o)(.text+0x2094): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(requestobject.o): In function `request_getattr':
requestobject.o(.text+0x2838): undefined reference to `PyString_FromString'
requestobject.o(.text+0x287c): undefined reference to `PyInt_FromLong'
requestobject.o(.text+0x28ac): undefined reference to `PyMember_Get'
modules/python/libpython.a(requestobject.o): In function `request_setattr':
requestobject.o(.text+0x28e8): undefined reference to `PyExc_AttributeError'
requestobject.o(.text+0x28ec): undefined reference to `PyExc_AttributeError'
requestobject.o(.text+0x28fc): undefined reference to `PyErr_SetString'
requestobject.o(.text+0x2944): undefined reference to `PyString_AsString'
requestobject.o(.text+0x29b4): undefined reference to `PyString_AsString'
requestobject.o(.text+0x2a18): undefined reference to `PyString_AsString'
requestobject.o(.text+0x2a64): undefined reference to `PyMember_Set'
modules/python/libpython.a(tableobject.o): In function `MpTable_FromTable':
tableobject.o(.text+0x28): undefined reference to `PyErr_NoMemory'
modules/python/libpython.a(tableobject.o): In function `tablegetitem':
tableobject.o(.text+0x118): undefined reference to `PyString_AsString'
tableobject.o(.text+0x14c): undefined reference to `PyExc_KeyError'
tableobject.o(.text+0x150): undefined reference to `PyExc_KeyError'
tableobject.o(.text+0x15c): undefined reference to `PyErr_SetObject'
tableobject.o(.text+0x174): undefined reference to `PyString_FromString'
modules/python/libpython.a(tableobject.o): In function `tablesetitem':
tableobject.o(.text+0x1b8): undefined reference to `PyString_Type'
tableobject.o(.text+0x1bc): undefined reference to `PyString_Type'
tableobject.o(.text+0x1cc): undefined reference to `PyExc_TypeError'
tableobject.o(.text+0x1d0): undefined reference to `PyExc_TypeError'
tableobject.o(.text+0x1e0): undefined reference to `PyErr_SetString'
tableobject.o(.text+0x1f8): undefined reference to `PyString_AsString'
tableobject.o(.text+0x208): undefined reference to `_Py_NoneStruct'
tableobject.o(.text+0x20c): undefined reference to `_Py_NoneStruct'
tableobject.o(.text+0x268): undefined reference to `PyString_Type'
tableobject.o(.text+0x26c): undefined reference to `PyString_Type'
tableobject.o(.text+0x27c): undefined reference to `PyExc_TypeError'
tableobject.o(.text+0x280): undefined reference to `PyExc_TypeError'
tableobject.o(.text+0x290): undefined reference to `PyErr_SetString'
tableobject.o(.text+0x2ac): undefined reference to `PyString_AsString'
modules/python/libpython.a(tableobject.o): In function `table_keys':
tableobject.o(.text+0x304): undefined reference to `PyList_New'
tableobject.o(.text+0x374): undefined reference to `PyString_FromString'
tableobject.o(.text+0x38c): undefined reference to `PyList_SetItem'
modules/python/libpython.a(tableobject.o): In function `table_has_key':
tableobject.o(.text+0x3e8): undefined reference to `PyArg_ParseTuple'
tableobject.o(.text+0x434): undefined reference to `PyInt_FromLong'
tableobject.o(.text+0x454): undefined reference to `PyInt_FromLong'
modules/python/libpython.a(tableobject.o): In function `table_add':
tableobject.o(.text+0x490): undefined reference to `PyArg_ParseTuple'
tableobject.o(.text+0x4c8): undefined reference to `_Py_NoneStruct'
tableobject.o(.text+0x4cc): undefined reference to `_Py_NoneStruct'
tableobject.o(.text+0x4d0): undefined reference to `_Py_NoneStruct'
tableobject.o(.text+0x4d4): undefined reference to `_Py_NoneStruct'
tableobject.o(.text+0x4d8): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(tableobject.o)(.text+0x4dc): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(tableobject.o): In function `table_getattr':
tableobject.o(.text+0x560): undefined reference to `Py_FindMethod'
modules/python/libpython.a(tableobject.o): In function `table_repr':
tableobject.o(.text+0x58c): undefined reference to `PyString_FromString'
tableobject.o(.text+0x5d8): undefined reference to `PyString_FromString'
tableobject.o(.text+0x5e8): undefined reference to `PyString_ConcatAndDel'
tableobject.o(.text+0x648): undefined reference to `PyString_FromString'
tableobject.o(.text+0x658): undefined reference to `PyString_ConcatAndDel'
tableobject.o(.text+0x67c): undefined reference to `PyString_FromString'
tableobject.o(.text+0x68c): undefined reference to `PyString_ConcatAndDel'
tableobject.o(.text+0x6a0): undefined reference to `PyString_FromString'
tableobject.o(.text+0x6b0): undefined reference to `PyString_ConcatAndDel'
tableobject.o(.text+0x6d4): undefined reference to `PyString_FromString'
tableobject.o(.text+0x6e4): undefined reference to `PyString_ConcatAndDel'
tableobject.o(.text+0x6f8): undefined reference to `PyString_FromString'
tableobject.o(.text+0x708): undefined reference to `PyString_ConcatAndDel'
tableobject.o(.text+0x72c): undefined reference to `PyString_FromString'
tableobject.o(.text+0x73c): undefined reference to `PyString_ConcatAndDel'
tableobject.o(.text+0x758): undefined reference to `PyString_FromString'
tableobject.o(.text+0x768): undefined reference to `PyString_ConcatAndDel'
modules/python/libpython.a(util.o): In function `tuple_from_array_header':
util.o(.text+0x18): undefined reference to `_Py_NoneStruct'
util.o(.text+0x1c): undefined reference to `_Py_NoneStruct'
util.o(.text+0x20): undefined reference to `_Py_NoneStruct'
util.o(.text+0x24): undefined reference to `_Py_NoneStruct'
util.o(.text+0x28): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(util.o)(.text+0x2c): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(util.o): In function `tuple_from_array_header':
util.o(.text+0x5c): undefined reference to `PyTuple_New'
util.o(.text+0xb0): undefined reference to `PyString_FromString'
util.o(.text+0xc4): undefined reference to `PyTuple_SetItem'
modules/python/libpython.a(serverobject.o): In function `MpServer_FromServer':
serverobject.o(.text+0x28): undefined reference to `PyErr_NoMemory'
modules/python/libpython.a(serverobject.o): In function `server_register_cleanup':
serverobject.o(.text+0xb8): undefined reference to `PyArg_ParseTuple'
serverobject.o(.text+0xe4): undefined reference to `PyObject_HasAttrString'
serverobject.o(.text+0xf8): undefined reference to `PyExc_ValueError'
serverobject.o(.text+0xfc): undefined reference to `PyExc_ValueError'
serverobject.o(.text+0x10c): undefined reference to `PyErr_SetString'
serverobject.o(.text+0x134): undefined reference to `PyObject_GetAttrString'
serverobject.o(.text+0x15c): undefined reference to `PyExc_ValueError'
serverobject.o(.text+0x160): undefined reference to `PyExc_ValueError'
serverobject.o(.text+0x170): undefined reference to `PyErr_SetString'
serverobject.o(.text+0x190): undefined reference to `PyCallable_Check'
serverobject.o(.text+0x1a4): undefined reference to `PyExc_ValueError'
serverobject.o(.text+0x1a8): undefined reference to `PyExc_ValueError'
serverobject.o(.text+0x1b8): undefined reference to `PyErr_SetString'
serverobject.o(.text+0x278): undefined reference to `_Py_NoneStruct'
serverobject.o(.text+0x27c): undefined reference to `_Py_NoneStruct'
serverobject.o(.text+0x280): undefined reference to `_Py_NoneStruct'
serverobject.o(.text+0x284): undefined reference to `_Py_NoneStruct'
serverobject.o(.text+0x288): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(serverobject.o)(.text+0x28c): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(serverobject.o): In function `server_getattr':
serverobject.o(.text+0x3c0): undefined reference to `Py_FindMethod'
serverobject.o(.text+0x3ec): undefined reference to `PyErr_Clear'
serverobject.o(.text+0x440): undefined reference to `_Py_NoneStruct'
serverobject.o(.text+0x444): undefined reference to `_Py_NoneStruct'
serverobject.o(.text+0x448): undefined reference to `_Py_NoneStruct'
serverobject.o(.text+0x44c): undefined reference to `_Py_NoneStruct'
serverobject.o(.text+0x450): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(serverobject.o)(.text+0x454): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(serverobject.o): In function `server_getattr':
serverobject.o(.text+0x554): undefined reference to `PyInt_FromLong'
serverobject.o(.text+0x614): undefined reference to `PyMember_Get'
modules/python/libpython.a(connobject.o): In function `MpConn_FromConn':
connobject.o(.text+0x28): undefined reference to `PyErr_NoMemory'
modules/python/libpython.a(connobject.o): In function `makeipaddr':
connobject.o(.text+0x1f4): undefined reference to `PyString_FromString'
modules/python/libpython.a(connobject.o): In function `makesockaddr':
connobject.o(.text+0x258): undefined reference to `Py_BuildValue'
modules/python/libpython.a(connobject.o): In function `conn_getattr':
connobject.o(.text+0x31c): undefined reference to `_Py_NoneStruct'
connobject.o(.text+0x320): undefined reference to `_Py_NoneStruct'
connobject.o(.text+0x324): undefined reference to `_Py_NoneStruct'
connobject.o(.text+0x328): undefined reference to `_Py_NoneStruct'
connobject.o(.text+0x32c): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(connobject.o)(.text+0x330): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(connobject.o): In function `conn_getattr':
connobject.o(.text+0x5c4): undefined reference to `PyMember_Get'
modules/python/libpython.a(connobject.o): In function `conn_setattr':
connobject.o(.text+0x600): undefined reference to `PyExc_AttributeError'
connobject.o(.text+0x604): undefined reference to `PyExc_AttributeError'
connobject.o(.text+0x614): undefined reference to `PyErr_SetString'
connobject.o(.text+0x65c): undefined reference to `PyString_AsString'
connobject.o(.text+0x6ac): undefined reference to `PyMember_Set'
collect2: ld returned 1 exit status
*** Error code 1
make: Fatal error: Command failed for target `target_static'
-- 
Steve Traylen, Systems Engineer
http://www.ccdc.cam.ac.uk/


From joost.damad at siemens.atea.be  Thu Mar 29 10:06:16 2001
From: joost.damad at siemens.atea.be (Joost Yervante Damad)
Date: Fri Jan  9 21:46:14 2004
Subject: [mod_python] Compile on Solaris
In-Reply-To: <Pine.GSO.4.05.10103281821090.18392-100000@sun23.ccdc.cam.ac.uk>; from traylen@ccdc.cam.ac.uk on Wed, Mar 28, 2001 at 06:24:23PM +0100
References: <Pine.GSO.4.05.10103281821090.18392-100000@sun23.ccdc.cam.ac.uk>
Message-ID: <20010329100616.A12636@siemens.atea.be>

You also need the embedded python interpreter
linked into apache, e.g.: lib/python2.0/config/libpython2.0.a

This failed for me too, soo I did some hacks in the makefiles
to force apache to link along the python embedded interpreter.

Hope this helps...

'Steve Traylen' wrote about '[mod_python] Compile on Solaris' - Wed, Mar 28, 2001 at 07:24:23PM CEST
> 
> I am trying to do a static build of mod_python on solaris.
> but at the linking time to form httpd demon the compile fails
> with a lot of undefined functions in libpython.a .
> 
> Does anyone have any ideas.
> 
> Below is the out put.
> 
> Much appreciated.
> 
>  Steve
>  http://nrich.maths.org/~smt32/
> 
> 
> ===> os/unix
> <=== os/unix
> ===> ap
> <=== ap
> ===> main
> <=== main
> ===> lib
> ===> lib/expat-lite
> <=== lib/expat-lite
> <=== lib
> ===> modules
> ===> modules/standard
> <=== modules/standard
> ===> modules/ssl
> <=== modules/ssl
> ===> modules/perl
> <=== modules/perl
> ===> modules/python
> mksh: Warning: newline is not last character in file Makefile
> Current working directory /usr/local/src/apache_1.3.19/src/modules/python
> <=== modules/python
> <=== modules
> gcc -c -I. -I/usr/local/lib/perl5/5.6.0/sun4-solaris/CORE -I/usr/local/include -I./os/unix -I./include   -DSOLARIS2=280 -DMOD_SSL=208101 -DMOD_PERL -DUSE_PERL_SSI -fno-strict-aliasing -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DEAPI -DEAPI_MM -DUSE_EXPAT -I./lib/expat-lite -DNO_DL_NEEDED `./apaci` modules.c
> gcc -c -I. -I/usr/local/lib/perl5/5.6.0/sun4-solaris/CORE -I/usr/local/include -I./os/unix -I./include   -DSOLARIS2=280 -DMOD_SSL=208101 -DMOD_PERL -DUSE_PERL_SSI -fno-strict-aliasing -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DEAPI -DEAPI_MM -DUSE_EXPAT -I./lib/expat-lite -DNO_DL_NEEDED `./apaci` buildmark.c
> gcc  -DSOLARIS2=280 -DMOD_SSL=208101 -DMOD_PERL -DUSE_PERL_SSI -fno-strict-aliasing -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DEAPI -DEAPI_MM -DUSE_EXPAT -I./lib/expat-lite -DNO_DL_NEEDED `./apaci` -L/usr/local/lib -L/usr/local/lib   \
>       -o httpd buildmark.o modules.o  modules/ssl/libssl.a  modules/perl/libperl.a  modules/python/libpython.a  modules/standard/libstandard.a  main/libmain.a  ./os/unix/libos.a  ap/libap.a  lib/expat-lite/libexpat.a  -lsocket -lnsl  -lssl -lcrypto  -Wl,-E  -L/usr/local/lib  /usr/local/lib/perl5/5.6.0/sun4-solaris/auto/DynaLoader/DynaLoader.a -L/usr/local/lib/perl5/5.6.0/sun4-solaris/CORE -lperl -lsocket -lnsl -lgdbm -ldl -lm -lc -lcrypt -lsec  -lmm
> modules/python/libpython.a(mod_python.o): In function `make_interpreter':
> mod_python.o(.text+0xc): undefined reference to `Py_NewInterpreter'
> mod_python.o(.text+0x74): undefined reference to `PyThreadState_Swap'
> modules/python/libpython.a(mod_python.o): In function `get_interpreter_data':
> mod_python.o(.text+0xd4): undefined reference to `PyDict_GetItemString'
> mod_python.o(.text+0x140): undefined reference to `PyCObject_FromVoidPtr'
> mod_python.o(.text+0x160): undefined reference to `PyDict_SetItemString'
> mod_python.o(.text+0x174): undefined reference to `PyCObject_AsVoidPtr'
> modules/python/libpython.a(mod_python.o): In function `python_cleanup':
> mod_python.o(.text+0x36c): undefined reference to `PyThreadState_New'
> mod_python.o(.text+0x37c): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x39c): undefined reference to `PyObject_CallFunction'
> mod_python.o(.text+0x3bc): undefined reference to `PyErr_Fetch'
> mod_python.o(.text+0x3cc): undefined reference to `PyObject_Str'
> mod_python.o(.text+0x3dc): undefined reference to `PyObject_Str'
> mod_python.o(.text+0x3ec): undefined reference to `PyObject_Str'
> mod_python.o(.text+0x4ec): undefined reference to `PyString_AsString'
> mod_python.o(.text+0x520): undefined reference to `PyString_AsString'
> mod_python.o(.text+0x530): undefined reference to `PyString_AsString'
> mod_python.o(.text+0x578): undefined reference to `PyString_AsString'
> mod_python.o(.text+0x5ac): undefined reference to `PyString_AsString'
> modules/python/libpython.a(mod_python.o)(.text+0x5bc): more undefined references to `PyString_AsString' follow
> modules/python/libpython.a(mod_python.o): In function `python_cleanup':
> mod_python.o(.text+0x6d0): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x6dc): undefined reference to `PyThreadState_Delete'
> modules/python/libpython.a(mod_python.o): In function `python_init':
> mod_python.o(.text+0x7dc): undefined reference to `Py_GetVersion'
> mod_python.o(.text+0x824): undefined reference to `Py_IsInitialized'
> mod_python.o(.text+0x838): undefined reference to `Py_Initialize'
> mod_python.o(.text+0x844): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x84c): undefined reference to `PyDict_New'
> modules/python/libpython.a(mod_python.o): In function `make_obcallback':
> mod_python.o(.text+0xd2c): undefined reference to `PyImport_ImportModule'
> mod_python.o(.text+0xd78): undefined reference to `PyObject_CallMethod'
> modules/python/libpython.a(mod_python.o): In function `get_request_object':
> mod_python.o(.text+0xe98): undefined reference to `PyEval_SaveThread'
> mod_python.o(.text+0xeb4): undefined reference to `PyEval_RestoreThread'
> mod_python.o(.text+0xf20): undefined reference to `PyEval_SaveThread'
> mod_python.o(.text+0xf3c): undefined reference to `PyEval_RestoreThread'
> modules/python/libpython.a(mod_python.o): In function `python_handler':
> mod_python.o(.text+0x12bc): undefined reference to `PyThreadState_New'
> mod_python.o(.text+0x12cc): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x1334): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x1340): undefined reference to `PyThreadState_Delete'
> mod_python.o(.text+0x1570): undefined reference to `PyObject_CallMethod'
> mod_python.o(.text+0x1580): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x158c): undefined reference to `PyThreadState_Delete'
> mod_python.o(.text+0x15e4): undefined reference to `PyInt_Type'
> mod_python.o(.text+0x15e8): undefined reference to `PyInt_Type'
> mod_python.o(.text+0x1634): undefined reference to `PyInt_AsLong'
> modules/python/libpython.a(mod_python.o): In function `python_cleanup_handler':
> mod_python.o(.text+0x1978): undefined reference to `PyThreadState_New'
> mod_python.o(.text+0x1988): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x19f0): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x19fc): undefined reference to `PyThreadState_Delete'
> mod_python.o(.text+0x1b94): undefined reference to `PyObject_CallMethod'
> mod_python.o(.text+0x1ba0): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x1bac): undefined reference to `PyThreadState_Delete'
> modules/python/libpython.a(mod_python.o): In function `directive_PythonOptimize':
> mod_python.o(.text+0x21c8): undefined reference to `Py_OptimizeFlag'
> mod_python.o(.text+0x21cc): undefined reference to `Py_OptimizeFlag'
> mod_python.o(.text+0x21e0): undefined reference to `Py_OptimizeFlag'
> mod_python.o(.text+0x21e4): undefined reference to `Py_OptimizeFlag'
> modules/python/libpython.a(mod_python.o): In function `python_finalize':
> mod_python.o(.text+0x2568): undefined reference to `PyThreadState_New'
> mod_python.o(.text+0x2578): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x2580): undefined reference to `Py_Finalize'
> modules/python/libpython.a(mod_python.o): In function `PythonChildInitHandler':
> mod_python.o(.text+0x26bc): undefined reference to `PyThreadState_New'
> mod_python.o(.text+0x26cc): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x2734): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x2740): undefined reference to `PyThreadState_Delete'
> mod_python.o(.text+0x2768): undefined reference to `PyImport_ImportModule'
> mod_python.o(.text+0x2780): undefined reference to `PyObject_GetAttrString'
> mod_python.o(.text+0x2790): undefined reference to `PyString_FromString'
> mod_python.o(.text+0x27a4): undefined reference to `PySequence_Index'
> mod_python.o(.text+0x27c8): undefined reference to `PyList_SetSlice'
> mod_python.o(.text+0x28ac): undefined reference to `PyImport_ImportModule'
> mod_python.o(.text+0x28c0): undefined reference to `PyErr_Occurred'
> mod_python.o(.text+0x28d4): undefined reference to `PyErr_Print'
> mod_python.o(.text+0x2908): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x2914): undefined reference to `PyThreadState_Delete'
> modules/python/libpython.a(_apachemodule.o): In function `log_error':
> _apachemodule.o(.text+0x30): undefined reference to `PyArg_ParseTuple'
> _apachemodule.o(.text+0xb0): undefined reference to `PyErr_BadArgument'
> _apachemodule.o(.text+0xf8): undefined reference to `_Py_NoneStruct'
> _apachemodule.o(.text+0xfc): undefined reference to `_Py_NoneStruct'
> _apachemodule.o(.text+0x100): undefined reference to `_Py_NoneStruct'
> _apachemodule.o(.text+0x104): undefined reference to `_Py_NoneStruct'
> _apachemodule.o(.text+0x108): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(_apachemodule.o)(.text+0x10c): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(_apachemodule.o): In function `parse_qs':
> _apachemodule.o(.text+0x188): undefined reference to `PyArg_ParseTuple'
> _apachemodule.o(.text+0x1ac): undefined reference to `PyList_New'
> _apachemodule.o(.text+0x210): undefined reference to `PyString_FromStringAndSize'
> _apachemodule.o(.text+0x32c): undefined reference to `_PyString_Resize'
> _apachemodule.o(.text+0x33c): undefined reference to `PyList_Append'
> _apachemodule.o(.text+0x3a0): undefined reference to `PyDict_New'
> _apachemodule.o(.text+0x3cc): undefined reference to `PyList_Size'
> _apachemodule.o(.text+0x43c): undefined reference to `PyString_FromStringAndSize'
> _apachemodule.o(.text+0x46c): undefined reference to `PyString_FromStringAndSize'
> _apachemodule.o(.text+0x620): undefined reference to `_PyString_Resize'
> _apachemodule.o(.text+0x640): undefined reference to `_PyString_Resize'
> _apachemodule.o(.text+0x650): undefined reference to `PyMapping_HasKeyString'
> _apachemodule.o(.text+0x66c): undefined reference to `PyDict_GetItem'
> _apachemodule.o(.text+0x680): undefined reference to `PyList_Append'
> _apachemodule.o(.text+0x69c): undefined reference to `Py_BuildValue'
> _apachemodule.o(.text+0x6b4): undefined reference to `PyDict_SetItem'
> modules/python/libpython.a(_apachemodule.o): In function `parse_qsl':
> _apachemodule.o(.text+0x834): undefined reference to `PyArg_ParseTuple'
> _apachemodule.o(.text+0x858): undefined reference to `PyList_New'
> _apachemodule.o(.text+0x8b8): undefined reference to `PyString_FromStringAndSize'
> _apachemodule.o(.text+0x9e8): undefined reference to `_PyString_Resize'
> _apachemodule.o(.text+0xa08): undefined reference to `PyString_FromStringAndSize'
> _apachemodule.o(.text+0xa38): undefined reference to `PyString_FromStringAndSize'
> _apachemodule.o(.text+0xbec): undefined reference to `_PyString_Resize'
> _apachemodule.o(.text+0xc0c): undefined reference to `_PyString_Resize'
> _apachemodule.o(.text+0xc24): undefined reference to `Py_BuildValue'
> _apachemodule.o(.text+0xc34): undefined reference to `PyList_Append'
> modules/python/libpython.a(_apachemodule.o): In function `init_apache':
> _apachemodule.o(.text+0xd4c): undefined reference to `PyType_Type'
> _apachemodule.o(.text+0xd50): undefined reference to `PyType_Type'
> _apachemodule.o(.text+0xd60): undefined reference to `PyType_Type'
> _apachemodule.o(.text+0xd64): undefined reference to `PyType_Type'
> _apachemodule.o(.text+0xd74): undefined reference to `PyType_Type'
> modules/python/libpython.a(_apachemodule.o)(.text+0xd78): more undefined references to `PyType_Type' follow
> modules/python/libpython.a(_apachemodule.o): In function `init_apache':
> _apachemodule.o(.text+0xdb0): undefined reference to `Py_InitModule4'
> _apachemodule.o(.text+0xdc0): undefined reference to `PyModule_GetDict'
> _apachemodule.o(.text+0xddc): undefined reference to `PyErr_NewException'
> _apachemodule.o(.text+0xe28): undefined reference to `PyDict_SetItemString'
> modules/python/libpython.a(requestobject.o): In function `MpRequest_FromRequest':
> requestobject.o(.text+0x98): undefined reference to `PyErr_NoMemory'
> modules/python/libpython.a(requestobject.o): In function `req_add_common_vars':
> requestobject.o(.text+0x1fc): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x200): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x204): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x208): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x20c): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(requestobject.o)(.text+0x210): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(requestobject.o): In function `req_add_handler':
> requestobject.o(.text+0x3f0): undefined reference to `PyArg_ParseTuple'
> requestobject.o(.text+0x428): undefined reference to `PyExc_IndexError'
> requestobject.o(.text+0x42c): undefined reference to `PyExc_IndexError'
> requestobject.o(.text+0x458): undefined reference to `PyErr_SetString'
> requestobject.o(.text+0x6d0): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x6d4): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x6d8): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x6dc): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x6e0): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(requestobject.o)(.text+0x6e4): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(requestobject.o): In function `req_get_basic_auth_pw':
> requestobject.o(.text+0xb60): undefined reference to `PyString_FromString'
> requestobject.o(.text+0xb7c): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0xb80): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0xb84): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0xb88): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0xb8c): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(requestobject.o)(.text+0xb90): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(requestobject.o): In function `req_get_remote_host':
> requestobject.o(.text+0xc94): undefined reference to `PyArg_ParseTuple'
> requestobject.o(.text+0xcec): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0xcf0): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0xcf4): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0xcf8): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0xcfc): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(requestobject.o)(.text+0xd00): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(requestobject.o): In function `req_get_remote_host':
> requestobject.o(.text+0xd2c): undefined reference to `PyString_FromString'
> modules/python/libpython.a(requestobject.o): In function `req_read':
> requestobject.o(.text+0xdcc): undefined reference to `PyArg_ParseTuple'
> requestobject.o(.text+0xe04): undefined reference to `PyString_FromString'
> requestobject.o(.text+0xe5c): undefined reference to `PyInt_FromLong'
> requestobject.o(.text+0xe94): undefined reference to `PyErr_SetObject'
> requestobject.o(.text+0xf14): undefined reference to `PyString_FromString'
> requestobject.o(.text+0xf68): undefined reference to `PyString_FromStringAndSize'
> requestobject.o(.text+0x1114): undefined reference to `PyExc_IOError'
> requestobject.o(.text+0x1118): undefined reference to `PyExc_IOError'
> requestobject.o(.text+0x1124): undefined reference to `PyString_FromString'
> requestobject.o(.text+0x1134): undefined reference to `PyErr_SetObject'
> requestobject.o(.text+0x1198): undefined reference to `_PyString_Resize'
> modules/python/libpython.a(requestobject.o): In function `req_readline':
> requestobject.o(.text+0x11f8): undefined reference to `PyArg_ParseTuple'
> requestobject.o(.text+0x1230): undefined reference to `PyString_FromString'
> requestobject.o(.text+0x1288): undefined reference to `PyInt_FromLong'
> requestobject.o(.text+0x12c0): undefined reference to `PyErr_SetObject'
> requestobject.o(.text+0x1340): undefined reference to `PyString_FromString'
> requestobject.o(.text+0x1394): undefined reference to `PyString_FromStringAndSize'
> requestobject.o(.text+0x14b0): undefined reference to `_PyString_Resize'
> requestobject.o(.text+0x1550): undefined reference to `PyErr_NoMemory'
> requestobject.o(.text+0x1648): undefined reference to `PyExc_IOError'
> requestobject.o(.text+0x164c): undefined reference to `PyExc_IOError'
> requestobject.o(.text+0x1658): undefined reference to `PyString_FromString'
> requestobject.o(.text+0x1668): undefined reference to `PyErr_SetObject'
> requestobject.o(.text+0x179c): undefined reference to `_PyString_Resize'
> modules/python/libpython.a(requestobject.o): In function `req_register_cleanup':
> requestobject.o(.text+0x17fc): undefined reference to `PyArg_ParseTuple'
> requestobject.o(.text+0x1854): undefined reference to `PyCallable_Check'
> requestobject.o(.text+0x18ec): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x18f0): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x18f4): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x18f8): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x18fc): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(requestobject.o)(.text+0x1900): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(requestobject.o): In function `req_register_cleanup':
> requestobject.o(.text+0x1928): undefined reference to `PyExc_ValueError'
> requestobject.o(.text+0x192c): undefined reference to `PyExc_ValueError'
> requestobject.o(.text+0x193c): undefined reference to `PyErr_SetString'
> requestobject.o(.text+0x1984): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x1988): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x198c): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x1990): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x1994): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(requestobject.o)(.text+0x1998): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(requestobject.o): In function `req_write':
> requestobject.o(.text+0x1a58): undefined reference to `PyArg_ParseTuple'
> requestobject.o(.text+0x1ab4): undefined reference to `PyExc_IOError'
> requestobject.o(.text+0x1ab8): undefined reference to `PyExc_IOError'
> requestobject.o(.text+0x1ac8): undefined reference to `PyErr_SetString'
> requestobject.o(.text+0x1adc): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x1ae0): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x1ae4): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x1ae8): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x1aec): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(requestobject.o)(.text+0x1af0): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(requestobject.o): In function `request_getattr':
> requestobject.o(.text+0x2000): undefined reference to `Py_FindMethod'
> requestobject.o(.text+0x202c): undefined reference to `PyErr_Clear'
> requestobject.o(.text+0x2080): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x2084): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x2088): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x208c): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x2090): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(requestobject.o)(.text+0x2094): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(requestobject.o): In function `request_getattr':
> requestobject.o(.text+0x2838): undefined reference to `PyString_FromString'
> requestobject.o(.text+0x287c): undefined reference to `PyInt_FromLong'
> requestobject.o(.text+0x28ac): undefined reference to `PyMember_Get'
> modules/python/libpython.a(requestobject.o): In function `request_setattr':
> requestobject.o(.text+0x28e8): undefined reference to `PyExc_AttributeError'
> requestobject.o(.text+0x28ec): undefined reference to `PyExc_AttributeError'
> requestobject.o(.text+0x28fc): undefined reference to `PyErr_SetString'
> requestobject.o(.text+0x2944): undefined reference to `PyString_AsString'
> requestobject.o(.text+0x29b4): undefined reference to `PyString_AsString'
> requestobject.o(.text+0x2a18): undefined reference to `PyString_AsString'
> requestobject.o(.text+0x2a64): undefined reference to `PyMember_Set'
> modules/python/libpython.a(tableobject.o): In function `MpTable_FromTable':
> tableobject.o(.text+0x28): undefined reference to `PyErr_NoMemory'
> modules/python/libpython.a(tableobject.o): In function `tablegetitem':
> tableobject.o(.text+0x118): undefined reference to `PyString_AsString'
> tableobject.o(.text+0x14c): undefined reference to `PyExc_KeyError'
> tableobject.o(.text+0x150): undefined reference to `PyExc_KeyError'
> tableobject.o(.text+0x15c): undefined reference to `PyErr_SetObject'
> tableobject.o(.text+0x174): undefined reference to `PyString_FromString'
> modules/python/libpython.a(tableobject.o): In function `tablesetitem':
> tableobject.o(.text+0x1b8): undefined reference to `PyString_Type'
> tableobject.o(.text+0x1bc): undefined reference to `PyString_Type'
> tableobject.o(.text+0x1cc): undefined reference to `PyExc_TypeError'
> tableobject.o(.text+0x1d0): undefined reference to `PyExc_TypeError'
> tableobject.o(.text+0x1e0): undefined reference to `PyErr_SetString'
> tableobject.o(.text+0x1f8): undefined reference to `PyString_AsString'
> tableobject.o(.text+0x208): undefined reference to `_Py_NoneStruct'
> tableobject.o(.text+0x20c): undefined reference to `_Py_NoneStruct'
> tableobject.o(.text+0x268): undefined reference to `PyString_Type'
> tableobject.o(.text+0x26c): undefined reference to `PyString_Type'
> tableobject.o(.text+0x27c): undefined reference to `PyExc_TypeError'
> tableobject.o(.text+0x280): undefined reference to `PyExc_TypeError'
> tableobject.o(.text+0x290): undefined reference to `PyErr_SetString'
> tableobject.o(.text+0x2ac): undefined reference to `PyString_AsString'
> modules/python/libpython.a(tableobject.o): In function `table_keys':
> tableobject.o(.text+0x304): undefined reference to `PyList_New'
> tableobject.o(.text+0x374): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x38c): undefined reference to `PyList_SetItem'
> modules/python/libpython.a(tableobject.o): In function `table_has_key':
> tableobject.o(.text+0x3e8): undefined reference to `PyArg_ParseTuple'
> tableobject.o(.text+0x434): undefined reference to `PyInt_FromLong'
> tableobject.o(.text+0x454): undefined reference to `PyInt_FromLong'
> modules/python/libpython.a(tableobject.o): In function `table_add':
> tableobject.o(.text+0x490): undefined reference to `PyArg_ParseTuple'
> tableobject.o(.text+0x4c8): undefined reference to `_Py_NoneStruct'
> tableobject.o(.text+0x4cc): undefined reference to `_Py_NoneStruct'
> tableobject.o(.text+0x4d0): undefined reference to `_Py_NoneStruct'
> tableobject.o(.text+0x4d4): undefined reference to `_Py_NoneStruct'
> tableobject.o(.text+0x4d8): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(tableobject.o)(.text+0x4dc): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(tableobject.o): In function `table_getattr':
> tableobject.o(.text+0x560): undefined reference to `Py_FindMethod'
> modules/python/libpython.a(tableobject.o): In function `table_repr':
> tableobject.o(.text+0x58c): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x5d8): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x5e8): undefined reference to `PyString_ConcatAndDel'
> tableobject.o(.text+0x648): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x658): undefined reference to `PyString_ConcatAndDel'
> tableobject.o(.text+0x67c): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x68c): undefined reference to `PyString_ConcatAndDel'
> tableobject.o(.text+0x6a0): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x6b0): undefined reference to `PyString_ConcatAndDel'
> tableobject.o(.text+0x6d4): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x6e4): undefined reference to `PyString_ConcatAndDel'
> tableobject.o(.text+0x6f8): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x708): undefined reference to `PyString_ConcatAndDel'
> tableobject.o(.text+0x72c): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x73c): undefined reference to `PyString_ConcatAndDel'
> tableobject.o(.text+0x758): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x768): undefined reference to `PyString_ConcatAndDel'
> modules/python/libpython.a(util.o): In function `tuple_from_array_header':
> util.o(.text+0x18): undefined reference to `_Py_NoneStruct'
> util.o(.text+0x1c): undefined reference to `_Py_NoneStruct'
> util.o(.text+0x20): undefined reference to `_Py_NoneStruct'
> util.o(.text+0x24): undefined reference to `_Py_NoneStruct'
> util.o(.text+0x28): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(util.o)(.text+0x2c): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(util.o): In function `tuple_from_array_header':
> util.o(.text+0x5c): undefined reference to `PyTuple_New'
> util.o(.text+0xb0): undefined reference to `PyString_FromString'
> util.o(.text+0xc4): undefined reference to `PyTuple_SetItem'
> modules/python/libpython.a(serverobject.o): In function `MpServer_FromServer':
> serverobject.o(.text+0x28): undefined reference to `PyErr_NoMemory'
> modules/python/libpython.a(serverobject.o): In function `server_register_cleanup':
> serverobject.o(.text+0xb8): undefined reference to `PyArg_ParseTuple'
> serverobject.o(.text+0xe4): undefined reference to `PyObject_HasAttrString'
> serverobject.o(.text+0xf8): undefined reference to `PyExc_ValueError'
> serverobject.o(.text+0xfc): undefined reference to `PyExc_ValueError'
> serverobject.o(.text+0x10c): undefined reference to `PyErr_SetString'
> serverobject.o(.text+0x134): undefined reference to `PyObject_GetAttrString'
> serverobject.o(.text+0x15c): undefined reference to `PyExc_ValueError'
> serverobject.o(.text+0x160): undefined reference to `PyExc_ValueError'
> serverobject.o(.text+0x170): undefined reference to `PyErr_SetString'
> serverobject.o(.text+0x190): undefined reference to `PyCallable_Check'
> serverobject.o(.text+0x1a4): undefined reference to `PyExc_ValueError'
> serverobject.o(.text+0x1a8): undefined reference to `PyExc_ValueError'
> serverobject.o(.text+0x1b8): undefined reference to `PyErr_SetString'
> serverobject.o(.text+0x278): undefined reference to `_Py_NoneStruct'
> serverobject.o(.text+0x27c): undefined reference to `_Py_NoneStruct'
> serverobject.o(.text+0x280): undefined reference to `_Py_NoneStruct'
> serverobject.o(.text+0x284): undefined reference to `_Py_NoneStruct'
> serverobject.o(.text+0x288): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(serverobject.o)(.text+0x28c): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(serverobject.o): In function `server_getattr':
> serverobject.o(.text+0x3c0): undefined reference to `Py_FindMethod'
> serverobject.o(.text+0x3ec): undefined reference to `PyErr_Clear'
> serverobject.o(.text+0x440): undefined reference to `_Py_NoneStruct'
> serverobject.o(.text+0x444): undefined reference to `_Py_NoneStruct'
> serverobject.o(.text+0x448): undefined reference to `_Py_NoneStruct'
> serverobject.o(.text+0x44c): undefined reference to `_Py_NoneStruct'
> serverobject.o(.text+0x450): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(serverobject.o)(.text+0x454): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(serverobject.o): In function `server_getattr':
> serverobject.o(.text+0x554): undefined reference to `PyInt_FromLong'
> serverobject.o(.text+0x614): undefined reference to `PyMember_Get'
> modules/python/libpython.a(connobject.o): In function `MpConn_FromConn':
> connobject.o(.text+0x28): undefined reference to `PyErr_NoMemory'
> modules/python/libpython.a(connobject.o): In function `makeipaddr':
> connobject.o(.text+0x1f4): undefined reference to `PyString_FromString'
> modules/python/libpython.a(connobject.o): In function `makesockaddr':
> connobject.o(.text+0x258): undefined reference to `Py_BuildValue'
> modules/python/libpython.a(connobject.o): In function `conn_getattr':
> connobject.o(.text+0x31c): undefined reference to `_Py_NoneStruct'
> connobject.o(.text+0x320): undefined reference to `_Py_NoneStruct'
> connobject.o(.text+0x324): undefined reference to `_Py_NoneStruct'
> connobject.o(.text+0x328): undefined reference to `_Py_NoneStruct'
> connobject.o(.text+0x32c): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(connobject.o)(.text+0x330): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(connobject.o): In function `conn_getattr':
> connobject.o(.text+0x5c4): undefined reference to `PyMember_Get'
> modules/python/libpython.a(connobject.o): In function `conn_setattr':
> connobject.o(.text+0x600): undefined reference to `PyExc_AttributeError'
> connobject.o(.text+0x604): undefined reference to `PyExc_AttributeError'
> connobject.o(.text+0x614): undefined reference to `PyErr_SetString'
> connobject.o(.text+0x65c): undefined reference to `PyString_AsString'
> connobject.o(.text+0x6ac): undefined reference to `PyMember_Set'
> collect2: ld returned 1 exit status
> *** Error code 1
> make: Fatal error: Command failed for target `target_static'
> -- 
> Steve Traylen, Systems Engineer
> http://www.ccdc.cam.ac.uk/
> 
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python

-- 
Joost Damad - Siemens IC D NC A - +3214252297
--
Hoare's Law of Large Problems:
    Inside every large problem is a small problem struggling to get out.

From brianh at exelixis.com  Tue Mar  6 16:44:26 2001
From: brianh at exelixis.com (Brian Hawthorne)
Date: Fri Jan  9 21:52:17 2004
Subject: [mod_python] cookies
Message-ID: <Pine.GSO.4.05.10103061641090.15983-100000@timeless.exelixis.com>

hello all,  how is one to access the client's cookies from a function
being handled by the publisher handler?
i looked in os.environ, i tried req.add_common_vars() then looked at
req.subprocess_env, and i looked at req.headers_in.
i didn't see any cookie stuff anywhere!?

brian


From brett at bookshop.unsw.edu.au  Wed Mar  7 15:09:32 2001
From: brett at bookshop.unsw.edu.au (Brett Haydon)
Date: Fri Jan  9 21:52:17 2004
Subject: [mod_python] cookies 
Message-ID: <NCBBKMABOKFCDLPIKKGIGEOOCJAA.brett@bookshop.unsw.edu.au>

You're looking in the right place:
req.headers_in

You need to extract it
if req.headers_in.has_key('Cookie'):
	dofoo

No luck with that then make sure cookies are being set...
use mod_usertrack for an easy solution..

_______________________________________
Brett Haydon


From petar at metamarkets.com  Wed Mar  7 18:49:41 2001
From: petar at metamarkets.com (Petar Karafezov)
Date: Fri Jan  9 21:52:17 2004
Subject: [mod_python] util.FormStorage empty values issue
Message-ID: <86FC34EA3C4F074AA6BBFFE52ED83FED27BE10@METAEXCH.sfo.metamarkets.com>

Hiya all -

I'm using Apache/1.3.14 (Unix) mod_python/2.7.2 Python/2.0 and I seem to be
having a little issue when values from a form is '' (empty string). When the
value is '' they key itself does not get passed as a part of what
util.FormStorage returns.

Any ideas of how to get around this ?

Regards and thanks for the help,
Petar Karafezov

MetaMarkets.com
415-575-3015
-------------------------------------------
Investing Out Loud at
http://www.metamarkets.com
-------------------------------------------

From petar at metamarkets.com  Thu Mar  8 06:44:45 2001
From: petar at metamarkets.com (Petar Karafezov)
Date: Fri Jan  9 21:52:17 2004
Subject: [mod_python] FW: util.FormStorage empty values issue
Message-ID: <86FC34EA3C4F074AA6BBFFE52ED83FED27BE19@METAEXCH.sfo.metamarkets.com>

actually, I just found out the keep_empty_value set to 0 in util.py. I
changed the value to 1 and recompiled it. Now everything seems to be working
fine. Was there any reason keep_empty_value was set to 0 ? Did I changed the
library the right way ?

THanks for your help!

Regards,
Petar Karafezov

-----Original Message-----
From: Petar Karafezov 
Sent: Wednesday, March 07, 2001 6:50 PM
To: mod_python@modpython.org
Subject: util.FormStorage empty values issue


Hiya all -

I'm using Apache/1.3.14 (Unix) mod_python/2.7.2 Python/2.0 and I seem to be
having a little issue when values from a form is '' (empty string). When the
value is '' they key itself does not get passed as a part of what
util.FormStorage returns.

Any ideas of how to get around this ?

Regards and thanks for the help,
Petar Karafezov

MetaMarkets.com
415-575-3015
-------------------------------------------
Investing Out Loud at
http://www.metamarkets.com
-------------------------------------------

From grisha at verio.net  Thu Mar  8 10:21:20 2001
From: grisha at verio.net (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:52:17 2004
Subject: [mod_python] FW: util.FormStorage empty values issue
In-Reply-To: <86FC34EA3C4F074AA6BBFFE52ED83FED27BE19@METAEXCH.sfo.metamarkets.com>
Message-ID: <Pine.BSF.4.32.0103081020420.40846-100000@localhost>

That's the way the standard library FieldStorage performs, so I thought
I'd keep it consistent.

Grisha

On Thu, 8 Mar 2001, Petar Karafezov wrote:

> actually, I just found out the keep_empty_value set to 0 in util.py. I
> changed the value to 1 and recompiled it. Now everything seems to be working
> fine. Was there any reason keep_empty_value was set to 0 ? Did I changed the
> library the right way ?
>
> THanks for your help!
>
> Regards,
> Petar Karafezov
>
> -----Original Message-----
> From: Petar Karafezov
> Sent: Wednesday, March 07, 2001 6:50 PM
> To: mod_python@modpython.org
> Subject: util.FormStorage empty values issue
>
>
> Hiya all -
>
> I'm using Apache/1.3.14 (Unix) mod_python/2.7.2 Python/2.0 and I seem to be
> having a little issue when values from a form is '' (empty string). When the
> value is '' they key itself does not get passed as a part of what
> util.FormStorage returns.
>
> Any ideas of how to get around this ?
>
> Regards and thanks for the help,
> Petar Karafezov
>
> MetaMarkets.com
> 415-575-3015
> -------------------------------------------
> Investing Out Loud at
> http://www.metamarkets.com
> -------------------------------------------
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From webmaster at myeboard.com  Thu Mar  8 11:37:10 2001
From: webmaster at myeboard.com (Jamie Krasnoo)
Date: Fri Jan  9 21:52:17 2004
Subject: [mod_python] That -DEAPI thing again.
Message-ID: <NEBBLAGGCLKLIANPIBEJGECIDEAA.webmaster@myeboard.com>

Sorry to bring this up again. I was trying to compile mod_python as a DSO
and the warning :
[warn] Loaded DSO /usr/lib/apache/mod_python.so uses plain Apache 1.3 API,
this module might crash under EAPI! (please recompile it with -DEAPI)

came up. I found a lot questions on the same matter int he archives but no
real answeres. Ok one answer but that was a patch which I realy don't want
to docode and find out that its something bad. This should be a FAQ thing
already.

So. How do I get -DEAPI in there so I won't have the threat of Apache seg
faulting at some point?

Jamie Krasnoo
www.MyEBoard.com
webmaster@myeboard.com



From mike at mikebell.org  Thu Mar  8 11:58:29 2001
From: mike at mikebell.org (Mike Bell)
Date: Fri Jan  9 21:52:17 2004
Subject: [mod_python] That -DEAPI thing again.
In-Reply-To: <NEBBLAGGCLKLIANPIBEJGECIDEAA.webmaster@myeboard.com>; from webmaster@myeboard.com on Thu, Mar 08, 2001 at 11:37:10AM -0800
References: <NEBBLAGGCLKLIANPIBEJGECIDEAA.webmaster@myeboard.com>
Message-ID: <20010308115829.D13307@vaio.mikebell.org>

On Thu, Mar 08, 2001 at 11:37:10AM -0800, Jamie Krasnoo wrote:
> Sorry to bring this up again. I was trying to compile mod_python as a DSO
> and the warning :
> [warn] Loaded DSO /usr/lib/apache/mod_python.so uses plain Apache 1.3 API,
> this module might crash under EAPI! (please recompile it with -DEAPI)
> 
> came up. I found a lot questions on the same matter int he archives but no
> real answeres. Ok one answer but that was a patch which I realy don't want
> to docode and find out that its something bad. This should be a FAQ thing
> already.
> 
> So. How do I get -DEAPI in there so I won't have the threat of Apache seg
> faulting at some point?

Personally, I edit src/Makefile and change
OPT=
to
OPT=-DEAPI

From webmaster at myeboard.com  Thu Mar  8 12:35:32 2001
From: webmaster at myeboard.com (Jamie Krasnoo)
Date: Fri Jan  9 21:52:17 2004
Subject: [mod_python] That -DEAPI thing again.
In-Reply-To: <20010308115829.D13307@vaio.mikebell.org>
Message-ID: <NEBBLAGGCLKLIANPIBEJAECKDEAA.webmaster@myeboard.com>

Thanks Mike. I appreciate it.

-----Original Message-----
From: mod_python-admin@modpython.org
[mailto:mod_python-admin@modpython.org]On Behalf Of Mike Bell
Sent: Thursday, March 08, 2001 11:58 AM
To: mod_python@modpython.org
Subject: Re: [mod_python] That -DEAPI thing again.


On Thu, Mar 08, 2001 at 11:37:10AM -0800, Jamie Krasnoo wrote:
> Sorry to bring this up again. I was trying to compile mod_python as a DSO
> and the warning :
> [warn] Loaded DSO /usr/lib/apache/mod_python.so uses plain Apache 1.3 API,
> this module might crash under EAPI! (please recompile it with -DEAPI)
>
> came up. I found a lot questions on the same matter int he archives but no
> real answeres. Ok one answer but that was a patch which I realy don't want
> to docode and find out that its something bad. This should be a FAQ thing
> already.
>
> So. How do I get -DEAPI in there so I won't have the threat of Apache seg
> faulting at some point?

Personally, I edit src/Makefile and change
OPT=
to
OPT=-DEAPI
_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python


From petar at metamarkets.com  Fri Mar  9 10:20:43 2001
From: petar at metamarkets.com (Petar Karafezov)
Date: Fri Jan  9 21:52:17 2004
Subject: [mod_python] help needed with forms' parameters handling
Message-ID: <86FC34EA3C4F074AA6BBFFE52ED83FED27BE3E@METAEXCH.sfo.metamarkets.com>

Hello all -

I am running Apache/1.3.14 (Unix) mod_python/2.7.2 Python/2.0. At this point
I am not even sure that this is a mod_python issue, as I have seen this
same behavior before I ported my cgi to mod_python. I am not sure what to do
at this point..

Here's the issue:

When you do a POST to a python script you obtain the parameters using the
util.FieldStorage, when using cgi it's cgi.FieldStorage. The returned result
is a dictionary { key, value }. Everything is OK if you just what to work
with this dictionary. However, if you try to pass this dictionary object to
urllib.urlencode, we raise an exception:

Mod_python error: "PythonHandler parse2"

Traceback (most recent call last):

  File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line
189, in Dispatch
    result = object(self.req)

  File "/usr/local/apache/htdocs/test/parse2.py", line 147, in handler
    params=urllib.urlencode(form)	

  File "/usr/local/lib/python2.0/urllib.py", line 1086, in urlencode
    for k, v in dict.items():

AttributeError: 'FieldStorage' instance has no attribute 'items'


Now, the funny part is that if I get this object 'form' - which was defined
as form=util.FieldStorage(req) and just get the keys and values and form a
new dictionary, I can pass that new one to urllib.urlencode with no
problems.

...
    newparams={}                       
    for key in form.keys():
          newparams[key]=form[key]
    params=urllib.urlencode(newparams) 
...

Again, I run into the same issue with both util.FieldStorage when working
with mod_python and with cgi.FieldStorage when using my cgi version.

I am quite happy with this workaround until I bumped into a different issue,
which I am not exactly sure if it's related or not. When there're multiple
checkboxes on a form:

<input type="checkbox"  name="frequencies" value="DEM" priority="6" checked>
<input type="checkbox"  name="frequencies" value="HLF" priority="6">
<input type="checkbox"  name="frequencies" value="DAY" priority="6">
<input type="checkbox"  name="frequencies" value="WEK" priority="6">

and we have selected more than 1, then the form parameter value gets passed
to the server as an array. For example, if I'd select DEM and DAY from the
checkboxed above, my params would be:

'frequences' : ['DEM','DAY']

This is all great, but when I pass the parameters to the server - my python
script is playing the role of a proxy, then I am passing as value for
'frequences' the STRING "['DEM','DAY']" and not the ARRAY ['DEM','DAY']. 

So, somewhere in what I do/use the array gets converted to a string. The way
I see it is:

1) It could be the python's FieldStorage when I originally get the keys and
values
2) It could be that funky dictionary rewriting that I am doing before I pass
the form parameters to urllib.urlencode.
3) I could be something in what urlencode does.


I am not sure where to look at this point. 

Any ideas, anyone ?? Any help would be greatly appreciated!

Thanks for your help!

regards,

Petar Karafezov

MetaMarkets.com
415-575-3015
-------------------------------------------
Investing Out Loud at
http://www.metamarkets.com
-------------------------------------------



From grisha at verio.net  Fri Mar  9 13:39:34 2001
From: grisha at verio.net (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:52:17 2004
Subject: [mod_python] help needed with forms' parameters handling
In-Reply-To: <86FC34EA3C4F074AA6BBFFE52ED83FED27BE3E@METAEXCH.sfo.metamarkets.com>
Message-ID: <Pine.BSF.4.32.0103091338010.53766-100000@localhost>

This is probably because FieldStorage indeed doesn't have "items()" - just
like it says ;-)

May be in the future I'll add it. Until then - you'll have to copy it to
real dictionary, or you can subclass FieldStorage and add your own
items().

Grisha

On Fri, 9 Mar 2001, Petar Karafezov wrote:

> Hello all -
>
> I am running Apache/1.3.14 (Unix) mod_python/2.7.2 Python/2.0. At this point
> I am not even sure that this is a mod_python issue, as I have seen this
> same behavior before I ported my cgi to mod_python. I am not sure what to do
> at this point..
>
> Here's the issue:
>
> When you do a POST to a python script you obtain the parameters using the
> util.FieldStorage, when using cgi it's cgi.FieldStorage. The returned result
> is a dictionary { key, value }. Everything is OK if you just what to work
> with this dictionary. However, if you try to pass this dictionary object to
> urllib.urlencode, we raise an exception:
>
> Mod_python error: "PythonHandler parse2"
>
> Traceback (most recent call last):
>
>   File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line
> 189, in Dispatch
>     result = object(self.req)
>
>   File "/usr/local/apache/htdocs/test/parse2.py", line 147, in handler
>     params=urllib.urlencode(form)
>
>   File "/usr/local/lib/python2.0/urllib.py", line 1086, in urlencode
>     for k, v in dict.items():
>
> AttributeError: 'FieldStorage' instance has no attribute 'items'
>
>
> Now, the funny part is that if I get this object 'form' - which was defined
> as form=util.FieldStorage(req) and just get the keys and values and form a
> new dictionary, I can pass that new one to urllib.urlencode with no
> problems.
>
> ...
>     newparams={}
>     for key in form.keys():
>           newparams[key]=form[key]
>     params=urllib.urlencode(newparams)
> ...
>
> Again, I run into the same issue with both util.FieldStorage when working
> with mod_python and with cgi.FieldStorage when using my cgi version.
>
> I am quite happy with this workaround until I bumped into a different issue,
> which I am not exactly sure if it's related or not. When there're multiple
> checkboxes on a form:
>
> <input type="checkbox"  name="frequencies" value="DEM" priority="6" checked>
> <input type="checkbox"  name="frequencies" value="HLF" priority="6">
> <input type="checkbox"  name="frequencies" value="DAY" priority="6">
> <input type="checkbox"  name="frequencies" value="WEK" priority="6">
>
> and we have selected more than 1, then the form parameter value gets passed
> to the server as an array. For example, if I'd select DEM and DAY from the
> checkboxed above, my params would be:
>
> 'frequences' : ['DEM','DAY']
>
> This is all great, but when I pass the parameters to the server - my python
> script is playing the role of a proxy, then I am passing as value for
> 'frequences' the STRING "['DEM','DAY']" and not the ARRAY ['DEM','DAY'].
>
> So, somewhere in what I do/use the array gets converted to a string. The way
> I see it is:
>
> 1) It could be the python's FieldStorage when I originally get the keys and
> values
> 2) It could be that funky dictionary rewriting that I am doing before I pass
> the form parameters to urllib.urlencode.
> 3) I could be something in what urlencode does.
>
>
> I am not sure where to look at this point.
>
> Any ideas, anyone ?? Any help would be greatly appreciated!
>
> Thanks for your help!
>
> regards,
>
> Petar Karafezov
>
> MetaMarkets.com
> 415-575-3015
> -------------------------------------------
> Investing Out Loud at
> http://www.metamarkets.com
> -------------------------------------------
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From tino at wildenhain.de  Fri Mar  9 23:43:51 2001
From: tino at wildenhain.de (Tino Wildenhain)
Date: Fri Jan  9 21:52:17 2004
Subject: [mod_python] Re: help needed with forms' parameters handling
References: <86FC34EA3C4F074AA6BBFFE52ED83FED27BE3E@METAEXCH.sfo.metamarkets.com>
Message-ID: <3AA95CA7.DCF14032@wildenhain.de>

Hi Petar,

I suppose after a couple of headaches you may want to try out
zope as well ;) http://www.zope.org/
It saves you from most of the work with forms and many more.
Hard to grasp the principe of operation at first but profitable
at the end.

HTH
Tino

Petar Karafezov wrote:
> 
> Hello all -
> 
> I am running Apache/1.3.14 (Unix) mod_python/2.7.2 Python/2.0. At this point
> I am not even sure that this is a mod_python issue, as I have seen this
> same behavior before I ported my cgi to mod_python. I am not sure what to do
> at this point..
> 
> Here's the issue:
> 
> When you do a POST to a python script you obtain the parameters using the
> util.FieldStorage, when using cgi it's cgi.FieldStorage. The returned result
> is a dictionary { key, value }. Everything is OK if you just what to work
> with this dictionary. However, if you try to pass this dictionary object to
> urllib.urlencode, we raise an exception:
> 
> Mod_python error: "PythonHandler parse2"
> 
> Traceback (most recent call last):
> 
>   File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line
> 189, in Dispatch
>     result = object(self.req)
> 
>   File "/usr/local/apache/htdocs/test/parse2.py", line 147, in handler
>     params=urllib.urlencode(form)
> 
>   File "/usr/local/lib/python2.0/urllib.py", line 1086, in urlencode
>     for k, v in dict.items():
> 
> AttributeError: 'FieldStorage' instance has no attribute 'items'
> 
> Now, the funny part is that if I get this object 'form' - which was defined
> as form=util.FieldStorage(req) and just get the keys and values and form a
> new dictionary, I can pass that new one to urllib.urlencode with no
> problems.
> 
> ...
>     newparams={}
>     for key in form.keys():
>           newparams[key]=form[key]
>     params=urllib.urlencode(newparams)
> ...
> 
> Again, I run into the same issue with both util.FieldStorage when working
> with mod_python and with cgi.FieldStorage when using my cgi version.
> 
> I am quite happy with this workaround until I bumped into a different issue,
> which I am not exactly sure if it's related or not. When there're multiple
> checkboxes on a form:
> 
> <input type="checkbox"  name="frequencies" value="DEM" priority="6" checked>
> <input type="checkbox"  name="frequencies" value="HLF" priority="6">
> <input type="checkbox"  name="frequencies" value="DAY" priority="6">
> <input type="checkbox"  name="frequencies" value="WEK" priority="6">
> 
> and we have selected more than 1, then the form parameter value gets passed
> to the server as an array. For example, if I'd select DEM and DAY from the
> checkboxed above, my params would be:
> 
> 'frequences' : ['DEM','DAY']
> 
> This is all great, but when I pass the parameters to the server - my python
> script is playing the role of a proxy, then I am passing as value for
> 'frequences' the STRING "['DEM','DAY']" and not the ARRAY ['DEM','DAY'].
> 
> So, somewhere in what I do/use the array gets converted to a string. The way
> I see it is:
> 
> 1) It could be the python's FieldStorage when I originally get the keys and
> values
> 2) It could be that funky dictionary rewriting that I am doing before I pass
> the form parameters to urllib.urlencode.
> 3) I could be something in what urlencode does.
> 
> I am not sure where to look at this point.
> 
> Any ideas, anyone ?? Any help would be greatly appreciated!
> 
> Thanks for your help!
> 
> regards,
> 
> Petar Karafezov
> 
> MetaMarkets.com
> 415-575-3015
> -------------------------------------------
> Investing Out Loud at
> http://www.metamarkets.com
> -------------------------------------------
> 
> --
> http://mail.python.org/mailman/listinfo/python-list

From skidrow at nownuri.net  Wed Mar 14 11:38:58 2001
From: skidrow at nownuri.net (¼­ÅÂÁø)
Date: Fri Jan  9 21:52:17 2004
Subject: [mod_python] Some error while using MoinMoin
Message-ID: <200103140238.LAA14070@lion4.nownuri.net>

I've installed mod_python 2.6.3 and tested it out,

And tried to use MoinMoin(python CGI program..)

with modpython.cgihandler but I've got errors..

I use freebsd 4.2 release, apache 1.3.14 

and my httpd.conf file goes like this..

Addhandler python-program .py
PythonHandler mod_python.cgihandler
PythonDebug On

and It seems to work all right with any other python program

than this "MoinMoin" program..

the log goes like this..

Mod_python error: "PythonHandler mod_python.cgihandler"

Traceback (most recent call last):

  File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line 185,
 in Dispatch
    result = object(self.req)

  File "/usr/local/lib/python2.0/site-packages/mod_python/cgihandler.py", line 
76, in handler
    imp.load_module(module_name, fd, path, desc)

  File "/usr/local/www/cgi-bin/MoinMoin/wiki-moinmoin/moin.py", line 15, in ?
    cgimain.run()

  File "/usr/local/www/cgi-bin/MoinMoin/cgimain.py", line 161, in run
    cgi.print_exception()

  File "/usr/local/lib/python2.0/cgi.py", line 870, in print_exception
    print

  File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line 484,
 in write
    h, v = string.split(line, ":", 1)

ValueError: unpack list of wrong size

Thanks in advance...

 




--MIME Multi-part separator--


From kees.serier at relan.nl  Wed Mar 14 16:50:28 2001
From: kees.serier at relan.nl (Serier, Kees)
Date: Fri Jan  9 21:52:17 2004
Subject: [mod_python] Problem building apache+mod_python on AIX
Message-ID: <AA2536FEE0A9D311887000508B5EDF1E01C2BB68@ab00s003.ab.cadans.nl>

Hello,

I have the following problem with building apache 1.3.19 with mod_python
2.7.2 on AIX 4.2.1
I had the same problem with apache 1.3.14 and mod_python 2.7.1, never got it
running,
but gave it a new try with gcc 2.95.2
I rebuild everything with gcc:
- python 1.5.2
- apache 1.3.19
- mod_python 2.7.2
When rebuilding apache with mod_pyhton, I got Undefined symbol errors from
ld
=============
This is what I did:

Apache 1.3.19:
-------------
   ./configure (default without DSO)
   gmake
   gmake install
   Testing: worked fine (as dit 1.3.14) with CGI and python

Python 1.5.2
------------
   ./configure
   gmake
   gmake test
   gmake install
   Testing with apache 1.3.19 and CGI: worked fine

mod_python 2.7.2:
   ./configure --with-apache=../apache_1.3.19 --with-python=../Python-1.5.2/
   gmake
   gmake install
   
apache 1.3.19:
    cd  /usr/local/src/apache_1.3.19
    ./configure --activate-module=src/modules/python/libpython.a
    gmake
==================
Here follows the last of stdout and stderr:

gmake[4]: Entering directory
`/usr/local/src/apache_1.3.19/src/modules/python'
gmake[4]: Nothing to be done for `all'.
gmake[4]: Leaving directory
`/usr/local/src/apache_1.3.19/src/modules/python'
<=== src/modules/python
gmake[3]: Leaving directory `/usr/local/src/apache_1.3.19/src/modules'
<=== src/modules
gcc -c  -I./os/unix -I./include   -DAIX=42 -U__STR__ -DAIX_BIND_PROCESSOR
-DUSE_HSREGEX -DUSE_EXPAT -I./lib/expat-lite -DNO_DL_NEEDED `./apaci`
modules.c
gcc -c  -I./os/unix -I./include   -DAIX=42 -U__STR__ -DAIX_BIND_PROCESSOR
-DUSE_HSREGEX -DUSE_EXPAT -I./lib/expat-lite -DNO_DL_NEEDED `./apaci`
buildmark.c
gcc  -DAIX=42 -U__STR__ -DAIX_BIND_PROCESSOR -DUSE_HSREGEX -DUSE_EXPAT
-I./lib/expat-lite -DNO_DL_NEEDED `./apaci` -lm   \
      -o httpd buildmark.o modules.o modules/python/libpython.a
modules/standard/libstandard.a main/libmain.a ./os/unix/libos.a ap/libap.a
regex/libregex.a lib/expat-lite/libexpat.a
ld: 0711-317 ERROR: Undefined symbol: .Py_NewInterpreter
ld: 0711-317 ERROR: Undefined symbol: .PyThreadState_Swap
ld: 0711-317 ERROR: Undefined symbol: .PyDict_GetItemString
ld: 0711-317 ERROR: Undefined symbol: .PyCObject_FromVoidPtr
ld: 0711-317 ERROR: Undefined symbol: .PyDict_SetItemString
ld: 0711-317 ERROR: Undefined symbol: .PyCObject_AsVoidPtr
ld: 0711-317 ERROR: Undefined symbol: .PyThreadState_New
ld: 0711-317 ERROR: Undefined symbol: .PyObject_CallFunction
ld: 0711-317 ERROR: Undefined symbol: .PyErr_Fetch
ld: 0711-317 ERROR: Undefined symbol: .PyObject_Str
ld: 0711-317 ERROR: Undefined symbol: .PyString_AsString
ld: 0711-317 ERROR: Undefined symbol: .PyThreadState_Delete
ld: 0711-317 ERROR: Undefined symbol: .Py_GetVersion
ld: 0711-317 ERROR: Undefined symbol: .Py_IsInitialized
ld: 0711-317 ERROR: Undefined symbol: .Py_Initialize
ld: 0711-317 ERROR: Undefined symbol: .PyDict_New
ld: 0711-317 ERROR: Undefined symbol: .PyArg_ParseTuple
ld: 0711-317 ERROR: Undefined symbol: .PyErr_NoMemory
ld: 0711-317 ERROR: Undefined symbol: PyExc_KeyError
ld: 0711-317 ERROR: Undefined symbol: .PyErr_SetObject
ld: 0711-317 ERROR: Undefined symbol: .PyString_FromString
ld: 0711-317 ERROR: Undefined symbol: PyString_Type
ld: 0711-317 ERROR: Undefined symbol: PyExc_TypeError
ld: 0711-317 ERROR: Undefined symbol: .PyErr_SetString
ld: 0711-317 ERROR: Undefined symbol: _Py_NoneStruct
ld: 0711-317 ERROR: Undefined symbol: .PyList_New
ld: 0711-317 ERROR: Undefined symbol: .PyList_SetItem
ld: 0711-317 ERROR: Undefined symbol: .PyInt_FromLong
ld: 0711-317 ERROR: Undefined symbol: .Py_FindMethod
ld: 0711-317 ERROR: Undefined symbol: .PyString_ConcatAndDel
ld: 0711-317 ERROR: Undefined symbol: PyExc_IndexError
ld: 0711-317 ERROR: Undefined symbol: .PyString_FromStringAndSize
ld: 0711-317 ERROR: Undefined symbol: PyExc_IOError
ld: 0711-317 ERROR: Undefined symbol: ._PyString_Resize
ld: 0711-317 ERROR: Undefined symbol: .PyCallable_Check
ld: 0711-317 ERROR: Undefined symbol: PyExc_ValueError
ld: 0711-317 ERROR: Undefined symbol: .PyErr_Clear
ld: 0711-317 ERROR: Undefined symbol: .Py_BuildValue
ld: 0711-317 ERROR: Undefined symbol: .PyMember_Get
ld: 0711-317 ERROR: Undefined symbol: PyExc_AttributeError
ld: 0711-317 ERROR: Undefined symbol: .PyMember_Set
ld: 0711-317 ERROR: Undefined symbol: .PyTuple_New
ld: 0711-317 ERROR: Undefined symbol: .PyTuple_SetItem
ld: 0711-317 ERROR: Undefined symbol: .PyErr_BadArgument
ld: 0711-317 ERROR: Undefined symbol: .PyList_Append
ld: 0711-317 ERROR: Undefined symbol: .PyList_Size
ld: 0711-317 ERROR: Undefined symbol: .PyMapping_HasKeyString
ld: 0711-317 ERROR: Undefined symbol: .PyDict_GetItem
ld: 0711-317 ERROR: Undefined symbol: .PyDict_SetItem
ld: 0711-317 ERROR: Undefined symbol: PyType_Type
ld: 0711-317 ERROR: Undefined symbol: .Py_InitModule4
ld: 0711-317 ERROR: Undefined symbol: .PyModule_GetDict
ld: 0711-317 ERROR: Undefined symbol: .PyErr_NewException
ld: 0711-317 ERROR: Undefined symbol: .PyImport_ImportModule
ld: 0711-317 ERROR: Undefined symbol: .PyObject_CallMethod
ld: 0711-317 ERROR: Undefined symbol: .PyEval_SaveThread
ld: 0711-317 ERROR: Undefined symbol: .PyEval_RestoreThread
ld: 0711-317 ERROR: Undefined symbol: PyInt_Type
ld: 0711-317 ERROR: Undefined symbol: .PyInt_AsLong
ld: 0711-317 ERROR: Undefined symbol: Py_OptimizeFlag
ld: 0711-317 ERROR: Undefined symbol: .Py_Finalize
ld: 0711-317 ERROR: Undefined symbol: .PyObject_GetAttrString
ld: 0711-317 ERROR: Undefined symbol: .PySequence_Index
ld: 0711-317 ERROR: Undefined symbol: .PyList_SetSlice
ld: 0711-317 ERROR: Undefined symbol: .PyErr_Occurred
ld: 0711-317 ERROR: Undefined symbol: .PyErr_Print
ld: 0711-345 Use the -bloadmap or -bnoquiet option to obtain more
information.
collect2: ld returned 8 exit status
gmake[2]: *** [target_static] Error 1
gmake[2]: Leaving directory `/usr/local/src/apache_1.3.19/src'
gmake[1]: *** [build-std] Error 2
gmake[1]: Leaving directory `/usr/local/src/apache_1.3.19'
gmake: *** [build] Error 2

find /usr/local/src -name libpython.a -exec ls -l {} \;
-rwxr-xr-x   1 root     begeer     98020 Mar 14 15:53
./apache_1.3.19/src/modules/python/libpython.a
-rw-r--r--   1 root     beheer     98020 Mar 14 15:53
./mod_python-2.7.2/src/libpython.a


From brianh at exelixis.com  Wed Mar 14 11:45:40 2001
From: brianh at exelixis.com (Brian Hawthorne)
Date: Fri Jan  9 21:52:17 2004
Subject: [mod_python] _apache.parse_qsl is buggy (mod_python2.7.2)
Message-ID: <Pine.GSO.4.05.10103141145090.24622-100000@timeless.exelixis.com>

i thought it would be useful to point out (mod_python2.7.2) that this
function, implemented in _apachemodule.c, which should support the same
interface and functionality as the standard python cgi.parse_qsl, does not
correctly parse form values from an ampersand delimited string of
key=value pairs.  sometimes it simply drops some pairs, other times it
mangles the keys and/or values.  i worked around this by adding to 
line 110 of mod_python/util.py:
            import cgi
            pairs = cgi.parse_qsl(req.args, keep_blank_values=1)

brian hawthorne
Associate Informatics Research Scientist
Exelixis, Inc.



From ensim.ml.mod_python at ensim.com  Wed Mar 14 11:53:53 2001
From: ensim.ml.mod_python at ensim.com (Ensim-Newsgroups.Mailing-Lists.Mod_Python-List)
Date: Fri Jan  9 21:52:17 2004
Subject: [mod_python] any production systems out there?
Message-ID: <9AC41B8C4781464695BB013F106FCA3181A658@nasdaq.ms.ensim.com>

i'm trying to evaluate mod python for a production system, and i'd like to
get feedback...

- is anyone using mod_python in a production environment?
- is your production site a heavily hit site?
- are there any memory issues (does modpython consume an unusual amount of
memory)?
- are there any stability issues?


From CHagner at fool.com  Thu Mar 15 01:08:02 2001
From: CHagner at fool.com (Chris Hagner)
Date: Fri Jan  9 21:52:17 2004
Subject: [mod_python] PythonImport failure
Message-ID: <13CDDE6A53DBD311BC3200508B6F0C4804DAFC57@rover.foolhq.com>

Greetings,

I'm trying to get the PythonImport command to work.  Been through the
documentation, but it appears to want more than simply inserting 

   PythonImport mypackage.mymodule

within my Directory tags in httd.conf.

While mypackage.mymodule is under the standard python lib directory
(therefore should be found through the sys.path), the system spat out the
following...

    ...[error] directive_PythonImport: error importing mypackage.mymodule

I then moved the module to a different directory and appended that directory
to the sys.path using the PythonPath command (just to see if that allowed it
to find the module).  No luck.

I've found a handful of posts from June and August of last year, but no
posted solutions to getting the PythonImport command to work correctly.  Of
course, there's a CVS commit with the comment "PythonImport works now" so
I'm pretty sure it's me...

As a random test, I tried a standard module...

   PythonImport sys

which appeared to work (no error msg), but I'm not really confident that
this was a meaningful test.

Thanks in advance.

Chris
chagner _at_ fool _dot_ com



From rdevide at ican.at  Thu Mar 15 09:46:18 2001
From: rdevide at ican.at (Devide Robert)
Date: Fri Jan  9 21:52:17 2004
Subject: [mod_python] any production systems out there?
References: <9AC41B8C4781464695BB013F106FCA3181A658@nasdaq.ms.ensim.com>
Message-ID: <3AB0815A.5111D98C@ican.at>

> - is anyone using mod_python in a production environment?
yes, e.g. www.ican.at
using Linux, 
      Apache, 
      Mysql, 
  mod_Python
running on a serverfarm of 4 PCs

> - is your production site a heavily hit site?
1.100.000 Visits per Month, 3.700.000 Pageimpressions

> - are there any memory issues (does modpython consume an unusual amount of
> memory)?
no
(that is there occured memory leaks, but we didn't locate which
component of LAMP produces that,
we just set MaxRequestsPerChild in the apache config to a reasonable
value)

> - are there any stability issues?
no

dave

From grisha at verio.net  Thu Mar 15 11:26:25 2001
From: grisha at verio.net (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:52:17 2004
Subject: [mod_python] PythonImport failure
In-Reply-To: <13CDDE6A53DBD311BC3200508B6F0C4804DAFC57@rover.foolhq.com>
Message-ID: <Pine.BSF.4.32.0103151124130.18178-100000@localhost>

Chris -

Have you tried

>>> import mypackage.mymodule

from an interactive Python session?

Also, regarding PythonPath - if you read documentation carefully, you'll
notice that it says that no other directives have any effect at the time
PythonImport is executed.

Generally, you should not use PythonImport unless you *really* need it,
which is almost never the case.

Grisha


On Thu, 15 Mar 2001, Chris Hagner wrote:

> Greetings,
>
> I'm trying to get the PythonImport command to work.  Been through the
> documentation, but it appears to want more than simply inserting
>
>    PythonImport mypackage.mymodule
>
> within my Directory tags in httd.conf.
>
> While mypackage.mymodule is under the standard python lib directory
> (therefore should be found through the sys.path), the system spat out the
> following...
>
>     ...[error] directive_PythonImport: error importing mypackage.mymodule
>
> I then moved the module to a different directory and appended that directory
> to the sys.path using the PythonPath command (just to see if that allowed it
> to find the module).  No luck.
>
> I've found a handful of posts from June and August of last year, but no
> posted solutions to getting the PythonImport command to work correctly.  Of
> course, there's a CVS commit with the comment "PythonImport works now" so
> I'm pretty sure it's me...
>
> As a random test, I tried a standard module...
>
>    PythonImport sys
>
> which appeared to work (no error msg), but I'm not really confident that
> this was a meaningful test.
>
> Thanks in advance.
>
> Chris
> chagner _at_ fool _dot_ com
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From CHagner at fool.com  Thu Mar 15 12:06:46 2001
From: CHagner at fool.com (Chris Hagner)
Date: Fri Jan  9 21:52:17 2004
Subject: [mod_python] PythonImport failure
Message-ID: <13CDDE6A53DBD311BC3200508B6F0C4804DAFC63@rover.foolhq.com>

Thanks for the response.  For my tests, mypackage is a package named
'toolkit' and the mymodule is a module named 'brandconfig'.

Oh yeah, I'm doing this on Apache/1.3.19 (Win32) mod_python/2.7.1
Python/2.0.  I'm on Win2K (for development, sigh).

INTERACTIVE SESSION TEST:
******************************

Here's my python interactive session... the module only contains a single
variable x.

>>> import toolkit.brandconfig
>>> dir(toolkit.brandconfig)
['__builtins__', '__doc__', '__file__', '__name__', 'x']
>>> toolkit.brandconfig.x
123
>>> 

So, the module is importable in my python environment.


APACHE PYTHONIMPORT TEST:
******************************

Just to be sure, I ran the apache test again.  Here's the httpd.conf entry.
Nothing shocking.

<Directory "D:/site/brand1/htdocs">
   AddHandler python-program .py
   PythonHandler toolkit.publisher
   PythonDebug on
   PythonImport toolkit.brandconfig
</Directory>

Here's the response in the log upon starting apache.

   [Thu Mar 15 11:39:10 2001] [error] directive_PythonImport: error
importing toolkit.brandconfig

Same as before.  Now, just to be sure, I blew away the brandconfig.py file
(and the .pyc) so that it shouldn't even find it (just to see if I could get
a different error if it didn't even exist).  Result: No change.  Same error
in error.log.  Apparently, it's not even finding it.

APACHE PYTHON SCRIPT TEST:
******************************

So, it wasn't importing it on start up.  How about a python script in
mod_python?

Here's the code blurb...

	import foolkit.brandconfig
       out_string = "foolkit.brandconfig.x: %s \n"% foolkit.brandconfig.x

Did it work?  yup, the page displayed 

	foolkit.brandconfig.x: 123



Yes, I have read through the documentation and my need is to initialize a
number of objects (i.e. dbconn pool) for use throughout my applications.
Now, I am using a custom handler, so I could simply have the handler do this
initialization the first time it runs, but the PythonImport appeared to be a
code-free way to achieve this goal.  Do you all think this is a case where I
*really* need it?  If not, could someone share an example of when it really
deserves to be used?

Thanks again for the help.

Chris

-----Original Message-----
From: Gregory (Grisha) Trubetskoy [mailto:grisha@verio.net]
Sent: Thursday, March 15, 2001 11:26 AM
To: Chris Hagner
Cc: 'mod_python@modpython.org'
Subject: Re: [mod_python] PythonImport failure



Chris -

Have you tried

>>> import mypackage.mymodule

from an interactive Python session?

Also, regarding PythonPath - if you read documentation carefully, you'll
notice that it says that no other directives have any effect at the time
PythonImport is executed.

Generally, you should not use PythonImport unless you *really* need it,
which is almost never the case.

Grisha


On Thu, 15 Mar 2001, Chris Hagner wrote:

> Greetings,
>
> I'm trying to get the PythonImport command to work.  Been through the
> documentation, but it appears to want more than simply inserting
>
>    PythonImport mypackage.mymodule
>
> within my Directory tags in httd.conf.
>
> While mypackage.mymodule is under the standard python lib directory
> (therefore should be found through the sys.path), the system spat out the
> following...
>
>     ...[error] directive_PythonImport: error importing mypackage.mymodule
>
> I then moved the module to a different directory and appended that
directory
> to the sys.path using the PythonPath command (just to see if that allowed
it
> to find the module).  No luck.
>
> I've found a handful of posts from June and August of last year, but no
> posted solutions to getting the PythonImport command to work correctly.
Of
> course, there's a CVS commit with the comment "PythonImport works now" so
> I'm pretty sure it's me...
>
> As a random test, I tried a standard module...
>
>    PythonImport sys
>
> which appeared to work (no error msg), but I'm not really confident that
> this was a meaningful test.
>
> Thanks in advance.
>
> Chris
> chagner _at_ fool _dot_ com
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>

From L.A.Timochouk at ukc.ac.uk  Thu Mar 15 18:57:10 2001
From: L.A.Timochouk at ukc.ac.uk (Leonid Timochouk)
Date: Fri Jan  9 21:52:17 2004
Subject: [mod_python] any production systems out there?
In-Reply-To: <9AC41B8C4781464695BB013F106FCA3181A658@nasdaq.ms.ensim.com>
Message-ID: <Pine.GSO.4.21.0103151503450.9416-100000@myrtle.ukc.ac.uk>

Yes, we are using "mod_python" on our site (http://www.top-greetings.com)
which has a fairly heavy traffic. The performance seems to be very good,
and no memory-related problems were ever observed. So yes, "mod_python" IS
suitable for production systems!

Dr. Leonid Timochouk


From CHagner at fool.com  Thu Mar 15 14:13:11 2001
From: CHagner at fool.com (Chris Hagner)
Date: Fri Jan  9 21:52:17 2004
Subject: [mod_python] any production systems out there?
Message-ID: <13CDDE6A53DBD311BC3200508B6F0C4804DAFC69@rover.foolhq.com>

Can you give a little more details on your level of traffic.

Anything along the lines of #pages/month, # unique visitors (estimated,
although this is tough to get for most sites) and even # of servers (just
for my interest, not for any scientific calculations) would be great.

Thanks.

Chris

-----Original Message-----
From: Leonid Timochouk [mailto:L.A.Timochouk@ukc.ac.uk]
Sent: Thursday, March 15, 2001 1:57 PM
To: Ensim-Newsgroups.Mailing-Lists.Mod_Python-List
Cc: 'mod_python@modpython.org'
Subject: Re: [mod_python] any production systems out there?



Yes, we are using "mod_python" on our site (http://www.top-greetings.com)
which has a fairly heavy traffic. The performance seems to be very good,
and no memory-related problems were ever observed. So yes, "mod_python" IS
suitable for production systems!

Dr. Leonid Timochouk

_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From miguel at yorku.ca  Thu Mar 15 15:57:22 2001
From: miguel at yorku.ca (Miguel Marques)
Date: Fri Jan  9 21:52:18 2004
Subject: [mod_python] any production systems out there?
In-Reply-To: <9AC41B8C4781464695BB013F106FCA3181A658@nasdaq.ms.ensim.com>
References: <9AC41B8C4781464695BB013F106FCA3181A658@nasdaq.ms.ensim.com>
Message-ID: <20010315155722T.miguel@yorku.ca>

On Wed, 14 Mar 2001 11:53:53 -0800, "Ensim-Newsgroups.Mailing-Lists.Mod_Python-List" <ensim.ml.mod_python@ensim.com> wrote:
> i'm trying to evaluate mod python for a production system, and i'd like to
> get feedback...
> 
> - is anyone using mod_python in a production environment?

We use it at York University for seveal of our Web Applications.
Account Management System, Activation of Residence Network Drops,
the search interface to our LDAP server, etc, with more to come...

> - is your production site a heavily hit site?
Depends what you consider a heavily hit site.   We probably don't get
more than 50 to 60 users using our sites concurrently but unfortunately
I don't currently have good stats on usage.   As far as I can tell
performance is as good as applications written with mod_perl.

> - are there any memory issues (does modpython consume an unusual amount of
> memory)?
Yes, but less than than a httpd with mod_perl built in.
Still running mod_python/2.6.3 Python/1.5.2 other versions maybe
different.

> - are there any stability issues?
We had problems before the current version of mod_python with some
obscure bugs having to do with threading but those were fixed on
2.6.2.  Other than that no problems.

							Miguel

C. Miguel Marques, York University, Computing & Network Services
e-mail: miguel@yorku.ca, voice: (416)736-2100x22684, fax: (416)736-5830

From miguel at yorku.ca  Thu Mar 15 16:48:51 2001
From: miguel at yorku.ca (Miguel Marques)
Date: Fri Jan  9 21:52:18 2004
Subject: [mod_python] Passing C structure into python?
Message-ID: <20010315164851I.miguel@yorku.ca>

Greetings...

I previously had a authentication handler written in python which 
using a python extension opened a connection a database.

Since the main request handler was also written in python and needed
to use that connection to the database I just assigned the connection
object to a member of the request object in the authentication
handler.  The main request handler then could access the database
connection using that member of the request object.

I have now rewritten the authentication handler as an apache module
written in C but I still would like to pass that connection to the
database into the main request handler which is written in python.
(I'm opening a connection to the database on both places right now
which is impacting performance)

Any idea how I could do that?  I assume I'll need another python C
module to return me a python variable to use in the main request handler.
The question is where do I store the connection C structure in the
authentication handler so that the handler can get at it?
I don't think I can use the notes field for that.

Any help would be greatly appreciated...

						Miguel

C. Miguel Marques, York University, Computing & Network Services
e-mail: miguel@yorku.ca, voice: (416)736-2100x22684, fax: (416)736-5830

From grisha at verio.net  Thu Mar 15 17:31:33 2001
From: grisha at verio.net (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:52:18 2004
Subject: [mod_python] Passing C structure into python?
In-Reply-To: <20010315164851I.miguel@yorku.ca>
Message-ID: <Pine.BSF.4.32.0103151728420.19898-100000@localhost>

I think req->notes is your best bet. Look at mod_python.c in
get_request_object() for an example. It's not pretty, but it works....

Grisha

On Thu, 15 Mar 2001, Miguel Marques wrote:

> Greetings...
>
> I previously had a authentication handler written in python which
> using a python extension opened a connection a database.
>
> Since the main request handler was also written in python and needed
> to use that connection to the database I just assigned the connection
> object to a member of the request object in the authentication
> handler.  The main request handler then could access the database
> connection using that member of the request object.
>
> I have now rewritten the authentication handler as an apache module
> written in C but I still would like to pass that connection to the
> database into the main request handler which is written in python.
> (I'm opening a connection to the database on both places right now
> which is impacting performance)
>
> Any idea how I could do that?  I assume I'll need another python C
> module to return me a python variable to use in the main request handler.
> The question is where do I store the connection C structure in the
> authentication handler so that the handler can get at it?
> I don't think I can use the notes field for that.
>
> Any help would be greatly appreciated...
>
> 						Miguel
>
> C. Miguel Marques, York University, Computing & Network Services
> e-mail: miguel@yorku.ca, voice: (416)736-2100x22684, fax: (416)736-5830
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From brett at bookshop.unsw.edu.au  Fri Mar 16 15:08:04 2001
From: brett at bookshop.unsw.edu.au (Brett Haydon)
Date: Fri Jan  9 21:52:18 2004
Subject: [mod_python] Heavy Testing
Message-ID: <NCBBKMABOKFCDLPIKKGIEEAICKAA.brett@bookshop.unsw.edu.au>

Hi,

I'm just in the process of putting in an ecommerce
application based on modpython to replace an existing site,
and am just about to enter a beta testing phase on a live
site. I'm interested if anyone has feedback about their
experiences with medium-large sites.

Based on the existing usage I expect about 2000 page views a day
(17,000 hits).

The key area I'm concerned about is garbage collection/memory usage.
Having tested it with only 2-5 simultaneous clients over short periods makes
me a little nervous..

I can't help but wonder why python/modpython isn't growing as fast as
php as in principle python/modpython seems a superior solution (It sure as
hell is quicker to develop with).

regards,

______________________________________________
Brett Haydon


From ensim.ml.mod_python at ensim.com  Mon Mar 19 14:10:18 2001
From: ensim.ml.mod_python at ensim.com (Ensim-Newsgroups.Mailing-Lists.Mod_Python-List)
Date: Fri Jan  9 21:52:18 2004
Subject: [mod_python] setup of python2.1 with and without mod_python
Message-ID: <9AC41B8C4781464695BB013F106FCA3181A680@nasdaq.ms.ensim.com>

i want to be able to run regular python via shell and python via mod_python.

i got modpython to compile under 2.1beta with threading off.

is it possible to have the following environment on a server:

/usr/lib/python2.1/* compiled with threading on (pyc + so files)
/usr/bin/python compiled with threading on
** and **
apache's mod_python.so : dso apache module compiled with python threading
off (i downloaded 2.1 source, did a configure --without-threads, and
compiled mod_python against this source tree)

if my mod_python scripts import libraries from /usr/lib/python2.1/ (ie
import pyc and so files compiled with --with-threads), will it break in the
above environment?

basically, i don't want to have 2 different /usr/lib/python2.1...one for
regular python (invoked via shell) and one for use with mod_python.


From joost.damad at siemens.atea.be  Tue Mar 20 08:06:31 2001
From: joost.damad at siemens.atea.be (Joost Yervante Damad)
Date: Fri Jan  9 21:52:18 2004
Subject: [mod_python] setup of python2.1 with and without mod_python
In-Reply-To: <9AC41B8C4781464695BB013F106FCA3181A680@nasdaq.ms.ensim.com>; from ensim.ml.mod_python@ensim.com on Mon, Mar 19, 2001 at 02:10:18PM -0800
References: <9AC41B8C4781464695BB013F106FCA3181A680@nasdaq.ms.ensim.com>
Message-ID: <20010320080631.A1999@siemens.atea.be>

'Ensim-Newsgroups.Mailing-Lists.Mod_Python-List' wrote about '[mod_python] setup of python2.1 with and without mod_python' - Mon, Mar 19, 2001 at 11:10:18PM CET
> i want to be able to run regular python via shell and python via mod_python.
> 
> i got modpython to compile under 2.1beta with threading off.
> 
> is it possible to have the following environment on a server:
> 
> /usr/lib/python2.1/* compiled with threading on (pyc + so files)
> /usr/bin/python compiled with threading on
> ** and **
> apache's mod_python.so : dso apache module compiled with python threading
> off (i downloaded 2.1 source, did a configure --without-threads, and
> compiled mod_python against this source tree)
> 
> if my mod_python scripts import libraries from /usr/lib/python2.1/ (ie
> import pyc and so files compiled with --with-threads), will it break in the
> above environment?
> 
> basically, i don't want to have 2 different /usr/lib/python2.1...one for
> regular python (invoked via shell) and one for use with mod_python.
> 

Good point. In our lab setup we do the same:

 * mod_python uses an embedded non-threaded python interpreted
 * /opt/Python/* contains an installed normal python which is
   compiled *with* threading.

If I now use modules from that python it seems to work fine.

Is this legal/okay ?

-- 
Joost Damad - Siemens IC D NC A - +3214252297
--
Five is a sufficiently close approximation to infinity.
       -- Robert Firth
"One, two, five."
       -- Monty Python and the Holy Grail

From ensim.ml.mod_python at ensim.com  Tue Mar 20 16:37:59 2001
From: ensim.ml.mod_python at ensim.com (Ensim-Newsgroups.Mailing-Lists.Mod_Python-List)
Date: Fri Jan  9 21:52:18 2004
Subject: [mod_python] apache 1.3.14 + mod_python 2.7.2 + python 2.0/2.1b1 + PyGreSQL 3.
 1 + mxdatetime 2.0
Message-ID: <9AC41B8C4781464695BB013F106FCA3181A68A@nasdaq.ms.ensim.com>

thought you guys might interested on my experience with getting this up and
running.

- ensured python 1.5.2 wasn't installed (or you could set your path to
something like export PATH=/usr/local/python2.1/bin:$PATH, so the py2.x had
preference).  the python binary gets invoked by various build scripts
(disutils and makefiles), so its important the right version is being
invoked.
- had to compile python without thread support (mod_python requirement)
- needed to change mod_python's configure script in order to compile with
2.1b1 (had no problems with 2.0).  there was a line grep xxx
Modules/Makefile.  i changed it to grep xxx Makefile.
- set OPT=-DEAPI in src/Makefile in mod_python (from a posting to modpython
mailist list).
- changed pgdb.py and removed "import exceptions"...it was giving my
mod_python scripts weird errors.  it seems python 2.x moved the exceptions
module into built-ins.
- changed pgdb.py from "import DateTime" to "from mx import DateTime".  (i
used egenix's mxdatetime and compiled from source). DateTime is required by
pgdb.

i did a simple query from a mod_pythonscript and things seem to work.

btw, i wrote 2 scripts to do a simple query in php and mod_python and i got
these amazing results from httperf (server = pentium3-550/rh62/ide, client =
pentium3-300/rh70/ide):

MODPYTHON ============================================
dbtest.py:
from mod_python import apache
import pgdb
import sys
 
db = pgdb.connect(user='naris', database='perftest')
 
def handler(req):
    req.content_type = "text/html"
    req.send_http_header()
    cursor = db.cursor()
    cursor.execute("SELECT * FROM perftable")
    retval = cursor.fetchall()
    req.write(retval[0][0])
    req.write(retval[1][0])
    return apache.OK

./httperf --server=blueberry.wh.ensim.com --port=19638
--uri=/modpython/dbtest.py --num-conns=1 --num-calls=100
httperf --client=0/1 --server=blueberry.wh.ensim.com --port=19638
--uri=/modpython/dbtest.py --send-buffer=4096 --recv-buffer=16384
--num-conns=1 --num-calls=100
Maximum connect burst length: 0

Total: connections 1 requests 100 replies 100 test-duration 0.333 s

Connection rate: 3.0 conn/s (333.1 ms/conn, <=1 concurrent connections)
Connection time [ms]: min 333.1 avg 333.1 max 333.1 median 333.5 stddev 0.0
Connection time [ms]: connect 0.4
Connection length [replies/conn]: 100.000

Request rate: 300.2 req/s (3.3 ms/req)
Request size [B]: 92.0

Reply rate [replies/s]: min 0.0 avg 0.0 max 0.0 stddev 0.0 (0 samples)
Reply time [ms]: response 3.2 transfer 0.1
Reply size [B]: header 182.0 content 30.0 footer 2.0 (total 214.0)
Reply status: 1xx=0 2xx=100 3xx=0 4xx=0 5xx=0

CPU time [s]: user 0.07 system 0.22 (user 21.0% system 66.0% total 87.1%)
Net I/O: 89.1 KB/s (0.7*10^6 bps)

Errors: total 0 client-timo 0 socket-timo 0 connrefused 0 connreset 0
Errors: fd-unavail 0 addrunavail 0 ftab-full 0 other 0

PHP ============================================
dbtest.php:
<?php
   $database = pg_Connect ("dbname=perftest user=naris");
   $result = pg_Exec ($database, "select * from perftable");
   $arr = pg_fetch_array($result, 0);
   echo $arr[0];
   $arr = pg_fetch_array($result, 1);
   echo $arr[0];
?>
./httperf --server=blueberry.wh.ensim.com --port=19638 --uri=/php/dbtest.php
--num-conns=1 --num-calls=100
httperf --client=0/1 --server=blueberry.wh.ensim.com --port=19638
--uri=/php/dbtest.php --send-buffer=4096 --recv-buffer=16384 --num-conns=1
--num-calls=100
Maximum connect burst length: 0

Total: connections 1 requests 100 replies 100 test-duration 2.031 s

Connection rate: 0.5 conn/s (2031.0 ms/conn, <=1 concurrent connections)
Connection time [ms]: min 2031.0 avg 2031.0 max 2031.0 median 2031.5 stddev
0.0 Connection time [ms]: connect 0.5
Connection length [replies/conn]: 100.000

Request rate: 49.2 req/s (20.3 ms/req)
Request size [B]: 87.0

Reply rate [replies/s]: min 0.0 avg 0.0 max 0.0 stddev 0.0 (0 samples)
Reply time [ms]: response 20.3 transfer 0.0
Reply size [B]: header 208.0 content 30.0 footer 2.0 (total 240.0)
Reply status: 1xx=0 2xx=100 3xx=0 4xx=0 5xx=0

CPU time [s]: user 0.49 system 1.50 (user 24.1% system 73.9% total 98.0%)
Net I/O: 15.6 KB/s (0.1*10^6 bps)

Errors: total 0 client-timo 0 socket-timo 0 connrefused 0 connreset 0
Errors: fd-unavail 0 addrunavail 0 ftab-full 0 other 0

---
Naris Siamwalla
naris@ensim.com


From marcf at becomm.com  Wed Mar 21 12:55:55 2001
From: marcf at becomm.com (Marc Fiuczynski)
Date: Fri Jan  9 21:52:18 2004
Subject: [mod_python] problem with publisher.py File class w/ possible fix
Message-ID: <A9DFD9380C01D4118E740050DA7A89703860FA@becomm-mis2.becomm.com>

Hi,

I am having a problem with the publisher.py File class, which I have fixed,
but I would like your approval.

My configuration is as follows:
mod_python 2.7.2
python 2.0
apache 1.3.14
Red Hat Linux 7.0

I am using mod python to do http_post operations with files.  This uses the
publisher.py File class.  The __init__ method of that class steals all of
the file-like methods, as shown below:

        # steal all the file-like methods
        methods = field.file.__methods__
        for m in methods:
            self.__dict__[m] = methods[m]

I was getting an error in that last line saying that 'm' needed to be an
int.  (Sorry, I forget the actual error).  I found some other code that was
doing the exact same thing and noticed that they were assigning the methods
in a different manner (using setattr).  See below:

        # steal all the file-like methods
        file = field.file
        for method in file.__methods__:
            setattr(self, method, getattr(file, method))

This seems to work.  I am too nascent to Python to understand the history of
the built-in __xyz__ fields in objects, and whether this is something
specific to Python 2.0 versus an older version of Python.  Please review and
if it is the right thing, then feel free to incorporate this change into
your mod_python code base.

Cheers,
Marc


From marcf at becomm.com  Wed Mar 21 13:09:30 2001
From: marcf at becomm.com (Marc Fiuczynski)
Date: Fri Jan  9 21:52:18 2004
Subject: [mod_python] problem with auto_reload in apache.py
Message-ID: <A9DFD9380C01D4118E740050DA7A89703860FB@becomm-mis2.becomm.com>

Hi, 

apache.py seems to be having trouble reloading my python modules when I
update them.  This happens when apache is running with mod_python, and I
then change my python module.  It fails in several odd ways:

1) after I change my python module, mod_python will work every other time
that I use it via my browser.
2) after I change my python module, mod_python completely fails to reload
it.

In either case, if I send a HUP signal to the apache server, then everything
works just fine afterwards.



My configuration is as follows:
*	python module is being invoked via mod_python's publisher interface.
*	mod_python 2.7.2
*	python 2.0
*	apache 1.3.14
*	Red Hat Linux 7.0

I have apache configured with the following:
  AddHandler python-program .py
  PythonHandler mod_python.publisher
  PythonDebug On
  PythonNoReload Off

Can anyone provide some insight?!

Thanks,
Marc


From grisha at verio.net  Wed Mar 21 16:29:44 2001
From: grisha at verio.net (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:52:18 2004
Subject: [mod_python] problem with auto_reload in apache.py
In-Reply-To: <A9DFD9380C01D4118E740050DA7A89703860FB@becomm-mis2.becomm.com>
Message-ID: <Pine.BSF.4.32.0103211627550.79428-100000@localhost>

The reload mechanism isn't 100% reliable, and every once in a while you
will need to restart the server.

But if you're getting consistent problems, I would make sure that all the
permissions are set correctly - pay attention to what the apache server
runs as, as well as what the permissions are on the .py and .pyc files.

Grisha


On Wed, 21 Mar 2001, Marc Fiuczynski wrote:

> Hi,
>
> apache.py seems to be having trouble reloading my python modules when I
> update them.  This happens when apache is running with mod_python, and I
> then change my python module.  It fails in several odd ways:
>
> 1) after I change my python module, mod_python will work every other time
> that I use it via my browser.
> 2) after I change my python module, mod_python completely fails to reload
> it.
>
> In either case, if I send a HUP signal to the apache server, then everything
> works just fine afterwards.
>
>
>
> My configuration is as follows:
> *	python module is being invoked via mod_python's publisher interface.
> *	mod_python 2.7.2
> *	python 2.0
> *	apache 1.3.14
> *	Red Hat Linux 7.0
>
> I have apache configured with the following:
>   AddHandler python-program .py
>   PythonHandler mod_python.publisher
>   PythonDebug On
>   PythonNoReload Off
>
> Can anyone provide some insight?!
>
> Thanks,
> Marc
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From brianh at exelixis.com  Wed Mar 21 15:37:50 2001
From: brianh at exelixis.com (Brian Hawthorne)
Date: Fri Jan  9 21:52:18 2004
Subject: [mod_python] problem with auto_reload in apache.py
In-Reply-To: <A9DFD9380C01D4118E740050DA7A89703860FB@becomm-mis2.becomm.com>
Message-ID: <Pine.GSO.4.05.10103211531030.29056-100000@timeless.exelixis.com>

marc, i had very similar and equally strange problems with the
module reloading; if for example 3 different versions of the module had
been loaded since the last apache restart, it would use them in a random
repetitive sequence, like  12231321133313211223132112231321... etc.
_very_ strange.  i fixed the problem with some changes to the
mod_python.apache.import_module function.  i've included my improved
version below.

hope it helps!
brian

#---------------------------------------------------------------------
def import_module(module_name, req=None, path=None):
    """ 
    Get the module to handle the request. If
    autoreload is on, then the module will be reloaded
    if it has changed since the last import.
    """

    # get the options
    autoreload, debug = 1, None
    if req:
        config = req.get_config()
        autoreload = not config.has_key("PythonNoReload")
        debug = not config.has_key("PythonDebug")

    # try to import the module

    oldmtime = None
    mtime = None

    if  not autoreload:

        parts = string.split(module_name, '.')
        for i in range(len(parts)):
            f, p, d = imp.find_module(parts[i], path)
            try:
                mname = string.join(parts[:i+1], ".")
                module = imp.load_module(mname, f, p, d)
            finally:
                if f: f.close()
            if hasattr(module, "__path__"):
                path = module.__path__

        # import module
        #module = __import__(module_name)
        #components = string.split(module_name, '.')
        #for cmp in components[1:]:
        #    module = getattr(module, cmp)

    else:

        # keep track of file modification time and
        # try to reload it if it is newer
        if sys.modules.has_key(module_name):

            # the we won't even bother importing
            module = sys.modules[module_name]

            # does it have __mtime__ ?
            if sys.modules[module_name].__dict__.has_key("__mtime__"):
                # remember it
                oldmtime = sys.modules[ module_name ].__mtime__

        # import the module for the first time
        else:

            parts = string.split(module_name, '.')
            for i in range(len(parts)):
                f, p, d = imp.find_module(parts[i], path)
                try:
                    mname = string.join(parts[:i+1], ".")
                    module = imp.load_module(mname, f, p, d)
                finally:
                    if f: f.close()
                if hasattr(module, "__path__"):
                    path = module.__path__

##            module = __import__(module_name)
##            components = string.split(module_name, '.')
##            for cmp in components[1:]:
##                module = getattr(module, cmp)

        # find out the last modification time
        # but only if there is a __file__ attr
        if module.__dict__.has_key("__file__"):

            filepath = module.__file__

            if os.path.exists(filepath):

                mod = os.stat(filepath)
                mtime = mod[stat.ST_MTIME]

            # check also .py and take the newest
            if os.path.exists(filepath[:-1]) :

                # get the time of the .py file
                mod = os.stat(filepath[:-1])
                mtime = max(mtime, mod[stat.ST_MTIME])

    # if module is newer - reload
    if (autoreload and (oldmtime < mtime)):
        del sys.modules[module_name]
        # import the module as if for the first time
        parts = string.split(module_name, '.')
        for i in range(len(parts)):
            f, p, d = imp.find_module(parts[i], path)
            try:
                mname = string.join(parts[:i+1], ".")
                module = imp.load_module(mname, f, p, d)
            finally:
                if f: f.close()
            if hasattr(module, "__path__"):
                path = module.__path__

        #try: module = reload(module)
        #except: pass

    # save mtime
    module.__mtime__ = mtime

    return module
#---------------------------------------------------------------------

On Wed, 21 Mar 2001, Marc Fiuczynski wrote:

> Hi, 
> 
> apache.py seems to be having trouble reloading my python modules when I
> update them.  This happens when apache is running with mod_python, and I
> then change my python module.  It fails in several odd ways:
> 
> 1) after I change my python module, mod_python will work every other time
> that I use it via my browser.
> 2) after I change my python module, mod_python completely fails to reload
> it.
> 
> In either case, if I send a HUP signal to the apache server, then everything
> works just fine afterwards.
> 
> 
> 
> My configuration is as follows:
> *	python module is being invoked via mod_python's publisher interface.
> *	mod_python 2.7.2
> *	python 2.0
> *	apache 1.3.14
> *	Red Hat Linux 7.0
> 
> I have apache configured with the following:
>   AddHandler python-program .py
>   PythonHandler mod_python.publisher
>   PythonDebug On
>   PythonNoReload Off
> 
> Can anyone provide some insight?!
> 
> Thanks,
> Marc
> 
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
> 


From marcf at becomm.com  Wed Mar 21 17:58:18 2001
From: marcf at becomm.com (Marc Fiuczynski)
Date: Fri Jan  9 21:52:18 2004
Subject: [mod_python] problem with auto_reload in apache.py
Message-ID: <A9DFD9380C01D4118E740050DA7A8970386101@becomm-mis2.becomm.com>

Brian,

Your version of the code seems to make it work properly.

Thank you.

Marc

-----Original Message-----
From: Brian Hawthorne [mailto:brianh@exelixis.com]
Sent: Wednesday, March 21, 2001 3:38 PM
To: Marc Fiuczynski
Cc: 'mod_python@modpython.org'
Subject: Re: [mod_python] problem with auto_reload in apache.py


marc, i had very similar and equally strange problems with the
module reloading; if for example 3 different versions of the module had
been loaded since the last apache restart, it would use them in a random
repetitive sequence, like  12231321133313211223132112231321... etc.
_very_ strange.  i fixed the problem with some changes to the
mod_python.apache.import_module function.  i've included my improved
version below.

hope it helps!
brian

#---------------------------------------------------------------------
def import_module(module_name, req=None, path=None):
    """ 
    Get the module to handle the request. If
    autoreload is on, then the module will be reloaded
    if it has changed since the last import.
    """

    # get the options
    autoreload, debug = 1, None
    if req:
        config = req.get_config()
        autoreload = not config.has_key("PythonNoReload")
        debug = not config.has_key("PythonDebug")

    # try to import the module

    oldmtime = None
    mtime = None

    if  not autoreload:

        parts = string.split(module_name, '.')
        for i in range(len(parts)):
            f, p, d = imp.find_module(parts[i], path)
            try:
                mname = string.join(parts[:i+1], ".")
                module = imp.load_module(mname, f, p, d)
            finally:
                if f: f.close()
            if hasattr(module, "__path__"):
                path = module.__path__

        # import module
        #module = __import__(module_name)
        #components = string.split(module_name, '.')
        #for cmp in components[1:]:
        #    module = getattr(module, cmp)

    else:

        # keep track of file modification time and
        # try to reload it if it is newer
        if sys.modules.has_key(module_name):

            # the we won't even bother importing
            module = sys.modules[module_name]

            # does it have __mtime__ ?
            if sys.modules[module_name].__dict__.has_key("__mtime__"):
                # remember it
                oldmtime = sys.modules[ module_name ].__mtime__

        # import the module for the first time
        else:

            parts = string.split(module_name, '.')
            for i in range(len(parts)):
                f, p, d = imp.find_module(parts[i], path)
                try:
                    mname = string.join(parts[:i+1], ".")
                    module = imp.load_module(mname, f, p, d)
                finally:
                    if f: f.close()
                if hasattr(module, "__path__"):
                    path = module.__path__

##            module = __import__(module_name)
##            components = string.split(module_name, '.')
##            for cmp in components[1:]:
##                module = getattr(module, cmp)

        # find out the last modification time
        # but only if there is a __file__ attr
        if module.__dict__.has_key("__file__"):

            filepath = module.__file__

            if os.path.exists(filepath):

                mod = os.stat(filepath)
                mtime = mod[stat.ST_MTIME]

            # check also .py and take the newest
            if os.path.exists(filepath[:-1]) :

                # get the time of the .py file
                mod = os.stat(filepath[:-1])
                mtime = max(mtime, mod[stat.ST_MTIME])

    # if module is newer - reload
    if (autoreload and (oldmtime < mtime)):
        del sys.modules[module_name]
        # import the module as if for the first time
        parts = string.split(module_name, '.')
        for i in range(len(parts)):
            f, p, d = imp.find_module(parts[i], path)
            try:
                mname = string.join(parts[:i+1], ".")
                module = imp.load_module(mname, f, p, d)
            finally:
                if f: f.close()
            if hasattr(module, "__path__"):
                path = module.__path__

        #try: module = reload(module)
        #except: pass

    # save mtime
    module.__mtime__ = mtime

    return module
#---------------------------------------------------------------------

On Wed, 21 Mar 2001, Marc Fiuczynski wrote:

> Hi, 
> 
> apache.py seems to be having trouble reloading my python modules when I
> update them.  This happens when apache is running with mod_python, and I
> then change my python module.  It fails in several odd ways:
> 
> 1) after I change my python module, mod_python will work every other time
> that I use it via my browser.
> 2) after I change my python module, mod_python completely fails to reload
> it.
> 
> In either case, if I send a HUP signal to the apache server, then
everything
> works just fine afterwards.
> 
> 
> 
> My configuration is as follows:
> *	python module is being invoked via mod_python's publisher interface.
> *	mod_python 2.7.2
> *	python 2.0
> *	apache 1.3.14
> *	Red Hat Linux 7.0
> 
> I have apache configured with the following:
>   AddHandler python-program .py
>   PythonHandler mod_python.publisher
>   PythonDebug On
>   PythonNoReload Off
> 
> Can anyone provide some insight?!
> 
> Thanks,
> Marc
> 
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
> 

_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From rusfkk at yahoo.com  Sat Mar 24 02:12:11 2001
From: rusfkk at yahoo.com (Kirill)
Date: Fri Jan  9 21:52:18 2004
Subject: [mod_python] Ïðàâèëüíàÿ ðåãèñòðàöèÿ
Message-ID: <200103252211.f2PMBPc21389@eden.ispol.com>

??????????? ? 30 ?????????? ????????? ???????? ? ????????? - 30$.

??????????? ? 20 ????????????? ????????? ???????? ? ????????? - 20$.

??????????? ????? ? ????????? ???????? Rambler.ru, Yandex.ru
? ?????????? ?????? ????? ?? ?????? ???????? ??????? ?? ????? ????????
?????? - ??????????.

From ndonti at swbell.net  Sun Mar 25 18:36:09 2001
From: ndonti at swbell.net (Naresh Donti)
Date: Fri Jan  9 21:52:18 2004
Subject: [mod_python] mod_python and mod_ssl
Message-ID: <5.0.2.1.0.20010325183310.00a62de8@postoffice.swbell.net>

I added
SSLOptions +StdEnvVars
to the directory I am using mod_python with and noticed that the 
environment variables like HTTPS are not set.

Where should I look for these values?


From CHagner at fool.com  Tue Mar 27 13:12:57 2001
From: CHagner at fool.com (Chris Hagner)
Date: Fri Jan  9 21:52:18 2004
Subject: [mod_python] PythonImport failure
Message-ID: <13CDDE6A53DBD311BC3200508B6F0C4804DAFCFA@rover.foolhq.com>

A specific question about why PythonImport works for some modules and not
for others.

1.  The following statement works.  It compiles/imports apache.py at server
startup.

PythonImport mod_python.apache

2.  Now, when I create a dummy module in mod_python/MyObject.py

def myFunction():
    return "MyObject.myFunction()"

class MyObject:

    def __init__(self):
        pass

The following statement does not work.

PythonImport mod_pytnon.MyObject

Here's the error in error.log
[Tue Mar 27 13:07:56 2001] [error] directive_PythonImport: error import
mod_python.MyObject
TypeError: must assign list (not "string") to slice

Any help on this error msg?

BTW, the first error line appears at start up... second appears upon
immediate shutdown... probably just a buffer thing, but I thought I'd share.

3.  I also tried import a base module which worked fine.

PythonImport string

4.  But when I created a copy of string.py and simply renamed it, it didn't
work.

PythonImport copyofstring

Any thoughts on why mod_python appears to like some modules and not others?

Thanks in advance.

Chris



-----Original Message-----
From: Chris Hagner [mailto:CHagner@fool.com]
Sent: Thursday, March 15, 2001 12:07 PM
To: 'Gregory (Grisha) Trubetskoy'
Cc: 'mod_python@modpython.org'
Subject: RE: [mod_python] PythonImport failure


Thanks for the response.  For my tests, mypackage is a package named
'toolkit' and the mymodule is a module named 'brandconfig'.

Oh yeah, I'm doing this on Apache/1.3.19 (Win32) mod_python/2.7.1
Python/2.0.  I'm on Win2K (for development, sigh).

INTERACTIVE SESSION TEST:
******************************

Here's my python interactive session... the module only contains a single
variable x.

>>> import toolkit.brandconfig
>>> dir(toolkit.brandconfig)
['__builtins__', '__doc__', '__file__', '__name__', 'x']
>>> toolkit.brandconfig.x
123
>>> 

So, the module is importable in my python environment.


APACHE PYTHONIMPORT TEST:
******************************

Just to be sure, I ran the apache test again.  Here's the httpd.conf entry.
Nothing shocking.

<Directory "D:/site/brand1/htdocs">
   AddHandler python-program .py
   PythonHandler toolkit.publisher
   PythonDebug on
   PythonImport toolkit.brandconfig
</Directory>

Here's the response in the log upon starting apache.

   [Thu Mar 15 11:39:10 2001] [error] directive_PythonImport: error
importing toolkit.brandconfig

Same as before.  Now, just to be sure, I blew away the brandconfig.py file
(and the .pyc) so that it shouldn't even find it (just to see if I could get
a different error if it didn't even exist).  Result: No change.  Same error
in error.log.  Apparently, it's not even finding it.

APACHE PYTHON SCRIPT TEST:
******************************

So, it wasn't importing it on start up.  How about a python script in
mod_python?

Here's the code blurb...

	import foolkit.brandconfig
       out_string = "foolkit.brandconfig.x: %s \n"% foolkit.brandconfig.x

Did it work?  yup, the page displayed 

	foolkit.brandconfig.x: 123



Yes, I have read through the documentation and my need is to initialize a
number of objects (i.e. dbconn pool) for use throughout my applications.
Now, I am using a custom handler, so I could simply have the handler do this
initialization the first time it runs, but the PythonImport appeared to be a
code-free way to achieve this goal.  Do you all think this is a case where I
*really* need it?  If not, could someone share an example of when it really
deserves to be used?

Thanks again for the help.

Chris

-----Original Message-----
From: Gregory (Grisha) Trubetskoy [mailto:grisha@verio.net]
Sent: Thursday, March 15, 2001 11:26 AM
To: Chris Hagner
Cc: 'mod_python@modpython.org'
Subject: Re: [mod_python] PythonImport failure



Chris -

Have you tried

>>> import mypackage.mymodule

from an interactive Python session?

Also, regarding PythonPath - if you read documentation carefully, you'll
notice that it says that no other directives have any effect at the time
PythonImport is executed.

Generally, you should not use PythonImport unless you *really* need it,
which is almost never the case.

Grisha


On Thu, 15 Mar 2001, Chris Hagner wrote:

> Greetings,
>
> I'm trying to get the PythonImport command to work.  Been through the
> documentation, but it appears to want more than simply inserting
>
>    PythonImport mypackage.mymodule
>
> within my Directory tags in httd.conf.
>
> While mypackage.mymodule is under the standard python lib directory
> (therefore should be found through the sys.path), the system spat out the
> following...
>
>     ...[error] directive_PythonImport: error importing mypackage.mymodule
>
> I then moved the module to a different directory and appended that
directory
> to the sys.path using the PythonPath command (just to see if that allowed
it
> to find the module).  No luck.
>
> I've found a handful of posts from June and August of last year, but no
> posted solutions to getting the PythonImport command to work correctly.
Of
> course, there's a CVS commit with the comment "PythonImport works now" so
> I'm pretty sure it's me...
>
> As a random test, I tried a standard module...
>
>    PythonImport sys
>
> which appeared to work (no error msg), but I'm not really confident that
> this was a meaningful test.
>
> Thanks in advance.
>
> Chris
> chagner _at_ fool _dot_ com
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>
_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From grisha at verio.net  Tue Mar 27 16:00:45 2001
From: grisha at verio.net (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:52:18 2004
Subject: [mod_python] PythonImport failure
In-Reply-To: <13CDDE6A53DBD311BC3200508B6F0C4804DAFCFA@rover.foolhq.com>
Message-ID: <Pine.BSF.4.32.0103271600110.30562-100000@localhost>

Try the mod_python 2.7.2 DLL and see if the problems persist

Grisha

On Tue, 27 Mar 2001, Chris Hagner wrote:

> A specific question about why PythonImport works for some modules and not
> for others.
>
> 1.  The following statement works.  It compiles/imports apache.py at server
> startup.
>
> PythonImport mod_python.apache
>
> 2.  Now, when I create a dummy module in mod_python/MyObject.py
>
> def myFunction():
>     return "MyObject.myFunction()"
>
> class MyObject:
>
>     def __init__(self):
>         pass
>
> The following statement does not work.
>
> PythonImport mod_pytnon.MyObject
>
> Here's the error in error.log
> [Tue Mar 27 13:07:56 2001] [error] directive_PythonImport: error import
> mod_python.MyObject
> TypeError: must assign list (not "string") to slice
>
> Any help on this error msg?
>
> BTW, the first error line appears at start up... second appears upon
> immediate shutdown... probably just a buffer thing, but I thought I'd share.
>
> 3.  I also tried import a base module which worked fine.
>
> PythonImport string
>
> 4.  But when I created a copy of string.py and simply renamed it, it didn't
> work.
>
> PythonImport copyofstring
>
> Any thoughts on why mod_python appears to like some modules and not others?
>
> Thanks in advance.
>
> Chris
>
>
>
> -----Original Message-----
> From: Chris Hagner [mailto:CHagner@fool.com]
> Sent: Thursday, March 15, 2001 12:07 PM
> To: 'Gregory (Grisha) Trubetskoy'
> Cc: 'mod_python@modpython.org'
> Subject: RE: [mod_python] PythonImport failure
>
>
> Thanks for the response.  For my tests, mypackage is a package named
> 'toolkit' and the mymodule is a module named 'brandconfig'.
>
> Oh yeah, I'm doing this on Apache/1.3.19 (Win32) mod_python/2.7.1
> Python/2.0.  I'm on Win2K (for development, sigh).
>
> INTERACTIVE SESSION TEST:
> ******************************
>
> Here's my python interactive session... the module only contains a single
> variable x.
>
> >>> import toolkit.brandconfig
> >>> dir(toolkit.brandconfig)
> ['__builtins__', '__doc__', '__file__', '__name__', 'x']
> >>> toolkit.brandconfig.x
> 123
> >>>
>
> So, the module is importable in my python environment.
>
>
> APACHE PYTHONIMPORT TEST:
> ******************************
>
> Just to be sure, I ran the apache test again.  Here's the httpd.conf entry.
> Nothing shocking.
>
> <Directory "D:/site/brand1/htdocs">
>    AddHandler python-program .py
>    PythonHandler toolkit.publisher
>    PythonDebug on
>    PythonImport toolkit.brandconfig
> </Directory>
>
> Here's the response in the log upon starting apache.
>
>    [Thu Mar 15 11:39:10 2001] [error] directive_PythonImport: error
> importing toolkit.brandconfig
>
> Same as before.  Now, just to be sure, I blew away the brandconfig.py file
> (and the .pyc) so that it shouldn't even find it (just to see if I could get
> a different error if it didn't even exist).  Result: No change.  Same error
> in error.log.  Apparently, it's not even finding it.
>
> APACHE PYTHON SCRIPT TEST:
> ******************************
>
> So, it wasn't importing it on start up.  How about a python script in
> mod_python?
>
> Here's the code blurb...
>
> 	import foolkit.brandconfig
>        out_string = "foolkit.brandconfig.x: %s \n"% foolkit.brandconfig.x
>
> Did it work?  yup, the page displayed
>
> 	foolkit.brandconfig.x: 123
>
>
>
> Yes, I have read through the documentation and my need is to initialize a
> number of objects (i.e. dbconn pool) for use throughout my applications.
> Now, I am using a custom handler, so I could simply have the handler do this
> initialization the first time it runs, but the PythonImport appeared to be a
> code-free way to achieve this goal.  Do you all think this is a case where I
> *really* need it?  If not, could someone share an example of when it really
> deserves to be used?
>
> Thanks again for the help.
>
> Chris
>
> -----Original Message-----
> From: Gregory (Grisha) Trubetskoy [mailto:grisha@verio.net]
> Sent: Thursday, March 15, 2001 11:26 AM
> To: Chris Hagner
> Cc: 'mod_python@modpython.org'
> Subject: Re: [mod_python] PythonImport failure
>
>
>
> Chris -
>
> Have you tried
>
> >>> import mypackage.mymodule
>
> from an interactive Python session?
>
> Also, regarding PythonPath - if you read documentation carefully, you'll
> notice that it says that no other directives have any effect at the time
> PythonImport is executed.
>
> Generally, you should not use PythonImport unless you *really* need it,
> which is almost never the case.
>
> Grisha
>
>
> On Thu, 15 Mar 2001, Chris Hagner wrote:
>
> > Greetings,
> >
> > I'm trying to get the PythonImport command to work.  Been through the
> > documentation, but it appears to want more than simply inserting
> >
> >    PythonImport mypackage.mymodule
> >
> > within my Directory tags in httd.conf.
> >
> > While mypackage.mymodule is under the standard python lib directory
> > (therefore should be found through the sys.path), the system spat out the
> > following...
> >
> >     ...[error] directive_PythonImport: error importing mypackage.mymodule
> >
> > I then moved the module to a different directory and appended that
> directory
> > to the sys.path using the PythonPath command (just to see if that allowed
> it
> > to find the module).  No luck.
> >
> > I've found a handful of posts from June and August of last year, but no
> > posted solutions to getting the PythonImport command to work correctly.
> Of
> > course, there's a CVS commit with the comment "PythonImport works now" so
> > I'm pretty sure it's me...
> >
> > As a random test, I tried a standard module...
> >
> >    PythonImport sys
> >
> > which appeared to work (no error msg), but I'm not really confident that
> > this was a meaningful test.
> >
> > Thanks in advance.
> >
> > Chris
> > chagner _at_ fool _dot_ com
> >
> >
> > _______________________________________________
> > Mod_python mailing list
> > Mod_python@modpython.org
> > http://www.modpython.org/mailman/listinfo/mod_python
> >
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From CHagner at fool.com  Tue Mar 27 16:02:59 2001
From: CHagner at fool.com (Chris Hagner)
Date: Fri Jan  9 21:52:18 2004
Subject: [mod_python] PythonImport failure
Message-ID: <13CDDE6A53DBD311BC3200508B6F0C4804DAFCFC@rover.foolhq.com>

Actually, I was running the latest (2.7.2), but I downloaded the latest from
modpython.org just to be sure.  No change.

BTW, I'll be moving my dev environment to Linux shortly (whew), so I'll let
you know if the same issue persists.  If you have any other ideas, tests,
goose chases... I'm happy to try them out.

Thanks.

Chris

-----Original Message-----
From: Gregory (Grisha) Trubetskoy [mailto:grisha@verio.net]
Sent: Tuesday, March 27, 2001 4:01 PM
To: Chris Hagner
Cc: 'mod_python@modpython.org'
Subject: RE: [mod_python] PythonImport failure



Try the mod_python 2.7.2 DLL and see if the problems persist

Grisha

On Tue, 27 Mar 2001, Chris Hagner wrote:

> A specific question about why PythonImport works for some modules and not
> for others.
>
> 1.  The following statement works.  It compiles/imports apache.py at
server
> startup.
>
> PythonImport mod_python.apache
>
> 2.  Now, when I create a dummy module in mod_python/MyObject.py
>
> def myFunction():
>     return "MyObject.myFunction()"
>
> class MyObject:
>
>     def __init__(self):
>         pass
>
> The following statement does not work.
>
> PythonImport mod_pytnon.MyObject
>
> Here's the error in error.log
> [Tue Mar 27 13:07:56 2001] [error] directive_PythonImport: error import
> mod_python.MyObject
> TypeError: must assign list (not "string") to slice
>
> Any help on this error msg?
>
> BTW, the first error line appears at start up... second appears upon
> immediate shutdown... probably just a buffer thing, but I thought I'd
share.
>
> 3.  I also tried import a base module which worked fine.
>
> PythonImport string
>
> 4.  But when I created a copy of string.py and simply renamed it, it
didn't
> work.
>
> PythonImport copyofstring
>
> Any thoughts on why mod_python appears to like some modules and not
others?
>
> Thanks in advance.
>
> Chris
>
>
>
> -----Original Message-----
> From: Chris Hagner [mailto:CHagner@fool.com]
> Sent: Thursday, March 15, 2001 12:07 PM
> To: 'Gregory (Grisha) Trubetskoy'
> Cc: 'mod_python@modpython.org'
> Subject: RE: [mod_python] PythonImport failure
>
>
> Thanks for the response.  For my tests, mypackage is a package named
> 'toolkit' and the mymodule is a module named 'brandconfig'.
>
> Oh yeah, I'm doing this on Apache/1.3.19 (Win32) mod_python/2.7.1
> Python/2.0.  I'm on Win2K (for development, sigh).
>
> INTERACTIVE SESSION TEST:
> ******************************
>
> Here's my python interactive session... the module only contains a single
> variable x.
>
> >>> import toolkit.brandconfig
> >>> dir(toolkit.brandconfig)
> ['__builtins__', '__doc__', '__file__', '__name__', 'x']
> >>> toolkit.brandconfig.x
> 123
> >>>
>
> So, the module is importable in my python environment.
>
>
> APACHE PYTHONIMPORT TEST:
> ******************************
>
> Just to be sure, I ran the apache test again.  Here's the httpd.conf
entry.
> Nothing shocking.
>
> <Directory "D:/site/brand1/htdocs">
>    AddHandler python-program .py
>    PythonHandler toolkit.publisher
>    PythonDebug on
>    PythonImport toolkit.brandconfig
> </Directory>
>
> Here's the response in the log upon starting apache.
>
>    [Thu Mar 15 11:39:10 2001] [error] directive_PythonImport: error
> importing toolkit.brandconfig
>
> Same as before.  Now, just to be sure, I blew away the brandconfig.py file
> (and the .pyc) so that it shouldn't even find it (just to see if I could
get
> a different error if it didn't even exist).  Result: No change.  Same
error
> in error.log.  Apparently, it's not even finding it.
>
> APACHE PYTHON SCRIPT TEST:
> ******************************
>
> So, it wasn't importing it on start up.  How about a python script in
> mod_python?
>
> Here's the code blurb...
>
> 	import foolkit.brandconfig
>        out_string = "foolkit.brandconfig.x: %s \n"% foolkit.brandconfig.x
>
> Did it work?  yup, the page displayed
>
> 	foolkit.brandconfig.x: 123
>
>
>
> Yes, I have read through the documentation and my need is to initialize a
> number of objects (i.e. dbconn pool) for use throughout my applications.
> Now, I am using a custom handler, so I could simply have the handler do
this
> initialization the first time it runs, but the PythonImport appeared to be
a
> code-free way to achieve this goal.  Do you all think this is a case where
I
> *really* need it?  If not, could someone share an example of when it
really
> deserves to be used?
>
> Thanks again for the help.
>
> Chris
>
> -----Original Message-----
> From: Gregory (Grisha) Trubetskoy [mailto:grisha@verio.net]
> Sent: Thursday, March 15, 2001 11:26 AM
> To: Chris Hagner
> Cc: 'mod_python@modpython.org'
> Subject: Re: [mod_python] PythonImport failure
>
>
>
> Chris -
>
> Have you tried
>
> >>> import mypackage.mymodule
>
> from an interactive Python session?
>
> Also, regarding PythonPath - if you read documentation carefully, you'll
> notice that it says that no other directives have any effect at the time
> PythonImport is executed.
>
> Generally, you should not use PythonImport unless you *really* need it,
> which is almost never the case.
>
> Grisha
>
>
> On Thu, 15 Mar 2001, Chris Hagner wrote:
>
> > Greetings,
> >
> > I'm trying to get the PythonImport command to work.  Been through the
> > documentation, but it appears to want more than simply inserting
> >
> >    PythonImport mypackage.mymodule
> >
> > within my Directory tags in httd.conf.
> >
> > While mypackage.mymodule is under the standard python lib directory
> > (therefore should be found through the sys.path), the system spat out
the
> > following...
> >
> >     ...[error] directive_PythonImport: error importing
mypackage.mymodule
> >
> > I then moved the module to a different directory and appended that
> directory
> > to the sys.path using the PythonPath command (just to see if that
allowed
> it
> > to find the module).  No luck.
> >
> > I've found a handful of posts from June and August of last year, but no
> > posted solutions to getting the PythonImport command to work correctly.
> Of
> > course, there's a CVS commit with the comment "PythonImport works now"
so
> > I'm pretty sure it's me...
> >
> > As a random test, I tried a standard module...
> >
> >    PythonImport sys
> >
> > which appeared to work (no error msg), but I'm not really confident that
> > this was a meaningful test.
> >
> > Thanks in advance.
> >
> > Chris
> > chagner _at_ fool _dot_ com
> >
> >
> > _______________________________________________
> > Mod_python mailing list
> > Mod_python@modpython.org
> > http://www.modpython.org/mailman/listinfo/mod_python
> >
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>

_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From traylen at ccdc.cam.ac.uk  Wed Mar 28 18:24:23 2001
From: traylen at ccdc.cam.ac.uk (Steve Traylen)
Date: Fri Jan  9 21:52:18 2004
Subject: [mod_python] Compile on Solaris
Message-ID: <Pine.GSO.4.05.10103281821090.18392-100000@sun23.ccdc.cam.ac.uk>

I am trying to do a static build of mod_python on solaris.
but at the linking time to form httpd demon the compile fails
with a lot of undefined functions in libpython.a .

Does anyone have any ideas.

Below is the out put.

Much appreciated.

 Steve
 http://nrich.maths.org/~smt32/


===> os/unix
<=== os/unix
===> ap
<=== ap
===> main
<=== main
===> lib
===> lib/expat-lite
<=== lib/expat-lite
<=== lib
===> modules
===> modules/standard
<=== modules/standard
===> modules/ssl
<=== modules/ssl
===> modules/perl
<=== modules/perl
===> modules/python
mksh: Warning: newline is not last character in file Makefile
Current working directory /usr/local/src/apache_1.3.19/src/modules/python
<=== modules/python
<=== modules
gcc -c -I. -I/usr/local/lib/perl5/5.6.0/sun4-solaris/CORE -I/usr/local/include -I./os/unix -I./include   -DSOLARIS2=280 -DMOD_SSL=208101 -DMOD_PERL -DUSE_PERL_SSI -fno-strict-aliasing -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DEAPI -DEAPI_MM -DUSE_EXPAT -I./lib/expat-lite -DNO_DL_NEEDED `./apaci` modules.c
gcc -c -I. -I/usr/local/lib/perl5/5.6.0/sun4-solaris/CORE -I/usr/local/include -I./os/unix -I./include   -DSOLARIS2=280 -DMOD_SSL=208101 -DMOD_PERL -DUSE_PERL_SSI -fno-strict-aliasing -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DEAPI -DEAPI_MM -DUSE_EXPAT -I./lib/expat-lite -DNO_DL_NEEDED `./apaci` buildmark.c
gcc  -DSOLARIS2=280 -DMOD_SSL=208101 -DMOD_PERL -DUSE_PERL_SSI -fno-strict-aliasing -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DEAPI -DEAPI_MM -DUSE_EXPAT -I./lib/expat-lite -DNO_DL_NEEDED `./apaci` -L/usr/local/lib -L/usr/local/lib   \
      -o httpd buildmark.o modules.o  modules/ssl/libssl.a  modules/perl/libperl.a  modules/python/libpython.a  modules/standard/libstandard.a  main/libmain.a  ./os/unix/libos.a  ap/libap.a  lib/expat-lite/libexpat.a  -lsocket -lnsl  -lssl -lcrypto  -Wl,-E  -L/usr/local/lib  /usr/local/lib/perl5/5.6.0/sun4-solaris/auto/DynaLoader/DynaLoader.a -L/usr/local/lib/perl5/5.6.0/sun4-solaris/CORE -lperl -lsocket -lnsl -lgdbm -ldl -lm -lc -lcrypt -lsec  -lmm
modules/python/libpython.a(mod_python.o): In function `make_interpreter':
mod_python.o(.text+0xc): undefined reference to `Py_NewInterpreter'
mod_python.o(.text+0x74): undefined reference to `PyThreadState_Swap'
modules/python/libpython.a(mod_python.o): In function `get_interpreter_data':
mod_python.o(.text+0xd4): undefined reference to `PyDict_GetItemString'
mod_python.o(.text+0x140): undefined reference to `PyCObject_FromVoidPtr'
mod_python.o(.text+0x160): undefined reference to `PyDict_SetItemString'
mod_python.o(.text+0x174): undefined reference to `PyCObject_AsVoidPtr'
modules/python/libpython.a(mod_python.o): In function `python_cleanup':
mod_python.o(.text+0x36c): undefined reference to `PyThreadState_New'
mod_python.o(.text+0x37c): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x39c): undefined reference to `PyObject_CallFunction'
mod_python.o(.text+0x3bc): undefined reference to `PyErr_Fetch'
mod_python.o(.text+0x3cc): undefined reference to `PyObject_Str'
mod_python.o(.text+0x3dc): undefined reference to `PyObject_Str'
mod_python.o(.text+0x3ec): undefined reference to `PyObject_Str'
mod_python.o(.text+0x4ec): undefined reference to `PyString_AsString'
mod_python.o(.text+0x520): undefined reference to `PyString_AsString'
mod_python.o(.text+0x530): undefined reference to `PyString_AsString'
mod_python.o(.text+0x578): undefined reference to `PyString_AsString'
mod_python.o(.text+0x5ac): undefined reference to `PyString_AsString'
modules/python/libpython.a(mod_python.o)(.text+0x5bc): more undefined references to `PyString_AsString' follow
modules/python/libpython.a(mod_python.o): In function `python_cleanup':
mod_python.o(.text+0x6d0): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x6dc): undefined reference to `PyThreadState_Delete'
modules/python/libpython.a(mod_python.o): In function `python_init':
mod_python.o(.text+0x7dc): undefined reference to `Py_GetVersion'
mod_python.o(.text+0x824): undefined reference to `Py_IsInitialized'
mod_python.o(.text+0x838): undefined reference to `Py_Initialize'
mod_python.o(.text+0x844): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x84c): undefined reference to `PyDict_New'
modules/python/libpython.a(mod_python.o): In function `make_obcallback':
mod_python.o(.text+0xd2c): undefined reference to `PyImport_ImportModule'
mod_python.o(.text+0xd78): undefined reference to `PyObject_CallMethod'
modules/python/libpython.a(mod_python.o): In function `get_request_object':
mod_python.o(.text+0xe98): undefined reference to `PyEval_SaveThread'
mod_python.o(.text+0xeb4): undefined reference to `PyEval_RestoreThread'
mod_python.o(.text+0xf20): undefined reference to `PyEval_SaveThread'
mod_python.o(.text+0xf3c): undefined reference to `PyEval_RestoreThread'
modules/python/libpython.a(mod_python.o): In function `python_handler':
mod_python.o(.text+0x12bc): undefined reference to `PyThreadState_New'
mod_python.o(.text+0x12cc): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x1334): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x1340): undefined reference to `PyThreadState_Delete'
mod_python.o(.text+0x1570): undefined reference to `PyObject_CallMethod'
mod_python.o(.text+0x1580): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x158c): undefined reference to `PyThreadState_Delete'
mod_python.o(.text+0x15e4): undefined reference to `PyInt_Type'
mod_python.o(.text+0x15e8): undefined reference to `PyInt_Type'
mod_python.o(.text+0x1634): undefined reference to `PyInt_AsLong'
modules/python/libpython.a(mod_python.o): In function `python_cleanup_handler':
mod_python.o(.text+0x1978): undefined reference to `PyThreadState_New'
mod_python.o(.text+0x1988): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x19f0): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x19fc): undefined reference to `PyThreadState_Delete'
mod_python.o(.text+0x1b94): undefined reference to `PyObject_CallMethod'
mod_python.o(.text+0x1ba0): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x1bac): undefined reference to `PyThreadState_Delete'
modules/python/libpython.a(mod_python.o): In function `directive_PythonOptimize':
mod_python.o(.text+0x21c8): undefined reference to `Py_OptimizeFlag'
mod_python.o(.text+0x21cc): undefined reference to `Py_OptimizeFlag'
mod_python.o(.text+0x21e0): undefined reference to `Py_OptimizeFlag'
mod_python.o(.text+0x21e4): undefined reference to `Py_OptimizeFlag'
modules/python/libpython.a(mod_python.o): In function `python_finalize':
mod_python.o(.text+0x2568): undefined reference to `PyThreadState_New'
mod_python.o(.text+0x2578): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x2580): undefined reference to `Py_Finalize'
modules/python/libpython.a(mod_python.o): In function `PythonChildInitHandler':
mod_python.o(.text+0x26bc): undefined reference to `PyThreadState_New'
mod_python.o(.text+0x26cc): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x2734): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x2740): undefined reference to `PyThreadState_Delete'
mod_python.o(.text+0x2768): undefined reference to `PyImport_ImportModule'
mod_python.o(.text+0x2780): undefined reference to `PyObject_GetAttrString'
mod_python.o(.text+0x2790): undefined reference to `PyString_FromString'
mod_python.o(.text+0x27a4): undefined reference to `PySequence_Index'
mod_python.o(.text+0x27c8): undefined reference to `PyList_SetSlice'
mod_python.o(.text+0x28ac): undefined reference to `PyImport_ImportModule'
mod_python.o(.text+0x28c0): undefined reference to `PyErr_Occurred'
mod_python.o(.text+0x28d4): undefined reference to `PyErr_Print'
mod_python.o(.text+0x2908): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x2914): undefined reference to `PyThreadState_Delete'
modules/python/libpython.a(_apachemodule.o): In function `log_error':
_apachemodule.o(.text+0x30): undefined reference to `PyArg_ParseTuple'
_apachemodule.o(.text+0xb0): undefined reference to `PyErr_BadArgument'
_apachemodule.o(.text+0xf8): undefined reference to `_Py_NoneStruct'
_apachemodule.o(.text+0xfc): undefined reference to `_Py_NoneStruct'
_apachemodule.o(.text+0x100): undefined reference to `_Py_NoneStruct'
_apachemodule.o(.text+0x104): undefined reference to `_Py_NoneStruct'
_apachemodule.o(.text+0x108): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(_apachemodule.o)(.text+0x10c): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(_apachemodule.o): In function `parse_qs':
_apachemodule.o(.text+0x188): undefined reference to `PyArg_ParseTuple'
_apachemodule.o(.text+0x1ac): undefined reference to `PyList_New'
_apachemodule.o(.text+0x210): undefined reference to `PyString_FromStringAndSize'
_apachemodule.o(.text+0x32c): undefined reference to `_PyString_Resize'
_apachemodule.o(.text+0x33c): undefined reference to `PyList_Append'
_apachemodule.o(.text+0x3a0): undefined reference to `PyDict_New'
_apachemodule.o(.text+0x3cc): undefined reference to `PyList_Size'
_apachemodule.o(.text+0x43c): undefined reference to `PyString_FromStringAndSize'
_apachemodule.o(.text+0x46c): undefined reference to `PyString_FromStringAndSize'
_apachemodule.o(.text+0x620): undefined reference to `_PyString_Resize'
_apachemodule.o(.text+0x640): undefined reference to `_PyString_Resize'
_apachemodule.o(.text+0x650): undefined reference to `PyMapping_HasKeyString'
_apachemodule.o(.text+0x66c): undefined reference to `PyDict_GetItem'
_apachemodule.o(.text+0x680): undefined reference to `PyList_Append'
_apachemodule.o(.text+0x69c): undefined reference to `Py_BuildValue'
_apachemodule.o(.text+0x6b4): undefined reference to `PyDict_SetItem'
modules/python/libpython.a(_apachemodule.o): In function `parse_qsl':
_apachemodule.o(.text+0x834): undefined reference to `PyArg_ParseTuple'
_apachemodule.o(.text+0x858): undefined reference to `PyList_New'
_apachemodule.o(.text+0x8b8): undefined reference to `PyString_FromStringAndSize'
_apachemodule.o(.text+0x9e8): undefined reference to `_PyString_Resize'
_apachemodule.o(.text+0xa08): undefined reference to `PyString_FromStringAndSize'
_apachemodule.o(.text+0xa38): undefined reference to `PyString_FromStringAndSize'
_apachemodule.o(.text+0xbec): undefined reference to `_PyString_Resize'
_apachemodule.o(.text+0xc0c): undefined reference to `_PyString_Resize'
_apachemodule.o(.text+0xc24): undefined reference to `Py_BuildValue'
_apachemodule.o(.text+0xc34): undefined reference to `PyList_Append'
modules/python/libpython.a(_apachemodule.o): In function `init_apache':
_apachemodule.o(.text+0xd4c): undefined reference to `PyType_Type'
_apachemodule.o(.text+0xd50): undefined reference to `PyType_Type'
_apachemodule.o(.text+0xd60): undefined reference to `PyType_Type'
_apachemodule.o(.text+0xd64): undefined reference to `PyType_Type'
_apachemodule.o(.text+0xd74): undefined reference to `PyType_Type'
modules/python/libpython.a(_apachemodule.o)(.text+0xd78): more undefined references to `PyType_Type' follow
modules/python/libpython.a(_apachemodule.o): In function `init_apache':
_apachemodule.o(.text+0xdb0): undefined reference to `Py_InitModule4'
_apachemodule.o(.text+0xdc0): undefined reference to `PyModule_GetDict'
_apachemodule.o(.text+0xddc): undefined reference to `PyErr_NewException'
_apachemodule.o(.text+0xe28): undefined reference to `PyDict_SetItemString'
modules/python/libpython.a(requestobject.o): In function `MpRequest_FromRequest':
requestobject.o(.text+0x98): undefined reference to `PyErr_NoMemory'
modules/python/libpython.a(requestobject.o): In function `req_add_common_vars':
requestobject.o(.text+0x1fc): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x200): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x204): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x208): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x20c): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(requestobject.o)(.text+0x210): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(requestobject.o): In function `req_add_handler':
requestobject.o(.text+0x3f0): undefined reference to `PyArg_ParseTuple'
requestobject.o(.text+0x428): undefined reference to `PyExc_IndexError'
requestobject.o(.text+0x42c): undefined reference to `PyExc_IndexError'
requestobject.o(.text+0x458): undefined reference to `PyErr_SetString'
requestobject.o(.text+0x6d0): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x6d4): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x6d8): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x6dc): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x6e0): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(requestobject.o)(.text+0x6e4): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(requestobject.o): In function `req_get_basic_auth_pw':
requestobject.o(.text+0xb60): undefined reference to `PyString_FromString'
requestobject.o(.text+0xb7c): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0xb80): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0xb84): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0xb88): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0xb8c): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(requestobject.o)(.text+0xb90): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(requestobject.o): In function `req_get_remote_host':
requestobject.o(.text+0xc94): undefined reference to `PyArg_ParseTuple'
requestobject.o(.text+0xcec): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0xcf0): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0xcf4): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0xcf8): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0xcfc): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(requestobject.o)(.text+0xd00): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(requestobject.o): In function `req_get_remote_host':
requestobject.o(.text+0xd2c): undefined reference to `PyString_FromString'
modules/python/libpython.a(requestobject.o): In function `req_read':
requestobject.o(.text+0xdcc): undefined reference to `PyArg_ParseTuple'
requestobject.o(.text+0xe04): undefined reference to `PyString_FromString'
requestobject.o(.text+0xe5c): undefined reference to `PyInt_FromLong'
requestobject.o(.text+0xe94): undefined reference to `PyErr_SetObject'
requestobject.o(.text+0xf14): undefined reference to `PyString_FromString'
requestobject.o(.text+0xf68): undefined reference to `PyString_FromStringAndSize'
requestobject.o(.text+0x1114): undefined reference to `PyExc_IOError'
requestobject.o(.text+0x1118): undefined reference to `PyExc_IOError'
requestobject.o(.text+0x1124): undefined reference to `PyString_FromString'
requestobject.o(.text+0x1134): undefined reference to `PyErr_SetObject'
requestobject.o(.text+0x1198): undefined reference to `_PyString_Resize'
modules/python/libpython.a(requestobject.o): In function `req_readline':
requestobject.o(.text+0x11f8): undefined reference to `PyArg_ParseTuple'
requestobject.o(.text+0x1230): undefined reference to `PyString_FromString'
requestobject.o(.text+0x1288): undefined reference to `PyInt_FromLong'
requestobject.o(.text+0x12c0): undefined reference to `PyErr_SetObject'
requestobject.o(.text+0x1340): undefined reference to `PyString_FromString'
requestobject.o(.text+0x1394): undefined reference to `PyString_FromStringAndSize'
requestobject.o(.text+0x14b0): undefined reference to `_PyString_Resize'
requestobject.o(.text+0x1550): undefined reference to `PyErr_NoMemory'
requestobject.o(.text+0x1648): undefined reference to `PyExc_IOError'
requestobject.o(.text+0x164c): undefined reference to `PyExc_IOError'
requestobject.o(.text+0x1658): undefined reference to `PyString_FromString'
requestobject.o(.text+0x1668): undefined reference to `PyErr_SetObject'
requestobject.o(.text+0x179c): undefined reference to `_PyString_Resize'
modules/python/libpython.a(requestobject.o): In function `req_register_cleanup':
requestobject.o(.text+0x17fc): undefined reference to `PyArg_ParseTuple'
requestobject.o(.text+0x1854): undefined reference to `PyCallable_Check'
requestobject.o(.text+0x18ec): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x18f0): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x18f4): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x18f8): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x18fc): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(requestobject.o)(.text+0x1900): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(requestobject.o): In function `req_register_cleanup':
requestobject.o(.text+0x1928): undefined reference to `PyExc_ValueError'
requestobject.o(.text+0x192c): undefined reference to `PyExc_ValueError'
requestobject.o(.text+0x193c): undefined reference to `PyErr_SetString'
requestobject.o(.text+0x1984): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x1988): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x198c): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x1990): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x1994): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(requestobject.o)(.text+0x1998): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(requestobject.o): In function `req_write':
requestobject.o(.text+0x1a58): undefined reference to `PyArg_ParseTuple'
requestobject.o(.text+0x1ab4): undefined reference to `PyExc_IOError'
requestobject.o(.text+0x1ab8): undefined reference to `PyExc_IOError'
requestobject.o(.text+0x1ac8): undefined reference to `PyErr_SetString'
requestobject.o(.text+0x1adc): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x1ae0): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x1ae4): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x1ae8): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x1aec): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(requestobject.o)(.text+0x1af0): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(requestobject.o): In function `request_getattr':
requestobject.o(.text+0x2000): undefined reference to `Py_FindMethod'
requestobject.o(.text+0x202c): undefined reference to `PyErr_Clear'
requestobject.o(.text+0x2080): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x2084): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x2088): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x208c): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x2090): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(requestobject.o)(.text+0x2094): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(requestobject.o): In function `request_getattr':
requestobject.o(.text+0x2838): undefined reference to `PyString_FromString'
requestobject.o(.text+0x287c): undefined reference to `PyInt_FromLong'
requestobject.o(.text+0x28ac): undefined reference to `PyMember_Get'
modules/python/libpython.a(requestobject.o): In function `request_setattr':
requestobject.o(.text+0x28e8): undefined reference to `PyExc_AttributeError'
requestobject.o(.text+0x28ec): undefined reference to `PyExc_AttributeError'
requestobject.o(.text+0x28fc): undefined reference to `PyErr_SetString'
requestobject.o(.text+0x2944): undefined reference to `PyString_AsString'
requestobject.o(.text+0x29b4): undefined reference to `PyString_AsString'
requestobject.o(.text+0x2a18): undefined reference to `PyString_AsString'
requestobject.o(.text+0x2a64): undefined reference to `PyMember_Set'
modules/python/libpython.a(tableobject.o): In function `MpTable_FromTable':
tableobject.o(.text+0x28): undefined reference to `PyErr_NoMemory'
modules/python/libpython.a(tableobject.o): In function `tablegetitem':
tableobject.o(.text+0x118): undefined reference to `PyString_AsString'
tableobject.o(.text+0x14c): undefined reference to `PyExc_KeyError'
tableobject.o(.text+0x150): undefined reference to `PyExc_KeyError'
tableobject.o(.text+0x15c): undefined reference to `PyErr_SetObject'
tableobject.o(.text+0x174): undefined reference to `PyString_FromString'
modules/python/libpython.a(tableobject.o): In function `tablesetitem':
tableobject.o(.text+0x1b8): undefined reference to `PyString_Type'
tableobject.o(.text+0x1bc): undefined reference to `PyString_Type'
tableobject.o(.text+0x1cc): undefined reference to `PyExc_TypeError'
tableobject.o(.text+0x1d0): undefined reference to `PyExc_TypeError'
tableobject.o(.text+0x1e0): undefined reference to `PyErr_SetString'
tableobject.o(.text+0x1f8): undefined reference to `PyString_AsString'
tableobject.o(.text+0x208): undefined reference to `_Py_NoneStruct'
tableobject.o(.text+0x20c): undefined reference to `_Py_NoneStruct'
tableobject.o(.text+0x268): undefined reference to `PyString_Type'
tableobject.o(.text+0x26c): undefined reference to `PyString_Type'
tableobject.o(.text+0x27c): undefined reference to `PyExc_TypeError'
tableobject.o(.text+0x280): undefined reference to `PyExc_TypeError'
tableobject.o(.text+0x290): undefined reference to `PyErr_SetString'
tableobject.o(.text+0x2ac): undefined reference to `PyString_AsString'
modules/python/libpython.a(tableobject.o): In function `table_keys':
tableobject.o(.text+0x304): undefined reference to `PyList_New'
tableobject.o(.text+0x374): undefined reference to `PyString_FromString'
tableobject.o(.text+0x38c): undefined reference to `PyList_SetItem'
modules/python/libpython.a(tableobject.o): In function `table_has_key':
tableobject.o(.text+0x3e8): undefined reference to `PyArg_ParseTuple'
tableobject.o(.text+0x434): undefined reference to `PyInt_FromLong'
tableobject.o(.text+0x454): undefined reference to `PyInt_FromLong'
modules/python/libpython.a(tableobject.o): In function `table_add':
tableobject.o(.text+0x490): undefined reference to `PyArg_ParseTuple'
tableobject.o(.text+0x4c8): undefined reference to `_Py_NoneStruct'
tableobject.o(.text+0x4cc): undefined reference to `_Py_NoneStruct'
tableobject.o(.text+0x4d0): undefined reference to `_Py_NoneStruct'
tableobject.o(.text+0x4d4): undefined reference to `_Py_NoneStruct'
tableobject.o(.text+0x4d8): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(tableobject.o)(.text+0x4dc): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(tableobject.o): In function `table_getattr':
tableobject.o(.text+0x560): undefined reference to `Py_FindMethod'
modules/python/libpython.a(tableobject.o): In function `table_repr':
tableobject.o(.text+0x58c): undefined reference to `PyString_FromString'
tableobject.o(.text+0x5d8): undefined reference to `PyString_FromString'
tableobject.o(.text+0x5e8): undefined reference to `PyString_ConcatAndDel'
tableobject.o(.text+0x648): undefined reference to `PyString_FromString'
tableobject.o(.text+0x658): undefined reference to `PyString_ConcatAndDel'
tableobject.o(.text+0x67c): undefined reference to `PyString_FromString'
tableobject.o(.text+0x68c): undefined reference to `PyString_ConcatAndDel'
tableobject.o(.text+0x6a0): undefined reference to `PyString_FromString'
tableobject.o(.text+0x6b0): undefined reference to `PyString_ConcatAndDel'
tableobject.o(.text+0x6d4): undefined reference to `PyString_FromString'
tableobject.o(.text+0x6e4): undefined reference to `PyString_ConcatAndDel'
tableobject.o(.text+0x6f8): undefined reference to `PyString_FromString'
tableobject.o(.text+0x708): undefined reference to `PyString_ConcatAndDel'
tableobject.o(.text+0x72c): undefined reference to `PyString_FromString'
tableobject.o(.text+0x73c): undefined reference to `PyString_ConcatAndDel'
tableobject.o(.text+0x758): undefined reference to `PyString_FromString'
tableobject.o(.text+0x768): undefined reference to `PyString_ConcatAndDel'
modules/python/libpython.a(util.o): In function `tuple_from_array_header':
util.o(.text+0x18): undefined reference to `_Py_NoneStruct'
util.o(.text+0x1c): undefined reference to `_Py_NoneStruct'
util.o(.text+0x20): undefined reference to `_Py_NoneStruct'
util.o(.text+0x24): undefined reference to `_Py_NoneStruct'
util.o(.text+0x28): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(util.o)(.text+0x2c): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(util.o): In function `tuple_from_array_header':
util.o(.text+0x5c): undefined reference to `PyTuple_New'
util.o(.text+0xb0): undefined reference to `PyString_FromString'
util.o(.text+0xc4): undefined reference to `PyTuple_SetItem'
modules/python/libpython.a(serverobject.o): In function `MpServer_FromServer':
serverobject.o(.text+0x28): undefined reference to `PyErr_NoMemory'
modules/python/libpython.a(serverobject.o): In function `server_register_cleanup':
serverobject.o(.text+0xb8): undefined reference to `PyArg_ParseTuple'
serverobject.o(.text+0xe4): undefined reference to `PyObject_HasAttrString'
serverobject.o(.text+0xf8): undefined reference to `PyExc_ValueError'
serverobject.o(.text+0xfc): undefined reference to `PyExc_ValueError'
serverobject.o(.text+0x10c): undefined reference to `PyErr_SetString'
serverobject.o(.text+0x134): undefined reference to `PyObject_GetAttrString'
serverobject.o(.text+0x15c): undefined reference to `PyExc_ValueError'
serverobject.o(.text+0x160): undefined reference to `PyExc_ValueError'
serverobject.o(.text+0x170): undefined reference to `PyErr_SetString'
serverobject.o(.text+0x190): undefined reference to `PyCallable_Check'
serverobject.o(.text+0x1a4): undefined reference to `PyExc_ValueError'
serverobject.o(.text+0x1a8): undefined reference to `PyExc_ValueError'
serverobject.o(.text+0x1b8): undefined reference to `PyErr_SetString'
serverobject.o(.text+0x278): undefined reference to `_Py_NoneStruct'
serverobject.o(.text+0x27c): undefined reference to `_Py_NoneStruct'
serverobject.o(.text+0x280): undefined reference to `_Py_NoneStruct'
serverobject.o(.text+0x284): undefined reference to `_Py_NoneStruct'
serverobject.o(.text+0x288): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(serverobject.o)(.text+0x28c): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(serverobject.o): In function `server_getattr':
serverobject.o(.text+0x3c0): undefined reference to `Py_FindMethod'
serverobject.o(.text+0x3ec): undefined reference to `PyErr_Clear'
serverobject.o(.text+0x440): undefined reference to `_Py_NoneStruct'
serverobject.o(.text+0x444): undefined reference to `_Py_NoneStruct'
serverobject.o(.text+0x448): undefined reference to `_Py_NoneStruct'
serverobject.o(.text+0x44c): undefined reference to `_Py_NoneStruct'
serverobject.o(.text+0x450): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(serverobject.o)(.text+0x454): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(serverobject.o): In function `server_getattr':
serverobject.o(.text+0x554): undefined reference to `PyInt_FromLong'
serverobject.o(.text+0x614): undefined reference to `PyMember_Get'
modules/python/libpython.a(connobject.o): In function `MpConn_FromConn':
connobject.o(.text+0x28): undefined reference to `PyErr_NoMemory'
modules/python/libpython.a(connobject.o): In function `makeipaddr':
connobject.o(.text+0x1f4): undefined reference to `PyString_FromString'
modules/python/libpython.a(connobject.o): In function `makesockaddr':
connobject.o(.text+0x258): undefined reference to `Py_BuildValue'
modules/python/libpython.a(connobject.o): In function `conn_getattr':
connobject.o(.text+0x31c): undefined reference to `_Py_NoneStruct'
connobject.o(.text+0x320): undefined reference to `_Py_NoneStruct'
connobject.o(.text+0x324): undefined reference to `_Py_NoneStruct'
connobject.o(.text+0x328): undefined reference to `_Py_NoneStruct'
connobject.o(.text+0x32c): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(connobject.o)(.text+0x330): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(connobject.o): In function `conn_getattr':
connobject.o(.text+0x5c4): undefined reference to `PyMember_Get'
modules/python/libpython.a(connobject.o): In function `conn_setattr':
connobject.o(.text+0x600): undefined reference to `PyExc_AttributeError'
connobject.o(.text+0x604): undefined reference to `PyExc_AttributeError'
connobject.o(.text+0x614): undefined reference to `PyErr_SetString'
connobject.o(.text+0x65c): undefined reference to `PyString_AsString'
connobject.o(.text+0x6ac): undefined reference to `PyMember_Set'
collect2: ld returned 1 exit status
*** Error code 1
make: Fatal error: Command failed for target `target_static'
-- 
Steve Traylen, Systems Engineer
http://www.ccdc.cam.ac.uk/


From joost.damad at siemens.atea.be  Thu Mar 29 10:06:16 2001
From: joost.damad at siemens.atea.be (Joost Yervante Damad)
Date: Fri Jan  9 21:52:19 2004
Subject: [mod_python] Compile on Solaris
In-Reply-To: <Pine.GSO.4.05.10103281821090.18392-100000@sun23.ccdc.cam.ac.uk>; from traylen@ccdc.cam.ac.uk on Wed, Mar 28, 2001 at 06:24:23PM +0100
References: <Pine.GSO.4.05.10103281821090.18392-100000@sun23.ccdc.cam.ac.uk>
Message-ID: <20010329100616.A12636@siemens.atea.be>

You also need the embedded python interpreter
linked into apache, e.g.: lib/python2.0/config/libpython2.0.a

This failed for me too, soo I did some hacks in the makefiles
to force apache to link along the python embedded interpreter.

Hope this helps...

'Steve Traylen' wrote about '[mod_python] Compile on Solaris' - Wed, Mar 28, 2001 at 07:24:23PM CEST
> 
> I am trying to do a static build of mod_python on solaris.
> but at the linking time to form httpd demon the compile fails
> with a lot of undefined functions in libpython.a .
> 
> Does anyone have any ideas.
> 
> Below is the out put.
> 
> Much appreciated.
> 
>  Steve
>  http://nrich.maths.org/~smt32/
> 
> 
> ===> os/unix
> <=== os/unix
> ===> ap
> <=== ap
> ===> main
> <=== main
> ===> lib
> ===> lib/expat-lite
> <=== lib/expat-lite
> <=== lib
> ===> modules
> ===> modules/standard
> <=== modules/standard
> ===> modules/ssl
> <=== modules/ssl
> ===> modules/perl
> <=== modules/perl
> ===> modules/python
> mksh: Warning: newline is not last character in file Makefile
> Current working directory /usr/local/src/apache_1.3.19/src/modules/python
> <=== modules/python
> <=== modules
> gcc -c -I. -I/usr/local/lib/perl5/5.6.0/sun4-solaris/CORE -I/usr/local/include -I./os/unix -I./include   -DSOLARIS2=280 -DMOD_SSL=208101 -DMOD_PERL -DUSE_PERL_SSI -fno-strict-aliasing -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DEAPI -DEAPI_MM -DUSE_EXPAT -I./lib/expat-lite -DNO_DL_NEEDED `./apaci` modules.c
> gcc -c -I. -I/usr/local/lib/perl5/5.6.0/sun4-solaris/CORE -I/usr/local/include -I./os/unix -I./include   -DSOLARIS2=280 -DMOD_SSL=208101 -DMOD_PERL -DUSE_PERL_SSI -fno-strict-aliasing -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DEAPI -DEAPI_MM -DUSE_EXPAT -I./lib/expat-lite -DNO_DL_NEEDED `./apaci` buildmark.c
> gcc  -DSOLARIS2=280 -DMOD_SSL=208101 -DMOD_PERL -DUSE_PERL_SSI -fno-strict-aliasing -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DEAPI -DEAPI_MM -DUSE_EXPAT -I./lib/expat-lite -DNO_DL_NEEDED `./apaci` -L/usr/local/lib -L/usr/local/lib   \
>       -o httpd buildmark.o modules.o  modules/ssl/libssl.a  modules/perl/libperl.a  modules/python/libpython.a  modules/standard/libstandard.a  main/libmain.a  ./os/unix/libos.a  ap/libap.a  lib/expat-lite/libexpat.a  -lsocket -lnsl  -lssl -lcrypto  -Wl,-E  -L/usr/local/lib  /usr/local/lib/perl5/5.6.0/sun4-solaris/auto/DynaLoader/DynaLoader.a -L/usr/local/lib/perl5/5.6.0/sun4-solaris/CORE -lperl -lsocket -lnsl -lgdbm -ldl -lm -lc -lcrypt -lsec  -lmm
> modules/python/libpython.a(mod_python.o): In function `make_interpreter':
> mod_python.o(.text+0xc): undefined reference to `Py_NewInterpreter'
> mod_python.o(.text+0x74): undefined reference to `PyThreadState_Swap'
> modules/python/libpython.a(mod_python.o): In function `get_interpreter_data':
> mod_python.o(.text+0xd4): undefined reference to `PyDict_GetItemString'
> mod_python.o(.text+0x140): undefined reference to `PyCObject_FromVoidPtr'
> mod_python.o(.text+0x160): undefined reference to `PyDict_SetItemString'
> mod_python.o(.text+0x174): undefined reference to `PyCObject_AsVoidPtr'
> modules/python/libpython.a(mod_python.o): In function `python_cleanup':
> mod_python.o(.text+0x36c): undefined reference to `PyThreadState_New'
> mod_python.o(.text+0x37c): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x39c): undefined reference to `PyObject_CallFunction'
> mod_python.o(.text+0x3bc): undefined reference to `PyErr_Fetch'
> mod_python.o(.text+0x3cc): undefined reference to `PyObject_Str'
> mod_python.o(.text+0x3dc): undefined reference to `PyObject_Str'
> mod_python.o(.text+0x3ec): undefined reference to `PyObject_Str'
> mod_python.o(.text+0x4ec): undefined reference to `PyString_AsString'
> mod_python.o(.text+0x520): undefined reference to `PyString_AsString'
> mod_python.o(.text+0x530): undefined reference to `PyString_AsString'
> mod_python.o(.text+0x578): undefined reference to `PyString_AsString'
> mod_python.o(.text+0x5ac): undefined reference to `PyString_AsString'
> modules/python/libpython.a(mod_python.o)(.text+0x5bc): more undefined references to `PyString_AsString' follow
> modules/python/libpython.a(mod_python.o): In function `python_cleanup':
> mod_python.o(.text+0x6d0): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x6dc): undefined reference to `PyThreadState_Delete'
> modules/python/libpython.a(mod_python.o): In function `python_init':
> mod_python.o(.text+0x7dc): undefined reference to `Py_GetVersion'
> mod_python.o(.text+0x824): undefined reference to `Py_IsInitialized'
> mod_python.o(.text+0x838): undefined reference to `Py_Initialize'
> mod_python.o(.text+0x844): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x84c): undefined reference to `PyDict_New'
> modules/python/libpython.a(mod_python.o): In function `make_obcallback':
> mod_python.o(.text+0xd2c): undefined reference to `PyImport_ImportModule'
> mod_python.o(.text+0xd78): undefined reference to `PyObject_CallMethod'
> modules/python/libpython.a(mod_python.o): In function `get_request_object':
> mod_python.o(.text+0xe98): undefined reference to `PyEval_SaveThread'
> mod_python.o(.text+0xeb4): undefined reference to `PyEval_RestoreThread'
> mod_python.o(.text+0xf20): undefined reference to `PyEval_SaveThread'
> mod_python.o(.text+0xf3c): undefined reference to `PyEval_RestoreThread'
> modules/python/libpython.a(mod_python.o): In function `python_handler':
> mod_python.o(.text+0x12bc): undefined reference to `PyThreadState_New'
> mod_python.o(.text+0x12cc): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x1334): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x1340): undefined reference to `PyThreadState_Delete'
> mod_python.o(.text+0x1570): undefined reference to `PyObject_CallMethod'
> mod_python.o(.text+0x1580): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x158c): undefined reference to `PyThreadState_Delete'
> mod_python.o(.text+0x15e4): undefined reference to `PyInt_Type'
> mod_python.o(.text+0x15e8): undefined reference to `PyInt_Type'
> mod_python.o(.text+0x1634): undefined reference to `PyInt_AsLong'
> modules/python/libpython.a(mod_python.o): In function `python_cleanup_handler':
> mod_python.o(.text+0x1978): undefined reference to `PyThreadState_New'
> mod_python.o(.text+0x1988): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x19f0): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x19fc): undefined reference to `PyThreadState_Delete'
> mod_python.o(.text+0x1b94): undefined reference to `PyObject_CallMethod'
> mod_python.o(.text+0x1ba0): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x1bac): undefined reference to `PyThreadState_Delete'
> modules/python/libpython.a(mod_python.o): In function `directive_PythonOptimize':
> mod_python.o(.text+0x21c8): undefined reference to `Py_OptimizeFlag'
> mod_python.o(.text+0x21cc): undefined reference to `Py_OptimizeFlag'
> mod_python.o(.text+0x21e0): undefined reference to `Py_OptimizeFlag'
> mod_python.o(.text+0x21e4): undefined reference to `Py_OptimizeFlag'
> modules/python/libpython.a(mod_python.o): In function `python_finalize':
> mod_python.o(.text+0x2568): undefined reference to `PyThreadState_New'
> mod_python.o(.text+0x2578): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x2580): undefined reference to `Py_Finalize'
> modules/python/libpython.a(mod_python.o): In function `PythonChildInitHandler':
> mod_python.o(.text+0x26bc): undefined reference to `PyThreadState_New'
> mod_python.o(.text+0x26cc): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x2734): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x2740): undefined reference to `PyThreadState_Delete'
> mod_python.o(.text+0x2768): undefined reference to `PyImport_ImportModule'
> mod_python.o(.text+0x2780): undefined reference to `PyObject_GetAttrString'
> mod_python.o(.text+0x2790): undefined reference to `PyString_FromString'
> mod_python.o(.text+0x27a4): undefined reference to `PySequence_Index'
> mod_python.o(.text+0x27c8): undefined reference to `PyList_SetSlice'
> mod_python.o(.text+0x28ac): undefined reference to `PyImport_ImportModule'
> mod_python.o(.text+0x28c0): undefined reference to `PyErr_Occurred'
> mod_python.o(.text+0x28d4): undefined reference to `PyErr_Print'
> mod_python.o(.text+0x2908): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x2914): undefined reference to `PyThreadState_Delete'
> modules/python/libpython.a(_apachemodule.o): In function `log_error':
> _apachemodule.o(.text+0x30): undefined reference to `PyArg_ParseTuple'
> _apachemodule.o(.text+0xb0): undefined reference to `PyErr_BadArgument'
> _apachemodule.o(.text+0xf8): undefined reference to `_Py_NoneStruct'
> _apachemodule.o(.text+0xfc): undefined reference to `_Py_NoneStruct'
> _apachemodule.o(.text+0x100): undefined reference to `_Py_NoneStruct'
> _apachemodule.o(.text+0x104): undefined reference to `_Py_NoneStruct'
> _apachemodule.o(.text+0x108): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(_apachemodule.o)(.text+0x10c): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(_apachemodule.o): In function `parse_qs':
> _apachemodule.o(.text+0x188): undefined reference to `PyArg_ParseTuple'
> _apachemodule.o(.text+0x1ac): undefined reference to `PyList_New'
> _apachemodule.o(.text+0x210): undefined reference to `PyString_FromStringAndSize'
> _apachemodule.o(.text+0x32c): undefined reference to `_PyString_Resize'
> _apachemodule.o(.text+0x33c): undefined reference to `PyList_Append'
> _apachemodule.o(.text+0x3a0): undefined reference to `PyDict_New'
> _apachemodule.o(.text+0x3cc): undefined reference to `PyList_Size'
> _apachemodule.o(.text+0x43c): undefined reference to `PyString_FromStringAndSize'
> _apachemodule.o(.text+0x46c): undefined reference to `PyString_FromStringAndSize'
> _apachemodule.o(.text+0x620): undefined reference to `_PyString_Resize'
> _apachemodule.o(.text+0x640): undefined reference to `_PyString_Resize'
> _apachemodule.o(.text+0x650): undefined reference to `PyMapping_HasKeyString'
> _apachemodule.o(.text+0x66c): undefined reference to `PyDict_GetItem'
> _apachemodule.o(.text+0x680): undefined reference to `PyList_Append'
> _apachemodule.o(.text+0x69c): undefined reference to `Py_BuildValue'
> _apachemodule.o(.text+0x6b4): undefined reference to `PyDict_SetItem'
> modules/python/libpython.a(_apachemodule.o): In function `parse_qsl':
> _apachemodule.o(.text+0x834): undefined reference to `PyArg_ParseTuple'
> _apachemodule.o(.text+0x858): undefined reference to `PyList_New'
> _apachemodule.o(.text+0x8b8): undefined reference to `PyString_FromStringAndSize'
> _apachemodule.o(.text+0x9e8): undefined reference to `_PyString_Resize'
> _apachemodule.o(.text+0xa08): undefined reference to `PyString_FromStringAndSize'
> _apachemodule.o(.text+0xa38): undefined reference to `PyString_FromStringAndSize'
> _apachemodule.o(.text+0xbec): undefined reference to `_PyString_Resize'
> _apachemodule.o(.text+0xc0c): undefined reference to `_PyString_Resize'
> _apachemodule.o(.text+0xc24): undefined reference to `Py_BuildValue'
> _apachemodule.o(.text+0xc34): undefined reference to `PyList_Append'
> modules/python/libpython.a(_apachemodule.o): In function `init_apache':
> _apachemodule.o(.text+0xd4c): undefined reference to `PyType_Type'
> _apachemodule.o(.text+0xd50): undefined reference to `PyType_Type'
> _apachemodule.o(.text+0xd60): undefined reference to `PyType_Type'
> _apachemodule.o(.text+0xd64): undefined reference to `PyType_Type'
> _apachemodule.o(.text+0xd74): undefined reference to `PyType_Type'
> modules/python/libpython.a(_apachemodule.o)(.text+0xd78): more undefined references to `PyType_Type' follow
> modules/python/libpython.a(_apachemodule.o): In function `init_apache':
> _apachemodule.o(.text+0xdb0): undefined reference to `Py_InitModule4'
> _apachemodule.o(.text+0xdc0): undefined reference to `PyModule_GetDict'
> _apachemodule.o(.text+0xddc): undefined reference to `PyErr_NewException'
> _apachemodule.o(.text+0xe28): undefined reference to `PyDict_SetItemString'
> modules/python/libpython.a(requestobject.o): In function `MpRequest_FromRequest':
> requestobject.o(.text+0x98): undefined reference to `PyErr_NoMemory'
> modules/python/libpython.a(requestobject.o): In function `req_add_common_vars':
> requestobject.o(.text+0x1fc): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x200): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x204): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x208): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x20c): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(requestobject.o)(.text+0x210): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(requestobject.o): In function `req_add_handler':
> requestobject.o(.text+0x3f0): undefined reference to `PyArg_ParseTuple'
> requestobject.o(.text+0x428): undefined reference to `PyExc_IndexError'
> requestobject.o(.text+0x42c): undefined reference to `PyExc_IndexError'
> requestobject.o(.text+0x458): undefined reference to `PyErr_SetString'
> requestobject.o(.text+0x6d0): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x6d4): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x6d8): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x6dc): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x6e0): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(requestobject.o)(.text+0x6e4): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(requestobject.o): In function `req_get_basic_auth_pw':
> requestobject.o(.text+0xb60): undefined reference to `PyString_FromString'
> requestobject.o(.text+0xb7c): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0xb80): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0xb84): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0xb88): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0xb8c): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(requestobject.o)(.text+0xb90): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(requestobject.o): In function `req_get_remote_host':
> requestobject.o(.text+0xc94): undefined reference to `PyArg_ParseTuple'
> requestobject.o(.text+0xcec): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0xcf0): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0xcf4): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0xcf8): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0xcfc): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(requestobject.o)(.text+0xd00): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(requestobject.o): In function `req_get_remote_host':
> requestobject.o(.text+0xd2c): undefined reference to `PyString_FromString'
> modules/python/libpython.a(requestobject.o): In function `req_read':
> requestobject.o(.text+0xdcc): undefined reference to `PyArg_ParseTuple'
> requestobject.o(.text+0xe04): undefined reference to `PyString_FromString'
> requestobject.o(.text+0xe5c): undefined reference to `PyInt_FromLong'
> requestobject.o(.text+0xe94): undefined reference to `PyErr_SetObject'
> requestobject.o(.text+0xf14): undefined reference to `PyString_FromString'
> requestobject.o(.text+0xf68): undefined reference to `PyString_FromStringAndSize'
> requestobject.o(.text+0x1114): undefined reference to `PyExc_IOError'
> requestobject.o(.text+0x1118): undefined reference to `PyExc_IOError'
> requestobject.o(.text+0x1124): undefined reference to `PyString_FromString'
> requestobject.o(.text+0x1134): undefined reference to `PyErr_SetObject'
> requestobject.o(.text+0x1198): undefined reference to `_PyString_Resize'
> modules/python/libpython.a(requestobject.o): In function `req_readline':
> requestobject.o(.text+0x11f8): undefined reference to `PyArg_ParseTuple'
> requestobject.o(.text+0x1230): undefined reference to `PyString_FromString'
> requestobject.o(.text+0x1288): undefined reference to `PyInt_FromLong'
> requestobject.o(.text+0x12c0): undefined reference to `PyErr_SetObject'
> requestobject.o(.text+0x1340): undefined reference to `PyString_FromString'
> requestobject.o(.text+0x1394): undefined reference to `PyString_FromStringAndSize'
> requestobject.o(.text+0x14b0): undefined reference to `_PyString_Resize'
> requestobject.o(.text+0x1550): undefined reference to `PyErr_NoMemory'
> requestobject.o(.text+0x1648): undefined reference to `PyExc_IOError'
> requestobject.o(.text+0x164c): undefined reference to `PyExc_IOError'
> requestobject.o(.text+0x1658): undefined reference to `PyString_FromString'
> requestobject.o(.text+0x1668): undefined reference to `PyErr_SetObject'
> requestobject.o(.text+0x179c): undefined reference to `_PyString_Resize'
> modules/python/libpython.a(requestobject.o): In function `req_register_cleanup':
> requestobject.o(.text+0x17fc): undefined reference to `PyArg_ParseTuple'
> requestobject.o(.text+0x1854): undefined reference to `PyCallable_Check'
> requestobject.o(.text+0x18ec): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x18f0): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x18f4): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x18f8): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x18fc): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(requestobject.o)(.text+0x1900): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(requestobject.o): In function `req_register_cleanup':
> requestobject.o(.text+0x1928): undefined reference to `PyExc_ValueError'
> requestobject.o(.text+0x192c): undefined reference to `PyExc_ValueError'
> requestobject.o(.text+0x193c): undefined reference to `PyErr_SetString'
> requestobject.o(.text+0x1984): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x1988): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x198c): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x1990): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x1994): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(requestobject.o)(.text+0x1998): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(requestobject.o): In function `req_write':
> requestobject.o(.text+0x1a58): undefined reference to `PyArg_ParseTuple'
> requestobject.o(.text+0x1ab4): undefined reference to `PyExc_IOError'
> requestobject.o(.text+0x1ab8): undefined reference to `PyExc_IOError'
> requestobject.o(.text+0x1ac8): undefined reference to `PyErr_SetString'
> requestobject.o(.text+0x1adc): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x1ae0): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x1ae4): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x1ae8): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x1aec): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(requestobject.o)(.text+0x1af0): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(requestobject.o): In function `request_getattr':
> requestobject.o(.text+0x2000): undefined reference to `Py_FindMethod'
> requestobject.o(.text+0x202c): undefined reference to `PyErr_Clear'
> requestobject.o(.text+0x2080): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x2084): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x2088): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x208c): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x2090): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(requestobject.o)(.text+0x2094): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(requestobject.o): In function `request_getattr':
> requestobject.o(.text+0x2838): undefined reference to `PyString_FromString'
> requestobject.o(.text+0x287c): undefined reference to `PyInt_FromLong'
> requestobject.o(.text+0x28ac): undefined reference to `PyMember_Get'
> modules/python/libpython.a(requestobject.o): In function `request_setattr':
> requestobject.o(.text+0x28e8): undefined reference to `PyExc_AttributeError'
> requestobject.o(.text+0x28ec): undefined reference to `PyExc_AttributeError'
> requestobject.o(.text+0x28fc): undefined reference to `PyErr_SetString'
> requestobject.o(.text+0x2944): undefined reference to `PyString_AsString'
> requestobject.o(.text+0x29b4): undefined reference to `PyString_AsString'
> requestobject.o(.text+0x2a18): undefined reference to `PyString_AsString'
> requestobject.o(.text+0x2a64): undefined reference to `PyMember_Set'
> modules/python/libpython.a(tableobject.o): In function `MpTable_FromTable':
> tableobject.o(.text+0x28): undefined reference to `PyErr_NoMemory'
> modules/python/libpython.a(tableobject.o): In function `tablegetitem':
> tableobject.o(.text+0x118): undefined reference to `PyString_AsString'
> tableobject.o(.text+0x14c): undefined reference to `PyExc_KeyError'
> tableobject.o(.text+0x150): undefined reference to `PyExc_KeyError'
> tableobject.o(.text+0x15c): undefined reference to `PyErr_SetObject'
> tableobject.o(.text+0x174): undefined reference to `PyString_FromString'
> modules/python/libpython.a(tableobject.o): In function `tablesetitem':
> tableobject.o(.text+0x1b8): undefined reference to `PyString_Type'
> tableobject.o(.text+0x1bc): undefined reference to `PyString_Type'
> tableobject.o(.text+0x1cc): undefined reference to `PyExc_TypeError'
> tableobject.o(.text+0x1d0): undefined reference to `PyExc_TypeError'
> tableobject.o(.text+0x1e0): undefined reference to `PyErr_SetString'
> tableobject.o(.text+0x1f8): undefined reference to `PyString_AsString'
> tableobject.o(.text+0x208): undefined reference to `_Py_NoneStruct'
> tableobject.o(.text+0x20c): undefined reference to `_Py_NoneStruct'
> tableobject.o(.text+0x268): undefined reference to `PyString_Type'
> tableobject.o(.text+0x26c): undefined reference to `PyString_Type'
> tableobject.o(.text+0x27c): undefined reference to `PyExc_TypeError'
> tableobject.o(.text+0x280): undefined reference to `PyExc_TypeError'
> tableobject.o(.text+0x290): undefined reference to `PyErr_SetString'
> tableobject.o(.text+0x2ac): undefined reference to `PyString_AsString'
> modules/python/libpython.a(tableobject.o): In function `table_keys':
> tableobject.o(.text+0x304): undefined reference to `PyList_New'
> tableobject.o(.text+0x374): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x38c): undefined reference to `PyList_SetItem'
> modules/python/libpython.a(tableobject.o): In function `table_has_key':
> tableobject.o(.text+0x3e8): undefined reference to `PyArg_ParseTuple'
> tableobject.o(.text+0x434): undefined reference to `PyInt_FromLong'
> tableobject.o(.text+0x454): undefined reference to `PyInt_FromLong'
> modules/python/libpython.a(tableobject.o): In function `table_add':
> tableobject.o(.text+0x490): undefined reference to `PyArg_ParseTuple'
> tableobject.o(.text+0x4c8): undefined reference to `_Py_NoneStruct'
> tableobject.o(.text+0x4cc): undefined reference to `_Py_NoneStruct'
> tableobject.o(.text+0x4d0): undefined reference to `_Py_NoneStruct'
> tableobject.o(.text+0x4d4): undefined reference to `_Py_NoneStruct'
> tableobject.o(.text+0x4d8): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(tableobject.o)(.text+0x4dc): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(tableobject.o): In function `table_getattr':
> tableobject.o(.text+0x560): undefined reference to `Py_FindMethod'
> modules/python/libpython.a(tableobject.o): In function `table_repr':
> tableobject.o(.text+0x58c): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x5d8): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x5e8): undefined reference to `PyString_ConcatAndDel'
> tableobject.o(.text+0x648): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x658): undefined reference to `PyString_ConcatAndDel'
> tableobject.o(.text+0x67c): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x68c): undefined reference to `PyString_ConcatAndDel'
> tableobject.o(.text+0x6a0): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x6b0): undefined reference to `PyString_ConcatAndDel'
> tableobject.o(.text+0x6d4): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x6e4): undefined reference to `PyString_ConcatAndDel'
> tableobject.o(.text+0x6f8): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x708): undefined reference to `PyString_ConcatAndDel'
> tableobject.o(.text+0x72c): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x73c): undefined reference to `PyString_ConcatAndDel'
> tableobject.o(.text+0x758): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x768): undefined reference to `PyString_ConcatAndDel'
> modules/python/libpython.a(util.o): In function `tuple_from_array_header':
> util.o(.text+0x18): undefined reference to `_Py_NoneStruct'
> util.o(.text+0x1c): undefined reference to `_Py_NoneStruct'
> util.o(.text+0x20): undefined reference to `_Py_NoneStruct'
> util.o(.text+0x24): undefined reference to `_Py_NoneStruct'
> util.o(.text+0x28): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(util.o)(.text+0x2c): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(util.o): In function `tuple_from_array_header':
> util.o(.text+0x5c): undefined reference to `PyTuple_New'
> util.o(.text+0xb0): undefined reference to `PyString_FromString'
> util.o(.text+0xc4): undefined reference to `PyTuple_SetItem'
> modules/python/libpython.a(serverobject.o): In function `MpServer_FromServer':
> serverobject.o(.text+0x28): undefined reference to `PyErr_NoMemory'
> modules/python/libpython.a(serverobject.o): In function `server_register_cleanup':
> serverobject.o(.text+0xb8): undefined reference to `PyArg_ParseTuple'
> serverobject.o(.text+0xe4): undefined reference to `PyObject_HasAttrString'
> serverobject.o(.text+0xf8): undefined reference to `PyExc_ValueError'
> serverobject.o(.text+0xfc): undefined reference to `PyExc_ValueError'
> serverobject.o(.text+0x10c): undefined reference to `PyErr_SetString'
> serverobject.o(.text+0x134): undefined reference to `PyObject_GetAttrString'
> serverobject.o(.text+0x15c): undefined reference to `PyExc_ValueError'
> serverobject.o(.text+0x160): undefined reference to `PyExc_ValueError'
> serverobject.o(.text+0x170): undefined reference to `PyErr_SetString'
> serverobject.o(.text+0x190): undefined reference to `PyCallable_Check'
> serverobject.o(.text+0x1a4): undefined reference to `PyExc_ValueError'
> serverobject.o(.text+0x1a8): undefined reference to `PyExc_ValueError'
> serverobject.o(.text+0x1b8): undefined reference to `PyErr_SetString'
> serverobject.o(.text+0x278): undefined reference to `_Py_NoneStruct'
> serverobject.o(.text+0x27c): undefined reference to `_Py_NoneStruct'
> serverobject.o(.text+0x280): undefined reference to `_Py_NoneStruct'
> serverobject.o(.text+0x284): undefined reference to `_Py_NoneStruct'
> serverobject.o(.text+0x288): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(serverobject.o)(.text+0x28c): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(serverobject.o): In function `server_getattr':
> serverobject.o(.text+0x3c0): undefined reference to `Py_FindMethod'
> serverobject.o(.text+0x3ec): undefined reference to `PyErr_Clear'
> serverobject.o(.text+0x440): undefined reference to `_Py_NoneStruct'
> serverobject.o(.text+0x444): undefined reference to `_Py_NoneStruct'
> serverobject.o(.text+0x448): undefined reference to `_Py_NoneStruct'
> serverobject.o(.text+0x44c): undefined reference to `_Py_NoneStruct'
> serverobject.o(.text+0x450): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(serverobject.o)(.text+0x454): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(serverobject.o): In function `server_getattr':
> serverobject.o(.text+0x554): undefined reference to `PyInt_FromLong'
> serverobject.o(.text+0x614): undefined reference to `PyMember_Get'
> modules/python/libpython.a(connobject.o): In function `MpConn_FromConn':
> connobject.o(.text+0x28): undefined reference to `PyErr_NoMemory'
> modules/python/libpython.a(connobject.o): In function `makeipaddr':
> connobject.o(.text+0x1f4): undefined reference to `PyString_FromString'
> modules/python/libpython.a(connobject.o): In function `makesockaddr':
> connobject.o(.text+0x258): undefined reference to `Py_BuildValue'
> modules/python/libpython.a(connobject.o): In function `conn_getattr':
> connobject.o(.text+0x31c): undefined reference to `_Py_NoneStruct'
> connobject.o(.text+0x320): undefined reference to `_Py_NoneStruct'
> connobject.o(.text+0x324): undefined reference to `_Py_NoneStruct'
> connobject.o(.text+0x328): undefined reference to `_Py_NoneStruct'
> connobject.o(.text+0x32c): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(connobject.o)(.text+0x330): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(connobject.o): In function `conn_getattr':
> connobject.o(.text+0x5c4): undefined reference to `PyMember_Get'
> modules/python/libpython.a(connobject.o): In function `conn_setattr':
> connobject.o(.text+0x600): undefined reference to `PyExc_AttributeError'
> connobject.o(.text+0x604): undefined reference to `PyExc_AttributeError'
> connobject.o(.text+0x614): undefined reference to `PyErr_SetString'
> connobject.o(.text+0x65c): undefined reference to `PyString_AsString'
> connobject.o(.text+0x6ac): undefined reference to `PyMember_Set'
> collect2: ld returned 1 exit status
> *** Error code 1
> make: Fatal error: Command failed for target `target_static'
> -- 
> Steve Traylen, Systems Engineer
> http://www.ccdc.cam.ac.uk/
> 
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python

-- 
Joost Damad - Siemens IC D NC A - +3214252297
--
Hoare's Law of Large Problems:
    Inside every large problem is a small problem struggling to get out.

From brianh at exelixis.com  Tue Mar  6 16:44:26 2001
From: brianh at exelixis.com (Brian Hawthorne)
Date: Fri Jan  9 21:58:48 2004
Subject: [mod_python] cookies
Message-ID: <Pine.GSO.4.05.10103061641090.15983-100000@timeless.exelixis.com>

hello all,  how is one to access the client's cookies from a function
being handled by the publisher handler?
i looked in os.environ, i tried req.add_common_vars() then looked at
req.subprocess_env, and i looked at req.headers_in.
i didn't see any cookie stuff anywhere!?

brian


From brett at bookshop.unsw.edu.au  Wed Mar  7 15:09:32 2001
From: brett at bookshop.unsw.edu.au (Brett Haydon)
Date: Fri Jan  9 21:58:48 2004
Subject: [mod_python] cookies 
Message-ID: <NCBBKMABOKFCDLPIKKGIGEOOCJAA.brett@bookshop.unsw.edu.au>

You're looking in the right place:
req.headers_in

You need to extract it
if req.headers_in.has_key('Cookie'):
	dofoo

No luck with that then make sure cookies are being set...
use mod_usertrack for an easy solution..

_______________________________________
Brett Haydon


From petar at metamarkets.com  Wed Mar  7 18:49:41 2001
From: petar at metamarkets.com (Petar Karafezov)
Date: Fri Jan  9 21:58:48 2004
Subject: [mod_python] util.FormStorage empty values issue
Message-ID: <86FC34EA3C4F074AA6BBFFE52ED83FED27BE10@METAEXCH.sfo.metamarkets.com>

Hiya all -

I'm using Apache/1.3.14 (Unix) mod_python/2.7.2 Python/2.0 and I seem to be
having a little issue when values from a form is '' (empty string). When the
value is '' they key itself does not get passed as a part of what
util.FormStorage returns.

Any ideas of how to get around this ?

Regards and thanks for the help,
Petar Karafezov

MetaMarkets.com
415-575-3015
-------------------------------------------
Investing Out Loud at
http://www.metamarkets.com
-------------------------------------------

From petar at metamarkets.com  Thu Mar  8 06:44:45 2001
From: petar at metamarkets.com (Petar Karafezov)
Date: Fri Jan  9 21:58:48 2004
Subject: [mod_python] FW: util.FormStorage empty values issue
Message-ID: <86FC34EA3C4F074AA6BBFFE52ED83FED27BE19@METAEXCH.sfo.metamarkets.com>

actually, I just found out the keep_empty_value set to 0 in util.py. I
changed the value to 1 and recompiled it. Now everything seems to be working
fine. Was there any reason keep_empty_value was set to 0 ? Did I changed the
library the right way ?

THanks for your help!

Regards,
Petar Karafezov

-----Original Message-----
From: Petar Karafezov 
Sent: Wednesday, March 07, 2001 6:50 PM
To: mod_python@modpython.org
Subject: util.FormStorage empty values issue


Hiya all -

I'm using Apache/1.3.14 (Unix) mod_python/2.7.2 Python/2.0 and I seem to be
having a little issue when values from a form is '' (empty string). When the
value is '' they key itself does not get passed as a part of what
util.FormStorage returns.

Any ideas of how to get around this ?

Regards and thanks for the help,
Petar Karafezov

MetaMarkets.com
415-575-3015
-------------------------------------------
Investing Out Loud at
http://www.metamarkets.com
-------------------------------------------

From grisha at verio.net  Thu Mar  8 10:21:20 2001
From: grisha at verio.net (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:58:48 2004
Subject: [mod_python] FW: util.FormStorage empty values issue
In-Reply-To: <86FC34EA3C4F074AA6BBFFE52ED83FED27BE19@METAEXCH.sfo.metamarkets.com>
Message-ID: <Pine.BSF.4.32.0103081020420.40846-100000@localhost>

That's the way the standard library FieldStorage performs, so I thought
I'd keep it consistent.

Grisha

On Thu, 8 Mar 2001, Petar Karafezov wrote:

> actually, I just found out the keep_empty_value set to 0 in util.py. I
> changed the value to 1 and recompiled it. Now everything seems to be working
> fine. Was there any reason keep_empty_value was set to 0 ? Did I changed the
> library the right way ?
>
> THanks for your help!
>
> Regards,
> Petar Karafezov
>
> -----Original Message-----
> From: Petar Karafezov
> Sent: Wednesday, March 07, 2001 6:50 PM
> To: mod_python@modpython.org
> Subject: util.FormStorage empty values issue
>
>
> Hiya all -
>
> I'm using Apache/1.3.14 (Unix) mod_python/2.7.2 Python/2.0 and I seem to be
> having a little issue when values from a form is '' (empty string). When the
> value is '' they key itself does not get passed as a part of what
> util.FormStorage returns.
>
> Any ideas of how to get around this ?
>
> Regards and thanks for the help,
> Petar Karafezov
>
> MetaMarkets.com
> 415-575-3015
> -------------------------------------------
> Investing Out Loud at
> http://www.metamarkets.com
> -------------------------------------------
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From webmaster at myeboard.com  Thu Mar  8 11:37:10 2001
From: webmaster at myeboard.com (Jamie Krasnoo)
Date: Fri Jan  9 21:58:48 2004
Subject: [mod_python] That -DEAPI thing again.
Message-ID: <NEBBLAGGCLKLIANPIBEJGECIDEAA.webmaster@myeboard.com>

Sorry to bring this up again. I was trying to compile mod_python as a DSO
and the warning :
[warn] Loaded DSO /usr/lib/apache/mod_python.so uses plain Apache 1.3 API,
this module might crash under EAPI! (please recompile it with -DEAPI)

came up. I found a lot questions on the same matter int he archives but no
real answeres. Ok one answer but that was a patch which I realy don't want
to docode and find out that its something bad. This should be a FAQ thing
already.

So. How do I get -DEAPI in there so I won't have the threat of Apache seg
faulting at some point?

Jamie Krasnoo
www.MyEBoard.com
webmaster@myeboard.com



From mike at mikebell.org  Thu Mar  8 11:58:29 2001
From: mike at mikebell.org (Mike Bell)
Date: Fri Jan  9 21:58:48 2004
Subject: [mod_python] That -DEAPI thing again.
In-Reply-To: <NEBBLAGGCLKLIANPIBEJGECIDEAA.webmaster@myeboard.com>; from webmaster@myeboard.com on Thu, Mar 08, 2001 at 11:37:10AM -0800
References: <NEBBLAGGCLKLIANPIBEJGECIDEAA.webmaster@myeboard.com>
Message-ID: <20010308115829.D13307@vaio.mikebell.org>

On Thu, Mar 08, 2001 at 11:37:10AM -0800, Jamie Krasnoo wrote:
> Sorry to bring this up again. I was trying to compile mod_python as a DSO
> and the warning :
> [warn] Loaded DSO /usr/lib/apache/mod_python.so uses plain Apache 1.3 API,
> this module might crash under EAPI! (please recompile it with -DEAPI)
> 
> came up. I found a lot questions on the same matter int he archives but no
> real answeres. Ok one answer but that was a patch which I realy don't want
> to docode and find out that its something bad. This should be a FAQ thing
> already.
> 
> So. How do I get -DEAPI in there so I won't have the threat of Apache seg
> faulting at some point?

Personally, I edit src/Makefile and change
OPT=
to
OPT=-DEAPI

From webmaster at myeboard.com  Thu Mar  8 12:35:32 2001
From: webmaster at myeboard.com (Jamie Krasnoo)
Date: Fri Jan  9 21:58:48 2004
Subject: [mod_python] That -DEAPI thing again.
In-Reply-To: <20010308115829.D13307@vaio.mikebell.org>
Message-ID: <NEBBLAGGCLKLIANPIBEJAECKDEAA.webmaster@myeboard.com>

Thanks Mike. I appreciate it.

-----Original Message-----
From: mod_python-admin@modpython.org
[mailto:mod_python-admin@modpython.org]On Behalf Of Mike Bell
Sent: Thursday, March 08, 2001 11:58 AM
To: mod_python@modpython.org
Subject: Re: [mod_python] That -DEAPI thing again.


On Thu, Mar 08, 2001 at 11:37:10AM -0800, Jamie Krasnoo wrote:
> Sorry to bring this up again. I was trying to compile mod_python as a DSO
> and the warning :
> [warn] Loaded DSO /usr/lib/apache/mod_python.so uses plain Apache 1.3 API,
> this module might crash under EAPI! (please recompile it with -DEAPI)
>
> came up. I found a lot questions on the same matter int he archives but no
> real answeres. Ok one answer but that was a patch which I realy don't want
> to docode and find out that its something bad. This should be a FAQ thing
> already.
>
> So. How do I get -DEAPI in there so I won't have the threat of Apache seg
> faulting at some point?

Personally, I edit src/Makefile and change
OPT=
to
OPT=-DEAPI
_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python


From petar at metamarkets.com  Fri Mar  9 10:20:43 2001
From: petar at metamarkets.com (Petar Karafezov)
Date: Fri Jan  9 21:58:49 2004
Subject: [mod_python] help needed with forms' parameters handling
Message-ID: <86FC34EA3C4F074AA6BBFFE52ED83FED27BE3E@METAEXCH.sfo.metamarkets.com>

Hello all -

I am running Apache/1.3.14 (Unix) mod_python/2.7.2 Python/2.0. At this point
I am not even sure that this is a mod_python issue, as I have seen this
same behavior before I ported my cgi to mod_python. I am not sure what to do
at this point..

Here's the issue:

When you do a POST to a python script you obtain the parameters using the
util.FieldStorage, when using cgi it's cgi.FieldStorage. The returned result
is a dictionary { key, value }. Everything is OK if you just what to work
with this dictionary. However, if you try to pass this dictionary object to
urllib.urlencode, we raise an exception:

Mod_python error: "PythonHandler parse2"

Traceback (most recent call last):

  File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line
189, in Dispatch
    result = object(self.req)

  File "/usr/local/apache/htdocs/test/parse2.py", line 147, in handler
    params=urllib.urlencode(form)	

  File "/usr/local/lib/python2.0/urllib.py", line 1086, in urlencode
    for k, v in dict.items():

AttributeError: 'FieldStorage' instance has no attribute 'items'


Now, the funny part is that if I get this object 'form' - which was defined
as form=util.FieldStorage(req) and just get the keys and values and form a
new dictionary, I can pass that new one to urllib.urlencode with no
problems.

...
    newparams={}                       
    for key in form.keys():
          newparams[key]=form[key]
    params=urllib.urlencode(newparams) 
...

Again, I run into the same issue with both util.FieldStorage when working
with mod_python and with cgi.FieldStorage when using my cgi version.

I am quite happy with this workaround until I bumped into a different issue,
which I am not exactly sure if it's related or not. When there're multiple
checkboxes on a form:

<input type="checkbox"  name="frequencies" value="DEM" priority="6" checked>
<input type="checkbox"  name="frequencies" value="HLF" priority="6">
<input type="checkbox"  name="frequencies" value="DAY" priority="6">
<input type="checkbox"  name="frequencies" value="WEK" priority="6">

and we have selected more than 1, then the form parameter value gets passed
to the server as an array. For example, if I'd select DEM and DAY from the
checkboxed above, my params would be:

'frequences' : ['DEM','DAY']

This is all great, but when I pass the parameters to the server - my python
script is playing the role of a proxy, then I am passing as value for
'frequences' the STRING "['DEM','DAY']" and not the ARRAY ['DEM','DAY']. 

So, somewhere in what I do/use the array gets converted to a string. The way
I see it is:

1) It could be the python's FieldStorage when I originally get the keys and
values
2) It could be that funky dictionary rewriting that I am doing before I pass
the form parameters to urllib.urlencode.
3) I could be something in what urlencode does.


I am not sure where to look at this point. 

Any ideas, anyone ?? Any help would be greatly appreciated!

Thanks for your help!

regards,

Petar Karafezov

MetaMarkets.com
415-575-3015
-------------------------------------------
Investing Out Loud at
http://www.metamarkets.com
-------------------------------------------



From grisha at verio.net  Fri Mar  9 13:39:34 2001
From: grisha at verio.net (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:58:49 2004
Subject: [mod_python] help needed with forms' parameters handling
In-Reply-To: <86FC34EA3C4F074AA6BBFFE52ED83FED27BE3E@METAEXCH.sfo.metamarkets.com>
Message-ID: <Pine.BSF.4.32.0103091338010.53766-100000@localhost>

This is probably because FieldStorage indeed doesn't have "items()" - just
like it says ;-)

May be in the future I'll add it. Until then - you'll have to copy it to
real dictionary, or you can subclass FieldStorage and add your own
items().

Grisha

On Fri, 9 Mar 2001, Petar Karafezov wrote:

> Hello all -
>
> I am running Apache/1.3.14 (Unix) mod_python/2.7.2 Python/2.0. At this point
> I am not even sure that this is a mod_python issue, as I have seen this
> same behavior before I ported my cgi to mod_python. I am not sure what to do
> at this point..
>
> Here's the issue:
>
> When you do a POST to a python script you obtain the parameters using the
> util.FieldStorage, when using cgi it's cgi.FieldStorage. The returned result
> is a dictionary { key, value }. Everything is OK if you just what to work
> with this dictionary. However, if you try to pass this dictionary object to
> urllib.urlencode, we raise an exception:
>
> Mod_python error: "PythonHandler parse2"
>
> Traceback (most recent call last):
>
>   File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line
> 189, in Dispatch
>     result = object(self.req)
>
>   File "/usr/local/apache/htdocs/test/parse2.py", line 147, in handler
>     params=urllib.urlencode(form)
>
>   File "/usr/local/lib/python2.0/urllib.py", line 1086, in urlencode
>     for k, v in dict.items():
>
> AttributeError: 'FieldStorage' instance has no attribute 'items'
>
>
> Now, the funny part is that if I get this object 'form' - which was defined
> as form=util.FieldStorage(req) and just get the keys and values and form a
> new dictionary, I can pass that new one to urllib.urlencode with no
> problems.
>
> ...
>     newparams={}
>     for key in form.keys():
>           newparams[key]=form[key]
>     params=urllib.urlencode(newparams)
> ...
>
> Again, I run into the same issue with both util.FieldStorage when working
> with mod_python and with cgi.FieldStorage when using my cgi version.
>
> I am quite happy with this workaround until I bumped into a different issue,
> which I am not exactly sure if it's related or not. When there're multiple
> checkboxes on a form:
>
> <input type="checkbox"  name="frequencies" value="DEM" priority="6" checked>
> <input type="checkbox"  name="frequencies" value="HLF" priority="6">
> <input type="checkbox"  name="frequencies" value="DAY" priority="6">
> <input type="checkbox"  name="frequencies" value="WEK" priority="6">
>
> and we have selected more than 1, then the form parameter value gets passed
> to the server as an array. For example, if I'd select DEM and DAY from the
> checkboxed above, my params would be:
>
> 'frequences' : ['DEM','DAY']
>
> This is all great, but when I pass the parameters to the server - my python
> script is playing the role of a proxy, then I am passing as value for
> 'frequences' the STRING "['DEM','DAY']" and not the ARRAY ['DEM','DAY'].
>
> So, somewhere in what I do/use the array gets converted to a string. The way
> I see it is:
>
> 1) It could be the python's FieldStorage when I originally get the keys and
> values
> 2) It could be that funky dictionary rewriting that I am doing before I pass
> the form parameters to urllib.urlencode.
> 3) I could be something in what urlencode does.
>
>
> I am not sure where to look at this point.
>
> Any ideas, anyone ?? Any help would be greatly appreciated!
>
> Thanks for your help!
>
> regards,
>
> Petar Karafezov
>
> MetaMarkets.com
> 415-575-3015
> -------------------------------------------
> Investing Out Loud at
> http://www.metamarkets.com
> -------------------------------------------
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From tino at wildenhain.de  Fri Mar  9 23:43:51 2001
From: tino at wildenhain.de (Tino Wildenhain)
Date: Fri Jan  9 21:58:49 2004
Subject: [mod_python] Re: help needed with forms' parameters handling
References: <86FC34EA3C4F074AA6BBFFE52ED83FED27BE3E@METAEXCH.sfo.metamarkets.com>
Message-ID: <3AA95CA7.DCF14032@wildenhain.de>

Hi Petar,

I suppose after a couple of headaches you may want to try out
zope as well ;) http://www.zope.org/
It saves you from most of the work with forms and many more.
Hard to grasp the principe of operation at first but profitable
at the end.

HTH
Tino

Petar Karafezov wrote:
> 
> Hello all -
> 
> I am running Apache/1.3.14 (Unix) mod_python/2.7.2 Python/2.0. At this point
> I am not even sure that this is a mod_python issue, as I have seen this
> same behavior before I ported my cgi to mod_python. I am not sure what to do
> at this point..
> 
> Here's the issue:
> 
> When you do a POST to a python script you obtain the parameters using the
> util.FieldStorage, when using cgi it's cgi.FieldStorage. The returned result
> is a dictionary { key, value }. Everything is OK if you just what to work
> with this dictionary. However, if you try to pass this dictionary object to
> urllib.urlencode, we raise an exception:
> 
> Mod_python error: "PythonHandler parse2"
> 
> Traceback (most recent call last):
> 
>   File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line
> 189, in Dispatch
>     result = object(self.req)
> 
>   File "/usr/local/apache/htdocs/test/parse2.py", line 147, in handler
>     params=urllib.urlencode(form)
> 
>   File "/usr/local/lib/python2.0/urllib.py", line 1086, in urlencode
>     for k, v in dict.items():
> 
> AttributeError: 'FieldStorage' instance has no attribute 'items'
> 
> Now, the funny part is that if I get this object 'form' - which was defined
> as form=util.FieldStorage(req) and just get the keys and values and form a
> new dictionary, I can pass that new one to urllib.urlencode with no
> problems.
> 
> ...
>     newparams={}
>     for key in form.keys():
>           newparams[key]=form[key]
>     params=urllib.urlencode(newparams)
> ...
> 
> Again, I run into the same issue with both util.FieldStorage when working
> with mod_python and with cgi.FieldStorage when using my cgi version.
> 
> I am quite happy with this workaround until I bumped into a different issue,
> which I am not exactly sure if it's related or not. When there're multiple
> checkboxes on a form:
> 
> <input type="checkbox"  name="frequencies" value="DEM" priority="6" checked>
> <input type="checkbox"  name="frequencies" value="HLF" priority="6">
> <input type="checkbox"  name="frequencies" value="DAY" priority="6">
> <input type="checkbox"  name="frequencies" value="WEK" priority="6">
> 
> and we have selected more than 1, then the form parameter value gets passed
> to the server as an array. For example, if I'd select DEM and DAY from the
> checkboxed above, my params would be:
> 
> 'frequences' : ['DEM','DAY']
> 
> This is all great, but when I pass the parameters to the server - my python
> script is playing the role of a proxy, then I am passing as value for
> 'frequences' the STRING "['DEM','DAY']" and not the ARRAY ['DEM','DAY'].
> 
> So, somewhere in what I do/use the array gets converted to a string. The way
> I see it is:
> 
> 1) It could be the python's FieldStorage when I originally get the keys and
> values
> 2) It could be that funky dictionary rewriting that I am doing before I pass
> the form parameters to urllib.urlencode.
> 3) I could be something in what urlencode does.
> 
> I am not sure where to look at this point.
> 
> Any ideas, anyone ?? Any help would be greatly appreciated!
> 
> Thanks for your help!
> 
> regards,
> 
> Petar Karafezov
> 
> MetaMarkets.com
> 415-575-3015
> -------------------------------------------
> Investing Out Loud at
> http://www.metamarkets.com
> -------------------------------------------
> 
> --
> http://mail.python.org/mailman/listinfo/python-list

From skidrow at nownuri.net  Wed Mar 14 11:38:58 2001
From: skidrow at nownuri.net (¼­ÅÂÁø)
Date: Fri Jan  9 21:58:49 2004
Subject: [mod_python] Some error while using MoinMoin
Message-ID: <200103140238.LAA14070@lion4.nownuri.net>

I've installed mod_python 2.6.3 and tested it out,

And tried to use MoinMoin(python CGI program..)

with modpython.cgihandler but I've got errors..

I use freebsd 4.2 release, apache 1.3.14 

and my httpd.conf file goes like this..

Addhandler python-program .py
PythonHandler mod_python.cgihandler
PythonDebug On

and It seems to work all right with any other python program

than this "MoinMoin" program..

the log goes like this..

Mod_python error: "PythonHandler mod_python.cgihandler"

Traceback (most recent call last):

  File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line 185,
 in Dispatch
    result = object(self.req)

  File "/usr/local/lib/python2.0/site-packages/mod_python/cgihandler.py", line 
76, in handler
    imp.load_module(module_name, fd, path, desc)

  File "/usr/local/www/cgi-bin/MoinMoin/wiki-moinmoin/moin.py", line 15, in ?
    cgimain.run()

  File "/usr/local/www/cgi-bin/MoinMoin/cgimain.py", line 161, in run
    cgi.print_exception()

  File "/usr/local/lib/python2.0/cgi.py", line 870, in print_exception
    print

  File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line 484,
 in write
    h, v = string.split(line, ":", 1)

ValueError: unpack list of wrong size

Thanks in advance...

 




--MIME Multi-part separator--


From kees.serier at relan.nl  Wed Mar 14 16:50:28 2001
From: kees.serier at relan.nl (Serier, Kees)
Date: Fri Jan  9 21:58:49 2004
Subject: [mod_python] Problem building apache+mod_python on AIX
Message-ID: <AA2536FEE0A9D311887000508B5EDF1E01C2BB68@ab00s003.ab.cadans.nl>

Hello,

I have the following problem with building apache 1.3.19 with mod_python
2.7.2 on AIX 4.2.1
I had the same problem with apache 1.3.14 and mod_python 2.7.1, never got it
running,
but gave it a new try with gcc 2.95.2
I rebuild everything with gcc:
- python 1.5.2
- apache 1.3.19
- mod_python 2.7.2
When rebuilding apache with mod_pyhton, I got Undefined symbol errors from
ld
=============
This is what I did:

Apache 1.3.19:
-------------
   ./configure (default without DSO)
   gmake
   gmake install
   Testing: worked fine (as dit 1.3.14) with CGI and python

Python 1.5.2
------------
   ./configure
   gmake
   gmake test
   gmake install
   Testing with apache 1.3.19 and CGI: worked fine

mod_python 2.7.2:
   ./configure --with-apache=../apache_1.3.19 --with-python=../Python-1.5.2/
   gmake
   gmake install
   
apache 1.3.19:
    cd  /usr/local/src/apache_1.3.19
    ./configure --activate-module=src/modules/python/libpython.a
    gmake
==================
Here follows the last of stdout and stderr:

gmake[4]: Entering directory
`/usr/local/src/apache_1.3.19/src/modules/python'
gmake[4]: Nothing to be done for `all'.
gmake[4]: Leaving directory
`/usr/local/src/apache_1.3.19/src/modules/python'
<=== src/modules/python
gmake[3]: Leaving directory `/usr/local/src/apache_1.3.19/src/modules'
<=== src/modules
gcc -c  -I./os/unix -I./include   -DAIX=42 -U__STR__ -DAIX_BIND_PROCESSOR
-DUSE_HSREGEX -DUSE_EXPAT -I./lib/expat-lite -DNO_DL_NEEDED `./apaci`
modules.c
gcc -c  -I./os/unix -I./include   -DAIX=42 -U__STR__ -DAIX_BIND_PROCESSOR
-DUSE_HSREGEX -DUSE_EXPAT -I./lib/expat-lite -DNO_DL_NEEDED `./apaci`
buildmark.c
gcc  -DAIX=42 -U__STR__ -DAIX_BIND_PROCESSOR -DUSE_HSREGEX -DUSE_EXPAT
-I./lib/expat-lite -DNO_DL_NEEDED `./apaci` -lm   \
      -o httpd buildmark.o modules.o modules/python/libpython.a
modules/standard/libstandard.a main/libmain.a ./os/unix/libos.a ap/libap.a
regex/libregex.a lib/expat-lite/libexpat.a
ld: 0711-317 ERROR: Undefined symbol: .Py_NewInterpreter
ld: 0711-317 ERROR: Undefined symbol: .PyThreadState_Swap
ld: 0711-317 ERROR: Undefined symbol: .PyDict_GetItemString
ld: 0711-317 ERROR: Undefined symbol: .PyCObject_FromVoidPtr
ld: 0711-317 ERROR: Undefined symbol: .PyDict_SetItemString
ld: 0711-317 ERROR: Undefined symbol: .PyCObject_AsVoidPtr
ld: 0711-317 ERROR: Undefined symbol: .PyThreadState_New
ld: 0711-317 ERROR: Undefined symbol: .PyObject_CallFunction
ld: 0711-317 ERROR: Undefined symbol: .PyErr_Fetch
ld: 0711-317 ERROR: Undefined symbol: .PyObject_Str
ld: 0711-317 ERROR: Undefined symbol: .PyString_AsString
ld: 0711-317 ERROR: Undefined symbol: .PyThreadState_Delete
ld: 0711-317 ERROR: Undefined symbol: .Py_GetVersion
ld: 0711-317 ERROR: Undefined symbol: .Py_IsInitialized
ld: 0711-317 ERROR: Undefined symbol: .Py_Initialize
ld: 0711-317 ERROR: Undefined symbol: .PyDict_New
ld: 0711-317 ERROR: Undefined symbol: .PyArg_ParseTuple
ld: 0711-317 ERROR: Undefined symbol: .PyErr_NoMemory
ld: 0711-317 ERROR: Undefined symbol: PyExc_KeyError
ld: 0711-317 ERROR: Undefined symbol: .PyErr_SetObject
ld: 0711-317 ERROR: Undefined symbol: .PyString_FromString
ld: 0711-317 ERROR: Undefined symbol: PyString_Type
ld: 0711-317 ERROR: Undefined symbol: PyExc_TypeError
ld: 0711-317 ERROR: Undefined symbol: .PyErr_SetString
ld: 0711-317 ERROR: Undefined symbol: _Py_NoneStruct
ld: 0711-317 ERROR: Undefined symbol: .PyList_New
ld: 0711-317 ERROR: Undefined symbol: .PyList_SetItem
ld: 0711-317 ERROR: Undefined symbol: .PyInt_FromLong
ld: 0711-317 ERROR: Undefined symbol: .Py_FindMethod
ld: 0711-317 ERROR: Undefined symbol: .PyString_ConcatAndDel
ld: 0711-317 ERROR: Undefined symbol: PyExc_IndexError
ld: 0711-317 ERROR: Undefined symbol: .PyString_FromStringAndSize
ld: 0711-317 ERROR: Undefined symbol: PyExc_IOError
ld: 0711-317 ERROR: Undefined symbol: ._PyString_Resize
ld: 0711-317 ERROR: Undefined symbol: .PyCallable_Check
ld: 0711-317 ERROR: Undefined symbol: PyExc_ValueError
ld: 0711-317 ERROR: Undefined symbol: .PyErr_Clear
ld: 0711-317 ERROR: Undefined symbol: .Py_BuildValue
ld: 0711-317 ERROR: Undefined symbol: .PyMember_Get
ld: 0711-317 ERROR: Undefined symbol: PyExc_AttributeError
ld: 0711-317 ERROR: Undefined symbol: .PyMember_Set
ld: 0711-317 ERROR: Undefined symbol: .PyTuple_New
ld: 0711-317 ERROR: Undefined symbol: .PyTuple_SetItem
ld: 0711-317 ERROR: Undefined symbol: .PyErr_BadArgument
ld: 0711-317 ERROR: Undefined symbol: .PyList_Append
ld: 0711-317 ERROR: Undefined symbol: .PyList_Size
ld: 0711-317 ERROR: Undefined symbol: .PyMapping_HasKeyString
ld: 0711-317 ERROR: Undefined symbol: .PyDict_GetItem
ld: 0711-317 ERROR: Undefined symbol: .PyDict_SetItem
ld: 0711-317 ERROR: Undefined symbol: PyType_Type
ld: 0711-317 ERROR: Undefined symbol: .Py_InitModule4
ld: 0711-317 ERROR: Undefined symbol: .PyModule_GetDict
ld: 0711-317 ERROR: Undefined symbol: .PyErr_NewException
ld: 0711-317 ERROR: Undefined symbol: .PyImport_ImportModule
ld: 0711-317 ERROR: Undefined symbol: .PyObject_CallMethod
ld: 0711-317 ERROR: Undefined symbol: .PyEval_SaveThread
ld: 0711-317 ERROR: Undefined symbol: .PyEval_RestoreThread
ld: 0711-317 ERROR: Undefined symbol: PyInt_Type
ld: 0711-317 ERROR: Undefined symbol: .PyInt_AsLong
ld: 0711-317 ERROR: Undefined symbol: Py_OptimizeFlag
ld: 0711-317 ERROR: Undefined symbol: .Py_Finalize
ld: 0711-317 ERROR: Undefined symbol: .PyObject_GetAttrString
ld: 0711-317 ERROR: Undefined symbol: .PySequence_Index
ld: 0711-317 ERROR: Undefined symbol: .PyList_SetSlice
ld: 0711-317 ERROR: Undefined symbol: .PyErr_Occurred
ld: 0711-317 ERROR: Undefined symbol: .PyErr_Print
ld: 0711-345 Use the -bloadmap or -bnoquiet option to obtain more
information.
collect2: ld returned 8 exit status
gmake[2]: *** [target_static] Error 1
gmake[2]: Leaving directory `/usr/local/src/apache_1.3.19/src'
gmake[1]: *** [build-std] Error 2
gmake[1]: Leaving directory `/usr/local/src/apache_1.3.19'
gmake: *** [build] Error 2

find /usr/local/src -name libpython.a -exec ls -l {} \;
-rwxr-xr-x   1 root     begeer     98020 Mar 14 15:53
./apache_1.3.19/src/modules/python/libpython.a
-rw-r--r--   1 root     beheer     98020 Mar 14 15:53
./mod_python-2.7.2/src/libpython.a


From brianh at exelixis.com  Wed Mar 14 11:45:40 2001
From: brianh at exelixis.com (Brian Hawthorne)
Date: Fri Jan  9 21:58:49 2004
Subject: [mod_python] _apache.parse_qsl is buggy (mod_python2.7.2)
Message-ID: <Pine.GSO.4.05.10103141145090.24622-100000@timeless.exelixis.com>

i thought it would be useful to point out (mod_python2.7.2) that this
function, implemented in _apachemodule.c, which should support the same
interface and functionality as the standard python cgi.parse_qsl, does not
correctly parse form values from an ampersand delimited string of
key=value pairs.  sometimes it simply drops some pairs, other times it
mangles the keys and/or values.  i worked around this by adding to 
line 110 of mod_python/util.py:
            import cgi
            pairs = cgi.parse_qsl(req.args, keep_blank_values=1)

brian hawthorne
Associate Informatics Research Scientist
Exelixis, Inc.



From ensim.ml.mod_python at ensim.com  Wed Mar 14 11:53:53 2001
From: ensim.ml.mod_python at ensim.com (Ensim-Newsgroups.Mailing-Lists.Mod_Python-List)
Date: Fri Jan  9 21:58:49 2004
Subject: [mod_python] any production systems out there?
Message-ID: <9AC41B8C4781464695BB013F106FCA3181A658@nasdaq.ms.ensim.com>

i'm trying to evaluate mod python for a production system, and i'd like to
get feedback...

- is anyone using mod_python in a production environment?
- is your production site a heavily hit site?
- are there any memory issues (does modpython consume an unusual amount of
memory)?
- are there any stability issues?


From CHagner at fool.com  Thu Mar 15 01:08:02 2001
From: CHagner at fool.com (Chris Hagner)
Date: Fri Jan  9 21:58:49 2004
Subject: [mod_python] PythonImport failure
Message-ID: <13CDDE6A53DBD311BC3200508B6F0C4804DAFC57@rover.foolhq.com>

Greetings,

I'm trying to get the PythonImport command to work.  Been through the
documentation, but it appears to want more than simply inserting 

   PythonImport mypackage.mymodule

within my Directory tags in httd.conf.

While mypackage.mymodule is under the standard python lib directory
(therefore should be found through the sys.path), the system spat out the
following...

    ...[error] directive_PythonImport: error importing mypackage.mymodule

I then moved the module to a different directory and appended that directory
to the sys.path using the PythonPath command (just to see if that allowed it
to find the module).  No luck.

I've found a handful of posts from June and August of last year, but no
posted solutions to getting the PythonImport command to work correctly.  Of
course, there's a CVS commit with the comment "PythonImport works now" so
I'm pretty sure it's me...

As a random test, I tried a standard module...

   PythonImport sys

which appeared to work (no error msg), but I'm not really confident that
this was a meaningful test.

Thanks in advance.

Chris
chagner _at_ fool _dot_ com



From rdevide at ican.at  Thu Mar 15 09:46:18 2001
From: rdevide at ican.at (Devide Robert)
Date: Fri Jan  9 21:58:49 2004
Subject: [mod_python] any production systems out there?
References: <9AC41B8C4781464695BB013F106FCA3181A658@nasdaq.ms.ensim.com>
Message-ID: <3AB0815A.5111D98C@ican.at>

> - is anyone using mod_python in a production environment?
yes, e.g. www.ican.at
using Linux, 
      Apache, 
      Mysql, 
  mod_Python
running on a serverfarm of 4 PCs

> - is your production site a heavily hit site?
1.100.000 Visits per Month, 3.700.000 Pageimpressions

> - are there any memory issues (does modpython consume an unusual amount of
> memory)?
no
(that is there occured memory leaks, but we didn't locate which
component of LAMP produces that,
we just set MaxRequestsPerChild in the apache config to a reasonable
value)

> - are there any stability issues?
no

dave

From grisha at verio.net  Thu Mar 15 11:26:25 2001
From: grisha at verio.net (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:58:49 2004
Subject: [mod_python] PythonImport failure
In-Reply-To: <13CDDE6A53DBD311BC3200508B6F0C4804DAFC57@rover.foolhq.com>
Message-ID: <Pine.BSF.4.32.0103151124130.18178-100000@localhost>

Chris -

Have you tried

>>> import mypackage.mymodule

from an interactive Python session?

Also, regarding PythonPath - if you read documentation carefully, you'll
notice that it says that no other directives have any effect at the time
PythonImport is executed.

Generally, you should not use PythonImport unless you *really* need it,
which is almost never the case.

Grisha


On Thu, 15 Mar 2001, Chris Hagner wrote:

> Greetings,
>
> I'm trying to get the PythonImport command to work.  Been through the
> documentation, but it appears to want more than simply inserting
>
>    PythonImport mypackage.mymodule
>
> within my Directory tags in httd.conf.
>
> While mypackage.mymodule is under the standard python lib directory
> (therefore should be found through the sys.path), the system spat out the
> following...
>
>     ...[error] directive_PythonImport: error importing mypackage.mymodule
>
> I then moved the module to a different directory and appended that directory
> to the sys.path using the PythonPath command (just to see if that allowed it
> to find the module).  No luck.
>
> I've found a handful of posts from June and August of last year, but no
> posted solutions to getting the PythonImport command to work correctly.  Of
> course, there's a CVS commit with the comment "PythonImport works now" so
> I'm pretty sure it's me...
>
> As a random test, I tried a standard module...
>
>    PythonImport sys
>
> which appeared to work (no error msg), but I'm not really confident that
> this was a meaningful test.
>
> Thanks in advance.
>
> Chris
> chagner _at_ fool _dot_ com
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From CHagner at fool.com  Thu Mar 15 12:06:46 2001
From: CHagner at fool.com (Chris Hagner)
Date: Fri Jan  9 21:58:49 2004
Subject: [mod_python] PythonImport failure
Message-ID: <13CDDE6A53DBD311BC3200508B6F0C4804DAFC63@rover.foolhq.com>

Thanks for the response.  For my tests, mypackage is a package named
'toolkit' and the mymodule is a module named 'brandconfig'.

Oh yeah, I'm doing this on Apache/1.3.19 (Win32) mod_python/2.7.1
Python/2.0.  I'm on Win2K (for development, sigh).

INTERACTIVE SESSION TEST:
******************************

Here's my python interactive session... the module only contains a single
variable x.

>>> import toolkit.brandconfig
>>> dir(toolkit.brandconfig)
['__builtins__', '__doc__', '__file__', '__name__', 'x']
>>> toolkit.brandconfig.x
123
>>> 

So, the module is importable in my python environment.


APACHE PYTHONIMPORT TEST:
******************************

Just to be sure, I ran the apache test again.  Here's the httpd.conf entry.
Nothing shocking.

<Directory "D:/site/brand1/htdocs">
   AddHandler python-program .py
   PythonHandler toolkit.publisher
   PythonDebug on
   PythonImport toolkit.brandconfig
</Directory>

Here's the response in the log upon starting apache.

   [Thu Mar 15 11:39:10 2001] [error] directive_PythonImport: error
importing toolkit.brandconfig

Same as before.  Now, just to be sure, I blew away the brandconfig.py file
(and the .pyc) so that it shouldn't even find it (just to see if I could get
a different error if it didn't even exist).  Result: No change.  Same error
in error.log.  Apparently, it's not even finding it.

APACHE PYTHON SCRIPT TEST:
******************************

So, it wasn't importing it on start up.  How about a python script in
mod_python?

Here's the code blurb...

	import foolkit.brandconfig
       out_string = "foolkit.brandconfig.x: %s \n"% foolkit.brandconfig.x

Did it work?  yup, the page displayed 

	foolkit.brandconfig.x: 123



Yes, I have read through the documentation and my need is to initialize a
number of objects (i.e. dbconn pool) for use throughout my applications.
Now, I am using a custom handler, so I could simply have the handler do this
initialization the first time it runs, but the PythonImport appeared to be a
code-free way to achieve this goal.  Do you all think this is a case where I
*really* need it?  If not, could someone share an example of when it really
deserves to be used?

Thanks again for the help.

Chris

-----Original Message-----
From: Gregory (Grisha) Trubetskoy [mailto:grisha@verio.net]
Sent: Thursday, March 15, 2001 11:26 AM
To: Chris Hagner
Cc: 'mod_python@modpython.org'
Subject: Re: [mod_python] PythonImport failure



Chris -

Have you tried

>>> import mypackage.mymodule

from an interactive Python session?

Also, regarding PythonPath - if you read documentation carefully, you'll
notice that it says that no other directives have any effect at the time
PythonImport is executed.

Generally, you should not use PythonImport unless you *really* need it,
which is almost never the case.

Grisha


On Thu, 15 Mar 2001, Chris Hagner wrote:

> Greetings,
>
> I'm trying to get the PythonImport command to work.  Been through the
> documentation, but it appears to want more than simply inserting
>
>    PythonImport mypackage.mymodule
>
> within my Directory tags in httd.conf.
>
> While mypackage.mymodule is under the standard python lib directory
> (therefore should be found through the sys.path), the system spat out the
> following...
>
>     ...[error] directive_PythonImport: error importing mypackage.mymodule
>
> I then moved the module to a different directory and appended that
directory
> to the sys.path using the PythonPath command (just to see if that allowed
it
> to find the module).  No luck.
>
> I've found a handful of posts from June and August of last year, but no
> posted solutions to getting the PythonImport command to work correctly.
Of
> course, there's a CVS commit with the comment "PythonImport works now" so
> I'm pretty sure it's me...
>
> As a random test, I tried a standard module...
>
>    PythonImport sys
>
> which appeared to work (no error msg), but I'm not really confident that
> this was a meaningful test.
>
> Thanks in advance.
>
> Chris
> chagner _at_ fool _dot_ com
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>

From L.A.Timochouk at ukc.ac.uk  Thu Mar 15 18:57:10 2001
From: L.A.Timochouk at ukc.ac.uk (Leonid Timochouk)
Date: Fri Jan  9 21:58:49 2004
Subject: [mod_python] any production systems out there?
In-Reply-To: <9AC41B8C4781464695BB013F106FCA3181A658@nasdaq.ms.ensim.com>
Message-ID: <Pine.GSO.4.21.0103151503450.9416-100000@myrtle.ukc.ac.uk>

Yes, we are using "mod_python" on our site (http://www.top-greetings.com)
which has a fairly heavy traffic. The performance seems to be very good,
and no memory-related problems were ever observed. So yes, "mod_python" IS
suitable for production systems!

Dr. Leonid Timochouk


From CHagner at fool.com  Thu Mar 15 14:13:11 2001
From: CHagner at fool.com (Chris Hagner)
Date: Fri Jan  9 21:58:49 2004
Subject: [mod_python] any production systems out there?
Message-ID: <13CDDE6A53DBD311BC3200508B6F0C4804DAFC69@rover.foolhq.com>

Can you give a little more details on your level of traffic.

Anything along the lines of #pages/month, # unique visitors (estimated,
although this is tough to get for most sites) and even # of servers (just
for my interest, not for any scientific calculations) would be great.

Thanks.

Chris

-----Original Message-----
From: Leonid Timochouk [mailto:L.A.Timochouk@ukc.ac.uk]
Sent: Thursday, March 15, 2001 1:57 PM
To: Ensim-Newsgroups.Mailing-Lists.Mod_Python-List
Cc: 'mod_python@modpython.org'
Subject: Re: [mod_python] any production systems out there?



Yes, we are using "mod_python" on our site (http://www.top-greetings.com)
which has a fairly heavy traffic. The performance seems to be very good,
and no memory-related problems were ever observed. So yes, "mod_python" IS
suitable for production systems!

Dr. Leonid Timochouk

_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From miguel at yorku.ca  Thu Mar 15 15:57:22 2001
From: miguel at yorku.ca (Miguel Marques)
Date: Fri Jan  9 21:58:49 2004
Subject: [mod_python] any production systems out there?
In-Reply-To: <9AC41B8C4781464695BB013F106FCA3181A658@nasdaq.ms.ensim.com>
References: <9AC41B8C4781464695BB013F106FCA3181A658@nasdaq.ms.ensim.com>
Message-ID: <20010315155722T.miguel@yorku.ca>

On Wed, 14 Mar 2001 11:53:53 -0800, "Ensim-Newsgroups.Mailing-Lists.Mod_Python-List" <ensim.ml.mod_python@ensim.com> wrote:
> i'm trying to evaluate mod python for a production system, and i'd like to
> get feedback...
> 
> - is anyone using mod_python in a production environment?

We use it at York University for seveal of our Web Applications.
Account Management System, Activation of Residence Network Drops,
the search interface to our LDAP server, etc, with more to come...

> - is your production site a heavily hit site?
Depends what you consider a heavily hit site.   We probably don't get
more than 50 to 60 users using our sites concurrently but unfortunately
I don't currently have good stats on usage.   As far as I can tell
performance is as good as applications written with mod_perl.

> - are there any memory issues (does modpython consume an unusual amount of
> memory)?
Yes, but less than than a httpd with mod_perl built in.
Still running mod_python/2.6.3 Python/1.5.2 other versions maybe
different.

> - are there any stability issues?
We had problems before the current version of mod_python with some
obscure bugs having to do with threading but those were fixed on
2.6.2.  Other than that no problems.

							Miguel

C. Miguel Marques, York University, Computing & Network Services
e-mail: miguel@yorku.ca, voice: (416)736-2100x22684, fax: (416)736-5830

From miguel at yorku.ca  Thu Mar 15 16:48:51 2001
From: miguel at yorku.ca (Miguel Marques)
Date: Fri Jan  9 21:58:49 2004
Subject: [mod_python] Passing C structure into python?
Message-ID: <20010315164851I.miguel@yorku.ca>

Greetings...

I previously had a authentication handler written in python which 
using a python extension opened a connection a database.

Since the main request handler was also written in python and needed
to use that connection to the database I just assigned the connection
object to a member of the request object in the authentication
handler.  The main request handler then could access the database
connection using that member of the request object.

I have now rewritten the authentication handler as an apache module
written in C but I still would like to pass that connection to the
database into the main request handler which is written in python.
(I'm opening a connection to the database on both places right now
which is impacting performance)

Any idea how I could do that?  I assume I'll need another python C
module to return me a python variable to use in the main request handler.
The question is where do I store the connection C structure in the
authentication handler so that the handler can get at it?
I don't think I can use the notes field for that.

Any help would be greatly appreciated...

						Miguel

C. Miguel Marques, York University, Computing & Network Services
e-mail: miguel@yorku.ca, voice: (416)736-2100x22684, fax: (416)736-5830

From grisha at verio.net  Thu Mar 15 17:31:33 2001
From: grisha at verio.net (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:58:49 2004
Subject: [mod_python] Passing C structure into python?
In-Reply-To: <20010315164851I.miguel@yorku.ca>
Message-ID: <Pine.BSF.4.32.0103151728420.19898-100000@localhost>

I think req->notes is your best bet. Look at mod_python.c in
get_request_object() for an example. It's not pretty, but it works....

Grisha

On Thu, 15 Mar 2001, Miguel Marques wrote:

> Greetings...
>
> I previously had a authentication handler written in python which
> using a python extension opened a connection a database.
>
> Since the main request handler was also written in python and needed
> to use that connection to the database I just assigned the connection
> object to a member of the request object in the authentication
> handler.  The main request handler then could access the database
> connection using that member of the request object.
>
> I have now rewritten the authentication handler as an apache module
> written in C but I still would like to pass that connection to the
> database into the main request handler which is written in python.
> (I'm opening a connection to the database on both places right now
> which is impacting performance)
>
> Any idea how I could do that?  I assume I'll need another python C
> module to return me a python variable to use in the main request handler.
> The question is where do I store the connection C structure in the
> authentication handler so that the handler can get at it?
> I don't think I can use the notes field for that.
>
> Any help would be greatly appreciated...
>
> 						Miguel
>
> C. Miguel Marques, York University, Computing & Network Services
> e-mail: miguel@yorku.ca, voice: (416)736-2100x22684, fax: (416)736-5830
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From brett at bookshop.unsw.edu.au  Fri Mar 16 15:08:04 2001
From: brett at bookshop.unsw.edu.au (Brett Haydon)
Date: Fri Jan  9 21:58:49 2004
Subject: [mod_python] Heavy Testing
Message-ID: <NCBBKMABOKFCDLPIKKGIEEAICKAA.brett@bookshop.unsw.edu.au>

Hi,

I'm just in the process of putting in an ecommerce
application based on modpython to replace an existing site,
and am just about to enter a beta testing phase on a live
site. I'm interested if anyone has feedback about their
experiences with medium-large sites.

Based on the existing usage I expect about 2000 page views a day
(17,000 hits).

The key area I'm concerned about is garbage collection/memory usage.
Having tested it with only 2-5 simultaneous clients over short periods makes
me a little nervous..

I can't help but wonder why python/modpython isn't growing as fast as
php as in principle python/modpython seems a superior solution (It sure as
hell is quicker to develop with).

regards,

______________________________________________
Brett Haydon


From ensim.ml.mod_python at ensim.com  Mon Mar 19 14:10:18 2001
From: ensim.ml.mod_python at ensim.com (Ensim-Newsgroups.Mailing-Lists.Mod_Python-List)
Date: Fri Jan  9 21:58:49 2004
Subject: [mod_python] setup of python2.1 with and without mod_python
Message-ID: <9AC41B8C4781464695BB013F106FCA3181A680@nasdaq.ms.ensim.com>

i want to be able to run regular python via shell and python via mod_python.

i got modpython to compile under 2.1beta with threading off.

is it possible to have the following environment on a server:

/usr/lib/python2.1/* compiled with threading on (pyc + so files)
/usr/bin/python compiled with threading on
** and **
apache's mod_python.so : dso apache module compiled with python threading
off (i downloaded 2.1 source, did a configure --without-threads, and
compiled mod_python against this source tree)

if my mod_python scripts import libraries from /usr/lib/python2.1/ (ie
import pyc and so files compiled with --with-threads), will it break in the
above environment?

basically, i don't want to have 2 different /usr/lib/python2.1...one for
regular python (invoked via shell) and one for use with mod_python.


From joost.damad at siemens.atea.be  Tue Mar 20 08:06:31 2001
From: joost.damad at siemens.atea.be (Joost Yervante Damad)
Date: Fri Jan  9 21:58:49 2004
Subject: [mod_python] setup of python2.1 with and without mod_python
In-Reply-To: <9AC41B8C4781464695BB013F106FCA3181A680@nasdaq.ms.ensim.com>; from ensim.ml.mod_python@ensim.com on Mon, Mar 19, 2001 at 02:10:18PM -0800
References: <9AC41B8C4781464695BB013F106FCA3181A680@nasdaq.ms.ensim.com>
Message-ID: <20010320080631.A1999@siemens.atea.be>

'Ensim-Newsgroups.Mailing-Lists.Mod_Python-List' wrote about '[mod_python] setup of python2.1 with and without mod_python' - Mon, Mar 19, 2001 at 11:10:18PM CET
> i want to be able to run regular python via shell and python via mod_python.
> 
> i got modpython to compile under 2.1beta with threading off.
> 
> is it possible to have the following environment on a server:
> 
> /usr/lib/python2.1/* compiled with threading on (pyc + so files)
> /usr/bin/python compiled with threading on
> ** and **
> apache's mod_python.so : dso apache module compiled with python threading
> off (i downloaded 2.1 source, did a configure --without-threads, and
> compiled mod_python against this source tree)
> 
> if my mod_python scripts import libraries from /usr/lib/python2.1/ (ie
> import pyc and so files compiled with --with-threads), will it break in the
> above environment?
> 
> basically, i don't want to have 2 different /usr/lib/python2.1...one for
> regular python (invoked via shell) and one for use with mod_python.
> 

Good point. In our lab setup we do the same:

 * mod_python uses an embedded non-threaded python interpreted
 * /opt/Python/* contains an installed normal python which is
   compiled *with* threading.

If I now use modules from that python it seems to work fine.

Is this legal/okay ?

-- 
Joost Damad - Siemens IC D NC A - +3214252297
--
Five is a sufficiently close approximation to infinity.
       -- Robert Firth
"One, two, five."
       -- Monty Python and the Holy Grail

From ensim.ml.mod_python at ensim.com  Tue Mar 20 16:37:59 2001
From: ensim.ml.mod_python at ensim.com (Ensim-Newsgroups.Mailing-Lists.Mod_Python-List)
Date: Fri Jan  9 21:58:49 2004
Subject: [mod_python] apache 1.3.14 + mod_python 2.7.2 + python 2.0/2.1b1 + PyGreSQL 3.
 1 + mxdatetime 2.0
Message-ID: <9AC41B8C4781464695BB013F106FCA3181A68A@nasdaq.ms.ensim.com>

thought you guys might interested on my experience with getting this up and
running.

- ensured python 1.5.2 wasn't installed (or you could set your path to
something like export PATH=/usr/local/python2.1/bin:$PATH, so the py2.x had
preference).  the python binary gets invoked by various build scripts
(disutils and makefiles), so its important the right version is being
invoked.
- had to compile python without thread support (mod_python requirement)
- needed to change mod_python's configure script in order to compile with
2.1b1 (had no problems with 2.0).  there was a line grep xxx
Modules/Makefile.  i changed it to grep xxx Makefile.
- set OPT=-DEAPI in src/Makefile in mod_python (from a posting to modpython
mailist list).
- changed pgdb.py and removed "import exceptions"...it was giving my
mod_python scripts weird errors.  it seems python 2.x moved the exceptions
module into built-ins.
- changed pgdb.py from "import DateTime" to "from mx import DateTime".  (i
used egenix's mxdatetime and compiled from source). DateTime is required by
pgdb.

i did a simple query from a mod_pythonscript and things seem to work.

btw, i wrote 2 scripts to do a simple query in php and mod_python and i got
these amazing results from httperf (server = pentium3-550/rh62/ide, client =
pentium3-300/rh70/ide):

MODPYTHON ============================================
dbtest.py:
from mod_python import apache
import pgdb
import sys
 
db = pgdb.connect(user='naris', database='perftest')
 
def handler(req):
    req.content_type = "text/html"
    req.send_http_header()
    cursor = db.cursor()
    cursor.execute("SELECT * FROM perftable")
    retval = cursor.fetchall()
    req.write(retval[0][0])
    req.write(retval[1][0])
    return apache.OK

./httperf --server=blueberry.wh.ensim.com --port=19638
--uri=/modpython/dbtest.py --num-conns=1 --num-calls=100
httperf --client=0/1 --server=blueberry.wh.ensim.com --port=19638
--uri=/modpython/dbtest.py --send-buffer=4096 --recv-buffer=16384
--num-conns=1 --num-calls=100
Maximum connect burst length: 0

Total: connections 1 requests 100 replies 100 test-duration 0.333 s

Connection rate: 3.0 conn/s (333.1 ms/conn, <=1 concurrent connections)
Connection time [ms]: min 333.1 avg 333.1 max 333.1 median 333.5 stddev 0.0
Connection time [ms]: connect 0.4
Connection length [replies/conn]: 100.000

Request rate: 300.2 req/s (3.3 ms/req)
Request size [B]: 92.0

Reply rate [replies/s]: min 0.0 avg 0.0 max 0.0 stddev 0.0 (0 samples)
Reply time [ms]: response 3.2 transfer 0.1
Reply size [B]: header 182.0 content 30.0 footer 2.0 (total 214.0)
Reply status: 1xx=0 2xx=100 3xx=0 4xx=0 5xx=0

CPU time [s]: user 0.07 system 0.22 (user 21.0% system 66.0% total 87.1%)
Net I/O: 89.1 KB/s (0.7*10^6 bps)

Errors: total 0 client-timo 0 socket-timo 0 connrefused 0 connreset 0
Errors: fd-unavail 0 addrunavail 0 ftab-full 0 other 0

PHP ============================================
dbtest.php:
<?php
   $database = pg_Connect ("dbname=perftest user=naris");
   $result = pg_Exec ($database, "select * from perftable");
   $arr = pg_fetch_array($result, 0);
   echo $arr[0];
   $arr = pg_fetch_array($result, 1);
   echo $arr[0];
?>
./httperf --server=blueberry.wh.ensim.com --port=19638 --uri=/php/dbtest.php
--num-conns=1 --num-calls=100
httperf --client=0/1 --server=blueberry.wh.ensim.com --port=19638
--uri=/php/dbtest.php --send-buffer=4096 --recv-buffer=16384 --num-conns=1
--num-calls=100
Maximum connect burst length: 0

Total: connections 1 requests 100 replies 100 test-duration 2.031 s

Connection rate: 0.5 conn/s (2031.0 ms/conn, <=1 concurrent connections)
Connection time [ms]: min 2031.0 avg 2031.0 max 2031.0 median 2031.5 stddev
0.0 Connection time [ms]: connect 0.5
Connection length [replies/conn]: 100.000

Request rate: 49.2 req/s (20.3 ms/req)
Request size [B]: 87.0

Reply rate [replies/s]: min 0.0 avg 0.0 max 0.0 stddev 0.0 (0 samples)
Reply time [ms]: response 20.3 transfer 0.0
Reply size [B]: header 208.0 content 30.0 footer 2.0 (total 240.0)
Reply status: 1xx=0 2xx=100 3xx=0 4xx=0 5xx=0

CPU time [s]: user 0.49 system 1.50 (user 24.1% system 73.9% total 98.0%)
Net I/O: 15.6 KB/s (0.1*10^6 bps)

Errors: total 0 client-timo 0 socket-timo 0 connrefused 0 connreset 0
Errors: fd-unavail 0 addrunavail 0 ftab-full 0 other 0

---
Naris Siamwalla
naris@ensim.com


From marcf at becomm.com  Wed Mar 21 12:55:55 2001
From: marcf at becomm.com (Marc Fiuczynski)
Date: Fri Jan  9 21:58:49 2004
Subject: [mod_python] problem with publisher.py File class w/ possible fix
Message-ID: <A9DFD9380C01D4118E740050DA7A89703860FA@becomm-mis2.becomm.com>

Hi,

I am having a problem with the publisher.py File class, which I have fixed,
but I would like your approval.

My configuration is as follows:
mod_python 2.7.2
python 2.0
apache 1.3.14
Red Hat Linux 7.0

I am using mod python to do http_post operations with files.  This uses the
publisher.py File class.  The __init__ method of that class steals all of
the file-like methods, as shown below:

        # steal all the file-like methods
        methods = field.file.__methods__
        for m in methods:
            self.__dict__[m] = methods[m]

I was getting an error in that last line saying that 'm' needed to be an
int.  (Sorry, I forget the actual error).  I found some other code that was
doing the exact same thing and noticed that they were assigning the methods
in a different manner (using setattr).  See below:

        # steal all the file-like methods
        file = field.file
        for method in file.__methods__:
            setattr(self, method, getattr(file, method))

This seems to work.  I am too nascent to Python to understand the history of
the built-in __xyz__ fields in objects, and whether this is something
specific to Python 2.0 versus an older version of Python.  Please review and
if it is the right thing, then feel free to incorporate this change into
your mod_python code base.

Cheers,
Marc


From marcf at becomm.com  Wed Mar 21 13:09:30 2001
From: marcf at becomm.com (Marc Fiuczynski)
Date: Fri Jan  9 21:58:49 2004
Subject: [mod_python] problem with auto_reload in apache.py
Message-ID: <A9DFD9380C01D4118E740050DA7A89703860FB@becomm-mis2.becomm.com>

Hi, 

apache.py seems to be having trouble reloading my python modules when I
update them.  This happens when apache is running with mod_python, and I
then change my python module.  It fails in several odd ways:

1) after I change my python module, mod_python will work every other time
that I use it via my browser.
2) after I change my python module, mod_python completely fails to reload
it.

In either case, if I send a HUP signal to the apache server, then everything
works just fine afterwards.



My configuration is as follows:
*	python module is being invoked via mod_python's publisher interface.
*	mod_python 2.7.2
*	python 2.0
*	apache 1.3.14
*	Red Hat Linux 7.0

I have apache configured with the following:
  AddHandler python-program .py
  PythonHandler mod_python.publisher
  PythonDebug On
  PythonNoReload Off

Can anyone provide some insight?!

Thanks,
Marc


From grisha at verio.net  Wed Mar 21 16:29:44 2001
From: grisha at verio.net (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:58:49 2004
Subject: [mod_python] problem with auto_reload in apache.py
In-Reply-To: <A9DFD9380C01D4118E740050DA7A89703860FB@becomm-mis2.becomm.com>
Message-ID: <Pine.BSF.4.32.0103211627550.79428-100000@localhost>

The reload mechanism isn't 100% reliable, and every once in a while you
will need to restart the server.

But if you're getting consistent problems, I would make sure that all the
permissions are set correctly - pay attention to what the apache server
runs as, as well as what the permissions are on the .py and .pyc files.

Grisha


On Wed, 21 Mar 2001, Marc Fiuczynski wrote:

> Hi,
>
> apache.py seems to be having trouble reloading my python modules when I
> update them.  This happens when apache is running with mod_python, and I
> then change my python module.  It fails in several odd ways:
>
> 1) after I change my python module, mod_python will work every other time
> that I use it via my browser.
> 2) after I change my python module, mod_python completely fails to reload
> it.
>
> In either case, if I send a HUP signal to the apache server, then everything
> works just fine afterwards.
>
>
>
> My configuration is as follows:
> *	python module is being invoked via mod_python's publisher interface.
> *	mod_python 2.7.2
> *	python 2.0
> *	apache 1.3.14
> *	Red Hat Linux 7.0
>
> I have apache configured with the following:
>   AddHandler python-program .py
>   PythonHandler mod_python.publisher
>   PythonDebug On
>   PythonNoReload Off
>
> Can anyone provide some insight?!
>
> Thanks,
> Marc
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From brianh at exelixis.com  Wed Mar 21 15:37:50 2001
From: brianh at exelixis.com (Brian Hawthorne)
Date: Fri Jan  9 21:58:49 2004
Subject: [mod_python] problem with auto_reload in apache.py
In-Reply-To: <A9DFD9380C01D4118E740050DA7A89703860FB@becomm-mis2.becomm.com>
Message-ID: <Pine.GSO.4.05.10103211531030.29056-100000@timeless.exelixis.com>

marc, i had very similar and equally strange problems with the
module reloading; if for example 3 different versions of the module had
been loaded since the last apache restart, it would use them in a random
repetitive sequence, like  12231321133313211223132112231321... etc.
_very_ strange.  i fixed the problem with some changes to the
mod_python.apache.import_module function.  i've included my improved
version below.

hope it helps!
brian

#---------------------------------------------------------------------
def import_module(module_name, req=None, path=None):
    """ 
    Get the module to handle the request. If
    autoreload is on, then the module will be reloaded
    if it has changed since the last import.
    """

    # get the options
    autoreload, debug = 1, None
    if req:
        config = req.get_config()
        autoreload = not config.has_key("PythonNoReload")
        debug = not config.has_key("PythonDebug")

    # try to import the module

    oldmtime = None
    mtime = None

    if  not autoreload:

        parts = string.split(module_name, '.')
        for i in range(len(parts)):
            f, p, d = imp.find_module(parts[i], path)
            try:
                mname = string.join(parts[:i+1], ".")
                module = imp.load_module(mname, f, p, d)
            finally:
                if f: f.close()
            if hasattr(module, "__path__"):
                path = module.__path__

        # import module
        #module = __import__(module_name)
        #components = string.split(module_name, '.')
        #for cmp in components[1:]:
        #    module = getattr(module, cmp)

    else:

        # keep track of file modification time and
        # try to reload it if it is newer
        if sys.modules.has_key(module_name):

            # the we won't even bother importing
            module = sys.modules[module_name]

            # does it have __mtime__ ?
            if sys.modules[module_name].__dict__.has_key("__mtime__"):
                # remember it
                oldmtime = sys.modules[ module_name ].__mtime__

        # import the module for the first time
        else:

            parts = string.split(module_name, '.')
            for i in range(len(parts)):
                f, p, d = imp.find_module(parts[i], path)
                try:
                    mname = string.join(parts[:i+1], ".")
                    module = imp.load_module(mname, f, p, d)
                finally:
                    if f: f.close()
                if hasattr(module, "__path__"):
                    path = module.__path__

##            module = __import__(module_name)
##            components = string.split(module_name, '.')
##            for cmp in components[1:]:
##                module = getattr(module, cmp)

        # find out the last modification time
        # but only if there is a __file__ attr
        if module.__dict__.has_key("__file__"):

            filepath = module.__file__

            if os.path.exists(filepath):

                mod = os.stat(filepath)
                mtime = mod[stat.ST_MTIME]

            # check also .py and take the newest
            if os.path.exists(filepath[:-1]) :

                # get the time of the .py file
                mod = os.stat(filepath[:-1])
                mtime = max(mtime, mod[stat.ST_MTIME])

    # if module is newer - reload
    if (autoreload and (oldmtime < mtime)):
        del sys.modules[module_name]
        # import the module as if for the first time
        parts = string.split(module_name, '.')
        for i in range(len(parts)):
            f, p, d = imp.find_module(parts[i], path)
            try:
                mname = string.join(parts[:i+1], ".")
                module = imp.load_module(mname, f, p, d)
            finally:
                if f: f.close()
            if hasattr(module, "__path__"):
                path = module.__path__

        #try: module = reload(module)
        #except: pass

    # save mtime
    module.__mtime__ = mtime

    return module
#---------------------------------------------------------------------

On Wed, 21 Mar 2001, Marc Fiuczynski wrote:

> Hi, 
> 
> apache.py seems to be having trouble reloading my python modules when I
> update them.  This happens when apache is running with mod_python, and I
> then change my python module.  It fails in several odd ways:
> 
> 1) after I change my python module, mod_python will work every other time
> that I use it via my browser.
> 2) after I change my python module, mod_python completely fails to reload
> it.
> 
> In either case, if I send a HUP signal to the apache server, then everything
> works just fine afterwards.
> 
> 
> 
> My configuration is as follows:
> *	python module is being invoked via mod_python's publisher interface.
> *	mod_python 2.7.2
> *	python 2.0
> *	apache 1.3.14
> *	Red Hat Linux 7.0
> 
> I have apache configured with the following:
>   AddHandler python-program .py
>   PythonHandler mod_python.publisher
>   PythonDebug On
>   PythonNoReload Off
> 
> Can anyone provide some insight?!
> 
> Thanks,
> Marc
> 
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
> 


From marcf at becomm.com  Wed Mar 21 17:58:18 2001
From: marcf at becomm.com (Marc Fiuczynski)
Date: Fri Jan  9 21:58:49 2004
Subject: [mod_python] problem with auto_reload in apache.py
Message-ID: <A9DFD9380C01D4118E740050DA7A8970386101@becomm-mis2.becomm.com>

Brian,

Your version of the code seems to make it work properly.

Thank you.

Marc

-----Original Message-----
From: Brian Hawthorne [mailto:brianh@exelixis.com]
Sent: Wednesday, March 21, 2001 3:38 PM
To: Marc Fiuczynski
Cc: 'mod_python@modpython.org'
Subject: Re: [mod_python] problem with auto_reload in apache.py


marc, i had very similar and equally strange problems with the
module reloading; if for example 3 different versions of the module had
been loaded since the last apache restart, it would use them in a random
repetitive sequence, like  12231321133313211223132112231321... etc.
_very_ strange.  i fixed the problem with some changes to the
mod_python.apache.import_module function.  i've included my improved
version below.

hope it helps!
brian

#---------------------------------------------------------------------
def import_module(module_name, req=None, path=None):
    """ 
    Get the module to handle the request. If
    autoreload is on, then the module will be reloaded
    if it has changed since the last import.
    """

    # get the options
    autoreload, debug = 1, None
    if req:
        config = req.get_config()
        autoreload = not config.has_key("PythonNoReload")
        debug = not config.has_key("PythonDebug")

    # try to import the module

    oldmtime = None
    mtime = None

    if  not autoreload:

        parts = string.split(module_name, '.')
        for i in range(len(parts)):
            f, p, d = imp.find_module(parts[i], path)
            try:
                mname = string.join(parts[:i+1], ".")
                module = imp.load_module(mname, f, p, d)
            finally:
                if f: f.close()
            if hasattr(module, "__path__"):
                path = module.__path__

        # import module
        #module = __import__(module_name)
        #components = string.split(module_name, '.')
        #for cmp in components[1:]:
        #    module = getattr(module, cmp)

    else:

        # keep track of file modification time and
        # try to reload it if it is newer
        if sys.modules.has_key(module_name):

            # the we won't even bother importing
            module = sys.modules[module_name]

            # does it have __mtime__ ?
            if sys.modules[module_name].__dict__.has_key("__mtime__"):
                # remember it
                oldmtime = sys.modules[ module_name ].__mtime__

        # import the module for the first time
        else:

            parts = string.split(module_name, '.')
            for i in range(len(parts)):
                f, p, d = imp.find_module(parts[i], path)
                try:
                    mname = string.join(parts[:i+1], ".")
                    module = imp.load_module(mname, f, p, d)
                finally:
                    if f: f.close()
                if hasattr(module, "__path__"):
                    path = module.__path__

##            module = __import__(module_name)
##            components = string.split(module_name, '.')
##            for cmp in components[1:]:
##                module = getattr(module, cmp)

        # find out the last modification time
        # but only if there is a __file__ attr
        if module.__dict__.has_key("__file__"):

            filepath = module.__file__

            if os.path.exists(filepath):

                mod = os.stat(filepath)
                mtime = mod[stat.ST_MTIME]

            # check also .py and take the newest
            if os.path.exists(filepath[:-1]) :

                # get the time of the .py file
                mod = os.stat(filepath[:-1])
                mtime = max(mtime, mod[stat.ST_MTIME])

    # if module is newer - reload
    if (autoreload and (oldmtime < mtime)):
        del sys.modules[module_name]
        # import the module as if for the first time
        parts = string.split(module_name, '.')
        for i in range(len(parts)):
            f, p, d = imp.find_module(parts[i], path)
            try:
                mname = string.join(parts[:i+1], ".")
                module = imp.load_module(mname, f, p, d)
            finally:
                if f: f.close()
            if hasattr(module, "__path__"):
                path = module.__path__

        #try: module = reload(module)
        #except: pass

    # save mtime
    module.__mtime__ = mtime

    return module
#---------------------------------------------------------------------

On Wed, 21 Mar 2001, Marc Fiuczynski wrote:

> Hi, 
> 
> apache.py seems to be having trouble reloading my python modules when I
> update them.  This happens when apache is running with mod_python, and I
> then change my python module.  It fails in several odd ways:
> 
> 1) after I change my python module, mod_python will work every other time
> that I use it via my browser.
> 2) after I change my python module, mod_python completely fails to reload
> it.
> 
> In either case, if I send a HUP signal to the apache server, then
everything
> works just fine afterwards.
> 
> 
> 
> My configuration is as follows:
> *	python module is being invoked via mod_python's publisher interface.
> *	mod_python 2.7.2
> *	python 2.0
> *	apache 1.3.14
> *	Red Hat Linux 7.0
> 
> I have apache configured with the following:
>   AddHandler python-program .py
>   PythonHandler mod_python.publisher
>   PythonDebug On
>   PythonNoReload Off
> 
> Can anyone provide some insight?!
> 
> Thanks,
> Marc
> 
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
> 

_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From rusfkk at yahoo.com  Sat Mar 24 02:12:11 2001
From: rusfkk at yahoo.com (Kirill)
Date: Fri Jan  9 21:58:49 2004
Subject: [mod_python] Ïðàâèëüíàÿ ðåãèñòðàöèÿ
Message-ID: <200103252211.f2PMBPc21389@eden.ispol.com>

??????????? ? 30 ?????????? ????????? ???????? ? ????????? - 30$.

??????????? ? 20 ????????????? ????????? ???????? ? ????????? - 20$.

??????????? ????? ? ????????? ???????? Rambler.ru, Yandex.ru
? ?????????? ?????? ????? ?? ?????? ???????? ??????? ?? ????? ????????
?????? - ??????????.

From ndonti at swbell.net  Sun Mar 25 18:36:09 2001
From: ndonti at swbell.net (Naresh Donti)
Date: Fri Jan  9 21:58:49 2004
Subject: [mod_python] mod_python and mod_ssl
Message-ID: <5.0.2.1.0.20010325183310.00a62de8@postoffice.swbell.net>

I added
SSLOptions +StdEnvVars
to the directory I am using mod_python with and noticed that the 
environment variables like HTTPS are not set.

Where should I look for these values?


From CHagner at fool.com  Tue Mar 27 13:12:57 2001
From: CHagner at fool.com (Chris Hagner)
Date: Fri Jan  9 21:58:49 2004
Subject: [mod_python] PythonImport failure
Message-ID: <13CDDE6A53DBD311BC3200508B6F0C4804DAFCFA@rover.foolhq.com>

A specific question about why PythonImport works for some modules and not
for others.

1.  The following statement works.  It compiles/imports apache.py at server
startup.

PythonImport mod_python.apache

2.  Now, when I create a dummy module in mod_python/MyObject.py

def myFunction():
    return "MyObject.myFunction()"

class MyObject:

    def __init__(self):
        pass

The following statement does not work.

PythonImport mod_pytnon.MyObject

Here's the error in error.log
[Tue Mar 27 13:07:56 2001] [error] directive_PythonImport: error import
mod_python.MyObject
TypeError: must assign list (not "string") to slice

Any help on this error msg?

BTW, the first error line appears at start up... second appears upon
immediate shutdown... probably just a buffer thing, but I thought I'd share.

3.  I also tried import a base module which worked fine.

PythonImport string

4.  But when I created a copy of string.py and simply renamed it, it didn't
work.

PythonImport copyofstring

Any thoughts on why mod_python appears to like some modules and not others?

Thanks in advance.

Chris



-----Original Message-----
From: Chris Hagner [mailto:CHagner@fool.com]
Sent: Thursday, March 15, 2001 12:07 PM
To: 'Gregory (Grisha) Trubetskoy'
Cc: 'mod_python@modpython.org'
Subject: RE: [mod_python] PythonImport failure


Thanks for the response.  For my tests, mypackage is a package named
'toolkit' and the mymodule is a module named 'brandconfig'.

Oh yeah, I'm doing this on Apache/1.3.19 (Win32) mod_python/2.7.1
Python/2.0.  I'm on Win2K (for development, sigh).

INTERACTIVE SESSION TEST:
******************************

Here's my python interactive session... the module only contains a single
variable x.

>>> import toolkit.brandconfig
>>> dir(toolkit.brandconfig)
['__builtins__', '__doc__', '__file__', '__name__', 'x']
>>> toolkit.brandconfig.x
123
>>> 

So, the module is importable in my python environment.


APACHE PYTHONIMPORT TEST:
******************************

Just to be sure, I ran the apache test again.  Here's the httpd.conf entry.
Nothing shocking.

<Directory "D:/site/brand1/htdocs">
   AddHandler python-program .py
   PythonHandler toolkit.publisher
   PythonDebug on
   PythonImport toolkit.brandconfig
</Directory>

Here's the response in the log upon starting apache.

   [Thu Mar 15 11:39:10 2001] [error] directive_PythonImport: error
importing toolkit.brandconfig

Same as before.  Now, just to be sure, I blew away the brandconfig.py file
(and the .pyc) so that it shouldn't even find it (just to see if I could get
a different error if it didn't even exist).  Result: No change.  Same error
in error.log.  Apparently, it's not even finding it.

APACHE PYTHON SCRIPT TEST:
******************************

So, it wasn't importing it on start up.  How about a python script in
mod_python?

Here's the code blurb...

	import foolkit.brandconfig
       out_string = "foolkit.brandconfig.x: %s \n"% foolkit.brandconfig.x

Did it work?  yup, the page displayed 

	foolkit.brandconfig.x: 123



Yes, I have read through the documentation and my need is to initialize a
number of objects (i.e. dbconn pool) for use throughout my applications.
Now, I am using a custom handler, so I could simply have the handler do this
initialization the first time it runs, but the PythonImport appeared to be a
code-free way to achieve this goal.  Do you all think this is a case where I
*really* need it?  If not, could someone share an example of when it really
deserves to be used?

Thanks again for the help.

Chris

-----Original Message-----
From: Gregory (Grisha) Trubetskoy [mailto:grisha@verio.net]
Sent: Thursday, March 15, 2001 11:26 AM
To: Chris Hagner
Cc: 'mod_python@modpython.org'
Subject: Re: [mod_python] PythonImport failure



Chris -

Have you tried

>>> import mypackage.mymodule

from an interactive Python session?

Also, regarding PythonPath - if you read documentation carefully, you'll
notice that it says that no other directives have any effect at the time
PythonImport is executed.

Generally, you should not use PythonImport unless you *really* need it,
which is almost never the case.

Grisha


On Thu, 15 Mar 2001, Chris Hagner wrote:

> Greetings,
>
> I'm trying to get the PythonImport command to work.  Been through the
> documentation, but it appears to want more than simply inserting
>
>    PythonImport mypackage.mymodule
>
> within my Directory tags in httd.conf.
>
> While mypackage.mymodule is under the standard python lib directory
> (therefore should be found through the sys.path), the system spat out the
> following...
>
>     ...[error] directive_PythonImport: error importing mypackage.mymodule
>
> I then moved the module to a different directory and appended that
directory
> to the sys.path using the PythonPath command (just to see if that allowed
it
> to find the module).  No luck.
>
> I've found a handful of posts from June and August of last year, but no
> posted solutions to getting the PythonImport command to work correctly.
Of
> course, there's a CVS commit with the comment "PythonImport works now" so
> I'm pretty sure it's me...
>
> As a random test, I tried a standard module...
>
>    PythonImport sys
>
> which appeared to work (no error msg), but I'm not really confident that
> this was a meaningful test.
>
> Thanks in advance.
>
> Chris
> chagner _at_ fool _dot_ com
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>
_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From grisha at verio.net  Tue Mar 27 16:00:45 2001
From: grisha at verio.net (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:58:50 2004
Subject: [mod_python] PythonImport failure
In-Reply-To: <13CDDE6A53DBD311BC3200508B6F0C4804DAFCFA@rover.foolhq.com>
Message-ID: <Pine.BSF.4.32.0103271600110.30562-100000@localhost>

Try the mod_python 2.7.2 DLL and see if the problems persist

Grisha

On Tue, 27 Mar 2001, Chris Hagner wrote:

> A specific question about why PythonImport works for some modules and not
> for others.
>
> 1.  The following statement works.  It compiles/imports apache.py at server
> startup.
>
> PythonImport mod_python.apache
>
> 2.  Now, when I create a dummy module in mod_python/MyObject.py
>
> def myFunction():
>     return "MyObject.myFunction()"
>
> class MyObject:
>
>     def __init__(self):
>         pass
>
> The following statement does not work.
>
> PythonImport mod_pytnon.MyObject
>
> Here's the error in error.log
> [Tue Mar 27 13:07:56 2001] [error] directive_PythonImport: error import
> mod_python.MyObject
> TypeError: must assign list (not "string") to slice
>
> Any help on this error msg?
>
> BTW, the first error line appears at start up... second appears upon
> immediate shutdown... probably just a buffer thing, but I thought I'd share.
>
> 3.  I also tried import a base module which worked fine.
>
> PythonImport string
>
> 4.  But when I created a copy of string.py and simply renamed it, it didn't
> work.
>
> PythonImport copyofstring
>
> Any thoughts on why mod_python appears to like some modules and not others?
>
> Thanks in advance.
>
> Chris
>
>
>
> -----Original Message-----
> From: Chris Hagner [mailto:CHagner@fool.com]
> Sent: Thursday, March 15, 2001 12:07 PM
> To: 'Gregory (Grisha) Trubetskoy'
> Cc: 'mod_python@modpython.org'
> Subject: RE: [mod_python] PythonImport failure
>
>
> Thanks for the response.  For my tests, mypackage is a package named
> 'toolkit' and the mymodule is a module named 'brandconfig'.
>
> Oh yeah, I'm doing this on Apache/1.3.19 (Win32) mod_python/2.7.1
> Python/2.0.  I'm on Win2K (for development, sigh).
>
> INTERACTIVE SESSION TEST:
> ******************************
>
> Here's my python interactive session... the module only contains a single
> variable x.
>
> >>> import toolkit.brandconfig
> >>> dir(toolkit.brandconfig)
> ['__builtins__', '__doc__', '__file__', '__name__', 'x']
> >>> toolkit.brandconfig.x
> 123
> >>>
>
> So, the module is importable in my python environment.
>
>
> APACHE PYTHONIMPORT TEST:
> ******************************
>
> Just to be sure, I ran the apache test again.  Here's the httpd.conf entry.
> Nothing shocking.
>
> <Directory "D:/site/brand1/htdocs">
>    AddHandler python-program .py
>    PythonHandler toolkit.publisher
>    PythonDebug on
>    PythonImport toolkit.brandconfig
> </Directory>
>
> Here's the response in the log upon starting apache.
>
>    [Thu Mar 15 11:39:10 2001] [error] directive_PythonImport: error
> importing toolkit.brandconfig
>
> Same as before.  Now, just to be sure, I blew away the brandconfig.py file
> (and the .pyc) so that it shouldn't even find it (just to see if I could get
> a different error if it didn't even exist).  Result: No change.  Same error
> in error.log.  Apparently, it's not even finding it.
>
> APACHE PYTHON SCRIPT TEST:
> ******************************
>
> So, it wasn't importing it on start up.  How about a python script in
> mod_python?
>
> Here's the code blurb...
>
> 	import foolkit.brandconfig
>        out_string = "foolkit.brandconfig.x: %s \n"% foolkit.brandconfig.x
>
> Did it work?  yup, the page displayed
>
> 	foolkit.brandconfig.x: 123
>
>
>
> Yes, I have read through the documentation and my need is to initialize a
> number of objects (i.e. dbconn pool) for use throughout my applications.
> Now, I am using a custom handler, so I could simply have the handler do this
> initialization the first time it runs, but the PythonImport appeared to be a
> code-free way to achieve this goal.  Do you all think this is a case where I
> *really* need it?  If not, could someone share an example of when it really
> deserves to be used?
>
> Thanks again for the help.
>
> Chris
>
> -----Original Message-----
> From: Gregory (Grisha) Trubetskoy [mailto:grisha@verio.net]
> Sent: Thursday, March 15, 2001 11:26 AM
> To: Chris Hagner
> Cc: 'mod_python@modpython.org'
> Subject: Re: [mod_python] PythonImport failure
>
>
>
> Chris -
>
> Have you tried
>
> >>> import mypackage.mymodule
>
> from an interactive Python session?
>
> Also, regarding PythonPath - if you read documentation carefully, you'll
> notice that it says that no other directives have any effect at the time
> PythonImport is executed.
>
> Generally, you should not use PythonImport unless you *really* need it,
> which is almost never the case.
>
> Grisha
>
>
> On Thu, 15 Mar 2001, Chris Hagner wrote:
>
> > Greetings,
> >
> > I'm trying to get the PythonImport command to work.  Been through the
> > documentation, but it appears to want more than simply inserting
> >
> >    PythonImport mypackage.mymodule
> >
> > within my Directory tags in httd.conf.
> >
> > While mypackage.mymodule is under the standard python lib directory
> > (therefore should be found through the sys.path), the system spat out the
> > following...
> >
> >     ...[error] directive_PythonImport: error importing mypackage.mymodule
> >
> > I then moved the module to a different directory and appended that
> directory
> > to the sys.path using the PythonPath command (just to see if that allowed
> it
> > to find the module).  No luck.
> >
> > I've found a handful of posts from June and August of last year, but no
> > posted solutions to getting the PythonImport command to work correctly.
> Of
> > course, there's a CVS commit with the comment "PythonImport works now" so
> > I'm pretty sure it's me...
> >
> > As a random test, I tried a standard module...
> >
> >    PythonImport sys
> >
> > which appeared to work (no error msg), but I'm not really confident that
> > this was a meaningful test.
> >
> > Thanks in advance.
> >
> > Chris
> > chagner _at_ fool _dot_ com
> >
> >
> > _______________________________________________
> > Mod_python mailing list
> > Mod_python@modpython.org
> > http://www.modpython.org/mailman/listinfo/mod_python
> >
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From CHagner at fool.com  Tue Mar 27 16:02:59 2001
From: CHagner at fool.com (Chris Hagner)
Date: Fri Jan  9 21:58:50 2004
Subject: [mod_python] PythonImport failure
Message-ID: <13CDDE6A53DBD311BC3200508B6F0C4804DAFCFC@rover.foolhq.com>

Actually, I was running the latest (2.7.2), but I downloaded the latest from
modpython.org just to be sure.  No change.

BTW, I'll be moving my dev environment to Linux shortly (whew), so I'll let
you know if the same issue persists.  If you have any other ideas, tests,
goose chases... I'm happy to try them out.

Thanks.

Chris

-----Original Message-----
From: Gregory (Grisha) Trubetskoy [mailto:grisha@verio.net]
Sent: Tuesday, March 27, 2001 4:01 PM
To: Chris Hagner
Cc: 'mod_python@modpython.org'
Subject: RE: [mod_python] PythonImport failure



Try the mod_python 2.7.2 DLL and see if the problems persist

Grisha

On Tue, 27 Mar 2001, Chris Hagner wrote:

> A specific question about why PythonImport works for some modules and not
> for others.
>
> 1.  The following statement works.  It compiles/imports apache.py at
server
> startup.
>
> PythonImport mod_python.apache
>
> 2.  Now, when I create a dummy module in mod_python/MyObject.py
>
> def myFunction():
>     return "MyObject.myFunction()"
>
> class MyObject:
>
>     def __init__(self):
>         pass
>
> The following statement does not work.
>
> PythonImport mod_pytnon.MyObject
>
> Here's the error in error.log
> [Tue Mar 27 13:07:56 2001] [error] directive_PythonImport: error import
> mod_python.MyObject
> TypeError: must assign list (not "string") to slice
>
> Any help on this error msg?
>
> BTW, the first error line appears at start up... second appears upon
> immediate shutdown... probably just a buffer thing, but I thought I'd
share.
>
> 3.  I also tried import a base module which worked fine.
>
> PythonImport string
>
> 4.  But when I created a copy of string.py and simply renamed it, it
didn't
> work.
>
> PythonImport copyofstring
>
> Any thoughts on why mod_python appears to like some modules and not
others?
>
> Thanks in advance.
>
> Chris
>
>
>
> -----Original Message-----
> From: Chris Hagner [mailto:CHagner@fool.com]
> Sent: Thursday, March 15, 2001 12:07 PM
> To: 'Gregory (Grisha) Trubetskoy'
> Cc: 'mod_python@modpython.org'
> Subject: RE: [mod_python] PythonImport failure
>
>
> Thanks for the response.  For my tests, mypackage is a package named
> 'toolkit' and the mymodule is a module named 'brandconfig'.
>
> Oh yeah, I'm doing this on Apache/1.3.19 (Win32) mod_python/2.7.1
> Python/2.0.  I'm on Win2K (for development, sigh).
>
> INTERACTIVE SESSION TEST:
> ******************************
>
> Here's my python interactive session... the module only contains a single
> variable x.
>
> >>> import toolkit.brandconfig
> >>> dir(toolkit.brandconfig)
> ['__builtins__', '__doc__', '__file__', '__name__', 'x']
> >>> toolkit.brandconfig.x
> 123
> >>>
>
> So, the module is importable in my python environment.
>
>
> APACHE PYTHONIMPORT TEST:
> ******************************
>
> Just to be sure, I ran the apache test again.  Here's the httpd.conf
entry.
> Nothing shocking.
>
> <Directory "D:/site/brand1/htdocs">
>    AddHandler python-program .py
>    PythonHandler toolkit.publisher
>    PythonDebug on
>    PythonImport toolkit.brandconfig
> </Directory>
>
> Here's the response in the log upon starting apache.
>
>    [Thu Mar 15 11:39:10 2001] [error] directive_PythonImport: error
> importing toolkit.brandconfig
>
> Same as before.  Now, just to be sure, I blew away the brandconfig.py file
> (and the .pyc) so that it shouldn't even find it (just to see if I could
get
> a different error if it didn't even exist).  Result: No change.  Same
error
> in error.log.  Apparently, it's not even finding it.
>
> APACHE PYTHON SCRIPT TEST:
> ******************************
>
> So, it wasn't importing it on start up.  How about a python script in
> mod_python?
>
> Here's the code blurb...
>
> 	import foolkit.brandconfig
>        out_string = "foolkit.brandconfig.x: %s \n"% foolkit.brandconfig.x
>
> Did it work?  yup, the page displayed
>
> 	foolkit.brandconfig.x: 123
>
>
>
> Yes, I have read through the documentation and my need is to initialize a
> number of objects (i.e. dbconn pool) for use throughout my applications.
> Now, I am using a custom handler, so I could simply have the handler do
this
> initialization the first time it runs, but the PythonImport appeared to be
a
> code-free way to achieve this goal.  Do you all think this is a case where
I
> *really* need it?  If not, could someone share an example of when it
really
> deserves to be used?
>
> Thanks again for the help.
>
> Chris
>
> -----Original Message-----
> From: Gregory (Grisha) Trubetskoy [mailto:grisha@verio.net]
> Sent: Thursday, March 15, 2001 11:26 AM
> To: Chris Hagner
> Cc: 'mod_python@modpython.org'
> Subject: Re: [mod_python] PythonImport failure
>
>
>
> Chris -
>
> Have you tried
>
> >>> import mypackage.mymodule
>
> from an interactive Python session?
>
> Also, regarding PythonPath - if you read documentation carefully, you'll
> notice that it says that no other directives have any effect at the time
> PythonImport is executed.
>
> Generally, you should not use PythonImport unless you *really* need it,
> which is almost never the case.
>
> Grisha
>
>
> On Thu, 15 Mar 2001, Chris Hagner wrote:
>
> > Greetings,
> >
> > I'm trying to get the PythonImport command to work.  Been through the
> > documentation, but it appears to want more than simply inserting
> >
> >    PythonImport mypackage.mymodule
> >
> > within my Directory tags in httd.conf.
> >
> > While mypackage.mymodule is under the standard python lib directory
> > (therefore should be found through the sys.path), the system spat out
the
> > following...
> >
> >     ...[error] directive_PythonImport: error importing
mypackage.mymodule
> >
> > I then moved the module to a different directory and appended that
> directory
> > to the sys.path using the PythonPath command (just to see if that
allowed
> it
> > to find the module).  No luck.
> >
> > I've found a handful of posts from June and August of last year, but no
> > posted solutions to getting the PythonImport command to work correctly.
> Of
> > course, there's a CVS commit with the comment "PythonImport works now"
so
> > I'm pretty sure it's me...
> >
> > As a random test, I tried a standard module...
> >
> >    PythonImport sys
> >
> > which appeared to work (no error msg), but I'm not really confident that
> > this was a meaningful test.
> >
> > Thanks in advance.
> >
> > Chris
> > chagner _at_ fool _dot_ com
> >
> >
> > _______________________________________________
> > Mod_python mailing list
> > Mod_python@modpython.org
> > http://www.modpython.org/mailman/listinfo/mod_python
> >
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>

_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From traylen at ccdc.cam.ac.uk  Wed Mar 28 18:24:23 2001
From: traylen at ccdc.cam.ac.uk (Steve Traylen)
Date: Fri Jan  9 21:58:50 2004
Subject: [mod_python] Compile on Solaris
Message-ID: <Pine.GSO.4.05.10103281821090.18392-100000@sun23.ccdc.cam.ac.uk>

I am trying to do a static build of mod_python on solaris.
but at the linking time to form httpd demon the compile fails
with a lot of undefined functions in libpython.a .

Does anyone have any ideas.

Below is the out put.

Much appreciated.

 Steve
 http://nrich.maths.org/~smt32/


===> os/unix
<=== os/unix
===> ap
<=== ap
===> main
<=== main
===> lib
===> lib/expat-lite
<=== lib/expat-lite
<=== lib
===> modules
===> modules/standard
<=== modules/standard
===> modules/ssl
<=== modules/ssl
===> modules/perl
<=== modules/perl
===> modules/python
mksh: Warning: newline is not last character in file Makefile
Current working directory /usr/local/src/apache_1.3.19/src/modules/python
<=== modules/python
<=== modules
gcc -c -I. -I/usr/local/lib/perl5/5.6.0/sun4-solaris/CORE -I/usr/local/include -I./os/unix -I./include   -DSOLARIS2=280 -DMOD_SSL=208101 -DMOD_PERL -DUSE_PERL_SSI -fno-strict-aliasing -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DEAPI -DEAPI_MM -DUSE_EXPAT -I./lib/expat-lite -DNO_DL_NEEDED `./apaci` modules.c
gcc -c -I. -I/usr/local/lib/perl5/5.6.0/sun4-solaris/CORE -I/usr/local/include -I./os/unix -I./include   -DSOLARIS2=280 -DMOD_SSL=208101 -DMOD_PERL -DUSE_PERL_SSI -fno-strict-aliasing -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DEAPI -DEAPI_MM -DUSE_EXPAT -I./lib/expat-lite -DNO_DL_NEEDED `./apaci` buildmark.c
gcc  -DSOLARIS2=280 -DMOD_SSL=208101 -DMOD_PERL -DUSE_PERL_SSI -fno-strict-aliasing -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DEAPI -DEAPI_MM -DUSE_EXPAT -I./lib/expat-lite -DNO_DL_NEEDED `./apaci` -L/usr/local/lib -L/usr/local/lib   \
      -o httpd buildmark.o modules.o  modules/ssl/libssl.a  modules/perl/libperl.a  modules/python/libpython.a  modules/standard/libstandard.a  main/libmain.a  ./os/unix/libos.a  ap/libap.a  lib/expat-lite/libexpat.a  -lsocket -lnsl  -lssl -lcrypto  -Wl,-E  -L/usr/local/lib  /usr/local/lib/perl5/5.6.0/sun4-solaris/auto/DynaLoader/DynaLoader.a -L/usr/local/lib/perl5/5.6.0/sun4-solaris/CORE -lperl -lsocket -lnsl -lgdbm -ldl -lm -lc -lcrypt -lsec  -lmm
modules/python/libpython.a(mod_python.o): In function `make_interpreter':
mod_python.o(.text+0xc): undefined reference to `Py_NewInterpreter'
mod_python.o(.text+0x74): undefined reference to `PyThreadState_Swap'
modules/python/libpython.a(mod_python.o): In function `get_interpreter_data':
mod_python.o(.text+0xd4): undefined reference to `PyDict_GetItemString'
mod_python.o(.text+0x140): undefined reference to `PyCObject_FromVoidPtr'
mod_python.o(.text+0x160): undefined reference to `PyDict_SetItemString'
mod_python.o(.text+0x174): undefined reference to `PyCObject_AsVoidPtr'
modules/python/libpython.a(mod_python.o): In function `python_cleanup':
mod_python.o(.text+0x36c): undefined reference to `PyThreadState_New'
mod_python.o(.text+0x37c): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x39c): undefined reference to `PyObject_CallFunction'
mod_python.o(.text+0x3bc): undefined reference to `PyErr_Fetch'
mod_python.o(.text+0x3cc): undefined reference to `PyObject_Str'
mod_python.o(.text+0x3dc): undefined reference to `PyObject_Str'
mod_python.o(.text+0x3ec): undefined reference to `PyObject_Str'
mod_python.o(.text+0x4ec): undefined reference to `PyString_AsString'
mod_python.o(.text+0x520): undefined reference to `PyString_AsString'
mod_python.o(.text+0x530): undefined reference to `PyString_AsString'
mod_python.o(.text+0x578): undefined reference to `PyString_AsString'
mod_python.o(.text+0x5ac): undefined reference to `PyString_AsString'
modules/python/libpython.a(mod_python.o)(.text+0x5bc): more undefined references to `PyString_AsString' follow
modules/python/libpython.a(mod_python.o): In function `python_cleanup':
mod_python.o(.text+0x6d0): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x6dc): undefined reference to `PyThreadState_Delete'
modules/python/libpython.a(mod_python.o): In function `python_init':
mod_python.o(.text+0x7dc): undefined reference to `Py_GetVersion'
mod_python.o(.text+0x824): undefined reference to `Py_IsInitialized'
mod_python.o(.text+0x838): undefined reference to `Py_Initialize'
mod_python.o(.text+0x844): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x84c): undefined reference to `PyDict_New'
modules/python/libpython.a(mod_python.o): In function `make_obcallback':
mod_python.o(.text+0xd2c): undefined reference to `PyImport_ImportModule'
mod_python.o(.text+0xd78): undefined reference to `PyObject_CallMethod'
modules/python/libpython.a(mod_python.o): In function `get_request_object':
mod_python.o(.text+0xe98): undefined reference to `PyEval_SaveThread'
mod_python.o(.text+0xeb4): undefined reference to `PyEval_RestoreThread'
mod_python.o(.text+0xf20): undefined reference to `PyEval_SaveThread'
mod_python.o(.text+0xf3c): undefined reference to `PyEval_RestoreThread'
modules/python/libpython.a(mod_python.o): In function `python_handler':
mod_python.o(.text+0x12bc): undefined reference to `PyThreadState_New'
mod_python.o(.text+0x12cc): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x1334): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x1340): undefined reference to `PyThreadState_Delete'
mod_python.o(.text+0x1570): undefined reference to `PyObject_CallMethod'
mod_python.o(.text+0x1580): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x158c): undefined reference to `PyThreadState_Delete'
mod_python.o(.text+0x15e4): undefined reference to `PyInt_Type'
mod_python.o(.text+0x15e8): undefined reference to `PyInt_Type'
mod_python.o(.text+0x1634): undefined reference to `PyInt_AsLong'
modules/python/libpython.a(mod_python.o): In function `python_cleanup_handler':
mod_python.o(.text+0x1978): undefined reference to `PyThreadState_New'
mod_python.o(.text+0x1988): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x19f0): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x19fc): undefined reference to `PyThreadState_Delete'
mod_python.o(.text+0x1b94): undefined reference to `PyObject_CallMethod'
mod_python.o(.text+0x1ba0): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x1bac): undefined reference to `PyThreadState_Delete'
modules/python/libpython.a(mod_python.o): In function `directive_PythonOptimize':
mod_python.o(.text+0x21c8): undefined reference to `Py_OptimizeFlag'
mod_python.o(.text+0x21cc): undefined reference to `Py_OptimizeFlag'
mod_python.o(.text+0x21e0): undefined reference to `Py_OptimizeFlag'
mod_python.o(.text+0x21e4): undefined reference to `Py_OptimizeFlag'
modules/python/libpython.a(mod_python.o): In function `python_finalize':
mod_python.o(.text+0x2568): undefined reference to `PyThreadState_New'
mod_python.o(.text+0x2578): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x2580): undefined reference to `Py_Finalize'
modules/python/libpython.a(mod_python.o): In function `PythonChildInitHandler':
mod_python.o(.text+0x26bc): undefined reference to `PyThreadState_New'
mod_python.o(.text+0x26cc): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x2734): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x2740): undefined reference to `PyThreadState_Delete'
mod_python.o(.text+0x2768): undefined reference to `PyImport_ImportModule'
mod_python.o(.text+0x2780): undefined reference to `PyObject_GetAttrString'
mod_python.o(.text+0x2790): undefined reference to `PyString_FromString'
mod_python.o(.text+0x27a4): undefined reference to `PySequence_Index'
mod_python.o(.text+0x27c8): undefined reference to `PyList_SetSlice'
mod_python.o(.text+0x28ac): undefined reference to `PyImport_ImportModule'
mod_python.o(.text+0x28c0): undefined reference to `PyErr_Occurred'
mod_python.o(.text+0x28d4): undefined reference to `PyErr_Print'
mod_python.o(.text+0x2908): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x2914): undefined reference to `PyThreadState_Delete'
modules/python/libpython.a(_apachemodule.o): In function `log_error':
_apachemodule.o(.text+0x30): undefined reference to `PyArg_ParseTuple'
_apachemodule.o(.text+0xb0): undefined reference to `PyErr_BadArgument'
_apachemodule.o(.text+0xf8): undefined reference to `_Py_NoneStruct'
_apachemodule.o(.text+0xfc): undefined reference to `_Py_NoneStruct'
_apachemodule.o(.text+0x100): undefined reference to `_Py_NoneStruct'
_apachemodule.o(.text+0x104): undefined reference to `_Py_NoneStruct'
_apachemodule.o(.text+0x108): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(_apachemodule.o)(.text+0x10c): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(_apachemodule.o): In function `parse_qs':
_apachemodule.o(.text+0x188): undefined reference to `PyArg_ParseTuple'
_apachemodule.o(.text+0x1ac): undefined reference to `PyList_New'
_apachemodule.o(.text+0x210): undefined reference to `PyString_FromStringAndSize'
_apachemodule.o(.text+0x32c): undefined reference to `_PyString_Resize'
_apachemodule.o(.text+0x33c): undefined reference to `PyList_Append'
_apachemodule.o(.text+0x3a0): undefined reference to `PyDict_New'
_apachemodule.o(.text+0x3cc): undefined reference to `PyList_Size'
_apachemodule.o(.text+0x43c): undefined reference to `PyString_FromStringAndSize'
_apachemodule.o(.text+0x46c): undefined reference to `PyString_FromStringAndSize'
_apachemodule.o(.text+0x620): undefined reference to `_PyString_Resize'
_apachemodule.o(.text+0x640): undefined reference to `_PyString_Resize'
_apachemodule.o(.text+0x650): undefined reference to `PyMapping_HasKeyString'
_apachemodule.o(.text+0x66c): undefined reference to `PyDict_GetItem'
_apachemodule.o(.text+0x680): undefined reference to `PyList_Append'
_apachemodule.o(.text+0x69c): undefined reference to `Py_BuildValue'
_apachemodule.o(.text+0x6b4): undefined reference to `PyDict_SetItem'
modules/python/libpython.a(_apachemodule.o): In function `parse_qsl':
_apachemodule.o(.text+0x834): undefined reference to `PyArg_ParseTuple'
_apachemodule.o(.text+0x858): undefined reference to `PyList_New'
_apachemodule.o(.text+0x8b8): undefined reference to `PyString_FromStringAndSize'
_apachemodule.o(.text+0x9e8): undefined reference to `_PyString_Resize'
_apachemodule.o(.text+0xa08): undefined reference to `PyString_FromStringAndSize'
_apachemodule.o(.text+0xa38): undefined reference to `PyString_FromStringAndSize'
_apachemodule.o(.text+0xbec): undefined reference to `_PyString_Resize'
_apachemodule.o(.text+0xc0c): undefined reference to `_PyString_Resize'
_apachemodule.o(.text+0xc24): undefined reference to `Py_BuildValue'
_apachemodule.o(.text+0xc34): undefined reference to `PyList_Append'
modules/python/libpython.a(_apachemodule.o): In function `init_apache':
_apachemodule.o(.text+0xd4c): undefined reference to `PyType_Type'
_apachemodule.o(.text+0xd50): undefined reference to `PyType_Type'
_apachemodule.o(.text+0xd60): undefined reference to `PyType_Type'
_apachemodule.o(.text+0xd64): undefined reference to `PyType_Type'
_apachemodule.o(.text+0xd74): undefined reference to `PyType_Type'
modules/python/libpython.a(_apachemodule.o)(.text+0xd78): more undefined references to `PyType_Type' follow
modules/python/libpython.a(_apachemodule.o): In function `init_apache':
_apachemodule.o(.text+0xdb0): undefined reference to `Py_InitModule4'
_apachemodule.o(.text+0xdc0): undefined reference to `PyModule_GetDict'
_apachemodule.o(.text+0xddc): undefined reference to `PyErr_NewException'
_apachemodule.o(.text+0xe28): undefined reference to `PyDict_SetItemString'
modules/python/libpython.a(requestobject.o): In function `MpRequest_FromRequest':
requestobject.o(.text+0x98): undefined reference to `PyErr_NoMemory'
modules/python/libpython.a(requestobject.o): In function `req_add_common_vars':
requestobject.o(.text+0x1fc): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x200): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x204): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x208): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x20c): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(requestobject.o)(.text+0x210): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(requestobject.o): In function `req_add_handler':
requestobject.o(.text+0x3f0): undefined reference to `PyArg_ParseTuple'
requestobject.o(.text+0x428): undefined reference to `PyExc_IndexError'
requestobject.o(.text+0x42c): undefined reference to `PyExc_IndexError'
requestobject.o(.text+0x458): undefined reference to `PyErr_SetString'
requestobject.o(.text+0x6d0): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x6d4): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x6d8): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x6dc): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x6e0): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(requestobject.o)(.text+0x6e4): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(requestobject.o): In function `req_get_basic_auth_pw':
requestobject.o(.text+0xb60): undefined reference to `PyString_FromString'
requestobject.o(.text+0xb7c): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0xb80): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0xb84): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0xb88): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0xb8c): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(requestobject.o)(.text+0xb90): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(requestobject.o): In function `req_get_remote_host':
requestobject.o(.text+0xc94): undefined reference to `PyArg_ParseTuple'
requestobject.o(.text+0xcec): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0xcf0): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0xcf4): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0xcf8): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0xcfc): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(requestobject.o)(.text+0xd00): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(requestobject.o): In function `req_get_remote_host':
requestobject.o(.text+0xd2c): undefined reference to `PyString_FromString'
modules/python/libpython.a(requestobject.o): In function `req_read':
requestobject.o(.text+0xdcc): undefined reference to `PyArg_ParseTuple'
requestobject.o(.text+0xe04): undefined reference to `PyString_FromString'
requestobject.o(.text+0xe5c): undefined reference to `PyInt_FromLong'
requestobject.o(.text+0xe94): undefined reference to `PyErr_SetObject'
requestobject.o(.text+0xf14): undefined reference to `PyString_FromString'
requestobject.o(.text+0xf68): undefined reference to `PyString_FromStringAndSize'
requestobject.o(.text+0x1114): undefined reference to `PyExc_IOError'
requestobject.o(.text+0x1118): undefined reference to `PyExc_IOError'
requestobject.o(.text+0x1124): undefined reference to `PyString_FromString'
requestobject.o(.text+0x1134): undefined reference to `PyErr_SetObject'
requestobject.o(.text+0x1198): undefined reference to `_PyString_Resize'
modules/python/libpython.a(requestobject.o): In function `req_readline':
requestobject.o(.text+0x11f8): undefined reference to `PyArg_ParseTuple'
requestobject.o(.text+0x1230): undefined reference to `PyString_FromString'
requestobject.o(.text+0x1288): undefined reference to `PyInt_FromLong'
requestobject.o(.text+0x12c0): undefined reference to `PyErr_SetObject'
requestobject.o(.text+0x1340): undefined reference to `PyString_FromString'
requestobject.o(.text+0x1394): undefined reference to `PyString_FromStringAndSize'
requestobject.o(.text+0x14b0): undefined reference to `_PyString_Resize'
requestobject.o(.text+0x1550): undefined reference to `PyErr_NoMemory'
requestobject.o(.text+0x1648): undefined reference to `PyExc_IOError'
requestobject.o(.text+0x164c): undefined reference to `PyExc_IOError'
requestobject.o(.text+0x1658): undefined reference to `PyString_FromString'
requestobject.o(.text+0x1668): undefined reference to `PyErr_SetObject'
requestobject.o(.text+0x179c): undefined reference to `_PyString_Resize'
modules/python/libpython.a(requestobject.o): In function `req_register_cleanup':
requestobject.o(.text+0x17fc): undefined reference to `PyArg_ParseTuple'
requestobject.o(.text+0x1854): undefined reference to `PyCallable_Check'
requestobject.o(.text+0x18ec): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x18f0): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x18f4): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x18f8): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x18fc): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(requestobject.o)(.text+0x1900): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(requestobject.o): In function `req_register_cleanup':
requestobject.o(.text+0x1928): undefined reference to `PyExc_ValueError'
requestobject.o(.text+0x192c): undefined reference to `PyExc_ValueError'
requestobject.o(.text+0x193c): undefined reference to `PyErr_SetString'
requestobject.o(.text+0x1984): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x1988): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x198c): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x1990): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x1994): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(requestobject.o)(.text+0x1998): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(requestobject.o): In function `req_write':
requestobject.o(.text+0x1a58): undefined reference to `PyArg_ParseTuple'
requestobject.o(.text+0x1ab4): undefined reference to `PyExc_IOError'
requestobject.o(.text+0x1ab8): undefined reference to `PyExc_IOError'
requestobject.o(.text+0x1ac8): undefined reference to `PyErr_SetString'
requestobject.o(.text+0x1adc): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x1ae0): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x1ae4): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x1ae8): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x1aec): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(requestobject.o)(.text+0x1af0): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(requestobject.o): In function `request_getattr':
requestobject.o(.text+0x2000): undefined reference to `Py_FindMethod'
requestobject.o(.text+0x202c): undefined reference to `PyErr_Clear'
requestobject.o(.text+0x2080): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x2084): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x2088): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x208c): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x2090): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(requestobject.o)(.text+0x2094): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(requestobject.o): In function `request_getattr':
requestobject.o(.text+0x2838): undefined reference to `PyString_FromString'
requestobject.o(.text+0x287c): undefined reference to `PyInt_FromLong'
requestobject.o(.text+0x28ac): undefined reference to `PyMember_Get'
modules/python/libpython.a(requestobject.o): In function `request_setattr':
requestobject.o(.text+0x28e8): undefined reference to `PyExc_AttributeError'
requestobject.o(.text+0x28ec): undefined reference to `PyExc_AttributeError'
requestobject.o(.text+0x28fc): undefined reference to `PyErr_SetString'
requestobject.o(.text+0x2944): undefined reference to `PyString_AsString'
requestobject.o(.text+0x29b4): undefined reference to `PyString_AsString'
requestobject.o(.text+0x2a18): undefined reference to `PyString_AsString'
requestobject.o(.text+0x2a64): undefined reference to `PyMember_Set'
modules/python/libpython.a(tableobject.o): In function `MpTable_FromTable':
tableobject.o(.text+0x28): undefined reference to `PyErr_NoMemory'
modules/python/libpython.a(tableobject.o): In function `tablegetitem':
tableobject.o(.text+0x118): undefined reference to `PyString_AsString'
tableobject.o(.text+0x14c): undefined reference to `PyExc_KeyError'
tableobject.o(.text+0x150): undefined reference to `PyExc_KeyError'
tableobject.o(.text+0x15c): undefined reference to `PyErr_SetObject'
tableobject.o(.text+0x174): undefined reference to `PyString_FromString'
modules/python/libpython.a(tableobject.o): In function `tablesetitem':
tableobject.o(.text+0x1b8): undefined reference to `PyString_Type'
tableobject.o(.text+0x1bc): undefined reference to `PyString_Type'
tableobject.o(.text+0x1cc): undefined reference to `PyExc_TypeError'
tableobject.o(.text+0x1d0): undefined reference to `PyExc_TypeError'
tableobject.o(.text+0x1e0): undefined reference to `PyErr_SetString'
tableobject.o(.text+0x1f8): undefined reference to `PyString_AsString'
tableobject.o(.text+0x208): undefined reference to `_Py_NoneStruct'
tableobject.o(.text+0x20c): undefined reference to `_Py_NoneStruct'
tableobject.o(.text+0x268): undefined reference to `PyString_Type'
tableobject.o(.text+0x26c): undefined reference to `PyString_Type'
tableobject.o(.text+0x27c): undefined reference to `PyExc_TypeError'
tableobject.o(.text+0x280): undefined reference to `PyExc_TypeError'
tableobject.o(.text+0x290): undefined reference to `PyErr_SetString'
tableobject.o(.text+0x2ac): undefined reference to `PyString_AsString'
modules/python/libpython.a(tableobject.o): In function `table_keys':
tableobject.o(.text+0x304): undefined reference to `PyList_New'
tableobject.o(.text+0x374): undefined reference to `PyString_FromString'
tableobject.o(.text+0x38c): undefined reference to `PyList_SetItem'
modules/python/libpython.a(tableobject.o): In function `table_has_key':
tableobject.o(.text+0x3e8): undefined reference to `PyArg_ParseTuple'
tableobject.o(.text+0x434): undefined reference to `PyInt_FromLong'
tableobject.o(.text+0x454): undefined reference to `PyInt_FromLong'
modules/python/libpython.a(tableobject.o): In function `table_add':
tableobject.o(.text+0x490): undefined reference to `PyArg_ParseTuple'
tableobject.o(.text+0x4c8): undefined reference to `_Py_NoneStruct'
tableobject.o(.text+0x4cc): undefined reference to `_Py_NoneStruct'
tableobject.o(.text+0x4d0): undefined reference to `_Py_NoneStruct'
tableobject.o(.text+0x4d4): undefined reference to `_Py_NoneStruct'
tableobject.o(.text+0x4d8): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(tableobject.o)(.text+0x4dc): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(tableobject.o): In function `table_getattr':
tableobject.o(.text+0x560): undefined reference to `Py_FindMethod'
modules/python/libpython.a(tableobject.o): In function `table_repr':
tableobject.o(.text+0x58c): undefined reference to `PyString_FromString'
tableobject.o(.text+0x5d8): undefined reference to `PyString_FromString'
tableobject.o(.text+0x5e8): undefined reference to `PyString_ConcatAndDel'
tableobject.o(.text+0x648): undefined reference to `PyString_FromString'
tableobject.o(.text+0x658): undefined reference to `PyString_ConcatAndDel'
tableobject.o(.text+0x67c): undefined reference to `PyString_FromString'
tableobject.o(.text+0x68c): undefined reference to `PyString_ConcatAndDel'
tableobject.o(.text+0x6a0): undefined reference to `PyString_FromString'
tableobject.o(.text+0x6b0): undefined reference to `PyString_ConcatAndDel'
tableobject.o(.text+0x6d4): undefined reference to `PyString_FromString'
tableobject.o(.text+0x6e4): undefined reference to `PyString_ConcatAndDel'
tableobject.o(.text+0x6f8): undefined reference to `PyString_FromString'
tableobject.o(.text+0x708): undefined reference to `PyString_ConcatAndDel'
tableobject.o(.text+0x72c): undefined reference to `PyString_FromString'
tableobject.o(.text+0x73c): undefined reference to `PyString_ConcatAndDel'
tableobject.o(.text+0x758): undefined reference to `PyString_FromString'
tableobject.o(.text+0x768): undefined reference to `PyString_ConcatAndDel'
modules/python/libpython.a(util.o): In function `tuple_from_array_header':
util.o(.text+0x18): undefined reference to `_Py_NoneStruct'
util.o(.text+0x1c): undefined reference to `_Py_NoneStruct'
util.o(.text+0x20): undefined reference to `_Py_NoneStruct'
util.o(.text+0x24): undefined reference to `_Py_NoneStruct'
util.o(.text+0x28): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(util.o)(.text+0x2c): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(util.o): In function `tuple_from_array_header':
util.o(.text+0x5c): undefined reference to `PyTuple_New'
util.o(.text+0xb0): undefined reference to `PyString_FromString'
util.o(.text+0xc4): undefined reference to `PyTuple_SetItem'
modules/python/libpython.a(serverobject.o): In function `MpServer_FromServer':
serverobject.o(.text+0x28): undefined reference to `PyErr_NoMemory'
modules/python/libpython.a(serverobject.o): In function `server_register_cleanup':
serverobject.o(.text+0xb8): undefined reference to `PyArg_ParseTuple'
serverobject.o(.text+0xe4): undefined reference to `PyObject_HasAttrString'
serverobject.o(.text+0xf8): undefined reference to `PyExc_ValueError'
serverobject.o(.text+0xfc): undefined reference to `PyExc_ValueError'
serverobject.o(.text+0x10c): undefined reference to `PyErr_SetString'
serverobject.o(.text+0x134): undefined reference to `PyObject_GetAttrString'
serverobject.o(.text+0x15c): undefined reference to `PyExc_ValueError'
serverobject.o(.text+0x160): undefined reference to `PyExc_ValueError'
serverobject.o(.text+0x170): undefined reference to `PyErr_SetString'
serverobject.o(.text+0x190): undefined reference to `PyCallable_Check'
serverobject.o(.text+0x1a4): undefined reference to `PyExc_ValueError'
serverobject.o(.text+0x1a8): undefined reference to `PyExc_ValueError'
serverobject.o(.text+0x1b8): undefined reference to `PyErr_SetString'
serverobject.o(.text+0x278): undefined reference to `_Py_NoneStruct'
serverobject.o(.text+0x27c): undefined reference to `_Py_NoneStruct'
serverobject.o(.text+0x280): undefined reference to `_Py_NoneStruct'
serverobject.o(.text+0x284): undefined reference to `_Py_NoneStruct'
serverobject.o(.text+0x288): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(serverobject.o)(.text+0x28c): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(serverobject.o): In function `server_getattr':
serverobject.o(.text+0x3c0): undefined reference to `Py_FindMethod'
serverobject.o(.text+0x3ec): undefined reference to `PyErr_Clear'
serverobject.o(.text+0x440): undefined reference to `_Py_NoneStruct'
serverobject.o(.text+0x444): undefined reference to `_Py_NoneStruct'
serverobject.o(.text+0x448): undefined reference to `_Py_NoneStruct'
serverobject.o(.text+0x44c): undefined reference to `_Py_NoneStruct'
serverobject.o(.text+0x450): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(serverobject.o)(.text+0x454): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(serverobject.o): In function `server_getattr':
serverobject.o(.text+0x554): undefined reference to `PyInt_FromLong'
serverobject.o(.text+0x614): undefined reference to `PyMember_Get'
modules/python/libpython.a(connobject.o): In function `MpConn_FromConn':
connobject.o(.text+0x28): undefined reference to `PyErr_NoMemory'
modules/python/libpython.a(connobject.o): In function `makeipaddr':
connobject.o(.text+0x1f4): undefined reference to `PyString_FromString'
modules/python/libpython.a(connobject.o): In function `makesockaddr':
connobject.o(.text+0x258): undefined reference to `Py_BuildValue'
modules/python/libpython.a(connobject.o): In function `conn_getattr':
connobject.o(.text+0x31c): undefined reference to `_Py_NoneStruct'
connobject.o(.text+0x320): undefined reference to `_Py_NoneStruct'
connobject.o(.text+0x324): undefined reference to `_Py_NoneStruct'
connobject.o(.text+0x328): undefined reference to `_Py_NoneStruct'
connobject.o(.text+0x32c): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(connobject.o)(.text+0x330): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(connobject.o): In function `conn_getattr':
connobject.o(.text+0x5c4): undefined reference to `PyMember_Get'
modules/python/libpython.a(connobject.o): In function `conn_setattr':
connobject.o(.text+0x600): undefined reference to `PyExc_AttributeError'
connobject.o(.text+0x604): undefined reference to `PyExc_AttributeError'
connobject.o(.text+0x614): undefined reference to `PyErr_SetString'
connobject.o(.text+0x65c): undefined reference to `PyString_AsString'
connobject.o(.text+0x6ac): undefined reference to `PyMember_Set'
collect2: ld returned 1 exit status
*** Error code 1
make: Fatal error: Command failed for target `target_static'
-- 
Steve Traylen, Systems Engineer
http://www.ccdc.cam.ac.uk/


From joost.damad at siemens.atea.be  Thu Mar 29 10:06:16 2001
From: joost.damad at siemens.atea.be (Joost Yervante Damad)
Date: Fri Jan  9 21:58:50 2004
Subject: [mod_python] Compile on Solaris
In-Reply-To: <Pine.GSO.4.05.10103281821090.18392-100000@sun23.ccdc.cam.ac.uk>; from traylen@ccdc.cam.ac.uk on Wed, Mar 28, 2001 at 06:24:23PM +0100
References: <Pine.GSO.4.05.10103281821090.18392-100000@sun23.ccdc.cam.ac.uk>
Message-ID: <20010329100616.A12636@siemens.atea.be>

You also need the embedded python interpreter
linked into apache, e.g.: lib/python2.0/config/libpython2.0.a

This failed for me too, soo I did some hacks in the makefiles
to force apache to link along the python embedded interpreter.

Hope this helps...

'Steve Traylen' wrote about '[mod_python] Compile on Solaris' - Wed, Mar 28, 2001 at 07:24:23PM CEST
> 
> I am trying to do a static build of mod_python on solaris.
> but at the linking time to form httpd demon the compile fails
> with a lot of undefined functions in libpython.a .
> 
> Does anyone have any ideas.
> 
> Below is the out put.
> 
> Much appreciated.
> 
>  Steve
>  http://nrich.maths.org/~smt32/
> 
> 
> ===> os/unix
> <=== os/unix
> ===> ap
> <=== ap
> ===> main
> <=== main
> ===> lib
> ===> lib/expat-lite
> <=== lib/expat-lite
> <=== lib
> ===> modules
> ===> modules/standard
> <=== modules/standard
> ===> modules/ssl
> <=== modules/ssl
> ===> modules/perl
> <=== modules/perl
> ===> modules/python
> mksh: Warning: newline is not last character in file Makefile
> Current working directory /usr/local/src/apache_1.3.19/src/modules/python
> <=== modules/python
> <=== modules
> gcc -c -I. -I/usr/local/lib/perl5/5.6.0/sun4-solaris/CORE -I/usr/local/include -I./os/unix -I./include   -DSOLARIS2=280 -DMOD_SSL=208101 -DMOD_PERL -DUSE_PERL_SSI -fno-strict-aliasing -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DEAPI -DEAPI_MM -DUSE_EXPAT -I./lib/expat-lite -DNO_DL_NEEDED `./apaci` modules.c
> gcc -c -I. -I/usr/local/lib/perl5/5.6.0/sun4-solaris/CORE -I/usr/local/include -I./os/unix -I./include   -DSOLARIS2=280 -DMOD_SSL=208101 -DMOD_PERL -DUSE_PERL_SSI -fno-strict-aliasing -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DEAPI -DEAPI_MM -DUSE_EXPAT -I./lib/expat-lite -DNO_DL_NEEDED `./apaci` buildmark.c
> gcc  -DSOLARIS2=280 -DMOD_SSL=208101 -DMOD_PERL -DUSE_PERL_SSI -fno-strict-aliasing -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DEAPI -DEAPI_MM -DUSE_EXPAT -I./lib/expat-lite -DNO_DL_NEEDED `./apaci` -L/usr/local/lib -L/usr/local/lib   \
>       -o httpd buildmark.o modules.o  modules/ssl/libssl.a  modules/perl/libperl.a  modules/python/libpython.a  modules/standard/libstandard.a  main/libmain.a  ./os/unix/libos.a  ap/libap.a  lib/expat-lite/libexpat.a  -lsocket -lnsl  -lssl -lcrypto  -Wl,-E  -L/usr/local/lib  /usr/local/lib/perl5/5.6.0/sun4-solaris/auto/DynaLoader/DynaLoader.a -L/usr/local/lib/perl5/5.6.0/sun4-solaris/CORE -lperl -lsocket -lnsl -lgdbm -ldl -lm -lc -lcrypt -lsec  -lmm
> modules/python/libpython.a(mod_python.o): In function `make_interpreter':
> mod_python.o(.text+0xc): undefined reference to `Py_NewInterpreter'
> mod_python.o(.text+0x74): undefined reference to `PyThreadState_Swap'
> modules/python/libpython.a(mod_python.o): In function `get_interpreter_data':
> mod_python.o(.text+0xd4): undefined reference to `PyDict_GetItemString'
> mod_python.o(.text+0x140): undefined reference to `PyCObject_FromVoidPtr'
> mod_python.o(.text+0x160): undefined reference to `PyDict_SetItemString'
> mod_python.o(.text+0x174): undefined reference to `PyCObject_AsVoidPtr'
> modules/python/libpython.a(mod_python.o): In function `python_cleanup':
> mod_python.o(.text+0x36c): undefined reference to `PyThreadState_New'
> mod_python.o(.text+0x37c): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x39c): undefined reference to `PyObject_CallFunction'
> mod_python.o(.text+0x3bc): undefined reference to `PyErr_Fetch'
> mod_python.o(.text+0x3cc): undefined reference to `PyObject_Str'
> mod_python.o(.text+0x3dc): undefined reference to `PyObject_Str'
> mod_python.o(.text+0x3ec): undefined reference to `PyObject_Str'
> mod_python.o(.text+0x4ec): undefined reference to `PyString_AsString'
> mod_python.o(.text+0x520): undefined reference to `PyString_AsString'
> mod_python.o(.text+0x530): undefined reference to `PyString_AsString'
> mod_python.o(.text+0x578): undefined reference to `PyString_AsString'
> mod_python.o(.text+0x5ac): undefined reference to `PyString_AsString'
> modules/python/libpython.a(mod_python.o)(.text+0x5bc): more undefined references to `PyString_AsString' follow
> modules/python/libpython.a(mod_python.o): In function `python_cleanup':
> mod_python.o(.text+0x6d0): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x6dc): undefined reference to `PyThreadState_Delete'
> modules/python/libpython.a(mod_python.o): In function `python_init':
> mod_python.o(.text+0x7dc): undefined reference to `Py_GetVersion'
> mod_python.o(.text+0x824): undefined reference to `Py_IsInitialized'
> mod_python.o(.text+0x838): undefined reference to `Py_Initialize'
> mod_python.o(.text+0x844): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x84c): undefined reference to `PyDict_New'
> modules/python/libpython.a(mod_python.o): In function `make_obcallback':
> mod_python.o(.text+0xd2c): undefined reference to `PyImport_ImportModule'
> mod_python.o(.text+0xd78): undefined reference to `PyObject_CallMethod'
> modules/python/libpython.a(mod_python.o): In function `get_request_object':
> mod_python.o(.text+0xe98): undefined reference to `PyEval_SaveThread'
> mod_python.o(.text+0xeb4): undefined reference to `PyEval_RestoreThread'
> mod_python.o(.text+0xf20): undefined reference to `PyEval_SaveThread'
> mod_python.o(.text+0xf3c): undefined reference to `PyEval_RestoreThread'
> modules/python/libpython.a(mod_python.o): In function `python_handler':
> mod_python.o(.text+0x12bc): undefined reference to `PyThreadState_New'
> mod_python.o(.text+0x12cc): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x1334): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x1340): undefined reference to `PyThreadState_Delete'
> mod_python.o(.text+0x1570): undefined reference to `PyObject_CallMethod'
> mod_python.o(.text+0x1580): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x158c): undefined reference to `PyThreadState_Delete'
> mod_python.o(.text+0x15e4): undefined reference to `PyInt_Type'
> mod_python.o(.text+0x15e8): undefined reference to `PyInt_Type'
> mod_python.o(.text+0x1634): undefined reference to `PyInt_AsLong'
> modules/python/libpython.a(mod_python.o): In function `python_cleanup_handler':
> mod_python.o(.text+0x1978): undefined reference to `PyThreadState_New'
> mod_python.o(.text+0x1988): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x19f0): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x19fc): undefined reference to `PyThreadState_Delete'
> mod_python.o(.text+0x1b94): undefined reference to `PyObject_CallMethod'
> mod_python.o(.text+0x1ba0): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x1bac): undefined reference to `PyThreadState_Delete'
> modules/python/libpython.a(mod_python.o): In function `directive_PythonOptimize':
> mod_python.o(.text+0x21c8): undefined reference to `Py_OptimizeFlag'
> mod_python.o(.text+0x21cc): undefined reference to `Py_OptimizeFlag'
> mod_python.o(.text+0x21e0): undefined reference to `Py_OptimizeFlag'
> mod_python.o(.text+0x21e4): undefined reference to `Py_OptimizeFlag'
> modules/python/libpython.a(mod_python.o): In function `python_finalize':
> mod_python.o(.text+0x2568): undefined reference to `PyThreadState_New'
> mod_python.o(.text+0x2578): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x2580): undefined reference to `Py_Finalize'
> modules/python/libpython.a(mod_python.o): In function `PythonChildInitHandler':
> mod_python.o(.text+0x26bc): undefined reference to `PyThreadState_New'
> mod_python.o(.text+0x26cc): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x2734): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x2740): undefined reference to `PyThreadState_Delete'
> mod_python.o(.text+0x2768): undefined reference to `PyImport_ImportModule'
> mod_python.o(.text+0x2780): undefined reference to `PyObject_GetAttrString'
> mod_python.o(.text+0x2790): undefined reference to `PyString_FromString'
> mod_python.o(.text+0x27a4): undefined reference to `PySequence_Index'
> mod_python.o(.text+0x27c8): undefined reference to `PyList_SetSlice'
> mod_python.o(.text+0x28ac): undefined reference to `PyImport_ImportModule'
> mod_python.o(.text+0x28c0): undefined reference to `PyErr_Occurred'
> mod_python.o(.text+0x28d4): undefined reference to `PyErr_Print'
> mod_python.o(.text+0x2908): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x2914): undefined reference to `PyThreadState_Delete'
> modules/python/libpython.a(_apachemodule.o): In function `log_error':
> _apachemodule.o(.text+0x30): undefined reference to `PyArg_ParseTuple'
> _apachemodule.o(.text+0xb0): undefined reference to `PyErr_BadArgument'
> _apachemodule.o(.text+0xf8): undefined reference to `_Py_NoneStruct'
> _apachemodule.o(.text+0xfc): undefined reference to `_Py_NoneStruct'
> _apachemodule.o(.text+0x100): undefined reference to `_Py_NoneStruct'
> _apachemodule.o(.text+0x104): undefined reference to `_Py_NoneStruct'
> _apachemodule.o(.text+0x108): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(_apachemodule.o)(.text+0x10c): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(_apachemodule.o): In function `parse_qs':
> _apachemodule.o(.text+0x188): undefined reference to `PyArg_ParseTuple'
> _apachemodule.o(.text+0x1ac): undefined reference to `PyList_New'
> _apachemodule.o(.text+0x210): undefined reference to `PyString_FromStringAndSize'
> _apachemodule.o(.text+0x32c): undefined reference to `_PyString_Resize'
> _apachemodule.o(.text+0x33c): undefined reference to `PyList_Append'
> _apachemodule.o(.text+0x3a0): undefined reference to `PyDict_New'
> _apachemodule.o(.text+0x3cc): undefined reference to `PyList_Size'
> _apachemodule.o(.text+0x43c): undefined reference to `PyString_FromStringAndSize'
> _apachemodule.o(.text+0x46c): undefined reference to `PyString_FromStringAndSize'
> _apachemodule.o(.text+0x620): undefined reference to `_PyString_Resize'
> _apachemodule.o(.text+0x640): undefined reference to `_PyString_Resize'
> _apachemodule.o(.text+0x650): undefined reference to `PyMapping_HasKeyString'
> _apachemodule.o(.text+0x66c): undefined reference to `PyDict_GetItem'
> _apachemodule.o(.text+0x680): undefined reference to `PyList_Append'
> _apachemodule.o(.text+0x69c): undefined reference to `Py_BuildValue'
> _apachemodule.o(.text+0x6b4): undefined reference to `PyDict_SetItem'
> modules/python/libpython.a(_apachemodule.o): In function `parse_qsl':
> _apachemodule.o(.text+0x834): undefined reference to `PyArg_ParseTuple'
> _apachemodule.o(.text+0x858): undefined reference to `PyList_New'
> _apachemodule.o(.text+0x8b8): undefined reference to `PyString_FromStringAndSize'
> _apachemodule.o(.text+0x9e8): undefined reference to `_PyString_Resize'
> _apachemodule.o(.text+0xa08): undefined reference to `PyString_FromStringAndSize'
> _apachemodule.o(.text+0xa38): undefined reference to `PyString_FromStringAndSize'
> _apachemodule.o(.text+0xbec): undefined reference to `_PyString_Resize'
> _apachemodule.o(.text+0xc0c): undefined reference to `_PyString_Resize'
> _apachemodule.o(.text+0xc24): undefined reference to `Py_BuildValue'
> _apachemodule.o(.text+0xc34): undefined reference to `PyList_Append'
> modules/python/libpython.a(_apachemodule.o): In function `init_apache':
> _apachemodule.o(.text+0xd4c): undefined reference to `PyType_Type'
> _apachemodule.o(.text+0xd50): undefined reference to `PyType_Type'
> _apachemodule.o(.text+0xd60): undefined reference to `PyType_Type'
> _apachemodule.o(.text+0xd64): undefined reference to `PyType_Type'
> _apachemodule.o(.text+0xd74): undefined reference to `PyType_Type'
> modules/python/libpython.a(_apachemodule.o)(.text+0xd78): more undefined references to `PyType_Type' follow
> modules/python/libpython.a(_apachemodule.o): In function `init_apache':
> _apachemodule.o(.text+0xdb0): undefined reference to `Py_InitModule4'
> _apachemodule.o(.text+0xdc0): undefined reference to `PyModule_GetDict'
> _apachemodule.o(.text+0xddc): undefined reference to `PyErr_NewException'
> _apachemodule.o(.text+0xe28): undefined reference to `PyDict_SetItemString'
> modules/python/libpython.a(requestobject.o): In function `MpRequest_FromRequest':
> requestobject.o(.text+0x98): undefined reference to `PyErr_NoMemory'
> modules/python/libpython.a(requestobject.o): In function `req_add_common_vars':
> requestobject.o(.text+0x1fc): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x200): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x204): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x208): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x20c): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(requestobject.o)(.text+0x210): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(requestobject.o): In function `req_add_handler':
> requestobject.o(.text+0x3f0): undefined reference to `PyArg_ParseTuple'
> requestobject.o(.text+0x428): undefined reference to `PyExc_IndexError'
> requestobject.o(.text+0x42c): undefined reference to `PyExc_IndexError'
> requestobject.o(.text+0x458): undefined reference to `PyErr_SetString'
> requestobject.o(.text+0x6d0): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x6d4): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x6d8): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x6dc): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x6e0): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(requestobject.o)(.text+0x6e4): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(requestobject.o): In function `req_get_basic_auth_pw':
> requestobject.o(.text+0xb60): undefined reference to `PyString_FromString'
> requestobject.o(.text+0xb7c): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0xb80): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0xb84): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0xb88): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0xb8c): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(requestobject.o)(.text+0xb90): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(requestobject.o): In function `req_get_remote_host':
> requestobject.o(.text+0xc94): undefined reference to `PyArg_ParseTuple'
> requestobject.o(.text+0xcec): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0xcf0): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0xcf4): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0xcf8): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0xcfc): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(requestobject.o)(.text+0xd00): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(requestobject.o): In function `req_get_remote_host':
> requestobject.o(.text+0xd2c): undefined reference to `PyString_FromString'
> modules/python/libpython.a(requestobject.o): In function `req_read':
> requestobject.o(.text+0xdcc): undefined reference to `PyArg_ParseTuple'
> requestobject.o(.text+0xe04): undefined reference to `PyString_FromString'
> requestobject.o(.text+0xe5c): undefined reference to `PyInt_FromLong'
> requestobject.o(.text+0xe94): undefined reference to `PyErr_SetObject'
> requestobject.o(.text+0xf14): undefined reference to `PyString_FromString'
> requestobject.o(.text+0xf68): undefined reference to `PyString_FromStringAndSize'
> requestobject.o(.text+0x1114): undefined reference to `PyExc_IOError'
> requestobject.o(.text+0x1118): undefined reference to `PyExc_IOError'
> requestobject.o(.text+0x1124): undefined reference to `PyString_FromString'
> requestobject.o(.text+0x1134): undefined reference to `PyErr_SetObject'
> requestobject.o(.text+0x1198): undefined reference to `_PyString_Resize'
> modules/python/libpython.a(requestobject.o): In function `req_readline':
> requestobject.o(.text+0x11f8): undefined reference to `PyArg_ParseTuple'
> requestobject.o(.text+0x1230): undefined reference to `PyString_FromString'
> requestobject.o(.text+0x1288): undefined reference to `PyInt_FromLong'
> requestobject.o(.text+0x12c0): undefined reference to `PyErr_SetObject'
> requestobject.o(.text+0x1340): undefined reference to `PyString_FromString'
> requestobject.o(.text+0x1394): undefined reference to `PyString_FromStringAndSize'
> requestobject.o(.text+0x14b0): undefined reference to `_PyString_Resize'
> requestobject.o(.text+0x1550): undefined reference to `PyErr_NoMemory'
> requestobject.o(.text+0x1648): undefined reference to `PyExc_IOError'
> requestobject.o(.text+0x164c): undefined reference to `PyExc_IOError'
> requestobject.o(.text+0x1658): undefined reference to `PyString_FromString'
> requestobject.o(.text+0x1668): undefined reference to `PyErr_SetObject'
> requestobject.o(.text+0x179c): undefined reference to `_PyString_Resize'
> modules/python/libpython.a(requestobject.o): In function `req_register_cleanup':
> requestobject.o(.text+0x17fc): undefined reference to `PyArg_ParseTuple'
> requestobject.o(.text+0x1854): undefined reference to `PyCallable_Check'
> requestobject.o(.text+0x18ec): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x18f0): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x18f4): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x18f8): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x18fc): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(requestobject.o)(.text+0x1900): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(requestobject.o): In function `req_register_cleanup':
> requestobject.o(.text+0x1928): undefined reference to `PyExc_ValueError'
> requestobject.o(.text+0x192c): undefined reference to `PyExc_ValueError'
> requestobject.o(.text+0x193c): undefined reference to `PyErr_SetString'
> requestobject.o(.text+0x1984): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x1988): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x198c): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x1990): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x1994): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(requestobject.o)(.text+0x1998): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(requestobject.o): In function `req_write':
> requestobject.o(.text+0x1a58): undefined reference to `PyArg_ParseTuple'
> requestobject.o(.text+0x1ab4): undefined reference to `PyExc_IOError'
> requestobject.o(.text+0x1ab8): undefined reference to `PyExc_IOError'
> requestobject.o(.text+0x1ac8): undefined reference to `PyErr_SetString'
> requestobject.o(.text+0x1adc): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x1ae0): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x1ae4): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x1ae8): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x1aec): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(requestobject.o)(.text+0x1af0): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(requestobject.o): In function `request_getattr':
> requestobject.o(.text+0x2000): undefined reference to `Py_FindMethod'
> requestobject.o(.text+0x202c): undefined reference to `PyErr_Clear'
> requestobject.o(.text+0x2080): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x2084): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x2088): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x208c): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x2090): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(requestobject.o)(.text+0x2094): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(requestobject.o): In function `request_getattr':
> requestobject.o(.text+0x2838): undefined reference to `PyString_FromString'
> requestobject.o(.text+0x287c): undefined reference to `PyInt_FromLong'
> requestobject.o(.text+0x28ac): undefined reference to `PyMember_Get'
> modules/python/libpython.a(requestobject.o): In function `request_setattr':
> requestobject.o(.text+0x28e8): undefined reference to `PyExc_AttributeError'
> requestobject.o(.text+0x28ec): undefined reference to `PyExc_AttributeError'
> requestobject.o(.text+0x28fc): undefined reference to `PyErr_SetString'
> requestobject.o(.text+0x2944): undefined reference to `PyString_AsString'
> requestobject.o(.text+0x29b4): undefined reference to `PyString_AsString'
> requestobject.o(.text+0x2a18): undefined reference to `PyString_AsString'
> requestobject.o(.text+0x2a64): undefined reference to `PyMember_Set'
> modules/python/libpython.a(tableobject.o): In function `MpTable_FromTable':
> tableobject.o(.text+0x28): undefined reference to `PyErr_NoMemory'
> modules/python/libpython.a(tableobject.o): In function `tablegetitem':
> tableobject.o(.text+0x118): undefined reference to `PyString_AsString'
> tableobject.o(.text+0x14c): undefined reference to `PyExc_KeyError'
> tableobject.o(.text+0x150): undefined reference to `PyExc_KeyError'
> tableobject.o(.text+0x15c): undefined reference to `PyErr_SetObject'
> tableobject.o(.text+0x174): undefined reference to `PyString_FromString'
> modules/python/libpython.a(tableobject.o): In function `tablesetitem':
> tableobject.o(.text+0x1b8): undefined reference to `PyString_Type'
> tableobject.o(.text+0x1bc): undefined reference to `PyString_Type'
> tableobject.o(.text+0x1cc): undefined reference to `PyExc_TypeError'
> tableobject.o(.text+0x1d0): undefined reference to `PyExc_TypeError'
> tableobject.o(.text+0x1e0): undefined reference to `PyErr_SetString'
> tableobject.o(.text+0x1f8): undefined reference to `PyString_AsString'
> tableobject.o(.text+0x208): undefined reference to `_Py_NoneStruct'
> tableobject.o(.text+0x20c): undefined reference to `_Py_NoneStruct'
> tableobject.o(.text+0x268): undefined reference to `PyString_Type'
> tableobject.o(.text+0x26c): undefined reference to `PyString_Type'
> tableobject.o(.text+0x27c): undefined reference to `PyExc_TypeError'
> tableobject.o(.text+0x280): undefined reference to `PyExc_TypeError'
> tableobject.o(.text+0x290): undefined reference to `PyErr_SetString'
> tableobject.o(.text+0x2ac): undefined reference to `PyString_AsString'
> modules/python/libpython.a(tableobject.o): In function `table_keys':
> tableobject.o(.text+0x304): undefined reference to `PyList_New'
> tableobject.o(.text+0x374): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x38c): undefined reference to `PyList_SetItem'
> modules/python/libpython.a(tableobject.o): In function `table_has_key':
> tableobject.o(.text+0x3e8): undefined reference to `PyArg_ParseTuple'
> tableobject.o(.text+0x434): undefined reference to `PyInt_FromLong'
> tableobject.o(.text+0x454): undefined reference to `PyInt_FromLong'
> modules/python/libpython.a(tableobject.o): In function `table_add':
> tableobject.o(.text+0x490): undefined reference to `PyArg_ParseTuple'
> tableobject.o(.text+0x4c8): undefined reference to `_Py_NoneStruct'
> tableobject.o(.text+0x4cc): undefined reference to `_Py_NoneStruct'
> tableobject.o(.text+0x4d0): undefined reference to `_Py_NoneStruct'
> tableobject.o(.text+0x4d4): undefined reference to `_Py_NoneStruct'
> tableobject.o(.text+0x4d8): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(tableobject.o)(.text+0x4dc): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(tableobject.o): In function `table_getattr':
> tableobject.o(.text+0x560): undefined reference to `Py_FindMethod'
> modules/python/libpython.a(tableobject.o): In function `table_repr':
> tableobject.o(.text+0x58c): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x5d8): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x5e8): undefined reference to `PyString_ConcatAndDel'
> tableobject.o(.text+0x648): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x658): undefined reference to `PyString_ConcatAndDel'
> tableobject.o(.text+0x67c): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x68c): undefined reference to `PyString_ConcatAndDel'
> tableobject.o(.text+0x6a0): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x6b0): undefined reference to `PyString_ConcatAndDel'
> tableobject.o(.text+0x6d4): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x6e4): undefined reference to `PyString_ConcatAndDel'
> tableobject.o(.text+0x6f8): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x708): undefined reference to `PyString_ConcatAndDel'
> tableobject.o(.text+0x72c): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x73c): undefined reference to `PyString_ConcatAndDel'
> tableobject.o(.text+0x758): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x768): undefined reference to `PyString_ConcatAndDel'
> modules/python/libpython.a(util.o): In function `tuple_from_array_header':
> util.o(.text+0x18): undefined reference to `_Py_NoneStruct'
> util.o(.text+0x1c): undefined reference to `_Py_NoneStruct'
> util.o(.text+0x20): undefined reference to `_Py_NoneStruct'
> util.o(.text+0x24): undefined reference to `_Py_NoneStruct'
> util.o(.text+0x28): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(util.o)(.text+0x2c): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(util.o): In function `tuple_from_array_header':
> util.o(.text+0x5c): undefined reference to `PyTuple_New'
> util.o(.text+0xb0): undefined reference to `PyString_FromString'
> util.o(.text+0xc4): undefined reference to `PyTuple_SetItem'
> modules/python/libpython.a(serverobject.o): In function `MpServer_FromServer':
> serverobject.o(.text+0x28): undefined reference to `PyErr_NoMemory'
> modules/python/libpython.a(serverobject.o): In function `server_register_cleanup':
> serverobject.o(.text+0xb8): undefined reference to `PyArg_ParseTuple'
> serverobject.o(.text+0xe4): undefined reference to `PyObject_HasAttrString'
> serverobject.o(.text+0xf8): undefined reference to `PyExc_ValueError'
> serverobject.o(.text+0xfc): undefined reference to `PyExc_ValueError'
> serverobject.o(.text+0x10c): undefined reference to `PyErr_SetString'
> serverobject.o(.text+0x134): undefined reference to `PyObject_GetAttrString'
> serverobject.o(.text+0x15c): undefined reference to `PyExc_ValueError'
> serverobject.o(.text+0x160): undefined reference to `PyExc_ValueError'
> serverobject.o(.text+0x170): undefined reference to `PyErr_SetString'
> serverobject.o(.text+0x190): undefined reference to `PyCallable_Check'
> serverobject.o(.text+0x1a4): undefined reference to `PyExc_ValueError'
> serverobject.o(.text+0x1a8): undefined reference to `PyExc_ValueError'
> serverobject.o(.text+0x1b8): undefined reference to `PyErr_SetString'
> serverobject.o(.text+0x278): undefined reference to `_Py_NoneStruct'
> serverobject.o(.text+0x27c): undefined reference to `_Py_NoneStruct'
> serverobject.o(.text+0x280): undefined reference to `_Py_NoneStruct'
> serverobject.o(.text+0x284): undefined reference to `_Py_NoneStruct'
> serverobject.o(.text+0x288): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(serverobject.o)(.text+0x28c): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(serverobject.o): In function `server_getattr':
> serverobject.o(.text+0x3c0): undefined reference to `Py_FindMethod'
> serverobject.o(.text+0x3ec): undefined reference to `PyErr_Clear'
> serverobject.o(.text+0x440): undefined reference to `_Py_NoneStruct'
> serverobject.o(.text+0x444): undefined reference to `_Py_NoneStruct'
> serverobject.o(.text+0x448): undefined reference to `_Py_NoneStruct'
> serverobject.o(.text+0x44c): undefined reference to `_Py_NoneStruct'
> serverobject.o(.text+0x450): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(serverobject.o)(.text+0x454): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(serverobject.o): In function `server_getattr':
> serverobject.o(.text+0x554): undefined reference to `PyInt_FromLong'
> serverobject.o(.text+0x614): undefined reference to `PyMember_Get'
> modules/python/libpython.a(connobject.o): In function `MpConn_FromConn':
> connobject.o(.text+0x28): undefined reference to `PyErr_NoMemory'
> modules/python/libpython.a(connobject.o): In function `makeipaddr':
> connobject.o(.text+0x1f4): undefined reference to `PyString_FromString'
> modules/python/libpython.a(connobject.o): In function `makesockaddr':
> connobject.o(.text+0x258): undefined reference to `Py_BuildValue'
> modules/python/libpython.a(connobject.o): In function `conn_getattr':
> connobject.o(.text+0x31c): undefined reference to `_Py_NoneStruct'
> connobject.o(.text+0x320): undefined reference to `_Py_NoneStruct'
> connobject.o(.text+0x324): undefined reference to `_Py_NoneStruct'
> connobject.o(.text+0x328): undefined reference to `_Py_NoneStruct'
> connobject.o(.text+0x32c): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(connobject.o)(.text+0x330): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(connobject.o): In function `conn_getattr':
> connobject.o(.text+0x5c4): undefined reference to `PyMember_Get'
> modules/python/libpython.a(connobject.o): In function `conn_setattr':
> connobject.o(.text+0x600): undefined reference to `PyExc_AttributeError'
> connobject.o(.text+0x604): undefined reference to `PyExc_AttributeError'
> connobject.o(.text+0x614): undefined reference to `PyErr_SetString'
> connobject.o(.text+0x65c): undefined reference to `PyString_AsString'
> connobject.o(.text+0x6ac): undefined reference to `PyMember_Set'
> collect2: ld returned 1 exit status
> *** Error code 1
> make: Fatal error: Command failed for target `target_static'
> -- 
> Steve Traylen, Systems Engineer
> http://www.ccdc.cam.ac.uk/
> 
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python

-- 
Joost Damad - Siemens IC D NC A - +3214252297
--
Hoare's Law of Large Problems:
    Inside every large problem is a small problem struggling to get out.

From brianh at exelixis.com  Tue Mar  6 16:44:26 2001
From: brianh at exelixis.com (Brian Hawthorne)
Date: Fri Jan  9 22:02:38 2004
Subject: [mod_python] cookies
Message-ID: <Pine.GSO.4.05.10103061641090.15983-100000@timeless.exelixis.com>

hello all,  how is one to access the client's cookies from a function
being handled by the publisher handler?
i looked in os.environ, i tried req.add_common_vars() then looked at
req.subprocess_env, and i looked at req.headers_in.
i didn't see any cookie stuff anywhere!?

brian


From brett at bookshop.unsw.edu.au  Wed Mar  7 15:09:32 2001
From: brett at bookshop.unsw.edu.au (Brett Haydon)
Date: Fri Jan  9 22:02:38 2004
Subject: [mod_python] cookies 
Message-ID: <NCBBKMABOKFCDLPIKKGIGEOOCJAA.brett@bookshop.unsw.edu.au>

You're looking in the right place:
req.headers_in

You need to extract it
if req.headers_in.has_key('Cookie'):
	dofoo

No luck with that then make sure cookies are being set...
use mod_usertrack for an easy solution..

_______________________________________
Brett Haydon


From petar at metamarkets.com  Wed Mar  7 18:49:41 2001
From: petar at metamarkets.com (Petar Karafezov)
Date: Fri Jan  9 22:02:38 2004
Subject: [mod_python] util.FormStorage empty values issue
Message-ID: <86FC34EA3C4F074AA6BBFFE52ED83FED27BE10@METAEXCH.sfo.metamarkets.com>

Hiya all -

I'm using Apache/1.3.14 (Unix) mod_python/2.7.2 Python/2.0 and I seem to be
having a little issue when values from a form is '' (empty string). When the
value is '' they key itself does not get passed as a part of what
util.FormStorage returns.

Any ideas of how to get around this ?

Regards and thanks for the help,
Petar Karafezov

MetaMarkets.com
415-575-3015
-------------------------------------------
Investing Out Loud at
http://www.metamarkets.com
-------------------------------------------

From petar at metamarkets.com  Thu Mar  8 06:44:45 2001
From: petar at metamarkets.com (Petar Karafezov)
Date: Fri Jan  9 22:02:38 2004
Subject: [mod_python] FW: util.FormStorage empty values issue
Message-ID: <86FC34EA3C4F074AA6BBFFE52ED83FED27BE19@METAEXCH.sfo.metamarkets.com>

actually, I just found out the keep_empty_value set to 0 in util.py. I
changed the value to 1 and recompiled it. Now everything seems to be working
fine. Was there any reason keep_empty_value was set to 0 ? Did I changed the
library the right way ?

THanks for your help!

Regards,
Petar Karafezov

-----Original Message-----
From: Petar Karafezov 
Sent: Wednesday, March 07, 2001 6:50 PM
To: mod_python@modpython.org
Subject: util.FormStorage empty values issue


Hiya all -

I'm using Apache/1.3.14 (Unix) mod_python/2.7.2 Python/2.0 and I seem to be
having a little issue when values from a form is '' (empty string). When the
value is '' they key itself does not get passed as a part of what
util.FormStorage returns.

Any ideas of how to get around this ?

Regards and thanks for the help,
Petar Karafezov

MetaMarkets.com
415-575-3015
-------------------------------------------
Investing Out Loud at
http://www.metamarkets.com
-------------------------------------------

From grisha at verio.net  Thu Mar  8 10:21:20 2001
From: grisha at verio.net (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 22:02:38 2004
Subject: [mod_python] FW: util.FormStorage empty values issue
In-Reply-To: <86FC34EA3C4F074AA6BBFFE52ED83FED27BE19@METAEXCH.sfo.metamarkets.com>
Message-ID: <Pine.BSF.4.32.0103081020420.40846-100000@localhost>

That's the way the standard library FieldStorage performs, so I thought
I'd keep it consistent.

Grisha

On Thu, 8 Mar 2001, Petar Karafezov wrote:

> actually, I just found out the keep_empty_value set to 0 in util.py. I
> changed the value to 1 and recompiled it. Now everything seems to be working
> fine. Was there any reason keep_empty_value was set to 0 ? Did I changed the
> library the right way ?
>
> THanks for your help!
>
> Regards,
> Petar Karafezov
>
> -----Original Message-----
> From: Petar Karafezov
> Sent: Wednesday, March 07, 2001 6:50 PM
> To: mod_python@modpython.org
> Subject: util.FormStorage empty values issue
>
>
> Hiya all -
>
> I'm using Apache/1.3.14 (Unix) mod_python/2.7.2 Python/2.0 and I seem to be
> having a little issue when values from a form is '' (empty string). When the
> value is '' they key itself does not get passed as a part of what
> util.FormStorage returns.
>
> Any ideas of how to get around this ?
>
> Regards and thanks for the help,
> Petar Karafezov
>
> MetaMarkets.com
> 415-575-3015
> -------------------------------------------
> Investing Out Loud at
> http://www.metamarkets.com
> -------------------------------------------
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From webmaster at myeboard.com  Thu Mar  8 11:37:10 2001
From: webmaster at myeboard.com (Jamie Krasnoo)
Date: Fri Jan  9 22:02:38 2004
Subject: [mod_python] That -DEAPI thing again.
Message-ID: <NEBBLAGGCLKLIANPIBEJGECIDEAA.webmaster@myeboard.com>

Sorry to bring this up again. I was trying to compile mod_python as a DSO
and the warning :
[warn] Loaded DSO /usr/lib/apache/mod_python.so uses plain Apache 1.3 API,
this module might crash under EAPI! (please recompile it with -DEAPI)

came up. I found a lot questions on the same matter int he archives but no
real answeres. Ok one answer but that was a patch which I realy don't want
to docode and find out that its something bad. This should be a FAQ thing
already.

So. How do I get -DEAPI in there so I won't have the threat of Apache seg
faulting at some point?

Jamie Krasnoo
www.MyEBoard.com
webmaster@myeboard.com



From mike at mikebell.org  Thu Mar  8 11:58:29 2001
From: mike at mikebell.org (Mike Bell)
Date: Fri Jan  9 22:02:38 2004
Subject: [mod_python] That -DEAPI thing again.
In-Reply-To: <NEBBLAGGCLKLIANPIBEJGECIDEAA.webmaster@myeboard.com>; from webmaster@myeboard.com on Thu, Mar 08, 2001 at 11:37:10AM -0800
References: <NEBBLAGGCLKLIANPIBEJGECIDEAA.webmaster@myeboard.com>
Message-ID: <20010308115829.D13307@vaio.mikebell.org>

On Thu, Mar 08, 2001 at 11:37:10AM -0800, Jamie Krasnoo wrote:
> Sorry to bring this up again. I was trying to compile mod_python as a DSO
> and the warning :
> [warn] Loaded DSO /usr/lib/apache/mod_python.so uses plain Apache 1.3 API,
> this module might crash under EAPI! (please recompile it with -DEAPI)
> 
> came up. I found a lot questions on the same matter int he archives but no
> real answeres. Ok one answer but that was a patch which I realy don't want
> to docode and find out that its something bad. This should be a FAQ thing
> already.
> 
> So. How do I get -DEAPI in there so I won't have the threat of Apache seg
> faulting at some point?

Personally, I edit src/Makefile and change
OPT=
to
OPT=-DEAPI

From webmaster at myeboard.com  Thu Mar  8 12:35:32 2001
From: webmaster at myeboard.com (Jamie Krasnoo)
Date: Fri Jan  9 22:02:38 2004
Subject: [mod_python] That -DEAPI thing again.
In-Reply-To: <20010308115829.D13307@vaio.mikebell.org>
Message-ID: <NEBBLAGGCLKLIANPIBEJAECKDEAA.webmaster@myeboard.com>

Thanks Mike. I appreciate it.

-----Original Message-----
From: mod_python-admin@modpython.org
[mailto:mod_python-admin@modpython.org]On Behalf Of Mike Bell
Sent: Thursday, March 08, 2001 11:58 AM
To: mod_python@modpython.org
Subject: Re: [mod_python] That -DEAPI thing again.


On Thu, Mar 08, 2001 at 11:37:10AM -0800, Jamie Krasnoo wrote:
> Sorry to bring this up again. I was trying to compile mod_python as a DSO
> and the warning :
> [warn] Loaded DSO /usr/lib/apache/mod_python.so uses plain Apache 1.3 API,
> this module might crash under EAPI! (please recompile it with -DEAPI)
>
> came up. I found a lot questions on the same matter int he archives but no
> real answeres. Ok one answer but that was a patch which I realy don't want
> to docode and find out that its something bad. This should be a FAQ thing
> already.
>
> So. How do I get -DEAPI in there so I won't have the threat of Apache seg
> faulting at some point?

Personally, I edit src/Makefile and change
OPT=
to
OPT=-DEAPI
_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python


From petar at metamarkets.com  Fri Mar  9 10:20:43 2001
From: petar at metamarkets.com (Petar Karafezov)
Date: Fri Jan  9 22:02:38 2004
Subject: [mod_python] help needed with forms' parameters handling
Message-ID: <86FC34EA3C4F074AA6BBFFE52ED83FED27BE3E@METAEXCH.sfo.metamarkets.com>

Hello all -

I am running Apache/1.3.14 (Unix) mod_python/2.7.2 Python/2.0. At this point
I am not even sure that this is a mod_python issue, as I have seen this
same behavior before I ported my cgi to mod_python. I am not sure what to do
at this point..

Here's the issue:

When you do a POST to a python script you obtain the parameters using the
util.FieldStorage, when using cgi it's cgi.FieldStorage. The returned result
is a dictionary { key, value }. Everything is OK if you just what to work
with this dictionary. However, if you try to pass this dictionary object to
urllib.urlencode, we raise an exception:

Mod_python error: "PythonHandler parse2"

Traceback (most recent call last):

  File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line
189, in Dispatch
    result = object(self.req)

  File "/usr/local/apache/htdocs/test/parse2.py", line 147, in handler
    params=urllib.urlencode(form)	

  File "/usr/local/lib/python2.0/urllib.py", line 1086, in urlencode
    for k, v in dict.items():

AttributeError: 'FieldStorage' instance has no attribute 'items'


Now, the funny part is that if I get this object 'form' - which was defined
as form=util.FieldStorage(req) and just get the keys and values and form a
new dictionary, I can pass that new one to urllib.urlencode with no
problems.

...
    newparams={}                       
    for key in form.keys():
          newparams[key]=form[key]
    params=urllib.urlencode(newparams) 
...

Again, I run into the same issue with both util.FieldStorage when working
with mod_python and with cgi.FieldStorage when using my cgi version.

I am quite happy with this workaround until I bumped into a different issue,
which I am not exactly sure if it's related or not. When there're multiple
checkboxes on a form:

<input type="checkbox"  name="frequencies" value="DEM" priority="6" checked>
<input type="checkbox"  name="frequencies" value="HLF" priority="6">
<input type="checkbox"  name="frequencies" value="DAY" priority="6">
<input type="checkbox"  name="frequencies" value="WEK" priority="6">

and we have selected more than 1, then the form parameter value gets passed
to the server as an array. For example, if I'd select DEM and DAY from the
checkboxed above, my params would be:

'frequences' : ['DEM','DAY']

This is all great, but when I pass the parameters to the server - my python
script is playing the role of a proxy, then I am passing as value for
'frequences' the STRING "['DEM','DAY']" and not the ARRAY ['DEM','DAY']. 

So, somewhere in what I do/use the array gets converted to a string. The way
I see it is:

1) It could be the python's FieldStorage when I originally get the keys and
values
2) It could be that funky dictionary rewriting that I am doing before I pass
the form parameters to urllib.urlencode.
3) I could be something in what urlencode does.


I am not sure where to look at this point. 

Any ideas, anyone ?? Any help would be greatly appreciated!

Thanks for your help!

regards,

Petar Karafezov

MetaMarkets.com
415-575-3015
-------------------------------------------
Investing Out Loud at
http://www.metamarkets.com
-------------------------------------------



From grisha at verio.net  Fri Mar  9 13:39:34 2001
From: grisha at verio.net (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 22:02:38 2004
Subject: [mod_python] help needed with forms' parameters handling
In-Reply-To: <86FC34EA3C4F074AA6BBFFE52ED83FED27BE3E@METAEXCH.sfo.metamarkets.com>
Message-ID: <Pine.BSF.4.32.0103091338010.53766-100000@localhost>

This is probably because FieldStorage indeed doesn't have "items()" - just
like it says ;-)

May be in the future I'll add it. Until then - you'll have to copy it to
real dictionary, or you can subclass FieldStorage and add your own
items().

Grisha

On Fri, 9 Mar 2001, Petar Karafezov wrote:

> Hello all -
>
> I am running Apache/1.3.14 (Unix) mod_python/2.7.2 Python/2.0. At this point
> I am not even sure that this is a mod_python issue, as I have seen this
> same behavior before I ported my cgi to mod_python. I am not sure what to do
> at this point..
>
> Here's the issue:
>
> When you do a POST to a python script you obtain the parameters using the
> util.FieldStorage, when using cgi it's cgi.FieldStorage. The returned result
> is a dictionary { key, value }. Everything is OK if you just what to work
> with this dictionary. However, if you try to pass this dictionary object to
> urllib.urlencode, we raise an exception:
>
> Mod_python error: "PythonHandler parse2"
>
> Traceback (most recent call last):
>
>   File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line
> 189, in Dispatch
>     result = object(self.req)
>
>   File "/usr/local/apache/htdocs/test/parse2.py", line 147, in handler
>     params=urllib.urlencode(form)
>
>   File "/usr/local/lib/python2.0/urllib.py", line 1086, in urlencode
>     for k, v in dict.items():
>
> AttributeError: 'FieldStorage' instance has no attribute 'items'
>
>
> Now, the funny part is that if I get this object 'form' - which was defined
> as form=util.FieldStorage(req) and just get the keys and values and form a
> new dictionary, I can pass that new one to urllib.urlencode with no
> problems.
>
> ...
>     newparams={}
>     for key in form.keys():
>           newparams[key]=form[key]
>     params=urllib.urlencode(newparams)
> ...
>
> Again, I run into the same issue with both util.FieldStorage when working
> with mod_python and with cgi.FieldStorage when using my cgi version.
>
> I am quite happy with this workaround until I bumped into a different issue,
> which I am not exactly sure if it's related or not. When there're multiple
> checkboxes on a form:
>
> <input type="checkbox"  name="frequencies" value="DEM" priority="6" checked>
> <input type="checkbox"  name="frequencies" value="HLF" priority="6">
> <input type="checkbox"  name="frequencies" value="DAY" priority="6">
> <input type="checkbox"  name="frequencies" value="WEK" priority="6">
>
> and we have selected more than 1, then the form parameter value gets passed
> to the server as an array. For example, if I'd select DEM and DAY from the
> checkboxed above, my params would be:
>
> 'frequences' : ['DEM','DAY']
>
> This is all great, but when I pass the parameters to the server - my python
> script is playing the role of a proxy, then I am passing as value for
> 'frequences' the STRING "['DEM','DAY']" and not the ARRAY ['DEM','DAY'].
>
> So, somewhere in what I do/use the array gets converted to a string. The way
> I see it is:
>
> 1) It could be the python's FieldStorage when I originally get the keys and
> values
> 2) It could be that funky dictionary rewriting that I am doing before I pass
> the form parameters to urllib.urlencode.
> 3) I could be something in what urlencode does.
>
>
> I am not sure where to look at this point.
>
> Any ideas, anyone ?? Any help would be greatly appreciated!
>
> Thanks for your help!
>
> regards,
>
> Petar Karafezov
>
> MetaMarkets.com
> 415-575-3015
> -------------------------------------------
> Investing Out Loud at
> http://www.metamarkets.com
> -------------------------------------------
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From tino at wildenhain.de  Fri Mar  9 23:43:51 2001
From: tino at wildenhain.de (Tino Wildenhain)
Date: Fri Jan  9 22:02:38 2004
Subject: [mod_python] Re: help needed with forms' parameters handling
References: <86FC34EA3C4F074AA6BBFFE52ED83FED27BE3E@METAEXCH.sfo.metamarkets.com>
Message-ID: <3AA95CA7.DCF14032@wildenhain.de>

Hi Petar,

I suppose after a couple of headaches you may want to try out
zope as well ;) http://www.zope.org/
It saves you from most of the work with forms and many more.
Hard to grasp the principe of operation at first but profitable
at the end.

HTH
Tino

Petar Karafezov wrote:
> 
> Hello all -
> 
> I am running Apache/1.3.14 (Unix) mod_python/2.7.2 Python/2.0. At this point
> I am not even sure that this is a mod_python issue, as I have seen this
> same behavior before I ported my cgi to mod_python. I am not sure what to do
> at this point..
> 
> Here's the issue:
> 
> When you do a POST to a python script you obtain the parameters using the
> util.FieldStorage, when using cgi it's cgi.FieldStorage. The returned result
> is a dictionary { key, value }. Everything is OK if you just what to work
> with this dictionary. However, if you try to pass this dictionary object to
> urllib.urlencode, we raise an exception:
> 
> Mod_python error: "PythonHandler parse2"
> 
> Traceback (most recent call last):
> 
>   File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line
> 189, in Dispatch
>     result = object(self.req)
> 
>   File "/usr/local/apache/htdocs/test/parse2.py", line 147, in handler
>     params=urllib.urlencode(form)
> 
>   File "/usr/local/lib/python2.0/urllib.py", line 1086, in urlencode
>     for k, v in dict.items():
> 
> AttributeError: 'FieldStorage' instance has no attribute 'items'
> 
> Now, the funny part is that if I get this object 'form' - which was defined
> as form=util.FieldStorage(req) and just get the keys and values and form a
> new dictionary, I can pass that new one to urllib.urlencode with no
> problems.
> 
> ...
>     newparams={}
>     for key in form.keys():
>           newparams[key]=form[key]
>     params=urllib.urlencode(newparams)
> ...
> 
> Again, I run into the same issue with both util.FieldStorage when working
> with mod_python and with cgi.FieldStorage when using my cgi version.
> 
> I am quite happy with this workaround until I bumped into a different issue,
> which I am not exactly sure if it's related or not. When there're multiple
> checkboxes on a form:
> 
> <input type="checkbox"  name="frequencies" value="DEM" priority="6" checked>
> <input type="checkbox"  name="frequencies" value="HLF" priority="6">
> <input type="checkbox"  name="frequencies" value="DAY" priority="6">
> <input type="checkbox"  name="frequencies" value="WEK" priority="6">
> 
> and we have selected more than 1, then the form parameter value gets passed
> to the server as an array. For example, if I'd select DEM and DAY from the
> checkboxed above, my params would be:
> 
> 'frequences' : ['DEM','DAY']
> 
> This is all great, but when I pass the parameters to the server - my python
> script is playing the role of a proxy, then I am passing as value for
> 'frequences' the STRING "['DEM','DAY']" and not the ARRAY ['DEM','DAY'].
> 
> So, somewhere in what I do/use the array gets converted to a string. The way
> I see it is:
> 
> 1) It could be the python's FieldStorage when I originally get the keys and
> values
> 2) It could be that funky dictionary rewriting that I am doing before I pass
> the form parameters to urllib.urlencode.
> 3) I could be something in what urlencode does.
> 
> I am not sure where to look at this point.
> 
> Any ideas, anyone ?? Any help would be greatly appreciated!
> 
> Thanks for your help!
> 
> regards,
> 
> Petar Karafezov
> 
> MetaMarkets.com
> 415-575-3015
> -------------------------------------------
> Investing Out Loud at
> http://www.metamarkets.com
> -------------------------------------------
> 
> --
> http://mail.python.org/mailman/listinfo/python-list

From skidrow at nownuri.net  Wed Mar 14 11:38:58 2001
From: skidrow at nownuri.net (¼­ÅÂÁø)
Date: Fri Jan  9 22:02:38 2004
Subject: [mod_python] Some error while using MoinMoin
Message-ID: <200103140238.LAA14070@lion4.nownuri.net>

I've installed mod_python 2.6.3 and tested it out,

And tried to use MoinMoin(python CGI program..)

with modpython.cgihandler but I've got errors..

I use freebsd 4.2 release, apache 1.3.14 

and my httpd.conf file goes like this..

Addhandler python-program .py
PythonHandler mod_python.cgihandler
PythonDebug On

and It seems to work all right with any other python program

than this "MoinMoin" program..

the log goes like this..

Mod_python error: "PythonHandler mod_python.cgihandler"

Traceback (most recent call last):

  File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line 185,
 in Dispatch
    result = object(self.req)

  File "/usr/local/lib/python2.0/site-packages/mod_python/cgihandler.py", line 
76, in handler
    imp.load_module(module_name, fd, path, desc)

  File "/usr/local/www/cgi-bin/MoinMoin/wiki-moinmoin/moin.py", line 15, in ?
    cgimain.run()

  File "/usr/local/www/cgi-bin/MoinMoin/cgimain.py", line 161, in run
    cgi.print_exception()

  File "/usr/local/lib/python2.0/cgi.py", line 870, in print_exception
    print

  File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line 484,
 in write
    h, v = string.split(line, ":", 1)

ValueError: unpack list of wrong size

Thanks in advance...

 




--MIME Multi-part separator--


From kees.serier at relan.nl  Wed Mar 14 16:50:28 2001
From: kees.serier at relan.nl (Serier, Kees)
Date: Fri Jan  9 22:02:38 2004
Subject: [mod_python] Problem building apache+mod_python on AIX
Message-ID: <AA2536FEE0A9D311887000508B5EDF1E01C2BB68@ab00s003.ab.cadans.nl>

Hello,

I have the following problem with building apache 1.3.19 with mod_python
2.7.2 on AIX 4.2.1
I had the same problem with apache 1.3.14 and mod_python 2.7.1, never got it
running,
but gave it a new try with gcc 2.95.2
I rebuild everything with gcc:
- python 1.5.2
- apache 1.3.19
- mod_python 2.7.2
When rebuilding apache with mod_pyhton, I got Undefined symbol errors from
ld
=============
This is what I did:

Apache 1.3.19:
-------------
   ./configure (default without DSO)
   gmake
   gmake install
   Testing: worked fine (as dit 1.3.14) with CGI and python

Python 1.5.2
------------
   ./configure
   gmake
   gmake test
   gmake install
   Testing with apache 1.3.19 and CGI: worked fine

mod_python 2.7.2:
   ./configure --with-apache=../apache_1.3.19 --with-python=../Python-1.5.2/
   gmake
   gmake install
   
apache 1.3.19:
    cd  /usr/local/src/apache_1.3.19
    ./configure --activate-module=src/modules/python/libpython.a
    gmake
==================
Here follows the last of stdout and stderr:

gmake[4]: Entering directory
`/usr/local/src/apache_1.3.19/src/modules/python'
gmake[4]: Nothing to be done for `all'.
gmake[4]: Leaving directory
`/usr/local/src/apache_1.3.19/src/modules/python'
<=== src/modules/python
gmake[3]: Leaving directory `/usr/local/src/apache_1.3.19/src/modules'
<=== src/modules
gcc -c  -I./os/unix -I./include   -DAIX=42 -U__STR__ -DAIX_BIND_PROCESSOR
-DUSE_HSREGEX -DUSE_EXPAT -I./lib/expat-lite -DNO_DL_NEEDED `./apaci`
modules.c
gcc -c  -I./os/unix -I./include   -DAIX=42 -U__STR__ -DAIX_BIND_PROCESSOR
-DUSE_HSREGEX -DUSE_EXPAT -I./lib/expat-lite -DNO_DL_NEEDED `./apaci`
buildmark.c
gcc  -DAIX=42 -U__STR__ -DAIX_BIND_PROCESSOR -DUSE_HSREGEX -DUSE_EXPAT
-I./lib/expat-lite -DNO_DL_NEEDED `./apaci` -lm   \
      -o httpd buildmark.o modules.o modules/python/libpython.a
modules/standard/libstandard.a main/libmain.a ./os/unix/libos.a ap/libap.a
regex/libregex.a lib/expat-lite/libexpat.a
ld: 0711-317 ERROR: Undefined symbol: .Py_NewInterpreter
ld: 0711-317 ERROR: Undefined symbol: .PyThreadState_Swap
ld: 0711-317 ERROR: Undefined symbol: .PyDict_GetItemString
ld: 0711-317 ERROR: Undefined symbol: .PyCObject_FromVoidPtr
ld: 0711-317 ERROR: Undefined symbol: .PyDict_SetItemString
ld: 0711-317 ERROR: Undefined symbol: .PyCObject_AsVoidPtr
ld: 0711-317 ERROR: Undefined symbol: .PyThreadState_New
ld: 0711-317 ERROR: Undefined symbol: .PyObject_CallFunction
ld: 0711-317 ERROR: Undefined symbol: .PyErr_Fetch
ld: 0711-317 ERROR: Undefined symbol: .PyObject_Str
ld: 0711-317 ERROR: Undefined symbol: .PyString_AsString
ld: 0711-317 ERROR: Undefined symbol: .PyThreadState_Delete
ld: 0711-317 ERROR: Undefined symbol: .Py_GetVersion
ld: 0711-317 ERROR: Undefined symbol: .Py_IsInitialized
ld: 0711-317 ERROR: Undefined symbol: .Py_Initialize
ld: 0711-317 ERROR: Undefined symbol: .PyDict_New
ld: 0711-317 ERROR: Undefined symbol: .PyArg_ParseTuple
ld: 0711-317 ERROR: Undefined symbol: .PyErr_NoMemory
ld: 0711-317 ERROR: Undefined symbol: PyExc_KeyError
ld: 0711-317 ERROR: Undefined symbol: .PyErr_SetObject
ld: 0711-317 ERROR: Undefined symbol: .PyString_FromString
ld: 0711-317 ERROR: Undefined symbol: PyString_Type
ld: 0711-317 ERROR: Undefined symbol: PyExc_TypeError
ld: 0711-317 ERROR: Undefined symbol: .PyErr_SetString
ld: 0711-317 ERROR: Undefined symbol: _Py_NoneStruct
ld: 0711-317 ERROR: Undefined symbol: .PyList_New
ld: 0711-317 ERROR: Undefined symbol: .PyList_SetItem
ld: 0711-317 ERROR: Undefined symbol: .PyInt_FromLong
ld: 0711-317 ERROR: Undefined symbol: .Py_FindMethod
ld: 0711-317 ERROR: Undefined symbol: .PyString_ConcatAndDel
ld: 0711-317 ERROR: Undefined symbol: PyExc_IndexError
ld: 0711-317 ERROR: Undefined symbol: .PyString_FromStringAndSize
ld: 0711-317 ERROR: Undefined symbol: PyExc_IOError
ld: 0711-317 ERROR: Undefined symbol: ._PyString_Resize
ld: 0711-317 ERROR: Undefined symbol: .PyCallable_Check
ld: 0711-317 ERROR: Undefined symbol: PyExc_ValueError
ld: 0711-317 ERROR: Undefined symbol: .PyErr_Clear
ld: 0711-317 ERROR: Undefined symbol: .Py_BuildValue
ld: 0711-317 ERROR: Undefined symbol: .PyMember_Get
ld: 0711-317 ERROR: Undefined symbol: PyExc_AttributeError
ld: 0711-317 ERROR: Undefined symbol: .PyMember_Set
ld: 0711-317 ERROR: Undefined symbol: .PyTuple_New
ld: 0711-317 ERROR: Undefined symbol: .PyTuple_SetItem
ld: 0711-317 ERROR: Undefined symbol: .PyErr_BadArgument
ld: 0711-317 ERROR: Undefined symbol: .PyList_Append
ld: 0711-317 ERROR: Undefined symbol: .PyList_Size
ld: 0711-317 ERROR: Undefined symbol: .PyMapping_HasKeyString
ld: 0711-317 ERROR: Undefined symbol: .PyDict_GetItem
ld: 0711-317 ERROR: Undefined symbol: .PyDict_SetItem
ld: 0711-317 ERROR: Undefined symbol: PyType_Type
ld: 0711-317 ERROR: Undefined symbol: .Py_InitModule4
ld: 0711-317 ERROR: Undefined symbol: .PyModule_GetDict
ld: 0711-317 ERROR: Undefined symbol: .PyErr_NewException
ld: 0711-317 ERROR: Undefined symbol: .PyImport_ImportModule
ld: 0711-317 ERROR: Undefined symbol: .PyObject_CallMethod
ld: 0711-317 ERROR: Undefined symbol: .PyEval_SaveThread
ld: 0711-317 ERROR: Undefined symbol: .PyEval_RestoreThread
ld: 0711-317 ERROR: Undefined symbol: PyInt_Type
ld: 0711-317 ERROR: Undefined symbol: .PyInt_AsLong
ld: 0711-317 ERROR: Undefined symbol: Py_OptimizeFlag
ld: 0711-317 ERROR: Undefined symbol: .Py_Finalize
ld: 0711-317 ERROR: Undefined symbol: .PyObject_GetAttrString
ld: 0711-317 ERROR: Undefined symbol: .PySequence_Index
ld: 0711-317 ERROR: Undefined symbol: .PyList_SetSlice
ld: 0711-317 ERROR: Undefined symbol: .PyErr_Occurred
ld: 0711-317 ERROR: Undefined symbol: .PyErr_Print
ld: 0711-345 Use the -bloadmap or -bnoquiet option to obtain more
information.
collect2: ld returned 8 exit status
gmake[2]: *** [target_static] Error 1
gmake[2]: Leaving directory `/usr/local/src/apache_1.3.19/src'
gmake[1]: *** [build-std] Error 2
gmake[1]: Leaving directory `/usr/local/src/apache_1.3.19'
gmake: *** [build] Error 2

find /usr/local/src -name libpython.a -exec ls -l {} \;
-rwxr-xr-x   1 root     begeer     98020 Mar 14 15:53
./apache_1.3.19/src/modules/python/libpython.a
-rw-r--r--   1 root     beheer     98020 Mar 14 15:53
./mod_python-2.7.2/src/libpython.a


From brianh at exelixis.com  Wed Mar 14 11:45:40 2001
From: brianh at exelixis.com (Brian Hawthorne)
Date: Fri Jan  9 22:02:38 2004
Subject: [mod_python] _apache.parse_qsl is buggy (mod_python2.7.2)
Message-ID: <Pine.GSO.4.05.10103141145090.24622-100000@timeless.exelixis.com>

i thought it would be useful to point out (mod_python2.7.2) that this
function, implemented in _apachemodule.c, which should support the same
interface and functionality as the standard python cgi.parse_qsl, does not
correctly parse form values from an ampersand delimited string of
key=value pairs.  sometimes it simply drops some pairs, other times it
mangles the keys and/or values.  i worked around this by adding to 
line 110 of mod_python/util.py:
            import cgi
            pairs = cgi.parse_qsl(req.args, keep_blank_values=1)

brian hawthorne
Associate Informatics Research Scientist
Exelixis, Inc.



From ensim.ml.mod_python at ensim.com  Wed Mar 14 11:53:53 2001
From: ensim.ml.mod_python at ensim.com (Ensim-Newsgroups.Mailing-Lists.Mod_Python-List)
Date: Fri Jan  9 22:02:38 2004
Subject: [mod_python] any production systems out there?
Message-ID: <9AC41B8C4781464695BB013F106FCA3181A658@nasdaq.ms.ensim.com>

i'm trying to evaluate mod python for a production system, and i'd like to
get feedback...

- is anyone using mod_python in a production environment?
- is your production site a heavily hit site?
- are there any memory issues (does modpython consume an unusual amount of
memory)?
- are there any stability issues?


From CHagner at fool.com  Thu Mar 15 01:08:02 2001
From: CHagner at fool.com (Chris Hagner)
Date: Fri Jan  9 22:02:38 2004
Subject: [mod_python] PythonImport failure
Message-ID: <13CDDE6A53DBD311BC3200508B6F0C4804DAFC57@rover.foolhq.com>

Greetings,

I'm trying to get the PythonImport command to work.  Been through the
documentation, but it appears to want more than simply inserting 

   PythonImport mypackage.mymodule

within my Directory tags in httd.conf.

While mypackage.mymodule is under the standard python lib directory
(therefore should be found through the sys.path), the system spat out the
following...

    ...[error] directive_PythonImport: error importing mypackage.mymodule

I then moved the module to a different directory and appended that directory
to the sys.path using the PythonPath command (just to see if that allowed it
to find the module).  No luck.

I've found a handful of posts from June and August of last year, but no
posted solutions to getting the PythonImport command to work correctly.  Of
course, there's a CVS commit with the comment "PythonImport works now" so
I'm pretty sure it's me...

As a random test, I tried a standard module...

   PythonImport sys

which appeared to work (no error msg), but I'm not really confident that
this was a meaningful test.

Thanks in advance.

Chris
chagner _at_ fool _dot_ com



From rdevide at ican.at  Thu Mar 15 09:46:18 2001
From: rdevide at ican.at (Devide Robert)
Date: Fri Jan  9 22:02:38 2004
Subject: [mod_python] any production systems out there?
References: <9AC41B8C4781464695BB013F106FCA3181A658@nasdaq.ms.ensim.com>
Message-ID: <3AB0815A.5111D98C@ican.at>

> - is anyone using mod_python in a production environment?
yes, e.g. www.ican.at
using Linux, 
      Apache, 
      Mysql, 
  mod_Python
running on a serverfarm of 4 PCs

> - is your production site a heavily hit site?
1.100.000 Visits per Month, 3.700.000 Pageimpressions

> - are there any memory issues (does modpython consume an unusual amount of
> memory)?
no
(that is there occured memory leaks, but we didn't locate which
component of LAMP produces that,
we just set MaxRequestsPerChild in the apache config to a reasonable
value)

> - are there any stability issues?
no

dave

From grisha at verio.net  Thu Mar 15 11:26:25 2001
From: grisha at verio.net (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 22:02:38 2004
Subject: [mod_python] PythonImport failure
In-Reply-To: <13CDDE6A53DBD311BC3200508B6F0C4804DAFC57@rover.foolhq.com>
Message-ID: <Pine.BSF.4.32.0103151124130.18178-100000@localhost>

Chris -

Have you tried

>>> import mypackage.mymodule

from an interactive Python session?

Also, regarding PythonPath - if you read documentation carefully, you'll
notice that it says that no other directives have any effect at the time
PythonImport is executed.

Generally, you should not use PythonImport unless you *really* need it,
which is almost never the case.

Grisha


On Thu, 15 Mar 2001, Chris Hagner wrote:

> Greetings,
>
> I'm trying to get the PythonImport command to work.  Been through the
> documentation, but it appears to want more than simply inserting
>
>    PythonImport mypackage.mymodule
>
> within my Directory tags in httd.conf.
>
> While mypackage.mymodule is under the standard python lib directory
> (therefore should be found through the sys.path), the system spat out the
> following...
>
>     ...[error] directive_PythonImport: error importing mypackage.mymodule
>
> I then moved the module to a different directory and appended that directory
> to the sys.path using the PythonPath command (just to see if that allowed it
> to find the module).  No luck.
>
> I've found a handful of posts from June and August of last year, but no
> posted solutions to getting the PythonImport command to work correctly.  Of
> course, there's a CVS commit with the comment "PythonImport works now" so
> I'm pretty sure it's me...
>
> As a random test, I tried a standard module...
>
>    PythonImport sys
>
> which appeared to work (no error msg), but I'm not really confident that
> this was a meaningful test.
>
> Thanks in advance.
>
> Chris
> chagner _at_ fool _dot_ com
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From CHagner at fool.com  Thu Mar 15 12:06:46 2001
From: CHagner at fool.com (Chris Hagner)
Date: Fri Jan  9 22:02:38 2004
Subject: [mod_python] PythonImport failure
Message-ID: <13CDDE6A53DBD311BC3200508B6F0C4804DAFC63@rover.foolhq.com>

Thanks for the response.  For my tests, mypackage is a package named
'toolkit' and the mymodule is a module named 'brandconfig'.

Oh yeah, I'm doing this on Apache/1.3.19 (Win32) mod_python/2.7.1
Python/2.0.  I'm on Win2K (for development, sigh).

INTERACTIVE SESSION TEST:
******************************

Here's my python interactive session... the module only contains a single
variable x.

>>> import toolkit.brandconfig
>>> dir(toolkit.brandconfig)
['__builtins__', '__doc__', '__file__', '__name__', 'x']
>>> toolkit.brandconfig.x
123
>>> 

So, the module is importable in my python environment.


APACHE PYTHONIMPORT TEST:
******************************

Just to be sure, I ran the apache test again.  Here's the httpd.conf entry.
Nothing shocking.

<Directory "D:/site/brand1/htdocs">
   AddHandler python-program .py
   PythonHandler toolkit.publisher
   PythonDebug on
   PythonImport toolkit.brandconfig
</Directory>

Here's the response in the log upon starting apache.

   [Thu Mar 15 11:39:10 2001] [error] directive_PythonImport: error
importing toolkit.brandconfig

Same as before.  Now, just to be sure, I blew away the brandconfig.py file
(and the .pyc) so that it shouldn't even find it (just to see if I could get
a different error if it didn't even exist).  Result: No change.  Same error
in error.log.  Apparently, it's not even finding it.

APACHE PYTHON SCRIPT TEST:
******************************

So, it wasn't importing it on start up.  How about a python script in
mod_python?

Here's the code blurb...

	import foolkit.brandconfig
       out_string = "foolkit.brandconfig.x: %s \n"% foolkit.brandconfig.x

Did it work?  yup, the page displayed 

	foolkit.brandconfig.x: 123



Yes, I have read through the documentation and my need is to initialize a
number of objects (i.e. dbconn pool) for use throughout my applications.
Now, I am using a custom handler, so I could simply have the handler do this
initialization the first time it runs, but the PythonImport appeared to be a
code-free way to achieve this goal.  Do you all think this is a case where I
*really* need it?  If not, could someone share an example of when it really
deserves to be used?

Thanks again for the help.

Chris

-----Original Message-----
From: Gregory (Grisha) Trubetskoy [mailto:grisha@verio.net]
Sent: Thursday, March 15, 2001 11:26 AM
To: Chris Hagner
Cc: 'mod_python@modpython.org'
Subject: Re: [mod_python] PythonImport failure



Chris -

Have you tried

>>> import mypackage.mymodule

from an interactive Python session?

Also, regarding PythonPath - if you read documentation carefully, you'll
notice that it says that no other directives have any effect at the time
PythonImport is executed.

Generally, you should not use PythonImport unless you *really* need it,
which is almost never the case.

Grisha


On Thu, 15 Mar 2001, Chris Hagner wrote:

> Greetings,
>
> I'm trying to get the PythonImport command to work.  Been through the
> documentation, but it appears to want more than simply inserting
>
>    PythonImport mypackage.mymodule
>
> within my Directory tags in httd.conf.
>
> While mypackage.mymodule is under the standard python lib directory
> (therefore should be found through the sys.path), the system spat out the
> following...
>
>     ...[error] directive_PythonImport: error importing mypackage.mymodule
>
> I then moved the module to a different directory and appended that
directory
> to the sys.path using the PythonPath command (just to see if that allowed
it
> to find the module).  No luck.
>
> I've found a handful of posts from June and August of last year, but no
> posted solutions to getting the PythonImport command to work correctly.
Of
> course, there's a CVS commit with the comment "PythonImport works now" so
> I'm pretty sure it's me...
>
> As a random test, I tried a standard module...
>
>    PythonImport sys
>
> which appeared to work (no error msg), but I'm not really confident that
> this was a meaningful test.
>
> Thanks in advance.
>
> Chris
> chagner _at_ fool _dot_ com
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>

From L.A.Timochouk at ukc.ac.uk  Thu Mar 15 18:57:10 2001
From: L.A.Timochouk at ukc.ac.uk (Leonid Timochouk)
Date: Fri Jan  9 22:02:38 2004
Subject: [mod_python] any production systems out there?
In-Reply-To: <9AC41B8C4781464695BB013F106FCA3181A658@nasdaq.ms.ensim.com>
Message-ID: <Pine.GSO.4.21.0103151503450.9416-100000@myrtle.ukc.ac.uk>

Yes, we are using "mod_python" on our site (http://www.top-greetings.com)
which has a fairly heavy traffic. The performance seems to be very good,
and no memory-related problems were ever observed. So yes, "mod_python" IS
suitable for production systems!

Dr. Leonid Timochouk


From CHagner at fool.com  Thu Mar 15 14:13:11 2001
From: CHagner at fool.com (Chris Hagner)
Date: Fri Jan  9 22:02:38 2004
Subject: [mod_python] any production systems out there?
Message-ID: <13CDDE6A53DBD311BC3200508B6F0C4804DAFC69@rover.foolhq.com>

Can you give a little more details on your level of traffic.

Anything along the lines of #pages/month, # unique visitors (estimated,
although this is tough to get for most sites) and even # of servers (just
for my interest, not for any scientific calculations) would be great.

Thanks.

Chris

-----Original Message-----
From: Leonid Timochouk [mailto:L.A.Timochouk@ukc.ac.uk]
Sent: Thursday, March 15, 2001 1:57 PM
To: Ensim-Newsgroups.Mailing-Lists.Mod_Python-List
Cc: 'mod_python@modpython.org'
Subject: Re: [mod_python] any production systems out there?



Yes, we are using "mod_python" on our site (http://www.top-greetings.com)
which has a fairly heavy traffic. The performance seems to be very good,
and no memory-related problems were ever observed. So yes, "mod_python" IS
suitable for production systems!

Dr. Leonid Timochouk

_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From miguel at yorku.ca  Thu Mar 15 15:57:22 2001
From: miguel at yorku.ca (Miguel Marques)
Date: Fri Jan  9 22:02:38 2004
Subject: [mod_python] any production systems out there?
In-Reply-To: <9AC41B8C4781464695BB013F106FCA3181A658@nasdaq.ms.ensim.com>
References: <9AC41B8C4781464695BB013F106FCA3181A658@nasdaq.ms.ensim.com>
Message-ID: <20010315155722T.miguel@yorku.ca>

On Wed, 14 Mar 2001 11:53:53 -0800, "Ensim-Newsgroups.Mailing-Lists.Mod_Python-List" <ensim.ml.mod_python@ensim.com> wrote:
> i'm trying to evaluate mod python for a production system, and i'd like to
> get feedback...
> 
> - is anyone using mod_python in a production environment?

We use it at York University for seveal of our Web Applications.
Account Management System, Activation of Residence Network Drops,
the search interface to our LDAP server, etc, with more to come...

> - is your production site a heavily hit site?
Depends what you consider a heavily hit site.   We probably don't get
more than 50 to 60 users using our sites concurrently but unfortunately
I don't currently have good stats on usage.   As far as I can tell
performance is as good as applications written with mod_perl.

> - are there any memory issues (does modpython consume an unusual amount of
> memory)?
Yes, but less than than a httpd with mod_perl built in.
Still running mod_python/2.6.3 Python/1.5.2 other versions maybe
different.

> - are there any stability issues?
We had problems before the current version of mod_python with some
obscure bugs having to do with threading but those were fixed on
2.6.2.  Other than that no problems.

							Miguel

C. Miguel Marques, York University, Computing & Network Services
e-mail: miguel@yorku.ca, voice: (416)736-2100x22684, fax: (416)736-5830

From miguel at yorku.ca  Thu Mar 15 16:48:51 2001
From: miguel at yorku.ca (Miguel Marques)
Date: Fri Jan  9 22:02:39 2004
Subject: [mod_python] Passing C structure into python?
Message-ID: <20010315164851I.miguel@yorku.ca>

Greetings...

I previously had a authentication handler written in python which 
using a python extension opened a connection a database.

Since the main request handler was also written in python and needed
to use that connection to the database I just assigned the connection
object to a member of the request object in the authentication
handler.  The main request handler then could access the database
connection using that member of the request object.

I have now rewritten the authentication handler as an apache module
written in C but I still would like to pass that connection to the
database into the main request handler which is written in python.
(I'm opening a connection to the database on both places right now
which is impacting performance)

Any idea how I could do that?  I assume I'll need another python C
module to return me a python variable to use in the main request handler.
The question is where do I store the connection C structure in the
authentication handler so that the handler can get at it?
I don't think I can use the notes field for that.

Any help would be greatly appreciated...

						Miguel

C. Miguel Marques, York University, Computing & Network Services
e-mail: miguel@yorku.ca, voice: (416)736-2100x22684, fax: (416)736-5830

From grisha at verio.net  Thu Mar 15 17:31:33 2001
From: grisha at verio.net (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 22:02:39 2004
Subject: [mod_python] Passing C structure into python?
In-Reply-To: <20010315164851I.miguel@yorku.ca>
Message-ID: <Pine.BSF.4.32.0103151728420.19898-100000@localhost>

I think req->notes is your best bet. Look at mod_python.c in
get_request_object() for an example. It's not pretty, but it works....

Grisha

On Thu, 15 Mar 2001, Miguel Marques wrote:

> Greetings...
>
> I previously had a authentication handler written in python which
> using a python extension opened a connection a database.
>
> Since the main request handler was also written in python and needed
> to use that connection to the database I just assigned the connection
> object to a member of the request object in the authentication
> handler.  The main request handler then could access the database
> connection using that member of the request object.
>
> I have now rewritten the authentication handler as an apache module
> written in C but I still would like to pass that connection to the
> database into the main request handler which is written in python.
> (I'm opening a connection to the database on both places right now
> which is impacting performance)
>
> Any idea how I could do that?  I assume I'll need another python C
> module to return me a python variable to use in the main request handler.
> The question is where do I store the connection C structure in the
> authentication handler so that the handler can get at it?
> I don't think I can use the notes field for that.
>
> Any help would be greatly appreciated...
>
> 						Miguel
>
> C. Miguel Marques, York University, Computing & Network Services
> e-mail: miguel@yorku.ca, voice: (416)736-2100x22684, fax: (416)736-5830
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From brett at bookshop.unsw.edu.au  Fri Mar 16 15:08:04 2001
From: brett at bookshop.unsw.edu.au (Brett Haydon)
Date: Fri Jan  9 22:02:39 2004
Subject: [mod_python] Heavy Testing
Message-ID: <NCBBKMABOKFCDLPIKKGIEEAICKAA.brett@bookshop.unsw.edu.au>

Hi,

I'm just in the process of putting in an ecommerce
application based on modpython to replace an existing site,
and am just about to enter a beta testing phase on a live
site. I'm interested if anyone has feedback about their
experiences with medium-large sites.

Based on the existing usage I expect about 2000 page views a day
(17,000 hits).

The key area I'm concerned about is garbage collection/memory usage.
Having tested it with only 2-5 simultaneous clients over short periods makes
me a little nervous..

I can't help but wonder why python/modpython isn't growing as fast as
php as in principle python/modpython seems a superior solution (It sure as
hell is quicker to develop with).

regards,

______________________________________________
Brett Haydon


From ensim.ml.mod_python at ensim.com  Mon Mar 19 14:10:18 2001
From: ensim.ml.mod_python at ensim.com (Ensim-Newsgroups.Mailing-Lists.Mod_Python-List)
Date: Fri Jan  9 22:02:39 2004
Subject: [mod_python] setup of python2.1 with and without mod_python
Message-ID: <9AC41B8C4781464695BB013F106FCA3181A680@nasdaq.ms.ensim.com>

i want to be able to run regular python via shell and python via mod_python.

i got modpython to compile under 2.1beta with threading off.

is it possible to have the following environment on a server:

/usr/lib/python2.1/* compiled with threading on (pyc + so files)
/usr/bin/python compiled with threading on
** and **
apache's mod_python.so : dso apache module compiled with python threading
off (i downloaded 2.1 source, did a configure --without-threads, and
compiled mod_python against this source tree)

if my mod_python scripts import libraries from /usr/lib/python2.1/ (ie
import pyc and so files compiled with --with-threads), will it break in the
above environment?

basically, i don't want to have 2 different /usr/lib/python2.1...one for
regular python (invoked via shell) and one for use with mod_python.


From joost.damad at siemens.atea.be  Tue Mar 20 08:06:31 2001
From: joost.damad at siemens.atea.be (Joost Yervante Damad)
Date: Fri Jan  9 22:02:39 2004
Subject: [mod_python] setup of python2.1 with and without mod_python
In-Reply-To: <9AC41B8C4781464695BB013F106FCA3181A680@nasdaq.ms.ensim.com>; from ensim.ml.mod_python@ensim.com on Mon, Mar 19, 2001 at 02:10:18PM -0800
References: <9AC41B8C4781464695BB013F106FCA3181A680@nasdaq.ms.ensim.com>
Message-ID: <20010320080631.A1999@siemens.atea.be>

'Ensim-Newsgroups.Mailing-Lists.Mod_Python-List' wrote about '[mod_python] setup of python2.1 with and without mod_python' - Mon, Mar 19, 2001 at 11:10:18PM CET
> i want to be able to run regular python via shell and python via mod_python.
> 
> i got modpython to compile under 2.1beta with threading off.
> 
> is it possible to have the following environment on a server:
> 
> /usr/lib/python2.1/* compiled with threading on (pyc + so files)
> /usr/bin/python compiled with threading on
> ** and **
> apache's mod_python.so : dso apache module compiled with python threading
> off (i downloaded 2.1 source, did a configure --without-threads, and
> compiled mod_python against this source tree)
> 
> if my mod_python scripts import libraries from /usr/lib/python2.1/ (ie
> import pyc and so files compiled with --with-threads), will it break in the
> above environment?
> 
> basically, i don't want to have 2 different /usr/lib/python2.1...one for
> regular python (invoked via shell) and one for use with mod_python.
> 

Good point. In our lab setup we do the same:

 * mod_python uses an embedded non-threaded python interpreted
 * /opt/Python/* contains an installed normal python which is
   compiled *with* threading.

If I now use modules from that python it seems to work fine.

Is this legal/okay ?

-- 
Joost Damad - Siemens IC D NC A - +3214252297
--
Five is a sufficiently close approximation to infinity.
       -- Robert Firth
"One, two, five."
       -- Monty Python and the Holy Grail

From ensim.ml.mod_python at ensim.com  Tue Mar 20 16:37:59 2001
From: ensim.ml.mod_python at ensim.com (Ensim-Newsgroups.Mailing-Lists.Mod_Python-List)
Date: Fri Jan  9 22:02:39 2004
Subject: [mod_python] apache 1.3.14 + mod_python 2.7.2 + python 2.0/2.1b1 + PyGreSQL 3.
 1 + mxdatetime 2.0
Message-ID: <9AC41B8C4781464695BB013F106FCA3181A68A@nasdaq.ms.ensim.com>

thought you guys might interested on my experience with getting this up and
running.

- ensured python 1.5.2 wasn't installed (or you could set your path to
something like export PATH=/usr/local/python2.1/bin:$PATH, so the py2.x had
preference).  the python binary gets invoked by various build scripts
(disutils and makefiles), so its important the right version is being
invoked.
- had to compile python without thread support (mod_python requirement)
- needed to change mod_python's configure script in order to compile with
2.1b1 (had no problems with 2.0).  there was a line grep xxx
Modules/Makefile.  i changed it to grep xxx Makefile.
- set OPT=-DEAPI in src/Makefile in mod_python (from a posting to modpython
mailist list).
- changed pgdb.py and removed "import exceptions"...it was giving my
mod_python scripts weird errors.  it seems python 2.x moved the exceptions
module into built-ins.
- changed pgdb.py from "import DateTime" to "from mx import DateTime".  (i
used egenix's mxdatetime and compiled from source). DateTime is required by
pgdb.

i did a simple query from a mod_pythonscript and things seem to work.

btw, i wrote 2 scripts to do a simple query in php and mod_python and i got
these amazing results from httperf (server = pentium3-550/rh62/ide, client =
pentium3-300/rh70/ide):

MODPYTHON ============================================
dbtest.py:
from mod_python import apache
import pgdb
import sys
 
db = pgdb.connect(user='naris', database='perftest')
 
def handler(req):
    req.content_type = "text/html"
    req.send_http_header()
    cursor = db.cursor()
    cursor.execute("SELECT * FROM perftable")
    retval = cursor.fetchall()
    req.write(retval[0][0])
    req.write(retval[1][0])
    return apache.OK

./httperf --server=blueberry.wh.ensim.com --port=19638
--uri=/modpython/dbtest.py --num-conns=1 --num-calls=100
httperf --client=0/1 --server=blueberry.wh.ensim.com --port=19638
--uri=/modpython/dbtest.py --send-buffer=4096 --recv-buffer=16384
--num-conns=1 --num-calls=100
Maximum connect burst length: 0

Total: connections 1 requests 100 replies 100 test-duration 0.333 s

Connection rate: 3.0 conn/s (333.1 ms/conn, <=1 concurrent connections)
Connection time [ms]: min 333.1 avg 333.1 max 333.1 median 333.5 stddev 0.0
Connection time [ms]: connect 0.4
Connection length [replies/conn]: 100.000

Request rate: 300.2 req/s (3.3 ms/req)
Request size [B]: 92.0

Reply rate [replies/s]: min 0.0 avg 0.0 max 0.0 stddev 0.0 (0 samples)
Reply time [ms]: response 3.2 transfer 0.1
Reply size [B]: header 182.0 content 30.0 footer 2.0 (total 214.0)
Reply status: 1xx=0 2xx=100 3xx=0 4xx=0 5xx=0

CPU time [s]: user 0.07 system 0.22 (user 21.0% system 66.0% total 87.1%)
Net I/O: 89.1 KB/s (0.7*10^6 bps)

Errors: total 0 client-timo 0 socket-timo 0 connrefused 0 connreset 0
Errors: fd-unavail 0 addrunavail 0 ftab-full 0 other 0

PHP ============================================
dbtest.php:
<?php
   $database = pg_Connect ("dbname=perftest user=naris");
   $result = pg_Exec ($database, "select * from perftable");
   $arr = pg_fetch_array($result, 0);
   echo $arr[0];
   $arr = pg_fetch_array($result, 1);
   echo $arr[0];
?>
./httperf --server=blueberry.wh.ensim.com --port=19638 --uri=/php/dbtest.php
--num-conns=1 --num-calls=100
httperf --client=0/1 --server=blueberry.wh.ensim.com --port=19638
--uri=/php/dbtest.php --send-buffer=4096 --recv-buffer=16384 --num-conns=1
--num-calls=100
Maximum connect burst length: 0

Total: connections 1 requests 100 replies 100 test-duration 2.031 s

Connection rate: 0.5 conn/s (2031.0 ms/conn, <=1 concurrent connections)
Connection time [ms]: min 2031.0 avg 2031.0 max 2031.0 median 2031.5 stddev
0.0 Connection time [ms]: connect 0.5
Connection length [replies/conn]: 100.000

Request rate: 49.2 req/s (20.3 ms/req)
Request size [B]: 87.0

Reply rate [replies/s]: min 0.0 avg 0.0 max 0.0 stddev 0.0 (0 samples)
Reply time [ms]: response 20.3 transfer 0.0
Reply size [B]: header 208.0 content 30.0 footer 2.0 (total 240.0)
Reply status: 1xx=0 2xx=100 3xx=0 4xx=0 5xx=0

CPU time [s]: user 0.49 system 1.50 (user 24.1% system 73.9% total 98.0%)
Net I/O: 15.6 KB/s (0.1*10^6 bps)

Errors: total 0 client-timo 0 socket-timo 0 connrefused 0 connreset 0
Errors: fd-unavail 0 addrunavail 0 ftab-full 0 other 0

---
Naris Siamwalla
naris@ensim.com


From marcf at becomm.com  Wed Mar 21 12:55:55 2001
From: marcf at becomm.com (Marc Fiuczynski)
Date: Fri Jan  9 22:02:39 2004
Subject: [mod_python] problem with publisher.py File class w/ possible fix
Message-ID: <A9DFD9380C01D4118E740050DA7A89703860FA@becomm-mis2.becomm.com>

Hi,

I am having a problem with the publisher.py File class, which I have fixed,
but I would like your approval.

My configuration is as follows:
mod_python 2.7.2
python 2.0
apache 1.3.14
Red Hat Linux 7.0

I am using mod python to do http_post operations with files.  This uses the
publisher.py File class.  The __init__ method of that class steals all of
the file-like methods, as shown below:

        # steal all the file-like methods
        methods = field.file.__methods__
        for m in methods:
            self.__dict__[m] = methods[m]

I was getting an error in that last line saying that 'm' needed to be an
int.  (Sorry, I forget the actual error).  I found some other code that was
doing the exact same thing and noticed that they were assigning the methods
in a different manner (using setattr).  See below:

        # steal all the file-like methods
        file = field.file
        for method in file.__methods__:
            setattr(self, method, getattr(file, method))

This seems to work.  I am too nascent to Python to understand the history of
the built-in __xyz__ fields in objects, and whether this is something
specific to Python 2.0 versus an older version of Python.  Please review and
if it is the right thing, then feel free to incorporate this change into
your mod_python code base.

Cheers,
Marc


From marcf at becomm.com  Wed Mar 21 13:09:30 2001
From: marcf at becomm.com (Marc Fiuczynski)
Date: Fri Jan  9 22:02:39 2004
Subject: [mod_python] problem with auto_reload in apache.py
Message-ID: <A9DFD9380C01D4118E740050DA7A89703860FB@becomm-mis2.becomm.com>

Hi, 

apache.py seems to be having trouble reloading my python modules when I
update them.  This happens when apache is running with mod_python, and I
then change my python module.  It fails in several odd ways:

1) after I change my python module, mod_python will work every other time
that I use it via my browser.
2) after I change my python module, mod_python completely fails to reload
it.

In either case, if I send a HUP signal to the apache server, then everything
works just fine afterwards.



My configuration is as follows:
*	python module is being invoked via mod_python's publisher interface.
*	mod_python 2.7.2
*	python 2.0
*	apache 1.3.14
*	Red Hat Linux 7.0

I have apache configured with the following:
  AddHandler python-program .py
  PythonHandler mod_python.publisher
  PythonDebug On
  PythonNoReload Off

Can anyone provide some insight?!

Thanks,
Marc


From grisha at verio.net  Wed Mar 21 16:29:44 2001
From: grisha at verio.net (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 22:02:39 2004
Subject: [mod_python] problem with auto_reload in apache.py
In-Reply-To: <A9DFD9380C01D4118E740050DA7A89703860FB@becomm-mis2.becomm.com>
Message-ID: <Pine.BSF.4.32.0103211627550.79428-100000@localhost>

The reload mechanism isn't 100% reliable, and every once in a while you
will need to restart the server.

But if you're getting consistent problems, I would make sure that all the
permissions are set correctly - pay attention to what the apache server
runs as, as well as what the permissions are on the .py and .pyc files.

Grisha


On Wed, 21 Mar 2001, Marc Fiuczynski wrote:

> Hi,
>
> apache.py seems to be having trouble reloading my python modules when I
> update them.  This happens when apache is running with mod_python, and I
> then change my python module.  It fails in several odd ways:
>
> 1) after I change my python module, mod_python will work every other time
> that I use it via my browser.
> 2) after I change my python module, mod_python completely fails to reload
> it.
>
> In either case, if I send a HUP signal to the apache server, then everything
> works just fine afterwards.
>
>
>
> My configuration is as follows:
> *	python module is being invoked via mod_python's publisher interface.
> *	mod_python 2.7.2
> *	python 2.0
> *	apache 1.3.14
> *	Red Hat Linux 7.0
>
> I have apache configured with the following:
>   AddHandler python-program .py
>   PythonHandler mod_python.publisher
>   PythonDebug On
>   PythonNoReload Off
>
> Can anyone provide some insight?!
>
> Thanks,
> Marc
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From brianh at exelixis.com  Wed Mar 21 15:37:50 2001
From: brianh at exelixis.com (Brian Hawthorne)
Date: Fri Jan  9 22:02:39 2004
Subject: [mod_python] problem with auto_reload in apache.py
In-Reply-To: <A9DFD9380C01D4118E740050DA7A89703860FB@becomm-mis2.becomm.com>
Message-ID: <Pine.GSO.4.05.10103211531030.29056-100000@timeless.exelixis.com>

marc, i had very similar and equally strange problems with the
module reloading; if for example 3 different versions of the module had
been loaded since the last apache restart, it would use them in a random
repetitive sequence, like  12231321133313211223132112231321... etc.
_very_ strange.  i fixed the problem with some changes to the
mod_python.apache.import_module function.  i've included my improved
version below.

hope it helps!
brian

#---------------------------------------------------------------------
def import_module(module_name, req=None, path=None):
    """ 
    Get the module to handle the request. If
    autoreload is on, then the module will be reloaded
    if it has changed since the last import.
    """

    # get the options
    autoreload, debug = 1, None
    if req:
        config = req.get_config()
        autoreload = not config.has_key("PythonNoReload")
        debug = not config.has_key("PythonDebug")

    # try to import the module

    oldmtime = None
    mtime = None

    if  not autoreload:

        parts = string.split(module_name, '.')
        for i in range(len(parts)):
            f, p, d = imp.find_module(parts[i], path)
            try:
                mname = string.join(parts[:i+1], ".")
                module = imp.load_module(mname, f, p, d)
            finally:
                if f: f.close()
            if hasattr(module, "__path__"):
                path = module.__path__

        # import module
        #module = __import__(module_name)
        #components = string.split(module_name, '.')
        #for cmp in components[1:]:
        #    module = getattr(module, cmp)

    else:

        # keep track of file modification time and
        # try to reload it if it is newer
        if sys.modules.has_key(module_name):

            # the we won't even bother importing
            module = sys.modules[module_name]

            # does it have __mtime__ ?
            if sys.modules[module_name].__dict__.has_key("__mtime__"):
                # remember it
                oldmtime = sys.modules[ module_name ].__mtime__

        # import the module for the first time
        else:

            parts = string.split(module_name, '.')
            for i in range(len(parts)):
                f, p, d = imp.find_module(parts[i], path)
                try:
                    mname = string.join(parts[:i+1], ".")
                    module = imp.load_module(mname, f, p, d)
                finally:
                    if f: f.close()
                if hasattr(module, "__path__"):
                    path = module.__path__

##            module = __import__(module_name)
##            components = string.split(module_name, '.')
##            for cmp in components[1:]:
##                module = getattr(module, cmp)

        # find out the last modification time
        # but only if there is a __file__ attr
        if module.__dict__.has_key("__file__"):

            filepath = module.__file__

            if os.path.exists(filepath):

                mod = os.stat(filepath)
                mtime = mod[stat.ST_MTIME]

            # check also .py and take the newest
            if os.path.exists(filepath[:-1]) :

                # get the time of the .py file
                mod = os.stat(filepath[:-1])
                mtime = max(mtime, mod[stat.ST_MTIME])

    # if module is newer - reload
    if (autoreload and (oldmtime < mtime)):
        del sys.modules[module_name]
        # import the module as if for the first time
        parts = string.split(module_name, '.')
        for i in range(len(parts)):
            f, p, d = imp.find_module(parts[i], path)
            try:
                mname = string.join(parts[:i+1], ".")
                module = imp.load_module(mname, f, p, d)
            finally:
                if f: f.close()
            if hasattr(module, "__path__"):
                path = module.__path__

        #try: module = reload(module)
        #except: pass

    # save mtime
    module.__mtime__ = mtime

    return module
#---------------------------------------------------------------------

On Wed, 21 Mar 2001, Marc Fiuczynski wrote:

> Hi, 
> 
> apache.py seems to be having trouble reloading my python modules when I
> update them.  This happens when apache is running with mod_python, and I
> then change my python module.  It fails in several odd ways:
> 
> 1) after I change my python module, mod_python will work every other time
> that I use it via my browser.
> 2) after I change my python module, mod_python completely fails to reload
> it.
> 
> In either case, if I send a HUP signal to the apache server, then everything
> works just fine afterwards.
> 
> 
> 
> My configuration is as follows:
> *	python module is being invoked via mod_python's publisher interface.
> *	mod_python 2.7.2
> *	python 2.0
> *	apache 1.3.14
> *	Red Hat Linux 7.0
> 
> I have apache configured with the following:
>   AddHandler python-program .py
>   PythonHandler mod_python.publisher
>   PythonDebug On
>   PythonNoReload Off
> 
> Can anyone provide some insight?!
> 
> Thanks,
> Marc
> 
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
> 


From marcf at becomm.com  Wed Mar 21 17:58:18 2001
From: marcf at becomm.com (Marc Fiuczynski)
Date: Fri Jan  9 22:02:39 2004
Subject: [mod_python] problem with auto_reload in apache.py
Message-ID: <A9DFD9380C01D4118E740050DA7A8970386101@becomm-mis2.becomm.com>

Brian,

Your version of the code seems to make it work properly.

Thank you.

Marc

-----Original Message-----
From: Brian Hawthorne [mailto:brianh@exelixis.com]
Sent: Wednesday, March 21, 2001 3:38 PM
To: Marc Fiuczynski
Cc: 'mod_python@modpython.org'
Subject: Re: [mod_python] problem with auto_reload in apache.py


marc, i had very similar and equally strange problems with the
module reloading; if for example 3 different versions of the module had
been loaded since the last apache restart, it would use them in a random
repetitive sequence, like  12231321133313211223132112231321... etc.
_very_ strange.  i fixed the problem with some changes to the
mod_python.apache.import_module function.  i've included my improved
version below.

hope it helps!
brian

#---------------------------------------------------------------------
def import_module(module_name, req=None, path=None):
    """ 
    Get the module to handle the request. If
    autoreload is on, then the module will be reloaded
    if it has changed since the last import.
    """

    # get the options
    autoreload, debug = 1, None
    if req:
        config = req.get_config()
        autoreload = not config.has_key("PythonNoReload")
        debug = not config.has_key("PythonDebug")

    # try to import the module

    oldmtime = None
    mtime = None

    if  not autoreload:

        parts = string.split(module_name, '.')
        for i in range(len(parts)):
            f, p, d = imp.find_module(parts[i], path)
            try:
                mname = string.join(parts[:i+1], ".")
                module = imp.load_module(mname, f, p, d)
            finally:
                if f: f.close()
            if hasattr(module, "__path__"):
                path = module.__path__

        # import module
        #module = __import__(module_name)
        #components = string.split(module_name, '.')
        #for cmp in components[1:]:
        #    module = getattr(module, cmp)

    else:

        # keep track of file modification time and
        # try to reload it if it is newer
        if sys.modules.has_key(module_name):

            # the we won't even bother importing
            module = sys.modules[module_name]

            # does it have __mtime__ ?
            if sys.modules[module_name].__dict__.has_key("__mtime__"):
                # remember it
                oldmtime = sys.modules[ module_name ].__mtime__

        # import the module for the first time
        else:

            parts = string.split(module_name, '.')
            for i in range(len(parts)):
                f, p, d = imp.find_module(parts[i], path)
                try:
                    mname = string.join(parts[:i+1], ".")
                    module = imp.load_module(mname, f, p, d)
                finally:
                    if f: f.close()
                if hasattr(module, "__path__"):
                    path = module.__path__

##            module = __import__(module_name)
##            components = string.split(module_name, '.')
##            for cmp in components[1:]:
##                module = getattr(module, cmp)

        # find out the last modification time
        # but only if there is a __file__ attr
        if module.__dict__.has_key("__file__"):

            filepath = module.__file__

            if os.path.exists(filepath):

                mod = os.stat(filepath)
                mtime = mod[stat.ST_MTIME]

            # check also .py and take the newest
            if os.path.exists(filepath[:-1]) :

                # get the time of the .py file
                mod = os.stat(filepath[:-1])
                mtime = max(mtime, mod[stat.ST_MTIME])

    # if module is newer - reload
    if (autoreload and (oldmtime < mtime)):
        del sys.modules[module_name]
        # import the module as if for the first time
        parts = string.split(module_name, '.')
        for i in range(len(parts)):
            f, p, d = imp.find_module(parts[i], path)
            try:
                mname = string.join(parts[:i+1], ".")
                module = imp.load_module(mname, f, p, d)
            finally:
                if f: f.close()
            if hasattr(module, "__path__"):
                path = module.__path__

        #try: module = reload(module)
        #except: pass

    # save mtime
    module.__mtime__ = mtime

    return module
#---------------------------------------------------------------------

On Wed, 21 Mar 2001, Marc Fiuczynski wrote:

> Hi, 
> 
> apache.py seems to be having trouble reloading my python modules when I
> update them.  This happens when apache is running with mod_python, and I
> then change my python module.  It fails in several odd ways:
> 
> 1) after I change my python module, mod_python will work every other time
> that I use it via my browser.
> 2) after I change my python module, mod_python completely fails to reload
> it.
> 
> In either case, if I send a HUP signal to the apache server, then
everything
> works just fine afterwards.
> 
> 
> 
> My configuration is as follows:
> *	python module is being invoked via mod_python's publisher interface.
> *	mod_python 2.7.2
> *	python 2.0
> *	apache 1.3.14
> *	Red Hat Linux 7.0
> 
> I have apache configured with the following:
>   AddHandler python-program .py
>   PythonHandler mod_python.publisher
>   PythonDebug On
>   PythonNoReload Off
> 
> Can anyone provide some insight?!
> 
> Thanks,
> Marc
> 
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
> 

_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From rusfkk at yahoo.com  Sat Mar 24 02:12:11 2001
From: rusfkk at yahoo.com (Kirill)
Date: Fri Jan  9 22:02:39 2004
Subject: [mod_python] Ïðàâèëüíàÿ ðåãèñòðàöèÿ
Message-ID: <200103252211.f2PMBPc21389@eden.ispol.com>

??????????? ? 30 ?????????? ????????? ???????? ? ????????? - 30$.

??????????? ? 20 ????????????? ????????? ???????? ? ????????? - 20$.

??????????? ????? ? ????????? ???????? Rambler.ru, Yandex.ru
? ?????????? ?????? ????? ?? ?????? ???????? ??????? ?? ????? ????????
?????? - ??????????.

From ndonti at swbell.net  Sun Mar 25 18:36:09 2001
From: ndonti at swbell.net (Naresh Donti)
Date: Fri Jan  9 22:02:39 2004
Subject: [mod_python] mod_python and mod_ssl
Message-ID: <5.0.2.1.0.20010325183310.00a62de8@postoffice.swbell.net>

I added
SSLOptions +StdEnvVars
to the directory I am using mod_python with and noticed that the 
environment variables like HTTPS are not set.

Where should I look for these values?


From CHagner at fool.com  Tue Mar 27 13:12:57 2001
From: CHagner at fool.com (Chris Hagner)
Date: Fri Jan  9 22:02:39 2004
Subject: [mod_python] PythonImport failure
Message-ID: <13CDDE6A53DBD311BC3200508B6F0C4804DAFCFA@rover.foolhq.com>

A specific question about why PythonImport works for some modules and not
for others.

1.  The following statement works.  It compiles/imports apache.py at server
startup.

PythonImport mod_python.apache

2.  Now, when I create a dummy module in mod_python/MyObject.py

def myFunction():
    return "MyObject.myFunction()"

class MyObject:

    def __init__(self):
        pass

The following statement does not work.

PythonImport mod_pytnon.MyObject

Here's the error in error.log
[Tue Mar 27 13:07:56 2001] [error] directive_PythonImport: error import
mod_python.MyObject
TypeError: must assign list (not "string") to slice

Any help on this error msg?

BTW, the first error line appears at start up... second appears upon
immediate shutdown... probably just a buffer thing, but I thought I'd share.

3.  I also tried import a base module which worked fine.

PythonImport string

4.  But when I created a copy of string.py and simply renamed it, it didn't
work.

PythonImport copyofstring

Any thoughts on why mod_python appears to like some modules and not others?

Thanks in advance.

Chris



-----Original Message-----
From: Chris Hagner [mailto:CHagner@fool.com]
Sent: Thursday, March 15, 2001 12:07 PM
To: 'Gregory (Grisha) Trubetskoy'
Cc: 'mod_python@modpython.org'
Subject: RE: [mod_python] PythonImport failure


Thanks for the response.  For my tests, mypackage is a package named
'toolkit' and the mymodule is a module named 'brandconfig'.

Oh yeah, I'm doing this on Apache/1.3.19 (Win32) mod_python/2.7.1
Python/2.0.  I'm on Win2K (for development, sigh).

INTERACTIVE SESSION TEST:
******************************

Here's my python interactive session... the module only contains a single
variable x.

>>> import toolkit.brandconfig
>>> dir(toolkit.brandconfig)
['__builtins__', '__doc__', '__file__', '__name__', 'x']
>>> toolkit.brandconfig.x
123
>>> 

So, the module is importable in my python environment.


APACHE PYTHONIMPORT TEST:
******************************

Just to be sure, I ran the apache test again.  Here's the httpd.conf entry.
Nothing shocking.

<Directory "D:/site/brand1/htdocs">
   AddHandler python-program .py
   PythonHandler toolkit.publisher
   PythonDebug on
   PythonImport toolkit.brandconfig
</Directory>

Here's the response in the log upon starting apache.

   [Thu Mar 15 11:39:10 2001] [error] directive_PythonImport: error
importing toolkit.brandconfig

Same as before.  Now, just to be sure, I blew away the brandconfig.py file
(and the .pyc) so that it shouldn't even find it (just to see if I could get
a different error if it didn't even exist).  Result: No change.  Same error
in error.log.  Apparently, it's not even finding it.

APACHE PYTHON SCRIPT TEST:
******************************

So, it wasn't importing it on start up.  How about a python script in
mod_python?

Here's the code blurb...

	import foolkit.brandconfig
       out_string = "foolkit.brandconfig.x: %s \n"% foolkit.brandconfig.x

Did it work?  yup, the page displayed 

	foolkit.brandconfig.x: 123



Yes, I have read through the documentation and my need is to initialize a
number of objects (i.e. dbconn pool) for use throughout my applications.
Now, I am using a custom handler, so I could simply have the handler do this
initialization the first time it runs, but the PythonImport appeared to be a
code-free way to achieve this goal.  Do you all think this is a case where I
*really* need it?  If not, could someone share an example of when it really
deserves to be used?

Thanks again for the help.

Chris

-----Original Message-----
From: Gregory (Grisha) Trubetskoy [mailto:grisha@verio.net]
Sent: Thursday, March 15, 2001 11:26 AM
To: Chris Hagner
Cc: 'mod_python@modpython.org'
Subject: Re: [mod_python] PythonImport failure



Chris -

Have you tried

>>> import mypackage.mymodule

from an interactive Python session?

Also, regarding PythonPath - if you read documentation carefully, you'll
notice that it says that no other directives have any effect at the time
PythonImport is executed.

Generally, you should not use PythonImport unless you *really* need it,
which is almost never the case.

Grisha


On Thu, 15 Mar 2001, Chris Hagner wrote:

> Greetings,
>
> I'm trying to get the PythonImport command to work.  Been through the
> documentation, but it appears to want more than simply inserting
>
>    PythonImport mypackage.mymodule
>
> within my Directory tags in httd.conf.
>
> While mypackage.mymodule is under the standard python lib directory
> (therefore should be found through the sys.path), the system spat out the
> following...
>
>     ...[error] directive_PythonImport: error importing mypackage.mymodule
>
> I then moved the module to a different directory and appended that
directory
> to the sys.path using the PythonPath command (just to see if that allowed
it
> to find the module).  No luck.
>
> I've found a handful of posts from June and August of last year, but no
> posted solutions to getting the PythonImport command to work correctly.
Of
> course, there's a CVS commit with the comment "PythonImport works now" so
> I'm pretty sure it's me...
>
> As a random test, I tried a standard module...
>
>    PythonImport sys
>
> which appeared to work (no error msg), but I'm not really confident that
> this was a meaningful test.
>
> Thanks in advance.
>
> Chris
> chagner _at_ fool _dot_ com
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>
_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From grisha at verio.net  Tue Mar 27 16:00:45 2001
From: grisha at verio.net (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 22:02:39 2004
Subject: [mod_python] PythonImport failure
In-Reply-To: <13CDDE6A53DBD311BC3200508B6F0C4804DAFCFA@rover.foolhq.com>
Message-ID: <Pine.BSF.4.32.0103271600110.30562-100000@localhost>

Try the mod_python 2.7.2 DLL and see if the problems persist

Grisha

On Tue, 27 Mar 2001, Chris Hagner wrote:

> A specific question about why PythonImport works for some modules and not
> for others.
>
> 1.  The following statement works.  It compiles/imports apache.py at server
> startup.
>
> PythonImport mod_python.apache
>
> 2.  Now, when I create a dummy module in mod_python/MyObject.py
>
> def myFunction():
>     return "MyObject.myFunction()"
>
> class MyObject:
>
>     def __init__(self):
>         pass
>
> The following statement does not work.
>
> PythonImport mod_pytnon.MyObject
>
> Here's the error in error.log
> [Tue Mar 27 13:07:56 2001] [error] directive_PythonImport: error import
> mod_python.MyObject
> TypeError: must assign list (not "string") to slice
>
> Any help on this error msg?
>
> BTW, the first error line appears at start up... second appears upon
> immediate shutdown... probably just a buffer thing, but I thought I'd share.
>
> 3.  I also tried import a base module which worked fine.
>
> PythonImport string
>
> 4.  But when I created a copy of string.py and simply renamed it, it didn't
> work.
>
> PythonImport copyofstring
>
> Any thoughts on why mod_python appears to like some modules and not others?
>
> Thanks in advance.
>
> Chris
>
>
>
> -----Original Message-----
> From: Chris Hagner [mailto:CHagner@fool.com]
> Sent: Thursday, March 15, 2001 12:07 PM
> To: 'Gregory (Grisha) Trubetskoy'
> Cc: 'mod_python@modpython.org'
> Subject: RE: [mod_python] PythonImport failure
>
>
> Thanks for the response.  For my tests, mypackage is a package named
> 'toolkit' and the mymodule is a module named 'brandconfig'.
>
> Oh yeah, I'm doing this on Apache/1.3.19 (Win32) mod_python/2.7.1
> Python/2.0.  I'm on Win2K (for development, sigh).
>
> INTERACTIVE SESSION TEST:
> ******************************
>
> Here's my python interactive session... the module only contains a single
> variable x.
>
> >>> import toolkit.brandconfig
> >>> dir(toolkit.brandconfig)
> ['__builtins__', '__doc__', '__file__', '__name__', 'x']
> >>> toolkit.brandconfig.x
> 123
> >>>
>
> So, the module is importable in my python environment.
>
>
> APACHE PYTHONIMPORT TEST:
> ******************************
>
> Just to be sure, I ran the apache test again.  Here's the httpd.conf entry.
> Nothing shocking.
>
> <Directory "D:/site/brand1/htdocs">
>    AddHandler python-program .py
>    PythonHandler toolkit.publisher
>    PythonDebug on
>    PythonImport toolkit.brandconfig
> </Directory>
>
> Here's the response in the log upon starting apache.
>
>    [Thu Mar 15 11:39:10 2001] [error] directive_PythonImport: error
> importing toolkit.brandconfig
>
> Same as before.  Now, just to be sure, I blew away the brandconfig.py file
> (and the .pyc) so that it shouldn't even find it (just to see if I could get
> a different error if it didn't even exist).  Result: No change.  Same error
> in error.log.  Apparently, it's not even finding it.
>
> APACHE PYTHON SCRIPT TEST:
> ******************************
>
> So, it wasn't importing it on start up.  How about a python script in
> mod_python?
>
> Here's the code blurb...
>
> 	import foolkit.brandconfig
>        out_string = "foolkit.brandconfig.x: %s \n"% foolkit.brandconfig.x
>
> Did it work?  yup, the page displayed
>
> 	foolkit.brandconfig.x: 123
>
>
>
> Yes, I have read through the documentation and my need is to initialize a
> number of objects (i.e. dbconn pool) for use throughout my applications.
> Now, I am using a custom handler, so I could simply have the handler do this
> initialization the first time it runs, but the PythonImport appeared to be a
> code-free way to achieve this goal.  Do you all think this is a case where I
> *really* need it?  If not, could someone share an example of when it really
> deserves to be used?
>
> Thanks again for the help.
>
> Chris
>
> -----Original Message-----
> From: Gregory (Grisha) Trubetskoy [mailto:grisha@verio.net]
> Sent: Thursday, March 15, 2001 11:26 AM
> To: Chris Hagner
> Cc: 'mod_python@modpython.org'
> Subject: Re: [mod_python] PythonImport failure
>
>
>
> Chris -
>
> Have you tried
>
> >>> import mypackage.mymodule
>
> from an interactive Python session?
>
> Also, regarding PythonPath - if you read documentation carefully, you'll
> notice that it says that no other directives have any effect at the time
> PythonImport is executed.
>
> Generally, you should not use PythonImport unless you *really* need it,
> which is almost never the case.
>
> Grisha
>
>
> On Thu, 15 Mar 2001, Chris Hagner wrote:
>
> > Greetings,
> >
> > I'm trying to get the PythonImport command to work.  Been through the
> > documentation, but it appears to want more than simply inserting
> >
> >    PythonImport mypackage.mymodule
> >
> > within my Directory tags in httd.conf.
> >
> > While mypackage.mymodule is under the standard python lib directory
> > (therefore should be found through the sys.path), the system spat out the
> > following...
> >
> >     ...[error] directive_PythonImport: error importing mypackage.mymodule
> >
> > I then moved the module to a different directory and appended that
> directory
> > to the sys.path using the PythonPath command (just to see if that allowed
> it
> > to find the module).  No luck.
> >
> > I've found a handful of posts from June and August of last year, but no
> > posted solutions to getting the PythonImport command to work correctly.
> Of
> > course, there's a CVS commit with the comment "PythonImport works now" so
> > I'm pretty sure it's me...
> >
> > As a random test, I tried a standard module...
> >
> >    PythonImport sys
> >
> > which appeared to work (no error msg), but I'm not really confident that
> > this was a meaningful test.
> >
> > Thanks in advance.
> >
> > Chris
> > chagner _at_ fool _dot_ com
> >
> >
> > _______________________________________________
> > Mod_python mailing list
> > Mod_python@modpython.org
> > http://www.modpython.org/mailman/listinfo/mod_python
> >
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From CHagner at fool.com  Tue Mar 27 16:02:59 2001
From: CHagner at fool.com (Chris Hagner)
Date: Fri Jan  9 22:02:39 2004
Subject: [mod_python] PythonImport failure
Message-ID: <13CDDE6A53DBD311BC3200508B6F0C4804DAFCFC@rover.foolhq.com>

Actually, I was running the latest (2.7.2), but I downloaded the latest from
modpython.org just to be sure.  No change.

BTW, I'll be moving my dev environment to Linux shortly (whew), so I'll let
you know if the same issue persists.  If you have any other ideas, tests,
goose chases... I'm happy to try them out.

Thanks.

Chris

-----Original Message-----
From: Gregory (Grisha) Trubetskoy [mailto:grisha@verio.net]
Sent: Tuesday, March 27, 2001 4:01 PM
To: Chris Hagner
Cc: 'mod_python@modpython.org'
Subject: RE: [mod_python] PythonImport failure



Try the mod_python 2.7.2 DLL and see if the problems persist

Grisha

On Tue, 27 Mar 2001, Chris Hagner wrote:

> A specific question about why PythonImport works for some modules and not
> for others.
>
> 1.  The following statement works.  It compiles/imports apache.py at
server
> startup.
>
> PythonImport mod_python.apache
>
> 2.  Now, when I create a dummy module in mod_python/MyObject.py
>
> def myFunction():
>     return "MyObject.myFunction()"
>
> class MyObject:
>
>     def __init__(self):
>         pass
>
> The following statement does not work.
>
> PythonImport mod_pytnon.MyObject
>
> Here's the error in error.log
> [Tue Mar 27 13:07:56 2001] [error] directive_PythonImport: error import
> mod_python.MyObject
> TypeError: must assign list (not "string") to slice
>
> Any help on this error msg?
>
> BTW, the first error line appears at start up... second appears upon
> immediate shutdown... probably just a buffer thing, but I thought I'd
share.
>
> 3.  I also tried import a base module which worked fine.
>
> PythonImport string
>
> 4.  But when I created a copy of string.py and simply renamed it, it
didn't
> work.
>
> PythonImport copyofstring
>
> Any thoughts on why mod_python appears to like some modules and not
others?
>
> Thanks in advance.
>
> Chris
>
>
>
> -----Original Message-----
> From: Chris Hagner [mailto:CHagner@fool.com]
> Sent: Thursday, March 15, 2001 12:07 PM
> To: 'Gregory (Grisha) Trubetskoy'
> Cc: 'mod_python@modpython.org'
> Subject: RE: [mod_python] PythonImport failure
>
>
> Thanks for the response.  For my tests, mypackage is a package named
> 'toolkit' and the mymodule is a module named 'brandconfig'.
>
> Oh yeah, I'm doing this on Apache/1.3.19 (Win32) mod_python/2.7.1
> Python/2.0.  I'm on Win2K (for development, sigh).
>
> INTERACTIVE SESSION TEST:
> ******************************
>
> Here's my python interactive session... the module only contains a single
> variable x.
>
> >>> import toolkit.brandconfig
> >>> dir(toolkit.brandconfig)
> ['__builtins__', '__doc__', '__file__', '__name__', 'x']
> >>> toolkit.brandconfig.x
> 123
> >>>
>
> So, the module is importable in my python environment.
>
>
> APACHE PYTHONIMPORT TEST:
> ******************************
>
> Just to be sure, I ran the apache test again.  Here's the httpd.conf
entry.
> Nothing shocking.
>
> <Directory "D:/site/brand1/htdocs">
>    AddHandler python-program .py
>    PythonHandler toolkit.publisher
>    PythonDebug on
>    PythonImport toolkit.brandconfig
> </Directory>
>
> Here's the response in the log upon starting apache.
>
>    [Thu Mar 15 11:39:10 2001] [error] directive_PythonImport: error
> importing toolkit.brandconfig
>
> Same as before.  Now, just to be sure, I blew away the brandconfig.py file
> (and the .pyc) so that it shouldn't even find it (just to see if I could
get
> a different error if it didn't even exist).  Result: No change.  Same
error
> in error.log.  Apparently, it's not even finding it.
>
> APACHE PYTHON SCRIPT TEST:
> ******************************
>
> So, it wasn't importing it on start up.  How about a python script in
> mod_python?
>
> Here's the code blurb...
>
> 	import foolkit.brandconfig
>        out_string = "foolkit.brandconfig.x: %s \n"% foolkit.brandconfig.x
>
> Did it work?  yup, the page displayed
>
> 	foolkit.brandconfig.x: 123
>
>
>
> Yes, I have read through the documentation and my need is to initialize a
> number of objects (i.e. dbconn pool) for use throughout my applications.
> Now, I am using a custom handler, so I could simply have the handler do
this
> initialization the first time it runs, but the PythonImport appeared to be
a
> code-free way to achieve this goal.  Do you all think this is a case where
I
> *really* need it?  If not, could someone share an example of when it
really
> deserves to be used?
>
> Thanks again for the help.
>
> Chris
>
> -----Original Message-----
> From: Gregory (Grisha) Trubetskoy [mailto:grisha@verio.net]
> Sent: Thursday, March 15, 2001 11:26 AM
> To: Chris Hagner
> Cc: 'mod_python@modpython.org'
> Subject: Re: [mod_python] PythonImport failure
>
>
>
> Chris -
>
> Have you tried
>
> >>> import mypackage.mymodule
>
> from an interactive Python session?
>
> Also, regarding PythonPath - if you read documentation carefully, you'll
> notice that it says that no other directives have any effect at the time
> PythonImport is executed.
>
> Generally, you should not use PythonImport unless you *really* need it,
> which is almost never the case.
>
> Grisha
>
>
> On Thu, 15 Mar 2001, Chris Hagner wrote:
>
> > Greetings,
> >
> > I'm trying to get the PythonImport command to work.  Been through the
> > documentation, but it appears to want more than simply inserting
> >
> >    PythonImport mypackage.mymodule
> >
> > within my Directory tags in httd.conf.
> >
> > While mypackage.mymodule is under the standard python lib directory
> > (therefore should be found through the sys.path), the system spat out
the
> > following...
> >
> >     ...[error] directive_PythonImport: error importing
mypackage.mymodule
> >
> > I then moved the module to a different directory and appended that
> directory
> > to the sys.path using the PythonPath command (just to see if that
allowed
> it
> > to find the module).  No luck.
> >
> > I've found a handful of posts from June and August of last year, but no
> > posted solutions to getting the PythonImport command to work correctly.
> Of
> > course, there's a CVS commit with the comment "PythonImport works now"
so
> > I'm pretty sure it's me...
> >
> > As a random test, I tried a standard module...
> >
> >    PythonImport sys
> >
> > which appeared to work (no error msg), but I'm not really confident that
> > this was a meaningful test.
> >
> > Thanks in advance.
> >
> > Chris
> > chagner _at_ fool _dot_ com
> >
> >
> > _______________________________________________
> > Mod_python mailing list
> > Mod_python@modpython.org
> > http://www.modpython.org/mailman/listinfo/mod_python
> >
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>

_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From traylen at ccdc.cam.ac.uk  Wed Mar 28 18:24:23 2001
From: traylen at ccdc.cam.ac.uk (Steve Traylen)
Date: Fri Jan  9 22:02:39 2004
Subject: [mod_python] Compile on Solaris
Message-ID: <Pine.GSO.4.05.10103281821090.18392-100000@sun23.ccdc.cam.ac.uk>

I am trying to do a static build of mod_python on solaris.
but at the linking time to form httpd demon the compile fails
with a lot of undefined functions in libpython.a .

Does anyone have any ideas.

Below is the out put.

Much appreciated.

 Steve
 http://nrich.maths.org/~smt32/


===> os/unix
<=== os/unix
===> ap
<=== ap
===> main
<=== main
===> lib
===> lib/expat-lite
<=== lib/expat-lite
<=== lib
===> modules
===> modules/standard
<=== modules/standard
===> modules/ssl
<=== modules/ssl
===> modules/perl
<=== modules/perl
===> modules/python
mksh: Warning: newline is not last character in file Makefile
Current working directory /usr/local/src/apache_1.3.19/src/modules/python
<=== modules/python
<=== modules
gcc -c -I. -I/usr/local/lib/perl5/5.6.0/sun4-solaris/CORE -I/usr/local/include -I./os/unix -I./include   -DSOLARIS2=280 -DMOD_SSL=208101 -DMOD_PERL -DUSE_PERL_SSI -fno-strict-aliasing -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DEAPI -DEAPI_MM -DUSE_EXPAT -I./lib/expat-lite -DNO_DL_NEEDED `./apaci` modules.c
gcc -c -I. -I/usr/local/lib/perl5/5.6.0/sun4-solaris/CORE -I/usr/local/include -I./os/unix -I./include   -DSOLARIS2=280 -DMOD_SSL=208101 -DMOD_PERL -DUSE_PERL_SSI -fno-strict-aliasing -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DEAPI -DEAPI_MM -DUSE_EXPAT -I./lib/expat-lite -DNO_DL_NEEDED `./apaci` buildmark.c
gcc  -DSOLARIS2=280 -DMOD_SSL=208101 -DMOD_PERL -DUSE_PERL_SSI -fno-strict-aliasing -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DEAPI -DEAPI_MM -DUSE_EXPAT -I./lib/expat-lite -DNO_DL_NEEDED `./apaci` -L/usr/local/lib -L/usr/local/lib   \
      -o httpd buildmark.o modules.o  modules/ssl/libssl.a  modules/perl/libperl.a  modules/python/libpython.a  modules/standard/libstandard.a  main/libmain.a  ./os/unix/libos.a  ap/libap.a  lib/expat-lite/libexpat.a  -lsocket -lnsl  -lssl -lcrypto  -Wl,-E  -L/usr/local/lib  /usr/local/lib/perl5/5.6.0/sun4-solaris/auto/DynaLoader/DynaLoader.a -L/usr/local/lib/perl5/5.6.0/sun4-solaris/CORE -lperl -lsocket -lnsl -lgdbm -ldl -lm -lc -lcrypt -lsec  -lmm
modules/python/libpython.a(mod_python.o): In function `make_interpreter':
mod_python.o(.text+0xc): undefined reference to `Py_NewInterpreter'
mod_python.o(.text+0x74): undefined reference to `PyThreadState_Swap'
modules/python/libpython.a(mod_python.o): In function `get_interpreter_data':
mod_python.o(.text+0xd4): undefined reference to `PyDict_GetItemString'
mod_python.o(.text+0x140): undefined reference to `PyCObject_FromVoidPtr'
mod_python.o(.text+0x160): undefined reference to `PyDict_SetItemString'
mod_python.o(.text+0x174): undefined reference to `PyCObject_AsVoidPtr'
modules/python/libpython.a(mod_python.o): In function `python_cleanup':
mod_python.o(.text+0x36c): undefined reference to `PyThreadState_New'
mod_python.o(.text+0x37c): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x39c): undefined reference to `PyObject_CallFunction'
mod_python.o(.text+0x3bc): undefined reference to `PyErr_Fetch'
mod_python.o(.text+0x3cc): undefined reference to `PyObject_Str'
mod_python.o(.text+0x3dc): undefined reference to `PyObject_Str'
mod_python.o(.text+0x3ec): undefined reference to `PyObject_Str'
mod_python.o(.text+0x4ec): undefined reference to `PyString_AsString'
mod_python.o(.text+0x520): undefined reference to `PyString_AsString'
mod_python.o(.text+0x530): undefined reference to `PyString_AsString'
mod_python.o(.text+0x578): undefined reference to `PyString_AsString'
mod_python.o(.text+0x5ac): undefined reference to `PyString_AsString'
modules/python/libpython.a(mod_python.o)(.text+0x5bc): more undefined references to `PyString_AsString' follow
modules/python/libpython.a(mod_python.o): In function `python_cleanup':
mod_python.o(.text+0x6d0): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x6dc): undefined reference to `PyThreadState_Delete'
modules/python/libpython.a(mod_python.o): In function `python_init':
mod_python.o(.text+0x7dc): undefined reference to `Py_GetVersion'
mod_python.o(.text+0x824): undefined reference to `Py_IsInitialized'
mod_python.o(.text+0x838): undefined reference to `Py_Initialize'
mod_python.o(.text+0x844): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x84c): undefined reference to `PyDict_New'
modules/python/libpython.a(mod_python.o): In function `make_obcallback':
mod_python.o(.text+0xd2c): undefined reference to `PyImport_ImportModule'
mod_python.o(.text+0xd78): undefined reference to `PyObject_CallMethod'
modules/python/libpython.a(mod_python.o): In function `get_request_object':
mod_python.o(.text+0xe98): undefined reference to `PyEval_SaveThread'
mod_python.o(.text+0xeb4): undefined reference to `PyEval_RestoreThread'
mod_python.o(.text+0xf20): undefined reference to `PyEval_SaveThread'
mod_python.o(.text+0xf3c): undefined reference to `PyEval_RestoreThread'
modules/python/libpython.a(mod_python.o): In function `python_handler':
mod_python.o(.text+0x12bc): undefined reference to `PyThreadState_New'
mod_python.o(.text+0x12cc): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x1334): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x1340): undefined reference to `PyThreadState_Delete'
mod_python.o(.text+0x1570): undefined reference to `PyObject_CallMethod'
mod_python.o(.text+0x1580): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x158c): undefined reference to `PyThreadState_Delete'
mod_python.o(.text+0x15e4): undefined reference to `PyInt_Type'
mod_python.o(.text+0x15e8): undefined reference to `PyInt_Type'
mod_python.o(.text+0x1634): undefined reference to `PyInt_AsLong'
modules/python/libpython.a(mod_python.o): In function `python_cleanup_handler':
mod_python.o(.text+0x1978): undefined reference to `PyThreadState_New'
mod_python.o(.text+0x1988): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x19f0): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x19fc): undefined reference to `PyThreadState_Delete'
mod_python.o(.text+0x1b94): undefined reference to `PyObject_CallMethod'
mod_python.o(.text+0x1ba0): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x1bac): undefined reference to `PyThreadState_Delete'
modules/python/libpython.a(mod_python.o): In function `directive_PythonOptimize':
mod_python.o(.text+0x21c8): undefined reference to `Py_OptimizeFlag'
mod_python.o(.text+0x21cc): undefined reference to `Py_OptimizeFlag'
mod_python.o(.text+0x21e0): undefined reference to `Py_OptimizeFlag'
mod_python.o(.text+0x21e4): undefined reference to `Py_OptimizeFlag'
modules/python/libpython.a(mod_python.o): In function `python_finalize':
mod_python.o(.text+0x2568): undefined reference to `PyThreadState_New'
mod_python.o(.text+0x2578): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x2580): undefined reference to `Py_Finalize'
modules/python/libpython.a(mod_python.o): In function `PythonChildInitHandler':
mod_python.o(.text+0x26bc): undefined reference to `PyThreadState_New'
mod_python.o(.text+0x26cc): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x2734): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x2740): undefined reference to `PyThreadState_Delete'
mod_python.o(.text+0x2768): undefined reference to `PyImport_ImportModule'
mod_python.o(.text+0x2780): undefined reference to `PyObject_GetAttrString'
mod_python.o(.text+0x2790): undefined reference to `PyString_FromString'
mod_python.o(.text+0x27a4): undefined reference to `PySequence_Index'
mod_python.o(.text+0x27c8): undefined reference to `PyList_SetSlice'
mod_python.o(.text+0x28ac): undefined reference to `PyImport_ImportModule'
mod_python.o(.text+0x28c0): undefined reference to `PyErr_Occurred'
mod_python.o(.text+0x28d4): undefined reference to `PyErr_Print'
mod_python.o(.text+0x2908): undefined reference to `PyThreadState_Swap'
mod_python.o(.text+0x2914): undefined reference to `PyThreadState_Delete'
modules/python/libpython.a(_apachemodule.o): In function `log_error':
_apachemodule.o(.text+0x30): undefined reference to `PyArg_ParseTuple'
_apachemodule.o(.text+0xb0): undefined reference to `PyErr_BadArgument'
_apachemodule.o(.text+0xf8): undefined reference to `_Py_NoneStruct'
_apachemodule.o(.text+0xfc): undefined reference to `_Py_NoneStruct'
_apachemodule.o(.text+0x100): undefined reference to `_Py_NoneStruct'
_apachemodule.o(.text+0x104): undefined reference to `_Py_NoneStruct'
_apachemodule.o(.text+0x108): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(_apachemodule.o)(.text+0x10c): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(_apachemodule.o): In function `parse_qs':
_apachemodule.o(.text+0x188): undefined reference to `PyArg_ParseTuple'
_apachemodule.o(.text+0x1ac): undefined reference to `PyList_New'
_apachemodule.o(.text+0x210): undefined reference to `PyString_FromStringAndSize'
_apachemodule.o(.text+0x32c): undefined reference to `_PyString_Resize'
_apachemodule.o(.text+0x33c): undefined reference to `PyList_Append'
_apachemodule.o(.text+0x3a0): undefined reference to `PyDict_New'
_apachemodule.o(.text+0x3cc): undefined reference to `PyList_Size'
_apachemodule.o(.text+0x43c): undefined reference to `PyString_FromStringAndSize'
_apachemodule.o(.text+0x46c): undefined reference to `PyString_FromStringAndSize'
_apachemodule.o(.text+0x620): undefined reference to `_PyString_Resize'
_apachemodule.o(.text+0x640): undefined reference to `_PyString_Resize'
_apachemodule.o(.text+0x650): undefined reference to `PyMapping_HasKeyString'
_apachemodule.o(.text+0x66c): undefined reference to `PyDict_GetItem'
_apachemodule.o(.text+0x680): undefined reference to `PyList_Append'
_apachemodule.o(.text+0x69c): undefined reference to `Py_BuildValue'
_apachemodule.o(.text+0x6b4): undefined reference to `PyDict_SetItem'
modules/python/libpython.a(_apachemodule.o): In function `parse_qsl':
_apachemodule.o(.text+0x834): undefined reference to `PyArg_ParseTuple'
_apachemodule.o(.text+0x858): undefined reference to `PyList_New'
_apachemodule.o(.text+0x8b8): undefined reference to `PyString_FromStringAndSize'
_apachemodule.o(.text+0x9e8): undefined reference to `_PyString_Resize'
_apachemodule.o(.text+0xa08): undefined reference to `PyString_FromStringAndSize'
_apachemodule.o(.text+0xa38): undefined reference to `PyString_FromStringAndSize'
_apachemodule.o(.text+0xbec): undefined reference to `_PyString_Resize'
_apachemodule.o(.text+0xc0c): undefined reference to `_PyString_Resize'
_apachemodule.o(.text+0xc24): undefined reference to `Py_BuildValue'
_apachemodule.o(.text+0xc34): undefined reference to `PyList_Append'
modules/python/libpython.a(_apachemodule.o): In function `init_apache':
_apachemodule.o(.text+0xd4c): undefined reference to `PyType_Type'
_apachemodule.o(.text+0xd50): undefined reference to `PyType_Type'
_apachemodule.o(.text+0xd60): undefined reference to `PyType_Type'
_apachemodule.o(.text+0xd64): undefined reference to `PyType_Type'
_apachemodule.o(.text+0xd74): undefined reference to `PyType_Type'
modules/python/libpython.a(_apachemodule.o)(.text+0xd78): more undefined references to `PyType_Type' follow
modules/python/libpython.a(_apachemodule.o): In function `init_apache':
_apachemodule.o(.text+0xdb0): undefined reference to `Py_InitModule4'
_apachemodule.o(.text+0xdc0): undefined reference to `PyModule_GetDict'
_apachemodule.o(.text+0xddc): undefined reference to `PyErr_NewException'
_apachemodule.o(.text+0xe28): undefined reference to `PyDict_SetItemString'
modules/python/libpython.a(requestobject.o): In function `MpRequest_FromRequest':
requestobject.o(.text+0x98): undefined reference to `PyErr_NoMemory'
modules/python/libpython.a(requestobject.o): In function `req_add_common_vars':
requestobject.o(.text+0x1fc): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x200): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x204): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x208): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x20c): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(requestobject.o)(.text+0x210): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(requestobject.o): In function `req_add_handler':
requestobject.o(.text+0x3f0): undefined reference to `PyArg_ParseTuple'
requestobject.o(.text+0x428): undefined reference to `PyExc_IndexError'
requestobject.o(.text+0x42c): undefined reference to `PyExc_IndexError'
requestobject.o(.text+0x458): undefined reference to `PyErr_SetString'
requestobject.o(.text+0x6d0): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x6d4): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x6d8): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x6dc): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x6e0): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(requestobject.o)(.text+0x6e4): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(requestobject.o): In function `req_get_basic_auth_pw':
requestobject.o(.text+0xb60): undefined reference to `PyString_FromString'
requestobject.o(.text+0xb7c): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0xb80): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0xb84): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0xb88): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0xb8c): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(requestobject.o)(.text+0xb90): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(requestobject.o): In function `req_get_remote_host':
requestobject.o(.text+0xc94): undefined reference to `PyArg_ParseTuple'
requestobject.o(.text+0xcec): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0xcf0): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0xcf4): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0xcf8): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0xcfc): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(requestobject.o)(.text+0xd00): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(requestobject.o): In function `req_get_remote_host':
requestobject.o(.text+0xd2c): undefined reference to `PyString_FromString'
modules/python/libpython.a(requestobject.o): In function `req_read':
requestobject.o(.text+0xdcc): undefined reference to `PyArg_ParseTuple'
requestobject.o(.text+0xe04): undefined reference to `PyString_FromString'
requestobject.o(.text+0xe5c): undefined reference to `PyInt_FromLong'
requestobject.o(.text+0xe94): undefined reference to `PyErr_SetObject'
requestobject.o(.text+0xf14): undefined reference to `PyString_FromString'
requestobject.o(.text+0xf68): undefined reference to `PyString_FromStringAndSize'
requestobject.o(.text+0x1114): undefined reference to `PyExc_IOError'
requestobject.o(.text+0x1118): undefined reference to `PyExc_IOError'
requestobject.o(.text+0x1124): undefined reference to `PyString_FromString'
requestobject.o(.text+0x1134): undefined reference to `PyErr_SetObject'
requestobject.o(.text+0x1198): undefined reference to `_PyString_Resize'
modules/python/libpython.a(requestobject.o): In function `req_readline':
requestobject.o(.text+0x11f8): undefined reference to `PyArg_ParseTuple'
requestobject.o(.text+0x1230): undefined reference to `PyString_FromString'
requestobject.o(.text+0x1288): undefined reference to `PyInt_FromLong'
requestobject.o(.text+0x12c0): undefined reference to `PyErr_SetObject'
requestobject.o(.text+0x1340): undefined reference to `PyString_FromString'
requestobject.o(.text+0x1394): undefined reference to `PyString_FromStringAndSize'
requestobject.o(.text+0x14b0): undefined reference to `_PyString_Resize'
requestobject.o(.text+0x1550): undefined reference to `PyErr_NoMemory'
requestobject.o(.text+0x1648): undefined reference to `PyExc_IOError'
requestobject.o(.text+0x164c): undefined reference to `PyExc_IOError'
requestobject.o(.text+0x1658): undefined reference to `PyString_FromString'
requestobject.o(.text+0x1668): undefined reference to `PyErr_SetObject'
requestobject.o(.text+0x179c): undefined reference to `_PyString_Resize'
modules/python/libpython.a(requestobject.o): In function `req_register_cleanup':
requestobject.o(.text+0x17fc): undefined reference to `PyArg_ParseTuple'
requestobject.o(.text+0x1854): undefined reference to `PyCallable_Check'
requestobject.o(.text+0x18ec): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x18f0): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x18f4): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x18f8): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x18fc): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(requestobject.o)(.text+0x1900): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(requestobject.o): In function `req_register_cleanup':
requestobject.o(.text+0x1928): undefined reference to `PyExc_ValueError'
requestobject.o(.text+0x192c): undefined reference to `PyExc_ValueError'
requestobject.o(.text+0x193c): undefined reference to `PyErr_SetString'
requestobject.o(.text+0x1984): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x1988): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x198c): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x1990): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x1994): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(requestobject.o)(.text+0x1998): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(requestobject.o): In function `req_write':
requestobject.o(.text+0x1a58): undefined reference to `PyArg_ParseTuple'
requestobject.o(.text+0x1ab4): undefined reference to `PyExc_IOError'
requestobject.o(.text+0x1ab8): undefined reference to `PyExc_IOError'
requestobject.o(.text+0x1ac8): undefined reference to `PyErr_SetString'
requestobject.o(.text+0x1adc): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x1ae0): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x1ae4): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x1ae8): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x1aec): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(requestobject.o)(.text+0x1af0): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(requestobject.o): In function `request_getattr':
requestobject.o(.text+0x2000): undefined reference to `Py_FindMethod'
requestobject.o(.text+0x202c): undefined reference to `PyErr_Clear'
requestobject.o(.text+0x2080): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x2084): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x2088): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x208c): undefined reference to `_Py_NoneStruct'
requestobject.o(.text+0x2090): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(requestobject.o)(.text+0x2094): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(requestobject.o): In function `request_getattr':
requestobject.o(.text+0x2838): undefined reference to `PyString_FromString'
requestobject.o(.text+0x287c): undefined reference to `PyInt_FromLong'
requestobject.o(.text+0x28ac): undefined reference to `PyMember_Get'
modules/python/libpython.a(requestobject.o): In function `request_setattr':
requestobject.o(.text+0x28e8): undefined reference to `PyExc_AttributeError'
requestobject.o(.text+0x28ec): undefined reference to `PyExc_AttributeError'
requestobject.o(.text+0x28fc): undefined reference to `PyErr_SetString'
requestobject.o(.text+0x2944): undefined reference to `PyString_AsString'
requestobject.o(.text+0x29b4): undefined reference to `PyString_AsString'
requestobject.o(.text+0x2a18): undefined reference to `PyString_AsString'
requestobject.o(.text+0x2a64): undefined reference to `PyMember_Set'
modules/python/libpython.a(tableobject.o): In function `MpTable_FromTable':
tableobject.o(.text+0x28): undefined reference to `PyErr_NoMemory'
modules/python/libpython.a(tableobject.o): In function `tablegetitem':
tableobject.o(.text+0x118): undefined reference to `PyString_AsString'
tableobject.o(.text+0x14c): undefined reference to `PyExc_KeyError'
tableobject.o(.text+0x150): undefined reference to `PyExc_KeyError'
tableobject.o(.text+0x15c): undefined reference to `PyErr_SetObject'
tableobject.o(.text+0x174): undefined reference to `PyString_FromString'
modules/python/libpython.a(tableobject.o): In function `tablesetitem':
tableobject.o(.text+0x1b8): undefined reference to `PyString_Type'
tableobject.o(.text+0x1bc): undefined reference to `PyString_Type'
tableobject.o(.text+0x1cc): undefined reference to `PyExc_TypeError'
tableobject.o(.text+0x1d0): undefined reference to `PyExc_TypeError'
tableobject.o(.text+0x1e0): undefined reference to `PyErr_SetString'
tableobject.o(.text+0x1f8): undefined reference to `PyString_AsString'
tableobject.o(.text+0x208): undefined reference to `_Py_NoneStruct'
tableobject.o(.text+0x20c): undefined reference to `_Py_NoneStruct'
tableobject.o(.text+0x268): undefined reference to `PyString_Type'
tableobject.o(.text+0x26c): undefined reference to `PyString_Type'
tableobject.o(.text+0x27c): undefined reference to `PyExc_TypeError'
tableobject.o(.text+0x280): undefined reference to `PyExc_TypeError'
tableobject.o(.text+0x290): undefined reference to `PyErr_SetString'
tableobject.o(.text+0x2ac): undefined reference to `PyString_AsString'
modules/python/libpython.a(tableobject.o): In function `table_keys':
tableobject.o(.text+0x304): undefined reference to `PyList_New'
tableobject.o(.text+0x374): undefined reference to `PyString_FromString'
tableobject.o(.text+0x38c): undefined reference to `PyList_SetItem'
modules/python/libpython.a(tableobject.o): In function `table_has_key':
tableobject.o(.text+0x3e8): undefined reference to `PyArg_ParseTuple'
tableobject.o(.text+0x434): undefined reference to `PyInt_FromLong'
tableobject.o(.text+0x454): undefined reference to `PyInt_FromLong'
modules/python/libpython.a(tableobject.o): In function `table_add':
tableobject.o(.text+0x490): undefined reference to `PyArg_ParseTuple'
tableobject.o(.text+0x4c8): undefined reference to `_Py_NoneStruct'
tableobject.o(.text+0x4cc): undefined reference to `_Py_NoneStruct'
tableobject.o(.text+0x4d0): undefined reference to `_Py_NoneStruct'
tableobject.o(.text+0x4d4): undefined reference to `_Py_NoneStruct'
tableobject.o(.text+0x4d8): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(tableobject.o)(.text+0x4dc): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(tableobject.o): In function `table_getattr':
tableobject.o(.text+0x560): undefined reference to `Py_FindMethod'
modules/python/libpython.a(tableobject.o): In function `table_repr':
tableobject.o(.text+0x58c): undefined reference to `PyString_FromString'
tableobject.o(.text+0x5d8): undefined reference to `PyString_FromString'
tableobject.o(.text+0x5e8): undefined reference to `PyString_ConcatAndDel'
tableobject.o(.text+0x648): undefined reference to `PyString_FromString'
tableobject.o(.text+0x658): undefined reference to `PyString_ConcatAndDel'
tableobject.o(.text+0x67c): undefined reference to `PyString_FromString'
tableobject.o(.text+0x68c): undefined reference to `PyString_ConcatAndDel'
tableobject.o(.text+0x6a0): undefined reference to `PyString_FromString'
tableobject.o(.text+0x6b0): undefined reference to `PyString_ConcatAndDel'
tableobject.o(.text+0x6d4): undefined reference to `PyString_FromString'
tableobject.o(.text+0x6e4): undefined reference to `PyString_ConcatAndDel'
tableobject.o(.text+0x6f8): undefined reference to `PyString_FromString'
tableobject.o(.text+0x708): undefined reference to `PyString_ConcatAndDel'
tableobject.o(.text+0x72c): undefined reference to `PyString_FromString'
tableobject.o(.text+0x73c): undefined reference to `PyString_ConcatAndDel'
tableobject.o(.text+0x758): undefined reference to `PyString_FromString'
tableobject.o(.text+0x768): undefined reference to `PyString_ConcatAndDel'
modules/python/libpython.a(util.o): In function `tuple_from_array_header':
util.o(.text+0x18): undefined reference to `_Py_NoneStruct'
util.o(.text+0x1c): undefined reference to `_Py_NoneStruct'
util.o(.text+0x20): undefined reference to `_Py_NoneStruct'
util.o(.text+0x24): undefined reference to `_Py_NoneStruct'
util.o(.text+0x28): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(util.o)(.text+0x2c): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(util.o): In function `tuple_from_array_header':
util.o(.text+0x5c): undefined reference to `PyTuple_New'
util.o(.text+0xb0): undefined reference to `PyString_FromString'
util.o(.text+0xc4): undefined reference to `PyTuple_SetItem'
modules/python/libpython.a(serverobject.o): In function `MpServer_FromServer':
serverobject.o(.text+0x28): undefined reference to `PyErr_NoMemory'
modules/python/libpython.a(serverobject.o): In function `server_register_cleanup':
serverobject.o(.text+0xb8): undefined reference to `PyArg_ParseTuple'
serverobject.o(.text+0xe4): undefined reference to `PyObject_HasAttrString'
serverobject.o(.text+0xf8): undefined reference to `PyExc_ValueError'
serverobject.o(.text+0xfc): undefined reference to `PyExc_ValueError'
serverobject.o(.text+0x10c): undefined reference to `PyErr_SetString'
serverobject.o(.text+0x134): undefined reference to `PyObject_GetAttrString'
serverobject.o(.text+0x15c): undefined reference to `PyExc_ValueError'
serverobject.o(.text+0x160): undefined reference to `PyExc_ValueError'
serverobject.o(.text+0x170): undefined reference to `PyErr_SetString'
serverobject.o(.text+0x190): undefined reference to `PyCallable_Check'
serverobject.o(.text+0x1a4): undefined reference to `PyExc_ValueError'
serverobject.o(.text+0x1a8): undefined reference to `PyExc_ValueError'
serverobject.o(.text+0x1b8): undefined reference to `PyErr_SetString'
serverobject.o(.text+0x278): undefined reference to `_Py_NoneStruct'
serverobject.o(.text+0x27c): undefined reference to `_Py_NoneStruct'
serverobject.o(.text+0x280): undefined reference to `_Py_NoneStruct'
serverobject.o(.text+0x284): undefined reference to `_Py_NoneStruct'
serverobject.o(.text+0x288): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(serverobject.o)(.text+0x28c): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(serverobject.o): In function `server_getattr':
serverobject.o(.text+0x3c0): undefined reference to `Py_FindMethod'
serverobject.o(.text+0x3ec): undefined reference to `PyErr_Clear'
serverobject.o(.text+0x440): undefined reference to `_Py_NoneStruct'
serverobject.o(.text+0x444): undefined reference to `_Py_NoneStruct'
serverobject.o(.text+0x448): undefined reference to `_Py_NoneStruct'
serverobject.o(.text+0x44c): undefined reference to `_Py_NoneStruct'
serverobject.o(.text+0x450): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(serverobject.o)(.text+0x454): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(serverobject.o): In function `server_getattr':
serverobject.o(.text+0x554): undefined reference to `PyInt_FromLong'
serverobject.o(.text+0x614): undefined reference to `PyMember_Get'
modules/python/libpython.a(connobject.o): In function `MpConn_FromConn':
connobject.o(.text+0x28): undefined reference to `PyErr_NoMemory'
modules/python/libpython.a(connobject.o): In function `makeipaddr':
connobject.o(.text+0x1f4): undefined reference to `PyString_FromString'
modules/python/libpython.a(connobject.o): In function `makesockaddr':
connobject.o(.text+0x258): undefined reference to `Py_BuildValue'
modules/python/libpython.a(connobject.o): In function `conn_getattr':
connobject.o(.text+0x31c): undefined reference to `_Py_NoneStruct'
connobject.o(.text+0x320): undefined reference to `_Py_NoneStruct'
connobject.o(.text+0x324): undefined reference to `_Py_NoneStruct'
connobject.o(.text+0x328): undefined reference to `_Py_NoneStruct'
connobject.o(.text+0x32c): undefined reference to `_Py_NoneStruct'
modules/python/libpython.a(connobject.o)(.text+0x330): more undefined references to `_Py_NoneStruct' follow
modules/python/libpython.a(connobject.o): In function `conn_getattr':
connobject.o(.text+0x5c4): undefined reference to `PyMember_Get'
modules/python/libpython.a(connobject.o): In function `conn_setattr':
connobject.o(.text+0x600): undefined reference to `PyExc_AttributeError'
connobject.o(.text+0x604): undefined reference to `PyExc_AttributeError'
connobject.o(.text+0x614): undefined reference to `PyErr_SetString'
connobject.o(.text+0x65c): undefined reference to `PyString_AsString'
connobject.o(.text+0x6ac): undefined reference to `PyMember_Set'
collect2: ld returned 1 exit status
*** Error code 1
make: Fatal error: Command failed for target `target_static'
-- 
Steve Traylen, Systems Engineer
http://www.ccdc.cam.ac.uk/


From joost.damad at siemens.atea.be  Thu Mar 29 10:06:16 2001
From: joost.damad at siemens.atea.be (Joost Yervante Damad)
Date: Fri Jan  9 22:02:39 2004
Subject: [mod_python] Compile on Solaris
In-Reply-To: <Pine.GSO.4.05.10103281821090.18392-100000@sun23.ccdc.cam.ac.uk>; from traylen@ccdc.cam.ac.uk on Wed, Mar 28, 2001 at 06:24:23PM +0100
References: <Pine.GSO.4.05.10103281821090.18392-100000@sun23.ccdc.cam.ac.uk>
Message-ID: <20010329100616.A12636@siemens.atea.be>

You also need the embedded python interpreter
linked into apache, e.g.: lib/python2.0/config/libpython2.0.a

This failed for me too, soo I did some hacks in the makefiles
to force apache to link along the python embedded interpreter.

Hope this helps...

'Steve Traylen' wrote about '[mod_python] Compile on Solaris' - Wed, Mar 28, 2001 at 07:24:23PM CEST
> 
> I am trying to do a static build of mod_python on solaris.
> but at the linking time to form httpd demon the compile fails
> with a lot of undefined functions in libpython.a .
> 
> Does anyone have any ideas.
> 
> Below is the out put.
> 
> Much appreciated.
> 
>  Steve
>  http://nrich.maths.org/~smt32/
> 
> 
> ===> os/unix
> <=== os/unix
> ===> ap
> <=== ap
> ===> main
> <=== main
> ===> lib
> ===> lib/expat-lite
> <=== lib/expat-lite
> <=== lib
> ===> modules
> ===> modules/standard
> <=== modules/standard
> ===> modules/ssl
> <=== modules/ssl
> ===> modules/perl
> <=== modules/perl
> ===> modules/python
> mksh: Warning: newline is not last character in file Makefile
> Current working directory /usr/local/src/apache_1.3.19/src/modules/python
> <=== modules/python
> <=== modules
> gcc -c -I. -I/usr/local/lib/perl5/5.6.0/sun4-solaris/CORE -I/usr/local/include -I./os/unix -I./include   -DSOLARIS2=280 -DMOD_SSL=208101 -DMOD_PERL -DUSE_PERL_SSI -fno-strict-aliasing -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DEAPI -DEAPI_MM -DUSE_EXPAT -I./lib/expat-lite -DNO_DL_NEEDED `./apaci` modules.c
> gcc -c -I. -I/usr/local/lib/perl5/5.6.0/sun4-solaris/CORE -I/usr/local/include -I./os/unix -I./include   -DSOLARIS2=280 -DMOD_SSL=208101 -DMOD_PERL -DUSE_PERL_SSI -fno-strict-aliasing -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DEAPI -DEAPI_MM -DUSE_EXPAT -I./lib/expat-lite -DNO_DL_NEEDED `./apaci` buildmark.c
> gcc  -DSOLARIS2=280 -DMOD_SSL=208101 -DMOD_PERL -DUSE_PERL_SSI -fno-strict-aliasing -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DEAPI -DEAPI_MM -DUSE_EXPAT -I./lib/expat-lite -DNO_DL_NEEDED `./apaci` -L/usr/local/lib -L/usr/local/lib   \
>       -o httpd buildmark.o modules.o  modules/ssl/libssl.a  modules/perl/libperl.a  modules/python/libpython.a  modules/standard/libstandard.a  main/libmain.a  ./os/unix/libos.a  ap/libap.a  lib/expat-lite/libexpat.a  -lsocket -lnsl  -lssl -lcrypto  -Wl,-E  -L/usr/local/lib  /usr/local/lib/perl5/5.6.0/sun4-solaris/auto/DynaLoader/DynaLoader.a -L/usr/local/lib/perl5/5.6.0/sun4-solaris/CORE -lperl -lsocket -lnsl -lgdbm -ldl -lm -lc -lcrypt -lsec  -lmm
> modules/python/libpython.a(mod_python.o): In function `make_interpreter':
> mod_python.o(.text+0xc): undefined reference to `Py_NewInterpreter'
> mod_python.o(.text+0x74): undefined reference to `PyThreadState_Swap'
> modules/python/libpython.a(mod_python.o): In function `get_interpreter_data':
> mod_python.o(.text+0xd4): undefined reference to `PyDict_GetItemString'
> mod_python.o(.text+0x140): undefined reference to `PyCObject_FromVoidPtr'
> mod_python.o(.text+0x160): undefined reference to `PyDict_SetItemString'
> mod_python.o(.text+0x174): undefined reference to `PyCObject_AsVoidPtr'
> modules/python/libpython.a(mod_python.o): In function `python_cleanup':
> mod_python.o(.text+0x36c): undefined reference to `PyThreadState_New'
> mod_python.o(.text+0x37c): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x39c): undefined reference to `PyObject_CallFunction'
> mod_python.o(.text+0x3bc): undefined reference to `PyErr_Fetch'
> mod_python.o(.text+0x3cc): undefined reference to `PyObject_Str'
> mod_python.o(.text+0x3dc): undefined reference to `PyObject_Str'
> mod_python.o(.text+0x3ec): undefined reference to `PyObject_Str'
> mod_python.o(.text+0x4ec): undefined reference to `PyString_AsString'
> mod_python.o(.text+0x520): undefined reference to `PyString_AsString'
> mod_python.o(.text+0x530): undefined reference to `PyString_AsString'
> mod_python.o(.text+0x578): undefined reference to `PyString_AsString'
> mod_python.o(.text+0x5ac): undefined reference to `PyString_AsString'
> modules/python/libpython.a(mod_python.o)(.text+0x5bc): more undefined references to `PyString_AsString' follow
> modules/python/libpython.a(mod_python.o): In function `python_cleanup':
> mod_python.o(.text+0x6d0): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x6dc): undefined reference to `PyThreadState_Delete'
> modules/python/libpython.a(mod_python.o): In function `python_init':
> mod_python.o(.text+0x7dc): undefined reference to `Py_GetVersion'
> mod_python.o(.text+0x824): undefined reference to `Py_IsInitialized'
> mod_python.o(.text+0x838): undefined reference to `Py_Initialize'
> mod_python.o(.text+0x844): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x84c): undefined reference to `PyDict_New'
> modules/python/libpython.a(mod_python.o): In function `make_obcallback':
> mod_python.o(.text+0xd2c): undefined reference to `PyImport_ImportModule'
> mod_python.o(.text+0xd78): undefined reference to `PyObject_CallMethod'
> modules/python/libpython.a(mod_python.o): In function `get_request_object':
> mod_python.o(.text+0xe98): undefined reference to `PyEval_SaveThread'
> mod_python.o(.text+0xeb4): undefined reference to `PyEval_RestoreThread'
> mod_python.o(.text+0xf20): undefined reference to `PyEval_SaveThread'
> mod_python.o(.text+0xf3c): undefined reference to `PyEval_RestoreThread'
> modules/python/libpython.a(mod_python.o): In function `python_handler':
> mod_python.o(.text+0x12bc): undefined reference to `PyThreadState_New'
> mod_python.o(.text+0x12cc): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x1334): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x1340): undefined reference to `PyThreadState_Delete'
> mod_python.o(.text+0x1570): undefined reference to `PyObject_CallMethod'
> mod_python.o(.text+0x1580): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x158c): undefined reference to `PyThreadState_Delete'
> mod_python.o(.text+0x15e4): undefined reference to `PyInt_Type'
> mod_python.o(.text+0x15e8): undefined reference to `PyInt_Type'
> mod_python.o(.text+0x1634): undefined reference to `PyInt_AsLong'
> modules/python/libpython.a(mod_python.o): In function `python_cleanup_handler':
> mod_python.o(.text+0x1978): undefined reference to `PyThreadState_New'
> mod_python.o(.text+0x1988): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x19f0): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x19fc): undefined reference to `PyThreadState_Delete'
> mod_python.o(.text+0x1b94): undefined reference to `PyObject_CallMethod'
> mod_python.o(.text+0x1ba0): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x1bac): undefined reference to `PyThreadState_Delete'
> modules/python/libpython.a(mod_python.o): In function `directive_PythonOptimize':
> mod_python.o(.text+0x21c8): undefined reference to `Py_OptimizeFlag'
> mod_python.o(.text+0x21cc): undefined reference to `Py_OptimizeFlag'
> mod_python.o(.text+0x21e0): undefined reference to `Py_OptimizeFlag'
> mod_python.o(.text+0x21e4): undefined reference to `Py_OptimizeFlag'
> modules/python/libpython.a(mod_python.o): In function `python_finalize':
> mod_python.o(.text+0x2568): undefined reference to `PyThreadState_New'
> mod_python.o(.text+0x2578): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x2580): undefined reference to `Py_Finalize'
> modules/python/libpython.a(mod_python.o): In function `PythonChildInitHandler':
> mod_python.o(.text+0x26bc): undefined reference to `PyThreadState_New'
> mod_python.o(.text+0x26cc): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x2734): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x2740): undefined reference to `PyThreadState_Delete'
> mod_python.o(.text+0x2768): undefined reference to `PyImport_ImportModule'
> mod_python.o(.text+0x2780): undefined reference to `PyObject_GetAttrString'
> mod_python.o(.text+0x2790): undefined reference to `PyString_FromString'
> mod_python.o(.text+0x27a4): undefined reference to `PySequence_Index'
> mod_python.o(.text+0x27c8): undefined reference to `PyList_SetSlice'
> mod_python.o(.text+0x28ac): undefined reference to `PyImport_ImportModule'
> mod_python.o(.text+0x28c0): undefined reference to `PyErr_Occurred'
> mod_python.o(.text+0x28d4): undefined reference to `PyErr_Print'
> mod_python.o(.text+0x2908): undefined reference to `PyThreadState_Swap'
> mod_python.o(.text+0x2914): undefined reference to `PyThreadState_Delete'
> modules/python/libpython.a(_apachemodule.o): In function `log_error':
> _apachemodule.o(.text+0x30): undefined reference to `PyArg_ParseTuple'
> _apachemodule.o(.text+0xb0): undefined reference to `PyErr_BadArgument'
> _apachemodule.o(.text+0xf8): undefined reference to `_Py_NoneStruct'
> _apachemodule.o(.text+0xfc): undefined reference to `_Py_NoneStruct'
> _apachemodule.o(.text+0x100): undefined reference to `_Py_NoneStruct'
> _apachemodule.o(.text+0x104): undefined reference to `_Py_NoneStruct'
> _apachemodule.o(.text+0x108): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(_apachemodule.o)(.text+0x10c): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(_apachemodule.o): In function `parse_qs':
> _apachemodule.o(.text+0x188): undefined reference to `PyArg_ParseTuple'
> _apachemodule.o(.text+0x1ac): undefined reference to `PyList_New'
> _apachemodule.o(.text+0x210): undefined reference to `PyString_FromStringAndSize'
> _apachemodule.o(.text+0x32c): undefined reference to `_PyString_Resize'
> _apachemodule.o(.text+0x33c): undefined reference to `PyList_Append'
> _apachemodule.o(.text+0x3a0): undefined reference to `PyDict_New'
> _apachemodule.o(.text+0x3cc): undefined reference to `PyList_Size'
> _apachemodule.o(.text+0x43c): undefined reference to `PyString_FromStringAndSize'
> _apachemodule.o(.text+0x46c): undefined reference to `PyString_FromStringAndSize'
> _apachemodule.o(.text+0x620): undefined reference to `_PyString_Resize'
> _apachemodule.o(.text+0x640): undefined reference to `_PyString_Resize'
> _apachemodule.o(.text+0x650): undefined reference to `PyMapping_HasKeyString'
> _apachemodule.o(.text+0x66c): undefined reference to `PyDict_GetItem'
> _apachemodule.o(.text+0x680): undefined reference to `PyList_Append'
> _apachemodule.o(.text+0x69c): undefined reference to `Py_BuildValue'
> _apachemodule.o(.text+0x6b4): undefined reference to `PyDict_SetItem'
> modules/python/libpython.a(_apachemodule.o): In function `parse_qsl':
> _apachemodule.o(.text+0x834): undefined reference to `PyArg_ParseTuple'
> _apachemodule.o(.text+0x858): undefined reference to `PyList_New'
> _apachemodule.o(.text+0x8b8): undefined reference to `PyString_FromStringAndSize'
> _apachemodule.o(.text+0x9e8): undefined reference to `_PyString_Resize'
> _apachemodule.o(.text+0xa08): undefined reference to `PyString_FromStringAndSize'
> _apachemodule.o(.text+0xa38): undefined reference to `PyString_FromStringAndSize'
> _apachemodule.o(.text+0xbec): undefined reference to `_PyString_Resize'
> _apachemodule.o(.text+0xc0c): undefined reference to `_PyString_Resize'
> _apachemodule.o(.text+0xc24): undefined reference to `Py_BuildValue'
> _apachemodule.o(.text+0xc34): undefined reference to `PyList_Append'
> modules/python/libpython.a(_apachemodule.o): In function `init_apache':
> _apachemodule.o(.text+0xd4c): undefined reference to `PyType_Type'
> _apachemodule.o(.text+0xd50): undefined reference to `PyType_Type'
> _apachemodule.o(.text+0xd60): undefined reference to `PyType_Type'
> _apachemodule.o(.text+0xd64): undefined reference to `PyType_Type'
> _apachemodule.o(.text+0xd74): undefined reference to `PyType_Type'
> modules/python/libpython.a(_apachemodule.o)(.text+0xd78): more undefined references to `PyType_Type' follow
> modules/python/libpython.a(_apachemodule.o): In function `init_apache':
> _apachemodule.o(.text+0xdb0): undefined reference to `Py_InitModule4'
> _apachemodule.o(.text+0xdc0): undefined reference to `PyModule_GetDict'
> _apachemodule.o(.text+0xddc): undefined reference to `PyErr_NewException'
> _apachemodule.o(.text+0xe28): undefined reference to `PyDict_SetItemString'
> modules/python/libpython.a(requestobject.o): In function `MpRequest_FromRequest':
> requestobject.o(.text+0x98): undefined reference to `PyErr_NoMemory'
> modules/python/libpython.a(requestobject.o): In function `req_add_common_vars':
> requestobject.o(.text+0x1fc): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x200): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x204): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x208): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x20c): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(requestobject.o)(.text+0x210): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(requestobject.o): In function `req_add_handler':
> requestobject.o(.text+0x3f0): undefined reference to `PyArg_ParseTuple'
> requestobject.o(.text+0x428): undefined reference to `PyExc_IndexError'
> requestobject.o(.text+0x42c): undefined reference to `PyExc_IndexError'
> requestobject.o(.text+0x458): undefined reference to `PyErr_SetString'
> requestobject.o(.text+0x6d0): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x6d4): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x6d8): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x6dc): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x6e0): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(requestobject.o)(.text+0x6e4): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(requestobject.o): In function `req_get_basic_auth_pw':
> requestobject.o(.text+0xb60): undefined reference to `PyString_FromString'
> requestobject.o(.text+0xb7c): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0xb80): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0xb84): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0xb88): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0xb8c): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(requestobject.o)(.text+0xb90): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(requestobject.o): In function `req_get_remote_host':
> requestobject.o(.text+0xc94): undefined reference to `PyArg_ParseTuple'
> requestobject.o(.text+0xcec): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0xcf0): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0xcf4): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0xcf8): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0xcfc): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(requestobject.o)(.text+0xd00): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(requestobject.o): In function `req_get_remote_host':
> requestobject.o(.text+0xd2c): undefined reference to `PyString_FromString'
> modules/python/libpython.a(requestobject.o): In function `req_read':
> requestobject.o(.text+0xdcc): undefined reference to `PyArg_ParseTuple'
> requestobject.o(.text+0xe04): undefined reference to `PyString_FromString'
> requestobject.o(.text+0xe5c): undefined reference to `PyInt_FromLong'
> requestobject.o(.text+0xe94): undefined reference to `PyErr_SetObject'
> requestobject.o(.text+0xf14): undefined reference to `PyString_FromString'
> requestobject.o(.text+0xf68): undefined reference to `PyString_FromStringAndSize'
> requestobject.o(.text+0x1114): undefined reference to `PyExc_IOError'
> requestobject.o(.text+0x1118): undefined reference to `PyExc_IOError'
> requestobject.o(.text+0x1124): undefined reference to `PyString_FromString'
> requestobject.o(.text+0x1134): undefined reference to `PyErr_SetObject'
> requestobject.o(.text+0x1198): undefined reference to `_PyString_Resize'
> modules/python/libpython.a(requestobject.o): In function `req_readline':
> requestobject.o(.text+0x11f8): undefined reference to `PyArg_ParseTuple'
> requestobject.o(.text+0x1230): undefined reference to `PyString_FromString'
> requestobject.o(.text+0x1288): undefined reference to `PyInt_FromLong'
> requestobject.o(.text+0x12c0): undefined reference to `PyErr_SetObject'
> requestobject.o(.text+0x1340): undefined reference to `PyString_FromString'
> requestobject.o(.text+0x1394): undefined reference to `PyString_FromStringAndSize'
> requestobject.o(.text+0x14b0): undefined reference to `_PyString_Resize'
> requestobject.o(.text+0x1550): undefined reference to `PyErr_NoMemory'
> requestobject.o(.text+0x1648): undefined reference to `PyExc_IOError'
> requestobject.o(.text+0x164c): undefined reference to `PyExc_IOError'
> requestobject.o(.text+0x1658): undefined reference to `PyString_FromString'
> requestobject.o(.text+0x1668): undefined reference to `PyErr_SetObject'
> requestobject.o(.text+0x179c): undefined reference to `_PyString_Resize'
> modules/python/libpython.a(requestobject.o): In function `req_register_cleanup':
> requestobject.o(.text+0x17fc): undefined reference to `PyArg_ParseTuple'
> requestobject.o(.text+0x1854): undefined reference to `PyCallable_Check'
> requestobject.o(.text+0x18ec): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x18f0): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x18f4): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x18f8): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x18fc): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(requestobject.o)(.text+0x1900): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(requestobject.o): In function `req_register_cleanup':
> requestobject.o(.text+0x1928): undefined reference to `PyExc_ValueError'
> requestobject.o(.text+0x192c): undefined reference to `PyExc_ValueError'
> requestobject.o(.text+0x193c): undefined reference to `PyErr_SetString'
> requestobject.o(.text+0x1984): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x1988): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x198c): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x1990): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x1994): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(requestobject.o)(.text+0x1998): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(requestobject.o): In function `req_write':
> requestobject.o(.text+0x1a58): undefined reference to `PyArg_ParseTuple'
> requestobject.o(.text+0x1ab4): undefined reference to `PyExc_IOError'
> requestobject.o(.text+0x1ab8): undefined reference to `PyExc_IOError'
> requestobject.o(.text+0x1ac8): undefined reference to `PyErr_SetString'
> requestobject.o(.text+0x1adc): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x1ae0): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x1ae4): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x1ae8): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x1aec): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(requestobject.o)(.text+0x1af0): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(requestobject.o): In function `request_getattr':
> requestobject.o(.text+0x2000): undefined reference to `Py_FindMethod'
> requestobject.o(.text+0x202c): undefined reference to `PyErr_Clear'
> requestobject.o(.text+0x2080): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x2084): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x2088): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x208c): undefined reference to `_Py_NoneStruct'
> requestobject.o(.text+0x2090): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(requestobject.o)(.text+0x2094): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(requestobject.o): In function `request_getattr':
> requestobject.o(.text+0x2838): undefined reference to `PyString_FromString'
> requestobject.o(.text+0x287c): undefined reference to `PyInt_FromLong'
> requestobject.o(.text+0x28ac): undefined reference to `PyMember_Get'
> modules/python/libpython.a(requestobject.o): In function `request_setattr':
> requestobject.o(.text+0x28e8): undefined reference to `PyExc_AttributeError'
> requestobject.o(.text+0x28ec): undefined reference to `PyExc_AttributeError'
> requestobject.o(.text+0x28fc): undefined reference to `PyErr_SetString'
> requestobject.o(.text+0x2944): undefined reference to `PyString_AsString'
> requestobject.o(.text+0x29b4): undefined reference to `PyString_AsString'
> requestobject.o(.text+0x2a18): undefined reference to `PyString_AsString'
> requestobject.o(.text+0x2a64): undefined reference to `PyMember_Set'
> modules/python/libpython.a(tableobject.o): In function `MpTable_FromTable':
> tableobject.o(.text+0x28): undefined reference to `PyErr_NoMemory'
> modules/python/libpython.a(tableobject.o): In function `tablegetitem':
> tableobject.o(.text+0x118): undefined reference to `PyString_AsString'
> tableobject.o(.text+0x14c): undefined reference to `PyExc_KeyError'
> tableobject.o(.text+0x150): undefined reference to `PyExc_KeyError'
> tableobject.o(.text+0x15c): undefined reference to `PyErr_SetObject'
> tableobject.o(.text+0x174): undefined reference to `PyString_FromString'
> modules/python/libpython.a(tableobject.o): In function `tablesetitem':
> tableobject.o(.text+0x1b8): undefined reference to `PyString_Type'
> tableobject.o(.text+0x1bc): undefined reference to `PyString_Type'
> tableobject.o(.text+0x1cc): undefined reference to `PyExc_TypeError'
> tableobject.o(.text+0x1d0): undefined reference to `PyExc_TypeError'
> tableobject.o(.text+0x1e0): undefined reference to `PyErr_SetString'
> tableobject.o(.text+0x1f8): undefined reference to `PyString_AsString'
> tableobject.o(.text+0x208): undefined reference to `_Py_NoneStruct'
> tableobject.o(.text+0x20c): undefined reference to `_Py_NoneStruct'
> tableobject.o(.text+0x268): undefined reference to `PyString_Type'
> tableobject.o(.text+0x26c): undefined reference to `PyString_Type'
> tableobject.o(.text+0x27c): undefined reference to `PyExc_TypeError'
> tableobject.o(.text+0x280): undefined reference to `PyExc_TypeError'
> tableobject.o(.text+0x290): undefined reference to `PyErr_SetString'
> tableobject.o(.text+0x2ac): undefined reference to `PyString_AsString'
> modules/python/libpython.a(tableobject.o): In function `table_keys':
> tableobject.o(.text+0x304): undefined reference to `PyList_New'
> tableobject.o(.text+0x374): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x38c): undefined reference to `PyList_SetItem'
> modules/python/libpython.a(tableobject.o): In function `table_has_key':
> tableobject.o(.text+0x3e8): undefined reference to `PyArg_ParseTuple'
> tableobject.o(.text+0x434): undefined reference to `PyInt_FromLong'
> tableobject.o(.text+0x454): undefined reference to `PyInt_FromLong'
> modules/python/libpython.a(tableobject.o): In function `table_add':
> tableobject.o(.text+0x490): undefined reference to `PyArg_ParseTuple'
> tableobject.o(.text+0x4c8): undefined reference to `_Py_NoneStruct'
> tableobject.o(.text+0x4cc): undefined reference to `_Py_NoneStruct'
> tableobject.o(.text+0x4d0): undefined reference to `_Py_NoneStruct'
> tableobject.o(.text+0x4d4): undefined reference to `_Py_NoneStruct'
> tableobject.o(.text+0x4d8): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(tableobject.o)(.text+0x4dc): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(tableobject.o): In function `table_getattr':
> tableobject.o(.text+0x560): undefined reference to `Py_FindMethod'
> modules/python/libpython.a(tableobject.o): In function `table_repr':
> tableobject.o(.text+0x58c): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x5d8): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x5e8): undefined reference to `PyString_ConcatAndDel'
> tableobject.o(.text+0x648): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x658): undefined reference to `PyString_ConcatAndDel'
> tableobject.o(.text+0x67c): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x68c): undefined reference to `PyString_ConcatAndDel'
> tableobject.o(.text+0x6a0): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x6b0): undefined reference to `PyString_ConcatAndDel'
> tableobject.o(.text+0x6d4): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x6e4): undefined reference to `PyString_ConcatAndDel'
> tableobject.o(.text+0x6f8): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x708): undefined reference to `PyString_ConcatAndDel'
> tableobject.o(.text+0x72c): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x73c): undefined reference to `PyString_ConcatAndDel'
> tableobject.o(.text+0x758): undefined reference to `PyString_FromString'
> tableobject.o(.text+0x768): undefined reference to `PyString_ConcatAndDel'
> modules/python/libpython.a(util.o): In function `tuple_from_array_header':
> util.o(.text+0x18): undefined reference to `_Py_NoneStruct'
> util.o(.text+0x1c): undefined reference to `_Py_NoneStruct'
> util.o(.text+0x20): undefined reference to `_Py_NoneStruct'
> util.o(.text+0x24): undefined reference to `_Py_NoneStruct'
> util.o(.text+0x28): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(util.o)(.text+0x2c): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(util.o): In function `tuple_from_array_header':
> util.o(.text+0x5c): undefined reference to `PyTuple_New'
> util.o(.text+0xb0): undefined reference to `PyString_FromString'
> util.o(.text+0xc4): undefined reference to `PyTuple_SetItem'
> modules/python/libpython.a(serverobject.o): In function `MpServer_FromServer':
> serverobject.o(.text+0x28): undefined reference to `PyErr_NoMemory'
> modules/python/libpython.a(serverobject.o): In function `server_register_cleanup':
> serverobject.o(.text+0xb8): undefined reference to `PyArg_ParseTuple'
> serverobject.o(.text+0xe4): undefined reference to `PyObject_HasAttrString'
> serverobject.o(.text+0xf8): undefined reference to `PyExc_ValueError'
> serverobject.o(.text+0xfc): undefined reference to `PyExc_ValueError'
> serverobject.o(.text+0x10c): undefined reference to `PyErr_SetString'
> serverobject.o(.text+0x134): undefined reference to `PyObject_GetAttrString'
> serverobject.o(.text+0x15c): undefined reference to `PyExc_ValueError'
> serverobject.o(.text+0x160): undefined reference to `PyExc_ValueError'
> serverobject.o(.text+0x170): undefined reference to `PyErr_SetString'
> serverobject.o(.text+0x190): undefined reference to `PyCallable_Check'
> serverobject.o(.text+0x1a4): undefined reference to `PyExc_ValueError'
> serverobject.o(.text+0x1a8): undefined reference to `PyExc_ValueError'
> serverobject.o(.text+0x1b8): undefined reference to `PyErr_SetString'
> serverobject.o(.text+0x278): undefined reference to `_Py_NoneStruct'
> serverobject.o(.text+0x27c): undefined reference to `_Py_NoneStruct'
> serverobject.o(.text+0x280): undefined reference to `_Py_NoneStruct'
> serverobject.o(.text+0x284): undefined reference to `_Py_NoneStruct'
> serverobject.o(.text+0x288): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(serverobject.o)(.text+0x28c): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(serverobject.o): In function `server_getattr':
> serverobject.o(.text+0x3c0): undefined reference to `Py_FindMethod'
> serverobject.o(.text+0x3ec): undefined reference to `PyErr_Clear'
> serverobject.o(.text+0x440): undefined reference to `_Py_NoneStruct'
> serverobject.o(.text+0x444): undefined reference to `_Py_NoneStruct'
> serverobject.o(.text+0x448): undefined reference to `_Py_NoneStruct'
> serverobject.o(.text+0x44c): undefined reference to `_Py_NoneStruct'
> serverobject.o(.text+0x450): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(serverobject.o)(.text+0x454): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(serverobject.o): In function `server_getattr':
> serverobject.o(.text+0x554): undefined reference to `PyInt_FromLong'
> serverobject.o(.text+0x614): undefined reference to `PyMember_Get'
> modules/python/libpython.a(connobject.o): In function `MpConn_FromConn':
> connobject.o(.text+0x28): undefined reference to `PyErr_NoMemory'
> modules/python/libpython.a(connobject.o): In function `makeipaddr':
> connobject.o(.text+0x1f4): undefined reference to `PyString_FromString'
> modules/python/libpython.a(connobject.o): In function `makesockaddr':
> connobject.o(.text+0x258): undefined reference to `Py_BuildValue'
> modules/python/libpython.a(connobject.o): In function `conn_getattr':
> connobject.o(.text+0x31c): undefined reference to `_Py_NoneStruct'
> connobject.o(.text+0x320): undefined reference to `_Py_NoneStruct'
> connobject.o(.text+0x324): undefined reference to `_Py_NoneStruct'
> connobject.o(.text+0x328): undefined reference to `_Py_NoneStruct'
> connobject.o(.text+0x32c): undefined reference to `_Py_NoneStruct'
> modules/python/libpython.a(connobject.o)(.text+0x330): more undefined references to `_Py_NoneStruct' follow
> modules/python/libpython.a(connobject.o): In function `conn_getattr':
> connobject.o(.text+0x5c4): undefined reference to `PyMember_Get'
> modules/python/libpython.a(connobject.o): In function `conn_setattr':
> connobject.o(.text+0x600): undefined reference to `PyExc_AttributeError'
> connobject.o(.text+0x604): undefined reference to `PyExc_AttributeError'
> connobject.o(.text+0x614): undefined reference to `PyErr_SetString'
> connobject.o(.text+0x65c): undefined reference to `PyString_AsString'
> connobject.o(.text+0x6ac): undefined reference to `PyMember_Set'
> collect2: ld returned 1 exit status
> *** Error code 1
> make: Fatal error: Command failed for target `target_static'
> -- 
> Steve Traylen, Systems Engineer
> http://www.ccdc.cam.ac.uk/
> 
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python

-- 
Joost Damad - Siemens IC D NC A - +3214252297
--
Hoare's Law of Large Problems:
    Inside every large problem is a small problem struggling to get out.

