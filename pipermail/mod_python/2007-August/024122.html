<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Session class or Memcache to reduce load?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Session%20class%20or%20Memcache%20to%20reduce%20load%3F&In-Reply-To=010201c7d9fe%24f02add10%24d0809730%24%40com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024121.html">
   <LINK REL="Next"  HREF="024104.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Session class or Memcache to reduce load?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Mike Looijmans</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Session%20class%20or%20Memcache%20to%20reduce%20load%3F&In-Reply-To=010201c7d9fe%24f02add10%24d0809730%24%40com"
       TITLE="[mod_python] Session class or Memcache to reduce load?">nlv11281 at natlab.research.philips.com
       </A><BR>
    <I>Thu Aug  9 01:34:35 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024121.html">[mod_python] Session class or Memcache to reduce load?
</A></li>
        <LI>Next message: <A HREF="024104.html">[mod_python] Access-Handler based on a Variable
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24122">[ date ]</a>
              <a href="thread.html#24122">[ thread ]</a>
              <a href="subject.html#24122">[ subject ]</a>
              <a href="author.html#24122">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> &gt; In this regard, I have another question: should each request open it's own
 &gt; MySQL connection (the connection to our DB slave servers), or only one
 &gt; connection should be opened, and passed around between requests using
 &gt; DbmSession or some other means?

I tried benchmarking my connection pool against setting up a connection for each and every request. 
I found that I could not prove any improvement in speed for MySQL 3 or 4, so I would not start on 
that path. MySQL can handle hundreds of connections just fine. Just set up the database to accept 
many connections.

Set up MySQL to use unix sockets (or named pipes on Windows) and preferably switch off TCP/IP 
completely in MySQL if the DB and web services run on the same machine. Also, if the database plays 
a significant role, configure MySQL to use more resources than what it allocates by default. For 
some statistics crunching DB tasks, I assigned half the machine's RAM as index buffer.

Switching on MySQL's query cache is also very useful if you are likely to run the exact same query 
multiple times. This happens for example if you check user access rights or session data in the DB.

With MySQL, if your machine cannot handle the load, add another machine and use replication. You can 
do the same for your web server, by the way.


Mike Looijmans
Philips Natlab / Topic Automation



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024121.html">[mod_python] Session class or Memcache to reduce load?
</A></li>
	<LI>Next message: <A HREF="024104.html">[mod_python] Access-Handler based on a Variable
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24122">[ date ]</a>
              <a href="thread.html#24122">[ thread ]</a>
              <a href="subject.html#24122">[ subject ]</a>
              <a href="author.html#24122">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
