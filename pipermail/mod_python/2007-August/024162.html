<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Re: XSLT and mod_python
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20XSLT%20and%20mod_python&In-Reply-To=fb2o81%24klm%241%40sea.gmane.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024160.html">
   <LINK REL="Next"  HREF="024164.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Re: XSLT and mod_python</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20XSLT%20and%20mod_python&In-Reply-To=fb2o81%24klm%241%40sea.gmane.org"
       TITLE="[mod_python] Re: XSLT and mod_python">graham.dumpleton at gmail.com
       </A><BR>
    <I>Tue Aug 28 23:28:48 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024160.html">[mod_python] Re: XSLT and mod_python
</A></li>
        <LI>Next message: <A HREF="024164.html">[mod_python] Headers not being sent when input/output is over a
	certain size
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24162">[ date ]</a>
              <a href="thread.html#24162">[ thread ]</a>
              <a href="subject.html#24162">[ subject ]</a>
              <a href="author.html#24162">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>If you are having to use 'main_interpreter', then it means some C
extension module author has taken the easy path and used the
simplified GIL state API for thread management rather than using the
complete API properly. This means their module cannot be used in
secondary sub interpreters as created in mod_python and you have to
force it to use the main interpreter.

Graham

On 29/08/2007, Sidnei da Silva &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">sidnei at enfoldsystems.com</A>&gt; wrote:
&gt;<i> &quot;Richard Lewis&quot; &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">richardlewis at fastmail.co.uk</A>&gt; wrote
</I>&gt;<i> in message news:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">200705231716.05231.richardlewis at fastmail.co.uk...</A>
</I>&gt;<i> &gt; Therefore I use lxml[2] which implements Fredrik Lundh[3]'s ElementTree[4]
</I>&gt;<i> &gt; interface (which is now part of the Python standard library, as of 2.5[5])
</I>&gt;<i> &gt; as
</I>&gt;<i> &gt; a wrapper around libxml/libxslt. Its a very nice way to work with XML/XSLT
</I>&gt;<i> &gt; in
</I>&gt;<i> &gt; Python as its /very/ fast and it creates nice Pythonic data structures as
</I>&gt;<i> &gt; a
</I>&gt;<i> &gt; result of your XSLT transformations which you can then go on to manipulate
</I>&gt;<i> &gt; in
</I>&gt;<i> &gt; code (or just write to a string or file-like object). The only problem
</I>&gt;<i> &gt; I've
</I>&gt;<i> &gt; had with it is, I /think/, that its causing crashing of the mod_python's
</I>&gt;<i> &gt; Python interpreter when you use &lt;xsl:import /&gt;. As I said, I /think/ this
</I>&gt;<i> &gt; is
</I>&gt;<i> &gt; what's causing these crashes, but I'm not sure yet.
</I>&gt;<i>
</I>&gt;<i> FWIW, I'm also using lxml and gone through a similar issue with a crash
</I>&gt;<i> using lxml and the XSLT document() function. The solution was to use
</I>&gt;<i> &quot;PythonInterpreter main_interpreter&quot;, as I've found described on the
</I>&gt;<i> documentation for 'xapian' (!). Stephan Behnel, lxml developer also
</I>&gt;<i> suggested compiling lxml with(out?) threading support, but I didn't give
</I>&gt;<i> that a try.
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Sidnei da Silva
</I>&gt;<i> Enfold Systems, Inc.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I></PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024160.html">[mod_python] Re: XSLT and mod_python
</A></li>
	<LI>Next message: <A HREF="024164.html">[mod_python] Headers not being sent when input/output is over a
	certain size
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24162">[ date ]</a>
              <a href="thread.html#24162">[ thread ]</a>
              <a href="subject.html#24162">[ subject ]</a>
              <a href="author.html#24162">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
