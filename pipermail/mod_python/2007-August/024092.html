<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] ImportError: No module named mod_python.apache
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20ImportError%3A%20No%20module%20named%20mod_python.apache&In-Reply-To=7e8d40920708011921x491577a9w51cdbdab54948546%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024091.html">
   <LINK REL="Next"  HREF="024093.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] ImportError: No module named mod_python.apache</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20ImportError%3A%20No%20module%20named%20mod_python.apache&In-Reply-To=7e8d40920708011921x491577a9w51cdbdab54948546%40mail.gmail.com"
       TITLE="[mod_python] ImportError: No module named mod_python.apache">graham.dumpleton at gmail.com
       </A><BR>
    <I>Wed Aug  1 22:39:13 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024091.html">[mod_python] ImportError: No module named mod_python.apache
</A></li>
        <LI>Next message: <A HREF="024093.html">[mod_python] Encoding problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24092">[ date ]</a>
              <a href="thread.html#24092">[ thread ]</a>
              <a href="subject.html#24092">[ subject ]</a>
              <a href="author.html#24092">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Unfortunately the Apache/Python errors don't get ordered correctly as
to get Python messages to display needs an explicit flush. This only
get done later.

Anyway, the reason 'site-packages' wouldn't appear the first time is
that that directory is only added when 'site' is imported. You should
not be adding 'site-packages' explicitly to PYTHONPATH.

However, you are getting:

  'import site' failed; traceback:
  ImportError: No module named site

So 'site' module is failing to import.

Although, earlier it shows:

  # /usr/local/lib/python2.5/site.pyc matches /usr/local/lib/python2.5/site.py
  import site # precompiled from /usr/local/lib/python2.5/site.pyc

That it identifies a site.pyc suggests it does exist. You perhaps
should ensure that it and all other Python installed files are
readable to others. This is necessary as Apache would generally run as
a different user to you.

Also, is /usr/local/bin/python the version of Python executable that
would be found first in the PATH of the user that Apache is run as? Do
you have any other versions of Python 2.5 installed anywhere?

Does it make a difference if you set:

  PYTHONEXECUTABLE=/usr/local/bin/python

in environment of user that Apache is started as?

Graham

On 02/08/07, Marty Alchin &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">gulopine at gamemusic.org</A>&gt; wrote:
&gt;<i> I've been staring at computer screens for too long today, so I can't
</I>&gt;<i> make heads or tails of this at the moment.
</I>&gt;<i>
</I>&gt;<i> -Gul
</I>&gt;<i>
</I>&gt;<i> [Wed Aug 01 20:45:21 2007] [error] make_obcallback: could not import
</I>&gt;<i> mod_python.apache.\n
</I>&gt;<i> # installing zipimport hook
</I>&gt;<i> import zipimport # builtin
</I>&gt;<i> # installed zipimport hook
</I>&gt;<i> # /usr/local/lib/python2.5/site.pyc matches /usr/local/lib/python2.5/site.py
</I>&gt;<i> import site # precompiled from /usr/local/lib/python2.5/site.pyc
</I>&gt;<i> # /usr/local/lib/python2.5/os.pyc matches /usr/local/lib/python2.5/os.py
</I>&gt;<i> import os # precompiled from /usr/local/lib/python2.5/os.pyc
</I>&gt;<i> import posix # builtin
</I>&gt;<i> # /usr/local/lib/python2.5/posixpath.pyc matches
</I>&gt;<i> /usr/local/lib/python2.5/posixpath.py
</I>&gt;<i> import posixpath # precompiled from /usr/local/lib/python2.5/posixpath.pyc
</I>&gt;<i> # /usr/local/lib/python2.5/stat.pyc matches /usr/local/lib/python2.5/stat.py
</I>&gt;<i> import stat # precompiled from /usr/local/lib/python2.5/stat.pyc
</I>&gt;<i> # /usr/local/lib/python2.5/UserDict.pyc matches
</I>&gt;<i> /usr/local/lib/python2.5/UserDict.py
</I>&gt;<i> import UserDict # precompiled from /usr/local/lib/python2.5/UserDict.pyc
</I>&gt;<i> # /usr/local/lib/python2.5/copy_reg.pyc matches
</I>&gt;<i> /usr/local/lib/python2.5/copy_reg.py
</I>&gt;<i> import copy_reg # precompiled from /usr/local/lib/python2.5/copy_reg.pyc
</I>&gt;<i> # /usr/local/lib/python2.5/types.pyc matches /usr/local/lib/python2.5/types.py
</I>&gt;<i> import types # precompiled from /usr/local/lib/python2.5/types.pyc
</I>&gt;<i> import _types # builtin
</I>&gt;<i> # /usr/local/lib/python2.5/warnings.pyc matches
</I>&gt;<i> /usr/local/lib/python2.5/warnings.py
</I>&gt;<i> import warnings # precompiled from /usr/local/lib/python2.5/warnings.pyc
</I>&gt;<i> # /usr/local/lib/python2.5/linecache.pyc matches
</I>&gt;<i> /usr/local/lib/python2.5/linecache.py
</I>&gt;<i> import linecache # precompiled from /usr/local/lib/python2.5/linecache.pyc
</I>&gt;<i> import encodings # directory /usr/local/lib/python2.5/encodings
</I>&gt;<i> # /usr/local/lib/python2.5/encodings/__init__.pyc matches
</I>&gt;<i> /usr/local/lib/python2.5/encodings/__init__.py
</I>&gt;<i> import encodings # precompiled from
</I>&gt;<i> /usr/local/lib/python2.5/encodings/__init__.pyc
</I>&gt;<i> # /usr/local/lib/python2.5/codecs.pyc matches /usr/local/lib/python2.5/codecs.py
</I>&gt;<i> import codecs # precompiled from /usr/local/lib/python2.5/codecs.pyc
</I>&gt;<i> import _codecs # builtin
</I>&gt;<i> # /usr/local/lib/python2.5/encodings/aliases.pyc matches
</I>&gt;<i> /usr/local/lib/python2.5/encodings/aliases.py
</I>&gt;<i> import encodings.aliases # precompiled from
</I>&gt;<i> /usr/local/lib/python2.5/encodings/aliases.pyc
</I>&gt;<i> # /usr/local/lib/python2.5/encodings/utf_8.pyc matches
</I>&gt;<i> /usr/local/lib/python2.5/encodings/utf_8.py
</I>&gt;<i> import encodings.utf_8 # precompiled from
</I>&gt;<i> /usr/local/lib/python2.5/encodings/utf_8.pyc
</I>&gt;<i> import __builtin__ # previously loaded (__builtin__)
</I>&gt;<i> import sys # previously loaded (sys)
</I>&gt;<i> # installing zipimport hook
</I>&gt;<i> import zipimport # previously loaded (zipimport)
</I>&gt;<i> # installed zipimport hook
</I>&gt;<i> 'import site' failed; traceback:
</I>&gt;<i> ImportError: No module named site
</I>&gt;<i> ImportError: No module named mod_python.apache
</I>&gt;<i> [Wed Aug 01 20:45:21 2007] [error] make_obcallback: Python path being
</I>&gt;<i> used &quot;['/usr/local/lib/python2.5/site-packages',
</I>&gt;<i> '/usr/local/lib/python25.zip', '/usr/local/lib/python2.5/',
</I>&gt;<i> '/usr/local/lib/python2.5/plat-linux2',
</I>&gt;<i> '/usr/local/lib/python2.5/lib-tk',
</I>&gt;<i> '/usr/local/lib/python2.5/lib-dynload']&quot;.
</I>&gt;<i> [Wed Aug 01 20:45:21 2007] [error] get_interpreter: no interpreter
</I>&gt;<i> callback found.
</I>&gt;<i> [Wed Aug 01 20:45:21 2007] [error] [client 24.11.212.122]
</I>&gt;<i> python_handler: Can't get/create interpreter.
</I>&gt;<i>
</I>&gt;<i> On 8/1/07, Graham Dumpleton &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">graham.dumpleton at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; Run it again, setting:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;   PYTHONVERBOSE=1
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; in the environment.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The error is while site file is being imported, ie., before
</I>&gt;<i> &gt; mod_python.apache is imported.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Post back result to the mailing list.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Graham
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On 02/08/07, Marty Alchin &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">gulopine at gamemusic.org</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; I was having problems with mod_python recently, so I decided to
</I>&gt;<i> &gt; &gt; upgrade to Python 2.5 (which I had wanted to do anyway), reinstall
</I>&gt;<i> &gt; &gt; mod_python and try again. I'm getting the following error, however,
</I>&gt;<i> &gt; &gt; and I can't sort out why.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; [Wed Aug 01 18:20:53 2007] [error] make_obcallback: could not import
</I>&gt;<i> &gt; &gt; mod_python.apache.\n
</I>&gt;<i> &gt; &gt; 'import site' failed; use -v for traceback
</I>&gt;<i> &gt; &gt; ImportError: No module named mod_python.apache
</I>&gt;<i> &gt; &gt; [Wed Aug 01 18:20:53 2007] [error] make_obcallback: Python path being
</I>&gt;<i> &gt; &gt; used &quot;['/usr/local/lib/python2.5/site-packages',
</I>&gt;<i> &gt; &gt; '/usr/local/lib/python25.zip', '/usr/local/lib/python2.5/',
</I>&gt;<i> &gt; &gt; '/usr/local/lib/python2.5/plat-linux2',
</I>&gt;<i> &gt; &gt; '/usr/local/lib/python2.5/lib-tk',
</I>&gt;<i> &gt; &gt; '/usr/local/lib/python2.5/lib-dynload']&quot;.
</I>&gt;<i> &gt; &gt; [Wed Aug 01 18:20:53 2007] [error] get_interpreter: no interpreter
</I>&gt;<i> &gt; &gt; callback found.
</I>&gt;<i> &gt; &gt; [Wed Aug 01 18:20:53 2007] [error] [client 24.11.212.122]
</I>&gt;<i> &gt; &gt; python_handler: Can't get/create interpreter.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Initially, it seemed to make sense, since Python's site-packages
</I>&gt;<i> &gt; &gt; wasn't listed in the path that was being used. However, when I run it
</I>&gt;<i> &gt; &gt; with PYTHONPATH=/usr/local/lib/python2.5/site-packages, it still runs
</I>&gt;<i> &gt; &gt; into the same error, and as you can see, site-packages is now
</I>&gt;<i> &gt; &gt; included. I haven't found anything else in the logs that sheds any
</I>&gt;<i> &gt; &gt; light on the subject.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Is there something I can do to get more information about what's going wrong?
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; -Gul
</I>&gt;<i> &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; Mod_python mailing list
</I>&gt;<i> &gt; &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> &gt; &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024091.html">[mod_python] ImportError: No module named mod_python.apache
</A></li>
	<LI>Next message: <A HREF="024093.html">[mod_python] Encoding problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24092">[ date ]</a>
              <a href="thread.html#24092">[ thread ]</a>
              <a href="subject.html#24092">[ subject ]</a>
              <a href="author.html#24092">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
