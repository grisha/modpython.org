<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Re: Curious error with Session Variables
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20Curious%20error%20with%20Session%20Variables&In-Reply-To=1187967860.493686.127380%40r23g2000prd.googlegroups.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024148.html">
   <LINK REL="Next"  HREF="024150.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Re: Curious error with Session Variables</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20Curious%20error%20with%20Session%20Variables&In-Reply-To=1187967860.493686.127380%40r23g2000prd.googlegroups.com"
       TITLE="[mod_python] Re: Curious error with Session Variables">graham.dumpleton at gmail.com
       </A><BR>
    <I>Sat Aug 25 00:04:21 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024148.html">[mod_python] How to do file uploads
</A></li>
        <LI>Next message: <A HREF="024150.html">[mod_python] apache configuration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24149">[ date ]</a>
              <a href="thread.html#24149">[ thread ]</a>
              <a href="subject.html#24149">[ subject ]</a>
              <a href="author.html#24149">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 25/08/07, karn &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">kan2005 at gmail.com</A>&gt; wrote:
&gt;<i> I found this problem too, but I am not expert in php.
</I>&gt;<i> Could you explain in detail , how to disable php mhash module? Did you
</I>&gt;<i> mean change configuration in php.ini?
</I>&gt;<i>
</I>&gt;<i> Karn
</I>
I'm not a PHP person so have no idea. I have pushed your question back
onto the mod_python list where there is no doubt someone who has had
to do this who can tell you. Otherwise ask on a PHP list if you cant
get an answer.

Graham

&gt;<i> On 10 &#190;.&#164;., 08:10, Graham Dumpleton &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Graham.Dumple... at gmail.com</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i> &gt; Tryreenabling PHP, but delve into the PHP setup and disable the
</I>&gt;<i> &gt; loading of the PHP mhash module first.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; There have been cases where the PHP mhash module has clashed in some
</I>&gt;<i> &gt; way with the Python md5 hash modules and caused the Python module to
</I>&gt;<i> &gt; give back incorrect results. This may have an effect on sessioncookiesif a md5 hash is used in some way to generate it.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Graham
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On May 9, 11:16 pm, &quot;Diego pylorca&quot; &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">pylo... at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; Nop,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; when I disable mod-php5, the admin works correctly :(
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; my web browsers are firefox and opera and IE, but it is not a client host
</I>&gt;<i> &gt; &gt; problem :'(
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; On 5/8/07, John DeRosa &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">stug... at qwest.net</A>&gt; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; Perhaps checkyourfirewall, anti-hijack, anti-trojan, etc. software.
</I>&gt;<i> &gt; &gt; &gt; You may have a cookie guard enabled.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; For example, Webroot's Spy Sweeper has a set of &quot;shields&quot; for web
</I>&gt;<i> &gt; &gt; &gt; browsers, and they include the blocking of certain trackingcookiesand
</I>&gt;<i> &gt; &gt; &gt; some IE security 'protection'.  Perhapsyoursystem is running a similar
</I>&gt;<i> &gt; &gt; &gt; product?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; John
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; Diego pylorca wrote:
</I>&gt;<i> &gt; &gt; &gt; &gt; mmmmm
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; I deployed my site, and in the admin when itryto login i get this
</I>&gt;<i> &gt; &gt; &gt; message:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &quot;Lookslikeyourbrowserisn'tconfiguredtoacceptcookies.Please
</I>&gt;<i> &gt; &gt; &gt; &gt;enablecookies,reloadthispage, andtryagain.&quot;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; thecookiesis enabled.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; my server is a debian etch stable (intalled modpython apache2 and mysql
</I>&gt;<i> &gt; &gt; &gt; &gt; from apt)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; i ve run django/bin/daily_cleanup.py and flush the session table...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; PD: sory by me bad english
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; On 4/4/07, *chasfs* &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">cha... at yahoo.com</A> &lt;mailto:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">cha... at yahoo.com</A>&gt;&gt; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;     There are several things going on here. If you have multiple django
</I>&gt;<i> &gt; &gt; &gt; &gt;     sites
</I>&gt;<i> &gt; &gt; &gt; &gt;     all setting sessionscookies, make sure that the SESSION_COOKIE_NAME
</I>&gt;<i> &gt; &gt; &gt; &gt;     and SESSION_COOKIE_DOMAIN are unique in the respective settings.py
</I>&gt;<i> &gt; &gt; &gt; &gt;     files.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;     You also need to clean out old session rows in the django_session
</I>&gt;<i> &gt; &gt; &gt; &gt;     database.
</I>&gt;<i> &gt; &gt; &gt; &gt;     You can use django/bin/daily_cleanup.py to do this.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;     Good luck,
</I>&gt;<i> &gt; &gt; &gt; &gt;     -chasfs
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;     On Apr 3, 1:36 pm, &quot;Ramdas S&quot; &lt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">ram... at gmail.com</A>
</I>&gt;<i> &gt; &gt; &gt; &gt;     &lt;mailto:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">ram... at gmail.com</A>&gt;&gt; wrote:
</I>&gt;<i> &gt; &gt; &gt; &gt;      &gt; Since last few days I am getting this error on Django web sites
</I>&gt;<i> &gt; &gt; &gt; &gt;     hosted.
</I>&gt;<i> &gt; &gt; &gt; &gt;      &gt; Obviously it is clashing with something.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;      &gt; When I work on admin interface to add or delete content, I get
</I>&gt;<i> &gt; &gt; &gt; &gt;     logged off
</I>&gt;<i> &gt; &gt; &gt; &gt;      &gt; and it takes some time for me to loginagain.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;      &gt; I get the following messages
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;      &gt;Pleaseenter a correct username and password. Note that both
</I>&gt;<i> &gt; &gt; &gt; &gt;     fields are
</I>&gt;<i> &gt; &gt; &gt; &gt;      &gt; case-sensitive.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;      &gt; If I keep on trying then the message changes to
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;      &gt;Lookslikeyourbrowserisn'tconfiguredtoacceptcookies.
</I>&gt;<i> &gt; &gt; &gt; &gt;    Pleaseenable
</I>&gt;<i> &gt; &gt; &gt; &gt;      &gt;cookies,reloadthispage, andtryagain.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;      &gt; Later if I persist
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;      &gt; I get this error
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;      &gt; -----
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;      &gt; SuspiciousOperation at /admin/ User may have tampered with
</I>&gt;<i> &gt; &gt; &gt; session
</I>&gt;<i> &gt; &gt; &gt; &gt;      &gt; cookie. Request
</I>&gt;<i> &gt; &gt; &gt; &gt;      &gt; Method: POST  Request URL:<A HREF="http://developeriq.com/admin/">http://developeriq.com/admin/</A>
</I>&gt;<i> &gt; &gt; &gt; &gt;     Exception Type:
</I>&gt;<i> &gt; &gt; &gt; &gt;      &gt; SuspiciousOperation  Exception Value: User may have tampered with
</I>&gt;<i> &gt; &gt; &gt; &gt;     session
</I>&gt;<i> &gt; &gt; &gt; &gt;      &gt; cookie.  Exception Location:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; /usr/lib/python2.4/site-packages/django/contrib/admin/views/decorators.py
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;      &gt; in _decode_post_data, line 40
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;      &gt; I am using the latest development version Mod_Python, Apache and
</I>&gt;<i> &gt; &gt; &gt; &gt;     Ubuntu
</I>&gt;<i> &gt; &gt; &gt; &gt;      &gt; Linux
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;      &gt; What can be the reason
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;      &gt; Thanks
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;      &gt; Ramdas S
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;      &gt; The Server is a dedicated server, and it also runs PHP, MySQl and
</I>&gt;<i> &gt; &gt; &gt; &gt;     some PHP
</I>&gt;<i> &gt; &gt; &gt; &gt;      &gt; and Python software.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; --
</I>&gt;<i> &gt; &gt; &gt; &gt; Diego F. Toritto.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; --
</I>&gt;<i> &gt; &gt; Diego F. Toritto.- &#171;&#232;&#205;&#185;&#162;&#233;&#205;&#164;&#199;&#210;&#193;&#183;&#213;&#232;&#194;&#161;&#193;&#210; -
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; - &#225;&#202;&#180;&#167;&#162;&#233;&#205;&#164;&#199;&#210;&#193;&#183;&#213;&#232;&#194;&#161;&#193;&#210; -
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024148.html">[mod_python] How to do file uploads
</A></li>
	<LI>Next message: <A HREF="024150.html">[mod_python] apache configuration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24149">[ date ]</a>
              <a href="thread.html#24149">[ thread ]</a>
              <a href="subject.html#24149">[ subject ]</a>
              <a href="author.html#24149">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
