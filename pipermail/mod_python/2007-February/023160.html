<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] utf-8 encoding - still a problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20utf-8%20encoding%20-%20still%20a%20problem&In-Reply-To=45C3B205.24633.1E12B04%40export.hope.cz">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023156.html">
   <LINK REL="Next"  HREF="023161.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] utf-8 encoding - still a problem</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20utf-8%20encoding%20-%20still%20a%20problem&In-Reply-To=45C3B205.24633.1E12B04%40export.hope.cz"
       TITLE="[mod_python] utf-8 encoding - still a problem">grahamd at dscpl.com.au
       </A><BR>
    <I>Sat Feb  3 23:00:32 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023156.html">[mod_python] utf-8 encoding - still a problem
</A></li>
        <LI>Next message: <A HREF="023161.html">[mod_python] utf-8 encoding - still a problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23160">[ date ]</a>
              <a href="thread.html#23160">[ thread ]</a>
              <a href="subject.html#23160">[ subject ]</a>
              <a href="author.html#23160">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 03/02/2007, at 7:49 AM, <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">export at hope.cz</A> wrote:

&gt;<i> Thank you all who recently offered a solution to my UTF-8 problem.
</I>&gt;<i> So I added to my handler
</I>&gt;<i>
</I>&gt;<i> req.content_type = 'text/html ;charset=utf-8'
</I>&gt;<i> req.write('''	&lt;html&gt;
</I>&gt;<i> ....
</I>&gt;<i> ...
</I>&gt;<i>
</I>&gt;<i> ...
</I>&gt;<i> (&lt;/html&gt;&quot;&quot;&quot;.decode('utf8').encode('utf8'))
</I>&gt;<i>
</I>&gt;<i> But now when I try to call handler
</I>&gt;<i> like <A HREF="http://www..../mod/uploadvideo.py?24795">http://www..../mod/uploadvideo.py?24795</A>
</I>&gt;<i> a download dialog is presented as if I wanted to download that script.
</I>&gt;<i>
</I>&gt;<i> But If I do NOT use
</I>&gt;<i> charset=utf-8 in req.content_type
</I>&gt;<i> the script works good( except NOT utf-8 coding).and no download  
</I>&gt;<i> dialog is shown.
</I>&gt;<i> Where can be a problem?
</I>
Does it still fail if you take out the space before the semicolon?  
Maybe your
web client is being very fussy.

Have you tried to use some means to look at the headers sent back by
mod_python in the response to verify what has actually been sent? There
are extensions to firefox to look at headers returned, but I think  
you can
also use tools like wget/curl to remember headers so you can look at  
them
as well.

Graham
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023156.html">[mod_python] utf-8 encoding - still a problem
</A></li>
	<LI>Next message: <A HREF="023161.html">[mod_python] utf-8 encoding - still a problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23160">[ date ]</a>
              <a href="thread.html#23160">[ thread ]</a>
              <a href="subject.html#23160">[ subject ]</a>
              <a href="author.html#23160">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
