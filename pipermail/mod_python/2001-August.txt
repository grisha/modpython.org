From riesch at nieuw.nl  Wed Aug  1 13:03:02 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 21:46:26 2004
Subject: [mod_python] Some questions
Message-ID: <20010801130302.A4683@godel>

Hi all


I'm dubbing with some questions.

Cookies
Is there a way to detect whether a user supports cookies, or is that only possible by setting a cookie and not recieving?

Globals
I have some central files, which are to be used by multiple sites, where every site defines its own handler for python. Now in those central files I've defined a class which should be known throughout a site (not the other sites !). In my ultimate laziness, I've defined the instance as follows:

# start of Application.py


class Application:
   ...
# end of class definition

global app
app = Application()


# end of Application.py

Every site imports this file. Now I'm not sure whether every site now has the same instance, or if every site has a different instance. I'm geussing every site has another instance, since it defines its own handler and  should be run as a separate program, but I don't know how mod-python handles this.


Any suggestions?

Richard


Btw:
All-right for the patch. I'm definetly gonna use that!

From tree at basistech.com  Wed Aug  1 07:21:39 2001
From: tree at basistech.com (Tom Emerson)
Date: Fri Jan  9 21:46:26 2004
Subject: [mod_python] Some questions
In-Reply-To: <20010801130302.A4683@godel>
References: <20010801130302.A4683@godel>
Message-ID: <15207.58947.621881.556677@cymru.basistech.com>

riesch@nieuw.nl writes:
> Cookies
> Is there a way to detect whether a user supports cookies,

No.

> or is that only possible by setting a cookie and not recieving?

Right.

> Globals
[...]

These I'm not sure on, but...

...I believe that the globals are valid for the life of the
interpreter. If you have separate virtual servers running then each
one has its own subinterpreter, and as such the globals should be
valid for each one.

> Every site imports this file. Now I'm not sure whether every site
> now has the same instance, or if every site has a different
> instance. I'm geussing every site has another instance, since it
> defines its own handler and should be run as a separate program, but
> I don't know how mod-python handles this.

You could check by passing a unique value to the __init__ function of
your global object for each site, and examining that value to see if
it is different.

-- 
Tom Emerson                                          Basis Technology Corp.
Sr. Sinostringologist                              http://www.basistech.com
  "Beware the lollipop of mediocrity: lick it once and you suck forever"

From riesch at nieuw.nl  Wed Aug  1 14:16:01 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 21:46:26 2004
Subject: [mod_python] Some questions
In-Reply-To: <15207.58947.621881.556677@cymru.basistech.com>; from tree@basistech.com on Wed, Aug 01, 2001 at 07:21:39AM -0400
References: <20010801130302.A4683@godel> <15207.58947.621881.556677@cymru.basistech.com>
Message-ID: <20010801141601.A16198@godel>

> > Globals
> [...]
> 
> These I'm not sure on, but...
> 
> ...I believe that the globals are valid for the life of the
> interpreter. If you have separate virtual servers running then each
> one has its own subinterpreter, and as such the globals should be
> valid for each one.

So every subinterpreter should be independent of the other interpreters ? and as such each site has a different app-instance?

> You could check by passing a unique value to the __init__ function of
> your global object for each site, and examining that value to see if
> it is different.

The init is always the same since the global is created in the Application.py and not in another file. I'm not to sure how to check it all, since a request is handled rather quick and I don't think there are debugging tools.


Thanx for replying,
Richard

From tree at basistech.com  Wed Aug  1 07:43:46 2001
From: tree at basistech.com (Tom Emerson)
Date: Fri Jan  9 21:46:26 2004
Subject: [mod_python] Some questions
In-Reply-To: <20010801141601.A16198@godel>
References: <20010801130302.A4683@godel>
	<15207.58947.621881.556677@cymru.basistech.com>
	<20010801141601.A16198@godel>
Message-ID: <15207.60274.563388.400127@cymru.basistech.com>

riesch@nieuw.nl writes:
> > ...I believe that the globals are valid for the life of the
> > interpreter. If you have separate virtual servers running then each
> > one has its own subinterpreter, and as such the globals should be
> > valid for each one.
> 
> So every subinterpreter should be independent of the other
> interpreters ? and as such each site has a different app-instance?

Yes: as long as each site is running in its own virtual host the
interpreters will be independent... at least that is my
understanding. :-)

You can control how subinterpreters are allocated using the
PythonInterp* series of configuration directives.

> The init is always the same since the global is created in the
> Application.py and not in another file. I'm not to sure how to check
> it all, since a request is handled rather quick and I don't think
> there are debugging tools.

Perhaps you could generate a random number in each __init__ function,
then write it to the log from each site using apache.log_error.  That
would at least tell you if you are getting different instances in each
site.

-- 
Tom Emerson                                          Basis Technology Corp.
Sr. Sinostringologist                              http://www.basistech.com
  "Beware the lollipop of mediocrity: lick it once and you suck forever"

From zdanie at dr.com  Wed Aug  1 19:05:36 2001
From: zdanie at dr.com (=?windows-1251?Q?=CF=EE=F0=F2=EE=E2=E0=FF,_19?=)
Date: Fri Jan  9 21:46:26 2004
Subject: [mod_python] =?windows-1251?Q?=CF=F0=EE=E4=E0=E5=F2=F1=FF_=E0=E4=EC=E8=ED=E8=F1=F2=F0=E0=F2=E8=E2=ED=EE=E5_=E7=E4=E0=ED=E8=E5_=E2_=CA=E0=E7=E0=ED=E8?=
Message-ID: <23487200183115536804@dr.com>

????????????! ???? ????????.

?????????? ?????????? ? ????????????? ???????????????? ?????? ? ??????
(?????????, ??????): 
- ????? ??????? 910 ??. ?; 
- 2 ?????; 
- ??????? ?????????? ????????? ?? 7 ?? 200 ??.?; 
- ??????????? ?????????? - ????????? ??????? 0,101 ??. 

?????? - ?????? ???????? ??????? ?????. ????? ???????? ????????????:
- ???????? ?????? - ?????? ?? ???????? ??????? ??????????? ????????? ?????;
- ??????? ?????????? ????; 
- ?????? ? ?????? ?????? - 5 ???. ????; 
- ?????? ? ?/? ???????  - 5 ???. ????;
- ????? ?????? ????; 
- ????? ?/? ????.

?????? ???????? ???????? ??? ?????????? ????? ????????????????? ?????
???????? ? ?????????? ??? ????????. ???????? ?????????? "????/?????". ???
???????????? ?????????. ?????? ??????? ??????? (?????? ?????????? ???????,
??????? ????? ??????? ? ??????? ?????). ?????? ????????? ? ???????
?????????????. ????? - ? ?????????? ???????????.

???? ?????? - ????? ??? ????????.

???? ?? ?????????????? ? ????????? ?? ??? ????? ????????? ?????????? ?
?????? ???????, ????????? ?????? ?????? ?? ??????: zdanie@europe.com. ???
???? ? "????" ????????? ??????????? ????????:
"???????? ????????? ??????????".




From xione at bellsouth.net  Thu Aug  2 10:53:22 2001
From: xione at bellsouth.net (Xione Wrent)
Date: Fri Jan  9 21:46:26 2004
Subject: [mod_python] Win32 Error:
Message-ID: <000901c11b7c$05c25100$8cbf3dd0@xwcom>

I'm getting the following error, and I can't figure out why?


I'm using 2.4.7 with Apache 1.3 on Win32. As far as I know, I've
installed everything right - even getting past the typo on
modpython.org's Windows Installation Guide (Which really should be
changed, BTW). But anyways, the only refrence I can even find to
anything called mptest is in my httpd.conf file - maybe I'm putting
this:

Mod_python error: "PythonHandler mptest"

Traceback (most recent call last):

  File "c:\python21\lib\mod_python\apache.py", line 181, in Dispatch
    module = import_module(module_name, _req)

  File "c:\python21\lib\mod_python\apache.py", line 335, in
import_module
    f, p, d = imp.find_module(parts[i], path)

ImportError: No module named mptest

<IfModule mod_alias.c>
    Alias /icons/ "C:/Program Files/Apache Group/Apache/icons/"
    <Directory "C:/Program Files/Apache Group/Apache/icons">
        Options Indexes MultiViews
        AllowOverride None
        Order allow,deny
        Allow from all
    </Directory>
    ScriptAlias /cgi-bin/ "C:/Program Files/Apache
Group/Apache/cgi-bin/"
    <Directory "C:/Program Files/Apache Group/Apache/cgi-bin">
        AllowOverride None
        Options None
        Order allow,deny
        Allow from all
    </Directory>
    <Directory "C:/Program Files/Apache Group/Apache/htdocs/python">
        AddHandler python-program .py
        PythonHandler mptest
        PythonDebug on
    </Directory>
</IfModule>



From brianh at exelixis.com  Thu Aug  2 13:16:11 2001
From: brianh at exelixis.com (Brian Hawthorne)
Date: Fri Jan  9 21:46:26 2004
Subject: [mod_python] sys.path and sys.modules change randomly between page loads!
In-Reply-To: <5.0.0.25.0.20010228111927.03518980@localhost>
Message-ID: <Pine.GSO.4.05.10108021300340.19281-100000@timeless.exelixis.com>

has anyone noticed anything like this?
i hypothesize that my requests are being cycled
thru multiple interpreters... each one has a different
history because other pages (which append to sys.path and
load modules) have been loaded into them.

i tried PythonInterpreter main_interpreter.
to no avail.

brian



From riesch at nieuw.nl  Fri Aug  3 12:09:05 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 21:46:26 2004
Subject: [mod_python] Win32 Error:
In-Reply-To: <000901c11b7c$05c25100$8cbf3dd0@xwcom>; from xione@bellsouth.net on Thu, Aug 02, 2001 at 10:53:22AM -0700
References: <000901c11b7c$05c25100$8cbf3dd0@xwcom>
Message-ID: <20010803120905.A16314@godel>

Hi there,

I'm geussing the answer to your problem is that the python interpreter cannot find the file, since it is not located in the systempath of python. The sollution would, in this case be to add the following line to httpd.conf:

PythonPath "sys.path + ['/dir/where/mptest/is/located/']"


Hope this helps,
Richard



On Thu, Aug 02, 2001 at 10:53:22AM -0700, Xione Wrent wrote:
> I'm getting the following error, and I can't figure out why?
> 
> 
> I'm using 2.4.7 with Apache 1.3 on Win32. As far as I know, I've
> installed everything right - even getting past the typo on
> modpython.org's Windows Installation Guide (Which really should be
> changed, BTW). But anyways, the only refrence I can even find to
> anything called mptest is in my httpd.conf file - maybe I'm putting
> this:
> 
> Mod_python error: "PythonHandler mptest"
> 
> Traceback (most recent call last):
> 
>   File "c:\python21\lib\mod_python\apache.py", line 181, in Dispatch
>     module = import_module(module_name, _req)
> 
>   File "c:\python21\lib\mod_python\apache.py", line 335, in
> import_module
>     f, p, d = imp.find_module(parts[i], path)
> 
> ImportError: No module named mptest
> 
> <IfModule mod_alias.c>
>     Alias /icons/ "C:/Program Files/Apache Group/Apache/icons/"
>     <Directory "C:/Program Files/Apache Group/Apache/icons">
>         Options Indexes MultiViews
>         AllowOverride None
>         Order allow,deny
>         Allow from all
>     </Directory>
>     ScriptAlias /cgi-bin/ "C:/Program Files/Apache
> Group/Apache/cgi-bin/"
>     <Directory "C:/Program Files/Apache Group/Apache/cgi-bin">
>         AllowOverride None
>         Options None
>         Order allow,deny
>         Allow from all
>     </Directory>
>     <Directory "C:/Program Files/Apache Group/Apache/htdocs/python">
>         AddHandler python-program .py
>         PythonHandler mptest
>         PythonDebug on
>     </Directory>
> </IfModule>
> 
> 
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python

From bl at netgroup.dk  Mon Aug  6 09:58:50 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 21:46:27 2004
Subject: [mod_python] Session info from authenhandler
Message-ID: <3B6E4E3A.90FDC41A@netgroup.dk>

Hi ...

Is it somehow possible to transfer session information found in the
"authenhandler" directly to the "normal" handler. I know that I could
use a cookie, but this still demands one trip around the client, and I
like to avoid that.

I have tried to set a value from "authenhandler" in the
"req.headers_out", and then try to read it in the "handler", but this is
somehow not possible, either.

Any idea how to do this ?

/BL


From bl at netgroup.dk  Mon Aug  6 10:51:29 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 21:46:27 2004
Subject: [mod_python] Patch to 2.7.5 for internal_redirect
References: <13CDDE6A53DBD311BC3200508B6F0C4805E48089@rover.foolhq.com>
		<20010731093907E.miguel@yorku.ca>
		<3B66B9B2.8E549FA@netgroup.dk> <15207.1934.890865.157761@cymru.basistech.com>
Message-ID: <3B6E5A91.DF855289@netgroup.dk>

Tom Emerson wrote:

> Attached is a small patch to mod_python 2.7.5 which provides support
> for doing an internal_redirect. I've only done minimal testing on this
> but it appears to work.

Will this patch be included in the future mod_python, and if not -- why ?

/BL


From riesch at nieuw.nl  Mon Aug  6 13:17:12 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 21:46:27 2004
Subject: [mod_python] Patch to 2.7.5 for internal_redirect
In-Reply-To: <15207.1934.890865.157761@cymru.basistech.com>; from tree@basistech.com on Tue, Jul 31, 2001 at 03:31:26PM -0400
References: <13CDDE6A53DBD311BC3200508B6F0C4805E48089@rover.foolhq.com> <20010731093907E.miguel@yorku.ca> <3B66B9B2.8E549FA@netgroup.dk> <15207.1934.890865.157761@cymru.basistech.com>
Message-ID: <20010806131712.A4114@godel>

Hi,


perhaps a bit of a stupid question, but how do I apply this patch. I don't think I will have edit all the files by hand :).

Is there a little program or something ?


Richard

From tree at basistech.com  Mon Aug  6 07:41:07 2001
From: tree at basistech.com (Tom Emerson)
Date: Fri Jan  9 21:46:27 2004
Subject: [mod_python] Patch to 2.7.5 for internal_redirect
In-Reply-To: <20010806131712.A4114@godel>
References: <13CDDE6A53DBD311BC3200508B6F0C4805E48089@rover.foolhq.com>
	<20010731093907E.miguel@yorku.ca>
	<3B66B9B2.8E549FA@netgroup.dk>
	<15207.1934.890865.157761@cymru.basistech.com>
	<20010806131712.A4114@godel>
Message-ID: <15214.33363.62919.664178@cymru.basistech.com>

riesch@nieuw.nl writes:
> perhaps a bit of a stupid question, but how do I apply this patch. I
> don't think I will have edit all the files by hand :).
> 
> Is there a little program or something ?

I should have included instructions, apologies.

Assuming you are on a Unix system, you can apply the patch by:

1) cd'ing to the top-level of the mod_python directory, and

2) invoking "patch < patch_name", where patch_name is the name that
   you saved the patch as.

That should do it.

    -tree

-- 
Tom Emerson                                          Basis Technology Corp.
Sr. Sinostringologist                              http://www.basistech.com
  "Beware the lollipop of mediocrity: lick it once and you suck forever"

From troy at gci.net  Tue Aug  7 11:31:52 2001
From: troy at gci.net (- troy)
Date: Fri Jan  9 21:46:27 2004
Subject: [mod_python] return 200 vs return apache.OK ?
Message-ID: <4f89774f7d12.4f7d124f8977@augustine.gci.net>

hi everyone!

i've been developing a project with mod_python for a few weeks, and 
i've run into a snag.  please forgive me if i'm not expressing this in 
the best terms; i'm new to python and apache both.

the problem i have is this:  whenever my handler returns an int by 
number, apache (or something) appends debugging information to the 
client response.  example handler:

	from mod_python import apache
	def handler(req):
		req.send_http_header()
		req.write('hello, world\n')
		return 200

on my system, this produces the following output:

	hello, world
	HTTP/1.1 200 OK
	Date: Tue, 07 Aug 2001 18:57:40 GMT
	Server: Apache/1.3.20 (Win32) mod_python/2.7.4 Python/2.1
	Keep-Alive: timeout=15, max=99
	Connection: Keep-Alive
	Transfer-Encoding: chunked
	Content-Type: text/html; charset=iso-8859-1

	<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
	<HTML><HEAD>
	<TITLE>200 OK</TITLE>
	</HEAD><BODY>
	<H1>OK</H1>
	The server encountered an internal error or
	misconfiguration and was unable to complete
	your request.<P>
	Please contact the server administrator,
	 <omitted> and inform them of the time the error occurred,
	and anything you might have done that may have
	caused the error.<P>
	More information about this error may be available
	in the server error log.<P>
	<HR>
	<ADDRESS>Apache/1.3.20 Server <omitted> Port 80</ADDRESS>
	</BODY></HTML>

there is nothing in the apache error log for these types of responses.

sometimes i can and do return the constant apache.OK, but i do need to 
return http codes as integers in some cases.  do i have something 
misconfigured?  am i missing the boat somehow?   what's the difference 
between returning 200 and apache.OK?

i have RTFM, but i'm  not the brightest bulb in the bunch.  any help 
would be appreciated.

-troy


From riesch at nieuw.nl  Thu Aug  9 09:36:41 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 21:46:27 2004
Subject: [mod_python] The standard password dialog
Message-ID: <20010809093641.A23318@godel>

Hi there,


I'm implementing security now for my mod-python application. Now I don't want to use the standard 'authenhandler'.

So I was wondering if there is a way to invoke the user-login screen without going through the standard 'authenhandler'.


Any suggestions ?,
Richard

From seant at webreply.com  Thu Aug  9 11:07:31 2001
From: seant at webreply.com (Sean True)
Date: Fri Jan  9 21:46:27 2004
Subject: [mod_python] Redirecting transhandler example.
Message-ID: <MJEHLHJKGINLONDMMKNEAEGNDJAA.seant@webreply.com>

httpredirector.py is a mod_python implementation of some of the Apache URL
rewriting
module. Much more primitive, intended to be easily configurable and
modifiable,
and motivated by the AT&T/Mediaone system wide blockage of port 80 in
response to
the "code red" worm attack.

Note: to be useful in the "code red" scenario, you need to be running
mod_python
on a server that is not being blocked. Of course, the code can be used (or
changed)
to do other sorts of useful URL rewriting.

We deploy httpredirector.py on a production webserver somewhere, using
wildcard
virtualhost aliases to let the redirector get hold of a host, rewrite the
host to
one of our home machines using an unblocked port, such as 8080.

-- Sean
-------
Sean True
WebReply.Com, Inc.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Sean True.vcf
Type: text/x-vcard
Size: 309 bytes
Desc: not available
Url : http://mailman.modpython.org/pipermail/mod_python/attachments/20010809/6825c027/SeanTrue.vcf
-------------- next part --------------
"""
httpredirector.py is a mod_python implementation of some of the Apache URL rewriting
module. Much more primitive, intended to be easily configurable and modifiable,
and motivated by the AT&T/Mediaone system wide blockage of port 80 in response to
the "code red" worm attack.

Note: to be useful in the "code red" scenario, you need to be running mod_python
on a server that is not being blocked. Of course, the code can be used (or changed)
to do other sorts of useful URL rewriting.

We deploy httpredirector.py on a production webserver somewhere, using wildcard
virtualhost aliases to let the redirector get hold of a host, rewrite the host to
one of our home machines using an unblocked port, such as 8080.


# --- Redirector site
<VirtualHost 10.0.0.1>
    ServerName redirector
    # Set up your DNS so that your public sites come here
    ServerAlias *.yourdomain.com
    PythonInterpreter phtml
    PythonTransHandler httpredirector
    PythonOption redirects {'yourdomain.com':'yourprivatedomain:8080'}
</VirtualHost>

Authors: Peter McA'Nulty and Sean True, WebReply.Com, Inc. Copyright (c) 2001
License: Use under the terms of the Python license: http://www.python.org/2.1.1/license.html
"""

from mod_python import apache
import sys, string

debug = 0
def transhandler(req):
    def log(s):
        sys.stderr.write("httpredirector: %s\n" % s)

    # Pick up the host field from the request
    # -- if HTTP 1.0, we're going to fail here
    try:
        host = req.headers_in['Host']
    except:
        log("didn't have 'HTTP_HOST' environment")
        return apache.DECLINED
    if debug:
        log(host)

    # Get the dictionary of redirect options from
    # httpd.conf
    opts = req.get_options()
    try:    
        redirects = opts['redirects']
    except:
        log("didn't have 'redirects' PythonOption")
        return apache.DECLINED
    try:    
        redirects = eval(redirects)
    except:
        log("'redirects' was not a valid dictionary [%s]" % `redirects`)
        return apache.DECLINED

    # This shouldn't fail. Belt, suspenders, ...
    uri = req.unparsed_uri
    if not uri:
        log("didn't have 'REQUEST_URI' environment")
        return apache.DECLINED

    # For each redirection option, search the host string for a target and
    # replace it. We stop after the first match, and redirect to the result.
    # This could be a list of regular expressions instead, but this will do for
    # now.
    keys = redirects.keys()
    for k in keys:
        if string.find(host, k) != -1:
            rehost = string.replace(host, k, redirects[k])
            req.headers_out['location'] = "http://%s%s" % (rehost, uri)
            req.status = apache.HTTP_MOVED_PERMANENTLY
            req.send_http_header()
            if debug: log("%s%s => %s%s" % (host,uri, rehost,uri))
            return apache.DONE
        
    log("didn't have matching redirect for %s" % host)
    return apache.DECLINED
    
    
From john at synchromesh.com  Fri Aug 10 11:29:29 2001
From: john at synchromesh.com (John Pallister)
Date: Fri Jan  9 21:46:27 2004
Subject: [mod_python] How is the Python version selected?
Message-ID: <3B731CD9.D2F62A8B@synchromesh.com>

Hello,

My system is Debian potato-based ('ray that package
dependency checking), and by and large sticking to Debian
packages wherever possible works very well for me.

I've installed python-* and python2-* packages, and now
/usr/bin/python gives me Python 1.5.2, and mod_python sees
Python 2.0.1.

I presume this is because the mod_python in
libapache-mod-python was linked against the Python in
python2-base. So there's no point in installing (say)
ActivePython's 2.1.1 .deb. I guess I should really build
Python 2.1.1, mod_python and Apache-SSL altogether from the
sources. This would also mean that I could also compile up
PygreSQL and/or PoPy, such that they actually work from
mod_python...

Can anyone comment on this summary, before I spend several
hours on this (and give up the advantages of the packages)?

And does anyone have an opinion on the ActiveState Python
stuff?

Cheers,

John :^P
--
John Pallister
john@synchromesh.com

From cuny at iie.cnam.fr  Fri Aug 10 01:44:54 2001
From: cuny at iie.cnam.fr (Mathieu Cuny)
Date: Fri Jan  9 21:46:27 2004
Subject: [mod_python] Question about publisher
Message-ID: <20010810014454.A3359@quark.estu.iie.cnam.fr>

Hello !

I made a small change in mod_python.publisher.handler, because i needed
a function with a variable number of arguments for using is with
different forms. I just added
<<
if expected:
>>
on line 124, which gives.

# remove unexpected args if some are expected. Do nothing if none were
# given.
# (that means the user wants to use a '**args' arg).
if expected:
        for name in args.keys():
                if name not in expected:
                        del args[name]

It enables functions like : f(**args) to be used with publisher.
I don't know if it is a good idea, but i really needed it...

Was there another way ?

From mike at mikebell.org  Thu Aug  9 23:13:25 2001
From: mike at mikebell.org (Mike Bell)
Date: Fri Jan  9 21:46:27 2004
Subject: [mod_python] How is the Python version selected?
In-Reply-To: <3B731CD9.D2F62A8B@synchromesh.com>
References: <3B731CD9.D2F62A8B@synchromesh.com>
Message-ID: <20010809231325.C28580@vaio.syntecor.com>

On Fri, Aug 10, 2001 at 11:29:29AM +1200, John Pallister wrote:
> I presume this is because the mod_python in
> libapache-mod-python was linked against the Python in
> python2-base. So there's no point in installing (say)
> ActivePython's 2.1.1 .deb. I guess I should really build
> Python 2.1.1, mod_python and Apache-SSL altogether from the
> sources. This would also mean that I could also compile up
> PygreSQL and/or PoPy, such that they actually work from
> mod_python...
> 
> Can anyone comment on this summary, before I spend several
> hours on this (and give up the advantages of the packages)?
> 
> And does anyone have an opinion on the ActiveState Python
> stuff?

Debian's packages will have been compiled with threads. Just compile your
own copy of python and mod_python and install the module. It shouldn't break
anything of debian's, because I can't recally any debian package that
depends on mod_python.


From nathan at vividworks.com  Mon Aug 13 11:15:39 2001
From: nathan at vividworks.com (Nathan Heagy)
Date: Fri Jan  9 21:46:27 2004
Subject: [mod_python] OS X Issue
Message-ID: <Pine.OSX.4.33.0108131113410.397-100000@vividworks.com>

I can't get mod_python working in Mac OS X because of the followin error
from apache after I've compiled and installed and modified the httpd.conf:

[Mon Aug 13 10:38:00 2001] [warn] Loaded DSO
/usr/libexec/httpd/mod_python.so uses plain Apache 1.3 API, this module
might crash under EAPI! (please recompile it with -DEAPI)

Any ideas are appreaciated.

nathan





From riesch at nieuw.nl  Tue Aug 14 14:26:55 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 21:46:27 2004
Subject: [mod_python] The python shelve
Message-ID: <20010814142655.A26494@godel>

Hi there,


This is probably not the best place to ask this, but I'll give it a try.

Does anyone have experience with the shelve-object supplied with python. It's probably just what i need, but i need to know if it's efficient.


My questions is:

On 'd = shelve.open("filename")', will all the classes stored in the shelve be loaded into the memory ? This is namely not what I want. Only those classes I need should be loaded.


Any info on this ?

Richard

From МОСТ at mail.ru  Tue Aug 14 20:40:13 2001
From: МОСТ at mail.ru (=?windows-1251?Q?=DE=F0=E8=E4=E8=F7=E5=F1=EA=E8=E9_=F6=E5=ED=F2=F0_=CC=CE=D1=D2?=)
Date: Fri Jan  9 21:46:27 2004
Subject: [mod_python] =?windows-1251?Q?=CD=C0=CB=CE=C3=CE=C2=C0=DF_=CF=CE=CB=C8=D6=C8=DF_=CD=C5_=C4=D0=C5=CC=CB=C5=D2_!!!?=
Message-ID: <1838920018214164013634@mail.ru>




-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010814/ae19b2a9/attachment.htm
From mike at mikebell.org  Tue Aug 14 22:24:03 2001
From: mike at mikebell.org (Mike Bell)
Date: Fri Jan  9 21:46:27 2004
Subject: [mod_python] The python shelve
In-Reply-To: <20010814142655.A26494@godel>
References: <20010814142655.A26494@godel>
Message-ID: <20010814222402.H580@vaio.syntecor.com>

On Tue, Aug 14, 2001 at 02:26:55PM +0200, riesch@nieuw.nl wrote:
> On 'd = shelve.open("filename")', will all the classes stored in the
> shelve be loaded into the memory ? This is namely not what I want. Only
> those classes I need should be loaded.
 
No, they shouldn't be. It's just regular *dbm with pickled python objects in
the values. One thing you will want to be careful of when using it though is
locking, since you'll have many apache processes each running their own copy
of the mod_python script, you could easily run into corruption if you don't
lock the file correctly.

From vircum at yahoo.com  Wed Aug 15 07:59:58 2001
From: vircum at yahoo.com (=?iso-8859-1?q?michael=20bieniosek?=)
Date: Fri Jan  9 21:46:27 2004
Subject: [mod_python] Re: OS X Issue
In-Reply-To: <200108150440.f7F4e4D90422@eden.ispol.com>
Message-ID: <20010815055958.86412.qmail@web11505.mail.yahoo.com>

Are you using Apache 1.3.x?  I don't think Apache
2.0.x is supported.  I can't find any mention of EAPI
in Apache.

> I can't get mod_python working in Mac OS X because
> of the followin error
> from apache after I've compiled and installed and
> modified the httpd.conf:
> 
> [Mon Aug 13 10:38:00 2001] [warn] Loaded DSO
> /usr/libexec/httpd/mod_python.so uses plain Apache
> 1.3 API, this module
> might crash under EAPI! (please recompile it with
> -DEAPI)
> 
> Any ideas are appreaciated.


___________________________________________________________
Do You Yahoo!? -- Vos albums photos en ligne, 
Yahoo! Photos : http://fr.photos.yahoo.com

From mike at mikebell.org  Tue Aug 14 23:33:03 2001
From: mike at mikebell.org (Mike Bell)
Date: Fri Jan  9 21:46:27 2004
Subject: [mod_python] Re: OS X Issue
In-Reply-To: <20010815055958.86412.qmail@web11505.mail.yahoo.com>
References: <200108150440.f7F4e4D90422@eden.ispol.com> <20010815055958.86412.qmail@web11505.mail.yahoo.com>
Message-ID: <20010814233303.I580@vaio.syntecor.com>

On Wed, Aug 15, 2001 at 07:59:58AM +0200, michael bieniosek wrote:
> > I can't get mod_python working in Mac OS X because
> > of the followin error
> > from apache after I've compiled and installed and
> > modified the httpd.conf:
> > 
> > [Mon Aug 13 10:38:00 2001] [warn] Loaded DSO
> > /usr/libexec/httpd/mod_python.so uses plain Apache
> > 1.3 API, this module
> > might crash under EAPI! (please recompile it with
> > -DEAPI)
> > 
> > Any ideas are appreaciated.

Search the archives, "Makefile DEAPI mod_python" on google found it for me
first link.
http://www.modpython.org/pipermail/mod_python/2001-March/001189.html

From delirious at atchoo.be  Wed Aug 15 13:54:28 2001
From: delirious at atchoo.be (Simon Vandemoortele)
Date: Fri Jan  9 21:46:27 2004
Subject: [mod_python] mod_python VS threaded Python
Message-ID: <01081513542800.23612@shinsekai>

When configuring mod_python (dso) I get the warning:
"""
****** WARNING ******
  Python is compiled with thread support. Apache 1.3 does not use threads.
"""
like everyone else ... except for the fact that my apache crashes when I 
start it (segmentation fault). I've browsed the archive, read the mod_python 
manual and decided to install a second, unthreaded python:
"./configure --with-python=/usr/share/doc/packages/python_nt" gives:

checking for --with-python... /usr/share/doc/packages/python_nt
checking for python... (cached) /usr/bin/python
checking Python version... 2.0
checking whether Python is compiled with thread support... yes  

In other words: the configure script uses my default python (the one with 
threads) instead of /usr/share/doc/packages/python_nt/python .... This not 
what I want !

Did I do something wrong ? How do I fix this ?


Thx, Simon

From riesch at nieuw.nl  Wed Aug 15 15:12:36 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 21:46:27 2004
Subject: [mod_python] The python shelve
In-Reply-To: <20010814222402.H580@vaio.syntecor.com>; from mike@mikebell.org on Tue, Aug 14, 2001 at 10:24:03PM -0700
References: <20010814142655.A26494@godel> <20010814222402.H580@vaio.syntecor.com>
Message-ID: <20010815151236.A16090@godel>

Hi thanks for the answer,


I've done a bit of checking and I'm sufficiently convinced that only those objects I need are being unpickled.

About your hint with the file-locking. I've dived into the python-docs and the man-pages on system-calls, but I'm not able to figure out how this locking is done. Thus far I've come up with the following solution:

desc = open('file', 'w')
fcntl.flock(desc.fileno(), FCNTL.LOCK_EX)

# operations on the file

fcntl.flock(desc.fileno(), FCNTL.LOCK_UN)
desc.close()

This obtains the lock, but it's not released. So when I next try to open the file and obtain the lock, my app hangs.


How to solve this ?,
Richard

From nathan at vividworks.com  Wed Aug 15 09:28:22 2001
From: nathan at vividworks.com (Nathan Heagy)
Date: Fri Jan  9 21:46:27 2004
Subject: [mod_python] Re: OS X Issue
In-Reply-To: <20010814233303.I580@vaio.syntecor.com>
Message-ID: <Pine.OSX.4.33.0108150928001.7979-100000@vividworks.com>

Akk. I couldn't figure out hwo to search the archives.

I love google.

nathan




On Tue, 14 Aug 2001, Mike Bell wrote:

> On Wed, Aug 15, 2001 at 07:59:58AM +0200, michael bieniosek wrote:
> > > I can't get mod_python working in Mac OS X because
> > > of the followin error
> > > from apache after I've compiled and installed and
> > > modified the httpd.conf:
> > >
> > > [Mon Aug 13 10:38:00 2001] [warn] Loaded DSO
> > > /usr/libexec/httpd/mod_python.so uses plain Apache
> > > 1.3 API, this module
> > > might crash under EAPI! (please recompile it with
> > > -DEAPI)
> > >
> > > Any ideas are appreaciated.
>
> Search the archives, "Makefile DEAPI mod_python" on google found it for me
> first link.
> http://www.modpython.org/pipermail/mod_python/2001-March/001189.html
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From nathan at vividworks.com  Wed Aug 15 10:05:08 2001
From: nathan at vividworks.com (Nathan Heagy)
Date: Fri Jan  9 21:46:27 2004
Subject: [mod_python] Re: OS X Issue
In-Reply-To: <20010814233303.I580@vaio.syntecor.com>
Message-ID: <Pine.OSX.4.33.0108151004330.8260-100000@vividworks.com>

Right. New error:

dyld: /usr/sbin/httpd Undefined symbols:
d_of_line
rcase_version
rch_history

And I tried searching the archives, with no success.


nathan




On Tue, 14 Aug 2001, Mike Bell wrote:

> On Wed, Aug 15, 2001 at 07:59:58AM +0200, michael bieniosek wrote:
> > > I can't get mod_python working in Mac OS X because
> > > of the followin error
> > > from apache after I've compiled and installed and
> > > modified the httpd.conf:
> > >
> > > [Mon Aug 13 10:38:00 2001] [warn] Loaded DSO
> > > /usr/libexec/httpd/mod_python.so uses plain Apache
> > > 1.3 API, this module
> > > might crash under EAPI! (please recompile it with
> > > -DEAPI)
> > >
> > > Any ideas are appreaciated.
>
> Search the archives, "Makefile DEAPI mod_python" on google found it for me
> first link.
> http://www.modpython.org/pipermail/mod_python/2001-March/001189.html
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From kitwetzler at mindspring.com  Thu Aug 16 15:33:18 2001
From: kitwetzler at mindspring.com (Kit Wetzler)
Date: Fri Jan  9 21:46:27 2004
Subject: [mod_python] help with python_handler: make_obcallback returned no obCallBack!
Message-ID: <KFEJJEKBBDGMIMMHAEAFKEOKCMAA.kitwetzler@mindspring.com>

argh.  I've been reading the archives, and I can't find a solution to this
problem.  I apologize, I am a new python/mod_python user.  Sorry, I know the
last thing you guys want to answer is a newbie install question...

But... here's results from telnetting to port 80...

	HTTP/1.1 200 OK
	Date: Fri, 17 Aug 2001 00:46:55 GMT
	Server: Apache/1.3.14 (Unix)  (Red-Hat/Linux) PHP/4.0.4 mod_python/2.7.1
Python/2.0
	Connection: close
	Content-Type: text/html


I have installed the rpm of mod_python/2.7.1, because I couldn't get the
2.7.6 distro installed properly.  (it compiled ok, but apache kept seg
faulting, with the module as a DSO)  I have the standard Redhat 6.2 distro
installed on the machine, with python 1.5.2 installed.

In httpd.conf, I have:

#
# Adds Python Stuff
#
    AddHandler python-program .py
    PythonHandler mptest
    PythonDebug on
</Directory>

As part of my main <Directory /home/httpd/html> directive.  (Is that ok to
do?)  I got the same error with a seperate python directory directive.
Running mptest.py in the /home/httpd/html/python directory gives me the
dreaded make_obcallback error.

I'm at a loss.  :)  Please help!

thanks all.

	-kit wetzler







From e_business at getresponse.com  Mon Aug 20 16:39:04 2001
From: e_business at getresponse.com (SUPER-OFFER)
Date: Fri Jan  9 21:46:27 2004
Subject: [mod_python] , На рынке это стоит в 3 - 5 и даже в 10 раз дороже, чем предлагаем Мы !!!
Message-ID: <200108202039.f7KKd3D86746@eden.ispol.com>

??????, 

(Cyrillic-1251 )


               SUPER - ???????????!

               ???? E-mail ???????.
               1 ??????? 300 ????? ??????? ? ???? ????????? ??????.
               ?????? -  70% ?????????? ???????????? ? ???????????, ? 30% - ???????????.
               ??? ?????? - ??? ?????-???? ???? ??????, ????? ?????? e-mail ??????.

               ?????? ?? "??????" !

               ? ?????? ????? ??????? :

               ???????? ???? ????, ?? ??????? ?? ?????? ?????????? ??? ???? E-MAIL ???????, ? ???????, ?? ?????? ??????, ??? ???????  ! ! !

               ?? ?? ?????????? ?????????, ?? ???? ??????? ?????? E-Mail ???????.

               ?????? ?????? ?? WebMoney, ??? E-Gold

               ? ????? ???????????? ?????? ?? ????????????! ?????? ????????, ???? ?? ? ???? ??????, ?? ? ??????? 2-? ???? - ????? !
               ??? ?? ?????, ???? ? ???, ??? ??, ????????? ???????? ? ?.?. , ?? ???? ??????????? ??????????? ??????? ???? (?? ??????? ?? WebMoney ????? ????? ? ?????????? ???????, ? ????? ????????? ????? ??????? ????????? ???, ? ?.?. ???? ?? ?????? ???? ??????).

----------------------------
               ?? ????????? ?????? ?????? ? ?? ????????? ?????? ?????. ????????, ???? ???-?? ?????? ???????? ? ???????? ???? ???? ?? ?????? ???????.

               ????? ?? e-mail : mlm_info2005@yahoo.com
               ?????, ???? ?? ??????? ?????? ????????? ?? ???????, ?????????? ?????, ??????? ?????? ? ??????????? ????????? ?????.

----------------------------

1 Million 300 thousand e-mail addresses
It is the list of the E-Mail addresses, as the TXT-files.

The payment ONLY via WebMoney or via E-Gold:

We will send for You the e-mail list within 2 days period after Your payment for Us.

Offer Your own price for Us for this e-mail list !!!
-------------- next part --------------
A non-text attachment was scrubbed...
Name: svyaz.txt
Type: application/octet-stream
Size: 124 bytes
Desc: not available
Url : http://mailman.modpython.org/pipermail/mod_python/attachments/20010820/9cadc4b9/svyaz.obj
From jfk at informaticon.dk  Tue Aug 21 09:45:04 2001
From: jfk at informaticon.dk (=?iso-8859-15?q?J=F8rgen=20Fr=F8jk=20Kj=E6rsgaard?=)
Date: Fri Jan  9 21:46:27 2004
Subject: [mod_python] Problems using Postgres 7.1 from mod_python
Message-ID: <01082109450400.01002@adele>

Hi,

I'm having problems using a Postgres 7.1 database under FreeBSD 4.3 from 
Python 2.1.1/mod_python. I have tried using PyGreSQL. In the lastest port 
version, PyGreSQL simply crashes Python when I import it. Then I tried 
downgrading to Python 2.1. PyGreSQL now works from Python without mod_python, 
but in mod_python, it crashes when it is imported! Any ideas?

PyGreSQL seems to be unstable. It may be better to use another interface but 
it seems like the alternatives require threading, which doesn't wotk with 
mod_python.

Regards,

J?rgen Fr?jk Kj?rsgaard, Systemkonsulent (Systems Consultant)
Informaticon ApS * Web: www.informaticon.dk * Tlf: +45 8672 0093
Internet programmering * Systemudvikling p? Linux, FreeBSD og PalmOS

From bl at netgroup.dk  Tue Aug 21 10:40:50 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 21:46:27 2004
Subject: [mod_python] Problems using Postgres 7.1 from mod_python
References: <01082109450400.01002@adele>
Message-ID: <3B821E92.C5743F19@netgroup.dk>

J?rgen Fr?jk Kj?rsgaard wrote:

> I'm having problems using a Postgres 7.1 database under FreeBSD 4.3 from
> Python 2.1.1/mod_python. I have tried using PyGreSQL. In the lastest port
> version, PyGreSQL simply crashes Python when I import it. Then I tried
> downgrading to Python 2.1. PyGreSQL now works from Python without mod_python,
> but in mod_python, it crashes when it is imported! Any ideas?

Are your sure you dont mix two differant postgres libs, so that you load an old
one when using apache modules an the right one when starting up normally ? I
have tried this, and I took me long time to find it, and I only got myself to
blame :-)

> PyGreSQL seems to be unstable. It may be better to use another interface but
> it seems like the alternatives require threading, which doesn't wotk with
> mod_python.

I have been using "psycopg" with good results, but not on a BSD but on Linux.
The is the latest Python/postgresql bridge project and it work greate for me.

Hope this help

/BL


From jfk at informaticon.dk  Tue Aug 21 11:09:30 2001
From: jfk at informaticon.dk (=?iso-8859-1?q?J=F8rgen=20Fr=F8jk=20Kj=E6rsgaard?=)
Date: Fri Jan  9 21:46:27 2004
Subject: [mod_python] Problems using Postgres 7.1 from mod_python
In-Reply-To: <3B821E92.C5743F19@netgroup.dk>
References: <01082109450400.01002@adele> <3B821E92.C5743F19@netgroup.dk>
Message-ID: <01082111093002.01002@adele>

Tirsdag 21. August 2001 10:40 skrev du:
> J?rgen Fr?jk Kj?rsgaard wrote:
> > I'm having problems using a Postgres 7.1 database under FreeBSD 4.3 from
> > Python 2.1.1/mod_python. I have tried using PyGreSQL. In the lastest port
> > version, PyGreSQL simply crashes Python when I import it. Then I tried
> > downgrading to Python 2.1. PyGreSQL now works from Python without
> > mod_python, but in mod_python, it crashes when it is imported! Any ideas?
>
> Are your sure you dont mix two differant postgres libs, so that you load an
> old one when using apache modules an the right one when starting up
> normally ? I have tried this, and I took me long time to find it, and I
> only got myself to blame :-)

I don't think so, but I'll have to investigate it carefully...

> > PyGreSQL seems to be unstable. It may be better to use another interface
> > but it seems like the alternatives require threading, which doesn't wotk
> > with mod_python.
>
> I have been using "psycopg" with good results, but not on a BSD but on
> Linux. The is the latest Python/postgresql bridge project and it work
> greate for me.

Hmm.. If I understand things correctly (I'm new to mod_python) mod_python 
requires that Python is built without thread support, whereas psycopg 
requires a Python interpreter with threads. Is it possible for psycopg and 
mod_python to work together?

regards

J?rgen Fr?jk Kj?rsgaard, Systemkonsulent (Systems Consultant)
Informaticon ApS * Web: www.informaticon.dk * Tlf: +45 8672 0093
Internet programmering * Systemudvikling p? Linux, FreeBSD og PalmOS

From bl at netgroup.dk  Tue Aug 21 11:22:29 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 21:46:27 2004
Subject: [mod_python] Problems using Postgres 7.1 from mod_python
References: <01082109450400.01002@adele> <3B821E92.C5743F19@netgroup.dk> <01082111093002.01002@adele>
Message-ID: <3B822855.999D2618@netgroup.dk>

J?rgen Fr?jk Kj?rsgaard wrote:

> Hmm.. If I understand things correctly (I'm new to mod_python) mod_python
> requires that Python is built without thread support, whereas psycopg
> requires a Python interpreter with threads. Is it possible for psycopg and
> mod_python to work together?

Well, Apache 1.3.x does not support threads, and the mod_python code therefor
dont work with threads, at least as expected :-)

I'm not an expert on using mod_python, but this is how I see it :-)

On some platforms this thread support need to be disabled (solaris ?), but on
the Linux platform its not.

/BL




From paul at gudge.demon.co.uk  Tue Aug 21 14:19:54 2001
From: paul at gudge.demon.co.uk (Paul Goodyear)
Date: Fri Jan  9 21:46:27 2004
Subject: [mod_python] Inline python on Apache
Message-ID: <001701c12a43$ff71ad60$6501a8c0@cheesemakers.net>

I have been trying to get the mod_python.dll working but have given up.

I have tryind the following

LoadModule python_module modules/mod_python.dll

in the httpd.conf and also tried the line

AddType application/x-httpd-py .py

but am not sure this was correct.

The .py file refused to work, all I get is the "Internal Server Error"

So I have set it up as CGI and HAVE to put the #!/Python21/python at the top of every .py file.

I have been using PHP for over a year and Python as well on ISS 5 but since i've moved to Apache I can't get the Python module working.

Can anyone shed some light.

system:
Windows 2000 Server (SP2)
Apache 1.3.20
PHP 4.0.6
Python 2.1.1

regards

paul goodyear
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010821/9d42650b/attachment.htm
From lsmith at thinkstream.com  Tue Aug 21 08:57:10 2001
From: lsmith at thinkstream.com (Lindsey Smith)
Date: Fri Jan  9 21:46:27 2004
Subject: [mod_python] Inline python on Apache
References: <001701c12a43$ff71ad60$6501a8c0@cheesemakers.net>
Message-ID: <006001c12a59$f0194b50$103fa3ce@ts.thinkstream.com>

Paul,

I had difficulties getting it to run with a similar setup as well. One thing you could do is making sure that the mod_python lib subdirectory under your python21/lib (or whatever) directory is named "mod_python" and not "mod_python_v1.2.3.whatever". This snagged me for a while.

- Lindsey Smith
  ----- Original Message ----- 
  From: Paul Goodyear 
  To: mod_python@modpython.org 
  Sent: Tuesday, August 21, 2001 6:19 AM
  Subject: [mod_python] Inline python on Apache


  I have been trying to get the mod_python.dll working but have given up.

  I have tryind the following

  LoadModule python_module modules/mod_python.dll

  in the httpd.conf and also tried the line

  AddType application/x-httpd-py .py

  but am not sure this was correct.

  The .py file refused to work, all I get is the "Internal Server Error"

  So I have set it up as CGI and HAVE to put the #!/Python21/python at the top of every .py file.

  I have been using PHP for over a year and Python as well on ISS 5 but since i've moved to Apache I can't get the Python module working.

  Can anyone shed some light.

  system:
  Windows 2000 Server (SP2)
  Apache 1.3.20
  PHP 4.0.6
  Python 2.1.1

  regards

  paul goodyear
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010821/faaa8c15/attachment.htm
From jfk at informaticon.dk  Wed Aug 22 15:02:21 2001
From: jfk at informaticon.dk (=?iso-8859-1?q?J=F8rgen=20Fr=F8jk=20Kj=E6rsgaard?=)
Date: Fri Jan  9 21:46:27 2004
Subject: [mod_python] Problems using Postgres 7.1 from mod_python
In-Reply-To: <3B821E92.C5743F19@netgroup.dk>
References: <01082109450400.01002@adele> <3B821E92.C5743F19@netgroup.dk>
Message-ID: <01082215022102.01002@adele>

Tirsdag 21. August 2001 10:40 skrev Bo Lorentsen:
> J?rgen Fr?jk Kj?rsgaard wrote:
> > I'm having problems using a Postgres 7.1 database under FreeBSD 4.3 [...]
>
> Are your sure you dont mix two differant postgres libs [...]

PyGreSQL 3.1 doesn't seem to work on FreeBSD with Python 2.1.1 at all. I got 
one step closer to a solutioin by upgrading to PyGreSQL 3.2. I still get an 
error when importing, though:

[Wed Aug 22 14:58:28 2001] [error] PythonHandler mod_python.publisher:   File 
"/usr/local/lib/python2.1/site-packages/mx/DateTime/__init__.py", line 40, in 
? class modinit:
[Wed Aug 22 14:58:28 2001] [error] PythonHandler mod_python.publisher:   File 
"/usr/local/lib/python2.1/site-packages/mx/DateTime/__init__.py", line 50, in 
modinit_DT)
[Wed Aug 22 14:58:28 2001] [error] PythonHandler mod_python.publisher:   File 
"/usr/local/lib/python2.1/copy_reg.py", line 16, in pickle raise 
TypeError("copy_reg is not intended for use with classes")
[Wed Aug 22 14:58:28 2001] [error] PythonHandler mod_python.publisher: 
TypeError: copy_reg is not intended for use with classes

This error doesn't occur when using PyGreSQL without mod_python. I only have 
one version of everything installed, so it's not because a wrong version of 
something is accessed from mod_python.

regards,

J?rgen Fr?jk Kj?rsgaard, Systemkonsulent (Systems Consultant)
Informaticon ApS * Web: www.informaticon.dk * Tlf: +45 8672 0093
Internet programmering * Systemudvikling p? Linux, FreeBSD og PalmOS

From bl at netgroup.dk  Wed Aug 22 16:43:08 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 21:46:27 2004
Subject: [mod_python] Problems using Postgres 7.1 from mod_python
References: <01082109450400.01002@adele> <3B821E92.C5743F19@netgroup.dk> <01082215022102.01002@adele>
Message-ID: <3B83C4FC.A9A64372@netgroup.dk>

J?rgen Fr?jk Kj?rsgaard wrote:

> This error doesn't occur when using PyGreSQL without mod_python. I only have
> one version of everything installed, so it's not because a wrong version of
> something is accessed from mod_python.

Sorry can't help, I'm using Python 1.5.2 and psycopg on Debian Linux and it work
great. Your env. are too different from my setup to give any qualified
suggestions.

/BL


From woodm at equire.com  Wed Aug 22 09:14:08 2001
From: woodm at equire.com (Matthew D. Wood)
Date: Fri Jan  9 21:46:28 2004
Subject: [mod_python] Data Base Drivers
Message-ID: <3B83CC40.8010405@equire.com>

So, I've been trying to find a good connection module for PostgreSQL and 
Python.

There appears to be a bunch out there (PyGreSQL, PoPy, ...) but I have 
no idea which ones are better than others.

Unfortunately, most people on the lists that deal with such issues (the 
PyGreSQL list for example) tend to be VERY one sided and thus obtaining 
actual information is quite difficult.  Thus, I pose the question to the 
mod-python list in hopes that someone uses PostgreSQL and that there can 
be a reasonable discussion regarding the quality of the connection modules.


The second question I have is in regards to thread-safety and how it 
relates to multiple data-base connections (caused by multiple servers 
that apache runs).  The Python SIG on database connections gives a 
thread-safety parameter which is to be assigned a value of 1 to 4.  I 
believe that 4 is "Iron Clad" in that you will NOT screw up the data in 
your database no matter what.  And a 1 states that threads are not dealt 
with intelligently, use at your own risk.


I don't understand much of what the intermediate levels (2, 3) are all 
about.  What should be required for the multiple connections caused by 
multiple servers?  "Will a thread-safety level of 3 be sufficient to 
prevent problems, or do I need to find a connection that is a full blown 
4?"


From riesch at nieuw.nl  Fri Aug 24 10:12:44 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 21:46:28 2004
Subject: [mod_python] Authentication
Message-ID: <20010824101244.A29899@godel>

Hi there,


I'm using the standard authentication now (with the authenhandler). This all works fine, but I can't seem to figure out how to let a user logout. I've tried to pass information about logout with the url. Something like:

http://www.site.com/?logout

def authenhandler(req):
   form = util.FieldStorage(req, keep_blank_values=1)

   if form.has_key(logout):
      return apache.HTTP_UNAUTHORIZED

   pw   = req.get_basic_auth_pw()
   user = req.connection.user
   if correct_user(user, pw):
      return apache.OK
   else:
      return apache.HTTP_UNAUTHORIZED



Unfortunately, this has the following effects:
-
The dialog pops up, even if the user is entering an area that's not protected. Not a very nice sollution, but workable (perhaps)
-
The url stays the same, which causes that the 'form' keeps logout-key. This results in repeatedly returing of HTTP_UNAUTHORIZED.


Does anyone have experience with this, or have some hints or thoughts ?


Thanks ahead,
Richard

From R.Barrett at ftel.co.uk  Fri Aug 24 10:09:26 2001
From: R.Barrett at ftel.co.uk (Richard Barrett)
Date: Fri Jan  9 21:46:28 2004
Subject: [mod_python] Authentication
In-Reply-To: <20010824101244.A29899@godel>
Message-ID: <5.1.0.14.2.20010824094552.035c9b30@pop.ftel.co.uk>

Unfortunately there is nothing in HTTP (the protocol) that lets a server 
tell a client browser to "forget" the basic authentication credentials it 
has acquired from the user for a given Realm. And while it has those 
credentials, the client browser will continue to attach them to any request 
it makes to the server for a relevant URL.

The mistake is to view HTTP basic authentication as being a login process 
and as a consequence conclude there should be a complementary logout 
process. The authentication model for HTTP allows the server to demand some 
credentials from a user and have those credentials attached to subdsequent 
accesses to the server. If the user hasn't changed why does he need to log 
out?

As you have noted, you can trigger a re-authentication which, if the user 
cancels it, leads to the browser "forgetting" the credentials it has 
associated with the Realm. But this is the best you can do.

The only way to implement a conventional login/logout style is to use an 
HTML form to capture the login credentials, return some identification info 
in a cookie accompanying the response to the form input and specify the 
cookie so that it is attached to subsequent HTTP requests to the server. 
The advantage of this is that a logout process can, in effect, tell the 
browser to destroy cookie by setting its expiry date.

Before deciding which way to deal with this, ask yourself: why does the 
dialogue between the user and your server require a logout.

At 10:12 24/08/2001 +0200, riesch@nieuw.nl wrote:
>Hi there,
>
>
>I'm using the standard authentication now (with the authenhandler). This 
>all works fine, but I can't seem to figure out how to let a user logout. 
>I've tried to pass information about logout with the url. Something like:
>
>http://www.site.com/?logout
>
>def authenhandler(req):
>    form = util.FieldStorage(req, keep_blank_values=1)
>
>    if form.has_key(logout):
>       return apache.HTTP_UNAUTHORIZED
>
>    pw   = req.get_basic_auth_pw()
>    user = req.connection.user
>    if correct_user(user, pw):
>       return apache.OK
>    else:
>       return apache.HTTP_UNAUTHORIZED
>
>
>
>Unfortunately, this has the following effects:
>-
>The dialog pops up, even if the user is entering an area that's not 
>protected. Not a very nice sollution, but workable (perhaps)
>-
>The url stays the same, which causes that the 'form' keeps logout-key. 
>This results in repeatedly returing of HTTP_UNAUTHORIZED.
>
>
>Does anyone have experience with this, or have some hints or thoughts ?
>
>
>Thanks ahead,
>Richard


From benno at sesgroup.net  Fri Aug 24 19:34:35 2001
From: benno at sesgroup.net (Ben Leslie)
Date: Fri Jan  9 21:46:28 2004
Subject: [mod_python] Authentication
In-Reply-To: <20010824101244.A29899@godel>
References: <20010824101244.A29899@godel>
Message-ID: <20010824193434.A17455@lister.sesgroup.net>

On Fri, 24 Aug 2001, riesch@nieuw.nl wrote:

> Hi there,
> 
> 
> I'm using the standard authentication now (with the authenhandler). 
> This all works fine, but I can't seem to figure out how to let a user logout.

They close the browser.

Ben

From peter at webreply.com  Fri Aug 24 08:32:46 2001
From: peter at webreply.com (Peter McA'Nulty)
Date: Fri Jan  9 21:46:28 2004
Subject: [mod_python] Authentication
References: <20010824101244.A29899@godel>
Message-ID: <000d01c12c98$e139d780$81a310ac@bogusdomain.com>

> ...even if the user is entering an area that's not protected. Not a very
nice sollution, but workable (perhaps)

The standard way of handling protected and unprotected data is something
like the config below.  You put protected files in one directory tree and
unprotected files in another tree (usually, the unprotected files include
all/most of your images, your css, etc)

<directory /apache/htdocs/vhostdir>
    PythonHandler pyhandler
    AddHandler python-program .py .phtml

    <directory /apache/htdocs/vhostdir/protected>
        PythonAuthenHandler authenhandler
        AuthType Basic
        AuthName "admin.dthk2"
        require valid-user
    </directory>

    <directory /apache/htdocs/vhostdir/UNprotected>
    </directory>
</directory>


----- Original Message -----
From: <riesch@nieuw.nl>
To: <mod_python@modpython.org>
Sent: Friday, August 24, 2001 4:12 AM
Subject: [mod_python] Authentication


> Hi there,
>
>
> I'm using the standard authentication now (with the authenhandler). This
all works fine, but I can't seem to figure out how to let a user logout.
I've tried to pass information about logout with the url. Something like:
>
> http://www.site.com/?logout
>
> def authenhandler(req):
>    form = util.FieldStorage(req, keep_blank_values=1)
>
>    if form.has_key(logout):
>       return apache.HTTP_UNAUTHORIZED
>
>    pw   = req.get_basic_auth_pw()
>    user = req.connection.user
>    if correct_user(user, pw):
>       return apache.OK
>    else:
>       return apache.HTTP_UNAUTHORIZED
>
>
>
> Unfortunately, this has the following effects:
> -
> The dialog pops up, even if the user is entering an area that's not
protected. Not a very nice sollution, but workable (perhaps)
> -
> The url stays the same, which causes that the 'form' keeps logout-key.
This results in repeatedly returing of HTTP_UNAUTHORIZED.
>
>
> Does anyone have experience with this, or have some hints or thoughts ?
>
>
> Thanks ahead,
> Richard
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From iwan at vanderkleyn.com  Tue Aug 28 10:08:40 2001
From: iwan at vanderkleyn.com (Iwan van der Kleyn)
Date: Fri Jan  9 21:46:28 2004
Subject: [mod_python] Getting modpython to work on Linux Mandrake 8.0?
Message-ID: <DNEPIPEBAKJOGPIPGPDNGEOHCBAA.iwan@vanderkleyn.com>

Hi there,

Has anyone been able to get modpython to work on Linux Mandrake 8.o? I've
installed it succesfully under previous versions of Mandrake, but no
luck with the latest.

I've compiled and installed Python v2.1 without thread support and
succesfully compiled modpython 2.7.6 and installed it into Apache as a DSO.
No error messages in the logfiles, so presumably that worked fine.

Then I had to configure commonhttpd.conf to include the <Directory> tag.
No succes here, because no matter what, apache/modpython failed to
detect the PythonHandler keyword. Changing the <Directory> into the
<Location> tag did work. Apache started wihout a problem, the Python
interpreter was loaded, but reported an errormessage because it couldn't
find the handler in its path. Using the PaythonPath keyword didn't help.
So I can only guess that this version of Apache uses a different way of
configuring
than which is mentioned in the modpython documentation.

So after trying for a day or so, I'm ready to give up and go back to
Tomcat :-)

If anyone did get modpython to work on Mandrake 8, I would be very
gratefull if he or she would share this information with me. I guess I would
already be helped by the correct commonhttpd.conf entries.

Regards,

Iwan



From Ares.liu at Clarent.com  Tue Aug 28 18:07:33 2001
From: Ares.liu at Clarent.com (Ares Liu)
Date: Fri Jan  9 21:46:28 2004
Subject: [mod_python] why not release modpython 2.7.6 binary on windows?
Message-ID: <000a01c12fa9$41d2d840$34461e0a@clarent.com>

The official site only has 2.7.4 of python21-apache1.3.20 on windows
binary. I need 2.7.6 of python 2.1.1-apache 1.3.20 on win98/me binary.
:-)
Ares Liu
 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010828/c21b9bf2/attachment.htm
From tree at basistech.com  Tue Aug 28 06:44:59 2001
From: tree at basistech.com (Tom Emerson)
Date: Fri Jan  9 21:46:28 2004
Subject: [mod_python] Getting modpython to work on Linux Mandrake 8.0?
In-Reply-To: <DNEPIPEBAKJOGPIPGPDNGEOHCBAA.iwan@vanderkleyn.com>
References: <DNEPIPEBAKJOGPIPGPDNGEOHCBAA.iwan@vanderkleyn.com>
Message-ID: <15243.30251.554354.295650@magrathea.basistech.com>

Iwan van der Kleyn writes:
> I've compiled and installed Python v2.1 without thread support and
> succesfully compiled modpython 2.7.6 and installed it into Apache as a DSO.
> No error messages in the logfiles, so presumably that worked fine.

You can tell if it really worked by looking in the server's error log
right after you restart the server. On my FreeBSD system I get:

# /opt/www/bin/apachectl restart
/opt/www/bin/apachectl restart: httpd restarted 
# tail /opt/www/logs/error_log
...
[Tue Aug 28 06:37:46 2001] [notice] SIGHUP received.  Attempting to restart
[Tue Aug 28 06:37:46 2001] [notice] Apache/1.3.19 (Unix) mod_loopback/1.2
    PHP/4.0.4pl1 mod_python/2.7.5 Python/2.0 configured -- resuming normal
    operations

If you don't see the mod_python entry then the DSO isn't registered.

Make sure the lines:

LoadModule python_module     libexec/mod_python.so
AddModule mod_python.c

are in your configuration file.

> No succes here, because no matter what, apache/modpython failed to
> detect the PythonHandler keyword. Changing the <Directory> into the
> <Location> tag did work. Apache started wihout a problem, the Python
> interpreter was loaded, but reported an errormessage because it couldn't
> find the handler in its path. Using the PaythonPath keyword didn't help.
> So I can only guess that this version of Apache uses a different way of
> configuring than which is mentioned in the modpython documentation.

OK, so it sounds like the DSO is loading OK. Is the mod_python package
in your Python interpreter's load path? Do you have more than one copy
of Python on the machine? In the past I've had problems in that
situation.

Can you send the precise errors reported in the error_log and, if
applicable, in your messages file?

FWIW, I make use of mod_python in both <Directory> and <Location>
directives, using both SetHandler and AddHandler.

> So after trying for a day or so, I'm ready to give up and go back to
> Tomcat :-)

Ugh, anything but that. :-)

Sorry I can't offer more right now.

    -tree

-- 
Tom Emerson                                          Basis Technology Corp.
Sr. Sinostringologist                              http://www.basistech.com
  "Beware the lollipop of mediocrity: lick it once and you suck forever"

From piet at cs.uu.nl  Tue Aug 28 17:14:18 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:46:28 2004
Subject: [mod_python] why not release modpython 2.7.6 binary on windows?
In-Reply-To: Ares Liu's message of "Tue, 28 Aug 2001 18:07:33 +0800"
References: <000a01c12fa9$41d2d840$34461e0a@clarent.com>
Message-ID: <ulmk4dxo5.fsf@cs.uu.nl>

>>>>> Ares Liu <Ares.liu@Clarent.com> (AL) writes:

AL> The official site only has 2.7.4 of python21-apache1.3.20 on windows
AL> binary. I need 2.7.6 of python 2.1.1-apache 1.3.20 on win98/me binary.
AL> :-)
AL> Ares Liu
 
I have a compiled dll of 2.7.6 for Win32 .

-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From jholland at tomsw.com  Tue Aug 28 13:53:00 2001
From: jholland at tomsw.com (John Holland)
Date: Fri Jan  9 21:46:28 2004
Subject: [mod_python] installation
Message-ID: <20010828135300.A18639@tomsw.com>

This is probalby something really dumb but...

I compile modpython as a DSO, it seems to load fine, I create a /py
dir off of DocumentRoot, put a test.py type thing in there, and ...

the webserver just returns the contents of the script. I setup the <Directory>
stuff as in the install instructions - what am I missing or doing wrong?

John Holland

From sebastien.deleersnyder at be.unisys.com  Tue Aug 28 13:14:40 2001
From: sebastien.deleersnyder at be.unisys.com (Deleersnyder, Sebastien)
Date: Fri Jan  9 21:46:28 2004
Subject: [mod_python] installation
Message-ID: <3995C58A11F7D211A7EE00105AC580980192DC8F@BE-BRU-EXCH-2>

John

Weird.
Could you send the conf file content?
Something should be missing there.
Also: do you see that the mod_pythons module is loaded when
Apache (re)starts?

regards,

Sebastien

-----Original Message-----
From: John Holland [mailto:jholland@tomsw.com]
Sent: dinsdag 28 augustus 2001 19:53
To: mod_python@modpython.org
Subject: [mod_python] installation



This is probalby something really dumb but...

I compile modpython as a DSO, it seems to load fine, I create a /py
dir off of DocumentRoot, put a test.py type thing in there, and ...

the webserver just returns the contents of the script. I setup the
<Directory>
stuff as in the install instructions - what am I missing or doing wrong?

John Holland
_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From jholland at tomsw.com  Tue Aug 28 14:31:12 2001
From: jholland at tomsw.com (John Holland)
Date: Fri Jan  9 21:46:28 2004
Subject: [mod_python] installation
In-Reply-To: <3995C58A11F7D211A7EE00105AC580980192DC8F@BE-BRU-EXCH-2>; from sebastien.deleersnyder@be.unisys.com on Tue, Aug 28, 2001 at 01:14:40PM -0500
References: <3995C58A11F7D211A7EE00105AC580980192DC8F@BE-BRU-EXCH-2>
Message-ID: <20010828143112.A18924@tomsw.com>

I fixed it - it must have been a typo I wasn't seeing or something.
Hello World is just fine now, now on to whatever modpython holds.....


Thanks again

John

On Tue, Aug 28, 2001 at 01:14:40PM -0500, Deleersnyder, Sebastien wrote:
> John
> 
> Weird.
> Could you send the conf file content?
> Something should be missing there.
> Also: do you see that the mod_pythons module is loaded when
> Apache (re)starts?
> 
> regards,
> 
> Sebastien
> 
> -----Original Message-----
> From: John Holland [mailto:jholland@tomsw.com]
> Sent: dinsdag 28 augustus 2001 19:53
> To: mod_python@modpython.org
> Subject: [mod_python] installation
> 
> 
> 
> This is probalby something really dumb but...
> 
> I compile modpython as a DSO, it seems to load fine, I create a /py
> dir off of DocumentRoot, put a test.py type thing in there, and ...
> 
> the webserver just returns the contents of the script. I setup the
> <Directory>
> stuff as in the install instructions - what am I missing or doing wrong?
> 
> John Holland
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python

From riesch at nieuw.nl  Thu Aug 30 17:07:53 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 21:46:28 2004
Subject: [mod_python] Zope
Message-ID: <20010830170753.B23002@godel>

Hi there,


Off-topic as it is :

Has anyone experience with using zope and more specificaly with its database ? Is it possible to separate the database from the zope-architecture ? I can't figure out how .. but it would be usefull since it looks nice


Thanks ahead,
Richard

From jeremym at ipnetwork.com  Thu Aug 30 13:47:08 2001
From: jeremym at ipnetwork.com (Jeremy McCormick)
Date: Fri Jan  9 21:46:28 2004
Subject: [mod_python] python scripts like mod_perl
Message-ID: <F94044758132D511BEE000D0B73EC82B157164@MAIL2>

Hi, y'all.  I've gleaned a lot of good info and programs off this site,
including a mod_python dll for Win32 that links to the latest ActiveState
build of Python.

I'm having a minor configuration issue in getting my python scripts to
execute from a directory just under the Apache root of my Windows Nusphere
install, i.e. <Apache root> / python_scripts.  I can only get the scripts to
execute if they are located under the document root.  I would like to copy
the configuration of mod_perl, i.e. <Apache root> / perl-bin, which is an
alias for  "nsperl-bin"; these scripts execute perfectly.  However, when I
try a similar set-up with Python, Apache can't find the interpreter.  

Here is the relevant section from my httpd.conf (anything strange-looking
was inspired by the lines for mod_perl).

# BEGIN MOD_PYTHON CONFIG
LoadModule python_module modules/mod_python.dll
ScriptAlias /python-bin/ "d:/programs/nusphere/apache/nspython-bin"
<Location /python-bin>
   SetHandler python-script
   PythonHandler testpy
   Options ExecCGI
</Location>
#END MOD_PYTHON CONFIG

I would like to be able to execute scripts from my html like so:

<a href="/python-bin/testpy.py"> Test a python script </a>

...but, alas, tis not working unless I put the scripts somewhere in the
document root.  Any ideas?

Thanks in advance.  Please let me know if more information is needed about
my set-up.

From piet at cs.uu.nl  Fri Aug 31 11:01:47 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:46:28 2004
Subject: [mod_python] Zope
In-Reply-To: riesch@nieuw.nl's message of "Thu, 30 Aug 2001 17:07:53 +0200"
References: <20010830170753.B23002@godel>
Message-ID: <u1ylseh6s.fsf@cs.uu.nl>

>>>>> riesch@nieuw.nl (R) writes:

R> Hi there,
R> Off-topic as it is :

R> Has anyone experience with using zope and more specificaly with its database ? Is it possible to separate the database from the zope-architecture ? I can't figure out how .. but it would be usefull since it looks nice


The database (ZODB) is distributed separately, and I have used some simple
standalone python scripts with it. It would be possible to use it in
modpython, except for problems with synchronisation. 
There is no record locking or anything similar in ZODB, so in a Linux/Unix
environment where Apache starts up multiple processes you would have the
database open in these processes, which gives synchronisation problems.
When modpython works with Apache 2 which has threading one should be able
to solve this by opening the database only once. On MS Windows this should
also be possible I think. ZODB can be used in a multithreaded environment
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From riesch at nieuw.nl  Fri Aug 31 13:39:06 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 21:46:28 2004
Subject: [mod_python] cleaning up
Message-ID: <20010831133906.A23519@godel>

hi there,


Something else. I'm now using the shelve and with multiple processes I'm using a lock on a file to protect the data located in the shelve. All goes well when I let the transaction complete normally.

However when I break it off pre-maturaly the locks remain on the file (the process isn't really dead, since apache saves that for another request and the locks arent't removed). I've allready registered a cleanup-handler, but this isn't called on a breakup.

Is there something else ?



Thanks ahead,
Richard

From thm at duke.edu  Wed Aug 29 21:12:40 2001
From: thm at duke.edu (Hunter Matthews)
Date: Fri Jan  9 21:47:02 2004
Subject: [mod_python] RPMS available
Message-ID: <999133961.1289.5.camel@jade.biology.duke.edu>

I've been looking at migrating my application (long term) to python 2.2.
Toward that end, I've rebuilt the mod_python rpm from Red Hat 7.3 to use
python2, instead of python (1.5).

Its not THAT hard for someone who builds rpms regularly, but I was
wondering if anyone else would desire such a beast.

It warns that python2 is built with threads, but when I did a test build
against the original python (1.5.2) package, it was also built with
threads, so I am _assuming_ that this is ok.

If anyone wants them, I've also built sqlite and pysqlite packages for
7.3.
-- 
Hunter Matthews                          Unix / Network Administrator
Office: BioScience 145/244               Duke Univ. Biology Department
Key: F0F88438 / FFB5 34C0 B350 99A4 BB02  9779 A5DB 8B09 F0F8 8438
Never take candy from strangers. Especially on the internet.


From riesch at nieuw.nl  Wed Aug  1 13:03:02 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 21:52:31 2004
Subject: [mod_python] Some questions
Message-ID: <20010801130302.A4683@godel>

Hi all


I'm dubbing with some questions.

Cookies
Is there a way to detect whether a user supports cookies, or is that only possible by setting a cookie and not recieving?

Globals
I have some central files, which are to be used by multiple sites, where every site defines its own handler for python. Now in those central files I've defined a class which should be known throughout a site (not the other sites !). In my ultimate laziness, I've defined the instance as follows:

# start of Application.py


class Application:
   ...
# end of class definition

global app
app = Application()


# end of Application.py

Every site imports this file. Now I'm not sure whether every site now has the same instance, or if every site has a different instance. I'm geussing every site has another instance, since it defines its own handler and  should be run as a separate program, but I don't know how mod-python handles this.


Any suggestions?

Richard


Btw:
All-right for the patch. I'm definetly gonna use that!

From tree at basistech.com  Wed Aug  1 07:21:39 2001
From: tree at basistech.com (Tom Emerson)
Date: Fri Jan  9 21:52:31 2004
Subject: [mod_python] Some questions
In-Reply-To: <20010801130302.A4683@godel>
References: <20010801130302.A4683@godel>
Message-ID: <15207.58947.621881.556677@cymru.basistech.com>

riesch@nieuw.nl writes:
> Cookies
> Is there a way to detect whether a user supports cookies,

No.

> or is that only possible by setting a cookie and not recieving?

Right.

> Globals
[...]

These I'm not sure on, but...

...I believe that the globals are valid for the life of the
interpreter. If you have separate virtual servers running then each
one has its own subinterpreter, and as such the globals should be
valid for each one.

> Every site imports this file. Now I'm not sure whether every site
> now has the same instance, or if every site has a different
> instance. I'm geussing every site has another instance, since it
> defines its own handler and should be run as a separate program, but
> I don't know how mod-python handles this.

You could check by passing a unique value to the __init__ function of
your global object for each site, and examining that value to see if
it is different.

-- 
Tom Emerson                                          Basis Technology Corp.
Sr. Sinostringologist                              http://www.basistech.com
  "Beware the lollipop of mediocrity: lick it once and you suck forever"

From riesch at nieuw.nl  Wed Aug  1 14:16:01 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 21:52:31 2004
Subject: [mod_python] Some questions
In-Reply-To: <15207.58947.621881.556677@cymru.basistech.com>; from tree@basistech.com on Wed, Aug 01, 2001 at 07:21:39AM -0400
References: <20010801130302.A4683@godel> <15207.58947.621881.556677@cymru.basistech.com>
Message-ID: <20010801141601.A16198@godel>

> > Globals
> [...]
> 
> These I'm not sure on, but...
> 
> ...I believe that the globals are valid for the life of the
> interpreter. If you have separate virtual servers running then each
> one has its own subinterpreter, and as such the globals should be
> valid for each one.

So every subinterpreter should be independent of the other interpreters ? and as such each site has a different app-instance?

> You could check by passing a unique value to the __init__ function of
> your global object for each site, and examining that value to see if
> it is different.

The init is always the same since the global is created in the Application.py and not in another file. I'm not to sure how to check it all, since a request is handled rather quick and I don't think there are debugging tools.


Thanx for replying,
Richard

From tree at basistech.com  Wed Aug  1 07:43:46 2001
From: tree at basistech.com (Tom Emerson)
Date: Fri Jan  9 21:52:31 2004
Subject: [mod_python] Some questions
In-Reply-To: <20010801141601.A16198@godel>
References: <20010801130302.A4683@godel>
	<15207.58947.621881.556677@cymru.basistech.com>
	<20010801141601.A16198@godel>
Message-ID: <15207.60274.563388.400127@cymru.basistech.com>

riesch@nieuw.nl writes:
> > ...I believe that the globals are valid for the life of the
> > interpreter. If you have separate virtual servers running then each
> > one has its own subinterpreter, and as such the globals should be
> > valid for each one.
> 
> So every subinterpreter should be independent of the other
> interpreters ? and as such each site has a different app-instance?

Yes: as long as each site is running in its own virtual host the
interpreters will be independent... at least that is my
understanding. :-)

You can control how subinterpreters are allocated using the
PythonInterp* series of configuration directives.

> The init is always the same since the global is created in the
> Application.py and not in another file. I'm not to sure how to check
> it all, since a request is handled rather quick and I don't think
> there are debugging tools.

Perhaps you could generate a random number in each __init__ function,
then write it to the log from each site using apache.log_error.  That
would at least tell you if you are getting different instances in each
site.

-- 
Tom Emerson                                          Basis Technology Corp.
Sr. Sinostringologist                              http://www.basistech.com
  "Beware the lollipop of mediocrity: lick it once and you suck forever"

From zdanie at dr.com  Wed Aug  1 19:05:36 2001
From: zdanie at dr.com (=?windows-1251?Q?=CF=EE=F0=F2=EE=E2=E0=FF,_19?=)
Date: Fri Jan  9 21:52:31 2004
Subject: [mod_python] =?windows-1251?Q?=CF=F0=EE=E4=E0=E5=F2=F1=FF_=E0=E4=EC=E8=ED=E8=F1=F2=F0=E0=F2=E8=E2=ED=EE=E5_=E7=E4=E0=ED=E8=E5_=E2_=CA=E0=E7=E0=ED=E8?=
Message-ID: <23487200183115536804@dr.com>

????????????! ???? ????????.

?????????? ?????????? ? ????????????? ???????????????? ?????? ? ??????
(?????????, ??????): 
- ????? ??????? 910 ??. ?; 
- 2 ?????; 
- ??????? ?????????? ????????? ?? 7 ?? 200 ??.?; 
- ??????????? ?????????? - ????????? ??????? 0,101 ??. 

?????? - ?????? ???????? ??????? ?????. ????? ???????? ????????????:
- ???????? ?????? - ?????? ?? ???????? ??????? ??????????? ????????? ?????;
- ??????? ?????????? ????; 
- ?????? ? ?????? ?????? - 5 ???. ????; 
- ?????? ? ?/? ???????  - 5 ???. ????;
- ????? ?????? ????; 
- ????? ?/? ????.

?????? ???????? ???????? ??? ?????????? ????? ????????????????? ?????
???????? ? ?????????? ??? ????????. ???????? ?????????? "????/?????". ???
???????????? ?????????. ?????? ??????? ??????? (?????? ?????????? ???????,
??????? ????? ??????? ? ??????? ?????). ?????? ????????? ? ???????
?????????????. ????? - ? ?????????? ???????????.

???? ?????? - ????? ??? ????????.

???? ?? ?????????????? ? ????????? ?? ??? ????? ????????? ?????????? ?
?????? ???????, ????????? ?????? ?????? ?? ??????: zdanie@europe.com. ???
???? ? "????" ????????? ??????????? ????????:
"???????? ????????? ??????????".




From xione at bellsouth.net  Thu Aug  2 10:53:22 2001
From: xione at bellsouth.net (Xione Wrent)
Date: Fri Jan  9 21:52:31 2004
Subject: [mod_python] Win32 Error:
Message-ID: <000901c11b7c$05c25100$8cbf3dd0@xwcom>

I'm getting the following error, and I can't figure out why?


I'm using 2.4.7 with Apache 1.3 on Win32. As far as I know, I've
installed everything right - even getting past the typo on
modpython.org's Windows Installation Guide (Which really should be
changed, BTW). But anyways, the only refrence I can even find to
anything called mptest is in my httpd.conf file - maybe I'm putting
this:

Mod_python error: "PythonHandler mptest"

Traceback (most recent call last):

  File "c:\python21\lib\mod_python\apache.py", line 181, in Dispatch
    module = import_module(module_name, _req)

  File "c:\python21\lib\mod_python\apache.py", line 335, in
import_module
    f, p, d = imp.find_module(parts[i], path)

ImportError: No module named mptest

<IfModule mod_alias.c>
    Alias /icons/ "C:/Program Files/Apache Group/Apache/icons/"
    <Directory "C:/Program Files/Apache Group/Apache/icons">
        Options Indexes MultiViews
        AllowOverride None
        Order allow,deny
        Allow from all
    </Directory>
    ScriptAlias /cgi-bin/ "C:/Program Files/Apache
Group/Apache/cgi-bin/"
    <Directory "C:/Program Files/Apache Group/Apache/cgi-bin">
        AllowOverride None
        Options None
        Order allow,deny
        Allow from all
    </Directory>
    <Directory "C:/Program Files/Apache Group/Apache/htdocs/python">
        AddHandler python-program .py
        PythonHandler mptest
        PythonDebug on
    </Directory>
</IfModule>



From brianh at exelixis.com  Thu Aug  2 13:16:11 2001
From: brianh at exelixis.com (Brian Hawthorne)
Date: Fri Jan  9 21:52:31 2004
Subject: [mod_python] sys.path and sys.modules change randomly between page loads!
In-Reply-To: <5.0.0.25.0.20010228111927.03518980@localhost>
Message-ID: <Pine.GSO.4.05.10108021300340.19281-100000@timeless.exelixis.com>

has anyone noticed anything like this?
i hypothesize that my requests are being cycled
thru multiple interpreters... each one has a different
history because other pages (which append to sys.path and
load modules) have been loaded into them.

i tried PythonInterpreter main_interpreter.
to no avail.

brian



From riesch at nieuw.nl  Fri Aug  3 12:09:05 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 21:52:31 2004
Subject: [mod_python] Win32 Error:
In-Reply-To: <000901c11b7c$05c25100$8cbf3dd0@xwcom>; from xione@bellsouth.net on Thu, Aug 02, 2001 at 10:53:22AM -0700
References: <000901c11b7c$05c25100$8cbf3dd0@xwcom>
Message-ID: <20010803120905.A16314@godel>

Hi there,

I'm geussing the answer to your problem is that the python interpreter cannot find the file, since it is not located in the systempath of python. The sollution would, in this case be to add the following line to httpd.conf:

PythonPath "sys.path + ['/dir/where/mptest/is/located/']"


Hope this helps,
Richard



On Thu, Aug 02, 2001 at 10:53:22AM -0700, Xione Wrent wrote:
> I'm getting the following error, and I can't figure out why?
> 
> 
> I'm using 2.4.7 with Apache 1.3 on Win32. As far as I know, I've
> installed everything right - even getting past the typo on
> modpython.org's Windows Installation Guide (Which really should be
> changed, BTW). But anyways, the only refrence I can even find to
> anything called mptest is in my httpd.conf file - maybe I'm putting
> this:
> 
> Mod_python error: "PythonHandler mptest"
> 
> Traceback (most recent call last):
> 
>   File "c:\python21\lib\mod_python\apache.py", line 181, in Dispatch
>     module = import_module(module_name, _req)
> 
>   File "c:\python21\lib\mod_python\apache.py", line 335, in
> import_module
>     f, p, d = imp.find_module(parts[i], path)
> 
> ImportError: No module named mptest
> 
> <IfModule mod_alias.c>
>     Alias /icons/ "C:/Program Files/Apache Group/Apache/icons/"
>     <Directory "C:/Program Files/Apache Group/Apache/icons">
>         Options Indexes MultiViews
>         AllowOverride None
>         Order allow,deny
>         Allow from all
>     </Directory>
>     ScriptAlias /cgi-bin/ "C:/Program Files/Apache
> Group/Apache/cgi-bin/"
>     <Directory "C:/Program Files/Apache Group/Apache/cgi-bin">
>         AllowOverride None
>         Options None
>         Order allow,deny
>         Allow from all
>     </Directory>
>     <Directory "C:/Program Files/Apache Group/Apache/htdocs/python">
>         AddHandler python-program .py
>         PythonHandler mptest
>         PythonDebug on
>     </Directory>
> </IfModule>
> 
> 
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python

From bl at netgroup.dk  Mon Aug  6 09:58:50 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 21:52:31 2004
Subject: [mod_python] Session info from authenhandler
Message-ID: <3B6E4E3A.90FDC41A@netgroup.dk>

Hi ...

Is it somehow possible to transfer session information found in the
"authenhandler" directly to the "normal" handler. I know that I could
use a cookie, but this still demands one trip around the client, and I
like to avoid that.

I have tried to set a value from "authenhandler" in the
"req.headers_out", and then try to read it in the "handler", but this is
somehow not possible, either.

Any idea how to do this ?

/BL


From bl at netgroup.dk  Mon Aug  6 10:51:29 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 21:52:31 2004
Subject: [mod_python] Patch to 2.7.5 for internal_redirect
References: <13CDDE6A53DBD311BC3200508B6F0C4805E48089@rover.foolhq.com>
		<20010731093907E.miguel@yorku.ca>
		<3B66B9B2.8E549FA@netgroup.dk> <15207.1934.890865.157761@cymru.basistech.com>
Message-ID: <3B6E5A91.DF855289@netgroup.dk>

Tom Emerson wrote:

> Attached is a small patch to mod_python 2.7.5 which provides support
> for doing an internal_redirect. I've only done minimal testing on this
> but it appears to work.

Will this patch be included in the future mod_python, and if not -- why ?

/BL


From riesch at nieuw.nl  Mon Aug  6 13:17:12 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 21:52:31 2004
Subject: [mod_python] Patch to 2.7.5 for internal_redirect
In-Reply-To: <15207.1934.890865.157761@cymru.basistech.com>; from tree@basistech.com on Tue, Jul 31, 2001 at 03:31:26PM -0400
References: <13CDDE6A53DBD311BC3200508B6F0C4805E48089@rover.foolhq.com> <20010731093907E.miguel@yorku.ca> <3B66B9B2.8E549FA@netgroup.dk> <15207.1934.890865.157761@cymru.basistech.com>
Message-ID: <20010806131712.A4114@godel>

Hi,


perhaps a bit of a stupid question, but how do I apply this patch. I don't think I will have edit all the files by hand :).

Is there a little program or something ?


Richard

From tree at basistech.com  Mon Aug  6 07:41:07 2001
From: tree at basistech.com (Tom Emerson)
Date: Fri Jan  9 21:52:31 2004
Subject: [mod_python] Patch to 2.7.5 for internal_redirect
In-Reply-To: <20010806131712.A4114@godel>
References: <13CDDE6A53DBD311BC3200508B6F0C4805E48089@rover.foolhq.com>
	<20010731093907E.miguel@yorku.ca>
	<3B66B9B2.8E549FA@netgroup.dk>
	<15207.1934.890865.157761@cymru.basistech.com>
	<20010806131712.A4114@godel>
Message-ID: <15214.33363.62919.664178@cymru.basistech.com>

riesch@nieuw.nl writes:
> perhaps a bit of a stupid question, but how do I apply this patch. I
> don't think I will have edit all the files by hand :).
> 
> Is there a little program or something ?

I should have included instructions, apologies.

Assuming you are on a Unix system, you can apply the patch by:

1) cd'ing to the top-level of the mod_python directory, and

2) invoking "patch < patch_name", where patch_name is the name that
   you saved the patch as.

That should do it.

    -tree

-- 
Tom Emerson                                          Basis Technology Corp.
Sr. Sinostringologist                              http://www.basistech.com
  "Beware the lollipop of mediocrity: lick it once and you suck forever"

From troy at gci.net  Tue Aug  7 11:31:52 2001
From: troy at gci.net (- troy)
Date: Fri Jan  9 21:52:32 2004
Subject: [mod_python] return 200 vs return apache.OK ?
Message-ID: <4f89774f7d12.4f7d124f8977@augustine.gci.net>

hi everyone!

i've been developing a project with mod_python for a few weeks, and 
i've run into a snag.  please forgive me if i'm not expressing this in 
the best terms; i'm new to python and apache both.

the problem i have is this:  whenever my handler returns an int by 
number, apache (or something) appends debugging information to the 
client response.  example handler:

	from mod_python import apache
	def handler(req):
		req.send_http_header()
		req.write('hello, world\n')
		return 200

on my system, this produces the following output:

	hello, world
	HTTP/1.1 200 OK
	Date: Tue, 07 Aug 2001 18:57:40 GMT
	Server: Apache/1.3.20 (Win32) mod_python/2.7.4 Python/2.1
	Keep-Alive: timeout=15, max=99
	Connection: Keep-Alive
	Transfer-Encoding: chunked
	Content-Type: text/html; charset=iso-8859-1

	<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
	<HTML><HEAD>
	<TITLE>200 OK</TITLE>
	</HEAD><BODY>
	<H1>OK</H1>
	The server encountered an internal error or
	misconfiguration and was unable to complete
	your request.<P>
	Please contact the server administrator,
	 <omitted> and inform them of the time the error occurred,
	and anything you might have done that may have
	caused the error.<P>
	More information about this error may be available
	in the server error log.<P>
	<HR>
	<ADDRESS>Apache/1.3.20 Server <omitted> Port 80</ADDRESS>
	</BODY></HTML>

there is nothing in the apache error log for these types of responses.

sometimes i can and do return the constant apache.OK, but i do need to 
return http codes as integers in some cases.  do i have something 
misconfigured?  am i missing the boat somehow?   what's the difference 
between returning 200 and apache.OK?

i have RTFM, but i'm  not the brightest bulb in the bunch.  any help 
would be appreciated.

-troy


From riesch at nieuw.nl  Thu Aug  9 09:36:41 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 21:52:32 2004
Subject: [mod_python] The standard password dialog
Message-ID: <20010809093641.A23318@godel>

Hi there,


I'm implementing security now for my mod-python application. Now I don't want to use the standard 'authenhandler'.

So I was wondering if there is a way to invoke the user-login screen without going through the standard 'authenhandler'.


Any suggestions ?,
Richard

From seant at webreply.com  Thu Aug  9 11:07:31 2001
From: seant at webreply.com (Sean True)
Date: Fri Jan  9 21:52:32 2004
Subject: [mod_python] Redirecting transhandler example.
Message-ID: <MJEHLHJKGINLONDMMKNEAEGNDJAA.seant@webreply.com>

httpredirector.py is a mod_python implementation of some of the Apache URL
rewriting
module. Much more primitive, intended to be easily configurable and
modifiable,
and motivated by the AT&T/Mediaone system wide blockage of port 80 in
response to
the "code red" worm attack.

Note: to be useful in the "code red" scenario, you need to be running
mod_python
on a server that is not being blocked. Of course, the code can be used (or
changed)
to do other sorts of useful URL rewriting.

We deploy httpredirector.py on a production webserver somewhere, using
wildcard
virtualhost aliases to let the redirector get hold of a host, rewrite the
host to
one of our home machines using an unblocked port, such as 8080.

-- Sean
-------
Sean True
WebReply.Com, Inc.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Sean True.vcf
Type: text/x-vcard
Size: 309 bytes
Desc: not available
Url : http://mailman.modpython.org/pipermail/mod_python/attachments/20010809/6825c027/SeanTrue-0001.vcf
-------------- next part --------------
"""
httpredirector.py is a mod_python implementation of some of the Apache URL rewriting
module. Much more primitive, intended to be easily configurable and modifiable,
and motivated by the AT&T/Mediaone system wide blockage of port 80 in response to
the "code red" worm attack.

Note: to be useful in the "code red" scenario, you need to be running mod_python
on a server that is not being blocked. Of course, the code can be used (or changed)
to do other sorts of useful URL rewriting.

We deploy httpredirector.py on a production webserver somewhere, using wildcard
virtualhost aliases to let the redirector get hold of a host, rewrite the host to
one of our home machines using an unblocked port, such as 8080.


# --- Redirector site
<VirtualHost 10.0.0.1>
    ServerName redirector
    # Set up your DNS so that your public sites come here
    ServerAlias *.yourdomain.com
    PythonInterpreter phtml
    PythonTransHandler httpredirector
    PythonOption redirects {'yourdomain.com':'yourprivatedomain:8080'}
</VirtualHost>

Authors: Peter McA'Nulty and Sean True, WebReply.Com, Inc. Copyright (c) 2001
License: Use under the terms of the Python license: http://www.python.org/2.1.1/license.html
"""

from mod_python import apache
import sys, string

debug = 0
def transhandler(req):
    def log(s):
        sys.stderr.write("httpredirector: %s\n" % s)

    # Pick up the host field from the request
    # -- if HTTP 1.0, we're going to fail here
    try:
        host = req.headers_in['Host']
    except:
        log("didn't have 'HTTP_HOST' environment")
        return apache.DECLINED
    if debug:
        log(host)

    # Get the dictionary of redirect options from
    # httpd.conf
    opts = req.get_options()
    try:    
        redirects = opts['redirects']
    except:
        log("didn't have 'redirects' PythonOption")
        return apache.DECLINED
    try:    
        redirects = eval(redirects)
    except:
        log("'redirects' was not a valid dictionary [%s]" % `redirects`)
        return apache.DECLINED

    # This shouldn't fail. Belt, suspenders, ...
    uri = req.unparsed_uri
    if not uri:
        log("didn't have 'REQUEST_URI' environment")
        return apache.DECLINED

    # For each redirection option, search the host string for a target and
    # replace it. We stop after the first match, and redirect to the result.
    # This could be a list of regular expressions instead, but this will do for
    # now.
    keys = redirects.keys()
    for k in keys:
        if string.find(host, k) != -1:
            rehost = string.replace(host, k, redirects[k])
            req.headers_out['location'] = "http://%s%s" % (rehost, uri)
            req.status = apache.HTTP_MOVED_PERMANENTLY
            req.send_http_header()
            if debug: log("%s%s => %s%s" % (host,uri, rehost,uri))
            return apache.DONE
        
    log("didn't have matching redirect for %s" % host)
    return apache.DECLINED
    
    
From john at synchromesh.com  Fri Aug 10 11:29:29 2001
From: john at synchromesh.com (John Pallister)
Date: Fri Jan  9 21:52:32 2004
Subject: [mod_python] How is the Python version selected?
Message-ID: <3B731CD9.D2F62A8B@synchromesh.com>

Hello,

My system is Debian potato-based ('ray that package
dependency checking), and by and large sticking to Debian
packages wherever possible works very well for me.

I've installed python-* and python2-* packages, and now
/usr/bin/python gives me Python 1.5.2, and mod_python sees
Python 2.0.1.

I presume this is because the mod_python in
libapache-mod-python was linked against the Python in
python2-base. So there's no point in installing (say)
ActivePython's 2.1.1 .deb. I guess I should really build
Python 2.1.1, mod_python and Apache-SSL altogether from the
sources. This would also mean that I could also compile up
PygreSQL and/or PoPy, such that they actually work from
mod_python...

Can anyone comment on this summary, before I spend several
hours on this (and give up the advantages of the packages)?

And does anyone have an opinion on the ActiveState Python
stuff?

Cheers,

John :^P
--
John Pallister
john@synchromesh.com

From cuny at iie.cnam.fr  Fri Aug 10 01:44:54 2001
From: cuny at iie.cnam.fr (Mathieu Cuny)
Date: Fri Jan  9 21:52:32 2004
Subject: [mod_python] Question about publisher
Message-ID: <20010810014454.A3359@quark.estu.iie.cnam.fr>

Hello !

I made a small change in mod_python.publisher.handler, because i needed
a function with a variable number of arguments for using is with
different forms. I just added
<<
if expected:
>>
on line 124, which gives.

# remove unexpected args if some are expected. Do nothing if none were
# given.
# (that means the user wants to use a '**args' arg).
if expected:
        for name in args.keys():
                if name not in expected:
                        del args[name]

It enables functions like : f(**args) to be used with publisher.
I don't know if it is a good idea, but i really needed it...

Was there another way ?

From mike at mikebell.org  Thu Aug  9 23:13:25 2001
From: mike at mikebell.org (Mike Bell)
Date: Fri Jan  9 21:52:32 2004
Subject: [mod_python] How is the Python version selected?
In-Reply-To: <3B731CD9.D2F62A8B@synchromesh.com>
References: <3B731CD9.D2F62A8B@synchromesh.com>
Message-ID: <20010809231325.C28580@vaio.syntecor.com>

On Fri, Aug 10, 2001 at 11:29:29AM +1200, John Pallister wrote:
> I presume this is because the mod_python in
> libapache-mod-python was linked against the Python in
> python2-base. So there's no point in installing (say)
> ActivePython's 2.1.1 .deb. I guess I should really build
> Python 2.1.1, mod_python and Apache-SSL altogether from the
> sources. This would also mean that I could also compile up
> PygreSQL and/or PoPy, such that they actually work from
> mod_python...
> 
> Can anyone comment on this summary, before I spend several
> hours on this (and give up the advantages of the packages)?
> 
> And does anyone have an opinion on the ActiveState Python
> stuff?

Debian's packages will have been compiled with threads. Just compile your
own copy of python and mod_python and install the module. It shouldn't break
anything of debian's, because I can't recally any debian package that
depends on mod_python.


From nathan at vividworks.com  Mon Aug 13 11:15:39 2001
From: nathan at vividworks.com (Nathan Heagy)
Date: Fri Jan  9 21:52:32 2004
Subject: [mod_python] OS X Issue
Message-ID: <Pine.OSX.4.33.0108131113410.397-100000@vividworks.com>

I can't get mod_python working in Mac OS X because of the followin error
from apache after I've compiled and installed and modified the httpd.conf:

[Mon Aug 13 10:38:00 2001] [warn] Loaded DSO
/usr/libexec/httpd/mod_python.so uses plain Apache 1.3 API, this module
might crash under EAPI! (please recompile it with -DEAPI)

Any ideas are appreaciated.

nathan





From riesch at nieuw.nl  Tue Aug 14 14:26:55 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 21:52:32 2004
Subject: [mod_python] The python shelve
Message-ID: <20010814142655.A26494@godel>

Hi there,


This is probably not the best place to ask this, but I'll give it a try.

Does anyone have experience with the shelve-object supplied with python. It's probably just what i need, but i need to know if it's efficient.


My questions is:

On 'd = shelve.open("filename")', will all the classes stored in the shelve be loaded into the memory ? This is namely not what I want. Only those classes I need should be loaded.


Any info on this ?

Richard

From МОСТ at mail.ru  Tue Aug 14 20:40:13 2001
From: МОСТ at mail.ru (=?windows-1251?Q?=DE=F0=E8=E4=E8=F7=E5=F1=EA=E8=E9_=F6=E5=ED=F2=F0_=CC=CE=D1=D2?=)
Date: Fri Jan  9 21:52:32 2004
Subject: [mod_python] =?windows-1251?Q?=CD=C0=CB=CE=C3=CE=C2=C0=DF_=CF=CE=CB=C8=D6=C8=DF_=CD=C5_=C4=D0=C5=CC=CB=C5=D2_!!!?=
Message-ID: <1838920018214164013634@mail.ru>




-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010814/ae19b2a9/attachment-0001.htm
From mike at mikebell.org  Tue Aug 14 22:24:03 2001
From: mike at mikebell.org (Mike Bell)
Date: Fri Jan  9 21:52:32 2004
Subject: [mod_python] The python shelve
In-Reply-To: <20010814142655.A26494@godel>
References: <20010814142655.A26494@godel>
Message-ID: <20010814222402.H580@vaio.syntecor.com>

On Tue, Aug 14, 2001 at 02:26:55PM +0200, riesch@nieuw.nl wrote:
> On 'd = shelve.open("filename")', will all the classes stored in the
> shelve be loaded into the memory ? This is namely not what I want. Only
> those classes I need should be loaded.
 
No, they shouldn't be. It's just regular *dbm with pickled python objects in
the values. One thing you will want to be careful of when using it though is
locking, since you'll have many apache processes each running their own copy
of the mod_python script, you could easily run into corruption if you don't
lock the file correctly.

From vircum at yahoo.com  Wed Aug 15 07:59:58 2001
From: vircum at yahoo.com (=?iso-8859-1?q?michael=20bieniosek?=)
Date: Fri Jan  9 21:52:32 2004
Subject: [mod_python] Re: OS X Issue
In-Reply-To: <200108150440.f7F4e4D90422@eden.ispol.com>
Message-ID: <20010815055958.86412.qmail@web11505.mail.yahoo.com>

Are you using Apache 1.3.x?  I don't think Apache
2.0.x is supported.  I can't find any mention of EAPI
in Apache.

> I can't get mod_python working in Mac OS X because
> of the followin error
> from apache after I've compiled and installed and
> modified the httpd.conf:
> 
> [Mon Aug 13 10:38:00 2001] [warn] Loaded DSO
> /usr/libexec/httpd/mod_python.so uses plain Apache
> 1.3 API, this module
> might crash under EAPI! (please recompile it with
> -DEAPI)
> 
> Any ideas are appreaciated.


___________________________________________________________
Do You Yahoo!? -- Vos albums photos en ligne, 
Yahoo! Photos : http://fr.photos.yahoo.com

From mike at mikebell.org  Tue Aug 14 23:33:03 2001
From: mike at mikebell.org (Mike Bell)
Date: Fri Jan  9 21:52:32 2004
Subject: [mod_python] Re: OS X Issue
In-Reply-To: <20010815055958.86412.qmail@web11505.mail.yahoo.com>
References: <200108150440.f7F4e4D90422@eden.ispol.com> <20010815055958.86412.qmail@web11505.mail.yahoo.com>
Message-ID: <20010814233303.I580@vaio.syntecor.com>

On Wed, Aug 15, 2001 at 07:59:58AM +0200, michael bieniosek wrote:
> > I can't get mod_python working in Mac OS X because
> > of the followin error
> > from apache after I've compiled and installed and
> > modified the httpd.conf:
> > 
> > [Mon Aug 13 10:38:00 2001] [warn] Loaded DSO
> > /usr/libexec/httpd/mod_python.so uses plain Apache
> > 1.3 API, this module
> > might crash under EAPI! (please recompile it with
> > -DEAPI)
> > 
> > Any ideas are appreaciated.

Search the archives, "Makefile DEAPI mod_python" on google found it for me
first link.
http://www.modpython.org/pipermail/mod_python/2001-March/001189.html

From delirious at atchoo.be  Wed Aug 15 13:54:28 2001
From: delirious at atchoo.be (Simon Vandemoortele)
Date: Fri Jan  9 21:52:32 2004
Subject: [mod_python] mod_python VS threaded Python
Message-ID: <01081513542800.23612@shinsekai>

When configuring mod_python (dso) I get the warning:
"""
****** WARNING ******
  Python is compiled with thread support. Apache 1.3 does not use threads.
"""
like everyone else ... except for the fact that my apache crashes when I 
start it (segmentation fault). I've browsed the archive, read the mod_python 
manual and decided to install a second, unthreaded python:
"./configure --with-python=/usr/share/doc/packages/python_nt" gives:

checking for --with-python... /usr/share/doc/packages/python_nt
checking for python... (cached) /usr/bin/python
checking Python version... 2.0
checking whether Python is compiled with thread support... yes  

In other words: the configure script uses my default python (the one with 
threads) instead of /usr/share/doc/packages/python_nt/python .... This not 
what I want !

Did I do something wrong ? How do I fix this ?


Thx, Simon

From riesch at nieuw.nl  Wed Aug 15 15:12:36 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 21:52:32 2004
Subject: [mod_python] The python shelve
In-Reply-To: <20010814222402.H580@vaio.syntecor.com>; from mike@mikebell.org on Tue, Aug 14, 2001 at 10:24:03PM -0700
References: <20010814142655.A26494@godel> <20010814222402.H580@vaio.syntecor.com>
Message-ID: <20010815151236.A16090@godel>

Hi thanks for the answer,


I've done a bit of checking and I'm sufficiently convinced that only those objects I need are being unpickled.

About your hint with the file-locking. I've dived into the python-docs and the man-pages on system-calls, but I'm not able to figure out how this locking is done. Thus far I've come up with the following solution:

desc = open('file', 'w')
fcntl.flock(desc.fileno(), FCNTL.LOCK_EX)

# operations on the file

fcntl.flock(desc.fileno(), FCNTL.LOCK_UN)
desc.close()

This obtains the lock, but it's not released. So when I next try to open the file and obtain the lock, my app hangs.


How to solve this ?,
Richard

From nathan at vividworks.com  Wed Aug 15 09:28:22 2001
From: nathan at vividworks.com (Nathan Heagy)
Date: Fri Jan  9 21:52:32 2004
Subject: [mod_python] Re: OS X Issue
In-Reply-To: <20010814233303.I580@vaio.syntecor.com>
Message-ID: <Pine.OSX.4.33.0108150928001.7979-100000@vividworks.com>

Akk. I couldn't figure out hwo to search the archives.

I love google.

nathan




On Tue, 14 Aug 2001, Mike Bell wrote:

> On Wed, Aug 15, 2001 at 07:59:58AM +0200, michael bieniosek wrote:
> > > I can't get mod_python working in Mac OS X because
> > > of the followin error
> > > from apache after I've compiled and installed and
> > > modified the httpd.conf:
> > >
> > > [Mon Aug 13 10:38:00 2001] [warn] Loaded DSO
> > > /usr/libexec/httpd/mod_python.so uses plain Apache
> > > 1.3 API, this module
> > > might crash under EAPI! (please recompile it with
> > > -DEAPI)
> > >
> > > Any ideas are appreaciated.
>
> Search the archives, "Makefile DEAPI mod_python" on google found it for me
> first link.
> http://www.modpython.org/pipermail/mod_python/2001-March/001189.html
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From nathan at vividworks.com  Wed Aug 15 10:05:08 2001
From: nathan at vividworks.com (Nathan Heagy)
Date: Fri Jan  9 21:52:32 2004
Subject: [mod_python] Re: OS X Issue
In-Reply-To: <20010814233303.I580@vaio.syntecor.com>
Message-ID: <Pine.OSX.4.33.0108151004330.8260-100000@vividworks.com>

Right. New error:

dyld: /usr/sbin/httpd Undefined symbols:
d_of_line
rcase_version
rch_history

And I tried searching the archives, with no success.


nathan




On Tue, 14 Aug 2001, Mike Bell wrote:

> On Wed, Aug 15, 2001 at 07:59:58AM +0200, michael bieniosek wrote:
> > > I can't get mod_python working in Mac OS X because
> > > of the followin error
> > > from apache after I've compiled and installed and
> > > modified the httpd.conf:
> > >
> > > [Mon Aug 13 10:38:00 2001] [warn] Loaded DSO
> > > /usr/libexec/httpd/mod_python.so uses plain Apache
> > > 1.3 API, this module
> > > might crash under EAPI! (please recompile it with
> > > -DEAPI)
> > >
> > > Any ideas are appreaciated.
>
> Search the archives, "Makefile DEAPI mod_python" on google found it for me
> first link.
> http://www.modpython.org/pipermail/mod_python/2001-March/001189.html
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From kitwetzler at mindspring.com  Thu Aug 16 15:33:18 2001
From: kitwetzler at mindspring.com (Kit Wetzler)
Date: Fri Jan  9 21:52:32 2004
Subject: [mod_python] help with python_handler: make_obcallback returned no obCallBack!
Message-ID: <KFEJJEKBBDGMIMMHAEAFKEOKCMAA.kitwetzler@mindspring.com>

argh.  I've been reading the archives, and I can't find a solution to this
problem.  I apologize, I am a new python/mod_python user.  Sorry, I know the
last thing you guys want to answer is a newbie install question...

But... here's results from telnetting to port 80...

	HTTP/1.1 200 OK
	Date: Fri, 17 Aug 2001 00:46:55 GMT
	Server: Apache/1.3.14 (Unix)  (Red-Hat/Linux) PHP/4.0.4 mod_python/2.7.1
Python/2.0
	Connection: close
	Content-Type: text/html


I have installed the rpm of mod_python/2.7.1, because I couldn't get the
2.7.6 distro installed properly.  (it compiled ok, but apache kept seg
faulting, with the module as a DSO)  I have the standard Redhat 6.2 distro
installed on the machine, with python 1.5.2 installed.

In httpd.conf, I have:

#
# Adds Python Stuff
#
    AddHandler python-program .py
    PythonHandler mptest
    PythonDebug on
</Directory>

As part of my main <Directory /home/httpd/html> directive.  (Is that ok to
do?)  I got the same error with a seperate python directory directive.
Running mptest.py in the /home/httpd/html/python directory gives me the
dreaded make_obcallback error.

I'm at a loss.  :)  Please help!

thanks all.

	-kit wetzler







From e_business at getresponse.com  Mon Aug 20 16:39:04 2001
From: e_business at getresponse.com (SUPER-OFFER)
Date: Fri Jan  9 21:52:32 2004
Subject: [mod_python] , На рынке это стоит в 3 - 5 и даже в 10 раз дороже, чем предлагаем Мы !!!
Message-ID: <200108202039.f7KKd3D86746@eden.ispol.com>

??????, 

(Cyrillic-1251 )


               SUPER - ???????????!

               ???? E-mail ???????.
               1 ??????? 300 ????? ??????? ? ???? ????????? ??????.
               ?????? -  70% ?????????? ???????????? ? ???????????, ? 30% - ???????????.
               ??? ?????? - ??? ?????-???? ???? ??????, ????? ?????? e-mail ??????.

               ?????? ?? "??????" !

               ? ?????? ????? ??????? :

               ???????? ???? ????, ?? ??????? ?? ?????? ?????????? ??? ???? E-MAIL ???????, ? ???????, ?? ?????? ??????, ??? ???????  ! ! !

               ?? ?? ?????????? ?????????, ?? ???? ??????? ?????? E-Mail ???????.

               ?????? ?????? ?? WebMoney, ??? E-Gold

               ? ????? ???????????? ?????? ?? ????????????! ?????? ????????, ???? ?? ? ???? ??????, ?? ? ??????? 2-? ???? - ????? !
               ??? ?? ?????, ???? ? ???, ??? ??, ????????? ???????? ? ?.?. , ?? ???? ??????????? ??????????? ??????? ???? (?? ??????? ?? WebMoney ????? ????? ? ?????????? ???????, ? ????? ????????? ????? ??????? ????????? ???, ? ?.?. ???? ?? ?????? ???? ??????).

----------------------------
               ?? ????????? ?????? ?????? ? ?? ????????? ?????? ?????. ????????, ???? ???-?? ?????? ???????? ? ???????? ???? ???? ?? ?????? ???????.

               ????? ?? e-mail : mlm_info2005@yahoo.com
               ?????, ???? ?? ??????? ?????? ????????? ?? ???????, ?????????? ?????, ??????? ?????? ? ??????????? ????????? ?????.

----------------------------

1 Million 300 thousand e-mail addresses
It is the list of the E-Mail addresses, as the TXT-files.

The payment ONLY via WebMoney or via E-Gold:

We will send for You the e-mail list within 2 days period after Your payment for Us.

Offer Your own price for Us for this e-mail list !!!
-------------- next part --------------
A non-text attachment was scrubbed...
Name: svyaz.txt
Type: application/octet-stream
Size: 124 bytes
Desc: not available
Url : http://mailman.modpython.org/pipermail/mod_python/attachments/20010820/9cadc4b9/svyaz-0001.obj
From jfk at informaticon.dk  Tue Aug 21 09:45:04 2001
From: jfk at informaticon.dk (=?iso-8859-15?q?J=F8rgen=20Fr=F8jk=20Kj=E6rsgaard?=)
Date: Fri Jan  9 21:52:32 2004
Subject: [mod_python] Problems using Postgres 7.1 from mod_python
Message-ID: <01082109450400.01002@adele>

Hi,

I'm having problems using a Postgres 7.1 database under FreeBSD 4.3 from 
Python 2.1.1/mod_python. I have tried using PyGreSQL. In the lastest port 
version, PyGreSQL simply crashes Python when I import it. Then I tried 
downgrading to Python 2.1. PyGreSQL now works from Python without mod_python, 
but in mod_python, it crashes when it is imported! Any ideas?

PyGreSQL seems to be unstable. It may be better to use another interface but 
it seems like the alternatives require threading, which doesn't wotk with 
mod_python.

Regards,

J?rgen Fr?jk Kj?rsgaard, Systemkonsulent (Systems Consultant)
Informaticon ApS * Web: www.informaticon.dk * Tlf: +45 8672 0093
Internet programmering * Systemudvikling p? Linux, FreeBSD og PalmOS

From bl at netgroup.dk  Tue Aug 21 10:40:50 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 21:52:32 2004
Subject: [mod_python] Problems using Postgres 7.1 from mod_python
References: <01082109450400.01002@adele>
Message-ID: <3B821E92.C5743F19@netgroup.dk>

J?rgen Fr?jk Kj?rsgaard wrote:

> I'm having problems using a Postgres 7.1 database under FreeBSD 4.3 from
> Python 2.1.1/mod_python. I have tried using PyGreSQL. In the lastest port
> version, PyGreSQL simply crashes Python when I import it. Then I tried
> downgrading to Python 2.1. PyGreSQL now works from Python without mod_python,
> but in mod_python, it crashes when it is imported! Any ideas?

Are your sure you dont mix two differant postgres libs, so that you load an old
one when using apache modules an the right one when starting up normally ? I
have tried this, and I took me long time to find it, and I only got myself to
blame :-)

> PyGreSQL seems to be unstable. It may be better to use another interface but
> it seems like the alternatives require threading, which doesn't wotk with
> mod_python.

I have been using "psycopg" with good results, but not on a BSD but on Linux.
The is the latest Python/postgresql bridge project and it work greate for me.

Hope this help

/BL


From jfk at informaticon.dk  Tue Aug 21 11:09:30 2001
From: jfk at informaticon.dk (=?iso-8859-1?q?J=F8rgen=20Fr=F8jk=20Kj=E6rsgaard?=)
Date: Fri Jan  9 21:52:32 2004
Subject: [mod_python] Problems using Postgres 7.1 from mod_python
In-Reply-To: <3B821E92.C5743F19@netgroup.dk>
References: <01082109450400.01002@adele> <3B821E92.C5743F19@netgroup.dk>
Message-ID: <01082111093002.01002@adele>

Tirsdag 21. August 2001 10:40 skrev du:
> J?rgen Fr?jk Kj?rsgaard wrote:
> > I'm having problems using a Postgres 7.1 database under FreeBSD 4.3 from
> > Python 2.1.1/mod_python. I have tried using PyGreSQL. In the lastest port
> > version, PyGreSQL simply crashes Python when I import it. Then I tried
> > downgrading to Python 2.1. PyGreSQL now works from Python without
> > mod_python, but in mod_python, it crashes when it is imported! Any ideas?
>
> Are your sure you dont mix two differant postgres libs, so that you load an
> old one when using apache modules an the right one when starting up
> normally ? I have tried this, and I took me long time to find it, and I
> only got myself to blame :-)

I don't think so, but I'll have to investigate it carefully...

> > PyGreSQL seems to be unstable. It may be better to use another interface
> > but it seems like the alternatives require threading, which doesn't wotk
> > with mod_python.
>
> I have been using "psycopg" with good results, but not on a BSD but on
> Linux. The is the latest Python/postgresql bridge project and it work
> greate for me.

Hmm.. If I understand things correctly (I'm new to mod_python) mod_python 
requires that Python is built without thread support, whereas psycopg 
requires a Python interpreter with threads. Is it possible for psycopg and 
mod_python to work together?

regards

J?rgen Fr?jk Kj?rsgaard, Systemkonsulent (Systems Consultant)
Informaticon ApS * Web: www.informaticon.dk * Tlf: +45 8672 0093
Internet programmering * Systemudvikling p? Linux, FreeBSD og PalmOS

From bl at netgroup.dk  Tue Aug 21 11:22:29 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 21:52:32 2004
Subject: [mod_python] Problems using Postgres 7.1 from mod_python
References: <01082109450400.01002@adele> <3B821E92.C5743F19@netgroup.dk> <01082111093002.01002@adele>
Message-ID: <3B822855.999D2618@netgroup.dk>

J?rgen Fr?jk Kj?rsgaard wrote:

> Hmm.. If I understand things correctly (I'm new to mod_python) mod_python
> requires that Python is built without thread support, whereas psycopg
> requires a Python interpreter with threads. Is it possible for psycopg and
> mod_python to work together?

Well, Apache 1.3.x does not support threads, and the mod_python code therefor
dont work with threads, at least as expected :-)

I'm not an expert on using mod_python, but this is how I see it :-)

On some platforms this thread support need to be disabled (solaris ?), but on
the Linux platform its not.

/BL




From paul at gudge.demon.co.uk  Tue Aug 21 14:19:54 2001
From: paul at gudge.demon.co.uk (Paul Goodyear)
Date: Fri Jan  9 21:52:32 2004
Subject: [mod_python] Inline python on Apache
Message-ID: <001701c12a43$ff71ad60$6501a8c0@cheesemakers.net>

I have been trying to get the mod_python.dll working but have given up.

I have tryind the following

LoadModule python_module modules/mod_python.dll

in the httpd.conf and also tried the line

AddType application/x-httpd-py .py

but am not sure this was correct.

The .py file refused to work, all I get is the "Internal Server Error"

So I have set it up as CGI and HAVE to put the #!/Python21/python at the top of every .py file.

I have been using PHP for over a year and Python as well on ISS 5 but since i've moved to Apache I can't get the Python module working.

Can anyone shed some light.

system:
Windows 2000 Server (SP2)
Apache 1.3.20
PHP 4.0.6
Python 2.1.1

regards

paul goodyear
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010821/9d42650b/attachment-0001.htm
From lsmith at thinkstream.com  Tue Aug 21 08:57:10 2001
From: lsmith at thinkstream.com (Lindsey Smith)
Date: Fri Jan  9 21:52:32 2004
Subject: [mod_python] Inline python on Apache
References: <001701c12a43$ff71ad60$6501a8c0@cheesemakers.net>
Message-ID: <006001c12a59$f0194b50$103fa3ce@ts.thinkstream.com>

Paul,

I had difficulties getting it to run with a similar setup as well. One thing you could do is making sure that the mod_python lib subdirectory under your python21/lib (or whatever) directory is named "mod_python" and not "mod_python_v1.2.3.whatever". This snagged me for a while.

- Lindsey Smith
  ----- Original Message ----- 
  From: Paul Goodyear 
  To: mod_python@modpython.org 
  Sent: Tuesday, August 21, 2001 6:19 AM
  Subject: [mod_python] Inline python on Apache


  I have been trying to get the mod_python.dll working but have given up.

  I have tryind the following

  LoadModule python_module modules/mod_python.dll

  in the httpd.conf and also tried the line

  AddType application/x-httpd-py .py

  but am not sure this was correct.

  The .py file refused to work, all I get is the "Internal Server Error"

  So I have set it up as CGI and HAVE to put the #!/Python21/python at the top of every .py file.

  I have been using PHP for over a year and Python as well on ISS 5 but since i've moved to Apache I can't get the Python module working.

  Can anyone shed some light.

  system:
  Windows 2000 Server (SP2)
  Apache 1.3.20
  PHP 4.0.6
  Python 2.1.1

  regards

  paul goodyear
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010821/faaa8c15/attachment-0001.htm
From jfk at informaticon.dk  Wed Aug 22 15:02:21 2001
From: jfk at informaticon.dk (=?iso-8859-1?q?J=F8rgen=20Fr=F8jk=20Kj=E6rsgaard?=)
Date: Fri Jan  9 21:52:32 2004
Subject: [mod_python] Problems using Postgres 7.1 from mod_python
In-Reply-To: <3B821E92.C5743F19@netgroup.dk>
References: <01082109450400.01002@adele> <3B821E92.C5743F19@netgroup.dk>
Message-ID: <01082215022102.01002@adele>

Tirsdag 21. August 2001 10:40 skrev Bo Lorentsen:
> J?rgen Fr?jk Kj?rsgaard wrote:
> > I'm having problems using a Postgres 7.1 database under FreeBSD 4.3 [...]
>
> Are your sure you dont mix two differant postgres libs [...]

PyGreSQL 3.1 doesn't seem to work on FreeBSD with Python 2.1.1 at all. I got 
one step closer to a solutioin by upgrading to PyGreSQL 3.2. I still get an 
error when importing, though:

[Wed Aug 22 14:58:28 2001] [error] PythonHandler mod_python.publisher:   File 
"/usr/local/lib/python2.1/site-packages/mx/DateTime/__init__.py", line 40, in 
? class modinit:
[Wed Aug 22 14:58:28 2001] [error] PythonHandler mod_python.publisher:   File 
"/usr/local/lib/python2.1/site-packages/mx/DateTime/__init__.py", line 50, in 
modinit_DT)
[Wed Aug 22 14:58:28 2001] [error] PythonHandler mod_python.publisher:   File 
"/usr/local/lib/python2.1/copy_reg.py", line 16, in pickle raise 
TypeError("copy_reg is not intended for use with classes")
[Wed Aug 22 14:58:28 2001] [error] PythonHandler mod_python.publisher: 
TypeError: copy_reg is not intended for use with classes

This error doesn't occur when using PyGreSQL without mod_python. I only have 
one version of everything installed, so it's not because a wrong version of 
something is accessed from mod_python.

regards,

J?rgen Fr?jk Kj?rsgaard, Systemkonsulent (Systems Consultant)
Informaticon ApS * Web: www.informaticon.dk * Tlf: +45 8672 0093
Internet programmering * Systemudvikling p? Linux, FreeBSD og PalmOS

From bl at netgroup.dk  Wed Aug 22 16:43:08 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 21:52:32 2004
Subject: [mod_python] Problems using Postgres 7.1 from mod_python
References: <01082109450400.01002@adele> <3B821E92.C5743F19@netgroup.dk> <01082215022102.01002@adele>
Message-ID: <3B83C4FC.A9A64372@netgroup.dk>

J?rgen Fr?jk Kj?rsgaard wrote:

> This error doesn't occur when using PyGreSQL without mod_python. I only have
> one version of everything installed, so it's not because a wrong version of
> something is accessed from mod_python.

Sorry can't help, I'm using Python 1.5.2 and psycopg on Debian Linux and it work
great. Your env. are too different from my setup to give any qualified
suggestions.

/BL


From woodm at equire.com  Wed Aug 22 09:14:08 2001
From: woodm at equire.com (Matthew D. Wood)
Date: Fri Jan  9 21:52:32 2004
Subject: [mod_python] Data Base Drivers
Message-ID: <3B83CC40.8010405@equire.com>

So, I've been trying to find a good connection module for PostgreSQL and 
Python.

There appears to be a bunch out there (PyGreSQL, PoPy, ...) but I have 
no idea which ones are better than others.

Unfortunately, most people on the lists that deal with such issues (the 
PyGreSQL list for example) tend to be VERY one sided and thus obtaining 
actual information is quite difficult.  Thus, I pose the question to the 
mod-python list in hopes that someone uses PostgreSQL and that there can 
be a reasonable discussion regarding the quality of the connection modules.


The second question I have is in regards to thread-safety and how it 
relates to multiple data-base connections (caused by multiple servers 
that apache runs).  The Python SIG on database connections gives a 
thread-safety parameter which is to be assigned a value of 1 to 4.  I 
believe that 4 is "Iron Clad" in that you will NOT screw up the data in 
your database no matter what.  And a 1 states that threads are not dealt 
with intelligently, use at your own risk.


I don't understand much of what the intermediate levels (2, 3) are all 
about.  What should be required for the multiple connections caused by 
multiple servers?  "Will a thread-safety level of 3 be sufficient to 
prevent problems, or do I need to find a connection that is a full blown 
4?"


From riesch at nieuw.nl  Fri Aug 24 10:12:44 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 21:52:32 2004
Subject: [mod_python] Authentication
Message-ID: <20010824101244.A29899@godel>

Hi there,


I'm using the standard authentication now (with the authenhandler). This all works fine, but I can't seem to figure out how to let a user logout. I've tried to pass information about logout with the url. Something like:

http://www.site.com/?logout

def authenhandler(req):
   form = util.FieldStorage(req, keep_blank_values=1)

   if form.has_key(logout):
      return apache.HTTP_UNAUTHORIZED

   pw   = req.get_basic_auth_pw()
   user = req.connection.user
   if correct_user(user, pw):
      return apache.OK
   else:
      return apache.HTTP_UNAUTHORIZED



Unfortunately, this has the following effects:
-
The dialog pops up, even if the user is entering an area that's not protected. Not a very nice sollution, but workable (perhaps)
-
The url stays the same, which causes that the 'form' keeps logout-key. This results in repeatedly returing of HTTP_UNAUTHORIZED.


Does anyone have experience with this, or have some hints or thoughts ?


Thanks ahead,
Richard

From R.Barrett at ftel.co.uk  Fri Aug 24 10:09:26 2001
From: R.Barrett at ftel.co.uk (Richard Barrett)
Date: Fri Jan  9 21:52:32 2004
Subject: [mod_python] Authentication
In-Reply-To: <20010824101244.A29899@godel>
Message-ID: <5.1.0.14.2.20010824094552.035c9b30@pop.ftel.co.uk>

Unfortunately there is nothing in HTTP (the protocol) that lets a server 
tell a client browser to "forget" the basic authentication credentials it 
has acquired from the user for a given Realm. And while it has those 
credentials, the client browser will continue to attach them to any request 
it makes to the server for a relevant URL.

The mistake is to view HTTP basic authentication as being a login process 
and as a consequence conclude there should be a complementary logout 
process. The authentication model for HTTP allows the server to demand some 
credentials from a user and have those credentials attached to subdsequent 
accesses to the server. If the user hasn't changed why does he need to log 
out?

As you have noted, you can trigger a re-authentication which, if the user 
cancels it, leads to the browser "forgetting" the credentials it has 
associated with the Realm. But this is the best you can do.

The only way to implement a conventional login/logout style is to use an 
HTML form to capture the login credentials, return some identification info 
in a cookie accompanying the response to the form input and specify the 
cookie so that it is attached to subsequent HTTP requests to the server. 
The advantage of this is that a logout process can, in effect, tell the 
browser to destroy cookie by setting its expiry date.

Before deciding which way to deal with this, ask yourself: why does the 
dialogue between the user and your server require a logout.

At 10:12 24/08/2001 +0200, riesch@nieuw.nl wrote:
>Hi there,
>
>
>I'm using the standard authentication now (with the authenhandler). This 
>all works fine, but I can't seem to figure out how to let a user logout. 
>I've tried to pass information about logout with the url. Something like:
>
>http://www.site.com/?logout
>
>def authenhandler(req):
>    form = util.FieldStorage(req, keep_blank_values=1)
>
>    if form.has_key(logout):
>       return apache.HTTP_UNAUTHORIZED
>
>    pw   = req.get_basic_auth_pw()
>    user = req.connection.user
>    if correct_user(user, pw):
>       return apache.OK
>    else:
>       return apache.HTTP_UNAUTHORIZED
>
>
>
>Unfortunately, this has the following effects:
>-
>The dialog pops up, even if the user is entering an area that's not 
>protected. Not a very nice sollution, but workable (perhaps)
>-
>The url stays the same, which causes that the 'form' keeps logout-key. 
>This results in repeatedly returing of HTTP_UNAUTHORIZED.
>
>
>Does anyone have experience with this, or have some hints or thoughts ?
>
>
>Thanks ahead,
>Richard


From benno at sesgroup.net  Fri Aug 24 19:34:35 2001
From: benno at sesgroup.net (Ben Leslie)
Date: Fri Jan  9 21:52:33 2004
Subject: [mod_python] Authentication
In-Reply-To: <20010824101244.A29899@godel>
References: <20010824101244.A29899@godel>
Message-ID: <20010824193434.A17455@lister.sesgroup.net>

On Fri, 24 Aug 2001, riesch@nieuw.nl wrote:

> Hi there,
> 
> 
> I'm using the standard authentication now (with the authenhandler). 
> This all works fine, but I can't seem to figure out how to let a user logout.

They close the browser.

Ben

From peter at webreply.com  Fri Aug 24 08:32:46 2001
From: peter at webreply.com (Peter McA'Nulty)
Date: Fri Jan  9 21:52:33 2004
Subject: [mod_python] Authentication
References: <20010824101244.A29899@godel>
Message-ID: <000d01c12c98$e139d780$81a310ac@bogusdomain.com>

> ...even if the user is entering an area that's not protected. Not a very
nice sollution, but workable (perhaps)

The standard way of handling protected and unprotected data is something
like the config below.  You put protected files in one directory tree and
unprotected files in another tree (usually, the unprotected files include
all/most of your images, your css, etc)

<directory /apache/htdocs/vhostdir>
    PythonHandler pyhandler
    AddHandler python-program .py .phtml

    <directory /apache/htdocs/vhostdir/protected>
        PythonAuthenHandler authenhandler
        AuthType Basic
        AuthName "admin.dthk2"
        require valid-user
    </directory>

    <directory /apache/htdocs/vhostdir/UNprotected>
    </directory>
</directory>


----- Original Message -----
From: <riesch@nieuw.nl>
To: <mod_python@modpython.org>
Sent: Friday, August 24, 2001 4:12 AM
Subject: [mod_python] Authentication


> Hi there,
>
>
> I'm using the standard authentication now (with the authenhandler). This
all works fine, but I can't seem to figure out how to let a user logout.
I've tried to pass information about logout with the url. Something like:
>
> http://www.site.com/?logout
>
> def authenhandler(req):
>    form = util.FieldStorage(req, keep_blank_values=1)
>
>    if form.has_key(logout):
>       return apache.HTTP_UNAUTHORIZED
>
>    pw   = req.get_basic_auth_pw()
>    user = req.connection.user
>    if correct_user(user, pw):
>       return apache.OK
>    else:
>       return apache.HTTP_UNAUTHORIZED
>
>
>
> Unfortunately, this has the following effects:
> -
> The dialog pops up, even if the user is entering an area that's not
protected. Not a very nice sollution, but workable (perhaps)
> -
> The url stays the same, which causes that the 'form' keeps logout-key.
This results in repeatedly returing of HTTP_UNAUTHORIZED.
>
>
> Does anyone have experience with this, or have some hints or thoughts ?
>
>
> Thanks ahead,
> Richard
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From iwan at vanderkleyn.com  Tue Aug 28 10:08:40 2001
From: iwan at vanderkleyn.com (Iwan van der Kleyn)
Date: Fri Jan  9 21:52:33 2004
Subject: [mod_python] Getting modpython to work on Linux Mandrake 8.0?
Message-ID: <DNEPIPEBAKJOGPIPGPDNGEOHCBAA.iwan@vanderkleyn.com>

Hi there,

Has anyone been able to get modpython to work on Linux Mandrake 8.o? I've
installed it succesfully under previous versions of Mandrake, but no
luck with the latest.

I've compiled and installed Python v2.1 without thread support and
succesfully compiled modpython 2.7.6 and installed it into Apache as a DSO.
No error messages in the logfiles, so presumably that worked fine.

Then I had to configure commonhttpd.conf to include the <Directory> tag.
No succes here, because no matter what, apache/modpython failed to
detect the PythonHandler keyword. Changing the <Directory> into the
<Location> tag did work. Apache started wihout a problem, the Python
interpreter was loaded, but reported an errormessage because it couldn't
find the handler in its path. Using the PaythonPath keyword didn't help.
So I can only guess that this version of Apache uses a different way of
configuring
than which is mentioned in the modpython documentation.

So after trying for a day or so, I'm ready to give up and go back to
Tomcat :-)

If anyone did get modpython to work on Mandrake 8, I would be very
gratefull if he or she would share this information with me. I guess I would
already be helped by the correct commonhttpd.conf entries.

Regards,

Iwan



From Ares.liu at Clarent.com  Tue Aug 28 18:07:33 2001
From: Ares.liu at Clarent.com (Ares Liu)
Date: Fri Jan  9 21:52:33 2004
Subject: [mod_python] why not release modpython 2.7.6 binary on windows?
Message-ID: <000a01c12fa9$41d2d840$34461e0a@clarent.com>

The official site only has 2.7.4 of python21-apache1.3.20 on windows
binary. I need 2.7.6 of python 2.1.1-apache 1.3.20 on win98/me binary.
:-)
Ares Liu
 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010828/c21b9bf2/attachment-0001.htm
From tree at basistech.com  Tue Aug 28 06:44:59 2001
From: tree at basistech.com (Tom Emerson)
Date: Fri Jan  9 21:52:33 2004
Subject: [mod_python] Getting modpython to work on Linux Mandrake 8.0?
In-Reply-To: <DNEPIPEBAKJOGPIPGPDNGEOHCBAA.iwan@vanderkleyn.com>
References: <DNEPIPEBAKJOGPIPGPDNGEOHCBAA.iwan@vanderkleyn.com>
Message-ID: <15243.30251.554354.295650@magrathea.basistech.com>

Iwan van der Kleyn writes:
> I've compiled and installed Python v2.1 without thread support and
> succesfully compiled modpython 2.7.6 and installed it into Apache as a DSO.
> No error messages in the logfiles, so presumably that worked fine.

You can tell if it really worked by looking in the server's error log
right after you restart the server. On my FreeBSD system I get:

# /opt/www/bin/apachectl restart
/opt/www/bin/apachectl restart: httpd restarted 
# tail /opt/www/logs/error_log
...
[Tue Aug 28 06:37:46 2001] [notice] SIGHUP received.  Attempting to restart
[Tue Aug 28 06:37:46 2001] [notice] Apache/1.3.19 (Unix) mod_loopback/1.2
    PHP/4.0.4pl1 mod_python/2.7.5 Python/2.0 configured -- resuming normal
    operations

If you don't see the mod_python entry then the DSO isn't registered.

Make sure the lines:

LoadModule python_module     libexec/mod_python.so
AddModule mod_python.c

are in your configuration file.

> No succes here, because no matter what, apache/modpython failed to
> detect the PythonHandler keyword. Changing the <Directory> into the
> <Location> tag did work. Apache started wihout a problem, the Python
> interpreter was loaded, but reported an errormessage because it couldn't
> find the handler in its path. Using the PaythonPath keyword didn't help.
> So I can only guess that this version of Apache uses a different way of
> configuring than which is mentioned in the modpython documentation.

OK, so it sounds like the DSO is loading OK. Is the mod_python package
in your Python interpreter's load path? Do you have more than one copy
of Python on the machine? In the past I've had problems in that
situation.

Can you send the precise errors reported in the error_log and, if
applicable, in your messages file?

FWIW, I make use of mod_python in both <Directory> and <Location>
directives, using both SetHandler and AddHandler.

> So after trying for a day or so, I'm ready to give up and go back to
> Tomcat :-)

Ugh, anything but that. :-)

Sorry I can't offer more right now.

    -tree

-- 
Tom Emerson                                          Basis Technology Corp.
Sr. Sinostringologist                              http://www.basistech.com
  "Beware the lollipop of mediocrity: lick it once and you suck forever"

From piet at cs.uu.nl  Tue Aug 28 17:14:18 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:52:33 2004
Subject: [mod_python] why not release modpython 2.7.6 binary on windows?
In-Reply-To: Ares Liu's message of "Tue, 28 Aug 2001 18:07:33 +0800"
References: <000a01c12fa9$41d2d840$34461e0a@clarent.com>
Message-ID: <ulmk4dxo5.fsf@cs.uu.nl>

>>>>> Ares Liu <Ares.liu@Clarent.com> (AL) writes:

AL> The official site only has 2.7.4 of python21-apache1.3.20 on windows
AL> binary. I need 2.7.6 of python 2.1.1-apache 1.3.20 on win98/me binary.
AL> :-)
AL> Ares Liu
 
I have a compiled dll of 2.7.6 for Win32 .

-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From jholland at tomsw.com  Tue Aug 28 13:53:00 2001
From: jholland at tomsw.com (John Holland)
Date: Fri Jan  9 21:52:33 2004
Subject: [mod_python] installation
Message-ID: <20010828135300.A18639@tomsw.com>

This is probalby something really dumb but...

I compile modpython as a DSO, it seems to load fine, I create a /py
dir off of DocumentRoot, put a test.py type thing in there, and ...

the webserver just returns the contents of the script. I setup the <Directory>
stuff as in the install instructions - what am I missing or doing wrong?

John Holland

From sebastien.deleersnyder at be.unisys.com  Tue Aug 28 13:14:40 2001
From: sebastien.deleersnyder at be.unisys.com (Deleersnyder, Sebastien)
Date: Fri Jan  9 21:52:33 2004
Subject: [mod_python] installation
Message-ID: <3995C58A11F7D211A7EE00105AC580980192DC8F@BE-BRU-EXCH-2>

John

Weird.
Could you send the conf file content?
Something should be missing there.
Also: do you see that the mod_pythons module is loaded when
Apache (re)starts?

regards,

Sebastien

-----Original Message-----
From: John Holland [mailto:jholland@tomsw.com]
Sent: dinsdag 28 augustus 2001 19:53
To: mod_python@modpython.org
Subject: [mod_python] installation



This is probalby something really dumb but...

I compile modpython as a DSO, it seems to load fine, I create a /py
dir off of DocumentRoot, put a test.py type thing in there, and ...

the webserver just returns the contents of the script. I setup the
<Directory>
stuff as in the install instructions - what am I missing or doing wrong?

John Holland
_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From jholland at tomsw.com  Tue Aug 28 14:31:12 2001
From: jholland at tomsw.com (John Holland)
Date: Fri Jan  9 21:52:33 2004
Subject: [mod_python] installation
In-Reply-To: <3995C58A11F7D211A7EE00105AC580980192DC8F@BE-BRU-EXCH-2>; from sebastien.deleersnyder@be.unisys.com on Tue, Aug 28, 2001 at 01:14:40PM -0500
References: <3995C58A11F7D211A7EE00105AC580980192DC8F@BE-BRU-EXCH-2>
Message-ID: <20010828143112.A18924@tomsw.com>

I fixed it - it must have been a typo I wasn't seeing or something.
Hello World is just fine now, now on to whatever modpython holds.....


Thanks again

John

On Tue, Aug 28, 2001 at 01:14:40PM -0500, Deleersnyder, Sebastien wrote:
> John
> 
> Weird.
> Could you send the conf file content?
> Something should be missing there.
> Also: do you see that the mod_pythons module is loaded when
> Apache (re)starts?
> 
> regards,
> 
> Sebastien
> 
> -----Original Message-----
> From: John Holland [mailto:jholland@tomsw.com]
> Sent: dinsdag 28 augustus 2001 19:53
> To: mod_python@modpython.org
> Subject: [mod_python] installation
> 
> 
> 
> This is probalby something really dumb but...
> 
> I compile modpython as a DSO, it seems to load fine, I create a /py
> dir off of DocumentRoot, put a test.py type thing in there, and ...
> 
> the webserver just returns the contents of the script. I setup the
> <Directory>
> stuff as in the install instructions - what am I missing or doing wrong?
> 
> John Holland
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python

From riesch at nieuw.nl  Thu Aug 30 17:07:53 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 21:52:33 2004
Subject: [mod_python] Zope
Message-ID: <20010830170753.B23002@godel>

Hi there,


Off-topic as it is :

Has anyone experience with using zope and more specificaly with its database ? Is it possible to separate the database from the zope-architecture ? I can't figure out how .. but it would be usefull since it looks nice


Thanks ahead,
Richard

From jeremym at ipnetwork.com  Thu Aug 30 13:47:08 2001
From: jeremym at ipnetwork.com (Jeremy McCormick)
Date: Fri Jan  9 21:52:33 2004
Subject: [mod_python] python scripts like mod_perl
Message-ID: <F94044758132D511BEE000D0B73EC82B157164@MAIL2>

Hi, y'all.  I've gleaned a lot of good info and programs off this site,
including a mod_python dll for Win32 that links to the latest ActiveState
build of Python.

I'm having a minor configuration issue in getting my python scripts to
execute from a directory just under the Apache root of my Windows Nusphere
install, i.e. <Apache root> / python_scripts.  I can only get the scripts to
execute if they are located under the document root.  I would like to copy
the configuration of mod_perl, i.e. <Apache root> / perl-bin, which is an
alias for  "nsperl-bin"; these scripts execute perfectly.  However, when I
try a similar set-up with Python, Apache can't find the interpreter.  

Here is the relevant section from my httpd.conf (anything strange-looking
was inspired by the lines for mod_perl).

# BEGIN MOD_PYTHON CONFIG
LoadModule python_module modules/mod_python.dll
ScriptAlias /python-bin/ "d:/programs/nusphere/apache/nspython-bin"
<Location /python-bin>
   SetHandler python-script
   PythonHandler testpy
   Options ExecCGI
</Location>
#END MOD_PYTHON CONFIG

I would like to be able to execute scripts from my html like so:

<a href="/python-bin/testpy.py"> Test a python script </a>

...but, alas, tis not working unless I put the scripts somewhere in the
document root.  Any ideas?

Thanks in advance.  Please let me know if more information is needed about
my set-up.

From piet at cs.uu.nl  Fri Aug 31 11:01:47 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:52:33 2004
Subject: [mod_python] Zope
In-Reply-To: riesch@nieuw.nl's message of "Thu, 30 Aug 2001 17:07:53 +0200"
References: <20010830170753.B23002@godel>
Message-ID: <u1ylseh6s.fsf@cs.uu.nl>

>>>>> riesch@nieuw.nl (R) writes:

R> Hi there,
R> Off-topic as it is :

R> Has anyone experience with using zope and more specificaly with its database ? Is it possible to separate the database from the zope-architecture ? I can't figure out how .. but it would be usefull since it looks nice


The database (ZODB) is distributed separately, and I have used some simple
standalone python scripts with it. It would be possible to use it in
modpython, except for problems with synchronisation. 
There is no record locking or anything similar in ZODB, so in a Linux/Unix
environment where Apache starts up multiple processes you would have the
database open in these processes, which gives synchronisation problems.
When modpython works with Apache 2 which has threading one should be able
to solve this by opening the database only once. On MS Windows this should
also be possible I think. ZODB can be used in a multithreaded environment
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From riesch at nieuw.nl  Fri Aug 31 13:39:06 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 21:52:33 2004
Subject: [mod_python] cleaning up
Message-ID: <20010831133906.A23519@godel>

hi there,


Something else. I'm now using the shelve and with multiple processes I'm using a lock on a file to protect the data located in the shelve. All goes well when I let the transaction complete normally.

However when I break it off pre-maturaly the locks remain on the file (the process isn't really dead, since apache saves that for another request and the locks arent't removed). I've allready registered a cleanup-handler, but this isn't called on a breakup.

Is there something else ?



Thanks ahead,
Richard

From thm at duke.edu  Wed Aug 29 21:12:40 2001
From: thm at duke.edu (Hunter Matthews)
Date: Fri Jan  9 21:53:09 2004
Subject: [mod_python] RPMS available
Message-ID: <999133961.1289.5.camel@jade.biology.duke.edu>

I've been looking at migrating my application (long term) to python 2.2.
Toward that end, I've rebuilt the mod_python rpm from Red Hat 7.3 to use
python2, instead of python (1.5).

Its not THAT hard for someone who builds rpms regularly, but I was
wondering if anyone else would desire such a beast.

It warns that python2 is built with threads, but when I did a test build
against the original python (1.5.2) package, it was also built with
threads, so I am _assuming_ that this is ok.

If anyone wants them, I've also built sqlite and pysqlite packages for
7.3.
-- 
Hunter Matthews                          Unix / Network Administrator
Office: BioScience 145/244               Duke Univ. Biology Department
Key: F0F88438 / FFB5 34C0 B350 99A4 BB02  9779 A5DB 8B09 F0F8 8438
Never take candy from strangers. Especially on the internet.


From riesch at nieuw.nl  Wed Aug  1 13:03:02 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 21:59:02 2004
Subject: [mod_python] Some questions
Message-ID: <20010801130302.A4683@godel>

Hi all


I'm dubbing with some questions.

Cookies
Is there a way to detect whether a user supports cookies, or is that only possible by setting a cookie and not recieving?

Globals
I have some central files, which are to be used by multiple sites, where every site defines its own handler for python. Now in those central files I've defined a class which should be known throughout a site (not the other sites !). In my ultimate laziness, I've defined the instance as follows:

# start of Application.py


class Application:
   ...
# end of class definition

global app
app = Application()


# end of Application.py

Every site imports this file. Now I'm not sure whether every site now has the same instance, or if every site has a different instance. I'm geussing every site has another instance, since it defines its own handler and  should be run as a separate program, but I don't know how mod-python handles this.


Any suggestions?

Richard


Btw:
All-right for the patch. I'm definetly gonna use that!

From tree at basistech.com  Wed Aug  1 07:21:39 2001
From: tree at basistech.com (Tom Emerson)
Date: Fri Jan  9 21:59:03 2004
Subject: [mod_python] Some questions
In-Reply-To: <20010801130302.A4683@godel>
References: <20010801130302.A4683@godel>
Message-ID: <15207.58947.621881.556677@cymru.basistech.com>

riesch@nieuw.nl writes:
> Cookies
> Is there a way to detect whether a user supports cookies,

No.

> or is that only possible by setting a cookie and not recieving?

Right.

> Globals
[...]

These I'm not sure on, but...

...I believe that the globals are valid for the life of the
interpreter. If you have separate virtual servers running then each
one has its own subinterpreter, and as such the globals should be
valid for each one.

> Every site imports this file. Now I'm not sure whether every site
> now has the same instance, or if every site has a different
> instance. I'm geussing every site has another instance, since it
> defines its own handler and should be run as a separate program, but
> I don't know how mod-python handles this.

You could check by passing a unique value to the __init__ function of
your global object for each site, and examining that value to see if
it is different.

-- 
Tom Emerson                                          Basis Technology Corp.
Sr. Sinostringologist                              http://www.basistech.com
  "Beware the lollipop of mediocrity: lick it once and you suck forever"

From riesch at nieuw.nl  Wed Aug  1 14:16:01 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 21:59:03 2004
Subject: [mod_python] Some questions
In-Reply-To: <15207.58947.621881.556677@cymru.basistech.com>; from tree@basistech.com on Wed, Aug 01, 2001 at 07:21:39AM -0400
References: <20010801130302.A4683@godel> <15207.58947.621881.556677@cymru.basistech.com>
Message-ID: <20010801141601.A16198@godel>

> > Globals
> [...]
> 
> These I'm not sure on, but...
> 
> ...I believe that the globals are valid for the life of the
> interpreter. If you have separate virtual servers running then each
> one has its own subinterpreter, and as such the globals should be
> valid for each one.

So every subinterpreter should be independent of the other interpreters ? and as such each site has a different app-instance?

> You could check by passing a unique value to the __init__ function of
> your global object for each site, and examining that value to see if
> it is different.

The init is always the same since the global is created in the Application.py and not in another file. I'm not to sure how to check it all, since a request is handled rather quick and I don't think there are debugging tools.


Thanx for replying,
Richard

From tree at basistech.com  Wed Aug  1 07:43:46 2001
From: tree at basistech.com (Tom Emerson)
Date: Fri Jan  9 21:59:03 2004
Subject: [mod_python] Some questions
In-Reply-To: <20010801141601.A16198@godel>
References: <20010801130302.A4683@godel>
	<15207.58947.621881.556677@cymru.basistech.com>
	<20010801141601.A16198@godel>
Message-ID: <15207.60274.563388.400127@cymru.basistech.com>

riesch@nieuw.nl writes:
> > ...I believe that the globals are valid for the life of the
> > interpreter. If you have separate virtual servers running then each
> > one has its own subinterpreter, and as such the globals should be
> > valid for each one.
> 
> So every subinterpreter should be independent of the other
> interpreters ? and as such each site has a different app-instance?

Yes: as long as each site is running in its own virtual host the
interpreters will be independent... at least that is my
understanding. :-)

You can control how subinterpreters are allocated using the
PythonInterp* series of configuration directives.

> The init is always the same since the global is created in the
> Application.py and not in another file. I'm not to sure how to check
> it all, since a request is handled rather quick and I don't think
> there are debugging tools.

Perhaps you could generate a random number in each __init__ function,
then write it to the log from each site using apache.log_error.  That
would at least tell you if you are getting different instances in each
site.

-- 
Tom Emerson                                          Basis Technology Corp.
Sr. Sinostringologist                              http://www.basistech.com
  "Beware the lollipop of mediocrity: lick it once and you suck forever"

From zdanie at dr.com  Wed Aug  1 19:05:36 2001
From: zdanie at dr.com (=?windows-1251?Q?=CF=EE=F0=F2=EE=E2=E0=FF,_19?=)
Date: Fri Jan  9 21:59:03 2004
Subject: [mod_python] =?windows-1251?Q?=CF=F0=EE=E4=E0=E5=F2=F1=FF_=E0=E4=EC=E8=ED=E8=F1=F2=F0=E0=F2=E8=E2=ED=EE=E5_=E7=E4=E0=ED=E8=E5_=E2_=CA=E0=E7=E0=ED=E8?=
Message-ID: <23487200183115536804@dr.com>

????????????! ???? ????????.

?????????? ?????????? ? ????????????? ???????????????? ?????? ? ??????
(?????????, ??????): 
- ????? ??????? 910 ??. ?; 
- 2 ?????; 
- ??????? ?????????? ????????? ?? 7 ?? 200 ??.?; 
- ??????????? ?????????? - ????????? ??????? 0,101 ??. 

?????? - ?????? ???????? ??????? ?????. ????? ???????? ????????????:
- ???????? ?????? - ?????? ?? ???????? ??????? ??????????? ????????? ?????;
- ??????? ?????????? ????; 
- ?????? ? ?????? ?????? - 5 ???. ????; 
- ?????? ? ?/? ???????  - 5 ???. ????;
- ????? ?????? ????; 
- ????? ?/? ????.

?????? ???????? ???????? ??? ?????????? ????? ????????????????? ?????
???????? ? ?????????? ??? ????????. ???????? ?????????? "????/?????". ???
???????????? ?????????. ?????? ??????? ??????? (?????? ?????????? ???????,
??????? ????? ??????? ? ??????? ?????). ?????? ????????? ? ???????
?????????????. ????? - ? ?????????? ???????????.

???? ?????? - ????? ??? ????????.

???? ?? ?????????????? ? ????????? ?? ??? ????? ????????? ?????????? ?
?????? ???????, ????????? ?????? ?????? ?? ??????: zdanie@europe.com. ???
???? ? "????" ????????? ??????????? ????????:
"???????? ????????? ??????????".




From xione at bellsouth.net  Thu Aug  2 10:53:22 2001
From: xione at bellsouth.net (Xione Wrent)
Date: Fri Jan  9 21:59:03 2004
Subject: [mod_python] Win32 Error:
Message-ID: <000901c11b7c$05c25100$8cbf3dd0@xwcom>

I'm getting the following error, and I can't figure out why?


I'm using 2.4.7 with Apache 1.3 on Win32. As far as I know, I've
installed everything right - even getting past the typo on
modpython.org's Windows Installation Guide (Which really should be
changed, BTW). But anyways, the only refrence I can even find to
anything called mptest is in my httpd.conf file - maybe I'm putting
this:

Mod_python error: "PythonHandler mptest"

Traceback (most recent call last):

  File "c:\python21\lib\mod_python\apache.py", line 181, in Dispatch
    module = import_module(module_name, _req)

  File "c:\python21\lib\mod_python\apache.py", line 335, in
import_module
    f, p, d = imp.find_module(parts[i], path)

ImportError: No module named mptest

<IfModule mod_alias.c>
    Alias /icons/ "C:/Program Files/Apache Group/Apache/icons/"
    <Directory "C:/Program Files/Apache Group/Apache/icons">
        Options Indexes MultiViews
        AllowOverride None
        Order allow,deny
        Allow from all
    </Directory>
    ScriptAlias /cgi-bin/ "C:/Program Files/Apache
Group/Apache/cgi-bin/"
    <Directory "C:/Program Files/Apache Group/Apache/cgi-bin">
        AllowOverride None
        Options None
        Order allow,deny
        Allow from all
    </Directory>
    <Directory "C:/Program Files/Apache Group/Apache/htdocs/python">
        AddHandler python-program .py
        PythonHandler mptest
        PythonDebug on
    </Directory>
</IfModule>



From brianh at exelixis.com  Thu Aug  2 13:16:11 2001
From: brianh at exelixis.com (Brian Hawthorne)
Date: Fri Jan  9 21:59:03 2004
Subject: [mod_python] sys.path and sys.modules change randomly between page loads!
In-Reply-To: <5.0.0.25.0.20010228111927.03518980@localhost>
Message-ID: <Pine.GSO.4.05.10108021300340.19281-100000@timeless.exelixis.com>

has anyone noticed anything like this?
i hypothesize that my requests are being cycled
thru multiple interpreters... each one has a different
history because other pages (which append to sys.path and
load modules) have been loaded into them.

i tried PythonInterpreter main_interpreter.
to no avail.

brian



From riesch at nieuw.nl  Fri Aug  3 12:09:05 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 21:59:03 2004
Subject: [mod_python] Win32 Error:
In-Reply-To: <000901c11b7c$05c25100$8cbf3dd0@xwcom>; from xione@bellsouth.net on Thu, Aug 02, 2001 at 10:53:22AM -0700
References: <000901c11b7c$05c25100$8cbf3dd0@xwcom>
Message-ID: <20010803120905.A16314@godel>

Hi there,

I'm geussing the answer to your problem is that the python interpreter cannot find the file, since it is not located in the systempath of python. The sollution would, in this case be to add the following line to httpd.conf:

PythonPath "sys.path + ['/dir/where/mptest/is/located/']"


Hope this helps,
Richard



On Thu, Aug 02, 2001 at 10:53:22AM -0700, Xione Wrent wrote:
> I'm getting the following error, and I can't figure out why?
> 
> 
> I'm using 2.4.7 with Apache 1.3 on Win32. As far as I know, I've
> installed everything right - even getting past the typo on
> modpython.org's Windows Installation Guide (Which really should be
> changed, BTW). But anyways, the only refrence I can even find to
> anything called mptest is in my httpd.conf file - maybe I'm putting
> this:
> 
> Mod_python error: "PythonHandler mptest"
> 
> Traceback (most recent call last):
> 
>   File "c:\python21\lib\mod_python\apache.py", line 181, in Dispatch
>     module = import_module(module_name, _req)
> 
>   File "c:\python21\lib\mod_python\apache.py", line 335, in
> import_module
>     f, p, d = imp.find_module(parts[i], path)
> 
> ImportError: No module named mptest
> 
> <IfModule mod_alias.c>
>     Alias /icons/ "C:/Program Files/Apache Group/Apache/icons/"
>     <Directory "C:/Program Files/Apache Group/Apache/icons">
>         Options Indexes MultiViews
>         AllowOverride None
>         Order allow,deny
>         Allow from all
>     </Directory>
>     ScriptAlias /cgi-bin/ "C:/Program Files/Apache
> Group/Apache/cgi-bin/"
>     <Directory "C:/Program Files/Apache Group/Apache/cgi-bin">
>         AllowOverride None
>         Options None
>         Order allow,deny
>         Allow from all
>     </Directory>
>     <Directory "C:/Program Files/Apache Group/Apache/htdocs/python">
>         AddHandler python-program .py
>         PythonHandler mptest
>         PythonDebug on
>     </Directory>
> </IfModule>
> 
> 
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python

From bl at netgroup.dk  Mon Aug  6 09:58:50 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 21:59:03 2004
Subject: [mod_python] Session info from authenhandler
Message-ID: <3B6E4E3A.90FDC41A@netgroup.dk>

Hi ...

Is it somehow possible to transfer session information found in the
"authenhandler" directly to the "normal" handler. I know that I could
use a cookie, but this still demands one trip around the client, and I
like to avoid that.

I have tried to set a value from "authenhandler" in the
"req.headers_out", and then try to read it in the "handler", but this is
somehow not possible, either.

Any idea how to do this ?

/BL


From bl at netgroup.dk  Mon Aug  6 10:51:29 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 21:59:03 2004
Subject: [mod_python] Patch to 2.7.5 for internal_redirect
References: <13CDDE6A53DBD311BC3200508B6F0C4805E48089@rover.foolhq.com>
		<20010731093907E.miguel@yorku.ca>
		<3B66B9B2.8E549FA@netgroup.dk> <15207.1934.890865.157761@cymru.basistech.com>
Message-ID: <3B6E5A91.DF855289@netgroup.dk>

Tom Emerson wrote:

> Attached is a small patch to mod_python 2.7.5 which provides support
> for doing an internal_redirect. I've only done minimal testing on this
> but it appears to work.

Will this patch be included in the future mod_python, and if not -- why ?

/BL


From riesch at nieuw.nl  Mon Aug  6 13:17:12 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 21:59:03 2004
Subject: [mod_python] Patch to 2.7.5 for internal_redirect
In-Reply-To: <15207.1934.890865.157761@cymru.basistech.com>; from tree@basistech.com on Tue, Jul 31, 2001 at 03:31:26PM -0400
References: <13CDDE6A53DBD311BC3200508B6F0C4805E48089@rover.foolhq.com> <20010731093907E.miguel@yorku.ca> <3B66B9B2.8E549FA@netgroup.dk> <15207.1934.890865.157761@cymru.basistech.com>
Message-ID: <20010806131712.A4114@godel>

Hi,


perhaps a bit of a stupid question, but how do I apply this patch. I don't think I will have edit all the files by hand :).

Is there a little program or something ?


Richard

From tree at basistech.com  Mon Aug  6 07:41:07 2001
From: tree at basistech.com (Tom Emerson)
Date: Fri Jan  9 21:59:03 2004
Subject: [mod_python] Patch to 2.7.5 for internal_redirect
In-Reply-To: <20010806131712.A4114@godel>
References: <13CDDE6A53DBD311BC3200508B6F0C4805E48089@rover.foolhq.com>
	<20010731093907E.miguel@yorku.ca>
	<3B66B9B2.8E549FA@netgroup.dk>
	<15207.1934.890865.157761@cymru.basistech.com>
	<20010806131712.A4114@godel>
Message-ID: <15214.33363.62919.664178@cymru.basistech.com>

riesch@nieuw.nl writes:
> perhaps a bit of a stupid question, but how do I apply this patch. I
> don't think I will have edit all the files by hand :).
> 
> Is there a little program or something ?

I should have included instructions, apologies.

Assuming you are on a Unix system, you can apply the patch by:

1) cd'ing to the top-level of the mod_python directory, and

2) invoking "patch < patch_name", where patch_name is the name that
   you saved the patch as.

That should do it.

    -tree

-- 
Tom Emerson                                          Basis Technology Corp.
Sr. Sinostringologist                              http://www.basistech.com
  "Beware the lollipop of mediocrity: lick it once and you suck forever"

From troy at gci.net  Tue Aug  7 11:31:52 2001
From: troy at gci.net (- troy)
Date: Fri Jan  9 21:59:03 2004
Subject: [mod_python] return 200 vs return apache.OK ?
Message-ID: <4f89774f7d12.4f7d124f8977@augustine.gci.net>

hi everyone!

i've been developing a project with mod_python for a few weeks, and 
i've run into a snag.  please forgive me if i'm not expressing this in 
the best terms; i'm new to python and apache both.

the problem i have is this:  whenever my handler returns an int by 
number, apache (or something) appends debugging information to the 
client response.  example handler:

	from mod_python import apache
	def handler(req):
		req.send_http_header()
		req.write('hello, world\n')
		return 200

on my system, this produces the following output:

	hello, world
	HTTP/1.1 200 OK
	Date: Tue, 07 Aug 2001 18:57:40 GMT
	Server: Apache/1.3.20 (Win32) mod_python/2.7.4 Python/2.1
	Keep-Alive: timeout=15, max=99
	Connection: Keep-Alive
	Transfer-Encoding: chunked
	Content-Type: text/html; charset=iso-8859-1

	<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
	<HTML><HEAD>
	<TITLE>200 OK</TITLE>
	</HEAD><BODY>
	<H1>OK</H1>
	The server encountered an internal error or
	misconfiguration and was unable to complete
	your request.<P>
	Please contact the server administrator,
	 <omitted> and inform them of the time the error occurred,
	and anything you might have done that may have
	caused the error.<P>
	More information about this error may be available
	in the server error log.<P>
	<HR>
	<ADDRESS>Apache/1.3.20 Server <omitted> Port 80</ADDRESS>
	</BODY></HTML>

there is nothing in the apache error log for these types of responses.

sometimes i can and do return the constant apache.OK, but i do need to 
return http codes as integers in some cases.  do i have something 
misconfigured?  am i missing the boat somehow?   what's the difference 
between returning 200 and apache.OK?

i have RTFM, but i'm  not the brightest bulb in the bunch.  any help 
would be appreciated.

-troy


From riesch at nieuw.nl  Thu Aug  9 09:36:41 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 21:59:03 2004
Subject: [mod_python] The standard password dialog
Message-ID: <20010809093641.A23318@godel>

Hi there,


I'm implementing security now for my mod-python application. Now I don't want to use the standard 'authenhandler'.

So I was wondering if there is a way to invoke the user-login screen without going through the standard 'authenhandler'.


Any suggestions ?,
Richard

From seant at webreply.com  Thu Aug  9 11:07:31 2001
From: seant at webreply.com (Sean True)
Date: Fri Jan  9 21:59:03 2004
Subject: [mod_python] Redirecting transhandler example.
Message-ID: <MJEHLHJKGINLONDMMKNEAEGNDJAA.seant@webreply.com>

httpredirector.py is a mod_python implementation of some of the Apache URL
rewriting
module. Much more primitive, intended to be easily configurable and
modifiable,
and motivated by the AT&T/Mediaone system wide blockage of port 80 in
response to
the "code red" worm attack.

Note: to be useful in the "code red" scenario, you need to be running
mod_python
on a server that is not being blocked. Of course, the code can be used (or
changed)
to do other sorts of useful URL rewriting.

We deploy httpredirector.py on a production webserver somewhere, using
wildcard
virtualhost aliases to let the redirector get hold of a host, rewrite the
host to
one of our home machines using an unblocked port, such as 8080.

-- Sean
-------
Sean True
WebReply.Com, Inc.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Sean True.vcf
Type: text/x-vcard
Size: 309 bytes
Desc: not available
Url : http://mailman.modpython.org/pipermail/mod_python/attachments/20010809/6825c027/SeanTrue-0002.vcf
-------------- next part --------------
"""
httpredirector.py is a mod_python implementation of some of the Apache URL rewriting
module. Much more primitive, intended to be easily configurable and modifiable,
and motivated by the AT&T/Mediaone system wide blockage of port 80 in response to
the "code red" worm attack.

Note: to be useful in the "code red" scenario, you need to be running mod_python
on a server that is not being blocked. Of course, the code can be used (or changed)
to do other sorts of useful URL rewriting.

We deploy httpredirector.py on a production webserver somewhere, using wildcard
virtualhost aliases to let the redirector get hold of a host, rewrite the host to
one of our home machines using an unblocked port, such as 8080.


# --- Redirector site
<VirtualHost 10.0.0.1>
    ServerName redirector
    # Set up your DNS so that your public sites come here
    ServerAlias *.yourdomain.com
    PythonInterpreter phtml
    PythonTransHandler httpredirector
    PythonOption redirects {'yourdomain.com':'yourprivatedomain:8080'}
</VirtualHost>

Authors: Peter McA'Nulty and Sean True, WebReply.Com, Inc. Copyright (c) 2001
License: Use under the terms of the Python license: http://www.python.org/2.1.1/license.html
"""

from mod_python import apache
import sys, string

debug = 0
def transhandler(req):
    def log(s):
        sys.stderr.write("httpredirector: %s\n" % s)

    # Pick up the host field from the request
    # -- if HTTP 1.0, we're going to fail here
    try:
        host = req.headers_in['Host']
    except:
        log("didn't have 'HTTP_HOST' environment")
        return apache.DECLINED
    if debug:
        log(host)

    # Get the dictionary of redirect options from
    # httpd.conf
    opts = req.get_options()
    try:    
        redirects = opts['redirects']
    except:
        log("didn't have 'redirects' PythonOption")
        return apache.DECLINED
    try:    
        redirects = eval(redirects)
    except:
        log("'redirects' was not a valid dictionary [%s]" % `redirects`)
        return apache.DECLINED

    # This shouldn't fail. Belt, suspenders, ...
    uri = req.unparsed_uri
    if not uri:
        log("didn't have 'REQUEST_URI' environment")
        return apache.DECLINED

    # For each redirection option, search the host string for a target and
    # replace it. We stop after the first match, and redirect to the result.
    # This could be a list of regular expressions instead, but this will do for
    # now.
    keys = redirects.keys()
    for k in keys:
        if string.find(host, k) != -1:
            rehost = string.replace(host, k, redirects[k])
            req.headers_out['location'] = "http://%s%s" % (rehost, uri)
            req.status = apache.HTTP_MOVED_PERMANENTLY
            req.send_http_header()
            if debug: log("%s%s => %s%s" % (host,uri, rehost,uri))
            return apache.DONE
        
    log("didn't have matching redirect for %s" % host)
    return apache.DECLINED
    
    
From john at synchromesh.com  Fri Aug 10 11:29:29 2001
From: john at synchromesh.com (John Pallister)
Date: Fri Jan  9 21:59:03 2004
Subject: [mod_python] How is the Python version selected?
Message-ID: <3B731CD9.D2F62A8B@synchromesh.com>

Hello,

My system is Debian potato-based ('ray that package
dependency checking), and by and large sticking to Debian
packages wherever possible works very well for me.

I've installed python-* and python2-* packages, and now
/usr/bin/python gives me Python 1.5.2, and mod_python sees
Python 2.0.1.

I presume this is because the mod_python in
libapache-mod-python was linked against the Python in
python2-base. So there's no point in installing (say)
ActivePython's 2.1.1 .deb. I guess I should really build
Python 2.1.1, mod_python and Apache-SSL altogether from the
sources. This would also mean that I could also compile up
PygreSQL and/or PoPy, such that they actually work from
mod_python...

Can anyone comment on this summary, before I spend several
hours on this (and give up the advantages of the packages)?

And does anyone have an opinion on the ActiveState Python
stuff?

Cheers,

John :^P
--
John Pallister
john@synchromesh.com

From cuny at iie.cnam.fr  Fri Aug 10 01:44:54 2001
From: cuny at iie.cnam.fr (Mathieu Cuny)
Date: Fri Jan  9 21:59:03 2004
Subject: [mod_python] Question about publisher
Message-ID: <20010810014454.A3359@quark.estu.iie.cnam.fr>

Hello !

I made a small change in mod_python.publisher.handler, because i needed
a function with a variable number of arguments for using is with
different forms. I just added
<<
if expected:
>>
on line 124, which gives.

# remove unexpected args if some are expected. Do nothing if none were
# given.
# (that means the user wants to use a '**args' arg).
if expected:
        for name in args.keys():
                if name not in expected:
                        del args[name]

It enables functions like : f(**args) to be used with publisher.
I don't know if it is a good idea, but i really needed it...

Was there another way ?

From mike at mikebell.org  Thu Aug  9 23:13:25 2001
From: mike at mikebell.org (Mike Bell)
Date: Fri Jan  9 21:59:03 2004
Subject: [mod_python] How is the Python version selected?
In-Reply-To: <3B731CD9.D2F62A8B@synchromesh.com>
References: <3B731CD9.D2F62A8B@synchromesh.com>
Message-ID: <20010809231325.C28580@vaio.syntecor.com>

On Fri, Aug 10, 2001 at 11:29:29AM +1200, John Pallister wrote:
> I presume this is because the mod_python in
> libapache-mod-python was linked against the Python in
> python2-base. So there's no point in installing (say)
> ActivePython's 2.1.1 .deb. I guess I should really build
> Python 2.1.1, mod_python and Apache-SSL altogether from the
> sources. This would also mean that I could also compile up
> PygreSQL and/or PoPy, such that they actually work from
> mod_python...
> 
> Can anyone comment on this summary, before I spend several
> hours on this (and give up the advantages of the packages)?
> 
> And does anyone have an opinion on the ActiveState Python
> stuff?

Debian's packages will have been compiled with threads. Just compile your
own copy of python and mod_python and install the module. It shouldn't break
anything of debian's, because I can't recally any debian package that
depends on mod_python.


From nathan at vividworks.com  Mon Aug 13 11:15:39 2001
From: nathan at vividworks.com (Nathan Heagy)
Date: Fri Jan  9 21:59:03 2004
Subject: [mod_python] OS X Issue
Message-ID: <Pine.OSX.4.33.0108131113410.397-100000@vividworks.com>

I can't get mod_python working in Mac OS X because of the followin error
from apache after I've compiled and installed and modified the httpd.conf:

[Mon Aug 13 10:38:00 2001] [warn] Loaded DSO
/usr/libexec/httpd/mod_python.so uses plain Apache 1.3 API, this module
might crash under EAPI! (please recompile it with -DEAPI)

Any ideas are appreaciated.

nathan





From riesch at nieuw.nl  Tue Aug 14 14:26:55 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 21:59:03 2004
Subject: [mod_python] The python shelve
Message-ID: <20010814142655.A26494@godel>

Hi there,


This is probably not the best place to ask this, but I'll give it a try.

Does anyone have experience with the shelve-object supplied with python. It's probably just what i need, but i need to know if it's efficient.


My questions is:

On 'd = shelve.open("filename")', will all the classes stored in the shelve be loaded into the memory ? This is namely not what I want. Only those classes I need should be loaded.


Any info on this ?

Richard

From МОСТ at mail.ru  Tue Aug 14 20:40:13 2001
From: МОСТ at mail.ru (=?windows-1251?Q?=DE=F0=E8=E4=E8=F7=E5=F1=EA=E8=E9_=F6=E5=ED=F2=F0_=CC=CE=D1=D2?=)
Date: Fri Jan  9 21:59:03 2004
Subject: [mod_python] =?windows-1251?Q?=CD=C0=CB=CE=C3=CE=C2=C0=DF_=CF=CE=CB=C8=D6=C8=DF_=CD=C5_=C4=D0=C5=CC=CB=C5=D2_!!!?=
Message-ID: <1838920018214164013634@mail.ru>




-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010814/ae19b2a9/attachment-0002.htm
From mike at mikebell.org  Tue Aug 14 22:24:03 2001
From: mike at mikebell.org (Mike Bell)
Date: Fri Jan  9 21:59:03 2004
Subject: [mod_python] The python shelve
In-Reply-To: <20010814142655.A26494@godel>
References: <20010814142655.A26494@godel>
Message-ID: <20010814222402.H580@vaio.syntecor.com>

On Tue, Aug 14, 2001 at 02:26:55PM +0200, riesch@nieuw.nl wrote:
> On 'd = shelve.open("filename")', will all the classes stored in the
> shelve be loaded into the memory ? This is namely not what I want. Only
> those classes I need should be loaded.
 
No, they shouldn't be. It's just regular *dbm with pickled python objects in
the values. One thing you will want to be careful of when using it though is
locking, since you'll have many apache processes each running their own copy
of the mod_python script, you could easily run into corruption if you don't
lock the file correctly.

From vircum at yahoo.com  Wed Aug 15 07:59:58 2001
From: vircum at yahoo.com (=?iso-8859-1?q?michael=20bieniosek?=)
Date: Fri Jan  9 21:59:03 2004
Subject: [mod_python] Re: OS X Issue
In-Reply-To: <200108150440.f7F4e4D90422@eden.ispol.com>
Message-ID: <20010815055958.86412.qmail@web11505.mail.yahoo.com>

Are you using Apache 1.3.x?  I don't think Apache
2.0.x is supported.  I can't find any mention of EAPI
in Apache.

> I can't get mod_python working in Mac OS X because
> of the followin error
> from apache after I've compiled and installed and
> modified the httpd.conf:
> 
> [Mon Aug 13 10:38:00 2001] [warn] Loaded DSO
> /usr/libexec/httpd/mod_python.so uses plain Apache
> 1.3 API, this module
> might crash under EAPI! (please recompile it with
> -DEAPI)
> 
> Any ideas are appreaciated.


___________________________________________________________
Do You Yahoo!? -- Vos albums photos en ligne, 
Yahoo! Photos : http://fr.photos.yahoo.com

From mike at mikebell.org  Tue Aug 14 23:33:03 2001
From: mike at mikebell.org (Mike Bell)
Date: Fri Jan  9 21:59:03 2004
Subject: [mod_python] Re: OS X Issue
In-Reply-To: <20010815055958.86412.qmail@web11505.mail.yahoo.com>
References: <200108150440.f7F4e4D90422@eden.ispol.com> <20010815055958.86412.qmail@web11505.mail.yahoo.com>
Message-ID: <20010814233303.I580@vaio.syntecor.com>

On Wed, Aug 15, 2001 at 07:59:58AM +0200, michael bieniosek wrote:
> > I can't get mod_python working in Mac OS X because
> > of the followin error
> > from apache after I've compiled and installed and
> > modified the httpd.conf:
> > 
> > [Mon Aug 13 10:38:00 2001] [warn] Loaded DSO
> > /usr/libexec/httpd/mod_python.so uses plain Apache
> > 1.3 API, this module
> > might crash under EAPI! (please recompile it with
> > -DEAPI)
> > 
> > Any ideas are appreaciated.

Search the archives, "Makefile DEAPI mod_python" on google found it for me
first link.
http://www.modpython.org/pipermail/mod_python/2001-March/001189.html

From delirious at atchoo.be  Wed Aug 15 13:54:28 2001
From: delirious at atchoo.be (Simon Vandemoortele)
Date: Fri Jan  9 21:59:03 2004
Subject: [mod_python] mod_python VS threaded Python
Message-ID: <01081513542800.23612@shinsekai>

When configuring mod_python (dso) I get the warning:
"""
****** WARNING ******
  Python is compiled with thread support. Apache 1.3 does not use threads.
"""
like everyone else ... except for the fact that my apache crashes when I 
start it (segmentation fault). I've browsed the archive, read the mod_python 
manual and decided to install a second, unthreaded python:
"./configure --with-python=/usr/share/doc/packages/python_nt" gives:

checking for --with-python... /usr/share/doc/packages/python_nt
checking for python... (cached) /usr/bin/python
checking Python version... 2.0
checking whether Python is compiled with thread support... yes  

In other words: the configure script uses my default python (the one with 
threads) instead of /usr/share/doc/packages/python_nt/python .... This not 
what I want !

Did I do something wrong ? How do I fix this ?


Thx, Simon

From riesch at nieuw.nl  Wed Aug 15 15:12:36 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 21:59:03 2004
Subject: [mod_python] The python shelve
In-Reply-To: <20010814222402.H580@vaio.syntecor.com>; from mike@mikebell.org on Tue, Aug 14, 2001 at 10:24:03PM -0700
References: <20010814142655.A26494@godel> <20010814222402.H580@vaio.syntecor.com>
Message-ID: <20010815151236.A16090@godel>

Hi thanks for the answer,


I've done a bit of checking and I'm sufficiently convinced that only those objects I need are being unpickled.

About your hint with the file-locking. I've dived into the python-docs and the man-pages on system-calls, but I'm not able to figure out how this locking is done. Thus far I've come up with the following solution:

desc = open('file', 'w')
fcntl.flock(desc.fileno(), FCNTL.LOCK_EX)

# operations on the file

fcntl.flock(desc.fileno(), FCNTL.LOCK_UN)
desc.close()

This obtains the lock, but it's not released. So when I next try to open the file and obtain the lock, my app hangs.


How to solve this ?,
Richard

From nathan at vividworks.com  Wed Aug 15 09:28:22 2001
From: nathan at vividworks.com (Nathan Heagy)
Date: Fri Jan  9 21:59:03 2004
Subject: [mod_python] Re: OS X Issue
In-Reply-To: <20010814233303.I580@vaio.syntecor.com>
Message-ID: <Pine.OSX.4.33.0108150928001.7979-100000@vividworks.com>

Akk. I couldn't figure out hwo to search the archives.

I love google.

nathan




On Tue, 14 Aug 2001, Mike Bell wrote:

> On Wed, Aug 15, 2001 at 07:59:58AM +0200, michael bieniosek wrote:
> > > I can't get mod_python working in Mac OS X because
> > > of the followin error
> > > from apache after I've compiled and installed and
> > > modified the httpd.conf:
> > >
> > > [Mon Aug 13 10:38:00 2001] [warn] Loaded DSO
> > > /usr/libexec/httpd/mod_python.so uses plain Apache
> > > 1.3 API, this module
> > > might crash under EAPI! (please recompile it with
> > > -DEAPI)
> > >
> > > Any ideas are appreaciated.
>
> Search the archives, "Makefile DEAPI mod_python" on google found it for me
> first link.
> http://www.modpython.org/pipermail/mod_python/2001-March/001189.html
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From nathan at vividworks.com  Wed Aug 15 10:05:08 2001
From: nathan at vividworks.com (Nathan Heagy)
Date: Fri Jan  9 21:59:03 2004
Subject: [mod_python] Re: OS X Issue
In-Reply-To: <20010814233303.I580@vaio.syntecor.com>
Message-ID: <Pine.OSX.4.33.0108151004330.8260-100000@vividworks.com>

Right. New error:

dyld: /usr/sbin/httpd Undefined symbols:
d_of_line
rcase_version
rch_history

And I tried searching the archives, with no success.


nathan




On Tue, 14 Aug 2001, Mike Bell wrote:

> On Wed, Aug 15, 2001 at 07:59:58AM +0200, michael bieniosek wrote:
> > > I can't get mod_python working in Mac OS X because
> > > of the followin error
> > > from apache after I've compiled and installed and
> > > modified the httpd.conf:
> > >
> > > [Mon Aug 13 10:38:00 2001] [warn] Loaded DSO
> > > /usr/libexec/httpd/mod_python.so uses plain Apache
> > > 1.3 API, this module
> > > might crash under EAPI! (please recompile it with
> > > -DEAPI)
> > >
> > > Any ideas are appreaciated.
>
> Search the archives, "Makefile DEAPI mod_python" on google found it for me
> first link.
> http://www.modpython.org/pipermail/mod_python/2001-March/001189.html
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From kitwetzler at mindspring.com  Thu Aug 16 15:33:18 2001
From: kitwetzler at mindspring.com (Kit Wetzler)
Date: Fri Jan  9 21:59:03 2004
Subject: [mod_python] help with python_handler: make_obcallback returned no obCallBack!
Message-ID: <KFEJJEKBBDGMIMMHAEAFKEOKCMAA.kitwetzler@mindspring.com>

argh.  I've been reading the archives, and I can't find a solution to this
problem.  I apologize, I am a new python/mod_python user.  Sorry, I know the
last thing you guys want to answer is a newbie install question...

But... here's results from telnetting to port 80...

	HTTP/1.1 200 OK
	Date: Fri, 17 Aug 2001 00:46:55 GMT
	Server: Apache/1.3.14 (Unix)  (Red-Hat/Linux) PHP/4.0.4 mod_python/2.7.1
Python/2.0
	Connection: close
	Content-Type: text/html


I have installed the rpm of mod_python/2.7.1, because I couldn't get the
2.7.6 distro installed properly.  (it compiled ok, but apache kept seg
faulting, with the module as a DSO)  I have the standard Redhat 6.2 distro
installed on the machine, with python 1.5.2 installed.

In httpd.conf, I have:

#
# Adds Python Stuff
#
    AddHandler python-program .py
    PythonHandler mptest
    PythonDebug on
</Directory>

As part of my main <Directory /home/httpd/html> directive.  (Is that ok to
do?)  I got the same error with a seperate python directory directive.
Running mptest.py in the /home/httpd/html/python directory gives me the
dreaded make_obcallback error.

I'm at a loss.  :)  Please help!

thanks all.

	-kit wetzler







From e_business at getresponse.com  Mon Aug 20 16:39:04 2001
From: e_business at getresponse.com (SUPER-OFFER)
Date: Fri Jan  9 21:59:03 2004
Subject: [mod_python] , На рынке это стоит в 3 - 5 и даже в 10 раз дороже, чем предлагаем Мы !!!
Message-ID: <200108202039.f7KKd3D86746@eden.ispol.com>

??????, 

(Cyrillic-1251 )


               SUPER - ???????????!

               ???? E-mail ???????.
               1 ??????? 300 ????? ??????? ? ???? ????????? ??????.
               ?????? -  70% ?????????? ???????????? ? ???????????, ? 30% - ???????????.
               ??? ?????? - ??? ?????-???? ???? ??????, ????? ?????? e-mail ??????.

               ?????? ?? "??????" !

               ? ?????? ????? ??????? :

               ???????? ???? ????, ?? ??????? ?? ?????? ?????????? ??? ???? E-MAIL ???????, ? ???????, ?? ?????? ??????, ??? ???????  ! ! !

               ?? ?? ?????????? ?????????, ?? ???? ??????? ?????? E-Mail ???????.

               ?????? ?????? ?? WebMoney, ??? E-Gold

               ? ????? ???????????? ?????? ?? ????????????! ?????? ????????, ???? ?? ? ???? ??????, ?? ? ??????? 2-? ???? - ????? !
               ??? ?? ?????, ???? ? ???, ??? ??, ????????? ???????? ? ?.?. , ?? ???? ??????????? ??????????? ??????? ???? (?? ??????? ?? WebMoney ????? ????? ? ?????????? ???????, ? ????? ????????? ????? ??????? ????????? ???, ? ?.?. ???? ?? ?????? ???? ??????).

----------------------------
               ?? ????????? ?????? ?????? ? ?? ????????? ?????? ?????. ????????, ???? ???-?? ?????? ???????? ? ???????? ???? ???? ?? ?????? ???????.

               ????? ?? e-mail : mlm_info2005@yahoo.com
               ?????, ???? ?? ??????? ?????? ????????? ?? ???????, ?????????? ?????, ??????? ?????? ? ??????????? ????????? ?????.

----------------------------

1 Million 300 thousand e-mail addresses
It is the list of the E-Mail addresses, as the TXT-files.

The payment ONLY via WebMoney or via E-Gold:

We will send for You the e-mail list within 2 days period after Your payment for Us.

Offer Your own price for Us for this e-mail list !!!
-------------- next part --------------
A non-text attachment was scrubbed...
Name: svyaz.txt
Type: application/octet-stream
Size: 124 bytes
Desc: not available
Url : http://mailman.modpython.org/pipermail/mod_python/attachments/20010820/9cadc4b9/svyaz-0002.obj
From jfk at informaticon.dk  Tue Aug 21 09:45:04 2001
From: jfk at informaticon.dk (=?iso-8859-15?q?J=F8rgen=20Fr=F8jk=20Kj=E6rsgaard?=)
Date: Fri Jan  9 21:59:03 2004
Subject: [mod_python] Problems using Postgres 7.1 from mod_python
Message-ID: <01082109450400.01002@adele>

Hi,

I'm having problems using a Postgres 7.1 database under FreeBSD 4.3 from 
Python 2.1.1/mod_python. I have tried using PyGreSQL. In the lastest port 
version, PyGreSQL simply crashes Python when I import it. Then I tried 
downgrading to Python 2.1. PyGreSQL now works from Python without mod_python, 
but in mod_python, it crashes when it is imported! Any ideas?

PyGreSQL seems to be unstable. It may be better to use another interface but 
it seems like the alternatives require threading, which doesn't wotk with 
mod_python.

Regards,

J?rgen Fr?jk Kj?rsgaard, Systemkonsulent (Systems Consultant)
Informaticon ApS * Web: www.informaticon.dk * Tlf: +45 8672 0093
Internet programmering * Systemudvikling p? Linux, FreeBSD og PalmOS

From bl at netgroup.dk  Tue Aug 21 10:40:50 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 21:59:03 2004
Subject: [mod_python] Problems using Postgres 7.1 from mod_python
References: <01082109450400.01002@adele>
Message-ID: <3B821E92.C5743F19@netgroup.dk>

J?rgen Fr?jk Kj?rsgaard wrote:

> I'm having problems using a Postgres 7.1 database under FreeBSD 4.3 from
> Python 2.1.1/mod_python. I have tried using PyGreSQL. In the lastest port
> version, PyGreSQL simply crashes Python when I import it. Then I tried
> downgrading to Python 2.1. PyGreSQL now works from Python without mod_python,
> but in mod_python, it crashes when it is imported! Any ideas?

Are your sure you dont mix two differant postgres libs, so that you load an old
one when using apache modules an the right one when starting up normally ? I
have tried this, and I took me long time to find it, and I only got myself to
blame :-)

> PyGreSQL seems to be unstable. It may be better to use another interface but
> it seems like the alternatives require threading, which doesn't wotk with
> mod_python.

I have been using "psycopg" with good results, but not on a BSD but on Linux.
The is the latest Python/postgresql bridge project and it work greate for me.

Hope this help

/BL


From jfk at informaticon.dk  Tue Aug 21 11:09:30 2001
From: jfk at informaticon.dk (=?iso-8859-1?q?J=F8rgen=20Fr=F8jk=20Kj=E6rsgaard?=)
Date: Fri Jan  9 21:59:04 2004
Subject: [mod_python] Problems using Postgres 7.1 from mod_python
In-Reply-To: <3B821E92.C5743F19@netgroup.dk>
References: <01082109450400.01002@adele> <3B821E92.C5743F19@netgroup.dk>
Message-ID: <01082111093002.01002@adele>

Tirsdag 21. August 2001 10:40 skrev du:
> J?rgen Fr?jk Kj?rsgaard wrote:
> > I'm having problems using a Postgres 7.1 database under FreeBSD 4.3 from
> > Python 2.1.1/mod_python. I have tried using PyGreSQL. In the lastest port
> > version, PyGreSQL simply crashes Python when I import it. Then I tried
> > downgrading to Python 2.1. PyGreSQL now works from Python without
> > mod_python, but in mod_python, it crashes when it is imported! Any ideas?
>
> Are your sure you dont mix two differant postgres libs, so that you load an
> old one when using apache modules an the right one when starting up
> normally ? I have tried this, and I took me long time to find it, and I
> only got myself to blame :-)

I don't think so, but I'll have to investigate it carefully...

> > PyGreSQL seems to be unstable. It may be better to use another interface
> > but it seems like the alternatives require threading, which doesn't wotk
> > with mod_python.
>
> I have been using "psycopg" with good results, but not on a BSD but on
> Linux. The is the latest Python/postgresql bridge project and it work
> greate for me.

Hmm.. If I understand things correctly (I'm new to mod_python) mod_python 
requires that Python is built without thread support, whereas psycopg 
requires a Python interpreter with threads. Is it possible for psycopg and 
mod_python to work together?

regards

J?rgen Fr?jk Kj?rsgaard, Systemkonsulent (Systems Consultant)
Informaticon ApS * Web: www.informaticon.dk * Tlf: +45 8672 0093
Internet programmering * Systemudvikling p? Linux, FreeBSD og PalmOS

From bl at netgroup.dk  Tue Aug 21 11:22:29 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 21:59:04 2004
Subject: [mod_python] Problems using Postgres 7.1 from mod_python
References: <01082109450400.01002@adele> <3B821E92.C5743F19@netgroup.dk> <01082111093002.01002@adele>
Message-ID: <3B822855.999D2618@netgroup.dk>

J?rgen Fr?jk Kj?rsgaard wrote:

> Hmm.. If I understand things correctly (I'm new to mod_python) mod_python
> requires that Python is built without thread support, whereas psycopg
> requires a Python interpreter with threads. Is it possible for psycopg and
> mod_python to work together?

Well, Apache 1.3.x does not support threads, and the mod_python code therefor
dont work with threads, at least as expected :-)

I'm not an expert on using mod_python, but this is how I see it :-)

On some platforms this thread support need to be disabled (solaris ?), but on
the Linux platform its not.

/BL




From paul at gudge.demon.co.uk  Tue Aug 21 14:19:54 2001
From: paul at gudge.demon.co.uk (Paul Goodyear)
Date: Fri Jan  9 21:59:04 2004
Subject: [mod_python] Inline python on Apache
Message-ID: <001701c12a43$ff71ad60$6501a8c0@cheesemakers.net>

I have been trying to get the mod_python.dll working but have given up.

I have tryind the following

LoadModule python_module modules/mod_python.dll

in the httpd.conf and also tried the line

AddType application/x-httpd-py .py

but am not sure this was correct.

The .py file refused to work, all I get is the "Internal Server Error"

So I have set it up as CGI and HAVE to put the #!/Python21/python at the top of every .py file.

I have been using PHP for over a year and Python as well on ISS 5 but since i've moved to Apache I can't get the Python module working.

Can anyone shed some light.

system:
Windows 2000 Server (SP2)
Apache 1.3.20
PHP 4.0.6
Python 2.1.1

regards

paul goodyear
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010821/9d42650b/attachment-0002.htm
From lsmith at thinkstream.com  Tue Aug 21 08:57:10 2001
From: lsmith at thinkstream.com (Lindsey Smith)
Date: Fri Jan  9 21:59:04 2004
Subject: [mod_python] Inline python on Apache
References: <001701c12a43$ff71ad60$6501a8c0@cheesemakers.net>
Message-ID: <006001c12a59$f0194b50$103fa3ce@ts.thinkstream.com>

Paul,

I had difficulties getting it to run with a similar setup as well. One thing you could do is making sure that the mod_python lib subdirectory under your python21/lib (or whatever) directory is named "mod_python" and not "mod_python_v1.2.3.whatever". This snagged me for a while.

- Lindsey Smith
  ----- Original Message ----- 
  From: Paul Goodyear 
  To: mod_python@modpython.org 
  Sent: Tuesday, August 21, 2001 6:19 AM
  Subject: [mod_python] Inline python on Apache


  I have been trying to get the mod_python.dll working but have given up.

  I have tryind the following

  LoadModule python_module modules/mod_python.dll

  in the httpd.conf and also tried the line

  AddType application/x-httpd-py .py

  but am not sure this was correct.

  The .py file refused to work, all I get is the "Internal Server Error"

  So I have set it up as CGI and HAVE to put the #!/Python21/python at the top of every .py file.

  I have been using PHP for over a year and Python as well on ISS 5 but since i've moved to Apache I can't get the Python module working.

  Can anyone shed some light.

  system:
  Windows 2000 Server (SP2)
  Apache 1.3.20
  PHP 4.0.6
  Python 2.1.1

  regards

  paul goodyear
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010821/faaa8c15/attachment-0002.htm
From jfk at informaticon.dk  Wed Aug 22 15:02:21 2001
From: jfk at informaticon.dk (=?iso-8859-1?q?J=F8rgen=20Fr=F8jk=20Kj=E6rsgaard?=)
Date: Fri Jan  9 21:59:04 2004
Subject: [mod_python] Problems using Postgres 7.1 from mod_python
In-Reply-To: <3B821E92.C5743F19@netgroup.dk>
References: <01082109450400.01002@adele> <3B821E92.C5743F19@netgroup.dk>
Message-ID: <01082215022102.01002@adele>

Tirsdag 21. August 2001 10:40 skrev Bo Lorentsen:
> J?rgen Fr?jk Kj?rsgaard wrote:
> > I'm having problems using a Postgres 7.1 database under FreeBSD 4.3 [...]
>
> Are your sure you dont mix two differant postgres libs [...]

PyGreSQL 3.1 doesn't seem to work on FreeBSD with Python 2.1.1 at all. I got 
one step closer to a solutioin by upgrading to PyGreSQL 3.2. I still get an 
error when importing, though:

[Wed Aug 22 14:58:28 2001] [error] PythonHandler mod_python.publisher:   File 
"/usr/local/lib/python2.1/site-packages/mx/DateTime/__init__.py", line 40, in 
? class modinit:
[Wed Aug 22 14:58:28 2001] [error] PythonHandler mod_python.publisher:   File 
"/usr/local/lib/python2.1/site-packages/mx/DateTime/__init__.py", line 50, in 
modinit_DT)
[Wed Aug 22 14:58:28 2001] [error] PythonHandler mod_python.publisher:   File 
"/usr/local/lib/python2.1/copy_reg.py", line 16, in pickle raise 
TypeError("copy_reg is not intended for use with classes")
[Wed Aug 22 14:58:28 2001] [error] PythonHandler mod_python.publisher: 
TypeError: copy_reg is not intended for use with classes

This error doesn't occur when using PyGreSQL without mod_python. I only have 
one version of everything installed, so it's not because a wrong version of 
something is accessed from mod_python.

regards,

J?rgen Fr?jk Kj?rsgaard, Systemkonsulent (Systems Consultant)
Informaticon ApS * Web: www.informaticon.dk * Tlf: +45 8672 0093
Internet programmering * Systemudvikling p? Linux, FreeBSD og PalmOS

From bl at netgroup.dk  Wed Aug 22 16:43:08 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 21:59:04 2004
Subject: [mod_python] Problems using Postgres 7.1 from mod_python
References: <01082109450400.01002@adele> <3B821E92.C5743F19@netgroup.dk> <01082215022102.01002@adele>
Message-ID: <3B83C4FC.A9A64372@netgroup.dk>

J?rgen Fr?jk Kj?rsgaard wrote:

> This error doesn't occur when using PyGreSQL without mod_python. I only have
> one version of everything installed, so it's not because a wrong version of
> something is accessed from mod_python.

Sorry can't help, I'm using Python 1.5.2 and psycopg on Debian Linux and it work
great. Your env. are too different from my setup to give any qualified
suggestions.

/BL


From woodm at equire.com  Wed Aug 22 09:14:08 2001
From: woodm at equire.com (Matthew D. Wood)
Date: Fri Jan  9 21:59:04 2004
Subject: [mod_python] Data Base Drivers
Message-ID: <3B83CC40.8010405@equire.com>

So, I've been trying to find a good connection module for PostgreSQL and 
Python.

There appears to be a bunch out there (PyGreSQL, PoPy, ...) but I have 
no idea which ones are better than others.

Unfortunately, most people on the lists that deal with such issues (the 
PyGreSQL list for example) tend to be VERY one sided and thus obtaining 
actual information is quite difficult.  Thus, I pose the question to the 
mod-python list in hopes that someone uses PostgreSQL and that there can 
be a reasonable discussion regarding the quality of the connection modules.


The second question I have is in regards to thread-safety and how it 
relates to multiple data-base connections (caused by multiple servers 
that apache runs).  The Python SIG on database connections gives a 
thread-safety parameter which is to be assigned a value of 1 to 4.  I 
believe that 4 is "Iron Clad" in that you will NOT screw up the data in 
your database no matter what.  And a 1 states that threads are not dealt 
with intelligently, use at your own risk.


I don't understand much of what the intermediate levels (2, 3) are all 
about.  What should be required for the multiple connections caused by 
multiple servers?  "Will a thread-safety level of 3 be sufficient to 
prevent problems, or do I need to find a connection that is a full blown 
4?"


From riesch at nieuw.nl  Fri Aug 24 10:12:44 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 21:59:04 2004
Subject: [mod_python] Authentication
Message-ID: <20010824101244.A29899@godel>

Hi there,


I'm using the standard authentication now (with the authenhandler). This all works fine, but I can't seem to figure out how to let a user logout. I've tried to pass information about logout with the url. Something like:

http://www.site.com/?logout

def authenhandler(req):
   form = util.FieldStorage(req, keep_blank_values=1)

   if form.has_key(logout):
      return apache.HTTP_UNAUTHORIZED

   pw   = req.get_basic_auth_pw()
   user = req.connection.user
   if correct_user(user, pw):
      return apache.OK
   else:
      return apache.HTTP_UNAUTHORIZED



Unfortunately, this has the following effects:
-
The dialog pops up, even if the user is entering an area that's not protected. Not a very nice sollution, but workable (perhaps)
-
The url stays the same, which causes that the 'form' keeps logout-key. This results in repeatedly returing of HTTP_UNAUTHORIZED.


Does anyone have experience with this, or have some hints or thoughts ?


Thanks ahead,
Richard

From R.Barrett at ftel.co.uk  Fri Aug 24 10:09:26 2001
From: R.Barrett at ftel.co.uk (Richard Barrett)
Date: Fri Jan  9 21:59:04 2004
Subject: [mod_python] Authentication
In-Reply-To: <20010824101244.A29899@godel>
Message-ID: <5.1.0.14.2.20010824094552.035c9b30@pop.ftel.co.uk>

Unfortunately there is nothing in HTTP (the protocol) that lets a server 
tell a client browser to "forget" the basic authentication credentials it 
has acquired from the user for a given Realm. And while it has those 
credentials, the client browser will continue to attach them to any request 
it makes to the server for a relevant URL.

The mistake is to view HTTP basic authentication as being a login process 
and as a consequence conclude there should be a complementary logout 
process. The authentication model for HTTP allows the server to demand some 
credentials from a user and have those credentials attached to subdsequent 
accesses to the server. If the user hasn't changed why does he need to log 
out?

As you have noted, you can trigger a re-authentication which, if the user 
cancels it, leads to the browser "forgetting" the credentials it has 
associated with the Realm. But this is the best you can do.

The only way to implement a conventional login/logout style is to use an 
HTML form to capture the login credentials, return some identification info 
in a cookie accompanying the response to the form input and specify the 
cookie so that it is attached to subsequent HTTP requests to the server. 
The advantage of this is that a logout process can, in effect, tell the 
browser to destroy cookie by setting its expiry date.

Before deciding which way to deal with this, ask yourself: why does the 
dialogue between the user and your server require a logout.

At 10:12 24/08/2001 +0200, riesch@nieuw.nl wrote:
>Hi there,
>
>
>I'm using the standard authentication now (with the authenhandler). This 
>all works fine, but I can't seem to figure out how to let a user logout. 
>I've tried to pass information about logout with the url. Something like:
>
>http://www.site.com/?logout
>
>def authenhandler(req):
>    form = util.FieldStorage(req, keep_blank_values=1)
>
>    if form.has_key(logout):
>       return apache.HTTP_UNAUTHORIZED
>
>    pw   = req.get_basic_auth_pw()
>    user = req.connection.user
>    if correct_user(user, pw):
>       return apache.OK
>    else:
>       return apache.HTTP_UNAUTHORIZED
>
>
>
>Unfortunately, this has the following effects:
>-
>The dialog pops up, even if the user is entering an area that's not 
>protected. Not a very nice sollution, but workable (perhaps)
>-
>The url stays the same, which causes that the 'form' keeps logout-key. 
>This results in repeatedly returing of HTTP_UNAUTHORIZED.
>
>
>Does anyone have experience with this, or have some hints or thoughts ?
>
>
>Thanks ahead,
>Richard


From benno at sesgroup.net  Fri Aug 24 19:34:35 2001
From: benno at sesgroup.net (Ben Leslie)
Date: Fri Jan  9 21:59:04 2004
Subject: [mod_python] Authentication
In-Reply-To: <20010824101244.A29899@godel>
References: <20010824101244.A29899@godel>
Message-ID: <20010824193434.A17455@lister.sesgroup.net>

On Fri, 24 Aug 2001, riesch@nieuw.nl wrote:

> Hi there,
> 
> 
> I'm using the standard authentication now (with the authenhandler). 
> This all works fine, but I can't seem to figure out how to let a user logout.

They close the browser.

Ben

From peter at webreply.com  Fri Aug 24 08:32:46 2001
From: peter at webreply.com (Peter McA'Nulty)
Date: Fri Jan  9 21:59:04 2004
Subject: [mod_python] Authentication
References: <20010824101244.A29899@godel>
Message-ID: <000d01c12c98$e139d780$81a310ac@bogusdomain.com>

> ...even if the user is entering an area that's not protected. Not a very
nice sollution, but workable (perhaps)

The standard way of handling protected and unprotected data is something
like the config below.  You put protected files in one directory tree and
unprotected files in another tree (usually, the unprotected files include
all/most of your images, your css, etc)

<directory /apache/htdocs/vhostdir>
    PythonHandler pyhandler
    AddHandler python-program .py .phtml

    <directory /apache/htdocs/vhostdir/protected>
        PythonAuthenHandler authenhandler
        AuthType Basic
        AuthName "admin.dthk2"
        require valid-user
    </directory>

    <directory /apache/htdocs/vhostdir/UNprotected>
    </directory>
</directory>


----- Original Message -----
From: <riesch@nieuw.nl>
To: <mod_python@modpython.org>
Sent: Friday, August 24, 2001 4:12 AM
Subject: [mod_python] Authentication


> Hi there,
>
>
> I'm using the standard authentication now (with the authenhandler). This
all works fine, but I can't seem to figure out how to let a user logout.
I've tried to pass information about logout with the url. Something like:
>
> http://www.site.com/?logout
>
> def authenhandler(req):
>    form = util.FieldStorage(req, keep_blank_values=1)
>
>    if form.has_key(logout):
>       return apache.HTTP_UNAUTHORIZED
>
>    pw   = req.get_basic_auth_pw()
>    user = req.connection.user
>    if correct_user(user, pw):
>       return apache.OK
>    else:
>       return apache.HTTP_UNAUTHORIZED
>
>
>
> Unfortunately, this has the following effects:
> -
> The dialog pops up, even if the user is entering an area that's not
protected. Not a very nice sollution, but workable (perhaps)
> -
> The url stays the same, which causes that the 'form' keeps logout-key.
This results in repeatedly returing of HTTP_UNAUTHORIZED.
>
>
> Does anyone have experience with this, or have some hints or thoughts ?
>
>
> Thanks ahead,
> Richard
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From iwan at vanderkleyn.com  Tue Aug 28 10:08:40 2001
From: iwan at vanderkleyn.com (Iwan van der Kleyn)
Date: Fri Jan  9 21:59:04 2004
Subject: [mod_python] Getting modpython to work on Linux Mandrake 8.0?
Message-ID: <DNEPIPEBAKJOGPIPGPDNGEOHCBAA.iwan@vanderkleyn.com>

Hi there,

Has anyone been able to get modpython to work on Linux Mandrake 8.o? I've
installed it succesfully under previous versions of Mandrake, but no
luck with the latest.

I've compiled and installed Python v2.1 without thread support and
succesfully compiled modpython 2.7.6 and installed it into Apache as a DSO.
No error messages in the logfiles, so presumably that worked fine.

Then I had to configure commonhttpd.conf to include the <Directory> tag.
No succes here, because no matter what, apache/modpython failed to
detect the PythonHandler keyword. Changing the <Directory> into the
<Location> tag did work. Apache started wihout a problem, the Python
interpreter was loaded, but reported an errormessage because it couldn't
find the handler in its path. Using the PaythonPath keyword didn't help.
So I can only guess that this version of Apache uses a different way of
configuring
than which is mentioned in the modpython documentation.

So after trying for a day or so, I'm ready to give up and go back to
Tomcat :-)

If anyone did get modpython to work on Mandrake 8, I would be very
gratefull if he or she would share this information with me. I guess I would
already be helped by the correct commonhttpd.conf entries.

Regards,

Iwan



From Ares.liu at Clarent.com  Tue Aug 28 18:07:33 2001
From: Ares.liu at Clarent.com (Ares Liu)
Date: Fri Jan  9 21:59:04 2004
Subject: [mod_python] why not release modpython 2.7.6 binary on windows?
Message-ID: <000a01c12fa9$41d2d840$34461e0a@clarent.com>

The official site only has 2.7.4 of python21-apache1.3.20 on windows
binary. I need 2.7.6 of python 2.1.1-apache 1.3.20 on win98/me binary.
:-)
Ares Liu
 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010828/c21b9bf2/attachment-0002.htm
From tree at basistech.com  Tue Aug 28 06:44:59 2001
From: tree at basistech.com (Tom Emerson)
Date: Fri Jan  9 21:59:04 2004
Subject: [mod_python] Getting modpython to work on Linux Mandrake 8.0?
In-Reply-To: <DNEPIPEBAKJOGPIPGPDNGEOHCBAA.iwan@vanderkleyn.com>
References: <DNEPIPEBAKJOGPIPGPDNGEOHCBAA.iwan@vanderkleyn.com>
Message-ID: <15243.30251.554354.295650@magrathea.basistech.com>

Iwan van der Kleyn writes:
> I've compiled and installed Python v2.1 without thread support and
> succesfully compiled modpython 2.7.6 and installed it into Apache as a DSO.
> No error messages in the logfiles, so presumably that worked fine.

You can tell if it really worked by looking in the server's error log
right after you restart the server. On my FreeBSD system I get:

# /opt/www/bin/apachectl restart
/opt/www/bin/apachectl restart: httpd restarted 
# tail /opt/www/logs/error_log
...
[Tue Aug 28 06:37:46 2001] [notice] SIGHUP received.  Attempting to restart
[Tue Aug 28 06:37:46 2001] [notice] Apache/1.3.19 (Unix) mod_loopback/1.2
    PHP/4.0.4pl1 mod_python/2.7.5 Python/2.0 configured -- resuming normal
    operations

If you don't see the mod_python entry then the DSO isn't registered.

Make sure the lines:

LoadModule python_module     libexec/mod_python.so
AddModule mod_python.c

are in your configuration file.

> No succes here, because no matter what, apache/modpython failed to
> detect the PythonHandler keyword. Changing the <Directory> into the
> <Location> tag did work. Apache started wihout a problem, the Python
> interpreter was loaded, but reported an errormessage because it couldn't
> find the handler in its path. Using the PaythonPath keyword didn't help.
> So I can only guess that this version of Apache uses a different way of
> configuring than which is mentioned in the modpython documentation.

OK, so it sounds like the DSO is loading OK. Is the mod_python package
in your Python interpreter's load path? Do you have more than one copy
of Python on the machine? In the past I've had problems in that
situation.

Can you send the precise errors reported in the error_log and, if
applicable, in your messages file?

FWIW, I make use of mod_python in both <Directory> and <Location>
directives, using both SetHandler and AddHandler.

> So after trying for a day or so, I'm ready to give up and go back to
> Tomcat :-)

Ugh, anything but that. :-)

Sorry I can't offer more right now.

    -tree

-- 
Tom Emerson                                          Basis Technology Corp.
Sr. Sinostringologist                              http://www.basistech.com
  "Beware the lollipop of mediocrity: lick it once and you suck forever"

From piet at cs.uu.nl  Tue Aug 28 17:14:18 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:59:04 2004
Subject: [mod_python] why not release modpython 2.7.6 binary on windows?
In-Reply-To: Ares Liu's message of "Tue, 28 Aug 2001 18:07:33 +0800"
References: <000a01c12fa9$41d2d840$34461e0a@clarent.com>
Message-ID: <ulmk4dxo5.fsf@cs.uu.nl>

>>>>> Ares Liu <Ares.liu@Clarent.com> (AL) writes:

AL> The official site only has 2.7.4 of python21-apache1.3.20 on windows
AL> binary. I need 2.7.6 of python 2.1.1-apache 1.3.20 on win98/me binary.
AL> :-)
AL> Ares Liu
 
I have a compiled dll of 2.7.6 for Win32 .

-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From jholland at tomsw.com  Tue Aug 28 13:53:00 2001
From: jholland at tomsw.com (John Holland)
Date: Fri Jan  9 21:59:04 2004
Subject: [mod_python] installation
Message-ID: <20010828135300.A18639@tomsw.com>

This is probalby something really dumb but...

I compile modpython as a DSO, it seems to load fine, I create a /py
dir off of DocumentRoot, put a test.py type thing in there, and ...

the webserver just returns the contents of the script. I setup the <Directory>
stuff as in the install instructions - what am I missing or doing wrong?

John Holland

From sebastien.deleersnyder at be.unisys.com  Tue Aug 28 13:14:40 2001
From: sebastien.deleersnyder at be.unisys.com (Deleersnyder, Sebastien)
Date: Fri Jan  9 21:59:04 2004
Subject: [mod_python] installation
Message-ID: <3995C58A11F7D211A7EE00105AC580980192DC8F@BE-BRU-EXCH-2>

John

Weird.
Could you send the conf file content?
Something should be missing there.
Also: do you see that the mod_pythons module is loaded when
Apache (re)starts?

regards,

Sebastien

-----Original Message-----
From: John Holland [mailto:jholland@tomsw.com]
Sent: dinsdag 28 augustus 2001 19:53
To: mod_python@modpython.org
Subject: [mod_python] installation



This is probalby something really dumb but...

I compile modpython as a DSO, it seems to load fine, I create a /py
dir off of DocumentRoot, put a test.py type thing in there, and ...

the webserver just returns the contents of the script. I setup the
<Directory>
stuff as in the install instructions - what am I missing or doing wrong?

John Holland
_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From jholland at tomsw.com  Tue Aug 28 14:31:12 2001
From: jholland at tomsw.com (John Holland)
Date: Fri Jan  9 21:59:04 2004
Subject: [mod_python] installation
In-Reply-To: <3995C58A11F7D211A7EE00105AC580980192DC8F@BE-BRU-EXCH-2>; from sebastien.deleersnyder@be.unisys.com on Tue, Aug 28, 2001 at 01:14:40PM -0500
References: <3995C58A11F7D211A7EE00105AC580980192DC8F@BE-BRU-EXCH-2>
Message-ID: <20010828143112.A18924@tomsw.com>

I fixed it - it must have been a typo I wasn't seeing or something.
Hello World is just fine now, now on to whatever modpython holds.....


Thanks again

John

On Tue, Aug 28, 2001 at 01:14:40PM -0500, Deleersnyder, Sebastien wrote:
> John
> 
> Weird.
> Could you send the conf file content?
> Something should be missing there.
> Also: do you see that the mod_pythons module is loaded when
> Apache (re)starts?
> 
> regards,
> 
> Sebastien
> 
> -----Original Message-----
> From: John Holland [mailto:jholland@tomsw.com]
> Sent: dinsdag 28 augustus 2001 19:53
> To: mod_python@modpython.org
> Subject: [mod_python] installation
> 
> 
> 
> This is probalby something really dumb but...
> 
> I compile modpython as a DSO, it seems to load fine, I create a /py
> dir off of DocumentRoot, put a test.py type thing in there, and ...
> 
> the webserver just returns the contents of the script. I setup the
> <Directory>
> stuff as in the install instructions - what am I missing or doing wrong?
> 
> John Holland
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python

From riesch at nieuw.nl  Thu Aug 30 17:07:53 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 21:59:04 2004
Subject: [mod_python] Zope
Message-ID: <20010830170753.B23002@godel>

Hi there,


Off-topic as it is :

Has anyone experience with using zope and more specificaly with its database ? Is it possible to separate the database from the zope-architecture ? I can't figure out how .. but it would be usefull since it looks nice


Thanks ahead,
Richard

From jeremym at ipnetwork.com  Thu Aug 30 13:47:08 2001
From: jeremym at ipnetwork.com (Jeremy McCormick)
Date: Fri Jan  9 21:59:04 2004
Subject: [mod_python] python scripts like mod_perl
Message-ID: <F94044758132D511BEE000D0B73EC82B157164@MAIL2>

Hi, y'all.  I've gleaned a lot of good info and programs off this site,
including a mod_python dll for Win32 that links to the latest ActiveState
build of Python.

I'm having a minor configuration issue in getting my python scripts to
execute from a directory just under the Apache root of my Windows Nusphere
install, i.e. <Apache root> / python_scripts.  I can only get the scripts to
execute if they are located under the document root.  I would like to copy
the configuration of mod_perl, i.e. <Apache root> / perl-bin, which is an
alias for  "nsperl-bin"; these scripts execute perfectly.  However, when I
try a similar set-up with Python, Apache can't find the interpreter.  

Here is the relevant section from my httpd.conf (anything strange-looking
was inspired by the lines for mod_perl).

# BEGIN MOD_PYTHON CONFIG
LoadModule python_module modules/mod_python.dll
ScriptAlias /python-bin/ "d:/programs/nusphere/apache/nspython-bin"
<Location /python-bin>
   SetHandler python-script
   PythonHandler testpy
   Options ExecCGI
</Location>
#END MOD_PYTHON CONFIG

I would like to be able to execute scripts from my html like so:

<a href="/python-bin/testpy.py"> Test a python script </a>

...but, alas, tis not working unless I put the scripts somewhere in the
document root.  Any ideas?

Thanks in advance.  Please let me know if more information is needed about
my set-up.

From piet at cs.uu.nl  Fri Aug 31 11:01:47 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:59:04 2004
Subject: [mod_python] Zope
In-Reply-To: riesch@nieuw.nl's message of "Thu, 30 Aug 2001 17:07:53 +0200"
References: <20010830170753.B23002@godel>
Message-ID: <u1ylseh6s.fsf@cs.uu.nl>

>>>>> riesch@nieuw.nl (R) writes:

R> Hi there,
R> Off-topic as it is :

R> Has anyone experience with using zope and more specificaly with its database ? Is it possible to separate the database from the zope-architecture ? I can't figure out how .. but it would be usefull since it looks nice


The database (ZODB) is distributed separately, and I have used some simple
standalone python scripts with it. It would be possible to use it in
modpython, except for problems with synchronisation. 
There is no record locking or anything similar in ZODB, so in a Linux/Unix
environment where Apache starts up multiple processes you would have the
database open in these processes, which gives synchronisation problems.
When modpython works with Apache 2 which has threading one should be able
to solve this by opening the database only once. On MS Windows this should
also be possible I think. ZODB can be used in a multithreaded environment
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From riesch at nieuw.nl  Fri Aug 31 13:39:06 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 21:59:04 2004
Subject: [mod_python] cleaning up
Message-ID: <20010831133906.A23519@godel>

hi there,


Something else. I'm now using the shelve and with multiple processes I'm using a lock on a file to protect the data located in the shelve. All goes well when I let the transaction complete normally.

However when I break it off pre-maturaly the locks remain on the file (the process isn't really dead, since apache saves that for another request and the locks arent't removed). I've allready registered a cleanup-handler, but this isn't called on a breakup.

Is there something else ?



Thanks ahead,
Richard

From thm at duke.edu  Wed Aug 29 21:12:40 2001
From: thm at duke.edu (Hunter Matthews)
Date: Fri Jan  9 21:59:40 2004
Subject: [mod_python] RPMS available
Message-ID: <999133961.1289.5.camel@jade.biology.duke.edu>

I've been looking at migrating my application (long term) to python 2.2.
Toward that end, I've rebuilt the mod_python rpm from Red Hat 7.3 to use
python2, instead of python (1.5).

Its not THAT hard for someone who builds rpms regularly, but I was
wondering if anyone else would desire such a beast.

It warns that python2 is built with threads, but when I did a test build
against the original python (1.5.2) package, it was also built with
threads, so I am _assuming_ that this is ok.

If anyone wants them, I've also built sqlite and pysqlite packages for
7.3.
-- 
Hunter Matthews                          Unix / Network Administrator
Office: BioScience 145/244               Duke Univ. Biology Department
Key: F0F88438 / FFB5 34C0 B350 99A4 BB02  9779 A5DB 8B09 F0F8 8438
Never take candy from strangers. Especially on the internet.


From riesch at nieuw.nl  Wed Aug  1 13:03:02 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 22:02:52 2004
Subject: [mod_python] Some questions
Message-ID: <20010801130302.A4683@godel>

Hi all


I'm dubbing with some questions.

Cookies
Is there a way to detect whether a user supports cookies, or is that only possible by setting a cookie and not recieving?

Globals
I have some central files, which are to be used by multiple sites, where every site defines its own handler for python. Now in those central files I've defined a class which should be known throughout a site (not the other sites !). In my ultimate laziness, I've defined the instance as follows:

# start of Application.py


class Application:
   ...
# end of class definition

global app
app = Application()


# end of Application.py

Every site imports this file. Now I'm not sure whether every site now has the same instance, or if every site has a different instance. I'm geussing every site has another instance, since it defines its own handler and  should be run as a separate program, but I don't know how mod-python handles this.


Any suggestions?

Richard


Btw:
All-right for the patch. I'm definetly gonna use that!

From tree at basistech.com  Wed Aug  1 07:21:39 2001
From: tree at basistech.com (Tom Emerson)
Date: Fri Jan  9 22:02:52 2004
Subject: [mod_python] Some questions
In-Reply-To: <20010801130302.A4683@godel>
References: <20010801130302.A4683@godel>
Message-ID: <15207.58947.621881.556677@cymru.basistech.com>

riesch@nieuw.nl writes:
> Cookies
> Is there a way to detect whether a user supports cookies,

No.

> or is that only possible by setting a cookie and not recieving?

Right.

> Globals
[...]

These I'm not sure on, but...

...I believe that the globals are valid for the life of the
interpreter. If you have separate virtual servers running then each
one has its own subinterpreter, and as such the globals should be
valid for each one.

> Every site imports this file. Now I'm not sure whether every site
> now has the same instance, or if every site has a different
> instance. I'm geussing every site has another instance, since it
> defines its own handler and should be run as a separate program, but
> I don't know how mod-python handles this.

You could check by passing a unique value to the __init__ function of
your global object for each site, and examining that value to see if
it is different.

-- 
Tom Emerson                                          Basis Technology Corp.
Sr. Sinostringologist                              http://www.basistech.com
  "Beware the lollipop of mediocrity: lick it once and you suck forever"

From riesch at nieuw.nl  Wed Aug  1 14:16:01 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 22:02:52 2004
Subject: [mod_python] Some questions
In-Reply-To: <15207.58947.621881.556677@cymru.basistech.com>; from tree@basistech.com on Wed, Aug 01, 2001 at 07:21:39AM -0400
References: <20010801130302.A4683@godel> <15207.58947.621881.556677@cymru.basistech.com>
Message-ID: <20010801141601.A16198@godel>

> > Globals
> [...]
> 
> These I'm not sure on, but...
> 
> ...I believe that the globals are valid for the life of the
> interpreter. If you have separate virtual servers running then each
> one has its own subinterpreter, and as such the globals should be
> valid for each one.

So every subinterpreter should be independent of the other interpreters ? and as such each site has a different app-instance?

> You could check by passing a unique value to the __init__ function of
> your global object for each site, and examining that value to see if
> it is different.

The init is always the same since the global is created in the Application.py and not in another file. I'm not to sure how to check it all, since a request is handled rather quick and I don't think there are debugging tools.


Thanx for replying,
Richard

From tree at basistech.com  Wed Aug  1 07:43:46 2001
From: tree at basistech.com (Tom Emerson)
Date: Fri Jan  9 22:02:52 2004
Subject: [mod_python] Some questions
In-Reply-To: <20010801141601.A16198@godel>
References: <20010801130302.A4683@godel>
	<15207.58947.621881.556677@cymru.basistech.com>
	<20010801141601.A16198@godel>
Message-ID: <15207.60274.563388.400127@cymru.basistech.com>

riesch@nieuw.nl writes:
> > ...I believe that the globals are valid for the life of the
> > interpreter. If you have separate virtual servers running then each
> > one has its own subinterpreter, and as such the globals should be
> > valid for each one.
> 
> So every subinterpreter should be independent of the other
> interpreters ? and as such each site has a different app-instance?

Yes: as long as each site is running in its own virtual host the
interpreters will be independent... at least that is my
understanding. :-)

You can control how subinterpreters are allocated using the
PythonInterp* series of configuration directives.

> The init is always the same since the global is created in the
> Application.py and not in another file. I'm not to sure how to check
> it all, since a request is handled rather quick and I don't think
> there are debugging tools.

Perhaps you could generate a random number in each __init__ function,
then write it to the log from each site using apache.log_error.  That
would at least tell you if you are getting different instances in each
site.

-- 
Tom Emerson                                          Basis Technology Corp.
Sr. Sinostringologist                              http://www.basistech.com
  "Beware the lollipop of mediocrity: lick it once and you suck forever"

From zdanie at dr.com  Wed Aug  1 19:05:36 2001
From: zdanie at dr.com (=?windows-1251?Q?=CF=EE=F0=F2=EE=E2=E0=FF,_19?=)
Date: Fri Jan  9 22:02:52 2004
Subject: [mod_python] =?windows-1251?Q?=CF=F0=EE=E4=E0=E5=F2=F1=FF_=E0=E4=EC=E8=ED=E8=F1=F2=F0=E0=F2=E8=E2=ED=EE=E5_=E7=E4=E0=ED=E8=E5_=E2_=CA=E0=E7=E0=ED=E8?=
Message-ID: <23487200183115536804@dr.com>

????????????! ???? ????????.

?????????? ?????????? ? ????????????? ???????????????? ?????? ? ??????
(?????????, ??????): 
- ????? ??????? 910 ??. ?; 
- 2 ?????; 
- ??????? ?????????? ????????? ?? 7 ?? 200 ??.?; 
- ??????????? ?????????? - ????????? ??????? 0,101 ??. 

?????? - ?????? ???????? ??????? ?????. ????? ???????? ????????????:
- ???????? ?????? - ?????? ?? ???????? ??????? ??????????? ????????? ?????;
- ??????? ?????????? ????; 
- ?????? ? ?????? ?????? - 5 ???. ????; 
- ?????? ? ?/? ???????  - 5 ???. ????;
- ????? ?????? ????; 
- ????? ?/? ????.

?????? ???????? ???????? ??? ?????????? ????? ????????????????? ?????
???????? ? ?????????? ??? ????????. ???????? ?????????? "????/?????". ???
???????????? ?????????. ?????? ??????? ??????? (?????? ?????????? ???????,
??????? ????? ??????? ? ??????? ?????). ?????? ????????? ? ???????
?????????????. ????? - ? ?????????? ???????????.

???? ?????? - ????? ??? ????????.

???? ?? ?????????????? ? ????????? ?? ??? ????? ????????? ?????????? ?
?????? ???????, ????????? ?????? ?????? ?? ??????: zdanie@europe.com. ???
???? ? "????" ????????? ??????????? ????????:
"???????? ????????? ??????????".




From xione at bellsouth.net  Thu Aug  2 10:53:22 2001
From: xione at bellsouth.net (Xione Wrent)
Date: Fri Jan  9 22:02:52 2004
Subject: [mod_python] Win32 Error:
Message-ID: <000901c11b7c$05c25100$8cbf3dd0@xwcom>

I'm getting the following error, and I can't figure out why?


I'm using 2.4.7 with Apache 1.3 on Win32. As far as I know, I've
installed everything right - even getting past the typo on
modpython.org's Windows Installation Guide (Which really should be
changed, BTW). But anyways, the only refrence I can even find to
anything called mptest is in my httpd.conf file - maybe I'm putting
this:

Mod_python error: "PythonHandler mptest"

Traceback (most recent call last):

  File "c:\python21\lib\mod_python\apache.py", line 181, in Dispatch
    module = import_module(module_name, _req)

  File "c:\python21\lib\mod_python\apache.py", line 335, in
import_module
    f, p, d = imp.find_module(parts[i], path)

ImportError: No module named mptest

<IfModule mod_alias.c>
    Alias /icons/ "C:/Program Files/Apache Group/Apache/icons/"
    <Directory "C:/Program Files/Apache Group/Apache/icons">
        Options Indexes MultiViews
        AllowOverride None
        Order allow,deny
        Allow from all
    </Directory>
    ScriptAlias /cgi-bin/ "C:/Program Files/Apache
Group/Apache/cgi-bin/"
    <Directory "C:/Program Files/Apache Group/Apache/cgi-bin">
        AllowOverride None
        Options None
        Order allow,deny
        Allow from all
    </Directory>
    <Directory "C:/Program Files/Apache Group/Apache/htdocs/python">
        AddHandler python-program .py
        PythonHandler mptest
        PythonDebug on
    </Directory>
</IfModule>



From brianh at exelixis.com  Thu Aug  2 13:16:11 2001
From: brianh at exelixis.com (Brian Hawthorne)
Date: Fri Jan  9 22:02:52 2004
Subject: [mod_python] sys.path and sys.modules change randomly between page loads!
In-Reply-To: <5.0.0.25.0.20010228111927.03518980@localhost>
Message-ID: <Pine.GSO.4.05.10108021300340.19281-100000@timeless.exelixis.com>

has anyone noticed anything like this?
i hypothesize that my requests are being cycled
thru multiple interpreters... each one has a different
history because other pages (which append to sys.path and
load modules) have been loaded into them.

i tried PythonInterpreter main_interpreter.
to no avail.

brian



From riesch at nieuw.nl  Fri Aug  3 12:09:05 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 22:02:52 2004
Subject: [mod_python] Win32 Error:
In-Reply-To: <000901c11b7c$05c25100$8cbf3dd0@xwcom>; from xione@bellsouth.net on Thu, Aug 02, 2001 at 10:53:22AM -0700
References: <000901c11b7c$05c25100$8cbf3dd0@xwcom>
Message-ID: <20010803120905.A16314@godel>

Hi there,

I'm geussing the answer to your problem is that the python interpreter cannot find the file, since it is not located in the systempath of python. The sollution would, in this case be to add the following line to httpd.conf:

PythonPath "sys.path + ['/dir/where/mptest/is/located/']"


Hope this helps,
Richard



On Thu, Aug 02, 2001 at 10:53:22AM -0700, Xione Wrent wrote:
> I'm getting the following error, and I can't figure out why?
> 
> 
> I'm using 2.4.7 with Apache 1.3 on Win32. As far as I know, I've
> installed everything right - even getting past the typo on
> modpython.org's Windows Installation Guide (Which really should be
> changed, BTW). But anyways, the only refrence I can even find to
> anything called mptest is in my httpd.conf file - maybe I'm putting
> this:
> 
> Mod_python error: "PythonHandler mptest"
> 
> Traceback (most recent call last):
> 
>   File "c:\python21\lib\mod_python\apache.py", line 181, in Dispatch
>     module = import_module(module_name, _req)
> 
>   File "c:\python21\lib\mod_python\apache.py", line 335, in
> import_module
>     f, p, d = imp.find_module(parts[i], path)
> 
> ImportError: No module named mptest
> 
> <IfModule mod_alias.c>
>     Alias /icons/ "C:/Program Files/Apache Group/Apache/icons/"
>     <Directory "C:/Program Files/Apache Group/Apache/icons">
>         Options Indexes MultiViews
>         AllowOverride None
>         Order allow,deny
>         Allow from all
>     </Directory>
>     ScriptAlias /cgi-bin/ "C:/Program Files/Apache
> Group/Apache/cgi-bin/"
>     <Directory "C:/Program Files/Apache Group/Apache/cgi-bin">
>         AllowOverride None
>         Options None
>         Order allow,deny
>         Allow from all
>     </Directory>
>     <Directory "C:/Program Files/Apache Group/Apache/htdocs/python">
>         AddHandler python-program .py
>         PythonHandler mptest
>         PythonDebug on
>     </Directory>
> </IfModule>
> 
> 
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python

From bl at netgroup.dk  Mon Aug  6 09:58:50 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 22:02:52 2004
Subject: [mod_python] Session info from authenhandler
Message-ID: <3B6E4E3A.90FDC41A@netgroup.dk>

Hi ...

Is it somehow possible to transfer session information found in the
"authenhandler" directly to the "normal" handler. I know that I could
use a cookie, but this still demands one trip around the client, and I
like to avoid that.

I have tried to set a value from "authenhandler" in the
"req.headers_out", and then try to read it in the "handler", but this is
somehow not possible, either.

Any idea how to do this ?

/BL


From bl at netgroup.dk  Mon Aug  6 10:51:29 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 22:02:52 2004
Subject: [mod_python] Patch to 2.7.5 for internal_redirect
References: <13CDDE6A53DBD311BC3200508B6F0C4805E48089@rover.foolhq.com>
		<20010731093907E.miguel@yorku.ca>
		<3B66B9B2.8E549FA@netgroup.dk> <15207.1934.890865.157761@cymru.basistech.com>
Message-ID: <3B6E5A91.DF855289@netgroup.dk>

Tom Emerson wrote:

> Attached is a small patch to mod_python 2.7.5 which provides support
> for doing an internal_redirect. I've only done minimal testing on this
> but it appears to work.

Will this patch be included in the future mod_python, and if not -- why ?

/BL


From riesch at nieuw.nl  Mon Aug  6 13:17:12 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 22:02:52 2004
Subject: [mod_python] Patch to 2.7.5 for internal_redirect
In-Reply-To: <15207.1934.890865.157761@cymru.basistech.com>; from tree@basistech.com on Tue, Jul 31, 2001 at 03:31:26PM -0400
References: <13CDDE6A53DBD311BC3200508B6F0C4805E48089@rover.foolhq.com> <20010731093907E.miguel@yorku.ca> <3B66B9B2.8E549FA@netgroup.dk> <15207.1934.890865.157761@cymru.basistech.com>
Message-ID: <20010806131712.A4114@godel>

Hi,


perhaps a bit of a stupid question, but how do I apply this patch. I don't think I will have edit all the files by hand :).

Is there a little program or something ?


Richard

From tree at basistech.com  Mon Aug  6 07:41:07 2001
From: tree at basistech.com (Tom Emerson)
Date: Fri Jan  9 22:02:53 2004
Subject: [mod_python] Patch to 2.7.5 for internal_redirect
In-Reply-To: <20010806131712.A4114@godel>
References: <13CDDE6A53DBD311BC3200508B6F0C4805E48089@rover.foolhq.com>
	<20010731093907E.miguel@yorku.ca>
	<3B66B9B2.8E549FA@netgroup.dk>
	<15207.1934.890865.157761@cymru.basistech.com>
	<20010806131712.A4114@godel>
Message-ID: <15214.33363.62919.664178@cymru.basistech.com>

riesch@nieuw.nl writes:
> perhaps a bit of a stupid question, but how do I apply this patch. I
> don't think I will have edit all the files by hand :).
> 
> Is there a little program or something ?

I should have included instructions, apologies.

Assuming you are on a Unix system, you can apply the patch by:

1) cd'ing to the top-level of the mod_python directory, and

2) invoking "patch < patch_name", where patch_name is the name that
   you saved the patch as.

That should do it.

    -tree

-- 
Tom Emerson                                          Basis Technology Corp.
Sr. Sinostringologist                              http://www.basistech.com
  "Beware the lollipop of mediocrity: lick it once and you suck forever"

From troy at gci.net  Tue Aug  7 11:31:52 2001
From: troy at gci.net (- troy)
Date: Fri Jan  9 22:02:53 2004
Subject: [mod_python] return 200 vs return apache.OK ?
Message-ID: <4f89774f7d12.4f7d124f8977@augustine.gci.net>

hi everyone!

i've been developing a project with mod_python for a few weeks, and 
i've run into a snag.  please forgive me if i'm not expressing this in 
the best terms; i'm new to python and apache both.

the problem i have is this:  whenever my handler returns an int by 
number, apache (or something) appends debugging information to the 
client response.  example handler:

	from mod_python import apache
	def handler(req):
		req.send_http_header()
		req.write('hello, world\n')
		return 200

on my system, this produces the following output:

	hello, world
	HTTP/1.1 200 OK
	Date: Tue, 07 Aug 2001 18:57:40 GMT
	Server: Apache/1.3.20 (Win32) mod_python/2.7.4 Python/2.1
	Keep-Alive: timeout=15, max=99
	Connection: Keep-Alive
	Transfer-Encoding: chunked
	Content-Type: text/html; charset=iso-8859-1

	<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
	<HTML><HEAD>
	<TITLE>200 OK</TITLE>
	</HEAD><BODY>
	<H1>OK</H1>
	The server encountered an internal error or
	misconfiguration and was unable to complete
	your request.<P>
	Please contact the server administrator,
	 <omitted> and inform them of the time the error occurred,
	and anything you might have done that may have
	caused the error.<P>
	More information about this error may be available
	in the server error log.<P>
	<HR>
	<ADDRESS>Apache/1.3.20 Server <omitted> Port 80</ADDRESS>
	</BODY></HTML>

there is nothing in the apache error log for these types of responses.

sometimes i can and do return the constant apache.OK, but i do need to 
return http codes as integers in some cases.  do i have something 
misconfigured?  am i missing the boat somehow?   what's the difference 
between returning 200 and apache.OK?

i have RTFM, but i'm  not the brightest bulb in the bunch.  any help 
would be appreciated.

-troy


From riesch at nieuw.nl  Thu Aug  9 09:36:41 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 22:02:53 2004
Subject: [mod_python] The standard password dialog
Message-ID: <20010809093641.A23318@godel>

Hi there,


I'm implementing security now for my mod-python application. Now I don't want to use the standard 'authenhandler'.

So I was wondering if there is a way to invoke the user-login screen without going through the standard 'authenhandler'.


Any suggestions ?,
Richard

From seant at webreply.com  Thu Aug  9 11:07:31 2001
From: seant at webreply.com (Sean True)
Date: Fri Jan  9 22:02:53 2004
Subject: [mod_python] Redirecting transhandler example.
Message-ID: <MJEHLHJKGINLONDMMKNEAEGNDJAA.seant@webreply.com>

httpredirector.py is a mod_python implementation of some of the Apache URL
rewriting
module. Much more primitive, intended to be easily configurable and
modifiable,
and motivated by the AT&T/Mediaone system wide blockage of port 80 in
response to
the "code red" worm attack.

Note: to be useful in the "code red" scenario, you need to be running
mod_python
on a server that is not being blocked. Of course, the code can be used (or
changed)
to do other sorts of useful URL rewriting.

We deploy httpredirector.py on a production webserver somewhere, using
wildcard
virtualhost aliases to let the redirector get hold of a host, rewrite the
host to
one of our home machines using an unblocked port, such as 8080.

-- Sean
-------
Sean True
WebReply.Com, Inc.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Sean True.vcf
Type: text/x-vcard
Size: 309 bytes
Desc: not available
Url : http://mailman.modpython.org/pipermail/mod_python/attachments/20010809/6825c027/SeanTrue-0003.vcf
-------------- next part --------------
"""
httpredirector.py is a mod_python implementation of some of the Apache URL rewriting
module. Much more primitive, intended to be easily configurable and modifiable,
and motivated by the AT&T/Mediaone system wide blockage of port 80 in response to
the "code red" worm attack.

Note: to be useful in the "code red" scenario, you need to be running mod_python
on a server that is not being blocked. Of course, the code can be used (or changed)
to do other sorts of useful URL rewriting.

We deploy httpredirector.py on a production webserver somewhere, using wildcard
virtualhost aliases to let the redirector get hold of a host, rewrite the host to
one of our home machines using an unblocked port, such as 8080.


# --- Redirector site
<VirtualHost 10.0.0.1>
    ServerName redirector
    # Set up your DNS so that your public sites come here
    ServerAlias *.yourdomain.com
    PythonInterpreter phtml
    PythonTransHandler httpredirector
    PythonOption redirects {'yourdomain.com':'yourprivatedomain:8080'}
</VirtualHost>

Authors: Peter McA'Nulty and Sean True, WebReply.Com, Inc. Copyright (c) 2001
License: Use under the terms of the Python license: http://www.python.org/2.1.1/license.html
"""

from mod_python import apache
import sys, string

debug = 0
def transhandler(req):
    def log(s):
        sys.stderr.write("httpredirector: %s\n" % s)

    # Pick up the host field from the request
    # -- if HTTP 1.0, we're going to fail here
    try:
        host = req.headers_in['Host']
    except:
        log("didn't have 'HTTP_HOST' environment")
        return apache.DECLINED
    if debug:
        log(host)

    # Get the dictionary of redirect options from
    # httpd.conf
    opts = req.get_options()
    try:    
        redirects = opts['redirects']
    except:
        log("didn't have 'redirects' PythonOption")
        return apache.DECLINED
    try:    
        redirects = eval(redirects)
    except:
        log("'redirects' was not a valid dictionary [%s]" % `redirects`)
        return apache.DECLINED

    # This shouldn't fail. Belt, suspenders, ...
    uri = req.unparsed_uri
    if not uri:
        log("didn't have 'REQUEST_URI' environment")
        return apache.DECLINED

    # For each redirection option, search the host string for a target and
    # replace it. We stop after the first match, and redirect to the result.
    # This could be a list of regular expressions instead, but this will do for
    # now.
    keys = redirects.keys()
    for k in keys:
        if string.find(host, k) != -1:
            rehost = string.replace(host, k, redirects[k])
            req.headers_out['location'] = "http://%s%s" % (rehost, uri)
            req.status = apache.HTTP_MOVED_PERMANENTLY
            req.send_http_header()
            if debug: log("%s%s => %s%s" % (host,uri, rehost,uri))
            return apache.DONE
        
    log("didn't have matching redirect for %s" % host)
    return apache.DECLINED
    
    
From john at synchromesh.com  Fri Aug 10 11:29:29 2001
From: john at synchromesh.com (John Pallister)
Date: Fri Jan  9 22:02:53 2004
Subject: [mod_python] How is the Python version selected?
Message-ID: <3B731CD9.D2F62A8B@synchromesh.com>

Hello,

My system is Debian potato-based ('ray that package
dependency checking), and by and large sticking to Debian
packages wherever possible works very well for me.

I've installed python-* and python2-* packages, and now
/usr/bin/python gives me Python 1.5.2, and mod_python sees
Python 2.0.1.

I presume this is because the mod_python in
libapache-mod-python was linked against the Python in
python2-base. So there's no point in installing (say)
ActivePython's 2.1.1 .deb. I guess I should really build
Python 2.1.1, mod_python and Apache-SSL altogether from the
sources. This would also mean that I could also compile up
PygreSQL and/or PoPy, such that they actually work from
mod_python...

Can anyone comment on this summary, before I spend several
hours on this (and give up the advantages of the packages)?

And does anyone have an opinion on the ActiveState Python
stuff?

Cheers,

John :^P
--
John Pallister
john@synchromesh.com

From cuny at iie.cnam.fr  Fri Aug 10 01:44:54 2001
From: cuny at iie.cnam.fr (Mathieu Cuny)
Date: Fri Jan  9 22:02:53 2004
Subject: [mod_python] Question about publisher
Message-ID: <20010810014454.A3359@quark.estu.iie.cnam.fr>

Hello !

I made a small change in mod_python.publisher.handler, because i needed
a function with a variable number of arguments for using is with
different forms. I just added
<<
if expected:
>>
on line 124, which gives.

# remove unexpected args if some are expected. Do nothing if none were
# given.
# (that means the user wants to use a '**args' arg).
if expected:
        for name in args.keys():
                if name not in expected:
                        del args[name]

It enables functions like : f(**args) to be used with publisher.
I don't know if it is a good idea, but i really needed it...

Was there another way ?

From mike at mikebell.org  Thu Aug  9 23:13:25 2001
From: mike at mikebell.org (Mike Bell)
Date: Fri Jan  9 22:02:53 2004
Subject: [mod_python] How is the Python version selected?
In-Reply-To: <3B731CD9.D2F62A8B@synchromesh.com>
References: <3B731CD9.D2F62A8B@synchromesh.com>
Message-ID: <20010809231325.C28580@vaio.syntecor.com>

On Fri, Aug 10, 2001 at 11:29:29AM +1200, John Pallister wrote:
> I presume this is because the mod_python in
> libapache-mod-python was linked against the Python in
> python2-base. So there's no point in installing (say)
> ActivePython's 2.1.1 .deb. I guess I should really build
> Python 2.1.1, mod_python and Apache-SSL altogether from the
> sources. This would also mean that I could also compile up
> PygreSQL and/or PoPy, such that they actually work from
> mod_python...
> 
> Can anyone comment on this summary, before I spend several
> hours on this (and give up the advantages of the packages)?
> 
> And does anyone have an opinion on the ActiveState Python
> stuff?

Debian's packages will have been compiled with threads. Just compile your
own copy of python and mod_python and install the module. It shouldn't break
anything of debian's, because I can't recally any debian package that
depends on mod_python.


From nathan at vividworks.com  Mon Aug 13 11:15:39 2001
From: nathan at vividworks.com (Nathan Heagy)
Date: Fri Jan  9 22:02:53 2004
Subject: [mod_python] OS X Issue
Message-ID: <Pine.OSX.4.33.0108131113410.397-100000@vividworks.com>

I can't get mod_python working in Mac OS X because of the followin error
from apache after I've compiled and installed and modified the httpd.conf:

[Mon Aug 13 10:38:00 2001] [warn] Loaded DSO
/usr/libexec/httpd/mod_python.so uses plain Apache 1.3 API, this module
might crash under EAPI! (please recompile it with -DEAPI)

Any ideas are appreaciated.

nathan





From riesch at nieuw.nl  Tue Aug 14 14:26:55 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 22:02:53 2004
Subject: [mod_python] The python shelve
Message-ID: <20010814142655.A26494@godel>

Hi there,


This is probably not the best place to ask this, but I'll give it a try.

Does anyone have experience with the shelve-object supplied with python. It's probably just what i need, but i need to know if it's efficient.


My questions is:

On 'd = shelve.open("filename")', will all the classes stored in the shelve be loaded into the memory ? This is namely not what I want. Only those classes I need should be loaded.


Any info on this ?

Richard

From МОСТ at mail.ru  Tue Aug 14 20:40:13 2001
From: МОСТ at mail.ru (=?windows-1251?Q?=DE=F0=E8=E4=E8=F7=E5=F1=EA=E8=E9_=F6=E5=ED=F2=F0_=CC=CE=D1=D2?=)
Date: Fri Jan  9 22:02:53 2004
Subject: [mod_python] =?windows-1251?Q?=CD=C0=CB=CE=C3=CE=C2=C0=DF_=CF=CE=CB=C8=D6=C8=DF_=CD=C5_=C4=D0=C5=CC=CB=C5=D2_!!!?=
Message-ID: <1838920018214164013634@mail.ru>




-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010814/ae19b2a9/attachment-0003.htm
From mike at mikebell.org  Tue Aug 14 22:24:03 2001
From: mike at mikebell.org (Mike Bell)
Date: Fri Jan  9 22:02:53 2004
Subject: [mod_python] The python shelve
In-Reply-To: <20010814142655.A26494@godel>
References: <20010814142655.A26494@godel>
Message-ID: <20010814222402.H580@vaio.syntecor.com>

On Tue, Aug 14, 2001 at 02:26:55PM +0200, riesch@nieuw.nl wrote:
> On 'd = shelve.open("filename")', will all the classes stored in the
> shelve be loaded into the memory ? This is namely not what I want. Only
> those classes I need should be loaded.
 
No, they shouldn't be. It's just regular *dbm with pickled python objects in
the values. One thing you will want to be careful of when using it though is
locking, since you'll have many apache processes each running their own copy
of the mod_python script, you could easily run into corruption if you don't
lock the file correctly.

From vircum at yahoo.com  Wed Aug 15 07:59:58 2001
From: vircum at yahoo.com (=?iso-8859-1?q?michael=20bieniosek?=)
Date: Fri Jan  9 22:02:53 2004
Subject: [mod_python] Re: OS X Issue
In-Reply-To: <200108150440.f7F4e4D90422@eden.ispol.com>
Message-ID: <20010815055958.86412.qmail@web11505.mail.yahoo.com>

Are you using Apache 1.3.x?  I don't think Apache
2.0.x is supported.  I can't find any mention of EAPI
in Apache.

> I can't get mod_python working in Mac OS X because
> of the followin error
> from apache after I've compiled and installed and
> modified the httpd.conf:
> 
> [Mon Aug 13 10:38:00 2001] [warn] Loaded DSO
> /usr/libexec/httpd/mod_python.so uses plain Apache
> 1.3 API, this module
> might crash under EAPI! (please recompile it with
> -DEAPI)
> 
> Any ideas are appreaciated.


___________________________________________________________
Do You Yahoo!? -- Vos albums photos en ligne, 
Yahoo! Photos : http://fr.photos.yahoo.com

From mike at mikebell.org  Tue Aug 14 23:33:03 2001
From: mike at mikebell.org (Mike Bell)
Date: Fri Jan  9 22:02:53 2004
Subject: [mod_python] Re: OS X Issue
In-Reply-To: <20010815055958.86412.qmail@web11505.mail.yahoo.com>
References: <200108150440.f7F4e4D90422@eden.ispol.com> <20010815055958.86412.qmail@web11505.mail.yahoo.com>
Message-ID: <20010814233303.I580@vaio.syntecor.com>

On Wed, Aug 15, 2001 at 07:59:58AM +0200, michael bieniosek wrote:
> > I can't get mod_python working in Mac OS X because
> > of the followin error
> > from apache after I've compiled and installed and
> > modified the httpd.conf:
> > 
> > [Mon Aug 13 10:38:00 2001] [warn] Loaded DSO
> > /usr/libexec/httpd/mod_python.so uses plain Apache
> > 1.3 API, this module
> > might crash under EAPI! (please recompile it with
> > -DEAPI)
> > 
> > Any ideas are appreaciated.

Search the archives, "Makefile DEAPI mod_python" on google found it for me
first link.
http://www.modpython.org/pipermail/mod_python/2001-March/001189.html

From delirious at atchoo.be  Wed Aug 15 13:54:28 2001
From: delirious at atchoo.be (Simon Vandemoortele)
Date: Fri Jan  9 22:02:53 2004
Subject: [mod_python] mod_python VS threaded Python
Message-ID: <01081513542800.23612@shinsekai>

When configuring mod_python (dso) I get the warning:
"""
****** WARNING ******
  Python is compiled with thread support. Apache 1.3 does not use threads.
"""
like everyone else ... except for the fact that my apache crashes when I 
start it (segmentation fault). I've browsed the archive, read the mod_python 
manual and decided to install a second, unthreaded python:
"./configure --with-python=/usr/share/doc/packages/python_nt" gives:

checking for --with-python... /usr/share/doc/packages/python_nt
checking for python... (cached) /usr/bin/python
checking Python version... 2.0
checking whether Python is compiled with thread support... yes  

In other words: the configure script uses my default python (the one with 
threads) instead of /usr/share/doc/packages/python_nt/python .... This not 
what I want !

Did I do something wrong ? How do I fix this ?


Thx, Simon

From riesch at nieuw.nl  Wed Aug 15 15:12:36 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 22:02:53 2004
Subject: [mod_python] The python shelve
In-Reply-To: <20010814222402.H580@vaio.syntecor.com>; from mike@mikebell.org on Tue, Aug 14, 2001 at 10:24:03PM -0700
References: <20010814142655.A26494@godel> <20010814222402.H580@vaio.syntecor.com>
Message-ID: <20010815151236.A16090@godel>

Hi thanks for the answer,


I've done a bit of checking and I'm sufficiently convinced that only those objects I need are being unpickled.

About your hint with the file-locking. I've dived into the python-docs and the man-pages on system-calls, but I'm not able to figure out how this locking is done. Thus far I've come up with the following solution:

desc = open('file', 'w')
fcntl.flock(desc.fileno(), FCNTL.LOCK_EX)

# operations on the file

fcntl.flock(desc.fileno(), FCNTL.LOCK_UN)
desc.close()

This obtains the lock, but it's not released. So when I next try to open the file and obtain the lock, my app hangs.


How to solve this ?,
Richard

From nathan at vividworks.com  Wed Aug 15 09:28:22 2001
From: nathan at vividworks.com (Nathan Heagy)
Date: Fri Jan  9 22:02:53 2004
Subject: [mod_python] Re: OS X Issue
In-Reply-To: <20010814233303.I580@vaio.syntecor.com>
Message-ID: <Pine.OSX.4.33.0108150928001.7979-100000@vividworks.com>

Akk. I couldn't figure out hwo to search the archives.

I love google.

nathan




On Tue, 14 Aug 2001, Mike Bell wrote:

> On Wed, Aug 15, 2001 at 07:59:58AM +0200, michael bieniosek wrote:
> > > I can't get mod_python working in Mac OS X because
> > > of the followin error
> > > from apache after I've compiled and installed and
> > > modified the httpd.conf:
> > >
> > > [Mon Aug 13 10:38:00 2001] [warn] Loaded DSO
> > > /usr/libexec/httpd/mod_python.so uses plain Apache
> > > 1.3 API, this module
> > > might crash under EAPI! (please recompile it with
> > > -DEAPI)
> > >
> > > Any ideas are appreaciated.
>
> Search the archives, "Makefile DEAPI mod_python" on google found it for me
> first link.
> http://www.modpython.org/pipermail/mod_python/2001-March/001189.html
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From nathan at vividworks.com  Wed Aug 15 10:05:08 2001
From: nathan at vividworks.com (Nathan Heagy)
Date: Fri Jan  9 22:02:53 2004
Subject: [mod_python] Re: OS X Issue
In-Reply-To: <20010814233303.I580@vaio.syntecor.com>
Message-ID: <Pine.OSX.4.33.0108151004330.8260-100000@vividworks.com>

Right. New error:

dyld: /usr/sbin/httpd Undefined symbols:
d_of_line
rcase_version
rch_history

And I tried searching the archives, with no success.


nathan




On Tue, 14 Aug 2001, Mike Bell wrote:

> On Wed, Aug 15, 2001 at 07:59:58AM +0200, michael bieniosek wrote:
> > > I can't get mod_python working in Mac OS X because
> > > of the followin error
> > > from apache after I've compiled and installed and
> > > modified the httpd.conf:
> > >
> > > [Mon Aug 13 10:38:00 2001] [warn] Loaded DSO
> > > /usr/libexec/httpd/mod_python.so uses plain Apache
> > > 1.3 API, this module
> > > might crash under EAPI! (please recompile it with
> > > -DEAPI)
> > >
> > > Any ideas are appreaciated.
>
> Search the archives, "Makefile DEAPI mod_python" on google found it for me
> first link.
> http://www.modpython.org/pipermail/mod_python/2001-March/001189.html
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From kitwetzler at mindspring.com  Thu Aug 16 15:33:18 2001
From: kitwetzler at mindspring.com (Kit Wetzler)
Date: Fri Jan  9 22:02:53 2004
Subject: [mod_python] help with python_handler: make_obcallback returned no obCallBack!
Message-ID: <KFEJJEKBBDGMIMMHAEAFKEOKCMAA.kitwetzler@mindspring.com>

argh.  I've been reading the archives, and I can't find a solution to this
problem.  I apologize, I am a new python/mod_python user.  Sorry, I know the
last thing you guys want to answer is a newbie install question...

But... here's results from telnetting to port 80...

	HTTP/1.1 200 OK
	Date: Fri, 17 Aug 2001 00:46:55 GMT
	Server: Apache/1.3.14 (Unix)  (Red-Hat/Linux) PHP/4.0.4 mod_python/2.7.1
Python/2.0
	Connection: close
	Content-Type: text/html


I have installed the rpm of mod_python/2.7.1, because I couldn't get the
2.7.6 distro installed properly.  (it compiled ok, but apache kept seg
faulting, with the module as a DSO)  I have the standard Redhat 6.2 distro
installed on the machine, with python 1.5.2 installed.

In httpd.conf, I have:

#
# Adds Python Stuff
#
    AddHandler python-program .py
    PythonHandler mptest
    PythonDebug on
</Directory>

As part of my main <Directory /home/httpd/html> directive.  (Is that ok to
do?)  I got the same error with a seperate python directory directive.
Running mptest.py in the /home/httpd/html/python directory gives me the
dreaded make_obcallback error.

I'm at a loss.  :)  Please help!

thanks all.

	-kit wetzler







From e_business at getresponse.com  Mon Aug 20 16:39:04 2001
From: e_business at getresponse.com (SUPER-OFFER)
Date: Fri Jan  9 22:02:53 2004
Subject: [mod_python] , На рынке это стоит в 3 - 5 и даже в 10 раз дороже, чем предлагаем Мы !!!
Message-ID: <200108202039.f7KKd3D86746@eden.ispol.com>

??????, 

(Cyrillic-1251 )


               SUPER - ???????????!

               ???? E-mail ???????.
               1 ??????? 300 ????? ??????? ? ???? ????????? ??????.
               ?????? -  70% ?????????? ???????????? ? ???????????, ? 30% - ???????????.
               ??? ?????? - ??? ?????-???? ???? ??????, ????? ?????? e-mail ??????.

               ?????? ?? "??????" !

               ? ?????? ????? ??????? :

               ???????? ???? ????, ?? ??????? ?? ?????? ?????????? ??? ???? E-MAIL ???????, ? ???????, ?? ?????? ??????, ??? ???????  ! ! !

               ?? ?? ?????????? ?????????, ?? ???? ??????? ?????? E-Mail ???????.

               ?????? ?????? ?? WebMoney, ??? E-Gold

               ? ????? ???????????? ?????? ?? ????????????! ?????? ????????, ???? ?? ? ???? ??????, ?? ? ??????? 2-? ???? - ????? !
               ??? ?? ?????, ???? ? ???, ??? ??, ????????? ???????? ? ?.?. , ?? ???? ??????????? ??????????? ??????? ???? (?? ??????? ?? WebMoney ????? ????? ? ?????????? ???????, ? ????? ????????? ????? ??????? ????????? ???, ? ?.?. ???? ?? ?????? ???? ??????).

----------------------------
               ?? ????????? ?????? ?????? ? ?? ????????? ?????? ?????. ????????, ???? ???-?? ?????? ???????? ? ???????? ???? ???? ?? ?????? ???????.

               ????? ?? e-mail : mlm_info2005@yahoo.com
               ?????, ???? ?? ??????? ?????? ????????? ?? ???????, ?????????? ?????, ??????? ?????? ? ??????????? ????????? ?????.

----------------------------

1 Million 300 thousand e-mail addresses
It is the list of the E-Mail addresses, as the TXT-files.

The payment ONLY via WebMoney or via E-Gold:

We will send for You the e-mail list within 2 days period after Your payment for Us.

Offer Your own price for Us for this e-mail list !!!
-------------- next part --------------
A non-text attachment was scrubbed...
Name: svyaz.txt
Type: application/octet-stream
Size: 124 bytes
Desc: not available
Url : http://mailman.modpython.org/pipermail/mod_python/attachments/20010820/9cadc4b9/svyaz-0003.obj
From jfk at informaticon.dk  Tue Aug 21 09:45:04 2001
From: jfk at informaticon.dk (=?iso-8859-15?q?J=F8rgen=20Fr=F8jk=20Kj=E6rsgaard?=)
Date: Fri Jan  9 22:02:53 2004
Subject: [mod_python] Problems using Postgres 7.1 from mod_python
Message-ID: <01082109450400.01002@adele>

Hi,

I'm having problems using a Postgres 7.1 database under FreeBSD 4.3 from 
Python 2.1.1/mod_python. I have tried using PyGreSQL. In the lastest port 
version, PyGreSQL simply crashes Python when I import it. Then I tried 
downgrading to Python 2.1. PyGreSQL now works from Python without mod_python, 
but in mod_python, it crashes when it is imported! Any ideas?

PyGreSQL seems to be unstable. It may be better to use another interface but 
it seems like the alternatives require threading, which doesn't wotk with 
mod_python.

Regards,

J?rgen Fr?jk Kj?rsgaard, Systemkonsulent (Systems Consultant)
Informaticon ApS * Web: www.informaticon.dk * Tlf: +45 8672 0093
Internet programmering * Systemudvikling p? Linux, FreeBSD og PalmOS

From bl at netgroup.dk  Tue Aug 21 10:40:50 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 22:02:53 2004
Subject: [mod_python] Problems using Postgres 7.1 from mod_python
References: <01082109450400.01002@adele>
Message-ID: <3B821E92.C5743F19@netgroup.dk>

J?rgen Fr?jk Kj?rsgaard wrote:

> I'm having problems using a Postgres 7.1 database under FreeBSD 4.3 from
> Python 2.1.1/mod_python. I have tried using PyGreSQL. In the lastest port
> version, PyGreSQL simply crashes Python when I import it. Then I tried
> downgrading to Python 2.1. PyGreSQL now works from Python without mod_python,
> but in mod_python, it crashes when it is imported! Any ideas?

Are your sure you dont mix two differant postgres libs, so that you load an old
one when using apache modules an the right one when starting up normally ? I
have tried this, and I took me long time to find it, and I only got myself to
blame :-)

> PyGreSQL seems to be unstable. It may be better to use another interface but
> it seems like the alternatives require threading, which doesn't wotk with
> mod_python.

I have been using "psycopg" with good results, but not on a BSD but on Linux.
The is the latest Python/postgresql bridge project and it work greate for me.

Hope this help

/BL


From jfk at informaticon.dk  Tue Aug 21 11:09:30 2001
From: jfk at informaticon.dk (=?iso-8859-1?q?J=F8rgen=20Fr=F8jk=20Kj=E6rsgaard?=)
Date: Fri Jan  9 22:02:53 2004
Subject: [mod_python] Problems using Postgres 7.1 from mod_python
In-Reply-To: <3B821E92.C5743F19@netgroup.dk>
References: <01082109450400.01002@adele> <3B821E92.C5743F19@netgroup.dk>
Message-ID: <01082111093002.01002@adele>

Tirsdag 21. August 2001 10:40 skrev du:
> J?rgen Fr?jk Kj?rsgaard wrote:
> > I'm having problems using a Postgres 7.1 database under FreeBSD 4.3 from
> > Python 2.1.1/mod_python. I have tried using PyGreSQL. In the lastest port
> > version, PyGreSQL simply crashes Python when I import it. Then I tried
> > downgrading to Python 2.1. PyGreSQL now works from Python without
> > mod_python, but in mod_python, it crashes when it is imported! Any ideas?
>
> Are your sure you dont mix two differant postgres libs, so that you load an
> old one when using apache modules an the right one when starting up
> normally ? I have tried this, and I took me long time to find it, and I
> only got myself to blame :-)

I don't think so, but I'll have to investigate it carefully...

> > PyGreSQL seems to be unstable. It may be better to use another interface
> > but it seems like the alternatives require threading, which doesn't wotk
> > with mod_python.
>
> I have been using "psycopg" with good results, but not on a BSD but on
> Linux. The is the latest Python/postgresql bridge project and it work
> greate for me.

Hmm.. If I understand things correctly (I'm new to mod_python) mod_python 
requires that Python is built without thread support, whereas psycopg 
requires a Python interpreter with threads. Is it possible for psycopg and 
mod_python to work together?

regards

J?rgen Fr?jk Kj?rsgaard, Systemkonsulent (Systems Consultant)
Informaticon ApS * Web: www.informaticon.dk * Tlf: +45 8672 0093
Internet programmering * Systemudvikling p? Linux, FreeBSD og PalmOS

From bl at netgroup.dk  Tue Aug 21 11:22:29 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 22:02:53 2004
Subject: [mod_python] Problems using Postgres 7.1 from mod_python
References: <01082109450400.01002@adele> <3B821E92.C5743F19@netgroup.dk> <01082111093002.01002@adele>
Message-ID: <3B822855.999D2618@netgroup.dk>

J?rgen Fr?jk Kj?rsgaard wrote:

> Hmm.. If I understand things correctly (I'm new to mod_python) mod_python
> requires that Python is built without thread support, whereas psycopg
> requires a Python interpreter with threads. Is it possible for psycopg and
> mod_python to work together?

Well, Apache 1.3.x does not support threads, and the mod_python code therefor
dont work with threads, at least as expected :-)

I'm not an expert on using mod_python, but this is how I see it :-)

On some platforms this thread support need to be disabled (solaris ?), but on
the Linux platform its not.

/BL




From paul at gudge.demon.co.uk  Tue Aug 21 14:19:54 2001
From: paul at gudge.demon.co.uk (Paul Goodyear)
Date: Fri Jan  9 22:02:53 2004
Subject: [mod_python] Inline python on Apache
Message-ID: <001701c12a43$ff71ad60$6501a8c0@cheesemakers.net>

I have been trying to get the mod_python.dll working but have given up.

I have tryind the following

LoadModule python_module modules/mod_python.dll

in the httpd.conf and also tried the line

AddType application/x-httpd-py .py

but am not sure this was correct.

The .py file refused to work, all I get is the "Internal Server Error"

So I have set it up as CGI and HAVE to put the #!/Python21/python at the top of every .py file.

I have been using PHP for over a year and Python as well on ISS 5 but since i've moved to Apache I can't get the Python module working.

Can anyone shed some light.

system:
Windows 2000 Server (SP2)
Apache 1.3.20
PHP 4.0.6
Python 2.1.1

regards

paul goodyear
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010821/9d42650b/attachment-0003.htm
From lsmith at thinkstream.com  Tue Aug 21 08:57:10 2001
From: lsmith at thinkstream.com (Lindsey Smith)
Date: Fri Jan  9 22:02:53 2004
Subject: [mod_python] Inline python on Apache
References: <001701c12a43$ff71ad60$6501a8c0@cheesemakers.net>
Message-ID: <006001c12a59$f0194b50$103fa3ce@ts.thinkstream.com>

Paul,

I had difficulties getting it to run with a similar setup as well. One thing you could do is making sure that the mod_python lib subdirectory under your python21/lib (or whatever) directory is named "mod_python" and not "mod_python_v1.2.3.whatever". This snagged me for a while.

- Lindsey Smith
  ----- Original Message ----- 
  From: Paul Goodyear 
  To: mod_python@modpython.org 
  Sent: Tuesday, August 21, 2001 6:19 AM
  Subject: [mod_python] Inline python on Apache


  I have been trying to get the mod_python.dll working but have given up.

  I have tryind the following

  LoadModule python_module modules/mod_python.dll

  in the httpd.conf and also tried the line

  AddType application/x-httpd-py .py

  but am not sure this was correct.

  The .py file refused to work, all I get is the "Internal Server Error"

  So I have set it up as CGI and HAVE to put the #!/Python21/python at the top of every .py file.

  I have been using PHP for over a year and Python as well on ISS 5 but since i've moved to Apache I can't get the Python module working.

  Can anyone shed some light.

  system:
  Windows 2000 Server (SP2)
  Apache 1.3.20
  PHP 4.0.6
  Python 2.1.1

  regards

  paul goodyear
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010821/faaa8c15/attachment-0003.htm
From jfk at informaticon.dk  Wed Aug 22 15:02:21 2001
From: jfk at informaticon.dk (=?iso-8859-1?q?J=F8rgen=20Fr=F8jk=20Kj=E6rsgaard?=)
Date: Fri Jan  9 22:02:53 2004
Subject: [mod_python] Problems using Postgres 7.1 from mod_python
In-Reply-To: <3B821E92.C5743F19@netgroup.dk>
References: <01082109450400.01002@adele> <3B821E92.C5743F19@netgroup.dk>
Message-ID: <01082215022102.01002@adele>

Tirsdag 21. August 2001 10:40 skrev Bo Lorentsen:
> J?rgen Fr?jk Kj?rsgaard wrote:
> > I'm having problems using a Postgres 7.1 database under FreeBSD 4.3 [...]
>
> Are your sure you dont mix two differant postgres libs [...]

PyGreSQL 3.1 doesn't seem to work on FreeBSD with Python 2.1.1 at all. I got 
one step closer to a solutioin by upgrading to PyGreSQL 3.2. I still get an 
error when importing, though:

[Wed Aug 22 14:58:28 2001] [error] PythonHandler mod_python.publisher:   File 
"/usr/local/lib/python2.1/site-packages/mx/DateTime/__init__.py", line 40, in 
? class modinit:
[Wed Aug 22 14:58:28 2001] [error] PythonHandler mod_python.publisher:   File 
"/usr/local/lib/python2.1/site-packages/mx/DateTime/__init__.py", line 50, in 
modinit_DT)
[Wed Aug 22 14:58:28 2001] [error] PythonHandler mod_python.publisher:   File 
"/usr/local/lib/python2.1/copy_reg.py", line 16, in pickle raise 
TypeError("copy_reg is not intended for use with classes")
[Wed Aug 22 14:58:28 2001] [error] PythonHandler mod_python.publisher: 
TypeError: copy_reg is not intended for use with classes

This error doesn't occur when using PyGreSQL without mod_python. I only have 
one version of everything installed, so it's not because a wrong version of 
something is accessed from mod_python.

regards,

J?rgen Fr?jk Kj?rsgaard, Systemkonsulent (Systems Consultant)
Informaticon ApS * Web: www.informaticon.dk * Tlf: +45 8672 0093
Internet programmering * Systemudvikling p? Linux, FreeBSD og PalmOS

From bl at netgroup.dk  Wed Aug 22 16:43:08 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 22:02:53 2004
Subject: [mod_python] Problems using Postgres 7.1 from mod_python
References: <01082109450400.01002@adele> <3B821E92.C5743F19@netgroup.dk> <01082215022102.01002@adele>
Message-ID: <3B83C4FC.A9A64372@netgroup.dk>

J?rgen Fr?jk Kj?rsgaard wrote:

> This error doesn't occur when using PyGreSQL without mod_python. I only have
> one version of everything installed, so it's not because a wrong version of
> something is accessed from mod_python.

Sorry can't help, I'm using Python 1.5.2 and psycopg on Debian Linux and it work
great. Your env. are too different from my setup to give any qualified
suggestions.

/BL


From woodm at equire.com  Wed Aug 22 09:14:08 2001
From: woodm at equire.com (Matthew D. Wood)
Date: Fri Jan  9 22:02:54 2004
Subject: [mod_python] Data Base Drivers
Message-ID: <3B83CC40.8010405@equire.com>

So, I've been trying to find a good connection module for PostgreSQL and 
Python.

There appears to be a bunch out there (PyGreSQL, PoPy, ...) but I have 
no idea which ones are better than others.

Unfortunately, most people on the lists that deal with such issues (the 
PyGreSQL list for example) tend to be VERY one sided and thus obtaining 
actual information is quite difficult.  Thus, I pose the question to the 
mod-python list in hopes that someone uses PostgreSQL and that there can 
be a reasonable discussion regarding the quality of the connection modules.


The second question I have is in regards to thread-safety and how it 
relates to multiple data-base connections (caused by multiple servers 
that apache runs).  The Python SIG on database connections gives a 
thread-safety parameter which is to be assigned a value of 1 to 4.  I 
believe that 4 is "Iron Clad" in that you will NOT screw up the data in 
your database no matter what.  And a 1 states that threads are not dealt 
with intelligently, use at your own risk.


I don't understand much of what the intermediate levels (2, 3) are all 
about.  What should be required for the multiple connections caused by 
multiple servers?  "Will a thread-safety level of 3 be sufficient to 
prevent problems, or do I need to find a connection that is a full blown 
4?"


From riesch at nieuw.nl  Fri Aug 24 10:12:44 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 22:02:54 2004
Subject: [mod_python] Authentication
Message-ID: <20010824101244.A29899@godel>

Hi there,


I'm using the standard authentication now (with the authenhandler). This all works fine, but I can't seem to figure out how to let a user logout. I've tried to pass information about logout with the url. Something like:

http://www.site.com/?logout

def authenhandler(req):
   form = util.FieldStorage(req, keep_blank_values=1)

   if form.has_key(logout):
      return apache.HTTP_UNAUTHORIZED

   pw   = req.get_basic_auth_pw()
   user = req.connection.user
   if correct_user(user, pw):
      return apache.OK
   else:
      return apache.HTTP_UNAUTHORIZED



Unfortunately, this has the following effects:
-
The dialog pops up, even if the user is entering an area that's not protected. Not a very nice sollution, but workable (perhaps)
-
The url stays the same, which causes that the 'form' keeps logout-key. This results in repeatedly returing of HTTP_UNAUTHORIZED.


Does anyone have experience with this, or have some hints or thoughts ?


Thanks ahead,
Richard

From R.Barrett at ftel.co.uk  Fri Aug 24 10:09:26 2001
From: R.Barrett at ftel.co.uk (Richard Barrett)
Date: Fri Jan  9 22:02:54 2004
Subject: [mod_python] Authentication
In-Reply-To: <20010824101244.A29899@godel>
Message-ID: <5.1.0.14.2.20010824094552.035c9b30@pop.ftel.co.uk>

Unfortunately there is nothing in HTTP (the protocol) that lets a server 
tell a client browser to "forget" the basic authentication credentials it 
has acquired from the user for a given Realm. And while it has those 
credentials, the client browser will continue to attach them to any request 
it makes to the server for a relevant URL.

The mistake is to view HTTP basic authentication as being a login process 
and as a consequence conclude there should be a complementary logout 
process. The authentication model for HTTP allows the server to demand some 
credentials from a user and have those credentials attached to subdsequent 
accesses to the server. If the user hasn't changed why does he need to log 
out?

As you have noted, you can trigger a re-authentication which, if the user 
cancels it, leads to the browser "forgetting" the credentials it has 
associated with the Realm. But this is the best you can do.

The only way to implement a conventional login/logout style is to use an 
HTML form to capture the login credentials, return some identification info 
in a cookie accompanying the response to the form input and specify the 
cookie so that it is attached to subsequent HTTP requests to the server. 
The advantage of this is that a logout process can, in effect, tell the 
browser to destroy cookie by setting its expiry date.

Before deciding which way to deal with this, ask yourself: why does the 
dialogue between the user and your server require a logout.

At 10:12 24/08/2001 +0200, riesch@nieuw.nl wrote:
>Hi there,
>
>
>I'm using the standard authentication now (with the authenhandler). This 
>all works fine, but I can't seem to figure out how to let a user logout. 
>I've tried to pass information about logout with the url. Something like:
>
>http://www.site.com/?logout
>
>def authenhandler(req):
>    form = util.FieldStorage(req, keep_blank_values=1)
>
>    if form.has_key(logout):
>       return apache.HTTP_UNAUTHORIZED
>
>    pw   = req.get_basic_auth_pw()
>    user = req.connection.user
>    if correct_user(user, pw):
>       return apache.OK
>    else:
>       return apache.HTTP_UNAUTHORIZED
>
>
>
>Unfortunately, this has the following effects:
>-
>The dialog pops up, even if the user is entering an area that's not 
>protected. Not a very nice sollution, but workable (perhaps)
>-
>The url stays the same, which causes that the 'form' keeps logout-key. 
>This results in repeatedly returing of HTTP_UNAUTHORIZED.
>
>
>Does anyone have experience with this, or have some hints or thoughts ?
>
>
>Thanks ahead,
>Richard


From benno at sesgroup.net  Fri Aug 24 19:34:35 2001
From: benno at sesgroup.net (Ben Leslie)
Date: Fri Jan  9 22:02:54 2004
Subject: [mod_python] Authentication
In-Reply-To: <20010824101244.A29899@godel>
References: <20010824101244.A29899@godel>
Message-ID: <20010824193434.A17455@lister.sesgroup.net>

On Fri, 24 Aug 2001, riesch@nieuw.nl wrote:

> Hi there,
> 
> 
> I'm using the standard authentication now (with the authenhandler). 
> This all works fine, but I can't seem to figure out how to let a user logout.

They close the browser.

Ben

From peter at webreply.com  Fri Aug 24 08:32:46 2001
From: peter at webreply.com (Peter McA'Nulty)
Date: Fri Jan  9 22:02:54 2004
Subject: [mod_python] Authentication
References: <20010824101244.A29899@godel>
Message-ID: <000d01c12c98$e139d780$81a310ac@bogusdomain.com>

> ...even if the user is entering an area that's not protected. Not a very
nice sollution, but workable (perhaps)

The standard way of handling protected and unprotected data is something
like the config below.  You put protected files in one directory tree and
unprotected files in another tree (usually, the unprotected files include
all/most of your images, your css, etc)

<directory /apache/htdocs/vhostdir>
    PythonHandler pyhandler
    AddHandler python-program .py .phtml

    <directory /apache/htdocs/vhostdir/protected>
        PythonAuthenHandler authenhandler
        AuthType Basic
        AuthName "admin.dthk2"
        require valid-user
    </directory>

    <directory /apache/htdocs/vhostdir/UNprotected>
    </directory>
</directory>


----- Original Message -----
From: <riesch@nieuw.nl>
To: <mod_python@modpython.org>
Sent: Friday, August 24, 2001 4:12 AM
Subject: [mod_python] Authentication


> Hi there,
>
>
> I'm using the standard authentication now (with the authenhandler). This
all works fine, but I can't seem to figure out how to let a user logout.
I've tried to pass information about logout with the url. Something like:
>
> http://www.site.com/?logout
>
> def authenhandler(req):
>    form = util.FieldStorage(req, keep_blank_values=1)
>
>    if form.has_key(logout):
>       return apache.HTTP_UNAUTHORIZED
>
>    pw   = req.get_basic_auth_pw()
>    user = req.connection.user
>    if correct_user(user, pw):
>       return apache.OK
>    else:
>       return apache.HTTP_UNAUTHORIZED
>
>
>
> Unfortunately, this has the following effects:
> -
> The dialog pops up, even if the user is entering an area that's not
protected. Not a very nice sollution, but workable (perhaps)
> -
> The url stays the same, which causes that the 'form' keeps logout-key.
This results in repeatedly returing of HTTP_UNAUTHORIZED.
>
>
> Does anyone have experience with this, or have some hints or thoughts ?
>
>
> Thanks ahead,
> Richard
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From iwan at vanderkleyn.com  Tue Aug 28 10:08:40 2001
From: iwan at vanderkleyn.com (Iwan van der Kleyn)
Date: Fri Jan  9 22:02:54 2004
Subject: [mod_python] Getting modpython to work on Linux Mandrake 8.0?
Message-ID: <DNEPIPEBAKJOGPIPGPDNGEOHCBAA.iwan@vanderkleyn.com>

Hi there,

Has anyone been able to get modpython to work on Linux Mandrake 8.o? I've
installed it succesfully under previous versions of Mandrake, but no
luck with the latest.

I've compiled and installed Python v2.1 without thread support and
succesfully compiled modpython 2.7.6 and installed it into Apache as a DSO.
No error messages in the logfiles, so presumably that worked fine.

Then I had to configure commonhttpd.conf to include the <Directory> tag.
No succes here, because no matter what, apache/modpython failed to
detect the PythonHandler keyword. Changing the <Directory> into the
<Location> tag did work. Apache started wihout a problem, the Python
interpreter was loaded, but reported an errormessage because it couldn't
find the handler in its path. Using the PaythonPath keyword didn't help.
So I can only guess that this version of Apache uses a different way of
configuring
than which is mentioned in the modpython documentation.

So after trying for a day or so, I'm ready to give up and go back to
Tomcat :-)

If anyone did get modpython to work on Mandrake 8, I would be very
gratefull if he or she would share this information with me. I guess I would
already be helped by the correct commonhttpd.conf entries.

Regards,

Iwan



From Ares.liu at Clarent.com  Tue Aug 28 18:07:33 2001
From: Ares.liu at Clarent.com (Ares Liu)
Date: Fri Jan  9 22:02:54 2004
Subject: [mod_python] why not release modpython 2.7.6 binary on windows?
Message-ID: <000a01c12fa9$41d2d840$34461e0a@clarent.com>

The official site only has 2.7.4 of python21-apache1.3.20 on windows
binary. I need 2.7.6 of python 2.1.1-apache 1.3.20 on win98/me binary.
:-)
Ares Liu
 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010828/c21b9bf2/attachment-0003.htm
From tree at basistech.com  Tue Aug 28 06:44:59 2001
From: tree at basistech.com (Tom Emerson)
Date: Fri Jan  9 22:02:54 2004
Subject: [mod_python] Getting modpython to work on Linux Mandrake 8.0?
In-Reply-To: <DNEPIPEBAKJOGPIPGPDNGEOHCBAA.iwan@vanderkleyn.com>
References: <DNEPIPEBAKJOGPIPGPDNGEOHCBAA.iwan@vanderkleyn.com>
Message-ID: <15243.30251.554354.295650@magrathea.basistech.com>

Iwan van der Kleyn writes:
> I've compiled and installed Python v2.1 without thread support and
> succesfully compiled modpython 2.7.6 and installed it into Apache as a DSO.
> No error messages in the logfiles, so presumably that worked fine.

You can tell if it really worked by looking in the server's error log
right after you restart the server. On my FreeBSD system I get:

# /opt/www/bin/apachectl restart
/opt/www/bin/apachectl restart: httpd restarted 
# tail /opt/www/logs/error_log
...
[Tue Aug 28 06:37:46 2001] [notice] SIGHUP received.  Attempting to restart
[Tue Aug 28 06:37:46 2001] [notice] Apache/1.3.19 (Unix) mod_loopback/1.2
    PHP/4.0.4pl1 mod_python/2.7.5 Python/2.0 configured -- resuming normal
    operations

If you don't see the mod_python entry then the DSO isn't registered.

Make sure the lines:

LoadModule python_module     libexec/mod_python.so
AddModule mod_python.c

are in your configuration file.

> No succes here, because no matter what, apache/modpython failed to
> detect the PythonHandler keyword. Changing the <Directory> into the
> <Location> tag did work. Apache started wihout a problem, the Python
> interpreter was loaded, but reported an errormessage because it couldn't
> find the handler in its path. Using the PaythonPath keyword didn't help.
> So I can only guess that this version of Apache uses a different way of
> configuring than which is mentioned in the modpython documentation.

OK, so it sounds like the DSO is loading OK. Is the mod_python package
in your Python interpreter's load path? Do you have more than one copy
of Python on the machine? In the past I've had problems in that
situation.

Can you send the precise errors reported in the error_log and, if
applicable, in your messages file?

FWIW, I make use of mod_python in both <Directory> and <Location>
directives, using both SetHandler and AddHandler.

> So after trying for a day or so, I'm ready to give up and go back to
> Tomcat :-)

Ugh, anything but that. :-)

Sorry I can't offer more right now.

    -tree

-- 
Tom Emerson                                          Basis Technology Corp.
Sr. Sinostringologist                              http://www.basistech.com
  "Beware the lollipop of mediocrity: lick it once and you suck forever"

From piet at cs.uu.nl  Tue Aug 28 17:14:18 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 22:02:54 2004
Subject: [mod_python] why not release modpython 2.7.6 binary on windows?
In-Reply-To: Ares Liu's message of "Tue, 28 Aug 2001 18:07:33 +0800"
References: <000a01c12fa9$41d2d840$34461e0a@clarent.com>
Message-ID: <ulmk4dxo5.fsf@cs.uu.nl>

>>>>> Ares Liu <Ares.liu@Clarent.com> (AL) writes:

AL> The official site only has 2.7.4 of python21-apache1.3.20 on windows
AL> binary. I need 2.7.6 of python 2.1.1-apache 1.3.20 on win98/me binary.
AL> :-)
AL> Ares Liu
 
I have a compiled dll of 2.7.6 for Win32 .

-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From jholland at tomsw.com  Tue Aug 28 13:53:00 2001
From: jholland at tomsw.com (John Holland)
Date: Fri Jan  9 22:02:54 2004
Subject: [mod_python] installation
Message-ID: <20010828135300.A18639@tomsw.com>

This is probalby something really dumb but...

I compile modpython as a DSO, it seems to load fine, I create a /py
dir off of DocumentRoot, put a test.py type thing in there, and ...

the webserver just returns the contents of the script. I setup the <Directory>
stuff as in the install instructions - what am I missing or doing wrong?

John Holland

From sebastien.deleersnyder at be.unisys.com  Tue Aug 28 13:14:40 2001
From: sebastien.deleersnyder at be.unisys.com (Deleersnyder, Sebastien)
Date: Fri Jan  9 22:02:54 2004
Subject: [mod_python] installation
Message-ID: <3995C58A11F7D211A7EE00105AC580980192DC8F@BE-BRU-EXCH-2>

John

Weird.
Could you send the conf file content?
Something should be missing there.
Also: do you see that the mod_pythons module is loaded when
Apache (re)starts?

regards,

Sebastien

-----Original Message-----
From: John Holland [mailto:jholland@tomsw.com]
Sent: dinsdag 28 augustus 2001 19:53
To: mod_python@modpython.org
Subject: [mod_python] installation



This is probalby something really dumb but...

I compile modpython as a DSO, it seems to load fine, I create a /py
dir off of DocumentRoot, put a test.py type thing in there, and ...

the webserver just returns the contents of the script. I setup the
<Directory>
stuff as in the install instructions - what am I missing or doing wrong?

John Holland
_______________________________________________
Mod_python mailing list
Mod_python@modpython.org
http://www.modpython.org/mailman/listinfo/mod_python

From jholland at tomsw.com  Tue Aug 28 14:31:12 2001
From: jholland at tomsw.com (John Holland)
Date: Fri Jan  9 22:02:54 2004
Subject: [mod_python] installation
In-Reply-To: <3995C58A11F7D211A7EE00105AC580980192DC8F@BE-BRU-EXCH-2>; from sebastien.deleersnyder@be.unisys.com on Tue, Aug 28, 2001 at 01:14:40PM -0500
References: <3995C58A11F7D211A7EE00105AC580980192DC8F@BE-BRU-EXCH-2>
Message-ID: <20010828143112.A18924@tomsw.com>

I fixed it - it must have been a typo I wasn't seeing or something.
Hello World is just fine now, now on to whatever modpython holds.....


Thanks again

John

On Tue, Aug 28, 2001 at 01:14:40PM -0500, Deleersnyder, Sebastien wrote:
> John
> 
> Weird.
> Could you send the conf file content?
> Something should be missing there.
> Also: do you see that the mod_pythons module is loaded when
> Apache (re)starts?
> 
> regards,
> 
> Sebastien
> 
> -----Original Message-----
> From: John Holland [mailto:jholland@tomsw.com]
> Sent: dinsdag 28 augustus 2001 19:53
> To: mod_python@modpython.org
> Subject: [mod_python] installation
> 
> 
> 
> This is probalby something really dumb but...
> 
> I compile modpython as a DSO, it seems to load fine, I create a /py
> dir off of DocumentRoot, put a test.py type thing in there, and ...
> 
> the webserver just returns the contents of the script. I setup the
> <Directory>
> stuff as in the install instructions - what am I missing or doing wrong?
> 
> John Holland
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python

From riesch at nieuw.nl  Thu Aug 30 17:07:53 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 22:02:54 2004
Subject: [mod_python] Zope
Message-ID: <20010830170753.B23002@godel>

Hi there,


Off-topic as it is :

Has anyone experience with using zope and more specificaly with its database ? Is it possible to separate the database from the zope-architecture ? I can't figure out how .. but it would be usefull since it looks nice


Thanks ahead,
Richard

From jeremym at ipnetwork.com  Thu Aug 30 13:47:08 2001
From: jeremym at ipnetwork.com (Jeremy McCormick)
Date: Fri Jan  9 22:02:54 2004
Subject: [mod_python] python scripts like mod_perl
Message-ID: <F94044758132D511BEE000D0B73EC82B157164@MAIL2>

Hi, y'all.  I've gleaned a lot of good info and programs off this site,
including a mod_python dll for Win32 that links to the latest ActiveState
build of Python.

I'm having a minor configuration issue in getting my python scripts to
execute from a directory just under the Apache root of my Windows Nusphere
install, i.e. <Apache root> / python_scripts.  I can only get the scripts to
execute if they are located under the document root.  I would like to copy
the configuration of mod_perl, i.e. <Apache root> / perl-bin, which is an
alias for  "nsperl-bin"; these scripts execute perfectly.  However, when I
try a similar set-up with Python, Apache can't find the interpreter.  

Here is the relevant section from my httpd.conf (anything strange-looking
was inspired by the lines for mod_perl).

# BEGIN MOD_PYTHON CONFIG
LoadModule python_module modules/mod_python.dll
ScriptAlias /python-bin/ "d:/programs/nusphere/apache/nspython-bin"
<Location /python-bin>
   SetHandler python-script
   PythonHandler testpy
   Options ExecCGI
</Location>
#END MOD_PYTHON CONFIG

I would like to be able to execute scripts from my html like so:

<a href="/python-bin/testpy.py"> Test a python script </a>

...but, alas, tis not working unless I put the scripts somewhere in the
document root.  Any ideas?

Thanks in advance.  Please let me know if more information is needed about
my set-up.

From piet at cs.uu.nl  Fri Aug 31 11:01:47 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 22:02:54 2004
Subject: [mod_python] Zope
In-Reply-To: riesch@nieuw.nl's message of "Thu, 30 Aug 2001 17:07:53 +0200"
References: <20010830170753.B23002@godel>
Message-ID: <u1ylseh6s.fsf@cs.uu.nl>

>>>>> riesch@nieuw.nl (R) writes:

R> Hi there,
R> Off-topic as it is :

R> Has anyone experience with using zope and more specificaly with its database ? Is it possible to separate the database from the zope-architecture ? I can't figure out how .. but it would be usefull since it looks nice


The database (ZODB) is distributed separately, and I have used some simple
standalone python scripts with it. It would be possible to use it in
modpython, except for problems with synchronisation. 
There is no record locking or anything similar in ZODB, so in a Linux/Unix
environment where Apache starts up multiple processes you would have the
database open in these processes, which gives synchronisation problems.
When modpython works with Apache 2 which has threading one should be able
to solve this by opening the database only once. On MS Windows this should
also be possible I think. ZODB can be used in a multithreaded environment
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From riesch at nieuw.nl  Fri Aug 31 13:39:06 2001
From: riesch at nieuw.nl (riesch@nieuw.nl)
Date: Fri Jan  9 22:02:54 2004
Subject: [mod_python] cleaning up
Message-ID: <20010831133906.A23519@godel>

hi there,


Something else. I'm now using the shelve and with multiple processes I'm using a lock on a file to protect the data located in the shelve. All goes well when I let the transaction complete normally.

However when I break it off pre-maturaly the locks remain on the file (the process isn't really dead, since apache saves that for another request and the locks arent't removed). I've allready registered a cleanup-handler, but this isn't called on a breakup.

Is there something else ?



Thanks ahead,
Richard

From thm at duke.edu  Wed Aug 29 21:12:40 2001
From: thm at duke.edu (Hunter Matthews)
Date: Fri Jan  9 22:03:30 2004
Subject: [mod_python] RPMS available
Message-ID: <999133961.1289.5.camel@jade.biology.duke.edu>

I've been looking at migrating my application (long term) to python 2.2.
Toward that end, I've rebuilt the mod_python rpm from Red Hat 7.3 to use
python2, instead of python (1.5).

Its not THAT hard for someone who builds rpms regularly, but I was
wondering if anyone else would desire such a beast.

It warns that python2 is built with threads, but when I did a test build
against the original python (1.5.2) package, it was also built with
threads, so I am _assuming_ that this is ok.

If anyone wants them, I've also built sqlite and pysqlite packages for
7.3.
-- 
Hunter Matthews                          Unix / Network Administrator
Office: BioScience 145/244               Duke Univ. Biology Department
Key: F0F88438 / FFB5 34C0 B350 99A4 BB02  9779 A5DB 8B09 F0F8 8438
Never take candy from strangers. Especially on the internet.


