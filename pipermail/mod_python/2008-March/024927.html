<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Cookies and Redirects
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Cookies%20and%20Redirects&In-Reply-To=93D72CCF-F7D8-4750-A0DA-45C30956EDCF%40acm.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024926.html">
   <LINK REL="Next"  HREF="024929.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Cookies and Redirects</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Cookies%20and%20Redirects&In-Reply-To=93D72CCF-F7D8-4750-A0DA-45C30956EDCF%40acm.org"
       TITLE="[mod_python] Cookies and Redirects">graham.dumpleton at gmail.com
       </A><BR>
    <I>Wed Mar  5 16:22:25 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="024926.html">[mod_python] Cookies and Redirects
</A></li>
        <LI>Next message: <A HREF="024929.html">[mod_python] help installing DSO mod_python on Kubuntu 7.10
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24927">[ date ]</a>
              <a href="thread.html#24927">[ thread ]</a>
              <a href="subject.html#24927">[ subject ]</a>
              <a href="author.html#24927">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 06/03/2008, Kathryn Van Stone &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">kvs at acm.org</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Our web application has a login page that uses a POST.  Upon receiving the
</I>&gt;<i> POST, we set some cookies on the request object by using mod_python's
</I>&gt;<i> Cookie.add_cookie(request, c).  Then we set a Location header and return a
</I>&gt;<i> 303 to redirect the user to their &quot;home page&quot;.
</I>&gt;<i>
</I>&gt;<i> Specifically: the cookies header is set, the location header is set, the
</I>&gt;<i> status is set to 303, and 303 is returned from the PythonHandler.
</I>
Technically you shouldn't be doing both setting status to 303 and
returning status 303.

Post your actual minimal code for the handler which shows what you are
doing. Trying to describe it is not enough as you could be doing
something trivially wrong that you haven't mentioned and we wouldn't
know.

Graham

&gt;<i> Content is
</I>&gt;<i> not set. We have no later handlers.
</I>&gt;<i>
</I>&gt;<i> Unfortunately, the cookie headers do not seem to survive ---  they seem to
</I>&gt;<i> be there in log output from the code immediately prior to returning, but if
</I>&gt;<i> we examine the 303 response the client actually sees the cookie headers are
</I>&gt;<i> gone and only the Location header remains.  (In an earlier iteration we
</I>&gt;<i> returned a regular 200 with an HTML page that did a META redirect in the
</I>&gt;<i> &lt;head&gt;; that worked fine.)
</I>&gt;<i>
</I>&gt;<i> Any ideas?  Is Apache or mod_python eating the cookies at some lower level?
</I>&gt;<i> Is there a &quot;typical&quot; way people do this sort of operation?
</I>&gt;<i>
</I>&gt;<i> Kathy Van Stone (for a co-worker).
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">kvs at acm.org</A>
</I>&gt;<i>
</I>&gt;<i> Note: we haven't yet tried a bare handler that does just the above steps.
</I>&gt;<i> If people here say &quot;hmm, that should have worked&quot; that will be our next
</I>&gt;<i> step.  On the other hand, if there is a rule about redirects and cookies (or
</I>&gt;<i> if we should be returning something besides a 303 from the handler), that
</I>&gt;<i> would be helpful to know before we spend time trying to get this to work.
</I>&gt;<i>
</I>&gt;<i> (Current workaround is to go back to the HTML page with a meta).
</I>&gt;<i> _______________________________________________
</I>&gt;<i>  Mod_python mailing list
</I>&gt;<i>  <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i>  <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024926.html">[mod_python] Cookies and Redirects
</A></li>
	<LI>Next message: <A HREF="024929.html">[mod_python] help installing DSO mod_python on Kubuntu 7.10
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24927">[ date ]</a>
              <a href="thread.html#24927">[ thread ]</a>
              <a href="subject.html#24927">[ subject ]</a>
              <a href="author.html#24927">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
