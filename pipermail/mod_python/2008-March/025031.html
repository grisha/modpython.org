<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Chaining handlers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Chaining%20handlers&In-Reply-To=88e286470803191855l3f03fc4bw6ed8ab727a931f59%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025030.html">
   <LINK REL="Next"  HREF="025032.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Chaining handlers</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>David Champion</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Chaining%20handlers&In-Reply-To=88e286470803191855l3f03fc4bw6ed8ab727a931f59%40mail.gmail.com"
       TITLE="[mod_python] Chaining handlers">dgc at uchicago.edu
       </A><BR>
    <I>Wed Mar 19 23:16:48 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025030.html">[mod_python] Chaining handlers
</A></li>
        <LI>Next message: <A HREF="025032.html">[mod_python] Chaining handlers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25031">[ date ]</a>
              <a href="thread.html#25031">[ thread ]</a>
              <a href="subject.html#25031">[ subject ]</a>
              <a href="author.html#25031">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> The documentation does cover it, as long as you know what you are looking for.
</I>
Ugh.  I guess I don't -- I still don't see it, at least expressed in
this terminology.


&gt;<i> Before can suggest something, need to know what the criteria is that
</I>&gt;<i> you are wanting to block on. Are you wanting to implement HTTP basic
</I>&gt;<i> authorisation, ie., require user to login, or wanting to block based
</I>&gt;<i> on something else, such as client IP?
</I>
It could be a variety of things, honestly.  Fundamentally I'm going
to ask for a username and password, but the usernames and passwords
are in flux at all times (i.e. there's no singular password file / sql
database / bdb file / whatever), and we might want to block even a
valid user/password pair based on IP or some other criterion.  I want
to be able to interact with the user in these edge cases.  I have a CGI
that does this well, so I'm trying to make a handler that uses cookies
established by the CGI to make a straightforward access decision at the
handler level so that I don't need to call out to a gateway CGI for
every request.

It's also desirable in this case to use a form for the authN instead of
a browser-dependent Basic login dialog.


&gt;<i> Also, is this the only reason you are wanting to use mod_python, or do
</I>&gt;<i> you also have web applications that use mod_python specific APIs for
</I>&gt;<i> content handler? If you do have a web application, is it WSGI
</I>&gt;<i> compatible and thus could be hosted on any WSGI capable system?
</I>
I want this to act as a single signon service for a variety of
applications, but none of them is written in python at all.

The authentication information is available through a Python API,
so it's helpful to use Python to make the authN checks.  Other than
that I'm flexible, I guess -- there's no python-generated content
to serve.  I just have this odd user base that I need to provide my
own programmatic access to, and I don't want to do it separately for
several different applications.  I'd rather have the web server tell the
application that the user is pre-approved.  And I like Python most. :)

In the end this is not so different from any other SSO out there: detect
whether authN is required for the user, redirect to a login resource if
so, and then re-evaluate credentials upon return.  I just can't use any
existing SSOs that I know of because of where my user information is.

If there's some way I can bust it all through the *appearance* of HTTP
Basic just to get $REMOTE_USER on the application end, I can use that.
But I don't know any way to use Basic on the server without using it on
the client, unless it makes sense to make a two-pass handler that makes
an access decision first and filters incoming headers second.  But this
still leaves open how to engage CGI and PHP handlers later, so I'm not
sure it really solves the problem -- it's just another approach that
converges to the same point.


Thanks for your time.

-- 
 -D.    <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">dgc at uchicago.edu</A>    NSIT    University of Chicago
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025030.html">[mod_python] Chaining handlers
</A></li>
	<LI>Next message: <A HREF="025032.html">[mod_python] Chaining handlers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25031">[ date ]</a>
              <a href="thread.html#25031">[ thread ]</a>
              <a href="subject.html#25031">[ subject ]</a>
              <a href="author.html#25031">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
