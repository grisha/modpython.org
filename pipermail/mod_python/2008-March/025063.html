<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Importing package under mod_python
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Importing%20package%20under%20mod_python&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025058.html">
   <LINK REL="Next"  HREF="025064.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Importing package under mod_python</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Dominique.Holzwarth at ch.delarue.com</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Importing%20package%20under%20mod_python&In-Reply-To="
       TITLE="[mod_python] Importing package under mod_python">Dominique.Holzwarth at ch.delarue.com
       </A><BR>
    <I>Tue Mar 25 05:37:46 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025058.html">[mod_python] Persistent objects in sub-interpreters
</A></li>
        <LI>Next message: <A HREF="025064.html">[mod_python] Importing package under mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25063">[ date ]</a>
              <a href="thread.html#25063">[ thread ]</a>
              <a href="subject.html#25063">[ subject ]</a>
              <a href="author.html#25063">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hello everyone

I've got some problems with importing modules from packages when using
mod_python.
Currently I'm using the Publisher Handler which is configured like this:

&lt;Directory &quot;C:\Program Files\Apache Software
Foundation\Apache2.2\htdocs\python&quot;&gt; 
		AddHandler mod_python .py
		PythonHandler mod_python.publisher		
		PythonDebug On 
&lt;/Directory&gt;

My directory structure looks like this

python/
	main.py
	database/
		__init__.py
		common.py
(i hope the tabs will be posted correctly...)

The main.py looks like this:

*********************************
from database import common

def index(req):
	msg = database.common.myCommonVariable
	return msg
*********************************

The common.py just defines a variable:

myCommonVariable = &quot;hello&quot;

When I do a <A HREF="http://localhost/python/main.py">http://localhost/python/main.py</A> I get the following error:

URI:            '/python/main.py'
Location:       None
Directory:      'C:/Program Files/Apache Software
Foundation/Apache2.2/htdocs/python/'
Filename:       'C:\\Program Files\\Apache Software
Foundation\\Apache2.2\\htdocs\\python\\main.py'
PathInfo:       ''

Phase:          'PythonHandler'
Handler:        'mod_python.publisher'

Traceback (most recent call last):

  File &quot;C:\Program
Files\Python25\Lib\site-packages\mod_python\importer.py&quot;, line 1537, in
HandlerDispatch
    default=default_handler, arg=req, silent=hlist.silent)

  File &quot;C:\Program
Files\Python25\Lib\site-packages\mod_python\importer.py&quot;, line 1229, in
_process_target
    result = _execute_target(config, req, object, arg)

  File &quot;C:\Program
Files\Python25\Lib\site-packages\mod_python\importer.py&quot;, line 1128, in
_execute_target
    result = object(arg)

  File &quot;C:\Program
Files\Python25\Lib\site-packages\mod_python\publisher.py&quot;, line 204, in
handler
    module = page_cache[req]

  File &quot;C:\Program
Files\Python25\Lib\site-packages\mod_python\importer.py&quot;, line 1059, in
__getitem__
    return import_module(req.filename)

  File &quot;C:\Program
Files\Python25\Lib\site-packages\mod_python\importer.py&quot;, line 296, in
import_module
    log, import_path)

  File &quot;C:\Program
Files\Python25\Lib\site-packages\mod_python\importer.py&quot;, line 680, in
import_module
    execfile(file, module.__dict__)

  File &quot;C:\Program Files\Apache Software
Foundation\Apache2.2\htdocs\python\main.py&quot;, line 1, in &lt;module&gt;
    from database import common

ImportError: No module named database

I've found an old post in the mailing list concerning the same problem
and according to that post it should work... Does anyone have an idea
what could be wrong?	

Greetings
Dominique

*********************************
This e-mail and any files attached are strictly confidential, may be legally privileged and are intended solely for the addressee. If you are not the intended recipient please notify the sender immediately by return email and then delete the e-mail and any attachments immediately. The views and or opinions expressed in this e-mail are not necessarily the views of De La Rue plc or any of its subsidiaries and the De La Rue Group of companies, their directors, officers and employees make no representation about and accept no liability for its accuracy or completeness. You should ensure that you have adequate virus protection as the De La Rue Group of companies do not accept liability for any viruses 
De La Rue plc Registered No.3834125, De La Rue Holdings plc Registered No 58025 and De La Rue International Limited Registered No 720284 are all registered in England with their registered office at: De La Rue House, Jays Close, Viables, Hampshire RG22 4BS
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025058.html">[mod_python] Persistent objects in sub-interpreters
</A></li>
	<LI>Next message: <A HREF="025064.html">[mod_python] Importing package under mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25063">[ date ]</a>
              <a href="thread.html#25063">[ thread ]</a>
              <a href="subject.html#25063">[ subject ]</a>
              <a href="author.html#25063">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
