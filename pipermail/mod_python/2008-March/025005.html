<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] mod_python &amp; Leopard
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20%26%20Leopard&In-Reply-To=20080318005035.ZG93W.41050.imail%40fed1rmwml33">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025004.html">
   <LINK REL="Next"  HREF="025007.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] mod_python &amp; Leopard</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20%26%20Leopard&In-Reply-To=20080318005035.ZG93W.41050.imail%40fed1rmwml33"
       TITLE="[mod_python] mod_python &amp; Leopard">graham.dumpleton at gmail.com
       </A><BR>
    <I>Tue Mar 18 01:09:28 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025004.html">[mod_python] mod_python &amp; Leopard
</A></li>
        <LI>Next message: <A HREF="025007.html">[mod_python] mod_python &amp; Leopard
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25005">[ date ]</a>
              <a href="thread.html#25005">[ thread ]</a>
              <a href="subject.html#25005">[ subject ]</a>
              <a href="author.html#25005">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please use reply-all and keep discussion on the list.

On 18/03/2008, Brian &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">brianlong at cox.net</A>&gt; wrote:
&gt;<i> Graham ::
</I>&gt;<i>
</I>&gt;<i>  I must be doing something stupid here... I run ./configure --with-apxs=/usr/sbin/apxs --with-python-src, below is the result.  However, when I run make, nothing happens.
</I>
You shouldn't use --with-python-src. What are you trying to achieve?
If you want to point it at a particular version of Python use the
--with-python option and point it at the 'python' executable location.
If using standard Python installation you don't need to specify it,
but it needs to be first in your PATH. Anyway, using --with-python-src
still should not affect things.

Other than that, please show all output generated when you run 'make',
even if you think it doesn't actually do anything.

Also, please don't use MacPorts Python 2.5. Use the OS supplied
Python. If need be use --with-python=/usr/bin/python as option to
configure. MacPorts Python often causes conflicts and causes things to
not work properly where Python 2.5 is installed when OS already
supplies that version.

Graham

&gt;<i>  sh-3.2# ./configure --with-apxs=/usr/sbin/apxs --with-python-src
</I>&gt;<i>  checking for gcc... gcc
</I>&gt;<i>  checking for C compiler default output file name... a.out
</I>&gt;<i>  checking whether the C compiler works... yes
</I>&gt;<i>  checking whether we are cross compiling... no
</I>&gt;<i>  checking for suffix of executables...
</I>&gt;<i>  checking for suffix of object files... o
</I>&gt;<i>  checking whether we are using the GNU C compiler... yes
</I>&gt;<i>  checking whether gcc accepts -g... yes
</I>&gt;<i>  checking for gcc option to accept ANSI C... none needed
</I>&gt;<i>  checking for ar... ar
</I>&gt;<i>  checking for a BSD-compatible install... /usr/bin/install -c
</I>&gt;<i>  checking whether make sets $(MAKE)... yes
</I>&gt;<i>  checking for main in -lm... yes
</I>&gt;<i>  checking for an ANSI C-conforming const... yes
</I>&gt;<i>  checking your blood pressure... a bit high, but we can proceed
</I>&gt;<i>  configure: checking whether apxs is available...
</I>&gt;<i>  checking Apache version... 2.2.6
</I>&gt;<i>  checking for Apache libexec directory... /usr/libexec/apache2
</I>&gt;<i>  checking for Apache include directory... -I/usr/include/apache2
</I>&gt;<i>  checking for --with-python... no
</I>&gt;<i>  checking for python... /Library/Frameworks/Python.framework/Versions/Current/bin/python
</I>&gt;<i>  checking Python version... 2.5
</I>&gt;<i>  checking for --with-python-src... yes
</I>&gt;<i>  checking for --with-mutex-dir... no
</I>&gt;<i>  Using MUTEX_DIR /tmp
</I>&gt;<i>  checking for --with-max-locks... no
</I>&gt;<i>  Using 8 MAX_LOCKS.
</I>&gt;<i>  checking for --with-flex... no
</I>&gt;<i>  checking for flex... /usr/bin/flex
</I>&gt;<i>  found /usr/bin/flex, we'll use this. Use --with-flex to specify another.
</I>&gt;<i>  checking flex version... 2.5.33. Good
</I>&gt;<i>  configure: creating ./config.status
</I>&gt;<i>  config.status: creating Makefile
</I>&gt;<i>  config.status: creating src/Makefile
</I>&gt;<i>  config.status: creating Doc/Makefile
</I>&gt;<i>  config.status: creating src/include/mod_python.h
</I>&gt;<i>  config.status: creating test/Makefile
</I>&gt;<i>  config.status: creating test/testconf.py
</I>&gt;<i>  config.status: creating dist/setup.py
</I>&gt;<i>  config.status: creating dist/Makefile
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  B
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  ---- Graham Dumpleton &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">graham.dumpleton at gmail.com</A>&gt; wrote:
</I>&gt;<i>  &gt; Try mod_python from subversion source repository. See:
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;  <A HREF="http://www.modpython.org/pipermail/mod_python/2008-March/024954.html">http://www.modpython.org/pipermail/mod_python/2008-March/024954.html</A>
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt; Graham
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt; On 18/03/2008, Brian &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">brianlong at cox.net</A>&gt; wrote:
</I>&gt;<i>  &gt; &gt; Have read many posts on the internet and I can not get mod_python running on my Mac.
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt;  I am getting the following error ::
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt;  httpd: Syntax error on line 95 of /private/etc/apache2/httpd.conf: Can't locate API module structure `python_module' in file /usr/libexec/apache2/mod_python.so: dlsym(0x100204600, python_module): symbol not found
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt;  I am using MacOSX Leopard 10.5.2
</I>&gt;<i>  &gt; &gt;  Apache 2.2.6
</I>&gt;<i>  &gt; &gt;  Python 2.5
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt;  ./src/Makefile
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt;  LDFLAGS= -Wl,-framework,Python  -u _PyMac_Error $(PYTHONFRAMEWORKDIR)/Versions/$(VERSION)/$(PYTHONFRAMEWORK) -arch ppc -arch ppc64 -arch i386 -arch x86_64 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -g
</I>&gt;<i>  &gt; &gt;  OPT=
</I>&gt;<i>  &gt; &gt;  CFLAGS=$(OPT) $(INCLUDES) -Wc,&quot;-arch ppc&quot; -Wc,&quot;-arch ppc64&quot; -Wc,&quot;-arch i386&quot; -Wc,&quot;-arch x86_64&quot;
</I>&gt;<i>  &gt; &gt;  srcdir=.
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt;  SRCS=   mod_python.c _apachemodule.c requestobject.c tableobject.c util.c \
</I>&gt;<i>  &gt; &gt;                 serverobject.c connobject.c filterobject.c hlist.c \
</I>&gt;<i>  &gt; &gt;                 hlistobject.c finfoobject.c
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt;  all:    dso
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt;  psp_parser.c: psp_parser.l
</I>&gt;<i>  &gt; &gt;         @rm -f psp_parser.c
</I>&gt;<i>  &gt; &gt;         $(LEX) -R -opsp_parser.c --header-file=include/psp_flex.h psp_parser.l
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt;  dso:    mod_python.so
</I>&gt;<i>  &gt; &gt;         @echo dso &gt; .install
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt;  mod_python.so: $(SRCS)
</I>&gt;<i>  &gt; &gt;         @echo
</I>&gt;<i>  &gt; &gt;         @echo 'Compiling for DSO.'
</I>&gt;<i>  &gt; &gt;         @echo
</I>&gt;<i>  &gt; &gt;         $(APXS) $(INCLUDES) -c -Wc,&quot;-arch x86_64&quot; $(SRCS) $(LDFLAGS) $(LIBS)
</I>&gt;<i>  &gt; &gt;         @rm -f mod_python.so
</I>&gt;<i>  &gt; &gt;         @ln -s .libs/mod_python.so mod_python.so
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt;  RESULT OF file /usr/libexec/apache2/mod_python.so
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt;  /usr/libexec/apache2/mod_python.so: Mach-O universal binary with 3 architectures
</I>&gt;<i>  &gt; &gt;  /usr/libexec/apache2/mod_python.so (for architecture i386):     Mach-O bundle i386
</I>&gt;<i>  &gt; &gt;  /usr/libexec/apache2/mod_python.so (for architecture ppc):      Mach-O bundle ppc
</I>&gt;<i>  &gt; &gt;  /usr/libexec/apache2/mod_python.so (for architecture x86_64):   Mach-O 64-bit bundle x86_64
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt;  When I do a 'Get Info' on /usr/src/httpd, the kind is listed as 'Universal'
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt;  Thanx for any help
</I>&gt;<i>  &gt; &gt;  B
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt;  _______________________________________________
</I>&gt;<i>  &gt; &gt;  Mod_python mailing list
</I>&gt;<i>  &gt; &gt;  <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i>  &gt; &gt;  <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025004.html">[mod_python] mod_python &amp; Leopard
</A></li>
	<LI>Next message: <A HREF="025007.html">[mod_python] mod_python &amp; Leopard
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25005">[ date ]</a>
              <a href="thread.html#25005">[ thread ]</a>
              <a href="subject.html#25005">[ subject ]</a>
              <a href="author.html#25005">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
