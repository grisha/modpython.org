<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Lock-Problem with Oracle
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Lock-Problem%20with%20Oracle&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024986.html">
   <LINK REL="Next"  HREF="024988.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Lock-Problem with Oracle</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Hartmut Fr&#246;ls</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Lock-Problem%20with%20Oracle&In-Reply-To="
       TITLE="[mod_python] Lock-Problem with Oracle">h.froels at web.de
       </A><BR>
    <I>Fri Mar 14 09:16:07 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="024986.html">[mod_python] [Pywebsvcs-talk] Spontaneous 404
</A></li>
        <LI>Next message: <A HREF="024988.html">[mod_python] Lock-Problem with Oracle
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24987">[ date ]</a>
              <a href="thread.html#24987">[ thread ]</a>
              <a href="subject.html#24987">[ subject ]</a>
              <a href="author.html#24987">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Group,

I try to use mod_python to generate a browser-based GUI for a
small ERP-Application.
I use Apache 2.2, mod_python 3.3.1 and Python 2.4.4  with Oracle 9i2.

At first I wrote a programm  like this:

########################################
import db      # my database handlers with cx_Oracle

def index(req):

   ...               # generate a http-page with a form

   return http

def GetDat(req,**data):
      .....
      db.select(...... for_update=1)
      .....
      return data

def PutDat(req,**data):
      .....
      db.update(data)
      .....
      return succes

#########################################

The http-page has some AJAX-functions, which send and recieve
the datas the user needs or has updatet.

The problem is, when the programm makes the update on the
database, it waits for the lock, because the programm has opend
a second cursor for the update, although the cursor-objects should
be global. I know, after reading many of the postings in this group and all over
the web, that this is because mod_python opens a new request for
the call of the PutDat() function and this new interpreter-instance of
this request has its own global vars.
So I come to my question: is there any way to tell mod_python, that the
AJAX-request from the http-page must go to the interpreter-instance,
that has generatet the page ?  Or do You know any other solution for
this lock-problem ?

I hope anyone can help me.  (Sorry for my bad English)

- Hartmut

_______________________________________________________________________
Jetzt neu! Sch&#252;tzen Sie Ihren PC mit McAfee und WEB.DE. 30 Tage
kostenlos testen. <A HREF="http://www.pc-sicherheit.web.de/startseite/?mc=022220">http://www.pc-sicherheit.web.de/startseite/?mc=022220</A>


</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024986.html">[mod_python] [Pywebsvcs-talk] Spontaneous 404
</A></li>
	<LI>Next message: <A HREF="024988.html">[mod_python] Lock-Problem with Oracle
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24987">[ date ]</a>
              <a href="thread.html#24987">[ thread ]</a>
              <a href="subject.html#24987">[ subject ]</a>
              <a href="author.html#24987">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
