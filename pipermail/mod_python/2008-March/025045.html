<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] PSP handler forces content_type text/html ;
	can this be overridden?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20PSP%20handler%20forces%20content_type%20text/html%20%3B%0A%09can%20this%20be%20overridden%3F&In-Reply-To=-4983919311374577227%40unknownmsgid">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025043.html">
   <LINK REL="Next"  HREF="025047.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] PSP handler forces content_type text/html ;
	can this be overridden?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20PSP%20handler%20forces%20content_type%20text/html%20%3B%0A%09can%20this%20be%20overridden%3F&In-Reply-To=-4983919311374577227%40unknownmsgid"
       TITLE="[mod_python] PSP handler forces content_type text/html ;
	can this be overridden?">graham.dumpleton at gmail.com
       </A><BR>
    <I>Sun Mar 23 06:21:43 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025043.html">[mod_python] Re: mod_python issua
</A></li>
        <LI>Next message: <A HREF="025047.html">[mod_python] Building mod_python 3.3.1 for Python 2.5.2 on Mac OS X
	10.5.2 (Leopard)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25045">[ date ]</a>
              <a href="thread.html#25045">[ thread ]</a>
              <a href="subject.html#25045">[ subject ]</a>
              <a href="author.html#25045">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 23/03/2008, Sidney Cadot &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">sidney.cadot at jigsaw.nl</A>&gt; wrote:
&gt;<i> Hi Graham,
</I>&gt;<i>
</I>&gt;<i>  Thanks for the answer. As you point out it is quite possible to generate a
</I>&gt;<i>  proper XHTML content-type by going slightly 'below the surface' of PSP.
</I>&gt;<i>
</I>&gt;<i>  However as a general principle I shouldn't have resort to that. It feel like
</I>&gt;<i>  bad practice to look at someone else's code, copy the relevant bits in the
</I>&gt;<i>  current version of their software, and paste it into my own code, changing
</I>&gt;<i>  the single line that is disagreeable for my current problem.
</I>&gt;<i>
</I>&gt;<i>  In my opinion it would be a lot nicer (from a software engineering
</I>&gt;<i>  standpoint) if there were a documented way of overriding the content-type
</I>&gt;<i>  that the PSP.handler() sets, that is available in the standard, published
</I>&gt;<i>  interface of PSP.
</I>&gt;<i>
</I>&gt;<i>  Something like:
</I>&gt;<i>
</I>&gt;<i>  class PSP:
</I>&gt;<i>     def handler(req):
</I>&gt;<i>         req.content_type = config.get(&quot;PythonPSPContentType&quot;, &quot;text/html&quot;)
</I>&gt;<i>         ... etcetera ...
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  Is this the correct mailing list to suggest / argue for such a change or
</I>&gt;<i>  should I head over to <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">python-dev at httpd.apache.org</A> ?
</I>
Here is as good as place as any, the developer list has been very
quiet for a long time.

Anyway, I would not be concerned about dropping below the surface, the
PSP object is meant to be used directly and you are not restricted to
just using the psp top level handler. Many people use PSP object
directly from publisher handlers to generate response content, often
as non HTML.

If you want to suggest something like above, best to create an issue for it at:

  <A HREF="http://issues.apache.org/jira/browse/MODPYTHON">http://issues.apache.org/jira/browse/MODPYTHON</A>

That way it will not be forgotten if anyone ever decides to go and do
further work on PSP.

Graham
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025043.html">[mod_python] Re: mod_python issua
</A></li>
	<LI>Next message: <A HREF="025047.html">[mod_python] Building mod_python 3.3.1 for Python 2.5.2 on Mac OS X
	10.5.2 (Leopard)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25045">[ date ]</a>
              <a href="thread.html#25045">[ thread ]</a>
              <a href="subject.html#25045">[ subject ]</a>
              <a href="author.html#25045">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
