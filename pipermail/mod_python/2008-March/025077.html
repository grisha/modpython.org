<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Another sessions problem...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Another%20sessions%20problem...&In-Reply-To=88e286470803261303o6db0be50l1da30bc130382e0c%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025072.html">
   <LINK REL="Next"  HREF="025078.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Another sessions problem...</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Dominique.Holzwarth at ch.delarue.com</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Another%20sessions%20problem...&In-Reply-To=88e286470803261303o6db0be50l1da30bc130382e0c%40mail.gmail.com"
       TITLE="[mod_python] Another sessions problem...">Dominique.Holzwarth at ch.delarue.com
       </A><BR>
    <I>Thu Mar 27 03:54:12 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025072.html">[mod_python] Another sessions problem...
</A></li>
        <LI>Next message: <A HREF="025078.html">[mod_python] Another sessions problem...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25077">[ date ]</a>
              <a href="thread.html#25077">[ thread ]</a>
              <a href="subject.html#25077">[ subject ]</a>
              <a href="author.html#25077">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Here's the &quot;protocol&quot; of what happen's when I call the &quot;sessiontest1.py&quot; and then click the button on the generated form:


<A HREF="http://dchbna0308/python/sessiontest1.py">http://dchbna0308/python/sessiontest1.py</A>

GET /python/sessiontest1.py HTTP/1.1
Host: dchbna0308
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-GB; rv:1.8.1.10) Gecko/20071115 Firefox/2.0.0.10
Accept: text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5
Accept-Language: en-gb,en;q=0.5
Accept-Encoding: gzip,deflate
Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7
Keep-Alive: 300
Connection: keep-alive
Cookie: pysid=5df5a82bc6780d5c9364619e0fe452f6

HTTP/1.x 200 OK
Date: Thu, 27 Mar 2008 07:42:28 GMT
Server: Apache/2.2.4 (Win32) mod_python/3.3.1 Python/2.5.1
Cache-Control: no-cache=&quot;set-cookie&quot;
Set-Cookie: pysid=e97a4f4e71f967639a44fe260cfae9d8; path=/python/
Content-Length: 298
Keep-Alive: timeout=5, max=100
Connection: Keep-Alive
Content-Type: text/html
----------------------------------------------------------
<A HREF="http://dchbna0308/python/sessiontest2.py">http://dchbna0308/python/sessiontest2.py</A>

POST /python/sessiontest2.py HTTP/1.1
Host: dchbna0308
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-GB; rv:1.8.1.10) Gecko/20071115 Firefox/2.0.0.10
Accept: text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5
Accept-Language: en-gb,en;q=0.5
Accept-Encoding: gzip,deflate
Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7
Keep-Alive: 300
Connection: keep-alive
Referer: <A HREF="http://dchbna0308/python/sessiontest1.py">http://dchbna0308/python/sessiontest1.py</A>
Cookie: pysid=e97a4f4e71f967639a44fe260cfae9d8
Content-Type: application/x-www-form-urlencoded
Content-Length: 29
counter=1&amp;new=2345&amp;button=Add

HTTP/1.x 200 OK
Date: Thu, 27 Mar 2008 07:42:35 GMT
Server: Apache/2.2.4 (Win32) mod_python/3.3.1 Python/2.5.1
Cache-Control: no-cache=&quot;set-cookie&quot;
Set-Cookie: pysid=20da3d07fa40e8d4399f627b422ddb93; path=/python/
Content-Length: 48
Keep-Alive: timeout=5, max=100
Connection: Keep-Alive
Content-Type: text/plain

If I understand it correct the server generates a cookie with the pysid=e97a4f4e71f967639a44fe260cfae9d8 and path=/python/. Then, when I hit the form button the POST message sends the cookie back with that same ID pysid=e97a4f4e71f967639a44fe260cfae9d8. The server then still creates a response (200 OK) with a NEW pysid=20da3d07fa40e8d4399f627b422ddb93...
So I personaly still don't get what could be wrong :-/

As for your question about other cookies. Yes, I probably HAVE other cookies stored because I already have done some session testing before (an 'easier' example which worked...). Is there a problem with having several cookies (from the same 'domain/localhost')?

Greetings
Dominique

-----Original Message-----
From: Graham Dumpleton [mailto:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">graham.dumpleton at gmail.com</A>]
Sent: Mittwoch, 26. M&#228;rz 2008 21:04
To: Holzwarth, Dominique (Berne Bauhaus)
Cc: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
Subject: Re: [mod_python] Another sessions problem...

Inspect the value of the cookie in the browser, post it here. What is the path attribute associated with it? Do you perhaps have two cookies stored in the browser with different paths because of how you have configured mod_python? You can also use live headers extension in FireFox to see what the cookie header sent back in response is to validate it looks right.

Graham


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025072.html">[mod_python] Another sessions problem...
</A></li>
	<LI>Next message: <A HREF="025078.html">[mod_python] Another sessions problem...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25077">[ date ]</a>
              <a href="thread.html#25077">[ thread ]</a>
              <a href="subject.html#25077">[ subject ]</a>
              <a href="author.html#25077">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
