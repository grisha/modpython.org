<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] inithandler?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20inithandler%3F&In-Reply-To=20010918001139.A11306%40godel">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004761.html">
   <LINK REL="Next"  HREF="004764.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] inithandler?</H1>
    <B>Gregory (Grisha) Trubetskoy</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20inithandler%3F&In-Reply-To=20010918001139.A11306%40godel"
       TITLE="[mod_python] inithandler?">grisha at modpython.org
       </A><BR>
    <I>Mon Sep 17 22:59:18 EST 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="004761.html">[mod_python] inithandler?
</A></li>
        <LI>Next message: <A HREF="004764.html">[mod_python] inithandler?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4762">[ date ]</a>
              <a href="thread.html#4762">[ thread ]</a>
              <a href="subject.html#4762">[ subject ]</a>
              <a href="author.html#4762">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<table border=0 width="100%"><tr><td>
<!--beginarticle-->
<PRE>There is a PythonImport, which essentially does this. It has some severe
limitations.

The thing is that mod_python will create separate subinterpreters for
separate virtual servers (or optionally directories), but the only
opportunity to learn this information is during request procesing.

At Apache startup time you can't tell what the subinterpreters will be.
You have an option of manually giving interpreters names and making sure
that PythonImport executes under a specific name, but it's just kind of
messy....

I understand what the problem is, but  can't think of a clean solution to
it.

Grisha


On Tue, 18 Sep 2001 <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">harm at millionmonkeys.nl</A> wrote:

&gt;<i> Moi,
</I>&gt;<i>
</I>&gt;<i> first of all thanks for mod_python. I come from an (mod_)perl world and the
</I>&gt;<i> python version definitely is the easier one to use (There are tons of traps
</I>&gt;<i> you have to watch out for under mod_perl).
</I>&gt;<i>
</I>&gt;<i> Anyway. My tiny question.
</I>&gt;<i>
</I>&gt;<i> Why is there no init handler? It would run the moment the python
</I>&gt;<i> interpreter gets loaded/intiated by the freshly forked apache. It would be a
</I>&gt;<i> nice place to initialise some site global modules.
</I>&gt;<i>
</I>&gt;<i> Sure, I could do a:
</I>&gt;<i> if not mypersistentvar:
</I>&gt;<i>    mypersistentvar = Some.Nice.Object()
</I>&gt;<i>
</I>&gt;<i> but an InitHandler does look like cleaner to me.
</I>&gt;<i>
</I>&gt;<i> Any better way to arrange initialisation than the above method?
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Harmen
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i>                                                          The Moon is New
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://www.modpython.org/mailman/listinfo/mod_python">http://www.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>

</PRE>
<!--endarticle-->
</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004761.html">[mod_python] inithandler?
</A></li>
	<LI>Next message: <A HREF="004764.html">[mod_python] inithandler?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4762">[ date ]</a>
              <a href="thread.html#4762">[ thread ]</a>
              <a href="subject.html#4762">[ subject ]</a>
              <a href="author.html#4762">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
