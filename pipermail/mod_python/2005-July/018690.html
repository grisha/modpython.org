<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Directory wildcard handling
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Directory%20wildcard%20handling&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018695.html">
   <LINK REL="Next"  HREF="018692.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Directory wildcard handling</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Kevin Quick</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Directory%20wildcard%20handling&In-Reply-To="
       TITLE="[mod_python] Directory wildcard handling">modpy at sparq.org
       </A><BR>
    <I>Wed Jul 13 18:59:51 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="018695.html">[mod_python] Getting an Old Session
</A></li>
        <LI>Next message: <A HREF="018692.html">[mod_python] Directory wildcard handling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18690">[ date ]</a>
              <a href="thread.html#18690">[ thread ]</a>
              <a href="subject.html#18690">[ subject ]</a>
              <a href="author.html#18690">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Attached is a patch that does two things:

1) On module import failures, logfile contains additional information showing
   system paths as well as module name.

2) Support of Python*Handler found in a wildcard-based directory.  For example,

&lt;IfModule mod_python.c&gt; 
    &lt;Directory /home/*/public_html/python&gt; 
        AddHandler mod_python .py 
        PythonHandler helloworld 
        PythonDebug on 
    &lt;/Directory&gt; 
&lt;/IfModule&gt; 

which mirrors a corresponding perl setting and would allow the user to
place a mod_python handler in their $HOME/public_html/python directory.

In the current code, the wildcard is not translated, the sys.path update
will be invalid, and the user's module will not be accessible.  The attached
patch provides a fix for this.

N.B. There are obvious security issues in using this type of configuration,
but this is very useful for dev environments, and security would implemented
via explicit alternatives anyhow.

-- 
-KQ




-------------------------------------------------
This mail sent through IMP: <A HREF="http://horde.org/imp/">http://horde.org/imp/</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: kwq_path_cvsdiff.diff
Type: application/octet-stream
Size: 1185 bytes
Desc: not available
Url : <A HREF="http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20050713/90af2c68/kwq_path_cvsdiff.obj">http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20050713/90af2c68/kwq_path_cvsdiff.obj</A>
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018695.html">[mod_python] Getting an Old Session
</A></li>
	<LI>Next message: <A HREF="018692.html">[mod_python] Directory wildcard handling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18690">[ date ]</a>
              <a href="thread.html#18690">[ thread ]</a>
              <a href="subject.html#18690">[ subject ]</a>
              <a href="author.html#18690">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
