<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] running multiple mod_python apps under one apache
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20running%20multiple%20mod_python%20apps%20under%20one%20apache&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018717.html">
   <LINK REL="Next"  HREF="018716.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] running multiple mod_python apps under one apache</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20running%20multiple%20mod_python%20apps%20under%20one%20apache&In-Reply-To="
       TITLE="[mod_python] running multiple mod_python apps under one apache">grahamd at dscpl.com.au
       </A><BR>
    <I>Mon Jul 18 19:51:46 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="018717.html">[mod_python] running multiple mod_python apps under one apache
</A></li>
        <LI>Next message: <A HREF="018716.html">[mod_python] Talk on Vampire (Thursday 21st - Sydney/Australia)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18715">[ date ]</a>
              <a href="thread.html#18715">[ thread ]</a>
              <a href="subject.html#18715">[ subject ]</a>
              <a href="author.html#18715">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Kevin J. Smith wrote ..
&gt;<i>
</I>&gt;<i> I am currently trying to run a number of mod_python applications on one
</I>&gt;<i> server but it is starting to be difficult to manage and was always clunky
</I>&gt;<i> to 
</I>&gt;<i> implement. What are the ways to configure apache so that two mod_python
</I>&gt;<i> applications can run under one apache without running into each other?
</I>
Have a look at the following directives for mod_python:

  PythonInterpreter
  PythonInterpPerDirective

These allow you to assign a separate Python interpreter to each distinct
application in slightly different ways. With each application running in a
distinct interpreter, it is harder for them to intefere with each other.

&gt;<i> There is also the 
</I>&gt;<i> long-standing problem of having to restart apache when key modifications are 
</I>&gt;<i> done to the code otherwise it does not properly re-import the module. 
</I>&gt;<i> Therefore, the application owners have to be able to restart apache.
</I>
The module importation system as implemented by mod_python has various
shortcomings. It may perhaps help first to understand some of the issues
with it a bit better if don't understand them already. For that, suggest reading:

  <A HREF="http://www.dscpl.com.au/articles/modpython-002.html">http://www.dscpl.com.au/articles/modpython-002.html</A>
  <A HREF="http://www.dscpl.com.au/articles/modpython-003.html">http://www.dscpl.com.au/articles/modpython-003.html</A>

&gt;<i> Currently, if each project has a config file then the last PythonPath 
</I>&gt;<i> directive trumps all previous, among other problems that we have worked
</I>&gt;<i> around and if they are running as virtual sites then they must stick to
</I>&gt;<i> unique directories as it is a flat namespace according to mod_python. Is
</I>&gt;<i> there a way to do virtual hosting of mod_python?
</I>
That there is a flat namespace as you refer to it is a pain, although some on
the list reckon it is quite reasonable, as it is the Python way of doing things.

There has been slow movement on addressing the problems in the module
importing system and the above articles are a part of that process. There
has also been a bit of discussion on the mailing list recently about how it
could actually work:

  <A HREF="http://www.modpython.org/pipermail/mod_python/2005-July/018642.html">http://www.modpython.org/pipermail/mod_python/2005-July/018642.html</A>

The closest you are going to get to a reasonable working solution at the
moment is to perhaps use the Vampire package as a base for applications.
This package provides a improved module importing system which solves
the major problems in the existing system. When used properly, you don't
get the namespace collision problems, and modifying code modules, even
when it isn't a top level handler will still result in the changed module and
anything which depends on it being reloaded.

Your mileage as far as what you can get out of Vampire will vary. If you
are adverse to using anything but the core mod_python system, then it
is likely it will be totally unacceptable and you'll have to mostly put up with
what you have.

FWIW, you can find information on Vampire at:

  <A HREF="http://www.dscpl.com.au/projects/vampire">http://www.dscpl.com.au/projects/vampire</A>

Note that Vampire isn't a system where you are expected to do things the
Vampire way. With a little bit of extra trickery, you could largely keep what
you have as is with only minor tweaks. These sorts of tricks aren't necessarily
in the documentation though, so if you are interested would need to know
more about how your systems are setup and step you through what changes
to make.

Graham

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018717.html">[mod_python] running multiple mod_python apps under one apache
</A></li>
	<LI>Next message: <A HREF="018716.html">[mod_python] Talk on Vampire (Thursday 21st - Sydney/Australia)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18715">[ date ]</a>
              <a href="thread.html#18715">[ thread ]</a>
              <a href="subject.html#18715">[ subject ]</a>
              <a href="author.html#18715">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
