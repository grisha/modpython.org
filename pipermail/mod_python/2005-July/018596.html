<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] mod_python claims it cannot find a module
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20claims%20it%20cannot%20find%20a%20module&In-Reply-To=c298f2d7050704231118a75af7%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018594.html">
   <LINK REL="Next"  HREF="018597.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] mod_python claims it cannot find a module</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20claims%20it%20cannot%20find%20a%20module&In-Reply-To=c298f2d7050704231118a75af7%40mail.gmail.com"
       TITLE="[mod_python] mod_python claims it cannot find a module">grahamd at dscpl.com.au
       </A><BR>
    <I>Tue Jul  5 07:19:06 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="018594.html">[mod_python] mod_python claims it cannot find a module
</A></li>
        <LI>Next message: <A HREF="018597.html">[mod_python] mod_python claims it cannot find a module
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18596">[ date ]</a>
              <a href="thread.html#18596">[ thread ]</a>
              <a href="subject.html#18596">[ subject ]</a>
              <a href="author.html#18596">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 05/07/2005, at 4:11 PM, Nicolas Lehuen wrote:
&gt;<i>
</I>&gt;<i>  What I suspect in Martin's case is that req.finfo returns None 
</I>&gt;<i> because of the global scope of his PythonHandler configuration, or 
</I>&gt;<i> something like that. Therefore, the publisher ends up executing the 
</I>&gt;<i> last branch which splits the requested file name into directory + 
</I>&gt;<i> func_path and adds index.py to the directory. I'll try to reproduce 
</I>&gt;<i> this behaviour and let you know about this.
</I>
Except that Martin wasn't using your latest version of the publisher,
but that in the 3.1.[34] as I understand it, so I don't think you can
compare it to what you do now.

What you do now may well work fine, I have never sat down to look at
it properly. Although it worries me a bit that you use req.finfo as 
isn't
that making an assumption that the file that Apache identifies is 
actually
the Python code file when it may not. Just speculating, but what happens
if someone was using:

   SetHandler mod_python
   PythonHandler mod_python.publisher | .html

and there existed a &quot;xxx.py&quot; and xxx.html&quot;. Here req.finfo would refer 
to
the &quot;.html&quot; file and not &quot;.py&quot; file. Will this matter? Anyway, the use 
of
req.finfo seems confusing to me and not sure how one benefits except
maybe to try and avoid a stat call.

One day I will sit down and look at it properly, but no time at the 
moment.

Graham


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018594.html">[mod_python] mod_python claims it cannot find a module
</A></li>
	<LI>Next message: <A HREF="018597.html">[mod_python] mod_python claims it cannot find a module
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18596">[ date ]</a>
              <a href="thread.html#18596">[ thread ]</a>
              <a href="subject.html#18596">[ subject ]</a>
              <a href="author.html#18596">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
