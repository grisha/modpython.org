<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] PostReadRequestHandler
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20PostReadRequestHandler&In-Reply-To=1121457009.30663.35.camel%40joshua.smcvt.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018697.html">
   <LINK REL="Next"  HREF="018698.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] PostReadRequestHandler</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20PostReadRequestHandler&In-Reply-To=1121457009.30663.35.camel%40joshua.smcvt.edu"
       TITLE="[mod_python] PostReadRequestHandler">grahamd at dscpl.com.au
       </A><BR>
    <I>Fri Jul 15 20:28:57 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="018697.html">[mod_python] PostReadRequestHandler
</A></li>
        <LI>Next message: <A HREF="018698.html">[mod_python] handling virtual files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18700">[ date ]</a>
              <a href="thread.html#18700">[ thread ]</a>
              <a href="subject.html#18700">[ subject ]</a>
              <a href="author.html#18700">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 16/07/2005, at 5:50 AM, Jim Hefferon wrote:

&gt;<i> Instead, when I restart apache, it gives me a 404 every time, and every
</I>&gt;<i> time sends me a copy of the cgi program that is the 404 error handler.
</I>&gt;<i> That is, that the 404 should be executed as a cgi is gone (of course, 
</I>&gt;<i> it
</I>&gt;<i> works if I comment out the lines above from the 000-default and restart
</I>&gt;<i> and ask for something that isn't there).  The error.log says &quot;attempt 
</I>&gt;<i> to
</I>&gt;<i> serve directory&quot; so it is not looking for the index.html file in the
</I>&gt;<i> dir.  So I'm thinking that all subsequent handlers are not being
</I>&gt;<i> invoked, or else that I am just clueless (I suspect that latter!).
</I>
When you use SetHandler to enable mod_python, it effectively disables 
the
execution of other high level handlers. This is a problem when you are
using PythonHandler to generate content for some requests and declining
others. For example, if you wanted &quot;.php&quot; files to be treated normally
they will not.

In your case, you aren't using PythonHandler and it isn't actually
necessary to use SetHandler or AddHandler to enable mod_python as that
is only required if you are specifying PythonHandler for content phase.
It isn't necessary when you are only defining handlers for other phases.
 From memory this isn't obvious from documentation and I only even
stumbled across it by accident. I just hope my memory is correct. :-)

Thus, comment out SetHandler and try:

   #SetHandler mod_python
   PythonPath &quot;sys.path+['/dir/containing/py/file']&quot;
   PythonPostReadRequestHandler filename
   PythonDebug On

If you were using PythonHandler for some content delivery, the only way
of ensuring other high level handlers run properly, is to disable the
SetHandler for those extension types. For example, you might have:

   SetHandler mod_python
   PythonHandler filename

   &lt;Files *.php&gt;
   SetHandler None
   &lt;/Files&gt;

   &lt;Files *.cgi&gt;
   SetHandler None
   &lt;/Files&gt;

Graham

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018697.html">[mod_python] PostReadRequestHandler
</A></li>
	<LI>Next message: <A HREF="018698.html">[mod_python] handling virtual files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18700">[ date ]</a>
              <a href="thread.html#18700">[ thread ]</a>
              <a href="subject.html#18700">[ subject ]</a>
              <a href="author.html#18700">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
