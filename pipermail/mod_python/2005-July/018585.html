<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] mod_python claims it cannot find a module
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20claims%20it%20cannot%20find%20a%20module&In-Reply-To=42C94F9D.2090402%40ribosome.natur.cuni.cz">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018583.html">
   <LINK REL="Next"  HREF="018587.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] mod_python claims it cannot find a module</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20claims%20it%20cannot%20find%20a%20module&In-Reply-To=42C94F9D.2090402%40ribosome.natur.cuni.cz"
       TITLE="[mod_python] mod_python claims it cannot find a module">grahamd at dscpl.com.au
       </A><BR>
    <I>Mon Jul  4 18:01:29 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="018583.html">[mod_python] mod_python claims it cannot find a module
</A></li>
        <LI>Next message: <A HREF="018587.html">[mod_python] mod_python claims it cannot find a module
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18585">[ date ]</a>
              <a href="thread.html#18585">[ thread ]</a>
              <a href="subject.html#18585">[ subject ]</a>
              <a href="author.html#18585">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Enable mod_python handler inside the context of a &quot;Directory&quot; directive
and not at global scope within Apache configuration file.

&lt;Directory /home/mmokrejs/public_html/IRES2&gt;
AddHandler mod_python .py
PythonHandler mod_python.publisher
PythonDebug On
&lt;/Directory&gt;

If web_settings is in that actual directory, it should then be found.
If web_settings is elsewhere, it will only find it if it is somewhere
along the Python module search path.

There are various little issues in current versions code based related
to defaulting to index() function. Ie.,

<A HREF="http://issues.apache.org/jira/browse/MODPYTHON-24">http://issues.apache.org/jira/browse/MODPYTHON-24</A>
<A HREF="http://issues.apache.org/jira/browse/MODPYTHON-23">http://issues.apache.org/jira/browse/MODPYTHON-23</A>

There may be some strangeness bound up in all that whereby it has other
problems where Directory directive isn't used.

Graham

On 05/07/2005, at 1:02 AM, Martin MOKREJ&#352; wrote:

&gt;<i> I'll make a small testcase if you wish. The code breaks in the latter  
</I>&gt;<i> case on very
</I>&gt;<i> first line of my code where is
</I>&gt;<i>
</I>&gt;<i> import web_settings
</I>&gt;<i>
</I>&gt;<i> with ImportError: No module named web_settings
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> In the former error IOError: [Errno 2] No such file or directory:  
</I>&gt;<i> '/home/mmokrejs/public_html/IRES2/index.py'
</I>&gt;<i> it breaks even before executing my code, as python
</I>&gt;<i> handler looks for index.py which doesn't even exist. I have to tell
</I>&gt;<i> apache that it shouldn't even look for index.py with that configuration
</I>&gt;<i> directive. Still don't understand why when I'm accessing
</I>&gt;<i> <A HREF="http://aquarius/~mmokrejs/IRES2/IRESite_web.py">http://aquarius/~mmokrejs/IRES2/IRESite_web.py</A> and not  
</I>&gt;<i> <A HREF="http://aquarius/~mmokrejs/IRES2/">http://aquarius/~mmokrejs/IRES2/</A>
</I>&gt;<i>
</I>&gt;<i> Martin
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Julien wrote:
</I>&gt;&gt;<i> can you paste your code to <A HREF="http://rafb.net/paste/">http://rafb.net/paste/</A> ?
</I>&gt;&gt;<i> On Mon, 2005-07-04 at 16:24 +0200, Martin MOKREJ&#352; wrote:
</I>&gt;&gt;&gt;<i> Hi,
</I>&gt;&gt;&gt;<i>  when I have in httpd.conf:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> &lt;IfDefine PYTHON&gt;
</I>&gt;&gt;&gt;<i>  &lt;IfModule !mod_python.c&gt;
</I>&gt;&gt;&gt;<i>    LoadModule python_module    modules/mod_python.so
</I>&gt;&gt;&gt;<i>  &lt;/IfModule&gt;
</I>&gt;&gt;&gt;<i> &lt;/IfDefine&gt;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> &lt;IfModule mod_python.c&gt;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> AddHandler mod_python .py
</I>&gt;&gt;&gt;<i> PythonHandler mod_python.publisher
</I>&gt;&gt;&gt;<i> PythonInterpPerDirectory On
</I>&gt;&gt;&gt;<i> PythonDebug On
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> and no .htaccess in my public_html directory and access
</I>&gt;&gt;&gt;<i> <A HREF="http://aquarius/~mmokrejs/IRES2/IRESite_web.py?page=all,">http://aquarius/~mmokrejs/IRES2/IRESite_web.py?page=all,</A> I get:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Mod_python error: &quot;PythonHandler mod_python.publisher&quot;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Traceback (most recent call last):
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>  File &quot;/usr/lib/python2.4/site-packages/mod_python/apache.py&quot;, line  
</I>&gt;&gt;&gt;<i> 299, in HandlerDispatch
</I>&gt;&gt;&gt;<i>    result = object(req)
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>  File &quot;/usr/lib/python2.4/site-packages/mod_python/publisher.py&quot;,  
</I>&gt;&gt;&gt;<i> line 187, in handler
</I>&gt;&gt;&gt;<i>    module = page_cache[req]
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>  File &quot;/usr/lib/python2.4/site-packages/mod_python/cache.py&quot;, line  
</I>&gt;&gt;&gt;<i> 77, in __getitem__
</I>&gt;&gt;&gt;<i>    return self._checkitem(name)[2]
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>  File &quot;/usr/lib/python2.4/site-packages/mod_python/cache.py&quot;, line  
</I>&gt;&gt;&gt;<i> 118, in _checkitem
</I>&gt;&gt;&gt;<i>    opened = self.check(key, name, entry)
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>  File &quot;/usr/lib/python2.4/site-packages/mod_python/publisher.py&quot;,  
</I>&gt;&gt;&gt;<i> line 67, in check
</I>&gt;&gt;&gt;<i>    return ModuleCache.check(self, key, req, entry)
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>  File &quot;/usr/lib/python2.4/site-packages/mod_python/cache.py&quot;, line  
</I>&gt;&gt;&gt;<i> 249, in check
</I>&gt;&gt;&gt;<i>    opened = file(key, self.mode)
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> IOError: [Errno 2] No such file or directory:  
</I>&gt;&gt;&gt;<i> '/home/mmokrejs/public_html/IRES2/index.py'
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> But, when I create .htaccess with:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> AddHandler mod_python .py
</I>&gt;&gt;&gt;<i> PythonHandler mod_python.publisher
</I>&gt;&gt;&gt;<i> PythonInterpPerDirectory On
</I>&gt;&gt;&gt;<i> PythonDebug On
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> it works.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> index.py really doesn't exist. I get rid of this stupid error when  
</I>&gt;&gt;&gt;<i> .htaccess
</I>&gt;&gt;&gt;<i> contains only:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> &lt;IfModule mod_dir.c&gt;
</I>&gt;&gt;&gt;<i>    DirectoryIndex IRESite_web.py
</I>&gt;&gt;&gt;<i> &lt;/IfModule&gt;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> But then it complains about another module on line 1 in the source  
</I>&gt;&gt;&gt;<i> file:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Mod_python error: &quot;PythonHandler mod_python.publisher&quot;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Traceback (most recent call last):
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>  File &quot;/usr/lib/python2.4/site-packages/mod_python/apache.py&quot;, line  
</I>&gt;&gt;&gt;<i> 299, in HandlerDispatch
</I>&gt;&gt;&gt;<i>    result = object(req)
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>  File &quot;/usr/lib/python2.4/site-packages/mod_python/publisher.py&quot;,  
</I>&gt;&gt;&gt;<i> line 187, in handler
</I>&gt;&gt;&gt;<i>    module = page_cache[req]
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>  File &quot;/usr/lib/python2.4/site-packages/mod_python/cache.py&quot;, line  
</I>&gt;&gt;&gt;<i> 77, in __getitem__
</I>&gt;&gt;&gt;<i>    return self._checkitem(name)[2]
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>  File &quot;/usr/lib/python2.4/site-packages/mod_python/cache.py&quot;, line  
</I>&gt;&gt;&gt;<i> 119, in _checkitem
</I>&gt;&gt;&gt;<i>    value = self.build(key, name, opened, entry)
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>  File &quot;/usr/lib/python2.4/site-packages/mod_python/publisher.py&quot;,  
</I>&gt;&gt;&gt;<i> line 77, in build
</I>&gt;&gt;&gt;<i>    return ModuleCache.build(self, key, req, opened, entry)
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>  File &quot;/usr/lib/python2.4/site-packages/mod_python/cache.py&quot;, line  
</I>&gt;&gt;&gt;<i> 369, in build
</I>&gt;&gt;&gt;<i>    exec opened in module.__dict__
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>  File &quot;/home/mmokrejs/public_html/IRES2/IRESite_web.py&quot;, line 1, in ?
</I>&gt;&gt;&gt;<i>    import web_settings
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> ImportError: No module named web_settings
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> The errors changed, however from IOError: [Errno 2] No such file or  
</I>&gt;&gt;&gt;<i> directory: '/home/mmokrejs/public_html/IRES2/index.py'
</I>&gt;&gt;&gt;<i> to
</I>&gt;&gt;&gt;<i> ImportError: No module named web_settings
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Why does it happen? I use at the moment  
</I>&gt;&gt;&gt;<i> <A HREF="http://cvs.apache.org/snapshots/mod_python/">http://cvs.apache.org/snapshots/mod_python/</A> 
</I>&gt;&gt;&gt;<i> mod_python_20050704111017.tar.gz
</I>&gt;&gt;&gt;<i> under apache-2.0.54.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Martin
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> Mod_python mailing list
</I>&gt;&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> Martin Mokrejs
</I>&gt;<i> Email:  
</I>&gt;<i> 'bW9rcmVqc21Acmlib3NvbWUubmF0dXIuY3VuaS5jeg==\n'.decode('base64')
</I>&gt;<i> GPG key is at <A HREF="http://www.natur.cuni.cz/~mmokrejs">http://www.natur.cuni.cz/~mmokrejs</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018583.html">[mod_python] mod_python claims it cannot find a module
</A></li>
	<LI>Next message: <A HREF="018587.html">[mod_python] mod_python claims it cannot find a module
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18585">[ date ]</a>
              <a href="thread.html#18585">[ thread ]</a>
              <a href="subject.html#18585">[ subject ]</a>
              <a href="author.html#18585">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
