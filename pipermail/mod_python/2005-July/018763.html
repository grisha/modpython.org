<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Point of frustration/disappointment
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Point%20of%20frustration/disappointment&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018761.html">
   <LINK REL="Next"  HREF="018773.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Point of frustration/disappointment</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Point%20of%20frustration/disappointment&In-Reply-To="
       TITLE="[mod_python] Point of frustration/disappointment">grahamd at dscpl.com.au
       </A><BR>
    <I>Fri Jul 29 00:38:59 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="018761.html">[mod_python] Point of frustration/disappointment
</A></li>
        <LI>Next message: <A HREF="018773.html">[mod_python] Point of frustration/disappointment
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18763">[ date ]</a>
              <a href="thread.html#18763">[ thread ]</a>
              <a href="subject.html#18763">[ subject ]</a>
              <a href="author.html#18763">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jim Gallacher wrote ..
&gt;<i> Jim Popovitch wrote:
</I>&gt;<i> &gt; On Thu, 2005-07-28 at 23:08 -0400, Jack Diederich wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;&gt;On Thu, Jul 28, 2005 at 09:18:10PM -0400, Jim Popovitch wrote:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;Well, now that it compiles cleanly... guess what...  I've run into the
</I>&gt;<i> &gt;&gt;&gt;(in)famous &quot;cannot unmarshal code objects in restricted execution mode&quot;
</I>&gt;<i> &gt;&gt;&gt;error for which google reveals years worth of past pleas for mod_python
</I>&gt;<i> &gt;&gt;&gt;to address.  I guess I'm not alone in my frustration and disappointment:
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;rexec was completely ineffective and was declared dangerous in the 2.2
</I>&gt;<i> &gt;&gt;timeframe (I think it was yanked in 2.3).  
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; v2.3 of mod_python or Python?
</I>&gt;<i> 
</I>&gt;<i> Python. See <A HREF="http://www.python.org/doc/2.3/lib/module-rexec.html">http://www.python.org/doc/2.3/lib/module-rexec.html</A>
</I>
The sort of error related to &quot;restricted execution mode&quot; is in all
likelihood has got nothing to do with the &quot;rexec&quot; module. The checks for
whether Python thinks it is running in restricted execution mode are
much more low level than that. One can get these sort of problems in
code totally unrelated to the &quot;rexec&quot; module.

I can't remember exactly, but what it all boils down to is that if a
module replaces the &quot;__builtins__&quot; within its own global namespace with
something that is different to &quot;__builtin__.__dict__&quot; then Python will
set an internal flag associated with the execution context for that
thread which says it is running in &quot;restricted execution mode&quot;.

When in this mode any code which is executed which can't run in
restricted execution mode will raise some sort of error like above. This
specific error above isn't the only error that can occur.

 I once managed to create a half dozen line program which would
illustrate this in action, but can't find it now and can't remember what
I did to trigger it. :-(

Thus, one possibility is whether the package the problem occurs in
fiddles with __builtins__ at all.

Anyway, if I find the test program which shows the problem or if I can
work it out again, I'll post it.

Graham

</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018761.html">[mod_python] Point of frustration/disappointment
</A></li>
	<LI>Next message: <A HREF="018773.html">[mod_python] Point of frustration/disappointment
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18763">[ date ]</a>
              <a href="thread.html#18763">[ thread ]</a>
              <a href="subject.html#18763">[ subject ]</a>
              <a href="author.html#18763">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
