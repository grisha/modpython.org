<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] handling virtual files
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20handling%20virtual%20files&In-Reply-To=42D8437E.5020306%40geeks.cl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018698.html">
   <LINK REL="Next"  HREF="018701.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] handling virtual files</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20handling%20virtual%20files&In-Reply-To=42D8437E.5020306%40geeks.cl"
       TITLE="[mod_python] handling virtual files">grahamd at dscpl.com.au
       </A><BR>
    <I>Fri Jul 15 19:49:42 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="018698.html">[mod_python] handling virtual files
</A></li>
        <LI>Next message: <A HREF="018701.html">[mod_python] handling virtual files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18699">[ date ]</a>
              <a href="thread.html#18699">[ thread ]</a>
              <a href="subject.html#18699">[ subject ]</a>
              <a href="author.html#18699">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 16/07/2005, at 9:15 AM, Alejandro Mery wrote:

&gt;<i> Hi, i need some directions :-)
</I>&gt;<i>
</I>&gt;<i> i need to have 'virtual' and real files on a tree, virtual paths have 
</I>&gt;<i> a folder on the root which somehow gets the next folder, and again and 
</I>&gt;<i> again. mixing different methods. /dir1/dir2/dir3/dir4/file
</I>&gt;<i>
</I>&gt;<i> dir1 is simply a folder, dir2 is 'mounted' for a database, where dir3 
</I>&gt;<i> is  simply a folder, and dir4 is a 'COW' (copy on write) of another 
</I>&gt;<i> directory.
</I>&gt;<i>
</I>&gt;<i> i get the file into temporal location and now i call the file handler 
</I>&gt;<i> over the temporal location but thinking its on the virtual one.
</I>&gt;<i>
</I>&gt;<i> but req.filename is read-only.. how should i solve this problem? what 
</I>&gt;<i> do you recommend?
</I>
In mod_python 3.X, req.filename can be modified. It was read only
in mod_python 2.7 though.

What base handler were you thinking of using, were you thinking
of starting with something like mod_python.publisher or writing
your own handlers from scratch?

In respect of req.filename, its use becomes limited in a system
where you have virtual directory concepts, or where you want to
store the physical files somewhere else besides the actual document
tree and have a proxy handler which serves them up. This is because
req.filename is set based on what physical files Apache is able
to identify and thus if the files are elsewhere or map to a virtual
resource, it by itself doesn't help much. Thus, you still need to
go off and do your own interpretation of req.path_info to identify
the actual virtual resource.

Anyway, that you feel you need to modify req.filename sounds like
you have in mind a scheme like the WSGI middlware stack where
middlware components can modify things like the script name and
path info to reflect how much of the URI has been processed and
also automatically remap it as necessary to support operation
of nested middleware components. This componentised approach can
certainly make it easier to implement more complex systems where
there is a mix of physical and virtual resources. You might thus
want to consider using WSGI on top of mod_python to make use of that
top of model. Alternatively, I have been working on similar stuff
for mod_python for a while, even before knowing that WSGI was doing
a similar thing, but want I am doing is still in a slightly volatile
state. If you are interested though, we can take the discussion
off list.....

Graham 

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018698.html">[mod_python] handling virtual files
</A></li>
	<LI>Next message: <A HREF="018701.html">[mod_python] handling virtual files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18699">[ date ]</a>
              <a href="thread.html#18699">[ thread ]</a>
              <a href="subject.html#18699">[ subject ]</a>
              <a href="author.html#18699">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
