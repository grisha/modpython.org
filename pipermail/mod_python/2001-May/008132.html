<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Win32 threading issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Win32%20threading%20issue&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008140.html">
   <LINK REL="Next"  HREF="008139.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
<table border=0 width="100%"><tr><td valign="top">
   <H1>[mod_python] Win32 threading issue</H1>
    <B>Chris Trengove</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Win32%20threading%20issue&In-Reply-To="
       TITLE="[mod_python] Win32 threading issue">trengove at econdata.com.au
       </A><BR>
    <I>Mon May  7 21:21:32 EST 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="008140.html">[mod_python] Win32 threading issue
</A></li>
        <LI>Next message: <A HREF="008139.html">[mod_python] Use mod_python for root/home page requests
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8132">[ date ]</a>
              <a href="thread.html#8132">[ thread ]</a>
              <a href="subject.html#8132">[ subject ]</a>
              <a href="author.html#8132">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Marc,

Yes, as I understand things, this should be the multithreaded version,
since this is how Python is built for Win32. (I am running the BeOpen 2.0
version of Python.) But my reading of the mod_python documentation is that
mod_python under Win32 is &quot;thread safe&quot;, to the extent that it allocates a
new Python thread for each new Apache thread, and does the appropriate
things to make sure that the threads co-exist peacefully.

As for measuring throughput, my script does that quite successfully - if I
only run one copy. The point is that this test environment exposes the
threading problem far more quickly than in a production environment, where
the conflict might occur much less often, and much less predictably.

Chris

At 02:41 AM 7/05/2001 -0700, Marc Fiuczynski wrote:
&gt;<i>A random shot in the dark...
</I>&gt;<i>
</I>&gt;<i>are you using a multithreaded version of the python interpreter?  If so,
</I>&gt;<i>then that might be the cause of your problem.   Somewhere in the mod_python
</I>&gt;<i>documentation I read that apache would get confused if you used a
</I>&gt;<i>multithreaded version of python.  Check that and please let us (or at least
</I>&gt;<i>me) know.
</I>&gt;<i>
</I>&gt;<i>In terms of throughput, you might also try writing a script using &quot;wget&quot; to
</I>&gt;<i>measure the number of requests per second you can run (not sure what the
</I>&gt;<i>windows equivalent is, or whether you can get it to work with cygwin).
</I>&gt;<i>
</I>&gt;<i>Cheers,
</I>&gt;<i>Marc
</I>&gt;<i>
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008140.html">[mod_python] Win32 threading issue
</A></li>
	<LI>Next message: <A HREF="008139.html">[mod_python] Use mod_python for root/home page requests
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8132">[ date ]</a>
              <a href="thread.html#8132">[ thread ]</a>
              <a href="subject.html#8132">[ subject ]</a>
              <a href="author.html#8132">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
