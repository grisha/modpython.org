<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] I can't get apache to handle a .py file
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20I%20can%27t%20get%20apache%20to%20handle%20a%20.py%20file&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011843.html">
   <LINK REL="Next"  HREF="011855.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] I can't get apache to handle a .py file</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Rick Bunke</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20I%20can%27t%20get%20apache%20to%20handle%20a%20.py%20file&In-Reply-To="
       TITLE="[mod_python] I can't get apache to handle a .py file">rbunke at helios.acomp.usf.edu
       </A><BR>
    <I>Thu May 10 20:38:40 EST 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="011843.html">[mod_python] Win32 threading issue
</A></li>
        <LI>Next message: <A HREF="011855.html">[mod_python] I can't get apache to handle a .py file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11854">[ date ]</a>
              <a href="thread.html#11854">[ thread ]</a>
              <a href="subject.html#11854">[ subject ]</a>
              <a href="author.html#11854">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I'm stuck.  I've read the FAQ.  I've read mod_python Manuel up to 2.4
testing your new installation.  I've followed the directions there for
mptest.py but all apache will do for me is serve up the text file
mptest.py.  It wont hand it off to mod_python.  I compiled the mod into
apache as static not DSO. 

I'll be glad to send the bulk of my config file if requested to do so but
here is what I think is the important stuff.

httpd.conf
#------ 
LogLevel debug

DocumentRoot &quot;/home/myhome/Text/Web&quot;

#I was just trying to turn every thing on here while I was troubleshouting
#this problem...
&lt;Directory &quot;/&quot;&gt;
        Options All +MultiViews
&lt;/Directory&gt;

# Python stuff according to mod_python manuel
&lt;Directory &quot;/home/myhome/Texts/Web/pytest&quot;&gt;
        AddHandler python-program .py
        PythonHandler mptest
        PythonDebug On
&lt;/Directory&gt;
#--------

the config file is basically identical to apache default config
file with the specific site info changed.

[black_box]cat mptest.py
from mod_python import apache
    
def handler(req):
        req.send_http_header()
        req.write(&quot;Hello World!&quot;)
        return apache.OK

[black_box]ls -l mptest.py
-rwxr-xr-x    1 rick     rick          123 May 10 19:35 mptest.py*

I wasn't sure if mptest.py was suppose to be excutable or not so I it
made it excutable just in case.

when I put a &quot;#!/usr/local/python&quot; in at the top and run it stand alone, 
it doesn't like the &quot;import _apache&quot; line which doesn't really surprise me
sense I don't think your suppose to run it like that :)  I was just trying
to figure what was wrong sense I get no errors in my error.log 

When I type &quot;<A HREF="http://myip/pytest/mptest.py&quot;">http://myip/pytest/mptest.py&quot;</A> in web my browser, it displays 
the text file:

from mod_python import apache
    
def handler(req):
	req.send_http_header()
	req.write(&quot;Hello World!&quot;)
	return apache.OK


Also, when I compiled apache, it failed in the mod_python directory saying
some functions (openpty and forkpty) were &quot;undefined references&quot; so I had
to add &quot;-lutil&quot; to the 
&quot;LIBS=&quot;$LIBS -lm /usr/local/src/Python-2.1c2/libpython2.1.a&quot;&quot; 
line in the libpython.module config file, rerun configure, and then it
would compile ok.  possable bug in the configure scripts, or my setup, I
don't know which.

I run Linux 2.4.4
Python 2.1c2 
Apache 1.3.19
Mod_Python 2.7.2

Please help me :)

Thanks
Rick

we enjoy great advantages from the inventions of others, we should be 
glad of an opportunity to serve others by any invention of ours; and 
this we should do freely and generously.
		- Ben Franklin (declining to take out a patent on the
				Franklin Stove)

Whenever there is a conflict between human rights and property rights, 
human rights must prevail.
	           - Abraham Lincoln
	
Information is the currency of democracy.
		   - Thomas Jefferson


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011843.html">[mod_python] Win32 threading issue
</A></li>
	<LI>Next message: <A HREF="011855.html">[mod_python] I can't get apache to handle a .py file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11854">[ date ]</a>
              <a href="thread.html#11854">[ thread ]</a>
              <a href="subject.html#11854">[ subject ]</a>
              <a href="author.html#11854">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
