<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] httpd dead but subsys locked
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20httpd%20dead%20but%20subsys%20locked&In-Reply-To=20010529134157.247.qmail%40web13905.mail.yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008199.html">
   <LINK REL="Next"  HREF="008212.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
<table border=0 width="100%"><tr><td valign="top">
   <H1>[mod_python] httpd dead but subsys locked</H1>
    <B>Jeroen van Drie</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20httpd%20dead%20but%20subsys%20locked&In-Reply-To=20010529134157.247.qmail%40web13905.mail.yahoo.com"
       TITLE="[mod_python] httpd dead but subsys locked">jvdev at 3va.net
       </A><BR>
    <I>Tue May 29 16:48:31 EST 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="008199.html">[mod_python] httpd dead but subsys locked
</A></li>
        <LI>Next message: <A HREF="008212.html">[mod_python] Compiling and installing mod_python-2.7.3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8201">[ date ]</a>
              <a href="thread.html#8201">[ thread ]</a>
              <a href="subject.html#8201">[ subject ]</a>
              <a href="author.html#8201">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tuesday 29 May 2001 15:41 pm, you wrote:

Hi Ax,

When loading with -X i get the &quot;
Loaded DSO modules/mod_python.so uses plain Apache 1.3 API, this module might 
crash under EAPI! (please recompile it with -DEAPI)&quot; 
and it segfaults.

It's the first module defined in httpd.conf.

that hasn't been causing any problems on my 7.1 rh test system and from 
numerous reports I've read people generally seem to disregard the warning.

I got the sources,  edited the Makefile to run apxs with -DEAPI as an 
argument, which however caused the same error and segfault.

I would dearly like to see this issue resolved and if theres anything I can 
do to contribute towards solving it i'd be happy to contribute my time. 



&gt;<i> My experience is under various versions of Mandrake and Apache 1.3.x.
</I>&gt;<i>
</I>&gt;<i> That message usually comes if apache segfaults.  Check your /var/run
</I>&gt;<i> directory for httpd.pid and delete it.
</I>&gt;<i>
</I>&gt;<i> Try running 'httpd -X' to see what error messages you get (often the
</I>&gt;<i> problem is threading support or not having the LoadModule line for
</I>&gt;<i> mod_python as the first LoadModule in httpd.conf).  My apache always
</I>&gt;<i> just crashed - with no debug info - when I loaded a .py file.
</I>&gt;<i>
</I>&gt;<i> Once you have that sorted out (httpd -X runs fine), I find that
</I>&gt;<i> '/etc/rc.d/init.d/httpd restart' usually does the trick if you have the
</I>&gt;<i> 'locked subsystem' error message on starting apache.
</I>&gt;<i>
</I>&gt;<i> Hope this helps
</I>&gt;<i> ax
</I>&gt;<i>
</I>&gt;<i> --- Jeroen van Drie &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">jvdev at 3va.net</A>&gt; wrote:
</I>&gt;<i> &gt; situation:
</I>&gt;<i> &gt; mod_python, RH 6.2, MySQL-3.23.38-1 all RPM based.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; When starting up httpd and running httpd status it returns:
</I>&gt;<i> &gt; httpd dead but subsys locked
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; No instance of httpd is found running.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; When removing the two mod_python dso lines in the httpd.conf it
</I>&gt;<i> &gt; starts up
</I>&gt;<i> &gt; fine.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I have seen these errors on some php mailing lists as well where
</I>&gt;<i> &gt; people seem
</I>&gt;<i> &gt; to be relating it to the presence of mysql. There is nothign in the
</I>&gt;<i> &gt; apache
</I>&gt;<i> &gt; log file even at debug log level.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; A restart of mysql did not help.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I have read that the situation in case of php will be resolved with a
</I>&gt;<i> &gt; server
</I>&gt;<i> &gt; reboot. However in this case that would be impractical.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Have any of you experienced this problem and have you found a
</I>&gt;<i> &gt; solution?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thanks.
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mod_python mailing list
</I>&gt;<i> &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> &gt; <A HREF="http://www.modpython.org/mailman/listinfo/mod_python">http://www.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>&gt;<i> __________________________________________________
</I>&gt;<i> Do You Yahoo!?
</I>&gt;<i> Yahoo! Auctions - buy the things you want at great prices
</I>&gt;<i> <A HREF="http://auctions.yahoo.com/">http://auctions.yahoo.com/</A>
</I>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008199.html">[mod_python] httpd dead but subsys locked
</A></li>
	<LI>Next message: <A HREF="008212.html">[mod_python] Compiling and installing mod_python-2.7.3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8201">[ date ]</a>
              <a href="thread.html#8201">[ thread ]</a>
              <a href="subject.html#8201">[ subject ]</a>
              <a href="author.html#8201">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
