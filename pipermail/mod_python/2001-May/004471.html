<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] several mod_python issues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20several%20mod_python%20issues&In-Reply-To=200105182250.SAA27068%40monkeyboy.dorc.foolhq.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004470.html">
   <LINK REL="Next"  HREF="004472.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] several mod_python issues</H1>
    <B>Gregory (Grisha) Trubetskoy</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20several%20mod_python%20issues&In-Reply-To=200105182250.SAA27068%40monkeyboy.dorc.foolhq.com"
       TITLE="[mod_python] several mod_python issues">grisha at modpython.org
       </A><BR>
    <I>Sat May 19 00:38:41 EST 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="004470.html">[mod_python] several mod_python issues
</A></li>
        <LI>Next message: <A HREF="004472.html">[mod_python] mod_python and locale
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4471">[ date ]</a>
              <a href="thread.html#4471">[ thread ]</a>
              <a href="subject.html#4471">[ subject ]</a>
              <a href="author.html#4471">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<table border=0 width="100%"><tr><td>
<!--beginarticle-->
<PRE>On Fri, 18 May 2001, Chris Hagner wrote:

&gt;<i> While working with mod_python lately, we've noticed a couple of
</I>&gt;<i> inconsistencies with the documentation and also have a few
</I>&gt;<i> comments/questions on intended behavior and whether certain behavior
</I>&gt;<i> was intended or is just a bug.
</I>&gt;<i>
</I>&gt;<i> 1. The PythonNoReload directive is a bit confusing and does not provide
</I>&gt;<i>    an option that would also be useful. &quot;PythonNoReload Off&quot; performs a
</I>&gt;<i>    full reload/import of the pyhandler on every request.
</I>&gt;<i>    &quot;PythonNoReload On&quot; only performs a reload/import when the mtime
</I>&gt;<i>    of the handler has changed. We would like to also propose an
</I>&gt;<i>    additional option to &quot;never&quot; reload/import the handler except upon
</I>&gt;<i>    initial startup of the child process. This would allow for a more
</I>&gt;<i>    controlled re-initialization of the server(s) via an apache graceful
</I>&gt;<i>    restart.
</I>
This one is a BUG that seems to have been introduced in 2.7.3 releases
while trying to fix another one....

The remaining two issues are just a big mess because I never gave any
priority to PythonImport. The only catch with Summer Hayes's approach is
that stuff will run as root, which to me seems kind of bad. (I haven't
seen the patch, so this is part speculation)

Grisha

&gt;<i> 2. Modules pre-loaded via the PythonImport directive do not appear to be
</I>&gt;<i>    readily available in the handler. We've verified that Python Import
</I>&gt;<i>    and the handler are running in the same interpreter space by passing
</I>&gt;<i>    info via global classes such as Exception, but we can't find the
</I>&gt;<i>    modules loaded via PythonImport. They must be somewhere, but just
</I>&gt;<i>    can't seem to locate them... What is the expected way to access
</I>&gt;<i>    modules that have been pre-loaded via PythonImport from within code
</I>&gt;<i>    such as the handler?
</I>&gt;<i>
</I>&gt;<i> 3. As detailed in an earlier post from Sumner Hayes, mod_python does not
</I>&gt;<i>    perform as expected/desired on a apache graceful restart.
</I>&gt;<i>    Essentially, new children are spawned and declared ready to the
</I>&gt;<i>    parent before they can actually serve requests (ie still initilizing
</I>&gt;<i>    any PythonImport directives). The mod_python directives should be
</I>&gt;<i>    fully processed before considering the child ready to serve requests.
</I>&gt;<i>
</I>&gt;<i> This isn't meant as just a rant. Just some things that we've noticed
</I>&gt;<i> that are important in our environment. We're willing to help with fixes,
</I>&gt;<i> etc., but wanted to make sure we had a full perspective on all the
</I>&gt;<i> issues at hand before attacking this stuff.
</I>&gt;<i>
</I>&gt;<i> Please let us know what you think about the observations listed above.
</I>&gt;<i> Thanks.
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Stephan Koledin
</I>&gt;<i> Mad Scientist
</I>&gt;<i> The Motley Fool
</I>&gt;<i> <A HREF="http://fool.com">http://fool.com</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://www.modpython.org/mailman/listinfo/mod_python">http://www.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>

</PRE>
<!--endarticle-->
</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004470.html">[mod_python] several mod_python issues
</A></li>
	<LI>Next message: <A HREF="004472.html">[mod_python] mod_python and locale
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4471">[ date ]</a>
              <a href="thread.html#4471">[ thread ]</a>
              <a href="subject.html#4471">[ subject ]</a>
              <a href="author.html#4471">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
