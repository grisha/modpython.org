<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] mod_python + mod_authz_host w/o mod_auth_digest
	causes ~1Mb leak per apache graceful restart
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20%2B%20mod_authz_host%20w/o%20mod_auth_digest%0A%09causes%20%7E1Mb%20leak%20per%20apache%20graceful%20restart&In-Reply-To=468300A8.5020701%40metaweb.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023932.html">
   <LINK REL="Next"  HREF="023934.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] mod_python + mod_authz_host w/o mod_auth_digest
	causes ~1Mb leak per apache graceful restart</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Jim Gallacher</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20%2B%20mod_authz_host%20w/o%20mod_auth_digest%0A%09causes%20%7E1Mb%20leak%20per%20apache%20graceful%20restart&In-Reply-To=468300A8.5020701%40metaweb.com"
       TITLE="[mod_python] mod_python + mod_authz_host w/o mod_auth_digest
	causes ~1Mb leak per apache graceful restart">jpg at jgassociates.ca
       </A><BR>
    <I>Thu Jun 28 17:27:20 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023932.html">[mod_python] mod_python + mod_authz_host w/o mod_auth_digest
	causes ~1Mb leak per apache graceful restart
</A></li>
        <LI>Next message: <A HREF="023934.html">[mod_python] mod_python + mod_authz_host w/o mod_auth_digest
	causes ~1Mb leak per apache graceful restart
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23933">[ date ]</a>
              <a href="thread.html#23933">[ thread ]</a>
              <a href="subject.html#23933">[ subject ]</a>
              <a href="author.html#23933">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've confirmed that mod_python leaks on graceful restart, but I don't 
see the dependency on the auth* modules. Apache always seems to leak 
when mod_python is loaded, regardless of the other modules. My test 
setup is a little different: On Debian with apache 2.2.3, mpm-worker, 
mod_python 3.3.1 running within VMWare.

My gut tells me that this may be related to 
<A HREF="http://issues.apache.org/jira/browse/MODPYTHON-109.">http://issues.apache.org/jira/browse/MODPYTHON-109.</A>

This issue also reminds me of 
<A HREF="http://issues.apache.org/jira/browse/MODPYTHON-195.">http://issues.apache.org/jira/browse/MODPYTHON-195.</A>

I think at this point we should log this in JIRA and move the discussion 
over to python-dev.

The obvious (but suboptimal) temporary solution for Aseem is to avoid 
using graceful restart.

Jim

Aseem Mohanty wrote:
&gt;<i> Graham Dumpleton wrote:
</I>&gt;&gt;<i> Is the version of mod_python you are using one you compiled yourself,
</I>&gt;&gt;<i> or one from Ubuntu packages?
</I>&gt;<i> 
</I>&gt;<i> I have used both and it does not seem to matter. When compiling from 
</I>&gt;<i> source, I did the following:
</I>&gt;<i> ./configure --prefix=/opt --with-apxs=/opt/share/apache2/bin/apxs
</I>&gt;<i> make install_dso
</I>&gt;<i> to use the apache build from source. Apache was build with the following 
</I>&gt;<i> config:
</I>&gt;<i> ./configure --prefix=/opt --enable-modules=all --enable-mods-shared=all 
</I>&gt;<i> --enable-so --with-included-apr
</I>&gt;<i> 
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Is the version of Python you are using one you compiled yourself, or
</I>&gt;&gt;<i> one from Ubuntu packages?
</I>&gt;<i> 
</I>&gt;<i> Python-2.5.1 is the one from the ubuntu packages.05:22 PM $ python
</I>&gt;<i> Python 2.5.1 (r251:54863, May  2 2007, 16:56:35)
</I>&gt;<i> [GCC 4.1.2 (Ubuntu 4.1.2-0ubuntu4)] on linux2
</I>&gt;<i> Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
</I>&gt;<i> 
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> What is the size of mod_python.so? Does it use a shared Python library
</I>&gt;&gt;<i> or static? Use 'ldd' on mod_python.so to see dependencies.
</I>&gt;<i> 
</I>&gt;<i> mod_python from ubuntu packages:
</I>&gt;<i> v 3.2.10
</I>&gt;<i> 05:24 PM $ ll mod_python.so
</I>&gt;<i> -rw-r--r-- 1 root root 99K 2007-01-16 04:44 mod_python.so
</I>&gt;<i> 05:24 PM $ ldd mod_python.so
</I>&gt;<i>         linux-gate.so.1 =&gt;  (0xffffe000)
</I>&gt;<i>         libpython2.5.so.1.0 =&gt; /usr/lib/libpython2.5.so.1.0 (0xb7e4f000)
</I>&gt;<i>         libpthread.so.0 =&gt; /lib/tls/i686/cmov/libpthread.so.0 (0xb7e38000)
</I>&gt;<i>         libdl.so.2 =&gt; /lib/tls/i686/cmov/libdl.so.2 (0xb7e33000)
</I>&gt;<i>         libutil.so.1 =&gt; /lib/tls/i686/cmov/libutil.so.1 (0xb7e2f000)
</I>&gt;<i>         libm.so.6 =&gt; /lib/tls/i686/cmov/libm.so.6 (0xb7e08000)
</I>&gt;<i>         libc.so.6 =&gt; /lib/tls/i686/cmov/libc.so.6 (0xb7cc7000)
</I>&gt;<i>         /lib/ld-linux.so.2 (0x80000000)
</I>&gt;<i> 
</I>&gt;<i> mod_python built from source:
</I>&gt;<i> v 3.3.1
</I>&gt;<i> 05:25 PM $ ll mod_python.so
</I>&gt;<i> -rwxr-xr-x 1 aseem aseem 343K 2007-06-27 09:50 mod_python.so*
</I>&gt;<i> aseem @ narada: /opt/share/apache2/modules
</I>&gt;<i> 05:25 PM $ ldd mod_python.so
</I>&gt;<i>         linux-gate.so.1 =&gt;  (0xffffe000)
</I>&gt;<i>         libpython2.5.so.1.0 =&gt; /usr/lib/libpython2.5.so.1.0 (0xb7e30000)
</I>&gt;<i>         libpthread.so.0 =&gt; /lib/tls/i686/cmov/libpthread.so.0 (0xb7e19000)
</I>&gt;<i>         libdl.so.2 =&gt; /lib/tls/i686/cmov/libdl.so.2 (0xb7e14000)
</I>&gt;<i>         libutil.so.1 =&gt; /lib/tls/i686/cmov/libutil.so.1 (0xb7e10000)
</I>&gt;<i>         libm.so.6 =&gt; /lib/tls/i686/cmov/libm.so.6 (0xb7de9000)
</I>&gt;<i>         libc.so.6 =&gt; /lib/tls/i686/cmov/libc.so.6 (0xb7ca8000)
</I>&gt;<i>         /lib/ld-linux.so.2 (0x80000000)
</I>&gt;<i> 
</I>&gt;<i> In both cases they do seem to use shared python libs.
</I>&gt;<i> 
</I>&gt;<i> Thanks.
</I>&gt;<i> AM
</I>&gt;<i> 
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Graham
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On 28/06/07, Aseem Mohanty &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">aseem at metaweb.com</A>&gt; wrote:
</I>&gt;&gt;&gt;<i> Yes, hence the exotic phraseology. Results for the various 
</I>&gt;&gt;&gt;<i> combinations are below:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> 1. mod_python only, no mod_auth* modules:                   leaks
</I>&gt;&gt;&gt;<i> 2. mod_auth_digest only, no other mod_auth*, no mod_python: does not 
</I>&gt;&gt;&gt;<i> leak
</I>&gt;&gt;&gt;<i> 3. mod_authz_host only, no other mod_auth*, no mod_python:  does not 
</I>&gt;&gt;&gt;<i> leak
</I>&gt;&gt;&gt;<i> 4. mod_python + mod_authz_host, no mod_auth_digest:         leaks
</I>&gt;&gt;&gt;<i> 5. mod_python + mod_auth_digest, no mod_authz_host:         leaks &lt; 
</I>&gt;&gt;&gt;<i> (1) or (4)
</I>&gt;&gt;&gt;<i> 6. mod_python + mod_auth_digest + mod_authz_host:           does not 
</I>&gt;&gt;&gt;<i> leak
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> NOTE: 'does not leak' implies ~50-100K leakage per graceful restart
</I>&gt;&gt;&gt;<i>        (5) leaks ~500-600K per graceful restart
</I>&gt;&gt;&gt;<i>        zero load on server
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> As far as I can tell there is definitely some sinister interaction 
</I>&gt;&gt;&gt;<i> going on
</I>&gt;&gt;&gt;<i> between these three modules. Unfortunately not being conversant with 
</I>&gt;&gt;&gt;<i> apache
</I>&gt;&gt;&gt;<i> module development, I cannot really say what.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Thanks.
</I>&gt;&gt;&gt;<i> AM
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Jim Gallacher wrote:
</I>&gt;&gt;&gt;<i> &gt; Aseem Mohanty wrote:
</I>&gt;&gt;&gt;<i> &gt;&gt; This may sound quite exotic
</I>&gt;&gt;&gt;<i> &gt;
</I>&gt;&gt;&gt;<i> &gt;
</I>&gt;&gt;&gt;<i> &gt; Why yes, it does? Interaction between these modules resulting in a
</I>&gt;&gt;&gt;<i> &gt; memory leak sure sounds weird. Did you try it with *only* mod_python
</I>&gt;&gt;&gt;<i> &gt; loaded? (ie, without mod_authz_host)
</I>&gt;&gt;&gt;<i> &gt;
</I>&gt;&gt;&gt;<i> &gt; Jim
</I>&gt;&gt;&gt;<i> &gt;
</I>&gt;&gt;&gt;<i> &gt;&gt; but here it is:
</I>&gt;&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;&gt;<i> &gt;&gt; In a vanilla apache2.2.x configuration if I only load mod_authz_host
</I>&gt;&gt;&gt;<i> &gt;&gt; and none of
</I>&gt;&gt;&gt;<i> &gt;&gt; the other mod_auth* modules, every graceful restart causes ~1Mb leak
</I>&gt;&gt;&gt;<i> &gt;&gt; in the
</I>&gt;&gt;&gt;<i> &gt;&gt; parent process. This is with mod_python loaded. Without mod_python 
</I>&gt;&gt;&gt;<i> the
</I>&gt;&gt;&gt;<i> &gt;&gt; memory profile remains unchanged.
</I>&gt;&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;&gt;<i> &gt;&gt; Steps to reproduce:
</I>&gt;&gt;&gt;<i> &gt;&gt; Gentoo:
</I>&gt;&gt;&gt;<i> &gt;&gt; 1. In /etc/apache2/httpd.conf comment out all &quot;LoadModule auth*&quot;
</I>&gt;&gt;&gt;<i> &gt;&gt; directives except
</I>&gt;&gt;&gt;<i> &gt;&gt; LoadModule authz_host_module modules/mod_authz_host.so
</I>&gt;&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;&gt;<i> &gt;&gt; Ubuntu Feisty (repos):
</I>&gt;&gt;&gt;<i> &gt;&gt; 1. In /etc/apache2/mods-enabled rename auth*.load files except
</I>&gt;&gt;&gt;<i> &gt;&gt; authz_host.load
</I>&gt;&gt;&gt;<i> &gt;&gt; to auth*.load.not
</I>&gt;&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;&gt;<i> &gt;&gt; Ubuntu Feisty (httpd built from source):
</I>&gt;&gt;&gt;<i> &gt;&gt; 1. In conf/httpd.conf comment out all &quot;LoadModule auth*&quot; directives
</I>&gt;&gt;&gt;<i> &gt;&gt; except
</I>&gt;&gt;&gt;<i> &gt;&gt; LoadModule authz_host_module modules/mod_authz_host.so
</I>&gt;&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;&gt;<i> &gt;&gt; 2. Start apache
</I>&gt;&gt;&gt;<i> &gt;&gt; 3. Track apache parent process: top -d1 -p $(pgrep -o apache/httpd)
</I>&gt;&gt;&gt;<i> &gt;&gt; 4. Hit apache instances with graceful restarts:
</I>&gt;&gt;&gt;<i> &gt;&gt; for i in $(seq 150); do echo $i; kill -USR1 $(pgrep -o apache/httpd);
</I>&gt;&gt;&gt;<i> &gt;&gt; sleep 2; done
</I>&gt;&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;&gt;<i> &gt;&gt; In this case the parent will leak ~1Mb per restart. If however in 
</I>&gt;&gt;&gt;<i> each
</I>&gt;&gt;&gt;<i> &gt;&gt; of the
</I>&gt;&gt;&gt;<i> &gt;&gt; configurations mod_auth_digest.so is also loaded the leak is only
</I>&gt;&gt;&gt;<i> &gt;&gt; about 150-200K
</I>&gt;&gt;&gt;<i> &gt;&gt; or so per graceful restart. This is on a server with 0 load. In my
</I>&gt;&gt;&gt;<i> &gt;&gt; case it
</I>&gt;&gt;&gt;<i> &gt;&gt; caused apache instances that were restarted every 55 minutes to grow
</I>&gt;&gt;&gt;<i> &gt;&gt; up to 300Mb
</I>&gt;&gt;&gt;<i> &gt;&gt; in a week.
</I>&gt;&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;&gt;<i> &gt;&gt; Tested on:
</I>&gt;&gt;&gt;<i> &gt;&gt; 1. Ubuntu Feisty (built from source httpd-2.2.4, mod_python-3.3.1):
</I>&gt;&gt;&gt;<i> &gt;&gt; ./configure --prefix=/opt --enable-modules=all
</I>&gt;&gt;&gt;<i> &gt;&gt; --enable-mods-shared=all --enable-so --with-included-apr
</I>&gt;&gt;&gt;<i> &gt;&gt; Server version: Apache/2.2.4 (Unix)
</I>&gt;&gt;&gt;<i> &gt;&gt; Server built:   Jun 27 2007 09:34:16
</I>&gt;&gt;&gt;<i> &gt;&gt; Server's Module Magic Number: 20051115:4
</I>&gt;&gt;&gt;<i> &gt;&gt; Server loaded:  APR 1.2.8, APR-Util 1.2.8
</I>&gt;&gt;&gt;<i> &gt;&gt; Compiled using: APR 1.2.8, APR-Util 1.2.8
</I>&gt;&gt;&gt;<i> &gt;&gt; Architecture:   32-bit
</I>&gt;&gt;&gt;<i> &gt;&gt; Server MPM:     Prefork
</I>&gt;&gt;&gt;<i> &gt;&gt;   threaded:     no
</I>&gt;&gt;&gt;<i> &gt;&gt;     forked:     yes (variable process count)
</I>&gt;&gt;&gt;<i> &gt;&gt; Server compiled with....
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D APACHE_MPM_DIR=&quot;server/mpm/prefork&quot;
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D APR_HAS_SENDFILE
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D APR_HAS_MMAP
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D APR_HAVE_IPV6 (IPv4-mapped addresses enabled)
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D APR_USE_SYSVSEM_SERIALIZE
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D APR_USE_PTHREAD_SERIALIZE
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D APR_HAS_OTHER_CHILD
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D AP_HAVE_RELIABLE_PIPED_LOGS
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D DYNAMIC_MODULE_LIMIT=128
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D HTTPD_ROOT=&quot;/opt/share/apache2&quot;
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D SUEXEC_BIN=&quot;/opt/share/apache2/bin/suexec&quot;
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D DEFAULT_PIDLOG=&quot;logs/httpd.pid&quot;
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D DEFAULT_SCOREBOARD=&quot;logs/apache_runtime_status&quot;
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D DEFAULT_LOCKFILE=&quot;logs/accept.lock&quot;
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D DEFAULT_ERRORLOG=&quot;logs/error_log&quot;
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D AP_TYPES_CONFIG_FILE=&quot;conf/mime.types&quot;
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D SERVER_CONFIG_FILE=&quot;conf/httpd.conf&quot;
</I>&gt;&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;&gt;<i> &gt;&gt; 2. gentoo (64 bit dual proc AMD):
</I>&gt;&gt;&gt;<i> &gt;&gt; Linux host1 2.6.16-gentoo-r9 #7 SMP Fri Mar 16 17:35:26 UTC 2007
</I>&gt;&gt;&gt;<i> &gt;&gt; x86_64 AMD
</I>&gt;&gt;&gt;<i> &gt;&gt; Opteron(tm) Processor 248 AuthenticAMD GNU/Linux
</I>&gt;&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;&gt;<i> &gt;&gt; Server version: Apache/2.2.4 (Unix)
</I>&gt;&gt;&gt;<i> &gt;&gt; Server built:   Jun 26 2007 19:29:33
</I>&gt;&gt;&gt;<i> &gt;&gt; Server's Module Magic Number: 20051115:4
</I>&gt;&gt;&gt;<i> &gt;&gt; Server loaded:  APR 1.2.8, APR-Util 1.2.8
</I>&gt;&gt;&gt;<i> &gt;&gt; Compiled using: APR 1.2.8, APR-Util 1.2.8
</I>&gt;&gt;&gt;<i> &gt;&gt; Architecture:   64-bit
</I>&gt;&gt;&gt;<i> &gt;&gt; Server MPM:     Prefork
</I>&gt;&gt;&gt;<i> &gt;&gt;   threaded:     no
</I>&gt;&gt;&gt;<i> &gt;&gt;     forked:     yes (variable process count)
</I>&gt;&gt;&gt;<i> &gt;&gt; Server compiled with....
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D APACHE_MPM_DIR=&quot;server/mpm/prefork&quot;
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D APR_HAS_SENDFILE
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D APR_HAS_MMAP
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D APR_HAVE_IPV6 (IPv4-mapped addresses enabled)
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D APR_USE_SYSVSEM_SERIALIZE
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D APR_USE_PTHREAD_SERIALIZE
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D APR_HAS_OTHER_CHILD
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D AP_HAVE_RELIABLE_PIPED_LOGS
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D DYNAMIC_MODULE_LIMIT=128
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D HTTPD_ROOT=&quot;/usr&quot;
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D SUEXEC_BIN=&quot;/usr/sbin/suexec&quot;
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D DEFAULT_PIDLOG=&quot;/var/run/httpd.pid&quot;
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D DEFAULT_SCOREBOARD=&quot;logs/apache_runtime_status&quot;
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D DEFAULT_LOCKFILE=&quot;/var/run/accept.lock&quot;
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D DEFAULT_ERRORLOG=&quot;logs/error_log&quot;
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D AP_TYPES_CONFIG_FILE=&quot;/etc/apache2/mime.types&quot;
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D SERVER_CONFIG_FILE=&quot;/etc/apache2/httpd.conf&quot;
</I>&gt;&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;&gt;<i> &gt;&gt; 3. Ubuntu Feisty (32 bit Intel core duo - ubuntu repos):
</I>&gt;&gt;&gt;<i> &gt;&gt; Linux host2 2.6.20-16-generic #2 SMP Thu Jun 7 20:19:32 UTC 2007 i686
</I>&gt;&gt;&gt;<i> &gt;&gt; GNU/Linux
</I>&gt;&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;&gt;<i> &gt;&gt; Server version: Apache/2.2.3
</I>&gt;&gt;&gt;<i> &gt;&gt; Server built:   Jan 15 2007 18:14:50
</I>&gt;&gt;&gt;<i> &gt;&gt; Server's Module Magic Number: 20051115:3
</I>&gt;&gt;&gt;<i> &gt;&gt; Server loaded:  APR 1.2.7, APR-Util 1.2.7
</I>&gt;&gt;&gt;<i> &gt;&gt; Compiled using: APR 1.2.7, APR-Util 1.2.7
</I>&gt;&gt;&gt;<i> &gt;&gt; Architecture:   32-bit
</I>&gt;&gt;&gt;<i> &gt;&gt; Server MPM:     Prefork
</I>&gt;&gt;&gt;<i> &gt;&gt;   threaded:     no
</I>&gt;&gt;&gt;<i> &gt;&gt;     forked:     yes (variable process count)
</I>&gt;&gt;&gt;<i> &gt;&gt; Server compiled with....
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D APACHE_MPM_DIR=&quot;server/mpm/prefork&quot;
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D APR_HAS_SENDFILE
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D APR_HAS_MMAP
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D APR_HAVE_IPV6 (IPv4-mapped addresses enabled)
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D APR_USE_SYSVSEM_SERIALIZE
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D APR_USE_PTHREAD_SERIALIZE
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D APR_HAS_OTHER_CHILD
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D AP_HAVE_RELIABLE_PIPED_LOGS
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D DYNAMIC_MODULE_LIMIT=128
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D HTTPD_ROOT=&quot;&quot;
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D SUEXEC_BIN=&quot;/usr/lib/apache2/suexec&quot;
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D DEFAULT_PIDLOG=&quot;/var/run/apache2.pid&quot;
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D DEFAULT_SCOREBOARD=&quot;logs/apache_runtime_status&quot;
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D DEFAULT_LOCKFILE=&quot;/var/run/apache2/accept.lock&quot;
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D DEFAULT_ERRORLOG=&quot;logs/error_log&quot;
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D AP_TYPES_CONFIG_FILE=&quot;/etc/apache2/mime.types&quot;
</I>&gt;&gt;&gt;<i> &gt;&gt;  -D SERVER_CONFIG_FILE=&quot;/etc/apache2/apache2.conf&quot;
</I>&gt;&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;&gt;<i> &gt;&gt; Bug or just an unexpected apache configuration?? I actually filed a
</I>&gt;&gt;&gt;<i> &gt;&gt; bug against apache core
</I>&gt;&gt;&gt;<i> &gt;&gt; (<A HREF="http://issues.apache.org/bugzilla/show_bug.cgi?id=42749">http://issues.apache.org/bugzilla/show_bug.cgi?id=42749</A>) initially
</I>&gt;&gt;&gt;<i> &gt;&gt; not realizing that it could be a combination of factors that was
</I>&gt;&gt;&gt;<i> &gt;&gt; causing it and not just soe module not being loaded.
</I>&gt;&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;&gt;<i> &gt;&gt; Thanks.
</I>&gt;&gt;&gt;<i> &gt;&gt; AM
</I>&gt;&gt;&gt;<i> &gt;&gt; _______________________________________________
</I>&gt;&gt;&gt;<i> &gt;&gt; Mod_python mailing list
</I>&gt;&gt;&gt;<i> &gt;&gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;&gt;&gt;<i> &gt;&gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;&gt;<i> &gt;
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> Mod_python mailing list
</I>&gt;&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> 
</I>
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023932.html">[mod_python] mod_python + mod_authz_host w/o mod_auth_digest
	causes ~1Mb leak per apache graceful restart
</A></li>
	<LI>Next message: <A HREF="023934.html">[mod_python] mod_python + mod_authz_host w/o mod_auth_digest
	causes ~1Mb leak per apache graceful restart
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23933">[ date ]</a>
              <a href="thread.html#23933">[ thread ]</a>
              <a href="subject.html#23933">[ subject ]</a>
              <a href="author.html#23933">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
