<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] [SPAM] please recompile it with -DEAPI..
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20%5BSPAM%5D%20please%20recompile%20it%20with%20-DEAPI..&In-Reply-To=184E335D-02AC-4882-867A-E6F497D36EC0%40avepublishing.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023878.html">
   <LINK REL="Next"  HREF="023871.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] [SPAM] please recompile it with -DEAPI..</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20%5BSPAM%5D%20please%20recompile%20it%20with%20-DEAPI..&In-Reply-To=184E335D-02AC-4882-867A-E6F497D36EC0%40avepublishing.com"
       TITLE="[mod_python] [SPAM] please recompile it with -DEAPI..">graham.dumpleton at gmail.com
       </A><BR>
    <I>Wed Jun 20 20:01:30 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023878.html">[SPAM] Re: [mod_python] [SPAM] please recompile it with -DEAPI..
</A></li>
        <LI>Next message: <A HREF="023871.html">[mod_python] Experience with installing mod_python on Vista
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23880">[ date ]</a>
              <a href="thread.html#23880">[ thread ]</a>
              <a href="subject.html#23880">[ subject ]</a>
              <a href="author.html#23880">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 21/06/07, mario curiel &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mario at avepublishing.com</A>&gt; wrote:
&gt;<i> Graham
</I>&gt;<i>
</I>&gt;<i> thanks,
</I>&gt;<i>
</I>&gt;<i> I am looking for a way to access via web pages page, databases via
</I>&gt;<i> python
</I>&gt;<i> I will check for those software, and update one of the machines with
</I>&gt;<i> apache (but it doesnt seem easy in mac)
</I>
As long as you use Apache 2.0 or 2.2 and mod_python 3.3.1 compilation
and installation should be quite straight forward. The only problems
people generally have with the Mac are when they have installed
additional versions of Python and aren't using the default version
supplied with the OS. From what I understand though the MacPython
prebuilt binaries are quite good these days and don't cause problems
with the existing Python installation. If unsure, just use the OS
supplied Python 2.3.5 to start with.

Graham

&gt;<i> On 18/06/2007, at 05:11 PM, Graham Dumpleton wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; Even if you get past the -DEAPI issue with mod_python 2.7.X with
</I>&gt;<i> &gt; Apache 1.3 on Mac OS X there are other problems in that old version of
</I>&gt;<i> &gt; mod_python that will cause it to crash on Mac OS X, especially when
</I>&gt;<i> &gt; performing an Apache restart.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I would strongly recommend against using mod_python 2.7.X and instead
</I>&gt;<i> &gt; install a newer version of Apache and use a newer version of
</I>&gt;<i> &gt; mod_python.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; If for some reason you really don't want to upgrade then you could dig
</I>&gt;<i> &gt; up patches to get it working from old mailing list posts, but as I
</I>&gt;<i> &gt; said, it wouldn't be my first choice although I will still point you
</I>&gt;<i> &gt; in the right direction if you want to do that.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; If your reason for wanting mod_python is to host a Python application
</I>&gt;<i> &gt; framework or application which supports WSGI, eg. Django, TurboGears,
</I>&gt;<i> &gt; MoinMoin, Trac etc, then I would instead suggest you give mod_wsgi
</I>&gt;<i> &gt; (www.modwsgi.org) a go. This will work straight out of the box with
</I>&gt;<i> &gt; Apache 1.3 on MacOS X.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Since mod_wsgi exists and will work with your configuration, if you
</I>&gt;<i> &gt; don't want to upgrade to a newer version of Apache and are doing what
</I>&gt;<i> &gt; you want because you want to learn about web programming in Python,
</I>&gt;<i> &gt; you might be better off looking at WSGI based frameworks rather than
</I>&gt;<i> &gt; mod_python. With WSGI there are standalone Python web servers as well
</I>&gt;<i> &gt; as mod_wsgi, so your choices are greater.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Graham
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On 19/06/07, mario curiel &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mario at avepublishing.com</A>&gt; wrote:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Hello, on another machine I have
</I>&gt;<i> &gt;&gt; MAC OSX server 10.4.9,
</I>&gt;<i> &gt;&gt; PPC,
</I>&gt;<i> &gt;&gt; Server version: Apache/1.3.33 (Darwin)
</I>&gt;<i> &gt;&gt; mod_python-2.7.11
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; like the server admin only uses apache 1.3.33, (pre-installeted)
</I>&gt;<i> &gt;&gt; then I
</I>&gt;<i> &gt;&gt; installed mod_python-2.7.11
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; then error in httpd  is:
</I>&gt;<i> &gt;&gt; [Mon Jun 18 10:43:02 2007] [warn] Loaded DSO
</I>&gt;<i> &gt;&gt; /usr/libexec/httpd/mod_python.so uses plain Apache 1.3 API,
</I>&gt;<i> &gt;&gt; this module might crash under EAPI! (please recompile it with -DEAPI)
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; any idea how to recompile it with -DEAPI?
</I>&gt;<i> &gt;&gt; which program has to be recompiled with -deapi ? the httpd or the
</I>&gt;<i> &gt;&gt; program
</I>&gt;<i> &gt;&gt; mod_python ?
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; thanks a lot
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Alberto
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; root# httpd
</I>&gt;<i> &gt;&gt; [Mon Jun 18 10:46:59 2007] [warn] Loaded DSO
</I>&gt;<i> &gt;&gt; /usr/libexec/httpd/mod_python.so uses plain Apache 1.3 API,
</I>&gt;<i> &gt;&gt; this module might crash under EAPI! (please recompile it with -DEAPI)
</I>&gt;<i> &gt;&gt; Processing config directory: /etc/httpd/sites/*.conf
</I>&gt;<i> &gt;&gt;  Processing config file:
</I>&gt;<i> &gt;&gt; /etc/httpd/sites/0000_10.129.0.37_80_www.NN.com.conf
</I>&gt;<i> &gt;&gt;  Processing config file:
</I>&gt;<i> &gt;&gt; /etc/httpd/sites/0004_10.129.0.37_80_www.YY.com.mx.conf
</I>&gt;<i> &gt;&gt;  Processing config file:
</I>&gt;<i> &gt;&gt; /etc/httpd/sites/virtual_host_global.conf
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; root# CFLAGS=&quot;-DEAPI&quot; ./configure --with-apxs=/usr/sbin/apxs
</I>&gt;<i> &gt;&gt; loading cache ./config.cache
</I>&gt;<i> &gt;&gt; checking for gcc... (cached) gcc
</I>&gt;<i> &gt;&gt; checking whether the C compiler (gcc -DEAPI ) works... yes
</I>&gt;<i> &gt;&gt; checking whether the C compiler (gcc -DEAPI ) is a cross-
</I>&gt;<i> &gt;&gt; compiler... no
</I>&gt;<i> &gt;&gt; checking whether we are using GNU C... (cached) yes
</I>&gt;<i> &gt;&gt; checking whether gcc accepts -g... (cached) yes
</I>&gt;<i> &gt;&gt; checking for ranlib... (cached) ranlib
</I>&gt;<i> &gt;&gt; checking for ar... (cached) ar
</I>&gt;<i> &gt;&gt; checking for a BSD compatible install... (cached) /usr/bin/install -c
</I>&gt;<i> &gt;&gt; checking whether make sets ${MAKE}... (cached) yes
</I>&gt;<i> &gt;&gt; checking for main in -lm... (cached) yes
</I>&gt;<i> &gt;&gt; checking for working const... (cached) yes
</I>&gt;<i> &gt;&gt; checking your blood pressure... a bit high, but we can proceed
</I>&gt;<i> &gt;&gt; checking whether apxs is available
</I>&gt;<i> &gt;&gt; checking for --with-apxs... /usr/sbin/apxs executable, good
</I>&gt;<i> &gt;&gt; checking for Apache libexec directory... /usr/libexec/httpd
</I>&gt;<i> &gt;&gt; checking for Apache include directory... -I/usr/include/httpd
</I>&gt;<i> &gt;&gt; checking for --with-apache... no
</I>&gt;<i> &gt;&gt; configure: warning: **** No apache sources specified, static
</I>&gt;<i> &gt;&gt; compilation
</I>&gt;<i> &gt;&gt; will not be available.
</I>&gt;<i> &gt;&gt; configure: warning: **** You can use --with-apache to specify
</I>&gt;<i> &gt;&gt; where your
</I>&gt;<i> &gt;&gt; Apache sources are.
</I>&gt;<i> &gt;&gt; checking for --with-python... no
</I>&gt;<i> &gt;&gt; checking for python... (cached)
</I>&gt;<i> &gt;&gt; /Library/Frameworks/Python.framework/Versions/Current/bin/python
</I>&gt;<i> &gt;&gt; checking Python version... 2.5
</I>&gt;<i> &gt;&gt; checking whether Python is compiled with thread support... no
</I>&gt;<i> &gt;&gt; threads, good
</I>&gt;<i> &gt;&gt; checking Python install prefix...
</I>&gt;<i> &gt;&gt; /Library/Frameworks/Python.framework/Versions/2.5
</I>&gt;<i> &gt;&gt; checking what libraries Python was linked with...
</I>&gt;<i> &gt;&gt; /Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/
</I>&gt;<i> &gt;&gt; config/libpython2.5.a
</I>&gt;<i> &gt;&gt;   -ldl
</I>&gt;<i> &gt;&gt; checking linker flags used to link Python...
</I>&gt;<i> &gt;&gt; checking where Python include files are...
</I>&gt;<i> &gt;&gt; -I/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5
</I>&gt;<i> &gt;&gt; checking for mkdep... (cached) /usr/bin/mkdep
</I>&gt;<i> &gt;&gt; creating ./config.status
</I>&gt;<i> &gt;&gt; creating Makefile
</I>&gt;<i> &gt;&gt; creating src/Makefile
</I>&gt;<i> &gt;&gt; creating src/libpython.module
</I>&gt;<i> &gt;&gt; creating Doc/Makefile
</I>&gt;<i> &gt;&gt; analyzing dependencies
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; root# make CFLAGS=-deapi
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;  root# make install
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Performing DSO installation.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; /usr/bin/install -c src/mod_python.so /usr/libexec/httpd
</I>&gt;<i> &gt;&gt; /usr/bin/install -c -d
</I>&gt;<i> &gt;&gt; /Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/
</I>&gt;<i> &gt;&gt; site-packages/mod_python
</I>&gt;<i> &gt;&gt; python
</I>&gt;<i> &gt;&gt; /Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/
</I>&gt;<i> &gt;&gt; compileall.py
</I>&gt;<i> &gt;&gt; /Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/
</I>&gt;<i> &gt;&gt; site-packages/mod_python
</I>&gt;<i> &gt;&gt; Listing
</I>&gt;<i> &gt;&gt; /Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/
</I>&gt;<i> &gt;&gt; site-packages/mod_python
</I>&gt;<i> &gt;&gt; ...
</I>&gt;<i> &gt;&gt; Compiling
</I>&gt;<i> &gt;&gt; /Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/
</I>&gt;<i> &gt;&gt; site-packages/mod_python/__init__.py
</I>&gt;<i> &gt;&gt; ...
</I>&gt;<i> &gt;&gt; Compiling
</I>&gt;<i> &gt;&gt; /Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/
</I>&gt;<i> &gt;&gt; site-packages/mod_python/apache.py
</I>&gt;<i> &gt;&gt; ...
</I>&gt;<i> &gt;&gt; Compiling
</I>&gt;<i> &gt;&gt; /Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/
</I>&gt;<i> &gt;&gt; site-packages/mod_python/cgihandler.py
</I>&gt;<i> &gt;&gt; ...
</I>&gt;<i> &gt;&gt; Compiling
</I>&gt;<i> &gt;&gt; /Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/
</I>&gt;<i> &gt;&gt; site-packages/mod_python/httpdapi.py
</I>&gt;<i> &gt;&gt; ...
</I>&gt;<i> &gt;&gt; Compiling
</I>&gt;<i> &gt;&gt; /Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/
</I>&gt;<i> &gt;&gt; site-packages/mod_python/publisher.py
</I>&gt;<i> &gt;&gt; ...
</I>&gt;<i> &gt;&gt; Compiling
</I>&gt;<i> &gt;&gt; /Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/
</I>&gt;<i> &gt;&gt; site-packages/mod_python/util.py
</I>&gt;<i> &gt;&gt; ...
</I>&gt;<i> &gt;&gt; Compiling
</I>&gt;<i> &gt;&gt; /Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/
</I>&gt;<i> &gt;&gt; site-packages/mod_python/zhandler.py
</I>&gt;<i> &gt;&gt; ...
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Now don't forget to edit your main config and add
</I>&gt;<i> &gt;&gt;     LoadModule python_module
</I>&gt;<i> &gt;&gt; /usr/libexec/httpd/mod_python.so
</I>&gt;<i> &gt;&gt; and if your configuration uses ClearModuleList, then also
</I>&gt;<i> &gt;&gt;     AddModule mod_python.c
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; root#httpd
</I>&gt;<i> &gt;&gt; [Mon Jun 18 10:52:46 2007] [warn] Loaded DSO
</I>&gt;<i> &gt;&gt; /usr/libexec/httpd/mod_python.so uses plain Apache 1.3 API,
</I>&gt;<i> &gt;&gt; this module might crash under EAPI! (please recompile it with -DEAPI)
</I>&gt;<i> &gt;&gt; Processing config directory: /etc/httpd/sites/*.conf
</I>&gt;<i> &gt;&gt;  Processing config file:
</I>&gt;<i> &gt;&gt; /etc/httpd/sites/0000_10.129.0.37_80_www.NN.com.conf
</I>&gt;<i> &gt;&gt;  Processing config file:
</I>&gt;<i> &gt;&gt; /etc/httpd/sites/0004_10.129.0.37_80_www.YY.com.mx.conf
</I>&gt;<i> &gt;&gt;  Processing config file:
</I>&gt;<i> &gt;&gt; /etc/httpd/sites/virtual_host_global.conf
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;  root# httpd -V
</I>&gt;<i> &gt;&gt; Server version: Apache/1.3.33 (Darwin)
</I>&gt;<i> &gt;&gt; Server built:   Mar 20 2005 15:08:27
</I>&gt;<i> &gt;&gt; Server's Module Magic Number: 19990320:16
</I>&gt;<i> &gt;&gt; Server compiled with....
</I>&gt;<i> &gt;&gt;  -D EAPI
</I>&gt;<i> &gt;&gt;  -D HAVE_MMAP
</I>&gt;<i> &gt;&gt;  -D USE_MMAP_SCOREBOARD
</I>&gt;<i> &gt;&gt;  -D USE_MMAP_FILES
</I>&gt;<i> &gt;&gt;  -D HAVE_FCNTL_SERIALIZED_ACCEPT
</I>&gt;<i> &gt;&gt;  -D HAVE_FLOCK_SERIALIZED_ACCEPT
</I>&gt;<i> &gt;&gt;  -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT
</I>&gt;<i> &gt;&gt;  -D DYNAMIC_MODULE_LIMIT=64
</I>&gt;<i> &gt;&gt;  -D HARD_SERVER_LIMIT=2048
</I>&gt;<i> &gt;&gt;  -D HTTPD_ROOT=&quot;/usr&quot;
</I>&gt;<i> &gt;&gt;  -D SUEXEC_BIN=&quot;/usr/sbin/suexec&quot;
</I>&gt;<i> &gt;&gt;  -D DEFAULT_PIDLOG=&quot;/var/run/httpd.pid&quot;
</I>&gt;<i> &gt;&gt;  -D DEFAULT_SCOREBOARD=&quot;/var/run/httpd.scoreboard&quot;
</I>&gt;<i> &gt;&gt;  -D DEFAULT_LOCKFILE=&quot;/var/run/httpd.lock&quot;
</I>&gt;<i> &gt;&gt;  -D DEFAULT_ERRORLOG=&quot;/var/log/httpd/error_log&quot;
</I>&gt;<i> &gt;&gt;  -D TYPES_CONFIG_FILE=&quot;/etc/httpd/mime.types&quot;
</I>&gt;<i> &gt;&gt;  -D SERVER_CONFIG_FILE=&quot;/etc/httpd/httpd.conf&quot;
</I>&gt;<i> &gt;&gt;  -D ACCESS_CONFIG_FILE=&quot;/etc/httpd/access.conf&quot;
</I>&gt;<i> &gt;&gt;  -D RESOURCE_CONFIG_FILE=&quot;/etc/httpd/srm.conf&quot;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt; Mod_python mailing list
</I>&gt;<i> &gt;&gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> &gt;&gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023878.html">[SPAM] Re: [mod_python] [SPAM] please recompile it with -DEAPI..
</A></li>
	<LI>Next message: <A HREF="023871.html">[mod_python] Experience with installing mod_python on Vista
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23880">[ date ]</a>
              <a href="thread.html#23880">[ thread ]</a>
              <a href="subject.html#23880">[ subject ]</a>
              <a href="author.html#23880">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
