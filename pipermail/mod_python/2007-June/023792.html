<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Breaking things after upgrading MySQLdb (to 1.2.2)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Breaking%20things%20after%20upgrading%20MySQLdb%20%28to%201.2.2%29&In-Reply-To=6B47231F-A40F-4F1C-A9C9-0FF26487AB98%40ixopusada.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023791.html">
   <LINK REL="Next"  HREF="023784.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Breaking things after upgrading MySQLdb (to 1.2.2)</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Breaking%20things%20after%20upgrading%20MySQLdb%20%28to%201.2.2%29&In-Reply-To=6B47231F-A40F-4F1C-A9C9-0FF26487AB98%40ixopusada.com"
       TITLE="[mod_python] Breaking things after upgrading MySQLdb (to 1.2.2)">graham.dumpleton at gmail.com
       </A><BR>
    <I>Thu Jun  7 20:38:21 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023791.html">[mod_python] Breaking things after upgrading MySQLdb (to 1.2.2)
</A></li>
        <LI>Next message: <A HREF="023784.html">[mod_python] simpleTAL and modpython
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23792">[ date ]</a>
              <a href="thread.html#23792">[ thread ]</a>
              <a href="subject.html#23792">[ subject ]</a>
              <a href="author.html#23792">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Glad to see you worked out my instructions. :-)

I probably suggest not using /var/tmp though because if this is a
shared machine, too easy for some one to place in /var/tmp a Python
module which overrides some important standard Python module. Ie.,
would be used in place of the real one. Thus, someone could either
inadvertently or deliberately interfere with your application.

Graham

On 08/06/07, Dirk van Oosterbosch, IR labs &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">labs at ixopusada.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Thanks a bunch!
</I>&gt;<i>
</I>&gt;<i> Making a egg_cache_module.py file containing:
</I>&gt;<i> import os
</I>&gt;<i> os.environ['PYTHON_EGG_CACHE'] = '/var/tmp'
</I>&gt;<i>
</I>&gt;<i> and just adding
</I>&gt;<i> PythonImport /full/path/to/some/egg_cache_module.py
</I>&gt;<i> mynetworkname.lan
</I>&gt;<i> to httpd.conf. And restarting fixed the MySQLdb problem.
</I>&gt;<i> (and after I rebuild &amp; reinstalled all my other python modules, since I'm
</I>&gt;<i> now with python 2.5.1, my original web-app works again!)
</I>&gt;<i>
</I>&gt;<i> once again you solved some mysterious problem, ;-)
</I>&gt;<i> Thanks Graham!
</I>&gt;<i>
</I>&gt;<i> dirk
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 7-jun-2007, at 13:27, Graham Dumpleton wrote:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> After I restarted my machine, it first gave:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> [Thu Jun 07 10:05:54 2007] [error] [client ::1] ExtractionError: Can't
</I>&gt;<i>
</I>&gt;<i> extract file(s) to egg cache\n\nThe following error occurred while trying to
</I>&gt;<i>
</I>&gt;<i> extract file(s) to the Python egg\ncache:\n\n  [Errno 13] Permission denied:
</I>&gt;<i>
</I>&gt;<i> '/var/empty/.python-eggs'\n\nThe Python egg cache directory
</I>&gt;<i>
</I>&gt;<i> is currently set to:\n\n
</I>&gt;<i>
</I>&gt;<i> /var/empty/.python-eggs\n\nPerhaps your account does not
</I>&gt;<i>
</I>&gt;<i> have write access to this directory?  You can\nchange the cache directory by
</I>&gt;<i>
</I>&gt;<i> setting the PYTHON_EGG_CACHE environment\nvariable to point to an accessible
</I>&gt;<i>
</I>&gt;<i> directory.\n
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> To get rid of this problem, create a new Python code module somewhere
</I>&gt;<i>
</I>&gt;<i> containing:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  import os
</I>&gt;<i>
</I>&gt;<i>  os.environ['PYTHON_EGG_CACHE'] = '/some/path'
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The directory /some/path must be writable to the user that Apache runs as.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Then add to Apache global configuration:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  PythonImport interpreter_name module_name
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Where interpreter_name is the name of the interpreter your mod_python
</I>&gt;<i>
</I>&gt;<i> application is running in, found by query req.interpreter in a request
</I>&gt;<i>
</I>&gt;<i> handler. And module_name is the name of the module you created above.
</I>&gt;<i>
</I>&gt;<i> If that module not in standard place, if using mod_python 3.3, use
</I>&gt;<i>
</I>&gt;<i> absolute path to code file instead.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -----------------------------
</I>&gt;<i> Dirk van Oosterbosch
</I>&gt;<i> de Wittenstraat 225
</I>&gt;<i> 1052 AT Amsterdam
</I>&gt;<i> the Netherlands
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://labs.ixopusada.com">http://labs.ixopusada.com</A>
</I>&gt;<i> -----------------------------
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023791.html">[mod_python] Breaking things after upgrading MySQLdb (to 1.2.2)
</A></li>
	<LI>Next message: <A HREF="023784.html">[mod_python] simpleTAL and modpython
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23792">[ date ]</a>
              <a href="thread.html#23792">[ thread ]</a>
              <a href="subject.html#23792">[ subject ]</a>
              <a href="author.html#23792">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
