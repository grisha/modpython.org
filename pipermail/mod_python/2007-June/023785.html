<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Breaking things after upgrading MySQLdb (to 1.2.2)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Breaking%20things%20after%20upgrading%20MySQLdb%20%28to%201.2.2%29&In-Reply-To=770EF919-5302-4C28-A74E-13E463C8A491%40ixopusada.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023783.html">
   <LINK REL="Next"  HREF="023787.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Breaking things after upgrading MySQLdb (to 1.2.2)</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Breaking%20things%20after%20upgrading%20MySQLdb%20%28to%201.2.2%29&In-Reply-To=770EF919-5302-4C28-A74E-13E463C8A491%40ixopusada.com"
       TITLE="[mod_python] Breaking things after upgrading MySQLdb (to 1.2.2)">graham.dumpleton at gmail.com
       </A><BR>
    <I>Wed Jun  6 19:31:40 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023783.html">[mod_python] Breaking things after upgrading MySQLdb (to 1.2.2)
</A></li>
        <LI>Next message: <A HREF="023787.html">[mod_python] Breaking things after upgrading MySQLdb (to 1.2.2)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23785">[ date ]</a>
              <a href="thread.html#23785">[ thread ]</a>
              <a href="subject.html#23785">[ subject ]</a>
              <a href="author.html#23785">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>These sorts of issues on upgrades are usually cause by modules in PHP,
other Apache modules or Python MySQLdb client libraries having been
compiled against different versions of MySQLdb shared libraries.

You need to ensure you rebuild all such packages which use MySQLdb so
they all use the same version.

Graham

On 07/06/07, Dirk van Oosterbosch, IR labs &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">labs at ixopusada.com</A>&gt; wrote:
&gt;<i> Hi Guys,
</I>&gt;<i>
</I>&gt;<i> I'm not sure if this is the right list for this problem, but I guess I try.
</I>&gt;<i>
</I>&gt;<i> I just upgraded my MySQLdb python database module (from IIRC 1.2.0  to
</I>&gt;<i> 1.2.2). But now things break down. I'm getting the following error:
</I>&gt;<i> ImportError: Inappropriate file type for dynamic loading
</I>&gt;<i>
</I>&gt;<i> If I import MySQLdb from the interpreter there seem no problems.
</I>&gt;<i> Python 2.4.1 (#2, Mar 31 2005, 00:05:10)
</I>&gt;<i> [GCC 3.3 20030304 (Apple Computer, Inc. build 1666)] on darwin
</I>&gt;<i> &gt;&gt;&gt; import MySQLdb
</I>&gt;<i> &gt;&gt;&gt; MySQLdb.version_info
</I>&gt;<i> (1, 2, 2, 'final', 0)
</I>&gt;<i>
</I>&gt;<i> But when I try to run one of my web-apps the following error (pasted here
</I>&gt;<i> below) gets printed in the log.
</I>&gt;<i>
</I>&gt;<i> Does anybody of you know what I'm doing wrong or what I miss to fix this?
</I>&gt;<i>
</I>&gt;<i> Thanks
</I>&gt;<i> dirk
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> [Wed Jun 06 15:46:13 2007] [notice] mod_python: Creating 8 session mutexes
</I>&gt;<i> based on 6 max processes and 25 max threads.
</I>&gt;<i> [Wed Jun 06 15:46:13 2007] [notice] mod_python: using mutex_directory /tmp
</I>&gt;<i> [Wed Jun 06 15:46:13 2007] [notice] Apache/2.0.55 (Unix) mod_python/3.3.0b
</I>&gt;<i> Python/2.4.1 configured -- resuming normal operations
</I>&gt;<i> [Wed Jun 06 15:46:28 2007] [notice] mod_python (pid=5418,
</I>&gt;<i> interpreter='sol740satelite.lan'): Importing module
</I>&gt;<i> '/Users/dirk/Sites/www/python/translate.py'
</I>&gt;<i> [Wed Jun 06 15:46:28 2007] [notice] mod_python (pid=5418,
</I>&gt;<i> interpreter='sol740satelite.lan'): Importing module
</I>&gt;<i> '/Users/dirk/Sites/www/python/LocalConf.py'
</I>&gt;<i> [Wed Jun 06 15:46:28 2007] [error] [client ::1] mod_python (pid=5418,
</I>&gt;<i> interpreter='sol740satelite.lan', phase='PythonTransHandler',
</I>&gt;<i> handler='translate'): Application error
</I>&gt;<i> [Wed Jun 06 15:46:28 2007] [error] [client ::1] ServerName:
</I>&gt;<i> 'sol740satelite.lan'
</I>&gt;<i> [Wed Jun 06 15:46:28 2007] [error] [client ::1] DocumentRoot:
</I>&gt;<i> '/Users/dirk/Sites/www'
</I>&gt;<i> [Wed Jun 06 15:46:28 2007] [error] [client ::1] URI: '/admin/'
</I>&gt;<i> [Wed Jun 06 15:46:28 2007] [error] [client ::1] Location: None
</I>&gt;<i> [Wed Jun 06 15:46:28 2007] [error] [client ::1] Directory: None
</I>&gt;<i> [Wed Jun 06 15:46:28 2007] [error] [client ::1] Filename: None
</I>&gt;<i> [Wed Jun 06 15:46:28 2007] [error] [client ::1] PathInfo: None
</I>&gt;<i> [Wed Jun 06 15:46:28 2007] [error] [client ::1] Traceback (most recent call
</I>&gt;<i> last):
</I>&gt;<i> [Wed Jun 06 15:46:28 2007] [error] [client ::1]   File
</I>&gt;<i> &quot;/Library/Frameworks/Python.framework/Versions/2.4/lib/python2.4/site-packages/mod_python/importer.py&quot;,
</I>&gt;<i> line 1537, in HandlerDispatch\n    default=default_handler, arg=req,
</I>&gt;<i> silent=hlist.silent)
</I>&gt;<i> [Wed Jun 06 15:46:28 2007] [error] [client ::1]   File
</I>&gt;<i> &quot;/Library/Frameworks/Python.framework/Versions/2.4/lib/python2.4/site-packages/mod_python/importer.py&quot;,
</I>&gt;<i> line 1202, in _process_target\n    module = import_module(module_name,
</I>&gt;<i> path=path)
</I>&gt;<i> [Wed Jun 06 15:46:28 2007] [error] [client ::1]   File
</I>&gt;<i> &quot;/Library/Frameworks/Python.framework/Versions/2.4/lib/python2.4/site-packages/mod_python/importer.py&quot;,
</I>&gt;<i> line 296, in import_module\n    log, import_path)
</I>&gt;<i> [Wed Jun 06 15:46:28 2007] [error] [client ::1]   File
</I>&gt;<i> &quot;/Library/Frameworks/Python.framework/Versions/2.4/lib/python2.4/site-packages/mod_python/importer.py&quot;,
</I>&gt;<i> line 680, in import_module\n    execfile(file, module.__dict__)
</I>&gt;<i> [Wed Jun 06 15:46:28 2007] [error] [client ::1]   File
</I>&gt;<i> &quot;/Users/dirk/Sites/www/python/translate.py&quot;, line 30, in
</I>&gt;<i> ?\n    import LocalConf
</I>&gt;<i> [Wed Jun 06 15:46:28 2007] [error] [client ::1]   File
</I>&gt;<i> &quot;/Library/Frameworks/Python.framework/Versions/2.4/lib/python2.4/site-packages/mod_python/importer.py&quot;,
</I>&gt;<i> line 991, in load_module\n    return
</I>&gt;<i> _global_modules_cache.import_module(self.__file)
</I>&gt;<i> [Wed Jun 06 15:46:28 2007] [error] [client ::1]   File
</I>&gt;<i> &quot;/Library/Frameworks/Python.framework/Versions/2.4/lib/python2.4/site-packages/mod_python/importer.py&quot;,
</I>&gt;<i> line 680, in import_module\n    execfile(file, module.__dict__)
</I>&gt;<i> [Wed Jun 06 15:46:28 2007] [error] [client ::1]   File
</I>&gt;<i> &quot;/Users/dirk/Sites/www/python/LocalConf.py&quot;, line 22, in
</I>&gt;<i> ?\n    import MySQLdb
</I>&gt;<i> [Wed Jun 06 15:46:28 2007] [error] [client ::1]   File
</I>&gt;<i> &quot;build/bdist.darwin-8.9.0-Power_Macintosh/egg/MySQLdb/__init__.py&quot;,
</I>&gt;<i> line 19, in ?
</I>&gt;<i> [Wed Jun 06 15:46:28 2007] [error] [client ::1]   File
</I>&gt;<i> &quot;build/bdist.darwin-8.9.0-Power_Macintosh/egg/_mysql.py&quot;,
</I>&gt;<i> line 7, in ?
</I>&gt;<i> [Wed Jun 06 15:46:28 2007] [error] [client ::1]   File
</I>&gt;<i> &quot;build/bdist.darwin-8.9.0-Power_Macintosh/egg/_mysql.py&quot;,
</I>&gt;<i> line 6, in __bootstrap__
</I>&gt;<i> [Wed Jun 06 15:46:28 2007] [error] [client ::1] ImportError: Inappropriate
</I>&gt;<i> file type for dynamic loading
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -----------------------------
</I>&gt;<i> Dirk van Oosterbosch
</I>&gt;<i> de Wittenstraat 225
</I>&gt;<i> 1052 AT Amsterdam
</I>&gt;<i> the Netherlands
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://labs.ixopusada.com">http://labs.ixopusada.com</A>
</I>&gt;<i> -----------------------------
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023783.html">[mod_python] Breaking things after upgrading MySQLdb (to 1.2.2)
</A></li>
	<LI>Next message: <A HREF="023787.html">[mod_python] Breaking things after upgrading MySQLdb (to 1.2.2)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23785">[ date ]</a>
              <a href="thread.html#23785">[ thread ]</a>
              <a href="subject.html#23785">[ subject ]</a>
              <a href="author.html#23785">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
