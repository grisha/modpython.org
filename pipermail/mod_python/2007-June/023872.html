<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] [SPAM] please recompile it with -DEAPI..
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20%5BSPAM%5D%20please%20recompile%20it%20with%20-DEAPI..&In-Reply-To=84ABC318-3EA7-498E-AD1D-ECD40733312C%40avepublishing.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023870.html">
   <LINK REL="Next"  HREF="023878.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] [SPAM] please recompile it with -DEAPI..</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20%5BSPAM%5D%20please%20recompile%20it%20with%20-DEAPI..&In-Reply-To=84ABC318-3EA7-498E-AD1D-ECD40733312C%40avepublishing.com"
       TITLE="[mod_python] [SPAM] please recompile it with -DEAPI..">graham.dumpleton at gmail.com
       </A><BR>
    <I>Mon Jun 18 18:11:43 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023870.html">[mod_python] [SPAM] please recompile it with -DEAPI..
</A></li>
        <LI>Next message: <A HREF="023878.html">[SPAM] Re: [mod_python] [SPAM] please recompile it with -DEAPI..
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23872">[ date ]</a>
              <a href="thread.html#23872">[ thread ]</a>
              <a href="subject.html#23872">[ subject ]</a>
              <a href="author.html#23872">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Even if you get past the -DEAPI issue with mod_python 2.7.X with
Apache 1.3 on Mac OS X there are other problems in that old version of
mod_python that will cause it to crash on Mac OS X, especially when
performing an Apache restart.

I would strongly recommend against using mod_python 2.7.X and instead
install a newer version of Apache and use a newer version of
mod_python.

If for some reason you really don't want to upgrade then you could dig
up patches to get it working from old mailing list posts, but as I
said, it wouldn't be my first choice although I will still point you
in the right direction if you want to do that.

If your reason for wanting mod_python is to host a Python application
framework or application which supports WSGI, eg. Django, TurboGears,
MoinMoin, Trac etc, then I would instead suggest you give mod_wsgi
(www.modwsgi.org) a go. This will work straight out of the box with
Apache 1.3 on MacOS X.

Since mod_wsgi exists and will work with your configuration, if you
don't want to upgrade to a newer version of Apache and are doing what
you want because you want to learn about web programming in Python,
you might be better off looking at WSGI based frameworks rather than
mod_python. With WSGI there are standalone Python web servers as well
as mod_wsgi, so your choices are greater.

Graham

On 19/06/07, mario curiel &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mario at avepublishing.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hello, on another machine I have
</I>&gt;<i> MAC OSX server 10.4.9,
</I>&gt;<i> PPC,
</I>&gt;<i> Server version: Apache/1.3.33 (Darwin)
</I>&gt;<i> mod_python-2.7.11
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> like the server admin only uses apache 1.3.33, (pre-installeted) then I
</I>&gt;<i> installed mod_python-2.7.11
</I>&gt;<i>
</I>&gt;<i> then error in httpd  is:
</I>&gt;<i> [Mon Jun 18 10:43:02 2007] [warn] Loaded DSO
</I>&gt;<i> /usr/libexec/httpd/mod_python.so uses plain Apache 1.3 API,
</I>&gt;<i> this module might crash under EAPI! (please recompile it with -DEAPI)
</I>&gt;<i>
</I>&gt;<i> any idea how to recompile it with -DEAPI?
</I>&gt;<i> which program has to be recompiled with -deapi ? the httpd or the program
</I>&gt;<i> mod_python ?
</I>&gt;<i>
</I>&gt;<i> thanks a lot
</I>&gt;<i>
</I>&gt;<i> Alberto
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> root# httpd
</I>&gt;<i> [Mon Jun 18 10:46:59 2007] [warn] Loaded DSO
</I>&gt;<i> /usr/libexec/httpd/mod_python.so uses plain Apache 1.3 API,
</I>&gt;<i> this module might crash under EAPI! (please recompile it with -DEAPI)
</I>&gt;<i> Processing config directory: /etc/httpd/sites/*.conf
</I>&gt;<i>  Processing config file:
</I>&gt;<i> /etc/httpd/sites/0000_10.129.0.37_80_www.NN.com.conf
</I>&gt;<i>  Processing config file:
</I>&gt;<i> /etc/httpd/sites/0004_10.129.0.37_80_www.YY.com.mx.conf
</I>&gt;<i>  Processing config file:
</I>&gt;<i> /etc/httpd/sites/virtual_host_global.conf
</I>&gt;<i>
</I>&gt;<i> root# CFLAGS=&quot;-DEAPI&quot; ./configure --with-apxs=/usr/sbin/apxs
</I>&gt;<i> loading cache ./config.cache
</I>&gt;<i> checking for gcc... (cached) gcc
</I>&gt;<i> checking whether the C compiler (gcc -DEAPI ) works... yes
</I>&gt;<i> checking whether the C compiler (gcc -DEAPI ) is a cross-compiler... no
</I>&gt;<i> checking whether we are using GNU C... (cached) yes
</I>&gt;<i> checking whether gcc accepts -g... (cached) yes
</I>&gt;<i> checking for ranlib... (cached) ranlib
</I>&gt;<i> checking for ar... (cached) ar
</I>&gt;<i> checking for a BSD compatible install... (cached) /usr/bin/install -c
</I>&gt;<i> checking whether make sets ${MAKE}... (cached) yes
</I>&gt;<i> checking for main in -lm... (cached) yes
</I>&gt;<i> checking for working const... (cached) yes
</I>&gt;<i> checking your blood pressure... a bit high, but we can proceed
</I>&gt;<i> checking whether apxs is available
</I>&gt;<i> checking for --with-apxs... /usr/sbin/apxs executable, good
</I>&gt;<i> checking for Apache libexec directory... /usr/libexec/httpd
</I>&gt;<i> checking for Apache include directory... -I/usr/include/httpd
</I>&gt;<i> checking for --with-apache... no
</I>&gt;<i> configure: warning: **** No apache sources specified, static compilation
</I>&gt;<i> will not be available.
</I>&gt;<i> configure: warning: **** You can use --with-apache to specify where your
</I>&gt;<i> Apache sources are.
</I>&gt;<i> checking for --with-python... no
</I>&gt;<i> checking for python... (cached)
</I>&gt;<i> /Library/Frameworks/Python.framework/Versions/Current/bin/python
</I>&gt;<i> checking Python version... 2.5
</I>&gt;<i> checking whether Python is compiled with thread support... no threads, good
</I>&gt;<i> checking Python install prefix...
</I>&gt;<i> /Library/Frameworks/Python.framework/Versions/2.5
</I>&gt;<i> checking what libraries Python was linked with...
</I>&gt;<i> /Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/config/libpython2.5.a
</I>&gt;<i>   -ldl
</I>&gt;<i> checking linker flags used to link Python...
</I>&gt;<i> checking where Python include files are...
</I>&gt;<i> -I/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5
</I>&gt;<i> checking for mkdep... (cached) /usr/bin/mkdep
</I>&gt;<i> creating ./config.status
</I>&gt;<i> creating Makefile
</I>&gt;<i> creating src/Makefile
</I>&gt;<i> creating src/libpython.module
</I>&gt;<i> creating Doc/Makefile
</I>&gt;<i> analyzing dependencies
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> root# make CFLAGS=-deapi
</I>&gt;<i>
</I>&gt;<i>  root# make install
</I>&gt;<i>
</I>&gt;<i> Performing DSO installation.
</I>&gt;<i>
</I>&gt;<i> /usr/bin/install -c src/mod_python.so /usr/libexec/httpd
</I>&gt;<i> /usr/bin/install -c -d
</I>&gt;<i> /Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/site-packages/mod_python
</I>&gt;<i> python
</I>&gt;<i> /Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/compileall.py
</I>&gt;<i> /Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/site-packages/mod_python
</I>&gt;<i> Listing
</I>&gt;<i> /Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/site-packages/mod_python
</I>&gt;<i> ...
</I>&gt;<i> Compiling
</I>&gt;<i> /Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/site-packages/mod_python/__init__.py
</I>&gt;<i> ...
</I>&gt;<i> Compiling
</I>&gt;<i> /Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/site-packages/mod_python/apache.py
</I>&gt;<i> ...
</I>&gt;<i> Compiling
</I>&gt;<i> /Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/site-packages/mod_python/cgihandler.py
</I>&gt;<i> ...
</I>&gt;<i> Compiling
</I>&gt;<i> /Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/site-packages/mod_python/httpdapi.py
</I>&gt;<i> ...
</I>&gt;<i> Compiling
</I>&gt;<i> /Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/site-packages/mod_python/publisher.py
</I>&gt;<i> ...
</I>&gt;<i> Compiling
</I>&gt;<i> /Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/site-packages/mod_python/util.py
</I>&gt;<i> ...
</I>&gt;<i> Compiling
</I>&gt;<i> /Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/site-packages/mod_python/zhandler.py
</I>&gt;<i> ...
</I>&gt;<i>
</I>&gt;<i> Now don't forget to edit your main config and add
</I>&gt;<i>     LoadModule python_module
</I>&gt;<i> /usr/libexec/httpd/mod_python.so
</I>&gt;<i> and if your configuration uses ClearModuleList, then also
</I>&gt;<i>     AddModule mod_python.c
</I>&gt;<i>
</I>&gt;<i> root#httpd
</I>&gt;<i> [Mon Jun 18 10:52:46 2007] [warn] Loaded DSO
</I>&gt;<i> /usr/libexec/httpd/mod_python.so uses plain Apache 1.3 API,
</I>&gt;<i> this module might crash under EAPI! (please recompile it with -DEAPI)
</I>&gt;<i> Processing config directory: /etc/httpd/sites/*.conf
</I>&gt;<i>  Processing config file:
</I>&gt;<i> /etc/httpd/sites/0000_10.129.0.37_80_www.NN.com.conf
</I>&gt;<i>  Processing config file:
</I>&gt;<i> /etc/httpd/sites/0004_10.129.0.37_80_www.YY.com.mx.conf
</I>&gt;<i>  Processing config file:
</I>&gt;<i> /etc/httpd/sites/virtual_host_global.conf
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  root# httpd -V
</I>&gt;<i> Server version: Apache/1.3.33 (Darwin)
</I>&gt;<i> Server built:   Mar 20 2005 15:08:27
</I>&gt;<i> Server's Module Magic Number: 19990320:16
</I>&gt;<i> Server compiled with....
</I>&gt;<i>  -D EAPI
</I>&gt;<i>  -D HAVE_MMAP
</I>&gt;<i>  -D USE_MMAP_SCOREBOARD
</I>&gt;<i>  -D USE_MMAP_FILES
</I>&gt;<i>  -D HAVE_FCNTL_SERIALIZED_ACCEPT
</I>&gt;<i>  -D HAVE_FLOCK_SERIALIZED_ACCEPT
</I>&gt;<i>  -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT
</I>&gt;<i>  -D DYNAMIC_MODULE_LIMIT=64
</I>&gt;<i>  -D HARD_SERVER_LIMIT=2048
</I>&gt;<i>  -D HTTPD_ROOT=&quot;/usr&quot;
</I>&gt;<i>  -D SUEXEC_BIN=&quot;/usr/sbin/suexec&quot;
</I>&gt;<i>  -D DEFAULT_PIDLOG=&quot;/var/run/httpd.pid&quot;
</I>&gt;<i>  -D DEFAULT_SCOREBOARD=&quot;/var/run/httpd.scoreboard&quot;
</I>&gt;<i>  -D DEFAULT_LOCKFILE=&quot;/var/run/httpd.lock&quot;
</I>&gt;<i>  -D DEFAULT_ERRORLOG=&quot;/var/log/httpd/error_log&quot;
</I>&gt;<i>  -D TYPES_CONFIG_FILE=&quot;/etc/httpd/mime.types&quot;
</I>&gt;<i>  -D SERVER_CONFIG_FILE=&quot;/etc/httpd/httpd.conf&quot;
</I>&gt;<i>  -D ACCESS_CONFIG_FILE=&quot;/etc/httpd/access.conf&quot;
</I>&gt;<i>  -D RESOURCE_CONFIG_FILE=&quot;/etc/httpd/srm.conf&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023870.html">[mod_python] [SPAM] please recompile it with -DEAPI..
</A></li>
	<LI>Next message: <A HREF="023878.html">[SPAM] Re: [mod_python] [SPAM] please recompile it with -DEAPI..
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23872">[ date ]</a>
              <a href="thread.html#23872">[ thread ]</a>
              <a href="subject.html#23872">[ subject ]</a>
              <a href="author.html#23872">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
