<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] One more UnicodeDecodeError
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20One%20more%20UnicodeDecodeError&In-Reply-To=873b128e0706271222j2a68f67es43665f7d066f6932%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023927.html">
   <LINK REL="Next"  HREF="023945.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] One more UnicodeDecodeError</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Martin</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20One%20more%20UnicodeDecodeError&In-Reply-To=873b128e0706271222j2a68f67es43665f7d066f6932%40mail.gmail.com"
       TITLE="[mod_python] One more UnicodeDecodeError">gzlist at googlemail.com
       </A><BR>
    <I>Wed Jun 27 16:04:26 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023927.html">[mod_python] One more UnicodeDecodeError
</A></li>
        <LI>Next message: <A HREF="023945.html">[mod_python] One more UnicodeDecodeError
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23928">[ date ]</a>
              <a href="thread.html#23928">[ thread ]</a>
              <a href="subject.html#23928">[ subject ]</a>
              <a href="author.html#23928">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 27/06/07, Fl&#225;vio Ribeiro &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">listas at flavioribeiro.com</A>&gt; wrote:
&gt;<i> Hi everyone,
</I>&gt;<i>
</I>&gt;<i> Im new to mod_python psp development and im facing my first problem. I've
</I>&gt;<i> already saw some articles on the web but still doesnt fix my code.
</I>&gt;<i> Im trying to store some data in a mysql database using mysqldb plus
</I>&gt;<i> mod_python and when i put some text with accents (&#227;, &#231;, &#233;, ...) into a form
</I>&gt;<i> input i receive an error:
</I>&gt;<i>
</I>&gt;<i> File &quot;/usr/lib/python2.4/site-packages/MySQLdb/cursors.py&quot;,
</I>&gt;<i> line 146, in execute
</I>&gt;<i>  query = query.encode(charset)
</I>&gt;<i>
</I>&gt;<i> UnicodeDecodeError: 'ascii' codec can't decode byte 0xc3 in position 52:
</I>&gt;<i> ordinal not in range(128)
</I>
You may find a recent thread on a similar topic useful:
<A HREF="http://www.modpython.org/pipermail/mod_python/2007-June/023904.html">http://www.modpython.org/pipermail/mod_python/2007-June/023904.html</A>

In your particular case it seems (though you have not given the full
traceback) that you passed a byte string to MySQLdb when it was
expecting unicode. Therefore it's trying to decode the string using
the default encoding (ascii) before encoding it again.

You should check the MySQLdb documentation to make sure you are
calling with the correct parameters, provide the right charset for
your db if required, and decode any strings you get from forms as
suggested in the other thread.

Martin

</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023927.html">[mod_python] One more UnicodeDecodeError
</A></li>
	<LI>Next message: <A HREF="023945.html">[mod_python] One more UnicodeDecodeError
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23928">[ date ]</a>
              <a href="thread.html#23928">[ thread ]</a>
              <a href="subject.html#23928">[ subject ]</a>
              <a href="author.html#23928">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
