<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Re: mod_python and SQLAlchemy don't mix?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20mod_python%20and%20SQLAlchemy%20don%27t%20mix%3F&In-Reply-To=f4d2sh%24vtd%241%40sea.gmane.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023803.html">
   <LINK REL="Next"  HREF="023807.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Re: mod_python and SQLAlchemy don't mix?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Re%3A%20mod_python%20and%20SQLAlchemy%20don%27t%20mix%3F&In-Reply-To=f4d2sh%24vtd%241%40sea.gmane.org"
       TITLE="[mod_python] Re: mod_python and SQLAlchemy don't mix?">graham.dumpleton at gmail.com
       </A><BR>
    <I>Fri Jun  8 23:34:00 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023803.html">[mod_python] Re: mod_python and SQLAlchemy don't mix?
</A></li>
        <LI>Next message: <A HREF="023807.html">[mod_python] Re: mod_python and SQLAlchemy don't mix?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23804">[ date ]</a>
              <a href="thread.html#23804">[ thread ]</a>
              <a href="subject.html#23804">[ subject ]</a>
              <a href="author.html#23804">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>That would be my guess. Since a re-entrant library is the one that
would normally support multithreading, would suggest use of _r variant
of libraries. It may be necessary to configure PHP package as it might
need some preprocessor define set as well to indicate reentrant code.

What one could do initially is simply change the configuration for PHP
so as not to load the mysql module into PHP, or simply not load PHP
into Apache at all. That would allow you to test and see if you
problem goes away. If you require PHP, obviously that isn't an option.

Graham

On 09/06/07, Gambit &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">gambit at alpenjodel.de</A>&gt; wrote:
&gt;<i> These are the results of running ldd on the python and php dirs:
</I>&gt;<i>
</I>&gt;<i> /usr/lib/python2.4/site-packages
</I>&gt;<i> ldd *.so | grep mysql
</I>&gt;<i> _mysql.so:
</I>&gt;<i>         libmysqlclient_r.so.14 =&gt; /usr/lib/libmysqlclient_r.so.14 (0x0025a000)
</I>&gt;<i>
</I>&gt;<i> /usr/lib/php/modules
</I>&gt;<i> ldd *.so | grep mysql
</I>&gt;<i> mysqli.so:
</I>&gt;<i>         libmysqlclient.so.14 =&gt; /usr/lib/libmysqlclient.so.14 (0x0036c000)
</I>&gt;<i> mysql.so:
</I>&gt;<i>         libmysqlclient.so.14 =&gt; /usr/lib/libmysqlclient.so.14 (0x00111000)
</I>&gt;<i>         libmysqlclient.so.14 =&gt; /usr/lib/libmysqlclient.so.14 (0x0042a000)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I guess this advice applies...
</I>&gt;<i>
</I>&gt;<i> &gt; one version is reentrant and the other isn't, you will need to
</I>&gt;<i> &gt; recompile one or both of the packages such that they use the same library.
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I></PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023803.html">[mod_python] Re: mod_python and SQLAlchemy don't mix?
</A></li>
	<LI>Next message: <A HREF="023807.html">[mod_python] Re: mod_python and SQLAlchemy don't mix?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23804">[ date ]</a>
              <a href="thread.html#23804">[ thread ]</a>
              <a href="subject.html#23804">[ subject ]</a>
              <a href="author.html#23804">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
