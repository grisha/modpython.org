From gege at china.com  Fri Jun  1 14:44:11 2001
From: gege at china.com (gege@china.com)
Date: Fri Jan  9 21:46:20 2004
Subject: [mod_python] please update mod_python in official site
Message-ID: <8O989398855588.15009@mail3.china.com>

there isn't windows dll of modpython 2.7.3 for python 2.1 yet in mod_python official site. who can compile it and upload to site? I want it~~ 
************************************
¡Ù—ß“∆√Ò,√‚∑—∆¿π¿.
http://www.mercan.com.cn/mercan2000/china.htm


From cce at clarkevans.com  Sat Jun  2 16:35:50 2001
From: cce at clarkevans.com (Clark C . Evans)
Date: Fri Jan  9 21:46:20 2004
Subject: [mod_python] pyHTML
Message-ID: <20010602163550.B6112@doublegemini.com>

Has anyone made a PyHTML handler?  I have
a user who is PHP familar, and if he/she
could write something similar to a PyHTML
file this would help convert.  *evil grin*

Best,

Clark

From cce at clarkevans.com  Sat Jun  2 20:53:20 2001
From: cce at clarkevans.com (Clark C . Evans)
Date: Fri Jan  9 21:46:20 2004
Subject: [mod_python] Reload and Publisher Handler
Message-ID: <20010602205320.A16333@doublegemini.com>

Hello.  I'm using the publisher handler, and
this works great on the first and subsequent 
runs.  However, if a change is made to the 
source file (for instance the simple test.py
with the say method), then the file is not
reloaded... here is the trace back:

Mod_python error: "PythonHandler mod_python.publisher"

Traceback (most recent call last):

  File "/usr/local/lib/python2.1/site-packages/mod_python/apache.py",
  line 189, in Dispatch
    result = object(self.req)

  File
  "/usr/local/lib/python2.1/site-packages/mod_python/publisher.py",
  line 128, in handler
    module = apache.import_module(module_name, _req, [path])

  File "/usr/local/lib/python2.1/site-packages/mod_python/apache.py",
  line 358, in import_module
    if os.path.exists(filepath[:-1]) :

  File "/usr/local/lib/python2.1/posixpath.py", line 171, in exists
    st = os.stat(path)

OSError: [Errno 2] No such file or directory:
'/sites/clarkevans.com/http/phtest/test.p'


...

It seems to be snipping the "y" at the end of 
the file name....  I'm using apache 1.3.9 with
python ver 1.2 and mod python 2.7.3

Clark


From deneb at unixwave.org  Sun Jun  3 09:40:37 2001
From: deneb at unixwave.org (Giorgio)
Date: Fri Jan  9 21:46:20 2004
Subject: [mod_python] pyHTML
In-Reply-To: <20010602163550.B6112@doublegemini.com>; from cce@clarkevans.com on Sat, Jun 02, 2001 at 04:35:50PM -0500
References: <20010602163550.B6112@doublegemini.com>
Message-ID: <20010603094037.A11581@unixwave.org>

On Sat, Jun 02, 2001, Clark C . Evans wrote:

> 
> Has anyone made a PyHTML handler?  I have
> a user who is PHP familar, and if he/she
> could write something similar to a PyHTML
> file this would help convert.  *evil grin*
You can use ptml.sourceforge.net and adapt it
at the Publisher Handler (in 10 min) and if
you need the PHPlib template in Python 
(http://opensource.dreamware.com/PyTemplate.py) or
if you need the Python server pages you can with more
effort adapt Webware (webware.sourceforge.net) to 
your needs.
 
bye,
Giorgio

From cce at clarkevans.com  Sun Jun  3 14:52:19 2001
From: cce at clarkevans.com (Clark C . Evans)
Date: Fri Jan  9 21:46:20 2004
Subject: [mod_python] Reload and Publisher Handler
In-Reply-To: <20010603094250.B11581@unixwave.org>; from deneb@unixwave.org on Sun, Jun 03, 2001 at 09:42:50AM +0200
References: <20010602205320.A16333@doublegemini.com> <20010603094250.B11581@unixwave.org>
Message-ID: <20010603145219.A31437@doublegemini.com>

Thank you Giorgio, but I still have this same
reload problem with the publisher... I had reversed 
the version number, it is 2.1 instead of 1.2 ;)

Best,

Clark

On Sun, Jun 03, 2001 at 09:42:50AM +0200, Giorgio wrote:
| > It seems to be snipping the "y" at the end of 
| > the file name....  I'm using apache 1.3.9 with
|  python ver 1.2 and mod python 2.7.3
| ^^^^^^^^^^^^^^^^^
| Python ver 1.2? I think you should upgrade you box. 


From grisha at modpython.org  Mon Jun  4 07:57:18 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:46:20 2004
Subject: [mod_python] Re: Win32 threading issue
In-Reply-To: <5.0.2.1.0.20010529202540.034332c0@infratest1>
Message-ID: <Pine.BSF.4.32.0106040756240.80415-100000@localhost>

I was going to wait until I have Python 2.1 stuff figured out, but seeing
that there is a need for this fix to be out, I'll just release it today
and Python 2.1 will have to wait until 2.7.5.

Grisha

On Tue, 29 May 2001, Geoff Talvola wrote:

> Great!  I love it when bugs have already been fixed.
>
> Grisha, are you planning on releasing 2.7.4 any time soon?  If so, I'll
> just wait for it to be released.
>
>
> At 09:03 AM 5/30/01 +1000, Chris Trengove wrote:
> >Geoff,
> >
> >This problem has now been fixed, and I expect will be part of mod_python
> >2.7.4 when Grisha decides to release that. In the mean time, if you have a
> >desperate need to avoid the threading problem, you can access the modified
> >files in the CVS.
> >
> >Chris
> >
> >At 02:04 PM 29/05/2001 -0400, Geoff Talvola wrote:
> > >I just wanted to confirm that I also get the same behavior on Windows -- if
> > >I stress out a simple script like the one below with multiple simultaneous
> > >requests, I get sporadic errors, just as Chris Trengove reported.
> > >
> > >I'd be happy to help diagnose and fix the problem, but I know next to
> > >nothing about Apache and mod_python's internals.  I do have access to VC++
> > >6.0 and I have successfully compiled the mod_python dll (for Python 2.1).
> > >
> > >Where should I go from here?
> > >
> >
> > >- Geoff Talvola
> > >   gtalvola@NameConnector.com
> > >
>
> --
>
> - Geoff Talvola
>    gtalvola@NameConnector.com
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From gtalvola at nameconnector.com  Mon Jun  4 10:30:12 2001
From: gtalvola at nameconnector.com (Geoff Talvola)
Date: Fri Jan  9 21:46:21 2004
Subject: [mod_python] Session data
In-Reply-To: <3B15F56B.67DF1D35@netgroup.dk>
References: <13CDDE6A53DBD311BC3200508B6F0C4805E47E7D@rover.foolhq.com>
Message-ID: <5.1.0.14.0.20010604102651.033cec30@infratest1>

At 09:40 AM 5/31/01 +0200, Bo Lorentsen wrote:
>Chris Hagner wrote:
> > You might want to check out WebWare (webware.sourceforge.net) as an 
> expample
> > web framework that has some session support.  I think they pickle 
> objects to
> > the file system.  There are some other python-based cgi frameworks that 
> also
> > support user sessions, but just be aware of how far such solutions 
> will/will
> > not take you.
>
>I would be nervous about the performance and the real-time aspect by using the
>file system approach, but thanks for the advise, I will look into it.

I believe that Webware stores sessions primarily in memory, but 
periodically pickles inactive sessions to the filesystem to conserve 
RAM.  Also when you stop the app server, it pickles all sessions to disk so 
that it can reload them when you restart it.


--

- Geoff Talvola
   gtalvola@NameConnector.com

From gtalvola at nameconnector.com  Tue Jun  5 18:36:14 2001
From: gtalvola at nameconnector.com (Geoff Talvola)
Date: Fri Jan  9 21:46:21 2004
Subject: [mod_python] Re: Win32 threading issue
In-Reply-To: <Pine.BSF.4.32.0106040756240.80415-100000@localhost>
References: <5.0.2.1.0.20010529202540.034332c0@infratest1>
Message-ID: <5.1.0.14.0.20010605183413.030214e0@infratest1>

At 07:57 AM 6/4/01 -0400, Gregory (Grisha) Trubetskoy wrote:

>I was going to wait until I have Python 2.1 stuff figured out, but seeing
>that there is a need for this fix to be out, I'll just release it today
>and Python 2.1 will have to wait until 2.7.5.

I was able to compile mod_python 2.7.3 for Python 2.1 on Windows with no 
problems, and it seemed to work fine (except for the threading problem of 
course).

Are there particular problems with Python 2.1 that you know of, or should I 
be OK using it?


--

- Geoff Talvola
   gtalvola@NameConnector.com

From grisha at modpython.org  Tue Jun  5 21:35:56 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:46:21 2004
Subject: [mod_python] Re: Win32 threading issue
In-Reply-To: <5.1.0.14.0.20010605183413.030214e0@infratest1>
Message-ID: <Pine.BSF.4.32.0106052134070.4785-100000@localhost>

I'm not aware of any problems, but then I haven't looked at it closely. I
think if it compiled and is giving you no grief, you're cool.

I know that on UNIX some changes will need to be made in the
compile/install steps since mod_python installation relies on some
functionality that has changed in 2.1.

Grisha

On Tue, 5 Jun 2001, Geoff Talvola wrote:

> At 07:57 AM 6/4/01 -0400, Gregory (Grisha) Trubetskoy wrote:
>
> >I was going to wait until I have Python 2.1 stuff figured out, but seeing
> >that there is a need for this fix to be out, I'll just release it today
> >and Python 2.1 will have to wait until 2.7.5.
>
> I was able to compile mod_python 2.7.3 for Python 2.1 on Windows with no
> problems, and it seemed to work fine (except for the threading problem of
> course).
>
> Are there particular problems with Python 2.1 that you know of, or should I
> be OK using it?
>
>
> --
>
> - Geoff Talvola
>    gtalvola@NameConnector.com
>


From jeanphilippe.leboeuf at free.fr  Wed Jun  6 14:36:01 2001
From: jeanphilippe.leboeuf at free.fr (jeanphilippe.leboeuf@free.fr)
Date: Fri Jan  9 21:46:21 2004
Subject: [mod_python] Why not a Python 2.1 version ?
Message-ID: <991830961.3b1e23b1966d6@imp.free.fr>

I try to use Python 2.1, Apache 1.3.20 with mod_python 2.7.4 on Win32... and I 
get a : 

--------------------------------------------------------------------------------
Syntax error on line 212 of c:/winx/apache/conf/httpd.conf:
Cannot load c:/winx/apache/modules/mod_python.dll into server: (1157) Une des bi
blioth?ques n?cessaires ? l'ex?cution de cette application n'a pu ?tre trouv?e:


Note the errors or messages above, and press the <ESC> key to exit.  29...
--------------------------------------------------------------------------------

I thing the problem is that I use Python 2.1 ???

Do I need to compile mod_python ?

Thanks...

From paullb at runbox.com  Wed Jun  6 10:05:48 2001
From: paullb at runbox.com (Brendan Paull)
Date: Fri Jan  9 21:46:21 2004
Subject: [mod_python] Why not a Python 2.1 version ?
In-Reply-To: <991830961.3b1e23b1966d6@imp.free.fr>
Message-ID: <5.0.2.1.2.20010606100409.00a1dec0@pop.runbox.com>

I got a similar thing for Python 2,1 with Apache 1.3.x with mod_python 2.7.3.

Syntax error on line 208 of /etc/httpd/conf/httpd.conf:
Cannot load /usr/lib/apache/mod_python.so into server: undefined symbol: 
pthread_create

any ideas?

Brendan Paull

At 02:36 PM 6/6/01 +0200, you wrote:
>I try to use Python 2.1, Apache 1.3.20 with mod_python 2.7.4 on Win32... 
>and I
>get a :
>
>--------------------------------------------------------------------------------
>Syntax error on line 212 of c:/winx/apache/conf/httpd.conf:
>Cannot load c:/winx/apache/modules/mod_python.dll into server: (1157) Une 
>des bi
>blioth?ques n?cessaires ? l'ex?cution de cette application n'a pu ?tre 
>trouv?e:
>
>
>Note the errors or messages above, and press the <ESC> key to exit.  29...
>--------------------------------------------------------------------------------
>
>I thing the problem is that I use Python 2.1 ???
>
>Do I need to compile mod_python ?
>
>Thanks...
>_______________________________________________
>Mod_python mailing list
>Mod_python@modpython.org
>http://www.modpython.org/mailman/listinfo/mod_python


From thehaas at binary.net  Wed Jun  6 10:35:37 2001
From: thehaas at binary.net (Mike Hostetler)
Date: Fri Jan  9 21:46:21 2004
Subject: [mod_python] Why not a Python 2.1 version ?
In-Reply-To: <5.0.2.1.2.20010606100409.00a1dec0@pop.runbox.com>; from paullb@runbox.com on Wed, Jun 06, 2001 at 10:05:48AM -0700
References: <991830961.3b1e23b1966d6@imp.free.fr> <5.0.2.1.2.20010606100409.00a1dec0@pop.runbox.com>
Message-ID: <20010606103537.A27648@ravine.binary.net>

On Wed, Jun 06, 2001 at 10:05:48AM -0700, Brendan Paull wrote:
> I got a similar thing for Python 2,1 with Apache 1.3.x with mod_python 2.7.3.

I'm using mod_python 2.7.3 with ActivePython 2.1 and Apache 1.3.x with no
problem. 

I'm using it on Solaris . . . if that makes a difference.

Mike

From paullb at runbox.com  Wed Jun  6 15:14:36 2001
From: paullb at runbox.com (Brendan Paull)
Date: Fri Jan  9 21:46:21 2004
Subject: [mod_python] Why not a Python 2.1 version ?
In-Reply-To: <20010606103537.A27648@ravine.binary.net>
References: <5.0.2.1.2.20010606100409.00a1dec0@pop.runbox.com>
 <991830961.3b1e23b1966d6@imp.free.fr>
 <5.0.2.1.2.20010606100409.00a1dec0@pop.runbox.com>
Message-ID: <5.0.2.1.2.20010606151405.00a12ec0@pop.runbox.com>

I forgot to mention that I am using Linux Red Hat 7.0

Brendan

At 10:35 AM 6/6/01 -0500, you wrote:
>On Wed, Jun 06, 2001 at 10:05:48AM -0700, Brendan Paull wrote:
> > I got a similar thing for Python 2,1 with Apache 1.3.x with mod_python 
> 2.7.3.
>
>I'm using mod_python 2.7.3 with ActivePython 2.1 and Apache 1.3.x with no
>problem.
>
>I'm using it on Solaris . . . if that makes a difference.
>
>Mike
>_______________________________________________
>Mod_python mailing list
>Mod_python@modpython.org
>http://www.modpython.org/mailman/listinfo/mod_python


From bl at netgroup.dk  Thu Jun  7 09:20:01 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 21:46:21 2004
Subject: [mod_python] Why not a Python 2.1 version ?
References: <5.0.2.1.2.20010606100409.00a1dec0@pop.runbox.com>
Message-ID: <3B1F2B20.ACDA3673@netgroup.dk>

Brendan Paull wrote:

> I got a similar thing for Python 2,1 with Apache 1.3.x with mod_python 2.7.3.
>
> Syntax error on line 208 of /etc/httpd/conf/httpd.conf:
> Cannot load /usr/lib/apache/mod_python.so into server: undefined symbol:
> pthread_create

This sounds like a missing "-lpthread" while linking the .so file. Is the mod_python
code primary written on a Solaris ?

/BL


From grisha at modpython.org  Thu Jun  7 07:44:16 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:46:21 2004
Subject: [mod_python] Why not a Python 2.1 version ?
In-Reply-To: <991830961.3b1e23b1966d6@imp.free.fr>
Message-ID: <Pine.BSF.4.32.0106070744030.25641-100000@localhost>

Yes, the DLL is for Python 2.0

On Wed, 6 Jun 2001 jeanphilippe.leboeuf@free.fr wrote:

> I try to use Python 2.1, Apache 1.3.20 with mod_python 2.7.4 on Win32... and I
> get a :
>
> --------------------------------------------------------------------------------
> Syntax error on line 212 of c:/winx/apache/conf/httpd.conf:
> Cannot load c:/winx/apache/modules/mod_python.dll into server: (1157) Une des bi
> blioth?ques n?cessaires ? l'ex?cution de cette application n'a pu ?tre trouv?e:
>
>
> Note the errors or messages above, and press the <ESC> key to exit.  29...
> --------------------------------------------------------------------------------
>
> I thing the problem is that I use Python 2.1 ???
>
> Do I need to compile mod_python ?
>
> Thanks...
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From paullb at runbox.com  Thu Jun  7 09:23:07 2001
From: paullb at runbox.com (Brendan Paull)
Date: Fri Jan  9 21:46:21 2004
Subject: [mod_python] Why not a Python 2.1 version ?
In-Reply-To: <3B1F2B20.ACDA3673@netgroup.dk>
References: <5.0.2.1.2.20010606100409.00a1dec0@pop.runbox.com>
Message-ID: <5.0.2.1.2.20010607092215.00a13050@pop.runbox.com>

I'm not sure, I grabbed it from the modpython website: 
http://www.modpython.org/dist/mod_python-2.7.3.tgz

If it is in fact aimed at solaris, what can I do?

Brendan!

At 09:20 AM 6/7/01 +0200, you wrote:
>Brendan Paull wrote:
>
> > I got a similar thing for Python 2,1 with Apache 1.3.x with mod_python 
> 2.7.3.
> >
> > Syntax error on line 208 of /etc/httpd/conf/httpd.conf:
> > Cannot load /usr/lib/apache/mod_python.so into server: undefined symbol:
> > pthread_create
>
>This sounds like a missing "-lpthread" while linking the .so file. Is the 
>mod_python
>code primary written on a Solaris ?
>
>/BL


From grisha at modpython.org  Thu Jun  7 10:01:28 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:46:21 2004
Subject: [mod_python] Why not a Python 2.1 version ?
In-Reply-To: <5.0.2.1.2.20010607092215.00a13050@pop.runbox.com>
Message-ID: <Pine.BSF.4.32.0106070959240.26932-100000@localhost>

Brendan -

When you compiled Python, you should have seen a warning about threads.
Apache uses no threads, whereas most default Python installations do.
Unfortunately, on some systems this makes mod_python and Apache
incompatible.

The solution is to compile Python without threads and build mod_python
against that Python compilation using the --with-python argument to
configure.

Grisha

On Thu, 7 Jun 2001, Brendan Paull wrote:

> I'm not sure, I grabbed it from the modpython website:
> http://www.modpython.org/dist/mod_python-2.7.3.tgz
>
> If it is in fact aimed at solaris, what can I do?
>
> Brendan!
>
> At 09:20 AM 6/7/01 +0200, you wrote:
> >Brendan Paull wrote:
> >
> > > I got a similar thing for Python 2,1 with Apache 1.3.x with mod_python
> > 2.7.3.
> > >
> > > Syntax error on line 208 of /etc/httpd/conf/httpd.conf:
> > > Cannot load /usr/lib/apache/mod_python.so into server: undefined symbol:
> > > pthread_create
> >
> >This sounds like a missing "-lpthread" while linking the .so file. Is the
> >mod_python
> >code primary written on a Solaris ?
> >
> >/BL
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From piet at cs.uu.nl  Thu Jun  7 16:57:39 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:46:21 2004
Subject: [mod_python] Why not a Python 2.1 version ?
In-Reply-To: "Gregory's message of "Thu, 7 Jun 2001 10:01:28 -0400 (EDT)"
References: <Pine.BSF.4.32.0106070959240.26932-100000@localhost>
Message-ID: <uk82os5gc.fsf@cs.uu.nl>

>>>>> "Gregory (Grisha) Trubetskoy" <grisha@modpython.org> (GT) writes:

GT> When you compiled Python, you should have seen a warning about threads.
GT> Apache uses no threads, whereas most default Python installations do.
GT> Unfortunately, on some systems this makes mod_python and Apache
GT> incompatible.

What kind of problems could this give? If Apache is not using threads and
your scripts don't create threads, there should only be one thread even in
a python with threads. So I can't see what problems this could cause.
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From grisha at modpython.org  Thu Jun  7 11:26:16 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:46:21 2004
Subject: [mod_python] Why not a Python 2.1 version ?
In-Reply-To: <uk82os5gc.fsf@cs.uu.nl>
Message-ID: <Pine.BSF.4.32.0106071125270.27732-100000@localhost>

Problems such as:

   Cannot load /usr/lib/apache/mod_python.so into server: undefined
   symbol: pthread_create

Grisha

On 7 Jun 2001 piet@cs.uu.nl wrote:

> >>>>> "Gregory (Grisha) Trubetskoy" <grisha@modpython.org> (GT) writes:
>
> GT> When you compiled Python, you should have seen a warning about threads.
> GT> Apache uses no threads, whereas most default Python installations do.
> GT> Unfortunately, on some systems this makes mod_python and Apache
> GT> incompatible.
>
> What kind of problems could this give? If Apache is not using threads and
> your scripts don't create threads, there should only be one thread even in
> a python with threads. So I can't see what problems this could cause.
> --
> Piet van Oostrum <piet@cs.uu.nl>
> URL: http://www.cs.uu.nl/~piet [PGP]
> Private email: P.van.Oostrum@hccnet.nl
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From litao at photon.poly.edu  Thu Jun  7 20:05:28 2001
From: litao at photon.poly.edu (Tao Li)
Date: Fri Jan  9 21:46:21 2004
Subject: [mod_python] Problem with httpd.conf under NT
Message-ID: <200106080004.UAA14120@photon.poly.edu>

Hi there,

I followed the installation guide in manual and got a message 
'cannot load c:/...../modules/mod_python.dll into server: <126> 
The specified module could not be found'. Does anyone know 
how to solve the problem?. I am a newbie of python&apache. 
Thanks a lot for your help. 

OS: WinNT (SP6)
Apache: 1.3.20
Python: 2.1  



Regards,

Tao Li


    


From bl at netgroup.dk  Fri Jun  8 09:08:33 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 21:46:21 2004
Subject: [mod_python] Why not a Python 2.1 version ?
References: <Pine.BSF.4.32.0106070959240.26932-100000@localhost>
Message-ID: <3B2079F1.9CDB7CE@netgroup.dk>

"Gregory (Grisha) Trubetskoy" wrote:

> Brendan -
>
> When you compiled Python, you should have seen a warning about threads.
> Apache uses no threads, whereas most default Python installations do.
> Unfortunately, on some systems this makes mod_python and Apache
> incompatible.
>
> The solution is to compile Python without threads and build mod_python
> against that Python compilation using the --with-python argument to
> configure.

Couldn't you include "-lpthread" when linking the mod_python file, regardless of
the disability to run threads. If the python script tries to run threads, its the
problem for this particular module but not the entire Python system.

/BL


From piet at cs.uu.nl  Fri Jun  8 11:49:30 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:46:21 2004
Subject: [mod_python] Problem with httpd.conf under NT
In-Reply-To: Tao Li's message of "Thu, 7 Jun 2001 20:5:28 -0500"
References: <200106080004.UAA14120@photon.poly.edu>
Message-ID: <ud78fs3md.fsf@cs.uu.nl>

>>>>> Tao Li <litao@photon.poly.edu> (TL) writes:

TL> Hi there,
TL> I followed the installation guide in manual and got a message 
TL> 'cannot load c:/...../modules/mod_python.dll into server: <126> 
TL> The specified module could not be found'. Does anyone know 
TL> how to solve the problem?. I am a newbie of python&apache. 
TL> Thanks a lot for your help. 

TL> OS: WinNT (SP6)
TL> Apache: 1.3.20
TL> Python: 2.1  

If you have a downloaded DLL, this is not compiled for Python 2.1. So you
have to use Python 2.0 or recompile mod_python for 2.1.
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From michael.jaeger at brainmedia.de  Fri Jun  8 13:36:08 2001
From: michael.jaeger at brainmedia.de (Michael Jaeger)
Date: Fri Jan  9 21:46:21 2004
Subject: [mod_python] Problem with httpd.conf under NT
Message-ID: <3B20B8A8.29525D6E@brainmedia.de>

> If you have a downloaded DLL, this is not compiled for Python 2.1. So
you
> have to use Python 2.0 or recompile mod_python for 2.1.

This seems to be a trivial task for you but obviously not for everybody
on this list, since there are beginners and people who are used to
program in others languages than C/C++. This may sound stupid to you,
but not everyone, not even some 'real' programmers, know how to
recompile mod_python for 2.1.

But sure there are geeks on this list, who know. So _please_ do us the
favour and do this job for us and post a dll for Python 2.1!


From grisha at modpython.org  Fri Jun  8 08:04:23 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:46:21 2004
Subject: [mod_python] Problem with httpd.conf under NT
In-Reply-To: <3B20B8A8.29525D6E@brainmedia.de>
Message-ID: <Pine.BSF.4.32.0106080757140.38800-100000@localhost>

Believe it or not, it's actually not so trivial for me :-)

Not that it's not technically doable, but I don't have a set up and time
to compile all various combinations of Python/Apache versions on a
platform that I myself never use... I'd prefer the compilation was
something a user could do like it's been done on unix always, but M$
obviously doesn't see it this way - they want $$ for the compiler. God
forbid you may actually start writing your own (open source) software -
what would they do? ;-)

Anyhow - if someone would e-mail me a Python 2.1 DLL I'll put it on the
site. Right now I don't have 2.1 sources compiled on windows - I might
make some time to do this, but it isn't highest priority.

Grisha

On Fri, 8 Jun 2001, Michael Jaeger wrote:

> > If you have a downloaded DLL, this is not compiled for Python 2.1. So
> you
> > have to use Python 2.0 or recompile mod_python for 2.1.
>
> This seems to be a trivial task for you but obviously not for everybody
> on this list, since there are beginners and people who are used to
> program in others languages than C/C++. This may sound stupid to you,
> but not everyone, not even some 'real' programmers, know how to
> recompile mod_python for 2.1.
>
> But sure there are geeks on this list, who know. So _please_ do us the
> favour and do this job for us and post a dll for Python 2.1!
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From piet at cs.uu.nl  Fri Jun  8 15:33:02 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:46:21 2004
Subject: [mod_python] Problem with httpd.conf under NT
In-Reply-To: Michael Jaeger's message of "Fri, 08 Jun 2001 13:36:08 +0200"
References: <3B20B8A8.29525D6E@brainmedia.de>
Message-ID: <uiti7qepd.fsf@cs.uu.nl>

>>>>> Michael Jaeger <michael.jaeger@brainmedia.de> (MJ) writes:

>> If you have a downloaded DLL, this is not compiled for Python 2.1. So
>> you have to use Python 2.0 or recompile mod_python for 2.1.

MJ> This seems to be a trivial task for you but obviously not for everybody
MJ> on this list, since there are beginners and people who are used to
MJ> program in others languages than C/C++. This may sound stupid to you,
MJ> but not everyone, not even some 'real' programmers, know how to
MJ> recompile mod_python for 2.1.

MJ> But sure there are geeks on this list, who know. So _please_ do us the
MJ> favour and do this job for us and post a dll for Python 2.1!

No, it's not a trivial task for me, otherwise I would have offered the DLL.
I hesitated adding "or ask someone else to compile it for you" to my
answer. 
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From piet at cs.uu.nl  Fri Jun  8 17:37:36 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:46:21 2004
Subject: [mod_python] Problem with httpd.conf under NT
In-Reply-To: piet@cs.uu.nl's message of "08 Jun 2001 15:33:02 +0200"
References: <3B20B8A8.29525D6E@brainmedia.de> <uiti7qepd.fsf@cs.uu.nl>
Message-ID: <u3d9b3run.fsf@cs.uu.nl>

>>>>> piet@cs.uu.nl (P) writes:

P> No, it's not a trivial task for me, otherwise I would have offered the DLL.
P> I hesitated adding "or ask someone else to compile it for you" to my
P> answer. 

Well, it appeared not to be so difficult after all. I unly had to change
some things in the makefile because the Apache setup apparently changed (I
had no CoreR subdir and the os.h moved to os/win32).

I will send the dll for apache 1.3.20 and python 2.1.

-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From joe at joestump.org  Sun Jun 10 18:33:52 2001
From: joe at joestump.org (Joe Stump)
Date: Fri Jan  9 21:46:21 2004
Subject: [mod_python] mod_ython not parsing python pages.
Message-ID: <20010610183352.G20551@zorka.com>

System:
Debian GNU/Linux
Python installed via apt-get ...

I've put the following in my virtual server def ...

<Directory /python>
  AddHandler python-program .py
  PythonHandler mptest
  PythonDebug On
</Directory>


When I create mptest (according to the faq for testing) it doesn't parse, I 
just get the code. I'm loading the module without any errors in my httpd.conf
but it's just no interpreting the code.

Another question I have is can I add an application type for .py files like
you can in PHP? My server is www.miester.org and the dir is /python

Thanks!

--Joe


Joe Stump <joe@joestump.net>
------------------------------------------------------------------------
"To each his own - My own is GNU/Linux" --Joe Stump

From michael.jaeger at brainmedia.de  Mon Jun 11 09:34:09 2001
From: michael.jaeger at brainmedia.de (Michael Jaeger)
Date: Fri Jan  9 21:46:21 2004
Subject: [mod_python] Problem with httpd.conf under NT
Message-ID: <3B247471.CA0A2B3C@brainmedia.de>

>>>>> piet@cs.uu.nl (P) wrote:

> I will send the dll for apache 1.3.20 and python 2.1.

Just read your mail and saw the dll you posted. Thanks a lot!

Michael




From gdamjan at mail.net.mk  Mon Jun 11 11:07:11 2001
From: gdamjan at mail.net.mk (Damjan)
Date: Fri Jan  9 21:46:21 2004
Subject: [mod_python] mod_ython not parsing python pages.
In-Reply-To: <20010610183352.G20551@zorka.com>; from joe@joestump.org on Sun, Jun 10, 2001 at 06:33:52PM -0500
References: <20010610183352.G20551@zorka.com>
Message-ID: <20010611110711.A30278@legolas.on.net.mk>

> I've put the following in my virtual server def ...
> 
> <Directory /python>
>   AddHandler python-program .py
>   PythonHandler mptest
>   PythonDebug On
> </Directory>

This is OK 
 
> When I create mptest (according to the faq for testing) it doesn't parse, I 
                ~~~~~~
You meen mptest.py don't you?


-- 
Damjan Georgievski		|           ?????? ???????????
Skopje, Macedonia		|           ??????, ??????????

From santhosh at swamicyber.com  Tue Jun 12 15:37:03 2001
From: santhosh at swamicyber.com (Santhosh V)
Date: Fri Jan  9 21:46:21 2004
Subject: [mod_python] mod_python ( apache cannot be started )
Message-ID: <005001c0f327$820650e0$2403a8c0@swamisoft.com>

Hi

I added the following lines to the httpd.conf after installing mod_python ( static compilation )

<Directory /python>
     AddHandler python-program .py
     PythonHandler mptest
    PythonDebug On
 </Directory>

When I start apache I get the following error message.

Syntax error on line 953 of /usr/local/apache/conf/httpd.conf:
Invalid command 'PythonHandler', perhaps mis-spelled or defined by a module not
included in the server configuration
./apachectl start: httpd could not be started  

Please help me out

Regards

Santhosh
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010612/13150a8e/attachment.htm
From joe at joestump.org  Tue Jun 12 09:27:57 2001
From: joe at joestump.org (Joe Stump)
Date: Fri Jan  9 21:46:21 2004
Subject: [mod_python] mod_ython not parsing python pages.
In-Reply-To: <20010611110711.A30278@legolas.on.net.mk>
References: <20010610183352.G20551@zorka.com> <20010611110711.A30278@legolas.on.net.mk>
Message-ID: <20010612092757.F6156@zorka.com>

Yeah i tried the mptest.py - still no luck - but the cgi works fine for me. 
Until I know more Python I'll probably stick with the cgi.

Thanks!

--Joe

On Mon, Jun 11, 2001 at 11:07:11AM +0200, Damjan wrote:
> > I've put the following in my virtual server def ...
> > 
> > <Directory /python>
> >   AddHandler python-program .py
> >   PythonHandler mptest
> >   PythonDebug On
> > </Directory>
> 
> This is OK 
>  
> > When I create mptest (according to the faq for testing) it doesn't parse, I 
>                 ~~~~~~
> You meen mptest.py don't you?
> 
> 
> -- 
> Damjan Georgievski		|           ???????????? ??????????????????????
> Skopje, Macedonia		|           ????????????, ????????????????????
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python

Joe Stump <joe@joestump.net>
------------------------------------------------------------------------
"To each his own - My own is GNU/Linux" --Joe Stump

From kbryd at python.org.pl  Tue Jun 12 18:15:25 2001
From: kbryd at python.org.pl (Karol Bryd)
Date: Fri Jan  9 21:46:21 2004
Subject: [mod_python] index.py as index
Message-ID: <20010612181525.B25838@python.org.pl>

hi!

    This was probably discussed before, but I could't find it in the
archives. I am using mod python with Publisher handler and I would like
to create index page that would be displayed without adding path info to
the URL. In other words :-) normally to display somethig I have to use
URL like this: http://lh/page/index.py/index, but having such an URL as
an index page is not convenient. What I want is to have a page that will
be displayed after typing http://lh/page/ (for example this will call
function index in index.py). How to do it?

Ufff. I hope that you are able to understand it :-)

Regards.
-- 
       ------------------- Karol Bryd ------------------
   ---------------- http://int.gnu.org.pl ------------------
---------Those who can, do.  Those who can't, simulate.---------

From rsalz at zolera.com  Tue Jun 12 13:31:56 2001
From: rsalz at zolera.com (Rich Salz)
Date: Fri Jan  9 21:46:21 2004
Subject: [mod_python] index.py as index
References: <20010612181525.B25838@python.org.pl>
Message-ID: <3B26520C.4832CBA4@zolera.com>

> What I want is to have a page that will
> be displayed after typing http://lh/page/ (for example this will call
> function index in index.py). How to do it?

Edit your Apache config file
	DirectoryIndex index.py index.html
                        ^^^^^^^ add this

From benno at sesgroup.net  Wed Jun 13 10:59:16 2001
From: benno at sesgroup.net (Ben Leslie)
Date: Fri Jan  9 21:46:21 2004
Subject: [mod_python] mod_python ( apache cannot be started )
In-Reply-To: <005001c0f327$820650e0$2403a8c0@swamisoft.com>; from santhosh@swamicyber.com on Tue, Jun 12, 2001 at 03:37:03PM +0530
References: <005001c0f327$820650e0$2403a8c0@swamisoft.com>
Message-ID: <20010613105916.C25554@sesgroup.net>

On Tue, 12 Jun 2001, Santhosh V wrote:

> Hi
> 
> I added the following lines to the httpd.conf after installing mod_python ( static compilation )
> 
> <Directory /python>
>      AddHandler python-program .py
>      PythonHandler mptest
>     PythonDebug On
>  </Directory>

Have you included the mod_python library?

Forget how of the top of my head, but you probably need to have a line
in httpd.conf to specify that you want to load the mod_python library.

Benno

From kbryd at python.org.pl  Wed Jun 13 09:47:41 2001
From: kbryd at python.org.pl (Karol Bryd)
Date: Fri Jan  9 21:46:21 2004
Subject: [mod_python] index.py as index
In-Reply-To: <3B26520C.4832CBA4@zolera.com>
Message-ID: <20010613094741.A1821@python.org.pl>

On Tue, Jun 12, 2001 at 01:31:56PM -0400, Rich Salz wrote:
> > What I want is to have a page that will
> > be displayed after typing http://lh/page/ (for example this will call
> > function index in index.py). How to do it?
> 
> Edit your Apache config file
> 	DirectoryIndex index.py index.html
>                         ^^^^^^^ add this

This is quite obvious but it won't solve my problem with path info, I
will still have to write url like this http://lh/page/?index to call
function named index from index.py. Am I right?

Regards.
-- 
       ------------------- Karol Bryd ------------------
   ---------------- http://int.gnu.org.pl ------------------
----------Anything free is worth what you pay for it.----------

From michael.jaeger at brainmedia.de  Wed Jun 13 11:31:39 2001
From: michael.jaeger at brainmedia.de (Michael Jaeger)
Date: Fri Jan  9 21:46:21 2004
Subject: [mod_python] mod_python ( apache cannot be started )
Message-ID: <3B2732FB.C2F9EB38@brainmedia.de>

 santhosh@swamicyber.com wrote:

> I added the following lines to the httpd.conf after installing
> mod_python ( static compilation )
>
>  <Directory /python>
>     AddHandler python-program .py
>     PythonHandler mptest
>     PythonDebug On
>  </Directory>
>
> When I start apache I get the following error message.
>
> Syntax error on line 953 of /usr/local/apache/conf/httpd.conf:
> Invalid command 'PythonHandler', perhaps mis-spelled or defined by a
> module not
> included in the server configuration
> ./apachectl start: httpd could not be started

Did you add the line

LoadModule python_module modules/mod_python.dll    (if under Windows)
LoadModule python_module libexec/mod_python.so      (if under Linux)

to your http.conf?





From piet at cs.uu.nl  Wed Jun 13 12:59:27 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:46:21 2004
Subject: [mod_python] index.py as index
In-Reply-To: Karol Bryd's message of "Wed, 13 Jun 2001 09:47:41 +0200"
References: <20010613094741.A1821@python.org.pl>
Message-ID: <usnh4r6gg.fsf@cs.uu.nl>

>>>>> Karol Bryd <kbryd@python.org.pl> (KB) writes:

KB> This is quite obvious but it won't solve my problem with path info, I
KB> will still have to write url like this http://lh/page/?index to call
KB> function named index from index.py. Am I right?

I think so.
But why do you want to use the publisher handler for this?
You can make a separate handler for the indexes like this:

DirectoryIndex index.pyx index.html
...
<Directory "...."> 
  AddHandler python-index .pyx
  PythonHandler index 
</Directory>

And then put the indexing code in index.pyx
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From richard.hitier at idealx.com  Wed Jun 13 14:44:58 2001
From: richard.hitier at idealx.com (richard hitier)
Date: Fri Jan  9 21:46:21 2004
Subject: [mod_python] index.py as index
In-Reply-To: <usnh4r6gg.fsf@cs.uu.nl>; from piet@cs.uu.nl on Wed, Jun 13, 2001 at 12:59:27PM +0200
References: <20010613094741.A1821@python.org.pl> <usnh4r6gg.fsf@cs.uu.nl>
Message-ID: <20010613144458.A2825@joshua.ird.idealx.com>

* Le  13 Jun >piet@cs.uu.nl< ecrivait:
> You can make a separate handler for the indexes like this:
in the same directory where the publisher is set ?

> 
> DirectoryIndex index.pyx index.html
> ...
> <Directory "...."> 
>   AddHandler python-index .pyx
is "python-index"  known like "python-program" as handler_name ?

>   PythonHandler index 
> </Directory>
> 
> And then put the indexing code in index.pyx
doesn't work for me :(
I get import error with the ligne 
    AddHandler python-program .pyx

of course, index.pyx can't be imported;
see error in attachement

-- 
Richard Hitier                 PGP Key on pgp.mit.edu
richard.hitier@IDEALX.com	   key 0xD1BAD022
-------------- next part --------------

Mod_python error: "PythonHandler index"

Traceback (innermost last):

  File "/usr/lib/python1.5/site-packages/mod_python/apache.py", line 181, in Dispatch
    module = import_module(module_name, _req)

  File "/usr/lib/python1.5/site-packages/mod_python/apache.py", line 335, in import_module
    f, p, d = imp.find_module(parts[i], path)

ImportError: No module named index

From deneb at unixwave.org  Wed Jun 13 15:09:28 2001
From: deneb at unixwave.org (Giorgio)
Date: Fri Jan  9 21:46:21 2004
Subject: [mod_python] index.py as index
In-Reply-To: <20010613094741.A1821@python.org.pl>; from kbryd@python.org.pl on Wed, Jun 13, 2001 at 09:47:41AM +0200
References: <3B26520C.4832CBA4@zolera.com> <20010613094741.A1821@python.org.pl>
Message-ID: <20010613150927.A582@unixwave.org>

n Wed, Jun 13, 2001, Karol Bryd wrote:

> On Tue, Jun 12, 2001 at 01:31:56PM -0400, Rich Salz wrote:
> > > What I want is to have a page that will
> > > be displayed after typing http://lh/page/ (for example this will call
> > > function index in index.py). How to do it?
> > 
> > Edit your Apache config file
> > 	DirectoryIndex index.py index.html
> >                         ^^^^^^^ add this
> 
> This is quite obvious but it won't solve my problem with path info, I
> will still have to write url like this http://lh/page/?index to call
> function named index from index.py. Am I right?

 in the Apache Virtual host use:

 Redirect / http://www.yourdomain.ext/program.py/function?args=values

 Where :
* www.yourdomain.ext is the web host
* program.py is the program which you want start 
* function is a python function which you want start , and it is in program.py
* args is a parameter to your function.

Note: never trust values. 

Cheers,
Giorgio.

P.S. can be the objects instantiated by url?


From deneb at unixwave.org  Wed Jun 13 15:14:12 2001
From: deneb at unixwave.org (Giorgio)
Date: Fri Jan  9 21:46:22 2004
Subject: [mod_python] index.py as index
In-Reply-To: <usnh4r6gg.fsf@cs.uu.nl>; from piet@cs.uu.nl on Wed, Jun 13, 2001 at 12:59:27PM +0200
References: <20010613094741.A1821@python.org.pl> <usnh4r6gg.fsf@cs.uu.nl>
Message-ID: <20010613151412.A620@unixwave.org>

On Wed, Jun 13, 2001, piet@cs.uu.nl wrote:

> DirectoryIndex index.pyx index.html
> ...
> <Directory "...."> 
>   AddHandler python-index .pyx
>   PythonHandler index 
> </Directory>

But so you don't use mod_publisher in index.pyx, isn't it?
And if i wanna in index.pyx send an email with a form, as
in the mod_python manual?
bye,
Giorgio

From piet at cs.uu.nl  Wed Jun 13 15:39:47 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:46:22 2004
Subject: [mod_python] index.py as index
In-Reply-To: <20010613151412.A620@unixwave.org>
References: <20010613094741.A1821@python.org.pl>
	<usnh4r6gg.fsf@cs.uu.nl>
	<20010613151412.A620@unixwave.org>
Message-ID: <15143.27939.790000.577406@gargle.gargle.HOWL>

>>>>> Giorgio <deneb@unixwave.org> (G) writes:

G> On Wed, Jun 13, 2001, piet@cs.uu.nl wrote:
>> DirectoryIndex index.pyx index.html
>> ...
>> <Directory "...."> 
>> AddHandler python-index .pyx
>> PythonHandler index 
>> </Directory>

G> But so you don't use mod_publisher in index.pyx, isn't it?
G> And if i wanna in index.pyx send an email with a form, as
G> in the mod_python manual?

Sorry, I didn't test enough. It appears that you can have only one
modpython handler (at least in the same directory). And yes,
python-index must still be python-program.
And importing probelms can be avoided by also having index.py

So after all my suggestion doesn't work as I thought.

Maybe publisher should get some default if the path is empty.

What I don't understand why you want to send an email when the
directory is selected. The parameters would come normally from a FORM
but then the action can simply be given as a full path can't it?
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From InternetShops at mail.ru  Wed Jun 13 18:44:49 2001
From: InternetShops at mail.ru (InternetShops@mail.ru)
Date: Fri Jan  9 21:46:22 2004
Subject: [mod_python] ˙·Î·˙ Ó·‰ÂˆÓÔÁÔ Ô‚ÔÚı‰Ô˜·ÓÈÒ ˛ÂÚÂ˙ ÈÓÙÂÚÓÂÙ
Message-ID: <200106131644.SAA10630@tucows.ibershop.com>

An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010613/edea05ed/attachment.htm
From richard.hitier at idealx.com  Thu Jun 14 12:32:31 2001
From: richard.hitier at idealx.com (richard hitier)
Date: Fri Jan  9 21:46:22 2004
Subject: [mod_python] Howto to handle classes ?
Message-ID: <20010614123231.A1606@joshua.ird.idealx.com>

Hi,

is there a way to access classes and theyre methode through an url ?
via the publisher I guess, but how.

http://mydomain/module/fonction?var=value

is ok.

but what about
http://mydomain/module/class.method ?


Thx all: i'm just trying to migrate from zope to mod_python, and this is
my main wall.

-- 
Richard Hitier                 PGP Key on pgp.mit.edu
richard.hitier@IDEALX.com	   key 0xD1BAD022

From grisha at modpython.org  Thu Jun 14 12:21:43 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:46:22 2004
Subject: [mod_python] Howto to handle classes ?
In-Reply-To: <20010614123231.A1606@joshua.ird.idealx.com>
Message-ID: <Pine.BSF.4.32.0106141216150.48777-100000@localhost>

Richard

It's goning to be something along these lines:

http://mydomain/module/instance/method?arg1=value

Grisha

On Thu, 14 Jun 2001, richard hitier wrote:

> Hi,
>
> is there a way to access classes and theyre methode through an url ?
> via the publisher I guess, but how.
>
> http://mydomain/module/fonction?var=value
>
> is ok.
>
> but what about
> http://mydomain/module/class.method ?
>
>
> Thx all: i'm just trying to migrate from zope to mod_python, and this is
> my main wall.
>
> --
> Richard Hitier                 PGP Key on pgp.mit.edu
> richard.hitier@IDEALX.com	   key 0xD1BAD022
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From x at Vex.Net  Sun Jun 17 11:31:43 2001
From: x at Vex.Net (T. Muddletin)
Date: Fri Jan  9 21:46:22 2004
Subject: [mod_python] LogHandler
Message-ID: <390778152.20010617113143@Vex.Net>

I wonder if anyone is doing anything like this with mod_python (if it
is even possible): http://www.webtechniques.com/archives/2000/04/perl/

We really want to log cpu time for requests into a database (along
with everything else)... I don't have that much time to rip apart
mod_python to try and figure it out if it can be done. We'll have to
use the mod_perl (sadly!) just because it is there... unless someone
can set us quickly on the right pythonic path. So I'm just wondering
if anyone else is thinking/doing anything like the above...

-- 
Tim Middleton | Cain Gang Ltd | There are a thousand hacking at the branches
x@veX.net     | www.Vex.Net   | of evil [but who] at the root. --Thoreau (W)


From rsalz at zolera.com  Sun Jun 17 21:16:27 2001
From: rsalz at zolera.com (Rich Salz)
Date: Fri Jan  9 21:46:22 2004
Subject: [mod_python] LogHandler
References: <390778152.20010617113143@Vex.Net>
Message-ID: <3B2D566B.54428011@zolera.com>

> We really want to log cpu time for requests into a database (along
> with everything else)... I don't have that much time to rip apart
> mod_python to try and figure it out if it can be done.

pymysql + os.times(), and you write a handler that wraps around the
"real" one ?
	/r$

From bl at netgroup.dk  Mon Jun 18 11:57:18 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 21:46:22 2004
Subject: [mod_python] Apache crash
Message-ID: <3B2DD07E.3EAD4BF8@netgroup.dk>

Hi ...

There is an FAQ tag about Apache crashing, if not the first module
loaded while using RH. Is there an explanation for this, or is it pure
magic ?

I have seen the same thin happend on a Debian potato (with 2.4.5 kernel
added), and like to know why.

/BL


From richard.hitier at idealx.com  Mon Jun 18 17:37:33 2001
From: richard.hitier at idealx.com (richard hitier)
Date: Fri Jan  9 21:46:22 2004
Subject: [mod_python] import module via publisher
Message-ID: <20010618173733.A10098@joshua.ird.idealx.com>

hi,

I'm a bit disapointed with the mod_python mechanisms of importing
module.

In fact, I'am still wondering how this could work:

some times, whilst the
 import my_module 
line is in, i get nameError or importError from the publisher .

then, after reloading many times the url through the http client (here,
w3m), I finally get my result ok.

But from then, I can modify the imported files, nothing will change
even if i suppress the "import ..." line from my main module,
unless I  shut w3m down and relaunch it.


thx for clues
-- 
Richard Hitier                 PGP Key on pgp.mit.edu
richard.hitier@IDEALX.com	   key 0xD1BAD022

From bl at netgroup.dk  Tue Jun 19 11:27:40 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 21:46:22 2004
Subject: [mod_python] import module via publisher
References: <20010618173733.A10098@joshua.ird.idealx.com>
Message-ID: <3B2F1B0C.5315F784@netgroup.dk>

richard hitier wrote:

> I'm a bit disapointed with the mod_python mechanisms of importing
> module.

I think there is a good explanation for mod_python to act like this.

> In fact, I'am still wondering how this could work:
>
> some times, whilst the
>  import my_module
> line is in, i get nameError or importError from the publisher .

I have the same problem, and I think it's because of a caching algorithm
somewhere (may in python ?)

> then, after reloading many times the url through the http client (here,
> w3m), I finally get my result ok.

Yeps, and sometimes the problem comes back, in the same session :-)

I think that when you request the same page several times it may spawn a
new process that makes it own python pre compile script cache, and
therefor takes in your newly updated code, and therefor works.

There must be an easy way to ether disable this cache of refresh it by
force (other than restarting apache) !

/BL


From meyer at diku.dk  Tue Jun 19 13:36:04 2001
From: meyer at diku.dk (Jonas Meyer Rasmussen)
Date: Fri Jan  9 21:46:22 2004
Subject: [mod_python] import module via publisher
In-Reply-To: <3B2F1B0C.5315F784@netgroup.dk>
Message-ID: <Pine.HPX.4.21.0106191334090.15973-100000@ask.diku.dk>

> There must be an easy way to ether disable this cache of refresh it by
> force (other than restarting apache) !
my code looks like this:

import my.module

def handler( req ):
   reload( my.module )

I'm not using the publisher, but I'm guessing that it works the same way?

Jonas Meyer Rasmussen
meyer@diku.dk



From wart at softhome.net  Tue Jun 19 19:20:00 2001
From: wart at softhome.net (Wartan Hachaturow)
Date: Fri Jan  9 21:46:22 2004
Subject: [mod_python] Any open-source applications?
Message-ID: <20010619192000.A20277@penguin.aktivist.ru>

Hello.

Is there any open source mod_python applications available?
I would like to learn web programming with mod_python, and my
own experience tells me that it's best to use already exisiting 
applications to see how things are done.
So, if anyone would advise me some, I'll be really thankful.

P.S. Right now I know only about PyWM.

P.P.S. And also would anyone suggest me a ready framework for
web-development (based on mod_python, of course)? It seems to
me that it's not the target of mod_python to provide sessions,
persistend database connections, etc..
But Zope is not an option ;-) Too bloated for me.

-- 
Regards, Wartan.
echo "Your stdio isn't very std." 
		-- Larry Wall in Configure from the perl distribution

From deneb at unixwave.org  Tue Jun 19 18:04:36 2001
From: deneb at unixwave.org (Giorgio)
Date: Fri Jan  9 21:46:22 2004
Subject: [mod_python] Any open-source applications?
In-Reply-To: <20010619192000.A20277@penguin.aktivist.ru>; from wart@softhome.net on Tue, Jun 19, 2001 at 07:20:00PM +0400
References: <20010619192000.A20277@penguin.aktivist.ru>
Message-ID: <20010619180436.A2119@unixwave.org>

On Tue, Jun 19, 2001, Wartan Hachaturow wrote:

> Hello.
[snip..]

An Application at: 
http://webware.sourceforge.net 

It has mod_python hooks.And supports every feature that you need.
Optionally you can rip what you need and discard what you don't use.
However it can be useful remember that Apache is not a multi threading
enviroment.

As mod_python application example you can see
maki, at http://maki.sourceforge.net as application written for 
mod_python and xml.

> But Zope is not an option ;-) Too bloated for me.
Personally, I dislike Zope and I like mod-python for 
the following reasons:
the code is clear, least privilege ,too poor Zope security, Zope is
really heavy, but this is only my  opinion.  
 
bye,
Giorgio

From richard.hitier at idealx.com  Thu Jun 21 09:47:19 2001
From: richard.hitier at idealx.com (richard hitier)
Date: Fri Jan  9 21:46:22 2004
Subject: [mod_python] import module via publisher
In-Reply-To: <20010618105626.A86475@ravine.binary.net>; from thehaas@binary.net on Mon, Jun 18, 2001 at 10:56:26AM -0500
References: <E6FF52955A377B4983DF1DCBC3B5BB7C04C4F8@atropos.infraware.co.kr> <3B2F1B0C.5315F784@netgroup.dk> <Pine.HPX.4.21.0106191334090.15973-100000@ask.diku.dk> <20010618173733.A10098@joshua.ird.idealx.com> <3B2F1B0C.5315F784@netgroup.dk> <20010618173733.A10098@joshua.ird.idealx.com> <20010618105626.A86475@ravine.binary.net>
Message-ID: <20010621094719.A480@joshua.ird.idealx.com>

Hi all,
and thanks for your many answers!

* Le  18 Jun >Mike Hostetler< ecrivait:
> 
> I have had this happen too . . . I figured it was some sort of caching with
> either Apache or mod_python.  Or maybe the browser . . . 
in fact I had a local proxy (wwwoffle) that I now pass through with
w3m -no-proxy my_web_page

but I didn't see any difference :(
> 
>  

* Le  19 Jun >Bo Lorentsen< ecrivait:
> I think there is a good explanation for mod_python to act like this.
> 
i guess so too, but I would *love* to know which one ;)


> There must be an easy way to ether disable this cache of refresh it by
> force (other than restarting apache) !
perhaps, but still looking for ...

in fact, from now on I can tell two points:
(remember I work whith the publisher)

1?    calling http://my_page/module/fonction

always give me the latest modifications results (whithout restarting
apache at all)

2?     But if I call some imported code in my module.fonction()
this will never be updated according to imported module file last
modifications.

=> I _have_ to restart apache each time I want my modificationx be
updated.
> 

* Le  19 Jun >Jonas Meyer Rasmussen< ecrivait:
> 
> import my.module
> 
> def handler( req ):
>    reload( my.module )
> 
I can't do that since that I'm porting code from zope app to apache app.
And, they import name instead of module:

    from foreign_module import my_name

and this (afaik) canot be reloaded in python.


Any How, thanks all.
and if I solve my problem I'll let you know.

ciao


-- 
Richard Hitier                 PGP Key on pgp.mit.edu
richard.hitier@IDEALX.com	   key 0xD1BAD022

From tree at basistech.com  Thu Jun 21 09:29:16 2001
From: tree at basistech.com (Tom Emerson)
Date: Fri Jan  9 21:46:22 2004
Subject: [mod_python] "Cannot re-init internal module exceptions"
Message-ID: <15153.63148.824452.424254@cymru.basistech.com>

Greetings.

I'm attempting to get mod_python working with the AHTS template engine
(http://ahts.sourceforge.net) but am not having much luck. In
particular, I get the following error in the server error log (the
full backtrace is below):

[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/Errors.py", line 9, in ?
    import exceptions
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex: ImportError: Cannot re-init internal module exceptions

This is running in the following configuration:

Apache/1.3.19 (Unix) PHP/4.0.4pl1 mod_python/2.7.2 Python/2.0 configured

Anyone have an idea what is happening here? Any ideas on ameliorating this problem?

TIA,

    -tree


[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex: Traceback (most recent call last):
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line 176, in Dispatch
    module = import_module(module_name, _req)
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line 334, in import_module
    module = imp.load_module(mname, f, p, d)
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/opt/www/htdocs/chinlex.py", line 2, in ?
    import MySQLdb, StringIO, ahts
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/__init__.py", line 33, in ?
    from utility import *
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/utility.py", line 29, in ?
    import writer
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/writer.py", line 33, in ?
    from parser import TemplateParser
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/parser.py", line 33, in ?
    from scanner import TemplateScanner
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/scanner.py", line 33, in ?
    from Plex import *
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/__init__.py", line 34, in ?
    from Lexicons import Lexicon, State
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/Lexicons.py", line 13, in ?
    import Errors
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/Errors.py", line 9, in ?
    import exceptions
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex: ImportError: Cannot re-init internal module exceptions

-- 
Tom Emerson                                          Basis Technology Corp.
Sr. Sinostringologist                              http://www.basistech.com
  "Beware the lollipop of mediocrity: lick it once and you suck forever"

From walter at livinglogic.de  Thu Jun 21 17:24:30 2001
From: walter at livinglogic.de (Walter =?iso-8859-1?Q?D=F6rwald?=)
Date: Fri Jan  9 21:46:22 2004
Subject: [mod_python] "Cannot re-init internal module exceptions"
References: <15153.63148.824452.424254@cymru.basistech.com>
Message-ID: <3B3211AE.D34A61DC@livinglogic.de>

Tom Emerson wrote:

> Greetings.
> 
> I'm attempting to get mod_python working with the AHTS template engine
> (http://ahts.sourceforge.net) but am not having much luck. In
> particular, I get the following error in the server error log (the
> full backtrace is below):
> 
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/Errors.py", line 9, in ?
>     import exceptions
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex: ImportError: Cannot re-init internal module exceptions

Could this be related to Python bug #422004?

http://sourceforge.net/tracker/?group_id=5470&atid=105470&func=detail&aid=422004

Bye,
	Walter D?rwald

From tree at basistech.com  Thu Jun 21 12:23:13 2001
From: tree at basistech.com (Tom Emerson)
Date: Fri Jan  9 21:46:22 2004
Subject: [mod_python] "Cannot re-init internal module exceptions"
In-Reply-To: <3B3211AE.D34A61DC@livinglogic.de>
References: <15153.63148.824452.424254@cymru.basistech.com>
	<3B3211AE.D34A61DC@livinglogic.de>
Message-ID: <15154.8049.672235.391169@cymru.basistech.com>

=?iso-8859-1?Q?Walter_D=F6rwald?= writes:
> >     import exceptions
> > [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex: ImportError: Cannot re-init internal module exceptions
> 
> Could this be related to Python bug #422004?
> 
> http://sourceforge.net/tracker/?group_id=5470&atid=105470&func=detail&aid=422004

Yes, it appears to be exactly that problem. After rebuilding Python
with the patch given in the bug report I'm able to use AHTS from
within mod_python. Sweet.

Thanks!

    -tree

-- 
Tom Emerson                                          Basis Technology Corp.
Sr. Sinostringologist                              http://www.basistech.com
  "Beware the lollipop of mediocrity: lick it once and you suck forever"

From sam at webslingerZ.com  Thu Jun 21 13:00:37 2001
From: sam at webslingerZ.com (Sam Brauer)
Date: Fri Jan  9 21:46:22 2004
Subject: [mod_python] "Cannot re-init internal module exceptions"
In-Reply-To: <15153.63148.824452.424254@cymru.basistech.com>
Message-ID: <Pine.LNX.4.31.0106211257460.21947-100000@localhost.localdomain>

When I encountered this in some of my code, I simply removed the "import
exceptions" line and it worked fine.
So try commenting that line out in
$ocal/lib/python2.0/site-packages/ahts/Plex/Errors.py

You will probably need to restart apache to see if it works.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Sam Brauer : Systems Programmer : sam@webslingerZ.com

On Thu, 21 Jun 2001, Tom Emerson wrote:

> Greetings.
>
> I'm attempting to get mod_python working with the AHTS template engine
> (http://ahts.sourceforge.net) but am not having much luck. In
> particular, I get the following error in the server error log (the
> full backtrace is below):
>
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/Errors.py", line 9, in ?
>     import exceptions
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex: ImportError: Cannot re-init internal module exceptions
>
> This is running in the following configuration:
>
> Apache/1.3.19 (Unix) PHP/4.0.4pl1 mod_python/2.7.2 Python/2.0 configured
>
> Anyone have an idea what is happening here? Any ideas on ameliorating this problem?
>
> TIA,
>
>     -tree
>
>
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex: Traceback (most recent call last):
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line 176, in Dispatch
>     module = import_module(module_name, _req)
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line 334, in import_module
>     module = imp.load_module(mname, f, p, d)
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/opt/www/htdocs/chinlex.py", line 2, in ?
>     import MySQLdb, StringIO, ahts
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/__init__.py", line 33, in ?
>     from utility import *
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/utility.py", line 29, in ?
>     import writer
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/writer.py", line 33, in ?
>     from parser import TemplateParser
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/parser.py", line 33, in ?
>     from scanner import TemplateScanner
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/scanner.py", line 33, in ?
>     from Plex import *
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/__init__.py", line 34, in ?
>     from Lexicons import Lexicon, State
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/Lexicons.py", line 13, in ?
>     import Errors
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/Errors.py", line 9, in ?
>     import exceptions
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex: ImportError: Cannot re-init internal module exceptions
>
> --
> Tom Emerson                                          Basis Technology Corp.
> Sr. Sinostringologist                              http://www.basistech.com
>   "Beware the lollipop of mediocrity: lick it once and you suck forever"
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From agl at linuxpower.org  Mon Jun 25 19:16:03 2001
From: agl at linuxpower.org (Adam Langley)
Date: Fri Jan  9 21:46:22 2004
Subject: [mod_python] Reloading of modules
Message-ID: <20010625191603.B1091@linuxpower.org>

(I've searched thru the list archives and the following message seems
to be relevent, but there was no useful followup:
http://www.modpython.org/pipermail/mod_python/2001-May/001324.html)

Using the following test script:
from mod_python import apache

i = 0
def test(req):
    req.content_type = "text/html"
    req.send_http_header ()

    global i
    req.write (str(i) + "<br>")
    i += 1
    return ""

This works as expected until you start refreshing quickly, when the
counter gets reset.

Why is mod_python reimporting the file?

httpd.conf:
    SetHandler python-program
    PythonHandler mod_python.publisher
    PythonInterpreter main
    PythonDebug on

Thanks

AGL

-- 
Never underestimate the power of a small tactical nuclear weapon.







From SumnerH at fool.com  Mon Jun 25 14:28:32 2001
From: SumnerH at fool.com (G . Sumner Hayes)
Date: Fri Jan  9 21:46:22 2004
Subject: [mod_python] Reloading of modules
In-Reply-To: <20010625191603.B1091@linuxpower.org>; from agl@linuxpower.org on Mon, Jun 25, 2001 at 07:16:03PM +0100
References: <20010625191603.B1091@linuxpower.org>
Message-ID: <20010625142832.A14034@fool.com>

Adam Langley <agl@linuxpower.org> wrote:
> from mod_python import apache
> 
> i = 0
> def test(req):
>     req.content_type = "text/html"
>     req.send_http_header ()
> 
>     global i
>     req.write (str(i) + "<br>")
>     i += 1
[SNIP]
> This works as expected until you start refreshing quickly, when the
> counter gets reset.

Each Apache process has its own Python interpreter, and in a
default Apache install each process only handles 50 or 100
requests before exiting.  Which process you get for a particular
page load depends on the OS scheduler and the exact timing, but
on an unloaded machine you can easily hit the same one 10 or more
times in a row.

But in general, you can't keep server-side shared data this way.

  Sumner

From grisha at modpython.org  Mon Jun 25 15:25:03 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:46:22 2004
Subject: [mod_python] Reloading of modules
In-Reply-To: <20010625191603.B1091@linuxpower.org>
Message-ID: <Pine.BSF.4.32.0106251524070.9457-100000@localhost>

This behaviour would be OS specific. On win32 you should see the counter
increasing, on UNIX you will have a counter per process. Which platform
are you on?

On Mon, 25 Jun 2001, Adam Langley wrote:

> (I've searched thru the list archives and the following message seems
> to be relevent, but there was no useful followup:
> http://www.modpython.org/pipermail/mod_python/2001-May/001324.html)
>
> Using the following test script:
> from mod_python import apache
>
> i = 0
> def test(req):
>     req.content_type = "text/html"
>     req.send_http_header ()
>
>     global i
>     req.write (str(i) + "<br>")
>     i += 1
>     return ""
>
> This works as expected until you start refreshing quickly, when the
> counter gets reset.
>
> Why is mod_python reimporting the file?
>
> httpd.conf:
>     SetHandler python-program
>     PythonHandler mod_python.publisher
>     PythonInterpreter main
>     PythonDebug on
>
> Thanks
>
> AGL
>
> --
> Never underestimate the power of a small tactical nuclear weapon.
>
>
>
>
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From piet at cs.uu.nl  Tue Jun 26 05:27:25 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:46:22 2004
Subject: [mod_python] import module via publisher
In-Reply-To: richard hitier's message of "Thu, 21 Jun 2001 09:47:19 +0200"
References: <E6FF52955A377B4983DF1DCBC3B5BB7C04C4F8@atropos.infraware.co.kr>
	<3B2F1B0C.5315F784@netgroup.dk>
	<Pine.HPX.4.21.0106191334090.15973-100000@ask.diku.dk>
	<20010618173733.A10098@joshua.ird.idealx.com>
	<3B2F1B0C.5315F784@netgroup.dk>
	<20010618173733.A10098@joshua.ird.idealx.com>
	<20010618105626.A86475@ravine.binary.net>
	<20010621094719.A480@joshua.ird.idealx.com>
Message-ID: <200106260927.f5Q9RP219850@eden.ispol.com>

>>>>> richard hitier <richard.hitier@idealx.com> (RH) wrote:

RH> in fact, from now on I can tell two points:
RH> (remember I work whith the publisher)

RH> 1?    calling http://my_page/module/fonction

RH> always give me the latest modifications results (whithout restarting
RH> apache at all)

That is because mod_python has special code to check if the module has
changed and should be reloaded.

RH> 2?     But if I call some imported code in my module.fonction()
RH> this will never be updated according to imported module file last
RH> modifications.

That is because you do not use this special check yourself.
You can do:

module = apache.import_module(module_name)
>> 

RH> * Le  19 Jun >Jonas Meyer Rasmussen< ecrivait:
>> 
>> import my.module
>> 
>> def handler( req ):
>> reload( my.module )
>> 
RH> I can't do that since that I'm porting code from zope app to apache app.
RH> And, they import name instead of module:

RH>     from foreign_module import my_name

RH> and this (afaik) canot be reloaded in python.

Yes, you can do it again after reloading the module:

foreign_module = apache.import_module("foreign_module")
from foreign_module import my_name
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl






From grisha at modpython.org  Tue Jun 26 07:18:15 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:46:22 2004
Subject: [mod_python] import module via publisher
In-Reply-To: <200106260927.f5Q9RP219850@eden.ispol.com>
Message-ID: <Pine.BSF.4.32.0106260717370.20735-100000@localhost>

There is something in the FAQ about that as well:

http://www.modpython.org/FAQ/faqw.py?req=show&file=faq03.001.htp

On Tue, 26 Jun 2001 piet@cs.uu.nl wrote:

> >>>>> richard hitier <richard.hitier@idealx.com> (RH) wrote:
>
> RH> in fact, from now on I can tell two points:
> RH> (remember I work whith the publisher)
>
> RH> 1?    calling http://my_page/module/fonction
>
> RH> always give me the latest modifications results (whithout restarting
> RH> apache at all)
>
> That is because mod_python has special code to check if the module has
> changed and should be reloaded.
>
> RH> 2?     But if I call some imported code in my module.fonction()
> RH> this will never be updated according to imported module file last
> RH> modifications.
>
> That is because you do not use this special check yourself.
> You can do:
>
> module = apache.import_module(module_name)
> >>
>
> RH> * Le  19 Jun >Jonas Meyer Rasmussen< ecrivait:
> >>
> >> import my.module
> >>
> >> def handler( req ):
> >> reload( my.module )
> >>
> RH> I can't do that since that I'm porting code from zope app to apache app.
> RH> And, they import name instead of module:
>
> RH>     from foreign_module import my_name
>
> RH> and this (afaik) canot be reloaded in python.
>
> Yes, you can do it again after reloading the module:
>
> foreign_module = apache.import_module("foreign_module")
> from foreign_module import my_name
> --
> Piet van Oostrum <piet@cs.uu.nl>
> URL: http://www.cs.uu.nl/~piet [PGP]
> Private email: P.van.Oostrum@hccnet.nl
>
>
>
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From piet at cs.uu.nl  Tue Jun 26 13:47:49 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:46:22 2004
Subject: [mod_python] import module via publisher
In-Reply-To: "Gregory's message of "Tue, 26 Jun 2001 07:18:15 -0400 (EDT)"
References: <Pine.BSF.4.32.0106260717370.20735-100000@localhost>
Message-ID: <uithjfonu.fsf@cs.uu.nl>

>>>>> "Gregory (Grisha) Trubetskoy" <grisha@modpython.org> (GT) a ?crit:

GT> There is something in the FAQ about that as well:

GT> http://www.modpython.org/FAQ/faqw.py?req=show&file=faq03.001.htp

Thanks.

Maybe you could add that any 
from module import name 
statements should also be repeated after the reload(module).
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From christo at vaix.net  Tue Jun 26 19:52:41 2001
From: christo at vaix.net (Christopher Beatty)
Date: Fri Jan  9 21:46:22 2004
Subject: [mod_python] Mod_Python on Windows
Message-ID: <DCEPLIMPFBBGLDOOHOPKCEHPCAAA.christo@vaix.net>

Well, I installed Mod_Python on my Windows ME machine. I used the directions
for Windows installation in Appendix A of the documentation. When I run the
test script, I get an internal server error. I've checked everything and
can't seem to find exactly what's causing the problem. Here's a snippet from
my apache error log regarding it:

-------------
[Tue Jun 26 19:35:06 2001] [error] python_handler: make_obcallback returned
no obCallBack!
make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.
-------------

I'm running Apache 1.3.20, Python 2.1 and Mod_Python 2.7.4. If anyone could
help me, I would greatly appreciate it.

Keep up the great work,

Chris


From piet at cs.uu.nl  Wed Jun 27 11:34:15 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:46:22 2004
Subject: [mod_python] Mod_Python on Windows
In-Reply-To: "Christopher Beatty"'s message of "Tue, 26 Jun 2001 19:52:41 -0400"
References: <DCEPLIMPFBBGLDOOHOPKCEHPCAAA.christo@vaix.net>
Message-ID: <uels6467c.fsf@cs.uu.nl>

>>>>> "Christopher Beatty" <christo@vaix.net> (CB) writes:

CB> Well, I installed Mod_Python on my Windows ME machine. I used the directions
CB> for Windows installation in Appendix A of the documentation. When I run the
CB> test script, I get an internal server error. I've checked everything and
CB> can't seem to find exactly what's causing the problem. Here's a snippet from
CB> my apache error log regarding it:

CB> -------------
CB> [Tue Jun 26 19:35:06 2001] [error] python_handler: make_obcallback returned
CB> no obCallBack!
CB> make_obcallback(): could not import mod_python.apache.
CB> make_obcallback(): could not call init.
CB> -------------

CB> I'm running Apache 1.3.20, Python 2.1 and Mod_Python 2.7.4. If anyone could
CB> help me, I would greatly appreciate it.

Check if the following files are present:

in your Python directory (i.e. where python.exe is located):

There should be a subdirectory mod_python that contains the following
files:
__init__.py
apache.py
cgihandler.py
httpdapi.py
publisher.py
util.py
zhandler.py
(and possibly the corresponding .pyc or .pyo files)

In your Apache directory in the modules subdirectory there should be
mod_python.dll 
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From jm at eemsystems.cjb.net  Wed Jun 27 14:29:38 2001
From: jm at eemsystems.cjb.net (Julio Mendoza)
Date: Fri Jan  9 21:46:22 2004
Subject: [mod_python] make_obcallback returned no obCallBack!
Message-ID: <20010627142938.A1096@duron750>

I have an error:
make_obcallback(): could not import mod_python.apache.
make_obcallback returned no obCallBack!

What this means?

my systems was working fine, i dont know what happens.


apache error.log

[Wed Jun 27 14:00:14 2001] [notice] suEXEC mechanism enabled (wrapper:
/usr/lib/apache/suexec)
[Wed Jun 27 14:00:14 2001] [info] Server built: Jun 12 2001 13:50:30
make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.
[Wed Jun 27 14:00:21 2001] [error] [client 206.99.125.69] python_handler:
make_obcallback returned no obCallBack!


Package: libapache-mod-python
Version: 1:2.7.3-1

apache httpd.conf

<Directory /pub/web/cgi-bin>
AddHandler python-program .py
PythonHandler mptest
PythonDebug On
</Directory>

From jm at eemsystems.cjb.net  Wed Jun 27 14:52:01 2001
From: jm at eemsystems.cjb.net (Julio Mendoza)
Date: Fri Jan  9 21:46:22 2004
Subject: [mod_python] make_obcallback returned no obCallBack!
In-Reply-To: =?ISO-8859-1?Q?=3C20010627142938=2EA1096=40duron750=3E=3B_from_jm=40eems?=
 =?ISO-8859-1?Q?ystems=2Ecjb=2Enet_on_mi=E9=2C_jun_27=2C_2001_at_14:29:38?=
 =?ISO-8859-1?Q?_-0500?=
References: <20010627142938.A1096@duron750>
Message-ID: <20010627145201.A1190@duron750>

my system is:

[Wed Jun 27 14:48:52 2001] [notice] Apache/1.3.20 (Unix) Debian/GNU
mod_python/2.7.3 Python/2.0 configured -- resuming normal operations
[Wed Jun 27 14:48:52 2001] [notice] suEXEC mechanism enabled (wrapper:
/usr/lib/apache/suexec)
[Wed Jun 27 14:48:52 2001] [info] Server built: Jun 12 2001 13:50:30
make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.




El mi?, 27 jun 2001 14:29:38 Julio Mendoza escribi?:
> 
> I have an error:
> make_obcallback(): could not import mod_python.apache.
> make_obcallback returned no obCallBack!
> 
> What this means?
> 
> my systems was working fine, i dont know what happens.
> 
> 
> apache error.log
> 
> [Wed Jun 27 14:00:14 2001] [notice] suEXEC mechanism enabled (wrapper:
> /usr/lib/apache/suexec)
> [Wed Jun 27 14:00:14 2001] [info] Server built: Jun 12 2001 13:50:30
> make_obcallback(): could not import mod_python.apache.
> make_obcallback(): could not call init.
> [Wed Jun 27 14:00:21 2001] [error] [client 206.99.125.69] python_handler:
> make_obcallback returned no obCallBack!
> 
> 
> Package: libapache-mod-python
> Version: 1:2.7.3-1
> 
> apache httpd.conf
> 
> <Directory /pub/web/cgi-bin>
> AddHandler python-program .py
> PythonHandler mptest
> PythonDebug On
> </Directory>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
> 

-- 
Julio Mendoza
Tel.: 260-0077			icq#: 111066916
Fax : 260-0084			aol : usereem
Cel : 627-1986			msn : juliomendozarivas@hotmail.com

http://eemsystems.cjb.net
Los expertos en Linux.

Open Software, Open Hardware... Open you Mind!

Linux?

http://icewm.themes.org/
http://www.debian.org/ 		http://www.gnome.org/
http://www.ximian.com/ 		http://sourceforge.net/
http://www.kernel.org 		http://www.linuxiso.org/

From jm at eemsystems.cjb.net  Thu Jun 28 12:45:46 2001
From: jm at eemsystems.cjb.net (Julio Mendoza)
Date: Fri Jan  9 21:46:22 2004
Subject: [mod_python] mod_python error
Message-ID: <20010628124546.A408@duron750>

this is my apache error.log

[Thu Jun 28 12:32:21 2001] [notice] Apache/1.3.20 (Unix) Debian/GNU
mod_python/2.7.3 Python/2.0 configured -- resuming normal operations
[Thu Jun 28 12:32:21 2001] [notice] suEXEC mechanism enabled (wrapper:
/usr/lib/apache/suexec)
[Thu Jun 28 12:32:21 2001] [info] Server built: Jun 12 2001 13:50:30
make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.
[Thu Jun 28 12:33:47 2001] [error] [client ] python_handler:
make_obcallback returned no obCallBack!


using the pytho2 idle (idle2) when i put in a script:

from mod_python import apache  ---- this produced an error: can find name
apache ***

when i change this to:

import mod_python.apache ---- the script run fine from the python idle2.


i cant find what the problem is!



-- 


From kbryd at int.gnu.org.pl  Thu Jun 28 19:57:37 2001
From: kbryd at int.gnu.org.pl (Karol Bryd)
Date: Fri Jan  9 21:46:22 2004
Subject: [mod_python] mod_python error
In-Reply-To: <20010628124546.A408@duron750>
Message-ID: <20010628195737.A10677@python.org.pl>

On Thu, Jun 28, 2001 at 12:45:46PM -0500, Julio Mendoza wrote:
> [Thu Jun 28 12:33:47 2001] [error] [client ] python_handler:
> make_obcallback returned no obCallBack!

Funny, I had this problem a moment ago, recompiling mod_python
helped...

PS. I have done a few small benchmarks to compare speed of PHP 4.0.5
and mod_python 2.7.4 - mod_python is at least 2x faster than PHP.
Not bad...

Regards.
-- 
       ------------------- Karol Bryd ------------------
   ---------------- http://int.gnu.org.pl ------------------
-------The general direction of the Alps is straight up.-------

From thehaas at binary.net  Thu Jun 28 14:10:16 2001
From: thehaas at binary.net (Mike Hostetler)
Date: Fri Jan  9 21:46:23 2004
Subject: [mod_python] mod_python speed
In-Reply-To: <20010628195737.A10677@python.org.pl>; from kbryd@int.gnu.org.pl on Thu, Jun 28, 2001 at 07:57:37PM +0200
References: <20010628124546.A408@duron750> <20010628195737.A10677@python.org.pl>
Message-ID: <20010628141016.A34002@ravine.binary.net>

On Thu, Jun 28, 2001 at 07:57:37PM +0200, Karol Bryd wrote:
> PS. I have done a few small benchmarks to compare speed of PHP 4.0.5
> and mod_python 2.7.4 - mod_python is at least 2x faster than PHP.
> Not bad...

I didn't do any benchmarking at all, but I did noticed that mod_python was
faster than PHP, based on user-experience stuff (like "how fast a page loads").
Way to go, guys . . . 

Mike


From richard at ccpgames.com  Thu Jun 28 19:17:36 2001
From: richard at ccpgames.com (Richard)
Date: Fri Jan  9 21:46:23 2004
Subject: [mod_python] mod_python error
Message-ID: <FC15F916EC764C42A4219BC30BFBC072111537@control.central.ccp.cc>

> From: Karol Bryd [mailto:kbryd@int.gnu.org.pl]
> 
> PS. I have done a few small benchmarks to compare speed of PHP 4.0.5
> and mod_python 2.7.4 - mod_python is at least 2x faster than PHP.
> Not bad...

Just out of curiosity, what kind of benchmarking did you do?

Cheers,
Richard.

From jm at eemsystems.cjb.net  Thu Jun 28 16:01:09 2001
From: jm at eemsystems.cjb.net (Julio Mendoza)
Date: Fri Jan  9 21:46:23 2004
Subject: [mod_python] mod_python: there is not solution for this error?
Message-ID: <20010628160109.A559@duron750>


There is not solution for this error:

[Thu Jun 28 15:34:46 2001] [notice] Apache/1.3.20 (Unix) Debian/GNU
mod_python/2.7.3 Python/2.0 configured -- resuming normal operations
[Thu Jun 28 15:34:46 2001] [notice] suEXEC mechanism enabled (wrapper:
/usr/lib/apache/suexec)
[Thu Jun 28 15:34:46 2001] [info] Server built: Jun 12 2001 13:50:30
make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.


From jm at eemsystems.cjb.net  Thu Jun 28 17:35:34 2001
From: jm at eemsystems.cjb.net (Julio Mendoza)
Date: Fri Jan  9 21:46:23 2004
Subject: [mod_python] Re: mod_python error --> Solution
In-Reply-To: <20010628124546.A408@duron750>; from jm@eemsystems.cjb.net on jue, jun 28, 2001 at 12:45:46 -0500
References: <20010628124546.A408@duron750>
Message-ID: <20010628173534.A1775@duron750>

Solution:

1)  apt-get build-dep libapache-mod-python
2) obtain a recent sources from www.modpython.org
3) symblink /usr/bin/python2  --> /usr/bin/python

4) from source of mod_pyton: (readme file)

	 ./configure
	make dso
	make install

This solve my problem.  thank you

I think there is an error in the libapache-mod-python bynary package fron
debian/testing




El jue, 28 jun 2001 12:45:46 Julio Mendoza escribi?:
> this is my apache error.log
> 
> [Thu Jun 28 12:32:21 2001] [notice] Apache/1.3.20 (Unix) Debian/GNU
> mod_python/2.7.3 Python/2.0 configured -- resuming normal operations
> [Thu Jun 28 12:32:21 2001] [notice] suEXEC mechanism enabled (wrapper:
> /usr/lib/apache/suexec)
> [Thu Jun 28 12:32:21 2001] [info] Server built: Jun 12 2001 13:50:30
> make_obcallback(): could not import mod_python.apache.
> make_obcallback(): could not call init.
> [Thu Jun 28 12:33:47 2001] [error] [client ] python_handler:
> make_obcallback returned no obCallBack!
> 
> 
> using the pytho2 idle (idle2) when i put in a script:
> 
> from mod_python import apache  ---- this produced an error: can find name
> apache ***
> 
> when i change this to:
> 
> import mod_python.apache ---- the script run fine from the python idle2.
> 
> 
> i cant find what the problem is!
> 
> 
> 
> -- 
> 
> 
> -- 
> To UNSUBSCRIBE, email to debian-user-request@lists.debian.org 
> with a subject of "unsubscribe". Trouble? Contact
> listmaster@lists.debian.org
> 
> 


From pday at UVic.CA  Thu Jun 28 16:36:00 2001
From: pday at UVic.CA (pday@UVic.CA)
Date: Fri Jan  9 21:46:23 2004
Subject: [mod_python] Solution to make_obcallback() import problems.
Message-ID: <Pine.A41.4.30.0106281607160.19734-100000@unix4.UVic.CA>

Hi all,

I'm fairly new to mod_python stuff and have been pouring through the list
archives and docs looking for a solution.

My setup has more than one python installation. I have stock 1.52,
2.0 and 2.1 versions on my system all of which have threads compiled
in. So I merrily compiled and installed python under my apache
directory which did not have threads. I suspect this is similar for many
of you out there.

This leads to the dreaded:
 make_obcallback(): could not import mod_python.apache.

For a while I relied on PYTHONHOME being set to the mod_python specific
area but this broke all my legacy CGI's that depended on the other
installations of python. So in a desparate measure I came up with the
following patch:

55a56,60
> /* Where the python executeable is stored. This solves the:
>  * make_obcallback(): could not import mod_python.apache.
>  * problem */
> static char* programName = "/usr/local/apache_1.3.20/bin/python";
>
273a279,281
>        /* Set where the executeable of the interpreter is */
>        Py_SetProgramName(programName);
>

This is for version 2.7.5 mod_python.c. You'll have to change programName
according to your installation. It makes sure that Py_SetProgramName is
called before Py_Initialize(). Once that's done the cryptic import errors
will vanish.

I admit this is a total hack and needs some work for official inclusion.
(ie. it would be nice is configure set programName for us automatically.)

Anyhow that's my 2 cent contibution.

Patrick.

PS:

Thanks to Mike Bell for the editting src/Makefile and change OPT=
to OPT=-DEAPI fix.

Also thanks to Damjan Georgievski for his patch to mod_python. It was
great for showing that sys.path was a mess.


From murban at tznet.com  Thu Jun 28 21:31:58 2001
From: murban at tznet.com (Michael C. Urban)
Date: Fri Jan  9 21:46:23 2004
Subject: [mod_python] Configuration problems.
Message-ID: <20010628213157.A41697@kiara.simbalink.org>

Hi,

I just installed mod_python as a DSO, in Apache 1.3.20 under FreeBSD.
The install went fine, and the module seems to load. But when I try to
do the 2.4 Testing section in the manual and add the following lines
to httpd.conf as shown in the manual:


<Directory /some/directory/htdocs/test> 
    AddHandler python-program .py
    PythonHandler mptest 
    PythonDebug On 
</Directory>

I get the following error when trying to start Apache:

Syntax error on line 371 of /usr/local/etc/apache/httpd.conf:
Invalid command 'PythonHandler', perhaps mis-spelled or defined by a
module not included in the server configuration

Anyone have any ideas?

Thanks,

Mike

From murban at tznet.com  Thu Jun 28 21:40:34 2001
From: murban at tznet.com (Michael C. Urban)
Date: Fri Jan  9 21:46:23 2004
Subject: [mod_python] Re: Configuration problems.
In-Reply-To: <20010628213157.A41697@kiara.simbalink.org>; from murban@tznet.com on Thu, Jun 28, 2001 at 09:31:58PM -0500
References: <20010628213157.A41697@kiara.simbalink.org>
Message-ID: <20010628214034.A41825@kiara.simbalink.org>

Oops...

I found the problem and fixed it.

Thanks,

Mike

On Thu, Jun 28, 2001 at 09:31:58PM -0500, Michael C. Urban wrote:
> Hi,
> 
> I just installed mod_python as a DSO, in Apache 1.3.20 under FreeBSD.
> The install went fine, and the module seems to load. But when I try to
> do the 2.4 Testing section in the manual and add the following lines
> to httpd.conf as shown in the manual:
> 
> 
> <Directory /some/directory/htdocs/test> 
>     AddHandler python-program .py
>     PythonHandler mptest 
>     PythonDebug On 
> </Directory>
> 
> I get the following error when trying to start Apache:
> 
> Syntax error on line 371 of /usr/local/etc/apache/httpd.conf:
> Invalid command 'PythonHandler', perhaps mis-spelled or defined by a
> module not included in the server configuration
> 
> Anyone have any ideas?
> 
> Thanks,
> 
> Mike

From grisha at modpython.org  Thu Jun 28 23:59:57 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:46:23 2004
Subject: [mod_python] Configuration problems.
In-Reply-To: <20010628213157.A41697@kiara.simbalink.org>
Message-ID: <Pine.BSF.4.32.0106282354080.67586-100000@localhost>

This means the Module didn't load. You can it the module is loaded or not
with a simple test by telneting to your web server and sending "HEAD /
HTML/1.0" and look for the server to have the mod_python and Python
version in the header. If you don't see it, the module didn't load.
Should look something like this:

$ telnet localhost 80
Trying 127.0.0.1....
Connected to localhost.
Escape character is '^]'.
HEAD / HTTP/1.0

HTTP/1.1 302 Found
Date: Fri, 29 Jun 2001 03:55:37 GMT
Server: Apache/1.3.14 (Unix) mod_ssl/2.7.1 OpenSSL/0.9.6 mod_python/2.7.2 Python/2.0

Grisha


On Thu, 28 Jun 2001, Michael C. Urban wrote:

> Hi,
>
> I just installed mod_python as a DSO, in Apache 1.3.20 under FreeBSD.
> The install went fine, and the module seems to load. But when I try to
> do the 2.4 Testing section in the manual and add the following lines
> to httpd.conf as shown in the manual:
>
>
> <Directory /some/directory/htdocs/test>
>     AddHandler python-program .py
>     PythonHandler mptest
>     PythonDebug On
> </Directory>
>
> I get the following error when trying to start Apache:
>
> Syntax error on line 371 of /usr/local/etc/apache/httpd.conf:
> Invalid command 'PythonHandler', perhaps mis-spelled or defined by a
> module not included in the server configuration
>
> Anyone have any ideas?
>
> Thanks,
>
> Mike
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From kbryd at int.gnu.org.pl  Fri Jun 29 10:16:21 2001
From: kbryd at int.gnu.org.pl (Karol Bryd)
Date: Fri Jan  9 21:46:23 2004
Subject: [mod_python] mod_python error
In-Reply-To: <FC15F916EC764C42A4219BC30BFBC072111537@control.central.ccp.cc>
Message-ID: <20010629101621.A16134@python.org.pl>

On Thu, Jun 28, 2001 at 07:17:36PM -0000, Richard wrote:
> > From: Karol Bryd [mailto:kbryd@int.gnu.org.pl]
> > 
> > PS. I have done a few small benchmarks to compare speed of PHP 4.0.5
> > and mod_python 2.7.4 - mod_python is at least 2x faster than PHP.
> > Not bad...
> 
> Just out of curiosity, what kind of benchmarking did you do?

I know that benchmarks lie, but I couldn't resist ;-)
Here is the first one (and most complex):

def test():                                                              
    start = time()                                              
    tab = {}                                            
    fp = open("/home/kbryd/public_html/python2/data", "r")                       
    n = 0                                                                
    lines = fp.readlines()                                       
    for line in lines:                                   
	fields = split(line, '=')                
        tab[n] = [fields[0], fields[1]]  
        n+=1                     
    fp.close()   
    end = time()                                                                
    return end-start                                                    

(the file is 400KB long)

It was repeated 100 times to calculate average.

Regards.
-- 
       ------------------- Karol Bryd ------------------
   ---------------- http://int.gnu.org.pl ------------------
------There's got to be more to life than compile-and-go.------

From gege at china.com  Fri Jun  1 14:44:11 2001
From: gege at china.com (gege@china.com)
Date: Fri Jan  9 21:52:25 2004
Subject: [mod_python] please update mod_python in official site
Message-ID: <8O989398855588.15009@mail3.china.com>

there isn't windows dll of modpython 2.7.3 for python 2.1 yet in mod_python official site. who can compile it and upload to site? I want it~~ 
************************************
¡Ù—ß“∆√Ò,√‚∑—∆¿π¿.
http://www.mercan.com.cn/mercan2000/china.htm


From cce at clarkevans.com  Sat Jun  2 16:35:50 2001
From: cce at clarkevans.com (Clark C . Evans)
Date: Fri Jan  9 21:52:25 2004
Subject: [mod_python] pyHTML
Message-ID: <20010602163550.B6112@doublegemini.com>

Has anyone made a PyHTML handler?  I have
a user who is PHP familar, and if he/she
could write something similar to a PyHTML
file this would help convert.  *evil grin*

Best,

Clark

From cce at clarkevans.com  Sat Jun  2 20:53:20 2001
From: cce at clarkevans.com (Clark C . Evans)
Date: Fri Jan  9 21:52:25 2004
Subject: [mod_python] Reload and Publisher Handler
Message-ID: <20010602205320.A16333@doublegemini.com>

Hello.  I'm using the publisher handler, and
this works great on the first and subsequent 
runs.  However, if a change is made to the 
source file (for instance the simple test.py
with the say method), then the file is not
reloaded... here is the trace back:

Mod_python error: "PythonHandler mod_python.publisher"

Traceback (most recent call last):

  File "/usr/local/lib/python2.1/site-packages/mod_python/apache.py",
  line 189, in Dispatch
    result = object(self.req)

  File
  "/usr/local/lib/python2.1/site-packages/mod_python/publisher.py",
  line 128, in handler
    module = apache.import_module(module_name, _req, [path])

  File "/usr/local/lib/python2.1/site-packages/mod_python/apache.py",
  line 358, in import_module
    if os.path.exists(filepath[:-1]) :

  File "/usr/local/lib/python2.1/posixpath.py", line 171, in exists
    st = os.stat(path)

OSError: [Errno 2] No such file or directory:
'/sites/clarkevans.com/http/phtest/test.p'


...

It seems to be snipping the "y" at the end of 
the file name....  I'm using apache 1.3.9 with
python ver 1.2 and mod python 2.7.3

Clark


From deneb at unixwave.org  Sun Jun  3 09:40:37 2001
From: deneb at unixwave.org (Giorgio)
Date: Fri Jan  9 21:52:25 2004
Subject: [mod_python] pyHTML
In-Reply-To: <20010602163550.B6112@doublegemini.com>; from cce@clarkevans.com on Sat, Jun 02, 2001 at 04:35:50PM -0500
References: <20010602163550.B6112@doublegemini.com>
Message-ID: <20010603094037.A11581@unixwave.org>

On Sat, Jun 02, 2001, Clark C . Evans wrote:

> 
> Has anyone made a PyHTML handler?  I have
> a user who is PHP familar, and if he/she
> could write something similar to a PyHTML
> file this would help convert.  *evil grin*
You can use ptml.sourceforge.net and adapt it
at the Publisher Handler (in 10 min) and if
you need the PHPlib template in Python 
(http://opensource.dreamware.com/PyTemplate.py) or
if you need the Python server pages you can with more
effort adapt Webware (webware.sourceforge.net) to 
your needs.
 
bye,
Giorgio

From cce at clarkevans.com  Sun Jun  3 14:52:19 2001
From: cce at clarkevans.com (Clark C . Evans)
Date: Fri Jan  9 21:52:25 2004
Subject: [mod_python] Reload and Publisher Handler
In-Reply-To: <20010603094250.B11581@unixwave.org>; from deneb@unixwave.org on Sun, Jun 03, 2001 at 09:42:50AM +0200
References: <20010602205320.A16333@doublegemini.com> <20010603094250.B11581@unixwave.org>
Message-ID: <20010603145219.A31437@doublegemini.com>

Thank you Giorgio, but I still have this same
reload problem with the publisher... I had reversed 
the version number, it is 2.1 instead of 1.2 ;)

Best,

Clark

On Sun, Jun 03, 2001 at 09:42:50AM +0200, Giorgio wrote:
| > It seems to be snipping the "y" at the end of 
| > the file name....  I'm using apache 1.3.9 with
|  python ver 1.2 and mod python 2.7.3
| ^^^^^^^^^^^^^^^^^
| Python ver 1.2? I think you should upgrade you box. 


From grisha at modpython.org  Mon Jun  4 07:57:18 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:52:25 2004
Subject: [mod_python] Re: Win32 threading issue
In-Reply-To: <5.0.2.1.0.20010529202540.034332c0@infratest1>
Message-ID: <Pine.BSF.4.32.0106040756240.80415-100000@localhost>

I was going to wait until I have Python 2.1 stuff figured out, but seeing
that there is a need for this fix to be out, I'll just release it today
and Python 2.1 will have to wait until 2.7.5.

Grisha

On Tue, 29 May 2001, Geoff Talvola wrote:

> Great!  I love it when bugs have already been fixed.
>
> Grisha, are you planning on releasing 2.7.4 any time soon?  If so, I'll
> just wait for it to be released.
>
>
> At 09:03 AM 5/30/01 +1000, Chris Trengove wrote:
> >Geoff,
> >
> >This problem has now been fixed, and I expect will be part of mod_python
> >2.7.4 when Grisha decides to release that. In the mean time, if you have a
> >desperate need to avoid the threading problem, you can access the modified
> >files in the CVS.
> >
> >Chris
> >
> >At 02:04 PM 29/05/2001 -0400, Geoff Talvola wrote:
> > >I just wanted to confirm that I also get the same behavior on Windows -- if
> > >I stress out a simple script like the one below with multiple simultaneous
> > >requests, I get sporadic errors, just as Chris Trengove reported.
> > >
> > >I'd be happy to help diagnose and fix the problem, but I know next to
> > >nothing about Apache and mod_python's internals.  I do have access to VC++
> > >6.0 and I have successfully compiled the mod_python dll (for Python 2.1).
> > >
> > >Where should I go from here?
> > >
> >
> > >- Geoff Talvola
> > >   gtalvola@NameConnector.com
> > >
>
> --
>
> - Geoff Talvola
>    gtalvola@NameConnector.com
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From gtalvola at nameconnector.com  Mon Jun  4 10:30:12 2001
From: gtalvola at nameconnector.com (Geoff Talvola)
Date: Fri Jan  9 21:52:25 2004
Subject: [mod_python] Session data
In-Reply-To: <3B15F56B.67DF1D35@netgroup.dk>
References: <13CDDE6A53DBD311BC3200508B6F0C4805E47E7D@rover.foolhq.com>
Message-ID: <5.1.0.14.0.20010604102651.033cec30@infratest1>

At 09:40 AM 5/31/01 +0200, Bo Lorentsen wrote:
>Chris Hagner wrote:
> > You might want to check out WebWare (webware.sourceforge.net) as an 
> expample
> > web framework that has some session support.  I think they pickle 
> objects to
> > the file system.  There are some other python-based cgi frameworks that 
> also
> > support user sessions, but just be aware of how far such solutions 
> will/will
> > not take you.
>
>I would be nervous about the performance and the real-time aspect by using the
>file system approach, but thanks for the advise, I will look into it.

I believe that Webware stores sessions primarily in memory, but 
periodically pickles inactive sessions to the filesystem to conserve 
RAM.  Also when you stop the app server, it pickles all sessions to disk so 
that it can reload them when you restart it.


--

- Geoff Talvola
   gtalvola@NameConnector.com

From gtalvola at nameconnector.com  Tue Jun  5 18:36:14 2001
From: gtalvola at nameconnector.com (Geoff Talvola)
Date: Fri Jan  9 21:52:25 2004
Subject: [mod_python] Re: Win32 threading issue
In-Reply-To: <Pine.BSF.4.32.0106040756240.80415-100000@localhost>
References: <5.0.2.1.0.20010529202540.034332c0@infratest1>
Message-ID: <5.1.0.14.0.20010605183413.030214e0@infratest1>

At 07:57 AM 6/4/01 -0400, Gregory (Grisha) Trubetskoy wrote:

>I was going to wait until I have Python 2.1 stuff figured out, but seeing
>that there is a need for this fix to be out, I'll just release it today
>and Python 2.1 will have to wait until 2.7.5.

I was able to compile mod_python 2.7.3 for Python 2.1 on Windows with no 
problems, and it seemed to work fine (except for the threading problem of 
course).

Are there particular problems with Python 2.1 that you know of, or should I 
be OK using it?


--

- Geoff Talvola
   gtalvola@NameConnector.com

From grisha at modpython.org  Tue Jun  5 21:35:56 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:52:25 2004
Subject: [mod_python] Re: Win32 threading issue
In-Reply-To: <5.1.0.14.0.20010605183413.030214e0@infratest1>
Message-ID: <Pine.BSF.4.32.0106052134070.4785-100000@localhost>

I'm not aware of any problems, but then I haven't looked at it closely. I
think if it compiled and is giving you no grief, you're cool.

I know that on UNIX some changes will need to be made in the
compile/install steps since mod_python installation relies on some
functionality that has changed in 2.1.

Grisha

On Tue, 5 Jun 2001, Geoff Talvola wrote:

> At 07:57 AM 6/4/01 -0400, Gregory (Grisha) Trubetskoy wrote:
>
> >I was going to wait until I have Python 2.1 stuff figured out, but seeing
> >that there is a need for this fix to be out, I'll just release it today
> >and Python 2.1 will have to wait until 2.7.5.
>
> I was able to compile mod_python 2.7.3 for Python 2.1 on Windows with no
> problems, and it seemed to work fine (except for the threading problem of
> course).
>
> Are there particular problems with Python 2.1 that you know of, or should I
> be OK using it?
>
>
> --
>
> - Geoff Talvola
>    gtalvola@NameConnector.com
>


From jeanphilippe.leboeuf at free.fr  Wed Jun  6 14:36:01 2001
From: jeanphilippe.leboeuf at free.fr (jeanphilippe.leboeuf@free.fr)
Date: Fri Jan  9 21:52:25 2004
Subject: [mod_python] Why not a Python 2.1 version ?
Message-ID: <991830961.3b1e23b1966d6@imp.free.fr>

I try to use Python 2.1, Apache 1.3.20 with mod_python 2.7.4 on Win32... and I 
get a : 

--------------------------------------------------------------------------------
Syntax error on line 212 of c:/winx/apache/conf/httpd.conf:
Cannot load c:/winx/apache/modules/mod_python.dll into server: (1157) Une des bi
blioth?ques n?cessaires ? l'ex?cution de cette application n'a pu ?tre trouv?e:


Note the errors or messages above, and press the <ESC> key to exit.  29...
--------------------------------------------------------------------------------

I thing the problem is that I use Python 2.1 ???

Do I need to compile mod_python ?

Thanks...

From paullb at runbox.com  Wed Jun  6 10:05:48 2001
From: paullb at runbox.com (Brendan Paull)
Date: Fri Jan  9 21:52:25 2004
Subject: [mod_python] Why not a Python 2.1 version ?
In-Reply-To: <991830961.3b1e23b1966d6@imp.free.fr>
Message-ID: <5.0.2.1.2.20010606100409.00a1dec0@pop.runbox.com>

I got a similar thing for Python 2,1 with Apache 1.3.x with mod_python 2.7.3.

Syntax error on line 208 of /etc/httpd/conf/httpd.conf:
Cannot load /usr/lib/apache/mod_python.so into server: undefined symbol: 
pthread_create

any ideas?

Brendan Paull

At 02:36 PM 6/6/01 +0200, you wrote:
>I try to use Python 2.1, Apache 1.3.20 with mod_python 2.7.4 on Win32... 
>and I
>get a :
>
>--------------------------------------------------------------------------------
>Syntax error on line 212 of c:/winx/apache/conf/httpd.conf:
>Cannot load c:/winx/apache/modules/mod_python.dll into server: (1157) Une 
>des bi
>blioth?ques n?cessaires ? l'ex?cution de cette application n'a pu ?tre 
>trouv?e:
>
>
>Note the errors or messages above, and press the <ESC> key to exit.  29...
>--------------------------------------------------------------------------------
>
>I thing the problem is that I use Python 2.1 ???
>
>Do I need to compile mod_python ?
>
>Thanks...
>_______________________________________________
>Mod_python mailing list
>Mod_python@modpython.org
>http://www.modpython.org/mailman/listinfo/mod_python


From thehaas at binary.net  Wed Jun  6 10:35:37 2001
From: thehaas at binary.net (Mike Hostetler)
Date: Fri Jan  9 21:52:25 2004
Subject: [mod_python] Why not a Python 2.1 version ?
In-Reply-To: <5.0.2.1.2.20010606100409.00a1dec0@pop.runbox.com>; from paullb@runbox.com on Wed, Jun 06, 2001 at 10:05:48AM -0700
References: <991830961.3b1e23b1966d6@imp.free.fr> <5.0.2.1.2.20010606100409.00a1dec0@pop.runbox.com>
Message-ID: <20010606103537.A27648@ravine.binary.net>

On Wed, Jun 06, 2001 at 10:05:48AM -0700, Brendan Paull wrote:
> I got a similar thing for Python 2,1 with Apache 1.3.x with mod_python 2.7.3.

I'm using mod_python 2.7.3 with ActivePython 2.1 and Apache 1.3.x with no
problem. 

I'm using it on Solaris . . . if that makes a difference.

Mike

From paullb at runbox.com  Wed Jun  6 15:14:36 2001
From: paullb at runbox.com (Brendan Paull)
Date: Fri Jan  9 21:52:25 2004
Subject: [mod_python] Why not a Python 2.1 version ?
In-Reply-To: <20010606103537.A27648@ravine.binary.net>
References: <5.0.2.1.2.20010606100409.00a1dec0@pop.runbox.com>
 <991830961.3b1e23b1966d6@imp.free.fr>
 <5.0.2.1.2.20010606100409.00a1dec0@pop.runbox.com>
Message-ID: <5.0.2.1.2.20010606151405.00a12ec0@pop.runbox.com>

I forgot to mention that I am using Linux Red Hat 7.0

Brendan

At 10:35 AM 6/6/01 -0500, you wrote:
>On Wed, Jun 06, 2001 at 10:05:48AM -0700, Brendan Paull wrote:
> > I got a similar thing for Python 2,1 with Apache 1.3.x with mod_python 
> 2.7.3.
>
>I'm using mod_python 2.7.3 with ActivePython 2.1 and Apache 1.3.x with no
>problem.
>
>I'm using it on Solaris . . . if that makes a difference.
>
>Mike
>_______________________________________________
>Mod_python mailing list
>Mod_python@modpython.org
>http://www.modpython.org/mailman/listinfo/mod_python


From bl at netgroup.dk  Thu Jun  7 09:20:01 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 21:52:26 2004
Subject: [mod_python] Why not a Python 2.1 version ?
References: <5.0.2.1.2.20010606100409.00a1dec0@pop.runbox.com>
Message-ID: <3B1F2B20.ACDA3673@netgroup.dk>

Brendan Paull wrote:

> I got a similar thing for Python 2,1 with Apache 1.3.x with mod_python 2.7.3.
>
> Syntax error on line 208 of /etc/httpd/conf/httpd.conf:
> Cannot load /usr/lib/apache/mod_python.so into server: undefined symbol:
> pthread_create

This sounds like a missing "-lpthread" while linking the .so file. Is the mod_python
code primary written on a Solaris ?

/BL


From grisha at modpython.org  Thu Jun  7 07:44:16 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:52:26 2004
Subject: [mod_python] Why not a Python 2.1 version ?
In-Reply-To: <991830961.3b1e23b1966d6@imp.free.fr>
Message-ID: <Pine.BSF.4.32.0106070744030.25641-100000@localhost>

Yes, the DLL is for Python 2.0

On Wed, 6 Jun 2001 jeanphilippe.leboeuf@free.fr wrote:

> I try to use Python 2.1, Apache 1.3.20 with mod_python 2.7.4 on Win32... and I
> get a :
>
> --------------------------------------------------------------------------------
> Syntax error on line 212 of c:/winx/apache/conf/httpd.conf:
> Cannot load c:/winx/apache/modules/mod_python.dll into server: (1157) Une des bi
> blioth?ques n?cessaires ? l'ex?cution de cette application n'a pu ?tre trouv?e:
>
>
> Note the errors or messages above, and press the <ESC> key to exit.  29...
> --------------------------------------------------------------------------------
>
> I thing the problem is that I use Python 2.1 ???
>
> Do I need to compile mod_python ?
>
> Thanks...
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From paullb at runbox.com  Thu Jun  7 09:23:07 2001
From: paullb at runbox.com (Brendan Paull)
Date: Fri Jan  9 21:52:26 2004
Subject: [mod_python] Why not a Python 2.1 version ?
In-Reply-To: <3B1F2B20.ACDA3673@netgroup.dk>
References: <5.0.2.1.2.20010606100409.00a1dec0@pop.runbox.com>
Message-ID: <5.0.2.1.2.20010607092215.00a13050@pop.runbox.com>

I'm not sure, I grabbed it from the modpython website: 
http://www.modpython.org/dist/mod_python-2.7.3.tgz

If it is in fact aimed at solaris, what can I do?

Brendan!

At 09:20 AM 6/7/01 +0200, you wrote:
>Brendan Paull wrote:
>
> > I got a similar thing for Python 2,1 with Apache 1.3.x with mod_python 
> 2.7.3.
> >
> > Syntax error on line 208 of /etc/httpd/conf/httpd.conf:
> > Cannot load /usr/lib/apache/mod_python.so into server: undefined symbol:
> > pthread_create
>
>This sounds like a missing "-lpthread" while linking the .so file. Is the 
>mod_python
>code primary written on a Solaris ?
>
>/BL


From grisha at modpython.org  Thu Jun  7 10:01:28 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:52:26 2004
Subject: [mod_python] Why not a Python 2.1 version ?
In-Reply-To: <5.0.2.1.2.20010607092215.00a13050@pop.runbox.com>
Message-ID: <Pine.BSF.4.32.0106070959240.26932-100000@localhost>

Brendan -

When you compiled Python, you should have seen a warning about threads.
Apache uses no threads, whereas most default Python installations do.
Unfortunately, on some systems this makes mod_python and Apache
incompatible.

The solution is to compile Python without threads and build mod_python
against that Python compilation using the --with-python argument to
configure.

Grisha

On Thu, 7 Jun 2001, Brendan Paull wrote:

> I'm not sure, I grabbed it from the modpython website:
> http://www.modpython.org/dist/mod_python-2.7.3.tgz
>
> If it is in fact aimed at solaris, what can I do?
>
> Brendan!
>
> At 09:20 AM 6/7/01 +0200, you wrote:
> >Brendan Paull wrote:
> >
> > > I got a similar thing for Python 2,1 with Apache 1.3.x with mod_python
> > 2.7.3.
> > >
> > > Syntax error on line 208 of /etc/httpd/conf/httpd.conf:
> > > Cannot load /usr/lib/apache/mod_python.so into server: undefined symbol:
> > > pthread_create
> >
> >This sounds like a missing "-lpthread" while linking the .so file. Is the
> >mod_python
> >code primary written on a Solaris ?
> >
> >/BL
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From piet at cs.uu.nl  Thu Jun  7 16:57:39 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:52:26 2004
Subject: [mod_python] Why not a Python 2.1 version ?
In-Reply-To: "Gregory's message of "Thu, 7 Jun 2001 10:01:28 -0400 (EDT)"
References: <Pine.BSF.4.32.0106070959240.26932-100000@localhost>
Message-ID: <uk82os5gc.fsf@cs.uu.nl>

>>>>> "Gregory (Grisha) Trubetskoy" <grisha@modpython.org> (GT) writes:

GT> When you compiled Python, you should have seen a warning about threads.
GT> Apache uses no threads, whereas most default Python installations do.
GT> Unfortunately, on some systems this makes mod_python and Apache
GT> incompatible.

What kind of problems could this give? If Apache is not using threads and
your scripts don't create threads, there should only be one thread even in
a python with threads. So I can't see what problems this could cause.
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From grisha at modpython.org  Thu Jun  7 11:26:16 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:52:26 2004
Subject: [mod_python] Why not a Python 2.1 version ?
In-Reply-To: <uk82os5gc.fsf@cs.uu.nl>
Message-ID: <Pine.BSF.4.32.0106071125270.27732-100000@localhost>

Problems such as:

   Cannot load /usr/lib/apache/mod_python.so into server: undefined
   symbol: pthread_create

Grisha

On 7 Jun 2001 piet@cs.uu.nl wrote:

> >>>>> "Gregory (Grisha) Trubetskoy" <grisha@modpython.org> (GT) writes:
>
> GT> When you compiled Python, you should have seen a warning about threads.
> GT> Apache uses no threads, whereas most default Python installations do.
> GT> Unfortunately, on some systems this makes mod_python and Apache
> GT> incompatible.
>
> What kind of problems could this give? If Apache is not using threads and
> your scripts don't create threads, there should only be one thread even in
> a python with threads. So I can't see what problems this could cause.
> --
> Piet van Oostrum <piet@cs.uu.nl>
> URL: http://www.cs.uu.nl/~piet [PGP]
> Private email: P.van.Oostrum@hccnet.nl
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From litao at photon.poly.edu  Thu Jun  7 20:05:28 2001
From: litao at photon.poly.edu (Tao Li)
Date: Fri Jan  9 21:52:26 2004
Subject: [mod_python] Problem with httpd.conf under NT
Message-ID: <200106080004.UAA14120@photon.poly.edu>

Hi there,

I followed the installation guide in manual and got a message 
'cannot load c:/...../modules/mod_python.dll into server: <126> 
The specified module could not be found'. Does anyone know 
how to solve the problem?. I am a newbie of python&apache. 
Thanks a lot for your help. 

OS: WinNT (SP6)
Apache: 1.3.20
Python: 2.1  



Regards,

Tao Li


    


From bl at netgroup.dk  Fri Jun  8 09:08:33 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 21:52:26 2004
Subject: [mod_python] Why not a Python 2.1 version ?
References: <Pine.BSF.4.32.0106070959240.26932-100000@localhost>
Message-ID: <3B2079F1.9CDB7CE@netgroup.dk>

"Gregory (Grisha) Trubetskoy" wrote:

> Brendan -
>
> When you compiled Python, you should have seen a warning about threads.
> Apache uses no threads, whereas most default Python installations do.
> Unfortunately, on some systems this makes mod_python and Apache
> incompatible.
>
> The solution is to compile Python without threads and build mod_python
> against that Python compilation using the --with-python argument to
> configure.

Couldn't you include "-lpthread" when linking the mod_python file, regardless of
the disability to run threads. If the python script tries to run threads, its the
problem for this particular module but not the entire Python system.

/BL


From piet at cs.uu.nl  Fri Jun  8 11:49:30 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:52:26 2004
Subject: [mod_python] Problem with httpd.conf under NT
In-Reply-To: Tao Li's message of "Thu, 7 Jun 2001 20:5:28 -0500"
References: <200106080004.UAA14120@photon.poly.edu>
Message-ID: <ud78fs3md.fsf@cs.uu.nl>

>>>>> Tao Li <litao@photon.poly.edu> (TL) writes:

TL> Hi there,
TL> I followed the installation guide in manual and got a message 
TL> 'cannot load c:/...../modules/mod_python.dll into server: <126> 
TL> The specified module could not be found'. Does anyone know 
TL> how to solve the problem?. I am a newbie of python&apache. 
TL> Thanks a lot for your help. 

TL> OS: WinNT (SP6)
TL> Apache: 1.3.20
TL> Python: 2.1  

If you have a downloaded DLL, this is not compiled for Python 2.1. So you
have to use Python 2.0 or recompile mod_python for 2.1.
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From michael.jaeger at brainmedia.de  Fri Jun  8 13:36:08 2001
From: michael.jaeger at brainmedia.de (Michael Jaeger)
Date: Fri Jan  9 21:52:26 2004
Subject: [mod_python] Problem with httpd.conf under NT
Message-ID: <3B20B8A8.29525D6E@brainmedia.de>

> If you have a downloaded DLL, this is not compiled for Python 2.1. So
you
> have to use Python 2.0 or recompile mod_python for 2.1.

This seems to be a trivial task for you but obviously not for everybody
on this list, since there are beginners and people who are used to
program in others languages than C/C++. This may sound stupid to you,
but not everyone, not even some 'real' programmers, know how to
recompile mod_python for 2.1.

But sure there are geeks on this list, who know. So _please_ do us the
favour and do this job for us and post a dll for Python 2.1!


From grisha at modpython.org  Fri Jun  8 08:04:23 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:52:26 2004
Subject: [mod_python] Problem with httpd.conf under NT
In-Reply-To: <3B20B8A8.29525D6E@brainmedia.de>
Message-ID: <Pine.BSF.4.32.0106080757140.38800-100000@localhost>

Believe it or not, it's actually not so trivial for me :-)

Not that it's not technically doable, but I don't have a set up and time
to compile all various combinations of Python/Apache versions on a
platform that I myself never use... I'd prefer the compilation was
something a user could do like it's been done on unix always, but M$
obviously doesn't see it this way - they want $$ for the compiler. God
forbid you may actually start writing your own (open source) software -
what would they do? ;-)

Anyhow - if someone would e-mail me a Python 2.1 DLL I'll put it on the
site. Right now I don't have 2.1 sources compiled on windows - I might
make some time to do this, but it isn't highest priority.

Grisha

On Fri, 8 Jun 2001, Michael Jaeger wrote:

> > If you have a downloaded DLL, this is not compiled for Python 2.1. So
> you
> > have to use Python 2.0 or recompile mod_python for 2.1.
>
> This seems to be a trivial task for you but obviously not for everybody
> on this list, since there are beginners and people who are used to
> program in others languages than C/C++. This may sound stupid to you,
> but not everyone, not even some 'real' programmers, know how to
> recompile mod_python for 2.1.
>
> But sure there are geeks on this list, who know. So _please_ do us the
> favour and do this job for us and post a dll for Python 2.1!
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From piet at cs.uu.nl  Fri Jun  8 15:33:02 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:52:26 2004
Subject: [mod_python] Problem with httpd.conf under NT
In-Reply-To: Michael Jaeger's message of "Fri, 08 Jun 2001 13:36:08 +0200"
References: <3B20B8A8.29525D6E@brainmedia.de>
Message-ID: <uiti7qepd.fsf@cs.uu.nl>

>>>>> Michael Jaeger <michael.jaeger@brainmedia.de> (MJ) writes:

>> If you have a downloaded DLL, this is not compiled for Python 2.1. So
>> you have to use Python 2.0 or recompile mod_python for 2.1.

MJ> This seems to be a trivial task for you but obviously not for everybody
MJ> on this list, since there are beginners and people who are used to
MJ> program in others languages than C/C++. This may sound stupid to you,
MJ> but not everyone, not even some 'real' programmers, know how to
MJ> recompile mod_python for 2.1.

MJ> But sure there are geeks on this list, who know. So _please_ do us the
MJ> favour and do this job for us and post a dll for Python 2.1!

No, it's not a trivial task for me, otherwise I would have offered the DLL.
I hesitated adding "or ask someone else to compile it for you" to my
answer. 
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From piet at cs.uu.nl  Fri Jun  8 17:37:36 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:52:26 2004
Subject: [mod_python] Problem with httpd.conf under NT
In-Reply-To: piet@cs.uu.nl's message of "08 Jun 2001 15:33:02 +0200"
References: <3B20B8A8.29525D6E@brainmedia.de> <uiti7qepd.fsf@cs.uu.nl>
Message-ID: <u3d9b3run.fsf@cs.uu.nl>

>>>>> piet@cs.uu.nl (P) writes:

P> No, it's not a trivial task for me, otherwise I would have offered the DLL.
P> I hesitated adding "or ask someone else to compile it for you" to my
P> answer. 

Well, it appeared not to be so difficult after all. I unly had to change
some things in the makefile because the Apache setup apparently changed (I
had no CoreR subdir and the os.h moved to os/win32).

I will send the dll for apache 1.3.20 and python 2.1.

-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From joe at joestump.org  Sun Jun 10 18:33:52 2001
From: joe at joestump.org (Joe Stump)
Date: Fri Jan  9 21:52:26 2004
Subject: [mod_python] mod_ython not parsing python pages.
Message-ID: <20010610183352.G20551@zorka.com>

System:
Debian GNU/Linux
Python installed via apt-get ...

I've put the following in my virtual server def ...

<Directory /python>
  AddHandler python-program .py
  PythonHandler mptest
  PythonDebug On
</Directory>


When I create mptest (according to the faq for testing) it doesn't parse, I 
just get the code. I'm loading the module without any errors in my httpd.conf
but it's just no interpreting the code.

Another question I have is can I add an application type for .py files like
you can in PHP? My server is www.miester.org and the dir is /python

Thanks!

--Joe


Joe Stump <joe@joestump.net>
------------------------------------------------------------------------
"To each his own - My own is GNU/Linux" --Joe Stump

From michael.jaeger at brainmedia.de  Mon Jun 11 09:34:09 2001
From: michael.jaeger at brainmedia.de (Michael Jaeger)
Date: Fri Jan  9 21:52:26 2004
Subject: [mod_python] Problem with httpd.conf under NT
Message-ID: <3B247471.CA0A2B3C@brainmedia.de>

>>>>> piet@cs.uu.nl (P) wrote:

> I will send the dll for apache 1.3.20 and python 2.1.

Just read your mail and saw the dll you posted. Thanks a lot!

Michael




From gdamjan at mail.net.mk  Mon Jun 11 11:07:11 2001
From: gdamjan at mail.net.mk (Damjan)
Date: Fri Jan  9 21:52:26 2004
Subject: [mod_python] mod_ython not parsing python pages.
In-Reply-To: <20010610183352.G20551@zorka.com>; from joe@joestump.org on Sun, Jun 10, 2001 at 06:33:52PM -0500
References: <20010610183352.G20551@zorka.com>
Message-ID: <20010611110711.A30278@legolas.on.net.mk>

> I've put the following in my virtual server def ...
> 
> <Directory /python>
>   AddHandler python-program .py
>   PythonHandler mptest
>   PythonDebug On
> </Directory>

This is OK 
 
> When I create mptest (according to the faq for testing) it doesn't parse, I 
                ~~~~~~
You meen mptest.py don't you?


-- 
Damjan Georgievski		|           ?????? ???????????
Skopje, Macedonia		|           ??????, ??????????

From santhosh at swamicyber.com  Tue Jun 12 15:37:03 2001
From: santhosh at swamicyber.com (Santhosh V)
Date: Fri Jan  9 21:52:26 2004
Subject: [mod_python] mod_python ( apache cannot be started )
Message-ID: <005001c0f327$820650e0$2403a8c0@swamisoft.com>

Hi

I added the following lines to the httpd.conf after installing mod_python ( static compilation )

<Directory /python>
     AddHandler python-program .py
     PythonHandler mptest
    PythonDebug On
 </Directory>

When I start apache I get the following error message.

Syntax error on line 953 of /usr/local/apache/conf/httpd.conf:
Invalid command 'PythonHandler', perhaps mis-spelled or defined by a module not
included in the server configuration
./apachectl start: httpd could not be started  

Please help me out

Regards

Santhosh
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010612/13150a8e/attachment-0001.htm
From joe at joestump.org  Tue Jun 12 09:27:57 2001
From: joe at joestump.org (Joe Stump)
Date: Fri Jan  9 21:52:26 2004
Subject: [mod_python] mod_ython not parsing python pages.
In-Reply-To: <20010611110711.A30278@legolas.on.net.mk>
References: <20010610183352.G20551@zorka.com> <20010611110711.A30278@legolas.on.net.mk>
Message-ID: <20010612092757.F6156@zorka.com>

Yeah i tried the mptest.py - still no luck - but the cgi works fine for me. 
Until I know more Python I'll probably stick with the cgi.

Thanks!

--Joe

On Mon, Jun 11, 2001 at 11:07:11AM +0200, Damjan wrote:
> > I've put the following in my virtual server def ...
> > 
> > <Directory /python>
> >   AddHandler python-program .py
> >   PythonHandler mptest
> >   PythonDebug On
> > </Directory>
> 
> This is OK 
>  
> > When I create mptest (according to the faq for testing) it doesn't parse, I 
>                 ~~~~~~
> You meen mptest.py don't you?
> 
> 
> -- 
> Damjan Georgievski		|           ???????????? ??????????????????????
> Skopje, Macedonia		|           ????????????, ????????????????????
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python

Joe Stump <joe@joestump.net>
------------------------------------------------------------------------
"To each his own - My own is GNU/Linux" --Joe Stump

From kbryd at python.org.pl  Tue Jun 12 18:15:25 2001
From: kbryd at python.org.pl (Karol Bryd)
Date: Fri Jan  9 21:52:26 2004
Subject: [mod_python] index.py as index
Message-ID: <20010612181525.B25838@python.org.pl>

hi!

    This was probably discussed before, but I could't find it in the
archives. I am using mod python with Publisher handler and I would like
to create index page that would be displayed without adding path info to
the URL. In other words :-) normally to display somethig I have to use
URL like this: http://lh/page/index.py/index, but having such an URL as
an index page is not convenient. What I want is to have a page that will
be displayed after typing http://lh/page/ (for example this will call
function index in index.py). How to do it?

Ufff. I hope that you are able to understand it :-)

Regards.
-- 
       ------------------- Karol Bryd ------------------
   ---------------- http://int.gnu.org.pl ------------------
---------Those who can, do.  Those who can't, simulate.---------

From rsalz at zolera.com  Tue Jun 12 13:31:56 2001
From: rsalz at zolera.com (Rich Salz)
Date: Fri Jan  9 21:52:26 2004
Subject: [mod_python] index.py as index
References: <20010612181525.B25838@python.org.pl>
Message-ID: <3B26520C.4832CBA4@zolera.com>

> What I want is to have a page that will
> be displayed after typing http://lh/page/ (for example this will call
> function index in index.py). How to do it?

Edit your Apache config file
	DirectoryIndex index.py index.html
                        ^^^^^^^ add this

From benno at sesgroup.net  Wed Jun 13 10:59:16 2001
From: benno at sesgroup.net (Ben Leslie)
Date: Fri Jan  9 21:52:26 2004
Subject: [mod_python] mod_python ( apache cannot be started )
In-Reply-To: <005001c0f327$820650e0$2403a8c0@swamisoft.com>; from santhosh@swamicyber.com on Tue, Jun 12, 2001 at 03:37:03PM +0530
References: <005001c0f327$820650e0$2403a8c0@swamisoft.com>
Message-ID: <20010613105916.C25554@sesgroup.net>

On Tue, 12 Jun 2001, Santhosh V wrote:

> Hi
> 
> I added the following lines to the httpd.conf after installing mod_python ( static compilation )
> 
> <Directory /python>
>      AddHandler python-program .py
>      PythonHandler mptest
>     PythonDebug On
>  </Directory>

Have you included the mod_python library?

Forget how of the top of my head, but you probably need to have a line
in httpd.conf to specify that you want to load the mod_python library.

Benno

From kbryd at python.org.pl  Wed Jun 13 09:47:41 2001
From: kbryd at python.org.pl (Karol Bryd)
Date: Fri Jan  9 21:52:26 2004
Subject: [mod_python] index.py as index
In-Reply-To: <3B26520C.4832CBA4@zolera.com>
Message-ID: <20010613094741.A1821@python.org.pl>

On Tue, Jun 12, 2001 at 01:31:56PM -0400, Rich Salz wrote:
> > What I want is to have a page that will
> > be displayed after typing http://lh/page/ (for example this will call
> > function index in index.py). How to do it?
> 
> Edit your Apache config file
> 	DirectoryIndex index.py index.html
>                         ^^^^^^^ add this

This is quite obvious but it won't solve my problem with path info, I
will still have to write url like this http://lh/page/?index to call
function named index from index.py. Am I right?

Regards.
-- 
       ------------------- Karol Bryd ------------------
   ---------------- http://int.gnu.org.pl ------------------
----------Anything free is worth what you pay for it.----------

From michael.jaeger at brainmedia.de  Wed Jun 13 11:31:39 2001
From: michael.jaeger at brainmedia.de (Michael Jaeger)
Date: Fri Jan  9 21:52:26 2004
Subject: [mod_python] mod_python ( apache cannot be started )
Message-ID: <3B2732FB.C2F9EB38@brainmedia.de>

 santhosh@swamicyber.com wrote:

> I added the following lines to the httpd.conf after installing
> mod_python ( static compilation )
>
>  <Directory /python>
>     AddHandler python-program .py
>     PythonHandler mptest
>     PythonDebug On
>  </Directory>
>
> When I start apache I get the following error message.
>
> Syntax error on line 953 of /usr/local/apache/conf/httpd.conf:
> Invalid command 'PythonHandler', perhaps mis-spelled or defined by a
> module not
> included in the server configuration
> ./apachectl start: httpd could not be started

Did you add the line

LoadModule python_module modules/mod_python.dll    (if under Windows)
LoadModule python_module libexec/mod_python.so      (if under Linux)

to your http.conf?





From piet at cs.uu.nl  Wed Jun 13 12:59:27 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:52:26 2004
Subject: [mod_python] index.py as index
In-Reply-To: Karol Bryd's message of "Wed, 13 Jun 2001 09:47:41 +0200"
References: <20010613094741.A1821@python.org.pl>
Message-ID: <usnh4r6gg.fsf@cs.uu.nl>

>>>>> Karol Bryd <kbryd@python.org.pl> (KB) writes:

KB> This is quite obvious but it won't solve my problem with path info, I
KB> will still have to write url like this http://lh/page/?index to call
KB> function named index from index.py. Am I right?

I think so.
But why do you want to use the publisher handler for this?
You can make a separate handler for the indexes like this:

DirectoryIndex index.pyx index.html
...
<Directory "...."> 
  AddHandler python-index .pyx
  PythonHandler index 
</Directory>

And then put the indexing code in index.pyx
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From richard.hitier at idealx.com  Wed Jun 13 14:44:58 2001
From: richard.hitier at idealx.com (richard hitier)
Date: Fri Jan  9 21:52:26 2004
Subject: [mod_python] index.py as index
In-Reply-To: <usnh4r6gg.fsf@cs.uu.nl>; from piet@cs.uu.nl on Wed, Jun 13, 2001 at 12:59:27PM +0200
References: <20010613094741.A1821@python.org.pl> <usnh4r6gg.fsf@cs.uu.nl>
Message-ID: <20010613144458.A2825@joshua.ird.idealx.com>

* Le  13 Jun >piet@cs.uu.nl< ecrivait:
> You can make a separate handler for the indexes like this:
in the same directory where the publisher is set ?

> 
> DirectoryIndex index.pyx index.html
> ...
> <Directory "...."> 
>   AddHandler python-index .pyx
is "python-index"  known like "python-program" as handler_name ?

>   PythonHandler index 
> </Directory>
> 
> And then put the indexing code in index.pyx
doesn't work for me :(
I get import error with the ligne 
    AddHandler python-program .pyx

of course, index.pyx can't be imported;
see error in attachement

-- 
Richard Hitier                 PGP Key on pgp.mit.edu
richard.hitier@IDEALX.com	   key 0xD1BAD022
-------------- next part --------------

Mod_python error: "PythonHandler index"

Traceback (innermost last):

  File "/usr/lib/python1.5/site-packages/mod_python/apache.py", line 181, in Dispatch
    module = import_module(module_name, _req)

  File "/usr/lib/python1.5/site-packages/mod_python/apache.py", line 335, in import_module
    f, p, d = imp.find_module(parts[i], path)

ImportError: No module named index

From deneb at unixwave.org  Wed Jun 13 15:09:28 2001
From: deneb at unixwave.org (Giorgio)
Date: Fri Jan  9 21:52:26 2004
Subject: [mod_python] index.py as index
In-Reply-To: <20010613094741.A1821@python.org.pl>; from kbryd@python.org.pl on Wed, Jun 13, 2001 at 09:47:41AM +0200
References: <3B26520C.4832CBA4@zolera.com> <20010613094741.A1821@python.org.pl>
Message-ID: <20010613150927.A582@unixwave.org>

n Wed, Jun 13, 2001, Karol Bryd wrote:

> On Tue, Jun 12, 2001 at 01:31:56PM -0400, Rich Salz wrote:
> > > What I want is to have a page that will
> > > be displayed after typing http://lh/page/ (for example this will call
> > > function index in index.py). How to do it?
> > 
> > Edit your Apache config file
> > 	DirectoryIndex index.py index.html
> >                         ^^^^^^^ add this
> 
> This is quite obvious but it won't solve my problem with path info, I
> will still have to write url like this http://lh/page/?index to call
> function named index from index.py. Am I right?

 in the Apache Virtual host use:

 Redirect / http://www.yourdomain.ext/program.py/function?args=values

 Where :
* www.yourdomain.ext is the web host
* program.py is the program which you want start 
* function is a python function which you want start , and it is in program.py
* args is a parameter to your function.

Note: never trust values. 

Cheers,
Giorgio.

P.S. can be the objects instantiated by url?


From deneb at unixwave.org  Wed Jun 13 15:14:12 2001
From: deneb at unixwave.org (Giorgio)
Date: Fri Jan  9 21:52:26 2004
Subject: [mod_python] index.py as index
In-Reply-To: <usnh4r6gg.fsf@cs.uu.nl>; from piet@cs.uu.nl on Wed, Jun 13, 2001 at 12:59:27PM +0200
References: <20010613094741.A1821@python.org.pl> <usnh4r6gg.fsf@cs.uu.nl>
Message-ID: <20010613151412.A620@unixwave.org>

On Wed, Jun 13, 2001, piet@cs.uu.nl wrote:

> DirectoryIndex index.pyx index.html
> ...
> <Directory "...."> 
>   AddHandler python-index .pyx
>   PythonHandler index 
> </Directory>

But so you don't use mod_publisher in index.pyx, isn't it?
And if i wanna in index.pyx send an email with a form, as
in the mod_python manual?
bye,
Giorgio

From piet at cs.uu.nl  Wed Jun 13 15:39:47 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:52:26 2004
Subject: [mod_python] index.py as index
In-Reply-To: <20010613151412.A620@unixwave.org>
References: <20010613094741.A1821@python.org.pl>
	<usnh4r6gg.fsf@cs.uu.nl>
	<20010613151412.A620@unixwave.org>
Message-ID: <15143.27939.790000.577406@gargle.gargle.HOWL>

>>>>> Giorgio <deneb@unixwave.org> (G) writes:

G> On Wed, Jun 13, 2001, piet@cs.uu.nl wrote:
>> DirectoryIndex index.pyx index.html
>> ...
>> <Directory "...."> 
>> AddHandler python-index .pyx
>> PythonHandler index 
>> </Directory>

G> But so you don't use mod_publisher in index.pyx, isn't it?
G> And if i wanna in index.pyx send an email with a form, as
G> in the mod_python manual?

Sorry, I didn't test enough. It appears that you can have only one
modpython handler (at least in the same directory). And yes,
python-index must still be python-program.
And importing probelms can be avoided by also having index.py

So after all my suggestion doesn't work as I thought.

Maybe publisher should get some default if the path is empty.

What I don't understand why you want to send an email when the
directory is selected. The parameters would come normally from a FORM
but then the action can simply be given as a full path can't it?
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From InternetShops at mail.ru  Wed Jun 13 18:44:49 2001
From: InternetShops at mail.ru (InternetShops@mail.ru)
Date: Fri Jan  9 21:52:26 2004
Subject: [mod_python] ˙·Î·˙ Ó·‰ÂˆÓÔÁÔ Ô‚ÔÚı‰Ô˜·ÓÈÒ ˛ÂÚÂ˙ ÈÓÙÂÚÓÂÙ
Message-ID: <200106131644.SAA10630@tucows.ibershop.com>

An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010613/edea05ed/attachment-0001.htm
From richard.hitier at idealx.com  Thu Jun 14 12:32:31 2001
From: richard.hitier at idealx.com (richard hitier)
Date: Fri Jan  9 21:52:26 2004
Subject: [mod_python] Howto to handle classes ?
Message-ID: <20010614123231.A1606@joshua.ird.idealx.com>

Hi,

is there a way to access classes and theyre methode through an url ?
via the publisher I guess, but how.

http://mydomain/module/fonction?var=value

is ok.

but what about
http://mydomain/module/class.method ?


Thx all: i'm just trying to migrate from zope to mod_python, and this is
my main wall.

-- 
Richard Hitier                 PGP Key on pgp.mit.edu
richard.hitier@IDEALX.com	   key 0xD1BAD022

From grisha at modpython.org  Thu Jun 14 12:21:43 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:52:26 2004
Subject: [mod_python] Howto to handle classes ?
In-Reply-To: <20010614123231.A1606@joshua.ird.idealx.com>
Message-ID: <Pine.BSF.4.32.0106141216150.48777-100000@localhost>

Richard

It's goning to be something along these lines:

http://mydomain/module/instance/method?arg1=value

Grisha

On Thu, 14 Jun 2001, richard hitier wrote:

> Hi,
>
> is there a way to access classes and theyre methode through an url ?
> via the publisher I guess, but how.
>
> http://mydomain/module/fonction?var=value
>
> is ok.
>
> but what about
> http://mydomain/module/class.method ?
>
>
> Thx all: i'm just trying to migrate from zope to mod_python, and this is
> my main wall.
>
> --
> Richard Hitier                 PGP Key on pgp.mit.edu
> richard.hitier@IDEALX.com	   key 0xD1BAD022
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From x at Vex.Net  Sun Jun 17 11:31:43 2001
From: x at Vex.Net (T. Muddletin)
Date: Fri Jan  9 21:52:26 2004
Subject: [mod_python] LogHandler
Message-ID: <390778152.20010617113143@Vex.Net>

I wonder if anyone is doing anything like this with mod_python (if it
is even possible): http://www.webtechniques.com/archives/2000/04/perl/

We really want to log cpu time for requests into a database (along
with everything else)... I don't have that much time to rip apart
mod_python to try and figure it out if it can be done. We'll have to
use the mod_perl (sadly!) just because it is there... unless someone
can set us quickly on the right pythonic path. So I'm just wondering
if anyone else is thinking/doing anything like the above...

-- 
Tim Middleton | Cain Gang Ltd | There are a thousand hacking at the branches
x@veX.net     | www.Vex.Net   | of evil [but who] at the root. --Thoreau (W)


From rsalz at zolera.com  Sun Jun 17 21:16:27 2001
From: rsalz at zolera.com (Rich Salz)
Date: Fri Jan  9 21:52:26 2004
Subject: [mod_python] LogHandler
References: <390778152.20010617113143@Vex.Net>
Message-ID: <3B2D566B.54428011@zolera.com>

> We really want to log cpu time for requests into a database (along
> with everything else)... I don't have that much time to rip apart
> mod_python to try and figure it out if it can be done.

pymysql + os.times(), and you write a handler that wraps around the
"real" one ?
	/r$

From bl at netgroup.dk  Mon Jun 18 11:57:18 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 21:52:27 2004
Subject: [mod_python] Apache crash
Message-ID: <3B2DD07E.3EAD4BF8@netgroup.dk>

Hi ...

There is an FAQ tag about Apache crashing, if not the first module
loaded while using RH. Is there an explanation for this, or is it pure
magic ?

I have seen the same thin happend on a Debian potato (with 2.4.5 kernel
added), and like to know why.

/BL


From richard.hitier at idealx.com  Mon Jun 18 17:37:33 2001
From: richard.hitier at idealx.com (richard hitier)
Date: Fri Jan  9 21:52:27 2004
Subject: [mod_python] import module via publisher
Message-ID: <20010618173733.A10098@joshua.ird.idealx.com>

hi,

I'm a bit disapointed with the mod_python mechanisms of importing
module.

In fact, I'am still wondering how this could work:

some times, whilst the
 import my_module 
line is in, i get nameError or importError from the publisher .

then, after reloading many times the url through the http client (here,
w3m), I finally get my result ok.

But from then, I can modify the imported files, nothing will change
even if i suppress the "import ..." line from my main module,
unless I  shut w3m down and relaunch it.


thx for clues
-- 
Richard Hitier                 PGP Key on pgp.mit.edu
richard.hitier@IDEALX.com	   key 0xD1BAD022

From bl at netgroup.dk  Tue Jun 19 11:27:40 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 21:52:27 2004
Subject: [mod_python] import module via publisher
References: <20010618173733.A10098@joshua.ird.idealx.com>
Message-ID: <3B2F1B0C.5315F784@netgroup.dk>

richard hitier wrote:

> I'm a bit disapointed with the mod_python mechanisms of importing
> module.

I think there is a good explanation for mod_python to act like this.

> In fact, I'am still wondering how this could work:
>
> some times, whilst the
>  import my_module
> line is in, i get nameError or importError from the publisher .

I have the same problem, and I think it's because of a caching algorithm
somewhere (may in python ?)

> then, after reloading many times the url through the http client (here,
> w3m), I finally get my result ok.

Yeps, and sometimes the problem comes back, in the same session :-)

I think that when you request the same page several times it may spawn a
new process that makes it own python pre compile script cache, and
therefor takes in your newly updated code, and therefor works.

There must be an easy way to ether disable this cache of refresh it by
force (other than restarting apache) !

/BL


From meyer at diku.dk  Tue Jun 19 13:36:04 2001
From: meyer at diku.dk (Jonas Meyer Rasmussen)
Date: Fri Jan  9 21:52:27 2004
Subject: [mod_python] import module via publisher
In-Reply-To: <3B2F1B0C.5315F784@netgroup.dk>
Message-ID: <Pine.HPX.4.21.0106191334090.15973-100000@ask.diku.dk>

> There must be an easy way to ether disable this cache of refresh it by
> force (other than restarting apache) !
my code looks like this:

import my.module

def handler( req ):
   reload( my.module )

I'm not using the publisher, but I'm guessing that it works the same way?

Jonas Meyer Rasmussen
meyer@diku.dk



From wart at softhome.net  Tue Jun 19 19:20:00 2001
From: wart at softhome.net (Wartan Hachaturow)
Date: Fri Jan  9 21:52:27 2004
Subject: [mod_python] Any open-source applications?
Message-ID: <20010619192000.A20277@penguin.aktivist.ru>

Hello.

Is there any open source mod_python applications available?
I would like to learn web programming with mod_python, and my
own experience tells me that it's best to use already exisiting 
applications to see how things are done.
So, if anyone would advise me some, I'll be really thankful.

P.S. Right now I know only about PyWM.

P.P.S. And also would anyone suggest me a ready framework for
web-development (based on mod_python, of course)? It seems to
me that it's not the target of mod_python to provide sessions,
persistend database connections, etc..
But Zope is not an option ;-) Too bloated for me.

-- 
Regards, Wartan.
echo "Your stdio isn't very std." 
		-- Larry Wall in Configure from the perl distribution

From deneb at unixwave.org  Tue Jun 19 18:04:36 2001
From: deneb at unixwave.org (Giorgio)
Date: Fri Jan  9 21:52:27 2004
Subject: [mod_python] Any open-source applications?
In-Reply-To: <20010619192000.A20277@penguin.aktivist.ru>; from wart@softhome.net on Tue, Jun 19, 2001 at 07:20:00PM +0400
References: <20010619192000.A20277@penguin.aktivist.ru>
Message-ID: <20010619180436.A2119@unixwave.org>

On Tue, Jun 19, 2001, Wartan Hachaturow wrote:

> Hello.
[snip..]

An Application at: 
http://webware.sourceforge.net 

It has mod_python hooks.And supports every feature that you need.
Optionally you can rip what you need and discard what you don't use.
However it can be useful remember that Apache is not a multi threading
enviroment.

As mod_python application example you can see
maki, at http://maki.sourceforge.net as application written for 
mod_python and xml.

> But Zope is not an option ;-) Too bloated for me.
Personally, I dislike Zope and I like mod-python for 
the following reasons:
the code is clear, least privilege ,too poor Zope security, Zope is
really heavy, but this is only my  opinion.  
 
bye,
Giorgio

From richard.hitier at idealx.com  Thu Jun 21 09:47:19 2001
From: richard.hitier at idealx.com (richard hitier)
Date: Fri Jan  9 21:52:27 2004
Subject: [mod_python] import module via publisher
In-Reply-To: <20010618105626.A86475@ravine.binary.net>; from thehaas@binary.net on Mon, Jun 18, 2001 at 10:56:26AM -0500
References: <E6FF52955A377B4983DF1DCBC3B5BB7C04C4F8@atropos.infraware.co.kr> <3B2F1B0C.5315F784@netgroup.dk> <Pine.HPX.4.21.0106191334090.15973-100000@ask.diku.dk> <20010618173733.A10098@joshua.ird.idealx.com> <3B2F1B0C.5315F784@netgroup.dk> <20010618173733.A10098@joshua.ird.idealx.com> <20010618105626.A86475@ravine.binary.net>
Message-ID: <20010621094719.A480@joshua.ird.idealx.com>

Hi all,
and thanks for your many answers!

* Le  18 Jun >Mike Hostetler< ecrivait:
> 
> I have had this happen too . . . I figured it was some sort of caching with
> either Apache or mod_python.  Or maybe the browser . . . 
in fact I had a local proxy (wwwoffle) that I now pass through with
w3m -no-proxy my_web_page

but I didn't see any difference :(
> 
>  

* Le  19 Jun >Bo Lorentsen< ecrivait:
> I think there is a good explanation for mod_python to act like this.
> 
i guess so too, but I would *love* to know which one ;)


> There must be an easy way to ether disable this cache of refresh it by
> force (other than restarting apache) !
perhaps, but still looking for ...

in fact, from now on I can tell two points:
(remember I work whith the publisher)

1?    calling http://my_page/module/fonction

always give me the latest modifications results (whithout restarting
apache at all)

2?     But if I call some imported code in my module.fonction()
this will never be updated according to imported module file last
modifications.

=> I _have_ to restart apache each time I want my modificationx be
updated.
> 

* Le  19 Jun >Jonas Meyer Rasmussen< ecrivait:
> 
> import my.module
> 
> def handler( req ):
>    reload( my.module )
> 
I can't do that since that I'm porting code from zope app to apache app.
And, they import name instead of module:

    from foreign_module import my_name

and this (afaik) canot be reloaded in python.


Any How, thanks all.
and if I solve my problem I'll let you know.

ciao


-- 
Richard Hitier                 PGP Key on pgp.mit.edu
richard.hitier@IDEALX.com	   key 0xD1BAD022

From tree at basistech.com  Thu Jun 21 09:29:16 2001
From: tree at basistech.com (Tom Emerson)
Date: Fri Jan  9 21:52:27 2004
Subject: [mod_python] "Cannot re-init internal module exceptions"
Message-ID: <15153.63148.824452.424254@cymru.basistech.com>

Greetings.

I'm attempting to get mod_python working with the AHTS template engine
(http://ahts.sourceforge.net) but am not having much luck. In
particular, I get the following error in the server error log (the
full backtrace is below):

[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/Errors.py", line 9, in ?
    import exceptions
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex: ImportError: Cannot re-init internal module exceptions

This is running in the following configuration:

Apache/1.3.19 (Unix) PHP/4.0.4pl1 mod_python/2.7.2 Python/2.0 configured

Anyone have an idea what is happening here? Any ideas on ameliorating this problem?

TIA,

    -tree


[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex: Traceback (most recent call last):
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line 176, in Dispatch
    module = import_module(module_name, _req)
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line 334, in import_module
    module = imp.load_module(mname, f, p, d)
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/opt/www/htdocs/chinlex.py", line 2, in ?
    import MySQLdb, StringIO, ahts
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/__init__.py", line 33, in ?
    from utility import *
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/utility.py", line 29, in ?
    import writer
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/writer.py", line 33, in ?
    from parser import TemplateParser
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/parser.py", line 33, in ?
    from scanner import TemplateScanner
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/scanner.py", line 33, in ?
    from Plex import *
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/__init__.py", line 34, in ?
    from Lexicons import Lexicon, State
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/Lexicons.py", line 13, in ?
    import Errors
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/Errors.py", line 9, in ?
    import exceptions
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex: ImportError: Cannot re-init internal module exceptions

-- 
Tom Emerson                                          Basis Technology Corp.
Sr. Sinostringologist                              http://www.basistech.com
  "Beware the lollipop of mediocrity: lick it once and you suck forever"

From walter at livinglogic.de  Thu Jun 21 17:24:30 2001
From: walter at livinglogic.de (Walter =?iso-8859-1?Q?D=F6rwald?=)
Date: Fri Jan  9 21:52:27 2004
Subject: [mod_python] "Cannot re-init internal module exceptions"
References: <15153.63148.824452.424254@cymru.basistech.com>
Message-ID: <3B3211AE.D34A61DC@livinglogic.de>

Tom Emerson wrote:

> Greetings.
> 
> I'm attempting to get mod_python working with the AHTS template engine
> (http://ahts.sourceforge.net) but am not having much luck. In
> particular, I get the following error in the server error log (the
> full backtrace is below):
> 
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/Errors.py", line 9, in ?
>     import exceptions
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex: ImportError: Cannot re-init internal module exceptions

Could this be related to Python bug #422004?

http://sourceforge.net/tracker/?group_id=5470&atid=105470&func=detail&aid=422004

Bye,
	Walter D?rwald

From tree at basistech.com  Thu Jun 21 12:23:13 2001
From: tree at basistech.com (Tom Emerson)
Date: Fri Jan  9 21:52:27 2004
Subject: [mod_python] "Cannot re-init internal module exceptions"
In-Reply-To: <3B3211AE.D34A61DC@livinglogic.de>
References: <15153.63148.824452.424254@cymru.basistech.com>
	<3B3211AE.D34A61DC@livinglogic.de>
Message-ID: <15154.8049.672235.391169@cymru.basistech.com>

=?iso-8859-1?Q?Walter_D=F6rwald?= writes:
> >     import exceptions
> > [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex: ImportError: Cannot re-init internal module exceptions
> 
> Could this be related to Python bug #422004?
> 
> http://sourceforge.net/tracker/?group_id=5470&atid=105470&func=detail&aid=422004

Yes, it appears to be exactly that problem. After rebuilding Python
with the patch given in the bug report I'm able to use AHTS from
within mod_python. Sweet.

Thanks!

    -tree

-- 
Tom Emerson                                          Basis Technology Corp.
Sr. Sinostringologist                              http://www.basistech.com
  "Beware the lollipop of mediocrity: lick it once and you suck forever"

From sam at webslingerZ.com  Thu Jun 21 13:00:37 2001
From: sam at webslingerZ.com (Sam Brauer)
Date: Fri Jan  9 21:52:27 2004
Subject: [mod_python] "Cannot re-init internal module exceptions"
In-Reply-To: <15153.63148.824452.424254@cymru.basistech.com>
Message-ID: <Pine.LNX.4.31.0106211257460.21947-100000@localhost.localdomain>

When I encountered this in some of my code, I simply removed the "import
exceptions" line and it worked fine.
So try commenting that line out in
$ocal/lib/python2.0/site-packages/ahts/Plex/Errors.py

You will probably need to restart apache to see if it works.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Sam Brauer : Systems Programmer : sam@webslingerZ.com

On Thu, 21 Jun 2001, Tom Emerson wrote:

> Greetings.
>
> I'm attempting to get mod_python working with the AHTS template engine
> (http://ahts.sourceforge.net) but am not having much luck. In
> particular, I get the following error in the server error log (the
> full backtrace is below):
>
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/Errors.py", line 9, in ?
>     import exceptions
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex: ImportError: Cannot re-init internal module exceptions
>
> This is running in the following configuration:
>
> Apache/1.3.19 (Unix) PHP/4.0.4pl1 mod_python/2.7.2 Python/2.0 configured
>
> Anyone have an idea what is happening here? Any ideas on ameliorating this problem?
>
> TIA,
>
>     -tree
>
>
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex: Traceback (most recent call last):
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line 176, in Dispatch
>     module = import_module(module_name, _req)
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line 334, in import_module
>     module = imp.load_module(mname, f, p, d)
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/opt/www/htdocs/chinlex.py", line 2, in ?
>     import MySQLdb, StringIO, ahts
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/__init__.py", line 33, in ?
>     from utility import *
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/utility.py", line 29, in ?
>     import writer
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/writer.py", line 33, in ?
>     from parser import TemplateParser
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/parser.py", line 33, in ?
>     from scanner import TemplateScanner
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/scanner.py", line 33, in ?
>     from Plex import *
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/__init__.py", line 34, in ?
>     from Lexicons import Lexicon, State
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/Lexicons.py", line 13, in ?
>     import Errors
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/Errors.py", line 9, in ?
>     import exceptions
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex: ImportError: Cannot re-init internal module exceptions
>
> --
> Tom Emerson                                          Basis Technology Corp.
> Sr. Sinostringologist                              http://www.basistech.com
>   "Beware the lollipop of mediocrity: lick it once and you suck forever"
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From agl at linuxpower.org  Mon Jun 25 19:16:03 2001
From: agl at linuxpower.org (Adam Langley)
Date: Fri Jan  9 21:52:27 2004
Subject: [mod_python] Reloading of modules
Message-ID: <20010625191603.B1091@linuxpower.org>

(I've searched thru the list archives and the following message seems
to be relevent, but there was no useful followup:
http://www.modpython.org/pipermail/mod_python/2001-May/001324.html)

Using the following test script:
from mod_python import apache

i = 0
def test(req):
    req.content_type = "text/html"
    req.send_http_header ()

    global i
    req.write (str(i) + "<br>")
    i += 1
    return ""

This works as expected until you start refreshing quickly, when the
counter gets reset.

Why is mod_python reimporting the file?

httpd.conf:
    SetHandler python-program
    PythonHandler mod_python.publisher
    PythonInterpreter main
    PythonDebug on

Thanks

AGL

-- 
Never underestimate the power of a small tactical nuclear weapon.







From SumnerH at fool.com  Mon Jun 25 14:28:32 2001
From: SumnerH at fool.com (G . Sumner Hayes)
Date: Fri Jan  9 21:52:27 2004
Subject: [mod_python] Reloading of modules
In-Reply-To: <20010625191603.B1091@linuxpower.org>; from agl@linuxpower.org on Mon, Jun 25, 2001 at 07:16:03PM +0100
References: <20010625191603.B1091@linuxpower.org>
Message-ID: <20010625142832.A14034@fool.com>

Adam Langley <agl@linuxpower.org> wrote:
> from mod_python import apache
> 
> i = 0
> def test(req):
>     req.content_type = "text/html"
>     req.send_http_header ()
> 
>     global i
>     req.write (str(i) + "<br>")
>     i += 1
[SNIP]
> This works as expected until you start refreshing quickly, when the
> counter gets reset.

Each Apache process has its own Python interpreter, and in a
default Apache install each process only handles 50 or 100
requests before exiting.  Which process you get for a particular
page load depends on the OS scheduler and the exact timing, but
on an unloaded machine you can easily hit the same one 10 or more
times in a row.

But in general, you can't keep server-side shared data this way.

  Sumner

From grisha at modpython.org  Mon Jun 25 15:25:03 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:52:27 2004
Subject: [mod_python] Reloading of modules
In-Reply-To: <20010625191603.B1091@linuxpower.org>
Message-ID: <Pine.BSF.4.32.0106251524070.9457-100000@localhost>

This behaviour would be OS specific. On win32 you should see the counter
increasing, on UNIX you will have a counter per process. Which platform
are you on?

On Mon, 25 Jun 2001, Adam Langley wrote:

> (I've searched thru the list archives and the following message seems
> to be relevent, but there was no useful followup:
> http://www.modpython.org/pipermail/mod_python/2001-May/001324.html)
>
> Using the following test script:
> from mod_python import apache
>
> i = 0
> def test(req):
>     req.content_type = "text/html"
>     req.send_http_header ()
>
>     global i
>     req.write (str(i) + "<br>")
>     i += 1
>     return ""
>
> This works as expected until you start refreshing quickly, when the
> counter gets reset.
>
> Why is mod_python reimporting the file?
>
> httpd.conf:
>     SetHandler python-program
>     PythonHandler mod_python.publisher
>     PythonInterpreter main
>     PythonDebug on
>
> Thanks
>
> AGL
>
> --
> Never underestimate the power of a small tactical nuclear weapon.
>
>
>
>
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From piet at cs.uu.nl  Tue Jun 26 05:27:25 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:52:27 2004
Subject: [mod_python] import module via publisher
In-Reply-To: richard hitier's message of "Thu, 21 Jun 2001 09:47:19 +0200"
References: <E6FF52955A377B4983DF1DCBC3B5BB7C04C4F8@atropos.infraware.co.kr>
	<3B2F1B0C.5315F784@netgroup.dk>
	<Pine.HPX.4.21.0106191334090.15973-100000@ask.diku.dk>
	<20010618173733.A10098@joshua.ird.idealx.com>
	<3B2F1B0C.5315F784@netgroup.dk>
	<20010618173733.A10098@joshua.ird.idealx.com>
	<20010618105626.A86475@ravine.binary.net>
	<20010621094719.A480@joshua.ird.idealx.com>
Message-ID: <200106260927.f5Q9RP219850@eden.ispol.com>

>>>>> richard hitier <richard.hitier@idealx.com> (RH) wrote:

RH> in fact, from now on I can tell two points:
RH> (remember I work whith the publisher)

RH> 1?    calling http://my_page/module/fonction

RH> always give me the latest modifications results (whithout restarting
RH> apache at all)

That is because mod_python has special code to check if the module has
changed and should be reloaded.

RH> 2?     But if I call some imported code in my module.fonction()
RH> this will never be updated according to imported module file last
RH> modifications.

That is because you do not use this special check yourself.
You can do:

module = apache.import_module(module_name)
>> 

RH> * Le  19 Jun >Jonas Meyer Rasmussen< ecrivait:
>> 
>> import my.module
>> 
>> def handler( req ):
>> reload( my.module )
>> 
RH> I can't do that since that I'm porting code from zope app to apache app.
RH> And, they import name instead of module:

RH>     from foreign_module import my_name

RH> and this (afaik) canot be reloaded in python.

Yes, you can do it again after reloading the module:

foreign_module = apache.import_module("foreign_module")
from foreign_module import my_name
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl






From grisha at modpython.org  Tue Jun 26 07:18:15 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:52:27 2004
Subject: [mod_python] import module via publisher
In-Reply-To: <200106260927.f5Q9RP219850@eden.ispol.com>
Message-ID: <Pine.BSF.4.32.0106260717370.20735-100000@localhost>

There is something in the FAQ about that as well:

http://www.modpython.org/FAQ/faqw.py?req=show&file=faq03.001.htp

On Tue, 26 Jun 2001 piet@cs.uu.nl wrote:

> >>>>> richard hitier <richard.hitier@idealx.com> (RH) wrote:
>
> RH> in fact, from now on I can tell two points:
> RH> (remember I work whith the publisher)
>
> RH> 1?    calling http://my_page/module/fonction
>
> RH> always give me the latest modifications results (whithout restarting
> RH> apache at all)
>
> That is because mod_python has special code to check if the module has
> changed and should be reloaded.
>
> RH> 2?     But if I call some imported code in my module.fonction()
> RH> this will never be updated according to imported module file last
> RH> modifications.
>
> That is because you do not use this special check yourself.
> You can do:
>
> module = apache.import_module(module_name)
> >>
>
> RH> * Le  19 Jun >Jonas Meyer Rasmussen< ecrivait:
> >>
> >> import my.module
> >>
> >> def handler( req ):
> >> reload( my.module )
> >>
> RH> I can't do that since that I'm porting code from zope app to apache app.
> RH> And, they import name instead of module:
>
> RH>     from foreign_module import my_name
>
> RH> and this (afaik) canot be reloaded in python.
>
> Yes, you can do it again after reloading the module:
>
> foreign_module = apache.import_module("foreign_module")
> from foreign_module import my_name
> --
> Piet van Oostrum <piet@cs.uu.nl>
> URL: http://www.cs.uu.nl/~piet [PGP]
> Private email: P.van.Oostrum@hccnet.nl
>
>
>
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From piet at cs.uu.nl  Tue Jun 26 13:47:49 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:52:27 2004
Subject: [mod_python] import module via publisher
In-Reply-To: "Gregory's message of "Tue, 26 Jun 2001 07:18:15 -0400 (EDT)"
References: <Pine.BSF.4.32.0106260717370.20735-100000@localhost>
Message-ID: <uithjfonu.fsf@cs.uu.nl>

>>>>> "Gregory (Grisha) Trubetskoy" <grisha@modpython.org> (GT) a ?crit:

GT> There is something in the FAQ about that as well:

GT> http://www.modpython.org/FAQ/faqw.py?req=show&file=faq03.001.htp

Thanks.

Maybe you could add that any 
from module import name 
statements should also be repeated after the reload(module).
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From christo at vaix.net  Tue Jun 26 19:52:41 2001
From: christo at vaix.net (Christopher Beatty)
Date: Fri Jan  9 21:52:27 2004
Subject: [mod_python] Mod_Python on Windows
Message-ID: <DCEPLIMPFBBGLDOOHOPKCEHPCAAA.christo@vaix.net>

Well, I installed Mod_Python on my Windows ME machine. I used the directions
for Windows installation in Appendix A of the documentation. When I run the
test script, I get an internal server error. I've checked everything and
can't seem to find exactly what's causing the problem. Here's a snippet from
my apache error log regarding it:

-------------
[Tue Jun 26 19:35:06 2001] [error] python_handler: make_obcallback returned
no obCallBack!
make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.
-------------

I'm running Apache 1.3.20, Python 2.1 and Mod_Python 2.7.4. If anyone could
help me, I would greatly appreciate it.

Keep up the great work,

Chris


From piet at cs.uu.nl  Wed Jun 27 11:34:15 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:52:27 2004
Subject: [mod_python] Mod_Python on Windows
In-Reply-To: "Christopher Beatty"'s message of "Tue, 26 Jun 2001 19:52:41 -0400"
References: <DCEPLIMPFBBGLDOOHOPKCEHPCAAA.christo@vaix.net>
Message-ID: <uels6467c.fsf@cs.uu.nl>

>>>>> "Christopher Beatty" <christo@vaix.net> (CB) writes:

CB> Well, I installed Mod_Python on my Windows ME machine. I used the directions
CB> for Windows installation in Appendix A of the documentation. When I run the
CB> test script, I get an internal server error. I've checked everything and
CB> can't seem to find exactly what's causing the problem. Here's a snippet from
CB> my apache error log regarding it:

CB> -------------
CB> [Tue Jun 26 19:35:06 2001] [error] python_handler: make_obcallback returned
CB> no obCallBack!
CB> make_obcallback(): could not import mod_python.apache.
CB> make_obcallback(): could not call init.
CB> -------------

CB> I'm running Apache 1.3.20, Python 2.1 and Mod_Python 2.7.4. If anyone could
CB> help me, I would greatly appreciate it.

Check if the following files are present:

in your Python directory (i.e. where python.exe is located):

There should be a subdirectory mod_python that contains the following
files:
__init__.py
apache.py
cgihandler.py
httpdapi.py
publisher.py
util.py
zhandler.py
(and possibly the corresponding .pyc or .pyo files)

In your Apache directory in the modules subdirectory there should be
mod_python.dll 
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From jm at eemsystems.cjb.net  Wed Jun 27 14:29:38 2001
From: jm at eemsystems.cjb.net (Julio Mendoza)
Date: Fri Jan  9 21:52:27 2004
Subject: [mod_python] make_obcallback returned no obCallBack!
Message-ID: <20010627142938.A1096@duron750>

I have an error:
make_obcallback(): could not import mod_python.apache.
make_obcallback returned no obCallBack!

What this means?

my systems was working fine, i dont know what happens.


apache error.log

[Wed Jun 27 14:00:14 2001] [notice] suEXEC mechanism enabled (wrapper:
/usr/lib/apache/suexec)
[Wed Jun 27 14:00:14 2001] [info] Server built: Jun 12 2001 13:50:30
make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.
[Wed Jun 27 14:00:21 2001] [error] [client 206.99.125.69] python_handler:
make_obcallback returned no obCallBack!


Package: libapache-mod-python
Version: 1:2.7.3-1

apache httpd.conf

<Directory /pub/web/cgi-bin>
AddHandler python-program .py
PythonHandler mptest
PythonDebug On
</Directory>

From jm at eemsystems.cjb.net  Wed Jun 27 14:52:01 2001
From: jm at eemsystems.cjb.net (Julio Mendoza)
Date: Fri Jan  9 21:52:27 2004
Subject: [mod_python] make_obcallback returned no obCallBack!
In-Reply-To: =?ISO-8859-1?Q?=3C20010627142938=2EA1096=40duron750=3E=3B_from_jm=40eems?=
 =?ISO-8859-1?Q?ystems=2Ecjb=2Enet_on_mi=E9=2C_jun_27=2C_2001_at_14:29:38?=
 =?ISO-8859-1?Q?_-0500?=
References: <20010627142938.A1096@duron750>
Message-ID: <20010627145201.A1190@duron750>

my system is:

[Wed Jun 27 14:48:52 2001] [notice] Apache/1.3.20 (Unix) Debian/GNU
mod_python/2.7.3 Python/2.0 configured -- resuming normal operations
[Wed Jun 27 14:48:52 2001] [notice] suEXEC mechanism enabled (wrapper:
/usr/lib/apache/suexec)
[Wed Jun 27 14:48:52 2001] [info] Server built: Jun 12 2001 13:50:30
make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.




El mi?, 27 jun 2001 14:29:38 Julio Mendoza escribi?:
> 
> I have an error:
> make_obcallback(): could not import mod_python.apache.
> make_obcallback returned no obCallBack!
> 
> What this means?
> 
> my systems was working fine, i dont know what happens.
> 
> 
> apache error.log
> 
> [Wed Jun 27 14:00:14 2001] [notice] suEXEC mechanism enabled (wrapper:
> /usr/lib/apache/suexec)
> [Wed Jun 27 14:00:14 2001] [info] Server built: Jun 12 2001 13:50:30
> make_obcallback(): could not import mod_python.apache.
> make_obcallback(): could not call init.
> [Wed Jun 27 14:00:21 2001] [error] [client 206.99.125.69] python_handler:
> make_obcallback returned no obCallBack!
> 
> 
> Package: libapache-mod-python
> Version: 1:2.7.3-1
> 
> apache httpd.conf
> 
> <Directory /pub/web/cgi-bin>
> AddHandler python-program .py
> PythonHandler mptest
> PythonDebug On
> </Directory>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
> 

-- 
Julio Mendoza
Tel.: 260-0077			icq#: 111066916
Fax : 260-0084			aol : usereem
Cel : 627-1986			msn : juliomendozarivas@hotmail.com

http://eemsystems.cjb.net
Los expertos en Linux.

Open Software, Open Hardware... Open you Mind!

Linux?

http://icewm.themes.org/
http://www.debian.org/ 		http://www.gnome.org/
http://www.ximian.com/ 		http://sourceforge.net/
http://www.kernel.org 		http://www.linuxiso.org/

From jm at eemsystems.cjb.net  Thu Jun 28 12:45:46 2001
From: jm at eemsystems.cjb.net (Julio Mendoza)
Date: Fri Jan  9 21:52:27 2004
Subject: [mod_python] mod_python error
Message-ID: <20010628124546.A408@duron750>

this is my apache error.log

[Thu Jun 28 12:32:21 2001] [notice] Apache/1.3.20 (Unix) Debian/GNU
mod_python/2.7.3 Python/2.0 configured -- resuming normal operations
[Thu Jun 28 12:32:21 2001] [notice] suEXEC mechanism enabled (wrapper:
/usr/lib/apache/suexec)
[Thu Jun 28 12:32:21 2001] [info] Server built: Jun 12 2001 13:50:30
make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.
[Thu Jun 28 12:33:47 2001] [error] [client ] python_handler:
make_obcallback returned no obCallBack!


using the pytho2 idle (idle2) when i put in a script:

from mod_python import apache  ---- this produced an error: can find name
apache ***

when i change this to:

import mod_python.apache ---- the script run fine from the python idle2.


i cant find what the problem is!



-- 


From kbryd at int.gnu.org.pl  Thu Jun 28 19:57:37 2001
From: kbryd at int.gnu.org.pl (Karol Bryd)
Date: Fri Jan  9 21:52:27 2004
Subject: [mod_python] mod_python error
In-Reply-To: <20010628124546.A408@duron750>
Message-ID: <20010628195737.A10677@python.org.pl>

On Thu, Jun 28, 2001 at 12:45:46PM -0500, Julio Mendoza wrote:
> [Thu Jun 28 12:33:47 2001] [error] [client ] python_handler:
> make_obcallback returned no obCallBack!

Funny, I had this problem a moment ago, recompiling mod_python
helped...

PS. I have done a few small benchmarks to compare speed of PHP 4.0.5
and mod_python 2.7.4 - mod_python is at least 2x faster than PHP.
Not bad...

Regards.
-- 
       ------------------- Karol Bryd ------------------
   ---------------- http://int.gnu.org.pl ------------------
-------The general direction of the Alps is straight up.-------

From thehaas at binary.net  Thu Jun 28 14:10:16 2001
From: thehaas at binary.net (Mike Hostetler)
Date: Fri Jan  9 21:52:27 2004
Subject: [mod_python] mod_python speed
In-Reply-To: <20010628195737.A10677@python.org.pl>; from kbryd@int.gnu.org.pl on Thu, Jun 28, 2001 at 07:57:37PM +0200
References: <20010628124546.A408@duron750> <20010628195737.A10677@python.org.pl>
Message-ID: <20010628141016.A34002@ravine.binary.net>

On Thu, Jun 28, 2001 at 07:57:37PM +0200, Karol Bryd wrote:
> PS. I have done a few small benchmarks to compare speed of PHP 4.0.5
> and mod_python 2.7.4 - mod_python is at least 2x faster than PHP.
> Not bad...

I didn't do any benchmarking at all, but I did noticed that mod_python was
faster than PHP, based on user-experience stuff (like "how fast a page loads").
Way to go, guys . . . 

Mike


From richard at ccpgames.com  Thu Jun 28 19:17:36 2001
From: richard at ccpgames.com (Richard)
Date: Fri Jan  9 21:52:27 2004
Subject: [mod_python] mod_python error
Message-ID: <FC15F916EC764C42A4219BC30BFBC072111537@control.central.ccp.cc>

> From: Karol Bryd [mailto:kbryd@int.gnu.org.pl]
> 
> PS. I have done a few small benchmarks to compare speed of PHP 4.0.5
> and mod_python 2.7.4 - mod_python is at least 2x faster than PHP.
> Not bad...

Just out of curiosity, what kind of benchmarking did you do?

Cheers,
Richard.

From jm at eemsystems.cjb.net  Thu Jun 28 16:01:09 2001
From: jm at eemsystems.cjb.net (Julio Mendoza)
Date: Fri Jan  9 21:52:27 2004
Subject: [mod_python] mod_python: there is not solution for this error?
Message-ID: <20010628160109.A559@duron750>


There is not solution for this error:

[Thu Jun 28 15:34:46 2001] [notice] Apache/1.3.20 (Unix) Debian/GNU
mod_python/2.7.3 Python/2.0 configured -- resuming normal operations
[Thu Jun 28 15:34:46 2001] [notice] suEXEC mechanism enabled (wrapper:
/usr/lib/apache/suexec)
[Thu Jun 28 15:34:46 2001] [info] Server built: Jun 12 2001 13:50:30
make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.


From jm at eemsystems.cjb.net  Thu Jun 28 17:35:34 2001
From: jm at eemsystems.cjb.net (Julio Mendoza)
Date: Fri Jan  9 21:52:28 2004
Subject: [mod_python] Re: mod_python error --> Solution
In-Reply-To: <20010628124546.A408@duron750>; from jm@eemsystems.cjb.net on jue, jun 28, 2001 at 12:45:46 -0500
References: <20010628124546.A408@duron750>
Message-ID: <20010628173534.A1775@duron750>

Solution:

1)  apt-get build-dep libapache-mod-python
2) obtain a recent sources from www.modpython.org
3) symblink /usr/bin/python2  --> /usr/bin/python

4) from source of mod_pyton: (readme file)

	 ./configure
	make dso
	make install

This solve my problem.  thank you

I think there is an error in the libapache-mod-python bynary package fron
debian/testing




El jue, 28 jun 2001 12:45:46 Julio Mendoza escribi?:
> this is my apache error.log
> 
> [Thu Jun 28 12:32:21 2001] [notice] Apache/1.3.20 (Unix) Debian/GNU
> mod_python/2.7.3 Python/2.0 configured -- resuming normal operations
> [Thu Jun 28 12:32:21 2001] [notice] suEXEC mechanism enabled (wrapper:
> /usr/lib/apache/suexec)
> [Thu Jun 28 12:32:21 2001] [info] Server built: Jun 12 2001 13:50:30
> make_obcallback(): could not import mod_python.apache.
> make_obcallback(): could not call init.
> [Thu Jun 28 12:33:47 2001] [error] [client ] python_handler:
> make_obcallback returned no obCallBack!
> 
> 
> using the pytho2 idle (idle2) when i put in a script:
> 
> from mod_python import apache  ---- this produced an error: can find name
> apache ***
> 
> when i change this to:
> 
> import mod_python.apache ---- the script run fine from the python idle2.
> 
> 
> i cant find what the problem is!
> 
> 
> 
> -- 
> 
> 
> -- 
> To UNSUBSCRIBE, email to debian-user-request@lists.debian.org 
> with a subject of "unsubscribe". Trouble? Contact
> listmaster@lists.debian.org
> 
> 


From pday at UVic.CA  Thu Jun 28 16:36:00 2001
From: pday at UVic.CA (pday@UVic.CA)
Date: Fri Jan  9 21:52:28 2004
Subject: [mod_python] Solution to make_obcallback() import problems.
Message-ID: <Pine.A41.4.30.0106281607160.19734-100000@unix4.UVic.CA>

Hi all,

I'm fairly new to mod_python stuff and have been pouring through the list
archives and docs looking for a solution.

My setup has more than one python installation. I have stock 1.52,
2.0 and 2.1 versions on my system all of which have threads compiled
in. So I merrily compiled and installed python under my apache
directory which did not have threads. I suspect this is similar for many
of you out there.

This leads to the dreaded:
 make_obcallback(): could not import mod_python.apache.

For a while I relied on PYTHONHOME being set to the mod_python specific
area but this broke all my legacy CGI's that depended on the other
installations of python. So in a desparate measure I came up with the
following patch:

55a56,60
> /* Where the python executeable is stored. This solves the:
>  * make_obcallback(): could not import mod_python.apache.
>  * problem */
> static char* programName = "/usr/local/apache_1.3.20/bin/python";
>
273a279,281
>        /* Set where the executeable of the interpreter is */
>        Py_SetProgramName(programName);
>

This is for version 2.7.5 mod_python.c. You'll have to change programName
according to your installation. It makes sure that Py_SetProgramName is
called before Py_Initialize(). Once that's done the cryptic import errors
will vanish.

I admit this is a total hack and needs some work for official inclusion.
(ie. it would be nice is configure set programName for us automatically.)

Anyhow that's my 2 cent contibution.

Patrick.

PS:

Thanks to Mike Bell for the editting src/Makefile and change OPT=
to OPT=-DEAPI fix.

Also thanks to Damjan Georgievski for his patch to mod_python. It was
great for showing that sys.path was a mess.


From murban at tznet.com  Thu Jun 28 21:31:58 2001
From: murban at tznet.com (Michael C. Urban)
Date: Fri Jan  9 21:52:28 2004
Subject: [mod_python] Configuration problems.
Message-ID: <20010628213157.A41697@kiara.simbalink.org>

Hi,

I just installed mod_python as a DSO, in Apache 1.3.20 under FreeBSD.
The install went fine, and the module seems to load. But when I try to
do the 2.4 Testing section in the manual and add the following lines
to httpd.conf as shown in the manual:


<Directory /some/directory/htdocs/test> 
    AddHandler python-program .py
    PythonHandler mptest 
    PythonDebug On 
</Directory>

I get the following error when trying to start Apache:

Syntax error on line 371 of /usr/local/etc/apache/httpd.conf:
Invalid command 'PythonHandler', perhaps mis-spelled or defined by a
module not included in the server configuration

Anyone have any ideas?

Thanks,

Mike

From murban at tznet.com  Thu Jun 28 21:40:34 2001
From: murban at tznet.com (Michael C. Urban)
Date: Fri Jan  9 21:52:28 2004
Subject: [mod_python] Re: Configuration problems.
In-Reply-To: <20010628213157.A41697@kiara.simbalink.org>; from murban@tznet.com on Thu, Jun 28, 2001 at 09:31:58PM -0500
References: <20010628213157.A41697@kiara.simbalink.org>
Message-ID: <20010628214034.A41825@kiara.simbalink.org>

Oops...

I found the problem and fixed it.

Thanks,

Mike

On Thu, Jun 28, 2001 at 09:31:58PM -0500, Michael C. Urban wrote:
> Hi,
> 
> I just installed mod_python as a DSO, in Apache 1.3.20 under FreeBSD.
> The install went fine, and the module seems to load. But when I try to
> do the 2.4 Testing section in the manual and add the following lines
> to httpd.conf as shown in the manual:
> 
> 
> <Directory /some/directory/htdocs/test> 
>     AddHandler python-program .py
>     PythonHandler mptest 
>     PythonDebug On 
> </Directory>
> 
> I get the following error when trying to start Apache:
> 
> Syntax error on line 371 of /usr/local/etc/apache/httpd.conf:
> Invalid command 'PythonHandler', perhaps mis-spelled or defined by a
> module not included in the server configuration
> 
> Anyone have any ideas?
> 
> Thanks,
> 
> Mike

From grisha at modpython.org  Thu Jun 28 23:59:57 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:52:28 2004
Subject: [mod_python] Configuration problems.
In-Reply-To: <20010628213157.A41697@kiara.simbalink.org>
Message-ID: <Pine.BSF.4.32.0106282354080.67586-100000@localhost>

This means the Module didn't load. You can it the module is loaded or not
with a simple test by telneting to your web server and sending "HEAD /
HTML/1.0" and look for the server to have the mod_python and Python
version in the header. If you don't see it, the module didn't load.
Should look something like this:

$ telnet localhost 80
Trying 127.0.0.1....
Connected to localhost.
Escape character is '^]'.
HEAD / HTTP/1.0

HTTP/1.1 302 Found
Date: Fri, 29 Jun 2001 03:55:37 GMT
Server: Apache/1.3.14 (Unix) mod_ssl/2.7.1 OpenSSL/0.9.6 mod_python/2.7.2 Python/2.0

Grisha


On Thu, 28 Jun 2001, Michael C. Urban wrote:

> Hi,
>
> I just installed mod_python as a DSO, in Apache 1.3.20 under FreeBSD.
> The install went fine, and the module seems to load. But when I try to
> do the 2.4 Testing section in the manual and add the following lines
> to httpd.conf as shown in the manual:
>
>
> <Directory /some/directory/htdocs/test>
>     AddHandler python-program .py
>     PythonHandler mptest
>     PythonDebug On
> </Directory>
>
> I get the following error when trying to start Apache:
>
> Syntax error on line 371 of /usr/local/etc/apache/httpd.conf:
> Invalid command 'PythonHandler', perhaps mis-spelled or defined by a
> module not included in the server configuration
>
> Anyone have any ideas?
>
> Thanks,
>
> Mike
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From kbryd at int.gnu.org.pl  Fri Jun 29 10:16:21 2001
From: kbryd at int.gnu.org.pl (Karol Bryd)
Date: Fri Jan  9 21:52:28 2004
Subject: [mod_python] mod_python error
In-Reply-To: <FC15F916EC764C42A4219BC30BFBC072111537@control.central.ccp.cc>
Message-ID: <20010629101621.A16134@python.org.pl>

On Thu, Jun 28, 2001 at 07:17:36PM -0000, Richard wrote:
> > From: Karol Bryd [mailto:kbryd@int.gnu.org.pl]
> > 
> > PS. I have done a few small benchmarks to compare speed of PHP 4.0.5
> > and mod_python 2.7.4 - mod_python is at least 2x faster than PHP.
> > Not bad...
> 
> Just out of curiosity, what kind of benchmarking did you do?

I know that benchmarks lie, but I couldn't resist ;-)
Here is the first one (and most complex):

def test():                                                              
    start = time()                                              
    tab = {}                                            
    fp = open("/home/kbryd/public_html/python2/data", "r")                       
    n = 0                                                                
    lines = fp.readlines()                                       
    for line in lines:                                   
	fields = split(line, '=')                
        tab[n] = [fields[0], fields[1]]  
        n+=1                     
    fp.close()   
    end = time()                                                                
    return end-start                                                    

(the file is 400KB long)

It was repeated 100 times to calculate average.

Regards.
-- 
       ------------------- Karol Bryd ------------------
   ---------------- http://int.gnu.org.pl ------------------
------There's got to be more to life than compile-and-go.------

From gege at china.com  Fri Jun  1 14:44:11 2001
From: gege at china.com (gege@china.com)
Date: Fri Jan  9 21:58:56 2004
Subject: [mod_python] please update mod_python in official site
Message-ID: <8O989398855588.15009@mail3.china.com>

there isn't windows dll of modpython 2.7.3 for python 2.1 yet in mod_python official site. who can compile it and upload to site? I want it~~ 
************************************
¡Ù—ß“∆√Ò,√‚∑—∆¿π¿.
http://www.mercan.com.cn/mercan2000/china.htm


From cce at clarkevans.com  Sat Jun  2 16:35:50 2001
From: cce at clarkevans.com (Clark C . Evans)
Date: Fri Jan  9 21:58:57 2004
Subject: [mod_python] pyHTML
Message-ID: <20010602163550.B6112@doublegemini.com>

Has anyone made a PyHTML handler?  I have
a user who is PHP familar, and if he/she
could write something similar to a PyHTML
file this would help convert.  *evil grin*

Best,

Clark

From cce at clarkevans.com  Sat Jun  2 20:53:20 2001
From: cce at clarkevans.com (Clark C . Evans)
Date: Fri Jan  9 21:58:57 2004
Subject: [mod_python] Reload and Publisher Handler
Message-ID: <20010602205320.A16333@doublegemini.com>

Hello.  I'm using the publisher handler, and
this works great on the first and subsequent 
runs.  However, if a change is made to the 
source file (for instance the simple test.py
with the say method), then the file is not
reloaded... here is the trace back:

Mod_python error: "PythonHandler mod_python.publisher"

Traceback (most recent call last):

  File "/usr/local/lib/python2.1/site-packages/mod_python/apache.py",
  line 189, in Dispatch
    result = object(self.req)

  File
  "/usr/local/lib/python2.1/site-packages/mod_python/publisher.py",
  line 128, in handler
    module = apache.import_module(module_name, _req, [path])

  File "/usr/local/lib/python2.1/site-packages/mod_python/apache.py",
  line 358, in import_module
    if os.path.exists(filepath[:-1]) :

  File "/usr/local/lib/python2.1/posixpath.py", line 171, in exists
    st = os.stat(path)

OSError: [Errno 2] No such file or directory:
'/sites/clarkevans.com/http/phtest/test.p'


...

It seems to be snipping the "y" at the end of 
the file name....  I'm using apache 1.3.9 with
python ver 1.2 and mod python 2.7.3

Clark


From deneb at unixwave.org  Sun Jun  3 09:40:37 2001
From: deneb at unixwave.org (Giorgio)
Date: Fri Jan  9 21:58:57 2004
Subject: [mod_python] pyHTML
In-Reply-To: <20010602163550.B6112@doublegemini.com>; from cce@clarkevans.com on Sat, Jun 02, 2001 at 04:35:50PM -0500
References: <20010602163550.B6112@doublegemini.com>
Message-ID: <20010603094037.A11581@unixwave.org>

On Sat, Jun 02, 2001, Clark C . Evans wrote:

> 
> Has anyone made a PyHTML handler?  I have
> a user who is PHP familar, and if he/she
> could write something similar to a PyHTML
> file this would help convert.  *evil grin*
You can use ptml.sourceforge.net and adapt it
at the Publisher Handler (in 10 min) and if
you need the PHPlib template in Python 
(http://opensource.dreamware.com/PyTemplate.py) or
if you need the Python server pages you can with more
effort adapt Webware (webware.sourceforge.net) to 
your needs.
 
bye,
Giorgio

From cce at clarkevans.com  Sun Jun  3 14:52:19 2001
From: cce at clarkevans.com (Clark C . Evans)
Date: Fri Jan  9 21:58:57 2004
Subject: [mod_python] Reload and Publisher Handler
In-Reply-To: <20010603094250.B11581@unixwave.org>; from deneb@unixwave.org on Sun, Jun 03, 2001 at 09:42:50AM +0200
References: <20010602205320.A16333@doublegemini.com> <20010603094250.B11581@unixwave.org>
Message-ID: <20010603145219.A31437@doublegemini.com>

Thank you Giorgio, but I still have this same
reload problem with the publisher... I had reversed 
the version number, it is 2.1 instead of 1.2 ;)

Best,

Clark

On Sun, Jun 03, 2001 at 09:42:50AM +0200, Giorgio wrote:
| > It seems to be snipping the "y" at the end of 
| > the file name....  I'm using apache 1.3.9 with
|  python ver 1.2 and mod python 2.7.3
| ^^^^^^^^^^^^^^^^^
| Python ver 1.2? I think you should upgrade you box. 


From grisha at modpython.org  Mon Jun  4 07:57:18 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:58:57 2004
Subject: [mod_python] Re: Win32 threading issue
In-Reply-To: <5.0.2.1.0.20010529202540.034332c0@infratest1>
Message-ID: <Pine.BSF.4.32.0106040756240.80415-100000@localhost>

I was going to wait until I have Python 2.1 stuff figured out, but seeing
that there is a need for this fix to be out, I'll just release it today
and Python 2.1 will have to wait until 2.7.5.

Grisha

On Tue, 29 May 2001, Geoff Talvola wrote:

> Great!  I love it when bugs have already been fixed.
>
> Grisha, are you planning on releasing 2.7.4 any time soon?  If so, I'll
> just wait for it to be released.
>
>
> At 09:03 AM 5/30/01 +1000, Chris Trengove wrote:
> >Geoff,
> >
> >This problem has now been fixed, and I expect will be part of mod_python
> >2.7.4 when Grisha decides to release that. In the mean time, if you have a
> >desperate need to avoid the threading problem, you can access the modified
> >files in the CVS.
> >
> >Chris
> >
> >At 02:04 PM 29/05/2001 -0400, Geoff Talvola wrote:
> > >I just wanted to confirm that I also get the same behavior on Windows -- if
> > >I stress out a simple script like the one below with multiple simultaneous
> > >requests, I get sporadic errors, just as Chris Trengove reported.
> > >
> > >I'd be happy to help diagnose and fix the problem, but I know next to
> > >nothing about Apache and mod_python's internals.  I do have access to VC++
> > >6.0 and I have successfully compiled the mod_python dll (for Python 2.1).
> > >
> > >Where should I go from here?
> > >
> >
> > >- Geoff Talvola
> > >   gtalvola@NameConnector.com
> > >
>
> --
>
> - Geoff Talvola
>    gtalvola@NameConnector.com
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From gtalvola at nameconnector.com  Mon Jun  4 10:30:12 2001
From: gtalvola at nameconnector.com (Geoff Talvola)
Date: Fri Jan  9 21:58:57 2004
Subject: [mod_python] Session data
In-Reply-To: <3B15F56B.67DF1D35@netgroup.dk>
References: <13CDDE6A53DBD311BC3200508B6F0C4805E47E7D@rover.foolhq.com>
Message-ID: <5.1.0.14.0.20010604102651.033cec30@infratest1>

At 09:40 AM 5/31/01 +0200, Bo Lorentsen wrote:
>Chris Hagner wrote:
> > You might want to check out WebWare (webware.sourceforge.net) as an 
> expample
> > web framework that has some session support.  I think they pickle 
> objects to
> > the file system.  There are some other python-based cgi frameworks that 
> also
> > support user sessions, but just be aware of how far such solutions 
> will/will
> > not take you.
>
>I would be nervous about the performance and the real-time aspect by using the
>file system approach, but thanks for the advise, I will look into it.

I believe that Webware stores sessions primarily in memory, but 
periodically pickles inactive sessions to the filesystem to conserve 
RAM.  Also when you stop the app server, it pickles all sessions to disk so 
that it can reload them when you restart it.


--

- Geoff Talvola
   gtalvola@NameConnector.com

From gtalvola at nameconnector.com  Tue Jun  5 18:36:14 2001
From: gtalvola at nameconnector.com (Geoff Talvola)
Date: Fri Jan  9 21:58:57 2004
Subject: [mod_python] Re: Win32 threading issue
In-Reply-To: <Pine.BSF.4.32.0106040756240.80415-100000@localhost>
References: <5.0.2.1.0.20010529202540.034332c0@infratest1>
Message-ID: <5.1.0.14.0.20010605183413.030214e0@infratest1>

At 07:57 AM 6/4/01 -0400, Gregory (Grisha) Trubetskoy wrote:

>I was going to wait until I have Python 2.1 stuff figured out, but seeing
>that there is a need for this fix to be out, I'll just release it today
>and Python 2.1 will have to wait until 2.7.5.

I was able to compile mod_python 2.7.3 for Python 2.1 on Windows with no 
problems, and it seemed to work fine (except for the threading problem of 
course).

Are there particular problems with Python 2.1 that you know of, or should I 
be OK using it?


--

- Geoff Talvola
   gtalvola@NameConnector.com

From grisha at modpython.org  Tue Jun  5 21:35:56 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:58:57 2004
Subject: [mod_python] Re: Win32 threading issue
In-Reply-To: <5.1.0.14.0.20010605183413.030214e0@infratest1>
Message-ID: <Pine.BSF.4.32.0106052134070.4785-100000@localhost>

I'm not aware of any problems, but then I haven't looked at it closely. I
think if it compiled and is giving you no grief, you're cool.

I know that on UNIX some changes will need to be made in the
compile/install steps since mod_python installation relies on some
functionality that has changed in 2.1.

Grisha

On Tue, 5 Jun 2001, Geoff Talvola wrote:

> At 07:57 AM 6/4/01 -0400, Gregory (Grisha) Trubetskoy wrote:
>
> >I was going to wait until I have Python 2.1 stuff figured out, but seeing
> >that there is a need for this fix to be out, I'll just release it today
> >and Python 2.1 will have to wait until 2.7.5.
>
> I was able to compile mod_python 2.7.3 for Python 2.1 on Windows with no
> problems, and it seemed to work fine (except for the threading problem of
> course).
>
> Are there particular problems with Python 2.1 that you know of, or should I
> be OK using it?
>
>
> --
>
> - Geoff Talvola
>    gtalvola@NameConnector.com
>


From jeanphilippe.leboeuf at free.fr  Wed Jun  6 14:36:01 2001
From: jeanphilippe.leboeuf at free.fr (jeanphilippe.leboeuf@free.fr)
Date: Fri Jan  9 21:58:57 2004
Subject: [mod_python] Why not a Python 2.1 version ?
Message-ID: <991830961.3b1e23b1966d6@imp.free.fr>

I try to use Python 2.1, Apache 1.3.20 with mod_python 2.7.4 on Win32... and I 
get a : 

--------------------------------------------------------------------------------
Syntax error on line 212 of c:/winx/apache/conf/httpd.conf:
Cannot load c:/winx/apache/modules/mod_python.dll into server: (1157) Une des bi
blioth?ques n?cessaires ? l'ex?cution de cette application n'a pu ?tre trouv?e:


Note the errors or messages above, and press the <ESC> key to exit.  29...
--------------------------------------------------------------------------------

I thing the problem is that I use Python 2.1 ???

Do I need to compile mod_python ?

Thanks...

From paullb at runbox.com  Wed Jun  6 10:05:48 2001
From: paullb at runbox.com (Brendan Paull)
Date: Fri Jan  9 21:58:57 2004
Subject: [mod_python] Why not a Python 2.1 version ?
In-Reply-To: <991830961.3b1e23b1966d6@imp.free.fr>
Message-ID: <5.0.2.1.2.20010606100409.00a1dec0@pop.runbox.com>

I got a similar thing for Python 2,1 with Apache 1.3.x with mod_python 2.7.3.

Syntax error on line 208 of /etc/httpd/conf/httpd.conf:
Cannot load /usr/lib/apache/mod_python.so into server: undefined symbol: 
pthread_create

any ideas?

Brendan Paull

At 02:36 PM 6/6/01 +0200, you wrote:
>I try to use Python 2.1, Apache 1.3.20 with mod_python 2.7.4 on Win32... 
>and I
>get a :
>
>--------------------------------------------------------------------------------
>Syntax error on line 212 of c:/winx/apache/conf/httpd.conf:
>Cannot load c:/winx/apache/modules/mod_python.dll into server: (1157) Une 
>des bi
>blioth?ques n?cessaires ? l'ex?cution de cette application n'a pu ?tre 
>trouv?e:
>
>
>Note the errors or messages above, and press the <ESC> key to exit.  29...
>--------------------------------------------------------------------------------
>
>I thing the problem is that I use Python 2.1 ???
>
>Do I need to compile mod_python ?
>
>Thanks...
>_______________________________________________
>Mod_python mailing list
>Mod_python@modpython.org
>http://www.modpython.org/mailman/listinfo/mod_python


From thehaas at binary.net  Wed Jun  6 10:35:37 2001
From: thehaas at binary.net (Mike Hostetler)
Date: Fri Jan  9 21:58:57 2004
Subject: [mod_python] Why not a Python 2.1 version ?
In-Reply-To: <5.0.2.1.2.20010606100409.00a1dec0@pop.runbox.com>; from paullb@runbox.com on Wed, Jun 06, 2001 at 10:05:48AM -0700
References: <991830961.3b1e23b1966d6@imp.free.fr> <5.0.2.1.2.20010606100409.00a1dec0@pop.runbox.com>
Message-ID: <20010606103537.A27648@ravine.binary.net>

On Wed, Jun 06, 2001 at 10:05:48AM -0700, Brendan Paull wrote:
> I got a similar thing for Python 2,1 with Apache 1.3.x with mod_python 2.7.3.

I'm using mod_python 2.7.3 with ActivePython 2.1 and Apache 1.3.x with no
problem. 

I'm using it on Solaris . . . if that makes a difference.

Mike

From paullb at runbox.com  Wed Jun  6 15:14:36 2001
From: paullb at runbox.com (Brendan Paull)
Date: Fri Jan  9 21:58:57 2004
Subject: [mod_python] Why not a Python 2.1 version ?
In-Reply-To: <20010606103537.A27648@ravine.binary.net>
References: <5.0.2.1.2.20010606100409.00a1dec0@pop.runbox.com>
 <991830961.3b1e23b1966d6@imp.free.fr>
 <5.0.2.1.2.20010606100409.00a1dec0@pop.runbox.com>
Message-ID: <5.0.2.1.2.20010606151405.00a12ec0@pop.runbox.com>

I forgot to mention that I am using Linux Red Hat 7.0

Brendan

At 10:35 AM 6/6/01 -0500, you wrote:
>On Wed, Jun 06, 2001 at 10:05:48AM -0700, Brendan Paull wrote:
> > I got a similar thing for Python 2,1 with Apache 1.3.x with mod_python 
> 2.7.3.
>
>I'm using mod_python 2.7.3 with ActivePython 2.1 and Apache 1.3.x with no
>problem.
>
>I'm using it on Solaris . . . if that makes a difference.
>
>Mike
>_______________________________________________
>Mod_python mailing list
>Mod_python@modpython.org
>http://www.modpython.org/mailman/listinfo/mod_python


From bl at netgroup.dk  Thu Jun  7 09:20:01 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 21:58:57 2004
Subject: [mod_python] Why not a Python 2.1 version ?
References: <5.0.2.1.2.20010606100409.00a1dec0@pop.runbox.com>
Message-ID: <3B1F2B20.ACDA3673@netgroup.dk>

Brendan Paull wrote:

> I got a similar thing for Python 2,1 with Apache 1.3.x with mod_python 2.7.3.
>
> Syntax error on line 208 of /etc/httpd/conf/httpd.conf:
> Cannot load /usr/lib/apache/mod_python.so into server: undefined symbol:
> pthread_create

This sounds like a missing "-lpthread" while linking the .so file. Is the mod_python
code primary written on a Solaris ?

/BL


From grisha at modpython.org  Thu Jun  7 07:44:16 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:58:57 2004
Subject: [mod_python] Why not a Python 2.1 version ?
In-Reply-To: <991830961.3b1e23b1966d6@imp.free.fr>
Message-ID: <Pine.BSF.4.32.0106070744030.25641-100000@localhost>

Yes, the DLL is for Python 2.0

On Wed, 6 Jun 2001 jeanphilippe.leboeuf@free.fr wrote:

> I try to use Python 2.1, Apache 1.3.20 with mod_python 2.7.4 on Win32... and I
> get a :
>
> --------------------------------------------------------------------------------
> Syntax error on line 212 of c:/winx/apache/conf/httpd.conf:
> Cannot load c:/winx/apache/modules/mod_python.dll into server: (1157) Une des bi
> blioth?ques n?cessaires ? l'ex?cution de cette application n'a pu ?tre trouv?e:
>
>
> Note the errors or messages above, and press the <ESC> key to exit.  29...
> --------------------------------------------------------------------------------
>
> I thing the problem is that I use Python 2.1 ???
>
> Do I need to compile mod_python ?
>
> Thanks...
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From paullb at runbox.com  Thu Jun  7 09:23:07 2001
From: paullb at runbox.com (Brendan Paull)
Date: Fri Jan  9 21:58:57 2004
Subject: [mod_python] Why not a Python 2.1 version ?
In-Reply-To: <3B1F2B20.ACDA3673@netgroup.dk>
References: <5.0.2.1.2.20010606100409.00a1dec0@pop.runbox.com>
Message-ID: <5.0.2.1.2.20010607092215.00a13050@pop.runbox.com>

I'm not sure, I grabbed it from the modpython website: 
http://www.modpython.org/dist/mod_python-2.7.3.tgz

If it is in fact aimed at solaris, what can I do?

Brendan!

At 09:20 AM 6/7/01 +0200, you wrote:
>Brendan Paull wrote:
>
> > I got a similar thing for Python 2,1 with Apache 1.3.x with mod_python 
> 2.7.3.
> >
> > Syntax error on line 208 of /etc/httpd/conf/httpd.conf:
> > Cannot load /usr/lib/apache/mod_python.so into server: undefined symbol:
> > pthread_create
>
>This sounds like a missing "-lpthread" while linking the .so file. Is the 
>mod_python
>code primary written on a Solaris ?
>
>/BL


From grisha at modpython.org  Thu Jun  7 10:01:28 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:58:57 2004
Subject: [mod_python] Why not a Python 2.1 version ?
In-Reply-To: <5.0.2.1.2.20010607092215.00a13050@pop.runbox.com>
Message-ID: <Pine.BSF.4.32.0106070959240.26932-100000@localhost>

Brendan -

When you compiled Python, you should have seen a warning about threads.
Apache uses no threads, whereas most default Python installations do.
Unfortunately, on some systems this makes mod_python and Apache
incompatible.

The solution is to compile Python without threads and build mod_python
against that Python compilation using the --with-python argument to
configure.

Grisha

On Thu, 7 Jun 2001, Brendan Paull wrote:

> I'm not sure, I grabbed it from the modpython website:
> http://www.modpython.org/dist/mod_python-2.7.3.tgz
>
> If it is in fact aimed at solaris, what can I do?
>
> Brendan!
>
> At 09:20 AM 6/7/01 +0200, you wrote:
> >Brendan Paull wrote:
> >
> > > I got a similar thing for Python 2,1 with Apache 1.3.x with mod_python
> > 2.7.3.
> > >
> > > Syntax error on line 208 of /etc/httpd/conf/httpd.conf:
> > > Cannot load /usr/lib/apache/mod_python.so into server: undefined symbol:
> > > pthread_create
> >
> >This sounds like a missing "-lpthread" while linking the .so file. Is the
> >mod_python
> >code primary written on a Solaris ?
> >
> >/BL
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From piet at cs.uu.nl  Thu Jun  7 16:57:39 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:58:57 2004
Subject: [mod_python] Why not a Python 2.1 version ?
In-Reply-To: "Gregory's message of "Thu, 7 Jun 2001 10:01:28 -0400 (EDT)"
References: <Pine.BSF.4.32.0106070959240.26932-100000@localhost>
Message-ID: <uk82os5gc.fsf@cs.uu.nl>

>>>>> "Gregory (Grisha) Trubetskoy" <grisha@modpython.org> (GT) writes:

GT> When you compiled Python, you should have seen a warning about threads.
GT> Apache uses no threads, whereas most default Python installations do.
GT> Unfortunately, on some systems this makes mod_python and Apache
GT> incompatible.

What kind of problems could this give? If Apache is not using threads and
your scripts don't create threads, there should only be one thread even in
a python with threads. So I can't see what problems this could cause.
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From grisha at modpython.org  Thu Jun  7 11:26:16 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:58:57 2004
Subject: [mod_python] Why not a Python 2.1 version ?
In-Reply-To: <uk82os5gc.fsf@cs.uu.nl>
Message-ID: <Pine.BSF.4.32.0106071125270.27732-100000@localhost>

Problems such as:

   Cannot load /usr/lib/apache/mod_python.so into server: undefined
   symbol: pthread_create

Grisha

On 7 Jun 2001 piet@cs.uu.nl wrote:

> >>>>> "Gregory (Grisha) Trubetskoy" <grisha@modpython.org> (GT) writes:
>
> GT> When you compiled Python, you should have seen a warning about threads.
> GT> Apache uses no threads, whereas most default Python installations do.
> GT> Unfortunately, on some systems this makes mod_python and Apache
> GT> incompatible.
>
> What kind of problems could this give? If Apache is not using threads and
> your scripts don't create threads, there should only be one thread even in
> a python with threads. So I can't see what problems this could cause.
> --
> Piet van Oostrum <piet@cs.uu.nl>
> URL: http://www.cs.uu.nl/~piet [PGP]
> Private email: P.van.Oostrum@hccnet.nl
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From litao at photon.poly.edu  Thu Jun  7 20:05:28 2001
From: litao at photon.poly.edu (Tao Li)
Date: Fri Jan  9 21:58:57 2004
Subject: [mod_python] Problem with httpd.conf under NT
Message-ID: <200106080004.UAA14120@photon.poly.edu>

Hi there,

I followed the installation guide in manual and got a message 
'cannot load c:/...../modules/mod_python.dll into server: <126> 
The specified module could not be found'. Does anyone know 
how to solve the problem?. I am a newbie of python&apache. 
Thanks a lot for your help. 

OS: WinNT (SP6)
Apache: 1.3.20
Python: 2.1  



Regards,

Tao Li


    


From bl at netgroup.dk  Fri Jun  8 09:08:33 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 21:58:57 2004
Subject: [mod_python] Why not a Python 2.1 version ?
References: <Pine.BSF.4.32.0106070959240.26932-100000@localhost>
Message-ID: <3B2079F1.9CDB7CE@netgroup.dk>

"Gregory (Grisha) Trubetskoy" wrote:

> Brendan -
>
> When you compiled Python, you should have seen a warning about threads.
> Apache uses no threads, whereas most default Python installations do.
> Unfortunately, on some systems this makes mod_python and Apache
> incompatible.
>
> The solution is to compile Python without threads and build mod_python
> against that Python compilation using the --with-python argument to
> configure.

Couldn't you include "-lpthread" when linking the mod_python file, regardless of
the disability to run threads. If the python script tries to run threads, its the
problem for this particular module but not the entire Python system.

/BL


From piet at cs.uu.nl  Fri Jun  8 11:49:30 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:58:57 2004
Subject: [mod_python] Problem with httpd.conf under NT
In-Reply-To: Tao Li's message of "Thu, 7 Jun 2001 20:5:28 -0500"
References: <200106080004.UAA14120@photon.poly.edu>
Message-ID: <ud78fs3md.fsf@cs.uu.nl>

>>>>> Tao Li <litao@photon.poly.edu> (TL) writes:

TL> Hi there,
TL> I followed the installation guide in manual and got a message 
TL> 'cannot load c:/...../modules/mod_python.dll into server: <126> 
TL> The specified module could not be found'. Does anyone know 
TL> how to solve the problem?. I am a newbie of python&apache. 
TL> Thanks a lot for your help. 

TL> OS: WinNT (SP6)
TL> Apache: 1.3.20
TL> Python: 2.1  

If you have a downloaded DLL, this is not compiled for Python 2.1. So you
have to use Python 2.0 or recompile mod_python for 2.1.
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From michael.jaeger at brainmedia.de  Fri Jun  8 13:36:08 2001
From: michael.jaeger at brainmedia.de (Michael Jaeger)
Date: Fri Jan  9 21:58:57 2004
Subject: [mod_python] Problem with httpd.conf under NT
Message-ID: <3B20B8A8.29525D6E@brainmedia.de>

> If you have a downloaded DLL, this is not compiled for Python 2.1. So
you
> have to use Python 2.0 or recompile mod_python for 2.1.

This seems to be a trivial task for you but obviously not for everybody
on this list, since there are beginners and people who are used to
program in others languages than C/C++. This may sound stupid to you,
but not everyone, not even some 'real' programmers, know how to
recompile mod_python for 2.1.

But sure there are geeks on this list, who know. So _please_ do us the
favour and do this job for us and post a dll for Python 2.1!


From grisha at modpython.org  Fri Jun  8 08:04:23 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:58:57 2004
Subject: [mod_python] Problem with httpd.conf under NT
In-Reply-To: <3B20B8A8.29525D6E@brainmedia.de>
Message-ID: <Pine.BSF.4.32.0106080757140.38800-100000@localhost>

Believe it or not, it's actually not so trivial for me :-)

Not that it's not technically doable, but I don't have a set up and time
to compile all various combinations of Python/Apache versions on a
platform that I myself never use... I'd prefer the compilation was
something a user could do like it's been done on unix always, but M$
obviously doesn't see it this way - they want $$ for the compiler. God
forbid you may actually start writing your own (open source) software -
what would they do? ;-)

Anyhow - if someone would e-mail me a Python 2.1 DLL I'll put it on the
site. Right now I don't have 2.1 sources compiled on windows - I might
make some time to do this, but it isn't highest priority.

Grisha

On Fri, 8 Jun 2001, Michael Jaeger wrote:

> > If you have a downloaded DLL, this is not compiled for Python 2.1. So
> you
> > have to use Python 2.0 or recompile mod_python for 2.1.
>
> This seems to be a trivial task for you but obviously not for everybody
> on this list, since there are beginners and people who are used to
> program in others languages than C/C++. This may sound stupid to you,
> but not everyone, not even some 'real' programmers, know how to
> recompile mod_python for 2.1.
>
> But sure there are geeks on this list, who know. So _please_ do us the
> favour and do this job for us and post a dll for Python 2.1!
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From piet at cs.uu.nl  Fri Jun  8 15:33:02 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:58:57 2004
Subject: [mod_python] Problem with httpd.conf under NT
In-Reply-To: Michael Jaeger's message of "Fri, 08 Jun 2001 13:36:08 +0200"
References: <3B20B8A8.29525D6E@brainmedia.de>
Message-ID: <uiti7qepd.fsf@cs.uu.nl>

>>>>> Michael Jaeger <michael.jaeger@brainmedia.de> (MJ) writes:

>> If you have a downloaded DLL, this is not compiled for Python 2.1. So
>> you have to use Python 2.0 or recompile mod_python for 2.1.

MJ> This seems to be a trivial task for you but obviously not for everybody
MJ> on this list, since there are beginners and people who are used to
MJ> program in others languages than C/C++. This may sound stupid to you,
MJ> but not everyone, not even some 'real' programmers, know how to
MJ> recompile mod_python for 2.1.

MJ> But sure there are geeks on this list, who know. So _please_ do us the
MJ> favour and do this job for us and post a dll for Python 2.1!

No, it's not a trivial task for me, otherwise I would have offered the DLL.
I hesitated adding "or ask someone else to compile it for you" to my
answer. 
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From piet at cs.uu.nl  Fri Jun  8 17:37:36 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:58:57 2004
Subject: [mod_python] Problem with httpd.conf under NT
In-Reply-To: piet@cs.uu.nl's message of "08 Jun 2001 15:33:02 +0200"
References: <3B20B8A8.29525D6E@brainmedia.de> <uiti7qepd.fsf@cs.uu.nl>
Message-ID: <u3d9b3run.fsf@cs.uu.nl>

>>>>> piet@cs.uu.nl (P) writes:

P> No, it's not a trivial task for me, otherwise I would have offered the DLL.
P> I hesitated adding "or ask someone else to compile it for you" to my
P> answer. 

Well, it appeared not to be so difficult after all. I unly had to change
some things in the makefile because the Apache setup apparently changed (I
had no CoreR subdir and the os.h moved to os/win32).

I will send the dll for apache 1.3.20 and python 2.1.

-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From joe at joestump.org  Sun Jun 10 18:33:52 2001
From: joe at joestump.org (Joe Stump)
Date: Fri Jan  9 21:58:57 2004
Subject: [mod_python] mod_ython not parsing python pages.
Message-ID: <20010610183352.G20551@zorka.com>

System:
Debian GNU/Linux
Python installed via apt-get ...

I've put the following in my virtual server def ...

<Directory /python>
  AddHandler python-program .py
  PythonHandler mptest
  PythonDebug On
</Directory>


When I create mptest (according to the faq for testing) it doesn't parse, I 
just get the code. I'm loading the module without any errors in my httpd.conf
but it's just no interpreting the code.

Another question I have is can I add an application type for .py files like
you can in PHP? My server is www.miester.org and the dir is /python

Thanks!

--Joe


Joe Stump <joe@joestump.net>
------------------------------------------------------------------------
"To each his own - My own is GNU/Linux" --Joe Stump

From michael.jaeger at brainmedia.de  Mon Jun 11 09:34:09 2001
From: michael.jaeger at brainmedia.de (Michael Jaeger)
Date: Fri Jan  9 21:58:57 2004
Subject: [mod_python] Problem with httpd.conf under NT
Message-ID: <3B247471.CA0A2B3C@brainmedia.de>

>>>>> piet@cs.uu.nl (P) wrote:

> I will send the dll for apache 1.3.20 and python 2.1.

Just read your mail and saw the dll you posted. Thanks a lot!

Michael




From gdamjan at mail.net.mk  Mon Jun 11 11:07:11 2001
From: gdamjan at mail.net.mk (Damjan)
Date: Fri Jan  9 21:58:57 2004
Subject: [mod_python] mod_ython not parsing python pages.
In-Reply-To: <20010610183352.G20551@zorka.com>; from joe@joestump.org on Sun, Jun 10, 2001 at 06:33:52PM -0500
References: <20010610183352.G20551@zorka.com>
Message-ID: <20010611110711.A30278@legolas.on.net.mk>

> I've put the following in my virtual server def ...
> 
> <Directory /python>
>   AddHandler python-program .py
>   PythonHandler mptest
>   PythonDebug On
> </Directory>

This is OK 
 
> When I create mptest (according to the faq for testing) it doesn't parse, I 
                ~~~~~~
You meen mptest.py don't you?


-- 
Damjan Georgievski		|           ?????? ???????????
Skopje, Macedonia		|           ??????, ??????????

From santhosh at swamicyber.com  Tue Jun 12 15:37:03 2001
From: santhosh at swamicyber.com (Santhosh V)
Date: Fri Jan  9 21:58:57 2004
Subject: [mod_python] mod_python ( apache cannot be started )
Message-ID: <005001c0f327$820650e0$2403a8c0@swamisoft.com>

Hi

I added the following lines to the httpd.conf after installing mod_python ( static compilation )

<Directory /python>
     AddHandler python-program .py
     PythonHandler mptest
    PythonDebug On
 </Directory>

When I start apache I get the following error message.

Syntax error on line 953 of /usr/local/apache/conf/httpd.conf:
Invalid command 'PythonHandler', perhaps mis-spelled or defined by a module not
included in the server configuration
./apachectl start: httpd could not be started  

Please help me out

Regards

Santhosh
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010612/13150a8e/attachment-0002.htm
From joe at joestump.org  Tue Jun 12 09:27:57 2001
From: joe at joestump.org (Joe Stump)
Date: Fri Jan  9 21:58:57 2004
Subject: [mod_python] mod_ython not parsing python pages.
In-Reply-To: <20010611110711.A30278@legolas.on.net.mk>
References: <20010610183352.G20551@zorka.com> <20010611110711.A30278@legolas.on.net.mk>
Message-ID: <20010612092757.F6156@zorka.com>

Yeah i tried the mptest.py - still no luck - but the cgi works fine for me. 
Until I know more Python I'll probably stick with the cgi.

Thanks!

--Joe

On Mon, Jun 11, 2001 at 11:07:11AM +0200, Damjan wrote:
> > I've put the following in my virtual server def ...
> > 
> > <Directory /python>
> >   AddHandler python-program .py
> >   PythonHandler mptest
> >   PythonDebug On
> > </Directory>
> 
> This is OK 
>  
> > When I create mptest (according to the faq for testing) it doesn't parse, I 
>                 ~~~~~~
> You meen mptest.py don't you?
> 
> 
> -- 
> Damjan Georgievski		|           ???????????? ??????????????????????
> Skopje, Macedonia		|           ????????????, ????????????????????
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python

Joe Stump <joe@joestump.net>
------------------------------------------------------------------------
"To each his own - My own is GNU/Linux" --Joe Stump

From kbryd at python.org.pl  Tue Jun 12 18:15:25 2001
From: kbryd at python.org.pl (Karol Bryd)
Date: Fri Jan  9 21:58:57 2004
Subject: [mod_python] index.py as index
Message-ID: <20010612181525.B25838@python.org.pl>

hi!

    This was probably discussed before, but I could't find it in the
archives. I am using mod python with Publisher handler and I would like
to create index page that would be displayed without adding path info to
the URL. In other words :-) normally to display somethig I have to use
URL like this: http://lh/page/index.py/index, but having such an URL as
an index page is not convenient. What I want is to have a page that will
be displayed after typing http://lh/page/ (for example this will call
function index in index.py). How to do it?

Ufff. I hope that you are able to understand it :-)

Regards.
-- 
       ------------------- Karol Bryd ------------------
   ---------------- http://int.gnu.org.pl ------------------
---------Those who can, do.  Those who can't, simulate.---------

From rsalz at zolera.com  Tue Jun 12 13:31:56 2001
From: rsalz at zolera.com (Rich Salz)
Date: Fri Jan  9 21:58:58 2004
Subject: [mod_python] index.py as index
References: <20010612181525.B25838@python.org.pl>
Message-ID: <3B26520C.4832CBA4@zolera.com>

> What I want is to have a page that will
> be displayed after typing http://lh/page/ (for example this will call
> function index in index.py). How to do it?

Edit your Apache config file
	DirectoryIndex index.py index.html
                        ^^^^^^^ add this

From benno at sesgroup.net  Wed Jun 13 10:59:16 2001
From: benno at sesgroup.net (Ben Leslie)
Date: Fri Jan  9 21:58:58 2004
Subject: [mod_python] mod_python ( apache cannot be started )
In-Reply-To: <005001c0f327$820650e0$2403a8c0@swamisoft.com>; from santhosh@swamicyber.com on Tue, Jun 12, 2001 at 03:37:03PM +0530
References: <005001c0f327$820650e0$2403a8c0@swamisoft.com>
Message-ID: <20010613105916.C25554@sesgroup.net>

On Tue, 12 Jun 2001, Santhosh V wrote:

> Hi
> 
> I added the following lines to the httpd.conf after installing mod_python ( static compilation )
> 
> <Directory /python>
>      AddHandler python-program .py
>      PythonHandler mptest
>     PythonDebug On
>  </Directory>

Have you included the mod_python library?

Forget how of the top of my head, but you probably need to have a line
in httpd.conf to specify that you want to load the mod_python library.

Benno

From kbryd at python.org.pl  Wed Jun 13 09:47:41 2001
From: kbryd at python.org.pl (Karol Bryd)
Date: Fri Jan  9 21:58:58 2004
Subject: [mod_python] index.py as index
In-Reply-To: <3B26520C.4832CBA4@zolera.com>
Message-ID: <20010613094741.A1821@python.org.pl>

On Tue, Jun 12, 2001 at 01:31:56PM -0400, Rich Salz wrote:
> > What I want is to have a page that will
> > be displayed after typing http://lh/page/ (for example this will call
> > function index in index.py). How to do it?
> 
> Edit your Apache config file
> 	DirectoryIndex index.py index.html
>                         ^^^^^^^ add this

This is quite obvious but it won't solve my problem with path info, I
will still have to write url like this http://lh/page/?index to call
function named index from index.py. Am I right?

Regards.
-- 
       ------------------- Karol Bryd ------------------
   ---------------- http://int.gnu.org.pl ------------------
----------Anything free is worth what you pay for it.----------

From michael.jaeger at brainmedia.de  Wed Jun 13 11:31:39 2001
From: michael.jaeger at brainmedia.de (Michael Jaeger)
Date: Fri Jan  9 21:58:58 2004
Subject: [mod_python] mod_python ( apache cannot be started )
Message-ID: <3B2732FB.C2F9EB38@brainmedia.de>

 santhosh@swamicyber.com wrote:

> I added the following lines to the httpd.conf after installing
> mod_python ( static compilation )
>
>  <Directory /python>
>     AddHandler python-program .py
>     PythonHandler mptest
>     PythonDebug On
>  </Directory>
>
> When I start apache I get the following error message.
>
> Syntax error on line 953 of /usr/local/apache/conf/httpd.conf:
> Invalid command 'PythonHandler', perhaps mis-spelled or defined by a
> module not
> included in the server configuration
> ./apachectl start: httpd could not be started

Did you add the line

LoadModule python_module modules/mod_python.dll    (if under Windows)
LoadModule python_module libexec/mod_python.so      (if under Linux)

to your http.conf?





From piet at cs.uu.nl  Wed Jun 13 12:59:27 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:58:58 2004
Subject: [mod_python] index.py as index
In-Reply-To: Karol Bryd's message of "Wed, 13 Jun 2001 09:47:41 +0200"
References: <20010613094741.A1821@python.org.pl>
Message-ID: <usnh4r6gg.fsf@cs.uu.nl>

>>>>> Karol Bryd <kbryd@python.org.pl> (KB) writes:

KB> This is quite obvious but it won't solve my problem with path info, I
KB> will still have to write url like this http://lh/page/?index to call
KB> function named index from index.py. Am I right?

I think so.
But why do you want to use the publisher handler for this?
You can make a separate handler for the indexes like this:

DirectoryIndex index.pyx index.html
...
<Directory "...."> 
  AddHandler python-index .pyx
  PythonHandler index 
</Directory>

And then put the indexing code in index.pyx
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From richard.hitier at idealx.com  Wed Jun 13 14:44:58 2001
From: richard.hitier at idealx.com (richard hitier)
Date: Fri Jan  9 21:58:58 2004
Subject: [mod_python] index.py as index
In-Reply-To: <usnh4r6gg.fsf@cs.uu.nl>; from piet@cs.uu.nl on Wed, Jun 13, 2001 at 12:59:27PM +0200
References: <20010613094741.A1821@python.org.pl> <usnh4r6gg.fsf@cs.uu.nl>
Message-ID: <20010613144458.A2825@joshua.ird.idealx.com>

* Le  13 Jun >piet@cs.uu.nl< ecrivait:
> You can make a separate handler for the indexes like this:
in the same directory where the publisher is set ?

> 
> DirectoryIndex index.pyx index.html
> ...
> <Directory "...."> 
>   AddHandler python-index .pyx
is "python-index"  known like "python-program" as handler_name ?

>   PythonHandler index 
> </Directory>
> 
> And then put the indexing code in index.pyx
doesn't work for me :(
I get import error with the ligne 
    AddHandler python-program .pyx

of course, index.pyx can't be imported;
see error in attachement

-- 
Richard Hitier                 PGP Key on pgp.mit.edu
richard.hitier@IDEALX.com	   key 0xD1BAD022
-------------- next part --------------

Mod_python error: "PythonHandler index"

Traceback (innermost last):

  File "/usr/lib/python1.5/site-packages/mod_python/apache.py", line 181, in Dispatch
    module = import_module(module_name, _req)

  File "/usr/lib/python1.5/site-packages/mod_python/apache.py", line 335, in import_module
    f, p, d = imp.find_module(parts[i], path)

ImportError: No module named index

From deneb at unixwave.org  Wed Jun 13 15:09:28 2001
From: deneb at unixwave.org (Giorgio)
Date: Fri Jan  9 21:58:58 2004
Subject: [mod_python] index.py as index
In-Reply-To: <20010613094741.A1821@python.org.pl>; from kbryd@python.org.pl on Wed, Jun 13, 2001 at 09:47:41AM +0200
References: <3B26520C.4832CBA4@zolera.com> <20010613094741.A1821@python.org.pl>
Message-ID: <20010613150927.A582@unixwave.org>

n Wed, Jun 13, 2001, Karol Bryd wrote:

> On Tue, Jun 12, 2001 at 01:31:56PM -0400, Rich Salz wrote:
> > > What I want is to have a page that will
> > > be displayed after typing http://lh/page/ (for example this will call
> > > function index in index.py). How to do it?
> > 
> > Edit your Apache config file
> > 	DirectoryIndex index.py index.html
> >                         ^^^^^^^ add this
> 
> This is quite obvious but it won't solve my problem with path info, I
> will still have to write url like this http://lh/page/?index to call
> function named index from index.py. Am I right?

 in the Apache Virtual host use:

 Redirect / http://www.yourdomain.ext/program.py/function?args=values

 Where :
* www.yourdomain.ext is the web host
* program.py is the program which you want start 
* function is a python function which you want start , and it is in program.py
* args is a parameter to your function.

Note: never trust values. 

Cheers,
Giorgio.

P.S. can be the objects instantiated by url?


From deneb at unixwave.org  Wed Jun 13 15:14:12 2001
From: deneb at unixwave.org (Giorgio)
Date: Fri Jan  9 21:58:58 2004
Subject: [mod_python] index.py as index
In-Reply-To: <usnh4r6gg.fsf@cs.uu.nl>; from piet@cs.uu.nl on Wed, Jun 13, 2001 at 12:59:27PM +0200
References: <20010613094741.A1821@python.org.pl> <usnh4r6gg.fsf@cs.uu.nl>
Message-ID: <20010613151412.A620@unixwave.org>

On Wed, Jun 13, 2001, piet@cs.uu.nl wrote:

> DirectoryIndex index.pyx index.html
> ...
> <Directory "...."> 
>   AddHandler python-index .pyx
>   PythonHandler index 
> </Directory>

But so you don't use mod_publisher in index.pyx, isn't it?
And if i wanna in index.pyx send an email with a form, as
in the mod_python manual?
bye,
Giorgio

From piet at cs.uu.nl  Wed Jun 13 15:39:47 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:58:58 2004
Subject: [mod_python] index.py as index
In-Reply-To: <20010613151412.A620@unixwave.org>
References: <20010613094741.A1821@python.org.pl>
	<usnh4r6gg.fsf@cs.uu.nl>
	<20010613151412.A620@unixwave.org>
Message-ID: <15143.27939.790000.577406@gargle.gargle.HOWL>

>>>>> Giorgio <deneb@unixwave.org> (G) writes:

G> On Wed, Jun 13, 2001, piet@cs.uu.nl wrote:
>> DirectoryIndex index.pyx index.html
>> ...
>> <Directory "...."> 
>> AddHandler python-index .pyx
>> PythonHandler index 
>> </Directory>

G> But so you don't use mod_publisher in index.pyx, isn't it?
G> And if i wanna in index.pyx send an email with a form, as
G> in the mod_python manual?

Sorry, I didn't test enough. It appears that you can have only one
modpython handler (at least in the same directory). And yes,
python-index must still be python-program.
And importing probelms can be avoided by also having index.py

So after all my suggestion doesn't work as I thought.

Maybe publisher should get some default if the path is empty.

What I don't understand why you want to send an email when the
directory is selected. The parameters would come normally from a FORM
but then the action can simply be given as a full path can't it?
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From InternetShops at mail.ru  Wed Jun 13 18:44:49 2001
From: InternetShops at mail.ru (InternetShops@mail.ru)
Date: Fri Jan  9 21:58:58 2004
Subject: [mod_python] ˙·Î·˙ Ó·‰ÂˆÓÔÁÔ Ô‚ÔÚı‰Ô˜·ÓÈÒ ˛ÂÚÂ˙ ÈÓÙÂÚÓÂÙ
Message-ID: <200106131644.SAA10630@tucows.ibershop.com>

An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010613/edea05ed/attachment-0002.htm
From richard.hitier at idealx.com  Thu Jun 14 12:32:31 2001
From: richard.hitier at idealx.com (richard hitier)
Date: Fri Jan  9 21:58:58 2004
Subject: [mod_python] Howto to handle classes ?
Message-ID: <20010614123231.A1606@joshua.ird.idealx.com>

Hi,

is there a way to access classes and theyre methode through an url ?
via the publisher I guess, but how.

http://mydomain/module/fonction?var=value

is ok.

but what about
http://mydomain/module/class.method ?


Thx all: i'm just trying to migrate from zope to mod_python, and this is
my main wall.

-- 
Richard Hitier                 PGP Key on pgp.mit.edu
richard.hitier@IDEALX.com	   key 0xD1BAD022

From grisha at modpython.org  Thu Jun 14 12:21:43 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:58:58 2004
Subject: [mod_python] Howto to handle classes ?
In-Reply-To: <20010614123231.A1606@joshua.ird.idealx.com>
Message-ID: <Pine.BSF.4.32.0106141216150.48777-100000@localhost>

Richard

It's goning to be something along these lines:

http://mydomain/module/instance/method?arg1=value

Grisha

On Thu, 14 Jun 2001, richard hitier wrote:

> Hi,
>
> is there a way to access classes and theyre methode through an url ?
> via the publisher I guess, but how.
>
> http://mydomain/module/fonction?var=value
>
> is ok.
>
> but what about
> http://mydomain/module/class.method ?
>
>
> Thx all: i'm just trying to migrate from zope to mod_python, and this is
> my main wall.
>
> --
> Richard Hitier                 PGP Key on pgp.mit.edu
> richard.hitier@IDEALX.com	   key 0xD1BAD022
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From x at Vex.Net  Sun Jun 17 11:31:43 2001
From: x at Vex.Net (T. Muddletin)
Date: Fri Jan  9 21:58:58 2004
Subject: [mod_python] LogHandler
Message-ID: <390778152.20010617113143@Vex.Net>

I wonder if anyone is doing anything like this with mod_python (if it
is even possible): http://www.webtechniques.com/archives/2000/04/perl/

We really want to log cpu time for requests into a database (along
with everything else)... I don't have that much time to rip apart
mod_python to try and figure it out if it can be done. We'll have to
use the mod_perl (sadly!) just because it is there... unless someone
can set us quickly on the right pythonic path. So I'm just wondering
if anyone else is thinking/doing anything like the above...

-- 
Tim Middleton | Cain Gang Ltd | There are a thousand hacking at the branches
x@veX.net     | www.Vex.Net   | of evil [but who] at the root. --Thoreau (W)


From rsalz at zolera.com  Sun Jun 17 21:16:27 2001
From: rsalz at zolera.com (Rich Salz)
Date: Fri Jan  9 21:58:58 2004
Subject: [mod_python] LogHandler
References: <390778152.20010617113143@Vex.Net>
Message-ID: <3B2D566B.54428011@zolera.com>

> We really want to log cpu time for requests into a database (along
> with everything else)... I don't have that much time to rip apart
> mod_python to try and figure it out if it can be done.

pymysql + os.times(), and you write a handler that wraps around the
"real" one ?
	/r$

From bl at netgroup.dk  Mon Jun 18 11:57:18 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 21:58:58 2004
Subject: [mod_python] Apache crash
Message-ID: <3B2DD07E.3EAD4BF8@netgroup.dk>

Hi ...

There is an FAQ tag about Apache crashing, if not the first module
loaded while using RH. Is there an explanation for this, or is it pure
magic ?

I have seen the same thin happend on a Debian potato (with 2.4.5 kernel
added), and like to know why.

/BL


From richard.hitier at idealx.com  Mon Jun 18 17:37:33 2001
From: richard.hitier at idealx.com (richard hitier)
Date: Fri Jan  9 21:58:58 2004
Subject: [mod_python] import module via publisher
Message-ID: <20010618173733.A10098@joshua.ird.idealx.com>

hi,

I'm a bit disapointed with the mod_python mechanisms of importing
module.

In fact, I'am still wondering how this could work:

some times, whilst the
 import my_module 
line is in, i get nameError or importError from the publisher .

then, after reloading many times the url through the http client (here,
w3m), I finally get my result ok.

But from then, I can modify the imported files, nothing will change
even if i suppress the "import ..." line from my main module,
unless I  shut w3m down and relaunch it.


thx for clues
-- 
Richard Hitier                 PGP Key on pgp.mit.edu
richard.hitier@IDEALX.com	   key 0xD1BAD022

From bl at netgroup.dk  Tue Jun 19 11:27:40 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 21:58:58 2004
Subject: [mod_python] import module via publisher
References: <20010618173733.A10098@joshua.ird.idealx.com>
Message-ID: <3B2F1B0C.5315F784@netgroup.dk>

richard hitier wrote:

> I'm a bit disapointed with the mod_python mechanisms of importing
> module.

I think there is a good explanation for mod_python to act like this.

> In fact, I'am still wondering how this could work:
>
> some times, whilst the
>  import my_module
> line is in, i get nameError or importError from the publisher .

I have the same problem, and I think it's because of a caching algorithm
somewhere (may in python ?)

> then, after reloading many times the url through the http client (here,
> w3m), I finally get my result ok.

Yeps, and sometimes the problem comes back, in the same session :-)

I think that when you request the same page several times it may spawn a
new process that makes it own python pre compile script cache, and
therefor takes in your newly updated code, and therefor works.

There must be an easy way to ether disable this cache of refresh it by
force (other than restarting apache) !

/BL


From meyer at diku.dk  Tue Jun 19 13:36:04 2001
From: meyer at diku.dk (Jonas Meyer Rasmussen)
Date: Fri Jan  9 21:58:58 2004
Subject: [mod_python] import module via publisher
In-Reply-To: <3B2F1B0C.5315F784@netgroup.dk>
Message-ID: <Pine.HPX.4.21.0106191334090.15973-100000@ask.diku.dk>

> There must be an easy way to ether disable this cache of refresh it by
> force (other than restarting apache) !
my code looks like this:

import my.module

def handler( req ):
   reload( my.module )

I'm not using the publisher, but I'm guessing that it works the same way?

Jonas Meyer Rasmussen
meyer@diku.dk



From wart at softhome.net  Tue Jun 19 19:20:00 2001
From: wart at softhome.net (Wartan Hachaturow)
Date: Fri Jan  9 21:58:58 2004
Subject: [mod_python] Any open-source applications?
Message-ID: <20010619192000.A20277@penguin.aktivist.ru>

Hello.

Is there any open source mod_python applications available?
I would like to learn web programming with mod_python, and my
own experience tells me that it's best to use already exisiting 
applications to see how things are done.
So, if anyone would advise me some, I'll be really thankful.

P.S. Right now I know only about PyWM.

P.P.S. And also would anyone suggest me a ready framework for
web-development (based on mod_python, of course)? It seems to
me that it's not the target of mod_python to provide sessions,
persistend database connections, etc..
But Zope is not an option ;-) Too bloated for me.

-- 
Regards, Wartan.
echo "Your stdio isn't very std." 
		-- Larry Wall in Configure from the perl distribution

From deneb at unixwave.org  Tue Jun 19 18:04:36 2001
From: deneb at unixwave.org (Giorgio)
Date: Fri Jan  9 21:58:58 2004
Subject: [mod_python] Any open-source applications?
In-Reply-To: <20010619192000.A20277@penguin.aktivist.ru>; from wart@softhome.net on Tue, Jun 19, 2001 at 07:20:00PM +0400
References: <20010619192000.A20277@penguin.aktivist.ru>
Message-ID: <20010619180436.A2119@unixwave.org>

On Tue, Jun 19, 2001, Wartan Hachaturow wrote:

> Hello.
[snip..]

An Application at: 
http://webware.sourceforge.net 

It has mod_python hooks.And supports every feature that you need.
Optionally you can rip what you need and discard what you don't use.
However it can be useful remember that Apache is not a multi threading
enviroment.

As mod_python application example you can see
maki, at http://maki.sourceforge.net as application written for 
mod_python and xml.

> But Zope is not an option ;-) Too bloated for me.
Personally, I dislike Zope and I like mod-python for 
the following reasons:
the code is clear, least privilege ,too poor Zope security, Zope is
really heavy, but this is only my  opinion.  
 
bye,
Giorgio

From richard.hitier at idealx.com  Thu Jun 21 09:47:19 2001
From: richard.hitier at idealx.com (richard hitier)
Date: Fri Jan  9 21:58:58 2004
Subject: [mod_python] import module via publisher
In-Reply-To: <20010618105626.A86475@ravine.binary.net>; from thehaas@binary.net on Mon, Jun 18, 2001 at 10:56:26AM -0500
References: <E6FF52955A377B4983DF1DCBC3B5BB7C04C4F8@atropos.infraware.co.kr> <3B2F1B0C.5315F784@netgroup.dk> <Pine.HPX.4.21.0106191334090.15973-100000@ask.diku.dk> <20010618173733.A10098@joshua.ird.idealx.com> <3B2F1B0C.5315F784@netgroup.dk> <20010618173733.A10098@joshua.ird.idealx.com> <20010618105626.A86475@ravine.binary.net>
Message-ID: <20010621094719.A480@joshua.ird.idealx.com>

Hi all,
and thanks for your many answers!

* Le  18 Jun >Mike Hostetler< ecrivait:
> 
> I have had this happen too . . . I figured it was some sort of caching with
> either Apache or mod_python.  Or maybe the browser . . . 
in fact I had a local proxy (wwwoffle) that I now pass through with
w3m -no-proxy my_web_page

but I didn't see any difference :(
> 
>  

* Le  19 Jun >Bo Lorentsen< ecrivait:
> I think there is a good explanation for mod_python to act like this.
> 
i guess so too, but I would *love* to know which one ;)


> There must be an easy way to ether disable this cache of refresh it by
> force (other than restarting apache) !
perhaps, but still looking for ...

in fact, from now on I can tell two points:
(remember I work whith the publisher)

1?    calling http://my_page/module/fonction

always give me the latest modifications results (whithout restarting
apache at all)

2?     But if I call some imported code in my module.fonction()
this will never be updated according to imported module file last
modifications.

=> I _have_ to restart apache each time I want my modificationx be
updated.
> 

* Le  19 Jun >Jonas Meyer Rasmussen< ecrivait:
> 
> import my.module
> 
> def handler( req ):
>    reload( my.module )
> 
I can't do that since that I'm porting code from zope app to apache app.
And, they import name instead of module:

    from foreign_module import my_name

and this (afaik) canot be reloaded in python.


Any How, thanks all.
and if I solve my problem I'll let you know.

ciao


-- 
Richard Hitier                 PGP Key on pgp.mit.edu
richard.hitier@IDEALX.com	   key 0xD1BAD022

From tree at basistech.com  Thu Jun 21 09:29:16 2001
From: tree at basistech.com (Tom Emerson)
Date: Fri Jan  9 21:58:58 2004
Subject: [mod_python] "Cannot re-init internal module exceptions"
Message-ID: <15153.63148.824452.424254@cymru.basistech.com>

Greetings.

I'm attempting to get mod_python working with the AHTS template engine
(http://ahts.sourceforge.net) but am not having much luck. In
particular, I get the following error in the server error log (the
full backtrace is below):

[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/Errors.py", line 9, in ?
    import exceptions
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex: ImportError: Cannot re-init internal module exceptions

This is running in the following configuration:

Apache/1.3.19 (Unix) PHP/4.0.4pl1 mod_python/2.7.2 Python/2.0 configured

Anyone have an idea what is happening here? Any ideas on ameliorating this problem?

TIA,

    -tree


[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex: Traceback (most recent call last):
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line 176, in Dispatch
    module = import_module(module_name, _req)
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line 334, in import_module
    module = imp.load_module(mname, f, p, d)
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/opt/www/htdocs/chinlex.py", line 2, in ?
    import MySQLdb, StringIO, ahts
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/__init__.py", line 33, in ?
    from utility import *
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/utility.py", line 29, in ?
    import writer
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/writer.py", line 33, in ?
    from parser import TemplateParser
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/parser.py", line 33, in ?
    from scanner import TemplateScanner
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/scanner.py", line 33, in ?
    from Plex import *
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/__init__.py", line 34, in ?
    from Lexicons import Lexicon, State
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/Lexicons.py", line 13, in ?
    import Errors
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/Errors.py", line 9, in ?
    import exceptions
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex: ImportError: Cannot re-init internal module exceptions

-- 
Tom Emerson                                          Basis Technology Corp.
Sr. Sinostringologist                              http://www.basistech.com
  "Beware the lollipop of mediocrity: lick it once and you suck forever"

From walter at livinglogic.de  Thu Jun 21 17:24:30 2001
From: walter at livinglogic.de (Walter =?iso-8859-1?Q?D=F6rwald?=)
Date: Fri Jan  9 21:58:58 2004
Subject: [mod_python] "Cannot re-init internal module exceptions"
References: <15153.63148.824452.424254@cymru.basistech.com>
Message-ID: <3B3211AE.D34A61DC@livinglogic.de>

Tom Emerson wrote:

> Greetings.
> 
> I'm attempting to get mod_python working with the AHTS template engine
> (http://ahts.sourceforge.net) but am not having much luck. In
> particular, I get the following error in the server error log (the
> full backtrace is below):
> 
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/Errors.py", line 9, in ?
>     import exceptions
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex: ImportError: Cannot re-init internal module exceptions

Could this be related to Python bug #422004?

http://sourceforge.net/tracker/?group_id=5470&atid=105470&func=detail&aid=422004

Bye,
	Walter D?rwald

From tree at basistech.com  Thu Jun 21 12:23:13 2001
From: tree at basistech.com (Tom Emerson)
Date: Fri Jan  9 21:58:58 2004
Subject: [mod_python] "Cannot re-init internal module exceptions"
In-Reply-To: <3B3211AE.D34A61DC@livinglogic.de>
References: <15153.63148.824452.424254@cymru.basistech.com>
	<3B3211AE.D34A61DC@livinglogic.de>
Message-ID: <15154.8049.672235.391169@cymru.basistech.com>

=?iso-8859-1?Q?Walter_D=F6rwald?= writes:
> >     import exceptions
> > [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex: ImportError: Cannot re-init internal module exceptions
> 
> Could this be related to Python bug #422004?
> 
> http://sourceforge.net/tracker/?group_id=5470&atid=105470&func=detail&aid=422004

Yes, it appears to be exactly that problem. After rebuilding Python
with the patch given in the bug report I'm able to use AHTS from
within mod_python. Sweet.

Thanks!

    -tree

-- 
Tom Emerson                                          Basis Technology Corp.
Sr. Sinostringologist                              http://www.basistech.com
  "Beware the lollipop of mediocrity: lick it once and you suck forever"

From sam at webslingerZ.com  Thu Jun 21 13:00:37 2001
From: sam at webslingerZ.com (Sam Brauer)
Date: Fri Jan  9 21:58:58 2004
Subject: [mod_python] "Cannot re-init internal module exceptions"
In-Reply-To: <15153.63148.824452.424254@cymru.basistech.com>
Message-ID: <Pine.LNX.4.31.0106211257460.21947-100000@localhost.localdomain>

When I encountered this in some of my code, I simply removed the "import
exceptions" line and it worked fine.
So try commenting that line out in
$ocal/lib/python2.0/site-packages/ahts/Plex/Errors.py

You will probably need to restart apache to see if it works.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Sam Brauer : Systems Programmer : sam@webslingerZ.com

On Thu, 21 Jun 2001, Tom Emerson wrote:

> Greetings.
>
> I'm attempting to get mod_python working with the AHTS template engine
> (http://ahts.sourceforge.net) but am not having much luck. In
> particular, I get the following error in the server error log (the
> full backtrace is below):
>
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/Errors.py", line 9, in ?
>     import exceptions
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex: ImportError: Cannot re-init internal module exceptions
>
> This is running in the following configuration:
>
> Apache/1.3.19 (Unix) PHP/4.0.4pl1 mod_python/2.7.2 Python/2.0 configured
>
> Anyone have an idea what is happening here? Any ideas on ameliorating this problem?
>
> TIA,
>
>     -tree
>
>
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex: Traceback (most recent call last):
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line 176, in Dispatch
>     module = import_module(module_name, _req)
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line 334, in import_module
>     module = imp.load_module(mname, f, p, d)
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/opt/www/htdocs/chinlex.py", line 2, in ?
>     import MySQLdb, StringIO, ahts
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/__init__.py", line 33, in ?
>     from utility import *
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/utility.py", line 29, in ?
>     import writer
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/writer.py", line 33, in ?
>     from parser import TemplateParser
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/parser.py", line 33, in ?
>     from scanner import TemplateScanner
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/scanner.py", line 33, in ?
>     from Plex import *
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/__init__.py", line 34, in ?
>     from Lexicons import Lexicon, State
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/Lexicons.py", line 13, in ?
>     import Errors
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/Errors.py", line 9, in ?
>     import exceptions
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex: ImportError: Cannot re-init internal module exceptions
>
> --
> Tom Emerson                                          Basis Technology Corp.
> Sr. Sinostringologist                              http://www.basistech.com
>   "Beware the lollipop of mediocrity: lick it once and you suck forever"
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From agl at linuxpower.org  Mon Jun 25 19:16:03 2001
From: agl at linuxpower.org (Adam Langley)
Date: Fri Jan  9 21:58:58 2004
Subject: [mod_python] Reloading of modules
Message-ID: <20010625191603.B1091@linuxpower.org>

(I've searched thru the list archives and the following message seems
to be relevent, but there was no useful followup:
http://www.modpython.org/pipermail/mod_python/2001-May/001324.html)

Using the following test script:
from mod_python import apache

i = 0
def test(req):
    req.content_type = "text/html"
    req.send_http_header ()

    global i
    req.write (str(i) + "<br>")
    i += 1
    return ""

This works as expected until you start refreshing quickly, when the
counter gets reset.

Why is mod_python reimporting the file?

httpd.conf:
    SetHandler python-program
    PythonHandler mod_python.publisher
    PythonInterpreter main
    PythonDebug on

Thanks

AGL

-- 
Never underestimate the power of a small tactical nuclear weapon.







From SumnerH at fool.com  Mon Jun 25 14:28:32 2001
From: SumnerH at fool.com (G . Sumner Hayes)
Date: Fri Jan  9 21:58:58 2004
Subject: [mod_python] Reloading of modules
In-Reply-To: <20010625191603.B1091@linuxpower.org>; from agl@linuxpower.org on Mon, Jun 25, 2001 at 07:16:03PM +0100
References: <20010625191603.B1091@linuxpower.org>
Message-ID: <20010625142832.A14034@fool.com>

Adam Langley <agl@linuxpower.org> wrote:
> from mod_python import apache
> 
> i = 0
> def test(req):
>     req.content_type = "text/html"
>     req.send_http_header ()
> 
>     global i
>     req.write (str(i) + "<br>")
>     i += 1
[SNIP]
> This works as expected until you start refreshing quickly, when the
> counter gets reset.

Each Apache process has its own Python interpreter, and in a
default Apache install each process only handles 50 or 100
requests before exiting.  Which process you get for a particular
page load depends on the OS scheduler and the exact timing, but
on an unloaded machine you can easily hit the same one 10 or more
times in a row.

But in general, you can't keep server-side shared data this way.

  Sumner

From grisha at modpython.org  Mon Jun 25 15:25:03 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:58:59 2004
Subject: [mod_python] Reloading of modules
In-Reply-To: <20010625191603.B1091@linuxpower.org>
Message-ID: <Pine.BSF.4.32.0106251524070.9457-100000@localhost>

This behaviour would be OS specific. On win32 you should see the counter
increasing, on UNIX you will have a counter per process. Which platform
are you on?

On Mon, 25 Jun 2001, Adam Langley wrote:

> (I've searched thru the list archives and the following message seems
> to be relevent, but there was no useful followup:
> http://www.modpython.org/pipermail/mod_python/2001-May/001324.html)
>
> Using the following test script:
> from mod_python import apache
>
> i = 0
> def test(req):
>     req.content_type = "text/html"
>     req.send_http_header ()
>
>     global i
>     req.write (str(i) + "<br>")
>     i += 1
>     return ""
>
> This works as expected until you start refreshing quickly, when the
> counter gets reset.
>
> Why is mod_python reimporting the file?
>
> httpd.conf:
>     SetHandler python-program
>     PythonHandler mod_python.publisher
>     PythonInterpreter main
>     PythonDebug on
>
> Thanks
>
> AGL
>
> --
> Never underestimate the power of a small tactical nuclear weapon.
>
>
>
>
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From piet at cs.uu.nl  Tue Jun 26 05:27:25 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:58:59 2004
Subject: [mod_python] import module via publisher
In-Reply-To: richard hitier's message of "Thu, 21 Jun 2001 09:47:19 +0200"
References: <E6FF52955A377B4983DF1DCBC3B5BB7C04C4F8@atropos.infraware.co.kr>
	<3B2F1B0C.5315F784@netgroup.dk>
	<Pine.HPX.4.21.0106191334090.15973-100000@ask.diku.dk>
	<20010618173733.A10098@joshua.ird.idealx.com>
	<3B2F1B0C.5315F784@netgroup.dk>
	<20010618173733.A10098@joshua.ird.idealx.com>
	<20010618105626.A86475@ravine.binary.net>
	<20010621094719.A480@joshua.ird.idealx.com>
Message-ID: <200106260927.f5Q9RP219850@eden.ispol.com>

>>>>> richard hitier <richard.hitier@idealx.com> (RH) wrote:

RH> in fact, from now on I can tell two points:
RH> (remember I work whith the publisher)

RH> 1?    calling http://my_page/module/fonction

RH> always give me the latest modifications results (whithout restarting
RH> apache at all)

That is because mod_python has special code to check if the module has
changed and should be reloaded.

RH> 2?     But if I call some imported code in my module.fonction()
RH> this will never be updated according to imported module file last
RH> modifications.

That is because you do not use this special check yourself.
You can do:

module = apache.import_module(module_name)
>> 

RH> * Le  19 Jun >Jonas Meyer Rasmussen< ecrivait:
>> 
>> import my.module
>> 
>> def handler( req ):
>> reload( my.module )
>> 
RH> I can't do that since that I'm porting code from zope app to apache app.
RH> And, they import name instead of module:

RH>     from foreign_module import my_name

RH> and this (afaik) canot be reloaded in python.

Yes, you can do it again after reloading the module:

foreign_module = apache.import_module("foreign_module")
from foreign_module import my_name
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl






From grisha at modpython.org  Tue Jun 26 07:18:15 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:58:59 2004
Subject: [mod_python] import module via publisher
In-Reply-To: <200106260927.f5Q9RP219850@eden.ispol.com>
Message-ID: <Pine.BSF.4.32.0106260717370.20735-100000@localhost>

There is something in the FAQ about that as well:

http://www.modpython.org/FAQ/faqw.py?req=show&file=faq03.001.htp

On Tue, 26 Jun 2001 piet@cs.uu.nl wrote:

> >>>>> richard hitier <richard.hitier@idealx.com> (RH) wrote:
>
> RH> in fact, from now on I can tell two points:
> RH> (remember I work whith the publisher)
>
> RH> 1?    calling http://my_page/module/fonction
>
> RH> always give me the latest modifications results (whithout restarting
> RH> apache at all)
>
> That is because mod_python has special code to check if the module has
> changed and should be reloaded.
>
> RH> 2?     But if I call some imported code in my module.fonction()
> RH> this will never be updated according to imported module file last
> RH> modifications.
>
> That is because you do not use this special check yourself.
> You can do:
>
> module = apache.import_module(module_name)
> >>
>
> RH> * Le  19 Jun >Jonas Meyer Rasmussen< ecrivait:
> >>
> >> import my.module
> >>
> >> def handler( req ):
> >> reload( my.module )
> >>
> RH> I can't do that since that I'm porting code from zope app to apache app.
> RH> And, they import name instead of module:
>
> RH>     from foreign_module import my_name
>
> RH> and this (afaik) canot be reloaded in python.
>
> Yes, you can do it again after reloading the module:
>
> foreign_module = apache.import_module("foreign_module")
> from foreign_module import my_name
> --
> Piet van Oostrum <piet@cs.uu.nl>
> URL: http://www.cs.uu.nl/~piet [PGP]
> Private email: P.van.Oostrum@hccnet.nl
>
>
>
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From piet at cs.uu.nl  Tue Jun 26 13:47:49 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:58:59 2004
Subject: [mod_python] import module via publisher
In-Reply-To: "Gregory's message of "Tue, 26 Jun 2001 07:18:15 -0400 (EDT)"
References: <Pine.BSF.4.32.0106260717370.20735-100000@localhost>
Message-ID: <uithjfonu.fsf@cs.uu.nl>

>>>>> "Gregory (Grisha) Trubetskoy" <grisha@modpython.org> (GT) a ?crit:

GT> There is something in the FAQ about that as well:

GT> http://www.modpython.org/FAQ/faqw.py?req=show&file=faq03.001.htp

Thanks.

Maybe you could add that any 
from module import name 
statements should also be repeated after the reload(module).
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From christo at vaix.net  Tue Jun 26 19:52:41 2001
From: christo at vaix.net (Christopher Beatty)
Date: Fri Jan  9 21:58:59 2004
Subject: [mod_python] Mod_Python on Windows
Message-ID: <DCEPLIMPFBBGLDOOHOPKCEHPCAAA.christo@vaix.net>

Well, I installed Mod_Python on my Windows ME machine. I used the directions
for Windows installation in Appendix A of the documentation. When I run the
test script, I get an internal server error. I've checked everything and
can't seem to find exactly what's causing the problem. Here's a snippet from
my apache error log regarding it:

-------------
[Tue Jun 26 19:35:06 2001] [error] python_handler: make_obcallback returned
no obCallBack!
make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.
-------------

I'm running Apache 1.3.20, Python 2.1 and Mod_Python 2.7.4. If anyone could
help me, I would greatly appreciate it.

Keep up the great work,

Chris


From piet at cs.uu.nl  Wed Jun 27 11:34:15 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:58:59 2004
Subject: [mod_python] Mod_Python on Windows
In-Reply-To: "Christopher Beatty"'s message of "Tue, 26 Jun 2001 19:52:41 -0400"
References: <DCEPLIMPFBBGLDOOHOPKCEHPCAAA.christo@vaix.net>
Message-ID: <uels6467c.fsf@cs.uu.nl>

>>>>> "Christopher Beatty" <christo@vaix.net> (CB) writes:

CB> Well, I installed Mod_Python on my Windows ME machine. I used the directions
CB> for Windows installation in Appendix A of the documentation. When I run the
CB> test script, I get an internal server error. I've checked everything and
CB> can't seem to find exactly what's causing the problem. Here's a snippet from
CB> my apache error log regarding it:

CB> -------------
CB> [Tue Jun 26 19:35:06 2001] [error] python_handler: make_obcallback returned
CB> no obCallBack!
CB> make_obcallback(): could not import mod_python.apache.
CB> make_obcallback(): could not call init.
CB> -------------

CB> I'm running Apache 1.3.20, Python 2.1 and Mod_Python 2.7.4. If anyone could
CB> help me, I would greatly appreciate it.

Check if the following files are present:

in your Python directory (i.e. where python.exe is located):

There should be a subdirectory mod_python that contains the following
files:
__init__.py
apache.py
cgihandler.py
httpdapi.py
publisher.py
util.py
zhandler.py
(and possibly the corresponding .pyc or .pyo files)

In your Apache directory in the modules subdirectory there should be
mod_python.dll 
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From jm at eemsystems.cjb.net  Wed Jun 27 14:29:38 2001
From: jm at eemsystems.cjb.net (Julio Mendoza)
Date: Fri Jan  9 21:58:59 2004
Subject: [mod_python] make_obcallback returned no obCallBack!
Message-ID: <20010627142938.A1096@duron750>

I have an error:
make_obcallback(): could not import mod_python.apache.
make_obcallback returned no obCallBack!

What this means?

my systems was working fine, i dont know what happens.


apache error.log

[Wed Jun 27 14:00:14 2001] [notice] suEXEC mechanism enabled (wrapper:
/usr/lib/apache/suexec)
[Wed Jun 27 14:00:14 2001] [info] Server built: Jun 12 2001 13:50:30
make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.
[Wed Jun 27 14:00:21 2001] [error] [client 206.99.125.69] python_handler:
make_obcallback returned no obCallBack!


Package: libapache-mod-python
Version: 1:2.7.3-1

apache httpd.conf

<Directory /pub/web/cgi-bin>
AddHandler python-program .py
PythonHandler mptest
PythonDebug On
</Directory>

From jm at eemsystems.cjb.net  Wed Jun 27 14:52:01 2001
From: jm at eemsystems.cjb.net (Julio Mendoza)
Date: Fri Jan  9 21:58:59 2004
Subject: [mod_python] make_obcallback returned no obCallBack!
In-Reply-To: =?ISO-8859-1?Q?=3C20010627142938=2EA1096=40duron750=3E=3B_from_jm=40eems?=
 =?ISO-8859-1?Q?ystems=2Ecjb=2Enet_on_mi=E9=2C_jun_27=2C_2001_at_14:29:38?=
 =?ISO-8859-1?Q?_-0500?=
References: <20010627142938.A1096@duron750>
Message-ID: <20010627145201.A1190@duron750>

my system is:

[Wed Jun 27 14:48:52 2001] [notice] Apache/1.3.20 (Unix) Debian/GNU
mod_python/2.7.3 Python/2.0 configured -- resuming normal operations
[Wed Jun 27 14:48:52 2001] [notice] suEXEC mechanism enabled (wrapper:
/usr/lib/apache/suexec)
[Wed Jun 27 14:48:52 2001] [info] Server built: Jun 12 2001 13:50:30
make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.




El mi?, 27 jun 2001 14:29:38 Julio Mendoza escribi?:
> 
> I have an error:
> make_obcallback(): could not import mod_python.apache.
> make_obcallback returned no obCallBack!
> 
> What this means?
> 
> my systems was working fine, i dont know what happens.
> 
> 
> apache error.log
> 
> [Wed Jun 27 14:00:14 2001] [notice] suEXEC mechanism enabled (wrapper:
> /usr/lib/apache/suexec)
> [Wed Jun 27 14:00:14 2001] [info] Server built: Jun 12 2001 13:50:30
> make_obcallback(): could not import mod_python.apache.
> make_obcallback(): could not call init.
> [Wed Jun 27 14:00:21 2001] [error] [client 206.99.125.69] python_handler:
> make_obcallback returned no obCallBack!
> 
> 
> Package: libapache-mod-python
> Version: 1:2.7.3-1
> 
> apache httpd.conf
> 
> <Directory /pub/web/cgi-bin>
> AddHandler python-program .py
> PythonHandler mptest
> PythonDebug On
> </Directory>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
> 

-- 
Julio Mendoza
Tel.: 260-0077			icq#: 111066916
Fax : 260-0084			aol : usereem
Cel : 627-1986			msn : juliomendozarivas@hotmail.com

http://eemsystems.cjb.net
Los expertos en Linux.

Open Software, Open Hardware... Open you Mind!

Linux?

http://icewm.themes.org/
http://www.debian.org/ 		http://www.gnome.org/
http://www.ximian.com/ 		http://sourceforge.net/
http://www.kernel.org 		http://www.linuxiso.org/

From jm at eemsystems.cjb.net  Thu Jun 28 12:45:46 2001
From: jm at eemsystems.cjb.net (Julio Mendoza)
Date: Fri Jan  9 21:58:59 2004
Subject: [mod_python] mod_python error
Message-ID: <20010628124546.A408@duron750>

this is my apache error.log

[Thu Jun 28 12:32:21 2001] [notice] Apache/1.3.20 (Unix) Debian/GNU
mod_python/2.7.3 Python/2.0 configured -- resuming normal operations
[Thu Jun 28 12:32:21 2001] [notice] suEXEC mechanism enabled (wrapper:
/usr/lib/apache/suexec)
[Thu Jun 28 12:32:21 2001] [info] Server built: Jun 12 2001 13:50:30
make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.
[Thu Jun 28 12:33:47 2001] [error] [client ] python_handler:
make_obcallback returned no obCallBack!


using the pytho2 idle (idle2) when i put in a script:

from mod_python import apache  ---- this produced an error: can find name
apache ***

when i change this to:

import mod_python.apache ---- the script run fine from the python idle2.


i cant find what the problem is!



-- 


From kbryd at int.gnu.org.pl  Thu Jun 28 19:57:37 2001
From: kbryd at int.gnu.org.pl (Karol Bryd)
Date: Fri Jan  9 21:58:59 2004
Subject: [mod_python] mod_python error
In-Reply-To: <20010628124546.A408@duron750>
Message-ID: <20010628195737.A10677@python.org.pl>

On Thu, Jun 28, 2001 at 12:45:46PM -0500, Julio Mendoza wrote:
> [Thu Jun 28 12:33:47 2001] [error] [client ] python_handler:
> make_obcallback returned no obCallBack!

Funny, I had this problem a moment ago, recompiling mod_python
helped...

PS. I have done a few small benchmarks to compare speed of PHP 4.0.5
and mod_python 2.7.4 - mod_python is at least 2x faster than PHP.
Not bad...

Regards.
-- 
       ------------------- Karol Bryd ------------------
   ---------------- http://int.gnu.org.pl ------------------
-------The general direction of the Alps is straight up.-------

From thehaas at binary.net  Thu Jun 28 14:10:16 2001
From: thehaas at binary.net (Mike Hostetler)
Date: Fri Jan  9 21:58:59 2004
Subject: [mod_python] mod_python speed
In-Reply-To: <20010628195737.A10677@python.org.pl>; from kbryd@int.gnu.org.pl on Thu, Jun 28, 2001 at 07:57:37PM +0200
References: <20010628124546.A408@duron750> <20010628195737.A10677@python.org.pl>
Message-ID: <20010628141016.A34002@ravine.binary.net>

On Thu, Jun 28, 2001 at 07:57:37PM +0200, Karol Bryd wrote:
> PS. I have done a few small benchmarks to compare speed of PHP 4.0.5
> and mod_python 2.7.4 - mod_python is at least 2x faster than PHP.
> Not bad...

I didn't do any benchmarking at all, but I did noticed that mod_python was
faster than PHP, based on user-experience stuff (like "how fast a page loads").
Way to go, guys . . . 

Mike


From richard at ccpgames.com  Thu Jun 28 19:17:36 2001
From: richard at ccpgames.com (Richard)
Date: Fri Jan  9 21:58:59 2004
Subject: [mod_python] mod_python error
Message-ID: <FC15F916EC764C42A4219BC30BFBC072111537@control.central.ccp.cc>

> From: Karol Bryd [mailto:kbryd@int.gnu.org.pl]
> 
> PS. I have done a few small benchmarks to compare speed of PHP 4.0.5
> and mod_python 2.7.4 - mod_python is at least 2x faster than PHP.
> Not bad...

Just out of curiosity, what kind of benchmarking did you do?

Cheers,
Richard.

From jm at eemsystems.cjb.net  Thu Jun 28 16:01:09 2001
From: jm at eemsystems.cjb.net (Julio Mendoza)
Date: Fri Jan  9 21:58:59 2004
Subject: [mod_python] mod_python: there is not solution for this error?
Message-ID: <20010628160109.A559@duron750>


There is not solution for this error:

[Thu Jun 28 15:34:46 2001] [notice] Apache/1.3.20 (Unix) Debian/GNU
mod_python/2.7.3 Python/2.0 configured -- resuming normal operations
[Thu Jun 28 15:34:46 2001] [notice] suEXEC mechanism enabled (wrapper:
/usr/lib/apache/suexec)
[Thu Jun 28 15:34:46 2001] [info] Server built: Jun 12 2001 13:50:30
make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.


From jm at eemsystems.cjb.net  Thu Jun 28 17:35:34 2001
From: jm at eemsystems.cjb.net (Julio Mendoza)
Date: Fri Jan  9 21:58:59 2004
Subject: [mod_python] Re: mod_python error --> Solution
In-Reply-To: <20010628124546.A408@duron750>; from jm@eemsystems.cjb.net on jue, jun 28, 2001 at 12:45:46 -0500
References: <20010628124546.A408@duron750>
Message-ID: <20010628173534.A1775@duron750>

Solution:

1)  apt-get build-dep libapache-mod-python
2) obtain a recent sources from www.modpython.org
3) symblink /usr/bin/python2  --> /usr/bin/python

4) from source of mod_pyton: (readme file)

	 ./configure
	make dso
	make install

This solve my problem.  thank you

I think there is an error in the libapache-mod-python bynary package fron
debian/testing




El jue, 28 jun 2001 12:45:46 Julio Mendoza escribi?:
> this is my apache error.log
> 
> [Thu Jun 28 12:32:21 2001] [notice] Apache/1.3.20 (Unix) Debian/GNU
> mod_python/2.7.3 Python/2.0 configured -- resuming normal operations
> [Thu Jun 28 12:32:21 2001] [notice] suEXEC mechanism enabled (wrapper:
> /usr/lib/apache/suexec)
> [Thu Jun 28 12:32:21 2001] [info] Server built: Jun 12 2001 13:50:30
> make_obcallback(): could not import mod_python.apache.
> make_obcallback(): could not call init.
> [Thu Jun 28 12:33:47 2001] [error] [client ] python_handler:
> make_obcallback returned no obCallBack!
> 
> 
> using the pytho2 idle (idle2) when i put in a script:
> 
> from mod_python import apache  ---- this produced an error: can find name
> apache ***
> 
> when i change this to:
> 
> import mod_python.apache ---- the script run fine from the python idle2.
> 
> 
> i cant find what the problem is!
> 
> 
> 
> -- 
> 
> 
> -- 
> To UNSUBSCRIBE, email to debian-user-request@lists.debian.org 
> with a subject of "unsubscribe". Trouble? Contact
> listmaster@lists.debian.org
> 
> 


From pday at UVic.CA  Thu Jun 28 16:36:00 2001
From: pday at UVic.CA (pday@UVic.CA)
Date: Fri Jan  9 21:58:59 2004
Subject: [mod_python] Solution to make_obcallback() import problems.
Message-ID: <Pine.A41.4.30.0106281607160.19734-100000@unix4.UVic.CA>

Hi all,

I'm fairly new to mod_python stuff and have been pouring through the list
archives and docs looking for a solution.

My setup has more than one python installation. I have stock 1.52,
2.0 and 2.1 versions on my system all of which have threads compiled
in. So I merrily compiled and installed python under my apache
directory which did not have threads. I suspect this is similar for many
of you out there.

This leads to the dreaded:
 make_obcallback(): could not import mod_python.apache.

For a while I relied on PYTHONHOME being set to the mod_python specific
area but this broke all my legacy CGI's that depended on the other
installations of python. So in a desparate measure I came up with the
following patch:

55a56,60
> /* Where the python executeable is stored. This solves the:
>  * make_obcallback(): could not import mod_python.apache.
>  * problem */
> static char* programName = "/usr/local/apache_1.3.20/bin/python";
>
273a279,281
>        /* Set where the executeable of the interpreter is */
>        Py_SetProgramName(programName);
>

This is for version 2.7.5 mod_python.c. You'll have to change programName
according to your installation. It makes sure that Py_SetProgramName is
called before Py_Initialize(). Once that's done the cryptic import errors
will vanish.

I admit this is a total hack and needs some work for official inclusion.
(ie. it would be nice is configure set programName for us automatically.)

Anyhow that's my 2 cent contibution.

Patrick.

PS:

Thanks to Mike Bell for the editting src/Makefile and change OPT=
to OPT=-DEAPI fix.

Also thanks to Damjan Georgievski for his patch to mod_python. It was
great for showing that sys.path was a mess.


From murban at tznet.com  Thu Jun 28 21:31:58 2001
From: murban at tznet.com (Michael C. Urban)
Date: Fri Jan  9 21:58:59 2004
Subject: [mod_python] Configuration problems.
Message-ID: <20010628213157.A41697@kiara.simbalink.org>

Hi,

I just installed mod_python as a DSO, in Apache 1.3.20 under FreeBSD.
The install went fine, and the module seems to load. But when I try to
do the 2.4 Testing section in the manual and add the following lines
to httpd.conf as shown in the manual:


<Directory /some/directory/htdocs/test> 
    AddHandler python-program .py
    PythonHandler mptest 
    PythonDebug On 
</Directory>

I get the following error when trying to start Apache:

Syntax error on line 371 of /usr/local/etc/apache/httpd.conf:
Invalid command 'PythonHandler', perhaps mis-spelled or defined by a
module not included in the server configuration

Anyone have any ideas?

Thanks,

Mike

From murban at tznet.com  Thu Jun 28 21:40:34 2001
From: murban at tznet.com (Michael C. Urban)
Date: Fri Jan  9 21:58:59 2004
Subject: [mod_python] Re: Configuration problems.
In-Reply-To: <20010628213157.A41697@kiara.simbalink.org>; from murban@tznet.com on Thu, Jun 28, 2001 at 09:31:58PM -0500
References: <20010628213157.A41697@kiara.simbalink.org>
Message-ID: <20010628214034.A41825@kiara.simbalink.org>

Oops...

I found the problem and fixed it.

Thanks,

Mike

On Thu, Jun 28, 2001 at 09:31:58PM -0500, Michael C. Urban wrote:
> Hi,
> 
> I just installed mod_python as a DSO, in Apache 1.3.20 under FreeBSD.
> The install went fine, and the module seems to load. But when I try to
> do the 2.4 Testing section in the manual and add the following lines
> to httpd.conf as shown in the manual:
> 
> 
> <Directory /some/directory/htdocs/test> 
>     AddHandler python-program .py
>     PythonHandler mptest 
>     PythonDebug On 
> </Directory>
> 
> I get the following error when trying to start Apache:
> 
> Syntax error on line 371 of /usr/local/etc/apache/httpd.conf:
> Invalid command 'PythonHandler', perhaps mis-spelled or defined by a
> module not included in the server configuration
> 
> Anyone have any ideas?
> 
> Thanks,
> 
> Mike

From grisha at modpython.org  Thu Jun 28 23:59:57 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:58:59 2004
Subject: [mod_python] Configuration problems.
In-Reply-To: <20010628213157.A41697@kiara.simbalink.org>
Message-ID: <Pine.BSF.4.32.0106282354080.67586-100000@localhost>

This means the Module didn't load. You can it the module is loaded or not
with a simple test by telneting to your web server and sending "HEAD /
HTML/1.0" and look for the server to have the mod_python and Python
version in the header. If you don't see it, the module didn't load.
Should look something like this:

$ telnet localhost 80
Trying 127.0.0.1....
Connected to localhost.
Escape character is '^]'.
HEAD / HTTP/1.0

HTTP/1.1 302 Found
Date: Fri, 29 Jun 2001 03:55:37 GMT
Server: Apache/1.3.14 (Unix) mod_ssl/2.7.1 OpenSSL/0.9.6 mod_python/2.7.2 Python/2.0

Grisha


On Thu, 28 Jun 2001, Michael C. Urban wrote:

> Hi,
>
> I just installed mod_python as a DSO, in Apache 1.3.20 under FreeBSD.
> The install went fine, and the module seems to load. But when I try to
> do the 2.4 Testing section in the manual and add the following lines
> to httpd.conf as shown in the manual:
>
>
> <Directory /some/directory/htdocs/test>
>     AddHandler python-program .py
>     PythonHandler mptest
>     PythonDebug On
> </Directory>
>
> I get the following error when trying to start Apache:
>
> Syntax error on line 371 of /usr/local/etc/apache/httpd.conf:
> Invalid command 'PythonHandler', perhaps mis-spelled or defined by a
> module not included in the server configuration
>
> Anyone have any ideas?
>
> Thanks,
>
> Mike
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From kbryd at int.gnu.org.pl  Fri Jun 29 10:16:21 2001
From: kbryd at int.gnu.org.pl (Karol Bryd)
Date: Fri Jan  9 21:58:59 2004
Subject: [mod_python] mod_python error
In-Reply-To: <FC15F916EC764C42A4219BC30BFBC072111537@control.central.ccp.cc>
Message-ID: <20010629101621.A16134@python.org.pl>

On Thu, Jun 28, 2001 at 07:17:36PM -0000, Richard wrote:
> > From: Karol Bryd [mailto:kbryd@int.gnu.org.pl]
> > 
> > PS. I have done a few small benchmarks to compare speed of PHP 4.0.5
> > and mod_python 2.7.4 - mod_python is at least 2x faster than PHP.
> > Not bad...
> 
> Just out of curiosity, what kind of benchmarking did you do?

I know that benchmarks lie, but I couldn't resist ;-)
Here is the first one (and most complex):

def test():                                                              
    start = time()                                              
    tab = {}                                            
    fp = open("/home/kbryd/public_html/python2/data", "r")                       
    n = 0                                                                
    lines = fp.readlines()                                       
    for line in lines:                                   
	fields = split(line, '=')                
        tab[n] = [fields[0], fields[1]]  
        n+=1                     
    fp.close()   
    end = time()                                                                
    return end-start                                                    

(the file is 400KB long)

It was repeated 100 times to calculate average.

Regards.
-- 
       ------------------- Karol Bryd ------------------
   ---------------- http://int.gnu.org.pl ------------------
------There's got to be more to life than compile-and-go.------

From gege at china.com  Fri Jun  1 14:44:11 2001
From: gege at china.com (gege@china.com)
Date: Fri Jan  9 22:02:46 2004
Subject: [mod_python] please update mod_python in official site
Message-ID: <8O989398855588.15009@mail3.china.com>

there isn't windows dll of modpython 2.7.3 for python 2.1 yet in mod_python official site. who can compile it and upload to site? I want it~~ 
************************************
¡Ù—ß“∆√Ò,√‚∑—∆¿π¿.
http://www.mercan.com.cn/mercan2000/china.htm


From cce at clarkevans.com  Sat Jun  2 16:35:50 2001
From: cce at clarkevans.com (Clark C . Evans)
Date: Fri Jan  9 22:02:46 2004
Subject: [mod_python] pyHTML
Message-ID: <20010602163550.B6112@doublegemini.com>

Has anyone made a PyHTML handler?  I have
a user who is PHP familar, and if he/she
could write something similar to a PyHTML
file this would help convert.  *evil grin*

Best,

Clark

From cce at clarkevans.com  Sat Jun  2 20:53:20 2001
From: cce at clarkevans.com (Clark C . Evans)
Date: Fri Jan  9 22:02:46 2004
Subject: [mod_python] Reload and Publisher Handler
Message-ID: <20010602205320.A16333@doublegemini.com>

Hello.  I'm using the publisher handler, and
this works great on the first and subsequent 
runs.  However, if a change is made to the 
source file (for instance the simple test.py
with the say method), then the file is not
reloaded... here is the trace back:

Mod_python error: "PythonHandler mod_python.publisher"

Traceback (most recent call last):

  File "/usr/local/lib/python2.1/site-packages/mod_python/apache.py",
  line 189, in Dispatch
    result = object(self.req)

  File
  "/usr/local/lib/python2.1/site-packages/mod_python/publisher.py",
  line 128, in handler
    module = apache.import_module(module_name, _req, [path])

  File "/usr/local/lib/python2.1/site-packages/mod_python/apache.py",
  line 358, in import_module
    if os.path.exists(filepath[:-1]) :

  File "/usr/local/lib/python2.1/posixpath.py", line 171, in exists
    st = os.stat(path)

OSError: [Errno 2] No such file or directory:
'/sites/clarkevans.com/http/phtest/test.p'


...

It seems to be snipping the "y" at the end of 
the file name....  I'm using apache 1.3.9 with
python ver 1.2 and mod python 2.7.3

Clark


From deneb at unixwave.org  Sun Jun  3 09:40:37 2001
From: deneb at unixwave.org (Giorgio)
Date: Fri Jan  9 22:02:46 2004
Subject: [mod_python] pyHTML
In-Reply-To: <20010602163550.B6112@doublegemini.com>; from cce@clarkevans.com on Sat, Jun 02, 2001 at 04:35:50PM -0500
References: <20010602163550.B6112@doublegemini.com>
Message-ID: <20010603094037.A11581@unixwave.org>

On Sat, Jun 02, 2001, Clark C . Evans wrote:

> 
> Has anyone made a PyHTML handler?  I have
> a user who is PHP familar, and if he/she
> could write something similar to a PyHTML
> file this would help convert.  *evil grin*
You can use ptml.sourceforge.net and adapt it
at the Publisher Handler (in 10 min) and if
you need the PHPlib template in Python 
(http://opensource.dreamware.com/PyTemplate.py) or
if you need the Python server pages you can with more
effort adapt Webware (webware.sourceforge.net) to 
your needs.
 
bye,
Giorgio

From cce at clarkevans.com  Sun Jun  3 14:52:19 2001
From: cce at clarkevans.com (Clark C . Evans)
Date: Fri Jan  9 22:02:46 2004
Subject: [mod_python] Reload and Publisher Handler
In-Reply-To: <20010603094250.B11581@unixwave.org>; from deneb@unixwave.org on Sun, Jun 03, 2001 at 09:42:50AM +0200
References: <20010602205320.A16333@doublegemini.com> <20010603094250.B11581@unixwave.org>
Message-ID: <20010603145219.A31437@doublegemini.com>

Thank you Giorgio, but I still have this same
reload problem with the publisher... I had reversed 
the version number, it is 2.1 instead of 1.2 ;)

Best,

Clark

On Sun, Jun 03, 2001 at 09:42:50AM +0200, Giorgio wrote:
| > It seems to be snipping the "y" at the end of 
| > the file name....  I'm using apache 1.3.9 with
|  python ver 1.2 and mod python 2.7.3
| ^^^^^^^^^^^^^^^^^
| Python ver 1.2? I think you should upgrade you box. 


From grisha at modpython.org  Mon Jun  4 07:57:18 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 22:02:46 2004
Subject: [mod_python] Re: Win32 threading issue
In-Reply-To: <5.0.2.1.0.20010529202540.034332c0@infratest1>
Message-ID: <Pine.BSF.4.32.0106040756240.80415-100000@localhost>

I was going to wait until I have Python 2.1 stuff figured out, but seeing
that there is a need for this fix to be out, I'll just release it today
and Python 2.1 will have to wait until 2.7.5.

Grisha

On Tue, 29 May 2001, Geoff Talvola wrote:

> Great!  I love it when bugs have already been fixed.
>
> Grisha, are you planning on releasing 2.7.4 any time soon?  If so, I'll
> just wait for it to be released.
>
>
> At 09:03 AM 5/30/01 +1000, Chris Trengove wrote:
> >Geoff,
> >
> >This problem has now been fixed, and I expect will be part of mod_python
> >2.7.4 when Grisha decides to release that. In the mean time, if you have a
> >desperate need to avoid the threading problem, you can access the modified
> >files in the CVS.
> >
> >Chris
> >
> >At 02:04 PM 29/05/2001 -0400, Geoff Talvola wrote:
> > >I just wanted to confirm that I also get the same behavior on Windows -- if
> > >I stress out a simple script like the one below with multiple simultaneous
> > >requests, I get sporadic errors, just as Chris Trengove reported.
> > >
> > >I'd be happy to help diagnose and fix the problem, but I know next to
> > >nothing about Apache and mod_python's internals.  I do have access to VC++
> > >6.0 and I have successfully compiled the mod_python dll (for Python 2.1).
> > >
> > >Where should I go from here?
> > >
> >
> > >- Geoff Talvola
> > >   gtalvola@NameConnector.com
> > >
>
> --
>
> - Geoff Talvola
>    gtalvola@NameConnector.com
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From gtalvola at nameconnector.com  Mon Jun  4 10:30:12 2001
From: gtalvola at nameconnector.com (Geoff Talvola)
Date: Fri Jan  9 22:02:46 2004
Subject: [mod_python] Session data
In-Reply-To: <3B15F56B.67DF1D35@netgroup.dk>
References: <13CDDE6A53DBD311BC3200508B6F0C4805E47E7D@rover.foolhq.com>
Message-ID: <5.1.0.14.0.20010604102651.033cec30@infratest1>

At 09:40 AM 5/31/01 +0200, Bo Lorentsen wrote:
>Chris Hagner wrote:
> > You might want to check out WebWare (webware.sourceforge.net) as an 
> expample
> > web framework that has some session support.  I think they pickle 
> objects to
> > the file system.  There are some other python-based cgi frameworks that 
> also
> > support user sessions, but just be aware of how far such solutions 
> will/will
> > not take you.
>
>I would be nervous about the performance and the real-time aspect by using the
>file system approach, but thanks for the advise, I will look into it.

I believe that Webware stores sessions primarily in memory, but 
periodically pickles inactive sessions to the filesystem to conserve 
RAM.  Also when you stop the app server, it pickles all sessions to disk so 
that it can reload them when you restart it.


--

- Geoff Talvola
   gtalvola@NameConnector.com

From gtalvola at nameconnector.com  Tue Jun  5 18:36:14 2001
From: gtalvola at nameconnector.com (Geoff Talvola)
Date: Fri Jan  9 22:02:46 2004
Subject: [mod_python] Re: Win32 threading issue
In-Reply-To: <Pine.BSF.4.32.0106040756240.80415-100000@localhost>
References: <5.0.2.1.0.20010529202540.034332c0@infratest1>
Message-ID: <5.1.0.14.0.20010605183413.030214e0@infratest1>

At 07:57 AM 6/4/01 -0400, Gregory (Grisha) Trubetskoy wrote:

>I was going to wait until I have Python 2.1 stuff figured out, but seeing
>that there is a need for this fix to be out, I'll just release it today
>and Python 2.1 will have to wait until 2.7.5.

I was able to compile mod_python 2.7.3 for Python 2.1 on Windows with no 
problems, and it seemed to work fine (except for the threading problem of 
course).

Are there particular problems with Python 2.1 that you know of, or should I 
be OK using it?


--

- Geoff Talvola
   gtalvola@NameConnector.com

From grisha at modpython.org  Tue Jun  5 21:35:56 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 22:02:46 2004
Subject: [mod_python] Re: Win32 threading issue
In-Reply-To: <5.1.0.14.0.20010605183413.030214e0@infratest1>
Message-ID: <Pine.BSF.4.32.0106052134070.4785-100000@localhost>

I'm not aware of any problems, but then I haven't looked at it closely. I
think if it compiled and is giving you no grief, you're cool.

I know that on UNIX some changes will need to be made in the
compile/install steps since mod_python installation relies on some
functionality that has changed in 2.1.

Grisha

On Tue, 5 Jun 2001, Geoff Talvola wrote:

> At 07:57 AM 6/4/01 -0400, Gregory (Grisha) Trubetskoy wrote:
>
> >I was going to wait until I have Python 2.1 stuff figured out, but seeing
> >that there is a need for this fix to be out, I'll just release it today
> >and Python 2.1 will have to wait until 2.7.5.
>
> I was able to compile mod_python 2.7.3 for Python 2.1 on Windows with no
> problems, and it seemed to work fine (except for the threading problem of
> course).
>
> Are there particular problems with Python 2.1 that you know of, or should I
> be OK using it?
>
>
> --
>
> - Geoff Talvola
>    gtalvola@NameConnector.com
>


From jeanphilippe.leboeuf at free.fr  Wed Jun  6 14:36:01 2001
From: jeanphilippe.leboeuf at free.fr (jeanphilippe.leboeuf@free.fr)
Date: Fri Jan  9 22:02:46 2004
Subject: [mod_python] Why not a Python 2.1 version ?
Message-ID: <991830961.3b1e23b1966d6@imp.free.fr>

I try to use Python 2.1, Apache 1.3.20 with mod_python 2.7.4 on Win32... and I 
get a : 

--------------------------------------------------------------------------------
Syntax error on line 212 of c:/winx/apache/conf/httpd.conf:
Cannot load c:/winx/apache/modules/mod_python.dll into server: (1157) Une des bi
blioth?ques n?cessaires ? l'ex?cution de cette application n'a pu ?tre trouv?e:


Note the errors or messages above, and press the <ESC> key to exit.  29...
--------------------------------------------------------------------------------

I thing the problem is that I use Python 2.1 ???

Do I need to compile mod_python ?

Thanks...

From paullb at runbox.com  Wed Jun  6 10:05:48 2001
From: paullb at runbox.com (Brendan Paull)
Date: Fri Jan  9 22:02:46 2004
Subject: [mod_python] Why not a Python 2.1 version ?
In-Reply-To: <991830961.3b1e23b1966d6@imp.free.fr>
Message-ID: <5.0.2.1.2.20010606100409.00a1dec0@pop.runbox.com>

I got a similar thing for Python 2,1 with Apache 1.3.x with mod_python 2.7.3.

Syntax error on line 208 of /etc/httpd/conf/httpd.conf:
Cannot load /usr/lib/apache/mod_python.so into server: undefined symbol: 
pthread_create

any ideas?

Brendan Paull

At 02:36 PM 6/6/01 +0200, you wrote:
>I try to use Python 2.1, Apache 1.3.20 with mod_python 2.7.4 on Win32... 
>and I
>get a :
>
>--------------------------------------------------------------------------------
>Syntax error on line 212 of c:/winx/apache/conf/httpd.conf:
>Cannot load c:/winx/apache/modules/mod_python.dll into server: (1157) Une 
>des bi
>blioth?ques n?cessaires ? l'ex?cution de cette application n'a pu ?tre 
>trouv?e:
>
>
>Note the errors or messages above, and press the <ESC> key to exit.  29...
>--------------------------------------------------------------------------------
>
>I thing the problem is that I use Python 2.1 ???
>
>Do I need to compile mod_python ?
>
>Thanks...
>_______________________________________________
>Mod_python mailing list
>Mod_python@modpython.org
>http://www.modpython.org/mailman/listinfo/mod_python


From thehaas at binary.net  Wed Jun  6 10:35:37 2001
From: thehaas at binary.net (Mike Hostetler)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] Why not a Python 2.1 version ?
In-Reply-To: <5.0.2.1.2.20010606100409.00a1dec0@pop.runbox.com>; from paullb@runbox.com on Wed, Jun 06, 2001 at 10:05:48AM -0700
References: <991830961.3b1e23b1966d6@imp.free.fr> <5.0.2.1.2.20010606100409.00a1dec0@pop.runbox.com>
Message-ID: <20010606103537.A27648@ravine.binary.net>

On Wed, Jun 06, 2001 at 10:05:48AM -0700, Brendan Paull wrote:
> I got a similar thing for Python 2,1 with Apache 1.3.x with mod_python 2.7.3.

I'm using mod_python 2.7.3 with ActivePython 2.1 and Apache 1.3.x with no
problem. 

I'm using it on Solaris . . . if that makes a difference.

Mike

From paullb at runbox.com  Wed Jun  6 15:14:36 2001
From: paullb at runbox.com (Brendan Paull)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] Why not a Python 2.1 version ?
In-Reply-To: <20010606103537.A27648@ravine.binary.net>
References: <5.0.2.1.2.20010606100409.00a1dec0@pop.runbox.com>
 <991830961.3b1e23b1966d6@imp.free.fr>
 <5.0.2.1.2.20010606100409.00a1dec0@pop.runbox.com>
Message-ID: <5.0.2.1.2.20010606151405.00a12ec0@pop.runbox.com>

I forgot to mention that I am using Linux Red Hat 7.0

Brendan

At 10:35 AM 6/6/01 -0500, you wrote:
>On Wed, Jun 06, 2001 at 10:05:48AM -0700, Brendan Paull wrote:
> > I got a similar thing for Python 2,1 with Apache 1.3.x with mod_python 
> 2.7.3.
>
>I'm using mod_python 2.7.3 with ActivePython 2.1 and Apache 1.3.x with no
>problem.
>
>I'm using it on Solaris . . . if that makes a difference.
>
>Mike
>_______________________________________________
>Mod_python mailing list
>Mod_python@modpython.org
>http://www.modpython.org/mailman/listinfo/mod_python


From bl at netgroup.dk  Thu Jun  7 09:20:01 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] Why not a Python 2.1 version ?
References: <5.0.2.1.2.20010606100409.00a1dec0@pop.runbox.com>
Message-ID: <3B1F2B20.ACDA3673@netgroup.dk>

Brendan Paull wrote:

> I got a similar thing for Python 2,1 with Apache 1.3.x with mod_python 2.7.3.
>
> Syntax error on line 208 of /etc/httpd/conf/httpd.conf:
> Cannot load /usr/lib/apache/mod_python.so into server: undefined symbol:
> pthread_create

This sounds like a missing "-lpthread" while linking the .so file. Is the mod_python
code primary written on a Solaris ?

/BL


From grisha at modpython.org  Thu Jun  7 07:44:16 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] Why not a Python 2.1 version ?
In-Reply-To: <991830961.3b1e23b1966d6@imp.free.fr>
Message-ID: <Pine.BSF.4.32.0106070744030.25641-100000@localhost>

Yes, the DLL is for Python 2.0

On Wed, 6 Jun 2001 jeanphilippe.leboeuf@free.fr wrote:

> I try to use Python 2.1, Apache 1.3.20 with mod_python 2.7.4 on Win32... and I
> get a :
>
> --------------------------------------------------------------------------------
> Syntax error on line 212 of c:/winx/apache/conf/httpd.conf:
> Cannot load c:/winx/apache/modules/mod_python.dll into server: (1157) Une des bi
> blioth?ques n?cessaires ? l'ex?cution de cette application n'a pu ?tre trouv?e:
>
>
> Note the errors or messages above, and press the <ESC> key to exit.  29...
> --------------------------------------------------------------------------------
>
> I thing the problem is that I use Python 2.1 ???
>
> Do I need to compile mod_python ?
>
> Thanks...
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From paullb at runbox.com  Thu Jun  7 09:23:07 2001
From: paullb at runbox.com (Brendan Paull)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] Why not a Python 2.1 version ?
In-Reply-To: <3B1F2B20.ACDA3673@netgroup.dk>
References: <5.0.2.1.2.20010606100409.00a1dec0@pop.runbox.com>
Message-ID: <5.0.2.1.2.20010607092215.00a13050@pop.runbox.com>

I'm not sure, I grabbed it from the modpython website: 
http://www.modpython.org/dist/mod_python-2.7.3.tgz

If it is in fact aimed at solaris, what can I do?

Brendan!

At 09:20 AM 6/7/01 +0200, you wrote:
>Brendan Paull wrote:
>
> > I got a similar thing for Python 2,1 with Apache 1.3.x with mod_python 
> 2.7.3.
> >
> > Syntax error on line 208 of /etc/httpd/conf/httpd.conf:
> > Cannot load /usr/lib/apache/mod_python.so into server: undefined symbol:
> > pthread_create
>
>This sounds like a missing "-lpthread" while linking the .so file. Is the 
>mod_python
>code primary written on a Solaris ?
>
>/BL


From grisha at modpython.org  Thu Jun  7 10:01:28 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] Why not a Python 2.1 version ?
In-Reply-To: <5.0.2.1.2.20010607092215.00a13050@pop.runbox.com>
Message-ID: <Pine.BSF.4.32.0106070959240.26932-100000@localhost>

Brendan -

When you compiled Python, you should have seen a warning about threads.
Apache uses no threads, whereas most default Python installations do.
Unfortunately, on some systems this makes mod_python and Apache
incompatible.

The solution is to compile Python without threads and build mod_python
against that Python compilation using the --with-python argument to
configure.

Grisha

On Thu, 7 Jun 2001, Brendan Paull wrote:

> I'm not sure, I grabbed it from the modpython website:
> http://www.modpython.org/dist/mod_python-2.7.3.tgz
>
> If it is in fact aimed at solaris, what can I do?
>
> Brendan!
>
> At 09:20 AM 6/7/01 +0200, you wrote:
> >Brendan Paull wrote:
> >
> > > I got a similar thing for Python 2,1 with Apache 1.3.x with mod_python
> > 2.7.3.
> > >
> > > Syntax error on line 208 of /etc/httpd/conf/httpd.conf:
> > > Cannot load /usr/lib/apache/mod_python.so into server: undefined symbol:
> > > pthread_create
> >
> >This sounds like a missing "-lpthread" while linking the .so file. Is the
> >mod_python
> >code primary written on a Solaris ?
> >
> >/BL
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From piet at cs.uu.nl  Thu Jun  7 16:57:39 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] Why not a Python 2.1 version ?
In-Reply-To: "Gregory's message of "Thu, 7 Jun 2001 10:01:28 -0400 (EDT)"
References: <Pine.BSF.4.32.0106070959240.26932-100000@localhost>
Message-ID: <uk82os5gc.fsf@cs.uu.nl>

>>>>> "Gregory (Grisha) Trubetskoy" <grisha@modpython.org> (GT) writes:

GT> When you compiled Python, you should have seen a warning about threads.
GT> Apache uses no threads, whereas most default Python installations do.
GT> Unfortunately, on some systems this makes mod_python and Apache
GT> incompatible.

What kind of problems could this give? If Apache is not using threads and
your scripts don't create threads, there should only be one thread even in
a python with threads. So I can't see what problems this could cause.
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From grisha at modpython.org  Thu Jun  7 11:26:16 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] Why not a Python 2.1 version ?
In-Reply-To: <uk82os5gc.fsf@cs.uu.nl>
Message-ID: <Pine.BSF.4.32.0106071125270.27732-100000@localhost>

Problems such as:

   Cannot load /usr/lib/apache/mod_python.so into server: undefined
   symbol: pthread_create

Grisha

On 7 Jun 2001 piet@cs.uu.nl wrote:

> >>>>> "Gregory (Grisha) Trubetskoy" <grisha@modpython.org> (GT) writes:
>
> GT> When you compiled Python, you should have seen a warning about threads.
> GT> Apache uses no threads, whereas most default Python installations do.
> GT> Unfortunately, on some systems this makes mod_python and Apache
> GT> incompatible.
>
> What kind of problems could this give? If Apache is not using threads and
> your scripts don't create threads, there should only be one thread even in
> a python with threads. So I can't see what problems this could cause.
> --
> Piet van Oostrum <piet@cs.uu.nl>
> URL: http://www.cs.uu.nl/~piet [PGP]
> Private email: P.van.Oostrum@hccnet.nl
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From litao at photon.poly.edu  Thu Jun  7 20:05:28 2001
From: litao at photon.poly.edu (Tao Li)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] Problem with httpd.conf under NT
Message-ID: <200106080004.UAA14120@photon.poly.edu>

Hi there,

I followed the installation guide in manual and got a message 
'cannot load c:/...../modules/mod_python.dll into server: <126> 
The specified module could not be found'. Does anyone know 
how to solve the problem?. I am a newbie of python&apache. 
Thanks a lot for your help. 

OS: WinNT (SP6)
Apache: 1.3.20
Python: 2.1  



Regards,

Tao Li


    


From bl at netgroup.dk  Fri Jun  8 09:08:33 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] Why not a Python 2.1 version ?
References: <Pine.BSF.4.32.0106070959240.26932-100000@localhost>
Message-ID: <3B2079F1.9CDB7CE@netgroup.dk>

"Gregory (Grisha) Trubetskoy" wrote:

> Brendan -
>
> When you compiled Python, you should have seen a warning about threads.
> Apache uses no threads, whereas most default Python installations do.
> Unfortunately, on some systems this makes mod_python and Apache
> incompatible.
>
> The solution is to compile Python without threads and build mod_python
> against that Python compilation using the --with-python argument to
> configure.

Couldn't you include "-lpthread" when linking the mod_python file, regardless of
the disability to run threads. If the python script tries to run threads, its the
problem for this particular module but not the entire Python system.

/BL


From piet at cs.uu.nl  Fri Jun  8 11:49:30 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] Problem with httpd.conf under NT
In-Reply-To: Tao Li's message of "Thu, 7 Jun 2001 20:5:28 -0500"
References: <200106080004.UAA14120@photon.poly.edu>
Message-ID: <ud78fs3md.fsf@cs.uu.nl>

>>>>> Tao Li <litao@photon.poly.edu> (TL) writes:

TL> Hi there,
TL> I followed the installation guide in manual and got a message 
TL> 'cannot load c:/...../modules/mod_python.dll into server: <126> 
TL> The specified module could not be found'. Does anyone know 
TL> how to solve the problem?. I am a newbie of python&apache. 
TL> Thanks a lot for your help. 

TL> OS: WinNT (SP6)
TL> Apache: 1.3.20
TL> Python: 2.1  

If you have a downloaded DLL, this is not compiled for Python 2.1. So you
have to use Python 2.0 or recompile mod_python for 2.1.
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From michael.jaeger at brainmedia.de  Fri Jun  8 13:36:08 2001
From: michael.jaeger at brainmedia.de (Michael Jaeger)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] Problem with httpd.conf under NT
Message-ID: <3B20B8A8.29525D6E@brainmedia.de>

> If you have a downloaded DLL, this is not compiled for Python 2.1. So
you
> have to use Python 2.0 or recompile mod_python for 2.1.

This seems to be a trivial task for you but obviously not for everybody
on this list, since there are beginners and people who are used to
program in others languages than C/C++. This may sound stupid to you,
but not everyone, not even some 'real' programmers, know how to
recompile mod_python for 2.1.

But sure there are geeks on this list, who know. So _please_ do us the
favour and do this job for us and post a dll for Python 2.1!


From grisha at modpython.org  Fri Jun  8 08:04:23 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] Problem with httpd.conf under NT
In-Reply-To: <3B20B8A8.29525D6E@brainmedia.de>
Message-ID: <Pine.BSF.4.32.0106080757140.38800-100000@localhost>

Believe it or not, it's actually not so trivial for me :-)

Not that it's not technically doable, but I don't have a set up and time
to compile all various combinations of Python/Apache versions on a
platform that I myself never use... I'd prefer the compilation was
something a user could do like it's been done on unix always, but M$
obviously doesn't see it this way - they want $$ for the compiler. God
forbid you may actually start writing your own (open source) software -
what would they do? ;-)

Anyhow - if someone would e-mail me a Python 2.1 DLL I'll put it on the
site. Right now I don't have 2.1 sources compiled on windows - I might
make some time to do this, but it isn't highest priority.

Grisha

On Fri, 8 Jun 2001, Michael Jaeger wrote:

> > If you have a downloaded DLL, this is not compiled for Python 2.1. So
> you
> > have to use Python 2.0 or recompile mod_python for 2.1.
>
> This seems to be a trivial task for you but obviously not for everybody
> on this list, since there are beginners and people who are used to
> program in others languages than C/C++. This may sound stupid to you,
> but not everyone, not even some 'real' programmers, know how to
> recompile mod_python for 2.1.
>
> But sure there are geeks on this list, who know. So _please_ do us the
> favour and do this job for us and post a dll for Python 2.1!
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From piet at cs.uu.nl  Fri Jun  8 15:33:02 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] Problem with httpd.conf under NT
In-Reply-To: Michael Jaeger's message of "Fri, 08 Jun 2001 13:36:08 +0200"
References: <3B20B8A8.29525D6E@brainmedia.de>
Message-ID: <uiti7qepd.fsf@cs.uu.nl>

>>>>> Michael Jaeger <michael.jaeger@brainmedia.de> (MJ) writes:

>> If you have a downloaded DLL, this is not compiled for Python 2.1. So
>> you have to use Python 2.0 or recompile mod_python for 2.1.

MJ> This seems to be a trivial task for you but obviously not for everybody
MJ> on this list, since there are beginners and people who are used to
MJ> program in others languages than C/C++. This may sound stupid to you,
MJ> but not everyone, not even some 'real' programmers, know how to
MJ> recompile mod_python for 2.1.

MJ> But sure there are geeks on this list, who know. So _please_ do us the
MJ> favour and do this job for us and post a dll for Python 2.1!

No, it's not a trivial task for me, otherwise I would have offered the DLL.
I hesitated adding "or ask someone else to compile it for you" to my
answer. 
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From piet at cs.uu.nl  Fri Jun  8 17:37:36 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] Problem with httpd.conf under NT
In-Reply-To: piet@cs.uu.nl's message of "08 Jun 2001 15:33:02 +0200"
References: <3B20B8A8.29525D6E@brainmedia.de> <uiti7qepd.fsf@cs.uu.nl>
Message-ID: <u3d9b3run.fsf@cs.uu.nl>

>>>>> piet@cs.uu.nl (P) writes:

P> No, it's not a trivial task for me, otherwise I would have offered the DLL.
P> I hesitated adding "or ask someone else to compile it for you" to my
P> answer. 

Well, it appeared not to be so difficult after all. I unly had to change
some things in the makefile because the Apache setup apparently changed (I
had no CoreR subdir and the os.h moved to os/win32).

I will send the dll for apache 1.3.20 and python 2.1.

-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From joe at joestump.org  Sun Jun 10 18:33:52 2001
From: joe at joestump.org (Joe Stump)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] mod_ython not parsing python pages.
Message-ID: <20010610183352.G20551@zorka.com>

System:
Debian GNU/Linux
Python installed via apt-get ...

I've put the following in my virtual server def ...

<Directory /python>
  AddHandler python-program .py
  PythonHandler mptest
  PythonDebug On
</Directory>


When I create mptest (according to the faq for testing) it doesn't parse, I 
just get the code. I'm loading the module without any errors in my httpd.conf
but it's just no interpreting the code.

Another question I have is can I add an application type for .py files like
you can in PHP? My server is www.miester.org and the dir is /python

Thanks!

--Joe


Joe Stump <joe@joestump.net>
------------------------------------------------------------------------
"To each his own - My own is GNU/Linux" --Joe Stump

From michael.jaeger at brainmedia.de  Mon Jun 11 09:34:09 2001
From: michael.jaeger at brainmedia.de (Michael Jaeger)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] Problem with httpd.conf under NT
Message-ID: <3B247471.CA0A2B3C@brainmedia.de>

>>>>> piet@cs.uu.nl (P) wrote:

> I will send the dll for apache 1.3.20 and python 2.1.

Just read your mail and saw the dll you posted. Thanks a lot!

Michael




From gdamjan at mail.net.mk  Mon Jun 11 11:07:11 2001
From: gdamjan at mail.net.mk (Damjan)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] mod_ython not parsing python pages.
In-Reply-To: <20010610183352.G20551@zorka.com>; from joe@joestump.org on Sun, Jun 10, 2001 at 06:33:52PM -0500
References: <20010610183352.G20551@zorka.com>
Message-ID: <20010611110711.A30278@legolas.on.net.mk>

> I've put the following in my virtual server def ...
> 
> <Directory /python>
>   AddHandler python-program .py
>   PythonHandler mptest
>   PythonDebug On
> </Directory>

This is OK 
 
> When I create mptest (according to the faq for testing) it doesn't parse, I 
                ~~~~~~
You meen mptest.py don't you?


-- 
Damjan Georgievski		|           ?????? ???????????
Skopje, Macedonia		|           ??????, ??????????

From santhosh at swamicyber.com  Tue Jun 12 15:37:03 2001
From: santhosh at swamicyber.com (Santhosh V)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] mod_python ( apache cannot be started )
Message-ID: <005001c0f327$820650e0$2403a8c0@swamisoft.com>

Hi

I added the following lines to the httpd.conf after installing mod_python ( static compilation )

<Directory /python>
     AddHandler python-program .py
     PythonHandler mptest
    PythonDebug On
 </Directory>

When I start apache I get the following error message.

Syntax error on line 953 of /usr/local/apache/conf/httpd.conf:
Invalid command 'PythonHandler', perhaps mis-spelled or defined by a module not
included in the server configuration
./apachectl start: httpd could not be started  

Please help me out

Regards

Santhosh
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010612/13150a8e/attachment-0003.htm
From joe at joestump.org  Tue Jun 12 09:27:57 2001
From: joe at joestump.org (Joe Stump)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] mod_ython not parsing python pages.
In-Reply-To: <20010611110711.A30278@legolas.on.net.mk>
References: <20010610183352.G20551@zorka.com> <20010611110711.A30278@legolas.on.net.mk>
Message-ID: <20010612092757.F6156@zorka.com>

Yeah i tried the mptest.py - still no luck - but the cgi works fine for me. 
Until I know more Python I'll probably stick with the cgi.

Thanks!

--Joe

On Mon, Jun 11, 2001 at 11:07:11AM +0200, Damjan wrote:
> > I've put the following in my virtual server def ...
> > 
> > <Directory /python>
> >   AddHandler python-program .py
> >   PythonHandler mptest
> >   PythonDebug On
> > </Directory>
> 
> This is OK 
>  
> > When I create mptest (according to the faq for testing) it doesn't parse, I 
>                 ~~~~~~
> You meen mptest.py don't you?
> 
> 
> -- 
> Damjan Georgievski		|           ???????????? ??????????????????????
> Skopje, Macedonia		|           ????????????, ????????????????????
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python

Joe Stump <joe@joestump.net>
------------------------------------------------------------------------
"To each his own - My own is GNU/Linux" --Joe Stump

From kbryd at python.org.pl  Tue Jun 12 18:15:25 2001
From: kbryd at python.org.pl (Karol Bryd)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] index.py as index
Message-ID: <20010612181525.B25838@python.org.pl>

hi!

    This was probably discussed before, but I could't find it in the
archives. I am using mod python with Publisher handler and I would like
to create index page that would be displayed without adding path info to
the URL. In other words :-) normally to display somethig I have to use
URL like this: http://lh/page/index.py/index, but having such an URL as
an index page is not convenient. What I want is to have a page that will
be displayed after typing http://lh/page/ (for example this will call
function index in index.py). How to do it?

Ufff. I hope that you are able to understand it :-)

Regards.
-- 
       ------------------- Karol Bryd ------------------
   ---------------- http://int.gnu.org.pl ------------------
---------Those who can, do.  Those who can't, simulate.---------

From rsalz at zolera.com  Tue Jun 12 13:31:56 2001
From: rsalz at zolera.com (Rich Salz)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] index.py as index
References: <20010612181525.B25838@python.org.pl>
Message-ID: <3B26520C.4832CBA4@zolera.com>

> What I want is to have a page that will
> be displayed after typing http://lh/page/ (for example this will call
> function index in index.py). How to do it?

Edit your Apache config file
	DirectoryIndex index.py index.html
                        ^^^^^^^ add this

From benno at sesgroup.net  Wed Jun 13 10:59:16 2001
From: benno at sesgroup.net (Ben Leslie)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] mod_python ( apache cannot be started )
In-Reply-To: <005001c0f327$820650e0$2403a8c0@swamisoft.com>; from santhosh@swamicyber.com on Tue, Jun 12, 2001 at 03:37:03PM +0530
References: <005001c0f327$820650e0$2403a8c0@swamisoft.com>
Message-ID: <20010613105916.C25554@sesgroup.net>

On Tue, 12 Jun 2001, Santhosh V wrote:

> Hi
> 
> I added the following lines to the httpd.conf after installing mod_python ( static compilation )
> 
> <Directory /python>
>      AddHandler python-program .py
>      PythonHandler mptest
>     PythonDebug On
>  </Directory>

Have you included the mod_python library?

Forget how of the top of my head, but you probably need to have a line
in httpd.conf to specify that you want to load the mod_python library.

Benno

From kbryd at python.org.pl  Wed Jun 13 09:47:41 2001
From: kbryd at python.org.pl (Karol Bryd)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] index.py as index
In-Reply-To: <3B26520C.4832CBA4@zolera.com>
Message-ID: <20010613094741.A1821@python.org.pl>

On Tue, Jun 12, 2001 at 01:31:56PM -0400, Rich Salz wrote:
> > What I want is to have a page that will
> > be displayed after typing http://lh/page/ (for example this will call
> > function index in index.py). How to do it?
> 
> Edit your Apache config file
> 	DirectoryIndex index.py index.html
>                         ^^^^^^^ add this

This is quite obvious but it won't solve my problem with path info, I
will still have to write url like this http://lh/page/?index to call
function named index from index.py. Am I right?

Regards.
-- 
       ------------------- Karol Bryd ------------------
   ---------------- http://int.gnu.org.pl ------------------
----------Anything free is worth what you pay for it.----------

From michael.jaeger at brainmedia.de  Wed Jun 13 11:31:39 2001
From: michael.jaeger at brainmedia.de (Michael Jaeger)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] mod_python ( apache cannot be started )
Message-ID: <3B2732FB.C2F9EB38@brainmedia.de>

 santhosh@swamicyber.com wrote:

> I added the following lines to the httpd.conf after installing
> mod_python ( static compilation )
>
>  <Directory /python>
>     AddHandler python-program .py
>     PythonHandler mptest
>     PythonDebug On
>  </Directory>
>
> When I start apache I get the following error message.
>
> Syntax error on line 953 of /usr/local/apache/conf/httpd.conf:
> Invalid command 'PythonHandler', perhaps mis-spelled or defined by a
> module not
> included in the server configuration
> ./apachectl start: httpd could not be started

Did you add the line

LoadModule python_module modules/mod_python.dll    (if under Windows)
LoadModule python_module libexec/mod_python.so      (if under Linux)

to your http.conf?





From piet at cs.uu.nl  Wed Jun 13 12:59:27 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] index.py as index
In-Reply-To: Karol Bryd's message of "Wed, 13 Jun 2001 09:47:41 +0200"
References: <20010613094741.A1821@python.org.pl>
Message-ID: <usnh4r6gg.fsf@cs.uu.nl>

>>>>> Karol Bryd <kbryd@python.org.pl> (KB) writes:

KB> This is quite obvious but it won't solve my problem with path info, I
KB> will still have to write url like this http://lh/page/?index to call
KB> function named index from index.py. Am I right?

I think so.
But why do you want to use the publisher handler for this?
You can make a separate handler for the indexes like this:

DirectoryIndex index.pyx index.html
...
<Directory "...."> 
  AddHandler python-index .pyx
  PythonHandler index 
</Directory>

And then put the indexing code in index.pyx
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From richard.hitier at idealx.com  Wed Jun 13 14:44:58 2001
From: richard.hitier at idealx.com (richard hitier)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] index.py as index
In-Reply-To: <usnh4r6gg.fsf@cs.uu.nl>; from piet@cs.uu.nl on Wed, Jun 13, 2001 at 12:59:27PM +0200
References: <20010613094741.A1821@python.org.pl> <usnh4r6gg.fsf@cs.uu.nl>
Message-ID: <20010613144458.A2825@joshua.ird.idealx.com>

* Le  13 Jun >piet@cs.uu.nl< ecrivait:
> You can make a separate handler for the indexes like this:
in the same directory where the publisher is set ?

> 
> DirectoryIndex index.pyx index.html
> ...
> <Directory "...."> 
>   AddHandler python-index .pyx
is "python-index"  known like "python-program" as handler_name ?

>   PythonHandler index 
> </Directory>
> 
> And then put the indexing code in index.pyx
doesn't work for me :(
I get import error with the ligne 
    AddHandler python-program .pyx

of course, index.pyx can't be imported;
see error in attachement

-- 
Richard Hitier                 PGP Key on pgp.mit.edu
richard.hitier@IDEALX.com	   key 0xD1BAD022
-------------- next part --------------

Mod_python error: "PythonHandler index"

Traceback (innermost last):

  File "/usr/lib/python1.5/site-packages/mod_python/apache.py", line 181, in Dispatch
    module = import_module(module_name, _req)

  File "/usr/lib/python1.5/site-packages/mod_python/apache.py", line 335, in import_module
    f, p, d = imp.find_module(parts[i], path)

ImportError: No module named index

From deneb at unixwave.org  Wed Jun 13 15:09:28 2001
From: deneb at unixwave.org (Giorgio)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] index.py as index
In-Reply-To: <20010613094741.A1821@python.org.pl>; from kbryd@python.org.pl on Wed, Jun 13, 2001 at 09:47:41AM +0200
References: <3B26520C.4832CBA4@zolera.com> <20010613094741.A1821@python.org.pl>
Message-ID: <20010613150927.A582@unixwave.org>

n Wed, Jun 13, 2001, Karol Bryd wrote:

> On Tue, Jun 12, 2001 at 01:31:56PM -0400, Rich Salz wrote:
> > > What I want is to have a page that will
> > > be displayed after typing http://lh/page/ (for example this will call
> > > function index in index.py). How to do it?
> > 
> > Edit your Apache config file
> > 	DirectoryIndex index.py index.html
> >                         ^^^^^^^ add this
> 
> This is quite obvious but it won't solve my problem with path info, I
> will still have to write url like this http://lh/page/?index to call
> function named index from index.py. Am I right?

 in the Apache Virtual host use:

 Redirect / http://www.yourdomain.ext/program.py/function?args=values

 Where :
* www.yourdomain.ext is the web host
* program.py is the program which you want start 
* function is a python function which you want start , and it is in program.py
* args is a parameter to your function.

Note: never trust values. 

Cheers,
Giorgio.

P.S. can be the objects instantiated by url?


From deneb at unixwave.org  Wed Jun 13 15:14:12 2001
From: deneb at unixwave.org (Giorgio)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] index.py as index
In-Reply-To: <usnh4r6gg.fsf@cs.uu.nl>; from piet@cs.uu.nl on Wed, Jun 13, 2001 at 12:59:27PM +0200
References: <20010613094741.A1821@python.org.pl> <usnh4r6gg.fsf@cs.uu.nl>
Message-ID: <20010613151412.A620@unixwave.org>

On Wed, Jun 13, 2001, piet@cs.uu.nl wrote:

> DirectoryIndex index.pyx index.html
> ...
> <Directory "...."> 
>   AddHandler python-index .pyx
>   PythonHandler index 
> </Directory>

But so you don't use mod_publisher in index.pyx, isn't it?
And if i wanna in index.pyx send an email with a form, as
in the mod_python manual?
bye,
Giorgio

From piet at cs.uu.nl  Wed Jun 13 15:39:47 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] index.py as index
In-Reply-To: <20010613151412.A620@unixwave.org>
References: <20010613094741.A1821@python.org.pl>
	<usnh4r6gg.fsf@cs.uu.nl>
	<20010613151412.A620@unixwave.org>
Message-ID: <15143.27939.790000.577406@gargle.gargle.HOWL>

>>>>> Giorgio <deneb@unixwave.org> (G) writes:

G> On Wed, Jun 13, 2001, piet@cs.uu.nl wrote:
>> DirectoryIndex index.pyx index.html
>> ...
>> <Directory "...."> 
>> AddHandler python-index .pyx
>> PythonHandler index 
>> </Directory>

G> But so you don't use mod_publisher in index.pyx, isn't it?
G> And if i wanna in index.pyx send an email with a form, as
G> in the mod_python manual?

Sorry, I didn't test enough. It appears that you can have only one
modpython handler (at least in the same directory). And yes,
python-index must still be python-program.
And importing probelms can be avoided by also having index.py

So after all my suggestion doesn't work as I thought.

Maybe publisher should get some default if the path is empty.

What I don't understand why you want to send an email when the
directory is selected. The parameters would come normally from a FORM
but then the action can simply be given as a full path can't it?
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From InternetShops at mail.ru  Wed Jun 13 18:44:49 2001
From: InternetShops at mail.ru (InternetShops@mail.ru)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] ˙·Î·˙ Ó·‰ÂˆÓÔÁÔ Ô‚ÔÚı‰Ô˜·ÓÈÒ ˛ÂÚÂ˙ ÈÓÙÂÚÓÂÙ
Message-ID: <200106131644.SAA10630@tucows.ibershop.com>

An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010613/edea05ed/attachment-0003.htm
From richard.hitier at idealx.com  Thu Jun 14 12:32:31 2001
From: richard.hitier at idealx.com (richard hitier)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] Howto to handle classes ?
Message-ID: <20010614123231.A1606@joshua.ird.idealx.com>

Hi,

is there a way to access classes and theyre methode through an url ?
via the publisher I guess, but how.

http://mydomain/module/fonction?var=value

is ok.

but what about
http://mydomain/module/class.method ?


Thx all: i'm just trying to migrate from zope to mod_python, and this is
my main wall.

-- 
Richard Hitier                 PGP Key on pgp.mit.edu
richard.hitier@IDEALX.com	   key 0xD1BAD022

From grisha at modpython.org  Thu Jun 14 12:21:43 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] Howto to handle classes ?
In-Reply-To: <20010614123231.A1606@joshua.ird.idealx.com>
Message-ID: <Pine.BSF.4.32.0106141216150.48777-100000@localhost>

Richard

It's goning to be something along these lines:

http://mydomain/module/instance/method?arg1=value

Grisha

On Thu, 14 Jun 2001, richard hitier wrote:

> Hi,
>
> is there a way to access classes and theyre methode through an url ?
> via the publisher I guess, but how.
>
> http://mydomain/module/fonction?var=value
>
> is ok.
>
> but what about
> http://mydomain/module/class.method ?
>
>
> Thx all: i'm just trying to migrate from zope to mod_python, and this is
> my main wall.
>
> --
> Richard Hitier                 PGP Key on pgp.mit.edu
> richard.hitier@IDEALX.com	   key 0xD1BAD022
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From x at Vex.Net  Sun Jun 17 11:31:43 2001
From: x at Vex.Net (T. Muddletin)
Date: Fri Jan  9 22:02:47 2004
Subject: [mod_python] LogHandler
Message-ID: <390778152.20010617113143@Vex.Net>

I wonder if anyone is doing anything like this with mod_python (if it
is even possible): http://www.webtechniques.com/archives/2000/04/perl/

We really want to log cpu time for requests into a database (along
with everything else)... I don't have that much time to rip apart
mod_python to try and figure it out if it can be done. We'll have to
use the mod_perl (sadly!) just because it is there... unless someone
can set us quickly on the right pythonic path. So I'm just wondering
if anyone else is thinking/doing anything like the above...

-- 
Tim Middleton | Cain Gang Ltd | There are a thousand hacking at the branches
x@veX.net     | www.Vex.Net   | of evil [but who] at the root. --Thoreau (W)


From rsalz at zolera.com  Sun Jun 17 21:16:27 2001
From: rsalz at zolera.com (Rich Salz)
Date: Fri Jan  9 22:02:48 2004
Subject: [mod_python] LogHandler
References: <390778152.20010617113143@Vex.Net>
Message-ID: <3B2D566B.54428011@zolera.com>

> We really want to log cpu time for requests into a database (along
> with everything else)... I don't have that much time to rip apart
> mod_python to try and figure it out if it can be done.

pymysql + os.times(), and you write a handler that wraps around the
"real" one ?
	/r$

From bl at netgroup.dk  Mon Jun 18 11:57:18 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 22:02:48 2004
Subject: [mod_python] Apache crash
Message-ID: <3B2DD07E.3EAD4BF8@netgroup.dk>

Hi ...

There is an FAQ tag about Apache crashing, if not the first module
loaded while using RH. Is there an explanation for this, or is it pure
magic ?

I have seen the same thin happend on a Debian potato (with 2.4.5 kernel
added), and like to know why.

/BL


From richard.hitier at idealx.com  Mon Jun 18 17:37:33 2001
From: richard.hitier at idealx.com (richard hitier)
Date: Fri Jan  9 22:02:48 2004
Subject: [mod_python] import module via publisher
Message-ID: <20010618173733.A10098@joshua.ird.idealx.com>

hi,

I'm a bit disapointed with the mod_python mechanisms of importing
module.

In fact, I'am still wondering how this could work:

some times, whilst the
 import my_module 
line is in, i get nameError or importError from the publisher .

then, after reloading many times the url through the http client (here,
w3m), I finally get my result ok.

But from then, I can modify the imported files, nothing will change
even if i suppress the "import ..." line from my main module,
unless I  shut w3m down and relaunch it.


thx for clues
-- 
Richard Hitier                 PGP Key on pgp.mit.edu
richard.hitier@IDEALX.com	   key 0xD1BAD022

From bl at netgroup.dk  Tue Jun 19 11:27:40 2001
From: bl at netgroup.dk (Bo Lorentsen)
Date: Fri Jan  9 22:02:48 2004
Subject: [mod_python] import module via publisher
References: <20010618173733.A10098@joshua.ird.idealx.com>
Message-ID: <3B2F1B0C.5315F784@netgroup.dk>

richard hitier wrote:

> I'm a bit disapointed with the mod_python mechanisms of importing
> module.

I think there is a good explanation for mod_python to act like this.

> In fact, I'am still wondering how this could work:
>
> some times, whilst the
>  import my_module
> line is in, i get nameError or importError from the publisher .

I have the same problem, and I think it's because of a caching algorithm
somewhere (may in python ?)

> then, after reloading many times the url through the http client (here,
> w3m), I finally get my result ok.

Yeps, and sometimes the problem comes back, in the same session :-)

I think that when you request the same page several times it may spawn a
new process that makes it own python pre compile script cache, and
therefor takes in your newly updated code, and therefor works.

There must be an easy way to ether disable this cache of refresh it by
force (other than restarting apache) !

/BL


From meyer at diku.dk  Tue Jun 19 13:36:04 2001
From: meyer at diku.dk (Jonas Meyer Rasmussen)
Date: Fri Jan  9 22:02:48 2004
Subject: [mod_python] import module via publisher
In-Reply-To: <3B2F1B0C.5315F784@netgroup.dk>
Message-ID: <Pine.HPX.4.21.0106191334090.15973-100000@ask.diku.dk>

> There must be an easy way to ether disable this cache of refresh it by
> force (other than restarting apache) !
my code looks like this:

import my.module

def handler( req ):
   reload( my.module )

I'm not using the publisher, but I'm guessing that it works the same way?

Jonas Meyer Rasmussen
meyer@diku.dk



From wart at softhome.net  Tue Jun 19 19:20:00 2001
From: wart at softhome.net (Wartan Hachaturow)
Date: Fri Jan  9 22:02:48 2004
Subject: [mod_python] Any open-source applications?
Message-ID: <20010619192000.A20277@penguin.aktivist.ru>

Hello.

Is there any open source mod_python applications available?
I would like to learn web programming with mod_python, and my
own experience tells me that it's best to use already exisiting 
applications to see how things are done.
So, if anyone would advise me some, I'll be really thankful.

P.S. Right now I know only about PyWM.

P.P.S. And also would anyone suggest me a ready framework for
web-development (based on mod_python, of course)? It seems to
me that it's not the target of mod_python to provide sessions,
persistend database connections, etc..
But Zope is not an option ;-) Too bloated for me.

-- 
Regards, Wartan.
echo "Your stdio isn't very std." 
		-- Larry Wall in Configure from the perl distribution

From deneb at unixwave.org  Tue Jun 19 18:04:36 2001
From: deneb at unixwave.org (Giorgio)
Date: Fri Jan  9 22:02:48 2004
Subject: [mod_python] Any open-source applications?
In-Reply-To: <20010619192000.A20277@penguin.aktivist.ru>; from wart@softhome.net on Tue, Jun 19, 2001 at 07:20:00PM +0400
References: <20010619192000.A20277@penguin.aktivist.ru>
Message-ID: <20010619180436.A2119@unixwave.org>

On Tue, Jun 19, 2001, Wartan Hachaturow wrote:

> Hello.
[snip..]

An Application at: 
http://webware.sourceforge.net 

It has mod_python hooks.And supports every feature that you need.
Optionally you can rip what you need and discard what you don't use.
However it can be useful remember that Apache is not a multi threading
enviroment.

As mod_python application example you can see
maki, at http://maki.sourceforge.net as application written for 
mod_python and xml.

> But Zope is not an option ;-) Too bloated for me.
Personally, I dislike Zope and I like mod-python for 
the following reasons:
the code is clear, least privilege ,too poor Zope security, Zope is
really heavy, but this is only my  opinion.  
 
bye,
Giorgio

From richard.hitier at idealx.com  Thu Jun 21 09:47:19 2001
From: richard.hitier at idealx.com (richard hitier)
Date: Fri Jan  9 22:02:48 2004
Subject: [mod_python] import module via publisher
In-Reply-To: <20010618105626.A86475@ravine.binary.net>; from thehaas@binary.net on Mon, Jun 18, 2001 at 10:56:26AM -0500
References: <E6FF52955A377B4983DF1DCBC3B5BB7C04C4F8@atropos.infraware.co.kr> <3B2F1B0C.5315F784@netgroup.dk> <Pine.HPX.4.21.0106191334090.15973-100000@ask.diku.dk> <20010618173733.A10098@joshua.ird.idealx.com> <3B2F1B0C.5315F784@netgroup.dk> <20010618173733.A10098@joshua.ird.idealx.com> <20010618105626.A86475@ravine.binary.net>
Message-ID: <20010621094719.A480@joshua.ird.idealx.com>

Hi all,
and thanks for your many answers!

* Le  18 Jun >Mike Hostetler< ecrivait:
> 
> I have had this happen too . . . I figured it was some sort of caching with
> either Apache or mod_python.  Or maybe the browser . . . 
in fact I had a local proxy (wwwoffle) that I now pass through with
w3m -no-proxy my_web_page

but I didn't see any difference :(
> 
>  

* Le  19 Jun >Bo Lorentsen< ecrivait:
> I think there is a good explanation for mod_python to act like this.
> 
i guess so too, but I would *love* to know which one ;)


> There must be an easy way to ether disable this cache of refresh it by
> force (other than restarting apache) !
perhaps, but still looking for ...

in fact, from now on I can tell two points:
(remember I work whith the publisher)

1?    calling http://my_page/module/fonction

always give me the latest modifications results (whithout restarting
apache at all)

2?     But if I call some imported code in my module.fonction()
this will never be updated according to imported module file last
modifications.

=> I _have_ to restart apache each time I want my modificationx be
updated.
> 

* Le  19 Jun >Jonas Meyer Rasmussen< ecrivait:
> 
> import my.module
> 
> def handler( req ):
>    reload( my.module )
> 
I can't do that since that I'm porting code from zope app to apache app.
And, they import name instead of module:

    from foreign_module import my_name

and this (afaik) canot be reloaded in python.


Any How, thanks all.
and if I solve my problem I'll let you know.

ciao


-- 
Richard Hitier                 PGP Key on pgp.mit.edu
richard.hitier@IDEALX.com	   key 0xD1BAD022

From tree at basistech.com  Thu Jun 21 09:29:16 2001
From: tree at basistech.com (Tom Emerson)
Date: Fri Jan  9 22:02:48 2004
Subject: [mod_python] "Cannot re-init internal module exceptions"
Message-ID: <15153.63148.824452.424254@cymru.basistech.com>

Greetings.

I'm attempting to get mod_python working with the AHTS template engine
(http://ahts.sourceforge.net) but am not having much luck. In
particular, I get the following error in the server error log (the
full backtrace is below):

[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/Errors.py", line 9, in ?
    import exceptions
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex: ImportError: Cannot re-init internal module exceptions

This is running in the following configuration:

Apache/1.3.19 (Unix) PHP/4.0.4pl1 mod_python/2.7.2 Python/2.0 configured

Anyone have an idea what is happening here? Any ideas on ameliorating this problem?

TIA,

    -tree


[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex: Traceback (most recent call last):
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line 176, in Dispatch
    module = import_module(module_name, _req)
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line 334, in import_module
    module = imp.load_module(mname, f, p, d)
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/opt/www/htdocs/chinlex.py", line 2, in ?
    import MySQLdb, StringIO, ahts
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/__init__.py", line 33, in ?
    from utility import *
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/utility.py", line 29, in ?
    import writer
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/writer.py", line 33, in ?
    from parser import TemplateParser
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/parser.py", line 33, in ?
    from scanner import TemplateScanner
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/scanner.py", line 33, in ?
    from Plex import *
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/__init__.py", line 34, in ?
    from Lexicons import Lexicon, State
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/Lexicons.py", line 13, in ?
    import Errors
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/Errors.py", line 9, in ?
    import exceptions
[Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex: ImportError: Cannot re-init internal module exceptions

-- 
Tom Emerson                                          Basis Technology Corp.
Sr. Sinostringologist                              http://www.basistech.com
  "Beware the lollipop of mediocrity: lick it once and you suck forever"

From walter at livinglogic.de  Thu Jun 21 17:24:30 2001
From: walter at livinglogic.de (Walter =?iso-8859-1?Q?D=F6rwald?=)
Date: Fri Jan  9 22:02:48 2004
Subject: [mod_python] "Cannot re-init internal module exceptions"
References: <15153.63148.824452.424254@cymru.basistech.com>
Message-ID: <3B3211AE.D34A61DC@livinglogic.de>

Tom Emerson wrote:

> Greetings.
> 
> I'm attempting to get mod_python working with the AHTS template engine
> (http://ahts.sourceforge.net) but am not having much luck. In
> particular, I get the following error in the server error log (the
> full backtrace is below):
> 
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/Errors.py", line 9, in ?
>     import exceptions
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex: ImportError: Cannot re-init internal module exceptions

Could this be related to Python bug #422004?

http://sourceforge.net/tracker/?group_id=5470&atid=105470&func=detail&aid=422004

Bye,
	Walter D?rwald

From tree at basistech.com  Thu Jun 21 12:23:13 2001
From: tree at basistech.com (Tom Emerson)
Date: Fri Jan  9 22:02:48 2004
Subject: [mod_python] "Cannot re-init internal module exceptions"
In-Reply-To: <3B3211AE.D34A61DC@livinglogic.de>
References: <15153.63148.824452.424254@cymru.basistech.com>
	<3B3211AE.D34A61DC@livinglogic.de>
Message-ID: <15154.8049.672235.391169@cymru.basistech.com>

=?iso-8859-1?Q?Walter_D=F6rwald?= writes:
> >     import exceptions
> > [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex: ImportError: Cannot re-init internal module exceptions
> 
> Could this be related to Python bug #422004?
> 
> http://sourceforge.net/tracker/?group_id=5470&atid=105470&func=detail&aid=422004

Yes, it appears to be exactly that problem. After rebuilding Python
with the patch given in the bug report I'm able to use AHTS from
within mod_python. Sweet.

Thanks!

    -tree

-- 
Tom Emerson                                          Basis Technology Corp.
Sr. Sinostringologist                              http://www.basistech.com
  "Beware the lollipop of mediocrity: lick it once and you suck forever"

From sam at webslingerZ.com  Thu Jun 21 13:00:37 2001
From: sam at webslingerZ.com (Sam Brauer)
Date: Fri Jan  9 22:02:48 2004
Subject: [mod_python] "Cannot re-init internal module exceptions"
In-Reply-To: <15153.63148.824452.424254@cymru.basistech.com>
Message-ID: <Pine.LNX.4.31.0106211257460.21947-100000@localhost.localdomain>

When I encountered this in some of my code, I simply removed the "import
exceptions" line and it worked fine.
So try commenting that line out in
$ocal/lib/python2.0/site-packages/ahts/Plex/Errors.py

You will probably need to restart apache to see if it works.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Sam Brauer : Systems Programmer : sam@webslingerZ.com

On Thu, 21 Jun 2001, Tom Emerson wrote:

> Greetings.
>
> I'm attempting to get mod_python working with the AHTS template engine
> (http://ahts.sourceforge.net) but am not having much luck. In
> particular, I get the following error in the server error log (the
> full backtrace is below):
>
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/Errors.py", line 9, in ?
>     import exceptions
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex: ImportError: Cannot re-init internal module exceptions
>
> This is running in the following configuration:
>
> Apache/1.3.19 (Unix) PHP/4.0.4pl1 mod_python/2.7.2 Python/2.0 configured
>
> Anyone have an idea what is happening here? Any ideas on ameliorating this problem?
>
> TIA,
>
>     -tree
>
>
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex: Traceback (most recent call last):
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line 176, in Dispatch
>     module = import_module(module_name, _req)
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/mod_python/apache.py", line 334, in import_module
>     module = imp.load_module(mname, f, p, d)
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/opt/www/htdocs/chinlex.py", line 2, in ?
>     import MySQLdb, StringIO, ahts
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/__init__.py", line 33, in ?
>     from utility import *
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/utility.py", line 29, in ?
>     import writer
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/writer.py", line 33, in ?
>     from parser import TemplateParser
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/parser.py", line 33, in ?
>     from scanner import TemplateScanner
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/scanner.py", line 33, in ?
>     from Plex import *
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/__init__.py", line 34, in ?
>     from Lexicons import Lexicon, State
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/Lexicons.py", line 13, in ?
>     import Errors
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex:   File "/usr/local/lib/python2.0/site-packages/ahts/Plex/Errors.py", line 9, in ?
>     import exceptions
> [Thu Jun 21 09:59:33 2001] [error] PythonHandler chinlex: ImportError: Cannot re-init internal module exceptions
>
> --
> Tom Emerson                                          Basis Technology Corp.
> Sr. Sinostringologist                              http://www.basistech.com
>   "Beware the lollipop of mediocrity: lick it once and you suck forever"
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From agl at linuxpower.org  Mon Jun 25 19:16:03 2001
From: agl at linuxpower.org (Adam Langley)
Date: Fri Jan  9 22:02:48 2004
Subject: [mod_python] Reloading of modules
Message-ID: <20010625191603.B1091@linuxpower.org>

(I've searched thru the list archives and the following message seems
to be relevent, but there was no useful followup:
http://www.modpython.org/pipermail/mod_python/2001-May/001324.html)

Using the following test script:
from mod_python import apache

i = 0
def test(req):
    req.content_type = "text/html"
    req.send_http_header ()

    global i
    req.write (str(i) + "<br>")
    i += 1
    return ""

This works as expected until you start refreshing quickly, when the
counter gets reset.

Why is mod_python reimporting the file?

httpd.conf:
    SetHandler python-program
    PythonHandler mod_python.publisher
    PythonInterpreter main
    PythonDebug on

Thanks

AGL

-- 
Never underestimate the power of a small tactical nuclear weapon.







From SumnerH at fool.com  Mon Jun 25 14:28:32 2001
From: SumnerH at fool.com (G . Sumner Hayes)
Date: Fri Jan  9 22:02:48 2004
Subject: [mod_python] Reloading of modules
In-Reply-To: <20010625191603.B1091@linuxpower.org>; from agl@linuxpower.org on Mon, Jun 25, 2001 at 07:16:03PM +0100
References: <20010625191603.B1091@linuxpower.org>
Message-ID: <20010625142832.A14034@fool.com>

Adam Langley <agl@linuxpower.org> wrote:
> from mod_python import apache
> 
> i = 0
> def test(req):
>     req.content_type = "text/html"
>     req.send_http_header ()
> 
>     global i
>     req.write (str(i) + "<br>")
>     i += 1
[SNIP]
> This works as expected until you start refreshing quickly, when the
> counter gets reset.

Each Apache process has its own Python interpreter, and in a
default Apache install each process only handles 50 or 100
requests before exiting.  Which process you get for a particular
page load depends on the OS scheduler and the exact timing, but
on an unloaded machine you can easily hit the same one 10 or more
times in a row.

But in general, you can't keep server-side shared data this way.

  Sumner

From grisha at modpython.org  Mon Jun 25 15:25:03 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 22:02:48 2004
Subject: [mod_python] Reloading of modules
In-Reply-To: <20010625191603.B1091@linuxpower.org>
Message-ID: <Pine.BSF.4.32.0106251524070.9457-100000@localhost>

This behaviour would be OS specific. On win32 you should see the counter
increasing, on UNIX you will have a counter per process. Which platform
are you on?

On Mon, 25 Jun 2001, Adam Langley wrote:

> (I've searched thru the list archives and the following message seems
> to be relevent, but there was no useful followup:
> http://www.modpython.org/pipermail/mod_python/2001-May/001324.html)
>
> Using the following test script:
> from mod_python import apache
>
> i = 0
> def test(req):
>     req.content_type = "text/html"
>     req.send_http_header ()
>
>     global i
>     req.write (str(i) + "<br>")
>     i += 1
>     return ""
>
> This works as expected until you start refreshing quickly, when the
> counter gets reset.
>
> Why is mod_python reimporting the file?
>
> httpd.conf:
>     SetHandler python-program
>     PythonHandler mod_python.publisher
>     PythonInterpreter main
>     PythonDebug on
>
> Thanks
>
> AGL
>
> --
> Never underestimate the power of a small tactical nuclear weapon.
>
>
>
>
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From piet at cs.uu.nl  Tue Jun 26 05:27:25 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 22:02:48 2004
Subject: [mod_python] import module via publisher
In-Reply-To: richard hitier's message of "Thu, 21 Jun 2001 09:47:19 +0200"
References: <E6FF52955A377B4983DF1DCBC3B5BB7C04C4F8@atropos.infraware.co.kr>
	<3B2F1B0C.5315F784@netgroup.dk>
	<Pine.HPX.4.21.0106191334090.15973-100000@ask.diku.dk>
	<20010618173733.A10098@joshua.ird.idealx.com>
	<3B2F1B0C.5315F784@netgroup.dk>
	<20010618173733.A10098@joshua.ird.idealx.com>
	<20010618105626.A86475@ravine.binary.net>
	<20010621094719.A480@joshua.ird.idealx.com>
Message-ID: <200106260927.f5Q9RP219850@eden.ispol.com>

>>>>> richard hitier <richard.hitier@idealx.com> (RH) wrote:

RH> in fact, from now on I can tell two points:
RH> (remember I work whith the publisher)

RH> 1?    calling http://my_page/module/fonction

RH> always give me the latest modifications results (whithout restarting
RH> apache at all)

That is because mod_python has special code to check if the module has
changed and should be reloaded.

RH> 2?     But if I call some imported code in my module.fonction()
RH> this will never be updated according to imported module file last
RH> modifications.

That is because you do not use this special check yourself.
You can do:

module = apache.import_module(module_name)
>> 

RH> * Le  19 Jun >Jonas Meyer Rasmussen< ecrivait:
>> 
>> import my.module
>> 
>> def handler( req ):
>> reload( my.module )
>> 
RH> I can't do that since that I'm porting code from zope app to apache app.
RH> And, they import name instead of module:

RH>     from foreign_module import my_name

RH> and this (afaik) canot be reloaded in python.

Yes, you can do it again after reloading the module:

foreign_module = apache.import_module("foreign_module")
from foreign_module import my_name
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl






From grisha at modpython.org  Tue Jun 26 07:18:15 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 22:02:48 2004
Subject: [mod_python] import module via publisher
In-Reply-To: <200106260927.f5Q9RP219850@eden.ispol.com>
Message-ID: <Pine.BSF.4.32.0106260717370.20735-100000@localhost>

There is something in the FAQ about that as well:

http://www.modpython.org/FAQ/faqw.py?req=show&file=faq03.001.htp

On Tue, 26 Jun 2001 piet@cs.uu.nl wrote:

> >>>>> richard hitier <richard.hitier@idealx.com> (RH) wrote:
>
> RH> in fact, from now on I can tell two points:
> RH> (remember I work whith the publisher)
>
> RH> 1?    calling http://my_page/module/fonction
>
> RH> always give me the latest modifications results (whithout restarting
> RH> apache at all)
>
> That is because mod_python has special code to check if the module has
> changed and should be reloaded.
>
> RH> 2?     But if I call some imported code in my module.fonction()
> RH> this will never be updated according to imported module file last
> RH> modifications.
>
> That is because you do not use this special check yourself.
> You can do:
>
> module = apache.import_module(module_name)
> >>
>
> RH> * Le  19 Jun >Jonas Meyer Rasmussen< ecrivait:
> >>
> >> import my.module
> >>
> >> def handler( req ):
> >> reload( my.module )
> >>
> RH> I can't do that since that I'm porting code from zope app to apache app.
> RH> And, they import name instead of module:
>
> RH>     from foreign_module import my_name
>
> RH> and this (afaik) canot be reloaded in python.
>
> Yes, you can do it again after reloading the module:
>
> foreign_module = apache.import_module("foreign_module")
> from foreign_module import my_name
> --
> Piet van Oostrum <piet@cs.uu.nl>
> URL: http://www.cs.uu.nl/~piet [PGP]
> Private email: P.van.Oostrum@hccnet.nl
>
>
>
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From piet at cs.uu.nl  Tue Jun 26 13:47:49 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 22:02:48 2004
Subject: [mod_python] import module via publisher
In-Reply-To: "Gregory's message of "Tue, 26 Jun 2001 07:18:15 -0400 (EDT)"
References: <Pine.BSF.4.32.0106260717370.20735-100000@localhost>
Message-ID: <uithjfonu.fsf@cs.uu.nl>

>>>>> "Gregory (Grisha) Trubetskoy" <grisha@modpython.org> (GT) a ?crit:

GT> There is something in the FAQ about that as well:

GT> http://www.modpython.org/FAQ/faqw.py?req=show&file=faq03.001.htp

Thanks.

Maybe you could add that any 
from module import name 
statements should also be repeated after the reload(module).
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From christo at vaix.net  Tue Jun 26 19:52:41 2001
From: christo at vaix.net (Christopher Beatty)
Date: Fri Jan  9 22:02:48 2004
Subject: [mod_python] Mod_Python on Windows
Message-ID: <DCEPLIMPFBBGLDOOHOPKCEHPCAAA.christo@vaix.net>

Well, I installed Mod_Python on my Windows ME machine. I used the directions
for Windows installation in Appendix A of the documentation. When I run the
test script, I get an internal server error. I've checked everything and
can't seem to find exactly what's causing the problem. Here's a snippet from
my apache error log regarding it:

-------------
[Tue Jun 26 19:35:06 2001] [error] python_handler: make_obcallback returned
no obCallBack!
make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.
-------------

I'm running Apache 1.3.20, Python 2.1 and Mod_Python 2.7.4. If anyone could
help me, I would greatly appreciate it.

Keep up the great work,

Chris


From piet at cs.uu.nl  Wed Jun 27 11:34:15 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 22:02:48 2004
Subject: [mod_python] Mod_Python on Windows
In-Reply-To: "Christopher Beatty"'s message of "Tue, 26 Jun 2001 19:52:41 -0400"
References: <DCEPLIMPFBBGLDOOHOPKCEHPCAAA.christo@vaix.net>
Message-ID: <uels6467c.fsf@cs.uu.nl>

>>>>> "Christopher Beatty" <christo@vaix.net> (CB) writes:

CB> Well, I installed Mod_Python on my Windows ME machine. I used the directions
CB> for Windows installation in Appendix A of the documentation. When I run the
CB> test script, I get an internal server error. I've checked everything and
CB> can't seem to find exactly what's causing the problem. Here's a snippet from
CB> my apache error log regarding it:

CB> -------------
CB> [Tue Jun 26 19:35:06 2001] [error] python_handler: make_obcallback returned
CB> no obCallBack!
CB> make_obcallback(): could not import mod_python.apache.
CB> make_obcallback(): could not call init.
CB> -------------

CB> I'm running Apache 1.3.20, Python 2.1 and Mod_Python 2.7.4. If anyone could
CB> help me, I would greatly appreciate it.

Check if the following files are present:

in your Python directory (i.e. where python.exe is located):

There should be a subdirectory mod_python that contains the following
files:
__init__.py
apache.py
cgihandler.py
httpdapi.py
publisher.py
util.py
zhandler.py
(and possibly the corresponding .pyc or .pyo files)

In your Apache directory in the modules subdirectory there should be
mod_python.dll 
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From jm at eemsystems.cjb.net  Wed Jun 27 14:29:38 2001
From: jm at eemsystems.cjb.net (Julio Mendoza)
Date: Fri Jan  9 22:02:48 2004
Subject: [mod_python] make_obcallback returned no obCallBack!
Message-ID: <20010627142938.A1096@duron750>

I have an error:
make_obcallback(): could not import mod_python.apache.
make_obcallback returned no obCallBack!

What this means?

my systems was working fine, i dont know what happens.


apache error.log

[Wed Jun 27 14:00:14 2001] [notice] suEXEC mechanism enabled (wrapper:
/usr/lib/apache/suexec)
[Wed Jun 27 14:00:14 2001] [info] Server built: Jun 12 2001 13:50:30
make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.
[Wed Jun 27 14:00:21 2001] [error] [client 206.99.125.69] python_handler:
make_obcallback returned no obCallBack!


Package: libapache-mod-python
Version: 1:2.7.3-1

apache httpd.conf

<Directory /pub/web/cgi-bin>
AddHandler python-program .py
PythonHandler mptest
PythonDebug On
</Directory>

From jm at eemsystems.cjb.net  Wed Jun 27 14:52:01 2001
From: jm at eemsystems.cjb.net (Julio Mendoza)
Date: Fri Jan  9 22:02:48 2004
Subject: [mod_python] make_obcallback returned no obCallBack!
In-Reply-To: =?ISO-8859-1?Q?=3C20010627142938=2EA1096=40duron750=3E=3B_from_jm=40eems?=
 =?ISO-8859-1?Q?ystems=2Ecjb=2Enet_on_mi=E9=2C_jun_27=2C_2001_at_14:29:38?=
 =?ISO-8859-1?Q?_-0500?=
References: <20010627142938.A1096@duron750>
Message-ID: <20010627145201.A1190@duron750>

my system is:

[Wed Jun 27 14:48:52 2001] [notice] Apache/1.3.20 (Unix) Debian/GNU
mod_python/2.7.3 Python/2.0 configured -- resuming normal operations
[Wed Jun 27 14:48:52 2001] [notice] suEXEC mechanism enabled (wrapper:
/usr/lib/apache/suexec)
[Wed Jun 27 14:48:52 2001] [info] Server built: Jun 12 2001 13:50:30
make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.




El mi?, 27 jun 2001 14:29:38 Julio Mendoza escribi?:
> 
> I have an error:
> make_obcallback(): could not import mod_python.apache.
> make_obcallback returned no obCallBack!
> 
> What this means?
> 
> my systems was working fine, i dont know what happens.
> 
> 
> apache error.log
> 
> [Wed Jun 27 14:00:14 2001] [notice] suEXEC mechanism enabled (wrapper:
> /usr/lib/apache/suexec)
> [Wed Jun 27 14:00:14 2001] [info] Server built: Jun 12 2001 13:50:30
> make_obcallback(): could not import mod_python.apache.
> make_obcallback(): could not call init.
> [Wed Jun 27 14:00:21 2001] [error] [client 206.99.125.69] python_handler:
> make_obcallback returned no obCallBack!
> 
> 
> Package: libapache-mod-python
> Version: 1:2.7.3-1
> 
> apache httpd.conf
> 
> <Directory /pub/web/cgi-bin>
> AddHandler python-program .py
> PythonHandler mptest
> PythonDebug On
> </Directory>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
> 

-- 
Julio Mendoza
Tel.: 260-0077			icq#: 111066916
Fax : 260-0084			aol : usereem
Cel : 627-1986			msn : juliomendozarivas@hotmail.com

http://eemsystems.cjb.net
Los expertos en Linux.

Open Software, Open Hardware... Open you Mind!

Linux?

http://icewm.themes.org/
http://www.debian.org/ 		http://www.gnome.org/
http://www.ximian.com/ 		http://sourceforge.net/
http://www.kernel.org 		http://www.linuxiso.org/

From jm at eemsystems.cjb.net  Thu Jun 28 12:45:46 2001
From: jm at eemsystems.cjb.net (Julio Mendoza)
Date: Fri Jan  9 22:02:48 2004
Subject: [mod_python] mod_python error
Message-ID: <20010628124546.A408@duron750>

this is my apache error.log

[Thu Jun 28 12:32:21 2001] [notice] Apache/1.3.20 (Unix) Debian/GNU
mod_python/2.7.3 Python/2.0 configured -- resuming normal operations
[Thu Jun 28 12:32:21 2001] [notice] suEXEC mechanism enabled (wrapper:
/usr/lib/apache/suexec)
[Thu Jun 28 12:32:21 2001] [info] Server built: Jun 12 2001 13:50:30
make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.
[Thu Jun 28 12:33:47 2001] [error] [client ] python_handler:
make_obcallback returned no obCallBack!


using the pytho2 idle (idle2) when i put in a script:

from mod_python import apache  ---- this produced an error: can find name
apache ***

when i change this to:

import mod_python.apache ---- the script run fine from the python idle2.


i cant find what the problem is!



-- 


From kbryd at int.gnu.org.pl  Thu Jun 28 19:57:37 2001
From: kbryd at int.gnu.org.pl (Karol Bryd)
Date: Fri Jan  9 22:02:48 2004
Subject: [mod_python] mod_python error
In-Reply-To: <20010628124546.A408@duron750>
Message-ID: <20010628195737.A10677@python.org.pl>

On Thu, Jun 28, 2001 at 12:45:46PM -0500, Julio Mendoza wrote:
> [Thu Jun 28 12:33:47 2001] [error] [client ] python_handler:
> make_obcallback returned no obCallBack!

Funny, I had this problem a moment ago, recompiling mod_python
helped...

PS. I have done a few small benchmarks to compare speed of PHP 4.0.5
and mod_python 2.7.4 - mod_python is at least 2x faster than PHP.
Not bad...

Regards.
-- 
       ------------------- Karol Bryd ------------------
   ---------------- http://int.gnu.org.pl ------------------
-------The general direction of the Alps is straight up.-------

From thehaas at binary.net  Thu Jun 28 14:10:16 2001
From: thehaas at binary.net (Mike Hostetler)
Date: Fri Jan  9 22:02:48 2004
Subject: [mod_python] mod_python speed
In-Reply-To: <20010628195737.A10677@python.org.pl>; from kbryd@int.gnu.org.pl on Thu, Jun 28, 2001 at 07:57:37PM +0200
References: <20010628124546.A408@duron750> <20010628195737.A10677@python.org.pl>
Message-ID: <20010628141016.A34002@ravine.binary.net>

On Thu, Jun 28, 2001 at 07:57:37PM +0200, Karol Bryd wrote:
> PS. I have done a few small benchmarks to compare speed of PHP 4.0.5
> and mod_python 2.7.4 - mod_python is at least 2x faster than PHP.
> Not bad...

I didn't do any benchmarking at all, but I did noticed that mod_python was
faster than PHP, based on user-experience stuff (like "how fast a page loads").
Way to go, guys . . . 

Mike


From richard at ccpgames.com  Thu Jun 28 19:17:36 2001
From: richard at ccpgames.com (Richard)
Date: Fri Jan  9 22:02:48 2004
Subject: [mod_python] mod_python error
Message-ID: <FC15F916EC764C42A4219BC30BFBC072111537@control.central.ccp.cc>

> From: Karol Bryd [mailto:kbryd@int.gnu.org.pl]
> 
> PS. I have done a few small benchmarks to compare speed of PHP 4.0.5
> and mod_python 2.7.4 - mod_python is at least 2x faster than PHP.
> Not bad...

Just out of curiosity, what kind of benchmarking did you do?

Cheers,
Richard.

From jm at eemsystems.cjb.net  Thu Jun 28 16:01:09 2001
From: jm at eemsystems.cjb.net (Julio Mendoza)
Date: Fri Jan  9 22:02:49 2004
Subject: [mod_python] mod_python: there is not solution for this error?
Message-ID: <20010628160109.A559@duron750>


There is not solution for this error:

[Thu Jun 28 15:34:46 2001] [notice] Apache/1.3.20 (Unix) Debian/GNU
mod_python/2.7.3 Python/2.0 configured -- resuming normal operations
[Thu Jun 28 15:34:46 2001] [notice] suEXEC mechanism enabled (wrapper:
/usr/lib/apache/suexec)
[Thu Jun 28 15:34:46 2001] [info] Server built: Jun 12 2001 13:50:30
make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.


From jm at eemsystems.cjb.net  Thu Jun 28 17:35:34 2001
From: jm at eemsystems.cjb.net (Julio Mendoza)
Date: Fri Jan  9 22:02:49 2004
Subject: [mod_python] Re: mod_python error --> Solution
In-Reply-To: <20010628124546.A408@duron750>; from jm@eemsystems.cjb.net on jue, jun 28, 2001 at 12:45:46 -0500
References: <20010628124546.A408@duron750>
Message-ID: <20010628173534.A1775@duron750>

Solution:

1)  apt-get build-dep libapache-mod-python
2) obtain a recent sources from www.modpython.org
3) symblink /usr/bin/python2  --> /usr/bin/python

4) from source of mod_pyton: (readme file)

	 ./configure
	make dso
	make install

This solve my problem.  thank you

I think there is an error in the libapache-mod-python bynary package fron
debian/testing




El jue, 28 jun 2001 12:45:46 Julio Mendoza escribi?:
> this is my apache error.log
> 
> [Thu Jun 28 12:32:21 2001] [notice] Apache/1.3.20 (Unix) Debian/GNU
> mod_python/2.7.3 Python/2.0 configured -- resuming normal operations
> [Thu Jun 28 12:32:21 2001] [notice] suEXEC mechanism enabled (wrapper:
> /usr/lib/apache/suexec)
> [Thu Jun 28 12:32:21 2001] [info] Server built: Jun 12 2001 13:50:30
> make_obcallback(): could not import mod_python.apache.
> make_obcallback(): could not call init.
> [Thu Jun 28 12:33:47 2001] [error] [client ] python_handler:
> make_obcallback returned no obCallBack!
> 
> 
> using the pytho2 idle (idle2) when i put in a script:
> 
> from mod_python import apache  ---- this produced an error: can find name
> apache ***
> 
> when i change this to:
> 
> import mod_python.apache ---- the script run fine from the python idle2.
> 
> 
> i cant find what the problem is!
> 
> 
> 
> -- 
> 
> 
> -- 
> To UNSUBSCRIBE, email to debian-user-request@lists.debian.org 
> with a subject of "unsubscribe". Trouble? Contact
> listmaster@lists.debian.org
> 
> 


From pday at UVic.CA  Thu Jun 28 16:36:00 2001
From: pday at UVic.CA (pday@UVic.CA)
Date: Fri Jan  9 22:02:49 2004
Subject: [mod_python] Solution to make_obcallback() import problems.
Message-ID: <Pine.A41.4.30.0106281607160.19734-100000@unix4.UVic.CA>

Hi all,

I'm fairly new to mod_python stuff and have been pouring through the list
archives and docs looking for a solution.

My setup has more than one python installation. I have stock 1.52,
2.0 and 2.1 versions on my system all of which have threads compiled
in. So I merrily compiled and installed python under my apache
directory which did not have threads. I suspect this is similar for many
of you out there.

This leads to the dreaded:
 make_obcallback(): could not import mod_python.apache.

For a while I relied on PYTHONHOME being set to the mod_python specific
area but this broke all my legacy CGI's that depended on the other
installations of python. So in a desparate measure I came up with the
following patch:

55a56,60
> /* Where the python executeable is stored. This solves the:
>  * make_obcallback(): could not import mod_python.apache.
>  * problem */
> static char* programName = "/usr/local/apache_1.3.20/bin/python";
>
273a279,281
>        /* Set where the executeable of the interpreter is */
>        Py_SetProgramName(programName);
>

This is for version 2.7.5 mod_python.c. You'll have to change programName
according to your installation. It makes sure that Py_SetProgramName is
called before Py_Initialize(). Once that's done the cryptic import errors
will vanish.

I admit this is a total hack and needs some work for official inclusion.
(ie. it would be nice is configure set programName for us automatically.)

Anyhow that's my 2 cent contibution.

Patrick.

PS:

Thanks to Mike Bell for the editting src/Makefile and change OPT=
to OPT=-DEAPI fix.

Also thanks to Damjan Georgievski for his patch to mod_python. It was
great for showing that sys.path was a mess.


From murban at tznet.com  Thu Jun 28 21:31:58 2001
From: murban at tznet.com (Michael C. Urban)
Date: Fri Jan  9 22:02:49 2004
Subject: [mod_python] Configuration problems.
Message-ID: <20010628213157.A41697@kiara.simbalink.org>

Hi,

I just installed mod_python as a DSO, in Apache 1.3.20 under FreeBSD.
The install went fine, and the module seems to load. But when I try to
do the 2.4 Testing section in the manual and add the following lines
to httpd.conf as shown in the manual:


<Directory /some/directory/htdocs/test> 
    AddHandler python-program .py
    PythonHandler mptest 
    PythonDebug On 
</Directory>

I get the following error when trying to start Apache:

Syntax error on line 371 of /usr/local/etc/apache/httpd.conf:
Invalid command 'PythonHandler', perhaps mis-spelled or defined by a
module not included in the server configuration

Anyone have any ideas?

Thanks,

Mike

From murban at tznet.com  Thu Jun 28 21:40:34 2001
From: murban at tznet.com (Michael C. Urban)
Date: Fri Jan  9 22:02:49 2004
Subject: [mod_python] Re: Configuration problems.
In-Reply-To: <20010628213157.A41697@kiara.simbalink.org>; from murban@tznet.com on Thu, Jun 28, 2001 at 09:31:58PM -0500
References: <20010628213157.A41697@kiara.simbalink.org>
Message-ID: <20010628214034.A41825@kiara.simbalink.org>

Oops...

I found the problem and fixed it.

Thanks,

Mike

On Thu, Jun 28, 2001 at 09:31:58PM -0500, Michael C. Urban wrote:
> Hi,
> 
> I just installed mod_python as a DSO, in Apache 1.3.20 under FreeBSD.
> The install went fine, and the module seems to load. But when I try to
> do the 2.4 Testing section in the manual and add the following lines
> to httpd.conf as shown in the manual:
> 
> 
> <Directory /some/directory/htdocs/test> 
>     AddHandler python-program .py
>     PythonHandler mptest 
>     PythonDebug On 
> </Directory>
> 
> I get the following error when trying to start Apache:
> 
> Syntax error on line 371 of /usr/local/etc/apache/httpd.conf:
> Invalid command 'PythonHandler', perhaps mis-spelled or defined by a
> module not included in the server configuration
> 
> Anyone have any ideas?
> 
> Thanks,
> 
> Mike

From grisha at modpython.org  Thu Jun 28 23:59:57 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 22:02:49 2004
Subject: [mod_python] Configuration problems.
In-Reply-To: <20010628213157.A41697@kiara.simbalink.org>
Message-ID: <Pine.BSF.4.32.0106282354080.67586-100000@localhost>

This means the Module didn't load. You can it the module is loaded or not
with a simple test by telneting to your web server and sending "HEAD /
HTML/1.0" and look for the server to have the mod_python and Python
version in the header. If you don't see it, the module didn't load.
Should look something like this:

$ telnet localhost 80
Trying 127.0.0.1....
Connected to localhost.
Escape character is '^]'.
HEAD / HTTP/1.0

HTTP/1.1 302 Found
Date: Fri, 29 Jun 2001 03:55:37 GMT
Server: Apache/1.3.14 (Unix) mod_ssl/2.7.1 OpenSSL/0.9.6 mod_python/2.7.2 Python/2.0

Grisha


On Thu, 28 Jun 2001, Michael C. Urban wrote:

> Hi,
>
> I just installed mod_python as a DSO, in Apache 1.3.20 under FreeBSD.
> The install went fine, and the module seems to load. But when I try to
> do the 2.4 Testing section in the manual and add the following lines
> to httpd.conf as shown in the manual:
>
>
> <Directory /some/directory/htdocs/test>
>     AddHandler python-program .py
>     PythonHandler mptest
>     PythonDebug On
> </Directory>
>
> I get the following error when trying to start Apache:
>
> Syntax error on line 371 of /usr/local/etc/apache/httpd.conf:
> Invalid command 'PythonHandler', perhaps mis-spelled or defined by a
> module not included in the server configuration
>
> Anyone have any ideas?
>
> Thanks,
>
> Mike
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From kbryd at int.gnu.org.pl  Fri Jun 29 10:16:21 2001
From: kbryd at int.gnu.org.pl (Karol Bryd)
Date: Fri Jan  9 22:02:49 2004
Subject: [mod_python] mod_python error
In-Reply-To: <FC15F916EC764C42A4219BC30BFBC072111537@control.central.ccp.cc>
Message-ID: <20010629101621.A16134@python.org.pl>

On Thu, Jun 28, 2001 at 07:17:36PM -0000, Richard wrote:
> > From: Karol Bryd [mailto:kbryd@int.gnu.org.pl]
> > 
> > PS. I have done a few small benchmarks to compare speed of PHP 4.0.5
> > and mod_python 2.7.4 - mod_python is at least 2x faster than PHP.
> > Not bad...
> 
> Just out of curiosity, what kind of benchmarking did you do?

I know that benchmarks lie, but I couldn't resist ;-)
Here is the first one (and most complex):

def test():                                                              
    start = time()                                              
    tab = {}                                            
    fp = open("/home/kbryd/public_html/python2/data", "r")                       
    n = 0                                                                
    lines = fp.readlines()                                       
    for line in lines:                                   
	fields = split(line, '=')                
        tab[n] = [fields[0], fields[1]]  
        n+=1                     
    fp.close()   
    end = time()                                                                
    return end-start                                                    

(the file is 400KB long)

It was repeated 100 times to calculate average.

Regards.
-- 
       ------------------- Karol Bryd ------------------
   ---------------- http://int.gnu.org.pl ------------------
------There's got to be more to life than compile-and-go.------

