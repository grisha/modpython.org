<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Trouble loading mod_python Mac Os X
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Trouble%20loading%20mod_python%20Mac%20Os%20X&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025624.html">
   <LINK REL="Next"  HREF="025626.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Trouble loading mod_python Mac Os X</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Florian Leitner</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Trouble%20loading%20mod_python%20Mac%20Os%20X&In-Reply-To="
       TITLE="[mod_python] Trouble loading mod_python Mac Os X">florian.leitner at cnio.es
       </A><BR>
    <I>Mon Sep  8 14:21:00 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025624.html">[mod_python] excluding files from traversal
</A></li>
        <LI>Next message: <A HREF="025626.html">Fwd: [mod_python] Trouble loading mod_python Mac Os X
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25625">[ date ]</a>
              <a href="thread.html#25625">[ thread ]</a>
              <a href="subject.html#25625">[ subject ]</a>
              <a href="author.html#25625">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I, too, have the same problem as Alex Lurthu loading mod_python. I am  
using an OSX Server (10.5.3), ppc64 architecture. After solving the  
architecture problem, I get these error messages:

[Mon Sep 08 19:42:55 2008] [error] (9)Bad file descriptor:  
apr_pollset_poll: (listen)
httpd: Syntax error on line 164 of /private/etc/apache2/httpd.conf:  
Can't locate API module structure `pyhton25_module' in file /usr/ 
libexec/apache2/mod_python.so: dlsym(0x100206d00, pyhton25_module):  
symbol not found

(pyhton25_module is the name I gave mod_python in the OSX server  
Apache configuration)
I then followed Graham's advice to get the latest SVN version. This  
helps solving the architecture problem without any manual  
interventions (i.e., I just configure/make/install, and the can go  
&quot;directly&quot; to the &quot;symbol not found&quot; error), but the symbol error does  
not get resolved. Then, I found a blog describing this &quot;symbol not  
found&quot; error because OSX Server is calling /usr/bin/envvars when  
executing apachectl, which contains these lines:

DYLD_LIBRARY_PATH=&quot;/usr/lib:$DYLD_LIBRARY_PATH&quot;
export DYLD_LIBRARY_PATH

I commented out those as advised, but obviously without help - the  
symbol error also persists after recompiling mod_python with those  
line commented and/or calling /usr/sbin/httpd directly. Also launching  
httpd with different architecture flags (using

/usr/bin/arch -arch &lt;some arch&gt; /usr/sbin/httpd -D FOREGROUND

) does not help. Also, the output of otool looks nice:

/usr/libexec/apache2/mod_python.so:
	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current  
version 111.1.1)
	/System/Library/Frameworks/Python.framework/Versions/2.5/Python  
(compatibility version 2.5.0, current version 2.5.1)
	/usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current  
version 1.0.0)

Just as the file output:

/usr/libexec/apache2/mod_python.so: Mach-O universal binary with 4  
architectures
/usr/libexec/apache2/mod_python.so (for architecture ppc7400):	Mach-O  
bundle ppc
/usr/libexec/apache2/mod_python.so (for architecture ppc64):	Mach-O 64- 
bit bundle ppc64
/usr/libexec/apache2/mod_python.so (for architecture i386):	Mach-O  
bundle i386
/usr/libexec/apache2/mod_python.so (for architecture x86_64):	Mach-O  
64-bit bundle x86_64

So I am quite clueless now. Any ideas? Thanks!

-Florian

=Architecture:
ppc64 (G5)
=OS:
OSX Server 10.5.4
=Apache:
2.2.8/Unix
=mod_python:
SVN version, and 3.3.1
=Python:
2.5.1 (OSX 10.5.4 default version)

--
Florian Leitner
<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">fleitner at cnio.es</A>
<A HREF="http://www.CNIO.es">http://www.CNIO.es</A>

BioCreative MetaServer:
<A HREF="http://bcms.bioinfo.cnio.es">http://bcms.bioinfo.cnio.es</A>

Spanish National Cancer Research Centre
Structural and Computational Biology Unit
C/ Melchor Fernandez Almagro, 3
E-28029 Madrid


**NOTA DE CONFIDENCIALIDAD** Este correo electr&#243;nico, y en su caso los ficheros adjuntos, pueden contener informaci&#243;n protegida para el uso exclusivo de su destinatario. Se proh&#237;be la distribuci&#243;n, reproducci&#243;n o cualquier otro tipo de transmisi&#243;n por parte de otra persona que no sea el destinatario. Si usted recibe por error este correo, se ruega comunicarlo al remitente y borrar el mensaje recibido.
**CONFIDENTIALITY NOTICE** This email communication and any attachments may contain confidential and privileged information for the sole use of the designated recipient named above. Distribution, reproduction or any other use of this transmission by any party other than the intended recipient is prohibited. If you are not the intended recipient please contact the sender and delete all copies.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025624.html">[mod_python] excluding files from traversal
</A></li>
	<LI>Next message: <A HREF="025626.html">Fwd: [mod_python] Trouble loading mod_python Mac Os X
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25625">[ date ]</a>
              <a href="thread.html#25625">[ thread ]</a>
              <a href="subject.html#25625">[ subject ]</a>
              <a href="author.html#25625">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
