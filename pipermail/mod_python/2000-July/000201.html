<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Errors with Apache 1.3.12 and mod_python
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Errors%20with%20Apache%201.3.12%20and%20mod_python&In-Reply-To=2336170196.964408844%40celery.schwager.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000197.html">
   <LINK REL="Next"  HREF="000198.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Errors with Apache 1.3.12 and mod_python</H1>
    <B>Gregory Trubetskoy</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Errors%20with%20Apache%201.3.12%20and%20mod_python&In-Reply-To=2336170196.964408844%40celery.schwager.com"
       TITLE="[mod_python] Errors with Apache 1.3.12 and mod_python">grisha at ispol.com
       </A><BR>
    <I>Mon Jul 24 09:56:01 EST 2000</I>
    <P><UL>
        <LI>Previous message: <A HREF="000197.html">[mod_python] Errors with Apache 1.3.12 and mod_python
</A></li>
        <LI>Next message: <A HREF="000198.html">[mod_python] multiple headers (cookies) are not sent
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#201">[ date ]</a>
              <a href="thread.html#201">[ thread ]</a>
              <a href="subject.html#201">[ subject ]</a>
              <a href="author.html#201">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>When you run httpd with the -X option from the directory where test.py
lives, it works because by default has the current directory in the python
path.

When you run httpd as a daemon, then your current directory is undefined
(most likely it is ServerRoot). 

To get around this, mod_python prepends the directory for which the
directive is specified to the pythopath. But because you put your
directives in httpd.conf outside of any &lt;Directory&gt; directives, mod_python
does not modify your python path in any way, because it doesn't know how
to. What you should do, if you're not using .htaccess, is:

&lt;Directory /dir/where/test.py/is&gt;
	AddHandler python-program .py
	PythonHandler test
	PythonDebug On
&lt;/Directory&gt;

Then &quot;/dir/where/test.py/is&quot; will be added to the python path and it will
work fine.

--
  Gregory (Grisha) Trubetskoy
       <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">grisha at ispol.com</A>

On Mon, 24 Jul 2000, Michael Schwager wrote:

&gt;<i> Hi,
</I>&gt;<i> Yes- I am a newbie.  I just installed apache 1.3.12 with mod_python 2.4.1 
</I>&gt;<i> on my Solaris 2.6 box.  Everything went ok, except I am getting an error 
</I>&gt;<i> when I try to run the test.py as instructed in the install docs (see 
</I>&gt;<i> below).  Notice that, strangely, I get no errors- indeed the script works 
</I>&gt;<i> fine- if I run httpd with the -X option.  I note that I must be in the 
</I>&gt;<i> htdocs directory for that to work (thus, httpd sees the test subdir, which 
</I>&gt;<i> contains the test.py file).  So I'm not sure how the directories and 
</I>&gt;<i> filenames are related to PythonHandler, and how they are found by httpd 
</I>&gt;<i> and/or python.  But I think the problem is path-related.
</I>&gt;<i> 
</I>&gt;<i> Any useful help will be appreciated.  I do not have a .htaccess file; I put 
</I>&gt;<i> the appropriate lines in the httpd.conf file:
</I>&gt;<i> AddHandler python-program .py
</I>&gt;<i> PythonHandler test
</I>&gt;<i> PythonDebug On
</I>&gt;<i> 
</I>&gt;<i> Here is the error:
</I>&gt;<i> [Mon Jul 24 02:17:20 2000] [error] PythonHandler test: Traceback (most 
</I>&gt;<i> recent call last):
</I>&gt;<i> [Mon Jul 24 02:17:20 2000] [error] PythonHandler test:   File 
</I>&gt;<i> &quot;/usr/local/lib/python1.6/site-packages/mod_python/apache.py&quot;, line 116, in 
</I>&gt;<i> Dispatch
</I>&gt;<i>     object = self.resolve_object(module, object_str)
</I>&gt;<i> [Mon Jul 24 02:17:20 2000] [error] PythonHandler test:   File 
</I>&gt;<i> &quot;/usr/local/lib/python1.6/site-packages/mod_python/apache.py&quot;, line 51, in 
</I>&gt;<i> resolve_object
</I>&gt;<i>     raise AttributeError, s
</I>&gt;<i> [Mon Jul 24 02:17:20 2000] [error] PythonHandler test: AttributeError: 
</I>&gt;<i> module '/usr/local/lib/python1.6/test/__init__.pyc' contains no 'handler'
</I>&gt;<i> --
</I>&gt;<i> -Mike                                <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mike at Schwager.com</A>
</I>&gt;<i>         
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://www.modpython.org/mailman/listinfo/mod_python">http://www.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> 
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000197.html">[mod_python] Errors with Apache 1.3.12 and mod_python
</A></li>
	<LI>Next message: <A HREF="000198.html">[mod_python] multiple headers (cookies) are not sent
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#201">[ date ]</a>
              <a href="thread.html#201">[ thread ]</a>
              <a href="subject.html#201">[ subject ]</a>
              <a href="author.html#201">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
