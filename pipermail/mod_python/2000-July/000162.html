<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] httplib: [notice] child pid 8937 exit signal Segmentation fault (11)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20httplib%3A%20%5Bnotice%5D%20child%20pid%208937%20exit%20signal%20Segmentation%20fault%20%2811%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000164.html">
   <LINK REL="Next"  HREF="000163.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] httplib: [notice] child pid 8937 exit signal Segmentation fault (11)</H1>
    <B>IlpoNyyss&#246;nen</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20httplib%3A%20%5Bnotice%5D%20child%20pid%208937%20exit%20signal%20Segmentation%20fault%20%2811%29&In-Reply-To="
       TITLE="[mod_python] httplib: [notice] child pid 8937 exit signal Segmentation fault (11)">iny at iki.fi
       </A><BR>
    <I>Tue Jul  4 16:58:02 EST 2000</I>
    <P><UL>
        <LI>Previous message: <A HREF="000164.html">[mod_python] US Independence Day release - 2.4.1
</A></li>
        <LI>Next message: <A HREF="000163.html">[mod_python] httplib: [notice] child pid 8937 exit signal
 Segmentation fault (11)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#162">[ date ]</a>
              <a href="thread.html#162">[ thread ]</a>
              <a href="subject.html#162">[ subject ]</a>
              <a href="author.html#162">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I tried to use urllib to retrieve some pictures dynamically, but the
child dies with segmentation fault. This happens also with httplib,
for example with the code below. The dying seems to happen when
closing the connection.

-- clip --
from mod_python import apache
import httplib

def handler(req):
    req.content_type = 'text/plain'
    req.send_http_header()
    
    h = httplib.HTTP('www.python.org')
    h.putrequest('GET', '/index.html')
    h.putheader('Accept', 'text/html')
    h.putheader('Accept', 'text/plain')
    h.endheaders()
    errcode, errmsg, headers = h.getreply()
    if errcode == 200:
        f = h.getfile()
        req.write(f.read())

    return apache.OK
-- clip --

-- 
Ilpo Nyyss&#246;nen # biny
/* :-) */

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000164.html">[mod_python] US Independence Day release - 2.4.1
</A></li>
	<LI>Next message: <A HREF="000163.html">[mod_python] httplib: [notice] child pid 8937 exit signal
 Segmentation fault (11)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#162">[ date ]</a>
              <a href="thread.html#162">[ thread ]</a>
              <a href="subject.html#162">[ subject ]</a>
              <a href="author.html#162">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
