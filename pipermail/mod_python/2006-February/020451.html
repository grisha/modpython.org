<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] apache core dumped after mod_python 2.7.11
	installation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20apache%20core%20dumped%20after%20mod_python%202.7.11%0A%09installation&In-Reply-To=1140990473.30744%40dscpl.user.openhosting.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020450.html">
   <LINK REL="Next"  HREF="020452.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] apache core dumped after mod_python 2.7.11
	installation</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>edgar mortiz</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20apache%20core%20dumped%20after%20mod_python%202.7.11%0A%09installation&In-Reply-To=1140990473.30744%40dscpl.user.openhosting.com"
       TITLE="[mod_python] apache core dumped after mod_python 2.7.11
	installation">pfunix at gmail.com
       </A><BR>
    <I>Sun Feb 26 18:48:07 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020450.html">[mod_python] apache core dumped after mod_python 2.7.11
	installation
</A></li>
        <LI>Next message: <A HREF="020452.html">[mod_python] apache core dumped after mod_python
	2.7.11installation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20451">[ date ]</a>
              <a href="thread.html#20451">[ thread ]</a>
              <a href="subject.html#20451">[ subject ]</a>
              <a href="author.html#20451">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>i don't have php installed just a the pre-built OpenBSD's version of apache
and the mod_python that im trying to run it on ... I'll try to build my own
apache and build mod_python against it and see what i could find.

it might be due to the major bump-changes that obsd did on apache that might
be causing the issue.

someone on another list was telling me that i should move to lightTPD and
FastCGI so that i could run python on it .. but i'll stick to mod_python and
apache if other people can make it run ... i think i can too..


thanks for the reply

ed

On 2/26/06, Graham Dumpleton &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">grahamd at dscpl.com.au</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Core dumps on startup which might be attributable to mod_python
</I>&gt;<i> generally occur either because of shared library version mismatches
</I>&gt;<i> between different Apache modules, or where there are multiple
</I>&gt;<i> versions of Python on a system and mod_python is finding the wrong
</I>&gt;<i> one when Apache is started.
</I>&gt;<i>
</I>&gt;<i> Unfortunately, the error logging output in the old version of mod_python
</I>&gt;<i> you are using, doesn't really help to sort out the latter, where as latest
</I>&gt;<i> version of mod_python might. Unless you move to Apache 2.0, the
</I>&gt;<i> newer version can't be used though.
</I>&gt;<i>
</I>&gt;<i> As to shared library mismatch, if you are also loading PHP module,
</I>&gt;<i> disable the PHP module and see if it makes a difference.
</I>&gt;<i>
</I>&gt;<i> Graham
</I>&gt;<i>
</I>&gt;<i> edgar mortiz wrote ..
</I>&gt;<i> &gt; i've installed mod_python 2.7.11 on my openbsd machine running python
</I>&gt;<i> &gt; 2.4.2(w/c i build from source)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; everything build just fine
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;  ./configure --with-apxs=/usr/sbin/apxs
</I>&gt;<i> &gt; loading cache ./config.cache
</I>&gt;<i> &gt; checking for gcc... (cached) gcc
</I>&gt;<i> &gt; checking whether the C compiler (gcc  ) works... yes
</I>&gt;<i> &gt; checking whether the C compiler (gcc  ) is a cross-compiler... no
</I>&gt;<i> &gt; checking whether we are using GNU C... (cached) yes
</I>&gt;<i> &gt; checking whether gcc accepts -g... (cached) yes
</I>&gt;<i> &gt; checking for ranlib... (cached) ranlib
</I>&gt;<i> &gt; checking for ar... (cached) ar
</I>&gt;<i> &gt; checking for a BSD compatible install... (cached) /usr/bin/install -c
</I>&gt;<i> &gt; checking whether make sets ${MAKE}... (cached) yes
</I>&gt;<i> &gt; checking for main in -lm... (cached) yes
</I>&gt;<i> &gt; checking for working const... (cached) yes
</I>&gt;<i> &gt; checking your blood pressure... a bit high, but we can proceed
</I>&gt;<i> &gt; checking whether apxs is available
</I>&gt;<i> &gt; checking for --with-apxs... /usr/sbin/apxs executable, good
</I>&gt;<i> &gt; checking for Apache libexec directory... /usr/lib/apache/modules
</I>&gt;<i> &gt; checking for Apache include directory... -I/usr/lib/apache/include
</I>&gt;<i> &gt; checking for --with-apache... no
</I>&gt;<i> &gt; configure: warning: **** No apache sources specified, static compilation
</I>&gt;<i> &gt; will not be available.
</I>&gt;<i> &gt; configure: warning: **** You can use --with-apache to specify where your
</I>&gt;<i> &gt; Apache sources are.
</I>&gt;<i> &gt; checking for --with-python... no
</I>&gt;<i> &gt; checking for python... (cached) /usr/local/bin/python
</I>&gt;<i> &gt; checking Python version... 2.4
</I>&gt;<i> &gt; checking whether Python is compiled with thread support... no threads,
</I>&gt;<i> &gt; good
</I>&gt;<i> &gt; checking Python install prefix... /usr/local
</I>&gt;<i> &gt; checking what libraries Python was linked with...
</I>&gt;<i> &gt; /usr/local/lib/python2.4/config/libpython2.4.a   -lpthread  -lutil
</I>&gt;<i> &gt; -lm
</I>&gt;<i> &gt; checking linker flags used to link Python...
</I>&gt;<i> &gt; checking where Python include files are...
</I>&gt;<i> -I/usr/local/include/python2.4
</I>&gt;<i> &gt; checking for mkdep... (cached) /usr/bin/mkdep
</I>&gt;<i> &gt; creating ./config.status
</I>&gt;<i> &gt; creating Makefile
</I>&gt;<i> &gt; creating src/Makefile
</I>&gt;<i> &gt; creating src/libpython.module
</I>&gt;<i> &gt; creating Doc/Makefile
</I>&gt;<i> &gt; analyzing dependencies
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; *** make dso
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; make dso
</I>&gt;<i> &gt; gcc  -I/home/pfunix/mod_python-2.7.11/src/include
</I>&gt;<i> -I/usr/lib/apache/include
</I>&gt;<i> &gt; -I/usr/local/include/python2.4  -c mod_python.c
</I>&gt;<i> &gt; gcc  -I/home/pfunix/mod_python-2.7.11/src/include
</I>&gt;<i> -I/usr/lib/apache/include
</I>&gt;<i> &gt; -I/usr/local/include/python2.4  -c _apachemodule.c
</I>&gt;<i> &gt; gcc  -I/home/pfunix/mod_python-2.7.11/src/include
</I>&gt;<i> -I/usr/lib/apache/include
</I>&gt;<i> &gt; -I/usr/local/include/python2.4  -c requestobject.c
</I>&gt;<i> &gt; gcc  -I/home/pfunix/mod_python-2.7.11/src/include
</I>&gt;<i> -I/usr/lib/apache/include
</I>&gt;<i> &gt; -I/usr/local/include/python2.4  -c tableobject.c
</I>&gt;<i> &gt; gcc  -I/home/pfunix/mod_python-2.7.11/src/include
</I>&gt;<i> -I/usr/lib/apache/include
</I>&gt;<i> &gt; -I/usr/local/include/python2.4  -c util.c
</I>&gt;<i> &gt; gcc  -I/home/pfunix/mod_python-2.7.11/src/include
</I>&gt;<i> -I/usr/lib/apache/include
</I>&gt;<i> &gt; -I/usr/local/include/python2.4  -c serverobject.c
</I>&gt;<i> &gt; gcc  -I/home/pfunix/mod_python-2.7.11/src/include
</I>&gt;<i> -I/usr/lib/apache/include
</I>&gt;<i> &gt; -I/usr/local/include/python2.4  -c connobject.c
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Compiling for DSO. For static, do &quot;make static&quot;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; /usr/sbin/apxs -I/home/pfunix/mod_python-2.7.11/src/include
</I>&gt;<i> &gt; -I/usr/lib/apache/include -I/usr/local/include/python2.4 -c mod_python.o
</I>&gt;<i> &gt; _apachemodule.o  requestobject.o  tableobject.o  util.o  serverobject.o
</I>&gt;<i> &gt; connobject.o -lm  /usr/local/lib/python2.4/config/libpython2.4.a
</I>&gt;<i> &gt; -lpthread  -lutil   -lm
</I>&gt;<i> &gt; gcc -shared -fPIC -DSHARED_MODULE -o mod_python.so mod_python.o
</I>&gt;<i> &gt; _apachemodule.o requestobject.o tableobject.o util.o serverobject.o
</I>&gt;<i> &gt; connobject.o -lm /usr/local/lib/python2.4/config/libpython2.4.a
</I>&gt;<i> -lpthread
</I>&gt;<i> &gt; -lutil -lm
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Now su and make install
</I>&gt;<i> &gt;   (or, if you only want to perform a partial install,
</I>&gt;<i> &gt;    you can use make install_dso and make install_py_lib)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ** make install
</I>&gt;<i> &gt; # make install
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Performing DSO installation.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; /usr/bin/install -c src/mod_python.so /usr/lib/apache/modules
</I>&gt;<i> &gt; /usr/bin/install -c -d /usr/local/lib/python2.4/site-packages/mod_python
</I>&gt;<i> &gt; python /usr/local/lib/python2.4/compileall.py
</I>&gt;<i> &gt; /usr/local/lib/python2.4/site-packages/mod_python
</I>&gt;<i> &gt; Listing /usr/local/lib/python2.4/site-packages/mod_python ...
</I>&gt;<i> &gt; Compiling /usr/local/lib/python2.4/site-packages/mod_python/__init__.py
</I>&gt;<i> &gt; ...
</I>&gt;<i> &gt; Compiling /usr/local/lib/python2.4/site-packages/mod_python/apache.py
</I>&gt;<i> ...
</I>&gt;<i> &gt; Compiling
</I>&gt;<i> /usr/local/lib/python2.4/site-packages/mod_python/cgihandler.py
</I>&gt;<i> &gt; ...
</I>&gt;<i> &gt; Compiling /usr/local/lib/python2.4/site-packages/mod_python/httpdapi.py
</I>&gt;<i> &gt; ...
</I>&gt;<i> &gt; Compiling /usr/local/lib/python2.4/site-packages/mod_python/publisher.py
</I>&gt;<i> &gt; ...
</I>&gt;<i> &gt; Compiling /usr/local/lib/python2.4/site-packages/mod_python/util.py ...
</I>&gt;<i> &gt; Compiling /usr/local/lib/python2.4/site-packages/mod_python/zhandler.py
</I>&gt;<i> &gt; ...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Now don't forget to edit your main config and add
</I>&gt;<i> &gt;     LoadModule python_module /usr/lib/apache/modules/mod_python.so
</I>&gt;<i> &gt; and if your configuration uses ClearModuleList, then also
</I>&gt;<i> &gt;     AddModule mod_python.c
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; but when I put the
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; LoadModule python_module /usr/lib/apache/modules/mod_python.so on
</I>&gt;<i> httpd.conf
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; and restart apache i get a
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; # apachectl restart
</I>&gt;<i> &gt; /usr/sbin/apachectl restart: httpd not running, trying to start
</I>&gt;<i> &gt; /usr/sbin/apachectl restart: httpd started
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; but there's no httpd on process, nor can i view apache
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; i did a
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; # apachectl configtest
</I>&gt;<i> &gt; Syntax OK
</I>&gt;<i> &gt; Segmentation fault (core dumped)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; and this is where i ended up .. any help would be greatly appreciated.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I'm running OpenBSD 3.9BETA
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Apache/1.3.29 (prebuild in obsd)
</I>&gt;<i> &gt; mod_python 2.7.11 (source)
</I>&gt;<i> &gt; Python 2.4.2 (source)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; thanks,
</I>&gt;<i> &gt; ed
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20060226/f1a994e6/attachment-0001.html">http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20060226/f1a994e6/attachment-0001.html</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020450.html">[mod_python] apache core dumped after mod_python 2.7.11
	installation
</A></li>
	<LI>Next message: <A HREF="020452.html">[mod_python] apache core dumped after mod_python
	2.7.11installation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20451">[ date ]</a>
              <a href="thread.html#20451">[ thread ]</a>
              <a href="subject.html#20451">[ subject ]</a>
              <a href="author.html#20451">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
