<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Questions about PSP vs other solutions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Questions%20about%20PSP%20vs%20other%20solutions&In-Reply-To=000501c633c6%2461897f60%24f8dbebc9%40luis">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020338.html">
   <LINK REL="Next"  HREF="020339.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Questions about PSP vs other solutions</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Jim Gallacher</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Questions%20about%20PSP%20vs%20other%20solutions&In-Reply-To=000501c633c6%2461897f60%24f8dbebc9%40luis"
       TITLE="[mod_python] Questions about PSP vs other solutions">jpg at jgassociates.ca
       </A><BR>
    <I>Fri Feb 17 11:57:20 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020338.html">[mod_python] Questions about PSP vs other solutions
</A></li>
        <LI>Next message: <A HREF="020339.html">[mod_python] req.user and SSL?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20344">[ date ]</a>
              <a href="thread.html#20344">[ thread ]</a>
              <a href="subject.html#20344">[ subject ]</a>
              <a href="author.html#20344">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Luis M. Gonzalez wrote:
&gt;<i> Hi there,
</I>&gt;<i> 
</I>&gt;<i> I would highly appreciate if someone sheds some light over these 
</I>&gt;<i> questions I have...
</I>&gt;<i> I've been reading an old post from 2003, where Sterling Hughes, Rimon 
</I>&gt;<i> Barr and others were discussing about
</I>&gt;<i> the convenience, advantages and disadvantages of including PSP into 
</I>&gt;<i> mod_python (&quot;supporting modular mod_python extensions vs.&quot;folding&quot; 
</I>&gt;<i> mod_psp&quot;)
</I>&gt;<i> There were many parts that seemed to contradict each point of view, but 
</I>&gt;<i> I selected two paragraphs that best illustrate the issue:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Sterling Hugues:
</I>&gt;<i> &quot;PSP is a very small, very fast alternative, it doesn't preclude you from
</I>&gt;<i> using any of the listed solutions.  In fact you can use PSP in
</I>&gt;<i> conjunction with any of the solutions listed, or you can even ignore its
</I>&gt;<i> existence altogether and use something else, or code directly with
</I>&gt;<i> req.write().  There is *zero* performance loss if you choose to use
</I>&gt;<i> another option, like spyce.&quot;
</I>&gt;<i> 
</I>&gt;<i> Rimon Barr:
</I>&gt;<i> &quot;I saw that you were working on a C-based
</I>&gt;<i> parser for psp, and I asked you whether you were interested in working
</I>&gt;<i> on such a parser for the Spyce language. The rationale is that although
</I>&gt;<i> the parser does not matter much for performance, because the compiled
</I>&gt;<i> files are cached, it would be nice as an option for developers, since
</I>&gt;<i> the current Spyce parser is implemented in Python and is relatively
</I>&gt;<i> slow. I also, thinking that you work with the Apache Foundation, I
</I>&gt;<i> offered to donate Spyce to the AF. Donating to the AF does not mean, in
</I>&gt;<i> my mind, merging the Spyce and mod_python projects.&quot;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> So both seem to agree in that being PSP a c-based parser is a good 
</I>&gt;<i> thing, because it is very fast.
</I>&gt;<i> However, both of them consider also that it doesn't matter, because the 
</I>&gt;<i> compiled files are cached (?)
</I>&gt;<i> and there's *zero* performance lost when choosing another option.
</I>&gt;<i> Hence, what's the advantage of using PSP?
</I>&gt;<i> If using any other solution has zero performance lost, why bother in 
</I>&gt;<i> writing a c-based parser?
</I>&gt;<i> 
</I>&gt;<i> Maybe I lost some important detail of the discussion, or my limited 
</I>&gt;<i> english played against me, but isn't it contradictory?
</I>
It does seem contradictory, so I guess your english is just fine. :)

I haven't read the thread, but I think Sterling means that there is no 
performance penalty if the psp parser is included in mod_python but not 
actually used by the application developer.

On the other hand, Rimon seems concerned about the actual parser 
performance so I think the subject of the thread may have diverged at 
some point.

I don't agree that there is no performance penalty. You need to parse 
the file at least once when it is first encountered. Depending on your 
cache implementation, you may have one cache per intepreter, so for a 
prefork mpm you'll need to parse the file once for each apache child 
process. Also, a cache may have some sort of size limit, so less 
frequently used files may be removed from the cache and need to be 
parsed on the next encounter.

The impact of these factors will likely differ between websites and it's 
probably a mistake to make any sweeping generalizations. The only way to 
tell if the parser speed is important to you is to profile your website. 
For example, I would guess that the parser performance would be 
important on a website with a large number of pages which are not viewed 
frequently, such as 50,000 pages each visited once a day. On the other 
hand the cache performance will be much more significant if you have 10 
pages that are visited 5000 times in a day.

Jim
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020338.html">[mod_python] Questions about PSP vs other solutions
</A></li>
	<LI>Next message: <A HREF="020339.html">[mod_python] req.user and SSL?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20344">[ date ]</a>
              <a href="thread.html#20344">[ thread ]</a>
              <a href="subject.html#20344">[ subject ]</a>
              <a href="author.html#20344">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
