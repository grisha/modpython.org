<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] setting apache variables from mod_python
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20setting%20apache%20variables%20from%20mod_python&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020324.html">
   <LINK REL="Next"  HREF="020347.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] setting apache variables from mod_python</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20setting%20apache%20variables%20from%20mod_python&In-Reply-To="
       TITLE="[mod_python] setting apache variables from mod_python">grahamd at dscpl.com.au
       </A><BR>
    <I>Thu Feb 16 18:03:29 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020324.html">[mod_python] setting apache variables from mod_python
</A></li>
        <LI>Next message: <A HREF="020347.html">[mod_python] setting apache variables from mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20325">[ date ]</a>
              <a href="thread.html#20325">[ thread ]</a>
              <a href="subject.html#20325">[ subject ]</a>
              <a href="author.html#20325">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">matthew.garman at gmail.com</A> wrote ..
&gt;<i> I'm looking to use mod_python to set some apache variables that can
</I>&gt;<i> be read from PHP's $_SERVER variable.  I'm not sure how to do this
</I>&gt;<i> in mod_python (I'm sure it's documented, but I don't know what to
</I>&gt;<i> look for); I also don't know how to invoke such a beast from within
</I>&gt;<i> a PHP script.
</I>
I am not sure by what mechanism you may be able to access them
from PHP, but suggest two options.

1. Set values in the req.notes table object.

2. Set values in req.subprocess_env table object.

The place to do them from in mod_python would be to specifying
a fixup handler (not a content handler) and do it there. A content
handler shouldn't be defined as that tends to disable execution of
PHP stuff. Thus:

  PythonFixupHandler setphpstuff

  # setphpstuff.py

  from mod_python import apache

  def fixuphandler(req):
    req.notes[&quot;STUFF_FOR_PHP&quot;] = &quot;value&quot;
    req.subprocess_env[&quot;OTHER_STUFF_FOR_PHP&quot;] = &quot;value&quot;
    return apache.OK

Graham
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020324.html">[mod_python] setting apache variables from mod_python
</A></li>
	<LI>Next message: <A HREF="020347.html">[mod_python] setting apache variables from mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20325">[ date ]</a>
              <a href="thread.html#20325">[ thread ]</a>
              <a href="subject.html#20325">[ subject ]</a>
              <a href="author.html#20325">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
