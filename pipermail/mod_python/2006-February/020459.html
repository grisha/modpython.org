<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] How to make a handler for static files?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20How%20to%20make%20a%20handler%20for%20static%20files%3F&In-Reply-To=4402B725.1050501%40mischko.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020463.html">
   <LINK REL="Next"  HREF="020464.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] How to make a handler for static files?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Jorey Bump</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20How%20to%20make%20a%20handler%20for%20static%20files%3F&In-Reply-To=4402B725.1050501%40mischko.com"
       TITLE="[mod_python] How to make a handler for static files?">list at joreybump.com
       </A><BR>
    <I>Mon Feb 27 10:02:27 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020463.html">[mod_python] How to make a handler for static files?
</A></li>
        <LI>Next message: <A HREF="020464.html">[mod_python] How to make a handler for static files?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20459">[ date ]</a>
              <a href="thread.html#20459">[ thread ]</a>
              <a href="subject.html#20459">[ subject ]</a>
              <a href="author.html#20459">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Scott Chapman wrote:

&gt;<i> Why would I want to experiment with a thing like this?  I want to be 
</I>&gt;<i> able to add virtual servers to my site without having to restart Apache 
</I>&gt;<i> and I want to further centralize things.
</I>
If this is your only goal, consider using mass virtual hosting, instead:

NameVirtualHost *:80

&lt;VirtualHost _default_:80&gt;
   # default host to catch probes and undefined hosts
   ServerName server.example.net
   ServerAdmin <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">admin at example.net</A>
   DocumentRoot /var/www/vhosts/default
   # refuse all requests to the default host
   &lt;Directory /var/www/vhosts/default&gt;
     Order allow,deny
     Deny from all
   &lt;/Directory&gt;
   ErrorDocument 403 &quot;Access to this location is forbidden.
&lt;/VirtualHost&gt;

&lt;VirtualHost *:80&gt;
   ServerAdmin <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">admin at example.net</A>
   # mass virtual hosting
   # apache will look for DocumentRoot using name of requested host (%0)
   VirtualDocumentRoot /var/www/vhosts/%0/site
   # reconstruct self-referential URLs using hostname sent by client
   UseCanonicalName Off
&lt;/VirtualHost&gt;

The above configuration would serve requests for <A HREF="http://sub.example.com">http://sub.example.com</A> 
from:

  /var/www/vhosts/sub.example.com/site

The only configuration necessary is to set up DNS, create the 
appropriate directory, and upload the files. There is no need to restart 
Apache. Hits to the default host are refused in the example, mainly to 
reduce noise in the logs from worms and other probes. To log all hits to 
a single file, just put %V at the start of your LogFormat string to 
indicate the virtual host for the request. The modified common format 
would look like this in httpd.conf:

LogFormat &quot;%V %h %l %u %t \&quot;%r\&quot; %&gt;s %b&quot; vcommon
CustomLog /var/log/apache/vcommon_log vcommon




</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020463.html">[mod_python] How to make a handler for static files?
</A></li>
	<LI>Next message: <A HREF="020464.html">[mod_python] How to make a handler for static files?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20459">[ date ]</a>
              <a href="thread.html#20459">[ thread ]</a>
              <a href="subject.html#20459">[ subject ]</a>
              <a href="author.html#20459">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
