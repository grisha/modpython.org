<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] The Session problem with mod_python3.2.7
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20The%20Session%20problem%20with%20mod_python3.2.7&In-Reply-To=01df01c6374c%24aac57fb0%24aa1ea8c0%40frank">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020399.html">
   <LINK REL="Next"  HREF="020405.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] The Session problem with mod_python3.2.7</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Nicolas Lehuen</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20The%20Session%20problem%20with%20mod_python3.2.7&In-Reply-To=01df01c6374c%24aac57fb0%24aa1ea8c0%40frank"
       TITLE="[mod_python] The Session problem with mod_python3.2.7">nicolas at lehuen.com
       </A><BR>
    <I>Tue Feb 21 21:15:58 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020399.html">[mod_python] The Session problem with mod_python3.2.7
</A></li>
        <LI>Next message: <A HREF="020405.html">[mod_python] The Session problem with mod_python3.2.7
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20400">[ date ]</a>
              <a href="thread.html#20400">[ thread ]</a>
              <a href="subject.html#20400">[ subject ]</a>
              <a href="author.html#20400">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Gavin,

Have you tried fixing your compilation configuration as Jim suggested
? The fact that Python 2.4 is your default Python means nothing for
the user Apache is running under.

Would it be possible that your Apache server also loads another
version of the BSDDB, which would explain the failure in the server
context but not at the command line ? I'm thinking about something
like Subversion and its mod_dav_svn which uses BSDDB 4.3.

Regards,
Nicolas

[Tue Feb 21 19:23:14 2006] [error] [client 202.104.96.163]
PythonHandler mod_python.psp:   File
&quot;/usr/local/lib/python2.4/site-packages/mod_python/Session.py&quot;, line
309, in _get_dbm\n    result = self._dbmtype.open(self._dbmfile, 'c')


2006/2/22, Gavin &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">gavin at sz.net.cn</A>&gt;:
&gt;<i> &gt; Gavin wrote:
</I>&gt;<i> &gt;&gt; Hello all,
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; 1.Redhat AS3.0
</I>&gt;<i> &gt;&gt; 2.apache 2.0.55
</I>&gt;<i> &gt;&gt; 3.python2.4.2
</I>&gt;<i> &gt;&gt; 4.mod_python3.2.7
</I>&gt;<i> &gt;&gt;ui
</I>&gt;<i> &gt;&gt; compile with:
</I>&gt;<i> &gt;&gt; ./configure --with-apxs=/usr/local/apache2/bin/apxs --with-python-src=/usr/tools/Python-2.4.2 --with-max-locks=32
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I'm not sure if this specifically relates to your problem, but there may
</I>&gt;<i> &gt; be a problem with the way you've compiled mod_python.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Your other emails indicate you have python 2.3.5 installed as well as
</I>&gt;<i> &gt; well as python 2.4. You need to use --with-python, not --with-python-src
</I>&gt;<i> &gt; in your configure. The --with-python-src switch is only required for
</I>&gt;<i> &gt; building the documentation and does not tell configure which python
</I>&gt;<i> &gt; binary to use. Make sure you are using the correct by version by
</I>&gt;<i> &gt; configuring and compiling again:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ./configure --with-apxs=/usr/local/apache2/bin/apxs
</I>&gt;<i> &gt; --with-python=/path/to/python2.4-binary --with-max-locks=32
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Without the --with-python option, configure will try to find python on
</I>&gt;<i> &gt; your path. On AS3.0 this may be python 3.2.5, unless you've changed your
</I>&gt;<i> &gt; default OS configuration.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; When you tried Graham's interpreter test, are you sure you were using
</I>&gt;<i> &gt; python2.4 and not python2.3? Perhaps you could try again and cut and
</I>&gt;<i> &gt; paste the output? eg.
</I>&gt;<i> &gt;
</I>&gt;<i> [<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">root at svrb</A> tmp]# /usr/bin/python
</I>&gt;<i> Python 2.4.2 (#1, Nov 24 2005, 16:48:31)
</I>&gt;<i> [GCC 3.2.3 20030502 (Red Hat Linux 3.2.3-42)] on linux2
</I>&gt;<i> Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> [<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">root at svrb</A> tmp]# python
</I>&gt;<i> Python 2.4.2 (#1, Nov 24 2005, 16:48:31)
</I>&gt;<i> [GCC 3.2.3 20030502 (Red Hat Linux 3.2.3-42)] on linux2
</I>&gt;<i> Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
</I>&gt;<i> &gt;&gt;&gt; import anydbm
</I>&gt;<i> &gt;&gt;&gt; db = anydbm.open('/tmp/mp_sess_test.dbm','c')
</I>&gt;<i> &gt;&gt;&gt; db.close()
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">jim at carbon</A>:/tmp$ python
</I>&gt;<i> &gt; Python 2.3.5 (#2, Nov 20 2005, 16:40:39)
</I>&gt;<i> &gt; [GCC 4.0.3 20051111 (prerelease) (Debian 4.0.2-4)] on linux2
</I>&gt;<i> &gt; Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
</I>&gt;<i> &gt;&gt;&gt;&gt; import anydbm
</I>&gt;<i> &gt;&gt;&gt;&gt; db = anydbm.open('/tmp/mp_sess_test.dbm','c')
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Jim
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020399.html">[mod_python] The Session problem with mod_python3.2.7
</A></li>
	<LI>Next message: <A HREF="020405.html">[mod_python] The Session problem with mod_python3.2.7
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20400">[ date ]</a>
              <a href="thread.html#20400">[ thread ]</a>
              <a href="subject.html#20400">[ subject ]</a>
              <a href="author.html#20400">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
