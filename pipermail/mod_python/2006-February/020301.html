<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] High traffic recommendations
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20High%20traffic%20recommendations&In-Reply-To=1140012407.8217.29.camel%40localhost.localdomain">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020297.html">
   <LINK REL="Next"  HREF="020308.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] High traffic recommendations</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Marc D. Murray</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20High%20traffic%20recommendations&In-Reply-To=1140012407.8217.29.camel%40localhost.localdomain"
       TITLE="[mod_python] High traffic recommendations">marcdm at phronein.com
       </A><BR>
    <I>Thu Feb 16 09:44:57 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020297.html">[mod_python] High traffic recommendations
</A></li>
        <LI>Next message: <A HREF="020308.html">[mod_python] High traffic recommendations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20301">[ date ]</a>
              <a href="thread.html#20301">[ thread ]</a>
              <a href="subject.html#20301">[ subject ]</a>
              <a href="author.html#20301">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> 
</I>&gt;<i> What did your custom Session code do ? Can you post it, so that we try
</I>&gt;<i> and see what could cause the problem ?
</I>The intention was to prevent multiple users from sharing username and
password. And to lock an account if it was used from too many
locations. 

I'll post it, but before we go there, I should tell you that, I'm still
getting that dreaded &quot;MaxClients reached&quot; error again. Taking somewhere
of of the order of 6hrs now though.

&gt;<i> On Wed, 2006-02-15 at 16:06 +0100, Mike Looijmans wrote:
</I>&gt;<i> &gt; Increase MaxClients. This is the &quot;absolute&quot; max number of clients
</I>&gt;<i> &gt; that can be connected 
</I>&gt;<i> &gt; concurrently. You can safely put that into the 1000 range. 
</I>I thought I couldn't go higher than 256 with this number without having
to recompile apache. Am I right? 

In the Apache config, 
 - KeepAlive On
 - MaxKeepAliveRequests 100
 - KeepAliveTimeout 300
 - StartServers 5
 - MinSpare 5
 - MaxSpare 10
 - MaxClients 120
 - MaxRequestPerChild 1000

&lt;VirtualHost config....&gt;
 &lt;Directory /home/www/web4/web/&gt;
   Options FollowSymLinks
   Order allow,deny
   allow from all
   SetHandler mod_python
   PythonHandler mod_python.publisher
   PythonDebug Off
   PythonPath &quot;sys.path+['/home/www/web4/usr/lib']&quot;
   AllowOverride None
 &lt;/Directory&gt;

# text files
&lt;Files ~ &quot;\.(txt|css|html?)$&quot;&gt;
SetHandler default
&lt;/Files&gt;

&lt;Files ~ &quot;\.(gif|jpe?g|png|ico)$&quot;&gt;
SetHandler default
&lt;/Files&gt;

RewriteEngine On
RewriteRule ^/(.*)\.aspx$ /$1 [P]

PythonOptimize On
ServerSignature Off

.... [error docs, logs etc]
&lt;/VirtualServer&gt;

And I'm not using my custom session. 

Let's hope that a mod_python upgrade will help. Should I also upgrade to
Python 2.4 as well? I develop with python 2.4 on my Ubuntu desktop, but
deploy to Python 2.3.5 on the Debian server. 

Do you guys think I should use the newer version of python when building
mod_python?

Thanks.

/Marc DM

</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020297.html">[mod_python] High traffic recommendations
</A></li>
	<LI>Next message: <A HREF="020308.html">[mod_python] High traffic recommendations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20301">[ date ]</a>
              <a href="thread.html#20301">[ thread ]</a>
              <a href="subject.html#20301">[ subject ]</a>
              <a href="author.html#20301">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
