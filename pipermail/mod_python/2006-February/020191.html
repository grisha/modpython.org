<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Module importer issues list updated.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Module%20importer%20issues%20list%20updated.&In-Reply-To=43E3397C.6070100%40ribosome.natur.cuni.cz">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020190.html">
   <LINK REL="Next"  HREF="020193.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Module importer issues list updated.</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Deron Meranda</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Module%20importer%20issues%20list%20updated.&In-Reply-To=43E3397C.6070100%40ribosome.natur.cuni.cz"
       TITLE="[mod_python] Module importer issues list updated.">deron.meranda at gmail.com
       </A><BR>
    <I>Fri Feb  3 10:44:56 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020190.html">[mod_python] Module importer issues list updated.
</A></li>
        <LI>Next message: <A HREF="020193.html">[mod_python] Module importer issues list updated.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20191">[ date ]</a>
              <a href="thread.html#20191">[ thread ]</a>
              <a href="subject.html#20191">[ subject ]</a>
              <a href="author.html#20191">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> I think it would be nice if you'd include what is usually the IO penalty
</I>&gt;<i> for all those stat() calls to determine whether a module has changed
</I>&gt;<i> or not.
</I>
I don't know about Windows, but under a wide variety of Unixes,
including Linux, the stat call can be one of the cheapest to make,
as long as the file is not on a network mounted filesystem (NFS).

For example on my Intel Linux PC,

1,000,000 stat calls in C:  2 seconds
1,000,000 stat calls in Python: 9 seconds

The reason it's so fast is, except for the first time, the disk is
never accessed.  It's all cached in kernel memory.  And the kernel
knows when the file is updated for local filesystems.

You don't need to worry about time.time() or datetime.datetime.utcnow()
and such.  Those are nearly about 20% faster that stat.


However the one big caveat is that for NFS mounted filesystems
the time for stat can go up by a factor of 100 times or more, since
each call involves an RPC across the network.

Anybody care to check the timing under Windows?
--
Deron Meranda

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020190.html">[mod_python] Module importer issues list updated.
</A></li>
	<LI>Next message: <A HREF="020193.html">[mod_python] Module importer issues list updated.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20191">[ date ]</a>
              <a href="thread.html#20191">[ thread ]</a>
              <a href="subject.html#20191">[ subject ]</a>
              <a href="author.html#20191">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
