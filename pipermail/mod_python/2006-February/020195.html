<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Module importer issues list updated.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Module%20importer%20issues%20list%20updated.&In-Reply-To=b716fb875410d225e0e386d598e420b6%40dscpl.com.au">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020194.html">
   <LINK REL="Next"  HREF="020188.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Module importer issues list updated.</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Martin MOKREJ&#352;</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Module%20importer%20issues%20list%20updated.&In-Reply-To=b716fb875410d225e0e386d598e420b6%40dscpl.com.au"
       TITLE="[mod_python] Module importer issues list updated.">mmokrejs at ribosome.natur.cuni.cz
       </A><BR>
    <I>Fri Feb  3 17:03:28 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020194.html">[mod_python] Module importer issues list updated.
</A></li>
        <LI>Next message: <A HREF="020188.html">[mod_python] How to create package structure?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20195">[ date ]</a>
              <a href="thread.html#20195">[ thread ]</a>
              <a href="subject.html#20195">[ subject ]</a>
              <a href="author.html#20195">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

Graham Dumpleton wrote:
&gt;<i> 
</I>&gt;<i> On 03/02/2006, at 10:07 PM, Martin MOKREJ&#352; wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> After reading &quot;Auto Reload Mechanism&quot; section and especially
</I>&gt;&gt;<i> &lt;quote&gt;
</I>&gt;&gt;<i> If the importing of the module by an explicit call to the
</I>&gt;&gt;<i> &quot;import_module()&quot;
</I>&gt;&gt;<i> function is performed at global scope within a module, whether the child
</I>&gt;&gt;<i> module has changed and whether it needs to be reimported, is only
</I>&gt;&gt;<i> determined at the time that the parent module is first imported and
</I>&gt;&gt;<i> when the parent module is subsequently reimported.
</I>&gt;&gt;<i> &lt;/quote&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I am not certain what happens when using normal python import()
</I>&gt;&gt;<i> function and I for example changed only some of those child modules.
</I>&gt;&gt;<i> Will they be reloaded? It is probbly answered by the first paragraph in
</I>&gt;&gt;<i> the section cited above, but am not certain.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> The way things work at the moment is that if you import a module using
</I>&gt;<i> just the &quot;import&quot; statement, it will never be reloaded. This is even if
</I>&gt;<i> the parent module that it was imported in was reloaded. This is standard
</I>&gt;<i> for Python.
</I>
Please, put this into the document as well. I had the impression I should
revert from the &quot;apache.import_module()&quot; to the builtin &quot;import&quot; function.
Good to hear that will never work. ;-) So now I know the only fix for me is
always to touch(1) all the parent modules if a child has been modified.
Fortunately, it is only one file extra in my case.

&gt;<i> 
</I>&gt;&gt;<i> I think it would be nice if you'd include what is usually the IO penalty
</I>&gt;&gt;<i> for all those stat() calls to determine whether a module has changed
</I>&gt;&gt;<i> or not.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I am going to quote something from documentation I am writing on how the
</I>&gt;<i> replacement module loader will work:
</I>&gt;<i> 
</I>&gt;<i>   First and foremost any replacement system should strive for correctness
</I>&gt;<i>   and robustness. Inevitably this may mean some reduction in performance.
</I>&gt;<i>   Tuning of the system to improve the performance should be seen as a
</I>&gt;<i>   secondary task, only carried out after the functionality of the system
</I>&gt;<i>   is found to be correct and adequate to replace the existing system.
</I>&gt;<i> 
</I>&gt;<i> I have this big note in the documentation because part of the reason that
</I>&gt;<i> I gave up discussing a new system on the mailing list in the past is
</I>&gt;<i> because some wanted to focus more on their concerns about performance
</I>&gt;<i> over whether the system worked correctly.
</I>&gt;<i> 
</I>&gt;<i> Can we please not go down that avenue at the moment and focus on getting
</I>&gt;<i> something that works first. :-)
</I>
Oh sure, I have no problem with that. ;)

martin
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020194.html">[mod_python] Module importer issues list updated.
</A></li>
	<LI>Next message: <A HREF="020188.html">[mod_python] How to create package structure?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20195">[ date ]</a>
              <a href="thread.html#20195">[ thread ]</a>
              <a href="subject.html#20195">[ subject ]</a>
              <a href="author.html#20195">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
