<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] apache core dumped after mod_python 2.7.11 installation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20apache%20core%20dumped%20after%20mod_python%202.7.11%20installation&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020444.html">
   <LINK REL="Next"  HREF="020448.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] apache core dumped after mod_python 2.7.11 installation</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>edgar mortiz</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20apache%20core%20dumped%20after%20mod_python%202.7.11%20installation&In-Reply-To="
       TITLE="[mod_python] apache core dumped after mod_python 2.7.11 installation">pfunix at gmail.com
       </A><BR>
    <I>Sun Feb 26 08:34:52 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020444.html">[mod_python] mod_python and mod_dav
</A></li>
        <LI>Next message: <A HREF="020448.html">[mod_python] troubles with installing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20447">[ date ]</a>
              <a href="thread.html#20447">[ thread ]</a>
              <a href="subject.html#20447">[ subject ]</a>
              <a href="author.html#20447">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>i've installed mod_python 2.7.11 on my openbsd machine running python
2.4.2(w/c i build from source)

everything build just fine

 ./configure --with-apxs=/usr/sbin/apxs
loading cache ./config.cache
checking for gcc... (cached) gcc
checking whether the C compiler (gcc  ) works... yes
checking whether the C compiler (gcc  ) is a cross-compiler... no
checking whether we are using GNU C... (cached) yes
checking whether gcc accepts -g... (cached) yes
checking for ranlib... (cached) ranlib
checking for ar... (cached) ar
checking for a BSD compatible install... (cached) /usr/bin/install -c
checking whether make sets ${MAKE}... (cached) yes
checking for main in -lm... (cached) yes
checking for working const... (cached) yes
checking your blood pressure... a bit high, but we can proceed
checking whether apxs is available
checking for --with-apxs... /usr/sbin/apxs executable, good
checking for Apache libexec directory... /usr/lib/apache/modules
checking for Apache include directory... -I/usr/lib/apache/include
checking for --with-apache... no
configure: warning: **** No apache sources specified, static compilation
will not be available.
configure: warning: **** You can use --with-apache to specify where your
Apache sources are.
checking for --with-python... no
checking for python... (cached) /usr/local/bin/python
checking Python version... 2.4
checking whether Python is compiled with thread support... no threads, good
checking Python install prefix... /usr/local
checking what libraries Python was linked with...
/usr/local/lib/python2.4/config/libpython2.4.a   -lpthread  -lutil
-lm
checking linker flags used to link Python...
checking where Python include files are... -I/usr/local/include/python2.4
checking for mkdep... (cached) /usr/bin/mkdep
creating ./config.status
creating Makefile
creating src/Makefile
creating src/libpython.module
creating Doc/Makefile
analyzing dependencies

*** make dso

make dso
gcc  -I/home/pfunix/mod_python-2.7.11/src/include -I/usr/lib/apache/include
-I/usr/local/include/python2.4  -c mod_python.c
gcc  -I/home/pfunix/mod_python-2.7.11/src/include -I/usr/lib/apache/include
-I/usr/local/include/python2.4  -c _apachemodule.c
gcc  -I/home/pfunix/mod_python-2.7.11/src/include -I/usr/lib/apache/include
-I/usr/local/include/python2.4  -c requestobject.c
gcc  -I/home/pfunix/mod_python-2.7.11/src/include -I/usr/lib/apache/include
-I/usr/local/include/python2.4  -c tableobject.c
gcc  -I/home/pfunix/mod_python-2.7.11/src/include -I/usr/lib/apache/include
-I/usr/local/include/python2.4  -c util.c
gcc  -I/home/pfunix/mod_python-2.7.11/src/include -I/usr/lib/apache/include
-I/usr/local/include/python2.4  -c serverobject.c
gcc  -I/home/pfunix/mod_python-2.7.11/src/include -I/usr/lib/apache/include
-I/usr/local/include/python2.4  -c connobject.c

Compiling for DSO. For static, do &quot;make static&quot;

/usr/sbin/apxs -I/home/pfunix/mod_python-2.7.11/src/include
-I/usr/lib/apache/include -I/usr/local/include/python2.4 -c mod_python.o
_apachemodule.o  requestobject.o  tableobject.o  util.o  serverobject.o
connobject.o -lm  /usr/local/lib/python2.4/config/libpython2.4.a
-lpthread  -lutil   -lm
gcc -shared -fPIC -DSHARED_MODULE -o mod_python.so mod_python.o
_apachemodule.o requestobject.o tableobject.o util.o serverobject.o
connobject.o -lm /usr/local/lib/python2.4/config/libpython2.4.a -lpthread
-lutil -lm

Now su and make install
  (or, if you only want to perform a partial install,
   you can use make install_dso and make install_py_lib)

** make install
# make install

Performing DSO installation.

/usr/bin/install -c src/mod_python.so /usr/lib/apache/modules
/usr/bin/install -c -d /usr/local/lib/python2.4/site-packages/mod_python
python /usr/local/lib/python2.4/compileall.py
/usr/local/lib/python2.4/site-packages/mod_python
Listing /usr/local/lib/python2.4/site-packages/mod_python ...
Compiling /usr/local/lib/python2.4/site-packages/mod_python/__init__.py ...
Compiling /usr/local/lib/python2.4/site-packages/mod_python/apache.py ...
Compiling /usr/local/lib/python2.4/site-packages/mod_python/cgihandler.py
...
Compiling /usr/local/lib/python2.4/site-packages/mod_python/httpdapi.py ...
Compiling /usr/local/lib/python2.4/site-packages/mod_python/publisher.py ...
Compiling /usr/local/lib/python2.4/site-packages/mod_python/util.py ...
Compiling /usr/local/lib/python2.4/site-packages/mod_python/zhandler.py ...

Now don't forget to edit your main config and add
    LoadModule python_module /usr/lib/apache/modules/mod_python.so
and if your configuration uses ClearModuleList, then also
    AddModule mod_python.c



but when I put the

LoadModule python_module /usr/lib/apache/modules/mod_python.so on httpd.conf

and restart apache i get a

# apachectl restart
/usr/sbin/apachectl restart: httpd not running, trying to start
/usr/sbin/apachectl restart: httpd started

but there's no httpd on process, nor can i view apache

i did a

# apachectl configtest
Syntax OK
Segmentation fault (core dumped)

and this is where i ended up .. any help would be greatly appreciated.

I'm running OpenBSD 3.9BETA

Apache/1.3.29 (prebuild in obsd)
mod_python 2.7.11 (source)
Python 2.4.2 (source)




thanks,
ed
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20060226/683fd573/attachment.html">http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20060226/683fd573/attachment.html</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020444.html">[mod_python] mod_python and mod_dav
</A></li>
	<LI>Next message: <A HREF="020448.html">[mod_python] troubles with installing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20447">[ date ]</a>
              <a href="thread.html#20447">[ thread ]</a>
              <a href="subject.html#20447">[ subject ]</a>
              <a href="author.html#20447">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
