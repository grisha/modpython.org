<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] apache core dumped after mod_python 2.7.11
	installation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20apache%20core%20dumped%20after%20mod_python%202.7.11%0A%09installation&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020449.html">
   <LINK REL="Next"  HREF="020451.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] apache core dumped after mod_python 2.7.11
	installation</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20apache%20core%20dumped%20after%20mod_python%202.7.11%0A%09installation&In-Reply-To="
       TITLE="[mod_python] apache core dumped after mod_python 2.7.11
	installation">grahamd at dscpl.com.au
       </A><BR>
    <I>Sun Feb 26 16:47:53 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020449.html">[mod_python] troubles with installing
</A></li>
        <LI>Next message: <A HREF="020451.html">[mod_python] apache core dumped after mod_python 2.7.11
	installation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20450">[ date ]</a>
              <a href="thread.html#20450">[ thread ]</a>
              <a href="subject.html#20450">[ subject ]</a>
              <a href="author.html#20450">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Core dumps on startup which might be attributable to mod_python
generally occur either because of shared library version mismatches
between different Apache modules, or where there are multiple
versions of Python on a system and mod_python is finding the wrong
one when Apache is started.

Unfortunately, the error logging output in the old version of mod_python
you are using, doesn't really help to sort out the latter, where as latest
version of mod_python might. Unless you move to Apache 2.0, the
newer version can't be used though.

As to shared library mismatch, if you are also loading PHP module,
disable the PHP module and see if it makes a difference.

Graham

edgar mortiz wrote ..
&gt;<i> i've installed mod_python 2.7.11 on my openbsd machine running python
</I>&gt;<i> 2.4.2(w/c i build from source)
</I>&gt;<i> 
</I>&gt;<i> everything build just fine
</I>&gt;<i> 
</I>&gt;<i>  ./configure --with-apxs=/usr/sbin/apxs
</I>&gt;<i> loading cache ./config.cache
</I>&gt;<i> checking for gcc... (cached) gcc
</I>&gt;<i> checking whether the C compiler (gcc  ) works... yes
</I>&gt;<i> checking whether the C compiler (gcc  ) is a cross-compiler... no
</I>&gt;<i> checking whether we are using GNU C... (cached) yes
</I>&gt;<i> checking whether gcc accepts -g... (cached) yes
</I>&gt;<i> checking for ranlib... (cached) ranlib
</I>&gt;<i> checking for ar... (cached) ar
</I>&gt;<i> checking for a BSD compatible install... (cached) /usr/bin/install -c
</I>&gt;<i> checking whether make sets ${MAKE}... (cached) yes
</I>&gt;<i> checking for main in -lm... (cached) yes
</I>&gt;<i> checking for working const... (cached) yes
</I>&gt;<i> checking your blood pressure... a bit high, but we can proceed
</I>&gt;<i> checking whether apxs is available
</I>&gt;<i> checking for --with-apxs... /usr/sbin/apxs executable, good
</I>&gt;<i> checking for Apache libexec directory... /usr/lib/apache/modules
</I>&gt;<i> checking for Apache include directory... -I/usr/lib/apache/include
</I>&gt;<i> checking for --with-apache... no
</I>&gt;<i> configure: warning: **** No apache sources specified, static compilation
</I>&gt;<i> will not be available.
</I>&gt;<i> configure: warning: **** You can use --with-apache to specify where your
</I>&gt;<i> Apache sources are.
</I>&gt;<i> checking for --with-python... no
</I>&gt;<i> checking for python... (cached) /usr/local/bin/python
</I>&gt;<i> checking Python version... 2.4
</I>&gt;<i> checking whether Python is compiled with thread support... no threads,
</I>&gt;<i> good
</I>&gt;<i> checking Python install prefix... /usr/local
</I>&gt;<i> checking what libraries Python was linked with...
</I>&gt;<i> /usr/local/lib/python2.4/config/libpython2.4.a   -lpthread  -lutil
</I>&gt;<i> -lm
</I>&gt;<i> checking linker flags used to link Python...
</I>&gt;<i> checking where Python include files are... -I/usr/local/include/python2.4
</I>&gt;<i> checking for mkdep... (cached) /usr/bin/mkdep
</I>&gt;<i> creating ./config.status
</I>&gt;<i> creating Makefile
</I>&gt;<i> creating src/Makefile
</I>&gt;<i> creating src/libpython.module
</I>&gt;<i> creating Doc/Makefile
</I>&gt;<i> analyzing dependencies
</I>&gt;<i> 
</I>&gt;<i> *** make dso
</I>&gt;<i> 
</I>&gt;<i> make dso
</I>&gt;<i> gcc  -I/home/pfunix/mod_python-2.7.11/src/include -I/usr/lib/apache/include
</I>&gt;<i> -I/usr/local/include/python2.4  -c mod_python.c
</I>&gt;<i> gcc  -I/home/pfunix/mod_python-2.7.11/src/include -I/usr/lib/apache/include
</I>&gt;<i> -I/usr/local/include/python2.4  -c _apachemodule.c
</I>&gt;<i> gcc  -I/home/pfunix/mod_python-2.7.11/src/include -I/usr/lib/apache/include
</I>&gt;<i> -I/usr/local/include/python2.4  -c requestobject.c
</I>&gt;<i> gcc  -I/home/pfunix/mod_python-2.7.11/src/include -I/usr/lib/apache/include
</I>&gt;<i> -I/usr/local/include/python2.4  -c tableobject.c
</I>&gt;<i> gcc  -I/home/pfunix/mod_python-2.7.11/src/include -I/usr/lib/apache/include
</I>&gt;<i> -I/usr/local/include/python2.4  -c util.c
</I>&gt;<i> gcc  -I/home/pfunix/mod_python-2.7.11/src/include -I/usr/lib/apache/include
</I>&gt;<i> -I/usr/local/include/python2.4  -c serverobject.c
</I>&gt;<i> gcc  -I/home/pfunix/mod_python-2.7.11/src/include -I/usr/lib/apache/include
</I>&gt;<i> -I/usr/local/include/python2.4  -c connobject.c
</I>&gt;<i> 
</I>&gt;<i> Compiling for DSO. For static, do &quot;make static&quot;
</I>&gt;<i> 
</I>&gt;<i> /usr/sbin/apxs -I/home/pfunix/mod_python-2.7.11/src/include
</I>&gt;<i> -I/usr/lib/apache/include -I/usr/local/include/python2.4 -c mod_python.o
</I>&gt;<i> _apachemodule.o  requestobject.o  tableobject.o  util.o  serverobject.o
</I>&gt;<i> connobject.o -lm  /usr/local/lib/python2.4/config/libpython2.4.a
</I>&gt;<i> -lpthread  -lutil   -lm
</I>&gt;<i> gcc -shared -fPIC -DSHARED_MODULE -o mod_python.so mod_python.o
</I>&gt;<i> _apachemodule.o requestobject.o tableobject.o util.o serverobject.o
</I>&gt;<i> connobject.o -lm /usr/local/lib/python2.4/config/libpython2.4.a -lpthread
</I>&gt;<i> -lutil -lm
</I>&gt;<i> 
</I>&gt;<i> Now su and make install
</I>&gt;<i>   (or, if you only want to perform a partial install,
</I>&gt;<i>    you can use make install_dso and make install_py_lib)
</I>&gt;<i> 
</I>&gt;<i> ** make install
</I>&gt;<i> # make install
</I>&gt;<i> 
</I>&gt;<i> Performing DSO installation.
</I>&gt;<i> 
</I>&gt;<i> /usr/bin/install -c src/mod_python.so /usr/lib/apache/modules
</I>&gt;<i> /usr/bin/install -c -d /usr/local/lib/python2.4/site-packages/mod_python
</I>&gt;<i> python /usr/local/lib/python2.4/compileall.py
</I>&gt;<i> /usr/local/lib/python2.4/site-packages/mod_python
</I>&gt;<i> Listing /usr/local/lib/python2.4/site-packages/mod_python ...
</I>&gt;<i> Compiling /usr/local/lib/python2.4/site-packages/mod_python/__init__.py
</I>&gt;<i> ...
</I>&gt;<i> Compiling /usr/local/lib/python2.4/site-packages/mod_python/apache.py ...
</I>&gt;<i> Compiling /usr/local/lib/python2.4/site-packages/mod_python/cgihandler.py
</I>&gt;<i> ...
</I>&gt;<i> Compiling /usr/local/lib/python2.4/site-packages/mod_python/httpdapi.py
</I>&gt;<i> ...
</I>&gt;<i> Compiling /usr/local/lib/python2.4/site-packages/mod_python/publisher.py
</I>&gt;<i> ...
</I>&gt;<i> Compiling /usr/local/lib/python2.4/site-packages/mod_python/util.py ...
</I>&gt;<i> Compiling /usr/local/lib/python2.4/site-packages/mod_python/zhandler.py
</I>&gt;<i> ...
</I>&gt;<i> 
</I>&gt;<i> Now don't forget to edit your main config and add
</I>&gt;<i>     LoadModule python_module /usr/lib/apache/modules/mod_python.so
</I>&gt;<i> and if your configuration uses ClearModuleList, then also
</I>&gt;<i>     AddModule mod_python.c
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> but when I put the
</I>&gt;<i> 
</I>&gt;<i> LoadModule python_module /usr/lib/apache/modules/mod_python.so on httpd.conf
</I>&gt;<i> 
</I>&gt;<i> and restart apache i get a
</I>&gt;<i> 
</I>&gt;<i> # apachectl restart
</I>&gt;<i> /usr/sbin/apachectl restart: httpd not running, trying to start
</I>&gt;<i> /usr/sbin/apachectl restart: httpd started
</I>&gt;<i> 
</I>&gt;<i> but there's no httpd on process, nor can i view apache
</I>&gt;<i> 
</I>&gt;<i> i did a
</I>&gt;<i> 
</I>&gt;<i> # apachectl configtest
</I>&gt;<i> Syntax OK
</I>&gt;<i> Segmentation fault (core dumped)
</I>&gt;<i> 
</I>&gt;<i> and this is where i ended up .. any help would be greatly appreciated.
</I>&gt;<i> 
</I>&gt;<i> I'm running OpenBSD 3.9BETA
</I>&gt;<i> 
</I>&gt;<i> Apache/1.3.29 (prebuild in obsd)
</I>&gt;<i> mod_python 2.7.11 (source)
</I>&gt;<i> Python 2.4.2 (source)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> thanks,
</I>&gt;<i> ed
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020449.html">[mod_python] troubles with installing
</A></li>
	<LI>Next message: <A HREF="020451.html">[mod_python] apache core dumped after mod_python 2.7.11
	installation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20450">[ date ]</a>
              <a href="thread.html#20450">[ thread ]</a>
              <a href="subject.html#20450">[ subject ]</a>
              <a href="author.html#20450">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
