<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] troubles with installing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20troubles%20with%20installing&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020448.html">
   <LINK REL="Next"  HREF="020450.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] troubles with installing</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20troubles%20with%20installing&In-Reply-To="
       TITLE="[mod_python] troubles with installing">grahamd at dscpl.com.au
       </A><BR>
    <I>Sun Feb 26 16:36:35 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020448.html">[mod_python] troubles with installing
</A></li>
        <LI>Next message: <A HREF="020450.html">[mod_python] apache core dumped after mod_python 2.7.11
	installation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20449">[ date ]</a>
              <a href="thread.html#20449">[ thread ]</a>
              <a href="subject.html#20449">[ subject ]</a>
              <a href="author.html#20449">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>See comments below.

John Raines wrote ..
&gt;<i> It had been a year since I'd installed mod_python and I seem to be  
</I>&gt;<i> having a huge problem getting the new version to work here on my Mac  
</I>&gt;<i> running  10.4.5.
</I>&gt;<i> 
</I>&gt;<i> I set out to upgrade to httpd-2.0.55 and 3.2.7 (now 3.2.8) a couple  
</I>&gt;<i> of weeks ago!
</I>&gt;<i> 
</I>&gt;<i> Apache seems to serve a plain HTML page OK. But when I move to call  
</I>&gt;<i> mod_python I get an error and that is reflected in the log below. If  
</I>&gt;<i> I start python outside of Apache and import mod_python.psp it finds  
</I>&gt;<i> psp but can't find _apache.
</I>&gt;<i> 
</I>&gt;<i> Here's what Apache's startup log says; if I were just a little  
</I>&gt;<i> smarter I'd probably know just what to do:
</I>&gt;<i> 
</I>&gt;<i> [Sun Feb 26 09:03:50 2006] [notice] mod_python: Creating 8 session  
</I>&gt;<i> mutexes based on 150 max processes and 0 max threads.
</I>&gt;<i> [Sun Feb 26 09:03:50 2006] [notice] Apache configured -- resuming  
</I>&gt;<i> normal operations
</I>&gt;<i> [Sun Feb 26 09:04:38 2006] [error] make_obcallback: could not import  
</I>&gt;<i> mod_python.apache.\n
</I>&gt;<i> Could not find platform independent libraries &lt;prefix&gt;
</I>&gt;<i> Could not find platform dependent libraries &lt;exec_prefix&gt;
</I>&gt;<i> Consider setting $PYTHONHOME to &lt;prefix&gt;[:&lt;exec_prefix&gt;]
</I>&gt;<i> 'import site' failed; use -v for traceback
</I>&gt;<i> 'import site' failed; use -v for traceback
</I>&gt;<i> ImportError: No module named mod_python.apache
</I>&gt;<i> [Sun Feb 26 09:04:38 2006] [error] python_handler: no interpreter  
</I>&gt;<i> callback found.
</I>&gt;<i> [Sun Feb 26 09:04:38 2006] [error] [client 127.0.0.1] python_handler: 
</I>&gt;<i> Can't get/create interpreter., referer: <A HREF="http://127.0.0.1/">http://127.0.0.1/</A>
</I>&gt;<i> 'import site' failed; use -v for traceback
</I>&gt;<i> ImportError: No module named mod_python.apache
</I>&gt;<i> 
</I>&gt;<i> Do I need to use terminal to set $PYTHONHOME to /usr/bin/python2.3 or 
</I>&gt;<i> is this something I'd do in httpd.conf?
</I>&gt;<i> I tried doing it in terminal without any luck.
</I>&gt;<i> 
</I>&gt;<i> Here is the sequence of commands I used for installing :
</I>&gt;<i> sudo apachectl stop
</I>&gt;<i> 
</I>&gt;<i> cd ~/Desktop/httpd-2.0.55
</I>&gt;<i> ./configure --enable-so --with-mpm=prefork
</I>
You should be able to say just:

  ./configure

The &quot;prefork&quot; MPM is the default on Mac OS X. Also no specific need to enable
shared objects for builtin modules.

&gt;<i> make
</I>&gt;<i> sudo make install
</I>&gt;<i>
</I>&gt;<i> cd ~/Desktop/mod_python-3.2.8
</I>&gt;<i> ./configure --with-apxs=/usr/local/apache2/bin/apxs --with-python=/ 
</I>&gt;<i> usr/bin/python2.3
</I>
Don't specify path to Python binary, let it find it itself, unless you have
more than one Python installation. If you do have more than one Python
installation, either make sure that /usr/bin is first in your PATH, or if
you still must specify the Python binary location, don't include the &quot;2.3&quot;
designation as suspect that that is what is stuffing it up. Ie.,

  /configure --with-apxs=/usr/local/apache2/bin/apxs --with-python=/usr/bin/python

&gt;<i> make
</I>&gt;<i> sudo make install
</I>&gt;<i> 
</I>&gt;<i> sudo cp ~/Desktop/httpd.conf /usr/local/apache2/conf
</I>&gt;<i> 
</I>&gt;<i> sudo cp /usr/local/apache2/bin/apachectl /usr/sbin
</I>&gt;<i> 
</I>&gt;<i> sudo apachectl start
</I>&gt;<i> 
</I>&gt;<i> As you'd expect from the results running python outside apache, the  
</I>&gt;<i> site-packages directory deep in the Framework directory has the  
</I>&gt;<i> mod_python package and the modules directory in apache2 has the .so  
</I>&gt;<i> file. At one time (when running Panther), I did have multiple pythons 
</I>&gt;<i> installed on the hard drive where I've been trying to debug this  
</I>&gt;<i> procedure. I trashed them and installed Tiger early on in my efforts.
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020448.html">[mod_python] troubles with installing
</A></li>
	<LI>Next message: <A HREF="020450.html">[mod_python] apache core dumped after mod_python 2.7.11
	installation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20449">[ date ]</a>
              <a href="thread.html#20449">[ thread ]</a>
              <a href="subject.html#20449">[ subject ]</a>
              <a href="author.html#20449">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
