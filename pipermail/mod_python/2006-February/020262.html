<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] forks, daemons and other beasts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20forks%2C%20daemons%20and%20other%20beasts&In-Reply-To=5f56302b0602111239g53beef70m3fea0244c968e907%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020261.html">
   <LINK REL="Next"  HREF="020228.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] forks, daemons and other beasts</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Scott Chapman</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20forks%2C%20daemons%20and%20other%20beasts&In-Reply-To=5f56302b0602111239g53beef70m3fea0244c968e907%40mail.gmail.com"
       TITLE="[mod_python] forks, daemons and other beasts">scott_list at mischko.com
       </A><BR>
    <I>Tue Feb 14 12:12:08 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020261.html">[mod_python] Re: forks, daemons and other beasts
</A></li>
        <LI>Next message: <A HREF="020228.html">[mod_python] Apache crashing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20262">[ date ]</a>
              <a href="thread.html#20262">[ thread ]</a>
              <a href="subject.html#20262">[ subject ]</a>
              <a href="author.html#20262">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Daniel Nogradi wrote:
&gt;<i> Sorry everyone, a long post follows :)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Many times there is need for a mod_python program to respond (send a
</I>&gt;<i> page) to the client after receiving a request and at the same time
</I>&gt;<i> start a subprocess which typically takes quite long and waiting for it
</I>&gt;<i> to finish is not necessary. So the situation is this: (1) request
</I>&gt;<i> comes from client (2) server processes the request (3) server starts a
</I>&gt;<i> subprocess and don't wait for it to finish (4) send a response to the
</I>&gt;<i> client. Actually, (3) and (4) could be interchanged.
</I>&gt;<i> 
</I>&gt;<i> What is the best way to do this?
</I>
In cases like this, I've used a python cron script that checks for new files in 
a directory and deals with them when it finds them.

One script, no threads so no race conditions, etc.  Make it check the upload 
directory for files that are not being written to and deal with them one at a 
time.  That way the post-processing does not take up an inordinate amount of 
resources as well.  Anything that Apache spawns could get into scalability issues.

All this talk of threads and spawning things and handling sigterms, sigkills, 
etc. is probably too big of a hammer.

Happy post-processing,
Scott
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020261.html">[mod_python] Re: forks, daemons and other beasts
</A></li>
	<LI>Next message: <A HREF="020228.html">[mod_python] Apache crashing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20262">[ date ]</a>
              <a href="thread.html#20262">[ thread ]</a>
              <a href="subject.html#20262">[ subject ]</a>
              <a href="author.html#20262">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
