<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] set cookie in auth stage?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20set%20cookie%20in%20auth%20stage%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014955.html">
   <LINK REL="Next"  HREF="014956.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] set cookie in auth stage?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Michael C. Neel</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20set%20cookie%20in%20auth%20stage%3F&In-Reply-To="
       TITLE="[mod_python] set cookie in auth stage?">neel at mediapulse.com
       </A><BR>
    <I>Thu Feb  5 13:28:21 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="014955.html">[mod_python] setting content_type intelligently
</A></li>
        <LI>Next message: <A HREF="014956.html">[mod_python] setting content_type intelligently
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14954">[ date ]</a>
              <a href="thread.html#14954">[ thread ]</a>
              <a href="subject.html#14954">[ subject ]</a>
              <a href="author.html#14954">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>If your going to pass data between different &quot;application servers&quot;, then
best is to stick data into the apache notes table, as that is part of
the apache api so each module should be able to access that data.

In general I don't think you would have to worry about your headers
being replaced, but to be on the safe side there are two things you
could do.  One is to set the cookies in the error headers, which are
always sent (name is misleading, they are sent for errors and normal
requests).  Another option is to also use the fixup handler phase, which
runs after the content handler.  This way the application is done with
the response, and you can add your headers without worring about the
application clearing them.

mike

&gt;<i> -----Original Message-----
</I>&gt;<i> From: Bud P. Bruegger [mailto:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">bud at comune.grosseto.it</A>] 
</I>&gt;<i> Sent: Thursday, February 05, 2004 1:16 PM
</I>&gt;<i> To: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
</I>&gt;<i> Subject: [mod_python] set cookie in auth stage?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Hello everyone,
</I>&gt;<i> 
</I>&gt;<i> I'm new to modpython and hope to not ask an overly stupid question.
</I>&gt;<i> 
</I>&gt;<i> Is it possible with modpython (apache) to set a cookie at the 
</I>&gt;<i> authentiction 
</I>&gt;<i> stage while a later stage interfaces to some kind of 
</I>&gt;<i> &quot;application servers&quot; 
</I>&gt;<i> (j2ee, cgi, fcgi, modpython PythonHandler, etc.) that create 
</I>&gt;<i> the actual 
</I>&gt;<i> response?
</I>&gt;<i> 
</I>&gt;<i> The danger I see is that the cookie, being part of the 
</I>&gt;<i> response header, may 
</I>&gt;<i> be overwritten by the application server.  If this is the 
</I>&gt;<i> case, should I 
</I>&gt;<i> prepare the cookie data in the authentication handler and 
</I>&gt;<i> communicate it to 
</I>&gt;<i> a handler that runs after the response is created by the application 
</I>&gt;<i> server.  The manual states that &quot;You can dynamically assign 
</I>&gt;<i> attributes to 
</I>&gt;<i> [the request object] as a way to communicate between 
</I>&gt;<i> handlers&quot;.   Is this 
</I>&gt;<i> the mechanism that I could use to communicate the cookie 
</I>&gt;<i> data?  If so, does 
</I>&gt;<i> anyone have an example for such communications?  And also, 
</I>&gt;<i> what stage would 
</I>&gt;<i> I use to actually set the cookie (is the cleanup handler a 
</I>&gt;<i> good choice?).
</I>&gt;<i> 
</I>&gt;<i> Many thanks for any help
</I>&gt;<i> 
</I>&gt;<i> -bud
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> --------------------------------------------------------------
</I>&gt;<i> -----------------------------------
</I>&gt;<i> Ing. Bud P. Bruegger, Ph.D.                 <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">bud at comune.grosseto.it</A>
</I>&gt;<i> Servizio Elaborazione Dati                    0564-488 577 (voice)
</I>&gt;<i> Comune di Grosseto                            0564- 21139 (fax)
</I>&gt;<i> Via Ginori, 43
</I>&gt;<i> 58100 Grosseto
</I>&gt;<i> 
</I>&gt;<i> Collaborazione Open Source per la CIE 
</I>&gt;<i> <A HREF="http://www.comune.grosseto.it/cie/">http://www.comune.grosseto.it/cie/</A> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> 
</I>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014955.html">[mod_python] setting content_type intelligently
</A></li>
	<LI>Next message: <A HREF="014956.html">[mod_python] setting content_type intelligently
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14954">[ date ]</a>
              <a href="thread.html#14954">[ thread ]</a>
              <a href="subject.html#14954">[ subject ]</a>
              <a href="author.html#14954">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
