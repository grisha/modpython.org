<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Any support for on-time Initialization?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Any%20support%20for%20on-time%20Initialization%3F&In-Reply-To=401E931D.8070407%40securia.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014922.html">
   <LINK REL="Next"  HREF="014924.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Any support for on-time Initialization?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Daniel West</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Any%20support%20for%20on-time%20Initialization%3F&In-Reply-To=401E931D.8070407%40securia.com"
       TITLE="[mod_python] Any support for on-time Initialization?">dwmp at opti.cgi.net
       </A><BR>
    <I>Mon Feb  2 12:29:56 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="014922.html">[mod_python] Any support for on-time Initialization?
</A></li>
        <LI>Next message: <A HREF="014924.html">[mod_python] Conditional handlers?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14923">[ date ]</a>
              <a href="thread.html#14923">[ thread ]</a>
              <a href="subject.html#14923">[ subject ]</a>
              <a href="author.html#14923">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Jalil,

The best way to setup database connections is just to wait for the first 
request to come in.  Keep your database connection in a module name space 
that all of your pages share and it'll persist between connections so long 
as you don't explicitly close it.  Once you import a module it stays in the 
interpreter name space between requests so future requests have access to 
the module without having to load it again.

If you're interested in keeping &quot;pools&quot; of database connections then you 
may be considering one of the multi-threaded MPM's for Apache 2.  You'll 
save yourself a lot of hair pulling if you stick with the prefork mpm.  It 
bears saying that in the prefork mpm, each process does not share 
interpreter resources with the other processes.  This means each process 
will have it's own &quot;pool&quot; of database connections which may not bode well 
with your database server if you run a moderately heavy Apache load.

-Dan



At 10:12 AM 2/2/2004 -0800, you wrote:
&gt;<i>I was wondering if there is any support for one-time initialization for 
</I>&gt;<i>applications in mod-python - similar to the init() call of a servlet for 
</I>&gt;<i>example. I would like to set up a database connection pool but I need to 
</I>&gt;<i>do it only once when my app starts.
</I>&gt;<i>
</I>&gt;<i>If there is no support for initialization, what is the best way to set up 
</I>&gt;<i>things that need to be set up only once per app in mod-python?
</I>&gt;<i>
</I>&gt;<i>Thanks,
</I>&gt;<i>
</I>&gt;<i>-Jalil
</I>&gt;<i>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>Mod_python mailing list
</I>&gt;<i><A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i><A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014922.html">[mod_python] Any support for on-time Initialization?
</A></li>
	<LI>Next message: <A HREF="014924.html">[mod_python] Conditional handlers?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14923">[ date ]</a>
              <a href="thread.html#14923">[ thread ]</a>
              <a href="subject.html#14923">[ subject ]</a>
              <a href="author.html#14923">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
