<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Error: Could not import mod_python.apache
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Error%3A%20Could%20not%20import%20mod_python.apache&In-Reply-To=D40ECEC6-595F-11D8-8166-0003934ACDEC%40zdome.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014968.html">
   <LINK REL="Next"  HREF="014993.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Error: Could not import mod_python.apache</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Dietrich Epp</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Error%3A%20Could%20not%20import%20mod_python.apache&In-Reply-To=D40ECEC6-595F-11D8-8166-0003934ACDEC%40zdome.net"
       TITLE="[mod_python] Error: Could not import mod_python.apache">dietrich at zdome.net
       </A><BR>
    <I>Sun Feb  8 23:43:48 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="014968.html">[mod_python] Error: Could not import mod_python.apache
</A></li>
        <LI>Next message: <A HREF="014993.html">[mod_python] Error: Could not import mod_python.apache
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14988">[ date ]</a>
              <a href="thread.html#14988">[ thread ]</a>
              <a href="subject.html#14988">[ subject ]</a>
              <a href="author.html#14988">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hmm... this time I'll try sending the reply to the LIST, as opposed to 
just myself.

Okay, it's been almost 48 hours and the response has been dead except 
for a single person telling me that they had the same problem.  That's 
cool.  I rewrote the error handling for the section of mod_python that 
failed and got a much more descriptive message.  I replaced the 
occurrences of \n with newlines.  It appears to be cut off by Python at 
(2^9)-1 characters after &quot;ImportError: &quot;.

[error] mod_python: ImportError: Failure linking new module: : dyld: 
/usr/local/apache/bin/httpd Undefined symbols:
/usr/local/python/lib/python2.3/lib-dynload/time.so undefined reference 
to _PyArg_Parse expected to be defined in the executable
/usr/local/python/lib/python2.3/lib-dynload/time.so undefined reference 
to _PyArg_ParseTuple expected to be defined in the executable
/usr/local/python/lib/python2.3/lib-dynload/time.so undefined reference 
to _PyDict_GetItemString expected to be defined in the executable
/usr/local/python/lib/pytho

This leaves me with some questions.

0. Why does mod_python call PyErr_Print?  The output goes nowhere, as 
far as I can tell, even if httpd is launched with -X.

1. Does this mean that python's dynamically-linked modules only look in 
the linking application namespace to find symbols expected to be found 
in Python?

2. Could I fix this by relinking Python with a single level namespace 
(this is specific to Mac OS X)?  This seems to be a bad solution, as I 
don't think the problem is OS X-specific.

3. Could I fix this by changing in a more general (i.e., 
cross-platform) way the method that Python's libraries search for their 
dependencies?  Can this be done without moving Python's core code to a 
dynamic library?

4. Have other projects had the same problem when embedding Python in 
dynamically loaded object code?

5. Are there even any other projects which embed Python in dynamically 
loaded object code?

6. Am I posting on the wrong list?

On Feb 7, 2004, at 3:21 AM, Dietrich Epp wrote:

&gt;<i> I've spent a while searching the list archives for a solution to the 
</I>&gt;<i> problem:
</I>&gt;<i>
</I>&gt;<i> make_obcallback: could not import mod_python.apache.
</I>&gt;<i>
</I>&gt;<i> I'm running Apache 2.0 and mod_python from CVS.  Python is installed 
</I>&gt;<i> in a funny place, /usr/local/python.  According to my research, I have 
</I>&gt;<i> to do something to tell apache/mod_python Python's location.  Is that 
</I>&gt;<i> correct?  How do I do this?  I've seen a decent number of messages on 
</I>&gt;<i> this topic, but very few answers, and none that are definitive.
</I>&gt;<i>
</I>&gt;<i> Since I'm doing the tutorial in the docs, I see no need to post my 
</I>&gt;<i> httpd.conf sections here.
</I>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014968.html">[mod_python] Error: Could not import mod_python.apache
</A></li>
	<LI>Next message: <A HREF="014993.html">[mod_python] Error: Could not import mod_python.apache
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14988">[ date ]</a>
              <a href="thread.html#14988">[ thread ]</a>
              <a href="subject.html#14988">[ subject ]</a>
              <a href="author.html#14988">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
