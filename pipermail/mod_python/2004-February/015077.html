<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] idea for PSP
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20idea%20for%20PSP&In-Reply-To=20040225083349.Q72103%40onyx.ispol.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015058.html">
   <LINK REL="Next"  HREF="015081.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] idea for PSP</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>vincent delft</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20idea%20for%20PSP&In-Reply-To=20040225083349.Q72103%40onyx.ispol.com"
       TITLE="[mod_python] idea for PSP">vincent_delft at yahoo.com
       </A><BR>
    <I>Sat Feb 28 00:41:08 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="015058.html">[mod_python] idea for PSP
</A></li>
        <LI>Next message: <A HREF="015081.html">[mod_python] idea for PSP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15077">[ date ]</a>
              <a href="thread.html#15077">[ thread ]</a>
              <a href="subject.html#15077">[ subject ]</a>
              <a href="author.html#15077">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>By adding 'global_scope.update({&quot;echo&quot;:req.write})' in
psp.py at line 208 (mod_python 3.1.3), we create a new
function called &quot;echo&quot; (like in php) that fit my
original requirement (mail post before with same
subject).

Does this idea is Thread safe ... et cetera.

This simplify the psp coding. Like I've explained in
my previous mail, we will able to do :

...
&lt;% 
for i in range(5):
   echo &quot;&lt;br&gt;Hello&quot;
#end
%&gt;
...


OK. My example is not the best one, but I think psp
writters will see the idea.
It's not always so easy to use the &quot;last indentation&quot;
feature. 
This &quot;echo&quot; command is an &quot;elegant&quot; (up to you to
confirm) alternative to &quot;building string&quot; within the
loop.

 
Thanks












--- &quot;Gregory (Grisha) Trubetskoy&quot;
&lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">grisha at modpython.org</A>&gt; wrote:
&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Wed, 25 Feb 2004, vincent delft wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; adapt the psp.py code by using an &quot;exec&quot; (instead
</I>&gt;<i> of eval) and redirect
</I>&gt;<i> &gt; sys.sdtout to req.write just before the execute.
</I>&gt;<i> 
</I>&gt;<i> &quot;print&quot; is what the original mod_psp.c used,
</I>&gt;<i> actually.
</I>&gt;<i> 
</I>&gt;<i> The problem is that in a multithreaded
</I>&gt;<i> configuration, there is only one
</I>&gt;<i> sys.stdout for multiple requests, so one thread
</I>&gt;<i> cannot assign to it
</I>&gt;<i> without affecting others :-)
</I>&gt;<i> 
</I>&gt;<i> Grisha
</I>

__________________________________
Do you Yahoo!?
Get better spam protection with Yahoo! Mail.
<A HREF="http://antispam.yahoo.com/tools">http://antispam.yahoo.com/tools</A>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015058.html">[mod_python] idea for PSP
</A></li>
	<LI>Next message: <A HREF="015081.html">[mod_python] idea for PSP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15077">[ date ]</a>
              <a href="thread.html#15077">[ thread ]</a>
              <a href="subject.html#15077">[ subject ]</a>
              <a href="author.html#15077">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
