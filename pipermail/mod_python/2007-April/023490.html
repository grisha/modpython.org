<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] req.write - display in same page
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20req.write%20-%20display%20in%20same%20page&In-Reply-To=46282917.7020309%40vanderbilt.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023489.html">
   <LINK REL="Next"  HREF="023487.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] req.write - display in same page</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Mike Looijmans</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20req.write%20-%20display%20in%20same%20page&In-Reply-To=46282917.7020309%40vanderbilt.edu"
       TITLE="[mod_python] req.write - display in same page">nlv11281 at natlab.research.philips.com
       </A><BR>
    <I>Fri Apr 20 06:48:29 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023489.html">[mod_python] req.write - display in same page
</A></li>
        <LI>Next message: <A HREF="023487.html">[mod_python] req.write - display in same page
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23490">[ date ]</a>
              <a href="thread.html#23490">[ thread ]</a>
              <a href="subject.html#23490">[ subject ]</a>
              <a href="author.html#23490">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>In any web application, the solution is to display the same page again 
with the error message added. To the end-user, that has the effect of 
displaying it on the page (which you probably want because the user is 
likely to want to correct the mistake and try again). On success, you 
can redirect to another page to continue the process.

--
Mike Looijmans
Philips Natlab / Topic Automation


Prashanth wrote:
&gt;<i> Graham and Roberto,
</I>&gt;<i> Apologies for not being clear in my earlier post.
</I>&gt;<i> 
</I>&gt;<i> The following is a part of my HTML code (called index.html) that accepts 
</I>&gt;<i> a file from users, reads and then processes it
</I>&gt;<i> 
</I>&gt;<i> &lt;form action=&quot;python/cgi-bin/getFile&quot; method=&quot;post&quot; 
</I>&gt;<i> enctype=&quot;multipart/form-data&quot;&gt;
</I>&gt;<i> &lt;input type=&quot;file&quot; name=&quot;file&quot; /&gt;
</I>&gt;<i> &lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;Submit&quot; /&gt;
</I>&gt;<i> &lt;/form&gt;
</I>&gt;<i> 
</I>&gt;<i> Here's my python script (readFile.py) that handles reading the file 
</I>&gt;<i> (that is uploaded by the user)
</I>&gt;<i> 
</I>&gt;<i> from mod_python import apache
</I>&gt;<i> from mod_python.util import FieldStorage
</I>&gt;<i> def handler(req):
</I>&gt;<i> req.content_type = &quot;text/plain&quot;
</I>&gt;<i> form = FieldStorage(req)
</I>&gt;<i> for field in form.list:
</I>&gt;<i> fname = field.filename
</I>&gt;<i> ext = fname.split(&quot;.&quot;)
</I>&gt;<i> 
</I>&gt;<i> # desired file extension for me is .nml
</I>&gt;<i> if (ext != &quot;.nml):
</I>&gt;<i> req.write(&quot;Please input a file with .nml extension&quot;)
</I>&gt;<i> else:
</I>&gt;<i> req.write(&quot;File has the desired extension..proceeding to process it&quot;)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> The way it stands req.write is printing the messages in a reloaded 
</I>&gt;<i> window/ fresh page. Is there a way to print messages from req.write in 
</I>&gt;<i> the same page ? In other words, req.write is writing its messages to 
</I>&gt;<i> <A HREF="http://localhost/index.html/readFile.py.">http://localhost/index.html/readFile.py.</A> Can I force req.write to write 
</I>&gt;<i> the messages to <A HREF="http://localhost/index.html">http://localhost/index.html</A> ?
</I>&gt;<i> 
</I>&gt;<i> Thanks
</I>&gt;<i> Prashanth
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023489.html">[mod_python] req.write - display in same page
</A></li>
	<LI>Next message: <A HREF="023487.html">[mod_python] req.write - display in same page
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23490">[ date ]</a>
              <a href="thread.html#23490">[ thread ]</a>
              <a href="subject.html#23490">[ subject ]</a>
              <a href="author.html#23490">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
