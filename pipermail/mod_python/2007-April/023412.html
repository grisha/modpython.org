<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] mod_python install fails
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20install%20fails&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023411.html">
   <LINK REL="Next"  HREF="023413.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] mod_python install fails</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Brian McCann</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20install%20fails&In-Reply-To="
       TITLE="[mod_python] mod_python install fails">Brian.McCann at viziant.net
       </A><BR>
    <I>Wed Apr  4 12:06:41 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023411.html">[mod_python] mod_python install fails
</A></li>
        <LI>Next message: <A HREF="023413.html">[mod_python] mod_python install fails
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23412">[ date ]</a>
              <a href="thread.html#23412">[ thread ]</a>
              <a href="subject.html#23412">[ subject ]</a>
              <a href="author.html#23412">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Jore,
here are all references ro apxs, there was no apxs wit Collabnet, that's why I installed apache2-devel to get it
the version of apache that came with the RH install was 2.0.52 and the one with the collabnet install 2.2.3
there is an apxs in /usr/sbin/ but when I run configure pointing to it, I get the output in bold below pointing to apache 2.0.52 not 2.2.3 are you saying that if I can get the apxs associated with apache version 2.2.3(the version CollabNet uses)mod_python will build succcessfully?
Thanks,
-Brian
[<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">root at sirius1</A> conf]# updatedb
[<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">root at sirius1</A> conf]# locate apxs
/usr/share/man/man8/apxs.8.gz
/usr/share/man/man8/apxs2.8.gz
/usr/sbin/apxs
/usr/sbin/apxs2
/var/www/manual/programs/apxs.html.ko.euc-kr
/var/www/manual/programs/apxs.html.en
/var/www/manual/programs/apxs.html
/etc/opt/CollabNet_Subversion/default-site/htdocs/manual/programs/apxs.html
/etc/opt/CollabNet_Subversion/default-site/htdocs/manual/programs/apxs.html.ko.euc-kr
/etc/opt/CollabNet_Subversion/default-site/htdocs/manual/programs/apxs.html.en
[<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">root at sirius1</A> mod_python-3.3.1]# ./configure --with-python=/usr/bin/python2.3 --with-apxs=/usr/sbin/apxs --with-flex=/usr/bin/flex
checking for gcc... gcc
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables...
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ANSI C... none needed
checking for ar... ar
checking for a BSD-compatible install... /usr/bin/install -c
checking whether make sets $(MAKE)... yes
checking for main in -lm... yes
checking for an ANSI C-conforming const... yes
checking your blood pressure... a bit high, but we can proceed
configure: checking whether apxs is available...
checking for --with-apxs... /usr/sbin/apxs executable, good
checking Apache version... 2.0.52
checking for Apache libexec directory... /usr/lib/httpd/modules
checking for Apache include directory... -I/usr/include/httpd
checking for --with-python... /usr/bin/python2.3
checking Python version... 2.3
checking Python install prefix... /usr
checking checking where python libraries are installed... /usr/lib/python2.3
checking for Py_NewInterpreter in -lpython2.3... yes
checking what libraries Python was linked with... -lpython2.3 -lpthread -ldl -lutil -lm
checking linker flags used to link Python...
checking where Python include files are... -I/usr/include/python2.3
checking for --with-python-src... no
checking for --with-mutex-dir... no
Using MUTEX_DIR /tmp
checking for --with-max-locks... no
Using 8 MAX_LOCKS.
checking for --with-flex... /usr/bin/flex
found /usr/bin/flex, we'll use this. Use --with-flex to specify another.
checking flex version... configure: WARNING: Flex version 2.5.4 found.
    Version 2.5.31 or greater is required.  You can generally ignore this
    warning unless you need to regenerate psp_parser.c from psp_parse.l.
    If you do need regenerate psp_parser.c, use --with-flex to specify the
    location of the correct flex version. See the README for more information.
configure: creating ./config.status
config.status: creating Makefile
config.status: creating src/Makefile
config.status: creating Doc/Makefile
config.status: creating src/include/mod_python.h
config.status: creating test/Makefile
config.status: creating test/testconf.py
config.status: creating dist/setup.py
config.status: creating dist/Makefile
 
 
 

________________________________

From: Jorey Bump [mailto:<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">list at joreybump.com</A>]
Sent: Wed 4/4/2007 11:22 AM
To: Brian McCann
Cc: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
Subject: Re: [mod_python] mod_python install fails



Brian McCann wrote:

&gt;<i> These are the versions\locations on our server
</I>&gt;<i> [<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">root at sirius1</A> bin]# /opt/CollabNet_Subversion/bin/httpd -V
</I>&gt;<i> Server version: Apache/2.2.3
</I>&gt;<i> Server built:   Feb  5 2007 13:01:55
</I>&gt;<i> I cp this httpd file to httpd2 and put that file in /etc
</I>
Why would you do that?

&gt;<i> this is what I get now whenI run configure, make, make
</I>&gt;<i> install[<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">root at sirius1</A> mod_python-3.3.1]# ./configure
</I>&gt;<i> --with-python=/usr/bin/python2.3 --with-apxs=/usr/sbin/apxs2
</I>&gt;<i> --with-flex=/usr/bin/flex
</I>
You're still using an apxs that doesn't match your target Apache
installation. As root, run the following commands:

  updatedb
  locate apxs

See if the output shows apxs somewhere within your CollabNet installation.

&gt;<i> and the try to restart apache I get this garbled error
</I>&gt;<i> [<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">root at sirius1</A> bin]# apachectl restart
</I>&gt;<i> httpd: Syntax error on line 55 of
</I>&gt;<i> /etc/opt/CollabNet_Subversion/conf/httpd.conf: API module structure
</I>&gt;<i> `python_module' in file /usr/lib/apache2/mod_pyt
</I>&gt;<i> hon.so is garbled - perhaps this is not an Apache module DSO?
</I>&gt;<i> [<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">root at sirius1</A> bin]#
</I>&gt;<i> 
</I>&gt;<i> CollabNet did not come with apxs2 so I installe dthe package apache2-devel
</I>
That will only work for Red Hat's corresponding Apache RPM. Keep in mind
that the original upstream Apache httpd distribution doesn't use the
names apxs2 or httpd2, a convention used by packagers to support
installing Apache httpd versions 1.x and 2.x on the same machine. A
vanilla installation of httpd will simply provide apxs and httpd. I have
no familiarity with CollabNet, but if they're distributing Apache, they
must provide the source, so you will be able to install a working apxs,
somehow. They may even supply it as another package. In any case, you
should use the apxs that corresponds to your target Apache installation.

Once you understand it, the default Apache httpd is flexible and well
designed. If CollabNet hasn't crippled it in any way, it should be easy
to add functionality like mod_python.



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20070404/7bb2485e/attachment.html">http://mm_cfg_has_not_been_edited_to_set_host_domains/pipermail/mod_python/attachments/20070404/7bb2485e/attachment.html</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023411.html">[mod_python] mod_python install fails
</A></li>
	<LI>Next message: <A HREF="023413.html">[mod_python] mod_python install fails
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23412">[ date ]</a>
              <a href="thread.html#23412">[ thread ]</a>
              <a href="subject.html#23412">[ subject ]</a>
              <a href="author.html#23412">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
