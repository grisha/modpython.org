<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] [SPAM] [Newbie] import_module() function or Python's
	import statement
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20%5BSPAM%5D%20%5BNewbie%5D%20import_module%28%29%20function%20or%20Python%27s%0A%09import%20statement&In-Reply-To=88e286470808171759ta2d620ag1d6aab2639aeffa%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025547.html">
   <LINK REL="Next"  HREF="025550.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] [SPAM] [Newbie] import_module() function or Python's
	import statement</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Guillaume Poletto</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20%5BSPAM%5D%20%5BNewbie%5D%20import_module%28%29%20function%20or%20Python%27s%0A%09import%20statement&In-Reply-To=88e286470808171759ta2d620ag1d6aab2639aeffa%40mail.gmail.com"
       TITLE="[mod_python] [SPAM] [Newbie] import_module() function or Python's
	import statement">polettog at gmail.com
       </A><BR>
    <I>Mon Aug 18 08:32:30 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025547.html">[mod_python] [SPAM] [Newbie] import_module() function or Python's
	import statement
</A></li>
        <LI>Next message: <A HREF="025550.html">[mod_python] [SPAM] [Newbie] import_module() function or Python's
	import statement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25548">[ date ]</a>
              <a href="thread.html#25548">[ thread ]</a>
              <a href="subject.html#25548">[ subject ]</a>
              <a href="author.html#25548">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for your answer

2008/8/18 Graham Dumpleton &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">graham.dumpleton at gmail.com</A>&gt;
&gt;<i>
</I>&gt;<i> 2008/8/18 Poletto Guillaume &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">polettog at gmail.com</A>&gt;:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Yes, I'm new to both Python programming language and mod_python
</I>&gt;<i>
</I>&gt;<i> If you are new to Python and want to write web applications, any
</I>&gt;<i> reason why you didn't start out with one of the arguably more friendly
</I>&gt;<i> higher level frameworks such as Django?
</I>
I don't know.. no doubt that Django is great, but i was seduced by
writing my own handler and controlling requests by parsing URIs by
hand.
Note that if i'm new to Python, i'm experimented in web developement,
and also in writing CGIs (although this is not CGI here, i know). I
already know some low level things concerning HTTP headers (i wrote
some tools in C to parse urlencoded query strings, POST data and
netscape cookies). So except the import_module() part, i did
assimilate most of the manual.
If there was no &quot;util&quot; module to fetch form parameters, i would have
taken a look to a higher level framework, but the base mod_python
seems to provide all i need :)
Also, i was interesting in writing Apache modules in C, so i thought
using mod_python at low level was good to learn about how work
handlers and apache internals

&gt;<i> &gt; I made a test and i modified a module imported by &quot;import&quot; statement in my handler module : the changes where taken in count without restarting apache
</I>&gt;<i>
</I>&gt;<i> Two things could be happening here. The first is that the module being
</I>&gt;<i> imported was in the same directory and was being managed by mod_python
</I>&gt;<i> module importer and on detecting a change, it reloaded code
</I>&gt;<i> appropriately.
</I>&gt;<i>
</I>&gt;<i> Alternatively, you have been deceived by the fact that
</I>&gt;<i> Apache/mod_python on UNIX is a multiprocess web server and so a
</I>&gt;<i> completely different processes which hadn't loaded it previously
</I>&gt;<i> handled the request and so code got loaded for first time, and wasn't
</I>&gt;<i> because of a reload at all. In this later case, it may not have even
</I>&gt;<i> been a candidate for reloading and might just be a standard Python
</I>&gt;<i> module/package.
</I>
That was it !
Yesterday, i made, the test 3 or 4 times, but there were 6 apache
processes, so at each request, the handler module was not yet
imported. This is why i thought modules where &quot;reloaded&quot;.

&gt;<i>
</I>&gt;<i> If you have:
</I>&gt;<i>
</I>&gt;<i>  PythonDebug On
</I>&gt;<i>
</I>&gt;<i> set in configuration and monitor the Apache error log files you should
</I>&gt;<i> be able to see when a code files is being handled by mod_python module
</I>&gt;<i> importer and when it is being first loaded and/or reloaded. If it
</I>&gt;<i> isn't in there, it is a standard module/package and reloading not
</I>&gt;<i> possible.
</I>
This is a great trick to look at the apache error log, i'll remember that

&gt;<i> If you are new to Python and have dropped down to the level of
</I>&gt;<i> mod_python module importer already, I would suggest you run away.
</I>&gt;<i> Instead have a look at one of the high level web frameworks for Python
</I>&gt;<i> as you will be able to get onto developing your application much
</I>&gt;<i> quicker and will not have to be worried about such low level details.
</I>&gt;<i> :-)
</I>
Thanks for the advice but i think i'll look to a higher level
framework in a future project.
I've all the time !
Now i better understand what happens with &quot;import&quot; statements, i think
i will use them instead of import_module() and gracefully restart
apache at each update.
Now there's another problem : what's the right way to add another
import path ? Because i wanted to have the main source code outside
the directory in which is the handler module.
During my test, i did the tweak of adding dynamically my path to
sys.path list, but i find this a bit dirty.
So i found there was this apache directive &quot;PythonPath&quot; but according
to the manual, this is not recommanded to use it.
So what should i do?

Thanks
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025547.html">[mod_python] [SPAM] [Newbie] import_module() function or Python's
	import statement
</A></li>
	<LI>Next message: <A HREF="025550.html">[mod_python] [SPAM] [Newbie] import_module() function or Python's
	import statement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25548">[ date ]</a>
              <a href="thread.html#25548">[ thread ]</a>
              <a href="subject.html#25548">[ subject ]</a>
              <a href="author.html#25548">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
