<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] how to use pythonImport ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20how%20to%20use%20pythonImport%20%3F&In-Reply-To=2613171a0808040541o26002a30m8f1870c2b7e4118c%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025494.html">
   <LINK REL="Next"  HREF="025495.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] how to use pythonImport ?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20how%20to%20use%20pythonImport%20%3F&In-Reply-To=2613171a0808040541o26002a30m8f1870c2b7e4118c%40mail.gmail.com"
       TITLE="[mod_python] how to use pythonImport ?">graham.dumpleton at gmail.com
       </A><BR>
    <I>Mon Aug  4 19:05:43 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025494.html">[mod_python] how to use pythonImport ?
</A></li>
        <LI>Next message: <A HREF="025495.html">[mod_python] Proxy + Tomcat filter problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25502">[ date ]</a>
              <a href="thread.html#25502">[ thread ]</a>
              <a href="subject.html#25502">[ subject ]</a>
              <a href="author.html#25502">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2008/8/4 bharath venkatesh &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">bharathv6.project at gmail.com</A>&gt;:
&gt;<i> hi all ,
</I>&gt;<i>            I learn that pythonimport directory tells apache to import a
</I>&gt;<i> module when apache starts so i tried to import a module by placing the
</I>&gt;<i> pythonimport directive  in server configuration file .
</I>&gt;<i> like this:
</I>&gt;<i> PythonImport   /home/bharath/module.py    /usr/bin/python2.5
</I>
As I believe I asked you before, why are you specifying interpreter
name as '/usr/bin/python2.5'. This isn't meant to be a path to the
'python' executable, it is just a name which has meaning within
mod_python itself. If you are going to use PythonImport, you are
likely going to also need PythonInterpreter so you can force which
interpreter your application is run in. Otherwise, you have to work
out what interpreter your application is running in by default and use
that name with PythonImport. Have you application dump out value of
req.interpreter to work it out.

&gt;<i> this does not report any error when i restart the server  unless i specify
</I>&gt;<i> wrong path to the module
</I>
If it doesn't report an error, isn't that good, it means it probably worked.

&gt;<i> but how to use the module imported by PythonImport module
</I>
What do you mean by use it? It is just a facility to preload a Python
module at process startup. Yes it can do work as a side effect by
having executable code at global scope in that module, but if that
code is something that can fail, you really need a way for a specific
request to retrigger same code if some initialisation not complete,
otherwise only way to recover is restart Apache again.

&gt;<i> if i do import module in my handler i can't get a import error saying that
</I>&gt;<i> no module as such
</I>&gt;<i> can anyone tell me how to use the module imported using pythonimport
</I>&gt;<i> directive
</I>
Small, self contained code example of what you are doing would help.
The exact error messages from Apache error logs would also help. It is
hard to tell you how to do something if you haven't explained what you
have tried so far and are complaining doesn't work.

&gt;<i> and also if the module that is imported by pythonimport is changed will
</I>&gt;<i> apache automatically reimport it ?
</I>
As directed in PythonImport documentation, read about import_module() in:

  <A HREF="http://www.modpython.org/live/current/doc-html/pyapi-apmeth.html">http://www.modpython.org/live/current/doc-html/pyapi-apmeth.html</A>

BTW, please ensure you reply-all to list and stop replying just to me.
I ignore such mails if people consistently do that.

Graham
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025494.html">[mod_python] how to use pythonImport ?
</A></li>
	<LI>Next message: <A HREF="025495.html">[mod_python] Proxy + Tomcat filter problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25502">[ date ]</a>
              <a href="thread.html#25502">[ thread ]</a>
              <a href="subject.html#25502">[ subject ]</a>
              <a href="author.html#25502">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
