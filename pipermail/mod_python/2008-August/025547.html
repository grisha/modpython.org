<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] [SPAM] [Newbie] import_module() function or Python's
	import statement
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20%5BSPAM%5D%20%5BNewbie%5D%20import_module%28%29%20function%20or%20Python%27s%0A%09import%20statement&In-Reply-To=20080817231957.7a17d625%40gruentoo.gruhome">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025546.html">
   <LINK REL="Next"  HREF="025548.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] [SPAM] [Newbie] import_module() function or Python's
	import statement</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20%5BSPAM%5D%20%5BNewbie%5D%20import_module%28%29%20function%20or%20Python%27s%0A%09import%20statement&In-Reply-To=20080817231957.7a17d625%40gruentoo.gruhome"
       TITLE="[mod_python] [SPAM] [Newbie] import_module() function or Python's
	import statement">graham.dumpleton at gmail.com
       </A><BR>
    <I>Sun Aug 17 20:59:19 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025546.html">[mod_python] [SPAM] [Newbie] import_module() function or Python's
	import statement
</A></li>
        <LI>Next message: <A HREF="025548.html">[mod_python] [SPAM] [Newbie] import_module() function or Python's
	import statement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25547">[ date ]</a>
              <a href="thread.html#25547">[ thread ]</a>
              <a href="subject.html#25547">[ subject ]</a>
              <a href="author.html#25547">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2008/8/18 Poletto Guillaume &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">polettog at gmail.com</A>&gt;:
&gt;<i>
</I>&gt;<i> Yes, I'm new to both Python programming language and mod_python
</I>
If you are new to Python and want to write web applications, any
reason why you didn't start out with one of the arguably more friendly
higher level frameworks such as Django?

&gt;<i> and i found the import_module() paragraph in the manual not really easy to eat.
</I>
It is a complicated issue. :-)

&gt;<i> What I understood is that, a such function is necessary to reload modified modules used by the webserver because the interpreter lives as long as the apache child process lives.
</I>
It isn't absolutely necessary, it is a convenience more for when
developing code as you don't need to restart Apache after every
change. Do note though that the code modules this applies to is quite
limited. For changes to modules/packages installed on sys.path you
still need to restart the whole of Apache.

&gt;<i> Okay, but what was not clear is : does mod_python overrides the Python's statement &quot;import&quot; to make the same things than import_module()?
</I>&gt;<i> If yes, why this function?
</I>
It doesn't strictly override 'import' statement. Instead it hooks in
Python APIs that underlay 'import'.

  <A HREF="http://www.python.org/dev/peps/pep-0302/">http://www.python.org/dev/peps/pep-0302/</A>

You thus have the ability to say that for certain imports they are
treated in certain ways and taken from different storage mechanisms.

&gt;<i> I made a test and i modified a module imported by &quot;import&quot; statement in my handler module : the changes where taken in count without restarting apache
</I>
Two things could be happening here. The first is that the module being
imported was in the same directory and was being managed by mod_python
module importer and on detecting a change, it reloaded code
appropriately.

Alternatively, you have been deceived by the fact that
Apache/mod_python on UNIX is a multiprocess web server and so a
completely different processes which hadn't loaded it previously
handled the request and so code got loaded for first time, and wasn't
because of a reload at all. In this later case, it may not have even
been a candidate for reloading and might just be a standard Python
module/package.

If you have:

  PythonDebug On

set in configuration and monitor the Apache error log files you should
be able to see when a code files is being handled by mod_python module
importer and when it is being first loaded and/or reloaded. If it
isn't in there, it is a standard module/package and reloading not
possible.

&gt;<i> Maybe the difference is in the treatment of packages.. The import_module() breaks all namespace stuff with packages (we could not do the same as &quot;import package.subpackage.module&quot; and then use stuff with &quot;package.subpackage.module.function()&quot; notation, although this doesn't seem to be recommanded in classic python softwares)
</I>
The documentation says that it only applies to single Python code
files and doesn't work for Python packages. If you are trying to get
it to work for Python packages, at least to the extent of expecting
reloading to work, you will be disappointed.

&gt;<i> As I am new to Python, i was first thinking of designing my website like a classic python application, with packages and stuff, but tell me i should rather think of arranging my modules in classic directories and use import_module() each time.
</I>
If you are new to Python and have dropped down to the level of
mod_python module importer already, I would suggest you run away.
Instead have a look at one of the high level web frameworks for Python
as you will be able to get onto developing your application much
quicker and will not have to be worried about such low level details.
:<i>-)
</I>
Graham
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025546.html">[mod_python] [SPAM] [Newbie] import_module() function or Python's
	import statement
</A></li>
	<LI>Next message: <A HREF="025548.html">[mod_python] [SPAM] [Newbie] import_module() function or Python's
	import statement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25547">[ date ]</a>
              <a href="thread.html#25547">[ thread ]</a>
              <a href="subject.html#25547">[ subject ]</a>
              <a href="author.html#25547">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
