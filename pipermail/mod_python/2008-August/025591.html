<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Configuration issue with Apache
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Configuration%20issue%20with%20Apache&In-Reply-To=496954360808241743r7f8c37abud9b51a753f4ed0d6%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025590.html">
   <LINK REL="Next"  HREF="025592.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Configuration issue with Apache</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Configuration%20issue%20with%20Apache&In-Reply-To=496954360808241743r7f8c37abud9b51a753f4ed0d6%40mail.gmail.com"
       TITLE="[mod_python] Configuration issue with Apache">graham.dumpleton at gmail.com
       </A><BR>
    <I>Sun Aug 24 20:52:40 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025590.html">[mod_python] Configuration issue with Apache
</A></li>
        <LI>Next message: <A HREF="025592.html">[mod_python] Configuration issue with Apache
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25591">[ date ]</a>
              <a href="thread.html#25591">[ thread ]</a>
              <a href="subject.html#25591">[ subject ]</a>
              <a href="author.html#25591">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>But is the .htaccess file in forum subdirectory actually read?

To double check, add a syntax error in it. Eg, add any crap such as:

  XXX

in it. If read, should then give 500 error response as Apache will
fail in reading .htaccess file.

DirectoryIndex will only be allowed in 'Indexes' option to
AllowOverride set for directory, but if it weren't then you would get
500 error response as well. If this was the case, only way 500 would
not be returned is if .htaccess file wasn't being read in first place.

But then, if DirectoryIndex worked in root directory, should also work
for subdirectory unless 'forum' is actually a symlink off to somewhere
else. Anyway, clutching at straws about now. :-)

Maybe just try:

  DirectoryIndex index.php index.py

in root directory .htaccess to see if will allow both.

Graham

2008/8/25 Robert Dailey &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">rcdailey at gmail.com</A>&gt;:
&gt;<i> Removing the DirectoryIndex line actually works! The forum works just
</I>&gt;<i> fine! However, I find this odd because in the
</I>&gt;<i> /srv/http/forum/.htaccess file, I would add something like:
</I>&gt;<i>
</I>&gt;<i> DirectoryIndex index.php and it would not work.
</I>&gt;<i>
</I>&gt;<i> Right now there is a .htaccess file in the /srv/http/forum directory,
</I>&gt;<i> but it was the phpBB default, and its contents are below:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &lt;Files &quot;config.php&quot;&gt;
</I>&gt;<i>    Order Allow,Deny
</I>&gt;<i>    Deny from All
</I>&gt;<i> &lt;/Files&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;Files &quot;common.php&quot;&gt;
</I>&gt;<i>    Order Allow,Deny
</I>&gt;<i>    Deny from All
</I>&gt;<i> &lt;/Files&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Sun, Aug 24, 2008 at 7:14 PM, Graham Dumpleton
</I>&gt;<i> &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">graham.dumpleton at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> What is in .htaccess of /srv/http/forum or is that directory
</I>&gt;&gt;<i> configured from main Apache configuration?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> What happens in you don't have:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  DirectoryIndex index.py
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> in root .htaccess directory?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It would be inherited by subdirectory and may be interfering depending
</I>&gt;&gt;<i> on how subdirectory configured.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Graham
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 2008/8/25 Robert Dailey &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">rcdailey at gmail.com</A>&gt;:
</I>&gt;&gt;&gt;<i> On Sun, Aug 24, 2008 at 6:24 PM, Graham Dumpleton
</I>&gt;&gt;&gt;<i> &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">graham.dumpleton at gmail.com</A>&gt; wrote:
</I>&gt;&gt;&gt;&gt;<i> Since you haven't provided what configuration you used to enable
</I>&gt;&gt;&gt;&gt;<i> mod_python it is hard to tell. At a guess though it sounds like you
</I>&gt;&gt;&gt;&gt;<i> use SetHandler in the .htaccess to enable mod_python and so have made
</I>&gt;&gt;&gt;&gt;<i> all requests against directory use mod_python. You should look at
</I>&gt;&gt;&gt;&gt;<i> using AddHandler to restrict use of mod_python to certain extensions
</I>&gt;&gt;&gt;&gt;<i> in URL, or instead use 'SetHandler None' in .htaccess of subdirectory
</I>&gt;&gt;&gt;&gt;<i> where PHP is used, presuming that PHP configured to act as output
</I>&gt;&gt;&gt;&gt;<i> filter.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Provide configuration and crystal ball wouldn't be necessary.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Graham
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Sorry for leaving out that vital information, not sure what I was
</I>&gt;&gt;&gt;<i> thinking to not provide it. I was in a hurry in my initial post, so I
</I>&gt;&gt;&gt;<i> do apologize. Below is the configuration I'm using. I believe I used
</I>&gt;&gt;&gt;<i> the setup instructions on the official mod_python website, but I don't
</I>&gt;&gt;&gt;<i> remember for sure. Note also that by adding &quot;php&quot; to the list of
</I>&gt;&gt;&gt;<i> extensions in &lt;Files&gt;, this still doesn't cause the forum scripts to
</I>&gt;&gt;&gt;<i> work. Sometimes I'd notice that the PHP script itself would show up
</I>&gt;&gt;&gt;<i> when I visited the forum instead of it being executed.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Thank you again for your help. Please let me know if I've left anything out.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> #------------------------------------------------------------------
</I>&gt;&gt;&gt;<i> Options All -Indexes
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> # Set mod_python options
</I>&gt;&gt;&gt;<i> DirectoryIndex index.py
</I>&gt;&gt;&gt;<i> AddHandler mod_python .py
</I>&gt;&gt;&gt;<i> PythonHandler mod_python.publisher
</I>&gt;&gt;&gt;<i> PythonDebug on
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> AddType text/html;qs=1.0 .py
</I>&gt;&gt;&gt;<i> AddType text/html;qs=0.9 .html
</I>&gt;&gt;&gt;<i> AddType text/plain;qs=0.8 .txt
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> &lt;Files ~ &quot;\.(gif|html|jpg|png|swf)$&quot;&gt;
</I>&gt;&gt;&gt;<i>   SetHandler default-handler
</I>&gt;&gt;&gt;<i> &lt;/Files&gt;
</I>&gt;&gt;&gt;<i> #------------------------------------------------------------------
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025590.html">[mod_python] Configuration issue with Apache
</A></li>
	<LI>Next message: <A HREF="025592.html">[mod_python] Configuration issue with Apache
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25591">[ date ]</a>
              <a href="thread.html#25591">[ thread ]</a>
              <a href="subject.html#25591">[ subject ]</a>
              <a href="author.html#25591">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
