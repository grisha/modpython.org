From sebastien.deleersnyder at be.unisys.com  Sat Sep  1 05:18:15 2001
From: sebastien.deleersnyder at be.unisys.com (Deleersnyder, Sebastien)
Date: Fri Jan  9 21:46:28 2004
Subject: [mod_python] Cookie setting and reading
Message-ID: <3995C58A11F7D211A7EE00105AC580980192DD3C@BE-BRU-EXCH-2>

Hi,

This certainly has been discussed here before, but I do not seem to find 
any documentation/example on the following.

How do I set a cookie. And how do I read the same cookie back?

I think the following code should set the cookie and forces the browser to
save 
the cookie for a next logon (by setting the expiration date to the maximum).

req.headers_out['Set-Cookie']='key=value; path=/; expires=Wed, 09-Nov-2030
23:59:00 GMT'
req.send_http_header()

Only I am testing this with IE 6 and I do not see the cookie in my cookie
directory or privacy settings.
My privacy settings is configured to allow all cookies.

Next question:
If successfully set, how do I read the cookie when the client reconnects?
Is this a member of the request class?

regards,

Sebastien

From sebastien.deleersnyder at be.unisys.com  Sat Sep  1 08:57:32 2001
From: sebastien.deleersnyder at be.unisys.com (Deleersnyder, Sebastien)
Date: Fri Jan  9 21:46:28 2004
Subject: [mod_python] SOLVED + example: Cookie setting and reading
Message-ID: <3995C58A11F7D211A7EE00105AC580980192DD3D@BE-BRU-EXCH-2>

Hi,

After some checking and aid from Leonid Timochouk I solved the problem.
I already had a send_http_header() call before my cookie setting 
(classic mistake).
The cookie is send to the server as part of the headers_in.

Here is my sample code:

<snip>
from mod_python import apache,
def getCookie(headers_in, key):
    """ Method to retrieve a certain cookie, returns None if not found, or
not set"""
    if headers_in.has_key('Cookie'):
        import Cookie
        C = Cookie.SmartCookie(headers_in['Cookie'])
        C.load(headers_in['Cookie'])
        if C.has_key(key):
            return C[key].value
    return None

def handler(req):
    """ This sample code will result in 'None' the first time the page is
leaded
    and 'Value' on the reload."""
    form = util.FieldStorage(req)
    req.headers_out['Set-Cookie']='key=value; path=/; expires=Wed,
09-Nov-2030 23:59:00 GMT'
    req.write(repr(getCookie(req.headers_in, 'key')))
    return apache.OK
</snip>

regards,

Sebastien
>  -----Original Message-----
> From: 	Deleersnyder, Sebastien  
> Sent:	zaterdag 1 september 2001 12:21
> To:	mod_python@modpython.org
> Subject:	Cookie setting and reading
> 
> Hi,
> 
> This certainly has been discussed here before, but I do not seem to find 
> any documentation/example on the following.
> 
> How do I set a cookie. And how do I read the same cookie back?
> 
> I think the following code should set the cookie and forces the browser to
> save 
> the cookie for a next logon (by setting the expiration date to the
> maximum).
> 
> req.headers_out['Set-Cookie']='key=value; path=/; expires=Wed, 09-Nov-2030
> 23:59:00 GMT'
> req.send_http_header()
> 
> Only I am testing this with IE 6 and I do not see the cookie in my cookie
> directory or privacy settings.
> My privacy settings is configured to allow all cookies.
> 
> Next question:
> If successfully set, how do I read the cookie when the client reconnects?
> Is this a member of the request class?
> 
> regards,
> 
> Sebastien

From linkangels at hotmail.com  Mon Sep  3 08:16:35 2001
From: linkangels at hotmail.com (Kristy Christie)
Date: Fri Jan  9 21:46:28 2004
Subject: [mod_python] Problem Installing
Message-ID: <F85HaZVrDs9aAOPpBpc00000a57@hotmail.com>

Hi.

I installed mod_python on Windows 98 by placing the dll file into apache 
modules folder and adjusting the httpd.conf file as directed in the manual. 
When I try to open mptest.py (http://localhost:9000/python/mptest.py), I get 
an internal server error. Below is my httpd.conf file and the my Apache 1.3 
server log.

It's really important that I get Apache to be able to open python files. Can 
somebody please help me? Please!

Thank you very much.

~Kristy

._____________________________________.
| |  Jesus Christ really loves you!   |
|--- Visit the website & find out     |
| |  more http://www.jesuschrist.com  |
|_____________________________________|

:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
ERROR
:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

Internal Server Error
The server encountered an internal error or misconfiguration and was unable 
to complete your request.
Please contact the server administrator, you@your.address and inform them of 
the time the error occurred, and anything you might have done that may have 
caused the error.
More information about this error may be available in the server error log.

::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
SERVER LOG
::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

[Sun Sep 03 15:35:05 1995] [warn] Loaded DSO modules/mod_python.dll uses 
plain Apache 1.3 API, this module might crash under EAPI! (please recompile 
it with -DEAPI)
make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.
make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.
[Sun Sep 03 15:39:39 1995] [warn] Loaded DSO modules/mod_python.dll uses 
plain Apache 1.3 API, this module might crash under EAPI! (please recompile 
it with -DEAPI)
make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.

:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
HTTPD.CONF
:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

#
# Based upon the NCSA server configuration files originally by Rob McCool.
#
# This is the main Apache server configuration file.  It contains the
# configuration directives that give the server its instructions.
# See <URL:http://www.apache.org/docs/> for detailed information about
# the directives.
#
# Do NOT simply read the instructions in here without understanding
# what they do.  They're here only as hints or reminders.  If you are unsure
# consult the online docs. You have been warned.
#
# After this file is processed, the server will look for and process
# C:/Program Files/nusphere/apache/conf/srm.conf and then C:/Program 
Files/nusphere/apache/conf/access.conf
# unless you have overridden these with ResourceConfig and/or
# AccessConfig directives here.
#
# The configuration directives are grouped into three basic sections:
#  1. Directives that control the operation of the Apache server process as 
a
#     whole (the 'global environment').
#  2. Directives that define the parameters of the 'main' or 'default' 
server,
#     which responds to requests that aren't handled by a virtual host.
#     These directives also provide default values for the settings
#     of all virtual hosts.
#  3. Settings for virtual hosts, which allow Web requests to be sent to
#     different IP addresses or hostnames and have them handled by the
#     same Apache server process.
#
# Configuration and logfile names: If the filenames you specify for many
# of the server's control files begin with "/" (or "drive:/" for Win32), the
# server will use that explicit path.  If the filenames do *not* begin
# with "/", the value of ServerRoot is prepended -- so "logs/foo.log"
# with ServerRoot set to "/usr/local/apache" will be interpreted by the
# server as "/usr/local/apache/logs/foo.log".
#
# NOTE: Where filenames are specified, you must use forward slashes
# instead of backslashes (e.g., "C:/Program Files/nusphere/apache" instead 
of "c:\apache").
# If a drive letter is omitted, the drive on which Apache.exe is located
# will be used by default.  It is recommended that you always supply
# an explicit drive letter in absolute paths, however, to avoid
# confusion.
#

### Section 1: Global Environment
#
# The directives in this section affect the overall operation of Apache,
# such as the number of concurrent requests it can handle or where it
# can find its configuration files.
#

#
# ServerType is either inetd, or standalone.  Inetd mode is only supported 
on
# Unix platforms.
#
ServerType standalone

#
# ServerRoot: The top of the directory tree under which the server's
# configuration, error, and log files are kept.
#
# Do NOT add a slash at the end of the directory path.
#
ServerRoot "C:/Program Files/nusphere/apache"

#
# PidFile: The file in which the server should record its process
# identification number when it starts.
#
PidFile logs/httpd.pid

#
# ScoreBoardFile: File used to store internal server process information.
# Not all architectures require this.  But if yours does (you'll know 
because
# this file will be  created when you run Apache) then you *must* ensure 
that
# no two invocations of Apache share the same scoreboard file.
#
ScoreBoardFile logs/apache_runtime_status

#
# In the standard configuration, the server will process httpd.conf (this
# file, specified by the -f command line option), srm.conf, and access.conf
# in that order.  The latter two files are now distributed empty, as it is
# recommended that all directives be kept in a single file for simplicity.
# The commented-out values below are the built-in defaults.  You can have 
the
# server ignore these files altogether by using "/dev/null" (for Unix) or
# "nul" (for Win32) for the arguments to the directives.
#
#ResourceConfig conf/srm.conf
#AccessConfig conf/access.conf

#
# Timeout: The number of seconds before receives and sends time out.
#
Timeout 300

#
# KeepAlive: Whether or not to allow persistent connections (more than
# one request per connection). Set to "Off" to deactivate.
#
KeepAlive On

#
# MaxKeepAliveRequests: The maximum number of requests to allow
# during a persistent connection. Set to 0 to allow an unlimited amount.
# We recommend you leave this number high, for maximum performance.
#
MaxKeepAliveRequests 100

#
# KeepAliveTimeout: Number of seconds to wait for the next request from the
# same client on the same connection.
#
KeepAliveTimeout 15

#
# Apache on Win32 always creates one child process to handle requests.  If 
it
# dies, another child process is created automatically.  Within the child
# process multiple threads handle incoming requests.  The next two
# directives control the behaviour of the threads and processes.
#

#
# MaxRequestsPerChild: the number of requests each child process is
# allowed to process before the child dies.  The child will exit so
# as to avoid problems after prolonged use when Apache (and maybe the
# libraries it uses) leak memory or other resources.  On most systems, this
# isn't really needed, but a few (such as Solaris) do have notable leaks
# in the libraries.  For Win32, set this value to zero (unlimited)
# unless advised otherwise.
#
# NOTE: This value does not include keepalive requests after the initial
#       request per connection. For example, if a child process handles
#       an initial request and 10 subsequent "keptalive" requests, it
#       would only count as 1 request towards this limit.
#
MaxRequestsPerChild 0

#
# Number of concurrent threads (i.e., requests) the server will allow.
# Set this value according to the responsiveness of the server (more
# requests active at once means they're all handled more slowly) and
# the amount of system resources you'll allow the server to consume.
#
ThreadsPerChild 50

#
# Listen: Allows you to bind Apache to specific IP addresses and/or
# ports, in addition to the default. See also the <VirtualHost>
# directive.
#
#Listen 3000
#Listen 12.34.56.78:80

#
# BindAddress: You can support virtual hosts with this option. This 
directive
# is used to tell the server which IP address to listen to. It can either
# contain "*", an IP address, or a fully qualified Internet domain name.
# See also the <VirtualHost> and Listen directives.
#
#BindAddress *

#
# Apache Modules compiled into the standard Windows build
#
# The following modules are bound into the standard Apache binary 
distribution
# for Windows.  To change the standard behavior, uncomment the following 
lines
# and modify the list of those specific modules to be enabled in the server.
#
# WARNING: This is an advanced option that may render your server 
inoperable!
# Do not use these directives without expert guidance.
#
#ClearModuleList
#AddModule mod_so.c mod_mime.c mod_access.c mod_auth.c mod_negotiation.c
#AddModule mod_include.c mod_autoindex.c mod_dir.c mod_cgi.c mod_userdir.c
#AddModule mod_alias.c mod_env.c mod_log_config.c mod_asis.c mod_imap.c
#AddModule mod_actions.c mod_setenvif.c mod_isapi.c

#
# Dynamic Shared Object (DSO) Support
#
# To be able to use the functionality of a module which was built as a DSO 
you
# have to place corresponding `LoadModule' lines at this location so the
# directives contained in it are actually available _before_ they are used.
# Please read the file README.DSO in the Apache 1.3 distribution for more
# details about the DSO mechanism and run `apache -l' for the list of 
already
# built-in (statically linked and thus always available) modules in your 
Apache
# binary.
#
# Note: The order in which modules are loaded is important.  Don't change
# the order below without expert advice.
#

LoadModule python_module modules/mod_python.dll
LoadModule mysql_auth_module modules/mod_auth_mysql.dll

#LoadModule anon_auth_module modules/mod_auth_anon.so
#LoadModule dbm_auth_module modules/mod_auth_dbm.so
#LoadModule digest_auth_module modules/mod_auth_digest.so
#LoadModule cern_meta_module modules/mod_cern_meta.so
#LoadModule digest_module modules/mod_digest.so
#LoadModule expires_module modules/mod_expires.so
#LoadModule headers_module modules/mod_headers.so
#LoadModule proxy_module modules/mod_proxy.so
#LoadModule rewrite_module modules/mod_rewrite.so
#LoadModule speling_module modules/mod_speling.so
#LoadModule info_module modules/mod_info.so
#LoadModule status_module modules/mod_status.so
#LoadModule usertrack_module modules/mod_usertrack.so

#
# ExtendedStatus controls whether Apache will generate "full" status
# information (ExtendedStatus On) or just basic information (ExtendedStatus
# Off) when the "server-status" handler is called. The default is Off.
#
#ExtendedStatus On

### Section 2: 'Main' server configuration
#
# The directives in this section set up the values used by the 'main'
# server, which responds to any requests that aren't handled by a
# <VirtualHost> definition.  These values also provide defaults for
# any <VirtualHost> containers you may define later in the file.
#
# All of these directives may appear inside <VirtualHost> containers,
# in which case these default settings will be overridden for the
# virtual host being defined.
#

#
# Port: The port to which the standalone server listens.  Certain firewall
# products must be configured before Apache can listen to a specific port.
# Other running httpd servers will also interfere with this port.  Disable
# all firewall, security, and other services if you encounter problems.
# To help diagnose problems use the Windows NT command NETSTAT -a
#
Port 9000
Listen 9000

#
# ServerAdmin: Your address, where problems with the server should be
# e-mailed.  This address appears on some server-generated pages, such
# as error documents.
#
ServerAdmin you@your.address

#
# ServerName allows you to set a host name which is sent back to clients for
# your server if it's different than the one the program would get (i.e., 
use
# "www" instead of the host's real name).
#
# Note: You cannot just invent host names and hope they work. The name you
# define here must be a valid DNS name for your host. If you don't 
understand
# this, ask your network administrator.
# If your host doesn't have a registered DNS name, enter its IP address 
here.
# You will have to access it by its address (e.g., http://123.45.67.89/)
# anyway, and this will make redirections work in a sensible way.
#
# 127.0.0.1 is the TCP/IP local loop-back address, often named localhost. 
Your
# machine always knows itself by this address. If you use Apache strictly 
for
# local testing and development, you may use 127.0.0.1 as the server name.
#
ServerName localhost


#
# DocumentRoot: The directory out of which you will serve your
# documents. By default, all requests are taken from this directory, but
# symbolic links and aliases may be used to point to other locations.
#
DocumentRoot "C:/Program Files/nusphere/apache/htdocs"

#
# Each directory to which Apache has access, can be configured with respect
# to which services and features are allowed and/or disabled in that
# directory (and its subdirectories).
#
# First, we configure the "default" to be a very restrictive set of
# permissions.
#
<Directory />
    Options FollowSymLinks
    AllowOverride None
</Directory>

#
# Note that from this point forward you must specifically allow
# particular features to be enabled - so if something's not working as
# you might expect, make sure that you have specifically enabled it
# below.
#

#
# This should be changed to whatever you set DocumentRoot to.
#
<Directory "C:/Program Files/nusphere/apache/htdocs">

#
# This may also be "None", "All", or any combination of "Indexes",
# "Includes", "FollowSymLinks", "ExecCGI", or "MultiViews".
#
# Note that "MultiViews" must be named *explicitly* --- "Options All"
# doesn't give it to you.
#
Options Indexes FollowSymLinks MultiViews +Includes

#
# This controls which options the .htaccess files in directories can
# override. Can also be "All", or any combination of "Options", "FileInfo",
# "AuthConfig", and "Limit"
#
    AllowOverride None

#
# Controls who can get stuff from this server.
#
    Order allow,deny
    Allow from all
</Directory>

#
# UserDir: The name of the directory which is appended onto a user's home
# directory if a ~user request is received.
#
# Under Win32, we do not currently try to determine the home directory of
# a Windows login, so a format such as that below needs to be used.  See
# the UserDir documentation for details.
#
<IfModule mod_userdir.c>
    UserDir "C:/Program Files/nusphere/apache/users/"
</IfModule>

#
# Control access to UserDir directories.  The following is an example
# for a site where these directories are restricted to read-only.
#
#<Directory "C:/Program Files/nusphere/apache/users">
#    AllowOverride FileInfo AuthConfig Limit
#    Options MultiViews Indexes SymLinksIfOwnerMatch IncludesNoExec
#    <Limit GET POST OPTIONS PROPFIND>
#        Order allow,deny
#        Allow from all
#    </Limit>
#    <LimitExcept GET POST OPTIONS PROPFIND>
#        Order deny,allow
#        Deny from all
#    </LimitExcept>
#</Directory>

#
# DirectoryIndex: Name of the file or files to use as a pre-written HTML
# directory index.  Separate multiple entries with spaces.
#
<IfModule mod_dir.c>
DirectoryIndex index.shtml index.html index.htm index.php index.php3
</IfModule>

#
# AccessFileName: The name of the file to look for in each directory
# for access control information.
#
AccessFileName .htaccess

#
# The following lines prevent .htaccess files from being viewed by
# Web clients.  Since .htaccess files often contain authorization
# information, access is disallowed for security reasons.  Comment
# these lines out if you want Web visitors to see the contents of
# .htaccess files.  If you change the AccessFileName directive above,
# be sure to make the corresponding changes here.
#
# Also, folks tend to use names such as .htpasswd for password
# files, so this will protect those as well.
#
<Files ~ "^\.ht">
    Order allow,deny
    Deny from all
</Files>

#
# CacheNegotiatedDocs: By default, Apache sends "Pragma: no-cache" with each
# document that was negotiated on the basis of content. This asks proxy
# servers not to cache the document. Uncommenting the following line 
disables
# this behavior, and proxies will be allowed to cache the documents.
#
#CacheNegotiatedDocs

#
# UseCanonicalName:  (new for 1.3)  With this setting turned on, whenever
# Apache needs to construct a self-referencing URL (a URL that refers back
# to the server the response is coming from) it will use ServerName and
# Port to form a "canonical" name.  With this setting off, Apache will
# use the hostname:port that the client supplied, when possible.  This
# also affects SERVER_NAME and SERVER_PORT in CGI scripts.
#
UseCanonicalName On

#
# TypesConfig describes where the mime.types file (or equivalent) is
# to be found.
#
<IfModule mod_mime.c>
    TypesConfig conf/mime.types
</IfModule>

#
# DefaultType is the default MIME type the server will use for a document
# if it cannot otherwise determine one, such as from filename extensions.
# If your server contains mostly text or HTML documents, "text/plain" is
# a good value.  If most of your content is binary, such as applications
# or images, you may want to use "application/octet-stream" instead to
# keep browsers from trying to display binary files as though they are
# text.
#
DefaultType text/plain

#
# The mod_mime_magic module allows the server to use various hints from the
# contents of the file itself to determine its type.  The MIMEMagicFile
# directive tells the module where the hint definitions are located.
# mod_mime_magic is not part of the default server (you have to add
# it yourself with a LoadModule [see the DSO paragraph in the 'Global
# Environment' section], or recompile the server and include mod_mime_magic
# as part of the configuration), so it's enclosed in an <IfModule> 
container.
# This means that the MIMEMagicFile directive will only be processed if the
# module is part of the server.
#
<IfModule mod_mime_magic.c>
    MIMEMagicFile conf/magic
</IfModule>

#
# HostnameLookups: Log the names of clients or just their IP addresses
# e.g., www.apache.org (on) or 204.62.129.132 (off).
# The default is off because it'd be overall better for the net if people
# had to knowingly turn this feature on, since enabling it means that
# each client request will result in AT LEAST one lookup request to the
# nameserver.
#
HostnameLookups Off

#
# ErrorLog: The location of the error log file.
# If you do not specify an ErrorLog directive within a <VirtualHost>
# container, error messages relating to that virtual host will be
# logged here.  If you *do* define an error logfile for a <VirtualHost>
# container, that host's errors will be logged there and not here.
#
ErrorLog logs/error.log

#
# LogLevel: Control the number of messages logged to the error.log.
# Possible values include: debug, info, notice, warn, error, crit,
# alert, emerg.
#
LogLevel warn

#
# The following directives define some format nicknames for use with
# a CustomLog directive (see below).
#
LogFormat "%h %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\"" 
combined
LogFormat "%h %l %u %t \"%r\" %>s %b" common
LogFormat "%{Referer}i -> %U" referer
LogFormat "%{User-agent}i" agent

#
# The location and format of the access logfile (Common Logfile Format).
# If you do not define any access logfiles within a <VirtualHost>
# container, they will be logged here.  Contrariwise, if you *do*
# define per-<VirtualHost> access logfiles, transactions will be
# logged therein and *not* in this file.
#
CustomLog logs/access.log common

#
# If you would like to have agent and referer logfiles, uncomment the
# following directives.
#
#CustomLog logs/referer.log referer
#CustomLog logs/agent.log agent

#
# If you prefer a single logfile with access, agent, and referer information
# (Combined Logfile Format) you can use the following directive.
#
#CustomLog logs/access.log combined

#
# Optionally add a line containing the server version and virtual host
# name to server-generated pages (error documents, FTP directory listings,
# mod_status and mod_info output etc., but not CGI generated documents).
# Set to "EMail" to also include a mailto: link to the ServerAdmin.
# Set to one of:  On | Off | EMail
#
ServerSignature On

#
# Apache parses all CGI scripts for the shebang line by default.
# This comment line, the first line of the script, consists of the symbols
# pound (#) and exclamation (!) followed by the path of the program that
# can execute this specific script.  For a perl script, with perl.exe in
# the C:\Program Files\Perl directory, the shebang line should be:

   #!c:/program files/perl/perl

# Note you _must_not_ indent the actual shebang line, and it must be the
# first line of the file.  Of course, CGI processing must be enabled by
# the appropriate ScriptAlias or Options ExecCGI directives for the files
# or directory in question.
#
# However, Apache on Windows allows either the Unix behavior above, or can
# use the Registry to match files by extention.  The command to execute
# a file of this type is retrieved from the registry by the same method as
# the Windows Explorer would use to handle double-clicking on a file.
# These script actions can be configured from the Windows Explorer View 
menu,
# 'Folder Options', and reviewing the 'File Types' tab.  Clicking the Edit
# button allows you to modify the Actions, of which Apache 1.3 attempts to
# perform the 'Open' Action, and failing that it will try the shebang line.
# This behavior is subject to change in Apache release 2.0.
#
# Each mechanism has it's own specific security weaknesses, from the means
# to run a program you didn't intend the website owner to invoke, and the
# best method is a matter of great debate.
#
# To enable the this Windows specific behavior (and therefore -disable- the
# equivilant Unix behavior), uncomment the following directive:
#
#ScriptInterpreterSource registry
#
# The directive above can be placed in individual <Directory> blocks or the
# .htaccess file, with either the 'registry' (Windows behavior) or 'script'
# (Unix behavior) option, and will override this server default option.
#

#
# Aliases: Add here as many aliases as you need (with no limit). The format 
is
# Alias fakename realname
#
<IfModule mod_alias.c>

    #
    # Note that if you include a trailing / on fakename then the server will
    # require it to be present in the URL.  So "/icons" isn't aliased in 
this
    # example, only "/icons/"..
    #
    Alias /icons/ "C:/Program Files/nusphere/apache/icons/"
    Alias /jdbc_doc/ "C:/Program Files/nusphere/mm_mysql_jdbc/doc/mm.doc/"
    Alias /sendmaildoc/ "C:/Program Files/nusphere/sendmail/doc/"
    Alias /nshtml/ "C:/Program Files/nusphere/html/"
    Alias /apachedoc/ "C:/Program Files/nusphere/apache/htdocs/manual/"
    Alias /phpdoc/ "C:/Program Files/nusphere/apache/php/doc/"
    Alias /mysqldoc/ "C:/Program Files/nusphere/mysql/bychapter/"
    Alias /perldoc/ "C:/Program Files/nusphere/perl/html/"
    Alias /ssldoc/ "C:/Program Files/nusphere/apache/modssl/pkg.ssldoc/"

    <Directory "C:/Program Files/nusphere/apache/icons">
        Options Indexes MultiViews
        AllowOverride None
        Order allow,deny
        Allow from all
    </Directory>

    #
    # ScriptAlias: This controls which directories contain server scripts.
    # ScriptAliases are essentially the same as Aliases, except that
    # documents in the realname directory are treated as applications and
    # run by the server when requested rather than as documents sent to the 
client.
    # The same rules about trailing "/" apply to ScriptAlias directives as 
to
    # Alias.
    #
    ScriptAlias /cgi-bin/ "C:/Program Files/nusphere/apache/cgi-bin/"

    #
    # "C:/Program Files/nusphere/apache/cgi-bin" should be changed to 
whatever your ScriptAliased
    # CGI directory exists, if you have that configured.
    #
    <Directory "C:/Program Files/nusphere/apache/cgi-bin">
        AllowOverride None
        Options None
        Order allow,deny
        Allow from all
    </Directory>

    <Directory "C:/Program Files/nusphere/apache/nsdocs/python">
	AddHandler python-program .py
	PythonHandler mptest
	PythonDebug on
    </Directory>

</IfModule>
# End of aliases.

#
# Redirect allows you to tell clients about documents which used to exist in
# your server's namespace, but do not anymore. This allows you to tell the
# clients where to look for the relocated document.
# Format: Redirect old-URI new-URL
#

#
# Directives controlling the display of server-generated directory listings.
#
<IfModule mod_autoindex.c>

    #
    # FancyIndexing is whether you want fancy directory indexing or standard
    #
    IndexOptions FancyIndexing

    #
    # AddIcon* directives tell the server which icon to show for different
    # files or filename extensions.  These are only displayed for
    # FancyIndexed directories.
    #
    AddIconByEncoding (CMP,/icons/compressed.gif) x-compress x-gzip

    AddIconByType (TXT,/icons/text.gif) text/*
    AddIconByType (IMG,/icons/image2.gif) image/*
    AddIconByType (SND,/icons/sound2.gif) audio/*
    AddIconByType (VID,/icons/movie.gif) video/*

    AddIcon /icons/binary.gif .bin .exe
    AddIcon /icons/binhex.gif .hqx
    AddIcon /icons/tar.gif .tar
    AddIcon /icons/world2.gif .wrl .wrl.gz .vrml .vrm .iv
    AddIcon /icons/compressed.gif .Z .z .tgz .gz .zip
    AddIcon /icons/a.gif .ps .ai .eps
    AddIcon /icons/layout.gif .html .shtml .htm .pdf
    AddIcon /icons/text.gif .txt
    AddIcon /icons/c.gif .c
    AddIcon /icons/p.gif .pl .py
    AddIcon /icons/f.gif .for
    AddIcon /icons/dvi.gif .dvi
    AddIcon /icons/uuencoded.gif .uu
    AddIcon /icons/script.gif .conf .sh .shar .csh .ksh .tcl
    AddIcon /icons/tex.gif .tex
    AddIcon /icons/bomb.gif core

    AddIcon /icons/back.gif ..
    AddIcon /icons/hand.right.gif README
    AddIcon /icons/folder.gif ^^DIRECTORY^^
    AddIcon /icons/blank.gif ^^BLANKICON^^

    #
    # DefaultIcon is which icon to show for files which do not have an icon
    # explicitly set.
    #
    DefaultIcon /icons/unknown.gif

    #
    # AddDescription allows you to place a short description after a file in
    # server-generated indexes.  These are only displayed for FancyIndexed
    # directories.
    # Format: AddDescription "description" filename
    #
    #AddDescription "GZIP compressed document" .gz
    #AddDescription "tar archive" .tar
    #AddDescription "GZIP compressed tar archive" .tgz

    #
    # ReadmeName is the name of the README file the server will look for by
    # default, and append to directory listings.
    #
    # HeaderName is the name of a file which should be prepended to
    # directory indexes.
    #
    # If MultiViews are amongst the Options in effect, the server will
    # first look for name.html and include it if found.  If name.html
    # doesn't exist, the server will then look for name.txt and include
    # it as plaintext if found.
    #
    ReadmeName README
    HeaderName HEADER

    #
    # IndexIgnore is a set of filenames which directory indexing should 
ignore
    # and not include in the listing.  Shell-style wildcarding is permitted.
    #
    IndexIgnore .??* *~ *# HEADER* README* RCS CVS *,v *,t

</IfModule>
# End of indexing directives.

#
# Document types.
#
<IfModule mod_mime.c>

    #
    # AddEncoding allows you to have certain browsers (Mosaic/X 2.1+) 
uncompress
    # information on the fly. Note: Not all browsers support this.
    # Despite the name similarity, the following Add* directives have 
nothing
    # to do with the FancyIndexing customization directives above.
    #
    AddEncoding x-compress Z
    AddEncoding x-gzip gz tgz
    #
    # AddLanguage allows you to specify the language of a document. You can
    # then use content negotiation to give a browser a file in a language
    # it can understand.
    #
    # Note 1: The suffix does not have to be the same as the language
    # keyword --- those with documents in Polish (whose net-standard
    # language code is pl) may wish to use "AddLanguage pl .po" to
    # avoid the ambiguity with the common suffix for perl scripts.
    #
    # Note 2: The example entries below illustrate that in quite
    # some cases the two character 'Language' abbriviation is not
    # identical to the two character 'Country' code for its country,
    # E.g. 'Danmark/dk' versus 'Danish/da'.
    #
    # Note 3: In the case of 'ltz' we violate the RFC by using a three char
    # specifier. But there is 'work in progress' to fix this and get
    # the reference data for rfc1766 cleaned up.
    #
    # Danish (da) - Dutch (nl) - English (en) - Estonian (ee)
    # French (fr) - German (de) - Greek-Modern (el)
    # Italian (it) - Korean (kr) - Norwegian (no)
    # Portugese (pt) - Luxembourgeois* (ltz)
    # Spanish (es) - Swedish (sv) - Catalan (ca) - Czech(cz)
    # Polish (pl) - Brazilian Portuguese (pt-br) - Japanese (ja)
    # Russian (ru)
    #
    AddLanguage da .dk
    AddLanguage nl .nl
    AddLanguage en .en
    AddLanguage et .ee
    AddLanguage fr .fr
    AddLanguage de .de
    AddLanguage el .el
    AddLanguage he .he
    AddCharset ISO-8859-8 .iso8859-8
    AddLanguage it .it
    AddLanguage ja .ja
    AddCharset ISO-2022-JP .jis
    AddLanguage kr .kr
    AddCharset ISO-2022-KR .iso-kr
    AddLanguage no .no
    AddLanguage pl .po
    AddCharset ISO-8859-2 .iso-pl
    AddLanguage pt .pt
    AddLanguage pt-br .pt-br
    AddLanguage ltz .lu
    AddLanguage ca .ca
    AddLanguage es .es
    AddLanguage sv .se
    AddLanguage cz .cz
    AddLanguage ru .ru
    AddLanguage tw .tw
    AddCharset Big5         .Big5    .big5
    AddCharset WINDOWS-1251 .cp-1251
    AddCharset CP866        .cp866
    AddCharset ISO-8859-5   .iso-ru
    AddCharset KOI8-R       .koi8-r
    AddCharset UCS-2        .ucs2
    AddCharset UCS-4        .ucs4
    AddCharset UTF-8        .utf8

    # LanguagePriority allows you to give precedence to some languages
    # in case of a tie during content negotiation.
    #
    # Just list the languages in decreasing order of preference. We have
    # more or less alphabetized them here. You probably want to change this.
    #
    <IfModule mod_negotiation.c>
        LanguagePriority en da nl et fr de el it ja kr no pl pt pt-br ru ltz 
ca es sv tw
    </IfModule>

    #
    # AddType allows you to tweak mime.types without actually editing it, or 
to
    # make certain files to be certain types.
    #
    # For example, the PHP 3.x module (not part of the Apache distribution - 
see
    # http://www.php.net) will typically use:
    #
    #AddType application/x-httpd-php3 .php3
    #AddType application/x-httpd-php3-source .phps
    #
    # And for PHP 4.x, use:
    #
    #AddType application/x-httpd-php .php
    #AddType application/x-httpd-php-source .phps

    AddType application/x-tar .tgz

    #
    # AddHandler allows you to map certain file extensions to "handlers",
    # actions unrelated to filetype. These can be either built into the 
server
    # or added with the Action command (see below)
    #
    # If you want to use server side includes, or CGI outside
    # ScriptAliased directories, uncomment the following lines.
    #
    # To use CGI scripts:
    #
    #AddHandler cgi-script .cgi

    #
    # To use server-parsed HTML files
    #
AddType text/html .shtml
AddHandler server-parsed .shtml
    #
    # Uncomment the following line to enable Apache's send-asis HTTP file
    # feature
    #
    #AddHandler send-as-is asis

    #
    # If you wish to use server-parsed imagemap files, use
    #
    #AddHandler imap-file map

    #
    # To enable type maps, you might want to use
    #
    #AddHandler type-map var

</IfModule>
# End of document types.

#
# Action lets you define media types that will execute a script whenever
# a matching file is called. This eliminates the need for repeated URL
# pathnames for oft-used CGI file processors.
# Format: Action media/type /cgi-script/location
# Format: Action handler-name /cgi-script/location
#

#
# MetaDir: specifies the name of the directory in which Apache can find
# meta information files. These files contain additional HTTP headers
# to include when sending the document
#
#MetaDir .web

#
# MetaSuffix: specifies the file name suffix for the file containing the
# meta information.
#
#MetaSuffix .meta

#
# Customizable error response (Apache style)
#  these come in three flavors
#
#    1) plain text
#ErrorDocument 500 "The server made a boo boo.
#  n.b.  the single leading (") marks it as text, it does not get output
#
#    2) local redirects
#ErrorDocument 404 /missing.html
#  to redirect to local URL /missing.html
#ErrorDocument 404 /cgi-bin/missing_handler.pl
#  N.B.: You can redirect to a script or a document using 
server-side-includes.
#
#    3) external redirects
#ErrorDocument 402 http://some.other_server.com/subscription_info.html
#  N.B.: Many of the environment variables associated with the original
#  request will *not* be available to such a script.

#
# Customize behaviour based on the browser
#
<IfModule mod_setenvif.c>

    #
    # The following directives modify normal HTTP response behavior.
    # The first directive disables keepalive for Netscape 2.x and browsers 
that
    # spoof it. There are known problems with these browser implementations.
    # The second directive is for Microsoft Internet Explorer 4.0b2
    # which has a broken HTTP/1.1 implementation and does not properly
    # support keepalive when it is used on 301 or 302 (redirect) responses.
    #
    BrowserMatch "Mozilla/2" nokeepalive
    BrowserMatch "MSIE 4\.0b2;" nokeepalive downgrade-1.0 force-response-1.0

    #
    # The following directive disables HTTP/1.1 responses to browsers which
    # are in violation of the HTTP/1.0 spec by not being able to grok a
    # basic 1.1 response.
    #
    BrowserMatch "RealPlayer 4\.0" force-response-1.0
    BrowserMatch "Java/1\.0" force-response-1.0
    BrowserMatch "JDK/1\.0" force-response-1.0

</IfModule>
# End of browser customization directives

#
# Allow server status reports, with the URL of 
http://servername/server-status
# Change the ".your_domain.com" to match your domain to enable.
#
#<Location /server-status>
#    SetHandler server-status
#    Order deny,allow
#    Deny from all
#    Allow from .your_domain.com
#</Location>

#
# Allow remote server configuration reports, with the URL of
# http://servername/server-info (requires that mod_info.c be loaded).
# Change the ".your_domain.com" to match your domain to enable.
#
#<Location /server-info>
#    SetHandler server-info
#    Order deny,allow
#    Deny from all
#    Allow from .your_domain.com
#</Location>

#
# There have been reports of people trying to abuse an old bug from pre-1.1
# days.  This bug involved a CGI script distributed as a part of Apache.
# By uncommenting these lines you can redirect these attacks to a logging
# script on phf.apache.org.  Or, you can record them yourself, using the 
script
# support/phf_abuse_log.cgi.
#
#<Location /cgi-bin/phf*>
#    Deny from all
#    ErrorDocument 403 http://phf.apache.org/phf_abuse_log.cgi
#</Location>

#
# Proxy Server directives. Uncomment the following lines to
# enable the proxy server:
#
#<IfModule mod_proxy.c>
#    ProxyRequests On

#    <Directory proxy:*>
#        Order deny,allow
#        Deny from all
#        Allow from .your_domain.com
#    </Directory>

    #
    # Enable/disable the handling of HTTP/1.1 "Via:" headers.
    # ("Full" adds the server version; "Block" removes all outgoing Via: 
headers)
    # Set to one of: Off | On | Full | Block
    #
#    ProxyVia On

    #
    # To enable the cache as well, edit and uncomment the following lines:
    # (no cacheing without CacheRoot)
    #
#    CacheRoot "C:/Program Files/nusphere/apache/proxy"
#    CacheSize 5
#    CacheGcInterval 4
#    CacheMaxExpire 24
#    CacheLastModifiedFactor 0.1
#    CacheDefaultExpire 1
#    NoCache a_domain.com another_domain.edu joes.garage_sale.com

#</IfModule>
# End of proxy directives.

### Section 3: Virtual Hosts
#
# VirtualHost: If you want to maintain multiple domains/hostnames on your
# machine you can setup VirtualHost containers for them. Most configurations
# use only name-based virtual hosts so the server doesn't need to worry 
about
# IP addresses. This is indicated by the asterisks in the directives below.
#
# Please see the documentation at <URL:http://www.apache.org/docs/vhosts/>
# for further details before you try to setup virtual hosts.
#
# You may use the command line option '-S' to verify your virtual host
# configuration.

#
# Use name-based virtual hosting.
#
#NameVirtualHost *

#
# VirtualHost example:
# Almost any Apache directive may go into a VirtualHost container.
# The first VirtualHost section is used for requests without a known
# server name.
#
#<VirtualHost *>
#    ServerAdmin webmaster@dummy-host.example.com
#    DocumentRoot /www/docs/dummy-host.example.com
#    ServerName dummy-host.example.com
#    ErrorLog logs/dummy-host.example.com-error_log
#    CustomLog logs/dummy-host.example.com-access_log common
#</VirtualHost>

## BEGIN SSL CONFIG
#<IfDefine SSL>
#Listen 99999
Listen 9443
LoadModule ssl_module modules/mod_ssl.so
SSLMutex sem
SSLRandomSeed startup builtin
SSLSessionCache none
SSLLog logs/SSL.log
SSLLogLevel warn
<VirtualHost _default_:99999>
SSLEngine On
SSLCertificateFile conf/ssl.crt/server.crt
SSLCertificateKeyFile conf/ssl.key/server.key
SSLCipherSuite ALL:!ADH:!EXP56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP:+eNULL
SetEnvIf User-Agent ".*MSIE.*" nokeepalive ssl-unclean-shutdown 
downgrade-1.0 force-response-1.0
#SSLProtocol all -SSLv3
</VirtualHost>
#</IfDefine>
## END SSL CONFIG



# BEGIN MOD_PERL CONFIG
LoadModule perl_module modules/mod_perl.so
ScriptAlias /perl-bin/ "perl-bin/"
PerlSendHeader On
<Location /perl-bin>
SetHandler perl-script
PerlHandler Apache::Registry
Options ExecCGI
</Location>
# END MOD_PERL CONFIG

# VirtualHost for the NuSphere Admin WebSite
<VirtualHost _default_:9000> # Admin WebSite standard port
   DocumentRoot "C:/Program Files/nusphere/apache/nsdocs"
   ScriptAlias /cgi-bin/ "C:/Program Files/nusphere/apache/nscgi-bin/"
   # VHost-specific mod_perl directive
   ScriptAlias /perl-bin/ "nsperl-bin/"
   <Directory "C:/Program Files/nusphere/apache/nsdocs">
      Options Indexes FollowSymLinks MultiViews +Includes
   </Directory>
   <Directory "C:/Program Files/nusphere/apache/nscgi-bin">
      AllowOverride None
      Options None
      Order allow,deny
      Allow from all
   </Directory>
   CustomLog logs/nsaccess.log common
   ErrorLog logs/nserror.log
</VirtualHost>

# VirtualHost for the NuSphere SSL Admin WebSite
#<IfDefine SSL>
<VirtualHost _default_:9443> # Admin WebSite SSL port
   SSLEngine On
   SSLLog logs/NSSSL.log
   SSLCertificateFile conf/ssl.crt/server.crt
   SSLCertificateKeyFile conf/ssl.key/server.key
   SSLCipherSuite 
ALL:!ADH:!EXP56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP:+eNULL
   SetEnvIf User-Agent ".*MSIE.*" nokeepalive ssl-unclean-shutdown 
downgrade-1.0 force-response-1.0
   #SSLProtocol all -SSLv3
   DocumentRoot "C:/Program Files/nusphere/apache/nsdocs"
   ScriptAlias /cgi-bin/ "C:/Program Files/nusphere/apache/nscgi-bin/"
   # VHost-specific mod_perl directive
   ScriptAlias /perl-bin/ "nsperl-bin/"
   <Directory "C:/Program Files/nusphere/apache/nsdocs">
      Options Indexes FollowSymLinks MultiViews +Includes
   </Directory>
   <Directory "C:/Program Files/nusphere/apache/nscgi-bin">
      AllowOverride None
      Options None
      Order allow,deny
      Allow from all
   </Directory>
   CustomLog logs/nsaccess.log common
   ErrorLog logs/nserror.log
</VirtualHost>
#</IfDefine>
## BEGIN PHP CONFIG
ScriptAlias /php3/ "C:/Program Files/nusphere/apache/php/"
ScriptAlias /php/ "C:/Program Files/nusphere/apache/php/"
AddType application/x-httpd-php3 .phtml
AddType application/x-httpd-php3 .php3
AddType application/x-httpd-php3 .php
AddType application/x-httpd-php3 .inc
AddType application/x-httpd-php3-source .phps
Action application/x-httpd-php3 /php/php.exe
## END PHP CONFIG

_________________________________________________________________
Get your FREE download of MSN Explorer at http://explorer.msn.com/intl.asp


From keegan at millerwebsiteservices.com  Mon Sep  3 01:36:40 2001
From: keegan at millerwebsiteservices.com (Keegan Miller)
Date: Fri Jan  9 21:46:28 2004
Subject: [mod_python] Environment variables created by Apache not in os.environ
Message-ID: <DGELIKPIDBLOIDHJPHAGCECACEAA.keegan@millerwebsiteservices.com>

I'm working on a system which was working with Python as a CGI handler.
After switching to mod_python, most of it works.  But the site depends on
some environment variables which are extracted from the URL by Apache's
mod_rewrite module.  For some reason, these environment variables aren't
loaded into os.environ.

Does anyone know how I can access these variables?

When this module was running as a CGI script, the env vars were there.  Now,
system vars like OS are there, but the ones created by mod_rewrite are not.

I'm running Apache 1.3.20, Python 2.1, and mod_python 2.7.4 on Windows 2000.

Thanks.
Keegan Miller

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010903/ad49203e/attachment.htm
From piet at cs.uu.nl  Mon Sep  3 16:38:01 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:46:28 2004
Subject: [mod_python] Problem Installing
In-Reply-To: "Kristy Christie"'s message of "Mon, 03 Sep 2001 08:16:35 +0000"
References: <F85HaZVrDs9aAOPpBpc00000a57@hotmail.com>
Message-ID: <20010903143801.F3DA24518@mail.cs.uu.nl>

>>>>> "Kristy Christie" <linkangels@hotmail.com> (KC) writes:

KC> Hi.
KC> I installed mod_python on Windows 98 by placing the dll file into apache
KC> modules folder and adjusting the httpd.conf file as directed in the manual.
KC> When I try to open mptest.py (http://localhost:9000/python/mptest.py), I
KC> get an internal server error. Below is my httpd.conf file and the my Apache
KC> 1.3 server log.

KC> It's really important that I get Apache to be able to open python files.
KC> Can somebody please help me? Please!

You must also install the python files (mod_python subdirectory from the
distribution tar archive) into your Python directory.
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From geert at boskant.nl  Tue Sep  4 16:48:44 2001
From: geert at boskant.nl (Geert Jansen)
Date: Fri Jan  9 21:46:29 2004
Subject: [mod_python] Patch to Server object
Message-ID: <POEGJAKPNOCGNJMONMFKCEDFCCAA.geert@boskant.nl>

Good day,

First of all: mod_python is great! I've been using it a couple of months now
to develop an (yet another, yes I know:) ASP like environment for Apache,
and I really like it.

But now I stumbled on a problem. I'm having difficulty implementing a global
"Application_OnStart" event. The event should be executed by my ASP
environment before the first request is served, but, only _once_ for the
whole server, _not_ one time per child. This event is very handy for
initializing application wide (database backed) variables so I'd really like
to provide it...

I could not find a way to satisfactorily implement this with the current
mod_python. To solve the problem I wrote a small patch to servermodule.c
that adds two member variables:  "my_generation" and "restart_time".
"my_generation" is the current generation of the child (the number of
restarts), and "restart_time" is the time of the last (re)start.

Using these variables I am able to implement the "Application_Onstart"
event:
I keep the last restart time in an application global variable. At child
startup, I look at this value. If it is not equal to the current restart
time, I raise "Application_OnStart" and update the restart time (with the
necessary locking of course).

The patch is attached. Could this be applied? I think this could suit other
developers too.

Thanks for your time!

Greetings,
Geert Jansen
--
long long email=0X78DC806B91FCA334,i=0,j; main(){j=(email>>4*i)&15;
putchar(j+j/2+j/5-j/12+(j<13?97:-65+7*j));i/15?exit(0):++i,main();}
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mod_python-restart.diff
Type: application/octet-stream
Size: 1041 bytes
Desc: not available
Url : http://mailman.modpython.org/pipermail/mod_python/attachments/20010904/49e62fbc/mod_python-restart.obj
From irinka at mail.ru  Sat Sep  1 05:18:07 2001
From: irinka at mail.ru (Irinka)
Date: Fri Jan  9 21:46:29 2004
Subject: [mod_python] =?windows-1251?B?z+7h++Lg6SDt4A==?=
Message-ID: <000b01c13283$f5618c80$6f40a1c3@igor>

????? ??  http://444.devil.ru
????? ????? ????????? ? ???????????

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010901/c597920d/attachment.htm
From kevin_lee at iprimus.com.au  Fri Sep  7 21:18:01 2001
From: kevin_lee at iprimus.com.au (Kevin LEE)
Date: Fri Jan  9 21:46:29 2004
Subject: [mod_python] Problem adding mod_python into apache
Message-ID: <3B98ACE9.ED88C768@iprimus.com.au>

Hi list:

        I have the following errors when I statically compile
mod_python-2.7.6 into apache_1.3.20:

gcc  -I/usr/local/mod_python-2.7.6/src/include
-I/usr/local/apache_1.3.20/src/include
-I/usr/local/apache_1.3.20/src/os/unix -I/usr/local/src/Python-2.1.1
-I/usr/local/src/Python-2.1.1/Include -c mod_python.c
In file included from /usr/local/apache_1.3.20/src/include/httpd.h:72,
                 from
/usr/local/mod_python-2.7.6/src/include/mod_python.h:63,
                 from mod_python.c:54:
/usr/local/apache_1.3.20/src/include/ap_config.h:77: ap_config_auto.h:
No such file or directory
*** Error code 1

Stop in /usr/local/mod_python-2.7.6/src.
*** Error code 1

Stop in /usr/local/mod_python-2.7.6.

        The following show step to configure mod_python:

cd /usrr/local/mod_python-2.7.6
./configure  --with-apache=.../apache_1.3.20
--with-python=/usr/local/src/Python-2.1.1

make static

Any idea ??? I am really stucked ....

Cheers.
Kevin


From oio_oiuu_ww_ll at yandex.ru  Sat Sep  8 13:38:09 2001
From: oio_oiuu_ww_ll at yandex.ru (MailBase)
Date: Fri Jan  9 21:46:29 2004
Subject: [mod_python] =?windows-1251?Q?=C1=E0=E7=FB_=E4=E0=ED=ED=FB=F5_=EF=F0=E5=E4=EF=F0=E8=FF=F2=E8=E9_=E4=EB=FF_=EA=EE=ED=F2=E0=EA=F2=EE=E2_=EF=EE_=FD=EB=E5=EA=F2=F0=EE=ED=ED=EE=E9_=EF=EE=F7=F2=E5?=
Message-ID: <1609520019689389369@yandex.ru>

????????????!

? ???? ??????:
- ???? ?????? ??????????? ??? ????????? ?? ??????????? ?????;
- ????????? ??? ?????????????? ???????? ??????????? ?????;
- ???? ?????? ?????????? ???????????.

????? ?????????? ?????? ? ? ???????????? ????????? ???????? ????????????
??????? ?????? ??????????? ?????-???? ??????????, ??? ?????? ?????, ???
??????? ??? ?? ??????????? ?????. ???? ???? ?????? ??? ????????? ??
??????????? ????? ????????????? ?????????? ??? ???? ?????.

?????? ???????????? ????????? ? ???????? ??????????? ????????, ????????
????????? ??? spam. ?????? ?? ???????, ??? ?????? ??????? ? ???, ??? ?????,
?????? ?? ???? ???????????? ???? ??????????? (? ?????? ???????????, ? ??
??????? ???!) ???? ????????????? ???? ????????????, ????????? ?? ???
??????????????? ??????????? ?????????? ??????, ??????? ?????????????
??????? ????? ?? ??????????????. ????? ???????? ????? ???????????? ??
?????? ??? ????????? ?????. ????????, ??? ????? ?????? ?????????
????????????? ??????, ????????????? ??? ???????????? ???????????? ???????
???????????. ????????? 500, ? ?? ? 1000 ???? - ???????, ?????????
????????????? ???????. ? ???? ??????? ???????? ? ??????????????? ????????
?? ?????? ?????? ???????????, ????? ?????? ???????? ?????? ?????????? ??
????????????? ???????.

?????????? ??? ??? ????????? ??? ????????? ?? ??????????? ?????:

???????? "??????????? ??????" - 38000 ??????????? (??? ? ????????????
????????);
???????? "??????????? ???" - 30000 ??????????? (??? ? ???????????? ????????)

?????? ???????? ???????? ? ????:
- ??????????????? ???? ?????? ??? ????????? ?? ??????????? ?????; 
- ????????? GroupMail ??? ?????????????? ???????? ??????????? ?????. 

???? ?????? "38000 ??????????? ??????". ????? ???????????? ?????? (e-mail
??????? ? ?????? ???????????) ?? ?????? ???????? ????????????: 
- ????????, 
- ??? ????????????, 
- ????????, 
- ????, 
- ???????? ?????, 
- ????? ?????. 
???? ????????? ? ???? ??????????? ??????? Excel, ??? ????????? ???????? ?
??? ???????????? ? ????? ??????? ?????? ??????????, ? ???? ???????????
?????????? ????? ?? ?????? ?? ??????????, ????????, ?? ???? ????????????. ?
???? ????? ??? ????????, ??????? ???? ????????? ???? e-mail ? ?????????
??????-???????????? ?? ??????. ????????? ? ?????????????? ??????? ???
?????????: 15%. ?????????? ???? ?????????? ?????? ???????. ???? ?
?????????? ??????????????? ?? ???????-????? ??? ?????????? ???????????
??????.
????????? ?????? ???? ? ????????? ? ?????????? GroupMail (??. ????) - $300.
????????? ?????????? $60. ????? ?????? ?????. ?????? ? ??????? ???????????
?? ????? mailbase@post.com.

???? ?????? "30000 ??????????? ???". ????? ???????????? ?????? (e-mail
??????? ? ?????? ???????????) ?? ?????? ???????? ????????????:
- ????????, 
- ????? ?????????????, 
- ????????, 
- ????, 
- ???????? ?????, 
- ????? ?????, 
- ?.?.?. ? ????????? ???????????? (!), 
- ??????????? ?????, 
- ?????? ???????????? ??????? ? ?????. 
???? ????????? ? ???? ??????????? ??????? Excel, ??? ????????? ???????? ?
??? ???????????? ? ????? ??????? ?????? ??????????. ????????? ?
?????????????? ??????? ??? ?????????: 20%. ?????????? ???? ??????????
?????? ???????. ???? ? ?????????? ??????????????? ?? ???????-????? ???
?????????? ??????????? ??????.
????????? ?????? ???? ? ????????? ? ?????????? GroupMail (??. ????) - $200.
????????? ?????????? $40. ????? ?????? ?????. ?????? ? ??????? ???????????
?? ????? mailbase@post.com.

????????? "Group Mail" ????????????? ??? ????????????? ???????????
????????. ?? ????? ???????? "Group Mail" ?????????? ? ???????? ?????? ???
??????? ?????????? ? ???????????. ??? ???? ? ??????? (??? ? ????, ??? ? ?
???? ??????) ????? ?????????????? ??????????? ?????????? ?? ????????? ?????
????, ??????????????? ??????????? ??????. ??? ????????? ?????????? ?
??????? ?????????? ?? ????? ? ????????? ?? ???? ????? ???????? ???
?????????, ? ????? ????? ?????? ??????? ????????????????? ???? ????????.
????????, ???? ?????? ????? ???? ?????: "??????????? ??? ????????
(????????_????????)". "Group Mail" ????? ??????? ??????????? ?? ??????? ???
??????. ?? ?????? ????????????? ? ????????? ???? ????. ?? ????? ????
?????????????? ??????????. ???? ????? ?????????, ?????????, ?????????????.
?????? ? ????????? ????? ???????????? ??? ? ??????? txt, ??? ? html.
??????????? ??????????? ???????????? ?????? ?????? ???????. Group Mail
???????? ??? ??????? ?????-???? ?????? ???????? ?????????. ????????? "Group
Mail" ????????? ??????????? ? ?????? ?? ????????????? ??? ??????. ?? ??
????? ?????????? ? ???????? ??? ???????? ?? ????? ?????. ? ???? ??????
????????? ?? ?????????????? $25. ????? ?????? ?????. ?????????
??????????????? ?? ???????-????? ??? ?????????? ??????????? ??????. ??????
? ??????? ??????????? ?? ????? mailbase@post.com.

????????! ??? ????????????? ???????????? ????? ??? ?????? ???????????????
??????: $100!

????????? ??????????? ???????? ?? ?????? ??????. ?????? ? ???????
??????????? ?? ????? mailbase@post.com.

??????? ????? ????????????? ???? ?????? ?????????? ???????????:
"??????????? ??????/??????/??? ? ???????????? ????? ????? 50/500/1000
???????". ????????? ??? ??? ?????? ?? $100 ?? $300. ????? ?????? ?????.
???? ??????????????? ?? ??????? ????? ??? ?????????? ??????????? ??????.
?????? ? ??????? ??????????? ?? ????? mailbase@post.com.

???? ???????????? ???????????? ???????????. mailbase@post.com.


???????? MailBase,
E-mail: mailbase@post.com





From grisha at modpython.org  Sat Sep  8 19:20:55 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:46:29 2004
Subject: [mod_python] Environment variables created by Apache not in
 os.environ
In-Reply-To: <DGELIKPIDBLOIDHJPHAGCECACEAA.keegan@millerwebsiteservices.com>
Message-ID: <Pine.BSF.4.32.0109081912500.1368-100000@localhost>

The mod_python cgihandler fakes the environment - it's just a dictionary
built for every request that contains all the standard cgi variables. If
mod_rewrite tries to set real environment variables your will not see
them.

It's a small sacrifice I had to make because access to the real
environment leaked memory, which is a serious problem for mod_python since
it runs inside the Apache process.

The thing to do in your case is probably to do whatever it is that
mod_rewrite does inside your cgi script instead.

Grisha

On Mon, 3 Sep 2001, Keegan Miller wrote:

> I'm working on a system which was working with Python as a CGI handler.
> After switching to mod_python, most of it works.  But the site depends on
> some environment variables which are extracted from the URL by Apache's
> mod_rewrite module.  For some reason, these environment variables aren't
> loaded into os.environ.
>
> Does anyone know how I can access these variables?
>
> When this module was running as a CGI script, the env vars were there.  Now,
> system vars like OS are there, but the ones created by mod_rewrite are not.
>
> I'm running Apache 1.3.20, Python 2.1, and mod_python 2.7.4 on Windows 2000.
>
> Thanks.
> Keegan Miller
>
>


From massmail at lb.bcentral.com  Sun Sep  9 21:27:48 2001
From: massmail at lb.bcentral.com (Anonymouse)
Date: Fri Jan  9 21:46:29 2004
Subject: [mod_python] , , .
Message-ID: <1000070868.67491.qmail@ech>

                   !

	           ?   
   , , , .
  ,  .

	 -              , , ,   . .,   ,       ,    . 
	           ,    ,            .
	    . 
          ,     , ,      ,      .     International Rectifier, Epcos, Bourns, Metex, unit-t  .
          -  , -, , , ,   ..
          ,   ,  ,      , ,    ..
          -         - .
	
         ,   ,       :
		     vielm.narod.ru

           .
         ,      ,                .
            ,      :  (095)  275-89-94,    : tandiv@mail.ru .
           ,    ,    ,     ,    .

             : 275-89-94, 746-68-78.


_______________________________________________________________________
Powered by List Builder
To unsubscribe follow the link:
http://lb.bcentral.com/ex/manage/subscriberprefs?customerid=15131&subid=2F0199A84845956A&msgnum=1

From rusgarden at zensearch.net  Mon Sep 10 01:48:05 2001
From: rusgarden at zensearch.net ( " ")
Date: Fri Jan  9 21:46:29 2004
Subject: [mod_python]    
Message-ID: <20010910004805.05C5E5248@orinoco.portland.co.uk>

???????????? ?????? ?????????????!

???? ???????? ???????? ??????????? ? ? ?????????? ????? ????????? ?????? ?? ????? ???????.

???????? "??????? ???" ???????????????? ?? ?????????? ? ??????????????? ??????????. 
???????? ? ???? ??????? ? ????????, ?? ????????? ?????????? ????????? ??????????? 
?? ????? ???? ? ???????? ??????? ?? ??????????? ????????????.

?? ?????????? ????????? ???? ?????, ? ??? ????? ?? ???????:

- ??????
- ????? ????????
- ??????????
- ??????
- ???????
- ??????? ???????
- ????????????? ???????
- ??????? ????????

????? ?? ???????? ??????????? ??????????????, ??????? ???????????, ?????????? ???????????? 
????????????? ??????? ?? ????? ?????? ??????????.

??? ???? ??????? ???????? ?????????? ???????????? ?? ????????????? ??????????? ???? ????????.

???????? "??????? ???" ???????? ???????????? ????????? ?? ?????, ???????????? ?????????????? 
? ??????????? ?????? ? ????? ??????? ??????, ??? ????, ?? ??????? ????????? ?????.

???????? "??????? ???" ?????? ????? ?? ???? ??? ????????? ??????????? ?????????? ????? ????????? 
? ???????.

?? ?????????? ??? ???????? ??? ???? http://rusgarden.ru/  ??? ?? ?????? ???????????? ? 
????????????? ????????, ??????? ?????-?????? ? ????????? ??????????? ?????, ? ????? 
"??????????? ? "????????????" ???????????.


? ????????? ? ???.
???????? "??????? ???"


From nineclue at bigfoot.com  Mon Sep 10 17:12:11 2001
From: nineclue at bigfoot.com (nineclue@bigfoot.com)
Date: Fri Jan  9 21:46:29 2004
Subject: [mod_python] Congratulations for 3.0 alpha...
Message-ID: <Pine.LNX.4.10.10109101657470.24150-100000@mrham.hamslab.com>

I didn't knew that 3.0 alpha was released until I visited modpython.org
today.

Congratulations and thanks for your great effort, Grisha.

By the way, I'm wondering what's new in this release except for
supporting only apache 2.0. (I didn't installed LaTex so I can't see
documentation, sorry) :(

Suhku Huh



From grisha at modpython.org  Mon Sep 10 08:41:27 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:46:29 2004
Subject: [mod_python] Congratulations for 3.0 alpha...
In-Reply-To: <Pine.LNX.4.10.10109101657470.24150-100000@mrham.hamslab.com>
Message-ID: <Pine.BSF.4.32.0109100839330.23146-100000@localhost>


On Mon, 10 Sep 2001 nineclue@bigfoot.com wrote:

> By the way, I'm wondering what's new in this release except for
> supporting only apache 2.0. (I didn't installed LaTex so I can't see
> documentation, sorry) :(

The documentation hasn't been updated, so don't bother with LaTex. :-)

New in this release is 2.0 support, which in itself is a big deal since
Apache 2.0 is very different from 1.3 internally. The only one additional
feature is support for Apache 2.0 input and output filters.

Grisha


From gdamjan at mail.net.mk  Mon Sep 10 19:01:51 2001
From: gdamjan at mail.net.mk (Damjan)
Date: Fri Jan  9 21:46:29 2004
Subject: [mod_python] Congratulations for 3.0 alpha...
In-Reply-To: <Pine.BSF.4.32.0109100839330.23146-100000@localhost>; from grisha@modpython.org on Mon, Sep 10, 2001 at 08:41:27AM -0400
References: <Pine.LNX.4.10.10109101657470.24150-100000@mrham.hamslab.com> <Pine.BSF.4.32.0109100839330.23146-100000@localhost>
Message-ID: <20010910190151.A5913@legolas.on.net.mk>

> New in this release is 2.0 support, which in itself is a big deal since
> Apache 2.0 is very different from 1.3 internally. The only one additional
> feature is support for Apache 2.0 input and output filters.

Is mod_python 3.0 Apache-2.0 specific or it will also work with 
Apache 1.3?

Is there a chance that mod_python 3.0 will make improvements in Apache
handler registration? Till now mod_python could only register 1 (one)
handler per directory. It would be nice if it could register
diferent handlers per file extension.




-- 
Damjan Georgievski		|           ?????? ???????????
Skopje, Macedonia		|           ??????, ??????????

From grisha at modpython.org  Mon Sep 10 13:11:02 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:46:29 2004
Subject: [mod_python] Congratulations for 3.0 alpha...
In-Reply-To: <20010910190151.A5913@legolas.on.net.mk>
Message-ID: <Pine.BSF.4.32.0109101309210.25971-100000@localhost>


On Mon, 10 Sep 2001, Damjan wrote:

> Is mod_python 3.0 Apache-2.0 specific or it will also work with
> Apache 1.3?

Apache 2.0 only. Having it work with both will mean an #ifdef nightmare in
the C code.

> Is there a chance that mod_python 3.0 will make improvements in Apache
> handler registration? Till now mod_python could only register 1 (one)
> handler per directory. It would be nice if it could register
> diferent handlers per file extension.

I'll add this to the TODO list...

Grisha


From BKoos at milcomtech.com  Mon Sep 10 22:27:55 2001
From: BKoos at milcomtech.com (Billy Koos)
Date: Fri Jan  9 21:46:29 2004
Subject: [mod_python] compilation for apache 1.3.20 under cygwin
Message-ID: <8D1CBB5B5B9AF0498335A43CF97E385D4D35DC@ntexchg.milcomtech.com>

I'm trying to compile mod_python for apache 1.3.20 running under cygwin.
./configure seems to work correctly but when I try make I get the following:

$ make
make[1]: Entering directory `/usr/local/src/mod_python-2.7.6/src'

Compiling for DSO. For static, do "make static"

/usr/local/apache/bin/apxs -I/usr/local/src/mod_python-2.7.6/src/include
-I/usr/
local/src/apache_1.3.20/src/include
-I/usr/local/src/apache_1.3.20/src/os/unix -
I/usr/include/python2.1 -c mod_python.o _apachemodule.o requestobject.o
tableobj
ect.o util.o serverobject.o connobject.o  -lm
/usr/lib/python2.1/config/libpyth
on2.1.a      -lm
dllwrap --export-all --output-def libhttpd.def --implib libhttpd.a
--driver-name
 gcc -g -o mod_python.so mod_python.o _apachemodule.o requestobject.o
tableobjec
t.o util.o serverobject.o connobject.o -lm
/usr/lib/python2.1/config/libpython2.
1.a -lm
dllwrap: no export definition file provided
dllwrap: creating one, but that may not be what you want
dlltool: Unable to open object file:
/usr/lib/python2.1/config/libpython2.1.a
dllwrap: dlltool exited with status 1
apxs:Break: Command failed with rc=1
make[1]: *** [mod_python.so] Error 1
make[1]: Leaving directory `/usr/local/src/mod_python-2.7.6/src'
make: *** [do_dso] Error 2

Any thoughts?


William (Billy) M. Koos, Jr., P. E.

email:		bkoos@milcomtech.com or billy@koostech.com
phone:		(407) 260-0564 or (407) 659-0443
fax:		(407) 260-6227

Chief Technical Officer
MILCOM Technologies
www.milcomtech.com

Founder
Koos Technical Services, Inc.
www.koostech.com

Maitland Promenade
485 North Keller Road, Suite 140
Maitland, FL  32751


From philip at p6m7g8.com  Thu Sep 13 06:29:20 2001
From: philip at p6m7g8.com (Philip M. Gollucci)
Date: Fri Jan  9 21:46:29 2004
Subject: [mod_python] Test fails -- HELP !!
Message-ID: <20010913060256.P68181-100000@p6m7g8.student.umd.edu>

I'm pretty new to python, but have had lots of similiar experience with
mod_perl/PERL and apache.  I am a very good System Admin.
I've install Python and mod_python via the documentation bundled with each.
I tried the prog senario given here,
 http://drunken.student.umd.edu/manual-mod_python/inst-testing.html
but I get a strange error message (SEE BELOW)

Thanks for all you help in advance.

uname -a
    FreeBSD drunken.student.umd.edu 4.3-RELEASE FreeBSD 4.3-RELEASE #0: Sat Sep
    8 07:09:39 EST 2001
    root@drunken.student.umd.edu:/usr/src/sys/compile/DRUNKEN i386

python -V
    Python 2.2a3
    ./configure --prefix=/usr/home/src/python --without-threads

mod_python compile:
    mod_python/2.7.6
    ./configure --with-apxs=/usr/home/src/apache/apxs
    make dso
    su
    make install

apachectl configtest:
    orginally, I got the warning:
[Thu Sep 13 06:26:37 2001] [warn] Loaded DSO libexec/mod_python.so uses plain
Apache 1.3 API, this module might crash under EAPI! (please recompile it with
-DEAPI)
    but I added -DEAPI to CFLAGS in mod_python-2.7.6/src/Makefile
    reran
    make dso
    su
    make install

    and it dissappeared.


./httpd -X
    no warnings/errors

apache banner:
    Apache/1.3.20 (Unix) mod_ssl/2.8.4 OpenSSL/0.9.6b
    mod_python/2.7.6 Python/2.2a3 mod_perl/1.26

httpd -V
    Server version: Apache/1.3.20 (Unix)
    Server built:   Sep  9 2001 05:14:30
    Server's Module Magic Number: 19990320:10
    Server compiled with....
     -D EAPI
     -D EAPI_MM
     -D EAPI_MM_CORE_PATH="logs/httpd.mm"
     -D HAVE_MMAP
     -D USE_MMAP_SCOREBOARD
     -D USE_MMAP_FILES
     -D USE_FLOCK_SERIALIZED_ACCEPT
     -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT
     -D HTTPD_ROOT="/usr/home/src/apache"
     -D SUEXEC_BIN="/usr/home/src/apache/bin/suexec"
     -D DEFAULT_PIDLOG="logs/httpd.pid"
     -D DEFAULT_SCOREBOARD="logs/httpd.scoreboard"
     -D DEFAULT_LOCKFILE="logs/httpd.lock"
     -D DEFAULT_XFERLOG="logs/access_log"
     -D DEFAULT_ERRORLOG="logs/error_log"
     -D TYPES_CONFIG_FILE="conf/mime.types"
     -D SERVER_CONFIG_FILE="conf/httpd.conf"
     -D ACCESS_CONFIG_FILE="conf/access.conf"
     -D RESOURCE_CONFIG_FILE="conf/srm.conf"

httpd.conf snippets:
    LoadModule python_module      libexec/mod_python.so
    AddModule mod_python.c
    ### MOD PYTHOD ###
    Alias /python/ /usr/home/src/apache/python
    <Location /python>
        AddHandler python-program .py
        PythonHandler mptest
        PythonDebug On
    </Location>
    ### END MOD PYTHOD

/usr/home/src/apache/python/mptest.py:
    from mod_python import apache

    def handler(req):
        req.send_http_header()
        req.write("Hello World!")
        return apache.OK


Webpage Error message:
    Mod_python error: "PythonHandler mptest"

    Traceback (most recent call last):

    File "/usr/home/src/python/lib/python2.2/site-packages/mod_python/apache.py",
    line 181, in Dispatch module = import_module(module_name, _req)

    File "/usr/home/src/python/lib/python2.2/site-packages/mod_python/apache.py",
    line 335, in import_module f, p, d = imp.find_module(parts[i], path)

    ImportError: No module named mptest

Apache Error Log Message:
    [Thu Sep 13 05:25:34 2001] [error] PythonHandler mptest: Traceback (most
    recent call last):
    [Thu Sep 13 05:25:35 2001] [error] PythonHandler mptest:   File
    "/usr/home/src/python/lib/python2.2/site-packages/mod_python/apache.py",
    line 181, in Dispatch
    module = import_module(module_name, _req)
    [Thu Sep 13 05:25:35 2001] [error] PythonHandler mptest:   File
    "/usr/home/src/python/lib/python2.2/site-packages/mod_python/apache.py",
    line 335, in import_module
    f, p, d = imp.find_module(parts[i], path)
    [Thu Sep 13 05:25:35 2001] [error] PythonHandler mptest: ImportError: No module
    named mptest


Thanks again,

Philip


------------------------------------------------------------------------------
Philip M. Gollucci (p6m7g8) philip@p6m7g8.com 301.314.3118

Science, Discovery, & the Universe (UMCP)
        Webmaster & Webship Teacher
        URL: http://www.sdu.umd.edu

EJPress.com
        Database/PERL Programmer & System Admin
        URL : http://www.ejournalpress.com

Resume      : http://www.p6m7g8.com/resume-20010910_192426.txt





From grisha at modpython.org  Thu Sep 13 10:34:21 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:46:29 2004
Subject: [mod_python] Test fails -- HELP !!
In-Reply-To: <20010913060256.P68181-100000@p6m7g8.student.umd.edu>
Message-ID: <Pine.BSF.4.32.0109131026210.75527-100000@localhost>

If you're using <Location>, you will need to manually make sure that
the directory where the module is is in your pythonpath. Try this instead:

Alias /python/ /usr/home/src/apache/python
<Directory /usr/home/src/apache/python>
   AddHandler python-program .py
   PythonHandler mptest
   PythonDebug On
</Directory>


On Thu, 13 Sep 2001, Philip M. Gollucci wrote:

> I'm pretty new to python, but have had lots of similiar experience with
> mod_perl/PERL and apache.  I am a very good System Admin.
> I've install Python and mod_python via the documentation bundled with each.
> I tried the prog senario given here,
>  http://drunken.student.umd.edu/manual-mod_python/inst-testing.html
> but I get a strange error message (SEE BELOW)
>
> Thanks for all you help in advance.
>
> uname -a
>     FreeBSD drunken.student.umd.edu 4.3-RELEASE FreeBSD 4.3-RELEASE #0: Sat Sep
>     8 07:09:39 EST 2001
>     root@drunken.student.umd.edu:/usr/src/sys/compile/DRUNKEN i386
>
> python -V
>     Python 2.2a3
>     ./configure --prefix=/usr/home/src/python --without-threads
>
> mod_python compile:
>     mod_python/2.7.6
>     ./configure --with-apxs=/usr/home/src/apache/apxs
>     make dso
>     su
>     make install
>
> apachectl configtest:
>     orginally, I got the warning:
> [Thu Sep 13 06:26:37 2001] [warn] Loaded DSO libexec/mod_python.so uses plain
> Apache 1.3 API, this module might crash under EAPI! (please recompile it with
> -DEAPI)
>     but I added -DEAPI to CFLAGS in mod_python-2.7.6/src/Makefile
>     reran
>     make dso
>     su
>     make install
>
>     and it dissappeared.
>
>
> ./httpd -X
>     no warnings/errors
>
> apache banner:
>     Apache/1.3.20 (Unix) mod_ssl/2.8.4 OpenSSL/0.9.6b
>     mod_python/2.7.6 Python/2.2a3 mod_perl/1.26
>
> httpd -V
>     Server version: Apache/1.3.20 (Unix)
>     Server built:   Sep  9 2001 05:14:30
>     Server's Module Magic Number: 19990320:10
>     Server compiled with....
>      -D EAPI
>      -D EAPI_MM
>      -D EAPI_MM_CORE_PATH="logs/httpd.mm"
>      -D HAVE_MMAP
>      -D USE_MMAP_SCOREBOARD
>      -D USE_MMAP_FILES
>      -D USE_FLOCK_SERIALIZED_ACCEPT
>      -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT
>      -D HTTPD_ROOT="/usr/home/src/apache"
>      -D SUEXEC_BIN="/usr/home/src/apache/bin/suexec"
>      -D DEFAULT_PIDLOG="logs/httpd.pid"
>      -D DEFAULT_SCOREBOARD="logs/httpd.scoreboard"
>      -D DEFAULT_LOCKFILE="logs/httpd.lock"
>      -D DEFAULT_XFERLOG="logs/access_log"
>      -D DEFAULT_ERRORLOG="logs/error_log"
>      -D TYPES_CONFIG_FILE="conf/mime.types"
>      -D SERVER_CONFIG_FILE="conf/httpd.conf"
>      -D ACCESS_CONFIG_FILE="conf/access.conf"
>      -D RESOURCE_CONFIG_FILE="conf/srm.conf"
>
> httpd.conf snippets:
>     LoadModule python_module      libexec/mod_python.so
>     AddModule mod_python.c
>     ### MOD PYTHOD ###
>     Alias /python/ /usr/home/src/apache/python
>     <Location /python>
>         AddHandler python-program .py
>         PythonHandler mptest
>         PythonDebug On
>     </Location>
>     ### END MOD PYTHOD
>
> /usr/home/src/apache/python/mptest.py:
>     from mod_python import apache
>
>     def handler(req):
>         req.send_http_header()
>         req.write("Hello World!")
>         return apache.OK
>
>
> Webpage Error message:
>     Mod_python error: "PythonHandler mptest"
>
>     Traceback (most recent call last):
>
>     File "/usr/home/src/python/lib/python2.2/site-packages/mod_python/apache.py",
>     line 181, in Dispatch module = import_module(module_name, _req)
>
>     File "/usr/home/src/python/lib/python2.2/site-packages/mod_python/apache.py",
>     line 335, in import_module f, p, d = imp.find_module(parts[i], path)
>
>     ImportError: No module named mptest
>
> Apache Error Log Message:
>     [Thu Sep 13 05:25:34 2001] [error] PythonHandler mptest: Traceback (most
>     recent call last):
>     [Thu Sep 13 05:25:35 2001] [error] PythonHandler mptest:   File
>     "/usr/home/src/python/lib/python2.2/site-packages/mod_python/apache.py",
>     line 181, in Dispatch
>     module = import_module(module_name, _req)
>     [Thu Sep 13 05:25:35 2001] [error] PythonHandler mptest:   File
>     "/usr/home/src/python/lib/python2.2/site-packages/mod_python/apache.py",
>     line 335, in import_module
>     f, p, d = imp.find_module(parts[i], path)
>     [Thu Sep 13 05:25:35 2001] [error] PythonHandler mptest: ImportError: No module
>     named mptest
>
>
> Thanks again,
>
> Philip
>
>
> ------------------------------------------------------------------------------
> Philip M. Gollucci (p6m7g8) philip@p6m7g8.com 301.314.3118
>
> Science, Discovery, & the Universe (UMCP)
>         Webmaster & Webship Teacher
>         URL: http://www.sdu.umd.edu
>
> EJPress.com
>         Database/PERL Programmer & System Admin
>         URL : http://www.ejournalpress.com
>
> Resume      : http://www.p6m7g8.com/resume-20010910_192426.txt
>
>
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>



From guinan at bluebutton.com  Mon Sep 17 01:34:12 2001
From: guinan at bluebutton.com (Jamie Guinan)
Date: Fri Jan  9 21:46:29 2004
Subject: [mod_python] mod_python.publisher buglet [ + patch ]
Message-ID: <Pine.LNX.4.33.0109170115340.14699-100000@gemini.home.net>

Hi,

I am just starting to look at mod_python (2.7.6), and I tried
using mod_python.publisher.  Works nicely at first glance,
but I found a small bug.

httpd.conf:

<Directory /var/www/html/pytest>
  AddHandler python-program .py
  PythonHandler mod_python.publisher
</Directory>

Now load
  http://localhost:81/pytest/index.py/

Note the trailing "/", publisher.py does not check if PATH_INFO
is empty after the / and I see a Python error in my browser,

  Mod_python error: "PythonHandler mod_python.publisher"

  Traceback (innermost last):

  File "/usr/lib/python1.5/site-packages/mod_python/apache.py", line
  189, in Dispatch
  result = object(self.req)

  File "/usr/lib/python1.5/site-packages/mod_python/publisher.py", line
  93, in handler
  if func_path[-1] == ".":

  IndexError: string index out of range


Quickie patch (and bonus typo fix):

--cut below--
--- publisher.py.ori	Mon Sep 17 01:21:34 2001
+++ publisher.py	Mon Sep 17 01:33:03 2001
@@ -82,8 +82,13 @@
     # get the path PATH_INFO (everthing after script)
     if not _req.subprocess_env.has_key("PATH_INFO"):
         raise apache.SERVER_RETURN, apache.HTTP_NOT_FOUND
-
-    func_path = _req.subprocess_env["PATH_INFO"][1:] # skip fist /
+
+    func_path = _req.subprocess_env["PATH_INFO"][1:] # skip first /
+
+    # Check for empty func_path.
+    if not func_path:
+        raise apache.SERVER_RETURN, apache.HTTP_NOT_FOUND
+
     func_path = string.replace(func_path, "/", ".")
     if func_path[-1] == ".":
         func_path = func_path[:-1]
--cut above--

Cheers,
-Jamie


From justuser at hotbox.ru  Mon Sep 17 14:37:01 2001
From: justuser at hotbox.ru (Oleg_atl)
Date: Fri Jan  9 21:46:29 2004
Subject: [mod_python]  .
Message-ID: <1000737421.27109.qmail@ech>

     .
         ,    
      ,      . 
 ,    . 
   ,       .

                                                                 ,     .


_______________________________________________________________________
Powered by List Builder
To unsubscribe follow the link:
http://lb.bcentral.com/ex/manage/subscriberprefs?customerid=15216&subid=2DA99AC7B15666AE&msgnum=1

From harm at millionmonkeys.nl  Tue Sep 18 00:11:40 2001
From: harm at millionmonkeys.nl (harm@millionmonkeys.nl)
Date: Fri Jan  9 21:46:29 2004
Subject: [mod_python] inithandler?
Message-ID: <20010918001139.A11306@godel>

Moi,

first of all thanks for mod_python. I come from an (mod_)perl world and the
python version definitely is the easier one to use (There are tons of traps
you have to watch out for under mod_perl).

Anyway. My tiny question.

Why is there no init handler? It would run the moment the python
interpreter gets loaded/intiated by the freshly forked apache. It would be a 
nice place to initialise some site global modules.

Sure, I could do a:
if not mypersistentvar:
   mypersistentvar = Some.Nice.Object()

but an InitHandler does look like cleaner to me.

Any better way to arrange initialisation than the above method?

Thanks,
Harmen

-- 
                                                         The Moon is New

From grisha at modpython.org  Mon Sep 17 22:59:18 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:46:29 2004
Subject: [mod_python] inithandler?
In-Reply-To: <20010918001139.A11306@godel>
Message-ID: <Pine.BSF.4.32.0109172255040.66786-100000@localhost>

There is a PythonImport, which essentially does this. It has some severe
limitations.

The thing is that mod_python will create separate subinterpreters for
separate virtual servers (or optionally directories), but the only
opportunity to learn this information is during request procesing.

At Apache startup time you can't tell what the subinterpreters will be.
You have an option of manually giving interpreters names and making sure
that PythonImport executes under a specific name, but it's just kind of
messy....

I understand what the problem is, but  can't think of a clean solution to
it.

Grisha


On Tue, 18 Sep 2001 harm@millionmonkeys.nl wrote:

> Moi,
>
> first of all thanks for mod_python. I come from an (mod_)perl world and the
> python version definitely is the easier one to use (There are tons of traps
> you have to watch out for under mod_perl).
>
> Anyway. My tiny question.
>
> Why is there no init handler? It would run the moment the python
> interpreter gets loaded/intiated by the freshly forked apache. It would be a
> nice place to initialise some site global modules.
>
> Sure, I could do a:
> if not mypersistentvar:
>    mypersistentvar = Some.Nice.Object()
>
> but an InitHandler does look like cleaner to me.
>
> Any better way to arrange initialisation than the above method?
>
> Thanks,
> Harmen
>
> --
>                                                          The Moon is New
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From geert at boskant.nl  Tue Sep 18 10:15:11 2001
From: geert at boskant.nl (Geert Jansen)
Date: Fri Jan  9 21:46:29 2004
Subject: [mod_python] inithandler?
In-Reply-To: <20010918001139.A11306@godel>
Message-ID: <POEGJAKPNOCGNJMONMFKKEFDCCAA.geert@boskant.nl>

You wrote:

> Anyway. My tiny question.
>
> Why is there no init handler? It would run the moment the python
> interpreter gets loaded/intiated by the freshly forked apache. It
> would be a
> nice place to initialise some site global modules.
>
> Sure, I could do a:
> if not mypersistentvar:
>    mypersistentvar = Some.Nice.Object()

I'm afraid this is currently the only way. I use the technique too, and I
don't think it is unacceptably ugly :) And it works very well.

I am curious how mod_perl implements this init handler. I bet it runs it at
request time, setting a flag init_done when it has been called.

Recently I had problems implementing a "once for _all_ childs" initialiser
function, but that's another issue. See the recent mailing list archive if
you're interested.

Greetings,
Geert


From harm at millionmonkeys.nl  Tue Sep 18 14:16:19 2001
From: harm at millionmonkeys.nl (harm)
Date: Fri Jan  9 21:46:29 2004
Subject: [mod_python] inithandler?
In-Reply-To: <Pine.BSF.4.32.0109172255040.66786-100000@localhost>; from grisha@modpython.org on Mon, Sep 17, 2001 at 10:59:18PM -0400
References: <20010918001139.A11306@godel> <Pine.BSF.4.32.0109172255040.66786-100000@localhost>
Message-ID: <20010918141619.F11306@godel>

On Mon, Sep 17, 2001 at 10:59:18PM -0400, Gregory (Grisha) Trubetskoy wrote:
> 
> There is a PythonImport, which essentially does this. It has some severe
> limitations.
> 
> The thing is that mod_python will create separate subinterpreters for
> separate virtual servers (or optionally directories), but the only
> opportunity to learn this information is during request procesing.
> 
> At Apache startup time you can't tell what the subinterpreters will be.

But you do know it the moment the subinterpreters are actually created, 
don`t you? So mod_python could call some handlers the moment it creates 
an fresh interpreter.

Ohwell, as mentioned, it in not _that_ important. Thanks for your reply!

Greetings,
Harmen


> You have an option of manually giving interpreters names and making sure
> that PythonImport executes under a specific name, but it's just kind of
> messy....
> 
> I understand what the problem is, but  can't think of a clean solution to
> it.
> 
> Grisha
> 
> > Moi,
> >
> > first of all thanks for mod_python. I come from an (mod_)perl world and the
> > python version definitely is the easier one to use (There are tons of traps
> > you have to watch out for under mod_perl).
> >
> > Anyway. My tiny question.
> >
> > Why is there no init handler? It would run the moment the python
> > interpreter gets loaded/intiated by the freshly forked apache. It would be a
> > nice place to initialise some site global modules.
> >
> > Sure, I could do a:
> > if not mypersistentvar:
> >    mypersistentvar = Some.Nice.Object()
> >
> > but an InitHandler does look like cleaner to me.
> >
> > Any better way to arrange initialisation than the above method?
> >
> > Thanks,
> > Harmen
> >

-- 
                                The Moon is Waxing Crescent (2% of Full)

From sjh at wibble.net  Wed Sep 19 17:13:33 2001
From: sjh at wibble.net (Steven Hanley)
Date: Fri Jan  9 21:46:29 2004
Subject: [mod_python] installation config to allow different programs
Message-ID: <20010919171332.A5721@shiva.marian>

All

I am not on the list so could any replies also be cc'd to me.

Reading the documentation it suggests doing something like 

<IfModule mod_python.c>
  Alias /python/ /some/where/
  <Location /python>
    AddHandler python-program .py
    PythonHandler someprog     
  </Location>
</IfModule>  

which will cause the handler method in someprog to be run whenever any
random.py program is accessed at http://servername/python/random.py.

I am wondering why there is no handler distributed with mod python to simply
allow something more like.

<IfModule mod_python.c>
  Alias /python/ /some/where/
  <Location /python>
    SetHandler python-program
    PythonHandler mod_python.run      
  </Location>
</IfModule>  

Where any file in /python can be accessed and run with mod_python. I know
there is the publisher module but that is not what I am thinking of.

More if we have a 

program named "first" which contains python code such as 

from mod_python import apache

def handler(req):                          
    req.send_http_header()
    req.write("Hello World!")
    return apache.OK

and another program named "second" with the code

from mod_python import apache

def handler(req):                          
    req.send_http_header()
    req.write("Goodbye World!")
    return apache.OK

and an access to 

http://servername/python/first gives the Hello World program
an access to 
http://servername/python/second gives the Goodby World program

Also notice the programs dont have any .py extension.

So I was unable to work out a way to configure mod_python to handle this sort
of case. Can someone please help.

It seems in the documentation we jump straight from explicit reference to a
single program.py to using something like publisher.

I saw someone say they had tried to do this and it wasnt working on this
mailing list

http://www.modpython.org/pipermail/mod_python/2001-August/001606.html

but he then came back and said it was working two posts later without any
explanation of how.

I see the same behavior, it just sends the source code of the pythong program
back to the browser.

       See You
           Steve

-- 
sjh@wibble.net http://wibble.net/~sjh
Look Up In The Sky
    Is it a bird?   No
        Is it a plane    No
            Is it a small blue banana?
Yes

From francoislepoutre at compuserve.com  Tue Sep 18 11:52:02 2001
From: francoislepoutre at compuserve.com (=?iso-8859-1?Q?Fran=E7ois_Lepoutre?=)
Date: Fri Jan  9 21:46:29 2004
Subject: [mod_python] threading issue on win2k
Message-ID: <01c1402f$f2dd1420$0d54d3d4@csi.compuserve.com>

Hi all,

Just a few words to say that i discovered python and mod_python a few months ago.

Developping with these tools has been one of my greatest programming 
pleasure (the previous was smalltalk a century ago...).

However I have a nasty pb to solve which seems to be windows-specific and 
related to windows threading.

The configuration:
- W2000 server,
- python 2.1 + mxodbc,
- apache 1.3.20
- mod_python 2.7.4 for 2.1

Under heavy loads, the the code sequence that load odbc information
from the db engine (ASA by sybase) seems to break because of
thread concurrency.

The apache just breaks with log message:
"c:\python21\lib\mod_python\apache.py", line 193, in Dispatch
 result=object(req)
IOError: Write failed, client closed connexion

When putting apache "ThreadPerChild" to 1 instead of 2 to 50,
the pb vanishes... and performance as well. (:

I'd like to know whether the pb is:
- apache related (is apache 2/win a potential cure?)
- python-related (can we improve our scripts with thread-caring code?)
- modpython-related (should we try to tweak apache.py?)

I know next to nothing to low-level os issues threads except that they
tend to get in the way of interperters like python...

Thanks in advance for any piece of advice.

Fran?ois



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010918/5ec094da/attachment.htm
From vielmos at yahoo.com  Thu Sep 20 12:53:08 2001
From: vielmos at yahoo.com ( .)
Date: Fri Jan  9 21:46:29 2004
Subject: [mod_python]        
Message-ID: <1000990388.40354.qmail@ech>

                    !

        -         :  ,  (   ),    (    ).
     
         ,       : www.viel.f2s.com 

               ,    ,            .
     ,     , ,      ,      .     International Rectifier, Epcos, Bourns, Metex, unit-t  .
      :       .         .
    
       : , -2,-3, POST-MIX  .        ,  ,    .. 

     :  /  /  .
     
    :       ,,   .

              :     !!!(D  25  1000.)
   
          ,  ,       ,                .
            ,     : (095) 275-89-94,    :  vielmos@yahoo.com 
     
             ,    ,    ,     ,    .

          . : (095) 275-89-94, 746-68-78.


_______________________________________________________________________
Powered by List Builder
To unsubscribe follow the link:
http://lb.bcentral.com/ex/manage/subscriberprefs?customerid=15203&subid=3256B486083969DA&msgnum=1

From wart at softhome.net  Thu Sep 20 18:58:39 2001
From: wart at softhome.net (Wartan Hachaturow)
Date: Fri Jan  9 21:46:29 2004
Subject: [mod_python] Another call for open-source "real world" modpython apps..
Message-ID: <20010920185839.A21515@penguin.aktivist.ru>

Hi.

Do anyone here know of any mod_python open-source applications? I mean
the ones I could use as examples, or base my code on them..
The ones that I've seen (maki, PyWM) lack the features I need -- sessions,
"users", persistent db connections and all other "bells and whistles".
All tools that are intended to be used with mod_python (WebWare, weblib)
are too poorly documented, and lack examples (again).

P.S. I know I can write this stuff by myself, but I'm a bit lazy -- and after
all, this is what open source is for :)

-- 
Regards, Wartan.
echo "Your stdio isn't very std." 
		-- Larry Wall in Configure from the perl distribution

From grisha at modpython.org  Tue Sep 18 08:54:04 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:46:30 2004
Subject: [mod_python] inithandler?
In-Reply-To: <20010918141619.F11306@godel>
Message-ID: <Pine.BSF.4.32.0109180852050.73886-100000@localhost>


On Tue, 18 Sep 2001, harm wrote:

> On Mon, Sep 17, 2001 at 10:59:18PM -0400, Gregory (Grisha) Trubetskoy wrote:
> >
> > There is a PythonImport, which essentially does this. It has some severe
> > limitations.
> >
> > The thing is that mod_python will create separate subinterpreters for
> > separate virtual servers (or optionally directories), but the only
> > opportunity to learn this information is during request procesing.
> >
> > At Apache startup time you can't tell what the subinterpreters will be.
>
> But you do know it the moment the subinterpreters are actually created,
> don`t you? So mod_python could call some handlers the moment it creates
> an fresh interpreter.

Subinterpreters are created during request processing - if one exists
already it is used, otherwise it is created. So it won't be any different
than using the Python import mechanism for one time initialization.

Grisha


From geert at boskant.nl  Wed Sep 19 13:35:50 2001
From: geert at boskant.nl (Geert Jansen)
Date: Fri Jan  9 21:46:30 2004
Subject: [mod_python] installation config to allow different programs
In-Reply-To: <20010919171332.A5721@shiva.marian>
Message-ID: <POEGJAKPNOCGNJMONMFKOEFHCCAA.geert@boskant.nl>

You wrote:

> I am wondering why there is no handler distributed with mod
> python to simply
> allow something more like.
>
> <IfModule mod_python.c>
>   Alias /python/ /some/where/
>   <Location /python>
>     SetHandler python-program
>     PythonHandler mod_python.run
>   </Location>
> </IfModule>

[snip]

> http://servername/python/first gives the Hello World program
> an access to
> http://servername/python/second gives the Goodby World program
>
> Also notice the programs dont have any .py extension.

mod_python doesn't contain a handler that can do this. But it's easy to
write such a handler yourself. You can get the python script name from
request.path_info(). Use this to load it with __import__() and use hasattr()
to check for a function named handler(). Then call the function.

Greetings,
Geert
--
long long email=0X78DC806B91FCA334,i=0,j; main(){j=(email>>4*i)&15;
putchar(j+j/2+j/5-j/12+(j<13?97:-65+7*j));i/15?exit(0):++i,main();}


From grisha at modpython.org  Wed Sep 19 09:16:12 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:46:30 2004
Subject: [mod_python] installation config to allow different programs
In-Reply-To: <20010919171332.A5721@shiva.marian>
Message-ID: <Pine.BSF.4.32.0109190912580.92366-100000@localhost>

I *think* you should be able to use SetHandler and /some/script/function
with the publisher handler. The actual file on the server should still be
called sctipt.py.

I don't know how explicit the documentation is about it, but mod_python
doesn't care about the ".py".

Grisha

On Wed, 19 Sep 2001, Steven Hanley wrote:

> All
>
> I am not on the list so could any replies also be cc'd to me.
>
> Reading the documentation it suggests doing something like
>
> <IfModule mod_python.c>
>   Alias /python/ /some/where/
>   <Location /python>
>     AddHandler python-program .py
>     PythonHandler someprog
>   </Location>
> </IfModule>
>
> which will cause the handler method in someprog to be run whenever any
> random.py program is accessed at http://servername/python/random.py.
>
> I am wondering why there is no handler distributed with mod python to simply
> allow something more like.
>
> <IfModule mod_python.c>
>   Alias /python/ /some/where/
>   <Location /python>
>     SetHandler python-program
>     PythonHandler mod_python.run
>   </Location>
> </IfModule>
>
> Where any file in /python can be accessed and run with mod_python. I know
> there is the publisher module but that is not what I am thinking of.
>
> More if we have a
>
> program named "first" which contains python code such as
>
> from mod_python import apache
>
> def handler(req):
>     req.send_http_header()
>     req.write("Hello World!")
>     return apache.OK
>
> and another program named "second" with the code
>
> from mod_python import apache
>
> def handler(req):
>     req.send_http_header()
>     req.write("Goodbye World!")
>     return apache.OK
>
> and an access to
>
> http://servername/python/first gives the Hello World program
> an access to
> http://servername/python/second gives the Goodby World program
>
> Also notice the programs dont have any .py extension.
>
> So I was unable to work out a way to configure mod_python to handle this sort
> of case. Can someone please help.
>
> It seems in the documentation we jump straight from explicit reference to a
> single program.py to using something like publisher.
>
> I saw someone say they had tried to do this and it wasnt working on this
> mailing list
>
> http://www.modpython.org/pipermail/mod_python/2001-August/001606.html
>
> but he then came back and said it was working two posts later without any
> explanation of how.
>
> I see the same behavior, it just sends the source code of the pythong program
> back to the browser.
>
>        See You
>            Steve
>
> --
> sjh@wibble.net http://wibble.net/~sjh
> Look Up In The Sky
>     Is it a bird?   No
>         Is it a plane    No
>             Is it a small blue banana?
> Yes
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From vielmos at yahoo.com  Thu Sep 20 18:19:24 2001
From: vielmos at yahoo.com ( .)
Date: Fri Jan  9 21:46:30 2004
Subject: [mod_python]        
Message-ID: <1001009964.88088.qmail@ech>

 kodirovra KOI-8R ili Kirilica(windows)
                
                !

  &#8220;-&#8221;         :  ,  (   ),    (    ).

           ,       : www.viel.f2s.com .

                 ,    ,            .
      
       ,     , ,      ,      .     International Rectifier, Epcos, Bourns, Metex, unit-t  .
       :       .         .

         : , -2,-3, POST-MIX  .        , &#8220;&#8221; ,    .. 
      
        :  /  /  .
       :       ,,   .

             ,  ,       ,                .
        
               ,     : (095) 275-89-94,    : vielmos@yahoo.com 

             ,    ,    ,     ,    .

          . : (095) 275-89-94, 746-68-78.



_______________________________________________________________________
Powered by List Builder
To unsubscribe follow the link:
http://lb.bcentral.com/ex/manage/subscriberprefs?customerid=15203&subid=D4E1506707A94BA2&msgnum=2

From grisha at modpython.org  Thu Sep 20 22:52:28 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:46:30 2004
Subject: [mod_python] threading issue on win2k
In-Reply-To: <01c1402f$f2dd1420$0d54d3d4@csi.compuserve.com>
Message-ID: <Pine.BSF.4.32.0109202244420.26247-100000@localhost>

The problem may be with the odbc driver.

I don't know about this particular one (sybase), but I know that some of
the very latest m$ access and sql server odbc drivers are still not thread
safe.

The link below seems to be confirming my theory:

http://groups.google.com/groups?hl=en&selm=397EE72C.3AC8E5DE%40ever.ever

Grisha

On Tue, 18 Sep 2001, [iso-8859-1] Fran?ois Lepoutre wrote:

> Hi all,
>
> Just a few words to say that i discovered python and mod_python a few months ago.
>
> Developping with these tools has been one of my greatest programming
> pleasure (the previous was smalltalk a century ago...).
>
> However I have a nasty pb to solve which seems to be windows-specific and
> related to windows threading.
>
> The configuration:
> - W2000 server,
> - python 2.1 + mxodbc,
> - apache 1.3.20
> - mod_python 2.7.4 for 2.1
>
> Under heavy loads, the the code sequence that load odbc information
> from the db engine (ASA by sybase) seems to break because of
> thread concurrency.
>
> The apache just breaks with log message:
> "c:\python21\lib\mod_python\apache.py", line 193, in Dispatch
>  result=object(req)
> IOError: Write failed, client closed connexion
>
> When putting apache "ThreadPerChild" to 1 instead of 2 to 50,
> the pb vanishes... and performance as well. (:
>
> I'd like to know whether the pb is:
> - apache related (is apache 2/win a potential cure?)
> - python-related (can we improve our scripts with thread-caring code?)
> - modpython-related (should we try to tweak apache.py?)
>
> I know next to nothing to low-level os issues threads except that they
> tend to get in the way of interperters like python...
>
> Thanks in advance for any piece of advice.
>
> Fran?ois
>
>
>
>


From francois.lepoutre at seriatim.com  Fri Sep 21 09:59:05 2001
From: francois.lepoutre at seriatim.com (Francois Lepoutre)
Date: Fri Jan  9 21:46:30 2004
Subject: [mod_python] threading issue on win2k
In-Reply-To: <Pine.BSF.4.32.0109202244420.26247-100000@localhost>
Message-ID: <FMENKHOEIEBLNLADJANEMECLCAAA.francois.lepoutre@seriatim.com>

Threading ... I am quite a newbie in this area.

I Tried quite a bit of "trial and errors" with both
the standard threading and mutex python libs
in our script (lock, mutex...) however.

The idea was to try ensure that the mxodbc code is run
in a protected environment where the sql code is run
in a round-robin way.

With no success. Any chance we can do that...

By the way i'd be glad to try the whole thing on
mod_python 3 on win32/apache2 when available.

In case of pb we will have to switch to a "closed"
*nix only-approach.

Thanks for mod_python. Great.
Simple and fast. No fuss.

That the way i like it with IT  :)

-----Message d'origine-----
De : grisha@modpython.org [mailto:grisha@modpython.org]
Envoye : 21/09/01 03:52
A : Fran?ois Lepoutre
Cc : mod_python@modpython.org
Objet : Re: [mod_python] threading issue on win2k


The problem may be with the odbc driver.

I don't know about this particular one (sybase), but I know that some of
the very latest m$ access and sql server odbc drivers are still not thread
safe.

The link below seems to be confirming my theory:

http://groups.google.com/groups?hl=en&selm=397EE72C.3AC8E5DE%40ever.ever

Grisha

On Tue, 18 Sep 2001, [iso-8859-1] Fran?ois Lepoutre wrote:

> Hi all,
>
> Just a few words to say that i discovered python and mod_python a few
months ago.
>
> Developping with these tools has been one of my greatest programming
> pleasure (the previous was smalltalk a century ago...).
>
> However I have a nasty pb to solve which seems to be windows-specific and
> related to windows threading.
>
> The configuration:
> - W2000 server,
> - python 2.1 + mxodbc,
> - apache 1.3.20
> - mod_python 2.7.4 for 2.1
>
> Under heavy loads, the the code sequence that load odbc information
> from the db engine (ASA by sybase) seems to break because of
> thread concurrency.
>
> The apache just breaks with log message:
> "c:\python21\lib\mod_python\apache.py", line 193, in Dispatch
>  result=object(req)
> IOError: Write failed, client closed connexion
>
> When putting apache "ThreadPerChild" to 1 instead of 2 to 50,
> the pb vanishes... and performance as well. (:
>
> I'd like to know whether the pb is:
> - apache related (is apache 2/win a potential cure?)
> - python-related (can we improve our scripts with thread-caring code?)
> - modpython-related (should we try to tweak apache.py?)
>
> I know next to nothing to low-level os issues threads except that they
> tend to get in the way of interperters like python...
>
> Thanks in advance for any piece of advice.
>
> Fran?ois
>
>
>
>


From laprice at efn.org  Fri Sep 21 09:50:29 2001
From: laprice at efn.org (larry a price)
Date: Fri Jan  9 21:46:30 2004
Subject: [mod_python] Another call for open-source "real world" modpython
 apps..
In-Reply-To: <20010920185839.A21515@penguin.aktivist.ru>
Message-ID: <Pine.GSU.4.21.0109210949040.23252-100000@garcia.efn.org>

try webware
http://webware.sourceforge.net
it's got that plus a fairly sane internal architecture and plumbing for
databases.

<html><head><title>html sig</title></head><body><div style="font:sans-serif;
font-size:72pt;line-height:84pt;color:blue1;"><ul><li>sexy is good</li><li>
linux is good</li><li>qed: linux is sexy</li></ul><hr><hr><hr><hr><hr><hr>
<a href="http://www.efn.org/~laprice">laprice at efn dot org</a></body></html>
On Thu, 20 Sep 2001, Wartan Hachaturow wrote:

> Hi.
> 
> Do anyone here know of any mod_python open-source applications? I mean
> the ones I could use as examples, or base my code on them..
> The ones that I've seen (maki, PyWM) lack the features I need -- sessions,
> "users", persistent db connections and all other "bells and whistles".
> All tools that are intended to be used with mod_python (WebWare, weblib)
> are too poorly documented, and lack examples (again).
> 
> P.S. I know I can write this stuff by myself, but I'm a bit lazy -- and after
> all, this is what open source is for :)
> 
> -- 
> Regards, Wartan.
> echo "Your stdio isn't very std." 
> 		-- Larry Wall in Configure from the perl distribution
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
> 


From forsberg at lysator.liu.se  Sat Sep 22 15:19:32 2001
From: forsberg at lysator.liu.se (Erik Forsberg)
Date: Fri Jan  9 21:46:30 2004
Subject: [mod_python] How do I use the PythonTypeHandler?
Message-ID: <87ofo3qs63.fsf@j218.ryd.student.liu.se>

Hi!

Just curious - how do I use the PythonTypeHandler?

If I just let it return apache.OK I get a 404 when I come to the
PythonHandler. Strange.

I've read the docs, but they're a bit unhelpful in this case.

\EF
-- 
Erik Forsberg                 http://www.lysator.liu.se/~forsberg/
GPG/PGP Key: 1024D/0BAC89D9 <forsberg@lysator.liu.se> 
Key Fingerprint: B308 87FC 566E 825A 5ABC  247C AC9B AB14 0BAC 89D9

From harm at millionmonkeys.nl  Mon Sep 24 23:16:30 2001
From: harm at millionmonkeys.nl (harm@millionmonkeys.nl)
Date: Fri Jan  9 21:46:30 2004
Subject: [mod_python] If-Modified-Since date parsing?
Message-ID: <20010924231630.X11306@godel>

Moi,

I`m making an little scale-this-image-on-the-fly handler. Works like
requesting /magicimages/chicken.gif?width=200&height=255 and you will get
an nicely scaled image. Piece of cake of course and uses a filecache to 
make things nice and speedy.

Now I would like to use the If-Modified-Since header, so I can return the 304
"Not modified" code. Makes requests go faster for everybody (No unnecesary
downloads). 
Is there any module out there to parse the date from this header in
something easier to work with? Example date:
Tue, 1 Jul 2002 11:11:11 GMT

Thanks,
Harmen

Ps: The handler needs to scale the usual web-images: gif, jpg and png. I am
currently using Pythonwares Image (PIM) library. Any better (smaller /
simpler / more mod_python friendly) suggestions?




-- 
                                The Moon is Waxing Gibbous (55% of Full)

From grisha at modpython.org  Mon Sep 24 17:37:32 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:46:30 2004
Subject: [mod_python] If-Modified-Since date parsing?
In-Reply-To: <20010924231630.X11306@godel>
Message-ID: <Pine.BSF.4.32.0109241735210.4343-100000@localhost>

Python 2.1 (#3, Jun 11 2001, 16:02:23)
[GCC 2.95.2 19991024 (release)] on freebsd4
Type "copyright", "credits" or "license" for more information.
>>> import rfc822
>>> rfc822.parsedate("Tue, 1 Jul 2002 11:11:11 GMT")
(2002, 7, 1, 11, 11, 11, 0, 0, 0)
>>>

HTH,

Grisha

On Mon, 24 Sep 2001 harm@millionmonkeys.nl wrote:

> Moi,
>
> I`m making an little scale-this-image-on-the-fly handler. Works like
> requesting /magicimages/chicken.gif?width=200&height=255 and you will get
> an nicely scaled image. Piece of cake of course and uses a filecache to
> make things nice and speedy.
>
> Now I would like to use the If-Modified-Since header, so I can return the 304
> "Not modified" code. Makes requests go faster for everybody (No unnecesary
> downloads).
> Is there any module out there to parse the date from this header in
> something easier to work with? Example date:
> Tue, 1 Jul 2002 11:11:11 GMT
>
> Thanks,
> Harmen
>
> Ps: The handler needs to scale the usual web-images: gif, jpg and png. I am
> currently using Pythonwares Image (PIM) library. Any better (smaller /
> simpler / more mod_python friendly) suggestions?
>
>
>
>
> --
>                                 The Moon is Waxing Gibbous (55% of Full)
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From donotsend at priceorg.com  Sat Sep 29 03:51:11 2001
From: donotsend at priceorg.com (donotsend@priceorg.com)
Date: Fri Jan  9 21:46:30 2004
Subject: [mod_python] Re: 
Message-ID: <200109290046.f8T0kND42162@eden.ispol.com>

???? ?? ????????????? ????? ??? ??????? ????,
??? ????? ????????? ???????? ?????????????
?????? http://www.tourfirm.com
??????? ? ????????????? ??????, ????????????
??????? ???????? ? ????? ???????, ? ????? ??????????????
? ???? ???????? ????????? ???????? ? ????:
1.      ???????? ????? 
2.      URL (???? ??????)
3.      ??????
4.      ?????? (???????, ???? ? ?.?.)
5.      ?????????? ????? (?????, ????????? ??????? ? ?.?.)
6.      ????? ? ?????????? ??????.
???? ??????????? ? ?????? ?? ?????????? ? ?????? ??? 
????????? ?? ?? ????????.
?????? ?????????? ?? tourism@tourfirm.com

From dsl45393 at vip.cybercity.dk  Sun Sep 30 23:42:00 2001
From: dsl45393 at vip.cybercity.dk (Ole Hansen)
Date: Fri Jan  9 21:46:30 2004
Subject: [mod_python] Apache reload problem
Message-ID: <200109302141.f8ULfaV82629@usr01.cybercity.dk>

Hi,

I have just joined this list, so this subject might have been covered before. 
However, the problem is that whenever I change something in my '.py'-file 
apache fails to reload the page. From error_log it seems like apache searches 
for a file with the extension '.p' instead of '.py' - so I modified 
mod_python/apache.py a little.
I replaced (filepath[:-1]) with (filepath[:]) in the following piece of code. 
line 356 and 359 in apache.py


<snip>
            # check also .py and take the newest
            if os.path.exists(filepath[:]) :

                # get the time of the .py file
                mod = os.stat(filepath[:])
                mtime = max(mtime, mod[stat.ST_MTIME])
<snip>

Apache hasn't complained ever since - but this is perhaps not a very good 
solution. Does anybody have another and maby better solution?
I'm using apache 1.3.19, mod_python 2.7.5, and Python 2.1.1.
The file permissions for my '.py'-file is like 'chmod ugo+rwx', so I don't 
think this the problem.

I'm  a newbie to mod_python/Python/Apache so I might have overlooked 
something.

Br,
Ole Hansen


From sebastien.deleersnyder at be.unisys.com  Sat Sep  1 05:18:15 2001
From: sebastien.deleersnyder at be.unisys.com (Deleersnyder, Sebastien)
Date: Fri Jan  9 21:52:33 2004
Subject: [mod_python] Cookie setting and reading
Message-ID: <3995C58A11F7D211A7EE00105AC580980192DD3C@BE-BRU-EXCH-2>

Hi,

This certainly has been discussed here before, but I do not seem to find 
any documentation/example on the following.

How do I set a cookie. And how do I read the same cookie back?

I think the following code should set the cookie and forces the browser to
save 
the cookie for a next logon (by setting the expiration date to the maximum).

req.headers_out['Set-Cookie']='key=value; path=/; expires=Wed, 09-Nov-2030
23:59:00 GMT'
req.send_http_header()

Only I am testing this with IE 6 and I do not see the cookie in my cookie
directory or privacy settings.
My privacy settings is configured to allow all cookies.

Next question:
If successfully set, how do I read the cookie when the client reconnects?
Is this a member of the request class?

regards,

Sebastien

From sebastien.deleersnyder at be.unisys.com  Sat Sep  1 08:57:32 2001
From: sebastien.deleersnyder at be.unisys.com (Deleersnyder, Sebastien)
Date: Fri Jan  9 21:52:33 2004
Subject: [mod_python] SOLVED + example: Cookie setting and reading
Message-ID: <3995C58A11F7D211A7EE00105AC580980192DD3D@BE-BRU-EXCH-2>

Hi,

After some checking and aid from Leonid Timochouk I solved the problem.
I already had a send_http_header() call before my cookie setting 
(classic mistake).
The cookie is send to the server as part of the headers_in.

Here is my sample code:

<snip>
from mod_python import apache,
def getCookie(headers_in, key):
    """ Method to retrieve a certain cookie, returns None if not found, or
not set"""
    if headers_in.has_key('Cookie'):
        import Cookie
        C = Cookie.SmartCookie(headers_in['Cookie'])
        C.load(headers_in['Cookie'])
        if C.has_key(key):
            return C[key].value
    return None

def handler(req):
    """ This sample code will result in 'None' the first time the page is
leaded
    and 'Value' on the reload."""
    form = util.FieldStorage(req)
    req.headers_out['Set-Cookie']='key=value; path=/; expires=Wed,
09-Nov-2030 23:59:00 GMT'
    req.write(repr(getCookie(req.headers_in, 'key')))
    return apache.OK
</snip>

regards,

Sebastien
>  -----Original Message-----
> From: 	Deleersnyder, Sebastien  
> Sent:	zaterdag 1 september 2001 12:21
> To:	mod_python@modpython.org
> Subject:	Cookie setting and reading
> 
> Hi,
> 
> This certainly has been discussed here before, but I do not seem to find 
> any documentation/example on the following.
> 
> How do I set a cookie. And how do I read the same cookie back?
> 
> I think the following code should set the cookie and forces the browser to
> save 
> the cookie for a next logon (by setting the expiration date to the
> maximum).
> 
> req.headers_out['Set-Cookie']='key=value; path=/; expires=Wed, 09-Nov-2030
> 23:59:00 GMT'
> req.send_http_header()
> 
> Only I am testing this with IE 6 and I do not see the cookie in my cookie
> directory or privacy settings.
> My privacy settings is configured to allow all cookies.
> 
> Next question:
> If successfully set, how do I read the cookie when the client reconnects?
> Is this a member of the request class?
> 
> regards,
> 
> Sebastien

From linkangels at hotmail.com  Mon Sep  3 08:16:35 2001
From: linkangels at hotmail.com (Kristy Christie)
Date: Fri Jan  9 21:52:33 2004
Subject: [mod_python] Problem Installing
Message-ID: <F85HaZVrDs9aAOPpBpc00000a57@hotmail.com>

Hi.

I installed mod_python on Windows 98 by placing the dll file into apache 
modules folder and adjusting the httpd.conf file as directed in the manual. 
When I try to open mptest.py (http://localhost:9000/python/mptest.py), I get 
an internal server error. Below is my httpd.conf file and the my Apache 1.3 
server log.

It's really important that I get Apache to be able to open python files. Can 
somebody please help me? Please!

Thank you very much.

~Kristy

._____________________________________.
| |  Jesus Christ really loves you!   |
|--- Visit the website & find out     |
| |  more http://www.jesuschrist.com  |
|_____________________________________|

:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
ERROR
:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

Internal Server Error
The server encountered an internal error or misconfiguration and was unable 
to complete your request.
Please contact the server administrator, you@your.address and inform them of 
the time the error occurred, and anything you might have done that may have 
caused the error.
More information about this error may be available in the server error log.

::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
SERVER LOG
::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

[Sun Sep 03 15:35:05 1995] [warn] Loaded DSO modules/mod_python.dll uses 
plain Apache 1.3 API, this module might crash under EAPI! (please recompile 
it with -DEAPI)
make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.
make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.
[Sun Sep 03 15:39:39 1995] [warn] Loaded DSO modules/mod_python.dll uses 
plain Apache 1.3 API, this module might crash under EAPI! (please recompile 
it with -DEAPI)
make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.

:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
HTTPD.CONF
:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

#
# Based upon the NCSA server configuration files originally by Rob McCool.
#
# This is the main Apache server configuration file.  It contains the
# configuration directives that give the server its instructions.
# See <URL:http://www.apache.org/docs/> for detailed information about
# the directives.
#
# Do NOT simply read the instructions in here without understanding
# what they do.  They're here only as hints or reminders.  If you are unsure
# consult the online docs. You have been warned.
#
# After this file is processed, the server will look for and process
# C:/Program Files/nusphere/apache/conf/srm.conf and then C:/Program 
Files/nusphere/apache/conf/access.conf
# unless you have overridden these with ResourceConfig and/or
# AccessConfig directives here.
#
# The configuration directives are grouped into three basic sections:
#  1. Directives that control the operation of the Apache server process as 
a
#     whole (the 'global environment').
#  2. Directives that define the parameters of the 'main' or 'default' 
server,
#     which responds to requests that aren't handled by a virtual host.
#     These directives also provide default values for the settings
#     of all virtual hosts.
#  3. Settings for virtual hosts, which allow Web requests to be sent to
#     different IP addresses or hostnames and have them handled by the
#     same Apache server process.
#
# Configuration and logfile names: If the filenames you specify for many
# of the server's control files begin with "/" (or "drive:/" for Win32), the
# server will use that explicit path.  If the filenames do *not* begin
# with "/", the value of ServerRoot is prepended -- so "logs/foo.log"
# with ServerRoot set to "/usr/local/apache" will be interpreted by the
# server as "/usr/local/apache/logs/foo.log".
#
# NOTE: Where filenames are specified, you must use forward slashes
# instead of backslashes (e.g., "C:/Program Files/nusphere/apache" instead 
of "c:\apache").
# If a drive letter is omitted, the drive on which Apache.exe is located
# will be used by default.  It is recommended that you always supply
# an explicit drive letter in absolute paths, however, to avoid
# confusion.
#

### Section 1: Global Environment
#
# The directives in this section affect the overall operation of Apache,
# such as the number of concurrent requests it can handle or where it
# can find its configuration files.
#

#
# ServerType is either inetd, or standalone.  Inetd mode is only supported 
on
# Unix platforms.
#
ServerType standalone

#
# ServerRoot: The top of the directory tree under which the server's
# configuration, error, and log files are kept.
#
# Do NOT add a slash at the end of the directory path.
#
ServerRoot "C:/Program Files/nusphere/apache"

#
# PidFile: The file in which the server should record its process
# identification number when it starts.
#
PidFile logs/httpd.pid

#
# ScoreBoardFile: File used to store internal server process information.
# Not all architectures require this.  But if yours does (you'll know 
because
# this file will be  created when you run Apache) then you *must* ensure 
that
# no two invocations of Apache share the same scoreboard file.
#
ScoreBoardFile logs/apache_runtime_status

#
# In the standard configuration, the server will process httpd.conf (this
# file, specified by the -f command line option), srm.conf, and access.conf
# in that order.  The latter two files are now distributed empty, as it is
# recommended that all directives be kept in a single file for simplicity.
# The commented-out values below are the built-in defaults.  You can have 
the
# server ignore these files altogether by using "/dev/null" (for Unix) or
# "nul" (for Win32) for the arguments to the directives.
#
#ResourceConfig conf/srm.conf
#AccessConfig conf/access.conf

#
# Timeout: The number of seconds before receives and sends time out.
#
Timeout 300

#
# KeepAlive: Whether or not to allow persistent connections (more than
# one request per connection). Set to "Off" to deactivate.
#
KeepAlive On

#
# MaxKeepAliveRequests: The maximum number of requests to allow
# during a persistent connection. Set to 0 to allow an unlimited amount.
# We recommend you leave this number high, for maximum performance.
#
MaxKeepAliveRequests 100

#
# KeepAliveTimeout: Number of seconds to wait for the next request from the
# same client on the same connection.
#
KeepAliveTimeout 15

#
# Apache on Win32 always creates one child process to handle requests.  If 
it
# dies, another child process is created automatically.  Within the child
# process multiple threads handle incoming requests.  The next two
# directives control the behaviour of the threads and processes.
#

#
# MaxRequestsPerChild: the number of requests each child process is
# allowed to process before the child dies.  The child will exit so
# as to avoid problems after prolonged use when Apache (and maybe the
# libraries it uses) leak memory or other resources.  On most systems, this
# isn't really needed, but a few (such as Solaris) do have notable leaks
# in the libraries.  For Win32, set this value to zero (unlimited)
# unless advised otherwise.
#
# NOTE: This value does not include keepalive requests after the initial
#       request per connection. For example, if a child process handles
#       an initial request and 10 subsequent "keptalive" requests, it
#       would only count as 1 request towards this limit.
#
MaxRequestsPerChild 0

#
# Number of concurrent threads (i.e., requests) the server will allow.
# Set this value according to the responsiveness of the server (more
# requests active at once means they're all handled more slowly) and
# the amount of system resources you'll allow the server to consume.
#
ThreadsPerChild 50

#
# Listen: Allows you to bind Apache to specific IP addresses and/or
# ports, in addition to the default. See also the <VirtualHost>
# directive.
#
#Listen 3000
#Listen 12.34.56.78:80

#
# BindAddress: You can support virtual hosts with this option. This 
directive
# is used to tell the server which IP address to listen to. It can either
# contain "*", an IP address, or a fully qualified Internet domain name.
# See also the <VirtualHost> and Listen directives.
#
#BindAddress *

#
# Apache Modules compiled into the standard Windows build
#
# The following modules are bound into the standard Apache binary 
distribution
# for Windows.  To change the standard behavior, uncomment the following 
lines
# and modify the list of those specific modules to be enabled in the server.
#
# WARNING: This is an advanced option that may render your server 
inoperable!
# Do not use these directives without expert guidance.
#
#ClearModuleList
#AddModule mod_so.c mod_mime.c mod_access.c mod_auth.c mod_negotiation.c
#AddModule mod_include.c mod_autoindex.c mod_dir.c mod_cgi.c mod_userdir.c
#AddModule mod_alias.c mod_env.c mod_log_config.c mod_asis.c mod_imap.c
#AddModule mod_actions.c mod_setenvif.c mod_isapi.c

#
# Dynamic Shared Object (DSO) Support
#
# To be able to use the functionality of a module which was built as a DSO 
you
# have to place corresponding `LoadModule' lines at this location so the
# directives contained in it are actually available _before_ they are used.
# Please read the file README.DSO in the Apache 1.3 distribution for more
# details about the DSO mechanism and run `apache -l' for the list of 
already
# built-in (statically linked and thus always available) modules in your 
Apache
# binary.
#
# Note: The order in which modules are loaded is important.  Don't change
# the order below without expert advice.
#

LoadModule python_module modules/mod_python.dll
LoadModule mysql_auth_module modules/mod_auth_mysql.dll

#LoadModule anon_auth_module modules/mod_auth_anon.so
#LoadModule dbm_auth_module modules/mod_auth_dbm.so
#LoadModule digest_auth_module modules/mod_auth_digest.so
#LoadModule cern_meta_module modules/mod_cern_meta.so
#LoadModule digest_module modules/mod_digest.so
#LoadModule expires_module modules/mod_expires.so
#LoadModule headers_module modules/mod_headers.so
#LoadModule proxy_module modules/mod_proxy.so
#LoadModule rewrite_module modules/mod_rewrite.so
#LoadModule speling_module modules/mod_speling.so
#LoadModule info_module modules/mod_info.so
#LoadModule status_module modules/mod_status.so
#LoadModule usertrack_module modules/mod_usertrack.so

#
# ExtendedStatus controls whether Apache will generate "full" status
# information (ExtendedStatus On) or just basic information (ExtendedStatus
# Off) when the "server-status" handler is called. The default is Off.
#
#ExtendedStatus On

### Section 2: 'Main' server configuration
#
# The directives in this section set up the values used by the 'main'
# server, which responds to any requests that aren't handled by a
# <VirtualHost> definition.  These values also provide defaults for
# any <VirtualHost> containers you may define later in the file.
#
# All of these directives may appear inside <VirtualHost> containers,
# in which case these default settings will be overridden for the
# virtual host being defined.
#

#
# Port: The port to which the standalone server listens.  Certain firewall
# products must be configured before Apache can listen to a specific port.
# Other running httpd servers will also interfere with this port.  Disable
# all firewall, security, and other services if you encounter problems.
# To help diagnose problems use the Windows NT command NETSTAT -a
#
Port 9000
Listen 9000

#
# ServerAdmin: Your address, where problems with the server should be
# e-mailed.  This address appears on some server-generated pages, such
# as error documents.
#
ServerAdmin you@your.address

#
# ServerName allows you to set a host name which is sent back to clients for
# your server if it's different than the one the program would get (i.e., 
use
# "www" instead of the host's real name).
#
# Note: You cannot just invent host names and hope they work. The name you
# define here must be a valid DNS name for your host. If you don't 
understand
# this, ask your network administrator.
# If your host doesn't have a registered DNS name, enter its IP address 
here.
# You will have to access it by its address (e.g., http://123.45.67.89/)
# anyway, and this will make redirections work in a sensible way.
#
# 127.0.0.1 is the TCP/IP local loop-back address, often named localhost. 
Your
# machine always knows itself by this address. If you use Apache strictly 
for
# local testing and development, you may use 127.0.0.1 as the server name.
#
ServerName localhost


#
# DocumentRoot: The directory out of which you will serve your
# documents. By default, all requests are taken from this directory, but
# symbolic links and aliases may be used to point to other locations.
#
DocumentRoot "C:/Program Files/nusphere/apache/htdocs"

#
# Each directory to which Apache has access, can be configured with respect
# to which services and features are allowed and/or disabled in that
# directory (and its subdirectories).
#
# First, we configure the "default" to be a very restrictive set of
# permissions.
#
<Directory />
    Options FollowSymLinks
    AllowOverride None
</Directory>

#
# Note that from this point forward you must specifically allow
# particular features to be enabled - so if something's not working as
# you might expect, make sure that you have specifically enabled it
# below.
#

#
# This should be changed to whatever you set DocumentRoot to.
#
<Directory "C:/Program Files/nusphere/apache/htdocs">

#
# This may also be "None", "All", or any combination of "Indexes",
# "Includes", "FollowSymLinks", "ExecCGI", or "MultiViews".
#
# Note that "MultiViews" must be named *explicitly* --- "Options All"
# doesn't give it to you.
#
Options Indexes FollowSymLinks MultiViews +Includes

#
# This controls which options the .htaccess files in directories can
# override. Can also be "All", or any combination of "Options", "FileInfo",
# "AuthConfig", and "Limit"
#
    AllowOverride None

#
# Controls who can get stuff from this server.
#
    Order allow,deny
    Allow from all
</Directory>

#
# UserDir: The name of the directory which is appended onto a user's home
# directory if a ~user request is received.
#
# Under Win32, we do not currently try to determine the home directory of
# a Windows login, so a format such as that below needs to be used.  See
# the UserDir documentation for details.
#
<IfModule mod_userdir.c>
    UserDir "C:/Program Files/nusphere/apache/users/"
</IfModule>

#
# Control access to UserDir directories.  The following is an example
# for a site where these directories are restricted to read-only.
#
#<Directory "C:/Program Files/nusphere/apache/users">
#    AllowOverride FileInfo AuthConfig Limit
#    Options MultiViews Indexes SymLinksIfOwnerMatch IncludesNoExec
#    <Limit GET POST OPTIONS PROPFIND>
#        Order allow,deny
#        Allow from all
#    </Limit>
#    <LimitExcept GET POST OPTIONS PROPFIND>
#        Order deny,allow
#        Deny from all
#    </LimitExcept>
#</Directory>

#
# DirectoryIndex: Name of the file or files to use as a pre-written HTML
# directory index.  Separate multiple entries with spaces.
#
<IfModule mod_dir.c>
DirectoryIndex index.shtml index.html index.htm index.php index.php3
</IfModule>

#
# AccessFileName: The name of the file to look for in each directory
# for access control information.
#
AccessFileName .htaccess

#
# The following lines prevent .htaccess files from being viewed by
# Web clients.  Since .htaccess files often contain authorization
# information, access is disallowed for security reasons.  Comment
# these lines out if you want Web visitors to see the contents of
# .htaccess files.  If you change the AccessFileName directive above,
# be sure to make the corresponding changes here.
#
# Also, folks tend to use names such as .htpasswd for password
# files, so this will protect those as well.
#
<Files ~ "^\.ht">
    Order allow,deny
    Deny from all
</Files>

#
# CacheNegotiatedDocs: By default, Apache sends "Pragma: no-cache" with each
# document that was negotiated on the basis of content. This asks proxy
# servers not to cache the document. Uncommenting the following line 
disables
# this behavior, and proxies will be allowed to cache the documents.
#
#CacheNegotiatedDocs

#
# UseCanonicalName:  (new for 1.3)  With this setting turned on, whenever
# Apache needs to construct a self-referencing URL (a URL that refers back
# to the server the response is coming from) it will use ServerName and
# Port to form a "canonical" name.  With this setting off, Apache will
# use the hostname:port that the client supplied, when possible.  This
# also affects SERVER_NAME and SERVER_PORT in CGI scripts.
#
UseCanonicalName On

#
# TypesConfig describes where the mime.types file (or equivalent) is
# to be found.
#
<IfModule mod_mime.c>
    TypesConfig conf/mime.types
</IfModule>

#
# DefaultType is the default MIME type the server will use for a document
# if it cannot otherwise determine one, such as from filename extensions.
# If your server contains mostly text or HTML documents, "text/plain" is
# a good value.  If most of your content is binary, such as applications
# or images, you may want to use "application/octet-stream" instead to
# keep browsers from trying to display binary files as though they are
# text.
#
DefaultType text/plain

#
# The mod_mime_magic module allows the server to use various hints from the
# contents of the file itself to determine its type.  The MIMEMagicFile
# directive tells the module where the hint definitions are located.
# mod_mime_magic is not part of the default server (you have to add
# it yourself with a LoadModule [see the DSO paragraph in the 'Global
# Environment' section], or recompile the server and include mod_mime_magic
# as part of the configuration), so it's enclosed in an <IfModule> 
container.
# This means that the MIMEMagicFile directive will only be processed if the
# module is part of the server.
#
<IfModule mod_mime_magic.c>
    MIMEMagicFile conf/magic
</IfModule>

#
# HostnameLookups: Log the names of clients or just their IP addresses
# e.g., www.apache.org (on) or 204.62.129.132 (off).
# The default is off because it'd be overall better for the net if people
# had to knowingly turn this feature on, since enabling it means that
# each client request will result in AT LEAST one lookup request to the
# nameserver.
#
HostnameLookups Off

#
# ErrorLog: The location of the error log file.
# If you do not specify an ErrorLog directive within a <VirtualHost>
# container, error messages relating to that virtual host will be
# logged here.  If you *do* define an error logfile for a <VirtualHost>
# container, that host's errors will be logged there and not here.
#
ErrorLog logs/error.log

#
# LogLevel: Control the number of messages logged to the error.log.
# Possible values include: debug, info, notice, warn, error, crit,
# alert, emerg.
#
LogLevel warn

#
# The following directives define some format nicknames for use with
# a CustomLog directive (see below).
#
LogFormat "%h %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\"" 
combined
LogFormat "%h %l %u %t \"%r\" %>s %b" common
LogFormat "%{Referer}i -> %U" referer
LogFormat "%{User-agent}i" agent

#
# The location and format of the access logfile (Common Logfile Format).
# If you do not define any access logfiles within a <VirtualHost>
# container, they will be logged here.  Contrariwise, if you *do*
# define per-<VirtualHost> access logfiles, transactions will be
# logged therein and *not* in this file.
#
CustomLog logs/access.log common

#
# If you would like to have agent and referer logfiles, uncomment the
# following directives.
#
#CustomLog logs/referer.log referer
#CustomLog logs/agent.log agent

#
# If you prefer a single logfile with access, agent, and referer information
# (Combined Logfile Format) you can use the following directive.
#
#CustomLog logs/access.log combined

#
# Optionally add a line containing the server version and virtual host
# name to server-generated pages (error documents, FTP directory listings,
# mod_status and mod_info output etc., but not CGI generated documents).
# Set to "EMail" to also include a mailto: link to the ServerAdmin.
# Set to one of:  On | Off | EMail
#
ServerSignature On

#
# Apache parses all CGI scripts for the shebang line by default.
# This comment line, the first line of the script, consists of the symbols
# pound (#) and exclamation (!) followed by the path of the program that
# can execute this specific script.  For a perl script, with perl.exe in
# the C:\Program Files\Perl directory, the shebang line should be:

   #!c:/program files/perl/perl

# Note you _must_not_ indent the actual shebang line, and it must be the
# first line of the file.  Of course, CGI processing must be enabled by
# the appropriate ScriptAlias or Options ExecCGI directives for the files
# or directory in question.
#
# However, Apache on Windows allows either the Unix behavior above, or can
# use the Registry to match files by extention.  The command to execute
# a file of this type is retrieved from the registry by the same method as
# the Windows Explorer would use to handle double-clicking on a file.
# These script actions can be configured from the Windows Explorer View 
menu,
# 'Folder Options', and reviewing the 'File Types' tab.  Clicking the Edit
# button allows you to modify the Actions, of which Apache 1.3 attempts to
# perform the 'Open' Action, and failing that it will try the shebang line.
# This behavior is subject to change in Apache release 2.0.
#
# Each mechanism has it's own specific security weaknesses, from the means
# to run a program you didn't intend the website owner to invoke, and the
# best method is a matter of great debate.
#
# To enable the this Windows specific behavior (and therefore -disable- the
# equivilant Unix behavior), uncomment the following directive:
#
#ScriptInterpreterSource registry
#
# The directive above can be placed in individual <Directory> blocks or the
# .htaccess file, with either the 'registry' (Windows behavior) or 'script'
# (Unix behavior) option, and will override this server default option.
#

#
# Aliases: Add here as many aliases as you need (with no limit). The format 
is
# Alias fakename realname
#
<IfModule mod_alias.c>

    #
    # Note that if you include a trailing / on fakename then the server will
    # require it to be present in the URL.  So "/icons" isn't aliased in 
this
    # example, only "/icons/"..
    #
    Alias /icons/ "C:/Program Files/nusphere/apache/icons/"
    Alias /jdbc_doc/ "C:/Program Files/nusphere/mm_mysql_jdbc/doc/mm.doc/"
    Alias /sendmaildoc/ "C:/Program Files/nusphere/sendmail/doc/"
    Alias /nshtml/ "C:/Program Files/nusphere/html/"
    Alias /apachedoc/ "C:/Program Files/nusphere/apache/htdocs/manual/"
    Alias /phpdoc/ "C:/Program Files/nusphere/apache/php/doc/"
    Alias /mysqldoc/ "C:/Program Files/nusphere/mysql/bychapter/"
    Alias /perldoc/ "C:/Program Files/nusphere/perl/html/"
    Alias /ssldoc/ "C:/Program Files/nusphere/apache/modssl/pkg.ssldoc/"

    <Directory "C:/Program Files/nusphere/apache/icons">
        Options Indexes MultiViews
        AllowOverride None
        Order allow,deny
        Allow from all
    </Directory>

    #
    # ScriptAlias: This controls which directories contain server scripts.
    # ScriptAliases are essentially the same as Aliases, except that
    # documents in the realname directory are treated as applications and
    # run by the server when requested rather than as documents sent to the 
client.
    # The same rules about trailing "/" apply to ScriptAlias directives as 
to
    # Alias.
    #
    ScriptAlias /cgi-bin/ "C:/Program Files/nusphere/apache/cgi-bin/"

    #
    # "C:/Program Files/nusphere/apache/cgi-bin" should be changed to 
whatever your ScriptAliased
    # CGI directory exists, if you have that configured.
    #
    <Directory "C:/Program Files/nusphere/apache/cgi-bin">
        AllowOverride None
        Options None
        Order allow,deny
        Allow from all
    </Directory>

    <Directory "C:/Program Files/nusphere/apache/nsdocs/python">
	AddHandler python-program .py
	PythonHandler mptest
	PythonDebug on
    </Directory>

</IfModule>
# End of aliases.

#
# Redirect allows you to tell clients about documents which used to exist in
# your server's namespace, but do not anymore. This allows you to tell the
# clients where to look for the relocated document.
# Format: Redirect old-URI new-URL
#

#
# Directives controlling the display of server-generated directory listings.
#
<IfModule mod_autoindex.c>

    #
    # FancyIndexing is whether you want fancy directory indexing or standard
    #
    IndexOptions FancyIndexing

    #
    # AddIcon* directives tell the server which icon to show for different
    # files or filename extensions.  These are only displayed for
    # FancyIndexed directories.
    #
    AddIconByEncoding (CMP,/icons/compressed.gif) x-compress x-gzip

    AddIconByType (TXT,/icons/text.gif) text/*
    AddIconByType (IMG,/icons/image2.gif) image/*
    AddIconByType (SND,/icons/sound2.gif) audio/*
    AddIconByType (VID,/icons/movie.gif) video/*

    AddIcon /icons/binary.gif .bin .exe
    AddIcon /icons/binhex.gif .hqx
    AddIcon /icons/tar.gif .tar
    AddIcon /icons/world2.gif .wrl .wrl.gz .vrml .vrm .iv
    AddIcon /icons/compressed.gif .Z .z .tgz .gz .zip
    AddIcon /icons/a.gif .ps .ai .eps
    AddIcon /icons/layout.gif .html .shtml .htm .pdf
    AddIcon /icons/text.gif .txt
    AddIcon /icons/c.gif .c
    AddIcon /icons/p.gif .pl .py
    AddIcon /icons/f.gif .for
    AddIcon /icons/dvi.gif .dvi
    AddIcon /icons/uuencoded.gif .uu
    AddIcon /icons/script.gif .conf .sh .shar .csh .ksh .tcl
    AddIcon /icons/tex.gif .tex
    AddIcon /icons/bomb.gif core

    AddIcon /icons/back.gif ..
    AddIcon /icons/hand.right.gif README
    AddIcon /icons/folder.gif ^^DIRECTORY^^
    AddIcon /icons/blank.gif ^^BLANKICON^^

    #
    # DefaultIcon is which icon to show for files which do not have an icon
    # explicitly set.
    #
    DefaultIcon /icons/unknown.gif

    #
    # AddDescription allows you to place a short description after a file in
    # server-generated indexes.  These are only displayed for FancyIndexed
    # directories.
    # Format: AddDescription "description" filename
    #
    #AddDescription "GZIP compressed document" .gz
    #AddDescription "tar archive" .tar
    #AddDescription "GZIP compressed tar archive" .tgz

    #
    # ReadmeName is the name of the README file the server will look for by
    # default, and append to directory listings.
    #
    # HeaderName is the name of a file which should be prepended to
    # directory indexes.
    #
    # If MultiViews are amongst the Options in effect, the server will
    # first look for name.html and include it if found.  If name.html
    # doesn't exist, the server will then look for name.txt and include
    # it as plaintext if found.
    #
    ReadmeName README
    HeaderName HEADER

    #
    # IndexIgnore is a set of filenames which directory indexing should 
ignore
    # and not include in the listing.  Shell-style wildcarding is permitted.
    #
    IndexIgnore .??* *~ *# HEADER* README* RCS CVS *,v *,t

</IfModule>
# End of indexing directives.

#
# Document types.
#
<IfModule mod_mime.c>

    #
    # AddEncoding allows you to have certain browsers (Mosaic/X 2.1+) 
uncompress
    # information on the fly. Note: Not all browsers support this.
    # Despite the name similarity, the following Add* directives have 
nothing
    # to do with the FancyIndexing customization directives above.
    #
    AddEncoding x-compress Z
    AddEncoding x-gzip gz tgz
    #
    # AddLanguage allows you to specify the language of a document. You can
    # then use content negotiation to give a browser a file in a language
    # it can understand.
    #
    # Note 1: The suffix does not have to be the same as the language
    # keyword --- those with documents in Polish (whose net-standard
    # language code is pl) may wish to use "AddLanguage pl .po" to
    # avoid the ambiguity with the common suffix for perl scripts.
    #
    # Note 2: The example entries below illustrate that in quite
    # some cases the two character 'Language' abbriviation is not
    # identical to the two character 'Country' code for its country,
    # E.g. 'Danmark/dk' versus 'Danish/da'.
    #
    # Note 3: In the case of 'ltz' we violate the RFC by using a three char
    # specifier. But there is 'work in progress' to fix this and get
    # the reference data for rfc1766 cleaned up.
    #
    # Danish (da) - Dutch (nl) - English (en) - Estonian (ee)
    # French (fr) - German (de) - Greek-Modern (el)
    # Italian (it) - Korean (kr) - Norwegian (no)
    # Portugese (pt) - Luxembourgeois* (ltz)
    # Spanish (es) - Swedish (sv) - Catalan (ca) - Czech(cz)
    # Polish (pl) - Brazilian Portuguese (pt-br) - Japanese (ja)
    # Russian (ru)
    #
    AddLanguage da .dk
    AddLanguage nl .nl
    AddLanguage en .en
    AddLanguage et .ee
    AddLanguage fr .fr
    AddLanguage de .de
    AddLanguage el .el
    AddLanguage he .he
    AddCharset ISO-8859-8 .iso8859-8
    AddLanguage it .it
    AddLanguage ja .ja
    AddCharset ISO-2022-JP .jis
    AddLanguage kr .kr
    AddCharset ISO-2022-KR .iso-kr
    AddLanguage no .no
    AddLanguage pl .po
    AddCharset ISO-8859-2 .iso-pl
    AddLanguage pt .pt
    AddLanguage pt-br .pt-br
    AddLanguage ltz .lu
    AddLanguage ca .ca
    AddLanguage es .es
    AddLanguage sv .se
    AddLanguage cz .cz
    AddLanguage ru .ru
    AddLanguage tw .tw
    AddCharset Big5         .Big5    .big5
    AddCharset WINDOWS-1251 .cp-1251
    AddCharset CP866        .cp866
    AddCharset ISO-8859-5   .iso-ru
    AddCharset KOI8-R       .koi8-r
    AddCharset UCS-2        .ucs2
    AddCharset UCS-4        .ucs4
    AddCharset UTF-8        .utf8

    # LanguagePriority allows you to give precedence to some languages
    # in case of a tie during content negotiation.
    #
    # Just list the languages in decreasing order of preference. We have
    # more or less alphabetized them here. You probably want to change this.
    #
    <IfModule mod_negotiation.c>
        LanguagePriority en da nl et fr de el it ja kr no pl pt pt-br ru ltz 
ca es sv tw
    </IfModule>

    #
    # AddType allows you to tweak mime.types without actually editing it, or 
to
    # make certain files to be certain types.
    #
    # For example, the PHP 3.x module (not part of the Apache distribution - 
see
    # http://www.php.net) will typically use:
    #
    #AddType application/x-httpd-php3 .php3
    #AddType application/x-httpd-php3-source .phps
    #
    # And for PHP 4.x, use:
    #
    #AddType application/x-httpd-php .php
    #AddType application/x-httpd-php-source .phps

    AddType application/x-tar .tgz

    #
    # AddHandler allows you to map certain file extensions to "handlers",
    # actions unrelated to filetype. These can be either built into the 
server
    # or added with the Action command (see below)
    #
    # If you want to use server side includes, or CGI outside
    # ScriptAliased directories, uncomment the following lines.
    #
    # To use CGI scripts:
    #
    #AddHandler cgi-script .cgi

    #
    # To use server-parsed HTML files
    #
AddType text/html .shtml
AddHandler server-parsed .shtml
    #
    # Uncomment the following line to enable Apache's send-asis HTTP file
    # feature
    #
    #AddHandler send-as-is asis

    #
    # If you wish to use server-parsed imagemap files, use
    #
    #AddHandler imap-file map

    #
    # To enable type maps, you might want to use
    #
    #AddHandler type-map var

</IfModule>
# End of document types.

#
# Action lets you define media types that will execute a script whenever
# a matching file is called. This eliminates the need for repeated URL
# pathnames for oft-used CGI file processors.
# Format: Action media/type /cgi-script/location
# Format: Action handler-name /cgi-script/location
#

#
# MetaDir: specifies the name of the directory in which Apache can find
# meta information files. These files contain additional HTTP headers
# to include when sending the document
#
#MetaDir .web

#
# MetaSuffix: specifies the file name suffix for the file containing the
# meta information.
#
#MetaSuffix .meta

#
# Customizable error response (Apache style)
#  these come in three flavors
#
#    1) plain text
#ErrorDocument 500 "The server made a boo boo.
#  n.b.  the single leading (") marks it as text, it does not get output
#
#    2) local redirects
#ErrorDocument 404 /missing.html
#  to redirect to local URL /missing.html
#ErrorDocument 404 /cgi-bin/missing_handler.pl
#  N.B.: You can redirect to a script or a document using 
server-side-includes.
#
#    3) external redirects
#ErrorDocument 402 http://some.other_server.com/subscription_info.html
#  N.B.: Many of the environment variables associated with the original
#  request will *not* be available to such a script.

#
# Customize behaviour based on the browser
#
<IfModule mod_setenvif.c>

    #
    # The following directives modify normal HTTP response behavior.
    # The first directive disables keepalive for Netscape 2.x and browsers 
that
    # spoof it. There are known problems with these browser implementations.
    # The second directive is for Microsoft Internet Explorer 4.0b2
    # which has a broken HTTP/1.1 implementation and does not properly
    # support keepalive when it is used on 301 or 302 (redirect) responses.
    #
    BrowserMatch "Mozilla/2" nokeepalive
    BrowserMatch "MSIE 4\.0b2;" nokeepalive downgrade-1.0 force-response-1.0

    #
    # The following directive disables HTTP/1.1 responses to browsers which
    # are in violation of the HTTP/1.0 spec by not being able to grok a
    # basic 1.1 response.
    #
    BrowserMatch "RealPlayer 4\.0" force-response-1.0
    BrowserMatch "Java/1\.0" force-response-1.0
    BrowserMatch "JDK/1\.0" force-response-1.0

</IfModule>
# End of browser customization directives

#
# Allow server status reports, with the URL of 
http://servername/server-status
# Change the ".your_domain.com" to match your domain to enable.
#
#<Location /server-status>
#    SetHandler server-status
#    Order deny,allow
#    Deny from all
#    Allow from .your_domain.com
#</Location>

#
# Allow remote server configuration reports, with the URL of
# http://servername/server-info (requires that mod_info.c be loaded).
# Change the ".your_domain.com" to match your domain to enable.
#
#<Location /server-info>
#    SetHandler server-info
#    Order deny,allow
#    Deny from all
#    Allow from .your_domain.com
#</Location>

#
# There have been reports of people trying to abuse an old bug from pre-1.1
# days.  This bug involved a CGI script distributed as a part of Apache.
# By uncommenting these lines you can redirect these attacks to a logging
# script on phf.apache.org.  Or, you can record them yourself, using the 
script
# support/phf_abuse_log.cgi.
#
#<Location /cgi-bin/phf*>
#    Deny from all
#    ErrorDocument 403 http://phf.apache.org/phf_abuse_log.cgi
#</Location>

#
# Proxy Server directives. Uncomment the following lines to
# enable the proxy server:
#
#<IfModule mod_proxy.c>
#    ProxyRequests On

#    <Directory proxy:*>
#        Order deny,allow
#        Deny from all
#        Allow from .your_domain.com
#    </Directory>

    #
    # Enable/disable the handling of HTTP/1.1 "Via:" headers.
    # ("Full" adds the server version; "Block" removes all outgoing Via: 
headers)
    # Set to one of: Off | On | Full | Block
    #
#    ProxyVia On

    #
    # To enable the cache as well, edit and uncomment the following lines:
    # (no cacheing without CacheRoot)
    #
#    CacheRoot "C:/Program Files/nusphere/apache/proxy"
#    CacheSize 5
#    CacheGcInterval 4
#    CacheMaxExpire 24
#    CacheLastModifiedFactor 0.1
#    CacheDefaultExpire 1
#    NoCache a_domain.com another_domain.edu joes.garage_sale.com

#</IfModule>
# End of proxy directives.

### Section 3: Virtual Hosts
#
# VirtualHost: If you want to maintain multiple domains/hostnames on your
# machine you can setup VirtualHost containers for them. Most configurations
# use only name-based virtual hosts so the server doesn't need to worry 
about
# IP addresses. This is indicated by the asterisks in the directives below.
#
# Please see the documentation at <URL:http://www.apache.org/docs/vhosts/>
# for further details before you try to setup virtual hosts.
#
# You may use the command line option '-S' to verify your virtual host
# configuration.

#
# Use name-based virtual hosting.
#
#NameVirtualHost *

#
# VirtualHost example:
# Almost any Apache directive may go into a VirtualHost container.
# The first VirtualHost section is used for requests without a known
# server name.
#
#<VirtualHost *>
#    ServerAdmin webmaster@dummy-host.example.com
#    DocumentRoot /www/docs/dummy-host.example.com
#    ServerName dummy-host.example.com
#    ErrorLog logs/dummy-host.example.com-error_log
#    CustomLog logs/dummy-host.example.com-access_log common
#</VirtualHost>

## BEGIN SSL CONFIG
#<IfDefine SSL>
#Listen 99999
Listen 9443
LoadModule ssl_module modules/mod_ssl.so
SSLMutex sem
SSLRandomSeed startup builtin
SSLSessionCache none
SSLLog logs/SSL.log
SSLLogLevel warn
<VirtualHost _default_:99999>
SSLEngine On
SSLCertificateFile conf/ssl.crt/server.crt
SSLCertificateKeyFile conf/ssl.key/server.key
SSLCipherSuite ALL:!ADH:!EXP56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP:+eNULL
SetEnvIf User-Agent ".*MSIE.*" nokeepalive ssl-unclean-shutdown 
downgrade-1.0 force-response-1.0
#SSLProtocol all -SSLv3
</VirtualHost>
#</IfDefine>
## END SSL CONFIG



# BEGIN MOD_PERL CONFIG
LoadModule perl_module modules/mod_perl.so
ScriptAlias /perl-bin/ "perl-bin/"
PerlSendHeader On
<Location /perl-bin>
SetHandler perl-script
PerlHandler Apache::Registry
Options ExecCGI
</Location>
# END MOD_PERL CONFIG

# VirtualHost for the NuSphere Admin WebSite
<VirtualHost _default_:9000> # Admin WebSite standard port
   DocumentRoot "C:/Program Files/nusphere/apache/nsdocs"
   ScriptAlias /cgi-bin/ "C:/Program Files/nusphere/apache/nscgi-bin/"
   # VHost-specific mod_perl directive
   ScriptAlias /perl-bin/ "nsperl-bin/"
   <Directory "C:/Program Files/nusphere/apache/nsdocs">
      Options Indexes FollowSymLinks MultiViews +Includes
   </Directory>
   <Directory "C:/Program Files/nusphere/apache/nscgi-bin">
      AllowOverride None
      Options None
      Order allow,deny
      Allow from all
   </Directory>
   CustomLog logs/nsaccess.log common
   ErrorLog logs/nserror.log
</VirtualHost>

# VirtualHost for the NuSphere SSL Admin WebSite
#<IfDefine SSL>
<VirtualHost _default_:9443> # Admin WebSite SSL port
   SSLEngine On
   SSLLog logs/NSSSL.log
   SSLCertificateFile conf/ssl.crt/server.crt
   SSLCertificateKeyFile conf/ssl.key/server.key
   SSLCipherSuite 
ALL:!ADH:!EXP56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP:+eNULL
   SetEnvIf User-Agent ".*MSIE.*" nokeepalive ssl-unclean-shutdown 
downgrade-1.0 force-response-1.0
   #SSLProtocol all -SSLv3
   DocumentRoot "C:/Program Files/nusphere/apache/nsdocs"
   ScriptAlias /cgi-bin/ "C:/Program Files/nusphere/apache/nscgi-bin/"
   # VHost-specific mod_perl directive
   ScriptAlias /perl-bin/ "nsperl-bin/"
   <Directory "C:/Program Files/nusphere/apache/nsdocs">
      Options Indexes FollowSymLinks MultiViews +Includes
   </Directory>
   <Directory "C:/Program Files/nusphere/apache/nscgi-bin">
      AllowOverride None
      Options None
      Order allow,deny
      Allow from all
   </Directory>
   CustomLog logs/nsaccess.log common
   ErrorLog logs/nserror.log
</VirtualHost>
#</IfDefine>
## BEGIN PHP CONFIG
ScriptAlias /php3/ "C:/Program Files/nusphere/apache/php/"
ScriptAlias /php/ "C:/Program Files/nusphere/apache/php/"
AddType application/x-httpd-php3 .phtml
AddType application/x-httpd-php3 .php3
AddType application/x-httpd-php3 .php
AddType application/x-httpd-php3 .inc
AddType application/x-httpd-php3-source .phps
Action application/x-httpd-php3 /php/php.exe
## END PHP CONFIG

_________________________________________________________________
Get your FREE download of MSN Explorer at http://explorer.msn.com/intl.asp


From keegan at millerwebsiteservices.com  Mon Sep  3 01:36:40 2001
From: keegan at millerwebsiteservices.com (Keegan Miller)
Date: Fri Jan  9 21:52:33 2004
Subject: [mod_python] Environment variables created by Apache not in os.environ
Message-ID: <DGELIKPIDBLOIDHJPHAGCECACEAA.keegan@millerwebsiteservices.com>

I'm working on a system which was working with Python as a CGI handler.
After switching to mod_python, most of it works.  But the site depends on
some environment variables which are extracted from the URL by Apache's
mod_rewrite module.  For some reason, these environment variables aren't
loaded into os.environ.

Does anyone know how I can access these variables?

When this module was running as a CGI script, the env vars were there.  Now,
system vars like OS are there, but the ones created by mod_rewrite are not.

I'm running Apache 1.3.20, Python 2.1, and mod_python 2.7.4 on Windows 2000.

Thanks.
Keegan Miller

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010903/ad49203e/attachment-0001.htm
From piet at cs.uu.nl  Mon Sep  3 16:38:01 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:52:33 2004
Subject: [mod_python] Problem Installing
In-Reply-To: "Kristy Christie"'s message of "Mon, 03 Sep 2001 08:16:35 +0000"
References: <F85HaZVrDs9aAOPpBpc00000a57@hotmail.com>
Message-ID: <20010903143801.F3DA24518@mail.cs.uu.nl>

>>>>> "Kristy Christie" <linkangels@hotmail.com> (KC) writes:

KC> Hi.
KC> I installed mod_python on Windows 98 by placing the dll file into apache
KC> modules folder and adjusting the httpd.conf file as directed in the manual.
KC> When I try to open mptest.py (http://localhost:9000/python/mptest.py), I
KC> get an internal server error. Below is my httpd.conf file and the my Apache
KC> 1.3 server log.

KC> It's really important that I get Apache to be able to open python files.
KC> Can somebody please help me? Please!

You must also install the python files (mod_python subdirectory from the
distribution tar archive) into your Python directory.
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From geert at boskant.nl  Tue Sep  4 16:48:44 2001
From: geert at boskant.nl (Geert Jansen)
Date: Fri Jan  9 21:52:33 2004
Subject: [mod_python] Patch to Server object
Message-ID: <POEGJAKPNOCGNJMONMFKCEDFCCAA.geert@boskant.nl>

Good day,

First of all: mod_python is great! I've been using it a couple of months now
to develop an (yet another, yes I know:) ASP like environment for Apache,
and I really like it.

But now I stumbled on a problem. I'm having difficulty implementing a global
"Application_OnStart" event. The event should be executed by my ASP
environment before the first request is served, but, only _once_ for the
whole server, _not_ one time per child. This event is very handy for
initializing application wide (database backed) variables so I'd really like
to provide it...

I could not find a way to satisfactorily implement this with the current
mod_python. To solve the problem I wrote a small patch to servermodule.c
that adds two member variables:  "my_generation" and "restart_time".
"my_generation" is the current generation of the child (the number of
restarts), and "restart_time" is the time of the last (re)start.

Using these variables I am able to implement the "Application_Onstart"
event:
I keep the last restart time in an application global variable. At child
startup, I look at this value. If it is not equal to the current restart
time, I raise "Application_OnStart" and update the restart time (with the
necessary locking of course).

The patch is attached. Could this be applied? I think this could suit other
developers too.

Thanks for your time!

Greetings,
Geert Jansen
--
long long email=0X78DC806B91FCA334,i=0,j; main(){j=(email>>4*i)&15;
putchar(j+j/2+j/5-j/12+(j<13?97:-65+7*j));i/15?exit(0):++i,main();}
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mod_python-restart.diff
Type: application/octet-stream
Size: 1041 bytes
Desc: not available
Url : http://mailman.modpython.org/pipermail/mod_python/attachments/20010904/49e62fbc/mod_python-restart-0001.obj
From irinka at mail.ru  Sat Sep  1 05:18:07 2001
From: irinka at mail.ru (Irinka)
Date: Fri Jan  9 21:52:34 2004
Subject: [mod_python] =?windows-1251?B?z+7h++Lg6SDt4A==?=
Message-ID: <000b01c13283$f5618c80$6f40a1c3@igor>

????? ??  http://444.devil.ru
????? ????? ????????? ? ???????????

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010901/c597920d/attachment-0001.htm
From kevin_lee at iprimus.com.au  Fri Sep  7 21:18:01 2001
From: kevin_lee at iprimus.com.au (Kevin LEE)
Date: Fri Jan  9 21:52:34 2004
Subject: [mod_python] Problem adding mod_python into apache
Message-ID: <3B98ACE9.ED88C768@iprimus.com.au>

Hi list:

        I have the following errors when I statically compile
mod_python-2.7.6 into apache_1.3.20:

gcc  -I/usr/local/mod_python-2.7.6/src/include
-I/usr/local/apache_1.3.20/src/include
-I/usr/local/apache_1.3.20/src/os/unix -I/usr/local/src/Python-2.1.1
-I/usr/local/src/Python-2.1.1/Include -c mod_python.c
In file included from /usr/local/apache_1.3.20/src/include/httpd.h:72,
                 from
/usr/local/mod_python-2.7.6/src/include/mod_python.h:63,
                 from mod_python.c:54:
/usr/local/apache_1.3.20/src/include/ap_config.h:77: ap_config_auto.h:
No such file or directory
*** Error code 1

Stop in /usr/local/mod_python-2.7.6/src.
*** Error code 1

Stop in /usr/local/mod_python-2.7.6.

        The following show step to configure mod_python:

cd /usrr/local/mod_python-2.7.6
./configure  --with-apache=.../apache_1.3.20
--with-python=/usr/local/src/Python-2.1.1

make static

Any idea ??? I am really stucked ....

Cheers.
Kevin


From oio_oiuu_ww_ll at yandex.ru  Sat Sep  8 13:38:09 2001
From: oio_oiuu_ww_ll at yandex.ru (MailBase)
Date: Fri Jan  9 21:52:34 2004
Subject: [mod_python] =?windows-1251?Q?=C1=E0=E7=FB_=E4=E0=ED=ED=FB=F5_=EF=F0=E5=E4=EF=F0=E8=FF=F2=E8=E9_=E4=EB=FF_=EA=EE=ED=F2=E0=EA=F2=EE=E2_=EF=EE_=FD=EB=E5=EA=F2=F0=EE=ED=ED=EE=E9_=EF=EE=F7=F2=E5?=
Message-ID: <1609520019689389369@yandex.ru>

????????????!

? ???? ??????:
- ???? ?????? ??????????? ??? ????????? ?? ??????????? ?????;
- ????????? ??? ?????????????? ???????? ??????????? ?????;
- ???? ?????? ?????????? ???????????.

????? ?????????? ?????? ? ? ???????????? ????????? ???????? ????????????
??????? ?????? ??????????? ?????-???? ??????????, ??? ?????? ?????, ???
??????? ??? ?? ??????????? ?????. ???? ???? ?????? ??? ????????? ??
??????????? ????? ????????????? ?????????? ??? ???? ?????.

?????? ???????????? ????????? ? ???????? ??????????? ????????, ????????
????????? ??? spam. ?????? ?? ???????, ??? ?????? ??????? ? ???, ??? ?????,
?????? ?? ???? ???????????? ???? ??????????? (? ?????? ???????????, ? ??
??????? ???!) ???? ????????????? ???? ????????????, ????????? ?? ???
??????????????? ??????????? ?????????? ??????, ??????? ?????????????
??????? ????? ?? ??????????????. ????? ???????? ????? ???????????? ??
?????? ??? ????????? ?????. ????????, ??? ????? ?????? ?????????
????????????? ??????, ????????????? ??? ???????????? ???????????? ???????
???????????. ????????? 500, ? ?? ? 1000 ???? - ???????, ?????????
????????????? ???????. ? ???? ??????? ???????? ? ??????????????? ????????
?? ?????? ?????? ???????????, ????? ?????? ???????? ?????? ?????????? ??
????????????? ???????.

?????????? ??? ??? ????????? ??? ????????? ?? ??????????? ?????:

???????? "??????????? ??????" - 38000 ??????????? (??? ? ????????????
????????);
???????? "??????????? ???" - 30000 ??????????? (??? ? ???????????? ????????)

?????? ???????? ???????? ? ????:
- ??????????????? ???? ?????? ??? ????????? ?? ??????????? ?????; 
- ????????? GroupMail ??? ?????????????? ???????? ??????????? ?????. 

???? ?????? "38000 ??????????? ??????". ????? ???????????? ?????? (e-mail
??????? ? ?????? ???????????) ?? ?????? ???????? ????????????: 
- ????????, 
- ??? ????????????, 
- ????????, 
- ????, 
- ???????? ?????, 
- ????? ?????. 
???? ????????? ? ???? ??????????? ??????? Excel, ??? ????????? ???????? ?
??? ???????????? ? ????? ??????? ?????? ??????????, ? ???? ???????????
?????????? ????? ?? ?????? ?? ??????????, ????????, ?? ???? ????????????. ?
???? ????? ??? ????????, ??????? ???? ????????? ???? e-mail ? ?????????
??????-???????????? ?? ??????. ????????? ? ?????????????? ??????? ???
?????????: 15%. ?????????? ???? ?????????? ?????? ???????. ???? ?
?????????? ??????????????? ?? ???????-????? ??? ?????????? ???????????
??????.
????????? ?????? ???? ? ????????? ? ?????????? GroupMail (??. ????) - $300.
????????? ?????????? $60. ????? ?????? ?????. ?????? ? ??????? ???????????
?? ????? mailbase@post.com.

???? ?????? "30000 ??????????? ???". ????? ???????????? ?????? (e-mail
??????? ? ?????? ???????????) ?? ?????? ???????? ????????????:
- ????????, 
- ????? ?????????????, 
- ????????, 
- ????, 
- ???????? ?????, 
- ????? ?????, 
- ?.?.?. ? ????????? ???????????? (!), 
- ??????????? ?????, 
- ?????? ???????????? ??????? ? ?????. 
???? ????????? ? ???? ??????????? ??????? Excel, ??? ????????? ???????? ?
??? ???????????? ? ????? ??????? ?????? ??????????. ????????? ?
?????????????? ??????? ??? ?????????: 20%. ?????????? ???? ??????????
?????? ???????. ???? ? ?????????? ??????????????? ?? ???????-????? ???
?????????? ??????????? ??????.
????????? ?????? ???? ? ????????? ? ?????????? GroupMail (??. ????) - $200.
????????? ?????????? $40. ????? ?????? ?????. ?????? ? ??????? ???????????
?? ????? mailbase@post.com.

????????? "Group Mail" ????????????? ??? ????????????? ???????????
????????. ?? ????? ???????? "Group Mail" ?????????? ? ???????? ?????? ???
??????? ?????????? ? ???????????. ??? ???? ? ??????? (??? ? ????, ??? ? ?
???? ??????) ????? ?????????????? ??????????? ?????????? ?? ????????? ?????
????, ??????????????? ??????????? ??????. ??? ????????? ?????????? ?
??????? ?????????? ?? ????? ? ????????? ?? ???? ????? ???????? ???
?????????, ? ????? ????? ?????? ??????? ????????????????? ???? ????????.
????????, ???? ?????? ????? ???? ?????: "??????????? ??? ????????
(????????_????????)". "Group Mail" ????? ??????? ??????????? ?? ??????? ???
??????. ?? ?????? ????????????? ? ????????? ???? ????. ?? ????? ????
?????????????? ??????????. ???? ????? ?????????, ?????????, ?????????????.
?????? ? ????????? ????? ???????????? ??? ? ??????? txt, ??? ? html.
??????????? ??????????? ???????????? ?????? ?????? ???????. Group Mail
???????? ??? ??????? ?????-???? ?????? ???????? ?????????. ????????? "Group
Mail" ????????? ??????????? ? ?????? ?? ????????????? ??? ??????. ?? ??
????? ?????????? ? ???????? ??? ???????? ?? ????? ?????. ? ???? ??????
????????? ?? ?????????????? $25. ????? ?????? ?????. ?????????
??????????????? ?? ???????-????? ??? ?????????? ??????????? ??????. ??????
? ??????? ??????????? ?? ????? mailbase@post.com.

????????! ??? ????????????? ???????????? ????? ??? ?????? ???????????????
??????: $100!

????????? ??????????? ???????? ?? ?????? ??????. ?????? ? ???????
??????????? ?? ????? mailbase@post.com.

??????? ????? ????????????? ???? ?????? ?????????? ???????????:
"??????????? ??????/??????/??? ? ???????????? ????? ????? 50/500/1000
???????". ????????? ??? ??? ?????? ?? $100 ?? $300. ????? ?????? ?????.
???? ??????????????? ?? ??????? ????? ??? ?????????? ??????????? ??????.
?????? ? ??????? ??????????? ?? ????? mailbase@post.com.

???? ???????????? ???????????? ???????????. mailbase@post.com.


???????? MailBase,
E-mail: mailbase@post.com





From grisha at modpython.org  Sat Sep  8 19:20:55 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:52:34 2004
Subject: [mod_python] Environment variables created by Apache not in
 os.environ
In-Reply-To: <DGELIKPIDBLOIDHJPHAGCECACEAA.keegan@millerwebsiteservices.com>
Message-ID: <Pine.BSF.4.32.0109081912500.1368-100000@localhost>

The mod_python cgihandler fakes the environment - it's just a dictionary
built for every request that contains all the standard cgi variables. If
mod_rewrite tries to set real environment variables your will not see
them.

It's a small sacrifice I had to make because access to the real
environment leaked memory, which is a serious problem for mod_python since
it runs inside the Apache process.

The thing to do in your case is probably to do whatever it is that
mod_rewrite does inside your cgi script instead.

Grisha

On Mon, 3 Sep 2001, Keegan Miller wrote:

> I'm working on a system which was working with Python as a CGI handler.
> After switching to mod_python, most of it works.  But the site depends on
> some environment variables which are extracted from the URL by Apache's
> mod_rewrite module.  For some reason, these environment variables aren't
> loaded into os.environ.
>
> Does anyone know how I can access these variables?
>
> When this module was running as a CGI script, the env vars were there.  Now,
> system vars like OS are there, but the ones created by mod_rewrite are not.
>
> I'm running Apache 1.3.20, Python 2.1, and mod_python 2.7.4 on Windows 2000.
>
> Thanks.
> Keegan Miller
>
>


From massmail at lb.bcentral.com  Sun Sep  9 21:27:48 2001
From: massmail at lb.bcentral.com (Anonymouse)
Date: Fri Jan  9 21:52:34 2004
Subject: [mod_python] , , .
Message-ID: <1000070868.67491.qmail@ech>

                   !

	           ?   
   , , , .
  ,  .

	 -              , , ,   . .,   ,       ,    . 
	           ,    ,            .
	    . 
          ,     , ,      ,      .     International Rectifier, Epcos, Bourns, Metex, unit-t  .
          -  , -, , , ,   ..
          ,   ,  ,      , ,    ..
          -         - .
	
         ,   ,       :
		     vielm.narod.ru

           .
         ,      ,                .
            ,      :  (095)  275-89-94,    : tandiv@mail.ru .
           ,    ,    ,     ,    .

             : 275-89-94, 746-68-78.


_______________________________________________________________________
Powered by List Builder
To unsubscribe follow the link:
http://lb.bcentral.com/ex/manage/subscriberprefs?customerid=15131&subid=2F0199A84845956A&msgnum=1

From rusgarden at zensearch.net  Mon Sep 10 01:48:05 2001
From: rusgarden at zensearch.net ( " ")
Date: Fri Jan  9 21:52:34 2004
Subject: [mod_python]    
Message-ID: <20010910004805.05C5E5248@orinoco.portland.co.uk>

???????????? ?????? ?????????????!

???? ???????? ???????? ??????????? ? ? ?????????? ????? ????????? ?????? ?? ????? ???????.

???????? "??????? ???" ???????????????? ?? ?????????? ? ??????????????? ??????????. 
???????? ? ???? ??????? ? ????????, ?? ????????? ?????????? ????????? ??????????? 
?? ????? ???? ? ???????? ??????? ?? ??????????? ????????????.

?? ?????????? ????????? ???? ?????, ? ??? ????? ?? ???????:

- ??????
- ????? ????????
- ??????????
- ??????
- ???????
- ??????? ???????
- ????????????? ???????
- ??????? ????????

????? ?? ???????? ??????????? ??????????????, ??????? ???????????, ?????????? ???????????? 
????????????? ??????? ?? ????? ?????? ??????????.

??? ???? ??????? ???????? ?????????? ???????????? ?? ????????????? ??????????? ???? ????????.

???????? "??????? ???" ???????? ???????????? ????????? ?? ?????, ???????????? ?????????????? 
? ??????????? ?????? ? ????? ??????? ??????, ??? ????, ?? ??????? ????????? ?????.

???????? "??????? ???" ?????? ????? ?? ???? ??? ????????? ??????????? ?????????? ????? ????????? 
? ???????.

?? ?????????? ??? ???????? ??? ???? http://rusgarden.ru/  ??? ?? ?????? ???????????? ? 
????????????? ????????, ??????? ?????-?????? ? ????????? ??????????? ?????, ? ????? 
"??????????? ? "????????????" ???????????.


? ????????? ? ???.
???????? "??????? ???"


From nineclue at bigfoot.com  Mon Sep 10 17:12:11 2001
From: nineclue at bigfoot.com (nineclue@bigfoot.com)
Date: Fri Jan  9 21:52:34 2004
Subject: [mod_python] Congratulations for 3.0 alpha...
Message-ID: <Pine.LNX.4.10.10109101657470.24150-100000@mrham.hamslab.com>

I didn't knew that 3.0 alpha was released until I visited modpython.org
today.

Congratulations and thanks for your great effort, Grisha.

By the way, I'm wondering what's new in this release except for
supporting only apache 2.0. (I didn't installed LaTex so I can't see
documentation, sorry) :(

Suhku Huh



From grisha at modpython.org  Mon Sep 10 08:41:27 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:52:34 2004
Subject: [mod_python] Congratulations for 3.0 alpha...
In-Reply-To: <Pine.LNX.4.10.10109101657470.24150-100000@mrham.hamslab.com>
Message-ID: <Pine.BSF.4.32.0109100839330.23146-100000@localhost>


On Mon, 10 Sep 2001 nineclue@bigfoot.com wrote:

> By the way, I'm wondering what's new in this release except for
> supporting only apache 2.0. (I didn't installed LaTex so I can't see
> documentation, sorry) :(

The documentation hasn't been updated, so don't bother with LaTex. :-)

New in this release is 2.0 support, which in itself is a big deal since
Apache 2.0 is very different from 1.3 internally. The only one additional
feature is support for Apache 2.0 input and output filters.

Grisha


From gdamjan at mail.net.mk  Mon Sep 10 19:01:51 2001
From: gdamjan at mail.net.mk (Damjan)
Date: Fri Jan  9 21:52:34 2004
Subject: [mod_python] Congratulations for 3.0 alpha...
In-Reply-To: <Pine.BSF.4.32.0109100839330.23146-100000@localhost>; from grisha@modpython.org on Mon, Sep 10, 2001 at 08:41:27AM -0400
References: <Pine.LNX.4.10.10109101657470.24150-100000@mrham.hamslab.com> <Pine.BSF.4.32.0109100839330.23146-100000@localhost>
Message-ID: <20010910190151.A5913@legolas.on.net.mk>

> New in this release is 2.0 support, which in itself is a big deal since
> Apache 2.0 is very different from 1.3 internally. The only one additional
> feature is support for Apache 2.0 input and output filters.

Is mod_python 3.0 Apache-2.0 specific or it will also work with 
Apache 1.3?

Is there a chance that mod_python 3.0 will make improvements in Apache
handler registration? Till now mod_python could only register 1 (one)
handler per directory. It would be nice if it could register
diferent handlers per file extension.




-- 
Damjan Georgievski		|           ?????? ???????????
Skopje, Macedonia		|           ??????, ??????????

From grisha at modpython.org  Mon Sep 10 13:11:02 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:52:34 2004
Subject: [mod_python] Congratulations for 3.0 alpha...
In-Reply-To: <20010910190151.A5913@legolas.on.net.mk>
Message-ID: <Pine.BSF.4.32.0109101309210.25971-100000@localhost>


On Mon, 10 Sep 2001, Damjan wrote:

> Is mod_python 3.0 Apache-2.0 specific or it will also work with
> Apache 1.3?

Apache 2.0 only. Having it work with both will mean an #ifdef nightmare in
the C code.

> Is there a chance that mod_python 3.0 will make improvements in Apache
> handler registration? Till now mod_python could only register 1 (one)
> handler per directory. It would be nice if it could register
> diferent handlers per file extension.

I'll add this to the TODO list...

Grisha


From BKoos at milcomtech.com  Mon Sep 10 22:27:55 2001
From: BKoos at milcomtech.com (Billy Koos)
Date: Fri Jan  9 21:52:34 2004
Subject: [mod_python] compilation for apache 1.3.20 under cygwin
Message-ID: <8D1CBB5B5B9AF0498335A43CF97E385D4D35DC@ntexchg.milcomtech.com>

I'm trying to compile mod_python for apache 1.3.20 running under cygwin.
./configure seems to work correctly but when I try make I get the following:

$ make
make[1]: Entering directory `/usr/local/src/mod_python-2.7.6/src'

Compiling for DSO. For static, do "make static"

/usr/local/apache/bin/apxs -I/usr/local/src/mod_python-2.7.6/src/include
-I/usr/
local/src/apache_1.3.20/src/include
-I/usr/local/src/apache_1.3.20/src/os/unix -
I/usr/include/python2.1 -c mod_python.o _apachemodule.o requestobject.o
tableobj
ect.o util.o serverobject.o connobject.o  -lm
/usr/lib/python2.1/config/libpyth
on2.1.a      -lm
dllwrap --export-all --output-def libhttpd.def --implib libhttpd.a
--driver-name
 gcc -g -o mod_python.so mod_python.o _apachemodule.o requestobject.o
tableobjec
t.o util.o serverobject.o connobject.o -lm
/usr/lib/python2.1/config/libpython2.
1.a -lm
dllwrap: no export definition file provided
dllwrap: creating one, but that may not be what you want
dlltool: Unable to open object file:
/usr/lib/python2.1/config/libpython2.1.a
dllwrap: dlltool exited with status 1
apxs:Break: Command failed with rc=1
make[1]: *** [mod_python.so] Error 1
make[1]: Leaving directory `/usr/local/src/mod_python-2.7.6/src'
make: *** [do_dso] Error 2

Any thoughts?


William (Billy) M. Koos, Jr., P. E.

email:		bkoos@milcomtech.com or billy@koostech.com
phone:		(407) 260-0564 or (407) 659-0443
fax:		(407) 260-6227

Chief Technical Officer
MILCOM Technologies
www.milcomtech.com

Founder
Koos Technical Services, Inc.
www.koostech.com

Maitland Promenade
485 North Keller Road, Suite 140
Maitland, FL  32751


From philip at p6m7g8.com  Thu Sep 13 06:29:20 2001
From: philip at p6m7g8.com (Philip M. Gollucci)
Date: Fri Jan  9 21:52:34 2004
Subject: [mod_python] Test fails -- HELP !!
Message-ID: <20010913060256.P68181-100000@p6m7g8.student.umd.edu>

I'm pretty new to python, but have had lots of similiar experience with
mod_perl/PERL and apache.  I am a very good System Admin.
I've install Python and mod_python via the documentation bundled with each.
I tried the prog senario given here,
 http://drunken.student.umd.edu/manual-mod_python/inst-testing.html
but I get a strange error message (SEE BELOW)

Thanks for all you help in advance.

uname -a
    FreeBSD drunken.student.umd.edu 4.3-RELEASE FreeBSD 4.3-RELEASE #0: Sat Sep
    8 07:09:39 EST 2001
    root@drunken.student.umd.edu:/usr/src/sys/compile/DRUNKEN i386

python -V
    Python 2.2a3
    ./configure --prefix=/usr/home/src/python --without-threads

mod_python compile:
    mod_python/2.7.6
    ./configure --with-apxs=/usr/home/src/apache/apxs
    make dso
    su
    make install

apachectl configtest:
    orginally, I got the warning:
[Thu Sep 13 06:26:37 2001] [warn] Loaded DSO libexec/mod_python.so uses plain
Apache 1.3 API, this module might crash under EAPI! (please recompile it with
-DEAPI)
    but I added -DEAPI to CFLAGS in mod_python-2.7.6/src/Makefile
    reran
    make dso
    su
    make install

    and it dissappeared.


./httpd -X
    no warnings/errors

apache banner:
    Apache/1.3.20 (Unix) mod_ssl/2.8.4 OpenSSL/0.9.6b
    mod_python/2.7.6 Python/2.2a3 mod_perl/1.26

httpd -V
    Server version: Apache/1.3.20 (Unix)
    Server built:   Sep  9 2001 05:14:30
    Server's Module Magic Number: 19990320:10
    Server compiled with....
     -D EAPI
     -D EAPI_MM
     -D EAPI_MM_CORE_PATH="logs/httpd.mm"
     -D HAVE_MMAP
     -D USE_MMAP_SCOREBOARD
     -D USE_MMAP_FILES
     -D USE_FLOCK_SERIALIZED_ACCEPT
     -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT
     -D HTTPD_ROOT="/usr/home/src/apache"
     -D SUEXEC_BIN="/usr/home/src/apache/bin/suexec"
     -D DEFAULT_PIDLOG="logs/httpd.pid"
     -D DEFAULT_SCOREBOARD="logs/httpd.scoreboard"
     -D DEFAULT_LOCKFILE="logs/httpd.lock"
     -D DEFAULT_XFERLOG="logs/access_log"
     -D DEFAULT_ERRORLOG="logs/error_log"
     -D TYPES_CONFIG_FILE="conf/mime.types"
     -D SERVER_CONFIG_FILE="conf/httpd.conf"
     -D ACCESS_CONFIG_FILE="conf/access.conf"
     -D RESOURCE_CONFIG_FILE="conf/srm.conf"

httpd.conf snippets:
    LoadModule python_module      libexec/mod_python.so
    AddModule mod_python.c
    ### MOD PYTHOD ###
    Alias /python/ /usr/home/src/apache/python
    <Location /python>
        AddHandler python-program .py
        PythonHandler mptest
        PythonDebug On
    </Location>
    ### END MOD PYTHOD

/usr/home/src/apache/python/mptest.py:
    from mod_python import apache

    def handler(req):
        req.send_http_header()
        req.write("Hello World!")
        return apache.OK


Webpage Error message:
    Mod_python error: "PythonHandler mptest"

    Traceback (most recent call last):

    File "/usr/home/src/python/lib/python2.2/site-packages/mod_python/apache.py",
    line 181, in Dispatch module = import_module(module_name, _req)

    File "/usr/home/src/python/lib/python2.2/site-packages/mod_python/apache.py",
    line 335, in import_module f, p, d = imp.find_module(parts[i], path)

    ImportError: No module named mptest

Apache Error Log Message:
    [Thu Sep 13 05:25:34 2001] [error] PythonHandler mptest: Traceback (most
    recent call last):
    [Thu Sep 13 05:25:35 2001] [error] PythonHandler mptest:   File
    "/usr/home/src/python/lib/python2.2/site-packages/mod_python/apache.py",
    line 181, in Dispatch
    module = import_module(module_name, _req)
    [Thu Sep 13 05:25:35 2001] [error] PythonHandler mptest:   File
    "/usr/home/src/python/lib/python2.2/site-packages/mod_python/apache.py",
    line 335, in import_module
    f, p, d = imp.find_module(parts[i], path)
    [Thu Sep 13 05:25:35 2001] [error] PythonHandler mptest: ImportError: No module
    named mptest


Thanks again,

Philip


------------------------------------------------------------------------------
Philip M. Gollucci (p6m7g8) philip@p6m7g8.com 301.314.3118

Science, Discovery, & the Universe (UMCP)
        Webmaster & Webship Teacher
        URL: http://www.sdu.umd.edu

EJPress.com
        Database/PERL Programmer & System Admin
        URL : http://www.ejournalpress.com

Resume      : http://www.p6m7g8.com/resume-20010910_192426.txt





From grisha at modpython.org  Thu Sep 13 10:34:21 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:52:34 2004
Subject: [mod_python] Test fails -- HELP !!
In-Reply-To: <20010913060256.P68181-100000@p6m7g8.student.umd.edu>
Message-ID: <Pine.BSF.4.32.0109131026210.75527-100000@localhost>

If you're using <Location>, you will need to manually make sure that
the directory where the module is is in your pythonpath. Try this instead:

Alias /python/ /usr/home/src/apache/python
<Directory /usr/home/src/apache/python>
   AddHandler python-program .py
   PythonHandler mptest
   PythonDebug On
</Directory>


On Thu, 13 Sep 2001, Philip M. Gollucci wrote:

> I'm pretty new to python, but have had lots of similiar experience with
> mod_perl/PERL and apache.  I am a very good System Admin.
> I've install Python and mod_python via the documentation bundled with each.
> I tried the prog senario given here,
>  http://drunken.student.umd.edu/manual-mod_python/inst-testing.html
> but I get a strange error message (SEE BELOW)
>
> Thanks for all you help in advance.
>
> uname -a
>     FreeBSD drunken.student.umd.edu 4.3-RELEASE FreeBSD 4.3-RELEASE #0: Sat Sep
>     8 07:09:39 EST 2001
>     root@drunken.student.umd.edu:/usr/src/sys/compile/DRUNKEN i386
>
> python -V
>     Python 2.2a3
>     ./configure --prefix=/usr/home/src/python --without-threads
>
> mod_python compile:
>     mod_python/2.7.6
>     ./configure --with-apxs=/usr/home/src/apache/apxs
>     make dso
>     su
>     make install
>
> apachectl configtest:
>     orginally, I got the warning:
> [Thu Sep 13 06:26:37 2001] [warn] Loaded DSO libexec/mod_python.so uses plain
> Apache 1.3 API, this module might crash under EAPI! (please recompile it with
> -DEAPI)
>     but I added -DEAPI to CFLAGS in mod_python-2.7.6/src/Makefile
>     reran
>     make dso
>     su
>     make install
>
>     and it dissappeared.
>
>
> ./httpd -X
>     no warnings/errors
>
> apache banner:
>     Apache/1.3.20 (Unix) mod_ssl/2.8.4 OpenSSL/0.9.6b
>     mod_python/2.7.6 Python/2.2a3 mod_perl/1.26
>
> httpd -V
>     Server version: Apache/1.3.20 (Unix)
>     Server built:   Sep  9 2001 05:14:30
>     Server's Module Magic Number: 19990320:10
>     Server compiled with....
>      -D EAPI
>      -D EAPI_MM
>      -D EAPI_MM_CORE_PATH="logs/httpd.mm"
>      -D HAVE_MMAP
>      -D USE_MMAP_SCOREBOARD
>      -D USE_MMAP_FILES
>      -D USE_FLOCK_SERIALIZED_ACCEPT
>      -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT
>      -D HTTPD_ROOT="/usr/home/src/apache"
>      -D SUEXEC_BIN="/usr/home/src/apache/bin/suexec"
>      -D DEFAULT_PIDLOG="logs/httpd.pid"
>      -D DEFAULT_SCOREBOARD="logs/httpd.scoreboard"
>      -D DEFAULT_LOCKFILE="logs/httpd.lock"
>      -D DEFAULT_XFERLOG="logs/access_log"
>      -D DEFAULT_ERRORLOG="logs/error_log"
>      -D TYPES_CONFIG_FILE="conf/mime.types"
>      -D SERVER_CONFIG_FILE="conf/httpd.conf"
>      -D ACCESS_CONFIG_FILE="conf/access.conf"
>      -D RESOURCE_CONFIG_FILE="conf/srm.conf"
>
> httpd.conf snippets:
>     LoadModule python_module      libexec/mod_python.so
>     AddModule mod_python.c
>     ### MOD PYTHOD ###
>     Alias /python/ /usr/home/src/apache/python
>     <Location /python>
>         AddHandler python-program .py
>         PythonHandler mptest
>         PythonDebug On
>     </Location>
>     ### END MOD PYTHOD
>
> /usr/home/src/apache/python/mptest.py:
>     from mod_python import apache
>
>     def handler(req):
>         req.send_http_header()
>         req.write("Hello World!")
>         return apache.OK
>
>
> Webpage Error message:
>     Mod_python error: "PythonHandler mptest"
>
>     Traceback (most recent call last):
>
>     File "/usr/home/src/python/lib/python2.2/site-packages/mod_python/apache.py",
>     line 181, in Dispatch module = import_module(module_name, _req)
>
>     File "/usr/home/src/python/lib/python2.2/site-packages/mod_python/apache.py",
>     line 335, in import_module f, p, d = imp.find_module(parts[i], path)
>
>     ImportError: No module named mptest
>
> Apache Error Log Message:
>     [Thu Sep 13 05:25:34 2001] [error] PythonHandler mptest: Traceback (most
>     recent call last):
>     [Thu Sep 13 05:25:35 2001] [error] PythonHandler mptest:   File
>     "/usr/home/src/python/lib/python2.2/site-packages/mod_python/apache.py",
>     line 181, in Dispatch
>     module = import_module(module_name, _req)
>     [Thu Sep 13 05:25:35 2001] [error] PythonHandler mptest:   File
>     "/usr/home/src/python/lib/python2.2/site-packages/mod_python/apache.py",
>     line 335, in import_module
>     f, p, d = imp.find_module(parts[i], path)
>     [Thu Sep 13 05:25:35 2001] [error] PythonHandler mptest: ImportError: No module
>     named mptest
>
>
> Thanks again,
>
> Philip
>
>
> ------------------------------------------------------------------------------
> Philip M. Gollucci (p6m7g8) philip@p6m7g8.com 301.314.3118
>
> Science, Discovery, & the Universe (UMCP)
>         Webmaster & Webship Teacher
>         URL: http://www.sdu.umd.edu
>
> EJPress.com
>         Database/PERL Programmer & System Admin
>         URL : http://www.ejournalpress.com
>
> Resume      : http://www.p6m7g8.com/resume-20010910_192426.txt
>
>
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>



From guinan at bluebutton.com  Mon Sep 17 01:34:12 2001
From: guinan at bluebutton.com (Jamie Guinan)
Date: Fri Jan  9 21:52:34 2004
Subject: [mod_python] mod_python.publisher buglet [ + patch ]
Message-ID: <Pine.LNX.4.33.0109170115340.14699-100000@gemini.home.net>

Hi,

I am just starting to look at mod_python (2.7.6), and I tried
using mod_python.publisher.  Works nicely at first glance,
but I found a small bug.

httpd.conf:

<Directory /var/www/html/pytest>
  AddHandler python-program .py
  PythonHandler mod_python.publisher
</Directory>

Now load
  http://localhost:81/pytest/index.py/

Note the trailing "/", publisher.py does not check if PATH_INFO
is empty after the / and I see a Python error in my browser,

  Mod_python error: "PythonHandler mod_python.publisher"

  Traceback (innermost last):

  File "/usr/lib/python1.5/site-packages/mod_python/apache.py", line
  189, in Dispatch
  result = object(self.req)

  File "/usr/lib/python1.5/site-packages/mod_python/publisher.py", line
  93, in handler
  if func_path[-1] == ".":

  IndexError: string index out of range


Quickie patch (and bonus typo fix):

--cut below--
--- publisher.py.ori	Mon Sep 17 01:21:34 2001
+++ publisher.py	Mon Sep 17 01:33:03 2001
@@ -82,8 +82,13 @@
     # get the path PATH_INFO (everthing after script)
     if not _req.subprocess_env.has_key("PATH_INFO"):
         raise apache.SERVER_RETURN, apache.HTTP_NOT_FOUND
-
-    func_path = _req.subprocess_env["PATH_INFO"][1:] # skip fist /
+
+    func_path = _req.subprocess_env["PATH_INFO"][1:] # skip first /
+
+    # Check for empty func_path.
+    if not func_path:
+        raise apache.SERVER_RETURN, apache.HTTP_NOT_FOUND
+
     func_path = string.replace(func_path, "/", ".")
     if func_path[-1] == ".":
         func_path = func_path[:-1]
--cut above--

Cheers,
-Jamie


From justuser at hotbox.ru  Mon Sep 17 14:37:01 2001
From: justuser at hotbox.ru (Oleg_atl)
Date: Fri Jan  9 21:52:34 2004
Subject: [mod_python]  .
Message-ID: <1000737421.27109.qmail@ech>

     .
         ,    
      ,      . 
 ,    . 
   ,       .

                                                                 ,     .


_______________________________________________________________________
Powered by List Builder
To unsubscribe follow the link:
http://lb.bcentral.com/ex/manage/subscriberprefs?customerid=15216&subid=2DA99AC7B15666AE&msgnum=1

From harm at millionmonkeys.nl  Tue Sep 18 00:11:40 2001
From: harm at millionmonkeys.nl (harm@millionmonkeys.nl)
Date: Fri Jan  9 21:52:34 2004
Subject: [mod_python] inithandler?
Message-ID: <20010918001139.A11306@godel>

Moi,

first of all thanks for mod_python. I come from an (mod_)perl world and the
python version definitely is the easier one to use (There are tons of traps
you have to watch out for under mod_perl).

Anyway. My tiny question.

Why is there no init handler? It would run the moment the python
interpreter gets loaded/intiated by the freshly forked apache. It would be a 
nice place to initialise some site global modules.

Sure, I could do a:
if not mypersistentvar:
   mypersistentvar = Some.Nice.Object()

but an InitHandler does look like cleaner to me.

Any better way to arrange initialisation than the above method?

Thanks,
Harmen

-- 
                                                         The Moon is New

From grisha at modpython.org  Mon Sep 17 22:59:18 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:52:34 2004
Subject: [mod_python] inithandler?
In-Reply-To: <20010918001139.A11306@godel>
Message-ID: <Pine.BSF.4.32.0109172255040.66786-100000@localhost>

There is a PythonImport, which essentially does this. It has some severe
limitations.

The thing is that mod_python will create separate subinterpreters for
separate virtual servers (or optionally directories), but the only
opportunity to learn this information is during request procesing.

At Apache startup time you can't tell what the subinterpreters will be.
You have an option of manually giving interpreters names and making sure
that PythonImport executes under a specific name, but it's just kind of
messy....

I understand what the problem is, but  can't think of a clean solution to
it.

Grisha


On Tue, 18 Sep 2001 harm@millionmonkeys.nl wrote:

> Moi,
>
> first of all thanks for mod_python. I come from an (mod_)perl world and the
> python version definitely is the easier one to use (There are tons of traps
> you have to watch out for under mod_perl).
>
> Anyway. My tiny question.
>
> Why is there no init handler? It would run the moment the python
> interpreter gets loaded/intiated by the freshly forked apache. It would be a
> nice place to initialise some site global modules.
>
> Sure, I could do a:
> if not mypersistentvar:
>    mypersistentvar = Some.Nice.Object()
>
> but an InitHandler does look like cleaner to me.
>
> Any better way to arrange initialisation than the above method?
>
> Thanks,
> Harmen
>
> --
>                                                          The Moon is New
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From geert at boskant.nl  Tue Sep 18 10:15:11 2001
From: geert at boskant.nl (Geert Jansen)
Date: Fri Jan  9 21:52:34 2004
Subject: [mod_python] inithandler?
In-Reply-To: <20010918001139.A11306@godel>
Message-ID: <POEGJAKPNOCGNJMONMFKKEFDCCAA.geert@boskant.nl>

You wrote:

> Anyway. My tiny question.
>
> Why is there no init handler? It would run the moment the python
> interpreter gets loaded/intiated by the freshly forked apache. It
> would be a
> nice place to initialise some site global modules.
>
> Sure, I could do a:
> if not mypersistentvar:
>    mypersistentvar = Some.Nice.Object()

I'm afraid this is currently the only way. I use the technique too, and I
don't think it is unacceptably ugly :) And it works very well.

I am curious how mod_perl implements this init handler. I bet it runs it at
request time, setting a flag init_done when it has been called.

Recently I had problems implementing a "once for _all_ childs" initialiser
function, but that's another issue. See the recent mailing list archive if
you're interested.

Greetings,
Geert


From harm at millionmonkeys.nl  Tue Sep 18 14:16:19 2001
From: harm at millionmonkeys.nl (harm)
Date: Fri Jan  9 21:52:34 2004
Subject: [mod_python] inithandler?
In-Reply-To: <Pine.BSF.4.32.0109172255040.66786-100000@localhost>; from grisha@modpython.org on Mon, Sep 17, 2001 at 10:59:18PM -0400
References: <20010918001139.A11306@godel> <Pine.BSF.4.32.0109172255040.66786-100000@localhost>
Message-ID: <20010918141619.F11306@godel>

On Mon, Sep 17, 2001 at 10:59:18PM -0400, Gregory (Grisha) Trubetskoy wrote:
> 
> There is a PythonImport, which essentially does this. It has some severe
> limitations.
> 
> The thing is that mod_python will create separate subinterpreters for
> separate virtual servers (or optionally directories), but the only
> opportunity to learn this information is during request procesing.
> 
> At Apache startup time you can't tell what the subinterpreters will be.

But you do know it the moment the subinterpreters are actually created, 
don`t you? So mod_python could call some handlers the moment it creates 
an fresh interpreter.

Ohwell, as mentioned, it in not _that_ important. Thanks for your reply!

Greetings,
Harmen


> You have an option of manually giving interpreters names and making sure
> that PythonImport executes under a specific name, but it's just kind of
> messy....
> 
> I understand what the problem is, but  can't think of a clean solution to
> it.
> 
> Grisha
> 
> > Moi,
> >
> > first of all thanks for mod_python. I come from an (mod_)perl world and the
> > python version definitely is the easier one to use (There are tons of traps
> > you have to watch out for under mod_perl).
> >
> > Anyway. My tiny question.
> >
> > Why is there no init handler? It would run the moment the python
> > interpreter gets loaded/intiated by the freshly forked apache. It would be a
> > nice place to initialise some site global modules.
> >
> > Sure, I could do a:
> > if not mypersistentvar:
> >    mypersistentvar = Some.Nice.Object()
> >
> > but an InitHandler does look like cleaner to me.
> >
> > Any better way to arrange initialisation than the above method?
> >
> > Thanks,
> > Harmen
> >

-- 
                                The Moon is Waxing Crescent (2% of Full)

From sjh at wibble.net  Wed Sep 19 17:13:33 2001
From: sjh at wibble.net (Steven Hanley)
Date: Fri Jan  9 21:52:34 2004
Subject: [mod_python] installation config to allow different programs
Message-ID: <20010919171332.A5721@shiva.marian>

All

I am not on the list so could any replies also be cc'd to me.

Reading the documentation it suggests doing something like 

<IfModule mod_python.c>
  Alias /python/ /some/where/
  <Location /python>
    AddHandler python-program .py
    PythonHandler someprog     
  </Location>
</IfModule>  

which will cause the handler method in someprog to be run whenever any
random.py program is accessed at http://servername/python/random.py.

I am wondering why there is no handler distributed with mod python to simply
allow something more like.

<IfModule mod_python.c>
  Alias /python/ /some/where/
  <Location /python>
    SetHandler python-program
    PythonHandler mod_python.run      
  </Location>
</IfModule>  

Where any file in /python can be accessed and run with mod_python. I know
there is the publisher module but that is not what I am thinking of.

More if we have a 

program named "first" which contains python code such as 

from mod_python import apache

def handler(req):                          
    req.send_http_header()
    req.write("Hello World!")
    return apache.OK

and another program named "second" with the code

from mod_python import apache

def handler(req):                          
    req.send_http_header()
    req.write("Goodbye World!")
    return apache.OK

and an access to 

http://servername/python/first gives the Hello World program
an access to 
http://servername/python/second gives the Goodby World program

Also notice the programs dont have any .py extension.

So I was unable to work out a way to configure mod_python to handle this sort
of case. Can someone please help.

It seems in the documentation we jump straight from explicit reference to a
single program.py to using something like publisher.

I saw someone say they had tried to do this and it wasnt working on this
mailing list

http://www.modpython.org/pipermail/mod_python/2001-August/001606.html

but he then came back and said it was working two posts later without any
explanation of how.

I see the same behavior, it just sends the source code of the pythong program
back to the browser.

       See You
           Steve

-- 
sjh@wibble.net http://wibble.net/~sjh
Look Up In The Sky
    Is it a bird?   No
        Is it a plane    No
            Is it a small blue banana?
Yes

From francoislepoutre at compuserve.com  Tue Sep 18 11:52:02 2001
From: francoislepoutre at compuserve.com (=?iso-8859-1?Q?Fran=E7ois_Lepoutre?=)
Date: Fri Jan  9 21:52:34 2004
Subject: [mod_python] threading issue on win2k
Message-ID: <01c1402f$f2dd1420$0d54d3d4@csi.compuserve.com>

Hi all,

Just a few words to say that i discovered python and mod_python a few months ago.

Developping with these tools has been one of my greatest programming 
pleasure (the previous was smalltalk a century ago...).

However I have a nasty pb to solve which seems to be windows-specific and 
related to windows threading.

The configuration:
- W2000 server,
- python 2.1 + mxodbc,
- apache 1.3.20
- mod_python 2.7.4 for 2.1

Under heavy loads, the the code sequence that load odbc information
from the db engine (ASA by sybase) seems to break because of
thread concurrency.

The apache just breaks with log message:
"c:\python21\lib\mod_python\apache.py", line 193, in Dispatch
 result=object(req)
IOError: Write failed, client closed connexion

When putting apache "ThreadPerChild" to 1 instead of 2 to 50,
the pb vanishes... and performance as well. (:

I'd like to know whether the pb is:
- apache related (is apache 2/win a potential cure?)
- python-related (can we improve our scripts with thread-caring code?)
- modpython-related (should we try to tweak apache.py?)

I know next to nothing to low-level os issues threads except that they
tend to get in the way of interperters like python...

Thanks in advance for any piece of advice.

Fran?ois



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010918/5ec094da/attachment-0001.htm
From vielmos at yahoo.com  Thu Sep 20 12:53:08 2001
From: vielmos at yahoo.com ( .)
Date: Fri Jan  9 21:52:34 2004
Subject: [mod_python]        
Message-ID: <1000990388.40354.qmail@ech>

                    !

        -         :  ,  (   ),    (    ).
     
         ,       : www.viel.f2s.com 

               ,    ,            .
     ,     , ,      ,      .     International Rectifier, Epcos, Bourns, Metex, unit-t  .
      :       .         .
    
       : , -2,-3, POST-MIX  .        ,  ,    .. 

     :  /  /  .
     
    :       ,,   .

              :     !!!(D  25  1000.)
   
          ,  ,       ,                .
            ,     : (095) 275-89-94,    :  vielmos@yahoo.com 
     
             ,    ,    ,     ,    .

          . : (095) 275-89-94, 746-68-78.


_______________________________________________________________________
Powered by List Builder
To unsubscribe follow the link:
http://lb.bcentral.com/ex/manage/subscriberprefs?customerid=15203&subid=3256B486083969DA&msgnum=1

From wart at softhome.net  Thu Sep 20 18:58:39 2001
From: wart at softhome.net (Wartan Hachaturow)
Date: Fri Jan  9 21:52:34 2004
Subject: [mod_python] Another call for open-source "real world" modpython apps..
Message-ID: <20010920185839.A21515@penguin.aktivist.ru>

Hi.

Do anyone here know of any mod_python open-source applications? I mean
the ones I could use as examples, or base my code on them..
The ones that I've seen (maki, PyWM) lack the features I need -- sessions,
"users", persistent db connections and all other "bells and whistles".
All tools that are intended to be used with mod_python (WebWare, weblib)
are too poorly documented, and lack examples (again).

P.S. I know I can write this stuff by myself, but I'm a bit lazy -- and after
all, this is what open source is for :)

-- 
Regards, Wartan.
echo "Your stdio isn't very std." 
		-- Larry Wall in Configure from the perl distribution

From grisha at modpython.org  Tue Sep 18 08:54:04 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:52:34 2004
Subject: [mod_python] inithandler?
In-Reply-To: <20010918141619.F11306@godel>
Message-ID: <Pine.BSF.4.32.0109180852050.73886-100000@localhost>


On Tue, 18 Sep 2001, harm wrote:

> On Mon, Sep 17, 2001 at 10:59:18PM -0400, Gregory (Grisha) Trubetskoy wrote:
> >
> > There is a PythonImport, which essentially does this. It has some severe
> > limitations.
> >
> > The thing is that mod_python will create separate subinterpreters for
> > separate virtual servers (or optionally directories), but the only
> > opportunity to learn this information is during request procesing.
> >
> > At Apache startup time you can't tell what the subinterpreters will be.
>
> But you do know it the moment the subinterpreters are actually created,
> don`t you? So mod_python could call some handlers the moment it creates
> an fresh interpreter.

Subinterpreters are created during request processing - if one exists
already it is used, otherwise it is created. So it won't be any different
than using the Python import mechanism for one time initialization.

Grisha


From geert at boskant.nl  Wed Sep 19 13:35:50 2001
From: geert at boskant.nl (Geert Jansen)
Date: Fri Jan  9 21:52:34 2004
Subject: [mod_python] installation config to allow different programs
In-Reply-To: <20010919171332.A5721@shiva.marian>
Message-ID: <POEGJAKPNOCGNJMONMFKOEFHCCAA.geert@boskant.nl>

You wrote:

> I am wondering why there is no handler distributed with mod
> python to simply
> allow something more like.
>
> <IfModule mod_python.c>
>   Alias /python/ /some/where/
>   <Location /python>
>     SetHandler python-program
>     PythonHandler mod_python.run
>   </Location>
> </IfModule>

[snip]

> http://servername/python/first gives the Hello World program
> an access to
> http://servername/python/second gives the Goodby World program
>
> Also notice the programs dont have any .py extension.

mod_python doesn't contain a handler that can do this. But it's easy to
write such a handler yourself. You can get the python script name from
request.path_info(). Use this to load it with __import__() and use hasattr()
to check for a function named handler(). Then call the function.

Greetings,
Geert
--
long long email=0X78DC806B91FCA334,i=0,j; main(){j=(email>>4*i)&15;
putchar(j+j/2+j/5-j/12+(j<13?97:-65+7*j));i/15?exit(0):++i,main();}


From grisha at modpython.org  Wed Sep 19 09:16:12 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:52:35 2004
Subject: [mod_python] installation config to allow different programs
In-Reply-To: <20010919171332.A5721@shiva.marian>
Message-ID: <Pine.BSF.4.32.0109190912580.92366-100000@localhost>

I *think* you should be able to use SetHandler and /some/script/function
with the publisher handler. The actual file on the server should still be
called sctipt.py.

I don't know how explicit the documentation is about it, but mod_python
doesn't care about the ".py".

Grisha

On Wed, 19 Sep 2001, Steven Hanley wrote:

> All
>
> I am not on the list so could any replies also be cc'd to me.
>
> Reading the documentation it suggests doing something like
>
> <IfModule mod_python.c>
>   Alias /python/ /some/where/
>   <Location /python>
>     AddHandler python-program .py
>     PythonHandler someprog
>   </Location>
> </IfModule>
>
> which will cause the handler method in someprog to be run whenever any
> random.py program is accessed at http://servername/python/random.py.
>
> I am wondering why there is no handler distributed with mod python to simply
> allow something more like.
>
> <IfModule mod_python.c>
>   Alias /python/ /some/where/
>   <Location /python>
>     SetHandler python-program
>     PythonHandler mod_python.run
>   </Location>
> </IfModule>
>
> Where any file in /python can be accessed and run with mod_python. I know
> there is the publisher module but that is not what I am thinking of.
>
> More if we have a
>
> program named "first" which contains python code such as
>
> from mod_python import apache
>
> def handler(req):
>     req.send_http_header()
>     req.write("Hello World!")
>     return apache.OK
>
> and another program named "second" with the code
>
> from mod_python import apache
>
> def handler(req):
>     req.send_http_header()
>     req.write("Goodbye World!")
>     return apache.OK
>
> and an access to
>
> http://servername/python/first gives the Hello World program
> an access to
> http://servername/python/second gives the Goodby World program
>
> Also notice the programs dont have any .py extension.
>
> So I was unable to work out a way to configure mod_python to handle this sort
> of case. Can someone please help.
>
> It seems in the documentation we jump straight from explicit reference to a
> single program.py to using something like publisher.
>
> I saw someone say they had tried to do this and it wasnt working on this
> mailing list
>
> http://www.modpython.org/pipermail/mod_python/2001-August/001606.html
>
> but he then came back and said it was working two posts later without any
> explanation of how.
>
> I see the same behavior, it just sends the source code of the pythong program
> back to the browser.
>
>        See You
>            Steve
>
> --
> sjh@wibble.net http://wibble.net/~sjh
> Look Up In The Sky
>     Is it a bird?   No
>         Is it a plane    No
>             Is it a small blue banana?
> Yes
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From vielmos at yahoo.com  Thu Sep 20 18:19:24 2001
From: vielmos at yahoo.com ( .)
Date: Fri Jan  9 21:52:35 2004
Subject: [mod_python]        
Message-ID: <1001009964.88088.qmail@ech>

 kodirovra KOI-8R ili Kirilica(windows)
                
                !

  &#8220;-&#8221;         :  ,  (   ),    (    ).

           ,       : www.viel.f2s.com .

                 ,    ,            .
      
       ,     , ,      ,      .     International Rectifier, Epcos, Bourns, Metex, unit-t  .
       :       .         .

         : , -2,-3, POST-MIX  .        , &#8220;&#8221; ,    .. 
      
        :  /  /  .
       :       ,,   .

             ,  ,       ,                .
        
               ,     : (095) 275-89-94,    : vielmos@yahoo.com 

             ,    ,    ,     ,    .

          . : (095) 275-89-94, 746-68-78.



_______________________________________________________________________
Powered by List Builder
To unsubscribe follow the link:
http://lb.bcentral.com/ex/manage/subscriberprefs?customerid=15203&subid=D4E1506707A94BA2&msgnum=2

From grisha at modpython.org  Thu Sep 20 22:52:28 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:52:35 2004
Subject: [mod_python] threading issue on win2k
In-Reply-To: <01c1402f$f2dd1420$0d54d3d4@csi.compuserve.com>
Message-ID: <Pine.BSF.4.32.0109202244420.26247-100000@localhost>

The problem may be with the odbc driver.

I don't know about this particular one (sybase), but I know that some of
the very latest m$ access and sql server odbc drivers are still not thread
safe.

The link below seems to be confirming my theory:

http://groups.google.com/groups?hl=en&selm=397EE72C.3AC8E5DE%40ever.ever

Grisha

On Tue, 18 Sep 2001, [iso-8859-1] Fran?ois Lepoutre wrote:

> Hi all,
>
> Just a few words to say that i discovered python and mod_python a few months ago.
>
> Developping with these tools has been one of my greatest programming
> pleasure (the previous was smalltalk a century ago...).
>
> However I have a nasty pb to solve which seems to be windows-specific and
> related to windows threading.
>
> The configuration:
> - W2000 server,
> - python 2.1 + mxodbc,
> - apache 1.3.20
> - mod_python 2.7.4 for 2.1
>
> Under heavy loads, the the code sequence that load odbc information
> from the db engine (ASA by sybase) seems to break because of
> thread concurrency.
>
> The apache just breaks with log message:
> "c:\python21\lib\mod_python\apache.py", line 193, in Dispatch
>  result=object(req)
> IOError: Write failed, client closed connexion
>
> When putting apache "ThreadPerChild" to 1 instead of 2 to 50,
> the pb vanishes... and performance as well. (:
>
> I'd like to know whether the pb is:
> - apache related (is apache 2/win a potential cure?)
> - python-related (can we improve our scripts with thread-caring code?)
> - modpython-related (should we try to tweak apache.py?)
>
> I know next to nothing to low-level os issues threads except that they
> tend to get in the way of interperters like python...
>
> Thanks in advance for any piece of advice.
>
> Fran?ois
>
>
>
>


From francois.lepoutre at seriatim.com  Fri Sep 21 09:59:05 2001
From: francois.lepoutre at seriatim.com (Francois Lepoutre)
Date: Fri Jan  9 21:52:35 2004
Subject: [mod_python] threading issue on win2k
In-Reply-To: <Pine.BSF.4.32.0109202244420.26247-100000@localhost>
Message-ID: <FMENKHOEIEBLNLADJANEMECLCAAA.francois.lepoutre@seriatim.com>

Threading ... I am quite a newbie in this area.

I Tried quite a bit of "trial and errors" with both
the standard threading and mutex python libs
in our script (lock, mutex...) however.

The idea was to try ensure that the mxodbc code is run
in a protected environment where the sql code is run
in a round-robin way.

With no success. Any chance we can do that...

By the way i'd be glad to try the whole thing on
mod_python 3 on win32/apache2 when available.

In case of pb we will have to switch to a "closed"
*nix only-approach.

Thanks for mod_python. Great.
Simple and fast. No fuss.

That the way i like it with IT  :)

-----Message d'origine-----
De : grisha@modpython.org [mailto:grisha@modpython.org]
Envoye : 21/09/01 03:52
A : Fran?ois Lepoutre
Cc : mod_python@modpython.org
Objet : Re: [mod_python] threading issue on win2k


The problem may be with the odbc driver.

I don't know about this particular one (sybase), but I know that some of
the very latest m$ access and sql server odbc drivers are still not thread
safe.

The link below seems to be confirming my theory:

http://groups.google.com/groups?hl=en&selm=397EE72C.3AC8E5DE%40ever.ever

Grisha

On Tue, 18 Sep 2001, [iso-8859-1] Fran?ois Lepoutre wrote:

> Hi all,
>
> Just a few words to say that i discovered python and mod_python a few
months ago.
>
> Developping with these tools has been one of my greatest programming
> pleasure (the previous was smalltalk a century ago...).
>
> However I have a nasty pb to solve which seems to be windows-specific and
> related to windows threading.
>
> The configuration:
> - W2000 server,
> - python 2.1 + mxodbc,
> - apache 1.3.20
> - mod_python 2.7.4 for 2.1
>
> Under heavy loads, the the code sequence that load odbc information
> from the db engine (ASA by sybase) seems to break because of
> thread concurrency.
>
> The apache just breaks with log message:
> "c:\python21\lib\mod_python\apache.py", line 193, in Dispatch
>  result=object(req)
> IOError: Write failed, client closed connexion
>
> When putting apache "ThreadPerChild" to 1 instead of 2 to 50,
> the pb vanishes... and performance as well. (:
>
> I'd like to know whether the pb is:
> - apache related (is apache 2/win a potential cure?)
> - python-related (can we improve our scripts with thread-caring code?)
> - modpython-related (should we try to tweak apache.py?)
>
> I know next to nothing to low-level os issues threads except that they
> tend to get in the way of interperters like python...
>
> Thanks in advance for any piece of advice.
>
> Fran?ois
>
>
>
>


From laprice at efn.org  Fri Sep 21 09:50:29 2001
From: laprice at efn.org (larry a price)
Date: Fri Jan  9 21:52:35 2004
Subject: [mod_python] Another call for open-source "real world" modpython
 apps..
In-Reply-To: <20010920185839.A21515@penguin.aktivist.ru>
Message-ID: <Pine.GSU.4.21.0109210949040.23252-100000@garcia.efn.org>

try webware
http://webware.sourceforge.net
it's got that plus a fairly sane internal architecture and plumbing for
databases.

<html><head><title>html sig</title></head><body><div style="font:sans-serif;
font-size:72pt;line-height:84pt;color:blue1;"><ul><li>sexy is good</li><li>
linux is good</li><li>qed: linux is sexy</li></ul><hr><hr><hr><hr><hr><hr>
<a href="http://www.efn.org/~laprice">laprice at efn dot org</a></body></html>
On Thu, 20 Sep 2001, Wartan Hachaturow wrote:

> Hi.
> 
> Do anyone here know of any mod_python open-source applications? I mean
> the ones I could use as examples, or base my code on them..
> The ones that I've seen (maki, PyWM) lack the features I need -- sessions,
> "users", persistent db connections and all other "bells and whistles".
> All tools that are intended to be used with mod_python (WebWare, weblib)
> are too poorly documented, and lack examples (again).
> 
> P.S. I know I can write this stuff by myself, but I'm a bit lazy -- and after
> all, this is what open source is for :)
> 
> -- 
> Regards, Wartan.
> echo "Your stdio isn't very std." 
> 		-- Larry Wall in Configure from the perl distribution
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
> 


From forsberg at lysator.liu.se  Sat Sep 22 15:19:32 2001
From: forsberg at lysator.liu.se (Erik Forsberg)
Date: Fri Jan  9 21:52:35 2004
Subject: [mod_python] How do I use the PythonTypeHandler?
Message-ID: <87ofo3qs63.fsf@j218.ryd.student.liu.se>

Hi!

Just curious - how do I use the PythonTypeHandler?

If I just let it return apache.OK I get a 404 when I come to the
PythonHandler. Strange.

I've read the docs, but they're a bit unhelpful in this case.

\EF
-- 
Erik Forsberg                 http://www.lysator.liu.se/~forsberg/
GPG/PGP Key: 1024D/0BAC89D9 <forsberg@lysator.liu.se> 
Key Fingerprint: B308 87FC 566E 825A 5ABC  247C AC9B AB14 0BAC 89D9

From harm at millionmonkeys.nl  Mon Sep 24 23:16:30 2001
From: harm at millionmonkeys.nl (harm@millionmonkeys.nl)
Date: Fri Jan  9 21:52:35 2004
Subject: [mod_python] If-Modified-Since date parsing?
Message-ID: <20010924231630.X11306@godel>

Moi,

I`m making an little scale-this-image-on-the-fly handler. Works like
requesting /magicimages/chicken.gif?width=200&height=255 and you will get
an nicely scaled image. Piece of cake of course and uses a filecache to 
make things nice and speedy.

Now I would like to use the If-Modified-Since header, so I can return the 304
"Not modified" code. Makes requests go faster for everybody (No unnecesary
downloads). 
Is there any module out there to parse the date from this header in
something easier to work with? Example date:
Tue, 1 Jul 2002 11:11:11 GMT

Thanks,
Harmen

Ps: The handler needs to scale the usual web-images: gif, jpg and png. I am
currently using Pythonwares Image (PIM) library. Any better (smaller /
simpler / more mod_python friendly) suggestions?




-- 
                                The Moon is Waxing Gibbous (55% of Full)

From grisha at modpython.org  Mon Sep 24 17:37:32 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:52:35 2004
Subject: [mod_python] If-Modified-Since date parsing?
In-Reply-To: <20010924231630.X11306@godel>
Message-ID: <Pine.BSF.4.32.0109241735210.4343-100000@localhost>

Python 2.1 (#3, Jun 11 2001, 16:02:23)
[GCC 2.95.2 19991024 (release)] on freebsd4
Type "copyright", "credits" or "license" for more information.
>>> import rfc822
>>> rfc822.parsedate("Tue, 1 Jul 2002 11:11:11 GMT")
(2002, 7, 1, 11, 11, 11, 0, 0, 0)
>>>

HTH,

Grisha

On Mon, 24 Sep 2001 harm@millionmonkeys.nl wrote:

> Moi,
>
> I`m making an little scale-this-image-on-the-fly handler. Works like
> requesting /magicimages/chicken.gif?width=200&height=255 and you will get
> an nicely scaled image. Piece of cake of course and uses a filecache to
> make things nice and speedy.
>
> Now I would like to use the If-Modified-Since header, so I can return the 304
> "Not modified" code. Makes requests go faster for everybody (No unnecesary
> downloads).
> Is there any module out there to parse the date from this header in
> something easier to work with? Example date:
> Tue, 1 Jul 2002 11:11:11 GMT
>
> Thanks,
> Harmen
>
> Ps: The handler needs to scale the usual web-images: gif, jpg and png. I am
> currently using Pythonwares Image (PIM) library. Any better (smaller /
> simpler / more mod_python friendly) suggestions?
>
>
>
>
> --
>                                 The Moon is Waxing Gibbous (55% of Full)
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From donotsend at priceorg.com  Sat Sep 29 03:51:11 2001
From: donotsend at priceorg.com (donotsend@priceorg.com)
Date: Fri Jan  9 21:52:35 2004
Subject: [mod_python] Re: 
Message-ID: <200109290046.f8T0kND42162@eden.ispol.com>

???? ?? ????????????? ????? ??? ??????? ????,
??? ????? ????????? ???????? ?????????????
?????? http://www.tourfirm.com
??????? ? ????????????? ??????, ????????????
??????? ???????? ? ????? ???????, ? ????? ??????????????
? ???? ???????? ????????? ???????? ? ????:
1.      ???????? ????? 
2.      URL (???? ??????)
3.      ??????
4.      ?????? (???????, ???? ? ?.?.)
5.      ?????????? ????? (?????, ????????? ??????? ? ?.?.)
6.      ????? ? ?????????? ??????.
???? ??????????? ? ?????? ?? ?????????? ? ?????? ??? 
????????? ?? ?? ????????.
?????? ?????????? ?? tourism@tourfirm.com

From dsl45393 at vip.cybercity.dk  Sun Sep 30 23:42:00 2001
From: dsl45393 at vip.cybercity.dk (Ole Hansen)
Date: Fri Jan  9 21:52:35 2004
Subject: [mod_python] Apache reload problem
Message-ID: <200109302141.f8ULfaV82629@usr01.cybercity.dk>

Hi,

I have just joined this list, so this subject might have been covered before. 
However, the problem is that whenever I change something in my '.py'-file 
apache fails to reload the page. From error_log it seems like apache searches 
for a file with the extension '.p' instead of '.py' - so I modified 
mod_python/apache.py a little.
I replaced (filepath[:-1]) with (filepath[:]) in the following piece of code. 
line 356 and 359 in apache.py


<snip>
            # check also .py and take the newest
            if os.path.exists(filepath[:]) :

                # get the time of the .py file
                mod = os.stat(filepath[:])
                mtime = max(mtime, mod[stat.ST_MTIME])
<snip>

Apache hasn't complained ever since - but this is perhaps not a very good 
solution. Does anybody have another and maby better solution?
I'm using apache 1.3.19, mod_python 2.7.5, and Python 2.1.1.
The file permissions for my '.py'-file is like 'chmod ugo+rwx', so I don't 
think this the problem.

I'm  a newbie to mod_python/Python/Apache so I might have overlooked 
something.

Br,
Ole Hansen


From sebastien.deleersnyder at be.unisys.com  Sat Sep  1 05:18:15 2001
From: sebastien.deleersnyder at be.unisys.com (Deleersnyder, Sebastien)
Date: Fri Jan  9 21:59:04 2004
Subject: [mod_python] Cookie setting and reading
Message-ID: <3995C58A11F7D211A7EE00105AC580980192DD3C@BE-BRU-EXCH-2>

Hi,

This certainly has been discussed here before, but I do not seem to find 
any documentation/example on the following.

How do I set a cookie. And how do I read the same cookie back?

I think the following code should set the cookie and forces the browser to
save 
the cookie for a next logon (by setting the expiration date to the maximum).

req.headers_out['Set-Cookie']='key=value; path=/; expires=Wed, 09-Nov-2030
23:59:00 GMT'
req.send_http_header()

Only I am testing this with IE 6 and I do not see the cookie in my cookie
directory or privacy settings.
My privacy settings is configured to allow all cookies.

Next question:
If successfully set, how do I read the cookie when the client reconnects?
Is this a member of the request class?

regards,

Sebastien

From sebastien.deleersnyder at be.unisys.com  Sat Sep  1 08:57:32 2001
From: sebastien.deleersnyder at be.unisys.com (Deleersnyder, Sebastien)
Date: Fri Jan  9 21:59:04 2004
Subject: [mod_python] SOLVED + example: Cookie setting and reading
Message-ID: <3995C58A11F7D211A7EE00105AC580980192DD3D@BE-BRU-EXCH-2>

Hi,

After some checking and aid from Leonid Timochouk I solved the problem.
I already had a send_http_header() call before my cookie setting 
(classic mistake).
The cookie is send to the server as part of the headers_in.

Here is my sample code:

<snip>
from mod_python import apache,
def getCookie(headers_in, key):
    """ Method to retrieve a certain cookie, returns None if not found, or
not set"""
    if headers_in.has_key('Cookie'):
        import Cookie
        C = Cookie.SmartCookie(headers_in['Cookie'])
        C.load(headers_in['Cookie'])
        if C.has_key(key):
            return C[key].value
    return None

def handler(req):
    """ This sample code will result in 'None' the first time the page is
leaded
    and 'Value' on the reload."""
    form = util.FieldStorage(req)
    req.headers_out['Set-Cookie']='key=value; path=/; expires=Wed,
09-Nov-2030 23:59:00 GMT'
    req.write(repr(getCookie(req.headers_in, 'key')))
    return apache.OK
</snip>

regards,

Sebastien
>  -----Original Message-----
> From: 	Deleersnyder, Sebastien  
> Sent:	zaterdag 1 september 2001 12:21
> To:	mod_python@modpython.org
> Subject:	Cookie setting and reading
> 
> Hi,
> 
> This certainly has been discussed here before, but I do not seem to find 
> any documentation/example on the following.
> 
> How do I set a cookie. And how do I read the same cookie back?
> 
> I think the following code should set the cookie and forces the browser to
> save 
> the cookie for a next logon (by setting the expiration date to the
> maximum).
> 
> req.headers_out['Set-Cookie']='key=value; path=/; expires=Wed, 09-Nov-2030
> 23:59:00 GMT'
> req.send_http_header()
> 
> Only I am testing this with IE 6 and I do not see the cookie in my cookie
> directory or privacy settings.
> My privacy settings is configured to allow all cookies.
> 
> Next question:
> If successfully set, how do I read the cookie when the client reconnects?
> Is this a member of the request class?
> 
> regards,
> 
> Sebastien

From linkangels at hotmail.com  Mon Sep  3 08:16:35 2001
From: linkangels at hotmail.com (Kristy Christie)
Date: Fri Jan  9 21:59:05 2004
Subject: [mod_python] Problem Installing
Message-ID: <F85HaZVrDs9aAOPpBpc00000a57@hotmail.com>

Hi.

I installed mod_python on Windows 98 by placing the dll file into apache 
modules folder and adjusting the httpd.conf file as directed in the manual. 
When I try to open mptest.py (http://localhost:9000/python/mptest.py), I get 
an internal server error. Below is my httpd.conf file and the my Apache 1.3 
server log.

It's really important that I get Apache to be able to open python files. Can 
somebody please help me? Please!

Thank you very much.

~Kristy

._____________________________________.
| |  Jesus Christ really loves you!   |
|--- Visit the website & find out     |
| |  more http://www.jesuschrist.com  |
|_____________________________________|

:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
ERROR
:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

Internal Server Error
The server encountered an internal error or misconfiguration and was unable 
to complete your request.
Please contact the server administrator, you@your.address and inform them of 
the time the error occurred, and anything you might have done that may have 
caused the error.
More information about this error may be available in the server error log.

::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
SERVER LOG
::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

[Sun Sep 03 15:35:05 1995] [warn] Loaded DSO modules/mod_python.dll uses 
plain Apache 1.3 API, this module might crash under EAPI! (please recompile 
it with -DEAPI)
make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.
make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.
[Sun Sep 03 15:39:39 1995] [warn] Loaded DSO modules/mod_python.dll uses 
plain Apache 1.3 API, this module might crash under EAPI! (please recompile 
it with -DEAPI)
make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.

:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
HTTPD.CONF
:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

#
# Based upon the NCSA server configuration files originally by Rob McCool.
#
# This is the main Apache server configuration file.  It contains the
# configuration directives that give the server its instructions.
# See <URL:http://www.apache.org/docs/> for detailed information about
# the directives.
#
# Do NOT simply read the instructions in here without understanding
# what they do.  They're here only as hints or reminders.  If you are unsure
# consult the online docs. You have been warned.
#
# After this file is processed, the server will look for and process
# C:/Program Files/nusphere/apache/conf/srm.conf and then C:/Program 
Files/nusphere/apache/conf/access.conf
# unless you have overridden these with ResourceConfig and/or
# AccessConfig directives here.
#
# The configuration directives are grouped into three basic sections:
#  1. Directives that control the operation of the Apache server process as 
a
#     whole (the 'global environment').
#  2. Directives that define the parameters of the 'main' or 'default' 
server,
#     which responds to requests that aren't handled by a virtual host.
#     These directives also provide default values for the settings
#     of all virtual hosts.
#  3. Settings for virtual hosts, which allow Web requests to be sent to
#     different IP addresses or hostnames and have them handled by the
#     same Apache server process.
#
# Configuration and logfile names: If the filenames you specify for many
# of the server's control files begin with "/" (or "drive:/" for Win32), the
# server will use that explicit path.  If the filenames do *not* begin
# with "/", the value of ServerRoot is prepended -- so "logs/foo.log"
# with ServerRoot set to "/usr/local/apache" will be interpreted by the
# server as "/usr/local/apache/logs/foo.log".
#
# NOTE: Where filenames are specified, you must use forward slashes
# instead of backslashes (e.g., "C:/Program Files/nusphere/apache" instead 
of "c:\apache").
# If a drive letter is omitted, the drive on which Apache.exe is located
# will be used by default.  It is recommended that you always supply
# an explicit drive letter in absolute paths, however, to avoid
# confusion.
#

### Section 1: Global Environment
#
# The directives in this section affect the overall operation of Apache,
# such as the number of concurrent requests it can handle or where it
# can find its configuration files.
#

#
# ServerType is either inetd, or standalone.  Inetd mode is only supported 
on
# Unix platforms.
#
ServerType standalone

#
# ServerRoot: The top of the directory tree under which the server's
# configuration, error, and log files are kept.
#
# Do NOT add a slash at the end of the directory path.
#
ServerRoot "C:/Program Files/nusphere/apache"

#
# PidFile: The file in which the server should record its process
# identification number when it starts.
#
PidFile logs/httpd.pid

#
# ScoreBoardFile: File used to store internal server process information.
# Not all architectures require this.  But if yours does (you'll know 
because
# this file will be  created when you run Apache) then you *must* ensure 
that
# no two invocations of Apache share the same scoreboard file.
#
ScoreBoardFile logs/apache_runtime_status

#
# In the standard configuration, the server will process httpd.conf (this
# file, specified by the -f command line option), srm.conf, and access.conf
# in that order.  The latter two files are now distributed empty, as it is
# recommended that all directives be kept in a single file for simplicity.
# The commented-out values below are the built-in defaults.  You can have 
the
# server ignore these files altogether by using "/dev/null" (for Unix) or
# "nul" (for Win32) for the arguments to the directives.
#
#ResourceConfig conf/srm.conf
#AccessConfig conf/access.conf

#
# Timeout: The number of seconds before receives and sends time out.
#
Timeout 300

#
# KeepAlive: Whether or not to allow persistent connections (more than
# one request per connection). Set to "Off" to deactivate.
#
KeepAlive On

#
# MaxKeepAliveRequests: The maximum number of requests to allow
# during a persistent connection. Set to 0 to allow an unlimited amount.
# We recommend you leave this number high, for maximum performance.
#
MaxKeepAliveRequests 100

#
# KeepAliveTimeout: Number of seconds to wait for the next request from the
# same client on the same connection.
#
KeepAliveTimeout 15

#
# Apache on Win32 always creates one child process to handle requests.  If 
it
# dies, another child process is created automatically.  Within the child
# process multiple threads handle incoming requests.  The next two
# directives control the behaviour of the threads and processes.
#

#
# MaxRequestsPerChild: the number of requests each child process is
# allowed to process before the child dies.  The child will exit so
# as to avoid problems after prolonged use when Apache (and maybe the
# libraries it uses) leak memory or other resources.  On most systems, this
# isn't really needed, but a few (such as Solaris) do have notable leaks
# in the libraries.  For Win32, set this value to zero (unlimited)
# unless advised otherwise.
#
# NOTE: This value does not include keepalive requests after the initial
#       request per connection. For example, if a child process handles
#       an initial request and 10 subsequent "keptalive" requests, it
#       would only count as 1 request towards this limit.
#
MaxRequestsPerChild 0

#
# Number of concurrent threads (i.e., requests) the server will allow.
# Set this value according to the responsiveness of the server (more
# requests active at once means they're all handled more slowly) and
# the amount of system resources you'll allow the server to consume.
#
ThreadsPerChild 50

#
# Listen: Allows you to bind Apache to specific IP addresses and/or
# ports, in addition to the default. See also the <VirtualHost>
# directive.
#
#Listen 3000
#Listen 12.34.56.78:80

#
# BindAddress: You can support virtual hosts with this option. This 
directive
# is used to tell the server which IP address to listen to. It can either
# contain "*", an IP address, or a fully qualified Internet domain name.
# See also the <VirtualHost> and Listen directives.
#
#BindAddress *

#
# Apache Modules compiled into the standard Windows build
#
# The following modules are bound into the standard Apache binary 
distribution
# for Windows.  To change the standard behavior, uncomment the following 
lines
# and modify the list of those specific modules to be enabled in the server.
#
# WARNING: This is an advanced option that may render your server 
inoperable!
# Do not use these directives without expert guidance.
#
#ClearModuleList
#AddModule mod_so.c mod_mime.c mod_access.c mod_auth.c mod_negotiation.c
#AddModule mod_include.c mod_autoindex.c mod_dir.c mod_cgi.c mod_userdir.c
#AddModule mod_alias.c mod_env.c mod_log_config.c mod_asis.c mod_imap.c
#AddModule mod_actions.c mod_setenvif.c mod_isapi.c

#
# Dynamic Shared Object (DSO) Support
#
# To be able to use the functionality of a module which was built as a DSO 
you
# have to place corresponding `LoadModule' lines at this location so the
# directives contained in it are actually available _before_ they are used.
# Please read the file README.DSO in the Apache 1.3 distribution for more
# details about the DSO mechanism and run `apache -l' for the list of 
already
# built-in (statically linked and thus always available) modules in your 
Apache
# binary.
#
# Note: The order in which modules are loaded is important.  Don't change
# the order below without expert advice.
#

LoadModule python_module modules/mod_python.dll
LoadModule mysql_auth_module modules/mod_auth_mysql.dll

#LoadModule anon_auth_module modules/mod_auth_anon.so
#LoadModule dbm_auth_module modules/mod_auth_dbm.so
#LoadModule digest_auth_module modules/mod_auth_digest.so
#LoadModule cern_meta_module modules/mod_cern_meta.so
#LoadModule digest_module modules/mod_digest.so
#LoadModule expires_module modules/mod_expires.so
#LoadModule headers_module modules/mod_headers.so
#LoadModule proxy_module modules/mod_proxy.so
#LoadModule rewrite_module modules/mod_rewrite.so
#LoadModule speling_module modules/mod_speling.so
#LoadModule info_module modules/mod_info.so
#LoadModule status_module modules/mod_status.so
#LoadModule usertrack_module modules/mod_usertrack.so

#
# ExtendedStatus controls whether Apache will generate "full" status
# information (ExtendedStatus On) or just basic information (ExtendedStatus
# Off) when the "server-status" handler is called. The default is Off.
#
#ExtendedStatus On

### Section 2: 'Main' server configuration
#
# The directives in this section set up the values used by the 'main'
# server, which responds to any requests that aren't handled by a
# <VirtualHost> definition.  These values also provide defaults for
# any <VirtualHost> containers you may define later in the file.
#
# All of these directives may appear inside <VirtualHost> containers,
# in which case these default settings will be overridden for the
# virtual host being defined.
#

#
# Port: The port to which the standalone server listens.  Certain firewall
# products must be configured before Apache can listen to a specific port.
# Other running httpd servers will also interfere with this port.  Disable
# all firewall, security, and other services if you encounter problems.
# To help diagnose problems use the Windows NT command NETSTAT -a
#
Port 9000
Listen 9000

#
# ServerAdmin: Your address, where problems with the server should be
# e-mailed.  This address appears on some server-generated pages, such
# as error documents.
#
ServerAdmin you@your.address

#
# ServerName allows you to set a host name which is sent back to clients for
# your server if it's different than the one the program would get (i.e., 
use
# "www" instead of the host's real name).
#
# Note: You cannot just invent host names and hope they work. The name you
# define here must be a valid DNS name for your host. If you don't 
understand
# this, ask your network administrator.
# If your host doesn't have a registered DNS name, enter its IP address 
here.
# You will have to access it by its address (e.g., http://123.45.67.89/)
# anyway, and this will make redirections work in a sensible way.
#
# 127.0.0.1 is the TCP/IP local loop-back address, often named localhost. 
Your
# machine always knows itself by this address. If you use Apache strictly 
for
# local testing and development, you may use 127.0.0.1 as the server name.
#
ServerName localhost


#
# DocumentRoot: The directory out of which you will serve your
# documents. By default, all requests are taken from this directory, but
# symbolic links and aliases may be used to point to other locations.
#
DocumentRoot "C:/Program Files/nusphere/apache/htdocs"

#
# Each directory to which Apache has access, can be configured with respect
# to which services and features are allowed and/or disabled in that
# directory (and its subdirectories).
#
# First, we configure the "default" to be a very restrictive set of
# permissions.
#
<Directory />
    Options FollowSymLinks
    AllowOverride None
</Directory>

#
# Note that from this point forward you must specifically allow
# particular features to be enabled - so if something's not working as
# you might expect, make sure that you have specifically enabled it
# below.
#

#
# This should be changed to whatever you set DocumentRoot to.
#
<Directory "C:/Program Files/nusphere/apache/htdocs">

#
# This may also be "None", "All", or any combination of "Indexes",
# "Includes", "FollowSymLinks", "ExecCGI", or "MultiViews".
#
# Note that "MultiViews" must be named *explicitly* --- "Options All"
# doesn't give it to you.
#
Options Indexes FollowSymLinks MultiViews +Includes

#
# This controls which options the .htaccess files in directories can
# override. Can also be "All", or any combination of "Options", "FileInfo",
# "AuthConfig", and "Limit"
#
    AllowOverride None

#
# Controls who can get stuff from this server.
#
    Order allow,deny
    Allow from all
</Directory>

#
# UserDir: The name of the directory which is appended onto a user's home
# directory if a ~user request is received.
#
# Under Win32, we do not currently try to determine the home directory of
# a Windows login, so a format such as that below needs to be used.  See
# the UserDir documentation for details.
#
<IfModule mod_userdir.c>
    UserDir "C:/Program Files/nusphere/apache/users/"
</IfModule>

#
# Control access to UserDir directories.  The following is an example
# for a site where these directories are restricted to read-only.
#
#<Directory "C:/Program Files/nusphere/apache/users">
#    AllowOverride FileInfo AuthConfig Limit
#    Options MultiViews Indexes SymLinksIfOwnerMatch IncludesNoExec
#    <Limit GET POST OPTIONS PROPFIND>
#        Order allow,deny
#        Allow from all
#    </Limit>
#    <LimitExcept GET POST OPTIONS PROPFIND>
#        Order deny,allow
#        Deny from all
#    </LimitExcept>
#</Directory>

#
# DirectoryIndex: Name of the file or files to use as a pre-written HTML
# directory index.  Separate multiple entries with spaces.
#
<IfModule mod_dir.c>
DirectoryIndex index.shtml index.html index.htm index.php index.php3
</IfModule>

#
# AccessFileName: The name of the file to look for in each directory
# for access control information.
#
AccessFileName .htaccess

#
# The following lines prevent .htaccess files from being viewed by
# Web clients.  Since .htaccess files often contain authorization
# information, access is disallowed for security reasons.  Comment
# these lines out if you want Web visitors to see the contents of
# .htaccess files.  If you change the AccessFileName directive above,
# be sure to make the corresponding changes here.
#
# Also, folks tend to use names such as .htpasswd for password
# files, so this will protect those as well.
#
<Files ~ "^\.ht">
    Order allow,deny
    Deny from all
</Files>

#
# CacheNegotiatedDocs: By default, Apache sends "Pragma: no-cache" with each
# document that was negotiated on the basis of content. This asks proxy
# servers not to cache the document. Uncommenting the following line 
disables
# this behavior, and proxies will be allowed to cache the documents.
#
#CacheNegotiatedDocs

#
# UseCanonicalName:  (new for 1.3)  With this setting turned on, whenever
# Apache needs to construct a self-referencing URL (a URL that refers back
# to the server the response is coming from) it will use ServerName and
# Port to form a "canonical" name.  With this setting off, Apache will
# use the hostname:port that the client supplied, when possible.  This
# also affects SERVER_NAME and SERVER_PORT in CGI scripts.
#
UseCanonicalName On

#
# TypesConfig describes where the mime.types file (or equivalent) is
# to be found.
#
<IfModule mod_mime.c>
    TypesConfig conf/mime.types
</IfModule>

#
# DefaultType is the default MIME type the server will use for a document
# if it cannot otherwise determine one, such as from filename extensions.
# If your server contains mostly text or HTML documents, "text/plain" is
# a good value.  If most of your content is binary, such as applications
# or images, you may want to use "application/octet-stream" instead to
# keep browsers from trying to display binary files as though they are
# text.
#
DefaultType text/plain

#
# The mod_mime_magic module allows the server to use various hints from the
# contents of the file itself to determine its type.  The MIMEMagicFile
# directive tells the module where the hint definitions are located.
# mod_mime_magic is not part of the default server (you have to add
# it yourself with a LoadModule [see the DSO paragraph in the 'Global
# Environment' section], or recompile the server and include mod_mime_magic
# as part of the configuration), so it's enclosed in an <IfModule> 
container.
# This means that the MIMEMagicFile directive will only be processed if the
# module is part of the server.
#
<IfModule mod_mime_magic.c>
    MIMEMagicFile conf/magic
</IfModule>

#
# HostnameLookups: Log the names of clients or just their IP addresses
# e.g., www.apache.org (on) or 204.62.129.132 (off).
# The default is off because it'd be overall better for the net if people
# had to knowingly turn this feature on, since enabling it means that
# each client request will result in AT LEAST one lookup request to the
# nameserver.
#
HostnameLookups Off

#
# ErrorLog: The location of the error log file.
# If you do not specify an ErrorLog directive within a <VirtualHost>
# container, error messages relating to that virtual host will be
# logged here.  If you *do* define an error logfile for a <VirtualHost>
# container, that host's errors will be logged there and not here.
#
ErrorLog logs/error.log

#
# LogLevel: Control the number of messages logged to the error.log.
# Possible values include: debug, info, notice, warn, error, crit,
# alert, emerg.
#
LogLevel warn

#
# The following directives define some format nicknames for use with
# a CustomLog directive (see below).
#
LogFormat "%h %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\"" 
combined
LogFormat "%h %l %u %t \"%r\" %>s %b" common
LogFormat "%{Referer}i -> %U" referer
LogFormat "%{User-agent}i" agent

#
# The location and format of the access logfile (Common Logfile Format).
# If you do not define any access logfiles within a <VirtualHost>
# container, they will be logged here.  Contrariwise, if you *do*
# define per-<VirtualHost> access logfiles, transactions will be
# logged therein and *not* in this file.
#
CustomLog logs/access.log common

#
# If you would like to have agent and referer logfiles, uncomment the
# following directives.
#
#CustomLog logs/referer.log referer
#CustomLog logs/agent.log agent

#
# If you prefer a single logfile with access, agent, and referer information
# (Combined Logfile Format) you can use the following directive.
#
#CustomLog logs/access.log combined

#
# Optionally add a line containing the server version and virtual host
# name to server-generated pages (error documents, FTP directory listings,
# mod_status and mod_info output etc., but not CGI generated documents).
# Set to "EMail" to also include a mailto: link to the ServerAdmin.
# Set to one of:  On | Off | EMail
#
ServerSignature On

#
# Apache parses all CGI scripts for the shebang line by default.
# This comment line, the first line of the script, consists of the symbols
# pound (#) and exclamation (!) followed by the path of the program that
# can execute this specific script.  For a perl script, with perl.exe in
# the C:\Program Files\Perl directory, the shebang line should be:

   #!c:/program files/perl/perl

# Note you _must_not_ indent the actual shebang line, and it must be the
# first line of the file.  Of course, CGI processing must be enabled by
# the appropriate ScriptAlias or Options ExecCGI directives for the files
# or directory in question.
#
# However, Apache on Windows allows either the Unix behavior above, or can
# use the Registry to match files by extention.  The command to execute
# a file of this type is retrieved from the registry by the same method as
# the Windows Explorer would use to handle double-clicking on a file.
# These script actions can be configured from the Windows Explorer View 
menu,
# 'Folder Options', and reviewing the 'File Types' tab.  Clicking the Edit
# button allows you to modify the Actions, of which Apache 1.3 attempts to
# perform the 'Open' Action, and failing that it will try the shebang line.
# This behavior is subject to change in Apache release 2.0.
#
# Each mechanism has it's own specific security weaknesses, from the means
# to run a program you didn't intend the website owner to invoke, and the
# best method is a matter of great debate.
#
# To enable the this Windows specific behavior (and therefore -disable- the
# equivilant Unix behavior), uncomment the following directive:
#
#ScriptInterpreterSource registry
#
# The directive above can be placed in individual <Directory> blocks or the
# .htaccess file, with either the 'registry' (Windows behavior) or 'script'
# (Unix behavior) option, and will override this server default option.
#

#
# Aliases: Add here as many aliases as you need (with no limit). The format 
is
# Alias fakename realname
#
<IfModule mod_alias.c>

    #
    # Note that if you include a trailing / on fakename then the server will
    # require it to be present in the URL.  So "/icons" isn't aliased in 
this
    # example, only "/icons/"..
    #
    Alias /icons/ "C:/Program Files/nusphere/apache/icons/"
    Alias /jdbc_doc/ "C:/Program Files/nusphere/mm_mysql_jdbc/doc/mm.doc/"
    Alias /sendmaildoc/ "C:/Program Files/nusphere/sendmail/doc/"
    Alias /nshtml/ "C:/Program Files/nusphere/html/"
    Alias /apachedoc/ "C:/Program Files/nusphere/apache/htdocs/manual/"
    Alias /phpdoc/ "C:/Program Files/nusphere/apache/php/doc/"
    Alias /mysqldoc/ "C:/Program Files/nusphere/mysql/bychapter/"
    Alias /perldoc/ "C:/Program Files/nusphere/perl/html/"
    Alias /ssldoc/ "C:/Program Files/nusphere/apache/modssl/pkg.ssldoc/"

    <Directory "C:/Program Files/nusphere/apache/icons">
        Options Indexes MultiViews
        AllowOverride None
        Order allow,deny
        Allow from all
    </Directory>

    #
    # ScriptAlias: This controls which directories contain server scripts.
    # ScriptAliases are essentially the same as Aliases, except that
    # documents in the realname directory are treated as applications and
    # run by the server when requested rather than as documents sent to the 
client.
    # The same rules about trailing "/" apply to ScriptAlias directives as 
to
    # Alias.
    #
    ScriptAlias /cgi-bin/ "C:/Program Files/nusphere/apache/cgi-bin/"

    #
    # "C:/Program Files/nusphere/apache/cgi-bin" should be changed to 
whatever your ScriptAliased
    # CGI directory exists, if you have that configured.
    #
    <Directory "C:/Program Files/nusphere/apache/cgi-bin">
        AllowOverride None
        Options None
        Order allow,deny
        Allow from all
    </Directory>

    <Directory "C:/Program Files/nusphere/apache/nsdocs/python">
	AddHandler python-program .py
	PythonHandler mptest
	PythonDebug on
    </Directory>

</IfModule>
# End of aliases.

#
# Redirect allows you to tell clients about documents which used to exist in
# your server's namespace, but do not anymore. This allows you to tell the
# clients where to look for the relocated document.
# Format: Redirect old-URI new-URL
#

#
# Directives controlling the display of server-generated directory listings.
#
<IfModule mod_autoindex.c>

    #
    # FancyIndexing is whether you want fancy directory indexing or standard
    #
    IndexOptions FancyIndexing

    #
    # AddIcon* directives tell the server which icon to show for different
    # files or filename extensions.  These are only displayed for
    # FancyIndexed directories.
    #
    AddIconByEncoding (CMP,/icons/compressed.gif) x-compress x-gzip

    AddIconByType (TXT,/icons/text.gif) text/*
    AddIconByType (IMG,/icons/image2.gif) image/*
    AddIconByType (SND,/icons/sound2.gif) audio/*
    AddIconByType (VID,/icons/movie.gif) video/*

    AddIcon /icons/binary.gif .bin .exe
    AddIcon /icons/binhex.gif .hqx
    AddIcon /icons/tar.gif .tar
    AddIcon /icons/world2.gif .wrl .wrl.gz .vrml .vrm .iv
    AddIcon /icons/compressed.gif .Z .z .tgz .gz .zip
    AddIcon /icons/a.gif .ps .ai .eps
    AddIcon /icons/layout.gif .html .shtml .htm .pdf
    AddIcon /icons/text.gif .txt
    AddIcon /icons/c.gif .c
    AddIcon /icons/p.gif .pl .py
    AddIcon /icons/f.gif .for
    AddIcon /icons/dvi.gif .dvi
    AddIcon /icons/uuencoded.gif .uu
    AddIcon /icons/script.gif .conf .sh .shar .csh .ksh .tcl
    AddIcon /icons/tex.gif .tex
    AddIcon /icons/bomb.gif core

    AddIcon /icons/back.gif ..
    AddIcon /icons/hand.right.gif README
    AddIcon /icons/folder.gif ^^DIRECTORY^^
    AddIcon /icons/blank.gif ^^BLANKICON^^

    #
    # DefaultIcon is which icon to show for files which do not have an icon
    # explicitly set.
    #
    DefaultIcon /icons/unknown.gif

    #
    # AddDescription allows you to place a short description after a file in
    # server-generated indexes.  These are only displayed for FancyIndexed
    # directories.
    # Format: AddDescription "description" filename
    #
    #AddDescription "GZIP compressed document" .gz
    #AddDescription "tar archive" .tar
    #AddDescription "GZIP compressed tar archive" .tgz

    #
    # ReadmeName is the name of the README file the server will look for by
    # default, and append to directory listings.
    #
    # HeaderName is the name of a file which should be prepended to
    # directory indexes.
    #
    # If MultiViews are amongst the Options in effect, the server will
    # first look for name.html and include it if found.  If name.html
    # doesn't exist, the server will then look for name.txt and include
    # it as plaintext if found.
    #
    ReadmeName README
    HeaderName HEADER

    #
    # IndexIgnore is a set of filenames which directory indexing should 
ignore
    # and not include in the listing.  Shell-style wildcarding is permitted.
    #
    IndexIgnore .??* *~ *# HEADER* README* RCS CVS *,v *,t

</IfModule>
# End of indexing directives.

#
# Document types.
#
<IfModule mod_mime.c>

    #
    # AddEncoding allows you to have certain browsers (Mosaic/X 2.1+) 
uncompress
    # information on the fly. Note: Not all browsers support this.
    # Despite the name similarity, the following Add* directives have 
nothing
    # to do with the FancyIndexing customization directives above.
    #
    AddEncoding x-compress Z
    AddEncoding x-gzip gz tgz
    #
    # AddLanguage allows you to specify the language of a document. You can
    # then use content negotiation to give a browser a file in a language
    # it can understand.
    #
    # Note 1: The suffix does not have to be the same as the language
    # keyword --- those with documents in Polish (whose net-standard
    # language code is pl) may wish to use "AddLanguage pl .po" to
    # avoid the ambiguity with the common suffix for perl scripts.
    #
    # Note 2: The example entries below illustrate that in quite
    # some cases the two character 'Language' abbriviation is not
    # identical to the two character 'Country' code for its country,
    # E.g. 'Danmark/dk' versus 'Danish/da'.
    #
    # Note 3: In the case of 'ltz' we violate the RFC by using a three char
    # specifier. But there is 'work in progress' to fix this and get
    # the reference data for rfc1766 cleaned up.
    #
    # Danish (da) - Dutch (nl) - English (en) - Estonian (ee)
    # French (fr) - German (de) - Greek-Modern (el)
    # Italian (it) - Korean (kr) - Norwegian (no)
    # Portugese (pt) - Luxembourgeois* (ltz)
    # Spanish (es) - Swedish (sv) - Catalan (ca) - Czech(cz)
    # Polish (pl) - Brazilian Portuguese (pt-br) - Japanese (ja)
    # Russian (ru)
    #
    AddLanguage da .dk
    AddLanguage nl .nl
    AddLanguage en .en
    AddLanguage et .ee
    AddLanguage fr .fr
    AddLanguage de .de
    AddLanguage el .el
    AddLanguage he .he
    AddCharset ISO-8859-8 .iso8859-8
    AddLanguage it .it
    AddLanguage ja .ja
    AddCharset ISO-2022-JP .jis
    AddLanguage kr .kr
    AddCharset ISO-2022-KR .iso-kr
    AddLanguage no .no
    AddLanguage pl .po
    AddCharset ISO-8859-2 .iso-pl
    AddLanguage pt .pt
    AddLanguage pt-br .pt-br
    AddLanguage ltz .lu
    AddLanguage ca .ca
    AddLanguage es .es
    AddLanguage sv .se
    AddLanguage cz .cz
    AddLanguage ru .ru
    AddLanguage tw .tw
    AddCharset Big5         .Big5    .big5
    AddCharset WINDOWS-1251 .cp-1251
    AddCharset CP866        .cp866
    AddCharset ISO-8859-5   .iso-ru
    AddCharset KOI8-R       .koi8-r
    AddCharset UCS-2        .ucs2
    AddCharset UCS-4        .ucs4
    AddCharset UTF-8        .utf8

    # LanguagePriority allows you to give precedence to some languages
    # in case of a tie during content negotiation.
    #
    # Just list the languages in decreasing order of preference. We have
    # more or less alphabetized them here. You probably want to change this.
    #
    <IfModule mod_negotiation.c>
        LanguagePriority en da nl et fr de el it ja kr no pl pt pt-br ru ltz 
ca es sv tw
    </IfModule>

    #
    # AddType allows you to tweak mime.types without actually editing it, or 
to
    # make certain files to be certain types.
    #
    # For example, the PHP 3.x module (not part of the Apache distribution - 
see
    # http://www.php.net) will typically use:
    #
    #AddType application/x-httpd-php3 .php3
    #AddType application/x-httpd-php3-source .phps
    #
    # And for PHP 4.x, use:
    #
    #AddType application/x-httpd-php .php
    #AddType application/x-httpd-php-source .phps

    AddType application/x-tar .tgz

    #
    # AddHandler allows you to map certain file extensions to "handlers",
    # actions unrelated to filetype. These can be either built into the 
server
    # or added with the Action command (see below)
    #
    # If you want to use server side includes, or CGI outside
    # ScriptAliased directories, uncomment the following lines.
    #
    # To use CGI scripts:
    #
    #AddHandler cgi-script .cgi

    #
    # To use server-parsed HTML files
    #
AddType text/html .shtml
AddHandler server-parsed .shtml
    #
    # Uncomment the following line to enable Apache's send-asis HTTP file
    # feature
    #
    #AddHandler send-as-is asis

    #
    # If you wish to use server-parsed imagemap files, use
    #
    #AddHandler imap-file map

    #
    # To enable type maps, you might want to use
    #
    #AddHandler type-map var

</IfModule>
# End of document types.

#
# Action lets you define media types that will execute a script whenever
# a matching file is called. This eliminates the need for repeated URL
# pathnames for oft-used CGI file processors.
# Format: Action media/type /cgi-script/location
# Format: Action handler-name /cgi-script/location
#

#
# MetaDir: specifies the name of the directory in which Apache can find
# meta information files. These files contain additional HTTP headers
# to include when sending the document
#
#MetaDir .web

#
# MetaSuffix: specifies the file name suffix for the file containing the
# meta information.
#
#MetaSuffix .meta

#
# Customizable error response (Apache style)
#  these come in three flavors
#
#    1) plain text
#ErrorDocument 500 "The server made a boo boo.
#  n.b.  the single leading (") marks it as text, it does not get output
#
#    2) local redirects
#ErrorDocument 404 /missing.html
#  to redirect to local URL /missing.html
#ErrorDocument 404 /cgi-bin/missing_handler.pl
#  N.B.: You can redirect to a script or a document using 
server-side-includes.
#
#    3) external redirects
#ErrorDocument 402 http://some.other_server.com/subscription_info.html
#  N.B.: Many of the environment variables associated with the original
#  request will *not* be available to such a script.

#
# Customize behaviour based on the browser
#
<IfModule mod_setenvif.c>

    #
    # The following directives modify normal HTTP response behavior.
    # The first directive disables keepalive for Netscape 2.x and browsers 
that
    # spoof it. There are known problems with these browser implementations.
    # The second directive is for Microsoft Internet Explorer 4.0b2
    # which has a broken HTTP/1.1 implementation and does not properly
    # support keepalive when it is used on 301 or 302 (redirect) responses.
    #
    BrowserMatch "Mozilla/2" nokeepalive
    BrowserMatch "MSIE 4\.0b2;" nokeepalive downgrade-1.0 force-response-1.0

    #
    # The following directive disables HTTP/1.1 responses to browsers which
    # are in violation of the HTTP/1.0 spec by not being able to grok a
    # basic 1.1 response.
    #
    BrowserMatch "RealPlayer 4\.0" force-response-1.0
    BrowserMatch "Java/1\.0" force-response-1.0
    BrowserMatch "JDK/1\.0" force-response-1.0

</IfModule>
# End of browser customization directives

#
# Allow server status reports, with the URL of 
http://servername/server-status
# Change the ".your_domain.com" to match your domain to enable.
#
#<Location /server-status>
#    SetHandler server-status
#    Order deny,allow
#    Deny from all
#    Allow from .your_domain.com
#</Location>

#
# Allow remote server configuration reports, with the URL of
# http://servername/server-info (requires that mod_info.c be loaded).
# Change the ".your_domain.com" to match your domain to enable.
#
#<Location /server-info>
#    SetHandler server-info
#    Order deny,allow
#    Deny from all
#    Allow from .your_domain.com
#</Location>

#
# There have been reports of people trying to abuse an old bug from pre-1.1
# days.  This bug involved a CGI script distributed as a part of Apache.
# By uncommenting these lines you can redirect these attacks to a logging
# script on phf.apache.org.  Or, you can record them yourself, using the 
script
# support/phf_abuse_log.cgi.
#
#<Location /cgi-bin/phf*>
#    Deny from all
#    ErrorDocument 403 http://phf.apache.org/phf_abuse_log.cgi
#</Location>

#
# Proxy Server directives. Uncomment the following lines to
# enable the proxy server:
#
#<IfModule mod_proxy.c>
#    ProxyRequests On

#    <Directory proxy:*>
#        Order deny,allow
#        Deny from all
#        Allow from .your_domain.com
#    </Directory>

    #
    # Enable/disable the handling of HTTP/1.1 "Via:" headers.
    # ("Full" adds the server version; "Block" removes all outgoing Via: 
headers)
    # Set to one of: Off | On | Full | Block
    #
#    ProxyVia On

    #
    # To enable the cache as well, edit and uncomment the following lines:
    # (no cacheing without CacheRoot)
    #
#    CacheRoot "C:/Program Files/nusphere/apache/proxy"
#    CacheSize 5
#    CacheGcInterval 4
#    CacheMaxExpire 24
#    CacheLastModifiedFactor 0.1
#    CacheDefaultExpire 1
#    NoCache a_domain.com another_domain.edu joes.garage_sale.com

#</IfModule>
# End of proxy directives.

### Section 3: Virtual Hosts
#
# VirtualHost: If you want to maintain multiple domains/hostnames on your
# machine you can setup VirtualHost containers for them. Most configurations
# use only name-based virtual hosts so the server doesn't need to worry 
about
# IP addresses. This is indicated by the asterisks in the directives below.
#
# Please see the documentation at <URL:http://www.apache.org/docs/vhosts/>
# for further details before you try to setup virtual hosts.
#
# You may use the command line option '-S' to verify your virtual host
# configuration.

#
# Use name-based virtual hosting.
#
#NameVirtualHost *

#
# VirtualHost example:
# Almost any Apache directive may go into a VirtualHost container.
# The first VirtualHost section is used for requests without a known
# server name.
#
#<VirtualHost *>
#    ServerAdmin webmaster@dummy-host.example.com
#    DocumentRoot /www/docs/dummy-host.example.com
#    ServerName dummy-host.example.com
#    ErrorLog logs/dummy-host.example.com-error_log
#    CustomLog logs/dummy-host.example.com-access_log common
#</VirtualHost>

## BEGIN SSL CONFIG
#<IfDefine SSL>
#Listen 99999
Listen 9443
LoadModule ssl_module modules/mod_ssl.so
SSLMutex sem
SSLRandomSeed startup builtin
SSLSessionCache none
SSLLog logs/SSL.log
SSLLogLevel warn
<VirtualHost _default_:99999>
SSLEngine On
SSLCertificateFile conf/ssl.crt/server.crt
SSLCertificateKeyFile conf/ssl.key/server.key
SSLCipherSuite ALL:!ADH:!EXP56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP:+eNULL
SetEnvIf User-Agent ".*MSIE.*" nokeepalive ssl-unclean-shutdown 
downgrade-1.0 force-response-1.0
#SSLProtocol all -SSLv3
</VirtualHost>
#</IfDefine>
## END SSL CONFIG



# BEGIN MOD_PERL CONFIG
LoadModule perl_module modules/mod_perl.so
ScriptAlias /perl-bin/ "perl-bin/"
PerlSendHeader On
<Location /perl-bin>
SetHandler perl-script
PerlHandler Apache::Registry
Options ExecCGI
</Location>
# END MOD_PERL CONFIG

# VirtualHost for the NuSphere Admin WebSite
<VirtualHost _default_:9000> # Admin WebSite standard port
   DocumentRoot "C:/Program Files/nusphere/apache/nsdocs"
   ScriptAlias /cgi-bin/ "C:/Program Files/nusphere/apache/nscgi-bin/"
   # VHost-specific mod_perl directive
   ScriptAlias /perl-bin/ "nsperl-bin/"
   <Directory "C:/Program Files/nusphere/apache/nsdocs">
      Options Indexes FollowSymLinks MultiViews +Includes
   </Directory>
   <Directory "C:/Program Files/nusphere/apache/nscgi-bin">
      AllowOverride None
      Options None
      Order allow,deny
      Allow from all
   </Directory>
   CustomLog logs/nsaccess.log common
   ErrorLog logs/nserror.log
</VirtualHost>

# VirtualHost for the NuSphere SSL Admin WebSite
#<IfDefine SSL>
<VirtualHost _default_:9443> # Admin WebSite SSL port
   SSLEngine On
   SSLLog logs/NSSSL.log
   SSLCertificateFile conf/ssl.crt/server.crt
   SSLCertificateKeyFile conf/ssl.key/server.key
   SSLCipherSuite 
ALL:!ADH:!EXP56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP:+eNULL
   SetEnvIf User-Agent ".*MSIE.*" nokeepalive ssl-unclean-shutdown 
downgrade-1.0 force-response-1.0
   #SSLProtocol all -SSLv3
   DocumentRoot "C:/Program Files/nusphere/apache/nsdocs"
   ScriptAlias /cgi-bin/ "C:/Program Files/nusphere/apache/nscgi-bin/"
   # VHost-specific mod_perl directive
   ScriptAlias /perl-bin/ "nsperl-bin/"
   <Directory "C:/Program Files/nusphere/apache/nsdocs">
      Options Indexes FollowSymLinks MultiViews +Includes
   </Directory>
   <Directory "C:/Program Files/nusphere/apache/nscgi-bin">
      AllowOverride None
      Options None
      Order allow,deny
      Allow from all
   </Directory>
   CustomLog logs/nsaccess.log common
   ErrorLog logs/nserror.log
</VirtualHost>
#</IfDefine>
## BEGIN PHP CONFIG
ScriptAlias /php3/ "C:/Program Files/nusphere/apache/php/"
ScriptAlias /php/ "C:/Program Files/nusphere/apache/php/"
AddType application/x-httpd-php3 .phtml
AddType application/x-httpd-php3 .php3
AddType application/x-httpd-php3 .php
AddType application/x-httpd-php3 .inc
AddType application/x-httpd-php3-source .phps
Action application/x-httpd-php3 /php/php.exe
## END PHP CONFIG

_________________________________________________________________
Get your FREE download of MSN Explorer at http://explorer.msn.com/intl.asp


From keegan at millerwebsiteservices.com  Mon Sep  3 01:36:40 2001
From: keegan at millerwebsiteservices.com (Keegan Miller)
Date: Fri Jan  9 21:59:05 2004
Subject: [mod_python] Environment variables created by Apache not in os.environ
Message-ID: <DGELIKPIDBLOIDHJPHAGCECACEAA.keegan@millerwebsiteservices.com>

I'm working on a system which was working with Python as a CGI handler.
After switching to mod_python, most of it works.  But the site depends on
some environment variables which are extracted from the URL by Apache's
mod_rewrite module.  For some reason, these environment variables aren't
loaded into os.environ.

Does anyone know how I can access these variables?

When this module was running as a CGI script, the env vars were there.  Now,
system vars like OS are there, but the ones created by mod_rewrite are not.

I'm running Apache 1.3.20, Python 2.1, and mod_python 2.7.4 on Windows 2000.

Thanks.
Keegan Miller

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010903/ad49203e/attachment-0002.htm
From piet at cs.uu.nl  Mon Sep  3 16:38:01 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 21:59:05 2004
Subject: [mod_python] Problem Installing
In-Reply-To: "Kristy Christie"'s message of "Mon, 03 Sep 2001 08:16:35 +0000"
References: <F85HaZVrDs9aAOPpBpc00000a57@hotmail.com>
Message-ID: <20010903143801.F3DA24518@mail.cs.uu.nl>

>>>>> "Kristy Christie" <linkangels@hotmail.com> (KC) writes:

KC> Hi.
KC> I installed mod_python on Windows 98 by placing the dll file into apache
KC> modules folder and adjusting the httpd.conf file as directed in the manual.
KC> When I try to open mptest.py (http://localhost:9000/python/mptest.py), I
KC> get an internal server error. Below is my httpd.conf file and the my Apache
KC> 1.3 server log.

KC> It's really important that I get Apache to be able to open python files.
KC> Can somebody please help me? Please!

You must also install the python files (mod_python subdirectory from the
distribution tar archive) into your Python directory.
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From geert at boskant.nl  Tue Sep  4 16:48:44 2001
From: geert at boskant.nl (Geert Jansen)
Date: Fri Jan  9 21:59:05 2004
Subject: [mod_python] Patch to Server object
Message-ID: <POEGJAKPNOCGNJMONMFKCEDFCCAA.geert@boskant.nl>

Good day,

First of all: mod_python is great! I've been using it a couple of months now
to develop an (yet another, yes I know:) ASP like environment for Apache,
and I really like it.

But now I stumbled on a problem. I'm having difficulty implementing a global
"Application_OnStart" event. The event should be executed by my ASP
environment before the first request is served, but, only _once_ for the
whole server, _not_ one time per child. This event is very handy for
initializing application wide (database backed) variables so I'd really like
to provide it...

I could not find a way to satisfactorily implement this with the current
mod_python. To solve the problem I wrote a small patch to servermodule.c
that adds two member variables:  "my_generation" and "restart_time".
"my_generation" is the current generation of the child (the number of
restarts), and "restart_time" is the time of the last (re)start.

Using these variables I am able to implement the "Application_Onstart"
event:
I keep the last restart time in an application global variable. At child
startup, I look at this value. If it is not equal to the current restart
time, I raise "Application_OnStart" and update the restart time (with the
necessary locking of course).

The patch is attached. Could this be applied? I think this could suit other
developers too.

Thanks for your time!

Greetings,
Geert Jansen
--
long long email=0X78DC806B91FCA334,i=0,j; main(){j=(email>>4*i)&15;
putchar(j+j/2+j/5-j/12+(j<13?97:-65+7*j));i/15?exit(0):++i,main();}
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mod_python-restart.diff
Type: application/octet-stream
Size: 1041 bytes
Desc: not available
Url : http://mailman.modpython.org/pipermail/mod_python/attachments/20010904/49e62fbc/mod_python-restart-0002.obj
From irinka at mail.ru  Sat Sep  1 05:18:07 2001
From: irinka at mail.ru (Irinka)
Date: Fri Jan  9 21:59:05 2004
Subject: [mod_python] =?windows-1251?B?z+7h++Lg6SDt4A==?=
Message-ID: <000b01c13283$f5618c80$6f40a1c3@igor>

????? ??  http://444.devil.ru
????? ????? ????????? ? ???????????

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010901/c597920d/attachment-0002.htm
From kevin_lee at iprimus.com.au  Fri Sep  7 21:18:01 2001
From: kevin_lee at iprimus.com.au (Kevin LEE)
Date: Fri Jan  9 21:59:05 2004
Subject: [mod_python] Problem adding mod_python into apache
Message-ID: <3B98ACE9.ED88C768@iprimus.com.au>

Hi list:

        I have the following errors when I statically compile
mod_python-2.7.6 into apache_1.3.20:

gcc  -I/usr/local/mod_python-2.7.6/src/include
-I/usr/local/apache_1.3.20/src/include
-I/usr/local/apache_1.3.20/src/os/unix -I/usr/local/src/Python-2.1.1
-I/usr/local/src/Python-2.1.1/Include -c mod_python.c
In file included from /usr/local/apache_1.3.20/src/include/httpd.h:72,
                 from
/usr/local/mod_python-2.7.6/src/include/mod_python.h:63,
                 from mod_python.c:54:
/usr/local/apache_1.3.20/src/include/ap_config.h:77: ap_config_auto.h:
No such file or directory
*** Error code 1

Stop in /usr/local/mod_python-2.7.6/src.
*** Error code 1

Stop in /usr/local/mod_python-2.7.6.

        The following show step to configure mod_python:

cd /usrr/local/mod_python-2.7.6
./configure  --with-apache=.../apache_1.3.20
--with-python=/usr/local/src/Python-2.1.1

make static

Any idea ??? I am really stucked ....

Cheers.
Kevin


From oio_oiuu_ww_ll at yandex.ru  Sat Sep  8 13:38:09 2001
From: oio_oiuu_ww_ll at yandex.ru (MailBase)
Date: Fri Jan  9 21:59:05 2004
Subject: [mod_python] =?windows-1251?Q?=C1=E0=E7=FB_=E4=E0=ED=ED=FB=F5_=EF=F0=E5=E4=EF=F0=E8=FF=F2=E8=E9_=E4=EB=FF_=EA=EE=ED=F2=E0=EA=F2=EE=E2_=EF=EE_=FD=EB=E5=EA=F2=F0=EE=ED=ED=EE=E9_=EF=EE=F7=F2=E5?=
Message-ID: <1609520019689389369@yandex.ru>

????????????!

? ???? ??????:
- ???? ?????? ??????????? ??? ????????? ?? ??????????? ?????;
- ????????? ??? ?????????????? ???????? ??????????? ?????;
- ???? ?????? ?????????? ???????????.

????? ?????????? ?????? ? ? ???????????? ????????? ???????? ????????????
??????? ?????? ??????????? ?????-???? ??????????, ??? ?????? ?????, ???
??????? ??? ?? ??????????? ?????. ???? ???? ?????? ??? ????????? ??
??????????? ????? ????????????? ?????????? ??? ???? ?????.

?????? ???????????? ????????? ? ???????? ??????????? ????????, ????????
????????? ??? spam. ?????? ?? ???????, ??? ?????? ??????? ? ???, ??? ?????,
?????? ?? ???? ???????????? ???? ??????????? (? ?????? ???????????, ? ??
??????? ???!) ???? ????????????? ???? ????????????, ????????? ?? ???
??????????????? ??????????? ?????????? ??????, ??????? ?????????????
??????? ????? ?? ??????????????. ????? ???????? ????? ???????????? ??
?????? ??? ????????? ?????. ????????, ??? ????? ?????? ?????????
????????????? ??????, ????????????? ??? ???????????? ???????????? ???????
???????????. ????????? 500, ? ?? ? 1000 ???? - ???????, ?????????
????????????? ???????. ? ???? ??????? ???????? ? ??????????????? ????????
?? ?????? ?????? ???????????, ????? ?????? ???????? ?????? ?????????? ??
????????????? ???????.

?????????? ??? ??? ????????? ??? ????????? ?? ??????????? ?????:

???????? "??????????? ??????" - 38000 ??????????? (??? ? ????????????
????????);
???????? "??????????? ???" - 30000 ??????????? (??? ? ???????????? ????????)

?????? ???????? ???????? ? ????:
- ??????????????? ???? ?????? ??? ????????? ?? ??????????? ?????; 
- ????????? GroupMail ??? ?????????????? ???????? ??????????? ?????. 

???? ?????? "38000 ??????????? ??????". ????? ???????????? ?????? (e-mail
??????? ? ?????? ???????????) ?? ?????? ???????? ????????????: 
- ????????, 
- ??? ????????????, 
- ????????, 
- ????, 
- ???????? ?????, 
- ????? ?????. 
???? ????????? ? ???? ??????????? ??????? Excel, ??? ????????? ???????? ?
??? ???????????? ? ????? ??????? ?????? ??????????, ? ???? ???????????
?????????? ????? ?? ?????? ?? ??????????, ????????, ?? ???? ????????????. ?
???? ????? ??? ????????, ??????? ???? ????????? ???? e-mail ? ?????????
??????-???????????? ?? ??????. ????????? ? ?????????????? ??????? ???
?????????: 15%. ?????????? ???? ?????????? ?????? ???????. ???? ?
?????????? ??????????????? ?? ???????-????? ??? ?????????? ???????????
??????.
????????? ?????? ???? ? ????????? ? ?????????? GroupMail (??. ????) - $300.
????????? ?????????? $60. ????? ?????? ?????. ?????? ? ??????? ???????????
?? ????? mailbase@post.com.

???? ?????? "30000 ??????????? ???". ????? ???????????? ?????? (e-mail
??????? ? ?????? ???????????) ?? ?????? ???????? ????????????:
- ????????, 
- ????? ?????????????, 
- ????????, 
- ????, 
- ???????? ?????, 
- ????? ?????, 
- ?.?.?. ? ????????? ???????????? (!), 
- ??????????? ?????, 
- ?????? ???????????? ??????? ? ?????. 
???? ????????? ? ???? ??????????? ??????? Excel, ??? ????????? ???????? ?
??? ???????????? ? ????? ??????? ?????? ??????????. ????????? ?
?????????????? ??????? ??? ?????????: 20%. ?????????? ???? ??????????
?????? ???????. ???? ? ?????????? ??????????????? ?? ???????-????? ???
?????????? ??????????? ??????.
????????? ?????? ???? ? ????????? ? ?????????? GroupMail (??. ????) - $200.
????????? ?????????? $40. ????? ?????? ?????. ?????? ? ??????? ???????????
?? ????? mailbase@post.com.

????????? "Group Mail" ????????????? ??? ????????????? ???????????
????????. ?? ????? ???????? "Group Mail" ?????????? ? ???????? ?????? ???
??????? ?????????? ? ???????????. ??? ???? ? ??????? (??? ? ????, ??? ? ?
???? ??????) ????? ?????????????? ??????????? ?????????? ?? ????????? ?????
????, ??????????????? ??????????? ??????. ??? ????????? ?????????? ?
??????? ?????????? ?? ????? ? ????????? ?? ???? ????? ???????? ???
?????????, ? ????? ????? ?????? ??????? ????????????????? ???? ????????.
????????, ???? ?????? ????? ???? ?????: "??????????? ??? ????????
(????????_????????)". "Group Mail" ????? ??????? ??????????? ?? ??????? ???
??????. ?? ?????? ????????????? ? ????????? ???? ????. ?? ????? ????
?????????????? ??????????. ???? ????? ?????????, ?????????, ?????????????.
?????? ? ????????? ????? ???????????? ??? ? ??????? txt, ??? ? html.
??????????? ??????????? ???????????? ?????? ?????? ???????. Group Mail
???????? ??? ??????? ?????-???? ?????? ???????? ?????????. ????????? "Group
Mail" ????????? ??????????? ? ?????? ?? ????????????? ??? ??????. ?? ??
????? ?????????? ? ???????? ??? ???????? ?? ????? ?????. ? ???? ??????
????????? ?? ?????????????? $25. ????? ?????? ?????. ?????????
??????????????? ?? ???????-????? ??? ?????????? ??????????? ??????. ??????
? ??????? ??????????? ?? ????? mailbase@post.com.

????????! ??? ????????????? ???????????? ????? ??? ?????? ???????????????
??????: $100!

????????? ??????????? ???????? ?? ?????? ??????. ?????? ? ???????
??????????? ?? ????? mailbase@post.com.

??????? ????? ????????????? ???? ?????? ?????????? ???????????:
"??????????? ??????/??????/??? ? ???????????? ????? ????? 50/500/1000
???????". ????????? ??? ??? ?????? ?? $100 ?? $300. ????? ?????? ?????.
???? ??????????????? ?? ??????? ????? ??? ?????????? ??????????? ??????.
?????? ? ??????? ??????????? ?? ????? mailbase@post.com.

???? ???????????? ???????????? ???????????. mailbase@post.com.


???????? MailBase,
E-mail: mailbase@post.com





From grisha at modpython.org  Sat Sep  8 19:20:55 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:59:05 2004
Subject: [mod_python] Environment variables created by Apache not in
 os.environ
In-Reply-To: <DGELIKPIDBLOIDHJPHAGCECACEAA.keegan@millerwebsiteservices.com>
Message-ID: <Pine.BSF.4.32.0109081912500.1368-100000@localhost>

The mod_python cgihandler fakes the environment - it's just a dictionary
built for every request that contains all the standard cgi variables. If
mod_rewrite tries to set real environment variables your will not see
them.

It's a small sacrifice I had to make because access to the real
environment leaked memory, which is a serious problem for mod_python since
it runs inside the Apache process.

The thing to do in your case is probably to do whatever it is that
mod_rewrite does inside your cgi script instead.

Grisha

On Mon, 3 Sep 2001, Keegan Miller wrote:

> I'm working on a system which was working with Python as a CGI handler.
> After switching to mod_python, most of it works.  But the site depends on
> some environment variables which are extracted from the URL by Apache's
> mod_rewrite module.  For some reason, these environment variables aren't
> loaded into os.environ.
>
> Does anyone know how I can access these variables?
>
> When this module was running as a CGI script, the env vars were there.  Now,
> system vars like OS are there, but the ones created by mod_rewrite are not.
>
> I'm running Apache 1.3.20, Python 2.1, and mod_python 2.7.4 on Windows 2000.
>
> Thanks.
> Keegan Miller
>
>


From massmail at lb.bcentral.com  Sun Sep  9 21:27:48 2001
From: massmail at lb.bcentral.com (Anonymouse)
Date: Fri Jan  9 21:59:05 2004
Subject: [mod_python] , , .
Message-ID: <1000070868.67491.qmail@ech>

                   !

	           ?   
   , , , .
  ,  .

	 -              , , ,   . .,   ,       ,    . 
	           ,    ,            .
	    . 
          ,     , ,      ,      .     International Rectifier, Epcos, Bourns, Metex, unit-t  .
          -  , -, , , ,   ..
          ,   ,  ,      , ,    ..
          -         - .
	
         ,   ,       :
		     vielm.narod.ru

           .
         ,      ,                .
            ,      :  (095)  275-89-94,    : tandiv@mail.ru .
           ,    ,    ,     ,    .

             : 275-89-94, 746-68-78.


_______________________________________________________________________
Powered by List Builder
To unsubscribe follow the link:
http://lb.bcentral.com/ex/manage/subscriberprefs?customerid=15131&subid=2F0199A84845956A&msgnum=1

From rusgarden at zensearch.net  Mon Sep 10 01:48:05 2001
From: rusgarden at zensearch.net ( " ")
Date: Fri Jan  9 21:59:05 2004
Subject: [mod_python]    
Message-ID: <20010910004805.05C5E5248@orinoco.portland.co.uk>

???????????? ?????? ?????????????!

???? ???????? ???????? ??????????? ? ? ?????????? ????? ????????? ?????? ?? ????? ???????.

???????? "??????? ???" ???????????????? ?? ?????????? ? ??????????????? ??????????. 
???????? ? ???? ??????? ? ????????, ?? ????????? ?????????? ????????? ??????????? 
?? ????? ???? ? ???????? ??????? ?? ??????????? ????????????.

?? ?????????? ????????? ???? ?????, ? ??? ????? ?? ???????:

- ??????
- ????? ????????
- ??????????
- ??????
- ???????
- ??????? ???????
- ????????????? ???????
- ??????? ????????

????? ?? ???????? ??????????? ??????????????, ??????? ???????????, ?????????? ???????????? 
????????????? ??????? ?? ????? ?????? ??????????.

??? ???? ??????? ???????? ?????????? ???????????? ?? ????????????? ??????????? ???? ????????.

???????? "??????? ???" ???????? ???????????? ????????? ?? ?????, ???????????? ?????????????? 
? ??????????? ?????? ? ????? ??????? ??????, ??? ????, ?? ??????? ????????? ?????.

???????? "??????? ???" ?????? ????? ?? ???? ??? ????????? ??????????? ?????????? ????? ????????? 
? ???????.

?? ?????????? ??? ???????? ??? ???? http://rusgarden.ru/  ??? ?? ?????? ???????????? ? 
????????????? ????????, ??????? ?????-?????? ? ????????? ??????????? ?????, ? ????? 
"??????????? ? "????????????" ???????????.


? ????????? ? ???.
???????? "??????? ???"


From nineclue at bigfoot.com  Mon Sep 10 17:12:11 2001
From: nineclue at bigfoot.com (nineclue@bigfoot.com)
Date: Fri Jan  9 21:59:05 2004
Subject: [mod_python] Congratulations for 3.0 alpha...
Message-ID: <Pine.LNX.4.10.10109101657470.24150-100000@mrham.hamslab.com>

I didn't knew that 3.0 alpha was released until I visited modpython.org
today.

Congratulations and thanks for your great effort, Grisha.

By the way, I'm wondering what's new in this release except for
supporting only apache 2.0. (I didn't installed LaTex so I can't see
documentation, sorry) :(

Suhku Huh



From grisha at modpython.org  Mon Sep 10 08:41:27 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:59:05 2004
Subject: [mod_python] Congratulations for 3.0 alpha...
In-Reply-To: <Pine.LNX.4.10.10109101657470.24150-100000@mrham.hamslab.com>
Message-ID: <Pine.BSF.4.32.0109100839330.23146-100000@localhost>


On Mon, 10 Sep 2001 nineclue@bigfoot.com wrote:

> By the way, I'm wondering what's new in this release except for
> supporting only apache 2.0. (I didn't installed LaTex so I can't see
> documentation, sorry) :(

The documentation hasn't been updated, so don't bother with LaTex. :-)

New in this release is 2.0 support, which in itself is a big deal since
Apache 2.0 is very different from 1.3 internally. The only one additional
feature is support for Apache 2.0 input and output filters.

Grisha


From gdamjan at mail.net.mk  Mon Sep 10 19:01:51 2001
From: gdamjan at mail.net.mk (Damjan)
Date: Fri Jan  9 21:59:05 2004
Subject: [mod_python] Congratulations for 3.0 alpha...
In-Reply-To: <Pine.BSF.4.32.0109100839330.23146-100000@localhost>; from grisha@modpython.org on Mon, Sep 10, 2001 at 08:41:27AM -0400
References: <Pine.LNX.4.10.10109101657470.24150-100000@mrham.hamslab.com> <Pine.BSF.4.32.0109100839330.23146-100000@localhost>
Message-ID: <20010910190151.A5913@legolas.on.net.mk>

> New in this release is 2.0 support, which in itself is a big deal since
> Apache 2.0 is very different from 1.3 internally. The only one additional
> feature is support for Apache 2.0 input and output filters.

Is mod_python 3.0 Apache-2.0 specific or it will also work with 
Apache 1.3?

Is there a chance that mod_python 3.0 will make improvements in Apache
handler registration? Till now mod_python could only register 1 (one)
handler per directory. It would be nice if it could register
diferent handlers per file extension.




-- 
Damjan Georgievski		|           ?????? ???????????
Skopje, Macedonia		|           ??????, ??????????

From grisha at modpython.org  Mon Sep 10 13:11:02 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:59:05 2004
Subject: [mod_python] Congratulations for 3.0 alpha...
In-Reply-To: <20010910190151.A5913@legolas.on.net.mk>
Message-ID: <Pine.BSF.4.32.0109101309210.25971-100000@localhost>


On Mon, 10 Sep 2001, Damjan wrote:

> Is mod_python 3.0 Apache-2.0 specific or it will also work with
> Apache 1.3?

Apache 2.0 only. Having it work with both will mean an #ifdef nightmare in
the C code.

> Is there a chance that mod_python 3.0 will make improvements in Apache
> handler registration? Till now mod_python could only register 1 (one)
> handler per directory. It would be nice if it could register
> diferent handlers per file extension.

I'll add this to the TODO list...

Grisha


From BKoos at milcomtech.com  Mon Sep 10 22:27:55 2001
From: BKoos at milcomtech.com (Billy Koos)
Date: Fri Jan  9 21:59:05 2004
Subject: [mod_python] compilation for apache 1.3.20 under cygwin
Message-ID: <8D1CBB5B5B9AF0498335A43CF97E385D4D35DC@ntexchg.milcomtech.com>

I'm trying to compile mod_python for apache 1.3.20 running under cygwin.
./configure seems to work correctly but when I try make I get the following:

$ make
make[1]: Entering directory `/usr/local/src/mod_python-2.7.6/src'

Compiling for DSO. For static, do "make static"

/usr/local/apache/bin/apxs -I/usr/local/src/mod_python-2.7.6/src/include
-I/usr/
local/src/apache_1.3.20/src/include
-I/usr/local/src/apache_1.3.20/src/os/unix -
I/usr/include/python2.1 -c mod_python.o _apachemodule.o requestobject.o
tableobj
ect.o util.o serverobject.o connobject.o  -lm
/usr/lib/python2.1/config/libpyth
on2.1.a      -lm
dllwrap --export-all --output-def libhttpd.def --implib libhttpd.a
--driver-name
 gcc -g -o mod_python.so mod_python.o _apachemodule.o requestobject.o
tableobjec
t.o util.o serverobject.o connobject.o -lm
/usr/lib/python2.1/config/libpython2.
1.a -lm
dllwrap: no export definition file provided
dllwrap: creating one, but that may not be what you want
dlltool: Unable to open object file:
/usr/lib/python2.1/config/libpython2.1.a
dllwrap: dlltool exited with status 1
apxs:Break: Command failed with rc=1
make[1]: *** [mod_python.so] Error 1
make[1]: Leaving directory `/usr/local/src/mod_python-2.7.6/src'
make: *** [do_dso] Error 2

Any thoughts?


William (Billy) M. Koos, Jr., P. E.

email:		bkoos@milcomtech.com or billy@koostech.com
phone:		(407) 260-0564 or (407) 659-0443
fax:		(407) 260-6227

Chief Technical Officer
MILCOM Technologies
www.milcomtech.com

Founder
Koos Technical Services, Inc.
www.koostech.com

Maitland Promenade
485 North Keller Road, Suite 140
Maitland, FL  32751


From philip at p6m7g8.com  Thu Sep 13 06:29:20 2001
From: philip at p6m7g8.com (Philip M. Gollucci)
Date: Fri Jan  9 21:59:05 2004
Subject: [mod_python] Test fails -- HELP !!
Message-ID: <20010913060256.P68181-100000@p6m7g8.student.umd.edu>

I'm pretty new to python, but have had lots of similiar experience with
mod_perl/PERL and apache.  I am a very good System Admin.
I've install Python and mod_python via the documentation bundled with each.
I tried the prog senario given here,
 http://drunken.student.umd.edu/manual-mod_python/inst-testing.html
but I get a strange error message (SEE BELOW)

Thanks for all you help in advance.

uname -a
    FreeBSD drunken.student.umd.edu 4.3-RELEASE FreeBSD 4.3-RELEASE #0: Sat Sep
    8 07:09:39 EST 2001
    root@drunken.student.umd.edu:/usr/src/sys/compile/DRUNKEN i386

python -V
    Python 2.2a3
    ./configure --prefix=/usr/home/src/python --without-threads

mod_python compile:
    mod_python/2.7.6
    ./configure --with-apxs=/usr/home/src/apache/apxs
    make dso
    su
    make install

apachectl configtest:
    orginally, I got the warning:
[Thu Sep 13 06:26:37 2001] [warn] Loaded DSO libexec/mod_python.so uses plain
Apache 1.3 API, this module might crash under EAPI! (please recompile it with
-DEAPI)
    but I added -DEAPI to CFLAGS in mod_python-2.7.6/src/Makefile
    reran
    make dso
    su
    make install

    and it dissappeared.


./httpd -X
    no warnings/errors

apache banner:
    Apache/1.3.20 (Unix) mod_ssl/2.8.4 OpenSSL/0.9.6b
    mod_python/2.7.6 Python/2.2a3 mod_perl/1.26

httpd -V
    Server version: Apache/1.3.20 (Unix)
    Server built:   Sep  9 2001 05:14:30
    Server's Module Magic Number: 19990320:10
    Server compiled with....
     -D EAPI
     -D EAPI_MM
     -D EAPI_MM_CORE_PATH="logs/httpd.mm"
     -D HAVE_MMAP
     -D USE_MMAP_SCOREBOARD
     -D USE_MMAP_FILES
     -D USE_FLOCK_SERIALIZED_ACCEPT
     -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT
     -D HTTPD_ROOT="/usr/home/src/apache"
     -D SUEXEC_BIN="/usr/home/src/apache/bin/suexec"
     -D DEFAULT_PIDLOG="logs/httpd.pid"
     -D DEFAULT_SCOREBOARD="logs/httpd.scoreboard"
     -D DEFAULT_LOCKFILE="logs/httpd.lock"
     -D DEFAULT_XFERLOG="logs/access_log"
     -D DEFAULT_ERRORLOG="logs/error_log"
     -D TYPES_CONFIG_FILE="conf/mime.types"
     -D SERVER_CONFIG_FILE="conf/httpd.conf"
     -D ACCESS_CONFIG_FILE="conf/access.conf"
     -D RESOURCE_CONFIG_FILE="conf/srm.conf"

httpd.conf snippets:
    LoadModule python_module      libexec/mod_python.so
    AddModule mod_python.c
    ### MOD PYTHOD ###
    Alias /python/ /usr/home/src/apache/python
    <Location /python>
        AddHandler python-program .py
        PythonHandler mptest
        PythonDebug On
    </Location>
    ### END MOD PYTHOD

/usr/home/src/apache/python/mptest.py:
    from mod_python import apache

    def handler(req):
        req.send_http_header()
        req.write("Hello World!")
        return apache.OK


Webpage Error message:
    Mod_python error: "PythonHandler mptest"

    Traceback (most recent call last):

    File "/usr/home/src/python/lib/python2.2/site-packages/mod_python/apache.py",
    line 181, in Dispatch module = import_module(module_name, _req)

    File "/usr/home/src/python/lib/python2.2/site-packages/mod_python/apache.py",
    line 335, in import_module f, p, d = imp.find_module(parts[i], path)

    ImportError: No module named mptest

Apache Error Log Message:
    [Thu Sep 13 05:25:34 2001] [error] PythonHandler mptest: Traceback (most
    recent call last):
    [Thu Sep 13 05:25:35 2001] [error] PythonHandler mptest:   File
    "/usr/home/src/python/lib/python2.2/site-packages/mod_python/apache.py",
    line 181, in Dispatch
    module = import_module(module_name, _req)
    [Thu Sep 13 05:25:35 2001] [error] PythonHandler mptest:   File
    "/usr/home/src/python/lib/python2.2/site-packages/mod_python/apache.py",
    line 335, in import_module
    f, p, d = imp.find_module(parts[i], path)
    [Thu Sep 13 05:25:35 2001] [error] PythonHandler mptest: ImportError: No module
    named mptest


Thanks again,

Philip


------------------------------------------------------------------------------
Philip M. Gollucci (p6m7g8) philip@p6m7g8.com 301.314.3118

Science, Discovery, & the Universe (UMCP)
        Webmaster & Webship Teacher
        URL: http://www.sdu.umd.edu

EJPress.com
        Database/PERL Programmer & System Admin
        URL : http://www.ejournalpress.com

Resume      : http://www.p6m7g8.com/resume-20010910_192426.txt





From grisha at modpython.org  Thu Sep 13 10:34:21 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:59:05 2004
Subject: [mod_python] Test fails -- HELP !!
In-Reply-To: <20010913060256.P68181-100000@p6m7g8.student.umd.edu>
Message-ID: <Pine.BSF.4.32.0109131026210.75527-100000@localhost>

If you're using <Location>, you will need to manually make sure that
the directory where the module is is in your pythonpath. Try this instead:

Alias /python/ /usr/home/src/apache/python
<Directory /usr/home/src/apache/python>
   AddHandler python-program .py
   PythonHandler mptest
   PythonDebug On
</Directory>


On Thu, 13 Sep 2001, Philip M. Gollucci wrote:

> I'm pretty new to python, but have had lots of similiar experience with
> mod_perl/PERL and apache.  I am a very good System Admin.
> I've install Python and mod_python via the documentation bundled with each.
> I tried the prog senario given here,
>  http://drunken.student.umd.edu/manual-mod_python/inst-testing.html
> but I get a strange error message (SEE BELOW)
>
> Thanks for all you help in advance.
>
> uname -a
>     FreeBSD drunken.student.umd.edu 4.3-RELEASE FreeBSD 4.3-RELEASE #0: Sat Sep
>     8 07:09:39 EST 2001
>     root@drunken.student.umd.edu:/usr/src/sys/compile/DRUNKEN i386
>
> python -V
>     Python 2.2a3
>     ./configure --prefix=/usr/home/src/python --without-threads
>
> mod_python compile:
>     mod_python/2.7.6
>     ./configure --with-apxs=/usr/home/src/apache/apxs
>     make dso
>     su
>     make install
>
> apachectl configtest:
>     orginally, I got the warning:
> [Thu Sep 13 06:26:37 2001] [warn] Loaded DSO libexec/mod_python.so uses plain
> Apache 1.3 API, this module might crash under EAPI! (please recompile it with
> -DEAPI)
>     but I added -DEAPI to CFLAGS in mod_python-2.7.6/src/Makefile
>     reran
>     make dso
>     su
>     make install
>
>     and it dissappeared.
>
>
> ./httpd -X
>     no warnings/errors
>
> apache banner:
>     Apache/1.3.20 (Unix) mod_ssl/2.8.4 OpenSSL/0.9.6b
>     mod_python/2.7.6 Python/2.2a3 mod_perl/1.26
>
> httpd -V
>     Server version: Apache/1.3.20 (Unix)
>     Server built:   Sep  9 2001 05:14:30
>     Server's Module Magic Number: 19990320:10
>     Server compiled with....
>      -D EAPI
>      -D EAPI_MM
>      -D EAPI_MM_CORE_PATH="logs/httpd.mm"
>      -D HAVE_MMAP
>      -D USE_MMAP_SCOREBOARD
>      -D USE_MMAP_FILES
>      -D USE_FLOCK_SERIALIZED_ACCEPT
>      -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT
>      -D HTTPD_ROOT="/usr/home/src/apache"
>      -D SUEXEC_BIN="/usr/home/src/apache/bin/suexec"
>      -D DEFAULT_PIDLOG="logs/httpd.pid"
>      -D DEFAULT_SCOREBOARD="logs/httpd.scoreboard"
>      -D DEFAULT_LOCKFILE="logs/httpd.lock"
>      -D DEFAULT_XFERLOG="logs/access_log"
>      -D DEFAULT_ERRORLOG="logs/error_log"
>      -D TYPES_CONFIG_FILE="conf/mime.types"
>      -D SERVER_CONFIG_FILE="conf/httpd.conf"
>      -D ACCESS_CONFIG_FILE="conf/access.conf"
>      -D RESOURCE_CONFIG_FILE="conf/srm.conf"
>
> httpd.conf snippets:
>     LoadModule python_module      libexec/mod_python.so
>     AddModule mod_python.c
>     ### MOD PYTHOD ###
>     Alias /python/ /usr/home/src/apache/python
>     <Location /python>
>         AddHandler python-program .py
>         PythonHandler mptest
>         PythonDebug On
>     </Location>
>     ### END MOD PYTHOD
>
> /usr/home/src/apache/python/mptest.py:
>     from mod_python import apache
>
>     def handler(req):
>         req.send_http_header()
>         req.write("Hello World!")
>         return apache.OK
>
>
> Webpage Error message:
>     Mod_python error: "PythonHandler mptest"
>
>     Traceback (most recent call last):
>
>     File "/usr/home/src/python/lib/python2.2/site-packages/mod_python/apache.py",
>     line 181, in Dispatch module = import_module(module_name, _req)
>
>     File "/usr/home/src/python/lib/python2.2/site-packages/mod_python/apache.py",
>     line 335, in import_module f, p, d = imp.find_module(parts[i], path)
>
>     ImportError: No module named mptest
>
> Apache Error Log Message:
>     [Thu Sep 13 05:25:34 2001] [error] PythonHandler mptest: Traceback (most
>     recent call last):
>     [Thu Sep 13 05:25:35 2001] [error] PythonHandler mptest:   File
>     "/usr/home/src/python/lib/python2.2/site-packages/mod_python/apache.py",
>     line 181, in Dispatch
>     module = import_module(module_name, _req)
>     [Thu Sep 13 05:25:35 2001] [error] PythonHandler mptest:   File
>     "/usr/home/src/python/lib/python2.2/site-packages/mod_python/apache.py",
>     line 335, in import_module
>     f, p, d = imp.find_module(parts[i], path)
>     [Thu Sep 13 05:25:35 2001] [error] PythonHandler mptest: ImportError: No module
>     named mptest
>
>
> Thanks again,
>
> Philip
>
>
> ------------------------------------------------------------------------------
> Philip M. Gollucci (p6m7g8) philip@p6m7g8.com 301.314.3118
>
> Science, Discovery, & the Universe (UMCP)
>         Webmaster & Webship Teacher
>         URL: http://www.sdu.umd.edu
>
> EJPress.com
>         Database/PERL Programmer & System Admin
>         URL : http://www.ejournalpress.com
>
> Resume      : http://www.p6m7g8.com/resume-20010910_192426.txt
>
>
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>



From guinan at bluebutton.com  Mon Sep 17 01:34:12 2001
From: guinan at bluebutton.com (Jamie Guinan)
Date: Fri Jan  9 21:59:05 2004
Subject: [mod_python] mod_python.publisher buglet [ + patch ]
Message-ID: <Pine.LNX.4.33.0109170115340.14699-100000@gemini.home.net>

Hi,

I am just starting to look at mod_python (2.7.6), and I tried
using mod_python.publisher.  Works nicely at first glance,
but I found a small bug.

httpd.conf:

<Directory /var/www/html/pytest>
  AddHandler python-program .py
  PythonHandler mod_python.publisher
</Directory>

Now load
  http://localhost:81/pytest/index.py/

Note the trailing "/", publisher.py does not check if PATH_INFO
is empty after the / and I see a Python error in my browser,

  Mod_python error: "PythonHandler mod_python.publisher"

  Traceback (innermost last):

  File "/usr/lib/python1.5/site-packages/mod_python/apache.py", line
  189, in Dispatch
  result = object(self.req)

  File "/usr/lib/python1.5/site-packages/mod_python/publisher.py", line
  93, in handler
  if func_path[-1] == ".":

  IndexError: string index out of range


Quickie patch (and bonus typo fix):

--cut below--
--- publisher.py.ori	Mon Sep 17 01:21:34 2001
+++ publisher.py	Mon Sep 17 01:33:03 2001
@@ -82,8 +82,13 @@
     # get the path PATH_INFO (everthing after script)
     if not _req.subprocess_env.has_key("PATH_INFO"):
         raise apache.SERVER_RETURN, apache.HTTP_NOT_FOUND
-
-    func_path = _req.subprocess_env["PATH_INFO"][1:] # skip fist /
+
+    func_path = _req.subprocess_env["PATH_INFO"][1:] # skip first /
+
+    # Check for empty func_path.
+    if not func_path:
+        raise apache.SERVER_RETURN, apache.HTTP_NOT_FOUND
+
     func_path = string.replace(func_path, "/", ".")
     if func_path[-1] == ".":
         func_path = func_path[:-1]
--cut above--

Cheers,
-Jamie


From justuser at hotbox.ru  Mon Sep 17 14:37:01 2001
From: justuser at hotbox.ru (Oleg_atl)
Date: Fri Jan  9 21:59:05 2004
Subject: [mod_python]  .
Message-ID: <1000737421.27109.qmail@ech>

     .
         ,    
      ,      . 
 ,    . 
   ,       .

                                                                 ,     .


_______________________________________________________________________
Powered by List Builder
To unsubscribe follow the link:
http://lb.bcentral.com/ex/manage/subscriberprefs?customerid=15216&subid=2DA99AC7B15666AE&msgnum=1

From harm at millionmonkeys.nl  Tue Sep 18 00:11:40 2001
From: harm at millionmonkeys.nl (harm@millionmonkeys.nl)
Date: Fri Jan  9 21:59:05 2004
Subject: [mod_python] inithandler?
Message-ID: <20010918001139.A11306@godel>

Moi,

first of all thanks for mod_python. I come from an (mod_)perl world and the
python version definitely is the easier one to use (There are tons of traps
you have to watch out for under mod_perl).

Anyway. My tiny question.

Why is there no init handler? It would run the moment the python
interpreter gets loaded/intiated by the freshly forked apache. It would be a 
nice place to initialise some site global modules.

Sure, I could do a:
if not mypersistentvar:
   mypersistentvar = Some.Nice.Object()

but an InitHandler does look like cleaner to me.

Any better way to arrange initialisation than the above method?

Thanks,
Harmen

-- 
                                                         The Moon is New

From grisha at modpython.org  Mon Sep 17 22:59:18 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:59:05 2004
Subject: [mod_python] inithandler?
In-Reply-To: <20010918001139.A11306@godel>
Message-ID: <Pine.BSF.4.32.0109172255040.66786-100000@localhost>

There is a PythonImport, which essentially does this. It has some severe
limitations.

The thing is that mod_python will create separate subinterpreters for
separate virtual servers (or optionally directories), but the only
opportunity to learn this information is during request procesing.

At Apache startup time you can't tell what the subinterpreters will be.
You have an option of manually giving interpreters names and making sure
that PythonImport executes under a specific name, but it's just kind of
messy....

I understand what the problem is, but  can't think of a clean solution to
it.

Grisha


On Tue, 18 Sep 2001 harm@millionmonkeys.nl wrote:

> Moi,
>
> first of all thanks for mod_python. I come from an (mod_)perl world and the
> python version definitely is the easier one to use (There are tons of traps
> you have to watch out for under mod_perl).
>
> Anyway. My tiny question.
>
> Why is there no init handler? It would run the moment the python
> interpreter gets loaded/intiated by the freshly forked apache. It would be a
> nice place to initialise some site global modules.
>
> Sure, I could do a:
> if not mypersistentvar:
>    mypersistentvar = Some.Nice.Object()
>
> but an InitHandler does look like cleaner to me.
>
> Any better way to arrange initialisation than the above method?
>
> Thanks,
> Harmen
>
> --
>                                                          The Moon is New
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From geert at boskant.nl  Tue Sep 18 10:15:11 2001
From: geert at boskant.nl (Geert Jansen)
Date: Fri Jan  9 21:59:06 2004
Subject: [mod_python] inithandler?
In-Reply-To: <20010918001139.A11306@godel>
Message-ID: <POEGJAKPNOCGNJMONMFKKEFDCCAA.geert@boskant.nl>

You wrote:

> Anyway. My tiny question.
>
> Why is there no init handler? It would run the moment the python
> interpreter gets loaded/intiated by the freshly forked apache. It
> would be a
> nice place to initialise some site global modules.
>
> Sure, I could do a:
> if not mypersistentvar:
>    mypersistentvar = Some.Nice.Object()

I'm afraid this is currently the only way. I use the technique too, and I
don't think it is unacceptably ugly :) And it works very well.

I am curious how mod_perl implements this init handler. I bet it runs it at
request time, setting a flag init_done when it has been called.

Recently I had problems implementing a "once for _all_ childs" initialiser
function, but that's another issue. See the recent mailing list archive if
you're interested.

Greetings,
Geert


From harm at millionmonkeys.nl  Tue Sep 18 14:16:19 2001
From: harm at millionmonkeys.nl (harm)
Date: Fri Jan  9 21:59:06 2004
Subject: [mod_python] inithandler?
In-Reply-To: <Pine.BSF.4.32.0109172255040.66786-100000@localhost>; from grisha@modpython.org on Mon, Sep 17, 2001 at 10:59:18PM -0400
References: <20010918001139.A11306@godel> <Pine.BSF.4.32.0109172255040.66786-100000@localhost>
Message-ID: <20010918141619.F11306@godel>

On Mon, Sep 17, 2001 at 10:59:18PM -0400, Gregory (Grisha) Trubetskoy wrote:
> 
> There is a PythonImport, which essentially does this. It has some severe
> limitations.
> 
> The thing is that mod_python will create separate subinterpreters for
> separate virtual servers (or optionally directories), but the only
> opportunity to learn this information is during request procesing.
> 
> At Apache startup time you can't tell what the subinterpreters will be.

But you do know it the moment the subinterpreters are actually created, 
don`t you? So mod_python could call some handlers the moment it creates 
an fresh interpreter.

Ohwell, as mentioned, it in not _that_ important. Thanks for your reply!

Greetings,
Harmen


> You have an option of manually giving interpreters names and making sure
> that PythonImport executes under a specific name, but it's just kind of
> messy....
> 
> I understand what the problem is, but  can't think of a clean solution to
> it.
> 
> Grisha
> 
> > Moi,
> >
> > first of all thanks for mod_python. I come from an (mod_)perl world and the
> > python version definitely is the easier one to use (There are tons of traps
> > you have to watch out for under mod_perl).
> >
> > Anyway. My tiny question.
> >
> > Why is there no init handler? It would run the moment the python
> > interpreter gets loaded/intiated by the freshly forked apache. It would be a
> > nice place to initialise some site global modules.
> >
> > Sure, I could do a:
> > if not mypersistentvar:
> >    mypersistentvar = Some.Nice.Object()
> >
> > but an InitHandler does look like cleaner to me.
> >
> > Any better way to arrange initialisation than the above method?
> >
> > Thanks,
> > Harmen
> >

-- 
                                The Moon is Waxing Crescent (2% of Full)

From sjh at wibble.net  Wed Sep 19 17:13:33 2001
From: sjh at wibble.net (Steven Hanley)
Date: Fri Jan  9 21:59:06 2004
Subject: [mod_python] installation config to allow different programs
Message-ID: <20010919171332.A5721@shiva.marian>

All

I am not on the list so could any replies also be cc'd to me.

Reading the documentation it suggests doing something like 

<IfModule mod_python.c>
  Alias /python/ /some/where/
  <Location /python>
    AddHandler python-program .py
    PythonHandler someprog     
  </Location>
</IfModule>  

which will cause the handler method in someprog to be run whenever any
random.py program is accessed at http://servername/python/random.py.

I am wondering why there is no handler distributed with mod python to simply
allow something more like.

<IfModule mod_python.c>
  Alias /python/ /some/where/
  <Location /python>
    SetHandler python-program
    PythonHandler mod_python.run      
  </Location>
</IfModule>  

Where any file in /python can be accessed and run with mod_python. I know
there is the publisher module but that is not what I am thinking of.

More if we have a 

program named "first" which contains python code such as 

from mod_python import apache

def handler(req):                          
    req.send_http_header()
    req.write("Hello World!")
    return apache.OK

and another program named "second" with the code

from mod_python import apache

def handler(req):                          
    req.send_http_header()
    req.write("Goodbye World!")
    return apache.OK

and an access to 

http://servername/python/first gives the Hello World program
an access to 
http://servername/python/second gives the Goodby World program

Also notice the programs dont have any .py extension.

So I was unable to work out a way to configure mod_python to handle this sort
of case. Can someone please help.

It seems in the documentation we jump straight from explicit reference to a
single program.py to using something like publisher.

I saw someone say they had tried to do this and it wasnt working on this
mailing list

http://www.modpython.org/pipermail/mod_python/2001-August/001606.html

but he then came back and said it was working two posts later without any
explanation of how.

I see the same behavior, it just sends the source code of the pythong program
back to the browser.

       See You
           Steve

-- 
sjh@wibble.net http://wibble.net/~sjh
Look Up In The Sky
    Is it a bird?   No
        Is it a plane    No
            Is it a small blue banana?
Yes

From francoislepoutre at compuserve.com  Tue Sep 18 11:52:02 2001
From: francoislepoutre at compuserve.com (=?iso-8859-1?Q?Fran=E7ois_Lepoutre?=)
Date: Fri Jan  9 21:59:06 2004
Subject: [mod_python] threading issue on win2k
Message-ID: <01c1402f$f2dd1420$0d54d3d4@csi.compuserve.com>

Hi all,

Just a few words to say that i discovered python and mod_python a few months ago.

Developping with these tools has been one of my greatest programming 
pleasure (the previous was smalltalk a century ago...).

However I have a nasty pb to solve which seems to be windows-specific and 
related to windows threading.

The configuration:
- W2000 server,
- python 2.1 + mxodbc,
- apache 1.3.20
- mod_python 2.7.4 for 2.1

Under heavy loads, the the code sequence that load odbc information
from the db engine (ASA by sybase) seems to break because of
thread concurrency.

The apache just breaks with log message:
"c:\python21\lib\mod_python\apache.py", line 193, in Dispatch
 result=object(req)
IOError: Write failed, client closed connexion

When putting apache "ThreadPerChild" to 1 instead of 2 to 50,
the pb vanishes... and performance as well. (:

I'd like to know whether the pb is:
- apache related (is apache 2/win a potential cure?)
- python-related (can we improve our scripts with thread-caring code?)
- modpython-related (should we try to tweak apache.py?)

I know next to nothing to low-level os issues threads except that they
tend to get in the way of interperters like python...

Thanks in advance for any piece of advice.

Fran?ois



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010918/5ec094da/attachment-0002.htm
From vielmos at yahoo.com  Thu Sep 20 12:53:08 2001
From: vielmos at yahoo.com ( .)
Date: Fri Jan  9 21:59:06 2004
Subject: [mod_python]        
Message-ID: <1000990388.40354.qmail@ech>

                    !

        -         :  ,  (   ),    (    ).
     
         ,       : www.viel.f2s.com 

               ,    ,            .
     ,     , ,      ,      .     International Rectifier, Epcos, Bourns, Metex, unit-t  .
      :       .         .
    
       : , -2,-3, POST-MIX  .        ,  ,    .. 

     :  /  /  .
     
    :       ,,   .

              :     !!!(D  25  1000.)
   
          ,  ,       ,                .
            ,     : (095) 275-89-94,    :  vielmos@yahoo.com 
     
             ,    ,    ,     ,    .

          . : (095) 275-89-94, 746-68-78.


_______________________________________________________________________
Powered by List Builder
To unsubscribe follow the link:
http://lb.bcentral.com/ex/manage/subscriberprefs?customerid=15203&subid=3256B486083969DA&msgnum=1

From wart at softhome.net  Thu Sep 20 18:58:39 2001
From: wart at softhome.net (Wartan Hachaturow)
Date: Fri Jan  9 21:59:06 2004
Subject: [mod_python] Another call for open-source "real world" modpython apps..
Message-ID: <20010920185839.A21515@penguin.aktivist.ru>

Hi.

Do anyone here know of any mod_python open-source applications? I mean
the ones I could use as examples, or base my code on them..
The ones that I've seen (maki, PyWM) lack the features I need -- sessions,
"users", persistent db connections and all other "bells and whistles".
All tools that are intended to be used with mod_python (WebWare, weblib)
are too poorly documented, and lack examples (again).

P.S. I know I can write this stuff by myself, but I'm a bit lazy -- and after
all, this is what open source is for :)

-- 
Regards, Wartan.
echo "Your stdio isn't very std." 
		-- Larry Wall in Configure from the perl distribution

From grisha at modpython.org  Tue Sep 18 08:54:04 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:59:06 2004
Subject: [mod_python] inithandler?
In-Reply-To: <20010918141619.F11306@godel>
Message-ID: <Pine.BSF.4.32.0109180852050.73886-100000@localhost>


On Tue, 18 Sep 2001, harm wrote:

> On Mon, Sep 17, 2001 at 10:59:18PM -0400, Gregory (Grisha) Trubetskoy wrote:
> >
> > There is a PythonImport, which essentially does this. It has some severe
> > limitations.
> >
> > The thing is that mod_python will create separate subinterpreters for
> > separate virtual servers (or optionally directories), but the only
> > opportunity to learn this information is during request procesing.
> >
> > At Apache startup time you can't tell what the subinterpreters will be.
>
> But you do know it the moment the subinterpreters are actually created,
> don`t you? So mod_python could call some handlers the moment it creates
> an fresh interpreter.

Subinterpreters are created during request processing - if one exists
already it is used, otherwise it is created. So it won't be any different
than using the Python import mechanism for one time initialization.

Grisha


From geert at boskant.nl  Wed Sep 19 13:35:50 2001
From: geert at boskant.nl (Geert Jansen)
Date: Fri Jan  9 21:59:06 2004
Subject: [mod_python] installation config to allow different programs
In-Reply-To: <20010919171332.A5721@shiva.marian>
Message-ID: <POEGJAKPNOCGNJMONMFKOEFHCCAA.geert@boskant.nl>

You wrote:

> I am wondering why there is no handler distributed with mod
> python to simply
> allow something more like.
>
> <IfModule mod_python.c>
>   Alias /python/ /some/where/
>   <Location /python>
>     SetHandler python-program
>     PythonHandler mod_python.run
>   </Location>
> </IfModule>

[snip]

> http://servername/python/first gives the Hello World program
> an access to
> http://servername/python/second gives the Goodby World program
>
> Also notice the programs dont have any .py extension.

mod_python doesn't contain a handler that can do this. But it's easy to
write such a handler yourself. You can get the python script name from
request.path_info(). Use this to load it with __import__() and use hasattr()
to check for a function named handler(). Then call the function.

Greetings,
Geert
--
long long email=0X78DC806B91FCA334,i=0,j; main(){j=(email>>4*i)&15;
putchar(j+j/2+j/5-j/12+(j<13?97:-65+7*j));i/15?exit(0):++i,main();}


From grisha at modpython.org  Wed Sep 19 09:16:12 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:59:06 2004
Subject: [mod_python] installation config to allow different programs
In-Reply-To: <20010919171332.A5721@shiva.marian>
Message-ID: <Pine.BSF.4.32.0109190912580.92366-100000@localhost>

I *think* you should be able to use SetHandler and /some/script/function
with the publisher handler. The actual file on the server should still be
called sctipt.py.

I don't know how explicit the documentation is about it, but mod_python
doesn't care about the ".py".

Grisha

On Wed, 19 Sep 2001, Steven Hanley wrote:

> All
>
> I am not on the list so could any replies also be cc'd to me.
>
> Reading the documentation it suggests doing something like
>
> <IfModule mod_python.c>
>   Alias /python/ /some/where/
>   <Location /python>
>     AddHandler python-program .py
>     PythonHandler someprog
>   </Location>
> </IfModule>
>
> which will cause the handler method in someprog to be run whenever any
> random.py program is accessed at http://servername/python/random.py.
>
> I am wondering why there is no handler distributed with mod python to simply
> allow something more like.
>
> <IfModule mod_python.c>
>   Alias /python/ /some/where/
>   <Location /python>
>     SetHandler python-program
>     PythonHandler mod_python.run
>   </Location>
> </IfModule>
>
> Where any file in /python can be accessed and run with mod_python. I know
> there is the publisher module but that is not what I am thinking of.
>
> More if we have a
>
> program named "first" which contains python code such as
>
> from mod_python import apache
>
> def handler(req):
>     req.send_http_header()
>     req.write("Hello World!")
>     return apache.OK
>
> and another program named "second" with the code
>
> from mod_python import apache
>
> def handler(req):
>     req.send_http_header()
>     req.write("Goodbye World!")
>     return apache.OK
>
> and an access to
>
> http://servername/python/first gives the Hello World program
> an access to
> http://servername/python/second gives the Goodby World program
>
> Also notice the programs dont have any .py extension.
>
> So I was unable to work out a way to configure mod_python to handle this sort
> of case. Can someone please help.
>
> It seems in the documentation we jump straight from explicit reference to a
> single program.py to using something like publisher.
>
> I saw someone say they had tried to do this and it wasnt working on this
> mailing list
>
> http://www.modpython.org/pipermail/mod_python/2001-August/001606.html
>
> but he then came back and said it was working two posts later without any
> explanation of how.
>
> I see the same behavior, it just sends the source code of the pythong program
> back to the browser.
>
>        See You
>            Steve
>
> --
> sjh@wibble.net http://wibble.net/~sjh
> Look Up In The Sky
>     Is it a bird?   No
>         Is it a plane    No
>             Is it a small blue banana?
> Yes
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From vielmos at yahoo.com  Thu Sep 20 18:19:24 2001
From: vielmos at yahoo.com ( .)
Date: Fri Jan  9 21:59:06 2004
Subject: [mod_python]        
Message-ID: <1001009964.88088.qmail@ech>

 kodirovra KOI-8R ili Kirilica(windows)
                
                !

  &#8220;-&#8221;         :  ,  (   ),    (    ).

           ,       : www.viel.f2s.com .

                 ,    ,            .
      
       ,     , ,      ,      .     International Rectifier, Epcos, Bourns, Metex, unit-t  .
       :       .         .

         : , -2,-3, POST-MIX  .        , &#8220;&#8221; ,    .. 
      
        :  /  /  .
       :       ,,   .

             ,  ,       ,                .
        
               ,     : (095) 275-89-94,    : vielmos@yahoo.com 

             ,    ,    ,     ,    .

          . : (095) 275-89-94, 746-68-78.



_______________________________________________________________________
Powered by List Builder
To unsubscribe follow the link:
http://lb.bcentral.com/ex/manage/subscriberprefs?customerid=15203&subid=D4E1506707A94BA2&msgnum=2

From grisha at modpython.org  Thu Sep 20 22:52:28 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:59:06 2004
Subject: [mod_python] threading issue on win2k
In-Reply-To: <01c1402f$f2dd1420$0d54d3d4@csi.compuserve.com>
Message-ID: <Pine.BSF.4.32.0109202244420.26247-100000@localhost>

The problem may be with the odbc driver.

I don't know about this particular one (sybase), but I know that some of
the very latest m$ access and sql server odbc drivers are still not thread
safe.

The link below seems to be confirming my theory:

http://groups.google.com/groups?hl=en&selm=397EE72C.3AC8E5DE%40ever.ever

Grisha

On Tue, 18 Sep 2001, [iso-8859-1] Fran?ois Lepoutre wrote:

> Hi all,
>
> Just a few words to say that i discovered python and mod_python a few months ago.
>
> Developping with these tools has been one of my greatest programming
> pleasure (the previous was smalltalk a century ago...).
>
> However I have a nasty pb to solve which seems to be windows-specific and
> related to windows threading.
>
> The configuration:
> - W2000 server,
> - python 2.1 + mxodbc,
> - apache 1.3.20
> - mod_python 2.7.4 for 2.1
>
> Under heavy loads, the the code sequence that load odbc information
> from the db engine (ASA by sybase) seems to break because of
> thread concurrency.
>
> The apache just breaks with log message:
> "c:\python21\lib\mod_python\apache.py", line 193, in Dispatch
>  result=object(req)
> IOError: Write failed, client closed connexion
>
> When putting apache "ThreadPerChild" to 1 instead of 2 to 50,
> the pb vanishes... and performance as well. (:
>
> I'd like to know whether the pb is:
> - apache related (is apache 2/win a potential cure?)
> - python-related (can we improve our scripts with thread-caring code?)
> - modpython-related (should we try to tweak apache.py?)
>
> I know next to nothing to low-level os issues threads except that they
> tend to get in the way of interperters like python...
>
> Thanks in advance for any piece of advice.
>
> Fran?ois
>
>
>
>


From francois.lepoutre at seriatim.com  Fri Sep 21 09:59:05 2001
From: francois.lepoutre at seriatim.com (Francois Lepoutre)
Date: Fri Jan  9 21:59:06 2004
Subject: [mod_python] threading issue on win2k
In-Reply-To: <Pine.BSF.4.32.0109202244420.26247-100000@localhost>
Message-ID: <FMENKHOEIEBLNLADJANEMECLCAAA.francois.lepoutre@seriatim.com>

Threading ... I am quite a newbie in this area.

I Tried quite a bit of "trial and errors" with both
the standard threading and mutex python libs
in our script (lock, mutex...) however.

The idea was to try ensure that the mxodbc code is run
in a protected environment where the sql code is run
in a round-robin way.

With no success. Any chance we can do that...

By the way i'd be glad to try the whole thing on
mod_python 3 on win32/apache2 when available.

In case of pb we will have to switch to a "closed"
*nix only-approach.

Thanks for mod_python. Great.
Simple and fast. No fuss.

That the way i like it with IT  :)

-----Message d'origine-----
De : grisha@modpython.org [mailto:grisha@modpython.org]
Envoye : 21/09/01 03:52
A : Fran?ois Lepoutre
Cc : mod_python@modpython.org
Objet : Re: [mod_python] threading issue on win2k


The problem may be with the odbc driver.

I don't know about this particular one (sybase), but I know that some of
the very latest m$ access and sql server odbc drivers are still not thread
safe.

The link below seems to be confirming my theory:

http://groups.google.com/groups?hl=en&selm=397EE72C.3AC8E5DE%40ever.ever

Grisha

On Tue, 18 Sep 2001, [iso-8859-1] Fran?ois Lepoutre wrote:

> Hi all,
>
> Just a few words to say that i discovered python and mod_python a few
months ago.
>
> Developping with these tools has been one of my greatest programming
> pleasure (the previous was smalltalk a century ago...).
>
> However I have a nasty pb to solve which seems to be windows-specific and
> related to windows threading.
>
> The configuration:
> - W2000 server,
> - python 2.1 + mxodbc,
> - apache 1.3.20
> - mod_python 2.7.4 for 2.1
>
> Under heavy loads, the the code sequence that load odbc information
> from the db engine (ASA by sybase) seems to break because of
> thread concurrency.
>
> The apache just breaks with log message:
> "c:\python21\lib\mod_python\apache.py", line 193, in Dispatch
>  result=object(req)
> IOError: Write failed, client closed connexion
>
> When putting apache "ThreadPerChild" to 1 instead of 2 to 50,
> the pb vanishes... and performance as well. (:
>
> I'd like to know whether the pb is:
> - apache related (is apache 2/win a potential cure?)
> - python-related (can we improve our scripts with thread-caring code?)
> - modpython-related (should we try to tweak apache.py?)
>
> I know next to nothing to low-level os issues threads except that they
> tend to get in the way of interperters like python...
>
> Thanks in advance for any piece of advice.
>
> Fran?ois
>
>
>
>


From laprice at efn.org  Fri Sep 21 09:50:29 2001
From: laprice at efn.org (larry a price)
Date: Fri Jan  9 21:59:06 2004
Subject: [mod_python] Another call for open-source "real world" modpython
 apps..
In-Reply-To: <20010920185839.A21515@penguin.aktivist.ru>
Message-ID: <Pine.GSU.4.21.0109210949040.23252-100000@garcia.efn.org>

try webware
http://webware.sourceforge.net
it's got that plus a fairly sane internal architecture and plumbing for
databases.

<html><head><title>html sig</title></head><body><div style="font:sans-serif;
font-size:72pt;line-height:84pt;color:blue1;"><ul><li>sexy is good</li><li>
linux is good</li><li>qed: linux is sexy</li></ul><hr><hr><hr><hr><hr><hr>
<a href="http://www.efn.org/~laprice">laprice at efn dot org</a></body></html>
On Thu, 20 Sep 2001, Wartan Hachaturow wrote:

> Hi.
> 
> Do anyone here know of any mod_python open-source applications? I mean
> the ones I could use as examples, or base my code on them..
> The ones that I've seen (maki, PyWM) lack the features I need -- sessions,
> "users", persistent db connections and all other "bells and whistles".
> All tools that are intended to be used with mod_python (WebWare, weblib)
> are too poorly documented, and lack examples (again).
> 
> P.S. I know I can write this stuff by myself, but I'm a bit lazy -- and after
> all, this is what open source is for :)
> 
> -- 
> Regards, Wartan.
> echo "Your stdio isn't very std." 
> 		-- Larry Wall in Configure from the perl distribution
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
> 


From forsberg at lysator.liu.se  Sat Sep 22 15:19:32 2001
From: forsberg at lysator.liu.se (Erik Forsberg)
Date: Fri Jan  9 21:59:06 2004
Subject: [mod_python] How do I use the PythonTypeHandler?
Message-ID: <87ofo3qs63.fsf@j218.ryd.student.liu.se>

Hi!

Just curious - how do I use the PythonTypeHandler?

If I just let it return apache.OK I get a 404 when I come to the
PythonHandler. Strange.

I've read the docs, but they're a bit unhelpful in this case.

\EF
-- 
Erik Forsberg                 http://www.lysator.liu.se/~forsberg/
GPG/PGP Key: 1024D/0BAC89D9 <forsberg@lysator.liu.se> 
Key Fingerprint: B308 87FC 566E 825A 5ABC  247C AC9B AB14 0BAC 89D9

From harm at millionmonkeys.nl  Mon Sep 24 23:16:30 2001
From: harm at millionmonkeys.nl (harm@millionmonkeys.nl)
Date: Fri Jan  9 21:59:06 2004
Subject: [mod_python] If-Modified-Since date parsing?
Message-ID: <20010924231630.X11306@godel>

Moi,

I`m making an little scale-this-image-on-the-fly handler. Works like
requesting /magicimages/chicken.gif?width=200&height=255 and you will get
an nicely scaled image. Piece of cake of course and uses a filecache to 
make things nice and speedy.

Now I would like to use the If-Modified-Since header, so I can return the 304
"Not modified" code. Makes requests go faster for everybody (No unnecesary
downloads). 
Is there any module out there to parse the date from this header in
something easier to work with? Example date:
Tue, 1 Jul 2002 11:11:11 GMT

Thanks,
Harmen

Ps: The handler needs to scale the usual web-images: gif, jpg and png. I am
currently using Pythonwares Image (PIM) library. Any better (smaller /
simpler / more mod_python friendly) suggestions?




-- 
                                The Moon is Waxing Gibbous (55% of Full)

From grisha at modpython.org  Mon Sep 24 17:37:32 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 21:59:06 2004
Subject: [mod_python] If-Modified-Since date parsing?
In-Reply-To: <20010924231630.X11306@godel>
Message-ID: <Pine.BSF.4.32.0109241735210.4343-100000@localhost>

Python 2.1 (#3, Jun 11 2001, 16:02:23)
[GCC 2.95.2 19991024 (release)] on freebsd4
Type "copyright", "credits" or "license" for more information.
>>> import rfc822
>>> rfc822.parsedate("Tue, 1 Jul 2002 11:11:11 GMT")
(2002, 7, 1, 11, 11, 11, 0, 0, 0)
>>>

HTH,

Grisha

On Mon, 24 Sep 2001 harm@millionmonkeys.nl wrote:

> Moi,
>
> I`m making an little scale-this-image-on-the-fly handler. Works like
> requesting /magicimages/chicken.gif?width=200&height=255 and you will get
> an nicely scaled image. Piece of cake of course and uses a filecache to
> make things nice and speedy.
>
> Now I would like to use the If-Modified-Since header, so I can return the 304
> "Not modified" code. Makes requests go faster for everybody (No unnecesary
> downloads).
> Is there any module out there to parse the date from this header in
> something easier to work with? Example date:
> Tue, 1 Jul 2002 11:11:11 GMT
>
> Thanks,
> Harmen
>
> Ps: The handler needs to scale the usual web-images: gif, jpg and png. I am
> currently using Pythonwares Image (PIM) library. Any better (smaller /
> simpler / more mod_python friendly) suggestions?
>
>
>
>
> --
>                                 The Moon is Waxing Gibbous (55% of Full)
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From donotsend at priceorg.com  Sat Sep 29 03:51:11 2001
From: donotsend at priceorg.com (donotsend@priceorg.com)
Date: Fri Jan  9 21:59:06 2004
Subject: [mod_python] Re: 
Message-ID: <200109290046.f8T0kND42162@eden.ispol.com>

???? ?? ????????????? ????? ??? ??????? ????,
??? ????? ????????? ???????? ?????????????
?????? http://www.tourfirm.com
??????? ? ????????????? ??????, ????????????
??????? ???????? ? ????? ???????, ? ????? ??????????????
? ???? ???????? ????????? ???????? ? ????:
1.      ???????? ????? 
2.      URL (???? ??????)
3.      ??????
4.      ?????? (???????, ???? ? ?.?.)
5.      ?????????? ????? (?????, ????????? ??????? ? ?.?.)
6.      ????? ? ?????????? ??????.
???? ??????????? ? ?????? ?? ?????????? ? ?????? ??? 
????????? ?? ?? ????????.
?????? ?????????? ?? tourism@tourfirm.com

From dsl45393 at vip.cybercity.dk  Sun Sep 30 23:42:00 2001
From: dsl45393 at vip.cybercity.dk (Ole Hansen)
Date: Fri Jan  9 21:59:06 2004
Subject: [mod_python] Apache reload problem
Message-ID: <200109302141.f8ULfaV82629@usr01.cybercity.dk>

Hi,

I have just joined this list, so this subject might have been covered before. 
However, the problem is that whenever I change something in my '.py'-file 
apache fails to reload the page. From error_log it seems like apache searches 
for a file with the extension '.p' instead of '.py' - so I modified 
mod_python/apache.py a little.
I replaced (filepath[:-1]) with (filepath[:]) in the following piece of code. 
line 356 and 359 in apache.py


<snip>
            # check also .py and take the newest
            if os.path.exists(filepath[:]) :

                # get the time of the .py file
                mod = os.stat(filepath[:])
                mtime = max(mtime, mod[stat.ST_MTIME])
<snip>

Apache hasn't complained ever since - but this is perhaps not a very good 
solution. Does anybody have another and maby better solution?
I'm using apache 1.3.19, mod_python 2.7.5, and Python 2.1.1.
The file permissions for my '.py'-file is like 'chmod ugo+rwx', so I don't 
think this the problem.

I'm  a newbie to mod_python/Python/Apache so I might have overlooked 
something.

Br,
Ole Hansen


From sebastien.deleersnyder at be.unisys.com  Sat Sep  1 05:18:15 2001
From: sebastien.deleersnyder at be.unisys.com (Deleersnyder, Sebastien)
Date: Fri Jan  9 22:02:54 2004
Subject: [mod_python] Cookie setting and reading
Message-ID: <3995C58A11F7D211A7EE00105AC580980192DD3C@BE-BRU-EXCH-2>

Hi,

This certainly has been discussed here before, but I do not seem to find 
any documentation/example on the following.

How do I set a cookie. And how do I read the same cookie back?

I think the following code should set the cookie and forces the browser to
save 
the cookie for a next logon (by setting the expiration date to the maximum).

req.headers_out['Set-Cookie']='key=value; path=/; expires=Wed, 09-Nov-2030
23:59:00 GMT'
req.send_http_header()

Only I am testing this with IE 6 and I do not see the cookie in my cookie
directory or privacy settings.
My privacy settings is configured to allow all cookies.

Next question:
If successfully set, how do I read the cookie when the client reconnects?
Is this a member of the request class?

regards,

Sebastien

From sebastien.deleersnyder at be.unisys.com  Sat Sep  1 08:57:32 2001
From: sebastien.deleersnyder at be.unisys.com (Deleersnyder, Sebastien)
Date: Fri Jan  9 22:02:54 2004
Subject: [mod_python] SOLVED + example: Cookie setting and reading
Message-ID: <3995C58A11F7D211A7EE00105AC580980192DD3D@BE-BRU-EXCH-2>

Hi,

After some checking and aid from Leonid Timochouk I solved the problem.
I already had a send_http_header() call before my cookie setting 
(classic mistake).
The cookie is send to the server as part of the headers_in.

Here is my sample code:

<snip>
from mod_python import apache,
def getCookie(headers_in, key):
    """ Method to retrieve a certain cookie, returns None if not found, or
not set"""
    if headers_in.has_key('Cookie'):
        import Cookie
        C = Cookie.SmartCookie(headers_in['Cookie'])
        C.load(headers_in['Cookie'])
        if C.has_key(key):
            return C[key].value
    return None

def handler(req):
    """ This sample code will result in 'None' the first time the page is
leaded
    and 'Value' on the reload."""
    form = util.FieldStorage(req)
    req.headers_out['Set-Cookie']='key=value; path=/; expires=Wed,
09-Nov-2030 23:59:00 GMT'
    req.write(repr(getCookie(req.headers_in, 'key')))
    return apache.OK
</snip>

regards,

Sebastien
>  -----Original Message-----
> From: 	Deleersnyder, Sebastien  
> Sent:	zaterdag 1 september 2001 12:21
> To:	mod_python@modpython.org
> Subject:	Cookie setting and reading
> 
> Hi,
> 
> This certainly has been discussed here before, but I do not seem to find 
> any documentation/example on the following.
> 
> How do I set a cookie. And how do I read the same cookie back?
> 
> I think the following code should set the cookie and forces the browser to
> save 
> the cookie for a next logon (by setting the expiration date to the
> maximum).
> 
> req.headers_out['Set-Cookie']='key=value; path=/; expires=Wed, 09-Nov-2030
> 23:59:00 GMT'
> req.send_http_header()
> 
> Only I am testing this with IE 6 and I do not see the cookie in my cookie
> directory or privacy settings.
> My privacy settings is configured to allow all cookies.
> 
> Next question:
> If successfully set, how do I read the cookie when the client reconnects?
> Is this a member of the request class?
> 
> regards,
> 
> Sebastien

From linkangels at hotmail.com  Mon Sep  3 08:16:35 2001
From: linkangels at hotmail.com (Kristy Christie)
Date: Fri Jan  9 22:02:54 2004
Subject: [mod_python] Problem Installing
Message-ID: <F85HaZVrDs9aAOPpBpc00000a57@hotmail.com>

Hi.

I installed mod_python on Windows 98 by placing the dll file into apache 
modules folder and adjusting the httpd.conf file as directed in the manual. 
When I try to open mptest.py (http://localhost:9000/python/mptest.py), I get 
an internal server error. Below is my httpd.conf file and the my Apache 1.3 
server log.

It's really important that I get Apache to be able to open python files. Can 
somebody please help me? Please!

Thank you very much.

~Kristy

._____________________________________.
| |  Jesus Christ really loves you!   |
|--- Visit the website & find out     |
| |  more http://www.jesuschrist.com  |
|_____________________________________|

:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
ERROR
:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

Internal Server Error
The server encountered an internal error or misconfiguration and was unable 
to complete your request.
Please contact the server administrator, you@your.address and inform them of 
the time the error occurred, and anything you might have done that may have 
caused the error.
More information about this error may be available in the server error log.

::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
SERVER LOG
::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

[Sun Sep 03 15:35:05 1995] [warn] Loaded DSO modules/mod_python.dll uses 
plain Apache 1.3 API, this module might crash under EAPI! (please recompile 
it with -DEAPI)
make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.
make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.
[Sun Sep 03 15:39:39 1995] [warn] Loaded DSO modules/mod_python.dll uses 
plain Apache 1.3 API, this module might crash under EAPI! (please recompile 
it with -DEAPI)
make_obcallback(): could not import mod_python.apache.
make_obcallback(): could not call init.

:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
HTTPD.CONF
:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

#
# Based upon the NCSA server configuration files originally by Rob McCool.
#
# This is the main Apache server configuration file.  It contains the
# configuration directives that give the server its instructions.
# See <URL:http://www.apache.org/docs/> for detailed information about
# the directives.
#
# Do NOT simply read the instructions in here without understanding
# what they do.  They're here only as hints or reminders.  If you are unsure
# consult the online docs. You have been warned.
#
# After this file is processed, the server will look for and process
# C:/Program Files/nusphere/apache/conf/srm.conf and then C:/Program 
Files/nusphere/apache/conf/access.conf
# unless you have overridden these with ResourceConfig and/or
# AccessConfig directives here.
#
# The configuration directives are grouped into three basic sections:
#  1. Directives that control the operation of the Apache server process as 
a
#     whole (the 'global environment').
#  2. Directives that define the parameters of the 'main' or 'default' 
server,
#     which responds to requests that aren't handled by a virtual host.
#     These directives also provide default values for the settings
#     of all virtual hosts.
#  3. Settings for virtual hosts, which allow Web requests to be sent to
#     different IP addresses or hostnames and have them handled by the
#     same Apache server process.
#
# Configuration and logfile names: If the filenames you specify for many
# of the server's control files begin with "/" (or "drive:/" for Win32), the
# server will use that explicit path.  If the filenames do *not* begin
# with "/", the value of ServerRoot is prepended -- so "logs/foo.log"
# with ServerRoot set to "/usr/local/apache" will be interpreted by the
# server as "/usr/local/apache/logs/foo.log".
#
# NOTE: Where filenames are specified, you must use forward slashes
# instead of backslashes (e.g., "C:/Program Files/nusphere/apache" instead 
of "c:\apache").
# If a drive letter is omitted, the drive on which Apache.exe is located
# will be used by default.  It is recommended that you always supply
# an explicit drive letter in absolute paths, however, to avoid
# confusion.
#

### Section 1: Global Environment
#
# The directives in this section affect the overall operation of Apache,
# such as the number of concurrent requests it can handle or where it
# can find its configuration files.
#

#
# ServerType is either inetd, or standalone.  Inetd mode is only supported 
on
# Unix platforms.
#
ServerType standalone

#
# ServerRoot: The top of the directory tree under which the server's
# configuration, error, and log files are kept.
#
# Do NOT add a slash at the end of the directory path.
#
ServerRoot "C:/Program Files/nusphere/apache"

#
# PidFile: The file in which the server should record its process
# identification number when it starts.
#
PidFile logs/httpd.pid

#
# ScoreBoardFile: File used to store internal server process information.
# Not all architectures require this.  But if yours does (you'll know 
because
# this file will be  created when you run Apache) then you *must* ensure 
that
# no two invocations of Apache share the same scoreboard file.
#
ScoreBoardFile logs/apache_runtime_status

#
# In the standard configuration, the server will process httpd.conf (this
# file, specified by the -f command line option), srm.conf, and access.conf
# in that order.  The latter two files are now distributed empty, as it is
# recommended that all directives be kept in a single file for simplicity.
# The commented-out values below are the built-in defaults.  You can have 
the
# server ignore these files altogether by using "/dev/null" (for Unix) or
# "nul" (for Win32) for the arguments to the directives.
#
#ResourceConfig conf/srm.conf
#AccessConfig conf/access.conf

#
# Timeout: The number of seconds before receives and sends time out.
#
Timeout 300

#
# KeepAlive: Whether or not to allow persistent connections (more than
# one request per connection). Set to "Off" to deactivate.
#
KeepAlive On

#
# MaxKeepAliveRequests: The maximum number of requests to allow
# during a persistent connection. Set to 0 to allow an unlimited amount.
# We recommend you leave this number high, for maximum performance.
#
MaxKeepAliveRequests 100

#
# KeepAliveTimeout: Number of seconds to wait for the next request from the
# same client on the same connection.
#
KeepAliveTimeout 15

#
# Apache on Win32 always creates one child process to handle requests.  If 
it
# dies, another child process is created automatically.  Within the child
# process multiple threads handle incoming requests.  The next two
# directives control the behaviour of the threads and processes.
#

#
# MaxRequestsPerChild: the number of requests each child process is
# allowed to process before the child dies.  The child will exit so
# as to avoid problems after prolonged use when Apache (and maybe the
# libraries it uses) leak memory or other resources.  On most systems, this
# isn't really needed, but a few (such as Solaris) do have notable leaks
# in the libraries.  For Win32, set this value to zero (unlimited)
# unless advised otherwise.
#
# NOTE: This value does not include keepalive requests after the initial
#       request per connection. For example, if a child process handles
#       an initial request and 10 subsequent "keptalive" requests, it
#       would only count as 1 request towards this limit.
#
MaxRequestsPerChild 0

#
# Number of concurrent threads (i.e., requests) the server will allow.
# Set this value according to the responsiveness of the server (more
# requests active at once means they're all handled more slowly) and
# the amount of system resources you'll allow the server to consume.
#
ThreadsPerChild 50

#
# Listen: Allows you to bind Apache to specific IP addresses and/or
# ports, in addition to the default. See also the <VirtualHost>
# directive.
#
#Listen 3000
#Listen 12.34.56.78:80

#
# BindAddress: You can support virtual hosts with this option. This 
directive
# is used to tell the server which IP address to listen to. It can either
# contain "*", an IP address, or a fully qualified Internet domain name.
# See also the <VirtualHost> and Listen directives.
#
#BindAddress *

#
# Apache Modules compiled into the standard Windows build
#
# The following modules are bound into the standard Apache binary 
distribution
# for Windows.  To change the standard behavior, uncomment the following 
lines
# and modify the list of those specific modules to be enabled in the server.
#
# WARNING: This is an advanced option that may render your server 
inoperable!
# Do not use these directives without expert guidance.
#
#ClearModuleList
#AddModule mod_so.c mod_mime.c mod_access.c mod_auth.c mod_negotiation.c
#AddModule mod_include.c mod_autoindex.c mod_dir.c mod_cgi.c mod_userdir.c
#AddModule mod_alias.c mod_env.c mod_log_config.c mod_asis.c mod_imap.c
#AddModule mod_actions.c mod_setenvif.c mod_isapi.c

#
# Dynamic Shared Object (DSO) Support
#
# To be able to use the functionality of a module which was built as a DSO 
you
# have to place corresponding `LoadModule' lines at this location so the
# directives contained in it are actually available _before_ they are used.
# Please read the file README.DSO in the Apache 1.3 distribution for more
# details about the DSO mechanism and run `apache -l' for the list of 
already
# built-in (statically linked and thus always available) modules in your 
Apache
# binary.
#
# Note: The order in which modules are loaded is important.  Don't change
# the order below without expert advice.
#

LoadModule python_module modules/mod_python.dll
LoadModule mysql_auth_module modules/mod_auth_mysql.dll

#LoadModule anon_auth_module modules/mod_auth_anon.so
#LoadModule dbm_auth_module modules/mod_auth_dbm.so
#LoadModule digest_auth_module modules/mod_auth_digest.so
#LoadModule cern_meta_module modules/mod_cern_meta.so
#LoadModule digest_module modules/mod_digest.so
#LoadModule expires_module modules/mod_expires.so
#LoadModule headers_module modules/mod_headers.so
#LoadModule proxy_module modules/mod_proxy.so
#LoadModule rewrite_module modules/mod_rewrite.so
#LoadModule speling_module modules/mod_speling.so
#LoadModule info_module modules/mod_info.so
#LoadModule status_module modules/mod_status.so
#LoadModule usertrack_module modules/mod_usertrack.so

#
# ExtendedStatus controls whether Apache will generate "full" status
# information (ExtendedStatus On) or just basic information (ExtendedStatus
# Off) when the "server-status" handler is called. The default is Off.
#
#ExtendedStatus On

### Section 2: 'Main' server configuration
#
# The directives in this section set up the values used by the 'main'
# server, which responds to any requests that aren't handled by a
# <VirtualHost> definition.  These values also provide defaults for
# any <VirtualHost> containers you may define later in the file.
#
# All of these directives may appear inside <VirtualHost> containers,
# in which case these default settings will be overridden for the
# virtual host being defined.
#

#
# Port: The port to which the standalone server listens.  Certain firewall
# products must be configured before Apache can listen to a specific port.
# Other running httpd servers will also interfere with this port.  Disable
# all firewall, security, and other services if you encounter problems.
# To help diagnose problems use the Windows NT command NETSTAT -a
#
Port 9000
Listen 9000

#
# ServerAdmin: Your address, where problems with the server should be
# e-mailed.  This address appears on some server-generated pages, such
# as error documents.
#
ServerAdmin you@your.address

#
# ServerName allows you to set a host name which is sent back to clients for
# your server if it's different than the one the program would get (i.e., 
use
# "www" instead of the host's real name).
#
# Note: You cannot just invent host names and hope they work. The name you
# define here must be a valid DNS name for your host. If you don't 
understand
# this, ask your network administrator.
# If your host doesn't have a registered DNS name, enter its IP address 
here.
# You will have to access it by its address (e.g., http://123.45.67.89/)
# anyway, and this will make redirections work in a sensible way.
#
# 127.0.0.1 is the TCP/IP local loop-back address, often named localhost. 
Your
# machine always knows itself by this address. If you use Apache strictly 
for
# local testing and development, you may use 127.0.0.1 as the server name.
#
ServerName localhost


#
# DocumentRoot: The directory out of which you will serve your
# documents. By default, all requests are taken from this directory, but
# symbolic links and aliases may be used to point to other locations.
#
DocumentRoot "C:/Program Files/nusphere/apache/htdocs"

#
# Each directory to which Apache has access, can be configured with respect
# to which services and features are allowed and/or disabled in that
# directory (and its subdirectories).
#
# First, we configure the "default" to be a very restrictive set of
# permissions.
#
<Directory />
    Options FollowSymLinks
    AllowOverride None
</Directory>

#
# Note that from this point forward you must specifically allow
# particular features to be enabled - so if something's not working as
# you might expect, make sure that you have specifically enabled it
# below.
#

#
# This should be changed to whatever you set DocumentRoot to.
#
<Directory "C:/Program Files/nusphere/apache/htdocs">

#
# This may also be "None", "All", or any combination of "Indexes",
# "Includes", "FollowSymLinks", "ExecCGI", or "MultiViews".
#
# Note that "MultiViews" must be named *explicitly* --- "Options All"
# doesn't give it to you.
#
Options Indexes FollowSymLinks MultiViews +Includes

#
# This controls which options the .htaccess files in directories can
# override. Can also be "All", or any combination of "Options", "FileInfo",
# "AuthConfig", and "Limit"
#
    AllowOverride None

#
# Controls who can get stuff from this server.
#
    Order allow,deny
    Allow from all
</Directory>

#
# UserDir: The name of the directory which is appended onto a user's home
# directory if a ~user request is received.
#
# Under Win32, we do not currently try to determine the home directory of
# a Windows login, so a format such as that below needs to be used.  See
# the UserDir documentation for details.
#
<IfModule mod_userdir.c>
    UserDir "C:/Program Files/nusphere/apache/users/"
</IfModule>

#
# Control access to UserDir directories.  The following is an example
# for a site where these directories are restricted to read-only.
#
#<Directory "C:/Program Files/nusphere/apache/users">
#    AllowOverride FileInfo AuthConfig Limit
#    Options MultiViews Indexes SymLinksIfOwnerMatch IncludesNoExec
#    <Limit GET POST OPTIONS PROPFIND>
#        Order allow,deny
#        Allow from all
#    </Limit>
#    <LimitExcept GET POST OPTIONS PROPFIND>
#        Order deny,allow
#        Deny from all
#    </LimitExcept>
#</Directory>

#
# DirectoryIndex: Name of the file or files to use as a pre-written HTML
# directory index.  Separate multiple entries with spaces.
#
<IfModule mod_dir.c>
DirectoryIndex index.shtml index.html index.htm index.php index.php3
</IfModule>

#
# AccessFileName: The name of the file to look for in each directory
# for access control information.
#
AccessFileName .htaccess

#
# The following lines prevent .htaccess files from being viewed by
# Web clients.  Since .htaccess files often contain authorization
# information, access is disallowed for security reasons.  Comment
# these lines out if you want Web visitors to see the contents of
# .htaccess files.  If you change the AccessFileName directive above,
# be sure to make the corresponding changes here.
#
# Also, folks tend to use names such as .htpasswd for password
# files, so this will protect those as well.
#
<Files ~ "^\.ht">
    Order allow,deny
    Deny from all
</Files>

#
# CacheNegotiatedDocs: By default, Apache sends "Pragma: no-cache" with each
# document that was negotiated on the basis of content. This asks proxy
# servers not to cache the document. Uncommenting the following line 
disables
# this behavior, and proxies will be allowed to cache the documents.
#
#CacheNegotiatedDocs

#
# UseCanonicalName:  (new for 1.3)  With this setting turned on, whenever
# Apache needs to construct a self-referencing URL (a URL that refers back
# to the server the response is coming from) it will use ServerName and
# Port to form a "canonical" name.  With this setting off, Apache will
# use the hostname:port that the client supplied, when possible.  This
# also affects SERVER_NAME and SERVER_PORT in CGI scripts.
#
UseCanonicalName On

#
# TypesConfig describes where the mime.types file (or equivalent) is
# to be found.
#
<IfModule mod_mime.c>
    TypesConfig conf/mime.types
</IfModule>

#
# DefaultType is the default MIME type the server will use for a document
# if it cannot otherwise determine one, such as from filename extensions.
# If your server contains mostly text or HTML documents, "text/plain" is
# a good value.  If most of your content is binary, such as applications
# or images, you may want to use "application/octet-stream" instead to
# keep browsers from trying to display binary files as though they are
# text.
#
DefaultType text/plain

#
# The mod_mime_magic module allows the server to use various hints from the
# contents of the file itself to determine its type.  The MIMEMagicFile
# directive tells the module where the hint definitions are located.
# mod_mime_magic is not part of the default server (you have to add
# it yourself with a LoadModule [see the DSO paragraph in the 'Global
# Environment' section], or recompile the server and include mod_mime_magic
# as part of the configuration), so it's enclosed in an <IfModule> 
container.
# This means that the MIMEMagicFile directive will only be processed if the
# module is part of the server.
#
<IfModule mod_mime_magic.c>
    MIMEMagicFile conf/magic
</IfModule>

#
# HostnameLookups: Log the names of clients or just their IP addresses
# e.g., www.apache.org (on) or 204.62.129.132 (off).
# The default is off because it'd be overall better for the net if people
# had to knowingly turn this feature on, since enabling it means that
# each client request will result in AT LEAST one lookup request to the
# nameserver.
#
HostnameLookups Off

#
# ErrorLog: The location of the error log file.
# If you do not specify an ErrorLog directive within a <VirtualHost>
# container, error messages relating to that virtual host will be
# logged here.  If you *do* define an error logfile for a <VirtualHost>
# container, that host's errors will be logged there and not here.
#
ErrorLog logs/error.log

#
# LogLevel: Control the number of messages logged to the error.log.
# Possible values include: debug, info, notice, warn, error, crit,
# alert, emerg.
#
LogLevel warn

#
# The following directives define some format nicknames for use with
# a CustomLog directive (see below).
#
LogFormat "%h %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\"" 
combined
LogFormat "%h %l %u %t \"%r\" %>s %b" common
LogFormat "%{Referer}i -> %U" referer
LogFormat "%{User-agent}i" agent

#
# The location and format of the access logfile (Common Logfile Format).
# If you do not define any access logfiles within a <VirtualHost>
# container, they will be logged here.  Contrariwise, if you *do*
# define per-<VirtualHost> access logfiles, transactions will be
# logged therein and *not* in this file.
#
CustomLog logs/access.log common

#
# If you would like to have agent and referer logfiles, uncomment the
# following directives.
#
#CustomLog logs/referer.log referer
#CustomLog logs/agent.log agent

#
# If you prefer a single logfile with access, agent, and referer information
# (Combined Logfile Format) you can use the following directive.
#
#CustomLog logs/access.log combined

#
# Optionally add a line containing the server version and virtual host
# name to server-generated pages (error documents, FTP directory listings,
# mod_status and mod_info output etc., but not CGI generated documents).
# Set to "EMail" to also include a mailto: link to the ServerAdmin.
# Set to one of:  On | Off | EMail
#
ServerSignature On

#
# Apache parses all CGI scripts for the shebang line by default.
# This comment line, the first line of the script, consists of the symbols
# pound (#) and exclamation (!) followed by the path of the program that
# can execute this specific script.  For a perl script, with perl.exe in
# the C:\Program Files\Perl directory, the shebang line should be:

   #!c:/program files/perl/perl

# Note you _must_not_ indent the actual shebang line, and it must be the
# first line of the file.  Of course, CGI processing must be enabled by
# the appropriate ScriptAlias or Options ExecCGI directives for the files
# or directory in question.
#
# However, Apache on Windows allows either the Unix behavior above, or can
# use the Registry to match files by extention.  The command to execute
# a file of this type is retrieved from the registry by the same method as
# the Windows Explorer would use to handle double-clicking on a file.
# These script actions can be configured from the Windows Explorer View 
menu,
# 'Folder Options', and reviewing the 'File Types' tab.  Clicking the Edit
# button allows you to modify the Actions, of which Apache 1.3 attempts to
# perform the 'Open' Action, and failing that it will try the shebang line.
# This behavior is subject to change in Apache release 2.0.
#
# Each mechanism has it's own specific security weaknesses, from the means
# to run a program you didn't intend the website owner to invoke, and the
# best method is a matter of great debate.
#
# To enable the this Windows specific behavior (and therefore -disable- the
# equivilant Unix behavior), uncomment the following directive:
#
#ScriptInterpreterSource registry
#
# The directive above can be placed in individual <Directory> blocks or the
# .htaccess file, with either the 'registry' (Windows behavior) or 'script'
# (Unix behavior) option, and will override this server default option.
#

#
# Aliases: Add here as many aliases as you need (with no limit). The format 
is
# Alias fakename realname
#
<IfModule mod_alias.c>

    #
    # Note that if you include a trailing / on fakename then the server will
    # require it to be present in the URL.  So "/icons" isn't aliased in 
this
    # example, only "/icons/"..
    #
    Alias /icons/ "C:/Program Files/nusphere/apache/icons/"
    Alias /jdbc_doc/ "C:/Program Files/nusphere/mm_mysql_jdbc/doc/mm.doc/"
    Alias /sendmaildoc/ "C:/Program Files/nusphere/sendmail/doc/"
    Alias /nshtml/ "C:/Program Files/nusphere/html/"
    Alias /apachedoc/ "C:/Program Files/nusphere/apache/htdocs/manual/"
    Alias /phpdoc/ "C:/Program Files/nusphere/apache/php/doc/"
    Alias /mysqldoc/ "C:/Program Files/nusphere/mysql/bychapter/"
    Alias /perldoc/ "C:/Program Files/nusphere/perl/html/"
    Alias /ssldoc/ "C:/Program Files/nusphere/apache/modssl/pkg.ssldoc/"

    <Directory "C:/Program Files/nusphere/apache/icons">
        Options Indexes MultiViews
        AllowOverride None
        Order allow,deny
        Allow from all
    </Directory>

    #
    # ScriptAlias: This controls which directories contain server scripts.
    # ScriptAliases are essentially the same as Aliases, except that
    # documents in the realname directory are treated as applications and
    # run by the server when requested rather than as documents sent to the 
client.
    # The same rules about trailing "/" apply to ScriptAlias directives as 
to
    # Alias.
    #
    ScriptAlias /cgi-bin/ "C:/Program Files/nusphere/apache/cgi-bin/"

    #
    # "C:/Program Files/nusphere/apache/cgi-bin" should be changed to 
whatever your ScriptAliased
    # CGI directory exists, if you have that configured.
    #
    <Directory "C:/Program Files/nusphere/apache/cgi-bin">
        AllowOverride None
        Options None
        Order allow,deny
        Allow from all
    </Directory>

    <Directory "C:/Program Files/nusphere/apache/nsdocs/python">
	AddHandler python-program .py
	PythonHandler mptest
	PythonDebug on
    </Directory>

</IfModule>
# End of aliases.

#
# Redirect allows you to tell clients about documents which used to exist in
# your server's namespace, but do not anymore. This allows you to tell the
# clients where to look for the relocated document.
# Format: Redirect old-URI new-URL
#

#
# Directives controlling the display of server-generated directory listings.
#
<IfModule mod_autoindex.c>

    #
    # FancyIndexing is whether you want fancy directory indexing or standard
    #
    IndexOptions FancyIndexing

    #
    # AddIcon* directives tell the server which icon to show for different
    # files or filename extensions.  These are only displayed for
    # FancyIndexed directories.
    #
    AddIconByEncoding (CMP,/icons/compressed.gif) x-compress x-gzip

    AddIconByType (TXT,/icons/text.gif) text/*
    AddIconByType (IMG,/icons/image2.gif) image/*
    AddIconByType (SND,/icons/sound2.gif) audio/*
    AddIconByType (VID,/icons/movie.gif) video/*

    AddIcon /icons/binary.gif .bin .exe
    AddIcon /icons/binhex.gif .hqx
    AddIcon /icons/tar.gif .tar
    AddIcon /icons/world2.gif .wrl .wrl.gz .vrml .vrm .iv
    AddIcon /icons/compressed.gif .Z .z .tgz .gz .zip
    AddIcon /icons/a.gif .ps .ai .eps
    AddIcon /icons/layout.gif .html .shtml .htm .pdf
    AddIcon /icons/text.gif .txt
    AddIcon /icons/c.gif .c
    AddIcon /icons/p.gif .pl .py
    AddIcon /icons/f.gif .for
    AddIcon /icons/dvi.gif .dvi
    AddIcon /icons/uuencoded.gif .uu
    AddIcon /icons/script.gif .conf .sh .shar .csh .ksh .tcl
    AddIcon /icons/tex.gif .tex
    AddIcon /icons/bomb.gif core

    AddIcon /icons/back.gif ..
    AddIcon /icons/hand.right.gif README
    AddIcon /icons/folder.gif ^^DIRECTORY^^
    AddIcon /icons/blank.gif ^^BLANKICON^^

    #
    # DefaultIcon is which icon to show for files which do not have an icon
    # explicitly set.
    #
    DefaultIcon /icons/unknown.gif

    #
    # AddDescription allows you to place a short description after a file in
    # server-generated indexes.  These are only displayed for FancyIndexed
    # directories.
    # Format: AddDescription "description" filename
    #
    #AddDescription "GZIP compressed document" .gz
    #AddDescription "tar archive" .tar
    #AddDescription "GZIP compressed tar archive" .tgz

    #
    # ReadmeName is the name of the README file the server will look for by
    # default, and append to directory listings.
    #
    # HeaderName is the name of a file which should be prepended to
    # directory indexes.
    #
    # If MultiViews are amongst the Options in effect, the server will
    # first look for name.html and include it if found.  If name.html
    # doesn't exist, the server will then look for name.txt and include
    # it as plaintext if found.
    #
    ReadmeName README
    HeaderName HEADER

    #
    # IndexIgnore is a set of filenames which directory indexing should 
ignore
    # and not include in the listing.  Shell-style wildcarding is permitted.
    #
    IndexIgnore .??* *~ *# HEADER* README* RCS CVS *,v *,t

</IfModule>
# End of indexing directives.

#
# Document types.
#
<IfModule mod_mime.c>

    #
    # AddEncoding allows you to have certain browsers (Mosaic/X 2.1+) 
uncompress
    # information on the fly. Note: Not all browsers support this.
    # Despite the name similarity, the following Add* directives have 
nothing
    # to do with the FancyIndexing customization directives above.
    #
    AddEncoding x-compress Z
    AddEncoding x-gzip gz tgz
    #
    # AddLanguage allows you to specify the language of a document. You can
    # then use content negotiation to give a browser a file in a language
    # it can understand.
    #
    # Note 1: The suffix does not have to be the same as the language
    # keyword --- those with documents in Polish (whose net-standard
    # language code is pl) may wish to use "AddLanguage pl .po" to
    # avoid the ambiguity with the common suffix for perl scripts.
    #
    # Note 2: The example entries below illustrate that in quite
    # some cases the two character 'Language' abbriviation is not
    # identical to the two character 'Country' code for its country,
    # E.g. 'Danmark/dk' versus 'Danish/da'.
    #
    # Note 3: In the case of 'ltz' we violate the RFC by using a three char
    # specifier. But there is 'work in progress' to fix this and get
    # the reference data for rfc1766 cleaned up.
    #
    # Danish (da) - Dutch (nl) - English (en) - Estonian (ee)
    # French (fr) - German (de) - Greek-Modern (el)
    # Italian (it) - Korean (kr) - Norwegian (no)
    # Portugese (pt) - Luxembourgeois* (ltz)
    # Spanish (es) - Swedish (sv) - Catalan (ca) - Czech(cz)
    # Polish (pl) - Brazilian Portuguese (pt-br) - Japanese (ja)
    # Russian (ru)
    #
    AddLanguage da .dk
    AddLanguage nl .nl
    AddLanguage en .en
    AddLanguage et .ee
    AddLanguage fr .fr
    AddLanguage de .de
    AddLanguage el .el
    AddLanguage he .he
    AddCharset ISO-8859-8 .iso8859-8
    AddLanguage it .it
    AddLanguage ja .ja
    AddCharset ISO-2022-JP .jis
    AddLanguage kr .kr
    AddCharset ISO-2022-KR .iso-kr
    AddLanguage no .no
    AddLanguage pl .po
    AddCharset ISO-8859-2 .iso-pl
    AddLanguage pt .pt
    AddLanguage pt-br .pt-br
    AddLanguage ltz .lu
    AddLanguage ca .ca
    AddLanguage es .es
    AddLanguage sv .se
    AddLanguage cz .cz
    AddLanguage ru .ru
    AddLanguage tw .tw
    AddCharset Big5         .Big5    .big5
    AddCharset WINDOWS-1251 .cp-1251
    AddCharset CP866        .cp866
    AddCharset ISO-8859-5   .iso-ru
    AddCharset KOI8-R       .koi8-r
    AddCharset UCS-2        .ucs2
    AddCharset UCS-4        .ucs4
    AddCharset UTF-8        .utf8

    # LanguagePriority allows you to give precedence to some languages
    # in case of a tie during content negotiation.
    #
    # Just list the languages in decreasing order of preference. We have
    # more or less alphabetized them here. You probably want to change this.
    #
    <IfModule mod_negotiation.c>
        LanguagePriority en da nl et fr de el it ja kr no pl pt pt-br ru ltz 
ca es sv tw
    </IfModule>

    #
    # AddType allows you to tweak mime.types without actually editing it, or 
to
    # make certain files to be certain types.
    #
    # For example, the PHP 3.x module (not part of the Apache distribution - 
see
    # http://www.php.net) will typically use:
    #
    #AddType application/x-httpd-php3 .php3
    #AddType application/x-httpd-php3-source .phps
    #
    # And for PHP 4.x, use:
    #
    #AddType application/x-httpd-php .php
    #AddType application/x-httpd-php-source .phps

    AddType application/x-tar .tgz

    #
    # AddHandler allows you to map certain file extensions to "handlers",
    # actions unrelated to filetype. These can be either built into the 
server
    # or added with the Action command (see below)
    #
    # If you want to use server side includes, or CGI outside
    # ScriptAliased directories, uncomment the following lines.
    #
    # To use CGI scripts:
    #
    #AddHandler cgi-script .cgi

    #
    # To use server-parsed HTML files
    #
AddType text/html .shtml
AddHandler server-parsed .shtml
    #
    # Uncomment the following line to enable Apache's send-asis HTTP file
    # feature
    #
    #AddHandler send-as-is asis

    #
    # If you wish to use server-parsed imagemap files, use
    #
    #AddHandler imap-file map

    #
    # To enable type maps, you might want to use
    #
    #AddHandler type-map var

</IfModule>
# End of document types.

#
# Action lets you define media types that will execute a script whenever
# a matching file is called. This eliminates the need for repeated URL
# pathnames for oft-used CGI file processors.
# Format: Action media/type /cgi-script/location
# Format: Action handler-name /cgi-script/location
#

#
# MetaDir: specifies the name of the directory in which Apache can find
# meta information files. These files contain additional HTTP headers
# to include when sending the document
#
#MetaDir .web

#
# MetaSuffix: specifies the file name suffix for the file containing the
# meta information.
#
#MetaSuffix .meta

#
# Customizable error response (Apache style)
#  these come in three flavors
#
#    1) plain text
#ErrorDocument 500 "The server made a boo boo.
#  n.b.  the single leading (") marks it as text, it does not get output
#
#    2) local redirects
#ErrorDocument 404 /missing.html
#  to redirect to local URL /missing.html
#ErrorDocument 404 /cgi-bin/missing_handler.pl
#  N.B.: You can redirect to a script or a document using 
server-side-includes.
#
#    3) external redirects
#ErrorDocument 402 http://some.other_server.com/subscription_info.html
#  N.B.: Many of the environment variables associated with the original
#  request will *not* be available to such a script.

#
# Customize behaviour based on the browser
#
<IfModule mod_setenvif.c>

    #
    # The following directives modify normal HTTP response behavior.
    # The first directive disables keepalive for Netscape 2.x and browsers 
that
    # spoof it. There are known problems with these browser implementations.
    # The second directive is for Microsoft Internet Explorer 4.0b2
    # which has a broken HTTP/1.1 implementation and does not properly
    # support keepalive when it is used on 301 or 302 (redirect) responses.
    #
    BrowserMatch "Mozilla/2" nokeepalive
    BrowserMatch "MSIE 4\.0b2;" nokeepalive downgrade-1.0 force-response-1.0

    #
    # The following directive disables HTTP/1.1 responses to browsers which
    # are in violation of the HTTP/1.0 spec by not being able to grok a
    # basic 1.1 response.
    #
    BrowserMatch "RealPlayer 4\.0" force-response-1.0
    BrowserMatch "Java/1\.0" force-response-1.0
    BrowserMatch "JDK/1\.0" force-response-1.0

</IfModule>
# End of browser customization directives

#
# Allow server status reports, with the URL of 
http://servername/server-status
# Change the ".your_domain.com" to match your domain to enable.
#
#<Location /server-status>
#    SetHandler server-status
#    Order deny,allow
#    Deny from all
#    Allow from .your_domain.com
#</Location>

#
# Allow remote server configuration reports, with the URL of
# http://servername/server-info (requires that mod_info.c be loaded).
# Change the ".your_domain.com" to match your domain to enable.
#
#<Location /server-info>
#    SetHandler server-info
#    Order deny,allow
#    Deny from all
#    Allow from .your_domain.com
#</Location>

#
# There have been reports of people trying to abuse an old bug from pre-1.1
# days.  This bug involved a CGI script distributed as a part of Apache.
# By uncommenting these lines you can redirect these attacks to a logging
# script on phf.apache.org.  Or, you can record them yourself, using the 
script
# support/phf_abuse_log.cgi.
#
#<Location /cgi-bin/phf*>
#    Deny from all
#    ErrorDocument 403 http://phf.apache.org/phf_abuse_log.cgi
#</Location>

#
# Proxy Server directives. Uncomment the following lines to
# enable the proxy server:
#
#<IfModule mod_proxy.c>
#    ProxyRequests On

#    <Directory proxy:*>
#        Order deny,allow
#        Deny from all
#        Allow from .your_domain.com
#    </Directory>

    #
    # Enable/disable the handling of HTTP/1.1 "Via:" headers.
    # ("Full" adds the server version; "Block" removes all outgoing Via: 
headers)
    # Set to one of: Off | On | Full | Block
    #
#    ProxyVia On

    #
    # To enable the cache as well, edit and uncomment the following lines:
    # (no cacheing without CacheRoot)
    #
#    CacheRoot "C:/Program Files/nusphere/apache/proxy"
#    CacheSize 5
#    CacheGcInterval 4
#    CacheMaxExpire 24
#    CacheLastModifiedFactor 0.1
#    CacheDefaultExpire 1
#    NoCache a_domain.com another_domain.edu joes.garage_sale.com

#</IfModule>
# End of proxy directives.

### Section 3: Virtual Hosts
#
# VirtualHost: If you want to maintain multiple domains/hostnames on your
# machine you can setup VirtualHost containers for them. Most configurations
# use only name-based virtual hosts so the server doesn't need to worry 
about
# IP addresses. This is indicated by the asterisks in the directives below.
#
# Please see the documentation at <URL:http://www.apache.org/docs/vhosts/>
# for further details before you try to setup virtual hosts.
#
# You may use the command line option '-S' to verify your virtual host
# configuration.

#
# Use name-based virtual hosting.
#
#NameVirtualHost *

#
# VirtualHost example:
# Almost any Apache directive may go into a VirtualHost container.
# The first VirtualHost section is used for requests without a known
# server name.
#
#<VirtualHost *>
#    ServerAdmin webmaster@dummy-host.example.com
#    DocumentRoot /www/docs/dummy-host.example.com
#    ServerName dummy-host.example.com
#    ErrorLog logs/dummy-host.example.com-error_log
#    CustomLog logs/dummy-host.example.com-access_log common
#</VirtualHost>

## BEGIN SSL CONFIG
#<IfDefine SSL>
#Listen 99999
Listen 9443
LoadModule ssl_module modules/mod_ssl.so
SSLMutex sem
SSLRandomSeed startup builtin
SSLSessionCache none
SSLLog logs/SSL.log
SSLLogLevel warn
<VirtualHost _default_:99999>
SSLEngine On
SSLCertificateFile conf/ssl.crt/server.crt
SSLCertificateKeyFile conf/ssl.key/server.key
SSLCipherSuite ALL:!ADH:!EXP56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP:+eNULL
SetEnvIf User-Agent ".*MSIE.*" nokeepalive ssl-unclean-shutdown 
downgrade-1.0 force-response-1.0
#SSLProtocol all -SSLv3
</VirtualHost>
#</IfDefine>
## END SSL CONFIG



# BEGIN MOD_PERL CONFIG
LoadModule perl_module modules/mod_perl.so
ScriptAlias /perl-bin/ "perl-bin/"
PerlSendHeader On
<Location /perl-bin>
SetHandler perl-script
PerlHandler Apache::Registry
Options ExecCGI
</Location>
# END MOD_PERL CONFIG

# VirtualHost for the NuSphere Admin WebSite
<VirtualHost _default_:9000> # Admin WebSite standard port
   DocumentRoot "C:/Program Files/nusphere/apache/nsdocs"
   ScriptAlias /cgi-bin/ "C:/Program Files/nusphere/apache/nscgi-bin/"
   # VHost-specific mod_perl directive
   ScriptAlias /perl-bin/ "nsperl-bin/"
   <Directory "C:/Program Files/nusphere/apache/nsdocs">
      Options Indexes FollowSymLinks MultiViews +Includes
   </Directory>
   <Directory "C:/Program Files/nusphere/apache/nscgi-bin">
      AllowOverride None
      Options None
      Order allow,deny
      Allow from all
   </Directory>
   CustomLog logs/nsaccess.log common
   ErrorLog logs/nserror.log
</VirtualHost>

# VirtualHost for the NuSphere SSL Admin WebSite
#<IfDefine SSL>
<VirtualHost _default_:9443> # Admin WebSite SSL port
   SSLEngine On
   SSLLog logs/NSSSL.log
   SSLCertificateFile conf/ssl.crt/server.crt
   SSLCertificateKeyFile conf/ssl.key/server.key
   SSLCipherSuite 
ALL:!ADH:!EXP56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP:+eNULL
   SetEnvIf User-Agent ".*MSIE.*" nokeepalive ssl-unclean-shutdown 
downgrade-1.0 force-response-1.0
   #SSLProtocol all -SSLv3
   DocumentRoot "C:/Program Files/nusphere/apache/nsdocs"
   ScriptAlias /cgi-bin/ "C:/Program Files/nusphere/apache/nscgi-bin/"
   # VHost-specific mod_perl directive
   ScriptAlias /perl-bin/ "nsperl-bin/"
   <Directory "C:/Program Files/nusphere/apache/nsdocs">
      Options Indexes FollowSymLinks MultiViews +Includes
   </Directory>
   <Directory "C:/Program Files/nusphere/apache/nscgi-bin">
      AllowOverride None
      Options None
      Order allow,deny
      Allow from all
   </Directory>
   CustomLog logs/nsaccess.log common
   ErrorLog logs/nserror.log
</VirtualHost>
#</IfDefine>
## BEGIN PHP CONFIG
ScriptAlias /php3/ "C:/Program Files/nusphere/apache/php/"
ScriptAlias /php/ "C:/Program Files/nusphere/apache/php/"
AddType application/x-httpd-php3 .phtml
AddType application/x-httpd-php3 .php3
AddType application/x-httpd-php3 .php
AddType application/x-httpd-php3 .inc
AddType application/x-httpd-php3-source .phps
Action application/x-httpd-php3 /php/php.exe
## END PHP CONFIG

_________________________________________________________________
Get your FREE download of MSN Explorer at http://explorer.msn.com/intl.asp


From keegan at millerwebsiteservices.com  Mon Sep  3 01:36:40 2001
From: keegan at millerwebsiteservices.com (Keegan Miller)
Date: Fri Jan  9 22:02:54 2004
Subject: [mod_python] Environment variables created by Apache not in os.environ
Message-ID: <DGELIKPIDBLOIDHJPHAGCECACEAA.keegan@millerwebsiteservices.com>

I'm working on a system which was working with Python as a CGI handler.
After switching to mod_python, most of it works.  But the site depends on
some environment variables which are extracted from the URL by Apache's
mod_rewrite module.  For some reason, these environment variables aren't
loaded into os.environ.

Does anyone know how I can access these variables?

When this module was running as a CGI script, the env vars were there.  Now,
system vars like OS are there, but the ones created by mod_rewrite are not.

I'm running Apache 1.3.20, Python 2.1, and mod_python 2.7.4 on Windows 2000.

Thanks.
Keegan Miller

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010903/ad49203e/attachment-0003.htm
From piet at cs.uu.nl  Mon Sep  3 16:38:01 2001
From: piet at cs.uu.nl (piet@cs.uu.nl)
Date: Fri Jan  9 22:02:54 2004
Subject: [mod_python] Problem Installing
In-Reply-To: "Kristy Christie"'s message of "Mon, 03 Sep 2001 08:16:35 +0000"
References: <F85HaZVrDs9aAOPpBpc00000a57@hotmail.com>
Message-ID: <20010903143801.F3DA24518@mail.cs.uu.nl>

>>>>> "Kristy Christie" <linkangels@hotmail.com> (KC) writes:

KC> Hi.
KC> I installed mod_python on Windows 98 by placing the dll file into apache
KC> modules folder and adjusting the httpd.conf file as directed in the manual.
KC> When I try to open mptest.py (http://localhost:9000/python/mptest.py), I
KC> get an internal server error. Below is my httpd.conf file and the my Apache
KC> 1.3 server log.

KC> It's really important that I get Apache to be able to open python files.
KC> Can somebody please help me? Please!

You must also install the python files (mod_python subdirectory from the
distribution tar archive) into your Python directory.
-- 
Piet van Oostrum <piet@cs.uu.nl>
URL: http://www.cs.uu.nl/~piet [PGP]
Private email: P.van.Oostrum@hccnet.nl


From geert at boskant.nl  Tue Sep  4 16:48:44 2001
From: geert at boskant.nl (Geert Jansen)
Date: Fri Jan  9 22:02:55 2004
Subject: [mod_python] Patch to Server object
Message-ID: <POEGJAKPNOCGNJMONMFKCEDFCCAA.geert@boskant.nl>

Good day,

First of all: mod_python is great! I've been using it a couple of months now
to develop an (yet another, yes I know:) ASP like environment for Apache,
and I really like it.

But now I stumbled on a problem. I'm having difficulty implementing a global
"Application_OnStart" event. The event should be executed by my ASP
environment before the first request is served, but, only _once_ for the
whole server, _not_ one time per child. This event is very handy for
initializing application wide (database backed) variables so I'd really like
to provide it...

I could not find a way to satisfactorily implement this with the current
mod_python. To solve the problem I wrote a small patch to servermodule.c
that adds two member variables:  "my_generation" and "restart_time".
"my_generation" is the current generation of the child (the number of
restarts), and "restart_time" is the time of the last (re)start.

Using these variables I am able to implement the "Application_Onstart"
event:
I keep the last restart time in an application global variable. At child
startup, I look at this value. If it is not equal to the current restart
time, I raise "Application_OnStart" and update the restart time (with the
necessary locking of course).

The patch is attached. Could this be applied? I think this could suit other
developers too.

Thanks for your time!

Greetings,
Geert Jansen
--
long long email=0X78DC806B91FCA334,i=0,j; main(){j=(email>>4*i)&15;
putchar(j+j/2+j/5-j/12+(j<13?97:-65+7*j));i/15?exit(0):++i,main();}
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mod_python-restart.diff
Type: application/octet-stream
Size: 1041 bytes
Desc: not available
Url : http://mailman.modpython.org/pipermail/mod_python/attachments/20010904/49e62fbc/mod_python-restart-0003.obj
From irinka at mail.ru  Sat Sep  1 05:18:07 2001
From: irinka at mail.ru (Irinka)
Date: Fri Jan  9 22:02:55 2004
Subject: [mod_python] =?windows-1251?B?z+7h++Lg6SDt4A==?=
Message-ID: <000b01c13283$f5618c80$6f40a1c3@igor>

????? ??  http://444.devil.ru
????? ????? ????????? ? ???????????

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010901/c597920d/attachment-0003.htm
From kevin_lee at iprimus.com.au  Fri Sep  7 21:18:01 2001
From: kevin_lee at iprimus.com.au (Kevin LEE)
Date: Fri Jan  9 22:02:55 2004
Subject: [mod_python] Problem adding mod_python into apache
Message-ID: <3B98ACE9.ED88C768@iprimus.com.au>

Hi list:

        I have the following errors when I statically compile
mod_python-2.7.6 into apache_1.3.20:

gcc  -I/usr/local/mod_python-2.7.6/src/include
-I/usr/local/apache_1.3.20/src/include
-I/usr/local/apache_1.3.20/src/os/unix -I/usr/local/src/Python-2.1.1
-I/usr/local/src/Python-2.1.1/Include -c mod_python.c
In file included from /usr/local/apache_1.3.20/src/include/httpd.h:72,
                 from
/usr/local/mod_python-2.7.6/src/include/mod_python.h:63,
                 from mod_python.c:54:
/usr/local/apache_1.3.20/src/include/ap_config.h:77: ap_config_auto.h:
No such file or directory
*** Error code 1

Stop in /usr/local/mod_python-2.7.6/src.
*** Error code 1

Stop in /usr/local/mod_python-2.7.6.

        The following show step to configure mod_python:

cd /usrr/local/mod_python-2.7.6
./configure  --with-apache=.../apache_1.3.20
--with-python=/usr/local/src/Python-2.1.1

make static

Any idea ??? I am really stucked ....

Cheers.
Kevin


From oio_oiuu_ww_ll at yandex.ru  Sat Sep  8 13:38:09 2001
From: oio_oiuu_ww_ll at yandex.ru (MailBase)
Date: Fri Jan  9 22:02:55 2004
Subject: [mod_python] =?windows-1251?Q?=C1=E0=E7=FB_=E4=E0=ED=ED=FB=F5_=EF=F0=E5=E4=EF=F0=E8=FF=F2=E8=E9_=E4=EB=FF_=EA=EE=ED=F2=E0=EA=F2=EE=E2_=EF=EE_=FD=EB=E5=EA=F2=F0=EE=ED=ED=EE=E9_=EF=EE=F7=F2=E5?=
Message-ID: <1609520019689389369@yandex.ru>

????????????!

? ???? ??????:
- ???? ?????? ??????????? ??? ????????? ?? ??????????? ?????;
- ????????? ??? ?????????????? ???????? ??????????? ?????;
- ???? ?????? ?????????? ???????????.

????? ?????????? ?????? ? ? ???????????? ????????? ???????? ????????????
??????? ?????? ??????????? ?????-???? ??????????, ??? ?????? ?????, ???
??????? ??? ?? ??????????? ?????. ???? ???? ?????? ??? ????????? ??
??????????? ????? ????????????? ?????????? ??? ???? ?????.

?????? ???????????? ????????? ? ???????? ??????????? ????????, ????????
????????? ??? spam. ?????? ?? ???????, ??? ?????? ??????? ? ???, ??? ?????,
?????? ?? ???? ???????????? ???? ??????????? (? ?????? ???????????, ? ??
??????? ???!) ???? ????????????? ???? ????????????, ????????? ?? ???
??????????????? ??????????? ?????????? ??????, ??????? ?????????????
??????? ????? ?? ??????????????. ????? ???????? ????? ???????????? ??
?????? ??? ????????? ?????. ????????, ??? ????? ?????? ?????????
????????????? ??????, ????????????? ??? ???????????? ???????????? ???????
???????????. ????????? 500, ? ?? ? 1000 ???? - ???????, ?????????
????????????? ???????. ? ???? ??????? ???????? ? ??????????????? ????????
?? ?????? ?????? ???????????, ????? ?????? ???????? ?????? ?????????? ??
????????????? ???????.

?????????? ??? ??? ????????? ??? ????????? ?? ??????????? ?????:

???????? "??????????? ??????" - 38000 ??????????? (??? ? ????????????
????????);
???????? "??????????? ???" - 30000 ??????????? (??? ? ???????????? ????????)

?????? ???????? ???????? ? ????:
- ??????????????? ???? ?????? ??? ????????? ?? ??????????? ?????; 
- ????????? GroupMail ??? ?????????????? ???????? ??????????? ?????. 

???? ?????? "38000 ??????????? ??????". ????? ???????????? ?????? (e-mail
??????? ? ?????? ???????????) ?? ?????? ???????? ????????????: 
- ????????, 
- ??? ????????????, 
- ????????, 
- ????, 
- ???????? ?????, 
- ????? ?????. 
???? ????????? ? ???? ??????????? ??????? Excel, ??? ????????? ???????? ?
??? ???????????? ? ????? ??????? ?????? ??????????, ? ???? ???????????
?????????? ????? ?? ?????? ?? ??????????, ????????, ?? ???? ????????????. ?
???? ????? ??? ????????, ??????? ???? ????????? ???? e-mail ? ?????????
??????-???????????? ?? ??????. ????????? ? ?????????????? ??????? ???
?????????: 15%. ?????????? ???? ?????????? ?????? ???????. ???? ?
?????????? ??????????????? ?? ???????-????? ??? ?????????? ???????????
??????.
????????? ?????? ???? ? ????????? ? ?????????? GroupMail (??. ????) - $300.
????????? ?????????? $60. ????? ?????? ?????. ?????? ? ??????? ???????????
?? ????? mailbase@post.com.

???? ?????? "30000 ??????????? ???". ????? ???????????? ?????? (e-mail
??????? ? ?????? ???????????) ?? ?????? ???????? ????????????:
- ????????, 
- ????? ?????????????, 
- ????????, 
- ????, 
- ???????? ?????, 
- ????? ?????, 
- ?.?.?. ? ????????? ???????????? (!), 
- ??????????? ?????, 
- ?????? ???????????? ??????? ? ?????. 
???? ????????? ? ???? ??????????? ??????? Excel, ??? ????????? ???????? ?
??? ???????????? ? ????? ??????? ?????? ??????????. ????????? ?
?????????????? ??????? ??? ?????????: 20%. ?????????? ???? ??????????
?????? ???????. ???? ? ?????????? ??????????????? ?? ???????-????? ???
?????????? ??????????? ??????.
????????? ?????? ???? ? ????????? ? ?????????? GroupMail (??. ????) - $200.
????????? ?????????? $40. ????? ?????? ?????. ?????? ? ??????? ???????????
?? ????? mailbase@post.com.

????????? "Group Mail" ????????????? ??? ????????????? ???????????
????????. ?? ????? ???????? "Group Mail" ?????????? ? ???????? ?????? ???
??????? ?????????? ? ???????????. ??? ???? ? ??????? (??? ? ????, ??? ? ?
???? ??????) ????? ?????????????? ??????????? ?????????? ?? ????????? ?????
????, ??????????????? ??????????? ??????. ??? ????????? ?????????? ?
??????? ?????????? ?? ????? ? ????????? ?? ???? ????? ???????? ???
?????????, ? ????? ????? ?????? ??????? ????????????????? ???? ????????.
????????, ???? ?????? ????? ???? ?????: "??????????? ??? ????????
(????????_????????)". "Group Mail" ????? ??????? ??????????? ?? ??????? ???
??????. ?? ?????? ????????????? ? ????????? ???? ????. ?? ????? ????
?????????????? ??????????. ???? ????? ?????????, ?????????, ?????????????.
?????? ? ????????? ????? ???????????? ??? ? ??????? txt, ??? ? html.
??????????? ??????????? ???????????? ?????? ?????? ???????. Group Mail
???????? ??? ??????? ?????-???? ?????? ???????? ?????????. ????????? "Group
Mail" ????????? ??????????? ? ?????? ?? ????????????? ??? ??????. ?? ??
????? ?????????? ? ???????? ??? ???????? ?? ????? ?????. ? ???? ??????
????????? ?? ?????????????? $25. ????? ?????? ?????. ?????????
??????????????? ?? ???????-????? ??? ?????????? ??????????? ??????. ??????
? ??????? ??????????? ?? ????? mailbase@post.com.

????????! ??? ????????????? ???????????? ????? ??? ?????? ???????????????
??????: $100!

????????? ??????????? ???????? ?? ?????? ??????. ?????? ? ???????
??????????? ?? ????? mailbase@post.com.

??????? ????? ????????????? ???? ?????? ?????????? ???????????:
"??????????? ??????/??????/??? ? ???????????? ????? ????? 50/500/1000
???????". ????????? ??? ??? ?????? ?? $100 ?? $300. ????? ?????? ?????.
???? ??????????????? ?? ??????? ????? ??? ?????????? ??????????? ??????.
?????? ? ??????? ??????????? ?? ????? mailbase@post.com.

???? ???????????? ???????????? ???????????. mailbase@post.com.


???????? MailBase,
E-mail: mailbase@post.com





From grisha at modpython.org  Sat Sep  8 19:20:55 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 22:02:55 2004
Subject: [mod_python] Environment variables created by Apache not in
 os.environ
In-Reply-To: <DGELIKPIDBLOIDHJPHAGCECACEAA.keegan@millerwebsiteservices.com>
Message-ID: <Pine.BSF.4.32.0109081912500.1368-100000@localhost>

The mod_python cgihandler fakes the environment - it's just a dictionary
built for every request that contains all the standard cgi variables. If
mod_rewrite tries to set real environment variables your will not see
them.

It's a small sacrifice I had to make because access to the real
environment leaked memory, which is a serious problem for mod_python since
it runs inside the Apache process.

The thing to do in your case is probably to do whatever it is that
mod_rewrite does inside your cgi script instead.

Grisha

On Mon, 3 Sep 2001, Keegan Miller wrote:

> I'm working on a system which was working with Python as a CGI handler.
> After switching to mod_python, most of it works.  But the site depends on
> some environment variables which are extracted from the URL by Apache's
> mod_rewrite module.  For some reason, these environment variables aren't
> loaded into os.environ.
>
> Does anyone know how I can access these variables?
>
> When this module was running as a CGI script, the env vars were there.  Now,
> system vars like OS are there, but the ones created by mod_rewrite are not.
>
> I'm running Apache 1.3.20, Python 2.1, and mod_python 2.7.4 on Windows 2000.
>
> Thanks.
> Keegan Miller
>
>


From massmail at lb.bcentral.com  Sun Sep  9 21:27:48 2001
From: massmail at lb.bcentral.com (Anonymouse)
Date: Fri Jan  9 22:02:55 2004
Subject: [mod_python] , , .
Message-ID: <1000070868.67491.qmail@ech>

                   !

	           ?   
   , , , .
  ,  .

	 -              , , ,   . .,   ,       ,    . 
	           ,    ,            .
	    . 
          ,     , ,      ,      .     International Rectifier, Epcos, Bourns, Metex, unit-t  .
          -  , -, , , ,   ..
          ,   ,  ,      , ,    ..
          -         - .
	
         ,   ,       :
		     vielm.narod.ru

           .
         ,      ,                .
            ,      :  (095)  275-89-94,    : tandiv@mail.ru .
           ,    ,    ,     ,    .

             : 275-89-94, 746-68-78.


_______________________________________________________________________
Powered by List Builder
To unsubscribe follow the link:
http://lb.bcentral.com/ex/manage/subscriberprefs?customerid=15131&subid=2F0199A84845956A&msgnum=1

From rusgarden at zensearch.net  Mon Sep 10 01:48:05 2001
From: rusgarden at zensearch.net ( " ")
Date: Fri Jan  9 22:02:55 2004
Subject: [mod_python]    
Message-ID: <20010910004805.05C5E5248@orinoco.portland.co.uk>

???????????? ?????? ?????????????!

???? ???????? ???????? ??????????? ? ? ?????????? ????? ????????? ?????? ?? ????? ???????.

???????? "??????? ???" ???????????????? ?? ?????????? ? ??????????????? ??????????. 
???????? ? ???? ??????? ? ????????, ?? ????????? ?????????? ????????? ??????????? 
?? ????? ???? ? ???????? ??????? ?? ??????????? ????????????.

?? ?????????? ????????? ???? ?????, ? ??? ????? ?? ???????:

- ??????
- ????? ????????
- ??????????
- ??????
- ???????
- ??????? ???????
- ????????????? ???????
- ??????? ????????

????? ?? ???????? ??????????? ??????????????, ??????? ???????????, ?????????? ???????????? 
????????????? ??????? ?? ????? ?????? ??????????.

??? ???? ??????? ???????? ?????????? ???????????? ?? ????????????? ??????????? ???? ????????.

???????? "??????? ???" ???????? ???????????? ????????? ?? ?????, ???????????? ?????????????? 
? ??????????? ?????? ? ????? ??????? ??????, ??? ????, ?? ??????? ????????? ?????.

???????? "??????? ???" ?????? ????? ?? ???? ??? ????????? ??????????? ?????????? ????? ????????? 
? ???????.

?? ?????????? ??? ???????? ??? ???? http://rusgarden.ru/  ??? ?? ?????? ???????????? ? 
????????????? ????????, ??????? ?????-?????? ? ????????? ??????????? ?????, ? ????? 
"??????????? ? "????????????" ???????????.


? ????????? ? ???.
???????? "??????? ???"


From nineclue at bigfoot.com  Mon Sep 10 17:12:11 2001
From: nineclue at bigfoot.com (nineclue@bigfoot.com)
Date: Fri Jan  9 22:02:55 2004
Subject: [mod_python] Congratulations for 3.0 alpha...
Message-ID: <Pine.LNX.4.10.10109101657470.24150-100000@mrham.hamslab.com>

I didn't knew that 3.0 alpha was released until I visited modpython.org
today.

Congratulations and thanks for your great effort, Grisha.

By the way, I'm wondering what's new in this release except for
supporting only apache 2.0. (I didn't installed LaTex so I can't see
documentation, sorry) :(

Suhku Huh



From grisha at modpython.org  Mon Sep 10 08:41:27 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 22:02:55 2004
Subject: [mod_python] Congratulations for 3.0 alpha...
In-Reply-To: <Pine.LNX.4.10.10109101657470.24150-100000@mrham.hamslab.com>
Message-ID: <Pine.BSF.4.32.0109100839330.23146-100000@localhost>


On Mon, 10 Sep 2001 nineclue@bigfoot.com wrote:

> By the way, I'm wondering what's new in this release except for
> supporting only apache 2.0. (I didn't installed LaTex so I can't see
> documentation, sorry) :(

The documentation hasn't been updated, so don't bother with LaTex. :-)

New in this release is 2.0 support, which in itself is a big deal since
Apache 2.0 is very different from 1.3 internally. The only one additional
feature is support for Apache 2.0 input and output filters.

Grisha


From gdamjan at mail.net.mk  Mon Sep 10 19:01:51 2001
From: gdamjan at mail.net.mk (Damjan)
Date: Fri Jan  9 22:02:55 2004
Subject: [mod_python] Congratulations for 3.0 alpha...
In-Reply-To: <Pine.BSF.4.32.0109100839330.23146-100000@localhost>; from grisha@modpython.org on Mon, Sep 10, 2001 at 08:41:27AM -0400
References: <Pine.LNX.4.10.10109101657470.24150-100000@mrham.hamslab.com> <Pine.BSF.4.32.0109100839330.23146-100000@localhost>
Message-ID: <20010910190151.A5913@legolas.on.net.mk>

> New in this release is 2.0 support, which in itself is a big deal since
> Apache 2.0 is very different from 1.3 internally. The only one additional
> feature is support for Apache 2.0 input and output filters.

Is mod_python 3.0 Apache-2.0 specific or it will also work with 
Apache 1.3?

Is there a chance that mod_python 3.0 will make improvements in Apache
handler registration? Till now mod_python could only register 1 (one)
handler per directory. It would be nice if it could register
diferent handlers per file extension.




-- 
Damjan Georgievski		|           ?????? ???????????
Skopje, Macedonia		|           ??????, ??????????

From grisha at modpython.org  Mon Sep 10 13:11:02 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 22:02:55 2004
Subject: [mod_python] Congratulations for 3.0 alpha...
In-Reply-To: <20010910190151.A5913@legolas.on.net.mk>
Message-ID: <Pine.BSF.4.32.0109101309210.25971-100000@localhost>


On Mon, 10 Sep 2001, Damjan wrote:

> Is mod_python 3.0 Apache-2.0 specific or it will also work with
> Apache 1.3?

Apache 2.0 only. Having it work with both will mean an #ifdef nightmare in
the C code.

> Is there a chance that mod_python 3.0 will make improvements in Apache
> handler registration? Till now mod_python could only register 1 (one)
> handler per directory. It would be nice if it could register
> diferent handlers per file extension.

I'll add this to the TODO list...

Grisha


From BKoos at milcomtech.com  Mon Sep 10 22:27:55 2001
From: BKoos at milcomtech.com (Billy Koos)
Date: Fri Jan  9 22:02:55 2004
Subject: [mod_python] compilation for apache 1.3.20 under cygwin
Message-ID: <8D1CBB5B5B9AF0498335A43CF97E385D4D35DC@ntexchg.milcomtech.com>

I'm trying to compile mod_python for apache 1.3.20 running under cygwin.
./configure seems to work correctly but when I try make I get the following:

$ make
make[1]: Entering directory `/usr/local/src/mod_python-2.7.6/src'

Compiling for DSO. For static, do "make static"

/usr/local/apache/bin/apxs -I/usr/local/src/mod_python-2.7.6/src/include
-I/usr/
local/src/apache_1.3.20/src/include
-I/usr/local/src/apache_1.3.20/src/os/unix -
I/usr/include/python2.1 -c mod_python.o _apachemodule.o requestobject.o
tableobj
ect.o util.o serverobject.o connobject.o  -lm
/usr/lib/python2.1/config/libpyth
on2.1.a      -lm
dllwrap --export-all --output-def libhttpd.def --implib libhttpd.a
--driver-name
 gcc -g -o mod_python.so mod_python.o _apachemodule.o requestobject.o
tableobjec
t.o util.o serverobject.o connobject.o -lm
/usr/lib/python2.1/config/libpython2.
1.a -lm
dllwrap: no export definition file provided
dllwrap: creating one, but that may not be what you want
dlltool: Unable to open object file:
/usr/lib/python2.1/config/libpython2.1.a
dllwrap: dlltool exited with status 1
apxs:Break: Command failed with rc=1
make[1]: *** [mod_python.so] Error 1
make[1]: Leaving directory `/usr/local/src/mod_python-2.7.6/src'
make: *** [do_dso] Error 2

Any thoughts?


William (Billy) M. Koos, Jr., P. E.

email:		bkoos@milcomtech.com or billy@koostech.com
phone:		(407) 260-0564 or (407) 659-0443
fax:		(407) 260-6227

Chief Technical Officer
MILCOM Technologies
www.milcomtech.com

Founder
Koos Technical Services, Inc.
www.koostech.com

Maitland Promenade
485 North Keller Road, Suite 140
Maitland, FL  32751


From philip at p6m7g8.com  Thu Sep 13 06:29:20 2001
From: philip at p6m7g8.com (Philip M. Gollucci)
Date: Fri Jan  9 22:02:55 2004
Subject: [mod_python] Test fails -- HELP !!
Message-ID: <20010913060256.P68181-100000@p6m7g8.student.umd.edu>

I'm pretty new to python, but have had lots of similiar experience with
mod_perl/PERL and apache.  I am a very good System Admin.
I've install Python and mod_python via the documentation bundled with each.
I tried the prog senario given here,
 http://drunken.student.umd.edu/manual-mod_python/inst-testing.html
but I get a strange error message (SEE BELOW)

Thanks for all you help in advance.

uname -a
    FreeBSD drunken.student.umd.edu 4.3-RELEASE FreeBSD 4.3-RELEASE #0: Sat Sep
    8 07:09:39 EST 2001
    root@drunken.student.umd.edu:/usr/src/sys/compile/DRUNKEN i386

python -V
    Python 2.2a3
    ./configure --prefix=/usr/home/src/python --without-threads

mod_python compile:
    mod_python/2.7.6
    ./configure --with-apxs=/usr/home/src/apache/apxs
    make dso
    su
    make install

apachectl configtest:
    orginally, I got the warning:
[Thu Sep 13 06:26:37 2001] [warn] Loaded DSO libexec/mod_python.so uses plain
Apache 1.3 API, this module might crash under EAPI! (please recompile it with
-DEAPI)
    but I added -DEAPI to CFLAGS in mod_python-2.7.6/src/Makefile
    reran
    make dso
    su
    make install

    and it dissappeared.


./httpd -X
    no warnings/errors

apache banner:
    Apache/1.3.20 (Unix) mod_ssl/2.8.4 OpenSSL/0.9.6b
    mod_python/2.7.6 Python/2.2a3 mod_perl/1.26

httpd -V
    Server version: Apache/1.3.20 (Unix)
    Server built:   Sep  9 2001 05:14:30
    Server's Module Magic Number: 19990320:10
    Server compiled with....
     -D EAPI
     -D EAPI_MM
     -D EAPI_MM_CORE_PATH="logs/httpd.mm"
     -D HAVE_MMAP
     -D USE_MMAP_SCOREBOARD
     -D USE_MMAP_FILES
     -D USE_FLOCK_SERIALIZED_ACCEPT
     -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT
     -D HTTPD_ROOT="/usr/home/src/apache"
     -D SUEXEC_BIN="/usr/home/src/apache/bin/suexec"
     -D DEFAULT_PIDLOG="logs/httpd.pid"
     -D DEFAULT_SCOREBOARD="logs/httpd.scoreboard"
     -D DEFAULT_LOCKFILE="logs/httpd.lock"
     -D DEFAULT_XFERLOG="logs/access_log"
     -D DEFAULT_ERRORLOG="logs/error_log"
     -D TYPES_CONFIG_FILE="conf/mime.types"
     -D SERVER_CONFIG_FILE="conf/httpd.conf"
     -D ACCESS_CONFIG_FILE="conf/access.conf"
     -D RESOURCE_CONFIG_FILE="conf/srm.conf"

httpd.conf snippets:
    LoadModule python_module      libexec/mod_python.so
    AddModule mod_python.c
    ### MOD PYTHOD ###
    Alias /python/ /usr/home/src/apache/python
    <Location /python>
        AddHandler python-program .py
        PythonHandler mptest
        PythonDebug On
    </Location>
    ### END MOD PYTHOD

/usr/home/src/apache/python/mptest.py:
    from mod_python import apache

    def handler(req):
        req.send_http_header()
        req.write("Hello World!")
        return apache.OK


Webpage Error message:
    Mod_python error: "PythonHandler mptest"

    Traceback (most recent call last):

    File "/usr/home/src/python/lib/python2.2/site-packages/mod_python/apache.py",
    line 181, in Dispatch module = import_module(module_name, _req)

    File "/usr/home/src/python/lib/python2.2/site-packages/mod_python/apache.py",
    line 335, in import_module f, p, d = imp.find_module(parts[i], path)

    ImportError: No module named mptest

Apache Error Log Message:
    [Thu Sep 13 05:25:34 2001] [error] PythonHandler mptest: Traceback (most
    recent call last):
    [Thu Sep 13 05:25:35 2001] [error] PythonHandler mptest:   File
    "/usr/home/src/python/lib/python2.2/site-packages/mod_python/apache.py",
    line 181, in Dispatch
    module = import_module(module_name, _req)
    [Thu Sep 13 05:25:35 2001] [error] PythonHandler mptest:   File
    "/usr/home/src/python/lib/python2.2/site-packages/mod_python/apache.py",
    line 335, in import_module
    f, p, d = imp.find_module(parts[i], path)
    [Thu Sep 13 05:25:35 2001] [error] PythonHandler mptest: ImportError: No module
    named mptest


Thanks again,

Philip


------------------------------------------------------------------------------
Philip M. Gollucci (p6m7g8) philip@p6m7g8.com 301.314.3118

Science, Discovery, & the Universe (UMCP)
        Webmaster & Webship Teacher
        URL: http://www.sdu.umd.edu

EJPress.com
        Database/PERL Programmer & System Admin
        URL : http://www.ejournalpress.com

Resume      : http://www.p6m7g8.com/resume-20010910_192426.txt





From grisha at modpython.org  Thu Sep 13 10:34:21 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 22:02:55 2004
Subject: [mod_python] Test fails -- HELP !!
In-Reply-To: <20010913060256.P68181-100000@p6m7g8.student.umd.edu>
Message-ID: <Pine.BSF.4.32.0109131026210.75527-100000@localhost>

If you're using <Location>, you will need to manually make sure that
the directory where the module is is in your pythonpath. Try this instead:

Alias /python/ /usr/home/src/apache/python
<Directory /usr/home/src/apache/python>
   AddHandler python-program .py
   PythonHandler mptest
   PythonDebug On
</Directory>


On Thu, 13 Sep 2001, Philip M. Gollucci wrote:

> I'm pretty new to python, but have had lots of similiar experience with
> mod_perl/PERL and apache.  I am a very good System Admin.
> I've install Python and mod_python via the documentation bundled with each.
> I tried the prog senario given here,
>  http://drunken.student.umd.edu/manual-mod_python/inst-testing.html
> but I get a strange error message (SEE BELOW)
>
> Thanks for all you help in advance.
>
> uname -a
>     FreeBSD drunken.student.umd.edu 4.3-RELEASE FreeBSD 4.3-RELEASE #0: Sat Sep
>     8 07:09:39 EST 2001
>     root@drunken.student.umd.edu:/usr/src/sys/compile/DRUNKEN i386
>
> python -V
>     Python 2.2a3
>     ./configure --prefix=/usr/home/src/python --without-threads
>
> mod_python compile:
>     mod_python/2.7.6
>     ./configure --with-apxs=/usr/home/src/apache/apxs
>     make dso
>     su
>     make install
>
> apachectl configtest:
>     orginally, I got the warning:
> [Thu Sep 13 06:26:37 2001] [warn] Loaded DSO libexec/mod_python.so uses plain
> Apache 1.3 API, this module might crash under EAPI! (please recompile it with
> -DEAPI)
>     but I added -DEAPI to CFLAGS in mod_python-2.7.6/src/Makefile
>     reran
>     make dso
>     su
>     make install
>
>     and it dissappeared.
>
>
> ./httpd -X
>     no warnings/errors
>
> apache banner:
>     Apache/1.3.20 (Unix) mod_ssl/2.8.4 OpenSSL/0.9.6b
>     mod_python/2.7.6 Python/2.2a3 mod_perl/1.26
>
> httpd -V
>     Server version: Apache/1.3.20 (Unix)
>     Server built:   Sep  9 2001 05:14:30
>     Server's Module Magic Number: 19990320:10
>     Server compiled with....
>      -D EAPI
>      -D EAPI_MM
>      -D EAPI_MM_CORE_PATH="logs/httpd.mm"
>      -D HAVE_MMAP
>      -D USE_MMAP_SCOREBOARD
>      -D USE_MMAP_FILES
>      -D USE_FLOCK_SERIALIZED_ACCEPT
>      -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT
>      -D HTTPD_ROOT="/usr/home/src/apache"
>      -D SUEXEC_BIN="/usr/home/src/apache/bin/suexec"
>      -D DEFAULT_PIDLOG="logs/httpd.pid"
>      -D DEFAULT_SCOREBOARD="logs/httpd.scoreboard"
>      -D DEFAULT_LOCKFILE="logs/httpd.lock"
>      -D DEFAULT_XFERLOG="logs/access_log"
>      -D DEFAULT_ERRORLOG="logs/error_log"
>      -D TYPES_CONFIG_FILE="conf/mime.types"
>      -D SERVER_CONFIG_FILE="conf/httpd.conf"
>      -D ACCESS_CONFIG_FILE="conf/access.conf"
>      -D RESOURCE_CONFIG_FILE="conf/srm.conf"
>
> httpd.conf snippets:
>     LoadModule python_module      libexec/mod_python.so
>     AddModule mod_python.c
>     ### MOD PYTHOD ###
>     Alias /python/ /usr/home/src/apache/python
>     <Location /python>
>         AddHandler python-program .py
>         PythonHandler mptest
>         PythonDebug On
>     </Location>
>     ### END MOD PYTHOD
>
> /usr/home/src/apache/python/mptest.py:
>     from mod_python import apache
>
>     def handler(req):
>         req.send_http_header()
>         req.write("Hello World!")
>         return apache.OK
>
>
> Webpage Error message:
>     Mod_python error: "PythonHandler mptest"
>
>     Traceback (most recent call last):
>
>     File "/usr/home/src/python/lib/python2.2/site-packages/mod_python/apache.py",
>     line 181, in Dispatch module = import_module(module_name, _req)
>
>     File "/usr/home/src/python/lib/python2.2/site-packages/mod_python/apache.py",
>     line 335, in import_module f, p, d = imp.find_module(parts[i], path)
>
>     ImportError: No module named mptest
>
> Apache Error Log Message:
>     [Thu Sep 13 05:25:34 2001] [error] PythonHandler mptest: Traceback (most
>     recent call last):
>     [Thu Sep 13 05:25:35 2001] [error] PythonHandler mptest:   File
>     "/usr/home/src/python/lib/python2.2/site-packages/mod_python/apache.py",
>     line 181, in Dispatch
>     module = import_module(module_name, _req)
>     [Thu Sep 13 05:25:35 2001] [error] PythonHandler mptest:   File
>     "/usr/home/src/python/lib/python2.2/site-packages/mod_python/apache.py",
>     line 335, in import_module
>     f, p, d = imp.find_module(parts[i], path)
>     [Thu Sep 13 05:25:35 2001] [error] PythonHandler mptest: ImportError: No module
>     named mptest
>
>
> Thanks again,
>
> Philip
>
>
> ------------------------------------------------------------------------------
> Philip M. Gollucci (p6m7g8) philip@p6m7g8.com 301.314.3118
>
> Science, Discovery, & the Universe (UMCP)
>         Webmaster & Webship Teacher
>         URL: http://www.sdu.umd.edu
>
> EJPress.com
>         Database/PERL Programmer & System Admin
>         URL : http://www.ejournalpress.com
>
> Resume      : http://www.p6m7g8.com/resume-20010910_192426.txt
>
>
>
>
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>



From guinan at bluebutton.com  Mon Sep 17 01:34:12 2001
From: guinan at bluebutton.com (Jamie Guinan)
Date: Fri Jan  9 22:02:55 2004
Subject: [mod_python] mod_python.publisher buglet [ + patch ]
Message-ID: <Pine.LNX.4.33.0109170115340.14699-100000@gemini.home.net>

Hi,

I am just starting to look at mod_python (2.7.6), and I tried
using mod_python.publisher.  Works nicely at first glance,
but I found a small bug.

httpd.conf:

<Directory /var/www/html/pytest>
  AddHandler python-program .py
  PythonHandler mod_python.publisher
</Directory>

Now load
  http://localhost:81/pytest/index.py/

Note the trailing "/", publisher.py does not check if PATH_INFO
is empty after the / and I see a Python error in my browser,

  Mod_python error: "PythonHandler mod_python.publisher"

  Traceback (innermost last):

  File "/usr/lib/python1.5/site-packages/mod_python/apache.py", line
  189, in Dispatch
  result = object(self.req)

  File "/usr/lib/python1.5/site-packages/mod_python/publisher.py", line
  93, in handler
  if func_path[-1] == ".":

  IndexError: string index out of range


Quickie patch (and bonus typo fix):

--cut below--
--- publisher.py.ori	Mon Sep 17 01:21:34 2001
+++ publisher.py	Mon Sep 17 01:33:03 2001
@@ -82,8 +82,13 @@
     # get the path PATH_INFO (everthing after script)
     if not _req.subprocess_env.has_key("PATH_INFO"):
         raise apache.SERVER_RETURN, apache.HTTP_NOT_FOUND
-
-    func_path = _req.subprocess_env["PATH_INFO"][1:] # skip fist /
+
+    func_path = _req.subprocess_env["PATH_INFO"][1:] # skip first /
+
+    # Check for empty func_path.
+    if not func_path:
+        raise apache.SERVER_RETURN, apache.HTTP_NOT_FOUND
+
     func_path = string.replace(func_path, "/", ".")
     if func_path[-1] == ".":
         func_path = func_path[:-1]
--cut above--

Cheers,
-Jamie


From justuser at hotbox.ru  Mon Sep 17 14:37:01 2001
From: justuser at hotbox.ru (Oleg_atl)
Date: Fri Jan  9 22:02:55 2004
Subject: [mod_python]  .
Message-ID: <1000737421.27109.qmail@ech>

     .
         ,    
      ,      . 
 ,    . 
   ,       .

                                                                 ,     .


_______________________________________________________________________
Powered by List Builder
To unsubscribe follow the link:
http://lb.bcentral.com/ex/manage/subscriberprefs?customerid=15216&subid=2DA99AC7B15666AE&msgnum=1

From harm at millionmonkeys.nl  Tue Sep 18 00:11:40 2001
From: harm at millionmonkeys.nl (harm@millionmonkeys.nl)
Date: Fri Jan  9 22:02:55 2004
Subject: [mod_python] inithandler?
Message-ID: <20010918001139.A11306@godel>

Moi,

first of all thanks for mod_python. I come from an (mod_)perl world and the
python version definitely is the easier one to use (There are tons of traps
you have to watch out for under mod_perl).

Anyway. My tiny question.

Why is there no init handler? It would run the moment the python
interpreter gets loaded/intiated by the freshly forked apache. It would be a 
nice place to initialise some site global modules.

Sure, I could do a:
if not mypersistentvar:
   mypersistentvar = Some.Nice.Object()

but an InitHandler does look like cleaner to me.

Any better way to arrange initialisation than the above method?

Thanks,
Harmen

-- 
                                                         The Moon is New

From grisha at modpython.org  Mon Sep 17 22:59:18 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 22:02:55 2004
Subject: [mod_python] inithandler?
In-Reply-To: <20010918001139.A11306@godel>
Message-ID: <Pine.BSF.4.32.0109172255040.66786-100000@localhost>

There is a PythonImport, which essentially does this. It has some severe
limitations.

The thing is that mod_python will create separate subinterpreters for
separate virtual servers (or optionally directories), but the only
opportunity to learn this information is during request procesing.

At Apache startup time you can't tell what the subinterpreters will be.
You have an option of manually giving interpreters names and making sure
that PythonImport executes under a specific name, but it's just kind of
messy....

I understand what the problem is, but  can't think of a clean solution to
it.

Grisha


On Tue, 18 Sep 2001 harm@millionmonkeys.nl wrote:

> Moi,
>
> first of all thanks for mod_python. I come from an (mod_)perl world and the
> python version definitely is the easier one to use (There are tons of traps
> you have to watch out for under mod_perl).
>
> Anyway. My tiny question.
>
> Why is there no init handler? It would run the moment the python
> interpreter gets loaded/intiated by the freshly forked apache. It would be a
> nice place to initialise some site global modules.
>
> Sure, I could do a:
> if not mypersistentvar:
>    mypersistentvar = Some.Nice.Object()
>
> but an InitHandler does look like cleaner to me.
>
> Any better way to arrange initialisation than the above method?
>
> Thanks,
> Harmen
>
> --
>                                                          The Moon is New
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From geert at boskant.nl  Tue Sep 18 10:15:11 2001
From: geert at boskant.nl (Geert Jansen)
Date: Fri Jan  9 22:02:55 2004
Subject: [mod_python] inithandler?
In-Reply-To: <20010918001139.A11306@godel>
Message-ID: <POEGJAKPNOCGNJMONMFKKEFDCCAA.geert@boskant.nl>

You wrote:

> Anyway. My tiny question.
>
> Why is there no init handler? It would run the moment the python
> interpreter gets loaded/intiated by the freshly forked apache. It
> would be a
> nice place to initialise some site global modules.
>
> Sure, I could do a:
> if not mypersistentvar:
>    mypersistentvar = Some.Nice.Object()

I'm afraid this is currently the only way. I use the technique too, and I
don't think it is unacceptably ugly :) And it works very well.

I am curious how mod_perl implements this init handler. I bet it runs it at
request time, setting a flag init_done when it has been called.

Recently I had problems implementing a "once for _all_ childs" initialiser
function, but that's another issue. See the recent mailing list archive if
you're interested.

Greetings,
Geert


From harm at millionmonkeys.nl  Tue Sep 18 14:16:19 2001
From: harm at millionmonkeys.nl (harm)
Date: Fri Jan  9 22:02:55 2004
Subject: [mod_python] inithandler?
In-Reply-To: <Pine.BSF.4.32.0109172255040.66786-100000@localhost>; from grisha@modpython.org on Mon, Sep 17, 2001 at 10:59:18PM -0400
References: <20010918001139.A11306@godel> <Pine.BSF.4.32.0109172255040.66786-100000@localhost>
Message-ID: <20010918141619.F11306@godel>

On Mon, Sep 17, 2001 at 10:59:18PM -0400, Gregory (Grisha) Trubetskoy wrote:
> 
> There is a PythonImport, which essentially does this. It has some severe
> limitations.
> 
> The thing is that mod_python will create separate subinterpreters for
> separate virtual servers (or optionally directories), but the only
> opportunity to learn this information is during request procesing.
> 
> At Apache startup time you can't tell what the subinterpreters will be.

But you do know it the moment the subinterpreters are actually created, 
don`t you? So mod_python could call some handlers the moment it creates 
an fresh interpreter.

Ohwell, as mentioned, it in not _that_ important. Thanks for your reply!

Greetings,
Harmen


> You have an option of manually giving interpreters names and making sure
> that PythonImport executes under a specific name, but it's just kind of
> messy....
> 
> I understand what the problem is, but  can't think of a clean solution to
> it.
> 
> Grisha
> 
> > Moi,
> >
> > first of all thanks for mod_python. I come from an (mod_)perl world and the
> > python version definitely is the easier one to use (There are tons of traps
> > you have to watch out for under mod_perl).
> >
> > Anyway. My tiny question.
> >
> > Why is there no init handler? It would run the moment the python
> > interpreter gets loaded/intiated by the freshly forked apache. It would be a
> > nice place to initialise some site global modules.
> >
> > Sure, I could do a:
> > if not mypersistentvar:
> >    mypersistentvar = Some.Nice.Object()
> >
> > but an InitHandler does look like cleaner to me.
> >
> > Any better way to arrange initialisation than the above method?
> >
> > Thanks,
> > Harmen
> >

-- 
                                The Moon is Waxing Crescent (2% of Full)

From sjh at wibble.net  Wed Sep 19 17:13:33 2001
From: sjh at wibble.net (Steven Hanley)
Date: Fri Jan  9 22:02:55 2004
Subject: [mod_python] installation config to allow different programs
Message-ID: <20010919171332.A5721@shiva.marian>

All

I am not on the list so could any replies also be cc'd to me.

Reading the documentation it suggests doing something like 

<IfModule mod_python.c>
  Alias /python/ /some/where/
  <Location /python>
    AddHandler python-program .py
    PythonHandler someprog     
  </Location>
</IfModule>  

which will cause the handler method in someprog to be run whenever any
random.py program is accessed at http://servername/python/random.py.

I am wondering why there is no handler distributed with mod python to simply
allow something more like.

<IfModule mod_python.c>
  Alias /python/ /some/where/
  <Location /python>
    SetHandler python-program
    PythonHandler mod_python.run      
  </Location>
</IfModule>  

Where any file in /python can be accessed and run with mod_python. I know
there is the publisher module but that is not what I am thinking of.

More if we have a 

program named "first" which contains python code such as 

from mod_python import apache

def handler(req):                          
    req.send_http_header()
    req.write("Hello World!")
    return apache.OK

and another program named "second" with the code

from mod_python import apache

def handler(req):                          
    req.send_http_header()
    req.write("Goodbye World!")
    return apache.OK

and an access to 

http://servername/python/first gives the Hello World program
an access to 
http://servername/python/second gives the Goodby World program

Also notice the programs dont have any .py extension.

So I was unable to work out a way to configure mod_python to handle this sort
of case. Can someone please help.

It seems in the documentation we jump straight from explicit reference to a
single program.py to using something like publisher.

I saw someone say they had tried to do this and it wasnt working on this
mailing list

http://www.modpython.org/pipermail/mod_python/2001-August/001606.html

but he then came back and said it was working two posts later without any
explanation of how.

I see the same behavior, it just sends the source code of the pythong program
back to the browser.

       See You
           Steve

-- 
sjh@wibble.net http://wibble.net/~sjh
Look Up In The Sky
    Is it a bird?   No
        Is it a plane    No
            Is it a small blue banana?
Yes

From francoislepoutre at compuserve.com  Tue Sep 18 11:52:02 2001
From: francoislepoutre at compuserve.com (=?iso-8859-1?Q?Fran=E7ois_Lepoutre?=)
Date: Fri Jan  9 22:02:55 2004
Subject: [mod_python] threading issue on win2k
Message-ID: <01c1402f$f2dd1420$0d54d3d4@csi.compuserve.com>

Hi all,

Just a few words to say that i discovered python and mod_python a few months ago.

Developping with these tools has been one of my greatest programming 
pleasure (the previous was smalltalk a century ago...).

However I have a nasty pb to solve which seems to be windows-specific and 
related to windows threading.

The configuration:
- W2000 server,
- python 2.1 + mxodbc,
- apache 1.3.20
- mod_python 2.7.4 for 2.1

Under heavy loads, the the code sequence that load odbc information
from the db engine (ASA by sybase) seems to break because of
thread concurrency.

The apache just breaks with log message:
"c:\python21\lib\mod_python\apache.py", line 193, in Dispatch
 result=object(req)
IOError: Write failed, client closed connexion

When putting apache "ThreadPerChild" to 1 instead of 2 to 50,
the pb vanishes... and performance as well. (:

I'd like to know whether the pb is:
- apache related (is apache 2/win a potential cure?)
- python-related (can we improve our scripts with thread-caring code?)
- modpython-related (should we try to tweak apache.py?)

I know next to nothing to low-level os issues threads except that they
tend to get in the way of interperters like python...

Thanks in advance for any piece of advice.

Fran?ois



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://mailman.modpython.org/pipermail/mod_python/attachments/20010918/5ec094da/attachment-0003.htm
From vielmos at yahoo.com  Thu Sep 20 12:53:08 2001
From: vielmos at yahoo.com ( .)
Date: Fri Jan  9 22:02:55 2004
Subject: [mod_python]        
Message-ID: <1000990388.40354.qmail@ech>

                    !

        -         :  ,  (   ),    (    ).
     
         ,       : www.viel.f2s.com 

               ,    ,            .
     ,     , ,      ,      .     International Rectifier, Epcos, Bourns, Metex, unit-t  .
      :       .         .
    
       : , -2,-3, POST-MIX  .        ,  ,    .. 

     :  /  /  .
     
    :       ,,   .

              :     !!!(D  25  1000.)
   
          ,  ,       ,                .
            ,     : (095) 275-89-94,    :  vielmos@yahoo.com 
     
             ,    ,    ,     ,    .

          . : (095) 275-89-94, 746-68-78.


_______________________________________________________________________
Powered by List Builder
To unsubscribe follow the link:
http://lb.bcentral.com/ex/manage/subscriberprefs?customerid=15203&subid=3256B486083969DA&msgnum=1

From wart at softhome.net  Thu Sep 20 18:58:39 2001
From: wart at softhome.net (Wartan Hachaturow)
Date: Fri Jan  9 22:02:55 2004
Subject: [mod_python] Another call for open-source "real world" modpython apps..
Message-ID: <20010920185839.A21515@penguin.aktivist.ru>

Hi.

Do anyone here know of any mod_python open-source applications? I mean
the ones I could use as examples, or base my code on them..
The ones that I've seen (maki, PyWM) lack the features I need -- sessions,
"users", persistent db connections and all other "bells and whistles".
All tools that are intended to be used with mod_python (WebWare, weblib)
are too poorly documented, and lack examples (again).

P.S. I know I can write this stuff by myself, but I'm a bit lazy -- and after
all, this is what open source is for :)

-- 
Regards, Wartan.
echo "Your stdio isn't very std." 
		-- Larry Wall in Configure from the perl distribution

From grisha at modpython.org  Tue Sep 18 08:54:04 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 22:02:56 2004
Subject: [mod_python] inithandler?
In-Reply-To: <20010918141619.F11306@godel>
Message-ID: <Pine.BSF.4.32.0109180852050.73886-100000@localhost>


On Tue, 18 Sep 2001, harm wrote:

> On Mon, Sep 17, 2001 at 10:59:18PM -0400, Gregory (Grisha) Trubetskoy wrote:
> >
> > There is a PythonImport, which essentially does this. It has some severe
> > limitations.
> >
> > The thing is that mod_python will create separate subinterpreters for
> > separate virtual servers (or optionally directories), but the only
> > opportunity to learn this information is during request procesing.
> >
> > At Apache startup time you can't tell what the subinterpreters will be.
>
> But you do know it the moment the subinterpreters are actually created,
> don`t you? So mod_python could call some handlers the moment it creates
> an fresh interpreter.

Subinterpreters are created during request processing - if one exists
already it is used, otherwise it is created. So it won't be any different
than using the Python import mechanism for one time initialization.

Grisha


From geert at boskant.nl  Wed Sep 19 13:35:50 2001
From: geert at boskant.nl (Geert Jansen)
Date: Fri Jan  9 22:02:56 2004
Subject: [mod_python] installation config to allow different programs
In-Reply-To: <20010919171332.A5721@shiva.marian>
Message-ID: <POEGJAKPNOCGNJMONMFKOEFHCCAA.geert@boskant.nl>

You wrote:

> I am wondering why there is no handler distributed with mod
> python to simply
> allow something more like.
>
> <IfModule mod_python.c>
>   Alias /python/ /some/where/
>   <Location /python>
>     SetHandler python-program
>     PythonHandler mod_python.run
>   </Location>
> </IfModule>

[snip]

> http://servername/python/first gives the Hello World program
> an access to
> http://servername/python/second gives the Goodby World program
>
> Also notice the programs dont have any .py extension.

mod_python doesn't contain a handler that can do this. But it's easy to
write such a handler yourself. You can get the python script name from
request.path_info(). Use this to load it with __import__() and use hasattr()
to check for a function named handler(). Then call the function.

Greetings,
Geert
--
long long email=0X78DC806B91FCA334,i=0,j; main(){j=(email>>4*i)&15;
putchar(j+j/2+j/5-j/12+(j<13?97:-65+7*j));i/15?exit(0):++i,main();}


From grisha at modpython.org  Wed Sep 19 09:16:12 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 22:02:56 2004
Subject: [mod_python] installation config to allow different programs
In-Reply-To: <20010919171332.A5721@shiva.marian>
Message-ID: <Pine.BSF.4.32.0109190912580.92366-100000@localhost>

I *think* you should be able to use SetHandler and /some/script/function
with the publisher handler. The actual file on the server should still be
called sctipt.py.

I don't know how explicit the documentation is about it, but mod_python
doesn't care about the ".py".

Grisha

On Wed, 19 Sep 2001, Steven Hanley wrote:

> All
>
> I am not on the list so could any replies also be cc'd to me.
>
> Reading the documentation it suggests doing something like
>
> <IfModule mod_python.c>
>   Alias /python/ /some/where/
>   <Location /python>
>     AddHandler python-program .py
>     PythonHandler someprog
>   </Location>
> </IfModule>
>
> which will cause the handler method in someprog to be run whenever any
> random.py program is accessed at http://servername/python/random.py.
>
> I am wondering why there is no handler distributed with mod python to simply
> allow something more like.
>
> <IfModule mod_python.c>
>   Alias /python/ /some/where/
>   <Location /python>
>     SetHandler python-program
>     PythonHandler mod_python.run
>   </Location>
> </IfModule>
>
> Where any file in /python can be accessed and run with mod_python. I know
> there is the publisher module but that is not what I am thinking of.
>
> More if we have a
>
> program named "first" which contains python code such as
>
> from mod_python import apache
>
> def handler(req):
>     req.send_http_header()
>     req.write("Hello World!")
>     return apache.OK
>
> and another program named "second" with the code
>
> from mod_python import apache
>
> def handler(req):
>     req.send_http_header()
>     req.write("Goodbye World!")
>     return apache.OK
>
> and an access to
>
> http://servername/python/first gives the Hello World program
> an access to
> http://servername/python/second gives the Goodby World program
>
> Also notice the programs dont have any .py extension.
>
> So I was unable to work out a way to configure mod_python to handle this sort
> of case. Can someone please help.
>
> It seems in the documentation we jump straight from explicit reference to a
> single program.py to using something like publisher.
>
> I saw someone say they had tried to do this and it wasnt working on this
> mailing list
>
> http://www.modpython.org/pipermail/mod_python/2001-August/001606.html
>
> but he then came back and said it was working two posts later without any
> explanation of how.
>
> I see the same behavior, it just sends the source code of the pythong program
> back to the browser.
>
>        See You
>            Steve
>
> --
> sjh@wibble.net http://wibble.net/~sjh
> Look Up In The Sky
>     Is it a bird?   No
>         Is it a plane    No
>             Is it a small blue banana?
> Yes
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From vielmos at yahoo.com  Thu Sep 20 18:19:24 2001
From: vielmos at yahoo.com ( .)
Date: Fri Jan  9 22:02:56 2004
Subject: [mod_python]        
Message-ID: <1001009964.88088.qmail@ech>

 kodirovra KOI-8R ili Kirilica(windows)
                
                !

  &#8220;-&#8221;         :  ,  (   ),    (    ).

           ,       : www.viel.f2s.com .

                 ,    ,            .
      
       ,     , ,      ,      .     International Rectifier, Epcos, Bourns, Metex, unit-t  .
       :       .         .

         : , -2,-3, POST-MIX  .        , &#8220;&#8221; ,    .. 
      
        :  /  /  .
       :       ,,   .

             ,  ,       ,                .
        
               ,     : (095) 275-89-94,    : vielmos@yahoo.com 

             ,    ,    ,     ,    .

          . : (095) 275-89-94, 746-68-78.



_______________________________________________________________________
Powered by List Builder
To unsubscribe follow the link:
http://lb.bcentral.com/ex/manage/subscriberprefs?customerid=15203&subid=D4E1506707A94BA2&msgnum=2

From grisha at modpython.org  Thu Sep 20 22:52:28 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 22:02:56 2004
Subject: [mod_python] threading issue on win2k
In-Reply-To: <01c1402f$f2dd1420$0d54d3d4@csi.compuserve.com>
Message-ID: <Pine.BSF.4.32.0109202244420.26247-100000@localhost>

The problem may be with the odbc driver.

I don't know about this particular one (sybase), but I know that some of
the very latest m$ access and sql server odbc drivers are still not thread
safe.

The link below seems to be confirming my theory:

http://groups.google.com/groups?hl=en&selm=397EE72C.3AC8E5DE%40ever.ever

Grisha

On Tue, 18 Sep 2001, [iso-8859-1] Fran?ois Lepoutre wrote:

> Hi all,
>
> Just a few words to say that i discovered python and mod_python a few months ago.
>
> Developping with these tools has been one of my greatest programming
> pleasure (the previous was smalltalk a century ago...).
>
> However I have a nasty pb to solve which seems to be windows-specific and
> related to windows threading.
>
> The configuration:
> - W2000 server,
> - python 2.1 + mxodbc,
> - apache 1.3.20
> - mod_python 2.7.4 for 2.1
>
> Under heavy loads, the the code sequence that load odbc information
> from the db engine (ASA by sybase) seems to break because of
> thread concurrency.
>
> The apache just breaks with log message:
> "c:\python21\lib\mod_python\apache.py", line 193, in Dispatch
>  result=object(req)
> IOError: Write failed, client closed connexion
>
> When putting apache "ThreadPerChild" to 1 instead of 2 to 50,
> the pb vanishes... and performance as well. (:
>
> I'd like to know whether the pb is:
> - apache related (is apache 2/win a potential cure?)
> - python-related (can we improve our scripts with thread-caring code?)
> - modpython-related (should we try to tweak apache.py?)
>
> I know next to nothing to low-level os issues threads except that they
> tend to get in the way of interperters like python...
>
> Thanks in advance for any piece of advice.
>
> Fran?ois
>
>
>
>


From francois.lepoutre at seriatim.com  Fri Sep 21 09:59:05 2001
From: francois.lepoutre at seriatim.com (Francois Lepoutre)
Date: Fri Jan  9 22:02:56 2004
Subject: [mod_python] threading issue on win2k
In-Reply-To: <Pine.BSF.4.32.0109202244420.26247-100000@localhost>
Message-ID: <FMENKHOEIEBLNLADJANEMECLCAAA.francois.lepoutre@seriatim.com>

Threading ... I am quite a newbie in this area.

I Tried quite a bit of "trial and errors" with both
the standard threading and mutex python libs
in our script (lock, mutex...) however.

The idea was to try ensure that the mxodbc code is run
in a protected environment where the sql code is run
in a round-robin way.

With no success. Any chance we can do that...

By the way i'd be glad to try the whole thing on
mod_python 3 on win32/apache2 when available.

In case of pb we will have to switch to a "closed"
*nix only-approach.

Thanks for mod_python. Great.
Simple and fast. No fuss.

That the way i like it with IT  :)

-----Message d'origine-----
De : grisha@modpython.org [mailto:grisha@modpython.org]
Envoye : 21/09/01 03:52
A : Fran?ois Lepoutre
Cc : mod_python@modpython.org
Objet : Re: [mod_python] threading issue on win2k


The problem may be with the odbc driver.

I don't know about this particular one (sybase), but I know that some of
the very latest m$ access and sql server odbc drivers are still not thread
safe.

The link below seems to be confirming my theory:

http://groups.google.com/groups?hl=en&selm=397EE72C.3AC8E5DE%40ever.ever

Grisha

On Tue, 18 Sep 2001, [iso-8859-1] Fran?ois Lepoutre wrote:

> Hi all,
>
> Just a few words to say that i discovered python and mod_python a few
months ago.
>
> Developping with these tools has been one of my greatest programming
> pleasure (the previous was smalltalk a century ago...).
>
> However I have a nasty pb to solve which seems to be windows-specific and
> related to windows threading.
>
> The configuration:
> - W2000 server,
> - python 2.1 + mxodbc,
> - apache 1.3.20
> - mod_python 2.7.4 for 2.1
>
> Under heavy loads, the the code sequence that load odbc information
> from the db engine (ASA by sybase) seems to break because of
> thread concurrency.
>
> The apache just breaks with log message:
> "c:\python21\lib\mod_python\apache.py", line 193, in Dispatch
>  result=object(req)
> IOError: Write failed, client closed connexion
>
> When putting apache "ThreadPerChild" to 1 instead of 2 to 50,
> the pb vanishes... and performance as well. (:
>
> I'd like to know whether the pb is:
> - apache related (is apache 2/win a potential cure?)
> - python-related (can we improve our scripts with thread-caring code?)
> - modpython-related (should we try to tweak apache.py?)
>
> I know next to nothing to low-level os issues threads except that they
> tend to get in the way of interperters like python...
>
> Thanks in advance for any piece of advice.
>
> Fran?ois
>
>
>
>


From laprice at efn.org  Fri Sep 21 09:50:29 2001
From: laprice at efn.org (larry a price)
Date: Fri Jan  9 22:02:56 2004
Subject: [mod_python] Another call for open-source "real world" modpython
 apps..
In-Reply-To: <20010920185839.A21515@penguin.aktivist.ru>
Message-ID: <Pine.GSU.4.21.0109210949040.23252-100000@garcia.efn.org>

try webware
http://webware.sourceforge.net
it's got that plus a fairly sane internal architecture and plumbing for
databases.

<html><head><title>html sig</title></head><body><div style="font:sans-serif;
font-size:72pt;line-height:84pt;color:blue1;"><ul><li>sexy is good</li><li>
linux is good</li><li>qed: linux is sexy</li></ul><hr><hr><hr><hr><hr><hr>
<a href="http://www.efn.org/~laprice">laprice at efn dot org</a></body></html>
On Thu, 20 Sep 2001, Wartan Hachaturow wrote:

> Hi.
> 
> Do anyone here know of any mod_python open-source applications? I mean
> the ones I could use as examples, or base my code on them..
> The ones that I've seen (maki, PyWM) lack the features I need -- sessions,
> "users", persistent db connections and all other "bells and whistles".
> All tools that are intended to be used with mod_python (WebWare, weblib)
> are too poorly documented, and lack examples (again).
> 
> P.S. I know I can write this stuff by myself, but I'm a bit lazy -- and after
> all, this is what open source is for :)
> 
> -- 
> Regards, Wartan.
> echo "Your stdio isn't very std." 
> 		-- Larry Wall in Configure from the perl distribution
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
> 


From forsberg at lysator.liu.se  Sat Sep 22 15:19:32 2001
From: forsberg at lysator.liu.se (Erik Forsberg)
Date: Fri Jan  9 22:02:56 2004
Subject: [mod_python] How do I use the PythonTypeHandler?
Message-ID: <87ofo3qs63.fsf@j218.ryd.student.liu.se>

Hi!

Just curious - how do I use the PythonTypeHandler?

If I just let it return apache.OK I get a 404 when I come to the
PythonHandler. Strange.

I've read the docs, but they're a bit unhelpful in this case.

\EF
-- 
Erik Forsberg                 http://www.lysator.liu.se/~forsberg/
GPG/PGP Key: 1024D/0BAC89D9 <forsberg@lysator.liu.se> 
Key Fingerprint: B308 87FC 566E 825A 5ABC  247C AC9B AB14 0BAC 89D9

From harm at millionmonkeys.nl  Mon Sep 24 23:16:30 2001
From: harm at millionmonkeys.nl (harm@millionmonkeys.nl)
Date: Fri Jan  9 22:02:56 2004
Subject: [mod_python] If-Modified-Since date parsing?
Message-ID: <20010924231630.X11306@godel>

Moi,

I`m making an little scale-this-image-on-the-fly handler. Works like
requesting /magicimages/chicken.gif?width=200&height=255 and you will get
an nicely scaled image. Piece of cake of course and uses a filecache to 
make things nice and speedy.

Now I would like to use the If-Modified-Since header, so I can return the 304
"Not modified" code. Makes requests go faster for everybody (No unnecesary
downloads). 
Is there any module out there to parse the date from this header in
something easier to work with? Example date:
Tue, 1 Jul 2002 11:11:11 GMT

Thanks,
Harmen

Ps: The handler needs to scale the usual web-images: gif, jpg and png. I am
currently using Pythonwares Image (PIM) library. Any better (smaller /
simpler / more mod_python friendly) suggestions?




-- 
                                The Moon is Waxing Gibbous (55% of Full)

From grisha at modpython.org  Mon Sep 24 17:37:32 2001
From: grisha at modpython.org (Gregory (Grisha) Trubetskoy)
Date: Fri Jan  9 22:02:56 2004
Subject: [mod_python] If-Modified-Since date parsing?
In-Reply-To: <20010924231630.X11306@godel>
Message-ID: <Pine.BSF.4.32.0109241735210.4343-100000@localhost>

Python 2.1 (#3, Jun 11 2001, 16:02:23)
[GCC 2.95.2 19991024 (release)] on freebsd4
Type "copyright", "credits" or "license" for more information.
>>> import rfc822
>>> rfc822.parsedate("Tue, 1 Jul 2002 11:11:11 GMT")
(2002, 7, 1, 11, 11, 11, 0, 0, 0)
>>>

HTH,

Grisha

On Mon, 24 Sep 2001 harm@millionmonkeys.nl wrote:

> Moi,
>
> I`m making an little scale-this-image-on-the-fly handler. Works like
> requesting /magicimages/chicken.gif?width=200&height=255 and you will get
> an nicely scaled image. Piece of cake of course and uses a filecache to
> make things nice and speedy.
>
> Now I would like to use the If-Modified-Since header, so I can return the 304
> "Not modified" code. Makes requests go faster for everybody (No unnecesary
> downloads).
> Is there any module out there to parse the date from this header in
> something easier to work with? Example date:
> Tue, 1 Jul 2002 11:11:11 GMT
>
> Thanks,
> Harmen
>
> Ps: The handler needs to scale the usual web-images: gif, jpg and png. I am
> currently using Pythonwares Image (PIM) library. Any better (smaller /
> simpler / more mod_python friendly) suggestions?
>
>
>
>
> --
>                                 The Moon is Waxing Gibbous (55% of Full)
> _______________________________________________
> Mod_python mailing list
> Mod_python@modpython.org
> http://www.modpython.org/mailman/listinfo/mod_python
>


From donotsend at priceorg.com  Sat Sep 29 03:51:11 2001
From: donotsend at priceorg.com (donotsend@priceorg.com)
Date: Fri Jan  9 22:02:56 2004
Subject: [mod_python] Re: 
Message-ID: <200109290046.f8T0kND42162@eden.ispol.com>

???? ?? ????????????? ????? ??? ??????? ????,
??? ????? ????????? ???????? ?????????????
?????? http://www.tourfirm.com
??????? ? ????????????? ??????, ????????????
??????? ???????? ? ????? ???????, ? ????? ??????????????
? ???? ???????? ????????? ???????? ? ????:
1.      ???????? ????? 
2.      URL (???? ??????)
3.      ??????
4.      ?????? (???????, ???? ? ?.?.)
5.      ?????????? ????? (?????, ????????? ??????? ? ?.?.)
6.      ????? ? ?????????? ??????.
???? ??????????? ? ?????? ?? ?????????? ? ?????? ??? 
????????? ?? ?? ????????.
?????? ?????????? ?? tourism@tourfirm.com

From dsl45393 at vip.cybercity.dk  Sun Sep 30 23:42:00 2001
From: dsl45393 at vip.cybercity.dk (Ole Hansen)
Date: Fri Jan  9 22:02:56 2004
Subject: [mod_python] Apache reload problem
Message-ID: <200109302141.f8ULfaV82629@usr01.cybercity.dk>

Hi,

I have just joined this list, so this subject might have been covered before. 
However, the problem is that whenever I change something in my '.py'-file 
apache fails to reload the page. From error_log it seems like apache searches 
for a file with the extension '.p' instead of '.py' - so I modified 
mod_python/apache.py a little.
I replaced (filepath[:-1]) with (filepath[:]) in the following piece of code. 
line 356 and 359 in apache.py


<snip>
            # check also .py and take the newest
            if os.path.exists(filepath[:]) :

                # get the time of the .py file
                mod = os.stat(filepath[:])
                mtime = max(mtime, mod[stat.ST_MTIME])
<snip>

Apache hasn't complained ever since - but this is perhaps not a very good 
solution. Does anybody have another and maby better solution?
I'm using apache 1.3.19, mod_python 2.7.5, and Python 2.1.1.
The file permissions for my '.py'-file is like 'chmod ugo+rwx', so I don't 
think this the problem.

I'm  a newbie to mod_python/Python/Apache so I might have overlooked 
something.

Br,
Ole Hansen


