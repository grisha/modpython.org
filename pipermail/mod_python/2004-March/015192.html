<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] persistent, reliable globals
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20persistent%2C%20reliable%20globals&In-Reply-To=20040309233340.204123118BE%40attrition.dynamine.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015189.html">
   <LINK REL="Next"  HREF="015193.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] persistent, reliable globals</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Ben</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20persistent%2C%20reliable%20globals&In-Reply-To=20040309233340.204123118BE%40attrition.dynamine.net"
       TITLE="[mod_python] persistent, reliable globals">ben at medianstrip.net
       </A><BR>
    <I>Tue Mar  9 22:22:56 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="015189.html">[mod_python] persistent, reliable globals
</A></li>
        <LI>Next message: <A HREF="015193.html">[mod_python] persistent, reliable globals
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15192">[ date ]</a>
              <a href="thread.html#15192">[ thread ]</a>
              <a href="subject.html#15192">[ subject ]</a>
              <a href="author.html#15192">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>sleepycat / bsddb3 handles locking automatically.  after setting the
environment, you can use it like a dictionary and it works like magic.

by the way, i'm 99% done with my non-middleware framework that will
plug right into modpython, allow caching db connections, etc.  it
supports programmable caching, right now it can make dynamically
generated pages nearly as fast as plain apache!  i call it
non-middleware because it's super lightweight, and hopefully
unobtrusive.  i will release it as soon as i've sanity checked it all.

B

On Tue, 9 Mar 2004, Michael S. Fischer wrote:

&gt;<i> Alain Tesio writes:
</I>&gt;<i>
</I>&gt;<i> &gt; It sounds quite silly to store data on disk to share objects
</I>&gt;<i> &gt; which may not even need to be stored at all, if the point is
</I>&gt;<i> &gt; to have objects in memory and not read/write/pickle/unpickle
</I>&gt;<i> &gt; them all the time and managing locks too.
</I>&gt;<i>
</I>&gt;<i> When you have a hammer (e.g. pickle), everything looks like a nail, I
</I>&gt;<i> suppose.
</I>&gt;<i>
</I>&gt;<i> Don't underestimate the power and speed of the filesytem, particularly if
</I>&gt;<i> you're using a decent storage API like Berkeley DB.  Using disk storage
</I>&gt;<i> doesn't have all the drawbacks you might believe.  Most importantly, if
</I>&gt;<i> you're using a modern OS, your performance will be close enough to mmapped
</I>&gt;<i> I/O due to buffer caching.
</I>&gt;<i>
</I>&gt;<i> Plus you get the benefit of persistence across machine reboots or server
</I>&gt;<i> crashes.
</I>&gt;<i>
</I>&gt;<i> Besides, coding man-hours are expensive, while RAM and disk is cheap.
</I>&gt;<i>
</I>&gt;<i> Lock concerns?  Use rename() (safest) or fcntl.flock()/lockf() (can handle
</I>&gt;<i> multiple readers, but not NFS-safe; if you're using NFS, you won't get
</I>&gt;<i> buffer cache benefits anyway, so I don't recommend it).
</I>&gt;<i>
</I>&gt;<i> --Michael
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015189.html">[mod_python] persistent, reliable globals
</A></li>
	<LI>Next message: <A HREF="015193.html">[mod_python] persistent, reliable globals
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15192">[ date ]</a>
              <a href="thread.html#15192">[ thread ]</a>
              <a href="subject.html#15192">[ subject ]</a>
              <a href="author.html#15192">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
