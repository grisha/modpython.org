<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] persistent, reliable globals
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20persistent%2C%20reliable%20globals&In-Reply-To=20040309214621.4B6E83118BE%40attrition.dynamine.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015188.html">
   <LINK REL="Next"  HREF="015189.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] persistent, reliable globals</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Alain Tesio</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20persistent%2C%20reliable%20globals&In-Reply-To=20040309214621.4B6E83118BE%40attrition.dynamine.net"
       TITLE="[mod_python] persistent, reliable globals">alain at onesite.org
       </A><BR>
    <I>Tue Mar  9 23:28:16 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="015188.html">[mod_python] persistent, reliable globals
</A></li>
        <LI>Next message: <A HREF="015189.html">[mod_python] persistent, reliable globals
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15186">[ date ]</a>
              <a href="thread.html#15186">[ thread ]</a>
              <a href="subject.html#15186">[ subject ]</a>
              <a href="author.html#15186">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 9 Mar 2004 13:46:18 -0800
&quot;Michael S. Fischer&quot; &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">michael at dynamine.net</A>&gt; wrote:

&gt;<i> &gt; &gt; Why don't you just use on-disk storage (e.g. anydbm) or a remote db 
</I>&gt;<i> &gt; &gt; for this?  Why reinvent the wheel?
</I>
It sounds quite silly to store data on disk to share objects which may not even
need to be stored at all, if the point is to have objects in memory and not
read/write/pickle/unpickle them all the time and managing locks too.

Maybe you can look at shared memory, there is a shm module for python,
the problem is that apache processes have their own address space, so you
need a fixed shared memory location with an mmaped file or a shm device,
I'm not sure it will be really faster because you still need to pickle objects.

I don't know a lot about zodb but it may help if it keeps data in cache as
real python objects.

A similar idea is using an object broker like Pyro hosting global objects,
you have local network overhead but no file and no pickling, it may be
really good depending of the type of calls you need (complex global
objects but simple method calls from each process)

The final solution is to have your own multithreaded server and apache
forwarding requests it with proxy directives (like roundup does)

Alain
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015188.html">[mod_python] persistent, reliable globals
</A></li>
	<LI>Next message: <A HREF="015189.html">[mod_python] persistent, reliable globals
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15186">[ date ]</a>
              <a href="thread.html#15186">[ thread ]</a>
              <a href="subject.html#15186">[ subject ]</a>
              <a href="author.html#15186">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
