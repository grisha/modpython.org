<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] 
	Supporting legacy PHP pages while still giving mod_python the root
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20%0A%09Supporting%20legacy%20PHP%20pages%20while%20still%20giving%20mod_python%20the%20root&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015175.html">
   <LINK REL="Next"  HREF="015168.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] 
	Supporting legacy PHP pages while still giving mod_python the root</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>VanL</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20%0A%09Supporting%20legacy%20PHP%20pages%20while%20still%20giving%20mod_python%20the%20root&In-Reply-To="
       TITLE="[mod_python] 
	Supporting legacy PHP pages while still giving mod_python the root">vlindberg at verio.net
       </A><BR>
    <I>Mon Mar  8 15:31:35 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="015175.html">[mod_python] zero terminated strings and req.write
</A></li>
        <LI>Next message: <A HREF="015168.html">[mod_python]  Supporting legacy PHP pages while still giving
	mod_python the root
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15167">[ date ]</a>
              <a href="thread.html#15167">[ thread ]</a>
              <a href="subject.html#15167">[ subject ]</a>
              <a href="author.html#15167">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I have an apache 1.3.x + mod_python + quixote intranet.  I also have 
some legacy PHP pages.  I am currently running mod_python off a 
subdirectory, but I would like to make mod_python the root but still 
maintain PHP access to the old pages.

In my mod_python handler, I currently have the following code

def handler(req):
    # Try to find php
    urlpath = str(req.uri).lower()
    if urlpath.find('.php') != -1:
        # Found a php extension
        return apache.DECLINED
    else:
        # Continue with mod_python stuff

 From the docs, this would appear to pass this request on to the next 
handler, presumably the one set by the SetHandler function in the 
httpd.conf.  Unfortunately, it doesn't work; it ends up giving me a 404 
error.

I know this code is being executed; if I change apache.DECLINED to 
apache.HTTP_INTERNAL_SERVER_ERROR, an error is thrown whenever I have 
.php in the request uri.  

Is there a way to make sure that the path is appropriately followed and 
the php file appropriately executed if we find &quot;.php&quot;?

Thanks,

VanL
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015175.html">[mod_python] zero terminated strings and req.write
</A></li>
	<LI>Next message: <A HREF="015168.html">[mod_python]  Supporting legacy PHP pages while still giving
	mod_python the root
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15167">[ date ]</a>
              <a href="thread.html#15167">[ thread ]</a>
              <a href="subject.html#15167">[ subject ]</a>
              <a href="author.html#15167">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
