<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Win32 platform - test installers available
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Win32%20platform%20-%20test%20installers%20available&In-Reply-To=1924BF350FC96B46A56BB38087B9B86E952708%40srvcorreio.primavera.local">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015103.html">
   <LINK REL="Next"  HREF="015111.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Win32 platform - test installers available</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>David Fraser</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Win32%20platform%20-%20test%20installers%20available&In-Reply-To=1924BF350FC96B46A56BB38087B9B86E952708%40srvcorreio.primavera.local"
       TITLE="[mod_python] Win32 platform - test installers available">davidf at sjsoft.com
       </A><BR>
    <I>Thu Mar  4 18:44:52 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="015103.html">[mod_python] BerkeleyDB and 4Suite
</A></li>
        <LI>Next message: <A HREF="015111.html">[mod_python] Win32 platform - test installers available
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15110">[ date ]</a>
              <a href="thread.html#15110">[ thread ]</a>
              <a href="subject.html#15110">[ subject ]</a>
              <a href="author.html#15110">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jochen Rebhan wrote:

&gt;<i>Has anyone managed to install v3.1.3 on a win32  platform ? 
</I>&gt;<i>
</I>&gt;<i>(WinXP, Apache Win32, Python 2.3.3).
</I>&gt;<i>
</I>&gt;<i>I have both the Mingw gcc as well as VC.Net v.7 installed.
</I>&gt;<i>
</I>&gt;<i>Any help would by highly appreciated !
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>Me too! :-)
Is there a reason there hasn't been a binary made for win32 yet?
I'll try and look at it myself now, but using VC++ 6 so may be difficult...
I am using Apache 2.0.48 win32 sources and Python 2.3.3 standard 
distribution...

Compiling Apache for windows is described here:
<A HREF="http://httpd.apache.org/docs-2.0/platform/win_compiling.html">http://httpd.apache.org/docs-2.0/platform/win_compiling.html</A>
That seems to work fine with VC++ 6

Compiling mod_python for windows seems to require compiling in src based 
on the project file for VC++7
I took the vc7to6_prjconverter tool from 
<A HREF="http://www.codeproject.com/tools/prjconverter.asp">http://www.codeproject.com/tools/prjconverter.asp</A> and converted the file 
for VC++6
Then I had to manually change paths to point to my Apache include and 
Release (lib) directories and my Python include and libs directories
(note that I didn't have to compile Python from source as the include 
and libs are included with the standard distribution...)
These originally are set as $(PYTHONSRC) and $(APACHESRC) in the include 
and libs paths.
I also had to manually add the srclib/apr/include and 
srclib/apr-util/include directories from Apache to the include path, and 
the srclib/apr/Release and srclib/apr-util/Release directories to the 
library path.
Then mod_python linked successfully!

To build the win32 installer it needs to be done in the dist directory 
(apparently under Unix)
I had troubles trying to run configure on MinGW as it needs an apxs to 
find...
but the APXS is not actually needed for the setup script (the code that 
used it is commented out)
So I ran configure on Linux, and built the installer there...
This is done by copying src/Release/mod_python.so to the dist directory.

In fact I found that by simply copying the setup.py generated on Linux I 
could run this on Windows
The instruction is:
  setup.py bdist_wininst --install-script=win32_postinstall.py

I hope the above instructions are useful to anyone else trying the same 
thing.
I have not yet fully tested this binary or installer but it seemed to 
run our applications fine.
mod_python.so and mod_python-3.1.3.win32.exe can be downloaded from:
<A HREF="http://davidf.sjsoft.com/files/mod_python.so">http://davidf.sjsoft.com/files/mod_python.so</A>
<A HREF="http://davidf.sjsoft.com/files/mod_python-3.1.3.win32.exe">http://davidf.sjsoft.com/files/mod_python-3.1.3.win32.exe</A>

I would appreciate feedback (on this list) so that hopefully these can 
be included in the official release ...

David
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015103.html">[mod_python] BerkeleyDB and 4Suite
</A></li>
	<LI>Next message: <A HREF="015111.html">[mod_python] Win32 platform - test installers available
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15110">[ date ]</a>
              <a href="thread.html#15110">[ thread ]</a>
              <a href="subject.html#15110">[ subject ]</a>
              <a href="author.html#15110">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
