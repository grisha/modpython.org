<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] server cleanup
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20server%20cleanup&In-Reply-To=20040310201521.F76332-100000%40inman.medianstrip.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015203.html">
   <LINK REL="Next"  HREF="015201.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] server cleanup</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Gregory (Grisha) Trubetskoy</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20server%20cleanup&In-Reply-To=20040310201521.F76332-100000%40inman.medianstrip.net"
       TITLE="[mod_python] server cleanup">grisha at modpython.org
       </A><BR>
    <I>Wed Mar 10 23:41:46 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="015203.html">[mod_python] server cleanup
</A></li>
        <LI>Next message: <A HREF="015201.html">Pylets (was RE: [mod_python] persistent, reliable globals)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15206">[ date ]</a>
              <a href="thread.html#15206">[ thread ]</a>
              <a href="subject.html#15206">[ subject ]</a>
              <a href="author.html#15206">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
i just looked at the code, and it looks like it needs it to extract the
information about the name of the subinterpreter under which the cleanup
should execute. so i suppose another way could be for the
server.register_cleanup to require the interpreter name rather than
request, but requiring the request (which you must have available, becuase
the only way to get to the server is via request) is easier.

On Wed, 10 Mar 2004, Ben wrote:

&gt;<i> er, i was asking WHY you can't get a server object w/out a request.
</I>&gt;<i>
</I>&gt;<i> re: why does server.register_cleanup() need a request oject: there is
</I>&gt;<i> apache.log_error, which doesn't refer to a request.  why can't it use
</I>&gt;<i> this?
</I>&gt;<i>
</I>&gt;<i> these would be really helpful for me to have.  should i look into
</I>&gt;<i> adding them to mod_python, or is there an implementation quirk that
</I>&gt;<i> makes it impossible?
</I>&gt;<i>
</I>&gt;<i> take care, B
</I>&gt;<i>
</I>&gt;<i> On Wed, 10 Mar 2004, Gregory (Grisha) Trubetskoy wrote:
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Wed, 10 Mar 2004, Ben wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; Grisha --
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; why can you only get a server object within the scope of a request?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Yes.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; why does server.register_cleanup() require a request object param?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This is because the server object itself has no reference to a request,
</I>&gt;<i> &gt; but a request is required for logging AFAIR.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Grisha
</I>&gt;<i> &gt;
</I>&gt;<i>
</I></PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015203.html">[mod_python] server cleanup
</A></li>
	<LI>Next message: <A HREF="015201.html">Pylets (was RE: [mod_python] persistent, reliable globals)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15206">[ date ]</a>
              <a href="thread.html#15206">[ thread ]</a>
              <a href="subject.html#15206">[ subject ]</a>
              <a href="author.html#15206">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
