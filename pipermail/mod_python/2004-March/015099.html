<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Connection Handler in a virtual host
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Connection%20Handler%20in%20a%20virtual%20host&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015101.html">
   <LINK REL="Next"  HREF="015102.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Connection Handler in a virtual host</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Michael C. Neel</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Connection%20Handler%20in%20a%20virtual%20host&In-Reply-To="
       TITLE="[mod_python] Connection Handler in a virtual host">neel at mediapulse.com
       </A><BR>
    <I>Mon Mar  1 12:45:46 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="015101.html">[mod_python] Large database-backed mod_python sites?
</A></li>
        <LI>Next message: <A HREF="015102.html">[mod_python] Win32 platform
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15099">[ date ]</a>
              <a href="thread.html#15099">[ thread ]</a>
              <a href="subject.html#15099">[ subject ]</a>
              <a href="author.html#15099">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I would setup the virt host's like such:

NameVirtualHost 1.2.3.4

&lt;VirtualHost 1.2.3.4:80&gt;
     ServerName site1.xyz.org
     DocumentRoot /var/www/site1/htdocs
&lt;/VirtualHost&gt;

&lt;VirtualHost 1.2.3.4:80&gt;
     ServerName site2.xyz.org
     DocumentRoot /var/www/site2/htdocs
     PythonPath &quot;sys.path+['/var/www/test']&quot;
     PythonConnectionHandler conntest
&lt;/VirtualHost&gt;

Things may have changed with recent options of Apache, but in the past
the first declared VirtualHost would be called if no ServerName or
ServerAlias directives matched.  Also, to help test you can setup
different log files in each VirtualHost, and verify that way which host
if being called on the request.

Mike

&gt;<i> &gt; NameVirtualHost 1.2.3.4
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &lt;VirtualHost xyz.org:80&gt;
</I>&gt;<i> &gt;    ...
</I>&gt;<i> &gt; &lt;/VirtualHost&gt;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &lt;VirtualHost abc.com:80&gt;
</I>&gt;<i> &gt;   ...
</I>&gt;<i> &gt; &lt;/VirtualHost&gt;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &lt;VirtualHost 1.2.3.4:80&gt;
</I>&gt;<i> &gt;    # this will be applied when user views <A HREF="http://1.2.3.4">http://1.2.3.4</A> instead
</I>&gt;<i> &gt;    # of <A HREF="http://abc.com">http://abc.com</A> or <A HREF="http://xyz.org">http://xyz.org</A>
</I>&gt;<i> &gt; &lt;/VirtualHost&gt;
</I>&gt;<i> 
</I>&gt;<i> I did this, but the connection handler is still not being called. :(
</I>&gt;<i> 
</I>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015101.html">[mod_python] Large database-backed mod_python sites?
</A></li>
	<LI>Next message: <A HREF="015102.html">[mod_python] Win32 platform
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15099">[ date ]</a>
              <a href="thread.html#15099">[ thread ]</a>
              <a href="subject.html#15099">[ subject ]</a>
              <a href="author.html#15099">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
