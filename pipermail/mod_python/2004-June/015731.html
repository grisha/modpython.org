<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] uploaded file names
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20uploaded%20file%20names&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015728.html">
   <LINK REL="Next"  HREF="015732.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] uploaded file names</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Daniel J. Popowich</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20uploaded%20file%20names&In-Reply-To="
       TITLE="[mod_python] uploaded file names">dpopowich at mtrsd.k12.ma.us
       </A><BR>
    <I>Thu Jun  3 12:03:44 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="015728.html">[mod_python] Redirecting to a new window
</A></li>
        <LI>Next message: <A HREF="015732.html">[mod_python] uploaded file names
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15731">[ date ]</a>
              <a href="thread.html#15731">[ thread ]</a>
              <a href="subject.html#15731">[ subject ]</a>
              <a href="author.html#15731">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
This is not really a mod_python question, but I figure a number of you
have had to deal with this.

On a windows client, let's say we have a file named:

  c:\foo\bar\baz

which is what a user specifies in an HTML INPUT file widget.

If the client is a mozilla browser the file name is returned as the
basename of whatever was specified, so 'baz'.  If the client is IE the
file name is returned as the full path name specified, so
r'c:\foo\bar\baz'.  Leave it to M$ to complicate matters.

This means I need to code my handler to expect either a basename or a
full pathname.  All I want is the basename.  Complicating the matter
is my handler is on a linux box, so my server-side python is compiled
to handle unix paths, not windows paths (so I can't use functions like
os.path.splitdrive).

My solution, which I fear may be braindead, is to do this to all
incoming filenames:

  filename = os.path.basename(filename.replace('\\', '/'))

This appears to work, but I'm wondering if anyone else has a better
solution.

Thanks,

Daniel

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015728.html">[mod_python] Redirecting to a new window
</A></li>
	<LI>Next message: <A HREF="015732.html">[mod_python] uploaded file names
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15731">[ date ]</a>
              <a href="thread.html#15731">[ thread ]</a>
              <a href="subject.html#15731">[ subject ]</a>
              <a href="author.html#15731">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
