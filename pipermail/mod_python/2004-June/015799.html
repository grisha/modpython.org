<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] OSX 10.3 and Apache 1.3 Bus Error(10)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20OSX%2010.3%20and%20Apache%201.3%20Bus%20Error%2810%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015836.html">
   <LINK REL="Next"  HREF="015800.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] OSX 10.3 and Apache 1.3 Bus Error(10)</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Antonio Rodriguez</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20OSX%2010.3%20and%20Apache%201.3%20Bus%20Error%2810%29&In-Reply-To="
       TITLE="[mod_python] OSX 10.3 and Apache 1.3 Bus Error(10)">Antonio at Memora.com
       </A><BR>
    <I>Mon Jun 21 19:14:50 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="015836.html">[mod_python] ImportError: No module named mptest
</A></li>
        <LI>Next message: <A HREF="015800.html">[mod_python] OSX 10.3 and Apache 1.3 Bus Error(10) [future of mp
	on ap.1.3?]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15799">[ date ]</a>
              <a href="thread.html#15799">[ thread ]</a>
              <a href="subject.html#15799">[ subject ]</a>
              <a href="author.html#15799">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello all,

I'm trying to build mod_python for OSX for development. I've used it in  
production on linux and its been great. But since all of us at work  
have gotten groovy Apple laptops, I wanted to re-create our  
environment.

So, build environment:

&gt;<i>  * Stock OSX 10.3 (Panther)
</I>&gt;<i>  * Apache/1.3.29 (Darwin) (stock build)
</I>&gt;<i>  * mod_python/2.7.10 Python/2.3 (using stock Apple python)
</I>
For the build I wanted to use the Apple python even though its built  
with threads (on linux I've had no issues with mod_python with a  
threaded python so long as I dont run threaded code) because its what's  
there. The good news is that the configure test for threads on 2.3  
fails so no warning is issued.

That said, I had to make two changes to the src/Makefile. First I had  
to add -DEAPI to the gcc options (which I've had to do on linux for a  
while, why don't we make this part of the standard build file?). Then--  
and here is the questionable part-- I had to change the include for the  
python static library (libpython2.3.a) to point to:

&gt;<i> LIBS=-lm  /System/Library/Frameworks/Python.framework/Python -ldl
</I>
from:

&gt;<i> /System/Library/Frameworks/Python.framework/Versions/2.3/lib/ 
</I>&gt;<i> python2.3/config/libpython2.3.a   -ldl
</I>
which was what configure chose.

I think this is the right thing to do as Apple has a sort of weird  
default python.

That said, when I try to run the test example from the docs, I get this  
in the apache error log:

&gt;<i> [Mon Jun 21 17:50:21 2004] [notice] child pid 3206 exit signal Bus  
</I>&gt;<i> error (10)
</I>
Which I presume means that the apache child is seg-faulting for some  
reason.

Now, here is my question: is anyone out there using mod_python in this  
configuration on OSX? I know that we should be using apache2 but OSX  
(as well as Debian my production environment) is running way behind the  
ball on apache2 so I'm trying to build for 1.3. If anyone can point me  
in the right direction, I'm glad to take on the task of trying to build  
a package for OSX that people can use without having to go through the  
build process.

Thanks,

Antonio

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015836.html">[mod_python] ImportError: No module named mptest
</A></li>
	<LI>Next message: <A HREF="015800.html">[mod_python] OSX 10.3 and Apache 1.3 Bus Error(10) [future of mp
	on ap.1.3?]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15799">[ date ]</a>
              <a href="thread.html#15799">[ thread ]</a>
              <a href="subject.html#15799">[ subject ]</a>
              <a href="author.html#15799">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
