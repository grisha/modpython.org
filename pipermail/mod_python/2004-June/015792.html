<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] How to get the URI base of a mod_python app
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20How%20to%20get%20the%20URI%20base%20of%20a%20mod_python%20app&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015791.html">
   <LINK REL="Next"  HREF="015793.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] How to get the URI base of a mod_python app</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Damjan</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20How%20to%20get%20the%20URI%20base%20of%20a%20mod_python%20app&In-Reply-To="
       TITLE="[mod_python] How to get the URI base of a mod_python app">gdamjan at mail.net.mk
       </A><BR>
    <I>Fri Jun 18 20:07:41 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="015791.html">[mod_python] using req object with Publisher
</A></li>
        <LI>Next message: <A HREF="015793.html">[mod_python] test
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15792">[ date ]</a>
              <a href="thread.html#15792">[ thread ]</a>
              <a href="subject.html#15792">[ subject ]</a>
              <a href="author.html#15792">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have a mod_python app setup like this:

Alias /mptest /home/www/mptest
&lt;Directory /home/www/mptest&gt;
  SetHandler mod_python
  PythonDebug On
  PythonHandler mptest
&lt;/Directory&gt;

Offcourse the &quot;/mptest&quot; alias could be changed any time..

I'd like to get the URI base in my app no mather what the URL
was when the app was called (for ex. the app can be invoked with
/mptest/aaa/cccc/bbbbb?...).

I currently use this hack, but I'm not sure if it's the most accurate
way:

	i = req.uri.replace(req.path_info,'').rindex('/')
	uri_base = req.uri[:i].decode('utf-8')


-- 
damjan | &#1076;&#1072;&#1084;&#1112;&#1072;&#1085;
This is my jabber ID --&gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">damjan at bagra.net.mk</A> &lt;-- not my mail address!!!
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015791.html">[mod_python] using req object with Publisher
</A></li>
	<LI>Next message: <A HREF="015793.html">[mod_python] test
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15792">[ date ]</a>
              <a href="thread.html#15792">[ thread ]</a>
              <a href="subject.html#15792">[ subject ]</a>
              <a href="author.html#15792">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
