<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] How do I split up the URI in a request handler?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20How%20do%20I%20split%20up%20the%20URI%20in%20a%20request%20handler%3F&In-Reply-To=vfi4xr9d.fsf%40yahoo.co.uk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015746.html">
   <LINK REL="Next"  HREF="015750.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] How do I split up the URI in a request handler?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Gregory (Grisha) Trubetskoy</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20How%20do%20I%20split%20up%20the%20URI%20in%20a%20request%20handler%3F&In-Reply-To=vfi4xr9d.fsf%40yahoo.co.uk"
       TITLE="[mod_python] How do I split up the URI in a request handler?">grisha at modpython.org
       </A><BR>
    <I>Sun Jun  6 20:35:59 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="015746.html">[mod_python] How do I split up the URI in a request handler?
</A></li>
        <LI>Next message: <A HREF="015750.html">[mod_python] Question.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15747">[ date ]</a>
              <a href="thread.html#15747">[ thread ]</a>
              <a href="subject.html#15747">[ subject ]</a>
              <a href="author.html#15747">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
The answer to this is not as simple as it would seem it should be, because
&quot;/mywebdir&quot; could be a directory such that DocumentRoot + &quot;/mywedir&quot; would
give you the path on disk, but it could also be an alias, in which case
there is no way to know what directory you're in...

But assuming you don't use aliases, req.filename will tell you what
directory you're in.

Also you may want to take a look at the publisher.py code, it deals with
that same issue.

Grisha

On Sun, 6 Jun 2004, Paul Moore wrote:

&gt;<i> In section 3.3 of the manual, at the end (&quot;Some food for thought&quot;), it
</I>&gt;<i> points out that the name of the Python file in the URL
</I>&gt;<i> <A HREF="http://myserver/mywebdir/myscript.py">http://myserver/mywebdir/myscript.py</A> is not relevant to what Python
</I>&gt;<i> function gets called. I understand that, and I see that the handler
</I>&gt;<i> needs to parse the URL in order to get access to the filename
</I>&gt;<i> &quot;myscript.py&quot; should I require it for any reason.
</I>&gt;<i>
</I>&gt;<i> The req.uri attribute gives me &quot;/mywebdir/myscript.py&quot;. But how do I
</I>&gt;<i> find that my handler is being called &quot;from&quot; /mywebdir, to know how
</I>&gt;<i> much of the URI to strip off the front?
</I>&gt;<i>
</I>&gt;<i> It seems to me that this is a pretty basic requirement for URI
</I>&gt;<i> parsing, so I'm assuming that I am missing something straightforward.
</I>&gt;<i> But for the life of me, I can't see it :-( This is causing a problem
</I>&gt;<i> for me in the mod_python support in MoinMoin, so I'd appreciate any
</I>&gt;<i> pointers.
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Paul.
</I>&gt;<i> --
</I>&gt;<i> This signature intentionally left blank
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I></PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015746.html">[mod_python] How do I split up the URI in a request handler?
</A></li>
	<LI>Next message: <A HREF="015750.html">[mod_python] Question.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15747">[ date ]</a>
              <a href="thread.html#15747">[ thread ]</a>
              <a href="subject.html#15747">[ subject ]</a>
              <a href="author.html#15747">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
