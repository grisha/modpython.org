<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] OSX 10.3 and Apache 1.3 Bus Error(10) [future of mp
	on ap.1.3?]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20OSX%2010.3%20and%20Apache%201.3%20Bus%20Error%2810%29%20%5Bfuture%20of%20mp%0A%09on%20ap.1.3%3F%5D&In-Reply-To=01017790-C490-11D8-8BA8-000D93AD1DB8%40gnubia.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015799.html">
   <LINK REL="Next"  HREF="015804.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] OSX 10.3 and Apache 1.3 Bus Error(10) [future of mp
	on ap.1.3?]</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Antonio Rodriguez</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20OSX%2010.3%20and%20Apache%201.3%20Bus%20Error%2810%29%20%5Bfuture%20of%20mp%0A%09on%20ap.1.3%3F%5D&In-Reply-To=01017790-C490-11D8-8BA8-000D93AD1DB8%40gnubia.net"
       TITLE="[mod_python] OSX 10.3 and Apache 1.3 Bus Error(10) [future of mp
	on ap.1.3?]">Antonio at Memora.com
       </A><BR>
    <I>Tue Jun 22 19:25:23 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="015799.html">[mod_python] OSX 10.3 and Apache 1.3 Bus Error(10)
</A></li>
        <LI>Next message: <A HREF="015804.html">[mod_python] mod_python and xml parsing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15800">[ date ]</a>
              <a href="thread.html#15800">[ thread ]</a>
              <a href="subject.html#15800">[ subject ]</a>
              <a href="author.html#15800">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Justin,

Good idea. I'd be happy to start a wiki on mod_python/OSX integration,  
or if a wiki already exists, to start a wiki page. If someone knows of  
an appropriate wiki, please just let me know where to start posting. If  
I don't hear from anyone, I'm happy to start it/ host it.

&gt;<i> I haven't tried using this new python to build mod_python 2.7 against  
</I>&gt;<i> apache 1.3 from panther because I'd rather use apache2.  I'd rather  
</I>&gt;<i> run it out of daemontools anyway.
</I>

I take it in the end you got it to work? Only on apache2? Also, am I to  
assume that mod_python 3 is all that anyone cares about? That is, is  
mod_python  like subversion, another reason for all of us to go to  
apache2?

AR




On Jun 22, 2004, at 5:06 PM, Justin Ryan wrote:

&gt;<i> Antonio,
</I>&gt;<i>
</I>&gt;<i> I feel your pain.  I spent about 3 weeks trying to get mod_python  
</I>&gt;<i> working on my new powerbook.  I first tried (much like yourself) to  
</I>&gt;<i> build against apache and python2.3 from panther, but got errors trying  
</I>&gt;<i> to link against libpython2.3.a (which did not exist on my system).
</I>&gt;<i>
</I>&gt;<i> I tried installing python about every way possible for OSX.  moved  
</I>&gt;<i> apple's python aside and installed MacPython.  Installed python from  
</I>&gt;<i> fink and darwinports.  From source into /usr/local.  Eventually, I  
</I>&gt;<i> decided that not using apple's python was causing more grief than it  
</I>&gt;<i> was helping, so I decided to rebuild and install over the original  
</I>&gt;<i> python (I tarred up /Library/Frameworks/Python.Framework - and I  
</I>&gt;<i> suggest you do the same ;p).
</I>&gt;<i>
</I>&gt;<i> So, although I would really have rather not, I built apple's python  
</I>&gt;<i> from source (in fact, I upgraded to 2.3.4).  just ./configure  
</I>&gt;<i> --prefix=/usr --enable-framework --enable-shared --enable-threads.
</I>&gt;<i>
</I>&gt;<i> I'm not 100% sure if everything is in place on panther to build python  
</I>&gt;<i> exactly as apple did (with all of the pyobjc stuff linked to cocoa and  
</I>&gt;<i> whatnot).  i don't use that stuff, so I haven't tested it, but there  
</I>&gt;<i> is a ton of documentation in the Mac/OSX directory of the python  
</I>&gt;<i> source tree.
</I>&gt;<i>
</I>&gt;<i> I haven't tried using this new python to build mod_python 2.7 against  
</I>&gt;<i> apache 1.3 from panther because I'd rather use apache2.  I'd rather  
</I>&gt;<i> run it out of daemontools anyway.
</I>&gt;<i>
</I>&gt;<i> I noticed that there are a few of us with a mix of success/failure  
</I>&gt;<i> running mod_python on osx.  perhaps we should compile a howto and/or  
</I>&gt;<i> start a wiki.
</I>&gt;<i>
</I>&gt;<i> Cheers!
</I>&gt;<i>
</I>&gt;<i> -=JR
</I>&gt;<i>
</I>&gt;<i> On Jun 21, 2004, at 5:14 PM, Antonio Rodriguez wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hello all,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm trying to build mod_python for OSX for development. I've used it  
</I>&gt;&gt;<i> in production on linux and its been great. But since all of us at  
</I>&gt;&gt;<i> work have gotten groovy Apple laptops, I wanted to re-create our  
</I>&gt;&gt;<i> environment.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> So, build environment:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>  * Stock OSX 10.3 (Panther)
</I>&gt;&gt;&gt;<i>  * Apache/1.3.29 (Darwin) (stock build)
</I>&gt;&gt;&gt;<i>  * mod_python/2.7.10 Python/2.3 (using stock Apple python)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> For the build I wanted to use the Apple python even though its built  
</I>&gt;&gt;<i> with threads (on linux I've had no issues with mod_python with a  
</I>&gt;&gt;<i> threaded python so long as I dont run threaded code) because its  
</I>&gt;&gt;<i> what's there. The good news is that the configure test for threads on  
</I>&gt;&gt;<i> 2.3 fails so no warning is issued.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> That said, I had to make two changes to the src/Makefile. First I had  
</I>&gt;&gt;<i> to add -DEAPI to the gcc options (which I've had to do on linux for a  
</I>&gt;&gt;<i> while, why don't we make this part of the standard build file?).  
</I>&gt;&gt;<i> Then-- and here is the questionable part-- I had to change the  
</I>&gt;&gt;<i> include for the python static library (libpython2.3.a) to point to:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> LIBS=-lm  /System/Library/Frameworks/Python.framework/Python -ldl
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> from:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> /System/Library/Frameworks/Python.framework/Versions/2.3/lib/ 
</I>&gt;&gt;&gt;<i> python2.3/config/libpython2.3.a   -ldl
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> which was what configure chose.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I think this is the right thing to do as Apple has a sort of weird  
</I>&gt;&gt;<i> default python.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> That said, when I try to run the test example from the docs, I get  
</I>&gt;&gt;<i> this in the apache error log:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> [Mon Jun 21 17:50:21 2004] [notice] child pid 3206 exit signal Bus  
</I>&gt;&gt;&gt;<i> error (10)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Which I presume means that the apache child is seg-faulting for some  
</I>&gt;&gt;<i> reason.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Now, here is my question: is anyone out there using mod_python in  
</I>&gt;&gt;<i> this configuration on OSX? I know that we should be using apache2 but  
</I>&gt;&gt;<i> OSX (as well as Debian my production environment) is running way  
</I>&gt;&gt;<i> behind the ball on apache2 so I'm trying to build for 1.3. If anyone  
</I>&gt;&gt;<i> can point me in the right direction, I'm glad to take on the task of  
</I>&gt;&gt;<i> trying to build a package for OSX that people can use without having  
</I>&gt;&gt;<i> to go through the build process.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Antonio
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mod_python mailing list
</I>&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015799.html">[mod_python] OSX 10.3 and Apache 1.3 Bus Error(10)
</A></li>
	<LI>Next message: <A HREF="015804.html">[mod_python] mod_python and xml parsing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15800">[ date ]</a>
              <a href="thread.html#15800">[ thread ]</a>
              <a href="subject.html#15800">[ subject ]</a>
              <a href="author.html#15800">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
