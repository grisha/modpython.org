<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Output filters and 4xx error codes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Output%20filters%20and%204xx%20error%20codes&In-Reply-To=C56D8263.25276%25andrewr%40collab.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025863.html">
   <LINK REL="Next"  HREF="025867.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Output filters and 4xx error codes</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Output%20filters%20and%204xx%20error%20codes&In-Reply-To=C56D8263.25276%25andrewr%40collab.net"
       TITLE="[mod_python] Output filters and 4xx error codes">graham.dumpleton at gmail.com
       </A><BR>
    <I>Tue Dec 16 23:05:08 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025863.html">[mod_python] Output filters and 4xx error codes
</A></li>
        <LI>Next message: <A HREF="025867.html">[mod_python] Output filters and 4xx error codes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25865">[ date ]</a>
              <a href="thread.html#25865">[ thread ]</a>
              <a href="subject.html#25865">[ subject ]</a>
              <a href="author.html#25865">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Reading back properly now through your original email and reading
linked mailing list discussions, if mod_proxy_http.c isn't passing
error responses from down stream server through output filter chain
and you really need to be getting those and modifying them, and not
just using ProxyErrorOverride to generate local error page, not sure
what you can do.

Graham

2008/12/17 Andrew Ryan &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">andrewr at collab.net</A>&gt;:
&gt;<i> On 12/16/08 3:58 PM, &quot;Graham Dumpleton&quot; &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">graham.dumpleton at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> What are you actually trying to change? Response content or response headers?
</I>&gt;<i>
</I>&gt;<i> Ideally, both (that's what I do in the non-4xx case). In this particular
</I>&gt;<i> case, it would be sufficient to change response content.
</I>&gt;<i>
</I>&gt;<i> Below is the example response I'm working with now. I want my output filter
</I>&gt;<i> to rewrite this:
</I>&gt;<i>  &lt;meta http-equiv='refresh' content='1;url=/login?from=%2F'/&gt;
</I>&gt;<i> as:
</I>&gt;<i>  &lt;meta http-equiv='refresh' content='1;url=/apps/myapp/login?from=%2F'/&gt;
</I>&gt;<i>
</I>&gt;<i> The actual response:
</I>&gt;<i> HTTP/1.0 403 Forbidden
</I>&gt;<i> Server: Winstone Servlet Engine v0.9.10
</I>&gt;<i> Content-Type: text/html;charset=UTF-8
</I>&gt;<i> Content-Length: 227
</I>&gt;<i> Connection: Close
</I>&gt;<i> Date: Thu, 15 Jan 2009 01:58:56 GMT
</I>&gt;<i> X-Powered-By: Servlet/2.5 (Winstone/0.9.10)
</I>&gt;<i> Set-Cookie: JSESSIONID=5f2a46cc8dc7c97e43fea358f60c4aeb; Path=/
</I>&gt;<i>
</I>&gt;<i> &lt;html&gt;&lt;head&gt;&lt;meta http-equiv='refresh'
</I>&gt;<i> content='1;url=/login?from=%2F'/&gt;&lt;script&gt;window.location.replace('/login?fro
</I>&gt;<i> m=%2F');&lt;/script&gt;&lt;/head&gt;&lt;body style='backgournd-color:white; color:white;'&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025863.html">[mod_python] Output filters and 4xx error codes
</A></li>
	<LI>Next message: <A HREF="025867.html">[mod_python] Output filters and 4xx error codes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25865">[ date ]</a>
              <a href="thread.html#25865">[ thread ]</a>
              <a href="subject.html#25865">[ subject ]</a>
              <a href="author.html#25865">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
