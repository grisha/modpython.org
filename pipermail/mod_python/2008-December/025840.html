<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Difference between filter.pass_on() and
	filter.disable()?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Difference%20between%20filter.pass_on%28%29%20and%0A%09filter.disable%28%29%3F&In-Reply-To=ce5902f0812092029i5297612aub112934f5215783f%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025839.html">
   <LINK REL="Next"  HREF="025843.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Difference between filter.pass_on() and
	filter.disable()?</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Difference%20between%20filter.pass_on%28%29%20and%0A%09filter.disable%28%29%3F&In-Reply-To=ce5902f0812092029i5297612aub112934f5215783f%40mail.gmail.com"
       TITLE="[mod_python] Difference between filter.pass_on() and
	filter.disable()?">graham.dumpleton at gmail.com
       </A><BR>
    <I>Wed Dec 10 05:13:54 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025839.html">[mod_python] Difference between filter.pass_on() and
	filter.disable()?
</A></li>
        <LI>Next message: <A HREF="025843.html">[mod_python] Difference between filter.pass_on() and
	filter.disable()?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25840">[ date ]</a>
              <a href="thread.html#25840">[ thread ]</a>
              <a href="subject.html#25840">[ subject ]</a>
              <a href="author.html#25840">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2008/12/10 Jean Lagarde &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">jean.lagarde at gmail.com</A>&gt;:
&gt;<i> Hi all,
</I>&gt;<i> The subject says it all. The documentation seems a little sparse on the
</I>&gt;<i> topic. The description of pass_on is:
</I>&gt;<i> Passes all data through the filter without any processing.
</I>&gt;<i>
</I>&gt;<i> The description of disable is:
</I>&gt;<i> Tells mod_python to ignore the provided handler and just pass the data on.
</I>&gt;<i> (which also states that mod_python uses that one internally).
</I>&gt;<i> &quot;passes all data through&quot; and &quot;just pass the data on&quot; sound like the same
</I>&gt;<i> thing to me. What is the additional functionality to &quot;ignore the provided
</I>&gt;<i> handler&quot;? I assume that there is a difference between the two methods and I
</I>&gt;<i> would like to know what it is no matter how subtle. I'm looking for the most
</I>&gt;<i> CPU efficient way to decide early on in the execution of a filter that we
</I>&gt;<i> don't want to filter a particular request in any way, but maybe
</I>&gt;<i> understanding the difference would help me to make a better use of
</I>&gt;<i> mod_python filters in other ways.
</I>&gt;<i> I did try to use both in code, and on one server with one version of Apache
</I>&gt;<i> 2 (and other components) it seemed to make no functional difference
</I>&gt;<i> (although I did not attempt to closely measure CPU usage), whereas on
</I>&gt;<i> another server with an earlier version of Apache 2 (and other components),
</I>&gt;<i> using disable() caused no error, but dropped values from POST forms passed
</I>&gt;<i> on to PHP scripts.
</I>&gt;<i> Thanks for any info. I did search the lists, but only found one comment on
</I>&gt;<i> someone's code from Graham that &quot;Normally 'filter.pass_on()' would be used
</I>&gt;<i> here, not 'filter.disable()'&quot;, but without explaining why.
</I>
If you use disable(), your filter will never be called for that
request (input or output as appropriate) again.

If you use pass_on(), then it is passing on data available to that
specific call to your filter function.

The distinction exists because your filter function can be called
multiple times for a request. The latter is allowing you to pass on
the data for that call, but still allowing you the option to process
data in a subsequent call of the filter function.

The disable() call is used internally to mod_python to ensure that
filter function is never called again for a specific request if the
filter function itself raises an exception of some sort. If it doesn't
do this you could end up with a loop if the error in filter function
actually generates output, for which it would then call the filter
function again, etc etc.

FWIW, if you are concerned about performance in any way, then you
shouldn't be using mod_python to implement Apache input/output
filters. Yes you can write filters with mod_python, but it will impact
performance. For best performance you should write filters in C code
as proper Apache module.

Graham
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025839.html">[mod_python] Difference between filter.pass_on() and
	filter.disable()?
</A></li>
	<LI>Next message: <A HREF="025843.html">[mod_python] Difference between filter.pass_on() and
	filter.disable()?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25840">[ date ]</a>
              <a href="thread.html#25840">[ thread ]</a>
              <a href="subject.html#25840">[ subject ]</a>
              <a href="author.html#25840">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
