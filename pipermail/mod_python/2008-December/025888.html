<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] using mod python without calling the function
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20using%20mod%20python%20without%20calling%20the%20function&In-Reply-To=491b0d8f0812231309q5b321ce0gc200cb65e5d27eaf%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025887.html">
   <LINK REL="Next"  HREF="025889.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] using mod python without calling the function</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20using%20mod%20python%20without%20calling%20the%20function&In-Reply-To=491b0d8f0812231309q5b321ce0gc200cb65e5d27eaf%40mail.gmail.com"
       TITLE="[mod_python] using mod python without calling the function">graham.dumpleton at gmail.com
       </A><BR>
    <I>Tue Dec 23 17:27:27 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025887.html">[SPAM] Re: [mod_python] using mod python without calling the function
</A></li>
        <LI>Next message: <A HREF="025889.html">[mod_python] when to use PSP handler, when to use Publisher handler
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25888">[ date ]</a>
              <a href="thread.html#25888">[ thread ]</a>
              <a href="subject.html#25888">[ subject ]</a>
              <a href="author.html#25888">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2008/12/24 David Jackson &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">davidj411 at gmail.com</A>&gt;:
&gt;<i> is this the section of docs you wanted me to review?
</I>&gt;<i> &quot;If req.filename is empty, the module name defaults to 'index'.
</I>
I am not even sure that is technically correct, as req.filename
shouldn't be empty.

If SetHandler is used and req.filename references a directory, then it
would look for index.py file in that directory.

&gt;<i> Once module is imported, the remaining part of the URI up to the beginning
</I>&gt;<i> of any query data (a.k.a. PATH INFO)
</I>&gt;<i> is used to find an object within the module. The Publisher handler traverses
</I>&gt;<i> the path, one element at a time from left
</I>&gt;<i> to right, mapping the elements to Python object within the module. &lt;-this
</I>&gt;<i> sentence is lost on me
</I>
This is a rather fundamental aspect of mod_python.publisher. If you
don't understand it, you may perhaps want to use something else. This
is because if you don't understand this bit, you would likely not
understand all the security implications in how you name code you
stick in a publisher .py file. Result is that you could expose a lot
of your code to access when you didn't mean to.

What it in effect means is that the first name (between slashes) in
URL is mapped to global variable in .py file of same name. If there is
a second part to URL, that is then in turn mapped to sub attribute of
that global variable and so on for each part of the URL. All parts
have to be satisfactorily mapped else you will get not found.

&gt;<i> If no path info was given in the URL, the Publisher handler will use the
</I>&gt;<i> default value of 'index'. If the last element
</I>&gt;<i> is an object inside a module, and the one immediately preceding it is a
</I>&gt;<i> directory (i.e. no module name is given), then
</I>&gt;<i> the module name will also default to 'index'.&quot;
</I>
This is the bit you care about. Just add a function called 'index()'
to your .py file and it will be called when no function is explicitly
named in the URL.

See also perhaps:

  <A HREF="http://webpython.codepoint.net/mod_python_publisher_handler">http://webpython.codepoint.net/mod_python_publisher_handler</A>

&gt;<i> as for the versions of python that work with mod_python:
</I>&gt;<i> os:winXP
</I>&gt;<i> loading (win32 pre-compiled modules, not compiling apache.
</I>&gt;<i> mod_python gives error during windows installation if it can not find
</I>&gt;<i> registry entry for python 2.5.
</I>
But for which version of Python was the mod_python compiled for. It
has to match what you have installed.

Further, the Python and Apache installations should really be
installed as an Administrator and not an unprivileged user.

&gt;<i> i was unable to find a binary mod_python MSI installer that would work for
</I>&gt;<i> python 2.6.
</I>
That is because there is no mod_python binary installer for Python 2.6
that I know of.

&gt;<i> if there is a binary ready to download, please advise on download location.
</I>
Compiling from source is only option unless someone else can supply
you prebuilt binary.

&gt;<i> regarding 2.5.2 versus 2.5, i rolled back to 2.5.0 when i saw this in the
</I>&gt;<i> error.log
</I>&gt;<i>
</I>&gt;<i> [Tue Dec 23 11:51:00 2008] [error] python_init: Python version mismatch,
</I>&gt;<i> expected '2.5', found '2.5.2'.
</I>&gt;<i> b/c of this, i was not sure how well it would work , especially with my
</I>&gt;<i> being new to mod_python.you answered that this error message means nothing.
</I>&gt;<i> thanks!
</I>
If it was expect 2.5 but found 2.6, then it wouldn't work, but if only
patch level revision difference, should be okay on Windows.

Graham

&gt;<i>
</I>&gt;<i> On Tue, Dec 23, 2008 at 3:19 PM, Graham Dumpleton
</I>&gt;<i> &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">graham.dumpleton at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 2008/12/24 David Jackson &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">davidj411 at gmail.com</A>&gt;:
</I>&gt;&gt;<i> &gt; if using this config:
</I>&gt;&gt;<i> &gt; &lt;...snipped&gt;
</I>&gt;&gt;<i> &gt;   SetHandler mod_python
</I>&gt;&gt;<i> &gt;  PythonHandler mod_python.publisher
</I>&gt;&gt;<i> &gt;         PythonDebug On
</I>&gt;&gt;<i> &gt; &lt;/Directory&gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; do i always need to call the function in the URL?
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; for example, testscript.py has a function called &quot;writename&quot;.
</I>&gt;&gt;<i> &gt; must i call testscript.py using
</I>&gt;&gt;<i> &gt; <A HREF="http://localhost/pycgi/testscript.py/writename">http://localhost/pycgi/testscript.py/writename</A> or could i add something
</I>&gt;&gt;<i> &gt; to
</I>&gt;&gt;<i> &gt; the contents of the file like you can when testing a script from command
</I>&gt;&gt;<i> &gt; line like this:
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; if __name__==&quot;__main__&quot;:
</I>&gt;&gt;<i> &gt;      writeback(names)
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; basically, i am trying to avoid putting the function name into the URL.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Look up how the 'index' function works in the documentation.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt; also, i noticed that the newest version of mod_python ONLY supports
</I>&gt;&gt;<i> &gt; python
</I>&gt;&gt;<i> &gt; 2.5.0. i had errors with 2.5.2
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> What platform, what errors and is this compiling it from source code?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> There have not been any problem reports saying it doesn't work with
</I>&gt;&gt;<i> Python 2.5.2.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If using precompiled binaries, for Python 2.5 you may see warnings
</I>&gt;&gt;<i> about a version mismatch at runtime in error logs, but that can be
</I>&gt;&gt;<i> ignored.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt; and would not install with python 2.6.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Again, what platform, what errors and is this compilng from source code?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> There have not been any problem reports saying it doesn't work with Python
</I>&gt;&gt;<i> 2.6.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Graham
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025887.html">[SPAM] Re: [mod_python] using mod python without calling the function
</A></li>
	<LI>Next message: <A HREF="025889.html">[mod_python] when to use PSP handler, when to use Publisher handler
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25888">[ date ]</a>
              <a href="thread.html#25888">[ thread ]</a>
              <a href="subject.html#25888">[ subject ]</a>
              <a href="author.html#25888">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
