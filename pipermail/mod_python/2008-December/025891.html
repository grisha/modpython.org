<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Apache/mod_python: Registering a request handler
	dynamically
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Apache/mod_python%3A%20Registering%20a%20request%20handler%0A%09dynamically&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025904.html">
   <LINK REL="Next"  HREF="025892.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Apache/mod_python: Registering a request handler
	dynamically</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Samuel Abels</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Apache/mod_python%3A%20Registering%20a%20request%20handler%0A%09dynamically&In-Reply-To="
       TITLE="[mod_python] Apache/mod_python: Registering a request handler
	dynamically">newsgroups at debain.org
       </A><BR>
    <I>Sun Dec 28 16:13:57 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025904.html">[SPAM] Re: [mod_python] when to use PSP handler,	when to use
	Publisher handler
</A></li>
        <LI>Next message: <A HREF="025892.html">[mod_python] Apache/mod_python: Registering a request handler
	dynamically
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25891">[ date ]</a>
              <a href="thread.html#25891">[ thread ]</a>
              <a href="subject.html#25891">[ subject ]</a>
              <a href="author.html#25891">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>(I also sent this to comp.lang.python before realizing that this list is
the better place, so apologies if you got this message twice.)

Hi, 

Is there a way to dynamically overwrite the request handler from within
mod_python scripts? Something along those lines:

---------------
from mod_python import apache

def myhandler(request):
    request.content_type = 'text/plain'
    request.write('Hello world')

apache.set_default_handler(myhandler)
---------------

I specifically want to avoid changing the Apache directive, as this code
is supposed to function regardless of whether the user has access to
change the Apache directive.

The reason is that I am trying to hide the difference between different
environments (such as mod_python or CGI) from the developer, such that
the following is possible:

---------------
#!/usr/bin/python
import os, os.path
os.chdir(os.path.dirname(__file__))
from PleaseHideMyEnvironment import RequestHandler

def index(request):
    # Note that the request argument here is one created by
    # the PleaseHideMyEnvironment module, not a mod_python one.
    request.write('Hello World')

RequestHandler(index)
---------------

So at the time at which RequestHandler() is created, I need a way to
make sure that mod_python calls to the RequestHandler instead of the
normal handler, whenever a new request is made.

Any idea?

-Samuel 


</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025904.html">[SPAM] Re: [mod_python] when to use PSP handler,	when to use
	Publisher handler
</A></li>
	<LI>Next message: <A HREF="025892.html">[mod_python] Apache/mod_python: Registering a request handler
	dynamically
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25891">[ date ]</a>
              <a href="thread.html#25891">[ thread ]</a>
              <a href="subject.html#25891">[ subject ]</a>
              <a href="author.html#25891">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
