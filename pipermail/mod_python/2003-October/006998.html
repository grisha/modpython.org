<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] invalid literal for float solved addendum
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20invalid%20literal%20for%20float%20solved%20addendum&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006994.html">
   <LINK REL="Next"  HREF="006988.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] invalid literal for float solved addendum</H1>
    <B>tpc at csua.berkeley.edu</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20invalid%20literal%20for%20float%20solved%20addendum&In-Reply-To="
       TITLE="[mod_python] invalid literal for float solved addendum">tpc at csua.berkeley.edu
       </A><BR>
    <I>Mon Oct 27 14:14:58 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="006994.html">[mod_python] invalid literal for float int or long solved !
</A></li>
        <LI>Next message: <A HREF="006988.html">[mod_python] instablility in mod_python or apache
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6998">[ date ]</a>
              <a href="thread.html#6998">[ thread ]</a>
              <a href="subject.html#6998">[ subject ]</a>
              <a href="author.html#6998">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<table border=0 width="100%"><tr><td>
<!--beginarticle-->
<PRE>
hi Grisha and Andy, after consulting with my coworker I believe there is a
bug in how MySQLdb interacts with mod_python that you should know of.  He
suggested I try out the same script that was giving me problems  with
Python CGI, and it works just fine.  The only difference is the values in
the tuple get switched around, so the tuple that is returned is (title,
URL) but no more invalid literal for float, int or long errors.  The
critical piece of code in question involves an implementation in Python
of a MySQL SELECT statement of two fields from one table joined to another
table that works just fine from the command line, in MySQL shell, and in
Python CGI:

	sql = &quot;&quot;&quot;SELECT title, url FROM URLs, URLs_WITH_MATCHES WHERE
URLs.id = URLs_WITH_MATCHES.url_id;&quot;&quot;&quot;
	cursor.execute(sql)

gives me:

&lt;paste&gt;
Mod_python error: &quot;PythonHandler mod_python.publisher&quot;

Traceback (most recent call last):

  File &quot;/usr/lib/python2.2/site-packages/mod_python/apache.py&quot;, line 335,
in HandlerDispatch
    result = object(req)

  File &quot;/usr/lib/python2.2/site-packages/mod_python/publisher.py&quot;, line
149, in handler
    module = apache.import_module(module_name, req.get_config(), [path])

  File &quot;/usr/lib/python2.2/site-packages/mod_python/apache.py&quot;, line 502,
in import_module
    module = imp.load_module(mname, f, p, d)

  File &quot;/var/www/html/python/temp-invalidtest.py&quot;, line 51, in ?
    search(terms)

  File &quot;/var/www/html/python/temp-invalidtest.py&quot;, line 47, in search
    results = getMP3SearchResults(terms)

  File &quot;/var/www/html/python/temp-invalidtest.py&quot;, line 15, in
getMP3SearchResults
    results = getMatchingURLs(cursor)

  File &quot;/var/www/html/python/temp-invalidtest.py&quot;, line 42, in
getMatchingURLs
    cursor.execute(sql)

  File &quot;/usr/lib/python2.2/site-packages/MySQLdb/cursors.py&quot;, line 95, in
execute
    return self._execute(query, args)

  File &quot;/usr/lib/python2.2/site-packages/MySQLdb/cursors.py&quot;, line 114, in
_execute
    self.errorhandler(self, exc, value)

  File &quot;/usr/lib/python2.2/site-packages/MySQLdb/connections.py&quot;, line 33,
in defaulterrorhandler
    raise errorclass, errorvalue

ValueError: invalid literal for float(): &lt;insert any mp3 title here&gt;
&lt;/paste&gt;

</PRE>
<!--endarticle-->
</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006994.html">[mod_python] invalid literal for float int or long solved !
</A></li>
	<LI>Next message: <A HREF="006988.html">[mod_python] instablility in mod_python or apache
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6998">[ date ]</a>
              <a href="thread.html#6998">[ thread ]</a>
              <a href="subject.html#6998">[ subject ]</a>
              <a href="author.html#6998">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
