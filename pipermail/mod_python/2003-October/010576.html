<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Hello newbie problems #2
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Hello%20newbie%20problems%20%232&In-Reply-To=20031003164715.N75641%40onyx.ispol.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010574.html">
   <LINK REL="Next"  HREF="010572.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
<table border=0 width="100%"><tr><td valign="top">
   <H1>[mod_python] Hello newbie problems #2</H1>
    <B>Kirk Bailey</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Hello%20newbie%20problems%20%232&In-Reply-To=20031003164715.N75641%40onyx.ispol.com"
       TITLE="[mod_python] Hello newbie problems #2">idiot1 at netzero.net
       </A><BR>
    <I>Sat Oct  4 20:17:18 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="010574.html">[mod_python] Hello newbie problems #2
</A></li>
        <LI>Next message: <A HREF="010572.html">[mod_python] 
 I hacked out Application.py using Session.py as a template. Is sucha thing
 needed by anyone?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10576">[ date ]</a>
              <a href="thread.html#10576">[ thread ]</a>
              <a href="subject.html#10576">[ subject ]</a>
              <a href="author.html#10576">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Apache FORKS, spawning new processes- in advance, and has a stable of them on 
hold waiting for incoming requests. When one has handled the number of service 
requests you preset in the conf file, it dies- and is replaced with a new one. 
This uses up a lot of memory with a lot of daemonspawn, and a threading server 
is more memory efficent, although difficult as all hell to write. Python will 
support threading servers if you write one that way. In fact, just to screw with 
your minds, here is one now:
-------------------------------BEWARE WORD WRAP-----------------------------
#!C:\Python22\Pythonw.exe
from SocketServer import ThreadingMixIn
import BaseHTTPServer, CGIHTTPServer, os
#
os.chdir ('.\web')	# INSTALL IN c:\Python22; web pages in ~\web
#
class ThreadingCGIServer(ThreadingMixIn,BaseHTTPServer.HTTPServer):
	pass
import sys
server=ThreadingCGIServer(('',8080),CGIHTTPServer.CGIHTTPRequestHandler)
try:
	while 1:
		sys.stdout.flush()
		server.handle_request()
except KeyboardInterrupt:
	print 'Finished.'
---------------------------END OF SCRIPT, CHAOS FOLLOWS------------------
This is by Steve Holden of the book 'Cgi programming for the Internet'.



Gregory (Grisha) Trubetskoy wrote:

&gt;<i> This oftentimes means that either of Apache or Python was compiled without
</I>&gt;<i> thread support, and therefore you need to make sure that both are with or
</I>&gt;<i> without threads.
</I>&gt;<i> 
</I>&gt;<i> Which operating system is this on?
</I>&gt;<i> 
</I>&gt;<i> Grisha
</I>&gt;<i> 
</I>&gt;<i> On Fri, 3 Oct 2003, M.D. DeWar wrote:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i>The below link got mod_python to compile and install.
</I>&gt;&gt;<i>However when I put the info into the httpd.conf I get this error:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Syntax error on line 262 of /usr/local/apache2/conf/httpd.conf:
</I>&gt;&gt;<i>Cannot load /usr/local/apache2/modules/mod_python.so into server:
</I>&gt;&gt;<i>/usr/local/apa
</I>&gt;&gt;<i>che2/modules/mod_python.so: Undefined symbol &quot;pthread_self&quot;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>At the bottom of the link provided I see that I should or thought I should
</I>&gt;&gt;<i>configure with these options:
</I>&gt;&gt;<i>spiderman#
</I>&gt;&gt;<i>./configure --with-python=/usr/local/bin/python --with-apxs=/usr/local/apach
</I>&gt;&gt;<i>e2/bin/apxs
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>(I tried the --with-python=  being blank but system sat there and with
</I>&gt;&gt;<i>/usr/local/bin/ just gave an error.)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>I could not find more info on this error.
</I>&gt;&gt;<i>Thanks
</I>&gt;&gt;<i>mark
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>----- Original Message -----
</I>&gt;&gt;<i>From: &quot;Gregory (Grisha) Trubetskoy&quot; &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">grisha at modpython.org</A>&gt;
</I>&gt;&gt;<i>To: &quot;M.D. DeWar&quot; &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mark at s-wit.net</A>&gt;
</I>&gt;&gt;<i>Cc: &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>&gt;
</I>&gt;&gt;<i>Sent: Friday, October 03, 2003 3:16 PM
</I>&gt;&gt;<i>Subject: Re: [mod_python] Hello newbie problems
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>Check this out:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i><A HREF="http://www.modpython.org/FAQ/faqw.py?req=all#4.2">http://www.modpython.org/FAQ/faqw.py?req=all#4.2</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>On Fri, 3 Oct 2003, M.D. DeWar wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>Hello,
</I>&gt;&gt;&gt;&gt;<i>I installed python 2.3.1 (or whatever is the latest from the site)
</I>&gt;&gt;&gt;&gt;<i>I d/l the mod_python 3.03
</I>&gt;&gt;&gt;&gt;<i>I have apache 2.0.47 running.
</I>&gt;&gt;&gt;&gt;<i>I did as per each README for each isntall.
</I>&gt;&gt;&gt;&gt;<i>Apache is running. python seemed to install ok. There were no errors.
</I>&gt;&gt;&gt;&gt;<i>I ./configured --with-apxs=/usr/local/apache2/bin/apxs for mod_python.
</I>&gt;&gt;&gt;&gt;<i>That seemed okay.
</I>&gt;&gt;&gt;&gt;<i>make gives me this error: google search brought up nothing on it. (last
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>2
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>lines).
</I>&gt;&gt;&gt;&gt;<i>I did the ./httpd -DONE_PROCESS also.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>python2.3  -c -o requestobject.lo requestobject.c &amp;&amp; touch
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>requestobject.slo
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>requestobject.c: In function `getreq_recmbr_off':
</I>&gt;&gt;&gt;&gt;<i>requestobject.c:1055: `LONG_LONG' undeclared (first use in this
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>function)
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>requestobject.c:1055: (Each undeclared identifier is reported only once
</I>&gt;&gt;&gt;&gt;<i>requestobject.c:1055: for each function it appears in.)
</I>&gt;&gt;&gt;&gt;<i>requestobject.c:1056: syntax error before `l'
</I>&gt;&gt;&gt;&gt;<i>requestobject.c:1057: `l' undeclared (first use in this function)
</I>&gt;&gt;&gt;&gt;<i>requestobject.c: At top level:
</I>&gt;&gt;&gt;&gt;<i>requestobject.c:1270: warning: initialization from incompatible pointer
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>type
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>apxs:Error: Command failed with rc=65536
</I>&gt;&gt;&gt;&gt;<i>.
</I>&gt;&gt;&gt;&gt;<i>*** Error code 1
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>Stop in /temp/mod_python-3.0.3/src.
</I>&gt;&gt;&gt;&gt;<i>*** Error code 1
</I>&gt;&gt;&gt;&gt;<i>Mark DeWar
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>_______________________________________________
</I>&gt;&gt;&gt;&gt;<i>Mod_python mailing list
</I>&gt;&gt;&gt;&gt;<i><A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;&gt;&gt;&gt;<i><A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>_______________________________________________
</I>&gt;&gt;<i>Mod_python mailing list
</I>&gt;&gt;<i><A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;&gt;<i><A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>
-- 

-- 

end

Cheers!
         Kirk D Bailey

  +                              think                                +
   <A HREF="http://www.howlermonkey.net">http://www.howlermonkey.net</A>  +-----+        <A HREF="http://www.tinylist.org">http://www.tinylist.org</A>
   <A HREF="http://www.listville.net">http://www.listville.net</A>     | BOX |  <A HREF="http://www.sacredelectron.org">http://www.sacredelectron.org</A>
   Thou art free&quot;-ERIS          +-----+     'Got a light?'-Prometheus
  +                              kniht                                +

Fnord.

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010574.html">[mod_python] Hello newbie problems #2
</A></li>
	<LI>Next message: <A HREF="010572.html">[mod_python] 
 I hacked out Application.py using Session.py as a template. Is sucha thing
 needed by anyone?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10576">[ date ]</a>
              <a href="thread.html#10576">[ thread ]</a>
              <a href="subject.html#10576">[ subject ]</a>
              <a href="author.html#10576">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
