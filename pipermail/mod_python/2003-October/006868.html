<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] mod_python mysteriously stopped working under
 Windows
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20mysteriously%20stopped%20working%20under%0A%20Windows&In-Reply-To=MPG.19e775ef801061dd989684%40news.gmane.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006867.html">
   <LINK REL="Next"  HREF="006870.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] mod_python mysteriously stopped working under
 Windows</H1>
    <B>tpc at csua.berkeley.edu</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%20mysteriously%20stopped%20working%20under%0A%20Windows&In-Reply-To=MPG.19e775ef801061dd989684%40news.gmane.org"
       TITLE="[mod_python] mod_python mysteriously stopped working under
 Windows">tpc at csua.berkeley.edu
       </A><BR>
    <I>Thu Oct  2 19:41:01 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="006867.html">[mod_python] mod_python mysteriously stopped working under Windows
</A></li>
        <LI>Next message: <A HREF="006870.html">[mod_python] 
	Re: mod_python mysteriously stopped working under   Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6868">[ date ]</a>
              <a href="thread.html#6868">[ thread ]</a>
              <a href="subject.html#6868">[ subject ]</a>
              <a href="author.html#6868">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<table border=0 width="100%"><tr><td>
<!--beginarticle-->
<PRE>
oh wow this problem again.  I am going to repost an email I sent to one
Kevin Douglas who kept hitting this same brick wall:

&lt;paste&gt;
Date: Mon, 9 Jun 2003 14:37:28 -0700 (PDT)
From: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">tpc at csua.berkeley.edu</A>
To: kevin douglas &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">fitnah55 at hotmail.com</A>&gt;
Cc: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
Subject: RE: [mod_python] need working fix for 'import site' aka
    'ImportError'aka'make_obcallback' error


&gt;<i> -----
</I>&gt;<i> 'import site' failed; use -v for traceback
</I>&gt;<i> ImportError: No module named mod_python.apache
</I>&gt;<i> [Sun Jun 08 00:06:50 2003] [error] make_obcallback: could not import
</I>&gt;<i> mod_python.apache.
</I>&gt;<i> -----
</I>&gt;<i>
</I>

I had that exact same problem, although I did not spend as much time
trying to fix it as you apparently have.  I ended up just reinstalling
mod_python.  It works fine now, though I don't understand why it broke in
the first place.
&lt;/paste&gt;

if you search the archives you can find out how he resolved the problem,
which he ultimately did, as he recounted to us:

&lt;paste&gt;
Date: Mon, 9 Jun 2003 23:38:36 -0400
From: kevin douglas &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">fitnah55 at hotmail.com</A>&gt;
To: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
Subject: [mod_python]  working fix [FAQ: 'import site' failed; use -v for
traceback]


as stated in the make_obcallback FAQ entry, this is a sys.path
problem...

the main problem (i believe) is that the path that is available at
runtime is not always the same as it was with the previous run of
apache

with a linux distro that requires python as part of the base install
(even
with a minimal install) - the python in /usr is going to supercede
the python in /usr/local even if the path properly includes /usr/lib
and site-packages/mod_python is pointed to properly

what you should do is axe all the python rpm's that you can
(python-base is required for libuser which is required for passwd)
and then take the file list from python-base and manually delete it
(/usr/lib/python2.2 and /usr/bin/python)

this will free up the proper /usr/local/lib/python2.2 to be first in
line in the path

what's confusing is that you link to /usr/local/bin/python2.2 explicitly
to compile mod_python, but it still ends up with /usr/lib/python2.2
as the primary lib source... and even if you get the paths added as the
other FAQ entry states - you're still going to be running the old
site.py from /usr/lib...

and to make matters even worse sometimes it randomly decides to work
even before you axe the default distro install..

:<i>o
</I>


kd
&lt;/paste&gt;

As you can see something to do with paths and multiple Python versions
installed is the reason you are having trouble.

On Fri, 3 Oct 2003, Robert Leftwich wrote:

&gt;<i> I have this bizarre problem that is driving me insane. I had a working
</I>&gt;<i> mod_python setup yesterday (W2000, Apache 2.0.47, python 2.3, mod_python
</I>&gt;<i> 3.1.0a - all vanilla). I needed to combine 2 projects so I set out to
</I>&gt;<i> create a new project directory structure and ran out of disk space on
</I>&gt;<i> the c-drive while doing something unrelated to mod_python/apache/etc. I
</I>&gt;<i> cleaned up a few directories (again unrelated) and ever since then I
</I>&gt;<i> cannot get even the simplest mod_python setup to work. I've tried
</I>&gt;<i> uninstalling/reinstalling everything, even reverting to python
</I>&gt;<i> 2.2.3/mod_python3.0.3 all to no avail. No matter what I try (including
</I>&gt;<i> explicitly setting PYTHONHOME=C:\Python23 and PYTHONPATH=C:\Python23\lib
</I>&gt;<i> \site-packages;C:\Python23\lib (among other combinations) I get an error
</I>&gt;<i> in the log file saying &quot;[error] make_obcallback: could not import
</I>&gt;<i> mod_python.apache.&quot;. Note that python 2.2.3/mod_python3.0.3 just does
</I>&gt;<i> not work at all, no messages anywhere - it is as if it is totally
</I>&gt;<i> ignored. Note also that straight python cgi (e.g. pyblosxom) is working
</I>&gt;<i> fine. At the moment I'm using the httpd.conf settings and mptest.py
</I>&gt;<i> straight from the Testing section of the manual.
</I>&gt;<i>
</I>&gt;<i> Can anyone shed light on this problem ?
</I>&gt;<i>
</I>&gt;<i> Robert
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>


</PRE>
<!--endarticle-->
</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006867.html">[mod_python] mod_python mysteriously stopped working under Windows
</A></li>
	<LI>Next message: <A HREF="006870.html">[mod_python] 
	Re: mod_python mysteriously stopped working under   Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6868">[ date ]</a>
              <a href="thread.html#6868">[ thread ]</a>
              <a href="subject.html#6868">[ subject ]</a>
              <a href="author.html#6868">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
