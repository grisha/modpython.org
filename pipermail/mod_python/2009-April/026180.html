<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] mod_python: How-to Resolve Python Version conflicts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%3A%20How-to%20Resolve%20Python%20Version%20conflicts&In-Reply-To=422D390FE3F94B47B2D145726F017C4C6BF7F26C46%40MAIL3.VIJ.PB.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026173.html">
   <LINK REL="Next"  HREF="026179.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] mod_python: How-to Resolve Python Version conflicts</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20mod_python%3A%20How-to%20Resolve%20Python%20Version%20conflicts&In-Reply-To=422D390FE3F94B47B2D145726F017C4C6BF7F26C46%40MAIL3.VIJ.PB.com"
       TITLE="[mod_python] mod_python: How-to Resolve Python Version conflicts">graham.dumpleton at gmail.com
       </A><BR>
    <I>Mon Apr 20 03:05:24 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="026173.html">[mod_python] mod_python: How-to Resolve Python Version conflicts
</A></li>
        <LI>Next message: <A HREF="026179.html">[mod_python] mod_python: How-to Resolve Python Version conflicts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26180">[ date ]</a>
              <a href="thread.html#26180">[ thread ]</a>
              <a href="subject.html#26180">[ subject ]</a>
              <a href="author.html#26180">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2009/4/18 Eeswar Kameswara Rao &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">eeswar at pbsystems.com</A>&gt;:
&gt;<i> Currently how things look on my system
</I>&gt;<i> --------------------------------------------------
</I>&gt;<i> SRC/MAKEFILE
</I>&gt;<i>
</I>&gt;<i> CC=gcc
</I>&gt;<i> AR=ar
</I>&gt;<i> APXS=/usr/sbin/apxs
</I>&gt;<i> MKDEP=@MKDEP@
</I>&gt;<i>
</I>&gt;<i> # requires flex 2.5.31 for reentrant support
</I>&gt;<i> LEX=/usr/bin/flex
</I>&gt;<i> INCLUDES=-I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5
</I>&gt;<i> LIBS=-lm &#160;-framework &#160;Python &#160; &#160;-ldl
</I>&gt;<i> LDFLAGS= -Wl,-framework,Python &#160;-u _PyMac_Error -framework Python &#160; -Wl,-F/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5 -arch i386
</I>
LDFLAGS is wrong. It should be something like:

  LDFLAGS = -F/System/Library/Frameworks -framework Python -u _PyMac_Error

As I said before, you are better off checking out latest version from
subversion repository rather than fudging it yourself.

Your changes aren't going to cover all places where fixes are required
and in particular PSP support may not work if you need this to be
working under multiple architectures at some point.

Graham

&gt;<i> OPT=
</I>&gt;<i> CFLAGS=$(OPT) $(INCLUDES) -arch i386
</I>&gt;<i> CPPFLAGS = -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 -DNDEBUG -DMACOSX -DENABLE_DTRACE
</I>&gt;<i> srcdir=.
</I>&gt;<i>
</I>&gt;<i> SRCS= &#160; mod_python.c _apachemodule.c requestobject.c tableobject.c util.c \
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;serverobject.c connobject.c filterobject.c hlist.c \
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;hlistobject.c finfoobject.c
</I>&gt;<i>
</I>&gt;<i> all: &#160; &#160;dso
</I>&gt;<i>
</I>&gt;<i> psp_parser.c: psp_parser.l
</I>&gt;<i> &#160; &#160; &#160; &#160;@rm -f psp_parser.c
</I>&gt;<i> &#160; &#160; &#160; &#160;$(LEX) -R -opsp_parser.c --header-file=include/psp_flex.h psp_parser.l
</I>&gt;<i>
</I>&gt;<i> dso: &#160; &#160;mod_python.so
</I>&gt;<i> &#160; &#160; &#160; &#160;@echo dso &gt; .install
</I>&gt;<i>
</I>&gt;<i> mod_python.so: $(SRCS)
</I>&gt;<i> &#160; &#160; &#160; &#160;@echo
</I>&gt;<i> &#160; &#160; &#160; &#160;@echo 'Compiling for DSO.'
</I>&gt;<i> &#160; &#160; &#160; &#160;@echo
</I>&gt;<i> &#160; &#160; &#160; &#160;$(APXS) $(INCLUDES) -c -Wc,&quot;-arch i386&quot; $(SRCS) $(LDFLAGS) $(LIBS)
</I>&gt;<i> &#160; &#160; &#160; &#160;@rm -f mod_python.so
</I>&gt;<i> &#160; &#160; &#160; &#160;@ln -s .libs/mod_python.so mod_python.so
</I>&gt;<i> clean:
</I>&gt;<i> &#160; &#160; &#160; &#160;rm -rf $(OBJS) core libpython.a mod_python.so *~ .libs *.o *.slo *.lo *.la
</I>&gt;<i>
</I>&gt;<i> distclean: clean
</I>&gt;<i> &#160; &#160; &#160; &#160;rm -f Makefile .depend .install
</I>&gt;<i>
</I>&gt;<i> # this is a hack to help avoid a gcc/solaris problem
</I>&gt;<i> # python uses assert() which needs _eprintf(). See
</I>&gt;<i> # SOLARIS_HACKS above
</I>&gt;<i> _eprintf.o:
</I>&gt;<i> &#160; &#160; &#160; &#160;ar -x `gcc -print-libgcc-file-name` _eprintf.o
</I>&gt;<i> _floatdidf.o:
</I>&gt;<i> &#160; &#160; &#160; &#160;ar -x `gcc -print-libgcc-file-name` _floatdidf.o
</I>&gt;<i> _muldi3.o:
</I>&gt;<i> &#160; &#160; &#160; &#160;ar -x `gcc -print-libgcc-file-name` _muldi3.o
</I>&gt;<i>
</I>&gt;<i> # DO NOT DELETE THIS LINE
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Symlink 'Current' status
</I>&gt;<i> --------------------------------------------
</I>&gt;<i> #####Initally
</I>&gt;<i>
</I>&gt;<i> 0 drwxr-xr-x &#160; 9 root &#160;wheel &#160;306 Oct 14 &#160;2008 2.3
</I>&gt;<i> 0 drwxr-xr-x &#160;11 root &#160;wheel &#160;374 Mar 13 15:06 2.5
</I>&gt;<i> 8 lrwxrwxrwx &#160; 1 root &#160;wheel &#160; &#160;3 Oct 14 &#160;2008 Current -&gt; 2.3
</I>&gt;<i>
</I>&gt;<i> ##MeanWhile to Configure mod_python
</I>&gt;<i> drwxr-xr-x &#160; 9 root &#160;wheel &#160;306 Oct 14 &#160;2008 2.3
</I>&gt;<i> drwxrwxrwx &#160;11 root &#160;wheel &#160;374 Mar 13 15:06 2.5
</I>&gt;<i> lrwxr-xr-x &#160; 1 root &#160;wheel &#160; &#160;3 Apr 18 11:36 Current -&gt; 2.5
</I>&gt;<i> lrwxrwxrwx &#160; 1 root &#160;wheel &#160; &#160;3 Oct 14 &#160;2008 Current_bak_18_APR -&gt; 2.3
</I>&gt;<i>
</I>&gt;<i> ##After creating mod_python Reset back to 2.3. So, Finally
</I>&gt;<i> 0 drwxr-xr-x &#160; 9 root &#160;wheel &#160;306 Oct 14 &#160;2008 2.3
</I>&gt;<i> 0 drwxr-xr-x &#160;11 root &#160;wheel &#160;374 Mar 13 15:06 2.5
</I>&gt;<i> 8 lrwxrwxrwx &#160; 1 root &#160;wheel &#160; &#160;3 Oct 14 &#160;2008 Current -&gt; 2.3
</I>&gt;<i> 8 lrwxr-xr-x &#160; 1 root &#160;wheel &#160; &#160;3 Apr 18 11:36 Current2.5 -&gt; 2.5
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Eeswar
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ________________________________________
</I>&gt;<i> From: Eeswar Kameswara Rao
</I>&gt;<i> Sent: Saturday, April 18, 2009 1:35 PM
</I>&gt;<i> To: Graham Dumpleton
</I>&gt;<i> Cc: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
</I>&gt;<i> Subject: RE: [mod_python] mod_python: How-to Resolve Python Version conflicts
</I>&gt;<i>
</I>&gt;<i> Thank you Graham for the immediate &#160;response.
</I>&gt;<i>
</I>&gt;<i> Sorry I could not reply immediately.
</I>&gt;<i> I have actually figured the solution and fell asleep (work in a different time zone).
</I>&gt;<i>
</I>&gt;<i> I missed to mention the following facts: -
</I>&gt;<i> 1. I have two different users for each of the Python versions
</I>&gt;<i> 2. One user runs on Python 2.5.1 and another user on Python 2.3.5
</I>&gt;<i> 3. I run Mac OSX 10.5.6 with latest updates
</I>&gt;<i> 4. For each of the users the default python PATHS are setup so that each gets his/her own version of python at command prompt
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Changes I made to make Python 2.5 and 2.3 co-exist without interfering with each other
</I>&gt;<i> ------------------------------------------------------------------------------------------------------------
</I>&gt;<i> 1. I modified the symlink /System/Library/Frameworks/Python/Versions/Current &#160;point to 2.5
</I>&gt;<i> 2. Then redid the following
</I>&gt;<i> ./configure --with-ptyhon=/usr/bin/python2.5
</I>&gt;<i> Modified the paths in Makefile to point to Python2.5
</I>&gt;<i> Added '-arch i386' options wherever required in the Makefile
</I>&gt;<i> make &amp;&amp; sudo make install
</I>&gt;<i> www:src Tool$ otool -L mod_python.so
</I>&gt;&gt;<i> mod_python.so:
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 111.1.3)
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;/System/Library/Frameworks/Python.framework/Versions/2.5/Python (compatibility version 2.5.0, current version 2.5.1)
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;/usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)
</I>&gt;&gt;<i> www:src Tool$ file mod_python.so
</I>&gt;&gt;<i> mod_python.so: Mach-O bundle i386
</I>&gt;<i>
</I>&gt;<i> I have reset the symlink Current to 2.3.
</I>&gt;<i>
</I>&gt;<i> Note
</I>&gt;<i> -------
</I>&gt;<i> 1. Looks like the symlink '/System/Library/Frameworks/Python/Versions/Current ' plays a very important role up to creating the mod_python.so.
</I>&gt;<i> 2. Now I am able to run the python web-apps from any login irrespective of which python version access is provided to
</I>&gt;<i>
</I>&gt;<i> INFERENCES (please validate these)
</I>&gt;<i> ---------------------------------------------------------
</I>&gt;<i> 1. Web-based python does not include command-prompt based python
</I>&gt;<i> 2. All python web-apps refer only to mod_python
</I>&gt;<i> 3. Command prompt Python refers to the PATH variable in the Shell's ENV variables whereas mod_python refers to its own internal path settings for python version (which probably got create during the 'Configure and Make')
</I>&gt;<i> 3. Mod-python uses the python settings provided during the &quot;./configure --with-python=&quot; and the settings provided in the python paths of Makefile
</I>&gt;<i> 4. Specifying Architecture is an important component for creating a workable mod_python
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Eeswar
</I>&gt;<i> ________________________________________
</I>&gt;<i> From: Graham Dumpleton [<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">graham.dumpleton at gmail.com</A>]
</I>&gt;<i> Sent: Saturday, April 18, 2009 3:45 AM
</I>&gt;<i> To: Eeswar Kameswara Rao
</I>&gt;<i> Cc: <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mod_python at modpython.org</A>
</I>&gt;<i> Subject: Re: [mod_python] mod_python: How-to Resolve Python Version conflicts
</I>&gt;<i>
</I>&gt;<i> You may well have screwed up your operating system Python
</I>&gt;<i> installation. You should never install separate Python versions under
</I>&gt;<i> /System/Library as that is reserved for operating system supplied
</I>&gt;<i> packages. You should also never change /usr/bin/python to put at some
</I>&gt;<i> other version because if operating system functions are dependent on
</I>&gt;<i> the version that was there previously, you will cause those bits of
</I>&gt;<i> the operating system to fail.
</I>&gt;<i>
</I>&gt;<i> Since your operating system is now in such an unknown state of
</I>&gt;<i> functioning, there isn't probably much point trying to pursue why you
</I>&gt;<i> have problems.
</I>&gt;<i>
</I>&gt;<i> Next time install the alternate Python under /Library or better still
</I>&gt;<i> /usr/local and don't stuff with /usr/bin/python. Then as per
</I>&gt;<i> instructions for mod_python, use the --with-python option to configure
</I>&gt;<i> script to say which version of Python you want to use rather than
</I>&gt;<i> trying to hand edit things as you likely aren't changing everything
</I>&gt;<i> that would need to be different when different Python version used.
</I>&gt;<i>
</I>&gt;<i> Graham
</I>&gt;<i>
</I>&gt;<i> 2009/4/18 Eeswar Kameswara Rao &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">eeswar at pbsystems.com</A>&gt;:
</I>&gt;&gt;<i> Hello All,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I am new to this list. I am having trouble to access the archives.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Here is my problem. PLEASE HELP.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ISSUE
</I>&gt;&gt;<i> ---------
</I>&gt;&gt;<i> 1. After I do &quot;make &amp;&amp; sudo make install&quot; I get a mod_python.so in the src and .libs directories
</I>&gt;&gt;<i> 2. When I do a 'otool -L ./mod_python.so' &#160;it reports
</I>&gt;&gt;<i> www:src Tool$ otool -L mod_python.so
</I>&gt;&gt;<i> mod_python.so:
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 111.1.3)
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;/System/Library/Frameworks/Python.framework/Versions/2.3/Python (compatibility version 2.3.0, current version 2.3.5)
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;/usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> SCENARIO
</I>&gt;&gt;<i> ---------------
</I>&gt;&gt;<i> 1. H/W - Intel Core2Duo MacBook laptop
</I>&gt;&gt;<i> 2. I have two versions of Python i.e. 2.3 and 2.5.1
</I>&gt;&gt;<i> 3. Python 2.3 path is /System/Library/Frameworks/Python.framework/Versions/2.3/
</I>&gt;&gt;<i> 4. Python2.3 executable is in /usr/local/sbin
</I>&gt;&gt;<i> 5. Python2.5 path is /System/Library/Frameworks/Python.framework/Versions/2.5/
</I>&gt;&gt;<i> 6. Python2.5 Executable is in /usr/bin
</I>&gt;&gt;<i> 7. Apache version 2.0 is enabled in 32-bit mode (reconfigured the apache plist for 32-bit)
</I>&gt;&gt;<i> 8. Ran .sudo ./configure --with-python=/usr/bin/python2.5
</I>&gt;&gt;<i> 9. Added to Makefile with library path pointing to Python2.5 in LDFLAGS
</I>&gt;&gt;<i> 10. Added to Makefile '-arch i386' to LDFLAGS, CFLAGS and under mod_python.so
</I>&gt;&gt;<i> 11. After doing a &quot;make &amp;&amp; sudo make install&quot; I get a mod_python.so built with Python2.3 framework (????)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I want this mod_python to be Python2.5 compliant ONLY.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> So all my Python web apps crash. Error_logs report version conflicts.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Below is the listing from &quot;make &amp;&amp; sudo make install'
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> www:mod_python-3.3.1 Tool$ make &amp;&amp; sudo make install
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Compiling for DSO.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> /usr/sbin/apxs -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 -c -Wc,&quot;-arch i386&quot; mod_python.c _apachemodule.c requestobject.c tableobject.c util.c serverobject.c connobject.c filterobject.c hlist.c hlistobject.c finfoobject.c -Wl,-framework,Python &#160;-u _PyMac_Error -framework Python &#160; -Wl,-F/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5 -arch i386 &#160; -lm &#160;-framework &#160;Python &#160; &#160;-ldl
</I>&gt;&gt;<i> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc &#160; &#160;-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp &#160;-I/usr/include/apache2 &#160;-I/usr/include/apr-1 &#160; -I/usr/include/apr-1 &#160;-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 &#160;-c -o mod_python.lo mod_python.c &amp;&amp; touch mod_python.slo
</I>&gt;&gt;<i> mod_python.c: In function 'python_init':
</I>&gt;&gt;<i> mod_python.c:826: warning: initialization from incompatible pointer type
</I>&gt;&gt;<i> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc &#160; &#160;-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp &#160;-I/usr/include/apache2 &#160;-I/usr/include/apr-1 &#160; -I/usr/include/apr-1 &#160;-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 &#160;-c -o _apachemodule.lo _apachemodule.c &amp;&amp; touch _apachemodule.slo
</I>&gt;&gt;<i> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc &#160; &#160;-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp &#160;-I/usr/include/apache2 &#160;-I/usr/include/apr-1 &#160; -I/usr/include/apr-1 &#160;-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 &#160;-c -o requestobject.lo requestobject.c &amp;&amp; touch requestobject.slo
</I>&gt;&gt;<i> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc &#160; &#160;-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp &#160;-I/usr/include/apache2 &#160;-I/usr/include/apr-1 &#160; -I/usr/include/apr-1 &#160;-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 &#160;-c -o tableobject.lo tableobject.c &amp;&amp; touch tableobject.slo
</I>&gt;&gt;<i> tableobject.c:329: warning: initialization from incompatible pointer type
</I>&gt;&gt;<i> tableobject.c:1092: warning: initialization from incompatible pointer type
</I>&gt;&gt;<i> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc &#160; &#160;-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp &#160;-I/usr/include/apache2 &#160;-I/usr/include/apr-1 &#160; -I/usr/include/apr-1 &#160;-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 &#160;-c -o util.lo util.c &amp;&amp; touch util.slo
</I>&gt;&gt;<i> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc &#160; &#160;-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp &#160;-I/usr/include/apache2 &#160;-I/usr/include/apr-1 &#160; -I/usr/include/apr-1 &#160;-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 &#160;-c -o serverobject.lo serverobject.c &amp;&amp; touch serverobject.slo
</I>&gt;&gt;<i> serverobject.c:387: warning: initialization from incompatible pointer type
</I>&gt;&gt;<i> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc &#160; &#160;-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp &#160;-I/usr/include/apache2 &#160;-I/usr/include/apr-1 &#160; -I/usr/include/apr-1 &#160;-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 &#160;-c -o connobject.lo connobject.c &amp;&amp; touch connobject.slo
</I>&gt;&gt;<i> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc &#160; &#160;-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp &#160;-I/usr/include/apache2 &#160;-I/usr/include/apr-1 &#160; -I/usr/include/apr-1 &#160;-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 &#160;-c -o filterobject.lo filterobject.c &amp;&amp; touch filterobject.slo
</I>&gt;&gt;<i> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc &#160; &#160;-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp &#160;-I/usr/include/apache2 &#160;-I/usr/include/apr-1 &#160; -I/usr/include/apr-1 &#160;-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 &#160;-c -o hlist.lo hlist.c &amp;&amp; touch hlist.slo
</I>&gt;&gt;<i> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc &#160; &#160;-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp &#160;-I/usr/include/apache2 &#160;-I/usr/include/apr-1 &#160; -I/usr/include/apr-1 &#160;-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 &#160;-c -o hlistobject.lo hlistobject.c &amp;&amp; touch hlistobject.slo
</I>&gt;&gt;<i> /usr/share/apr-1/build-1/libtool --silent --mode=compile gcc &#160; &#160;-DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp &#160;-I/usr/include/apache2 &#160;-I/usr/include/apr-1 &#160; -I/usr/include/apr-1 &#160;-arch i386 -I/Users/Tool/mod_python-3.3.1/src/include -I/usr/include/apache2 -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 &#160;-c -o finfoobject.lo finfoobject.c &amp;&amp; touch finfoobject.slo
</I>&gt;&gt;<i> finfoobject.c:278: warning: 'intargfunc' is deprecated
</I>&gt;&gt;<i> finfoobject.c:278: warning: initialization from incompatible pointer type
</I>&gt;&gt;<i> /usr/share/apr-1/build-1/libtool --silent --mode=link gcc -o mod_python.la &#160;-rpath /usr/libexec/apache2 -module -avoid-version &#160; &#160;finfoobject.lo hlistobject.lo hlist.lo filterobject.lo connobject.lo serverobject.lo util.lo tableobject.lo requestobject.lo _apachemodule.lo mod_python.lo -Wl,-framework,Python -u _PyMac_Error -framework Python -Wl,-F/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5 -arch i386 -lm -framework Python -ldl
</I>&gt;&gt;<i> make[2]: `psp_parser.c' is up to date.
</I>&gt;&gt;<i> /usr/bin/python2.5 setup.py build
</I>&gt;&gt;<i> running build
</I>&gt;&gt;<i> running build_py
</I>&gt;&gt;<i> running build_ext
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Now su and make install
</I>&gt;&gt;<i> &#160;(or, if you only want to perform a partial install,
</I>&gt;&gt;<i> &#160; you can use make install_dso and make install_py_lib)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Password:
</I>&gt;&gt;<i> make[3]: `psp_parser.c' is up to date.
</I>&gt;&gt;<i> /usr/bin/python2.5 setup.py build
</I>&gt;&gt;<i> running build
</I>&gt;&gt;<i> running build_py
</I>&gt;&gt;<i> running build_ext
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Now su and make install
</I>&gt;&gt;<i> &#160;(or, if you only want to perform a partial install,
</I>&gt;&gt;<i> &#160; you can use make install_dso and make install_py_lib)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Performing DSO installation.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> /usr/bin/install -c -d /usr/libexec/apache2
</I>&gt;&gt;<i> /usr/bin/install -c src/mod_python.so /usr/libexec/apache2
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Now don't forget to edit your main config and add
</I>&gt;&gt;<i> &#160; &#160;LoadModule python_module /usr/libexec/apache2/mod_python.so
</I>&gt;&gt;<i> and if your configuration uses ClearModuleList, then also
</I>&gt;&gt;<i> &#160; &#160;AddModule mod_python.c
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> cd dist &amp;&amp; make install_py_lib
</I>&gt;&gt;<i> make[3]: `psp_parser.c' is up to date.
</I>&gt;&gt;<i> if test -z &quot;&quot; ; then \
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;/usr/bin/python2.5 setup.py install --optimize 2 --force ; \
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;else \
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;/usr/bin/python2.5 setup.py install --optimize 2 --force --root &#160;; \
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;fi
</I>&gt;&gt;<i> running install
</I>&gt;&gt;<i> running build
</I>&gt;&gt;<i> running build_py
</I>&gt;&gt;<i> running build_ext
</I>&gt;&gt;<i> running install_lib
</I>&gt;&gt;<i> copying build/lib.macosx-10.5-i386-2.5/mod_python/__init__.py -&gt; /Library/Python/2.5/site-packages/mod_python
</I>&gt;&gt;<i> copying build/lib.macosx-10.5-i386-2.5/mod_python/_psp.so -&gt; /Library/Python/2.5/site-packages/mod_python
</I>&gt;&gt;<i> copying build/lib.macosx-10.5-i386-2.5/mod_python/apache.py -&gt; /Library/Python/2.5/site-packages/mod_python
</I>&gt;&gt;<i> copying build/lib.macosx-10.5-i386-2.5/mod_python/cache.py -&gt; /Library/Python/2.5/site-packages/mod_python
</I>&gt;&gt;<i> copying build/lib.macosx-10.5-i386-2.5/mod_python/cgihandler.py -&gt; /Library/Python/2.5/site-packages/mod_python
</I>&gt;&gt;<i> copying build/lib.macosx-10.5-i386-2.5/mod_python/Cookie.py -&gt; /Library/Python/2.5/site-packages/mod_python
</I>&gt;&gt;<i> copying build/lib.macosx-10.5-i386-2.5/mod_python/importer.py -&gt; /Library/Python/2.5/site-packages/mod_python
</I>&gt;&gt;<i> copying build/lib.macosx-10.5-i386-2.5/mod_python/psp.py -&gt; /Library/Python/2.5/site-packages/mod_python
</I>&gt;&gt;<i> copying build/lib.macosx-10.5-i386-2.5/mod_python/publisher.py -&gt; /Library/Python/2.5/site-packages/mod_python
</I>&gt;&gt;<i> copying build/lib.macosx-10.5-i386-2.5/mod_python/python22.py -&gt; /Library/Python/2.5/site-packages/mod_python
</I>&gt;&gt;<i> copying build/lib.macosx-10.5-i386-2.5/mod_python/Session.py -&gt; /Library/Python/2.5/site-packages/mod_python
</I>&gt;&gt;<i> copying build/lib.macosx-10.5-i386-2.5/mod_python/testhandler.py -&gt; /Library/Python/2.5/site-packages/mod_python
</I>&gt;&gt;<i> copying build/lib.macosx-10.5-i386-2.5/mod_python/util.py -&gt; /Library/Python/2.5/site-packages/mod_python
</I>&gt;&gt;<i> byte-compiling /Library/Python/2.5/site-packages/mod_python/__init__.py to __init__.pyc
</I>&gt;&gt;<i> byte-compiling /Library/Python/2.5/site-packages/mod_python/apache.py to apache.pyc
</I>&gt;&gt;<i> byte-compiling /Library/Python/2.5/site-packages/mod_python/cache.py to cache.pyc
</I>&gt;&gt;<i> byte-compiling /Library/Python/2.5/site-packages/mod_python/cgihandler.py to cgihandler.pyc
</I>&gt;&gt;<i> byte-compiling /Library/Python/2.5/site-packages/mod_python/Cookie.py to Cookie.pyc
</I>&gt;&gt;<i> byte-compiling /Library/Python/2.5/site-packages/mod_python/importer.py to importer.pyc
</I>&gt;&gt;<i> byte-compiling /Library/Python/2.5/site-packages/mod_python/psp.py to psp.pyc
</I>&gt;&gt;<i> byte-compiling /Library/Python/2.5/site-packages/mod_python/publisher.py to publisher.pyc
</I>&gt;&gt;<i> byte-compiling /Library/Python/2.5/site-packages/mod_python/python22.py to python22.pyc
</I>&gt;&gt;<i> byte-compiling /Library/Python/2.5/site-packages/mod_python/Session.py to Session.pyc
</I>&gt;&gt;<i> byte-compiling /Library/Python/2.5/site-packages/mod_python/testhandler.py to testhandler.pyc
</I>&gt;&gt;<i> byte-compiling /Library/Python/2.5/site-packages/mod_python/util.py to util.pyc
</I>&gt;&gt;<i> writing byte-compilation script '/tmp/tmpG6QrK-.py'
</I>&gt;&gt;<i> /System/Library/Frameworks/Python.framework/Versions/2.5/Resources/Python.app/Contents/MacOS/Python -OO /tmp/tmpG6QrK-.py
</I>&gt;&gt;<i> removing /tmp/tmpG6QrK-.py
</I>&gt;&gt;<i> running install_egg_info
</I>&gt;&gt;<i> Removing /Library/Python/2.5/site-packages/mod_python-3.3.1-py2.5.egg-info
</I>&gt;&gt;<i> Writing /Library/Python/2.5/site-packages/mod_python-3.3.1-py2.5.egg-info
</I>&gt;&gt;<i> www:mod_python-3.3.1 Tool$ cd src
</I>&gt;&gt;<i> www:src Tool$ ls
</I>&gt;&gt;<i> Makefile &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;connobject.lo &#160; &#160; &#160; &#160; &#160; hlist.lo &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;mod_python.slo &#160; &#160; &#160; &#160; &#160;serverobject.o
</I>&gt;&gt;<i> Makefile.in &#160; &#160; &#160; &#160; &#160; &#160; connobject.o &#160; &#160; &#160; &#160; &#160; &#160;hlist.o &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; mod_python.so &#160; &#160; &#160; &#160; &#160; serverobject.slo
</I>&gt;&gt;<i> Makefile.txt &#160; &#160; &#160; &#160; &#160; &#160;connobject.slo &#160; &#160; &#160; &#160; &#160;hlist.slo &#160; &#160; &#160; &#160; &#160; &#160; &#160; mod_python.vcproj &#160; &#160; &#160; tableobject.c
</I>&gt;&gt;<i> Makefile_bak &#160; &#160; &#160; &#160; &#160; &#160;filterobject.c &#160; &#160; &#160; &#160; &#160;hlistobject.c &#160; &#160; &#160; &#160; &#160; psp_parser.c &#160; &#160; &#160; &#160; &#160; &#160;tableobject.lo
</I>&gt;&gt;<i> Makefile_bak_16MAR &#160; &#160; &#160;filterobject.lo &#160; &#160; &#160; &#160; hlistobject.lo &#160; &#160; &#160; &#160; &#160;psp_parser.l &#160; &#160; &#160; &#160; &#160; &#160;tableobject.o
</I>&gt;&gt;<i> Version.rc &#160; &#160; &#160; &#160; &#160; &#160; &#160;filterobject.o &#160; &#160; &#160; &#160; &#160;hlistobject.o &#160; &#160; &#160; &#160; &#160; psp_string.c &#160; &#160; &#160; &#160; &#160; &#160;tableobject.slo
</I>&gt;&gt;<i> _apachemodule.c &#160; &#160; &#160; &#160; filterobject.slo &#160; &#160; &#160; &#160;hlistobject.slo &#160; &#160; &#160; &#160; requestobject.c &#160; &#160; &#160; &#160; util.c
</I>&gt;&gt;<i> _apachemodule.lo &#160; &#160; &#160; &#160;finfoobject.c &#160; &#160; &#160; &#160; &#160; include &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; requestobject.lo &#160; &#160; &#160; &#160;util.lo
</I>&gt;&gt;<i> _apachemodule.o &#160; &#160; &#160; &#160; finfoobject.lo &#160; &#160; &#160; &#160; &#160;mod_python.c &#160; &#160; &#160; &#160; &#160; &#160;requestobject.o &#160; &#160; &#160; &#160; util.o
</I>&gt;&gt;<i> _apachemodule.slo &#160; &#160; &#160; finfoobject.o &#160; &#160; &#160; &#160; &#160; mod_python.la &#160; &#160; &#160; &#160; &#160; requestobject.slo &#160; &#160; &#160; util.slo
</I>&gt;&gt;<i> _pspmodule.c &#160; &#160; &#160; &#160; &#160; &#160;finfoobject.slo &#160; &#160; &#160; &#160; mod_python.lo &#160; &#160; &#160; &#160; &#160; serverobject.c
</I>&gt;&gt;<i> connobject.c &#160; &#160; &#160; &#160; &#160; &#160;hlist.c &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; mod_python.o &#160; &#160; &#160; &#160; &#160; &#160;serverobject.lo
</I>&gt;&gt;<i> www:src Tool$ otool -L mod_python.so
</I>&gt;&gt;<i> mod_python.so:
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 111.1.3)
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;/System/Library/Frameworks/Python.framework/Versions/2.3/Python (compatibility version 2.3.0, current version 2.3.5)
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;/usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)
</I>&gt;&gt;<i> www:src Tool$ file mod_python.so
</I>&gt;&gt;<i> mod_python.so: Mach-O bundle i386
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> PLEASE HELP.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks and Regards,
</I>&gt;&gt;<i> Eeswar
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mod_python mailing list
</I>&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026173.html">[mod_python] mod_python: How-to Resolve Python Version conflicts
</A></li>
	<LI>Next message: <A HREF="026179.html">[mod_python] mod_python: How-to Resolve Python Version conflicts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26180">[ date ]</a>
              <a href="thread.html#26180">[ thread ]</a>
              <a href="subject.html#26180">[ subject ]</a>
              <a href="author.html#26180">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
