<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Vampire 1.3 is now available.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Vampire%201.3%20is%20now%20available.&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016837.html">
   <LINK REL="Next"  HREF="016838.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Vampire 1.3 is now available.</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Vampire%201.3%20is%20now%20available.&In-Reply-To="
       TITLE="[mod_python] Vampire 1.3 is now available.">grahamd at dscpl.com.au
       </A><BR>
    <I>Wed Nov 24 06:27:29 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="016837.html">[mod_python] mod_python, best practices
</A></li>
        <LI>Next message: <A HREF="016838.html">[mod_python] Secure storage of sensitive variables,
	such as passwords
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16834">[ date ]</a>
              <a href="thread.html#16834">[ thread ]</a>
              <a href="subject.html#16834">[ subject ]</a>
              <a href="author.html#16834">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>In a mad rush just prior to going on holidays, I have decided to push 
out
Vampire 1.3. As far as I remember the last time I touched it it was 
ready,
but have just been too busy to do anything about it. The post by Rune
mentioning config files has made me decide to throw it out now as the
changes in Vampire 1.3 in that area may be mildly interesting to that
discussion. I'll post more about the config support as followup to that
separate discussion.

Vampire can be found at:

   <A HREF="http://www.dscpl.com.au/projects/vampire">http://www.dscpl.com.au/projects/vampire</A>

Check the web site for a full description of what Vampire is, but in 
short
it provides a way of better organising content handlers, plus various 
other
bits and pieces.

Changes in version 1.3 are listed below.

Enjoy.

Changes in Vampire 1.3
======================

   - Include a workaround for a bug which is present in mod_python when
     running on Win32 platform which would have caused search algorithm 
for
     config file to fail. Problem with mod_python is that it errornously
     adds a trailing '\' to the name of the directory where the original
     PythonHandler directive was declared, when it should have been '/' 
and
     should only have been added when a trailing '/' wasn't already 
present.
     The remainder of the path as supplied by Apache uses the POSIX path
     separator and this was being depended upon, but mod_python was 
breaking
     that. A separate patch is not provided in PATCHES because a 
workaround
     is possible. Bug was posted on the mod_python mailing list, although
     no one has acknowledged it is a valid problem.

   - The names of the special predefined variables defined within the
     configuration system and which are available for string 
interpolation
     in configuration have changed. New names are as follows:

       __root__  --&gt; __config_root__
       __file__  --&gt; __config_file__
       __mtime__ --&gt; __config_mtime__
       __base__  --&gt; __baseurl_abs__

     Although these are officially the new names, some tricks are done
     to ensure the old names still work for now. The names are also no
     longer added to the DEFAULT section of the config object, but are
     made available for string interpolation in another way. They thus
     will not appear in any section of the config object if names defined
     in a section are iterated over.

     The following extra special variables have also now been added.

       __handler_root__ --&gt; Where PythonHandler directive was defined.
       __baseurl_rel__  --&gt; Base URL relative to the current request.

     Although the names are no longer added into the DEFAULT section of
     the config file, they can still be accessed using the &quot;defaults()&quot;
     method of the config object returned by &quot;loadConfig()&quot;.

     Any variables defined in a .htaccess file or httpd.conf file using
     the PythonOption directive are now automatically loaded into the
     config in a way that they are also available for string 
interpolation
     without the need to explicitly specify them using the &quot;vars&quot; 
variable
     when getting the value of a configuration option.

     Variables defined in the .htaccess file using the PythonOption
     directive will themselves have string interpolation performed upon
     them when used via the configuration mechanism. Thus, one could
     actually define:

       PythonOption LayoutRoot %(__handler_root__)s

     Then in the configuration file, one can use:

       [Handlers]

       handler_html = %(LayoutRoot)s/layout/handler_html.py
       handler_pdf = %(LayoutRoot)s/layout/handler_pdf.py

     In this examples, this would be equivalent to having used:

       [Handlers]

       handler_html = %(__handler_root__)s/layout/handler_html.py
       handler_pdf = %(__handler_root__)s/layout/handler_pdf.py

     Doing it this way though, means that the .htaccess file can be used
     to set explicit values, or reference back to the dynamic values
     generated when the search for the config file was performed.

   - When turning on default content handlers using the directive:

       PythonOption VampireDefaultHandlers On

     it is now possible to override the default name of the configuration
     file used to find the default handlers and what section in that
     configuration file is consulted. Thus:

       PythonOption VampireHandlersConfig .vampire
       PythonOption VampireHandlersSection Handlers

     The values &quot;.vampire&quot; and &quot;Handlers&quot; represent the inbuilt defaults,
     but by setting these, they can be overridden.



--
Graham Dumpleton (<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">grahamd at dscpl.com.au</A>)

</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016837.html">[mod_python] mod_python, best practices
</A></li>
	<LI>Next message: <A HREF="016838.html">[mod_python] Secure storage of sensitive variables,
	such as passwords
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16834">[ date ]</a>
              <a href="thread.html#16834">[ thread ]</a>
              <a href="subject.html#16834">[ subject ]</a>
              <a href="author.html#16834">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
