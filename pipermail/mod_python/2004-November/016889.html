<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Returning a Apache return code
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Returning%20a%20Apache%20return%20code&In-Reply-To=41ACB055.8060004%40dd.revealed.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016887.html">
   <LINK REL="Next"  HREF="016891.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Returning a Apache return code</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Jorey Bump</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Returning%20a%20Apache%20return%20code&In-Reply-To=41ACB055.8060004%40dd.revealed.net"
       TITLE="[mod_python] Returning a Apache return code">list at joreybump.com
       </A><BR>
    <I>Tue Nov 30 14:25:44 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="016887.html">[mod_python] Returning a Apache return code
</A></li>
        <LI>Next message: <A HREF="016891.html">[mod_python] Returning a Apache return code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16889">[ date ]</a>
              <a href="thread.html#16889">[ thread ]</a>
              <a href="subject.html#16889">[ subject ]</a>
              <a href="author.html#16889">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Nick wrote:

&gt;<i> Note that you should almost always use 307 (moved temporarily) for a web 
</I>&gt;<i> application, because 301 tells the client to always go to the new 
</I>&gt;<i> location when the URL is requested without even asking for the original 
</I>&gt;<i> page.  I.e., the page has moved permanently, don't look here anymore.
</I>
It depends on your needs. I'm using HTTP_SEE_OTHER in my application to 
sometimes redirect POST requests to an authentication page if the login 
has expired. This tells the agent to request the new resource with GET, 
preventing it from POSTing form data to the authentication page, which 
is not under my control (or even in my site).

&gt;<i> Jorey Bump wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> Golawala, Moiz M (GE Infrastructure) wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I have am newbie and I seems to be having a problem return a
</I>&gt;&gt;&gt;<i> different apache return code. In my httpd.conf file I am using
</I>&gt;&gt;&gt;<i> PythonHandler mod_python.publisher.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> In my index.py file.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> index(req): req.header_out['Location'] = &quot;<A HREF="http://someurl:8080/">http://someurl:8080/</A> 
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  &gt; return apache.HTTP_PERMANENTLY_MOVED
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Try this:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> from mod_python import apache
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> index(req)
</I>&gt;&gt;<i>     status = apache.HTTP_MOVED_PERMANENTLY
</I>&gt;&gt;<i>     req.headers_out['Location'] = url
</I>&gt;&gt;<i>     req.status = status
</I>&gt;&gt;<i>     raise apache.SERVER_RETURN, status
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> More info:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  <A HREF="http://www.modpython.org/live/current/doc-html/pyapi-handler.html">http://www.modpython.org/live/current/doc-html/pyapi-handler.html</A>
</I>
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016887.html">[mod_python] Returning a Apache return code
</A></li>
	<LI>Next message: <A HREF="016891.html">[mod_python] Returning a Apache return code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16889">[ date ]</a>
              <a href="thread.html#16889">[ thread ]</a>
              <a href="subject.html#16889">[ subject ]</a>
              <a href="author.html#16889">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
