<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] ImportError: No module named _apache
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20ImportError%3A%20No%20module%20named%20_apache&In-Reply-To=f377591c04112215242533262a%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016822.html">
   <LINK REL="Next"  HREF="016824.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] ImportError: No module named _apache</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20ImportError%3A%20No%20module%20named%20_apache&In-Reply-To=f377591c04112215242533262a%40mail.gmail.com"
       TITLE="[mod_python] ImportError: No module named _apache">grahamd at dscpl.com.au
       </A><BR>
    <I>Mon Nov 22 19:04:32 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="016822.html">[mod_python] ImportError: No module named _apache
</A></li>
        <LI>Next message: <A HREF="016824.html">[mod_python] Getting mod_python to run in apache on an IBM AS/400
	(iSeries)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16823">[ date ]</a>
              <a href="thread.html#16823">[ thread ]</a>
              <a href="subject.html#16823">[ subject ]</a>
              <a href="author.html#16823">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Nov 22 18:24, Alan Ezust &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">alan.ezust at gmail.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Subject: Re: [mod_python] ImportError: No module named _apache
</I>&gt;<i>
</I>&gt;<i> Thanks for the reply. I got rid of the execCGI permissions in that
</I>&gt;<i> directory (I added it before because apache server was complaining
</I>&gt;<i> about how the permissions were not correct).
</I>&gt;<i> 
</I>&gt;<i> Now I point my browser to the modtest.py (a helloworld application),
</I>&gt;<i> and it asks me to open the URL with an external application, and
</I>&gt;<i> attempts to open it as text. When I do that, I can see that the script
</I>&gt;<i> has executed and the output is in the text file, but why is it not
</I>&gt;<i> opening in my browser?
</I>&gt;<i> 
</I>&gt;<i>  Is there MIME-type preamble I must spit out first?
</I>
Try this handler example:

def handler(req):
  req.content_type = &quot;text/plain&quot;
  req.send_http_header()
  req.write(&quot;Hello World!&quot;)
  return apache.OK

Thus setting &quot;req.content_type&quot; is how you set the mime type.

If you don't set it, Apache will return whatever it may have set as
its default mime type, or perhaps nothing at all depending on your
configuration. If it is sends back nothing at all, you will be at the
mercy of your browsers interpretation of any extension on the
URL you used.

Ensure that you have &quot;req.send_http_header()&quot; if you are using
mod_python 2.X. From memory, in mod_python 3.X it will emit
the headers automatically even if you don't make that call, but
in 2.X it will not.

--
Graham Dumpleton (<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">grahamd at dscpl.com.au</A>)
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016822.html">[mod_python] ImportError: No module named _apache
</A></li>
	<LI>Next message: <A HREF="016824.html">[mod_python] Getting mod_python to run in apache on an IBM AS/400
	(iSeries)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16823">[ date ]</a>
              <a href="thread.html#16823">[ thread ]</a>
              <a href="subject.html#16823">[ subject ]</a>
              <a href="author.html#16823">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
