<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] ZODB and mod_python.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20ZODB%20and%20mod_python.&In-Reply-To=41AB86E5.5000509%40sebistar.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016871.html">
   <LINK REL="Next"  HREF="016872.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] ZODB and mod_python.</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Sean Reifschneider</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20ZODB%20and%20mod_python.&In-Reply-To=41AB86E5.5000509%40sebistar.net"
       TITLE="[mod_python] ZODB and mod_python.">jafo at tummy.com
       </A><BR>
    <I>Mon Nov 29 17:45:30 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="016871.html">[mod_python] ZODB and mod_python.
</A></li>
        <LI>Next message: <A HREF="016872.html">[mod_python] ModPython, Psycopg postgresql gives segmentation fault
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16874">[ date ]</a>
              <a href="thread.html#16874">[ thread ]</a>
              <a href="subject.html#16874">[ subject ]</a>
              <a href="author.html#16874">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Nov 29, 2004 at 02:30:29PM -0600, Jon-Pierre Gentil wrote:
&gt;<i>Has anyone used ZODB with mod_python?
</I>
No, but JOTWeb (<A HREF="http://jotweb.tummy.com/">http://jotweb.tummy.com/</A>) uses the Zope 3 TAL engine.  The
code was kind of hairy to understand, but I did eventually get it working
and it's been quite happy since.  Note that they're trying to split Zope 3
up into the component parts so that you can extract just the parts you need
and not require the whole Zope install.  I've never been able to get that
to work though.  I've reported the problems I had to Fred Drake, so it may
be fixed now.

The software for getting just the parts is:

   <A HREF="http://www.zope.org/Members/fdrake/zpkgtools/">http://www.zope.org/Members/fdrake/zpkgtools/</A>

&gt;<i>I'm curious about something:  How did you keep it from loading and
</I>&gt;<i>unloading the whole database with each page request?  a global object
</I>&gt;<i>that stays instantiated?
</I>
For me, that's not an issue.  I use PostgreSQL as my data store in most
cases, and am not really that concerned in most cases about startup
overhead, so I just make a connection for every request.  It's almost
certainly lighter than making a new ZODB connection every time though.

Putting the connection in a persistent object should do the job.  Of
course, if you have multiple httpd instances running, they will each have
to make a connection, so it may take quite a few page reloads on your test
system before you notice it using the cached object.  On my test system I
make each httpd only handle one request, so I would never notice it anyway.

Sean
-- 
 There are things that are so serious that you can only joke about them.
                 -- Heisenberg
Sean Reifschneider, Member of Technical Staff &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">jafo at tummy.com</A>&gt;
tummy.com, ltd. - Linux Consulting since 1995.  Qmail, Python, SysAdmin
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016871.html">[mod_python] ZODB and mod_python.
</A></li>
	<LI>Next message: <A HREF="016872.html">[mod_python] ModPython, Psycopg postgresql gives segmentation fault
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16874">[ date ]</a>
              <a href="thread.html#16874">[ thread ]</a>
              <a href="subject.html#16874">[ subject ]</a>
              <a href="author.html#16874">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
