<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Directory separator in uri/filename on Win32.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Directory%20separator%20in%20uri/filename%20on%20Win32.&In-Reply-To=0AE001DC-3239-11D9-89D9-000393DCF16E%40dscpl.com.au">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016777.html">
   <LINK REL="Next"  HREF="016782.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Directory separator in uri/filename on Win32.</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Directory%20separator%20in%20uri/filename%20on%20Win32.&In-Reply-To=0AE001DC-3239-11D9-89D9-000393DCF16E%40dscpl.com.au"
       TITLE="[mod_python] Directory separator in uri/filename on Win32.">grahamd at dscpl.com.au
       </A><BR>
    <I>Wed Nov 10 03:24:25 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="016777.html">[mod_python] Directory separator in uri/filename on Win32.
</A></li>
        <LI>Next message: <A HREF="016782.html">[mod_python] Directory separator in uri/filename on Win32.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16781">[ date ]</a>
              <a href="thread.html#16781">[ thread ]</a>
              <a href="subject.html#16781">[ subject ]</a>
              <a href="author.html#16781">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 09/11/2004, at 9:20 PM, Graham Dumpleton wrote:

&gt;<i>
</I>&gt;&gt;<i> No, Apache normalises it to the POSIX convention (as is done in 
</I>&gt;&gt;<i> apache config files):
</I>&gt;&gt;<i> req.uri: /demo/css/nounderlinelinks.css
</I>&gt;&gt;<i> req.filename: C:/Temp/jSuite.py/jLogbook/html/demo
</I>&gt;&gt;<i> (where my handler is set with SetHandler in the demo directory, thats 
</I>&gt;&gt;<i> why its truncated)
</I>&gt;&gt;<i> Hope that helps
</I>&gt;<i>
</I>&gt;<i> Thanks, that does help.
</I>&gt;<i>
</I>&gt;<i> One more question though. Does the use of POSIX path conventions 
</I>&gt;<i> extend to
</I>&gt;<i> other areas where a path might be defined internally by mod_python?
</I>&gt;<i>
</I>&gt;<i> For example, I use the following code to effectively determine the 
</I>&gt;<i> directory
</I>&gt;<i> where the PythonHandler which applies to the request being serviced 
</I>&gt;<i> was set.
</I>&gt;<i>
</I>&gt;<i>     if hasattr(req,&quot;hlist&quot;):
</I>&gt;<i>       # In mod_python 3.X have the req.hlist member.
</I>&gt;<i>       root = req.hlist.directory
</I>&gt;<i>
</I>&gt;<i>     elif hasattr(req,&quot;get_dirs&quot;):
</I>&gt;<i>       # In mod_python 2.X have the req.get_dirs() method.
</I>&gt;<i>       root = req.get_dirs()[&quot;PythonHandler&quot;]
</I>&gt;<i>
</I>&gt;<i> Is &quot;root&quot; going to also use POSIX path convention. This may depend 
</I>&gt;<i> more on how
</I>&gt;<i> mod_python is implemented than Apache depending on how mod_python 
</I>&gt;<i> determines
</I>&gt;<i> what value is used for this.
</I>
Is anyone able to run the check for me to answer my extra question about
what the handler directory is set to on Win32 platform? Ie., 
confirmation
that it also still uses POSIX directory separate convention and not 
Win32.

The required publisher code is:

def index(req):

   root = &quot;???&quot;

   if hasattr(req,&quot;hlist&quot;):
     # In mod_python 3.X have the req.hlist member.
     root = req.hlist.directory

   elif hasattr(req,&quot;get_dirs&quot;):
     # In mod_python 2.X have the req.get_dirs() method.
     root = req.get_dirs()[&quot;PythonHandler&quot;]

   return root

Thanks in advance.



--
Graham Dumpleton (<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">grahamd at dscpl.com.au</A>)

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016777.html">[mod_python] Directory separator in uri/filename on Win32.
</A></li>
	<LI>Next message: <A HREF="016782.html">[mod_python] Directory separator in uri/filename on Win32.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16781">[ date ]</a>
              <a href="thread.html#16781">[ thread ]</a>
              <a href="subject.html#16781">[ subject ]</a>
              <a href="author.html#16781">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
