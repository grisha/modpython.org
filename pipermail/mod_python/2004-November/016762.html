<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] cookies and redirects
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20cookies%20and%20redirects&In-Reply-To=418C9943.7040604%40johnaherne.co.uk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016761.html">
   <LINK REL="Next"  HREF="016773.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] cookies and redirects</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>michael bayer</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20cookies%20and%20redirects&In-Reply-To=418C9943.7040604%40johnaherne.co.uk"
       TITLE="[mod_python] cookies and redirects">mike_mp at zzzcomputing.com
       </A><BR>
    <I>Sat Nov  6 11:11:03 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="016761.html">[mod_python] cookies and redirects
</A></li>
        <LI>Next message: <A HREF="016773.html">[mod_python] cookies and redirects
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16762">[ date ]</a>
              <a href="thread.html#16762">[ thread ]</a>
              <a href="subject.html#16762">[ subject ]</a>
              <a href="author.html#16762">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
an internal redirect is within the context of a single request; apache 
hasnt closed the original connection or anything.  If you want to see a 
cookie you just set, its still there in the response headers you set 
up...just pull it out again !

but i guess you are looking to see that the browser successfully 
accepted the cookie by seeing if it comes back again.  in that case you 
have to use an external redirect of some kind, yes.



On Nov 6, 2004, at 4:28 AM, John Aherne wrote:

&gt;<i> mike bayer wrote:
</I>&gt;<i>
</I>&gt;&gt;&gt;<i> John Aherne wrote:
</I>&gt;&gt;&gt;<i> External redirect, particularly a 307 redirect for HTTP/1.1 clients, 
</I>&gt;&gt;&gt;<i> is
</I>&gt;&gt;&gt;<i> generally the best way to handle changing a location in response to a
</I>&gt;&gt;&gt;<i> request.  Using a 307 means the client's back button works right, 
</I>&gt;&gt;&gt;<i> reload
</I>&gt;&gt;&gt;<i> works right, and the URL location bar works right.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I have never seen a 307 redirect used before, so I will admit my 
</I>&gt;&gt;<i> ignorance
</I>&gt;&gt;<i> of it as well as its usablity.  But big sites like Yahoo! etc. use 
</I>&gt;&gt;<i> &quot;302
</I>&gt;&gt;<i> Found&quot; combined with the Location: header (I just double checked) to 
</I>&gt;&gt;<i> send
</I>&gt;&gt;<i> the client elsewhere, as does the &quot;Redirect&quot; directive in Apache.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Which is not to say the 307 is not a better way, but is it very well
</I>&gt;&gt;<i> supported and predictable across all browsers ?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If you really want a seamless redirect with zero side effects, an 
</I>&gt;&gt;<i> internal
</I>&gt;&gt;<i> redirect, i.e. an server-side change of output within the scope of one
</I>&gt;&gt;<i> request, is best, if your application can support them.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Also, an external redirect is often used specifically to prevent 
</I>&gt;&gt;<i> reloads
</I>&gt;&gt;<i> and back button usage, as in the case of an ecommerce submit form 
</I>&gt;&gt;<i> that you
</I>&gt;&gt;<i> dont want submitted a second time by accident.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I tend to use external redirects only for that reason, i.e. to prevent
</I>&gt;&gt;<i> form reloads, and otherwise internal redirects for everything else, 
</I>&gt;&gt;<i> which
</I>&gt;&gt;<i> are particularly useful since you can more easily preserve the request
</I>&gt;&gt;<i> state among the original and redirected pages.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> - mike
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mod_python mailing list
</I>&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i> Am I mistaken. But I thought I needed to do an external rediect to get 
</I>&gt;<i> back the cookie I had just set from the browser.
</I>&gt;<i>
</I>&gt;<i> I assumed that an internal redirect would not do this.
</I>&gt;<i>
</I>&gt;<i> John Aherne
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016761.html">[mod_python] cookies and redirects
</A></li>
	<LI>Next message: <A HREF="016773.html">[mod_python] cookies and redirects
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16762">[ date ]</a>
              <a href="thread.html#16762">[ thread ]</a>
              <a href="subject.html#16762">[ subject ]</a>
              <a href="author.html#16762">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
