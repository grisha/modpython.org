<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] Problems with mod_python
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Problems%20with%20mod_python&In-Reply-To=52759.1201134205%40manray.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024742.html">
   <LINK REL="Next"  HREF="024744.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] Problems with mod_python</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20Problems%20with%20mod_python&In-Reply-To=52759.1201134205%40manray.com"
       TITLE="[mod_python] Problems with mod_python">graham.dumpleton at gmail.com
       </A><BR>
    <I>Wed Jan 23 19:40:32 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="024742.html">[mod_python] Problems with mod_python
</A></li>
        <LI>Next message: <A HREF="024744.html">[mod_python] Problems with mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24743">[ date ]</a>
              <a href="thread.html#24743">[ thread ]</a>
              <a href="subject.html#24743">[ subject ]</a>
              <a href="author.html#24743">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 24/01/2008, Martha Zimet &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">zimet at manray.com</A>&gt; wrote:
&gt;<i> I got it working.. It was something weird. apapchectl restart did not
</I>&gt;<i> seem to reread the httpd.conf file even though it acted like it did
</I>&gt;<i> when I specified the -t option, When I did a apachectl stop and then
</I>&gt;<i> apapchectl start it suddenly started to work.
</I>
Progress at least. :-)

&gt;<i> Now, I am getting this error:
</I>&gt;<i>
</I>&gt;<i> Mod_python error: &quot;PythonHandler mptest&quot;
</I>&gt;<i>
</I>&gt;<i> Traceback (most recent call last):
</I>&gt;<i>
</I>&gt;<i>   File &quot;/usr/lib/python2.4/site-packages/mod_python/apache.py&quot;, line 287, in
</I>&gt;<i> HandlerDispatch
</I>&gt;<i>     log=debug)
</I>&gt;<i>
</I>&gt;<i>   File &quot;/usr/lib/python2.4/site-packages/mod_python/apache.py&quot;, line 454, in
</I>&gt;<i> import_module
</I>&gt;<i>     f, p, d = imp.find_module(parts[i], path)
</I>&gt;<i>
</I>&gt;<i> ImportError: No module named mptest
</I>&gt;<i>
</I>&gt;<i> where mptest is the Python program I have specified as the handler.
</I>&gt;<i> I am assuming that I need to do something with the PythonPath directive.
</I>&gt;<i> Is that correct?
</I>
The directory context that the PythonHandler directive is specified in
should be automatically added to Python sys.path unless you have
already specified the PythonPath directive at some scope which
overrides that and thus disables the automatic addition of the path.

So, at the moment are you using main Apache configuration or .htaccess
for setting up PythonHandler directive? Can you show the latest
Directory configuration snippet and .htaccess files?

PS, please keep the discussion on the list. That way it is archived
and others can learn from it.

Graham

&gt;<i> Thanks again.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i>
</I>&gt;<i> /martha
</I>&gt;<i>
</I>&gt;<i> On Thu Jan 24 10:23 , 'Graham Dumpleton' &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">graham.dumpleton at gmail.com</A>&gt; sent:
</I>&gt;<i>
</I>&gt;<i> &gt;The only other suggestion is to check the file permissions of the
</I>&gt;<i> &gt;.htaccess file. It must be readable to Apache user. Thus maybe you
</I>&gt;<i> &gt;need:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;  chmod 0644 .htaccess
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Graham
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;On 24/01/2008, Martha Zimet <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">zimet at manray.com</A>&gt; wrote:
</I>&gt;<i> &gt;&gt; This is what *exactly* I have in my httpd.conf file in the
</I>&gt;<i> &gt;&gt; Directory section after the Directory specification for the
</I>&gt;<i> &gt;&gt; server root directory:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;     AllowOverride FileInfo
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I have tried many permutations, with and without double quotes,
</I>&gt;<i> &gt;&gt; specifying All instead of FileInfo, trying different directory names, etc.
</I>&gt;<i> &gt;&gt; No matter what I do, the .htaccess file is not being read at all.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Thanks for all your help and I am sorry to be a bother.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Regards,
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; /martha
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; On Thu Jan 24  9:31 , 'Graham Dumpleton' <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">graham.dumpleton at gmail.com</A>&gt; sent:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;Just make sure you don't have multiple AllowOverride lines in the same
</I>&gt;<i> &gt;&gt; &gt;Directory context block as from memory they aren't cumulative. Thus a
</I>&gt;<i> &gt;&gt; &gt;later one will wipe out settings from an earlier one.
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt;Graham
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt;On 24/01/2008, Martha Zimet <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">zimet at manray.com</A>&gt; wrote:
</I>&gt;<i> &gt;&gt; &gt;&gt; It looks like .htacess is not being read and and I entered
</I>&gt;<i> &gt;&gt; &gt;&gt; the AllowOverride FileInfo directive as you suggested. The
</I>&gt;<i> &gt;&gt; &gt;&gt; directives were entered in the Directory section of httpd.conf.
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; I will keep trying..
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; Regards,
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; /martha
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; On Thu Jan 24  8:55 , &quot;Graham Dumpleton&quot;  sent:
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;For the .htaccess method did you validate that the .htaccess file was
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;actually being used by Apache? The easiest way to do this is to add
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;some crap in it to trigger a syntax error. This should cause a 500
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;error response to come back. So, add into your .htaccess file:
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;  XXXX Some Crap XXXX
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;If you don't get a 500 error, then you likely don't have FileInfo
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;override specified for that directory and so Apache is ignoring the
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;file.
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;Graham
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;On 24/01/2008, Martha Zimet <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">zimet at manray.com</A>&gt; wrote:
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; I am running Linux, kernel 2.6.22.
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; I have tried the configuration methods using .htaccess and
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; httpd.conf. I have tried using the complete path name
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; in httpd.conf (the physical directory) as well. Your
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; desscription in the first URL you sent was quite good.
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; Regards,
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; /martha
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; On Thu Jan 24  7:24 , &quot;Graham Dumpleton&quot;  sent:
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;On 24/01/2008, Martha Zimet <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">zimet at manray.com</A>&gt; wrote:
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; I have followed your nstructions and I am still running into
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; the same problem, that is, only the source displays. I am running
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; mod_pyton version 3.1 have verified that is is indeed loaded
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; by checking the httpd error log per the document you referred
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; me to.
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;Did you try the .htaccess method in those instructions rather than
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;trying to do it in your main Apache configuration file?
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;What operating system are you using?
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; Any more suggestions? My configuration file has the following:
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;Is this what you have for real?
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;The argument to the Directory directive is meant to be an actual
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;physical directory, not a URL path component.
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;Graham
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;     AddHandler mod_python .py
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;     PythonHandler mptest
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;     PythonDebug On
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; I have tried it also with a /test directory with the same result.
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; Any light you can shed would be greatly appreciated.
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; Regards,
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; /martha
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; On Thu Jan 24  6:30 , &quot;Graham Dumpleton&quot;  sent:
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;Try following procedure documented in:
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;
</I>&gt;<i> <A HREF="http://www.dscpl.com.au/wiki/ModPython/Articles/GettingModPythonWorking">http://www.dscpl.com.au/wiki/ModPython/Articles/GettingModPythonWorking</A>
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;Do all the checks it talks about to make sure things are configured
</I>&gt;<i> &gt;&gt; correctly.
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;Graham
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;On 24/01/2008, Martha Zimet <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">zimet at manray.com</A>&gt; wrote:
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; I am having problems getting mod_python to work correctly.
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; I am following the directions in
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> <A HREF="http://www.modpython.org/live/mod_python-3.2.8/doc-html/inst-testing.html">http://www.modpython.org/live/mod_python-3.2.8/doc-html/inst-testing.html</A>
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; and have written a mptest.py. However, when I access mptest.py from my
</I>&gt;<i> &gt;&gt; &gt;&gt; browser,
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; the code does not execute and all I get is the text for mptest.py
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; displaying in the browser window. For example:
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; from mod_python import apache
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; def handler(req):
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;     req.content_type = 'text/plain'
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;     req.write(&quot;Hello World!&quot;)
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;     return apache.OK
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; Does anyone have any suggestions on what could be wrong with my
</I>&gt;<i> &gt;&gt; installation
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; or how I can further diagnose this problem? Thanks in advance and I
</I>&gt;<i> &gt;&gt; &gt;&gt; apologize
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; if this situation has been answered before.
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; Mod_python mailing list
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024742.html">[mod_python] Problems with mod_python
</A></li>
	<LI>Next message: <A HREF="024744.html">[mod_python] Problems with mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24743">[ date ]</a>
              <a href="thread.html#24743">[ thread ]</a>
              <a href="subject.html#24743">[ subject ]</a>
              <a href="author.html#24743">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42971867-2', 'modpython.org');
  ga('send', 'pageview');
</script>

</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
