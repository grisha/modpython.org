<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] remnant 'orphan' apache subprocesses
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20remnant%20%27orphan%27%20apache%20subprocesses&In-Reply-To=002601c85d6a%2496f982b0%24c4ec8810%24%40com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024719.html">
   <LINK REL="Next"  HREF="024721.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] remnant 'orphan' apache subprocesses</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20remnant%20%27orphan%27%20apache%20subprocesses&In-Reply-To=002601c85d6a%2496f982b0%24c4ec8810%24%40com"
       TITLE="[mod_python] remnant 'orphan' apache subprocesses">graham.dumpleton at gmail.com
       </A><BR>
    <I>Tue Jan 22 22:00:08 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="024719.html">[mod_python] remnant 'orphan' apache subprocesses
</A></li>
        <LI>Next message: <A HREF="024721.html">[mod_python] remnant 'orphan' apache subprocesses
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24720">[ date ]</a>
              <a href="thread.html#24720">[ thread ]</a>
              <a href="subject.html#24720">[ subject ]</a>
              <a href="author.html#24720">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 23/01/2008, Alec Matusis &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">matusis at yahoo.com</A>&gt; wrote:
&gt;<i> &gt; (gdb) thread apply all bt
</I>&gt;<i>
</I>&gt;<i> Thread 1 (Thread 1111562592 (LWP 3812)):
</I>&gt;<i> #0  0x00002aaaab2c94df in sem_wait () from /lib64/tls/libpthread.so.0
</I>&gt;<i> #1  0x00002aaaac204dcd in PyThread_acquire_lock (lock=0x5b7820, waitflag=1)
</I>
Hmmm, there should have been 39 other stack traces, one for each
worker thread based on your Apache configuration.

Don't necessarily post them all, but you should look and see what is
in frame #0 for all of them and see if there is anything odd such as
one blocking in a call out to some external C library. If no such
thing and they are all stuck on Python mutex locks, then must be
internal deadlock.

This still doesn't explain though how the process has been associated
with PPID of 1, which would  still only seem possible if something had
tried to daemonise process.

Graham

Graham
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024719.html">[mod_python] remnant 'orphan' apache subprocesses
</A></li>
	<LI>Next message: <A HREF="024721.html">[mod_python] remnant 'orphan' apache subprocesses
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24720">[ date ]</a>
              <a href="thread.html#24720">[ thread ]</a>
              <a href="subject.html#24720">[ subject ]</a>
              <a href="author.html#24720">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
