<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] A question about running 2 apps with
  mod_python
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20A%20question%20about%20running%202%20apps%20with%0A%20%20mod_python&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024671.html">
   <LINK REL="Next"  HREF="024678.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] A question about running 2 apps with
  mod_python</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Chris Guin</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20A%20question%20about%20running%202%20apps%20with%0A%20%20mod_python&In-Reply-To="
       TITLE="[mod_python] A question about running 2 apps with
  mod_python">cguin at bbn.com
       </A><BR>
    <I>Wed Jan 16 17:09:34 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="024671.html">[mod_python] A question about running 2 apps with mod_python
</A></li>
        <LI>Next message: <A HREF="024678.html">[mod_python] A question about running 2 apps with mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24677">[ date ]</a>
              <a href="thread.html#24677">[ thread ]</a>
              <a href="subject.html#24677">[ subject ]</a>
              <a href="author.html#24677">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for the response!

My httpd.conf was not set up to use VirtualHosts at all - it simply 
uses different Location defintions, separated by distinct 
PythonInterpreter directives, to send URLs to the correct Django 
application.  Just to make sure there wasn't some arcane httpd 
feature that required the definition of at least 1 VirtualHost, I 
enclosed all my Location definitions in one VirtualHost and restarted 
httpd to no avail.  (httpd -S seemed to like my VirtualHost 
definition, so I know it is at least syntactically correct).

The problem is still largely random, but only seems to occur when 20 
or more users are logged in, and can sometimes be fixed by restarting 
httpd.  The Django documentation suggests that httpd.worker should 
not be used, but without giving any reason for it.  It may be that my 
problem is more Django related than mod_python related, so I'll see 
what if anyone on the boards over in Django land can help.

Thanks,
Chris Guin

At 06:15 PM 1/15/2008, you wrote:
&gt;<i>Have you defined NameVirtualHost directive properly. Lack of this
</I>&gt;<i>directive when using multiple VirtualHost definitions is normally the
</I>&gt;<i>cause of such mixing of site pages.
</I>&gt;<i>
</I>&gt;<i>Graham
</I>&gt;<i>
</I>&gt;<i>On 16/01/2008, Chris Guin &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">cguin at bbn.com</A>&gt; wrote:
</I>&gt;<i> &gt; We've recently switched to using worker mpm instead of prefork, and
</I>&gt;<i> &gt; things have mostly been going smoothly.  Our server is running 2
</I>&gt;<i> &gt; Django applications, one of which is forum software.  Their URL
</I>&gt;<i> &gt; spaces are entirely distinct, and each &quot;Location&quot; in httpd.conf has
</I>&gt;<i> &gt; been set to use one of two different PythonInterpreters depending on
</I>&gt;<i> &gt; the app it services.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; We've noticed that regular accesses to the forum pages will randomly
</I>&gt;<i> &gt; (about 50% of the time) call up the 404 page for the other
</I>&gt;<i> &gt; application.  We've noticed no similar problems in the reverse
</I>&gt;<i> &gt; direction (from the other app to the forums).  Refreshing the 404
</I>&gt;<i> &gt; page eventually gets us to the forum.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The randomness of the error suggests to me that it has to do with
</I>&gt;<i> &gt; which httpd.worker process or thread is picking up the request, but I
</I>&gt;<i> &gt; can't explain what difference it would make.  Since we have switched
</I>&gt;<i> &gt; to worker from prefork, I suspect this may be at fault somehow.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Any insight would be tremendously appreciated!
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Chris Guin
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mod_python mailing list
</I>&gt;<i> &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> &gt; <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i> &gt;
</I>

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024671.html">[mod_python] A question about running 2 apps with mod_python
</A></li>
	<LI>Next message: <A HREF="024678.html">[mod_python] A question about running 2 apps with mod_python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24677">[ date ]</a>
              <a href="thread.html#24677">[ thread ]</a>
              <a href="subject.html#24677">[ subject ]</a>
              <a href="author.html#24677">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
