<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] providing REST style interfaces
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20providing%20REST%20style%20interfaces&In-Reply-To=20080104181119.GA23853%40asu.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024632.html">
   <LINK REL="Next"  HREF="024627.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] providing REST style interfaces</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Deron Meranda</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20providing%20REST%20style%20interfaces&In-Reply-To=20080104181119.GA23853%40asu.edu"
       TITLE="[mod_python] providing REST style interfaces">deron.meranda at gmail.com
       </A><BR>
    <I>Fri Jan  4 14:21:41 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="024632.html">[mod_python] providing REST style interfaces
</A></li>
        <LI>Next message: <A HREF="024627.html">[mod_python] Trouble on OSX - Leopard again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24633">[ date ]</a>
              <a href="thread.html#24633">[ thread ]</a>
              <a href="subject.html#24633">[ subject ]</a>
              <a href="author.html#24633">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Jan 4, 2008 1:11 PM, David Bear &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">David.Bear at asu.edu</A>&gt; wrote:
&gt;<i> WOW. Thanks. This is a great descriptions on REST and the most
</I>&gt;<i> understandable I've looked at. The code is the teacher.
</I>
Just be aware that my code snippet is intentionally simplisitic.
I'm trying to show the big picture ideas while leaving out many
important details.

When writting an application for real use you need to pay
attention to some other things.  In general, REST applications
are much closer to the HTTP protocol, so it is important to
become very familiar with the HTTP protocol.  Whereas SOA
services just use the bare minimum HTTP functionaility and use
it as nothing more than a message transport; REST actually tries
to use as much of the HTTP protocol functionality as possible
and in the way it was intended to be used.  Read the RFC 2616
    -- <A HREF="http://tools.ietf.org/html/rfc2616">http://tools.ietf.org/html/rfc2616</A>

First, you must be very aware of the different semantics of
all the different methods, such as the difference between a
POST and a PUT.  If you use them incorrectly it can cause all
kinds of weird problems with things like caching, proxying, etc.
You also need to be much more concious of what HTTP
result codes you return; e.g., 200, 404, 405, 304, etc.

One of the things I left out of my code is when returning
a 405 (METHOD NOT ALLOWED), you must also set
the Allow: header in the error response to be the list of
all the supported methods on that resource.  Example:

    req.err_headers_out['Allow'] = 'GET, PUT, DELETE'
    raise apache.SERVER_RETURN, apache.HTTP_METHOD_NOT_ALLOWED

You should also look for the presence of all request headers
that are like Accept-XXXX:  or  If-XXXX:.  Even if you don't
handle these complexities, you should many times return an error
such as a 406 (NOT ACCEPTABLE) if the client has requested
special semantics that you are not ready to deal with.

And a rich REST &quot;application&quot; could choose to implement
even more of the HTTP functionality.  The HTTP headers
(both on the request and the response) are where much of the
power comes.  It can get quite involved if you do everything,
but I've successfully done all of these using just mod_python,
so it's possible.

 * content negotiation (mulitple respresentations of the same resource)
      Using the same URL I can serve up data as HTML, JSON, or XML
 * etags (for version control, lost-update prevention, cache validation)
      Etags make up for REST being stateless
 * partial content/range requests (handling very large content)
      This is very tricky to do, but can be powerful for some things
 * content encodings and transforms
      The phyical content (bytes) may differ from the logical content
-- 
Deron Meranda
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024632.html">[mod_python] providing REST style interfaces
</A></li>
	<LI>Next message: <A HREF="024627.html">[mod_python] Trouble on OSX - Leopard again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24633">[ date ]</a>
              <a href="thread.html#24633">[ thread ]</a>
              <a href="subject.html#24633">[ subject ]</a>
              <a href="author.html#24633">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
