<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mod_python] can't seem to expire a cookie value
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20can%27t%20seem%20to%20expire%20a%20cookie%20value&In-Reply-To=50446.67.122.209.91.1200955138.squirrel%40webmail.wageslavery.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024691.html">
   <LINK REL="Next"  HREF="024693.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mod_python] can't seem to expire a cookie value</H1>
<table border=0 width="100%"><tr><td valign="top">
    <B>Graham Dumpleton</B> 
    <A HREF="mailto:mod_python%40modpython.org?Subject=%5Bmod_python%5D%20can%27t%20seem%20to%20expire%20a%20cookie%20value&In-Reply-To=50446.67.122.209.91.1200955138.squirrel%40webmail.wageslavery.org"
       TITLE="[mod_python] can't seem to expire a cookie value">graham.dumpleton at gmail.com
       </A><BR>
    <I>Mon Jan 21 18:13:15 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="024691.html">[mod_python] can't seem to expire a cookie value
</A></li>
        <LI>Next message: <A HREF="024693.html">[mod_python] can't seem to expire a cookie value
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24692">[ date ]</a>
              <a href="thread.html#24692">[ thread ]</a>
              <a href="subject.html#24692">[ subject ]</a>
              <a href="author.html#24692">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Have you checked what the actual cookie header returned to the browser
is and verified that what is in it is what you expect? Post the value
of the header here so we can see it.

Use FireFox live headers extension to see value of header, or in your
mod_python code output to error log file the output of req.headers_out
or req.err_headers_out to see what it is.

Graham

On 22/01/2008, Matt Barnicle &lt;<A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">mattb at wageslavery.org</A>&gt; wrote:
&gt;<i> &gt; 21 January 2008 Monday 10:49:57 tarihinde Matt Barnicle &#351;unlar&#305;
</I>&gt;<i> yazm&#305;&#351;t&#305;:
</I>&gt;<i> &gt;&gt; understand it, if i want to effectively remove a cookie from the UA, there
</I>&gt;<i> &gt;&gt; is no way to do it, so u just have to set the expiry date to a time in the
</I>&gt;<i> &gt;&gt; past, right?  but any efforts i make seem to fail.  here is the code:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; cookie = Cookie.Cookie('user_name', cookies['user_name'].value)
</I>&gt;<i> cookie.expires = int(time.time()) - 31536000 # minus 1 year from now
</I>&gt;<i> Cookie.add_cookie(self.req, cookie)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Might be a problem of using int(), examples in the mod_python
</I>&gt;<i> &gt; documentation don't use int():
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; <A HREF="http://www.modpython.org/live/current/doc-html/pyapi-cookie-example.html">http://www.modpython.org/live/current/doc-html/pyapi-cookie-example.html</A>
</I>&gt;<i>
</I>&gt;<i> i first tried it exactly like in the docs, then i tried int bc i know the
</I>&gt;<i> official way to do it is to use int seconds since GMT...  i also tried
</I>&gt;<i> splitting time.time() on the period, and taking the int value of the first
</I>&gt;<i> bit.  anyways it works ok when i log in then i check my cookies using
</I>&gt;<i> firefox web developer toolbar, it just doesn't seem to want to expire the
</I>&gt;<i> cookie when i use this method..
</I>&gt;<i>
</I>&gt;<i> - m@
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mod_python mailing list
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">Mod_python at modpython.org</A>
</I>&gt;<i> <A HREF="http://mailman.modpython.org/mailman/listinfo/mod_python">http://mailman.modpython.org/mailman/listinfo/mod_python</A>
</I>&gt;<i>
</I>
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024691.html">[mod_python] can't seem to expire a cookie value
</A></li>
	<LI>Next message: <A HREF="024693.html">[mod_python] can't seem to expire a cookie value
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24692">[ date ]</a>
              <a href="thread.html#24692">[ thread ]</a>
              <a href="subject.html#24692">[ subject ]</a>
              <a href="author.html#24692">[ author ]</a>
         </LI>
       </UL>

</td>
<td align="right" valign="top">
<script type="text/javascript"><!--
google_ad_client = "pub-9718360309690383";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="DISABLEhttp://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</table>

<hr>
<a href="http://mailman.modpython.org/mailman/listinfo/mod_python">More information about the Mod_python
mailing list</a><br>
</body></html>
